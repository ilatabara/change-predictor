id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fironic-python-agent~stable%2Fwallaby~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,stable/wallaby,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-04-14 00:15:14.000000000,2022-05-30 06:04:03.000000000,2022-05-30 06:02:46.000000000,"[{'_account_id': 9535}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-14 00:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f48b15e10b36c92b076572b30179d79fbc4b809', 'message': 'WIP: Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered.\n\nUltimately, this prevents IO errors from occuring\non standby inactive devices, and prevents multiple\nattempts to wipe base devices, and ultimately locking\nIO errors with concurrent access outside of the device\nmapper device.\n\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}, {'number': 2, 'created': '2022-04-19 14:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e1f0a4c3df885ac4e219f70caa08ac9c780c0cc9', 'message': 'WIP: Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered.\n\nUltimately, this prevents IO errors from occuring\non standby inactive devices, and prevents multiple\nattempts to wipe base devices, and ultimately locking\nIO errors with concurrent access outside of the device\nmapper device.\n\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}, {'number': 3, 'created': '2022-04-20 17:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/11f295f5b73f2d2c2847aa2f52923a9ff889a98f', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}, {'number': 4, 'created': '2022-04-26 14:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/db3b86e98ebcddda26e371d4a28f94d48612bf52', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}, {'number': 5, 'created': '2022-04-27 13:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/866f9a997a490d9a03db9d800f169a033b134d15', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}, {'number': 6, 'created': '2022-05-19 18:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b29a11e6e94fc52da0990e8580846caab3038f49', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}, {'number': 7, 'created': '2022-05-19 18:31:37.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/668cd217967c6d114cec2241e97d3cfaee1a7a74', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n'}]",19,837784,668cd217967c6d114cec2241e97d3cfaee1a7a74,33,4,7,15519,,,0,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/84/837784/7 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,5f48b15e10b36c92b076572b30179d79fbc4b809,multipath-wallaby,"MULTIPATH_DETECTED = None def _is_multipath_enabled(): """"""Check, remember, and start multipath tools is present."""""" global MULTIPATH_DETECTED if MULTIPATH_DETECTED is not None: return MULTIPATH_DETECTED try: il_utils.execute('multipath', '-h') # This might not work, ideally it *should* already be running... # NOTE(TheJulia): Testing locally, a prior running multipathd, the # explicit multipathd start just appears to silently exit with a # result code of 0. il_utils.execute('multipathd') # This is mainly to get the kernel to actually do the needful and # identify paths. Maybe save output for later. il_utils.execute('multipath', '-ll') MULTIPATH_DETECTED = True except FileNotFoundError as e: LOG.warning('Attempted to determine if multipath tools were present. ' 'Not detected. Error recorded: %s', e) MULTIPATH_DETECTED = False def _is_multipath_device(device): """"""Check and return a multipath device."""""" try: # Explicitly run the check as regardless of if the device is mpath or # not, multipath tools when using list always exits with a return # code of 0. il_utils.execute('multipath', '-c', device) # path check with return an exit code of 1 if you send it a multipath # device mapper device, like dm-0. out, _ = il_utils.execute('multipath', '-ll', device) except FileNotFoundError as e: LOG.debug('Checked device %(dev)s and determined it was ' 'not a multipath device. %(error)s', {'dev': device, 'error': e}) # Data format: # MPATHDEVICENAME dm-0 TYPE,HUMANNAME # size=56G features='1 retain_attached_hw_handler' hwhandler='0' wp=rw # `-+- policy='service-time 0' prio=1 status=active # `- 0:0:0:0 sda 8:0 active ready running lines = out.splitlines() mpath_device = lines[0].split(' ')[1] # give back something like dm-0 so we can log it. return mpath_device def get_component_devices(raid_device): ignore_empty=True, ignore_multipath=True): :param ignore_multipath: wheter to ignore multipath devices if not ignore_multipath: # Make the calls to trigger multipathd _is_multipath_enabled() mpath_devices = [] if ignore_multipath and _is_multipath_enabled(): if _is_multipath_device(device): # Net result, if /dev/sda is supporting multipath # then we ignore it. We end up considering the dm device # as a result continue if _is_multipath_enabled() and not ignore_multipath: kname = device.get('KNAME') for known_dev in mpath_devices: if known_dev in kname: # identify /dev/sda1 if /dev/sda is a known mpath parent # then skip the device. LOG.warning( ""It appears we have identified device %(device) "" ""as a multipath device %(mpath_dev)s. Ignoring."", {'device': kname, 'mpath_dev': known_dev}) continue is_mpath = _is_multipath_device(device) # NOTE(TheJulia): Downside of multipath, if mpath is present if is_mpath: mpath_devices.append(kname) LOG.warning( ""We have identified a multipath device. %(device)s "" ""is being ignored in favor of %(mpath_device)s."", {'device': kname, 'mpath_device': is_mpath}) continue # Net result of mpath logic is we use dm-0 instead of /dev/sda ",def _get_component_devices(raid_device): ignore_empty=True):,90,3
openstack%2Fbarbican~stable%2Fyoga~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/yoga,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 15:45:29.000000000,2022-05-30 05:53:10.000000000,2022-05-30 05:51:59.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 15:45:29.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/29e8fd054dbee79be2403e81fbe864aef8773ffe', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",0,843529,29e8fd054dbee79be2403e81fbe864aef8773ffe,7,2,1,9914,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/29/843529/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py']",2,29e8fd054dbee79be2403e81fbe864aef8773ffe,," check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' +"," check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" +",24,16
openstack%2Fheat~master~Iecec295856c0d5b7769f6f8608869c133e38bde4,openstack/heat,master,Iecec295856c0d5b7769f6f8608869c133e38bde4,Imported Translations from Zanata,MERGED,2022-05-26 02:50:47.000000000,2022-05-30 04:29:31.000000000,2022-05-30 04:27:56.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:50:47.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/dd4d2f2dc00ce81c99ae529a74c5b4d80ec79209', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iecec295856c0d5b7769f6f8608869c133e38bde4\n'}]",0,843368,dd4d2f2dc00ce81c99ae529a74c5b4d80ec79209,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iecec295856c0d5b7769f6f8608869c133e38bde4
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/843368/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,dd4d2f2dc00ce81c99ae529a74c5b4d80ec79209,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-05-25 07:40+0000\n""""PO-Revision-Date: 2022-05-25 09:20+0000\n""msgid ""13.1.0-19"" msgstr ""13.1.0-19"" msgid ""15.1.0"" msgstr ""15.1.0""msgid ""17.0.0"" msgstr ""17.0.0"" msgid ""18.0.0"" msgstr ""18.0.0"" msgid ""18.0.0-4"" msgstr ""18.0.0-4"" ""Allow Heat resources to accept more than one required_service_extension. For "" ""cases where a resource required multiple service extensions. A developer can "" ""now provide a list of those extensions."" msgstr """" ""Allow Heat resources to accept more than one required_service_extension. For "" ""cases where a resource required multiple service extensions. A developer can "" ""now provide a list of those extensions."" msgid """"""Now the ``[DEFAULT] shared_services_types`` option includes ``volumev3`` "" ""service type by default."" msgstr """" ""Now the ``[DEFAULT] shared_services_types`` option includes ``volumev3`` "" ""service type by default."" msgid """"msgid ""Support for Block Storage API v2 has been removed."" msgstr ""Support for Block Storage API v2 has been removed."" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" ","""POT-Creation-Date: 2021-11-01 17:53+0000\n""""PO-Revision-Date: 2021-09-18 07:40+0000\n""msgid ""15.0.0-21"" msgstr ""15.0.0-21""",39,4
openstack%2Fheat~master~I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1,openstack/heat,master,I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1,DNM: Testing doc job,ABANDONED,2022-05-30 03:55:23.000000000,2022-05-30 04:11:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-30 03:55:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/04532bb0ecea0b78103825abb2ead75d94a59b82', 'message': 'DNM: Testing doc job\n\nChange-Id: I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1\n'}]",0,843762,04532bb0ecea0b78103825abb2ead75d94a59b82,3,1,1,9816,,,0,"DNM: Testing doc job

Change-Id: I04d5c009a1cda73b6ed18231d5e438afc4b7a6c1
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/843762/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,04532bb0ecea0b78103825abb2ead75d94a59b82,dnm,,,1,0
openstack%2Fironic~master~Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,openstack/ironic,master,Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,Don't use URLs as part of temporary file names (part 2),MERGED,2022-05-19 16:34:49.000000000,2022-05-30 04:07:39.000000000,2022-05-30 04:06:05.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 16:34:49.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/file-name-too-long-72265bb3fec704f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d885126ec5b3cfbe548fa42325d53fbc47d8fd4', 'message': 'Don\'t use URLs as part of temporary file names (part 2)\n\nFirst, it\'s leaking information. Second, the URLs can be really long and\ncause ""OSError: [Errno 36] File name too long"".\n\nThe same issue has already been fixed in the image cache, this change\nupdates building ISO. Since the files are created in a temporary\nlocation, just use constant names.\n\nChange-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40\n'}]",0,842574,2d885126ec5b3cfbe548fa42325d53fbc47d8fd4,12,4,1,10239,,,0,"Don't use URLs as part of temporary file names (part 2)

First, it's leaking information. Second, the URLs can be really long and
cause ""OSError: [Errno 36] File name too long"".

The same issue has already been fixed in the image cache, this change
updates building ISO. Since the files are created in a temporary
location, just use constant names.

Change-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/842574/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/file-name-too-long-72265bb3fec704f8.yaml']",3,2d885126ec5b3cfbe548fa42325d53fbc47d8fd4,file-name-too-long,"--- fixes: - | Fixes ``OSError: [Errno 36] File name too long`` when building a virtual media ISO from a long kernel, ramdisk or ESP URL. ",,35,32
openstack%2Fpython-ironicclient~master~I3d7ad8a49bbb63fd00ae9523243135a24419c465,openstack/python-ironicclient,master,I3d7ad8a49bbb63fd00ae9523243135a24419c465,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:20:59.000000000,2022-05-30 04:04:45.000000000,2022-05-30 04:02:28.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-01 01:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/02e572bedd5e83f1196a52bec3a3e7cc9ade081c', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I3d7ad8a49bbb63fd00ae9523243135a24419c465\n'}, {'number': 2, 'created': '2022-05-25 12:23:04.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a7ad7fdfa45f58fc4d9d463e37cfb4b90101cdfa', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I3d7ad8a49bbb63fd00ae9523243135a24419c465\n'}]",3,840071,a7ad7fdfa45f58fc4d9d463e37cfb4b90101cdfa,15,4,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I3d7ad8a49bbb63fd00ae9523243135a24419c465
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/71/840071/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,02e572bedd5e83f1196a52bec3a3e7cc9ade081c,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,32
openstack%2Fironic~master~I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78,openstack/ironic,master,I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78,Use libvirt automatic firmware,ABANDONED,2022-05-27 03:29:05.000000000,2022-05-30 01:42:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 03:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fb2d20d91fcb121a8d1a742ad9dcb1b1390e136', 'message': ""Use libvirt automatic firmware\n\nInstead of manually specifying the firmware and nvram file paths, use\nlibvirt's automatic firmware selection. This changes the command line\ninterface to remove arguments to firmware/nvram file paths, and adding\nan argument to specify whether efi or bios firmware should be\nselected.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy-tools/+/841653\nChange-Id: I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78\n""}, {'number': 2, 'created': '2022-05-29 22:00:35.000000000', 'files': ['devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ffb746d8a1fe3609d1d5a7044b5acb8daf53d92', 'message': ""Use libvirt automatic firmware\n\nInstead of manually specifying the firmware and nvram file paths, use\nlibvirt's automatic firmware selection. This changes the command line\ninterface to remove arguments to firmware/nvram file paths, and adding\nan argument to specify whether efi or bios firmware should be\nselected.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy-tools/+/841653\nChange-Id: I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78\n""}]",0,843560,3ffb746d8a1fe3609d1d5a7044b5acb8daf53d92,11,1,2,4571,,,0,"Use libvirt automatic firmware

Instead of manually specifying the firmware and nvram file paths, use
libvirt's automatic firmware selection. This changes the command line
interface to remove arguments to firmware/nvram file paths, and adding
an argument to specify whether efi or bios firmware should be
selected.

Depends-On: https://review.opendev.org/c/openstack/sushy-tools/+/841653
Change-Id: I949d17528489ea8a0fcd7f0be51d12aaf6bc7f78
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/843560/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh']",4,5fb2d20d91fcb121a8d1a742ad9dcb1b1390e136,auto_firmware,"while getopts ""n:c:i:m:M:d:a:b:e:E:p:o:f:l:F:A:D:v:P:"" arg; do F) FIRMWARE=$OPTARG;;# Legacy BIOS firmware by default FIRMWARE=${FIRMWARE:-bios} --disk-format $DISK_FORMAT $VM_LOGGING --engine $ENGINE --firmware $FIRMWARE $vm_opts \","while getopts ""n:c:i:m:M:d:a:b:e:E:p:o:f:l:L:N:A:D:v:P:"" arg; do L) UEFI_LOADER=$OPTARG;; N) UEFI_NVRAM=$OPTARG;;if [ -z ""$UEFI_LOADER"" ] && [ ! -z ""$UEFI_NVRAM"" ]; then echo ""Parameter -N (UEFI NVRAM) cannot be used without -L (UEFI Loader)"" exit 1 fi UEFI_OPTS="""" if [ ! -z ""$UEFI_LOADER"" ]; then UEFI_OPTS=""--uefi-loader $UEFI_LOADER"" if [ ! -z ""$UEFI_NVRAM"" ]; then UEFI_OPTS+="" --uefi-nvram $UEFI_NVRAM"" fi fi --disk-format $DISK_FORMAT $VM_LOGGING --engine $ENGINE $UEFI_OPTS $vm_opts \",11,72
openstack%2Fopenstack-ansible-repo_server~master~I6e61e5e226c22d84d0a427359979dbb4338e890d,openstack/openstack-ansible-repo_server,master,I6e61e5e226c22d84d0a427359979dbb4338e890d,Use the same vars file for all versions of centos,MERGED,2022-05-12 16:39:51.000000000,2022-05-29 20:38:10.000000000,2022-05-29 20:36:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-12 16:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f54ad92807efc768743ba20a45f37e8a102d9391', 'message': 'Use the same vars file for all versions of centos\n\nChange-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d\n'}, {'number': 2, 'created': '2022-05-16 11:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/be363b5b166d188b41be63e33629c0672de9fb10', 'message': 'Use the same vars file for all versions of centos\n\nChange-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d\n'}, {'number': 3, 'created': '2022-05-16 15:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/70148fd5265f8f073b55f6f5411147b38dca533c', 'message': 'Use the same vars file for all versions of centos\n\nChange-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d\n'}, {'number': 4, 'created': '2022-05-17 11:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/9796d554b640380b342b0354d76fd176b353135e', 'message': 'Use the same vars file for all versions of centos\n\nChange-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d\n'}, {'number': 5, 'created': '2022-05-18 11:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0a69283c92b4cda92b9876b2aa91b7c20f938709', 'message': 'Use the same vars file for all versions of centos\n\nChange-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d\n'}, {'number': 6, 'created': '2022-05-19 16:41:55.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/309c235a8a0d805157357a28e9b0a170651edc64', 'message': 'Use the same vars file for all versions of centos\n\nChange-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d\n'}]",7,841618,309c235a8a0d805157357a28e9b0a170651edc64,38,3,6,25023,,,0,"Use the same vars file for all versions of centos

Change-Id: I6e61e5e226c22d84d0a427359979dbb4338e890d
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/18/841618/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,f54ad92807efc768743ba20a45f37e8a102d9391,osa/centos-9,,,0,0
openstack%2Ftempest~master~I85ee21868c9281d081c491ee590fe1457f5aa997,openstack/tempest,master,I85ee21868c9281d081c491ee590fe1457f5aa997,Wait for guest after resize,MERGED,2022-05-17 15:18:51.000000000,2022-05-29 20:11:37.000000000,2022-05-29 20:10:03.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32238}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-05-17 15:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1caf241ea032c965b2f6c0f7703da8c0af4a2364', 'message': 'Wait for guest after resize\n\nTo stabilize test_resize_server_with_multiattached_volume we need to\nwait for the guest OS to fully boot after the resize and before the test\nattempts to detach the volume.\n\nCloses-Bug #1960346\n\nChange-Id: I85ee21868c9281d081c491ee590fe1457f5aa997\n'}, {'number': 2, 'created': '2022-05-17 15:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1bc070c5e53816e7dbb26a4708067844cc3757ff', 'message': 'Wait for guest after resize\n\nTo stabilize test_resize_server_with_multiattached_volume we need to\nwait for the guest OS to fully boot after the resize and before the test\nattempts to detach the volume.\n\nCloses-Bug #1960346\n\nChange-Id: I85ee21868c9281d081c491ee590fe1457f5aa997\n'}, {'number': 3, 'created': '2022-05-17 16:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86a8d9d9187673d6c4e68cb3688ebf213000afff', 'message': 'Wait for guest after resize\n\nTo stabilize test_resize_server_with_multiattached_volume we need to\nwait for the guest OS to fully boot after the resize and before the test\nattempts to detach the volume.\n\nCloses-Bug #1960346\n\nChange-Id: I85ee21868c9281d081c491ee590fe1457f5aa997\n'}, {'number': 4, 'created': '2022-05-18 11:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a293dc4a854e44a2edee46ed18795ffc0632cbff', 'message': 'Wait for guest after resize\n\nTo stabilize test_resize_server_with_multiattached_volume we need to\nwait for the guest OS to fully boot after the resize and before the test\nattempts to detach the volume.\n\nCloses-Bug #1960346\n\nChange-Id: I85ee21868c9281d081c491ee590fe1457f5aa997\n'}, {'number': 5, 'created': '2022-05-18 14:21:54.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8bbaba415bc5cc027079b1b45aa5ee6e75faddf', 'message': 'Wait for guest after resize\n\nTo stabilize test_resize_server_with_multiattached_volume we need to\nwait for the guest OS to fully boot after the resize and before the test\nattempts to detach the volume.\n\nCloses-Bug #1960346\n\nChange-Id: I85ee21868c9281d081c491ee590fe1457f5aa997\n'}]",27,842140,d8bbaba415bc5cc027079b1b45aa5ee6e75faddf,59,6,5,9708,,,0,"Wait for guest after resize

To stabilize test_resize_server_with_multiattached_volume we need to
wait for the guest OS to fully boot after the resize and before the test
attempts to detach the volume.

Closes-Bug #1960346

Change-Id: I85ee21868c9281d081c491ee590fe1457f5aa997
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/842140/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/compute/volumes/test_attach_volume.py']",2,1caf241ea032c965b2f6c0f7703da8c0af4a2364,wait_until_sshable_pingable," # We need to wait until the guest OS fully boots up as we are going # to detach volumes after the resize. See bug #1960346. self.resize_server( server['id'], self.flavor_ref_alt, wait_until='SSHABLE')"," self.resize_server(server['id'], self.flavor_ref_alt)",24,4
openstack%2Fkolla-ansible~master~Idc7a893f53c6975cc4a3f6090020d973fa2288bb,openstack/kolla-ansible,master,Idc7a893f53c6975cc4a3f6090020d973fa2288bb,[CI] Properly use Yoga u-c everywhere,MERGED,2022-05-29 16:55:43.000000000,2022-05-29 19:47:46.000000000,2022-05-29 19:45:47.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-29 16:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/633ecb40e68f97deeb50d4560e46f039ec838411', 'message': '[CI] Properly use Yoga u-c everywhere\n\nFollow-up to [1].\nThis unbreaks CI which was broken by a recent change to\nmaster upper-constraints. [2]\n\n[1] I82c4ff3b246c7db65ac8660b096d4a9a15dda8d7\n[2] https://review.opendev.org/c/openstack/requirements/+/843722/3/upper-constraints.txt#b244\n\nChange-Id: Idc7a893f53c6975cc4a3f6090020d973fa2288bb\n'}, {'number': 2, 'created': '2022-05-29 16:56:40.000000000', 'files': ['tests/run.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cef2671ce2e0de668574c1ea9c57fb9d664690a', 'message': '[CI] Properly use Yoga u-c everywhere\n\nFollow-up to [1].\nThis unbreaks CI which was broken by a recent change to\nmaster upper-constraints. [2]\n\n[1] I82c4ff3b246c7db65ac8660b096d4a9a15dda8d7\n[2] https://review.opendev.org/c/openstack/requirements/+/843722/3/upper-constraints.txt#b244\n\nChange-Id: Idc7a893f53c6975cc4a3f6090020d973fa2288bb\n'}]",3,843752,3cef2671ce2e0de668574c1ea9c57fb9d664690a,11,5,2,30491,,,0,"[CI] Properly use Yoga u-c everywhere

Follow-up to [1].
This unbreaks CI which was broken by a recent change to
master upper-constraints. [2]

[1] I82c4ff3b246c7db65ac8660b096d4a9a15dda8d7
[2] https://review.opendev.org/c/openstack/requirements/+/843722/3/upper-constraints.txt#b244

Change-Id: Idc7a893f53c6975cc4a3f6090020d973fa2288bb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/843752/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'zuul.d/base.yaml']",2,633ecb40e68f97deeb50d4560e46f039ec838411,keep-yoga-on-master, - name: openstack/requirements override-checkout: stable/yoga, - openstack/requirements,3,2
openstack%2Fkolla~stable%2Fyoga~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/yoga,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-28 12:00:22.000000000,2022-05-29 18:38:54.000000000,2022-05-29 18:37:44.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-28 12:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4b8aa1ceca9b3d4a927783f6e08d5183933433f3', 'message': 'Use the new image naming scheme by default\n\nAdds a relevant reno to inform users about the change and the\npossibility to customise the prefix.\n\nAdditionally, this patch includes the fix to Ubuntu image builds\nregarding rabbitmq and erlang.\n\nBoth the changes are required to fix master CI.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n'}, {'number': 2, 'created': '2022-05-28 12:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac9ec95d50986e4ac6eb833e8d6ca3c240e60449', 'message': 'Use the new image naming scheme by default\n\nAdds a relevant reno to inform users about the change and the\npossibility to customise the prefix.\n\nAdditionally, this patch includes the fix to Ubuntu image builds\nregarding rabbitmq and erlang.\n\nBoth the changes are required to fix master CI.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n'}, {'number': 3, 'created': '2022-05-28 12:02:31.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/240b3cf448354bf1a7271f8f81d730e51da856cb', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n'}]",4,843644,240b3cf448354bf1a7271f8f81d730e51da856cb,22,8,3,30491,,,0,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/843644/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/playbooks/run.yml', 'docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml', 'releasenotes/notes/new-naming-scheme-45a5669053c9328d.yaml', 'kolla/common/config.py']",7,4b8aa1ceca9b3d4a927783f6e08d5183933433f3,new-naming-scheme-stable/yoga,"<<<<<<< HEAD (744f37 Merge ""Fix local sources of git repositories"" into stable/yo)======= cfg.StrOpt('image-name-prefix', default='', help='Prefix prepended to image names'), >>>>>>> CHANGE (e5fdc8 Use the new image naming scheme by default)",,41,14
openstack%2Fopenstack-ansible~stable%2Fxena~Ia2814d6dc6faa509e98f7486fed12600e192ec8b,openstack/openstack-ansible,stable/xena,Ia2814d6dc6faa509e98f7486fed12600e192ec8b,Align collection_file naming,MERGED,2022-05-27 19:50:05.000000000,2022-05-29 14:14:29.000000000,2022-05-29 14:12:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-27 19:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8f2e0d9630df9c6c926f09c89529433ead5cc02', 'message': ""Align collection_file naming\n\nAt the moment we're inconsistent in collection_file variable naming.\nWhile we're passing `collection_file` to the play, inside it we use\n`collections_file`.\n\nCloses-Bug: #1975723\nChange-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b\n(cherry picked from commit d501eadd94e88e68513ab2827f181ee91baa6aaf)\n""}, {'number': 2, 'created': '2022-05-27 19:50:43.000000000', 'files': ['scripts/get-ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/df7c7df9431b3baadbfdd6b61861c221d6a94f38', 'message': ""Align collection_file naming\n\nAt the moment we're inconsistent in collection_file variable naming.\nWhile we're passing `collection_file` to the play, inside it we use\n`collections_file`.\n\nCloses-Bug: #1975723\nChange-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b\n(cherry picked from commit d501eadd94e88e68513ab2827f181ee91baa6aaf)\n""}]",0,843641,df7c7df9431b3baadbfdd6b61861c221d6a94f38,10,3,2,28619,,,0,"Align collection_file naming

At the moment we're inconsistent in collection_file variable naming.
While we're passing `collection_file` to the play, inside it we use
`collections_file`.

Closes-Bug: #1975723
Change-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b
(cherry picked from commit d501eadd94e88e68513ab2827f181ee91baa6aaf)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/843641/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh']",2,c8f2e0d9630df9c6c926f09c89529433ead5cc02,bug/1975723-stable/xena,"ANSIBLE_COLLECTION_FILE=""$(readlink -f ""${ANSIBLE_COLLECTION_FILE}"")""",,6,0
openstack%2Fopenstack-ansible-os_aodh~stable%2Fwallaby~I8ad644ed723e05058be92e5f67a4d7b7542a7071,openstack/openstack-ansible-os_aodh,stable/wallaby,I8ad644ed723e05058be92e5f67a4d7b7542a7071,Ensure libxml2 is installed on debian systems,MERGED,2022-01-26 10:10:34.000000000,2022-05-29 13:54:36.000000000,2022-05-29 13:53:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-26 10:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/592fd5e881fd3b4d7a06eee22c3d59d7eb43693d', 'message': 'Ensure libxml2 is installed on debian systems\n\nCloses-Bug: 1958434\nChange-Id: I8ad644ed723e05058be92e5f67a4d7b7542a7071\n(cherry picked from commit 0ffeff0ec122b05f62d6538c3e62c62a8c6d170a)\n'}, {'number': 2, 'created': '2022-05-27 15:35:01.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/7036c501ad4792dda22a7357f1539bae58039307', 'message': 'Ensure libxml2 is installed on debian systems\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843629\nCloses-Bug: 1958434\nChange-Id: I8ad644ed723e05058be92e5f67a4d7b7542a7071\n(cherry picked from commit 0ffeff0ec122b05f62d6538c3e62c62a8c6d170a)\n'}]",9,826379,7036c501ad4792dda22a7357f1539bae58039307,31,3,2,25023,,,0,"Ensure libxml2 is installed on debian systems

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843629
Closes-Bug: 1958434
Change-Id: I8ad644ed723e05058be92e5f67a4d7b7542a7071
(cherry picked from commit 0ffeff0ec122b05f62d6538c3e62c62a8c6d170a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/79/826379/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,592fd5e881fd3b4d7a06eee22c3d59d7eb43693d,, - libxml2,,1,0
openstack%2Fkayobe~stable%2Fxena~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,stable/xena,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-25 18:01:41.000000000,2022-05-29 12:39:36.000000000,2022-05-29 12:38:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 18:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/737473b7fac73f4544e90cad3b37808e8125e7ab', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 2, 'created': '2022-05-25 23:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/daa1151665d5c76100722704a108be0df76e1f94', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 3, 'created': '2022-05-26 10:25:02.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1b4a34a62cce50aa83bb54127fb08e59127e04ae', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}]",5,843326,1b4a34a62cce50aa83bb54127fb08e59127e04ae,24,4,3,14200,,,0,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/26/843326/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml']",2,737473b7fac73f4544e90cad3b37808e8125e7ab,hacluster-build-issue,--- fixes: - | Fixes an issue where hacluster images are not built when the service is enabled. ,,7,0
openstack%2Fneutron~master~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,master,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-26 10:31:25.000000000,2022-05-29 12:23:37.000000000,2022-05-29 12:22:00.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-26 10:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/240f6b09ba171f293be1754cb69fe956990b831c', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n'}, {'number': 2, 'created': '2022-05-26 12:11:47.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6d27be4747eb4573dcc5c0e1e7ac7550d20f951', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n'}]",9,843426,e6d27be4747eb4573dcc5c0e1e7ac7550d20f951,40,9,2,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/843426/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,240f6b09ba171f293be1754cb69fe956990b831c,bug/1964940," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",257,380
openstack%2Fkayobe~stable%2Fwallaby~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,stable/wallaby,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-25 18:02:14.000000000,2022-05-29 12:12:38.000000000,2022-05-29 12:11:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 18:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/348e3ee12e3244db4e803e3be3f4ba4a2142170e', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 2, 'created': '2022-05-25 23:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/26703a2a59520af75d7fec33a411754ce60b5faa', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 3, 'created': '2022-05-26 10:25:17.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8888e406510f1e22c1062119346a5a9eae654c32', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}]",6,843327,8888e406510f1e22c1062119346a5a9eae654c32,25,4,3,14200,,,0,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/843327/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml']",2,348e3ee12e3244db4e803e3be3f4ba4a2142170e,hacluster-build-issue,--- fixes: - | Fixes an issue where hacluster images are not built when the service is enabled. ,,7,0
openstack%2Fdevstack-plugin-ceph~stable%2Fvictoria~I9e4d735e2aeeb91c916e43ab743c2543040420d3,openstack/devstack-plugin-ceph,stable/victoria,I9e4d735e2aeeb91c916e43ab743c2543040420d3,Cap cinder-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-26 01:50:24.000000000,2022-05-29 09:47:25.000000000,2022-05-29 09:45:35.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 01:50:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d434e9c91dd2383aa661f0af0c1604c5c89356df', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nWith Tempest 26.1.0, cinder-plugin-ceph-tempest and nova-ceph-multistore\njobs in cinder stable/ussuri|victoria are failing as their parent\njob devstack-plugin-ceph-tempest-py3 use the cinder-tempest-plugin\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/feedddf5137045dca430ae21222da2db\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nChange-Id: I9e4d735e2aeeb91c916e43ab743c2543040420d3\n'}]",2,843354,d434e9c91dd2383aa661f0af0c1604c5c89356df,9,2,1,8556,,,0,"Cap cinder-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

With Tempest 26.1.0, cinder-plugin-ceph-tempest and nova-ceph-multistore
jobs in cinder stable/ussuri|victoria are failing as their parent
job devstack-plugin-ceph-tempest-py3 use the cinder-tempest-plugin

- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs
- https://zuul.opendev.org/t/openstack/build/feedddf5137045dca430ae21222da2db

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Change-Id: I9e4d735e2aeeb91c916e43ab743c2543040420d3
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/54/843354/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d434e9c91dd2383aa661f0af0c1604c5c89356df,victoria-pin-tempest, - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: 1.3.0, - openstack/cinder-tempest-plugin,2,1
openstack%2Fdesignate~stable%2Fxena~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,stable/xena,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-27 19:18:41.000000000,2022-05-29 05:00:39.000000000,2022-05-29 04:58:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-27 19:18:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/c78db47c746cab2fc505bd60f11f05a08eb94120', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I94324104a7ed89e757d48bb250d8b1132026ce46\n(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)\n'}]",0,843677,c78db47c746cab2fc505bd60f11f05a08eb94120,8,3,1,11628,,,0,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/843677/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c78db47c746cab2fc505bd60f11f05a08eb94120,, queue: designate gate: queue: designate, gate: queue: designate gate: queue: designate,2,4
openstack%2Fdesignate~stable%2Fyoga~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,stable/yoga,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-27 19:13:46.000000000,2022-05-29 04:36:49.000000000,2022-05-29 04:34:46.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-27 19:13:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/5b014685ac4d7e18d984cc8fe075a0ba905919f9', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I94324104a7ed89e757d48bb250d8b1132026ce46\n(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)\n'}]",0,843640,5b014685ac4d7e18d984cc8fe075a0ba905919f9,8,3,1,11628,,,0,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)
",git fetch https://review.opendev.org/openstack/designate refs/changes/40/843640/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5b014685ac4d7e18d984cc8fe075a0ba905919f9,, queue: designate gate: queue: designate gate:, gate: queue: designate gate: queue: designate,2,3
openstack%2Fdesignate~master~I7560ce184c41ce8f5d598f8cd912d864b23195fe,openstack/designate,master,I7560ce184c41ce8f5d598f8cd912d864b23195fe,Remove deprecated docs section,MERGED,2022-05-26 21:12:34.000000000,2022-05-29 03:59:01.000000000,2022-05-29 03:57:34.000000000,"[{'_account_id': 5572}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-26 21:12:34.000000000', 'files': ['doc/source/user/rest.rst', 'doc/source/user/index.rst', 'doc/source/user/rest/admin/quotas.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/23c372d54db5df34f49b53e7584a5d17e9575546', 'message': 'Remove deprecated docs section\n\nThe Designate user guide has had a ""Deprecated REST API Documentation"" since 2017 and the content is not really relevant anymore.\n\nChange-Id: I7560ce184c41ce8f5d598f8cd912d864b23195fe\n'}]",1,843551,23c372d54db5df34f49b53e7584a5d17e9575546,9,4,1,11628,,,0,"Remove deprecated docs section

The Designate user guide has had a ""Deprecated REST API Documentation"" since 2017 and the content is not really relevant anymore.

Change-Id: I7560ce184c41ce8f5d598f8cd912d864b23195fe
",git fetch https://review.opendev.org/openstack/designate refs/changes/51/843551/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/rest.rst', 'doc/source/user/index.rst', 'doc/source/user/rest/admin/quotas.rst']",3,23c372d54db5df34f49b53e7584a5d17e9575546,,,".. Copyright (c) 2014 Rackspace Hosting All Rights Reserved. Author: Jordan Cazamias <jordan.cazamias@rackspace.com> Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Quotas ====== Overview -------- The quotas extension can be used to retrieve a tenant's absolute limits. *Note*: Quotas is an extension and needs to be enabled before it can be used. If Designate returns a 404 error, ensure that the following line has been added to the designate.conf file under ``[service:api]`` section :: enable_api_admin = True enabled_extensions_admin = quotas Once these lines have been added, restart the designate-central and designate-api services. Get Quotas ---------- .. http:get:: /quotas/TENANT_ID Retrieves quotas for tenant with the specified TENANT_ID. The following example retrieves the quotas for tenant 12345. **Example request:** .. sourcecode:: http GET /admin/quotas/12345 HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json **Example response:** .. sourcecode:: none HTTP/1.1 201 Created Content-Type: application/json { ""quota"": { ""api_export_size: 1000, ""zones"": 10, ""recordset_records"": 20, ""zone_records"": 500, ""zone_recordsets"": 500 } } :api_export_size: Number of records allowed in a synchronous zone export done via API :form zones: Number of zones the tenant is allowed to own :form recordset_records: Number of records allowed per recordset :form zone_records: Number of records allowed per zone :form zone_recordsets: Number of recordsets allowed per zone :statuscode 200: Success :statuscode 401: Access Denied Update Quotas ------------- .. http:patch:: /quotas/TENANT_ID Updates the specified quota(s) to their new values. Negative quota values mean unlimited. **Example request:** .. sourcecode:: http PATCH /admin/quotas/12345 HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json { ""quota"": { ""zones"": 1000, ""zone_records"": 50 } } **Example response:** .. sourcecode:: none HTTP/1.1 200 OK Content-Type: application/json { ""quota"": { ""api_export_size: 1000, ""zones"": 1000, ""recordset_records"": 20, ""zone_records"": 50, ""zone_recordsets"": 500 } } :statuscode 200: Success :statuscode 401: Access Denied Reset Quotas to Default ----------------------- .. http:delete:: /quotas/TENANT_ID Restores the tenant's quotas back to their default values. **Example request:** .. sourcecode:: http DELETE /admin/quotas/12345 HTTP/1.1 Host: 127.0.0.1:9001 Accept: application/json Content-Type: application/json **Example response:** .. sourcecode:: http HTTP/1.1 204 No Content :statuscode 204: No Content :statuscode 401: Access Denied ",0,228
openstack%2Fpuppet-openstack-integration~master~Ic4961456e4c2af28564127102ac4ee998ee77017,openstack/puppet-openstack-integration,master,Ic4961456e4c2af28564127102ac4ee998ee77017,Updated from Puppet OpenStack modules constraints,MERGED,2022-05-26 02:29:35.000000000,2022-05-29 01:17:31.000000000,2022-05-29 01:17:31.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:29:35.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/16b456ed5b0ef8dba67e90c58f69b6be19afce04', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic4961456e4c2af28564127102ac4ee998ee77017\n'}]",0,843364,16b456ed5b0ef8dba67e90c58f69b6be19afce04,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic4961456e4c2af28564127102ac4ee998ee77017
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/64/843364/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,16b456ed5b0ef8dba67e90c58f69b6be19afce04,openstack/puppet/constraints, :ref => 'v12.0.3', :ref => 'v12.0.2',1,1
openstack%2Ftempest~master~I6fa4ceb873e4d9088d48282c6a93deace1707ad6,openstack/tempest,master,I6fa4ceb873e4d9088d48282c6a93deace1707ad6,Add test for extending an attached LUKSv2 encrypted volume,ABANDONED,2022-05-28 03:14:39.000000000,2022-05-29 00:42:24.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 03:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d4ae12b05a8e9954a0d04baee97a4a9083b80a7', 'message': 'Add test for extending an attached encrypted volume\n\nThis is a regression test for a recent bug where extend of an attached\nLUKSv2 encrypted volume was failing while extend of an attached LUKSv1\nencrypted volume worked fine.\n\nThis adds a test that performs a volume extend of an attached encrypted\nvolume for both LUKSv1 and LUKSv2.\n\nRelated-Bug: #1861071\n\nChange-Id: I6fa4ceb873e4d9088d48282c6a93deace1707ad6\n'}, {'number': 2, 'created': '2022-05-28 03:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b7b7be1ab113aea3ff9440eb74a6a11a2dcfc85', 'message': 'Add test for extending an attached encrypted volume\n\nThis is a regression test for a recent bug where extend of an attached\nLUKSv2 encrypted volume was failing while extend of an attached LUKSv1\nencrypted volume worked fine.\n\nThis adds a test that performs a volume extend of an attached encrypted\nvolume for both LUKSv1 and LUKSv2.\n\nRelated-Bug: #1861071\n\nChange-Id: I6fa4ceb873e4d9088d48282c6a93deace1707ad6\n'}, {'number': 3, 'created': '2022-05-28 03:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0acfc0736538fca6571d09196bd0b566f01d07a5', 'message': 'Add test for extending an attached encrypted volume\n\nThis is a regression test for a recent bug where extend of an attached\nLUKSv2 encrypted volume was failing while extend of an attached LUKSv1\nencrypted volume worked fine.\n\nThis adds a test that performs a volume extend of an attached encrypted\nvolume for both LUKSv1 and LUKSv2.\n\nRelated-Bug: #1861071\n\nChange-Id: I6fa4ceb873e4d9088d48282c6a93deace1707ad6\n'}, {'number': 4, 'created': '2022-05-28 03:37:42.000000000', 'files': ['tempest/api/volume/admin/test_encrypted_volumes_extend.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/06f3c976376bf586b854282079af2d39309fe48e', 'message': 'Add test for extending an attached LUKSv2 encrypted volume\n\nThis is a regression test for a recent bug where extend of an attached\nLUKSv2 encrypted volume was failing while extend of an attached LUKSv1\nencrypted volume worked fine.\n\nThis adds a test that performs a volume extend of an attached encrypted\nvolume for LUKSv2.\n\nRelated-Bug: #1861071\n\nChange-Id: I6fa4ceb873e4d9088d48282c6a93deace1707ad6\n'}]",1,843699,06f3c976376bf586b854282079af2d39309fe48e,12,2,4,4690,,,0,"Add test for extending an attached LUKSv2 encrypted volume

This is a regression test for a recent bug where extend of an attached
LUKSv2 encrypted volume was failing while extend of an attached LUKSv1
encrypted volume worked fine.

This adds a test that performs a volume extend of an attached encrypted
volume for LUKSv2.

Related-Bug: #1861071

Change-Id: I6fa4ceb873e4d9088d48282c6a93deace1707ad6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/843699/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_extend.py', 'tempest/scenario/test_volume_boot_pattern.py']",2,9d4ae12b05a8e9954a0d04baee97a4a9083b80a7,extend-luksv2, volume = self.create_encrypted_volume('luks')," volume = self.create_encrypted_volume('luks', volume_type='luks')",28,2
openstack%2Frequirements~master~If37fe53794295b31c4c487e9da25712169a48c82,openstack/requirements,master,If37fe53794295b31c4c487e9da25712169a48c82,remove py36 specifiers from global-requirements,MERGED,2022-05-28 18:04:17.000000000,2022-05-28 21:39:40.000000000,2022-05-28 21:38:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 18:04:17.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ac0e631833ee8c33b42ddbcc23be89c05dcc658', 'message': 'remove py36 specifiers from global-requirements\n\nChange-Id: If37fe53794295b31c4c487e9da25712169a48c82\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,843732,7ac0e631833ee8c33b42ddbcc23be89c05dcc658,7,2,1,14288,,,0,"remove py36 specifiers from global-requirements

Change-Id: If37fe53794295b31c4c487e9da25712169a48c82
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/843732/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,7ac0e631833ee8c33b42ddbcc23be89c05dcc658,remove-py36-from-gr,"debtcollector # Apache-2.0oslo.config!=4.3.0,!=4.4.0 # Apache-2.0oslo.i18n # Apache-2.0oslo.utils!=3.39.1,!=3.40.0,!=3.40.1 # Apache-2.0reno # Apache-2.0zeroconf # LGPLoslotest # Apache-2.0zipp # MIT","debtcollector<2.0.0;python_version<'3.6' # Apache-2.0 debtcollector;python_version>='3.6' # Apache-2.0oslo.config!=4.3.0,!=4.4.0,<8.0.0;python_version<'3.6' # Apache-2.0 oslo.config!=4.3.0,!=4.4.0;python_version>='3.6' # Apache-2.0oslo.i18n<4.0.0;python_version<'3.6' # Apache-2.0 oslo.i18n;python_version>='3.6' # Apache-2.0oslo.utils!=3.39.1,!=3.40.0,!=3.40.1,<4.0.0;python_version<'3.6' # Apache-2.0 oslo.utils!=3.39.1,!=3.40.0,!=3.40.1;python_version>='3.6' # Apache-2.0reno<3;python_version<'3.6' # Apache-2.0 reno;python_version>='3.6' # Apache-2.0# NOTE(dtantsur): zeroconf dropped compatibility with Python 3.6 in version 0.38.0 zeroconf<0.38.0;python_version=='3.6' # LGPL zeroconf;python_version>'3.6' # LGPLoslotest<4;python_version<'3.6' # Apache-2.0 oslotest;python_version>='3.6' # Apache-2.0# NOTE(yoctozepto): To avoid repeated breakage (this is a dep of deps) # (gmann): Few branchless tools like hacking, stackviz, OpenStackSDK, and # Keystoneauth keeping the support of py3.5 so we need to have zipp cap for # < py3.6. We need to keep it until we completely drop py3.5 from OpenStack. # https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html#projects-keeping-py3-5-support zipp<2;python_version<'3.6' # MIT zipp;python_version>='3.6' # MIT",8,22
openstack%2Frequirements~master~I80d5c5bc2f379a9bac41e4bb40594a253853ee12,openstack/requirements,master,I80d5c5bc2f379a9bac41e4bb40594a253853ee12,Updated from generate-constraints,MERGED,2022-05-28 13:44:51.000000000,2022-05-28 20:53:47.000000000,2022-05-28 20:52:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3503a5f64cb927643d896c4a40f13a5239f50ce8', 'message': 'Updated from generate-constraints\n\nChange-Id: I80d5c5bc2f379a9bac41e4bb40594a253853ee12\n'}, {'number': 2, 'created': '2022-05-28 15:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0f2e01c444ae5ef8bf28495691105a95f93840ac', 'message': 'Updated from generate-constraints\n\nChange-Id: I80d5c5bc2f379a9bac41e4bb40594a253853ee12\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-05-28 18:01:50.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa9b729e0c96151a0ca2a82666933e78960ac7ca', 'message': 'Updated from generate-constraints\n\nChange-Id: I80d5c5bc2f379a9bac41e4bb40594a253853ee12\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,843722,fa9b729e0c96151a0ca2a82666933e78960ac7ca,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I80d5c5bc2f379a9bac41e4bb40594a253853ee12
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/843722/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3503a5f64cb927643d896c4a40f13a5239f50ce8,openstack/requirements/constraints/noclob,sphinxcontrib-actdiag===3.0.0websocket-client===1.3.2pytest===7.1.2Pint===0.19.2rcssmin===1.1.0grpcio===1.46.3fixtures===4.0.0persist-queue===0.8.0waitress===2.1.1Mako===1.2.0ddt===1.5.0moto===3.1.10networkx===2.8.2XStatic-Angular===1.8.2.1Pillow===9.1.1google-api-core===2.8.1immutables===0.18zeroconf===0.38.6 scipy===1.8.1 python-gnupg===0.4.9googleapis-common-protos===1.56.2responses===0.21.0MarkupSafe===2.1.1doc8===0.11.2pyghmi===1.5.43 sphinxcontrib-blockdiag===3.0.0prettytable===3.3.0semantic-version===2.10.0typing_extensions===4.2.0paramiko===2.11.0graphviz===0.20cryptography===37.0.2 httpcore===0.15.0pkg_resources===0.0.0django-compressor===4.0Jinja2===3.1.2django-debreach===2.1.0tinyrpc===1.1.5funcparserlib===1.0.0google-api-python-client===2.49.0webcolors===1.12autobahn===22.4.2coverage===6.4nwdiag===3.0.0importlib-metadata===4.11.4ujson===5.3.0mypy===0.960sphinxcontrib-seqdiag===3.0.0platformdirs===2.5.2boto3===1.23.9 jeepney===0.8.0autopage===0.5.1keyring===23.5.1 elementpath===2.5.2psutil===5.9.1asgiref===3.5.2blockdiag===3.0.0protobuf===3.20.1sympy===1.10.1seqdiag===3.0.0 numpy===1.22.4pytest-metadata===2.0.1tomli===2.0.1backports.zoneinfo===0.2.1;python_version=='3.8'botocore===1.26.10jmespath===1.0.0 click===8.1.3os-testr===3.0.0dulwich===0.20.42kombu===5.2.4GitPython===3.1.27yappi===1.3.5wsgi-intercept===1.10.0pyrsistent===0.18.1jaeger-client===4.8.0Werkzeug===2.1.2xmlschema===1.11.1cachetools===5.1.0rjsmin===1.2.0decorator===5.1.1zipp===3.8.0Flask===2.1.2 httpx===0.23.0filelock===3.7.0itsdangerous===2.1.2actdiag===3.0.0scikit-learn===1.1.1,sphinxcontrib-actdiag===2.0.0;python_version=='3.6' sphinxcontrib-actdiag===3.0.0;python_version=='3.8'websocket-client===1.3.1;python_version=='3.6' websocket-client===1.3.2;python_version=='3.8'pytest===7.0.1;python_version=='3.6' pytest===7.1.2;python_version=='3.8'Pint===0.17;python_version=='3.6' Pint===0.19.2;python_version=='3.8'rcssmin===1.0.6grpcio===1.46.1fixtures===3.0.0persist-queue===0.7.0waitress===2.0.0;python_version=='3.6' waitress===2.1.1;python_version=='3.8'Mako===1.1.6;python_version=='3.6' Mako===1.2.0;python_version=='3.8'ddt===1.4.4moto===3.1.9networkx===2.5.1;python_version=='3.6' networkx===2.8;python_version=='3.8'XStatic-Angular===1.5.8.0Pillow===8.4.0;python_version=='3.6' Pillow===9.1.0;python_version=='3.8'google-api-core===2.7.3immutables===0.17zeroconf===0.37.0;python_version=='3.6' zeroconf===0.38.6;python_version=='3.8' scipy===1.5.4;python_version=='3.6' scipy===1.8.0;python_version=='3.8' python-gnupg===0.4.8googleapis-common-protos===1.56.1responses===0.17.0;python_version=='3.6' responses===0.20.0;python_version=='3.8'MarkupSafe===2.0.1;python_version=='3.6' MarkupSafe===2.1.1;python_version=='3.8'doc8===0.11.1pyghmi===1.5.42 sphinxcontrib-blockdiag===2.0.0;python_version=='3.6' sphinxcontrib-blockdiag===3.0.0;python_version=='3.8'prettytable===2.5.0;python_version=='3.6' prettytable===3.3.0;python_version=='3.8'semantic-version===2.9.0typing_extensions===4.1.1;python_version=='3.6' typing_extensions===4.2.0;python_version=='3.8'paramiko===2.8.1graphviz===0.19.1;python_version=='3.6' graphviz===0.20;python_version=='3.8'cached-property===1.5.2;python_version=='3.6'cryptography===36.0.2 httpcore===0.14.7django-compressor===2.4.1Jinja2===3.0.3;python_version=='3.6' Jinja2===3.1.2;python_version=='3.8'django-debreach===2.0.1;python_version=='3.6' django-debreach===2.1.0;python_version=='3.8'tinyrpc===1.1.4funcparserlib===0.3.6;python_version=='3.6' funcparserlib===1.0.0;python_version=='3.8'google-api-python-client===2.47.0webcolors===1.11.1autobahn===21.2.1;python_version=='3.6' autobahn===22.4.2;python_version=='3.8'coverage===6.2;python_version=='3.6' coverage===6.3.3;python_version=='3.8'nwdiag===2.0.0;python_version=='3.6' nwdiag===3.0.0;python_version=='3.8'importlib-metadata===4.11.3;python_version=='3.8' importlib-metadata===4.8.3;python_version=='3.6'ujson===4.3.0;python_version=='3.6' ujson===5.2.0;python_version=='3.8'mypy===0.950sphinxcontrib-seqdiag===2.0.0;python_version=='3.6' sphinxcontrib-seqdiag===3.0.0;python_version=='3.8'platformdirs===2.4.0;python_version=='3.6' platformdirs===2.5.2;python_version=='3.8'boto3===1.23.0 jeepney===0.7.1;python_version=='3.6' jeepney===0.8.0;python_version=='3.8'autopage===0.5.0keyring===23.4.1;python_version=='3.6' keyring===23.5.0;python_version=='3.8' elementpath===2.4.0;python_version=='3.6' elementpath===2.5.1;python_version=='3.8'psutil===5.9.0asgiref===3.4.1;python_version=='3.6' asgiref===3.5.1;python_version=='3.8'blockdiag===2.0.1;python_version=='3.6' blockdiag===3.0.0;python_version=='3.8'protobuf===3.19.4;python_version=='3.6' protobuf===3.20.1;python_version=='3.8'sympy===1.10.1;python_version=='3.8' sympy===1.9;python_version=='3.6'async-generator===1.10;python_version=='3.6'seqdiag===2.0.0;python_version=='3.6' seqdiag===3.0.0;python_version=='3.8' numpy===1.19.5;python_version=='3.6' numpy===1.22.3;python_version=='3.8'pytest-metadata===1.11.0;python_version=='3.6' pytest-metadata===2.0.1;python_version=='3.8'tomli===1.2.3;python_version=='3.6' tomli===2.0.1;python_version=='3.8'backports.zoneinfo===0.2.1botocore===1.26.0jmespath===0.10.0;python_version=='3.6' jmespath===1.0.0;python_version=='3.8' click===8.0.4;python_version=='3.6' click===8.1.3;python_version=='3.8'typed-ast===1.5.3;python_version=='3.6' os-testr===2.0.1;python_version=='3.6' os-testr===3.0.0;python_version=='3.8'dulwich===0.20.36kombu===5.1.0;python_version=='3.6' kombu===5.2.4;python_version=='3.8'GitPython===3.1.18;python_version=='3.6' GitPython===3.1.27;python_version=='3.8'yappi===1.3.3dataclasses===0.8;python_version=='3.6'wsgi-intercept===1.9.3pyrsistent===0.18.0;python_version=='3.6' pyrsistent===0.18.1;python_version=='3.8'jaeger-client===4.6.1;python_version=='3.6' jaeger-client===4.8.0;python_version=='3.8'Werkzeug===2.0.3;python_version=='3.6' Werkzeug===2.1.2;python_version=='3.8'xmlschema===1.11.0;python_version=='3.8' xmlschema===1.9.2;python_version=='3.6'cachetools===4.2.4;python_version=='3.6' cachetools===5.1.0;python_version=='3.8'importlib-resources===5.4.0;python_version=='3.6'rjsmin===1.1.0decorator===4.4.2;python_version=='3.6' decorator===5.1.1;python_version=='3.8'zipp===3.6.0;python_version=='3.6' zipp===3.8.0;python_version=='3.8'futures===3.0.5;python_version=='3.6'Flask===2.0.3;python_version=='3.6' Flask===2.1.2;python_version=='3.8' httpx===0.22.0filelock===3.4.1;python_version=='3.6' filelock===3.7.0;python_version=='3.8'itsdangerous===2.0.1;python_version=='3.6' itsdangerous===2.1.2;python_version=='3.8'actdiag===2.0.0;python_version=='3.6' actdiag===3.0.0;python_version=='3.8'scikit-learn===0.24.2;python_version=='3.6' scikit-learn===1.1.0;python_version=='3.8' setuptools===59.6.0;python_version=='3.6' setuptools===62.2.0;python_version=='3.8',87,148
openstack%2Fcinder~master~Ib5e062a153a2f41a3f01768f4122811d152cdb52,openstack/cinder,master,Ib5e062a153a2f41a3f01768f4122811d152cdb52,Use pyparsing_common expressions,NEW,2022-03-29 08:20:25.000000000,2022-05-28 19:43:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-29 08:20:25.000000000', 'files': ['cinder/scheduler/evaluator/evaluator.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/369b61a1897b33c3b5bbfe5adb55f502ce02993e', 'message': 'Use pyparsing_common expressions\n\nCurrently we define our own pyparsing expressions for integer,\nreal numbers etc. These are already defined in pyparsing_common\nmodule and shows improvement in lowering the recursion depth from\nthe manually defined expressions for it.\nThis patch replaces the current definitions of integer and real\nnumbers with pyparsing_common expressions.\n\nRecursion depth and result values with current assignment\n\n[rajatdhasmana@192 09:56:27 ~/testing]$ python3 test_cinder_eval.py\n790: (1 + max(1 + (10 / 20), 2, 3)) / 100\n60000.04\n980: ((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb\n600.0004\n1170: (((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb) / 100\n\nRecursion depth and result values after changing to pyparsing_common values\n\n[rajatdhasmana@192 12:28:38 ~/testing]$ python3 test_cinder_eval.py\n780: (1 + max(1 + (10 / 20), 2, 3)) / 100\n60000.04\n970: ((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb\n600.0004\n1160: (((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb) / 100\n\nNotice that the recursion depth is reduced by 10, 790->780, 980->970, 1170->1160\nand the result value remains same.\n\nChange-Id: Ib5e062a153a2f41a3f01768f4122811d152cdb52\n'}]",1,835553,369b61a1897b33c3b5bbfe5adb55f502ce02993e,27,1,1,27615,,,0,"Use pyparsing_common expressions

Currently we define our own pyparsing expressions for integer,
real numbers etc. These are already defined in pyparsing_common
module and shows improvement in lowering the recursion depth from
the manually defined expressions for it.
This patch replaces the current definitions of integer and real
numbers with pyparsing_common expressions.

Recursion depth and result values with current assignment

[rajatdhasmana@192 09:56:27 ~/testing]$ python3 test_cinder_eval.py
790: (1 + max(1 + (10 / 20), 2, 3)) / 100
60000.04
980: ((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb
600.0004
1170: (((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb) / 100

Recursion depth and result values after changing to pyparsing_common values

[rajatdhasmana@192 12:28:38 ~/testing]$ python3 test_cinder_eval.py
780: (1 + max(1 + (10 / 20), 2, 3)) / 100
60000.04
970: ((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb
600.0004
1160: (((1 + max(1 + (10 / 20), 2, 3)) / 100) + stats.total_capacity_gb) / 100

Notice that the recursion depth is reduced by 10, 790->780, 980->970, 1170->1160
and the result value remains same.

Change-Id: Ib5e062a153a2f41a3f01768f4122811d152cdb52
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/835553/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/evaluator/evaluator.py'],1,369b61a1897b33c3b5bbfe5adb55f502ce02993e,,from pyparsing import pyparsing_common as py_common integer = py_common.integer real = py_common.real, Combine = pyparsing.Combine nums = pyparsing.nums integer = Word(nums) real = Combine(Word(nums) + '.' + Word(nums)),3,4
openstack%2Frequirements~master~I42396ba25b85cd8506e18c76401517a14bd5b095,openstack/requirements,master,I42396ba25b85cd8506e18c76401517a14bd5b095,Updated from generate-constraints,ABANDONED,2022-05-18 02:42:57.000000000,2022-05-28 15:38:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-18 02:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa2f8b4581b8a2773308e7ebb31500501c0eaad8', 'message': 'Updated from generate-constraints\n\nChange-Id: I42396ba25b85cd8506e18c76401517a14bd5b095\n'}, {'number': 2, 'created': '2022-05-19 02:54:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f9a9178ba639574575e7932a16a6ab827647353e', 'message': 'Updated from generate-constraints\n\nChange-Id: I42396ba25b85cd8506e18c76401517a14bd5b095\n'}]",0,842253,f9a9178ba639574575e7932a16a6ab827647353e,9,1,2,11131,,,0,"Updated from generate-constraints

Change-Id: I42396ba25b85cd8506e18c76401517a14bd5b095
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/842253/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aa2f8b4581b8a2773308e7ebb31500501c0eaad8,openstack/requirements/constraints/noclob,rcssmin===1.1.0fixtures===4.0.0XStatic-Angular===1.8.2.1Pillow===9.1.1;python_version=='3.8'doc8===0.11.2paramiko===2.11.0cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0google-api-python-client===2.48.0oslo.log===4.8.0boto3===1.23.2elementpath===2.5.2;python_version=='3.8'asgiref===3.5.2;python_version=='3.8'botocore===1.26.2dulwich===0.20.38wsgi-intercept===1.10.0rjsmin===1.2.0,rcssmin===1.0.6fixtures===3.0.0XStatic-Angular===1.5.8.0Pillow===9.1.0;python_version=='3.8'doc8===0.11.1paramiko===2.8.1cryptography===36.0.2django-compressor===2.4.1google-api-python-client===2.47.0oslo.log===4.7.0boto3===1.23.0elementpath===2.5.1;python_version=='3.8'asgiref===3.5.1;python_version=='3.8'botocore===1.26.0dulwich===0.20.36wsgi-intercept===1.9.3rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.2.0;python_version=='3.8',18,19
openstack%2Fkolla-ansible~stable%2Fussuri~Ie468f5170c9df8a235953337753043f5b9f74578,openstack/kolla-ansible,stable/ussuri,Ie468f5170c9df8a235953337753043f5b9f74578,Cleanup zuul jobs a bit,MERGED,2022-05-27 18:48:49.000000000,2022-05-28 13:55:40.000000000,2022-05-28 13:53:49.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-27 18:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/111495d04e269c1e45daec70fa74bdfa0bd77d68', 'message': ""Cleanup zuul jobs a bit\n\nThese sorts of changes should likely be made across all of kolla. I'm\npushing the update to victoria because 843400 is a victoria change that\ncaused me to look into this.\n\nFirst up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a\nmultinode job that retries many times, is non voting, and a check only\njob. The value of a job like this on a stable branch is likely minimal.\n\nFirst we remove the non default attempts value on the base job. You\nshould set this per job instead only when necessary and after debugging\nwhy jobs retry excessively. Please avoid overriding defaults like this\nfor all the jobs as it is easy for peopel to forget the setting is in\nplace.\n\nNext move the job to the experimental queue. If it is non voting and\nrarely passes it can be manually triggered by individuals that are\nworking to correct the job that rarely succeeds. Then once reliable the\njob can be added back to the check pipeline.\n\nChange-Id: Ie468f5170c9df8a235953337753043f5b9f74578\n(cherry picked from commit 99410ae6e434cf1172b3f621cec24e67493239b7)\n""}, {'number': 2, 'created': '2022-05-28 11:49:03.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea0a46b3d33781ff3dd02316896e05fdd9afbb3c', 'message': ""Cleanup zuul jobs a bit\n\nThese sorts of changes should likely be made across all of kolla. I'm\npushing the update to victoria because 843400 is a victoria change that\ncaused me to look into this.\n\nFirst up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a\nmultinode job that retries many times, is non voting, and a check only\njob. The value of a job like this on a stable branch is likely minimal.\n\nFirst we remove the non default attempts value on the base job. You\nshould set this per job instead only when necessary and after debugging\nwhy jobs retry excessively. Please avoid overriding defaults like this\nfor all the jobs as it is easy for peopel to forget the setting is in\nplace.\n\nNext move the job to the experimental queue. If it is non voting and\nrarely passes it can be manually triggered by individuals that are\nworking to correct the job that rarely succeeds. Then once reliable the\njob can be added back to the check pipeline.\n\nChange-Id: Ie468f5170c9df8a235953337753043f5b9f74578\n(cherry picked from commit 99410ae6e434cf1172b3f621cec24e67493239b7)\n""}]",3,843639,ea0a46b3d33781ff3dd02316896e05fdd9afbb3c,16,3,2,30491,,,0,"Cleanup zuul jobs a bit

These sorts of changes should likely be made across all of kolla. I'm
pushing the update to victoria because 843400 is a victoria change that
caused me to look into this.

First up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a
multinode job that retries many times, is non voting, and a check only
job. The value of a job like this on a stable branch is likely minimal.

First we remove the non default attempts value on the base job. You
should set this per job instead only when necessary and after debugging
why jobs retry excessively. Please avoid overriding defaults like this
for all the jobs as it is easy for peopel to forget the setting is in
place.

Next move the job to the experimental queue. If it is non voting and
rarely passes it can be manually triggered by individuals that are
working to correct the job that rarely succeeds. Then once reliable the
job can be added back to the check pipeline.

Change-Id: Ie468f5170c9df8a235953337753043f5b9f74578
(cherry picked from commit 99410ae6e434cf1172b3f621cec24e67493239b7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/843639/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,111495d04e269c1e45daec70fa74bdfa0bd77d68,cleanup-jobs-stable/ussuri, experimental: jobs: - kolla-ansible-centos8s-source-upgrade-ceph-ansible,,3,1
openstack%2Fkolla-ansible~master~I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8,openstack/kolla-ansible,master,I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8,[CI] Disable stdin in the core tests,ABANDONED,2022-05-27 18:13:42.000000000,2022-05-28 11:53:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-27 18:13:42.000000000', 'files': ['tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6b46c185951e0225a616eb97a2417cd68e19eec', 'message': '[CI] Disable stdin in the core tests\n\nDepending on the way the testing script is called, it may sense\nstdin being available and not being a tty [1]. The logic in the\nGlance part of the client is then broken [2] as it detects both\nvolume and stdin as sources of the image and fails.\nThe proposed approach disables stdin for these tests.\nThis fixes the cephadm upgrade jobs where this script was called\nusing the shell module which causes this behaviour. The script\nmodule is not affected. FWIW, the command module is affected\nthe same as shell because shell extends the command module.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120\n[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414\n\nCo-Authored-By: Jens Harbott (frickler) <frickler@offenerstapel.de>\nChange-Id: I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8\n'}]",1,843669,f6b46c185951e0225a616eb97a2417cd68e19eec,5,2,1,30491,,,0,"[CI] Disable stdin in the core tests

Depending on the way the testing script is called, it may sense
stdin being available and not being a tty [1]. The logic in the
Glance part of the client is then broken [2] as it detects both
volume and stdin as sources of the image and fails.
The proposed approach disables stdin for these tests.
This fixes the cephadm upgrade jobs where this script was called
using the shell module which causes this behaviour. The script
module is not affected. FWIW, the command module is affected
the same as shell because shell extends the command module.

[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120
[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414

Co-Authored-By: Jens Harbott (frickler) <frickler@offenerstapel.de>
Change-Id: I84050d040e7a0ea4e8bc0ed0a161fce2346cbdc8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/843669/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-core-openstack.sh'],1,f6b46c185951e0225a616eb97a2417cd68e19eec,ci-stdin,test_openstack <&-,test_openstack,1,1
openstack%2Fproject-config~master~I9be97564806ade48a49556d8e595bcbeea123db4,openstack/project-config,master,I9be97564806ade48a49556d8e595bcbeea123db4,"Fix kolla panel for Grafana, part 2",MERGED,2022-05-28 09:49:23.000000000,2022-05-28 11:41:13.000000000,2022-05-28 11:10:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 09:49:23.000000000', 'files': ['grafana/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d391c5b04a638295eec064e0b40258789537952e', 'message': 'Fix kolla panel for Grafana, part 2\n\nThis is a follow-up to [0] fixing some pipeline names.\n\n[0] I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d\n\nChange-Id: I9be97564806ade48a49556d8e595bcbeea123db4\n'}]",0,843716,d391c5b04a638295eec064e0b40258789537952e,7,2,1,13252,,,0,"Fix kolla panel for Grafana, part 2

This is a follow-up to [0] fixing some pipeline names.

[0] I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d

Change-Id: I9be97564806ade48a49556d8e595bcbeea123db4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/843716/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/kolla.yaml'],1,d391c5b04a638295eec064e0b40258789537952e,fix-kolla-grafana," - title: Kolla Build ARM Failure Rates (Check-arm64 queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu-aarch64') - title: Kolla Publish Failure Rates (Periodic queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-debian-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-ubuntu-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-centos8-quay')"," - title: Kolla Build ARM Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu-aarch64') - title: Kolla Publish Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-debian-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-ubuntu-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-centos8-quay')",7,7
openstack%2Fproject-config~master~I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d,openstack/project-config,master,I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d,Fix kolla panel for Grafana,MERGED,2022-05-28 08:41:01.000000000,2022-05-28 09:41:41.000000000,2022-05-28 09:07:15.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 08:41:01.000000000', 'files': ['grafana/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7be0824a6ef51d48117eca63e03b649ee173783d', 'message': 'Fix kolla panel for Grafana\n\nDrop binary jobs that no longer run. Add aarch64 jobs and publish jobs.\n\nChange-Id: I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d\n'}]",1,843715,7be0824a6ef51d48117eca63e03b649ee173783d,7,2,1,13252,,,0,"Fix kolla panel for Grafana

Drop binary jobs that no longer run. Add aarch64 jobs and publish jobs.

Change-Id: I27fe7f3ca1ae4e821240d97b97fbf0c7fb09600d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/843715/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/kolla.yaml'],1,7be0824a6ef51d48117eca63e03b649ee173783d,fix-kolla-grafana," - title: Kolla Build Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-centos8') - title: Kolla Build ARM Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-ubuntu-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-centos8-source') type: graph - title: Kolla-Ansible Source Upgrade Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-debian-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-ubuntu-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-centos8-source-upgrade') type: graph - title: Kolla Publish Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-debian-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-ubuntu-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-centos8-quay')"," - title: Kolla Build Source Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-centos8-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian-source') - title: Kolla Build Binary Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8-binary.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8-binary.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-centos8-binary') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-binary.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-binary.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu-binary') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-binary.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-binary.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian-binary') type: graph - title: Kolla-Ansible Binary Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-binary.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-binary.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-centos8-binary') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-binary.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-binary.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-ubuntu-binary') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-centos8-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-ubuntu-source')",23,16
openstack%2Fdevstack~master~Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62,openstack/devstack,master,Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62,Set cinder image cache limits,NEW,2017-06-30 18:23:00.000000000,2022-05-28 09:33:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12924}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-06-30 18:23:00.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/eb77037f180c88fbf0b4d99aecbf120b8cf5e0f7', 'message': 'Set cinder image cache limits\n\nWe used to just let it go to unlimited, but we should\nactually test with limits for better coverage with\ncinder code and to better mimic a ""real"" deployment.\n\nMost users would not have an unlimited cache size.\n\nPartial-Bug: #1701696\nChange-Id: Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62\nDepends-On: Ia6d43b35843682bd201e57bb2941ca0243606412\n'}]",1,479392,eb77037f180c88fbf0b4d99aecbf120b8cf5e0f7,17,8,1,12924,,,0,"Set cinder image cache limits

We used to just let it go to unlimited, but we should
actually test with limits for better coverage with
cinder code and to better mimic a ""real"" deployment.

Most users would not have an unlimited cache size.

Partial-Bug: #1701696
Change-Id: Id74b1a0a51427e52cf3f1946efa7700a2bfcfe62
Depends-On: Ia6d43b35843682bd201e57bb2941ca0243606412
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/479392/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,eb77037f180c88fbf0b4d99aecbf120b8cf5e0f7,bug/1701696,"# For limits, set to 0 for unlimited CINDER_IMG_CACHE_SIZE_GB=${CINDER_IMG_CACHE_SIZE_GB:-10} CINDER_IMG_CACHE_SIZE_COUNT=${CINDER_IMG_CACHE_SIZE_COUNT:-5}","# For limits, if left unset, it will use cinder defaults of 0 for unlimited CINDER_IMG_CACHE_SIZE_GB=${CINDER_IMG_CACHE_SIZE_GB:-} CINDER_IMG_CACHE_SIZE_COUNT=${CINDER_IMG_CACHE_SIZE_COUNT:-}",3,3
openstack%2Fopenstack-manuals~master~I7510a5a14537b06d905964f6cf9386a78db0cdd3,openstack/openstack-manuals,master,I7510a5a14537b06d905964f6cf9386a78db0cdd3,Yoga: Add front page links to both charm guides,MERGED,2022-05-27 21:32:01.000000000,2022-05-28 08:42:34.000000000,2022-05-28 08:16:37.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 21:32:01.000000000', 'files': ['www/project-data/yoga.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0d280510a8a63cb9473d0021dfe8e29e69ea2bc9', 'message': 'Yoga: Add front page links to both charm guides\n\nAdd front page doc links for the following project guides:\n\n* charm-guide\n* charm-deployment-guide\n\nChange-Id: I7510a5a14537b06d905964f6cf9386a78db0cdd3\n'}]",0,843692,0d280510a8a63cb9473d0021dfe8e29e69ea2bc9,7,2,1,30561,,,0,"Yoga: Add front page links to both charm guides

Add front page doc links for the following project guides:

* charm-guide
* charm-deployment-guide

Change-Id: I7510a5a14537b06d905964f6cf9386a78db0cdd3
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/92/843692/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/yoga.yaml'],1,0d280510a8a63cb9473d0021dfe8e29e69ea2bc9,add-link-to-both-guides-yoga,- name: charm-guide type: deployment service: OpenStack Charm Guide has_admin_guide: true has_in_tree_htaccess: true - name: charm-deployment-guide type: deployment service: OpenStack Charms Deployment has_deployment_guide: true has_in_tree_htaccess: true has_project_guide: false,#- name: charm-guide # type: deployment # service: OpenStack Charm Guide # has_admin_guide: true # has_in_tree_htaccess: true #- name: charm-deployment-guide # type: deployment # service: OpenStack Charms Deployment # has_deployment_guide: true # has_in_tree_htaccess: true # has_project_guide: false,11,11
openstack%2Fdevstack~stable%2Fpike~Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,openstack/devstack,stable/pike,Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,Drop signing_dir option from configure_auth_token_middleware,ABANDONED,2017-11-17 18:53:58.000000000,2022-05-28 08:11:34.000000000,,"[{'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-17 18:53:58.000000000', 'files': ['lib/cinder', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac2a03bd4072dcddaf5653034305142fc0020da8', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented. This patch removes deprecation warnings from\nvarious services startup log.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}]",2,521160,ac2a03bd4072dcddaf5653034305142fc0020da8,9,6,1,6593,,,0,"Drop signing_dir option from configure_auth_token_middleware

This is no longer being used due to Keystone PKI tokens no longer
being implemented. This patch removes deprecation warnings from
various services startup log.

Change-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610
",git fetch https://review.opendev.org/openstack/devstack refs/changes/60/521160/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/neutron-legacy']",7,ac2a03bd4072dcddaf5653034305142fc0020da8,, configure_auth_token_middleware $NEUTRON_CONF nova nova configure_auth_token_middleware $conf_file $Q_ADMIN_USERNAME $section, configure_auth_token_middleware $NEUTRON_CONF nova $NEUTRON_AUTH_CACHE_DIR nova configure_auth_token_middleware $conf_file $Q_ADMIN_USERNAME $NEUTRON_AUTH_CACHE_DIR $section,12,14
openstack%2Fdevstack~master~I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4,openstack/devstack,master,I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4,DNM:Testing,ABANDONED,2019-06-20 07:59:07.000000000,2022-05-28 08:10:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-20 07:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0005c1e5282c72c4365f509c4914114198606589', 'message': 'DNM:Testing\n\nChange-Id: I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4\n'}, {'number': 2, 'created': '2019-06-21 11:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/129296b16729af31dffb17ae218bbaff12a530cd', 'message': 'DNM:Testing\n\nChange-Id: I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4\n'}, {'number': 3, 'created': '2019-06-21 16:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/37a5c5248784f1d839af5423139f7a0171b28224', 'message': 'DNM:Testing\n\nChange-Id: I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4\n'}, {'number': 4, 'created': '2019-06-21 17:05:16.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/aacbd88f6ba7f5dc6db82b9c7b056bdc45978df9', 'message': 'DNM:Testing\n\nChange-Id: I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4\n'}]",0,666512,aacbd88f6ba7f5dc6db82b9c7b056bdc45978df9,8,1,4,8556,,,0,"DNM:Testing

Change-Id: I8b9f6e2e6e2e45d175a3eeae97a91212a05206d4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/12/666512/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,0005c1e5282c72c4365f509c4914114198606589,test," DEFAULT_NET_EXT=""address-scope,agent,allowed-address-pairs,auto-allocated-topology"" DEFAULT_NET_EXT+="",availability_zone,binding,default-subnetpools,dhcp_agent_scheduler"" DEFAULT_NET_EXT+="",dvr,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors"" DEFAULT_NET_EXT+="",l3-flavors,l3-ha,l3_agent_scheduler,multi-provider,net-mtu"" DEFAULT_NET_EXT+="",network-ip-availability,network_availability_zone,pagination"" DEFAULT_NET_EXT+="",port-security,project-id,provider,quotas,quota_details,rbac-policies"" DEFAULT_NET_EXT+="",revision-if-match,router,router_availability_zone,security-group,service-type,sorting"" DEFAULT_NET_EXT+="",standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp"" DEFAULT_NET_EXT+="",subnet-service-types,subnet_allocation,net-mtu-writable,ip-substring-filtering"" DEFAULT_NET_EXT+="",availability_zone_filter,filter-validation,empty-string-filtering ,port-mac-address-regenerate"" DEFAULT_NET_EXT+="",port-security-groups-filtering,fip-port-details,binding-extended"" DEFAULT_NET_EXT+="",subnet_onboard,l3-port-ip-change-not-allowed,agent-resources-synced"" DEFAULT_NET_EXT+="",floatingip-pools,rbac-security-groups"" local network_api_extensions=${NETWORK_API_EXTENSIONS:-$DEFAULT_NET_EXT} network_api_extensions+="","" + ADDITIONAL_NETWORK_API_EXTENSIONS"," local network_api_extensions=${NETWORK_API_EXTENSIONS:-""all""} network_api_extensions+="", "" + ADDITIONAL_NETWORK_API_EXTENSIONS",15,2
openstack%2Fdevstack~stable%2Ftrain~If7ddbd6655086657db03074a27a2d47053fd88e0,openstack/devstack,stable/train,If7ddbd6655086657db03074a27a2d47053fd88e0,CentOS 8 support,ABANDONED,2020-10-06 06:58:24.000000000,2022-05-28 08:10:11.000000000,,"[{'_account_id': 7118}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-06 06:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/08a20f2af8aaa53804c40b8918ca7fa4df9cd5b0', 'message': 'CentOS 8 support\n\nThis adds support for CentOS 8\n\nChange-Id: If7ddbd6655086657db03074a27a2d47053fd88e0\n(cherry picked from commit 36705b52336a442dc05d9874638d269834ff93b7)\n'}, {'number': 2, 'created': '2020-10-06 07:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2afacfba161506636ce3417f9024725f6214f9b9', 'message': 'CentOS 8 support\n\nThis adds support for CentOS 8\n\nChange-Id: If7ddbd6655086657db03074a27a2d47053fd88e0\n(cherry picked from commit 36705b52336a442dc05d9874638d269834ff93b7)\n'}, {'number': 3, 'created': '2020-12-23 05:13:13.000000000', 'files': ['.zuul.yaml', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/db8b9066e6356a3e3f7d9ad9455121cd29ac252f', 'message': 'CentOS 8 support\n\nThis adds support for CentOS 8\n\nChange-Id: If7ddbd6655086657db03074a27a2d47053fd88e0\n(cherry picked from commit 36705b52336a442dc05d9874638d269834ff93b7)\n'}]",0,756205,db8b9066e6356a3e3f7d9ad9455121cd29ac252f,14,5,3,20363,,,0,"CentOS 8 support

This adds support for CentOS 8

Change-Id: If7ddbd6655086657db03074a27a2d47053fd88e0
(cherry picked from commit 36705b52336a442dc05d9874638d269834ff93b7)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/756205/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'stack.sh']",2,08a20f2af8aaa53804c40b8918ca7fa4df9cd5b0,train,"if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7|rhel8) ]]; then # epel-release is in extras repo which is enabled by default install_package epel-release # RDO repos are not tested with epel and may have incompatibilities so # let's limit the packages fetched from epel to the ones not in RDO repos. sudo yum-config-manager --save --setopt=includepkgs=debootstrap,dpkg epel # NOTE(ianw) 2020-04-30 : when we have future branches, we # probably want to install the relevant branch RDO release as # well. But for now it's all master. sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm sudo dnf -y updateif [[ $DISTRO == ""rhel8"" ]]; then sudo dnf config-manager --set-enabled epel # PowerTools repo provides libyaml-devel required by devstack itself and # EPEL packages assume that the PowerTools repository is enable. sudo dnf config-manager --set-enabled PowerTools # NOTE(cgoncalves): workaround RHBZ#1154272 # dnf fails for non-privileged users when expired_repos.json doesn't exist. # RHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1154272 # Patch: https://github.com/rpm-software-management/dnf/pull/1448 echo ""[]"" | sudo tee /var/cache/dnf/expired_repos.json","if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then # This trick installs the latest epel-release from a bootstrap # repo, then removes itself (as epel-release installed the # ""real"" repo). # # You would think that rather than this, you could use # $releasever directly in .repo file we create below. However # RHEL gives a $releasever of ""6Server"" which breaks the path; # see https://bugzilla.redhat.com/show_bug.cgi?id=1150759 cat <<EOF | sudo tee /etc/yum.repos.d/epel-bootstrap.repo [epel-bootstrap] name=Bootstrap EPEL mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-7&arch=\$basearch failovermethod=priority enabled=0 gpgcheck=0 EOF # Enable a bootstrap repo. It is removed after finishing # the epel-release installation. is_package_installed yum-utils || install_package yum-utils sudo yum-config-manager --enable epel-bootstrap yum_install epel-release || \ die $LINENO ""Error installing EPEL repo, cannot continue"" sudo rm -f /etc/yum.repos.d/epel-bootstrap.repo # There are multiple options for this, including using CloudSIG # repositories (centos-release-*), trunk versions, etc. Since # we're not interested in the actual openstack distributions # (since we're using git to run!) but only peripherial packages # like kvm or ovs, this has been reliable. # TODO(ianw): figure out how to best mirror -- probably use infra # mirror RDO reverse proxy. We could either have test # infrastructure set it up disabled like EPEL, or fiddle it here. # Per the point above, it's a bunch of repos so starts getting a # little messy... if ! is_package_installed rdo-release ; then if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") yum_install https://rdoproject.org/repos/openstack-$rdo_release/rdo-release-$rdo_release.rpm fi fi # Also enable optional for RHEL7 proper. Note this is a silent # no-op on other platforms. sudo yum-config-manager --enable rhel-7-server-optional-rpms # Enable the Software Collections (SCL) repository for CentOS. # This repository includes useful software (e.g. the Go Toolset) # which is not present in the main repository. if [[ ""$os_VENDOR"" =~ (CentOS) ]]; then yum_install centos-release-scl fi if is_oraclelinux; then sudo yum-config-manager --enable ol7_optional_latest ol7_addons ol7_MySQL56 fiif [[ $DISTRO == ""rhel7"" ]]; then sudo yum-config-manager --enable epel",43,62
openstack%2Fdevstack~master~Ia64535f9de80a0c3a247eaf68375babe64f4d5a1,openstack/devstack,master,Ia64535f9de80a0c3a247eaf68375babe64f4d5a1,Make the nova wait timeout as user configurable,ABANDONED,2017-09-08 00:48:34.000000000,2022-05-28 07:39:15.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11240}, {'_account_id': 17256}, {'_account_id': 19684}]","[{'number': 1, 'created': '2017-09-08 00:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ad802886980c5f8ada44c2f2897df148707adc79', 'message': 'Make the nova wait timeout as user configurable\n\nA recent change added wait in coompute node until nova\nservices are available. This timeout was hard coded as 60.\nThis patch makes the value configurable.\n\nChange-Id: Ia64535f9de80a0c3a247eaf68375babe64f4d5a1\nSigned-off-by: gvrangan <venkatrangang@hcl.com>\n'}, {'number': 2, 'created': '2017-09-08 00:51:01.000000000', 'files': ['lib/nova', 'samples/local.conf', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/40dbfe41b9a22767a9b95bc2043f41ccb856600a', 'message': 'Make the nova wait timeout as user configurable\n\nA recent change added wait in coompute node until nova\nservices are available. This timeout was hard coded as 60.\nThis patch makes the value configurable.\n\nChange-Id: Ia64535f9de80a0c3a247eaf68375babe64f4d5a1\nSigned-off-by: gvrangan <venkatrangang@hcl.com>\n'}]",0,501907,40dbfe41b9a22767a9b95bc2043f41ccb856600a,16,8,2,17256,,,0,"Make the nova wait timeout as user configurable

A recent change added wait in coompute node until nova
services are available. This timeout was hard coded as 60.
This patch makes the value configurable.

Change-Id: Ia64535f9de80a0c3a247eaf68375babe64f4d5a1
Signed-off-by: gvrangan <venkatrangang@hcl.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/501907/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'stackrc']",2,ad802886980c5f8ada44c2f2897df148707adc79,,#Set up Wait Timeout while bringing up Nova Compute #Wait until timeout value to check if Nova service is running NOVA_WAIT_TIMEOUT=${NOVA_WAIT_TIMEOUT:-60} ,,5,1
openstack%2Fdevstack~master~Ia48fc974cfe994c7d8af98583eae9050cc058468,openstack/devstack,master,Ia48fc974cfe994c7d8af98583eae9050cc058468,DNM: test swift logs,ABANDONED,2018-08-16 16:59:49.000000000,2022-05-28 07:35:05.000000000,,"[{'_account_id': 1}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-16 16:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/730a70a97d2393e7b9d36775e5b30d7b0309d5fb', 'message': 'DNM: test swift logs\n\nChange-Id: Ia48fc974cfe994c7d8af98583eae9050cc058468\nDepends-On: https://review.openstack.org/592581\n'}, {'number': 2, 'created': '2018-08-17 20:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8f36d879ddc94b19751f626d0b75f884ed69da89', 'message': 'DNM: test swift logs\n\nChange-Id: Ia48fc974cfe994c7d8af98583eae9050cc058468\nDepends-On: https://review.openstack.org/592581\nDepends-On: https://review.openstack.org/593165\n'}]",0,592582,8f36d879ddc94b19751f626d0b75f884ed69da89,19,6,2,1,,,0,"DNM: test swift logs

Change-Id: Ia48fc974cfe994c7d8af98583eae9050cc058468
Depends-On: https://review.openstack.org/592581
Depends-On: https://review.openstack.org/593165
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/592582/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,730a70a97d2393e7b9d36775e5b30d7b0309d5fb,,,,0,0
openstack%2Fdevstack~master~Id9e8126471d4c828457834e48e11beae5d0636fe,openstack/devstack,master,Id9e8126471d4c828457834e48e11beae5d0636fe,import/export elasticsearch gpg key for suse,ABANDONED,2018-07-04 15:07:02.000000000,2022-05-28 07:34:30.000000000,,"[{'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-07-04 15:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/136164cab4c73a24598b7a78bffac1a1f19d2075', 'message': 'import/export elasticsearch gpg key for suse\n\nignoring gpg key check while install is not a good idea\n\nChange-Id: Id9e8126471d4c828457834e48e11beae5d0636fe\n'}, {'number': 2, 'created': '2018-07-09 07:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab99d6ee626110dc6414af8e38cc377b01be8ab5', 'message': 'import/export elasticsearch gpg key for suse\n\nIgnoring gpg key check while install is not a good idea\nso wrapping the install process in install/uninstall of the gpgkey\n\nRemoving the key to not leave any unnecessary artifacts\n\nChange-Id: Id9e8126471d4c828457834e48e11beae5d0636fe\n'}, {'number': 3, 'created': '2018-08-24 14:16:35.000000000', 'files': ['pkg/elasticsearch.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d5a863b68b3fb2a8bebebdca87c982a4d99ec331', 'message': 'import/export elasticsearch gpg key for suse\n\nIgnoring gpg key check while install is not a good idea\nso wrapping the install process in install/uninstall of the gpgkey\n\nRemoving the key to not leave any unnecessary artifacts\n\nChange-Id: Id9e8126471d4c828457834e48e11beae5d0636fe\n'}]",2,580183,d5a863b68b3fb2a8bebebdca87c982a4d99ec331,26,8,3,23735,,,0,"import/export elasticsearch gpg key for suse

Ignoring gpg key check while install is not a good idea
so wrapping the install process in install/uninstall of the gpgkey

Removing the key to not leave any unnecessary artifacts

Change-Id: Id9e8126471d4c828457834e48e11beae5d0636fe
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/580183/1 && git format-patch -1 --stdout FETCH_HEAD,['pkg/elasticsearch.sh'],1,136164cab4c73a24598b7a78bffac1a1f19d2075,, sudo rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch zypper_install ${FILES}/elasticsearch-${ELASTICSEARCH_VERSION}.noarch.rpm sudo rpm -e $(sudo rpm -q gpg-pubkey --qf '%{NAME}-%{VERSION}-%{RELEASE}\t%{SUMMARY}\n' | grep [Ee]lasticsearch | cut -f1), zypper_install --no-gpg-checks ${FILES}/elasticsearch-${ELASTICSEARCH_VERSION}.noarch.rpm,3,1
openstack%2Fdevstack~master~I32a7f0945ec35d7a27847b18fe9b8d108038132e,openstack/devstack,master,I32a7f0945ec35d7a27847b18fe9b8d108038132e,"opensuse: codename is n/a for tumbleweed & Leap, use os_release",ABANDONED,2018-07-04 15:36:28.000000000,2022-05-28 07:34:04.000000000,,"[{'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-07-04 15:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a679c6ee5da2b5f184528460be55d9f45173587', 'message': 'opensuse: codename is n/a for tumbleweed/Leap, use os_release\n\nChange-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e\n'}, {'number': 2, 'created': '2018-07-04 18:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/13ef5b97888455fc3d52a842d3ad7eee93c24ca4', 'message': 'opensuse: codename is n/a for tumbleweed/Leap, use os_release\n\nChange-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e\n'}, {'number': 3, 'created': '2018-07-04 18:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26cc1dda73e7414eb04a547ce6c411d957238568', 'message': 'opensuse: codename is n/a for tumbleweed & Leap, use os_release\n\nChange-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e\n'}, {'number': 4, 'created': '2018-07-04 20:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/84c4b5dc6641117f750782fa75673bac082bfe9b', 'message': 'opensuse: codename is n/a for tumbleweed & Leap, use os_release\n\nChange-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e\n'}, {'number': 5, 'created': '2018-09-11 16:44:26.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cbc0164a7eb2f6cb312725502d6e1571daa12f21', 'message': 'opensuse: codename is n/a for tumbleweed & Leap, use os_release\n\nChange-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e\n'}]",3,580199,cbc0164a7eb2f6cb312725502d6e1571daa12f21,36,8,5,23735,,,0,"opensuse: codename is n/a for tumbleweed & Leap, use os_release

Change-Id: I32a7f0945ec35d7a27847b18fe9b8d108038132e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/99/580199/5 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,0a679c6ee5da2b5f184528460be55d9f45173587,," [ ""$os_RELEASE =~ (201[89]) ] && DISTRO=""opensuse-tumbleweed"""," [ ""$os_CODENAME"" = ""n/a"" ] && DISTRO=""opensuse-tumbleweed""",1,1
openstack%2Fdevstack~master~Ie2dcaa434f49544d24a6f4d139078e18415a8517,openstack/devstack,master,Ie2dcaa434f49544d24a6f4d139078e18415a8517,Add non-voting octavia-v2-dsvm-scenario-centos-8,ABANDONED,2020-08-20 15:46:11.000000000,2022-05-28 07:32:14.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-20 15:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/03848a8b3f22b13a1a9d715c70f5b2a71e5bb835', 'message': 'Add non-voting octavia-v2-dsvm-scenario-centos-8\n\nThe Octavia scenario job is a comprehensive CI job that relies on\nmultiple core OpenStack services like Nova, Neutron, Glance and\nKeystone. It also exercises use-cases not test covered by some of these\nprojects, so having an Octavia CI job in Devstack adds greater value.\n\nAdditionally, Octavia is part of the recommended minimal starting set of\nOpenStack services for Kubernetes clusters [1].\n\n[1] https://review.opendev.org/#/c/736369/\n\nChange-Id: Ie2dcaa434f49544d24a6f4d139078e18415a8517\n'}, {'number': 2, 'created': '2020-09-24 06:46:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/207339f8bccdd78a6a2a4404f857c81b5bfe0c63', 'message': 'Add non-voting octavia-v2-dsvm-scenario-centos-8\n\nThe Octavia scenario job is a comprehensive CI job that relies on\nmultiple core OpenStack services like Nova, Neutron, Glance and\nKeystone. It also exercises use-cases not test covered by some of these\nprojects, so having an Octavia CI job in Devstack adds greater value.\n\nAdditionally, Octavia is part of the recommended minimal starting set of\nOpenStack services for Kubernetes clusters [1].\n\n[1] https://review.opendev.org/#/c/736369/\n\nChange-Id: Ie2dcaa434f49544d24a6f4d139078e18415a8517\n'}]",0,747227,207339f8bccdd78a6a2a4404f857c81b5bfe0c63,7,3,2,6469,,,0,"Add non-voting octavia-v2-dsvm-scenario-centos-8

The Octavia scenario job is a comprehensive CI job that relies on
multiple core OpenStack services like Nova, Neutron, Glance and
Keystone. It also exercises use-cases not test covered by some of these
projects, so having an Octavia CI job in Devstack adds greater value.

Additionally, Octavia is part of the recommended minimal starting set of
OpenStack services for Kubernetes clusters [1].

[1] https://review.opendev.org/#/c/736369/

Change-Id: Ie2dcaa434f49544d24a6f4d139078e18415a8517
",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/747227/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03848a8b3f22b13a1a9d715c70f5b2a71e5bb835,centos-gating, - octavia-v2-dsvm-scenario-centos-8: voting: false,,2,0
openstack%2Fdevstack~master~Iac28518e6624afe456ca0a5963c0619c69a1a1b0,openstack/devstack,master,Iac28518e6624afe456ca0a5963c0619c69a1a1b0,zuul: trigger opensuse job periodically,ABANDONED,2020-11-30 14:15:48.000000000,2022-05-28 07:31:33.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-30 14:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fcad5634c5717e11bcd1753f1a6857912f676d26', 'message': 'zuul: trigger opensuse job periodically\n\nThis will make it easier to notice if a cause for an error appears in\nthe nodepool provided image. As nodepool images are not tested against\njobs after they change.\n\nChange-Id: Iac28518e6624afe456ca0a5963c0619c69a1a1b0\n'}, {'number': 2, 'created': '2020-12-18 18:34:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/41a01fce7d8332a81317841cfb0b7880e3f762b7', 'message': 'zuul: trigger opensuse job periodically\n\nThis will make it easier to notice if a cause for an error appears in\nthe nodepool provided image. As nodepool images are not tested against\njobs after they change.\n\nChange-Id: Iac28518e6624afe456ca0a5963c0619c69a1a1b0\n'}]",1,764762,41a01fce7d8332a81317841cfb0b7880e3f762b7,16,3,2,12907,,,0,"zuul: trigger opensuse job periodically

This will make it easier to notice if a cause for an error appears in
the nodepool provided image. As nodepool images are not tested against
jobs after they change.

Change-Id: Iac28518e6624afe456ca0a5963c0619c69a1a1b0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/764762/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fcad5634c5717e11bcd1753f1a6857912f676d26,, periodic-weekly: jobs: - devstack-platform-opensuse-15,,3,0
openstack%2Fdevstack~master~I77fd136c0e60edbf20af5155878e7aaaaecfca3c,openstack/devstack,master,I77fd136c0e60edbf20af5155878e7aaaaecfca3c,DNM: troubleshoot detach in centos-9-stream job,ABANDONED,2022-02-10 12:24:07.000000000,2022-05-28 07:30:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-10 12:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d9b82306254f764d8bea7c903a6cfb116c0f1da', 'message': 'DNM: change detach timeout in centos-9-stream\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 2, 'created': '2022-02-10 12:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a070ceca9aa890a299dc23eea96d5450a87628e', 'message': 'DNM: change detach timeout in centos-9-stream\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 3, 'created': '2022-02-10 14:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4e8ca3cf14961145a63bc2b23933540e2aa4738d', 'message': 'DNM: change detach timeout in centos-9-stream\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 4, 'created': '2022-02-10 14:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/885fd9873fd97f1ad0032517ce77ac1b3cf31660', 'message': 'DNM: change detach timeout in centos-9-stream\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 5, 'created': '2022-02-10 15:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/224e7d0d4b96172d364514a1d11a13d6c739e6a1', 'message': 'DNM: change detach timeout in centos-9-stream\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 6, 'created': '2022-02-11 11:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/532dd245348a5d0439a30f78e60410fe5ad1a4b0', 'message': 'DNM: change detach timeout in centos-9-stream\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 7, 'created': '2022-02-11 12:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25cd87e64e7a2938b9dd4c2e308ffb4ff8d4a675', 'message': 'DNM: change detach timeout in centos-9-stream\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/828863\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}, {'number': 8, 'created': '2022-02-11 13:23:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a8f26656eb2e5c111dd8e1d7bed0fd4bc741099a', 'message': 'DNM: troubleshoot detach in centos-9-stream job\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/828863\n\nRelated-Bug: #1960346\nChange-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c\n'}]",3,828705,a8f26656eb2e5c111dd8e1d7bed0fd4bc741099a,25,1,8,9708,,,0,"DNM: troubleshoot detach in centos-9-stream job

Depends-On: https://review.opendev.org/c/openstack/tempest/+/828863

Related-Bug: #1960346
Change-Id: I77fd136c0e60edbf20af5155878e7aaaaecfca3c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/828705/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0d9b82306254f764d8bea7c903a6cfb116c0f1da,bug/1960346, devstack_local_conf: post-config: $NOVA_CPU_CONF: libvirt: # Lets increase the timeout but decrease the retry attempts to # see if that helps with bug 1960346 device_detach_timeout: 60 device_detach_attempts: 3 ,,9,0
openstack%2Fdevstack~master~I2720ad1b6cff7474c27bef66b72183f09fe4da79,openstack/devstack,master,I2720ad1b6cff7474c27bef66b72183f09fe4da79,DNM test centos jobs,ABANDONED,2022-02-02 08:13:19.000000000,2022-05-28 07:28:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 08:13:19.000000000', 'files': ['test', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5da4919fd09109211c94f9a1db7fffe24c68c2f', 'message': 'DNM test centos jobs\n\nChange-Id: I2720ad1b6cff7474c27bef66b72183f09fe4da79\n'}]",1,827420,c5da4919fd09109211c94f9a1db7fffe24c68c2f,5,1,1,16312,,,0,"DNM test centos jobs

Change-Id: I2720ad1b6cff7474c27bef66b72183f09fe4da79
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/827420/1 && git format-patch -1 --stdout FETCH_HEAD,"['test', '.zuul.yaml']",2,c5da4919fd09109211c94f9a1db7fffe24c68c2f,,, - devstack - devstack-ipv6 - devstack-enforce-scope - devstack-platform-fedora-latest - devstack-platform-debian-bullseye - devstack-platform-openEuler-20.03-SP2 - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,0,45
openstack%2Fdevstack~master~I92325d11998f6a130266fdaaa2d89f460e55b7c9,openstack/devstack,master,I92325d11998f6a130266fdaaa2d89f460e55b7c9,Set devstack-platform-centos-8 voting,ABANDONED,2020-08-20 12:16:34.000000000,2022-05-28 07:27:43.000000000,,"[{'_account_id': 1955}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-20 12:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d050b27c36b2f7337182c39ca5ccad53ea5be9c3', 'message': 'Set devstack-platform-centos-8 voting\n\nIt is important for projects to do CI/CD gating on the top most common\nenvironment used by operators.\n\nCentOS 8 is one of three LTS or stable distributions for Victoria [2]\nand the most widely used distribution according to the OpenStack User\nSurvey 2019 [1] with a combined 55% of OpenStack cloud deployments\nrunning mainly on CentOS/RHEL distribution. We should gate on CentOS 8.\n\nShould this platform become a gate blocker, the community should either\nfix the issue internally when applicable, or report it upstream and\nprovide a workaround whenever possible. If a workaround is not feasible\nand upstream is not responsive, please escalate to CentOS/RHEL\ncolleagues in the OpenStack community; only after the job could be\nturned non-voting (and back to voting once issue is resolved).\n\n[1] https://www.openstack.org/analytics\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I92325d11998f6a130266fdaaa2d89f460e55b7c9\n'}, {'number': 2, 'created': '2020-08-20 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e2ad66f64ff916340e57d431644f5ce53eaf1c16', 'message': 'Set devstack-platform-centos-8 voting\n\nIt is important for projects to do CI/CD gating on the top most common\nenvironment used by operators.\n\nCentOS 8 is one of three LTS or stable distributions for Victoria [2]\nand the most widely used distribution according to the OpenStack User\nSurvey 2019 [1] with a combined 55% of OpenStack cloud deployments\nrunning mainly on CentOS/RHEL distribution. We should gate on CentOS 8.\n\nShould this platform become a gate blocker, the community should either\nfix the issue internally when applicable, or report it upstream and\nprovide a workaround whenever possible. If a workaround is not feasible\nand upstream is not responsive, please escalate to CentOS/RHEL\ncolleagues in the OpenStack community; only after the job could be\nturned non-voting (and back to voting once issue is resolved).\n\n[1] https://www.openstack.org/analytics\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I92325d11998f6a130266fdaaa2d89f460e55b7c9\n'}, {'number': 3, 'created': '2020-08-21 13:59:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1666d64ac959545a3684c0f86df6e2721168ee5f', 'message': 'Set devstack-platform-centos-8 voting\n\nIt is important for projects to do CI/CD gating on the top most common\nenvironment used by operators.\n\nCentOS 8 is one of three LTS or stable distributions for Victoria [2]\nand the most widely used distribution according to the OpenStack User\nSurvey 2019 [1] with a combined 55% of OpenStack cloud deployments\nrunning mainly on CentOS/RHEL distribution. We should gate on CentOS 8.\n\nShould this platform become a gate blocker, the community should either\nfix the issue internally when applicable, or report it upstream and\nprovide a workaround whenever possible. If a workaround is not feasible\nand upstream is not responsive, please escalate to CentOS/RHEL\ncolleagues in the OpenStack community; only after the job could be\nturned non-voting (and back to voting once issue is resolved).\n\n[1] https://www.openstack.org/analytics\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I92325d11998f6a130266fdaaa2d89f460e55b7c9\n'}]",0,747151,1666d64ac959545a3684c0f86df6e2721168ee5f,16,6,3,6469,,,0,"Set devstack-platform-centos-8 voting

It is important for projects to do CI/CD gating on the top most common
environment used by operators.

CentOS 8 is one of three LTS or stable distributions for Victoria [2]
and the most widely used distribution according to the OpenStack User
Survey 2019 [1] with a combined 55% of OpenStack cloud deployments
running mainly on CentOS/RHEL distribution. We should gate on CentOS 8.

Should this platform become a gate blocker, the community should either
fix the issue internally when applicable, or report it upstream and
provide a workaround whenever possible. If a workaround is not feasible
and upstream is not responsive, please escalate to CentOS/RHEL
colleagues in the OpenStack community; only after the job could be
turned non-voting (and back to voting once issue is resolved).

[1] https://www.openstack.org/analytics
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I92325d11998f6a130266fdaaa2d89f460e55b7c9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/747151/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d050b27c36b2f7337182c39ca5ccad53ea5be9c3,centos-gating,"# NOTE(ianw) Platform tests have traditionally been non-voting because # we often have to rush things through devstack to stabilise the gate, # and these platforms don't have the round-the-clock support to avoid # becoming blockers in that situation. - devstack-platform-centos-8","# NOTE(ianw) Platform tests have traditionally been non-voting because # we often have to rush things through devstack to stabilise the gate, # and these platforms don't have the round-the-clock support to avoid # becoming blockers in that situation. voting: false",5,5
openstack%2Fkayobe~stable%2Fyoga~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,stable/yoga,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-25 18:01:19.000000000,2022-05-28 07:08:47.000000000,2022-05-28 07:07:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 18:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8cdf4ee027a4e513b97a214172b3a2ddcce3413e', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 2, 'created': '2022-05-25 21:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/12a5ac9458dae0c439d5ffd2ddc6f55a80b4bcc8', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 3, 'created': '2022-05-25 22:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/de6327119d0e4893f896452c1a2fd6c0768b5b31', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}, {'number': 4, 'created': '2022-05-26 10:25:12.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2f3a8f80d1329e90076b307e18045a72c842e280', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)\n""}]",4,843323,2f3a8f80d1329e90076b307e18045a72c842e280,21,4,4,14200,,,0,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 3e7b01ad829e0c14396045cf147e719ad0a89ed2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/843323/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml']",2,8cdf4ee027a4e513b97a214172b3a2ddcce3413e,hacluster-build-issue,--- fixes: - | Fixes an issue where hacluster images are not built when the service is enabled. ,,7,0
openstack%2Fneutron~master~I364fc7981458374ed25eb8837d1ed3afff046b95,openstack/neutron,master,I364fc7981458374ed25eb8837d1ed3afff046b95,Notify mech drivers with original and modified network.,MERGED,2022-05-02 02:18:56.000000000,2022-05-28 02:46:55.000000000,2022-05-26 12:35:40.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-05-02 02:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b62903f1c6b88f28fa17871f9d1d65243fad56dc', 'message': '[WIP] Notify mech drivers with original and modified network\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 2, 'created': '2022-05-06 18:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/accc9d2874663f5c3d3b196cd634b294fee5b4ca', 'message': '[WIP] Notify mech drivers with original and modified network\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 3, 'created': '2022-05-06 18:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb9eb350abdd53197df962880a5774c8410c9e0d', 'message': 'Notify mech drivers with original and modified network\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 4, 'created': '2022-05-16 02:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dfb6bbabad14ea1e2793841928a5cd90431e6fe', 'message': 'Notify mech drivers with original and modified network\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 5, 'created': '2022-05-16 02:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc5180983525151c64758642264de3d3789c2a15', 'message': '[WIP] [Requires unit tests] Notify mech drivers with original and modified network.\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 6, 'created': '2022-05-23 18:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f818b7f62b0356f89618b2f48dbc4169e008046', 'message': 'Notify mech drivers with original and modified network.\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 7, 'created': '2022-05-24 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/546ac590d409d2adfdcdef3c27a08ddfe9794445', 'message': 'Notify mech drivers with original and modified network.\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}, {'number': 8, 'created': '2022-05-25 02:57:08.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1fe14d366e501869addff17e851ac03a599adca', 'message': 'Notify mech drivers with original and modified network.\n\nInclude original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE\n\nCloses-Bug: #1967742\nChange-Id: I364fc7981458374ed25eb8837d1ed3afff046b95\n'}]",29,840146,d1fe14d366e501869addff17e851ac03a599adca,71,6,8,34271,,,0,"Notify mech drivers with original and modified network.

Include original and modified network when notifying mechanism drivers in PRECOMMIT event. PRECOMMIT_CREATE modified network includes new segment, while original does not. Exact opposite for PRECOMMIT_DELETE

Closes-Bug: #1967742
Change-Id: I364fc7981458374ed25eb8837d1ed3afff046b95
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/840146/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/plugin.py']",2,b62903f1c6b88f28fa17871f9d1d65243fad56dc,bug1967742," event, context, segment) context, segment): network = self.get_network(context, segment['network_id']) if event in [events.PRECOMMIT_CREATE, events.PRECOMMIT_DELETE]: network_copy = dict(network) if event == events.PRECOMMIT_CREATE: self.type_manager.remove_segment_from_network( network_copy, segment) if event == events.PRECOMMIT_DELETE: self.type_manager.add_segment_to_network(network_copy, segment) mech_context = driver_context.NetworkContext( self, context, network, original_network=network_copy) if event in [events.AFTER_CREATE, events.AFTER_DELETE]: mech_context = driver_context.NetworkContext( self, context, network, original_network=network)"," event, context, network_id) context, network_id): network_with_segments = self.get_network(context, network_id) mech_context = driver_context.NetworkContext( self, context, network_with_segments, original_network=network_with_segments) if event in [events.PRECOMMIT_CREATE, events.PRECOMMIT_DELETE]: elif event in [events.AFTER_CREATE, events.AFTER_DELETE]:",70,7
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fxena~I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,openstack/openstack-ansible-lxc_hosts,stable/xena,I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,Do not mess up with distro-provided machines mount,MERGED,2022-05-24 16:12:27.000000000,2022-05-28 00:50:56.000000000,2022-05-28 00:49:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-24 16:12:27.000000000', 'files': ['tasks/lxc_cache_rootfs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/fc0810cc9761335a4d2920d05a926daff5c93139', 'message': 'Do not mess up with distro-provided machines mount\n\nvar-lib-machines.mount is provided by systemd-container package\non ubuntu/debian [1]\n\nWith package update our file will be overriden which end up on\nmount failure.\n\nTo avoid that we place it as override to /etc/\n\n[1] https://packages.ubuntu.com/focal/amd64/systemd-container/filelist\n\nChange-Id: I226ab48b1ff7ec3c7da963e00e76b24b2b79608c\nCloses-Bug: #1973762\n'}]",1,843169,fc0810cc9761335a4d2920d05a926daff5c93139,13,5,1,28619,,,0,"Do not mess up with distro-provided machines mount

var-lib-machines.mount is provided by systemd-container package
on ubuntu/debian [1]

With package update our file will be overriden which end up on
mount failure.

To avoid that we place it as override to /etc/

[1] https://packages.ubuntu.com/focal/amd64/systemd-container/filelist

Change-Id: I226ab48b1ff7ec3c7da963e00e76b24b2b79608c
Closes-Bug: #1973762
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/69/843169/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_rootfs.yml'],1,fc0810cc9761335a4d2920d05a926daff5c93139,bug/1973762, dest: /etc/systemd/system/var-lib-machines.mount, dest: /lib/systemd/system/var-lib-machines.mount,1,1
openstack%2Fswift~master~Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b,openstack/swift,master,Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b,proxy-server: unit test error limiting reset,NEW,2022-05-26 11:31:02.000000000,2022-05-27 23:52:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 11:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/744ae585315b4566e4cdc3f87f6adab2e4ce6554', 'message': 'proxy-server: unit test error limiting reset\n\nAdd a unit test to cover the resetting of error limited node state\nafter the error_suppression_interval has passed.\n\nChange-Id: Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b\n'}, {'number': 2, 'created': '2022-05-26 12:19:50.000000000', 'files': ['test/unit/proxy/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cc89b8e3f32d1fa03acdf75b7499b547c747fa9e', 'message': 'proxy-server: unit test error limiting reset\n\nAdd a unit test to cover the resetting of error limited node state\nafter the error_suppression_interval has passed.\n\nChange-Id: Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b\n'}]",4,843431,cc89b8e3f32d1fa03acdf75b7499b547c747fa9e,9,1,2,7847,,,0,"proxy-server: unit test error limiting reset

Add a unit test to cover the resetting of error limited node state
after the error_suppression_interval has passed.

Change-Id: Ie14658b39c48fba46da9ec2edbe80d0dedbd4a1b
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/843431/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/test_server.py'],1,744ae585315b4566e4cdc3f87f6adab2e4ce6554,p-error-limit-test," def test_error_occurred_accumulation(self): mutable_time = [time.time()] def get_time(): return mutable_time[0] def incr_time(step): mutable_time[0] += step logger = debug_logger('test') app = proxy_server.Application({}, account_ring=FakeRing(), container_ring=FakeRing(), logger=logger) node = app.container_ring.get_part_nodes(0)[0] with mock.patch('swift.proxy.server.time', get_time): for repeat in range(2): self.assertFalse(app.error_limited(node)) # 11 errors accumulate at just below 1 error/minute app.error_occurred(node, 'test msg') for i in range(10): incr_time(59.99) self.assertFalse(app.error_limited(node)) app.error_occurred(node, 'test msg') # the node is error limited for 1 minute self.assertTrue(app.error_limited(node)) incr_time(60) self.assertTrue(app.error_limited(node)) # then error limiting is reset incr_time(0.01) self.assertFalse(app.error_limited(node)) ",,32,0
openstack%2Fopenstack-ansible-lxc_container_create~master~Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634,openstack/openstack-ansible-lxc_container_create,master,Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634,Use integrated repo 'hosts' jobs to test different backing stores,MERGED,2022-05-23 21:27:45.000000000,2022-05-27 23:26:11.000000000,2022-05-27 23:24:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-23 21:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/94b4574bbf304d73aad8bb7267abbcc6385c8954', 'message': ""Use integrated repo 'hosts' jobs to test different backing stores\n\nThis uses the main openstack-ansible repo for testing these different\nbacking store scenarios rather than openstack-ansible-tests. This is\nmore maintainable and ensures that we test using the same code as is\nused for a real deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027\nChange-Id: Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634\n""}, {'number': 2, 'created': '2022-05-26 15:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/59caa4fa81218a496b071df03b863947bac0411f', 'message': ""Use integrated repo 'hosts' jobs to test different backing stores\n\nThis uses the main openstack-ansible repo for testing these different\nbacking store scenarios rather than openstack-ansible-tests. This is\nmore maintainable and ensures that we test using the same code as is\nused for a real deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418\nChange-Id: Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634\n""}, {'number': 3, 'created': '2022-05-26 21:30:04.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/4ab7921ca8d003488c4311a4ae3c0109e9e88ac5', 'message': ""Use integrated repo 'hosts' jobs to test different backing stores\n\nThis uses the main openstack-ansible repo for testing these different\nbacking store scenarios rather than openstack-ansible-tests. This is\nmore maintainable and ensures that we test using the same code as is\nused for a real deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/843547\nChange-Id: Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634\n""}]",8,843030,4ab7921ca8d003488c4311a4ae3c0109e9e88ac5,30,3,3,25023,,,0,"Use integrated repo 'hosts' jobs to test different backing stores

This uses the main openstack-ansible repo for testing these different
backing store scenarios rather than openstack-ansible-tests. This is
more maintainable and ensures that we test using the same code as is
used for a real deployment.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/843547
Change-Id: Ieb53ae161c67a83408b6a8c77b4c8428ec9c4634
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/30/843030/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,94b4574bbf304d73aad8bb7267abbcc6385c8954,osa/lxc-ci,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-dir-centos-8-stream parent: openstack-ansible-functional nodeset: centos-8-stream vars: tox_env: dir - job: name: openstack-ansible-overlayfs-centos-8-stream parent: openstack-ansible-functional nodeset: centos-8-stream vars: tox_env: ofs - job: name: openstack-ansible-dir-ubuntu-focal parent: openstack-ansible-functional nodeset: ubuntu-focal vars: tox_env: dir - job: name: openstack-ansible-overlayfs-ubuntu-focal parent: openstack-ansible-functional nodeset: ubuntu-focal vars: tox_env: ofs - job: name: openstack-ansible-btrfs-ubuntu-focal parent: openstack-ansible-functional nodeset: ubuntu-focal vars: tox_env: btrfs - job: name: openstack-ansible-zfs-ubuntu-focal parent: openstack-ansible-functional nodeset: ubuntu-focal vars: tox_env: zfs ",1,73
openstack%2Fcharm-deployment-guide~stable%2Fyoga~I5e0d26403aecf22acbd5558b475033b368c31ec8,openstack/charm-deployment-guide,stable/yoga,I5e0d26403aecf22acbd5558b475033b368c31ec8,Update versioning for yoga,MERGED,2022-05-27 21:23:00.000000000,2022-05-27 23:22:31.000000000,2022-05-27 23:21:32.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 21:23:00.000000000', 'files': ['.gitreview', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/938e0e063688db33e20b8223d6aa44fc74fa2249', 'message': ""Update versioning for yoga\n\nSet the guide version to 'yoga'. This affects the\nsidebar menu on the left of the page.\n\nSet the default git branch to 'yoga'.\n\nChange-Id: I5e0d26403aecf22acbd5558b475033b368c31ec8\n""}]",0,843691,938e0e063688db33e20b8223d6aa44fc74fa2249,7,2,1,30561,,,0,"Update versioning for yoga

Set the guide version to 'yoga'. This affects the
sidebar menu on the left of the page.

Set the default git branch to 'yoga'.

Change-Id: I5e0d26403aecf22acbd5558b475033b368c31ec8
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/91/843691/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'deploy-guide/source/conf.py']",2,938e0e063688db33e20b8223d6aa44fc74fa2249,update-versioning-for-yoga,openstackdocs_auto_version = Falseversion = 'yoga',version = '',3,1
openstack%2Fcharm-guide~stable%2Fyoga~I29bb8f98a963a5363e910ac958b9a3455f6b41b4,openstack/charm-guide,stable/yoga,I29bb8f98a963a5363e910ac958b9a3455f6b41b4,Update versioning for yoga,MERGED,2022-05-27 20:57:05.000000000,2022-05-27 23:20:24.000000000,2022-05-27 23:19:21.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 20:57:05.000000000', 'files': ['.gitreview', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1deda5a6d4180032f7168bd253e2ef1231dc20b7', 'message': ""Update versioning for yoga\n\nSet the guide version to 'yoga'. This affects the\nsidebar menu on the left of the page.\n\nSet the default git branch to 'yoga'.\n\nPoint the intersphinx plugin inventory objects file\nto the 'yoga' version of the charm-deployment-guide.\n\nChange-Id: I29bb8f98a963a5363e910ac958b9a3455f6b41b4\n""}]",0,843688,1deda5a6d4180032f7168bd253e2ef1231dc20b7,7,2,1,30561,,,0,"Update versioning for yoga

Set the guide version to 'yoga'. This affects the
sidebar menu on the left of the page.

Set the default git branch to 'yoga'.

Point the intersphinx plugin inventory objects file
to the 'yoga' version of the charm-deployment-guide.

Change-Id: I29bb8f98a963a5363e910ac958b9a3455f6b41b4
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/88/843688/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'doc/source/conf.py']",2,1deda5a6d4180032f7168bd253e2ef1231dc20b7,update-versioning-for-yoga," 'cdg': ('https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/yoga', None)openstackdocs_auto_version = Falseversion = 'yoga'"," 'cdg': ('https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest', None)version = ''",4,2
openstack%2Fopenstack-ansible~stable%2Fvictoria~Icb2bf42d9dc909ae246ce41b76c649d69e2a0274,openstack/openstack-ansible,stable/victoria,Icb2bf42d9dc909ae246ce41b76c649d69e2a0274,Switch Victoria to stable branch,MERGED,2022-05-20 07:29:59.000000000,2022-05-27 22:26:24.000000000,2022-05-27 22:24:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-20 07:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/45fccdd1f6df600d1306265d31dc4ed35a0e8d1b', 'message': ""Switch Victoria to stable branch\n\nAfter EM is being released, we can't do any more V releases. So we can\nlet SHA bump go and use stable/victoria in case any security patch\nhappens.\n\nChange-Id: Icb2bf42d9dc909ae246ce41b76c649d69e2a0274\n""}, {'number': 2, 'created': '2022-05-20 19:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/023908c74ef9d4ed7b83c9f4ef9581f2adac7e00', 'message': ""Switch Victoria to stable branch\n\nAfter EM is being released, we can't do any more V releases. So we can\nlet SHA bump go and use stable/victoria in case any security patch\nhappens.\n\nChange-Id: Icb2bf42d9dc909ae246ce41b76c649d69e2a0274\n""}, {'number': 3, 'created': '2022-05-26 06:57:47.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/618dcb1b6bcfe1eb37fd4710e9e88c83fb389d8f', 'message': ""Switch Victoria to stable branch\n\nAfter EM is being released, we can't do any more V releases. So we can\nlet SHA bump go and use stable/victoria in case any security patch\nhappens.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/843393\nChange-Id: Icb2bf42d9dc909ae246ce41b76c649d69e2a0274\n""}]",1,842674,618dcb1b6bcfe1eb37fd4710e9e88c83fb389d8f,15,3,3,28619,,,0,"Switch Victoria to stable branch

After EM is being released, we can't do any more V releases. So we can
let SHA bump go and use stable/victoria in case any security patch
happens.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/843393
Change-Id: Icb2bf42d9dc909ae246ce41b76c649d69e2a0274
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/842674/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml']",2,45fccdd1f6df600d1306265d31dc4ed35a0e8d1b,, version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria, version: 0a482d106fe47a0f3d6f7457922aff5a70170580 version: d8482c9aabc7988952f55e69b8280ee47f30e261 version: 6a0c2fc9798f64a36de6676fbdca44ca81eea6cb version: 82e43fd53c89303a7477189e6914bbb0c78fbe9c version: 7aef92403c7e73f850b4f110acd0b568bf26f82e version: ca18916930b05575e44279d8a11e08345f9581f4 version: de4b2ebeb83c647ba0d6d0fcc75347665ee7b684 version: 678684d6c20fb9666b6be2ff36e5818870aa9911 version: 88f5ca0e752c3ceaa5e332fdbd48898ce8334dcb version: 526a3b6e89f1d4eee9065517180d677cd5410d55 version: 93d61ed35f43b95edc81b1e6120e1ceb653fef28 version: 0b87fd0e49e3b87bf5e05e968b8424db6fc0b8f1 version: 94d96f6cb9f97df9fdf445b29e8a456fed0f202a version: 59df1e9b9f63c8dcdafc5a60de3ad960a947d703 version: 0a30b71acb6c12900cf5f7fe593b208b71320229 version: cba352ed4a689e534a33a6d717701172f89693be version: 374708f98bc5347494b900fa6248e15e2e4dafbc version: 1eaa626c62cba3b2414f44a2b161ce33dc16dee7 version: 474d30c6c97f6a275b76f5122df2bbd9f48d75cf version: 084b6b4d9dfca5002e48d8d66b5d9a5332883739 version: 61e63ffb546a5786a5b2d20eb54b85758f3a0780 version: 04255738dc3c2505b375bb3889e30e16076278db version: 4f09e96558f2dbc4dc76f65e215f0b6218dc000e version: 0db26861b2a20b27320ec37a5d3ca5dd6e8638e9 version: 387a3e243f730bd84156db3d4a55ebcf2f8cdf15 version: b74ea053b839e2bc4fdcbf495c756dd5202568a1 version: 42167284f700b70dac06c1c30220b31fdffd160f version: d32abdf26fa6898f54b1265a9ad299742237af95 version: 2e084ae35b4ac541cab9417623d31599bcaff863 version: c9e64bd5745c1e9732d7d737f93e6b56bec4bb42 version: 71bd664fbb85891612ea1a1d5a1f442a8919c9f9 version: 6fb63e341f99eb022e9d770dc934a964b538308f version: dfb635b7f7a82ccbe23c45a281dda12c222ce663 version: ea5cd354f81bb67633db497c0c08f3f8a57819bf version: c8641b1ba19b05e26488a93cf4b6a6c04ae25d72 version: 5642211b88bf127c38c73419e84da0515c39389b version: 58a8e42ecf68b371e57c7a02055faf2f1da14e28 version: 7c1e3547190fb2c9294b47499646ee04e20b600e version: 69a60888fdde3afd53ff1e693817a1396c48434e version: 1b21bac0c04de529b2dc4cd278958afa3dfc39c6 version: 769b6d213cb9bf10059ef8c466cd56121ad16a58 version: ff62eb3e2b32c9eb68c61d8270ff4fe9944a6f29 version: 478c2a72b742417c352ce97a4fed1d6f92c62012 version: 16e63a72369911609d4c110586617ddc76fc6c9d version: 911f6a7bf86aa856ebad8af063fceba4a299c1ad version: 3c03d344f0a1d05bd11e51cb69b6c254c59834a3 version: 36cff3fb06f85d4128603ae062cfe8d0bf5448a5 version: b17c63988d933589d2bc46ee60553a0bfae490ee version: ec28ed03c5090eb513c6eaeca06c8ea099f517ea version: bac30481b4523356ba636b1e2ce2d68b4a7b6a86 version: 038850a4e696b0fa7007f1ad5f563acc39d93ddc version: 257c5869c9d339b82278238331d0564b6596dcce version: 81201a9c2f379758a5072f172ad2376301b5af1c version: 7ba45768a8bab4c758116d04d3c37d2ac179cf90 version: 8feb8110641d5443cf7aed47c1426e0e2104b077,108,108
openstack%2Fopenstack-ansible~stable%2Fxena~I142a713c3fb9136cbb00d6734d1362b6015249de,openstack/openstack-ansible,stable/xena,I142a713c3fb9136cbb00d6734d1362b6015249de,Bump OpenStack-Ansible Xena,MERGED,2022-05-27 10:20:54.000000000,2022-05-27 22:26:13.000000000,2022-05-27 22:24:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-27 10:20:54.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/galera_tmpdir-3271e0bc8e353930.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d46aa8910518a03b6e0dc2400b32a61ca13f49f', 'message': 'Bump OpenStack-Ansible Xena\n\nChange-Id: I142a713c3fb9136cbb00d6734d1362b6015249de\n'}]",1,843599,3d46aa8910518a03b6e0dc2400b32a61ca13f49f,10,3,1,28619,,,0,"Bump OpenStack-Ansible Xena

Change-Id: I142a713c3fb9136cbb00d6734d1362b6015249de
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/843599/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/galera_tmpdir-3271e0bc8e353930.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",5,3d46aa8910518a03b6e0dc2400b32a61ca13f49f,bump_osa,### HEAD as of 27.05.2022 ### version: 7585db20e60f8397d3429c2afe10d2dca7f4f3f3 shallow_since: '2022-04-25' version: b1a5a814563c95188eb5450e9ad5761e92337bc6 shallow_since: '2022-05-19' version: 0c9625bcc90104c72581af07bcb2e654fef14215 shallow_since: '2022-05-03' version: 22f337b1d6fe26d7832bc8c645a605b76f870689 shallow_since: '2022-04-27' version: 577dfa9450ad52854533e189a78111f1ba93a9b4 shallow_since: '2022-05-17' version: c2938f5773e04da501717031db11985536e59f5e shallow_since: '2022-05-22' version: 753073f4d6928526c21e8f24050c30318cd51068 shallow_since: '2022-05-09' version: 11fa90852499fd141b27315523332b11a7aa9f3a shallow_since: '2022-05-12' version: b307c4d3b60e06b9a256a1c43ef3d1d4fab8279e shallow_since: '2022-05-17',### HEAD as of 20.04.2022 ### version: 3089c556441a7a841223e1a65bbf932b0a19b380 shallow_since: '2022-02-14' version: 9ebf7eddee15624f5e4e2c5f3cb9695fadc73a15 shallow_since: '2021-12-06' version: 59de04acdde21aa2b5e43de6f4ad865d1bde33db shallow_since: '2022-01-27' version: e68754dc009059f9dc7fdd394eef327082ca384a shallow_since: '2022-02-01' version: 4f3c311efaf7bde85a55105be59b754836903dd4 shallow_since: '2022-04-03' version: b2a61da2e4786c3ec0b5cb3890e64edd74e496f8 shallow_since: '2021-12-06' version: 2ba5bfee852aec5f699bf1c53193f7935beed825 shallow_since: '2022-04-18' version: f4a3f365f8c25ca90e30c23fa23e56ecfbc77107 shallow_since: '2022-04-13' version: 64a6bb421085c2f28fb6f306ae71712a67fa3558 shallow_since: '2021-12-06',54,44
openstack%2Fkolla-ansible~stable%2Fvictoria~Ie468f5170c9df8a235953337753043f5b9f74578,openstack/kolla-ansible,stable/victoria,Ie468f5170c9df8a235953337753043f5b9f74578,Cleanup zuul jobs a bit,MERGED,2022-05-26 17:36:16.000000000,2022-05-27 21:32:11.000000000,2022-05-27 18:47:12.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 17:36:16.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99410ae6e434cf1172b3f621cec24e67493239b7', 'message': ""Cleanup zuul jobs a bit\n\nThese sorts of changes should likely be made across all of kolla. I'm\npushing the update to victoria because 843400 is a victoria change that\ncaused me to look into this.\n\nFirst up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a\nmultinode job that retries many times, is non voting, and a check only\njob. The value of a job like this on a stable branch is likely minimal.\n\nFirst we remove the non default attempts value on the base job. You\nshould set this per job instead only when necessary and after debugging\nwhy jobs retry excessively. Please avoid overriding defaults like this\nfor all the jobs as it is easy for peopel to forget the setting is in\nplace.\n\nNext move the job to the experimental queue. If it is non voting and\nrarely passes it can be manually triggered by individuals that are\nworking to correct the job that rarely succeeds. Then once reliable the\njob can be added back to the check pipeline.\n\nChange-Id: Ie468f5170c9df8a235953337753043f5b9f74578\n""}]",9,843536,99410ae6e434cf1172b3f621cec24e67493239b7,16,5,1,4146,,,0,"Cleanup zuul jobs a bit

These sorts of changes should likely be made across all of kolla. I'm
pushing the update to victoria because 843400 is a victoria change that
caused me to look into this.

First up kolla-ansible-centos8s-source-upgrade-ceph-ansible is a
multinode job that retries many times, is non voting, and a check only
job. The value of a job like this on a stable branch is likely minimal.

First we remove the non default attempts value on the base job. You
should set this per job instead only when necessary and after debugging
why jobs retry excessively. Please avoid overriding defaults like this
for all the jobs as it is easy for peopel to forget the setting is in
place.

Next move the job to the experimental queue. If it is non voting and
rarely passes it can be manually triggered by individuals that are
working to correct the job that rarely succeeds. Then once reliable the
job can be added back to the check pipeline.

Change-Id: Ie468f5170c9df8a235953337753043f5b9f74578
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/843536/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,99410ae6e434cf1172b3f621cec24e67493239b7,cleanup-jobs, experimental: jobs: - kolla-ansible-centos8s-source-upgrade-ceph-ansible, - kolla-ansible-centos8s-source-upgrade-ceph-ansible,3,2
openstack%2Fopenstack-ansible~master~Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c,openstack/openstack-ansible,master,Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c,Test interaction with keystone in healthcheck-infrastructure,ABANDONED,2022-05-26 15:49:22.000000000,2022-05-27 21:28:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 15:49:22.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8650f78cda2de21230ced0dfd3b3ea594e2367b2', 'message': 'Test interaction with keystone in healthcheck-infrastructure\n\nThis provides basic testing that the keystone endpoint is functioning,\nand also validates the complete chain through the loadbalancer, SSL\ntermination and database setup.\n\nThere is otherwise no testing of the SSL and CA configuration from the\nbackend containers to the loadbalancer in the current healthcheck\nplaybook, this patch adds it.\n\nChange-Id: Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c\n'}]",2,843495,8650f78cda2de21230ced0dfd3b3ea594e2367b2,7,2,1,25023,,,0,"Test interaction with keystone in healthcheck-infrastructure

This provides basic testing that the keystone endpoint is functioning,
and also validates the complete chain through the loadbalancer, SSL
termination and database setup.

There is otherwise no testing of the SSL and CA configuration from the
backend containers to the loadbalancer in the current healthcheck
playbook, this patch adds it.

Change-Id: Ifa9b94eec6b126914f8b2adf7b55bb70b1fd4e1c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/843495/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-infrastructure.yml'],1,8650f78cda2de21230ced0dfd3b3ea594e2367b2,, - name: Authenticate against keystone openstack.cloud.auth: - name: Show openstack service catalog debug: var: service_catalog verbosity: 1,,6,0
openstack%2Ftempest~master~Ib435f787150bee6a2316b4350c14617e83d77c5c,openstack/tempest,master,Ib435f787150bee6a2316b4350c14617e83d77c5c,Add test for boot_index in bdm: bug# 1766306,ABANDONED,2018-04-24 01:43:09.000000000,2022-05-27 21:07:52.000000000,,"[{'_account_id': 5689}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-04-24 01:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c09cbbb4b3ee6d9712864a1ca660b9a983f3fde', 'message': 'Add test for boot_index in bdm: bug# 1766306\n\nThis commit adds test to check the boot_index\nin bdm dict while creating the server is mandatory.\n\nChange-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c\nRelated-Bug: #1766306\n'}, {'number': 2, 'created': '2018-04-24 23:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1be89f1d9c403587f9a6b3bd373a38d2ee0c926', 'message': 'Add test for boot_index in bdm: bug# 1766306\n\nThis commit adds test to check the boot_index\nin bdm dict while creating the server is mandatory.\n\nChange-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c\nRelated-Bug: #1766306\n'}, {'number': 3, 'created': '2018-04-25 09:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e23b2547451752a47980d99b4a5693551c2ee506', 'message': 'Add test for boot_index in bdm: bug# 1766306\n\nThis commit adds test to check the boot_index\nin bdm dict while creating the server is mandatory.\n\nChange-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c\nRelated-Bug: #1766306\n'}, {'number': 4, 'created': '2018-04-26 01:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1410911a98a72a83acd257ee688f711515a6b3af', 'message': 'Add test for boot_index in bdm: bug# 1766306\n\nThis commit adds test to check the boot_index\nin bdm dict while creating the server is mandatory.\n\nDepends-On: https://review.openstack.org/#/c/563732/\nChange-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c\nRelated-Bug: #1766306\n'}, {'number': 5, 'created': '2018-04-26 11:11:48.000000000', 'files': ['tempest/api/compute/servers/test_servers_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/420b47c5cf62db4d588046020f1b357c4d2fd228', 'message': 'Add test for boot_index in bdm: bug# 1766306\n\nThis commit adds test to check the boot_index\nin bdm dict while creating the server is mandatory.\n\nDepends-On: https://review.openstack.org/#/c/563732/\nDepends-On: https://review.openstack.org/#/c/564461/\nChange-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c\nRelated-Bug: #1766306\n'}]",8,563801,420b47c5cf62db4d588046020f1b357c4d2fd228,36,10,5,8556,,,0,"Add test for boot_index in bdm: bug# 1766306

This commit adds test to check the boot_index
in bdm dict while creating the server is mandatory.

Depends-On: https://review.openstack.org/#/c/563732/
Depends-On: https://review.openstack.org/#/c/564461/
Change-Id: Ib435f787150bee6a2316b4350c14617e83d77c5c
Related-Bug: #1766306
",git fetch https://review.opendev.org/openstack/tempest refs/changes/01/563801/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_servers_negative.py'],1,9c09cbbb4b3ee6d9712864a1ca660b9a983f3fde,bug/1766306," @decorators.idempotent_id('bdf40926-aa9a-4cb8-8922-f3bc1b8650b2') @decorators.related_bug('1766306', status_code=400) @utils.services('volume') def test_create_server_without_boot_index_in_bdm(self): volume = self.create_volume() bdm = {'uuid': volume['id'], 'source_type': 'volume', 'destination_type': 'volume'} self.assertRaises(lib_exc.BadRequest, self.create_test_server, image_id=self.image_ref, block_device_mapping_v2=[bdm]) @decorators.attr(type=['negative'])",,14,0
openstack%2Fnova~stable%2Fxena~I65b899d8b603ffc989358dde89fa6c1bda5ca7be,openstack/nova,stable/xena,I65b899d8b603ffc989358dde89fa6c1bda5ca7be,DNM: testing centos8 py36 job,ABANDONED,2022-03-22 18:36:30.000000000,2022-05-27 21:06:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-22 18:36:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee291a41de51ce5325af5d88a8b747fed433b847', 'message': 'DNM: testing centos8 py36 job\n\nChange-Id: I65b899d8b603ffc989358dde89fa6c1bda5ca7be\n'}]",4,834765,ee291a41de51ce5325af5d88a8b747fed433b847,14,1,1,8556,,,0,"DNM: testing centos8 py36 job

Change-Id: I65b899d8b603ffc989358dde89fa6c1bda5ca7be
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/834765/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee291a41de51ce5325af5d88a8b747fed433b847,,, templates: - check-requirements - integrated-gate-compute - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-live-migration - nova-live-migration-ceph - nova-lvm - nova-multi-cell - nova-next - nova-tox-validate-backport: voting: false - nova-tox-functional-py38 - nova-tox-functional-py39: voting: false - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false gate: jobs: - nova-live-migration - nova-live-migration-ceph - nova-tox-functional-centos8-py36 - nova-tox-functional-py38 - nova-multi-cell - nova-next - nova-tox-validate-backport - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - tempest-integrated-compute: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files experimental: jobs: - ironic-tempest-bfv: irrelevant-files: *nova-base-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-nfs-tempest-full: irrelevant-files: *nova-base-irrelevant-files - nova-osprofiler-redis - tempest-full-py3-opensuse15: irrelevant-files: *nova-base-irrelevant-files - tempest-pg-full: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-iptables_hybrid: irrelevant-files: *nova-base-irrelevant-files - os-vif-ovs: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-ceph-compute-local-ephemeral: irrelevant-files: *nova-base-irrelevant-files,0,118
openstack%2Freleases~master~I8dd44df57106ab021a85184d8e2651682286c85b,openstack/releases,master,I8dd44df57106ab021a85184d8e2651682286c85b,[Xena] Release of oslo.vmware,ABANDONED,2022-04-06 13:41:10.000000000,2022-05-27 21:06:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-06 13:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d004e0598b3b4b827a8334b0667cd14a9f792316', 'message': '[Xena] Release of oslo.vmware\n\nWe replaced the suds-jurko with suds-community\nin oslo.vmware stable/xena.\n- https://review.opendev.org/c/openstack/oslo.vmware/+/835672\n\nChange-Id: I8dd44df57106ab021a85184d8e2651682286c85b\n'}, {'number': 2, 'created': '2022-04-06 15:01:11.000000000', 'files': ['deliverables/xena/oslo.vmware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5a7f47004d61e212d3a90e1815bd357e314f686b', 'message': '[Xena] Release of oslo.vmware\n\nWe replaced the suds-jurko with suds-community\nin oslo.vmware stable/xena.\n- https://review.opendev.org/c/openstack/oslo.vmware/+/835672\n\nChange-Id: I8dd44df57106ab021a85184d8e2651682286c85b\n'}]",5,836832,5a7f47004d61e212d3a90e1815bd357e314f686b,13,3,2,8556,,,0,"[Xena] Release of oslo.vmware

We replaced the suds-jurko with suds-community
in oslo.vmware stable/xena.
- https://review.opendev.org/c/openstack/oslo.vmware/+/835672

Change-Id: I8dd44df57106ab021a85184d8e2651682286c85b
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/836832/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.vmware.yaml'],1,d004e0598b3b4b827a8334b0667cd14a9f792316,, - version: 3.9.3 projects: - repo: openstack/oslo.vmware hash: Ie3f317974d138be4050d0ce196bcc000494a0eee,,4,0
openstack%2Foslo.vmware~stable%2Fxena~Ie3f317974d138be4050d0ce196bcc000494a0eee,openstack/oslo.vmware,stable/xena,Ie3f317974d138be4050d0ce196bcc000494a0eee,Replace suds-jurko with suds-community,MERGED,2022-03-29 16:03:30.000000000,2022-05-27 21:06:14.000000000,2022-04-06 01:19:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-29 16:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/f723bc4567e3ef60157273ab85d77a05da3b032d', 'message': ""Replace suds-jurko with suds-community\n\nsuds-jurko is not compatible with setuptools >58.0.0 and has not been\nmaintained for a long time. Let's use suds-community instead.\n\nRelated-Bug: 1946340\nDepends-On: I4eb235c3ad0f1296fc81a9b98d7e687ac9923b59\nChange-Id: Ie3f317974d138be4050d0ce196bcc000494a0eee\n(cherry picked from commit 7bc343173751330d2e989c28bc6fefed56d358d6)\n""}, {'number': 2, 'created': '2022-04-05 10:00:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/bfda4c7fa96dc063c419e78565a6500867b9be79', 'message': ""Replace suds-jurko with suds-community\n\nsuds-jurko is not compatible with setuptools >58.0.0 and has not been\nmaintained for a long time. Let's use suds-community instead.\n\nRelated-Bug: 1946340\nChange-Id: Ie3f317974d138be4050d0ce196bcc000494a0eee\n(cherry picked from commit 7bc343173751330d2e989c28bc6fefed56d358d6)\n""}]",3,835672,bfda4c7fa96dc063c419e78565a6500867b9be79,17,2,2,8556,,,0,"Replace suds-jurko with suds-community

suds-jurko is not compatible with setuptools >58.0.0 and has not been
maintained for a long time. Let's use suds-community instead.

Related-Bug: 1946340
Change-Id: Ie3f317974d138be4050d0ce196bcc000494a0eee
(cherry picked from commit 7bc343173751330d2e989c28bc6fefed56d358d6)
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/72/835672/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f723bc4567e3ef60157273ab85d77a05da3b032d,bug/1946340-stable/xena,suds-community>=0.6 # LGPLv3+,suds-jurko>=0.6 # LGPLv3+,1,1
openstack%2Fnova~stable%2Fwallaby~I14098bd71a0dc878b920fde381b5e8fc7872a599,openstack/nova,stable/wallaby,I14098bd71a0dc878b920fde381b5e8fc7872a599,DNM: Testing live migration with local attach,ABANDONED,2022-05-24 13:47:07.000000000,2022-05-27 20:49:25.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 13:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d35b000c82225920aaa82743ff82cb5c0f5cca9', 'message': 'DNM: Testing live migration with local attach\n\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 2, 'created': '2022-05-24 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0db8deb629d87f6979e46022490de6f9577d1e8', 'message': 'DNM: Testing live migration with local attach\n\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 3, 'created': '2022-05-24 13:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cb25b92fc56417e42ed35cffc51ffdc018dfacb', 'message': 'DNM: Testing live migration with local attach\n\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 4, 'created': '2022-05-24 14:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d63dac667ebe76f0b0c0be5dc57163cee860fd4', 'message': 'DNM: Testing live migration with local attach\n\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 5, 'created': '2022-05-24 15:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0b9adb62912521454fd7045a5b6e84fc6967984', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 6, 'created': '2022-05-24 20:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5a6260d871e6f18f91bf00900c21d9c208be810', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 7, 'created': '2022-05-24 21:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38d608c67dc487ba91fcdd21899bc44d3d986d75', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 8, 'created': '2022-05-25 14:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec12c7ee650897aa06fe43f188df11a085b9847a', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 9, 'created': '2022-05-26 13:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c681b11cb9e7a8688695868f586991e07fcca65', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 10, 'created': '2022-05-27 00:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57869d6f44efbd9cd020da8a6659371f0a64fad2', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}, {'number': 11, 'created': '2022-05-27 00:38:30.000000000', 'files': ['.zuul.yaml', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/278914e778cf7453f9b074e786143c8a2d523ff4', 'message': 'DNM: Testing live migration with local attach\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843163\nChange-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599\n'}]",3,843146,278914e778cf7453f9b074e786143c8a2d523ff4,69,2,11,8864,,,0,"DNM: Testing live migration with local attach

Depends-on: https://review.opendev.org/c/openstack/tempest/+/843163
Change-Id: I14098bd71a0dc878b920fde381b5e8fc7872a599
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/843146/11 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6d35b000c82225920aaa82743ff82cb5c0f5cca9,,- job: nova-live-migration-ceph-local-attach parent: nova-live-migration-ceph vars: devstack_local_conf: post-config: $NOVA_CPU_CONF: workarounds: rbd_volume_local_attach: True disable_native_luksv1: True ,,10,0
openstack%2Fnova~stable%2Fwallaby~Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a,openstack/nova,stable/wallaby,Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a,WIP: Persist connection_info during live migration,ABANDONED,2022-05-27 00:05:07.000000000,2022-05-27 20:49:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 00:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1de304e272f520f7bbebf759970a840573a56f8c', 'message': 'WIP: Persist connection_info during live migration\n\nChange-Id: Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a\n'}, {'number': 2, 'created': '2022-05-27 00:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3504ffe73cb7de6893dfcaeb08a370124d799b1', 'message': 'WIP: Persist connection_info during live migration\n\nChange-Id: Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a\n'}, {'number': 3, 'created': '2022-05-27 00:38:30.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/709a48cdedf19a3f0c881271b80194367c1d9866', 'message': 'WIP: Persist connection_info during live migration\n\nChange-Id: Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a\n'}]",1,843554,709a48cdedf19a3f0c881271b80194367c1d9866,14,1,3,8864,,,0,"WIP: Persist connection_info during live migration

Change-Id: Iecb101a283a1189f9e9a1c9e03fa1507c4aae91a
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/843554/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,1de304e272f520f7bbebf759970a840573a56f8c,," # And persist the updated connection_info that was populated by the # virt driver during pre_live_migration for bdmi in migrate_data.bdms: bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, bdmi.serial, instance.uuid) bdm.connection_info = jsonutils.dumps(bdmi.connection_info) bdm.save() LOG.debug('Saved connection info %s for volume %s.', bdm.connection_info, bdmi.serial)",,9,0
openstack%2Ftempest~master~If58171a7cee4e73db91ab8c9abcee1bb13ab0b94,openstack/tempest,master,If58171a7cee4e73db91ab8c9abcee1bb13ab0b94,WIP: Test live migration then detach with encrypted volumes,ABANDONED,2022-05-27 14:02:42.000000000,2022-05-27 20:49:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 14:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b484966995745e6ffed1af856bd77e7d09ed314', 'message': 'WIP: Test live migration then detach with encrypted volumes\n\nChange-Id: If58171a7cee4e73db91ab8c9abcee1bb13ab0b94\n'}, {'number': 2, 'created': '2022-05-27 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f157c0957286db04e6e3cf02ee979ac315663ce5', 'message': 'WIP: Test live migration then detach with encrypted volumes\n\nChange-Id: If58171a7cee4e73db91ab8c9abcee1bb13ab0b94\n'}, {'number': 3, 'created': '2022-05-27 16:42:15.000000000', 'files': ['tempest/scenario/test_encrypted_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1cfa4097a30ce1b504f5465ae84b9aeaf9229e5', 'message': 'WIP: Test live migration then detach with encrypted volumes\n\nChange-Id: If58171a7cee4e73db91ab8c9abcee1bb13ab0b94\n'}]",0,843620,c1cfa4097a30ce1b504f5465ae84b9aeaf9229e5,5,1,3,8864,,,0,"WIP: Test live migration then detach with encrypted volumes

Change-Id: If58171a7cee4e73db91ab8c9abcee1bb13ab0b94
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/843620/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_encrypted_cinder_volumes.py'],1,0b484966995745e6ffed1af856bd77e7d09ed314,,"from tempest.common import waiters # NOTE(artom) Allows us to use block_migration='auto' when live migrating. compute_min_microversion = '2.25' return self.create_server(key_name=keypair['name'], wait_until='SSHABLE') @decorators.idempotent_id('516634e9-7851-4d5b-ab89-b5fd3de9a6ff') @utils.services('compute', 'volume', 'image') def test_cryptsetup_live_migration_then_detach(self): server = self.launch_instance() volume = self.create_encrypted_volume('plain', volume_type='cryptsetup') attached_volume = self.nova_volume_attach(server, volume) source = self.get_host_for_server(server) self.os_admin.servers_client.live_migrate_server( server['id'], host=None, block_migration='auto') waiters.wait_for_server_status(self.servers_client, server['id'], 'ACTIVE') self.assertNotEqual(self.get_host_for_server(server), source, 'Server %s did not move hosts after live ' 'migration.' % server['uuid']) self.nova_volume_detach(server, attached_volume)", return self.create_server(key_name=keypair['name']),23,2
openstack%2Fnova~master~I194c658046371995032b3424874cf908715402e3,openstack/nova,master,I194c658046371995032b3424874cf908715402e3,WIP: Run encrypted volume tests in nova-live-migration,ABANDONED,2022-05-27 14:02:57.000000000,2022-05-27 20:48:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 14:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b1886c5d25ebee1eadafa3aebf4c7ce0026b352', 'message': 'WIP: Run encrypted volume tests in nova-live-migration-ceph\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843620\nChange-Id: I194c658046371995032b3424874cf908715402e3\n'}, {'number': 2, 'created': '2022-05-27 15:57:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/59110f7b9eb6cb14627d4195b121ce6ec9ccd4bc', 'message': ""WIP: Run encrypted volume tests in nova-live-migration\n\nWe want to the non-QEMU-native encryption (cryptsetup) + volume type\nthat modifies the connection_info during live migration combination\n(iSCSI as an example that's easy to test in the upstream gate).\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/843620\nChange-Id: I194c658046371995032b3424874cf908715402e3\n""}]",1,843621,59110f7b9eb6cb14627d4195b121ce6ec9ccd4bc,12,1,2,8864,,,0,"WIP: Run encrypted volume tests in nova-live-migration

We want to the non-QEMU-native encryption (cryptsetup) + volume type
that modifies the connection_info during live migration combination
(iSCSI as an example that's easy to test in the upstream gate).

Depends-on: https://review.opendev.org/c/openstack/tempest/+/843620
Change-Id: I194c658046371995032b3424874cf908715402e3
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/843621/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9b1886c5d25ebee1eadafa3aebf4c7ce0026b352,, tempest_test_regex: (^tempest\.api\.compute\.admin\.(test_live_migration|test_migration)|^tempest\.scenario\.test_encrypted_cinder_volumes) attach_encrypted_volume: true, tempest_test_regex: (^tempest\.api\.compute\.admin\.(test_live_migration|test_migration)),2,1
openstack%2Ftempest~master~Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f,openstack/tempest,master,Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f,DNM: Test encrypted LM with local attach,ABANDONED,2022-05-24 15:37:57.000000000,2022-05-27 20:48:52.000000000,,[{'_account_id': 11075}],"[{'number': 1, 'created': '2022-05-24 15:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/993653ef9f9e5a3adf1e760c2149c5d2413c1a2f', 'message': 'DNM: Test encrypted LM with local attach\n\nChange-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f\n'}, {'number': 2, 'created': '2022-05-24 15:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/569de3d8de2ac50af418c96940e3ca42d741c01d', 'message': 'DNM: Test encrypted LM with local attach\n\nChange-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f\n'}, {'number': 3, 'created': '2022-05-26 13:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/edf44d2acf6aa2d8f745a0ffeb63e4276cd27eac', 'message': 'DNM: Test encrypted LM with local attach\n\nChange-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f\n'}, {'number': 4, 'created': '2022-05-27 00:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3e57112a7f536b099a3f2cc68b9ad210bbdbee4', 'message': 'DNM: Test encrypted LM with local attach\n\nChange-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f\n'}, {'number': 5, 'created': '2022-05-27 19:25:54.000000000', 'files': ['tempest/scenario/test_encrypted_cinder_volumes.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7fdc3df43802c64059029a95361ac7242fc6818', 'message': 'DNM: Test encrypted LM with local attach\n\nChange-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f\n'}]",1,843163,a7fdc3df43802c64059029a95361ac7242fc6818,7,1,5,8864,,,0,"DNM: Test encrypted LM with local attach

Change-Id: Icecd5d5a2037fcf5b314bc07d0e07dc9476b511f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/843163/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_encrypted_cinder_volumes.py'],1,993653ef9f9e5a3adf1e760c2149c5d2413c1a2f,,"from tempest.common import waiters compute_min_microversion = '2.25' return self.create_server(key_name=keypair['name'], wait_until='SSHABLE') @utils.services('compute', 'volume', 'image') @decorators.idempotent_id('516634e9-7851-4d5b-ab89-b5fd3de9a6ff') def test_live_migration(self): server = self.launch_instance() volume = self.create_encrypted_volume('luks', volume_type='luks') self.nova_volume_attach(server, volume) self.os_admin.servers_client.live_migrate_server( server['id'], host=None, block_migration='auto') waiters.wait_for_server_status(self.servers_client, server['id'], 'ACTIVE')", return self.create_server(key_name=keypair['name']),16,1
openstack%2Fcharm-deployment-guide~stable%2Fyoga~I8f24579ad202129e76b05e84a6a3aee780517b6d,openstack/charm-deployment-guide,stable/yoga,I8f24579ad202129e76b05e84a6a3aee780517b6d,Trivial formatting + guide version,MERGED,2022-05-27 20:26:59.000000000,2022-05-27 20:46:58.000000000,2022-05-27 20:45:52.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 20:26:59.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/35fb6f52fb1f055dd9a76ccf33f84a8060444f65', 'message': 'Trivial formatting + guide version\n\nImprove formatting for an unordered list on the\nOVN page.\n\nThis PR will also be used to generate an OpenStack\nYoga version of charm-deployment-guide.\n\nChange-Id: I8f24579ad202129e76b05e84a6a3aee780517b6d\n(cherry picked from commit 1fb631fbf96c9225943b5ca4b74f4877e8bce476)\n'}]",0,843642,35fb6f52fb1f055dd9a76ccf33f84a8060444f65,7,2,1,30561,,,0,"Trivial formatting + guide version

Improve formatting for an unordered list on the
OVN page.

This PR will also be used to generate an OpenStack
Yoga version of charm-deployment-guide.

Change-Id: I8f24579ad202129e76b05e84a6a3aee780517b6d
(cherry picked from commit 1fb631fbf96c9225943b5ca4b74f4877e8bce476)
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/42/843642/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,35fb6f52fb1f055dd9a76ccf33f84a8060444f65,change-to-get-yoga-built-stable/yoga,,,0,3
openstack%2Fcinder~master~If35c9b5d66813504720121905ad86d0617f8791e,openstack/cinder,master,If35c9b5d66813504720121905ad86d0617f8791e,pylint: Remove invalid pylint disable in Nexenta driver,MERGED,2022-05-17 14:47:48.000000000,2022-05-27 20:42:31.000000000,2022-05-26 23:08:45.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 14:47:48.000000000', 'files': ['cinder/volume/drivers/nexenta/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6f4ce1c4e5be18502f34ca15d21dcd982a8b081', 'message': ""pylint: Remove invalid pylint disable in Nexenta driver\n\npylint complains because R0921 doesn't exist.\n\nChange-Id: If35c9b5d66813504720121905ad86d0617f8791e\n""}]",4,842131,e6f4ce1c4e5be18502f34ca15d21dcd982a8b081,53,3,1,4523,,,0,"pylint: Remove invalid pylint disable in Nexenta driver

pylint complains because R0921 doesn't exist.

Change-Id: If35c9b5d66813504720121905ad86d0617f8791e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/842131/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nexenta/nfs.py'],1,e6f4ce1c4e5be18502f34ca15d21dcd982a8b081,,class NexentaNfsDriver(nfs.NfsDriver):,class NexentaNfsDriver(nfs.NfsDriver): # pylint: disable=R0921,1,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~Idda995313e03f83c3c37622deca1263d0af78b37,openstack/openstack-ansible,stable/wallaby,Idda995313e03f83c3c37622deca1263d0af78b37,limit the number of thread for panko.,MERGED,2022-05-27 15:32:30.000000000,2022-05-27 20:29:30.000000000,2022-05-27 20:28:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-27 15:32:30.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/204b74eda47841ece3cb2e2c241f2150b64e13c4', 'message': 'limit the number of thread for panko.\n\nthis will fix oom on centos for : https://review.opendev.org/c/openstack/openstack-ansible-os_aodh/+/826379/\n\nChange-Id: Idda995313e03f83c3c37622deca1263d0af78b37\n'}]",0,843629,204b74eda47841ece3cb2e2c241f2150b64e13c4,8,3,1,13095,,,0,"limit the number of thread for panko.

this will fix oom on centos for : https://review.opendev.org/c/openstack/openstack-ansible-os_aodh/+/826379/

Change-Id: Idda995313e03f83c3c37622deca1263d0af78b37
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/843629/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,204b74eda47841ece3cb2e2c241f2150b64e13c4,fix-panko-threads,## Panko panko_wsgi_threads: 1 panko_wsgi_processes_max: 2 panko_wsgi_processes: 1 ,,5,0
openstack%2Fopenstack-ansible~master~Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43,openstack/openstack-ansible,master,Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43,Bump SHA for master,MERGED,2022-05-27 12:58:30.000000000,2022-05-27 20:17:16.000000000,2022-05-27 20:15:29.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-27 12:58:30.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-collection-requirements.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/894e3cc66a9649965a94765098861bb070cc431d', 'message': 'Bump SHA for master\n\nChange-Id: Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43\n'}]",0,843616,894e3cc66a9649965a94765098861bb070cc431d,8,3,1,28619,,,0,"Bump SHA for master

Change-Id: Ie29ecd23b5fb4c5462aedf1a28bbf4d22822ac43
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/843616/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-collection-requirements.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",5,894e3cc66a9649965a94765098861bb070cc431d,bump_osa,### HEAD as of 27.05.2022 ###tempest_git_install_branch: 263825a17a8393ade1ff0d99a1ad035ca47eee8btempest_plugin_cinder_git_install_branch: 9d89d4ee1f1fa43dc85f5969d2c6ce393e8089aetempest_plugin_cloudkitty_git_install_branch: fe8ed3b94d0e01e1f2dc855edc1862cf64880040tempest_plugin_designate_git_install_branch: abf66d1a09a89b6a189fa7e8eb68c68bf20e6521tempest_plugin_ironic_git_install_branch: 023c01e7e1214153229da14e2a22d6caadc8dab6tempest_plugin_magnum_git_install_branch: 70d8e4551409c712f4a1e523566951da72e1871ctempest_plugin_manila_git_install_branch: a6d89a15aa49df0a10966408ddbe2c9f9e5ec0abtempest_plugin_murano_git_install_branch: 1ca439adb0c11ceff702bff409b6e00ffffb0ed9tempest_plugin_neutron_git_install_branch: 8988a01a96df301be2ca9a7536256a4cfec0f087tempest_plugin_octavia_git_install_branch: 1aeccba999a15e2e71feb520c233dd19299e6905tempest_plugin_telemetry_git_install_branch: e5ef4e7c6eeeada174452da9be5f56fa1dcc22a9tempest_plugin_zun_git_install_branch: c6b830885c15ed40e9e5436c88c72d32e754beae,### HEAD as of 13.04.2022 ###tempest_git_install_branch: 44dac69eb77d78a0de8e68e63617099249345578tempest_plugin_cinder_git_install_branch: c70f27ca61261dc8176375275d3fd16792d8d57ctempest_plugin_cloudkitty_git_install_branch: 03d07b84ef4dffa685718ec4124d283e47ffc5e1tempest_plugin_designate_git_install_branch: 1cbfc88d6742aac850a108b9d37223dde8123a43tempest_plugin_ironic_git_install_branch: d3360cf3b6ad8b89b9c80fc806dc5d4ba373dd01tempest_plugin_magnum_git_install_branch: 969753e8fd9c60134949a89f8d3ef95eb6ec9af6tempest_plugin_manila_git_install_branch: ee15891b5d5e02ff355f50ad7647ead9d8ec6841tempest_plugin_murano_git_install_branch: 1dc16d6ba1b859b44c2845b5f276c6546fa6f42ctempest_plugin_neutron_git_install_branch: 36a231e229a0d178403d6aadf37567868bedf4d3tempest_plugin_octavia_git_install_branch: 9b0c0ff4bf9ad64e7a236eaa93909e34707887a4tempest_plugin_telemetry_git_install_branch: 6cd5f0274d73bb7a1024f99f609fd74907674f65tempest_plugin_zun_git_install_branch: 6d2529583bc32bcb84e447d5524af1c900cc2845,52,52
openstack%2Fcharm-deployment-guide~master~I8f24579ad202129e76b05e84a6a3aee780517b6d,openstack/charm-deployment-guide,master,I8f24579ad202129e76b05e84a6a3aee780517b6d,Trivial formatting + guide version,MERGED,2022-05-27 00:22:00.000000000,2022-05-27 20:12:39.000000000,2022-05-27 20:11:25.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 00:22:00.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1fb631fbf96c9225943b5ca4b74f4877e8bce476', 'message': 'Trivial formatting + guide version\n\nImprove formatting for an unordered list on the\nOVN page.\n\nThis PR will also be used to generate an OpenStack\nYoga version of charm-deployment-guide.\n\nChange-Id: I8f24579ad202129e76b05e84a6a3aee780517b6d\n'}]",0,843555,1fb631fbf96c9225943b5ca4b74f4877e8bce476,7,2,1,30561,,,0,"Trivial formatting + guide version

Improve formatting for an unordered list on the
OVN page.

This PR will also be used to generate an OpenStack
Yoga version of charm-deployment-guide.

Change-Id: I8f24579ad202129e76b05e84a6a3aee780517b6d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/55/843555/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,1fb631fbf96c9225943b5ca4b74f4877e8bce476,change-to-get-yoga-built,,,0,3
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,openstack/openstack-ansible-lxc_hosts,stable/wallaby,I226ab48b1ff7ec3c7da963e00e76b24b2b79608c,Do not mess up with distro-provided machines mount,MERGED,2022-05-26 06:52:42.000000000,2022-05-27 20:11:58.000000000,2022-05-27 20:10:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-26 06:52:42.000000000', 'files': ['tasks/lxc_cache_rootfs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7d71769b721cca23ced26453d303112515b0a508', 'message': 'Do not mess up with distro-provided machines mount\n\nvar-lib-machines.mount is provided by systemd-container package\non ubuntu/debian [1]\n\nWith package update our file will be overriden which end up on\nmount failure.\n\nTo avoid that we place it as override to /etc/\n\n[1] https://packages.ubuntu.com/focal/amd64/systemd-container/filelist\n\nChange-Id: I226ab48b1ff7ec3c7da963e00e76b24b2b79608c\nCloses-Bug: #1973762\n'}]",0,843392,7d71769b721cca23ced26453d303112515b0a508,8,3,1,28619,,,0,"Do not mess up with distro-provided machines mount

var-lib-machines.mount is provided by systemd-container package
on ubuntu/debian [1]

With package update our file will be overriden which end up on
mount failure.

To avoid that we place it as override to /etc/

[1] https://packages.ubuntu.com/focal/amd64/systemd-container/filelist

Change-Id: I226ab48b1ff7ec3c7da963e00e76b24b2b79608c
Closes-Bug: #1973762
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/92/843392/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_rootfs.yml'],1,7d71769b721cca23ced26453d303112515b0a508,bug/1973762-stable/wallaby, dest: /etc/systemd/system/var-lib-machines.mount, dest: /lib/systemd/system/var-lib-machines.mount,1,1
openstack%2Fcharm-guide~stable%2Fyoga~Ide4358310a465dc5e7253cd8c6314b71effaafe8,openstack/charm-guide,stable/yoga,Ide4358310a465dc5e7253cd8c6314b71effaafe8,Add link to a new Ceph operation + guide version,MERGED,2022-05-27 00:05:39.000000000,2022-05-27 20:10:33.000000000,2022-05-27 20:09:24.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 00:05:39.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/23a75e0f0b1ff11dfc336c5b9ee6de30530b8c70', 'message': 'Add link to a new Ceph operation + guide version\n\nA new Ceph operation has come into being. This PR adds\na link to it.\n\nThis PR will also be used to generate an OpenStack\nYoga version of charm-guide.\n\nChange-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8\n(cherry picked from commit 481e11984f8147eb13c4507896e38a5b4845386d)\n'}]",0,843526,23a75e0f0b1ff11dfc336c5b9ee6de30530b8c70,7,2,1,30561,,,0,"Add link to a new Ceph operation + guide version

A new Ceph operation has come into being. This PR adds
a link to it.

This PR will also be used to generate an OpenStack
Yoga version of charm-guide.

Change-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8
(cherry picked from commit 481e11984f8147eb13c4507896e38a5b4845386d)
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/26/843526/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,23a75e0f0b1ff11dfc336c5b9ee6de30530b8c70,add-link-to-ceph-operation-stable/yoga, Removing OSDs <https://ubuntu.com/ceph/docs/removing-osds>,,1,0
openstack%2Fopenstack-ansible-tests~master~I55b12210a83b50deb2524d6b8face57800fbcdb4,openstack/openstack-ansible-tests,master,I55b12210a83b50deb2524d6b8face57800fbcdb4,Bump ansible version to 2.12.6,MERGED,2022-05-26 08:59:18.000000000,2022-05-27 19:46:38.000000000,2022-05-27 19:45:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-26 08:59:18.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/20b54d669b5fee703aead919cc7a8a096300c26a', 'message': 'Bump ansible version to 2.12.6\n\nChange-Id: I55b12210a83b50deb2524d6b8face57800fbcdb4\n'}]",1,843421,20b54d669b5fee703aead919cc7a8a096300c26a,12,3,1,25023,,,0,"Bump ansible version to 2.12.6

Change-Id: I55b12210a83b50deb2524d6b8face57800fbcdb4
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/21/843421/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,20b54d669b5fee703aead919cc7a8a096300c26a,,ansible-core==2.12.6,ansible-core==2.11.5,1,1
openstack%2Fopenstack-ansible-repo_server~master~If220d073147d8f424cfe4f0d1ab494144b406860,openstack/openstack-ansible-repo_server,master,If220d073147d8f424cfe4f0d1ab494144b406860,Avoid a race condition between mounting and using repo filesystem,MERGED,2022-05-26 08:34:29.000000000,2022-05-27 19:25:58.000000000,2022-05-27 19:24:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-26 08:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/8a73e27b96d77a39f9c3d26a6c244fbddd3b8163', 'message': 'Avoid a race condition between mounting and using repo filesystem\n\nWait until the path is confirmed to be a mountpoint.\n\nChange-Id: If220d073147d8f424cfe4f0d1ab494144b406860\n'}, {'number': 2, 'created': '2022-05-26 17:58:16.000000000', 'files': ['tasks/repo_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/3b9a0f49a3904481e84ac305c646e2d411620605', 'message': 'Avoid a race condition between mounting and using repo filesystem\n\nWait until the path is confirmed to be a mountpoint.\n\nChange-Id: If220d073147d8f424cfe4f0d1ab494144b406860\n'}]",1,843418,3b9a0f49a3904481e84ac305c646e2d411620605,13,4,2,25023,,,0,"Avoid a race condition between mounting and using repo filesystem

Wait until the path is confirmed to be a mountpoint.

Change-Id: If220d073147d8f424cfe4f0d1ab494144b406860
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/18/843418/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_pre_install.yml'],1,8a73e27b96d77a39f9c3d26a6c244fbddd3b8163,,# NOTE(jrosser) ensure there is no race condition between mounting and using the filesystem - name: Wait until {{ repo_service_home_folder }} is a mounted command: mountpoint -q {{ repo_service_home_folder }}/repo register: _repo_folder_is_mounted retries: 5 delay: 2 until: _repo_folder_is_mounted.rc == 0 ,,8,0
openstack%2Fdesignate~master~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,master,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-19 16:11:35.000000000,2022-05-27 18:42:46.000000000,2022-05-27 18:39:52.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-19 16:11:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/fe9fb45c21a7be2f88600e1f29fd37f56244cc1a', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I94324104a7ed89e757d48bb250d8b1132026ce46\n'}]",3,842560,fe9fb45c21a7be2f88600e1f29fd37f56244cc1a,12,4,1,11628,,,0,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
",git fetch https://review.opendev.org/openstack/designate refs/changes/60/842560/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fe9fb45c21a7be2f88600e1f29fd37f56244cc1a,, queue: designate gate: queue: designate gate:, gate: queue: designate gate: queue: designate,2,3
openstack%2Ftempest~master~I60f3adb81407d0c6a29a8e2bdf20588b3061c526,openstack/tempest,master,I60f3adb81407d0c6a29a8e2bdf20588b3061c526,Remove orchestration_client from tempest tree,MERGED,2022-05-21 02:10:15.000000000,2022-05-27 18:39:14.000000000,2022-05-27 18:32:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-21 02:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cac959091869837c7466b495d8b0cc016b0b58cd', 'message': 'Remove orchestration_client from tempest tree\n\nWith the tempst plugin on each service side, all their\nservice client also moved to respective tempest plugin.\n\nHeat orchestration_client is left in Tempest as murano_tempest_plugin\nwas using it. Murano_tempest_plugin should use the heat client from\nheat_tempest_plugin and meanwhile they do that I have proposed to\nmove the Tempest orchestration_client.py to Murano side so that\nthis removal will not break them\n\nThis will avoid the confusion that Tempest still support heat service\nclient and tests in-tree.\n- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/842823\n\nChange-Id: I60f3adb81407d0c6a29a8e2bdf20588b3061c526\n'}, {'number': 2, 'created': '2022-05-26 17:45:19.000000000', 'files': ['tempest/services/orchestration/json/orchestration_client.py', 'tempest/services/orchestration/__init__.py', 'tempest/services/__init__.py', 'tempest/services/orchestration/json/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e29d5f16c5dac8585719a32cfed92a1a5cebde0f', 'message': 'Remove orchestration_client from tempest tree\n\nWith the tempst plugin on each service side, all their\nservice client also moved to respective tempest plugin.\n\nHeat orchestration_client is left in Tempest as murano_tempest_plugin\nwas using it. Murano_tempest_plugin should use the heat client from\nheat_tempest_plugin and meanwhile they do that I have proposed to\nmove the Tempest orchestration_client.py to Murano side so that\nthis removal will not break them\n\nThis will avoid the confusion that Tempest still support heat service\nclient and tests in-tree.\n- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/842823\n\nChange-Id: I60f3adb81407d0c6a29a8e2bdf20588b3061c526\n'}]",4,842824,e29d5f16c5dac8585719a32cfed92a1a5cebde0f,12,2,2,8556,,,0,"Remove orchestration_client from tempest tree

With the tempst plugin on each service side, all their
service client also moved to respective tempest plugin.

Heat orchestration_client is left in Tempest as murano_tempest_plugin
was using it. Murano_tempest_plugin should use the heat client from
heat_tempest_plugin and meanwhile they do that I have proposed to
move the Tempest orchestration_client.py to Murano side so that
this removal will not break them

This will avoid the confusion that Tempest still support heat service
client and tests in-tree.
- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/842823

Change-Id: I60f3adb81407d0c6a29a8e2bdf20588b3061c526
",git fetch https://review.opendev.org/openstack/tempest refs/changes/24/842824/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/orchestration/json/orchestration_client.py', 'tempest/services/orchestration/__init__.py', 'tempest/services/__init__.py', 'tempest/services/orchestration/json/__init__.py']",4,cac959091869837c7466b495d8b0cc016b0b58cd,move-heat-service-client,,,0,431
openstack%2Fcinder~master~I89fc0f75d4839fedc4fc771e6d23b9526109cf4a,openstack/cinder,master,I89fc0f75d4839fedc4fc771e6d23b9526109cf4a,mypy: cinder/volume/volume_types.py,MERGED,2022-03-30 17:25:06.000000000,2022-05-27 18:38:54.000000000,2022-05-27 18:32:29.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-30 17:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/955da9b2f82a95ab82aaea77b04337cf9b0d717a', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 2, 'created': '2022-03-31 21:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1f961f6ceffb0043082c1df3397b923f943d55b', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 3, 'created': '2022-04-04 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d49185a7b988de5b62db477d961f819c2886b34', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 4, 'created': '2022-04-05 21:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64712d8ed694a6be7135f753bebbe13056f0ae3e', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 5, 'created': '2022-04-06 13:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fc5889ff6dc5d527253769c3c5448f758f96ccb', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 6, 'created': '2022-05-05 14:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e561e4c46967bd727a2c4e51fb58cc60a15c74b', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 7, 'created': '2022-05-09 14:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d680a678da31a0a325b80d136b0931557caf2d70', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 8, 'created': '2022-05-09 17:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/187142ccaef8e942ad9b34baa4e8ab9b8f42af9e', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 9, 'created': '2022-05-09 22:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dd65aff18c6f1b3c8fe13458f8ee54e9fefce2e', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 10, 'created': '2022-05-10 15:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/202035a54e689c790d3b75ade9cc634d542aa61a', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 11, 'created': '2022-05-12 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/adfc4cc8acd0abd45f7257fd436bfcb6604dd526', 'message': 'mypy: cinder/volume/volume_types.py\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/841591\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 12, 'created': '2022-05-16 16:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85e914656884971a18226bde89e28a672fdfe67f', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 13, 'created': '2022-05-19 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f43bed1c6ff2fa9b3088fe815b98fa47501987ce', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}, {'number': 14, 'created': '2022-05-23 14:36:24.000000000', 'files': ['cinder/volume/volume_types.py', 'mypy-files.txt', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04b6700f48f0776f7bedbea7a26ff18070117c1e', 'message': 'mypy: cinder/volume/volume_types.py\n\nChange-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a\n'}]",68,835881,04b6700f48f0776f7bedbea7a26ff18070117c1e,345,6,14,4523,,,0,"mypy: cinder/volume/volume_types.py

Change-Id: I89fc0f75d4839fedc4fc771e6d23b9526109cf4a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/835881/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/volume_types.py'],1,955da9b2f82a95ab82aaea77b04337cf9b0d717a,mypy,"from typing import Any, Dict, Iterable, Optional, Tuple, Union # noqa: H301VolumeTypeDict = Dict[str, Any] def create(context: context.RequestContext, name: str, extra_specs: Optional[Dict[str, Any]] = None, is_public: Optional[bool] = True, description: Optional[str] = None):def update(context: context.RequestContext, id: Optional[str], name: Optional[str], description: Optional[str], is_public: Optional[bool] = None) -> None:def destroy(context: context.RequestContext, id: str) -> dict:def get_all_types(context: context.RequestContext, inactive: int = 0, filters=None, marker=None, limit: Optional[int] = None, sort_keys: Optional[str] = None, sort_dirs: Optional[str] = None, offset: Optional[int] = None, list_result: Optional[bool] = False):def get_all_types_by_group(context: context.RequestContext, group_id: str):def get_volume_type( ctxt: context.RequestContext, id: Optional[str], expected_fields: Optional[Iterable[str]] = None) -> VolumeTypeDict:def get_by_name_or_id(context: context.RequestContext, identity: str) -> VolumeTypeDict:def get_volume_type_by_name(context: context.RequestContext, name: Optional[str]) -> VolumeTypeDict:def get_default_volume_type( contxt: Optional[context.RequestContext] = None) -> VolumeTypeDict:def get_volume_type_extra_specs( volume_type_id: str, key: Union[str, bool] = False) -> Union[dict, bool]:def is_public_volume_type(context: context.RequestContext, volume_type_id: str) -> bool:def notify_about_volume_type_access_usage(context: context.RequestContext, volume_type_id: str, project_id: str, event_suffix: str, host: Optional[str] = None) -> None:def add_volume_type_access(context: context.RequestContext, volume_type_id: Optional[str], project_id: str) -> None:def remove_volume_type_access(context: context.RequestContext, volume_type_id: Optional[str], project_id: str) -> None:def get_volume_type_encryption( context: context.RequestContext, volume_type_id: Optional[str]) -> Optional[dict]:def get_volume_type_qos_specs(volume_type_id: str) -> Dict[str, Any]: vol_type_id1: str, vol_type_id2: str) -> Tuple[dict, bool]: def _fix_qos_specs(qos_specs: dict) -> None: def _fix_encryption_specs(encryption: dict) -> dict: def _dict_diff(dict1: Optional[dict], dict2: Optional[dict]) -> Tuple[dict, bool]: specs: Dict[str, Any]def volume_types_encryption_changed( context: context.RequestContext, vol_type_id1: str, vol_type_id2: str) -> bool: def _get_encryption(enc: dict) -> dict:def provision_filter_on_size(context: context.RequestContext, volume_type: Optional[VolumeTypeDict], size: Optional[Union[str, int]]) -> None: if size is None: raise exception.InvalidInput() ","import typing as ty def create(context, name, extra_specs=None, is_public=True, description=None):def update(context, id, name, description, is_public=None):def destroy(context, id):def get_all_types(context, inactive=0, filters=None, marker=None, limit=None, sort_keys=None, sort_dirs=None, offset=None, list_result=False):def get_all_types_by_group(context, group_id):def get_volume_type(ctxt, id, expected_fields=None):def get_by_name_or_id(context, identity):def get_volume_type_by_name(context, name):def get_default_volume_type(contxt=None):def get_volume_type_extra_specs(volume_type_id, key=False):def is_public_volume_type(context, volume_type_id):def notify_about_volume_type_access_usage(context, volume_type_id, project_id, event_suffix, host=None):def add_volume_type_access(context, volume_type_id, project_id):def remove_volume_type_access(context, volume_type_id, project_id):def get_volume_type_encryption(context, volume_type_id):def get_volume_type_qos_specs(volume_type_id): vol_type_id1, vol_type_id2) -> ty.Tuple[dict, bool]: def _fix_qos_specs(qos_specs): def _fix_encryption_specs(encryption): def _dict_diff(dict1: ty.Optional[dict], dict2: ty.Optional[dict]) -> ty.Tuple[dict, bool]:def volume_types_encryption_changed(context, vol_type_id1, vol_type_id2): def _get_encryption(enc):def provision_filter_on_size(context, volume_type, size):",71,36
openstack%2Ftempest~master~I521f69091cdad60edfe4ed85368df5decc0a7f55,openstack/tempest,master,I521f69091cdad60edfe4ed85368df5decc0a7f55,Add verification when restoring backups,MERGED,2022-05-26 19:36:45.000000000,2022-05-27 18:38:01.000000000,2022-05-27 18:32:09.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 19:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9470e9299399983505499f246acf05666660cf21', 'message': 'Add verification when restoring backups\n\nIf you want to restore a backup, specifying only the backup ID, you will\nget a new volume. However, if you pass the volume_id argument, you are\ntargeting the restore of an existing volume.\n\nThe problem I am having is that restore_backup() adds a second call to\naddCleanup to an existing volume and this results in a 400 HTTP error.\n\nTo fix this problem, I add a simple check when we want to use an\nexisting volume without calling cleanup.\n\nChange-Id: I521f69091cdad60edfe4ed85368df5decc0a7f55\n'}, {'number': 2, 'created': '2022-05-26 21:05:03.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/404b55cd2f07327ab2acc58295ed2fcd222e3bc2', 'message': 'Add verification when restoring backups\n\nIf you want to restore a backup, specifying only the backup ID, you will\nget a new volume. However, if you pass the volume_id argument, you are\ntargeting the restore of an existing volume.\n\nThe problem I am having is that restore_backup() adds a second call to\naddCleanup to an existing volume and this results in a 400 HTTP error.\n\nTo fix this problem, I add a simple check when we want to use an\nexisting volume without calling cleanup.\n\nChange-Id: I521f69091cdad60edfe4ed85368df5decc0a7f55\n'}]",5,843542,404b55cd2f07327ab2acc58295ed2fcd222e3bc2,12,2,2,20813,,,0,"Add verification when restoring backups

If you want to restore a backup, specifying only the backup ID, you will
get a new volume. However, if you pass the volume_id argument, you are
targeting the restore of an existing volume.

The problem I am having is that restore_backup() adds a second call to
addCleanup to an existing volume and this results in a 400 HTTP error.

To fix this problem, I add a simple check when we want to use an
existing volume without calling cleanup.

Change-Id: I521f69091cdad60edfe4ed85368df5decc0a7f55
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/843542/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,9470e9299399983505499f246acf05666660cf21,," if not kwargs.get('volume_id', None): self.addCleanup(self.volumes_client.delete_volume, restore['volume_id'])"," self.addCleanup(self.volumes_client.delete_volume, restore['volume_id'])",3,2
openstack%2Fswift~master~I1c93136cd13e927a2deb380a95fb9f96ec79fa30,openstack/swift,master,I1c93136cd13e927a2deb380a95fb9f96ec79fa30,pytest: explicitly set system logger to DEBUG,MERGED,2022-05-27 06:13:50.000000000,2022-05-27 18:37:50.000000000,2022-05-27 18:32:52.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 06:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d7e692aed8639c045ab516ee26604ac0306e8dc6', 'message': ""pytest: getLogger helper that returns in Debug\n\nWhen running pytest, if a test gets the system logger via\nlogging.getLogger() it's isn't returned at the DEBUG level as it does in\nnosetests.\n\nThis patch adds a test helper function 'getLogger' that grabs the system\nlogger but sets it to DEBUG before returning it.\nThis will allow any test that wants to trigger level logs to something\ngreater then the default to able to.\n\nThis is ussed in test_utils and allows the only unit test that fails\n`pytest test/unit` to pass.\n\nChange-Id: I1c93136cd13e927a2deb380a95fb9f96ec79fa30\n""}, {'number': 2, 'created': '2022-05-27 16:07:05.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/19855db9554a874d06f8e648c3cca676e59517f2', 'message': ""pytest: explicitly set system logger to DEBUG\n\nWe had a test grab the system logger via logging.getLogger() but when\nrunning under pytest it isn't returned at the DEBUG level as it does in\nnosetests.\n\nThis patch updates the test to set the level to DEBUG explicitly and\nallows the only unit test that fails `pytest test/unit` to pass.\n\nChange-Id: I1c93136cd13e927a2deb380a95fb9f96ec79fa30\n""}]",3,843568,19855db9554a874d06f8e648c3cca676e59517f2,12,2,2,7233,,,0,"pytest: explicitly set system logger to DEBUG

We had a test grab the system logger via logging.getLogger() but when
running under pytest it isn't returned at the DEBUG level as it does in
nosetests.

This patch updates the test to set the level to DEBUG explicitly and
allows the only unit test that fails `pytest test/unit` to pass.

Change-Id: I1c93136cd13e927a2deb380a95fb9f96ec79fa30
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/843568/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/__init__.py', 'test/unit/common/test_utils.py']",2,d7e692aed8639c045ab516ee26604ac0306e8dc6,pytest_unittests,from test import getLogger logger = getLogger(), logger = logging.getLogger(),12,1
openstack%2Fneutron~master~I150e80f1fac9c570bed39b2709635b73c57077e0,openstack/neutron,master,I150e80f1fac9c570bed39b2709635b73c57077e0,Remove requirements.txt from irrelevant files in CI jobs,MERGED,2022-05-27 10:09:35.000000000,2022-05-27 18:36:58.000000000,2022-05-27 18:32:40.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 10:09:35.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35fd49c0145a957f8970b9c26d408bc170397a36', 'message': ""Remove requirements.txt from irrelevant files in CI jobs\n\nChanges in requirements.txt file should trigger all our CI jobs\nto make sure that new requirements aren't breaking anything for sure.\n\nThis patch also removes test-requirements.txt from the irrelevant files\nof the functional and fullstack jobs as those jobs are using\ntest-requirements.txt too so changes in that file should trigger those\njobs as well.\n\nChange-Id: I150e80f1fac9c570bed39b2709635b73c57077e0\n""}]",4,843594,35fd49c0145a957f8970b9c26d408bc170397a36,13,5,1,11975,,,0,"Remove requirements.txt from irrelevant files in CI jobs

Changes in requirements.txt file should trigger all our CI jobs
to make sure that new requirements aren't breaking anything for sure.

This patch also removes test-requirements.txt from the irrelevant files
of the functional and fullstack jobs as those jobs are using
test-requirements.txt too so changes in that file should trigger those
jobs as well.

Change-Id: I150e80f1fac9c570bed39b2709635b73c57077e0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/843594/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",6,35fd49c0145a957f8970b9c26d408bc170397a36,improve-neutron-ci,, - ^(test-|)requirements.txt$,14,15
openstack%2Fcinder~master~I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d,openstack/cinder,master,I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d,Scheduler Evaluator: raise recursion limit,MERGED,2022-03-29 14:19:40.000000000,2022-05-27 18:36:54.000000000,2022-05-27 18:32:17.000000000,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}]","[{'number': 1, 'created': '2022-03-29 14:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5827b2d23e23618b75b4854a1e708aea87b1c430', 'message': 'Scheduler Evaluator: raise recursion limit\n\nThis raises the Python recursion limit for\nevaluate() calls -- reasonable formulas currently\nexceed the default limit of 1000 inside of pyparsing.\n\nCloses-Bug: #1966904\nChange-Id: I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d\n'}, {'number': 2, 'created': '2022-05-19 18:37:27.000000000', 'files': ['cinder/tests/unit/test_evaluator.py', 'cinder/scheduler/evaluator/evaluator.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d300c96ac6c5133e13d64f6afeded488912f818', 'message': 'Scheduler Evaluator: raise recursion limit\n\nThis raises the Python recursion limit for\nevaluate() calls -- reasonable formulas currently\nexceed the default limit of 1000 inside of pyparsing.\n\nCloses-Bug: #1966904\nChange-Id: I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d\n'}]",8,835635,0d300c96ac6c5133e13d64f6afeded488912f818,71,5,2,4523,,,0,"Scheduler Evaluator: raise recursion limit

This raises the Python recursion limit for
evaluate() calls -- reasonable formulas currently
exceed the default limit of 1000 inside of pyparsing.

Closes-Bug: #1966904
Change-Id: I52e04b8f8e96cc2bcf0ab22ca77e999e1a06e26d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/835635/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/evaluator/evaluator.py', 'cinder/tests/unit/test_evaluator.py']",2,5827b2d23e23618b75b4854a1e708aea87b1c430,," def test_deep_function(self): """"""Ensures that maximum recursion depth is not exceeded."""""" self.assertGreater(evaluator.evaluate( '(((1 + max(1 + (10 / 20), 2, 3)) / 100) + 1)'), 1)",,15,0
openstack%2Fswift~master~I433bad1cb3f52ad60a81dcbf3209681f7068ed55,openstack/swift,master,I433bad1cb3f52ad60a81dcbf3209681f7068ed55,staticweb: Allow empty listings at the root of a container,MERGED,2021-05-11 22:50:30.000000000,2022-05-27 18:36:44.000000000,2022-05-27 18:32:34.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 22:50:30.000000000', 'files': ['swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_staticweb.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/10767e482e7f773754b2974e1862b8bb7d120036', 'message': 'staticweb: Allow empty listings at the root of a container\n\nThis is useful for testing that staticweb metadata was properly set\nbefore putting data into the container.\n\nChange-Id: I433bad1cb3f52ad60a81dcbf3209681f7068ed55\n'}]",0,790859,10767e482e7f773754b2974e1862b8bb7d120036,8,3,1,15343,,,0,"staticweb: Allow empty listings at the root of a container

This is useful for testing that staticweb metadata was properly set
before putting data into the container.

Change-Id: I433bad1cb3f52ad60a81dcbf3209681f7068ed55
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/790859/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_staticweb.py']",2,10767e482e7f773754b2974e1862b8bb7d120036,," 'c14': {'meta': {'web-listings': 't'}}, elif env['PATH_INFO'] == '/v1/a/c14': return self.listing(env, start_response) elif env['PATH_INFO'] == '/v1/a/c14' and env['QUERY_STRING'] == \ 'delimiter=/': headers.update({'X-Container-Object-Count': '0', 'X-Container-Bytes-Used': '0', 'X-Container-Read': '.r:*', 'Content-Type': 'application/json; charset=utf-8'}) body = '[]' def test_container13empty(self): resp = Request.blank( '/v1/a/c14/').get_response(self.test_staticweb) self.assertEqual(resp.status_int, 200) self.assertIn(b'Listing of /v1/a/c14/', resp.body) self.assertIn(b'</style>', resp.body) self.assertNotIn(b'<link', resp.body) self.assertNotIn(b'listing.css', resp.body) self.assertNotIn(b'<td', resp.body) ",,21,1
openstack%2Fswift~master~I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9,openstack/swift,master,I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9,replicator: Log rsync file transfers less,MERGED,2022-04-26 20:45:12.000000000,2022-05-27 18:32:46.000000000,2022-05-27 18:32:46.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 20:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/747e99896ca5ca497fa7c27e89015242a1a3732b', 'message': 'replicator: Log rsync file transfers less\n\n- Drop log level for successful rsyncs to debug; ops don\'t usually care.\n- Add an option to skip ""send"" lines entirely -- in a large cluster,\n  during a meaningful expansion, there\'s too much information getting\n  logged; it\'s just wasting disk space.\n\nNote that we already have similar filtering for directory creation;\nthat\'s been present since the initial commit of Swift code.\n\nChange-Id: I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9\n'}, {'number': 2, 'created': '2022-04-26 21:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/addafdf973b7d749a3c94819a3547a4ceedf4c3a', 'message': 'replicator: Log rsync file transfers less\n\n- Drop log level for successful rsyncs to debug; ops don\'t usually care.\n- Add an option to skip ""send"" lines entirely -- in a large cluster,\n  during a meaningful expansion, there\'s too much information getting\n  logged; it\'s just wasting disk space.\n\nNote that we already have similar filtering for directory creation;\nthat\'s been present since the initial commit of Swift code.\n\nDrive-by: make it a little more clear that more than one suffix was\nlikely replicated when logging about success.\n\nChange-Id: I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9\n'}, {'number': 3, 'created': '2022-04-28 19:35:21.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e691768171be9ccf0a1f6f5ac7630e83b5c9344', 'message': 'replicator: Log rsync file transfers less\n\n- Drop log level for successful rsyncs to debug; ops don\'t usually care.\n- Add an option to skip ""send"" lines entirely -- in a large cluster,\n  during a meaningful expansion, there\'s too much information getting\n  logged; it\'s just wasting disk space.\n\nNote that we already have similar filtering for directory creation;\nthat\'s been present since the initial commit of Swift code.\n\nDrive-by: make it a little more clear that more than one suffix was\nlikely replicated when logging about success.\n\nChange-Id: I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9\n'}]",14,839442,7e691768171be9ccf0a1f6f5ac7630e83b5c9344,25,3,3,15343,,,0,"replicator: Log rsync file transfers less

- Drop log level for successful rsyncs to debug; ops don't usually care.
- Add an option to skip ""send"" lines entirely -- in a large cluster,
  during a meaningful expansion, there's too much information getting
  logged; it's just wasting disk space.

Note that we already have similar filtering for directory creation;
that's been present since the initial commit of Swift code.

Drive-by: make it a little more clear that more than one suffix was
likely replicated when logging about success.

Change-Id: I02ba67e77e3378b2c2c8c682d5d230d31cd1bfa9
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/839442/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample']",3,747e99896ca5ca497fa7c27e89015242a1a3732b,,"# By default, per-file rsync transfers are logged at debug if successful and # error on failure. During large rebalances (which both increase the number # of diskfiles transferred and increases the likelihood of failures), this # can overwhelm log aggregation while providing little useful insights. # Change this to false to disable per-file logging. # log_rsync_transfers = true #",,153,1
openstack%2Fcinder~master~I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4,openstack/cinder,master,I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4,docs: update release cycle tasks,MERGED,2022-05-19 21:06:25.000000000,2022-05-27 18:32:23.000000000,2022-05-27 18:32:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-05-19 21:06:25.000000000', 'files': ['doc/source/contributor/releasecycle.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc160815bfb7250310483a7691470576d75810c7', 'message': ""docs: update release cycle tasks\n\nAdd an item about supported python runtimes and making sure we're\nrunning the correct CI jobs.\n\nChange-Id: I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4\n""}]",3,842633,cc160815bfb7250310483a7691470576d75810c7,30,2,1,5314,,,0,"docs: update release cycle tasks

Add an item about supported python runtimes and making sure we're
running the correct CI jobs.

Change-Id: I7b3ff2561cd400bd3f9fdfa9922fe77b63be03c4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/842633/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasecycle.rst'],1,cc160815bfb7250310483a7691470576d75810c7,relcycle-tasks,"#. **Supported Python versions** * The supported Python runtimes for the cycle may have changed from the previous cycle. You can find them at https://governance.openstack.org/tc/reference/runtimes/ * Review the tox testenvs defined in ``tox.ini`` and make sure there are functional testenvs for each. You don't have to worry about unit tests--tox is smart enough to know what to do for those--but if you specify ``tox -e functional-py312`` tox will bomb unless there's a 'functional-py312' testenv defined. * The OpenStack required check and gate tests are defined in a template in `zuul.d/project-templates.yaml`_ in the `openstack/openstack-zuul-jobs repo`_. The template is maintained by the OpenStack QA team. It should have an easily recognizable name, for example, ``openstack-python3-zed-jobs``. Usually there will be autogenerated patches for each cinder project repo to change the template from the previous cycle's to the current cycle's, so watch for those. Or you can proactively make the changes yourself as soon as the template is available. Example new template patch: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/831826 .. _zuul.d/project-templates.yaml: https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml .. _openstack/openstack-zuul-jobs repo: https://opendev.org/openstack/openstack-zuul-jobs ",,29,0
openstack%2Fopenstack-ansible~master~Ia2814d6dc6faa509e98f7486fed12600e192ec8b,openstack/openstack-ansible,master,Ia2814d6dc6faa509e98f7486fed12600e192ec8b,Align collection_file naming,MERGED,2022-05-26 15:02:56.000000000,2022-05-27 18:20:55.000000000,2022-05-27 18:19:17.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 15:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/36cb06c17ece6f0ff24662c0064a8e6eee51c982', 'message': ""Align collection_file naming\n\nAt the moment we're inconsistent in collection_file variable naming.\nWhile we're passing `collection_file` to the play, inside it we use\n`collections_file`.\n\nCloses-Bug: #1975723\nChange-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b\n""}, {'number': 2, 'created': '2022-05-27 08:37:27.000000000', 'files': ['scripts/get-ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d501eadd94e88e68513ab2827f181ee91baa6aaf', 'message': ""Align collection_file naming\n\nAt the moment we're inconsistent in collection_file variable naming.\nWhile we're passing `collection_file` to the play, inside it we use\n`collections_file`.\n\nCloses-Bug: #1975723\nChange-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b\n""}]",0,843483,d501eadd94e88e68513ab2827f181ee91baa6aaf,11,4,2,28619,,,0,"Align collection_file naming

At the moment we're inconsistent in collection_file variable naming.
While we're passing `collection_file` to the play, inside it we use
`collections_file`.

Closes-Bug: #1975723
Change-Id: Ia2814d6dc6faa509e98f7486fed12600e192ec8b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/843483/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/get-ansible-collection-requirements.yml'],1,36cb06c17ece6f0ff24662c0064a8e6eee51c982,bug/1975723," collection_file: ""{{ playbook_dir }}/../ansible-collection-requirements.yml"" required_collections: ""{{ lookup('file', collection_file) | from_yaml }}"""," collections_file: ""{{ playbook_dir }}/../ansible-collection-requirements.yml"" required_collections: ""{{ lookup('file', collections_file) | from_yaml }}""",2,2
openstack%2Fkolla-ansible~master~I4782ef28f2e478aadd377aaf2d6dfe7f48a36938,openstack/kolla-ansible,master,I4782ef28f2e478aadd377aaf2d6dfe7f48a36938,[WIP] [CI] Use command instead of shell,ABANDONED,2022-05-27 13:38:21.000000000,2022-05-27 18:00:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 13:38:21.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57f0ef195f94ab5d4364cfd29c6647f8d9dc5c27', 'message': '[WIP] [CI] Use command instead of shell\n\nChange-Id: I4782ef28f2e478aadd377aaf2d6dfe7f48a36938\n'}]",0,843617,57f0ef195f94ab5d4364cfd29c6647f8d9dc5c27,4,1,1,30491,,,0,"[WIP] [CI] Use command instead of shell

Change-Id: I4782ef28f2e478aadd377aaf2d6dfe7f48a36938
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/843617/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,57f0ef195f94ab5d4364cfd29c6647f8d9dc5c27,ci-use-command, command:, shell: executable: /bin/bash,1,2
openstack%2Fxstatic-angular~master~Id1e700d56b9394cc648d27f03ffea33171ef7cf2,openstack/xstatic-angular,master,Id1e700d56b9394cc648d27f03ffea33171ef7cf2,Update XStatic-Angular to 1.8.2,MERGED,2022-05-25 19:35:35.000000000,2022-05-27 17:56:04.000000000,2022-05-27 17:56:04.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-25 19:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-angular/commit/e4099bb7378e362c88b15bdf69d95be96aa82879', 'message': 'Update XStatic-Angular to 1.8.2\n\nThis is the official 1.8.2 build, the most recent changes are\nincluded, and ngScenario has been removed from the project.\n\nChange-Id: Id1e700d56b9394cc648d27f03ffea33171ef7cf2\n'}, {'number': 2, 'created': '2022-05-26 16:48:54.000000000', 'files': ['xstatic/pkg/angular/data/version.json', 'xstatic/pkg/angular/__init__.py', 'xstatic/pkg/angular/data/angular-csp.css', 'xstatic/pkg/angular/data/angular-scenario.js', 'xstatic/pkg/angular/data/angular-loader.js', 'xstatic/pkg/angular/data/version.txt', 'xstatic/pkg/angular/data/angular-messages.js', 'xstatic/pkg/angular/data/angular-route.js', 'xstatic/pkg/angular/data/angular-aria.js', 'xstatic/pkg/angular/data/angular.js', 'xstatic/pkg/angular/data/errors.json', 'xstatic/pkg/angular/data/angular-mocks.js', 'xstatic/pkg/angular/data/angular-sanitize.js', 'xstatic/pkg/angular/data/angular-animate.js', 'xstatic/pkg/angular/data/angular-resource.js', 'xstatic/pkg/angular/data/angular-cookies.js', 'xstatic/pkg/angular/data/angular-message-format.js', 'xstatic/pkg/angular/data/angular-touch.js', 'xstatic/pkg/angular/data/angular-parse-ext.js'], 'web_link': 'https://opendev.org/openstack/xstatic-angular/commit/375ee8e424d913b3759b67e9263a38a56c84942c', 'message': 'Update XStatic-Angular to 1.8.2\n\nThis is the official 1.8.2 build from angularjs.org.\nThe most recent changes are included, and ngScenario has been\nremoved from the project.\n\nChange-Id: Id1e700d56b9394cc648d27f03ffea33171ef7cf2\n'}]",5,843342,375ee8e424d913b3759b67e9263a38a56c84942c,13,5,2,6914,,,0,"Update XStatic-Angular to 1.8.2

This is the official 1.8.2 build from angularjs.org.
The most recent changes are included, and ngScenario has been
removed from the project.

Change-Id: Id1e700d56b9394cc648d27f03ffea33171ef7cf2
",git fetch https://review.opendev.org/openstack/xstatic-angular refs/changes/42/843342/2 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/angular/data/version.json', 'xstatic/pkg/angular/data/angular-csp.css', 'xstatic/pkg/angular/data/angular-scenario.js', 'xstatic/pkg/angular/data/angular-loader.js', 'xstatic/pkg/angular/data/version.txt', 'xstatic/pkg/angular/data/angular-messages.js', 'xstatic/pkg/angular/data/angular-route.js', 'xstatic/pkg/angular/data/angular-aria.js', 'xstatic/pkg/angular/data/angular.js', 'xstatic/pkg/angular/data/errors.json', 'xstatic/pkg/angular/data/angular-mocks.js', 'xstatic/pkg/angular/data/angular-sanitize.js', 'xstatic/pkg/angular/data/angular-animate.js', 'xstatic/pkg/angular/data/angular-resource.js', 'xstatic/pkg/angular/data/angular-cookies.js', 'xstatic/pkg/angular/data/angular-message-format.js', 'xstatic/pkg/angular/data/angular-touch.js', 'xstatic/pkg/angular/data/angular-parse-ext.js']",18,e4099bb7378e362c88b15bdf69d95be96aa82879,1.8.2.2, * (c) 2010-2020 Google LLC. http://angularjs.org .info({ angularVersion: '1.8.2' });," * (c) 2010-2020 Google, Inc. http://angularjs.org .info({ angularVersion: '""1.8.2""' });",13445,34805
openstack%2Fcinder~master~Id82a5bc251a8cea4febdc429329cd136c805487d,openstack/cinder,master,Id82a5bc251a8cea4febdc429329cd136c805487d,Remove extra volume_type DB fetch on volume manage,MERGED,2022-03-23 16:04:18.000000000,2022-05-27 17:49:37.000000000,2022-05-27 17:47:06.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-03-23 16:04:18.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/74ce9c60459bc591e1f5e4f3e8f7eb85f28bbcac', 'message': 'Remove extra volume_type DB fetch on volume manage\n\nCall _is_encrypted() instead of volume_types.is_encrypted()\nsince we already have the volume type object.\n\nChange-Id: Id82a5bc251a8cea4febdc429329cd136c805487d\n'}]",6,834918,74ce9c60459bc591e1f5e4f3e8f7eb85f28bbcac,45,3,1,4523,,,0,"Remove extra volume_type DB fetch on volume manage

Call _is_encrypted() instead of volume_types.is_encrypted()
since we already have the volume type object.

Change-Id: Id82a5bc251a8cea4febdc429329cd136c805487d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/834918/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,74ce9c60459bc591e1f5e4f3e8f7eb85f28bbcac,, is_encrypted = self._is_encrypted(volume_type)," is_encrypted = volume_types.is_encrypted(context, volume_type['id'])",1,2
openstack%2Fkayobe~master~Id9418e4e88c52056412daa22462aa611bfcc59ae,openstack/kayobe,master,Id9418e4e88c52056412daa22462aa611bfcc59ae,ironic: Set MTU on provisioning and cleaning Neutron networks,MERGED,2022-04-29 16:15:51.000000000,2022-05-27 17:48:52.000000000,2022-05-27 17:47:30.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-29 16:15:51.000000000', 'files': ['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f', 'message': 'ironic: Set MTU on provisioning and cleaning Neutron networks\n\nPreviously we were not applying an MTU defined in Kayobe networks.yml to\nthe provisioning and cleaning networks in Neutron. This could lead to\nissues when nodes communicate with the Ironic and Inspector APIs.\n\nChange-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae\n'}]",1,839965,cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f,12,6,1,14826,,,0,"ironic: Set MTU on provisioning and cleaning Neutron networks

Previously we were not applying an MTU defined in Kayobe networks.yml to
the provisioning and cleaning networks in Neutron. This could lead to
issues when nodes communicate with the Ironic and Inspector APIs.

Change-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/839965/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml']",2,cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f,," mtu: ""{{ provision_wl_net_name | net_mtu | default(omit, True) }}"" mtu: ""{{ cleaning_net_name | net_mtu | default(omit, True) }}""",,7,0
openstack%2Fkeystone~master~I64d941148743d2c7902f16f5e81888a647249c6f,openstack/keystone,master,I64d941148743d2c7902f16f5e81888a647249c6f,Imported Translations from Zanata,MERGED,2022-05-26 03:19:35.000000000,2022-05-27 17:48:34.000000000,2022-05-27 17:47:02.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 03:19:35.000000000', 'files': ['keystone/locale/es/LC_MESSAGES/keystone.po', 'keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone.po', 'keystone/locale/fr/LC_MESSAGES/keystone.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone.po', 'keystone/locale/ru/LC_MESSAGES/keystone.po', 'keystone/locale/ja/LC_MESSAGES/keystone.po', 'keystone/locale/de/LC_MESSAGES/keystone.po', 'keystone/locale/it/LC_MESSAGES/keystone.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7e6d20be56cd20f944377384d411bca96980c4fc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I64d941148743d2c7902f16f5e81888a647249c6f\n'}]",0,843372,7e6d20be56cd20f944377384d411bca96980c4fc,10,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I64d941148743d2c7902f16f5e81888a647249c6f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/843372/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/locale/es/LC_MESSAGES/keystone.po', 'keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone.po', 'keystone/locale/fr/LC_MESSAGES/keystone.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone.po', 'keystone/locale/ru/LC_MESSAGES/keystone.po', 'keystone/locale/ja/LC_MESSAGES/keystone.po', 'keystone/locale/de/LC_MESSAGES/keystone.po', 'keystone/locale/it/LC_MESSAGES/keystone.po']",12,7e6d20be56cd20f944377384d411bca96980c4fc,zanata/translations,"""POT-Creation-Date: 2022-05-20 04:41+0000\n""","""POT-Creation-Date: 2019-09-30 20:17+0000\n""msgid ""Unable to downgrade schema"" msgstr ""Impossibile eseguire il downgrade dello schema"" ",24,61
openstack%2Fcinder~master~If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81,openstack/cinder,master,If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81,Modify manner of retrieving volume_ref,MERGED,2021-05-27 05:21:22.000000000,2022-05-27 17:48:24.000000000,2022-05-27 17:46:57.000000000,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-27 05:21:22.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/049549eebc1c43666b1a395d8402592cad0e07f7', 'message': ""Modify manner of retrieving volume_ref\n\nThe type of the input parameter connector is dict, but as I\nwould like to get connector from volume_ref, the type of the\nlatter is str which does not comply with the type of the former\n. For example, I use a list comprehension which is [a.connector\n for a in volume_ref.volume _attachment] and the elements in the\nlist belong to the type of str. And in such scenario, if we want\nto get some values by key such as 'host', the former can utilize\nconnect['host'] but the latter can not. That causes a confusion.\n\nTherefore, Modify manner of retrieving volume_ref so that the type\nof connector taken from volume_ref is a instance of dict.\n\nChange-Id: If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81\n""}]",7,793267,049549eebc1c43666b1a395d8402592cad0e07f7,30,4,1,30696,,,0,"Modify manner of retrieving volume_ref

The type of the input parameter connector is dict, but as I
would like to get connector from volume_ref, the type of the
latter is str which does not comply with the type of the former
. For example, I use a list comprehension which is [a.connector
 for a in volume_ref.volume _attachment] and the elements in the
list belong to the type of str. And in such scenario, if we want
to get some values by key such as 'host', the former can utilize
connect['host'] but the latter can not. That causes a confusion.

Therefore, Modify manner of retrieving volume_ref so that the type
of connector taken from volume_ref is a instance of dict.

Change-Id: If187cfc9c79f08c5ecc1ea15c6b11fc50acbaa81
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/793267/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,049549eebc1c43666b1a395d8402592cad0e07f7,comply-connector-format," volume_ref = objects.Volume.get_by_id(context, volume_id)"," volume_ref = self.db.volume_get(context, volume_id)",1,1
openstack%2Fcinder~master~Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c,openstack/cinder,master,Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c,pylint: tidy up clean_volume_locks,MERGED,2022-05-17 14:47:48.000000000,2022-05-27 17:46:16.000000000,2022-05-26 16:38:23.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-17 14:47:48.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b55f6f1b28f97531f31f2a1464fcb46b46401d0', 'message': 'pylint: tidy up clean_volume_locks\n\nInitialize set_clean to False so it always has a value in\nthe except block.\n\nChange-Id: Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c\n'}]",3,842130,8b55f6f1b28f97531f31f2a1464fcb46b46401d0,54,4,1,4523,,,0,"pylint: tidy up clean_volume_locks

Initialize set_clean to False so it always has a value in
the except block.

Change-Id: Ia7ac2aa6c741bdade7aeb4d22f7a2269f8db878c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/842130/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,8b55f6f1b28f97531f31f2a1464fcb46b46401d0,, skip_clean = False skip_clean = False,,2,0
openstack%2Fopenstack-ansible~master~I7b8da8c1dd8d332147116882c253ff9e084bf28b,openstack/openstack-ansible,master,I7b8da8c1dd8d332147116882c253ff9e084bf28b,Add zuul jobs and template for testing different LXC backing stores,MERGED,2022-05-23 21:17:04.000000000,2022-05-27 17:42:39.000000000,2022-05-27 17:38:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-23 21:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7a10b315043324c576e98d7970f0a400ddc8a80', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 2, 'created': '2022-05-23 21:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7993eb908918ff4f117dfebf77d2cf0b42940a27', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 3, 'created': '2022-05-23 21:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/928456b1d55f75a43b935b5c9173d3ba91cf27c2', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 4, 'created': '2022-05-23 21:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8931c6a10571a70b79a30ff5afedbb7010074406', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 5, 'created': '2022-05-24 07:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/542aa5809349493e1c2a27bc037cf0e79a841a39', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 6, 'created': '2022-05-24 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b30a574081fa24a0e0dddd7c5a581c7cd6623fc', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 7, 'created': '2022-05-24 13:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/26d13c193c59d7ba050184fad40703afdb34ec2e', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 8, 'created': '2022-05-24 13:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/282872cc0adda4669cfa911f5d5cc6c5fd9c3c65', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 9, 'created': '2022-05-24 17:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a968c771ed3d0a07970fb5a09c24dfd72e096ab2', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 10, 'created': '2022-05-25 08:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6bb6e19b304a5e72da20f60c32bc146e1842b62b', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}, {'number': 11, 'created': '2022-05-25 13:04:39.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0de6311de7665a48e0f5394bdac6a3d95e6e7ca0', 'message': 'Add zuul jobs and template for testing different LXC backing stores\n\nChange-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b\n'}]",0,843027,0de6311de7665a48e0f5394bdac6a3d95e6e7ca0,25,3,11,25023,,,0,"Add zuul jobs and template for testing different LXC backing stores

Change-Id: I7b8da8c1dd8d332147116882c253ff9e084bf28b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/843027/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,e7a10b315043324c576e98d7970f0a400ddc8a80,osa/lxc-ci,- job: name: openstack-ansible-deploy-hosts_lxc_zfs-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal - job: name: openstack-ansible-deploy-hosts_lxc_btrfs-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal - job: name: openstack-ansible-deploy-hosts_lxc_overlayfs-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal - job: name: openstack-ansible-deploy-hosts_lxc_overlayfs-centos-8-stream parent: openstack-ansible-deploy-aio nodeset: centos-8-stream - job: name: openstack-ansible-deploy-hosts_lxc_overlayfs-rockylinux-8 parent: openstack-ansible-deploy-aio nodeset: rockylinux-8 - job: name: openstack-ansible-deploy-hosts_lxc_btrfs-debian-bullseye parent: openstack-ansible-deploy-aio nodeset: debian-bullseye - job: name: openstack-ansible-deploy-hosts_lxc_overlayfs-debian-bullseye parent: openstack-ansible-deploy-aio nodeset: debian-bullseye, ,57,1
openstack%2Fopenstack-ansible~master~Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115,openstack/openstack-ansible,master,Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115,Allow lxc container backing store to be defined as part of the scenario,MERGED,2022-05-23 18:10:43.000000000,2022-05-27 17:40:58.000000000,2022-05-27 17:38:10.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-23 18:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2eba24a41f530707aa675cb04589441e76862cb8', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 2, 'created': '2022-05-23 19:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1dfa2df551c77e4aa184331f6c97e5f3cbb3519f', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 3, 'created': '2022-05-23 19:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c25c6b586d96ed897e871060d55e573f84cb5aef', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 4, 'created': '2022-05-23 20:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0e08304b863e48fe887881c50de2860c9feec211', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 5, 'created': '2022-05-23 21:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff72da98641b17b50739acdd0b78ac0b91da9c34', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 6, 'created': '2022-05-24 07:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/233a0d75df66627fc9b7a4b32b8277affca69f97', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 7, 'created': '2022-05-24 08:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9ddc99e611e279c4b6b1da4fc5fca4bf4b2e1d2', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 8, 'created': '2022-05-24 13:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75d71e50d35e3ec2ebf5cba156b97867d63e5123', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 9, 'created': '2022-05-24 17:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/17e016d48375afe66ea5dfae89365e239acdf4be', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 10, 'created': '2022-05-25 08:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63f42a7f15f41b6d337f873a8c2943b8effaf665', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}, {'number': 11, 'created': '2022-05-25 13:04:30.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff746bfefeadfacb2db53b6f642c5d37fb2ca7fa', 'message': 'Allow lxc container backing store to be defined as part of the scenario\n\nThis will allow aio_lxc_zfs, and a migration path away from\nopenstack-ansible-tests repo for the lxc_hosts and lxc_container_create\nroles.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999\nChange-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115\n'}]",3,843011,ff746bfefeadfacb2db53b6f642c5d37fb2ca7fa,29,3,11,25023,,,0,"Allow lxc container backing store to be defined as part of the scenario

This will allow aio_lxc_zfs, and a migration path away from
openstack-ansible-tests repo for the lxc_hosts and lxc_container_create
roles.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/842999
Change-Id: Ifb62f8b7e6d835d6aab84e85e35f55b89d01d115
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/843011/8 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,2eba24a41f530707aa675cb04589441e76862cb8,osa/lxc-ci,"# LXC backing store options are: [overlayfs, btrfs, zfs, dir, lvm] {% if 'zfs' in bootstrap_host_scenario %} lxc_container_backing_store: ""zfs"" {% elsif 'btrfs' in bootstrap_host_scenario %} lxc_container_backing_store: ""btrfs"" {% elsif 'dir' in bootstrap_host_scenario %} lxc_container_backing_store: ""dir"" {% elsif 'lvm' in boostrap_host_scenario %} lxc_container_backing_store: ""lvm"" {% elsif 'overlayfs' in boostrap_host_scenario %} lxc_container_backing_store: ""overlayfs"" {% else %} lxc_container_backing_store: {{ lxc_container_backing_store }}"" {% endif %}","# The container backing store is set to 'machinectl' to speed up the # AIO build time. Options are: [machinectl, overlayfs, btrfs, zfs, dir, lvm] lxc_container_backing_store: ""{{ lxc_container_backing_store }}""",14,3
openstack%2Fvalidations-libs~master~I5cf39ea9c537c9f2f8537df1bb117c258379a326,openstack/validations-libs,master,I5cf39ea9c537c9f2f8537df1bb117c258379a326,Clarifying project branching model in CONTRIBUTING.rst,MERGED,2022-05-24 08:37:02.000000000,2022-05-27 17:35:19.000000000,2022-05-27 17:32:39.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-24 08:37:02.000000000', 'files': ['CONTRIBUTING.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/98b792d58f364c704c4166d37456a55777fbec92', 'message': 'Clarifying project branching model in CONTRIBUTING.rst\n\nThe CONTRIBUTING.rst is now included among the files\ntriggering execution of the tox-docs job.\nThis patches a dimunitive but nonetheless extant hole\nin our doc CI coverage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326\n'}]",0,843121,98b792d58f364c704c4166d37456a55777fbec92,10,4,1,32926,,,0,"Clarifying project branching model in CONTRIBUTING.rst

The CONTRIBUTING.rst is now included among the files
triggering execution of the tox-docs job.
This patches a dimunitive but nonetheless extant hole
in our doc CI coverage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/21/843121/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', '.zuul.yaml']",2,98b792d58f364c704c4166d37456a55777fbec92,vf/branching-explanation, - ^CONTRIBUTING.rst,,13,0
openstack%2Fopenstack-ansible-repo_server~master~I3109bd891d4c6b3522f5f741d9970093b1e882c8,openstack/openstack-ansible-repo_server,master,I3109bd891d4c6b3522f5f741d9970093b1e882c8,"Clean up legacy lsycnd, rsync and ssh key config",MERGED,2022-04-14 12:09:25.000000000,2022-05-27 17:35:10.000000000,2022-05-27 17:32:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-14 12:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/2b809100355a4b3431f0f459a3486bcd93a6ba0a', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 2, 'created': '2022-04-14 13:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/e8ed82fe29069fed20cfda8d91a333de106d05e7', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 3, 'created': '2022-04-14 13:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a4d359f687ea8c97f3a0a7223858f57b463c7367', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 4, 'created': '2022-04-14 14:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/080990cad63fe9adbe9213294b11b63f07795228', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 5, 'created': '2022-04-14 14:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/428d860b4abb1984dd8079f6b3315d92d6dc1ea8', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 6, 'created': '2022-04-19 11:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/3aa5e9b7b32ad40191617ff2cd46b93beba8f303', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 7, 'created': '2022-04-20 06:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f3ad3ce16457bcc7d94b339ad8cb205fc0349dad', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 8, 'created': '2022-04-20 07:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/bdb65a71208dd25ce2d3f14f33f3f9023b04e10a', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 9, 'created': '2022-04-20 08:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/9925ed960ed895e8048a7f3113b3f02d5977c079', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 10, 'created': '2022-04-26 10:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/ec61bee7afe992decc52827745f1d8c46eda6ee2', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 11, 'created': '2022-04-26 16:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/e953c13aed853ad7618ce251edaf1924261ab28e', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 12, 'created': '2022-04-27 07:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f4e246497738b1b569ea5f016e1d30f7b37a4b79', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 13, 'created': '2022-04-27 07:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/299b993c291e7aef4e17b4b374fee27cbfbccb4e', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 14, 'created': '2022-04-27 11:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/9a75bd975887bfbe5d5a4cea9ae66b2a31bd399f', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 15, 'created': '2022-04-27 13:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/9d53855552b89eeadaf14573a2eb404b4ad8f2f3', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 16, 'created': '2022-04-27 13:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/6f880f545719a0be6b55899d2ec4183e9531afa7', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 17, 'created': '2022-04-27 21:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/613aee98bca7961337e80f3097f6a0db1e5329f8', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 18, 'created': '2022-04-29 18:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/be8b95735147f69d8cbf770c76ca5549b39cc9b2', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 19, 'created': '2022-05-04 09:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/46e612b1f08d7f7051a830f00b3905430dab1344', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 20, 'created': '2022-05-05 11:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/6819e05933cdf4adf6744b27ac356e82c2dbf26a', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 21, 'created': '2022-05-05 11:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/572957e56cb1bb11a49f22b8b42969dff387e30c', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 22, 'created': '2022-05-09 06:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d04d99eab274242d5b4d7586365ac99572cc2967', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 23, 'created': '2022-05-12 16:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/5f421412645ae579f1f97b9232496c36629946fd', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 24, 'created': '2022-05-16 11:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/2eeae9bf3ccf45c985754207487fe185f165d98d', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 25, 'created': '2022-05-16 15:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/e7a235fb657f6f8018ef85b89511f26271167b08', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 26, 'created': '2022-05-17 11:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/de2562c2721a4753bf8d9a4315becc7141aac08f', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 27, 'created': '2022-05-18 11:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/3fafa20d3ddf05273a939ade7fff2bc22399e9f9', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 28, 'created': '2022-05-18 11:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d6ab0c2af73f072b5b67eeb97176a3f033803c22', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}, {'number': 29, 'created': '2022-05-19 16:41:32.000000000', 'files': ['tasks/main.yml', 'tasks/repo_sync_cleanup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/45d07fcf0c6605c9da72147d243cbe8d7e1ce8a7', 'message': 'Clean up legacy lsycnd, rsync and ssh key config\n\nThese are no longer needed when a shared filesystem is used to\nsyncronise the repo server contents\n\nChange-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8\n'}]",6,837859,45d07fcf0c6605c9da72147d243cbe8d7e1ce8a7,67,3,29,25023,,,0,"Clean up legacy lsycnd, rsync and ssh key config

These are no longer needed when a shared filesystem is used to
syncronise the repo server contents

Change-Id: I3109bd891d4c6b3522f5f741d9970093b1e882c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/59/837859/25 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/repo_sync_cleanup.yml']",2,2b809100355a4b3431f0f459a3486bcd93a6ba0a,osa-gluster,"--- # Copyright 2022, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Check rsyncd status command: systemctl status ""{{ rsyncd_service_name }}"" register: _rsyncd_status - name: Stop and uninstall rsyncd when: _rsyncd_status.rc == 0 block: - name: Stop rsyncd service: name: ""{{ rsyncd_service_name }}"" state: stopped enabled: no - name: Uninstall rsyncd package: name: ""{{ rsyncd_service_name }}"" state: absent - name: Check lsyncd status command: systemctl status lsyncd register: _lsyncd_status - name: Stop and uninstall lsyncd when: _lsyncd_status.rc == 0 - name: Stop lsyncd service: name: lsyncd enabled: no - name: Uninstall lsyncd package: name: ""lsyncd"" state: absent - name: Remove ssh keys and certificates file: path: ""{{ repo_service_home_folder }}/.ssh"" state: absent ",,60,0
openstack%2Fkeystonemiddleware~master~I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f,openstack/keystonemiddleware,master,I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f,Update Python 3 job template,MERGED,2022-05-06 16:13:41.000000000,2022-05-27 17:34:22.000000000,2022-05-27 17:25:27.000000000,"[{'_account_id': 5046}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 16:13:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/87f6515e5b06b3bdbec5cd0a33554baca0249e94', 'message': 'Update Python 3 job template\n\nWe should use the template corresponding to the release.\n\nChange-Id: I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f\n'}]",0,840956,87f6515e5b06b3bdbec5cd0a33554baca0249e94,8,3,1,9816,,,0,"Update Python 3 job template

We should use the template corresponding to the release.

Change-Id: I659fb6cd3eb5be92c1c5568ee417f1ee32e7124f
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/56/840956/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87f6515e5b06b3bdbec5cd0a33554baca0249e94,, - openstack-python3-zed-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fvalidations-common~master~I429f65498960f3555326f23b1ec2af592414a95f,openstack/validations-common,master,I429f65498960f3555326f23b1ec2af592414a95f,Explaining stable branches in CONTRIBUTING.rst,MERGED,2022-05-24 08:01:20.000000000,2022-05-27 17:32:42.000000000,2022-05-27 17:32:42.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-24 08:01:20.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/723985f71808f499f7b72da6b9bdd7505c05af2f', 'message': 'Explaining stable branches in CONTRIBUTING.rst\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I429f65498960f3555326f23b1ec2af592414a95f\n'}]",0,843114,723985f71808f499f7b72da6b9bdd7505c05af2f,9,4,1,32926,,,0,"Explaining stable branches in CONTRIBUTING.rst

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I429f65498960f3555326f23b1ec2af592414a95f
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/14/843114/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,723985f71808f499f7b72da6b9bdd7505c05af2f,vf/branching-explanation,"The information below will cover the project specific information you'll need to get started with validation-framework. Branches and version management =============================== Validation Framework project uses semantic versioning and derives names of stable branches from the released minor versions. The latest minor version released is the only exception as it is derived from the `master` branch. Therefore, all code used by version 1.n.* of the project resides in `stable/1.n` branch, and when version 1.(n+1) is released, new branch `stable/1.(n+1)` will be created. By default, stable branches recieve only bug fixes and feature backports are decided on case basis after all the necessary discussions and procedures have taken place.",The information below will cover the project specific information you need to get started with TripleO.,14,1
openstack%2Fopenstack-ansible-galera_server~master~I90286b01b5578df04447155c69c92f823388185a,openstack/openstack-ansible-galera_server,master,I90286b01b5578df04447155c69c92f823388185a,Bump mariadb version.,MERGED,2022-05-17 13:39:39.000000000,2022-05-27 17:25:17.000000000,2022-05-27 17:23:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-17 13:39:39.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1013ee3a5dc2b48fdba63c6e2df8b5e1fb7860ac', 'message': 'Bump mariadb version.\n\nThis bump will fix:\nhttps://nvd.nist.gov/vuln/detail/CVE-2022-27376\nhttps://nvd.nist.gov/vuln/detail/CVE-2022-27377\nhttps://nvd.nist.gov/vuln/detail/CVE-2022-27380\n\nChange-Id: I90286b01b5578df04447155c69c92f823388185a\n'}]",3,842106,1013ee3a5dc2b48fdba63c6e2df8b5e1fb7860ac,14,3,1,13095,,,0,"Bump mariadb version.

This bump will fix:
https://nvd.nist.gov/vuln/detail/CVE-2022-27376
https://nvd.nist.gov/vuln/detail/CVE-2022-27377
https://nvd.nist.gov/vuln/detail/CVE-2022-27380

Change-Id: I90286b01b5578df04447155c69c92f823388185a
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/06/842106/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1013ee3a5dc2b48fdba63c6e2df8b5e1fb7860ac,mariadb-bump,galera_minor_version: 8,galera_minor_version: 7,1,1
openstack%2Fopenstack-ansible-os_rally~stable%2Fvictoria~Idbd71ade1ab82d2d218e560b2f10c38116ff47e3,openstack/openstack-ansible-os_rally,stable/victoria,Idbd71ade1ab82d2d218e560b2f10c38116ff47e3,Ensure that the rally venv build is self contained,MERGED,2022-05-26 06:56:57.000000000,2022-05-27 17:25:17.000000000,2022-05-27 17:23:20.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-05-26 06:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/6aef156ac216d5022c90308da060b60a4303ce63', 'message': ""Ensure that the rally venv build is self contained\n\nRally ships it's own version of upper-constraints [1].\n\nAs we move openstack-ansible to using the new pip resolver this\ncauses several issues. The rally specific version of u-c contains\nconstraints for pip/setuptools/wheel which will inevitably be in\nconflict with those in global-requirement-pins. This results in\nseveral problems.\n\n* Rally is branchless and so applying branch-specific versions\n  of openstack u-c is incorrect\n\n* Rally should be installed using the rally u-c rather than\n  openstack u-c\n\n* Rally should not use the repo server to build wheels as the repo\n  server wheel build venv will have different versions of pip/\n  setuptools/wheel to those specificed in rally u-c.\n\n* Rally venv build should not be subject to openstack-ansible\n  global-requirement-pins as these are in conflict with rally u-c.\n\nThis patch introduces the changes necessary to build rally in a self\ncontained manner on the utility host with no use of the repo server.\nIt also includes a revert of I73887784cbc3ce6089a42c67871dbc6c3d54acf6.\n\n[1] https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt\n\nChange-Id: Idbd71ade1ab82d2d218e560b2f10c38116ff47e3\n(cherry picked from commit 03c78725360310437ee455e0b840a2c769da0f39)\n""}, {'number': 2, 'created': '2022-05-26 15:14:31.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/138b950afe681b637757fe6f5001d6b8d06539cc', 'message': ""Ensure that the rally venv build is self contained\n\nRally ships it's own version of upper-constraints [1].\n\nAs we move openstack-ansible to using the new pip resolver this\ncauses several issues. The rally specific version of u-c contains\nconstraints for pip/setuptools/wheel which will inevitably be in\nconflict with those in global-requirement-pins. This results in\nseveral problems.\n\n* Rally is branchless and so applying branch-specific versions\n  of openstack u-c is incorrect\n\n* Rally should be installed using the rally u-c rather than\n  openstack u-c\n\n* Rally should not use the repo server to build wheels as the repo\n  server wheel build venv will have different versions of pip/\n  setuptools/wheel to those specificed in rally u-c.\n\n* Rally venv build should not be subject to openstack-ansible\n  global-requirement-pins as these are in conflict with rally u-c.\n\nThis patch introduces the changes necessary to build rally in a self\ncontained manner on the utility host with no use of the repo server.\nIt also includes a revert of I73887784cbc3ce6089a42c67871dbc6c3d54acf6.\n\n[1] https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt\n\nChange-Id: Idbd71ade1ab82d2d218e560b2f10c38116ff47e3\n(cherry picked from commit 03c78725360310437ee455e0b840a2c769da0f39)\n""}]",1,843393,138b950afe681b637757fe6f5001d6b8d06539cc,12,3,2,28619,,,0,"Ensure that the rally venv build is self contained

Rally ships it's own version of upper-constraints [1].

As we move openstack-ansible to using the new pip resolver this
causes several issues. The rally specific version of u-c contains
constraints for pip/setuptools/wheel which will inevitably be in
conflict with those in global-requirement-pins. This results in
several problems.

* Rally is branchless and so applying branch-specific versions
  of openstack u-c is incorrect

* Rally should be installed using the rally u-c rather than
  openstack u-c

* Rally should not use the repo server to build wheels as the repo
  server wheel build venv will have different versions of pip/
  setuptools/wheel to those specificed in rally u-c.

* Rally venv build should not be subject to openstack-ansible
  global-requirement-pins as these are in conflict with rally u-c.

This patch introduces the changes necessary to build rally in a self
contained manner on the utility host with no use of the repo server.
It also includes a revert of I73887784cbc3ce6089a42c67871dbc6c3d54acf6.

[1] https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt

Change-Id: Idbd71ade1ab82d2d218e560b2f10c38116ff47e3
(cherry picked from commit 03c78725360310437ee455e0b840a2c769da0f39)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/93/843393/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml']",4,6aef156ac216d5022c90308da060b60a4303ce63,osa-new-pip-stable/victoria,"rally_upper_constraints_url: ""https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt""","rally_upper_constraints_url: ""https://releases.openstack.org/constraints/upper/master""",10,1
openstack%2Fdiskimage-builder~master~I8a84d08c3090e46b00d1d626fb984f66ea33f256,openstack/diskimage-builder,master,I8a84d08c3090e46b00d1d626fb984f66ea33f256,Fix grub setup on Gentoo,MERGED,2022-05-22 12:21:07.000000000,2022-05-27 17:15:15.000000000,2022-05-27 17:13:34.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-22 12:21:07.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b774869c3b1272ca1f6101df75c4d26c2046b2af', 'message': ""Fix grub setup on Gentoo\n\nAfter some recent reordering[0], the /boot/grub directory isn't created\nearly enough on Gentoo any more, let us just ensure ourselves that it is\nin place when we create the grub config.\n\n[0] I8cb34914bbbfa05521bbb71cc6637368b980358f\n\nChange-Id: I8a84d08c3090e46b00d1d626fb984f66ea33f256\n""}]",3,842856,b774869c3b1272ca1f6101df75c4d26c2046b2af,27,5,1,13252,,,0,"Fix grub setup on Gentoo

After some recent reordering[0], the /boot/grub directory isn't created
early enough on Gentoo any more, let us just ensure ourselves that it is
in place when we create the grub config.

[0] I8cb34914bbbfa05521bbb71cc6637368b980358f

Change-Id: I8a84d08c3090e46b00d1d626fb984f66ea33f256
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/56/842856/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'],1,b774869c3b1272ca1f6101df75c4d26c2046b2af,fix-gentoo-grub, mkdir -p /boot/grub,,1,0
openstack%2Fcinder~master~I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5,openstack/cinder,master,I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5,Fix QOS computation,MERGED,2021-10-26 22:11:42.000000000,2022-05-27 16:53:10.000000000,2022-05-27 16:50:59.000000000,"[{'_account_id': 5314}, {'_account_id': 11805}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-10-26 22:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85597c88f80eaf2fd3aba2b24e5690d69131c892', 'message': ""Fix QOS computation\n\nIt's possible for a volume's node name to be `None` (because an\nAPI is not present, or the user doesn't have privileges, for example).\nFor these cases, computing the QOS name can lead to a TypError, since\nit needs to concatenate a prefix to the node name. This patchset fixes\nthis problem by returning an empty string for the QOS if the node name\nis indeed node.\n\nCloses-Bug: #1948507\nChange-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5\n""}, {'number': 2, 'created': '2021-11-19 16:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06abbd95775a0af9633efe56c310ddc5272deb64', 'message': ""Fix QOS computation\n\nIt's possible for a volume's node name to be `None` (because an\nAPI is not present, or the user doesn't have privileges, for example).\nFor these cases, computing the QOS name can lead to a TypeError, since\nit needs to concatenate a prefix to the node name. This patchset fixes\nthis problem by returning an empty string for the QOS if the node name\nis indeed node.\n\nCloses-Bug: #1948507\nChange-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5\n""}, {'number': 3, 'created': '2022-03-02 15:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d3f8bca11c8be83b5ec8711afdd2bcf67a4fa16', 'message': ""Fix QOS computation\n\nIt's possible for a volume's node name to be `None` (because an\nAPI is not present, or the user doesn't have privileges, for example).\nFor these cases, computing the QOS name can lead to a TypeError, since\nit needs to concatenate a prefix to the node name. This patchset fixes\nthis problem by returning an empty string for the QOS if the node name\nis indeed None.\n\nCloses-Bug: #1948507\nChange-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5\n""}, {'number': 4, 'created': '2022-03-18 21:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3b66594363837f7f31dd994ed5cac90a40911c8', 'message': ""Fix QOS computation\n\nIt's possible for a volume's node name to be `None` (because an\nAPI is not present, or the user doesn't have privileges, for example).\nFor these cases, computing the QOS name can lead to a TypeError, since\nit needs to concatenate a prefix to the node name. This patchset fixes\nthis problem by returning an empty string for the QOS if the node name\nis indeed None.\n\nCloses-Bug: #1948507\nChange-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5\n""}, {'number': 5, 'created': '2022-03-29 12:14:47.000000000', 'files': ['cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d83a2289d582ad137017f9589c2e42e8d1543c13', 'message': ""Fix QOS computation\n\nIt's possible for a volume's node name to be `None` (because an\nAPI is not present, or the user doesn't have privileges, for example).\nFor these cases, computing the QOS name can lead to a TypeError, since\nit needs to concatenate a prefix to the node name. This patchset fixes\nthis problem by returning an empty string for the QOS if the node name\nis indeed None.\n\nCloses-Bug: #1948507\nChange-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5\n""}]",28,815560,d83a2289d582ad137017f9589c2e42e8d1543c13,156,8,5,33717,,,0,"Fix QOS computation

It's possible for a volume's node name to be `None` (because an
API is not present, or the user doesn't have privileges, for example).
For these cases, computing the QOS name can lead to a TypeError, since
it needs to concatenate a prefix to the node name. This patchset fixes
this problem by returning an empty string for the QOS if the node name
is indeed None.

Closes-Bug: #1948507
Change-Id: I16d7bf9fb023f3bc7be0fc8e3e08421b2754d5a5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/815560/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py']",2,85597c88f80eaf2fd3aba2b24e5690d69131c892,bug/1948507," self.assertEqual('', na_utils.qos_min_feature_name(True, None)) self.assertEqual('', na_utils.qos_min_feature_name(False, None)) ",,6,1
openstack%2Fvalidations-libs~master~I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835,openstack/validations-libs,master,I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835,Normalizing VF metadata,MERGED,2022-05-04 10:28:16.000000000,2022-05-27 16:50:44.000000000,2022-05-27 16:50:44.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-04 10:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c75492e790b644585ee62958735f1cb8b5519683', 'message': 'Normalizing VF metadata\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835\n'}, {'number': 2, 'created': '2022-05-04 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8bd7470c9a9ec019353447883db5fa8cc4a45d0f', 'message': 'Normalizing VF metadata\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835\n'}, {'number': 3, 'created': '2022-05-05 09:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0bd1b0070f23744921c1a9336264a364535b4549', 'message': 'Normalizing VF metadata\n\nAdded Framework and Development status classifiers.\n\nAdded requires-python clause to indicate compatibility with runtime.\n\nRemoved unnecessary level of indentation in the files section.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835\n'}, {'number': 4, 'created': '2022-05-05 09:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/678c480d460befd23357ff313ea4dd6bd6807574', 'message': 'Normalizing VF metadata\n\nAdded Framework and Development status classifiers.\n\nAdded python_requires clause to indicate compatibility with runtime.\n\nRemoved unnecessary level of indentation in the files section.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835\n'}, {'number': 5, 'created': '2022-05-05 09:26:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/786e55d717c94145d01278ef712f83b7dd34d6b7', 'message': 'Normalizing VF metadata\n\nAdded Framework and Development status classifiers.[0]\n\nAdded python_requires clause to indicate compatibility with runtime.[1]\n\nRemoved unnecessary level of indentation in the files section.\n\n[0] https://pypi.org/classifiers/\n[1] https://setuptools.pypa.io/en/latest/userguide/dependency_management.html?highlight=python_requires#python-requirement\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835\n'}]",0,840438,786e55d717c94145d01278ef712f83b7dd34d6b7,14,4,5,32926,,,0,"Normalizing VF metadata

Added Framework and Development status classifiers.[0]

Added python_requires clause to indicate compatibility with runtime.[1]

Removed unnecessary level of indentation in the files section.

[0] https://pypi.org/classifiers/
[1] https://setuptools.pypa.io/en/latest/userguide/dependency_management.html?highlight=python_requires#python-requirement

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I8e3392a143ac9fe2c983f4b2c5b1f05b94a72835
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/38/840438/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c75492e790b644585ee62958735f1cb8b5519683,VF/metadata, Development Status :: 5 - Production/Stable Framework :: Ansible etc = validation.cfg, etc = validation.cfg,3,2
openstack%2Fvalidations-libs~master~Iad172191353f7c7cc016bc5030a849a1dd792aea,openstack/validations-libs,master,Iad172191353f7c7cc016bc5030a849a1dd792aea,Add validation container entry point,MERGED,2022-05-02 14:38:13.000000000,2022-05-27 16:50:41.000000000,2022-05-27 16:50:41.000000000,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-05-02 14:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1c3ef882e1343d5b0bb816f1fb20cef303467d3d', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}, {'number': 2, 'created': '2022-05-02 14:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a2c87b49624fcfdef4b39de90d2a2396cc6d73d4', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}, {'number': 3, 'created': '2022-05-02 15:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/306cf2329562be0a40a8e616df94c2bbb8899e07', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}, {'number': 4, 'created': '2022-05-02 16:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/23a9a56448e2ff762987c0e4ff58a011210c5fff', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}, {'number': 5, 'created': '2022-05-12 08:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5d204be3fea799fa0c1f25782b088718513e59eb', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}, {'number': 6, 'created': '2022-05-17 10:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1dcfea2df062572ca99e43346b34db99a6795292', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}, {'number': 7, 'created': '2022-05-27 12:47:29.000000000', 'files': ['container/validation'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2ecbf375a677cdb56a72f5d2bcddb7bd9fddf0b4', 'message': 'Add validation container entry point\n\nThis patch add a python script to handle the VF within a container.\nThe goal is to offer a way to use the VF without installing it on\nthe host, only podman or docker is required.\n\nExamples:\n\n1/ building the container:\n./validation --build\n\n2/ run a Validation with local inventory:\n./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml\n\n3/ run a Validation with interactive option:\n./validation --run -i\n\nStarting container\nRunning podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation\n(validation) run --validation check-ram\n\nLog files are store on the host:\nls /home/foo/validations/\n\nChange-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea\n'}]",26,840185,2ecbf375a677cdb56a72f5d2bcddb7bd9fddf0b4,27,4,7,16515,,,0,"Add validation container entry point

This patch add a python script to handle the VF within a container.
The goal is to offer a way to use the VF without installing it on
the host, only podman or docker is required.

Examples:

1/ building the container:
./validation --build

2/ run a Validation with local inventory:
./validation --run -I installer/hosts.yaml --cmd run --validation check-ram --validation check-ram --inventory /root/inventory.yaml

3/ run a Validation with interactive option:
./validation --run -i

Starting container
Running podman run -ti -v/root/.ssh/id_rsa:/root/containerhost_private_key:z -v/root/validations:/root/validations:z localhost/validation validation
(validation) run --validation check-ram

Log files are store on the host:
ls /home/foo/validations/

Change-Id: Iad172191353f7c7cc016bc5030a849a1dd792aea
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/85/840185/7 && git format-patch -1 --stdout FETCH_HEAD,['container/validation'],1,1c3ef882e1343d5b0bb816f1fb20cef303467d3d,vf/container,"#!/usr/bin/env python3 # Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse from distutils import spawn import logging import os import pwd import subprocess import sys DESCRIPTION = ""Build and execute Validations from a container."" EPILOG = ""Example: ./validation --run --cmd run --validation check-ftype,512e"" VALIDATIONS_LOG_BASEDIR = os.path.expanduser('~/validations') CONTAINER_INVENTORY_PATH = '/root/inventory.yaml' COMMUNITY_VALIDATION_PATH = os.path.expanduser('~/community-validations') CONTAINERFILE_TMPL = """""" FROM %(image)s LABEL name=""VF dockerfile"" RUN dnf install -y git python3-pip gcc python3-devel jq %(extra_pkgs)s # Clone the Framework and common Validations RUN git clone https://opendev.org/openstack/validations-common \ /root/validations-common RUN git clone https://opendev.org/openstack/validations-libs \ /root/validations-libs # Clone user repository if provided %(clone_user_repo)s RUN python3 -m pip install cryptography==3.3 RUN cd /root/validations-libs && \ python3 -m pip install . RUN cd /root/validations-common && \ python3 -m pip install . #Setting up the default directory structure for both ansible, #and the VF RUN ln -s /usr/local/share/ansible /usr/share/ansible ENV ANSIBLE_HOST_KEY_CHECKING false ENV ANSIBLE_RETRY_FILES_ENABLED false ENV ANSIBLE_KEEP_REMOTE_FILES 1 # @todo: Fix the User ENV ANSIBLE_REMOTE_USER root ENV ANSIBLE_PRIVATE_KEY_FILE /root/containerhost_private_key %(entrypoint)s """""" class Validation(argparse.ArgumentParser): """"""Validation client implementation class"""""" log = logging.getLogger(__name__ + "".Validation"") def __init__(self, description=DESCRIPTION, epilog=EPILOG): """"""Init validation paser"""""" super(Validation, self).__init__(description=DESCRIPTION, epilog=EPILOG) def parser(self, parser): """"""Argument parser for validation"""""" parser.add_argument('--run', '-R', action='store_true', help=('Run Validation command. ' 'Defaults to False')) parser.add_argument('--interactive', '-i', action='store_true', help=('Execute interactive Validation shell. ' 'Defaults to False')) parser.add_argument('--build', '-B', action='store_true', help=('Build container even if it exists. ' 'Defaults to False')) parser.add_argument('--cmd', type=str, nargs=argparse.REMAINDER, default=None, help='Validation command you want to execute, ' 'use --help to get more information. ' 'Only available in non-interactive mode. ') parser.add_argument('--image', type=str, default='fedora:30', help='Container base image. Defaults to fedora:30') parser.add_argument('--extra-pkgs', type=str, default='', help=('Extra packages to install in the container.' 'Comma or space separated list. ' 'Defaults to empty string.')) parser.add_argument('--volumes', '-v', type=str, action='append', default=[], help=('Volumes you want to add to the container. ' 'Can be provided multiple times. ' 'Defaults to []')) parser.add_argument('--keyfile', '-K', type=str, default=os.path.join(os.path.expanduser('~'), '.ssh/id_rsa'), help=('Keyfile path to bind-mount in container. ')) parser.add_argument('--container', '-c', type=str, default='podman', choices=['docker', 'podman'], help='Container engine. Defaults to podman.') parser.add_argument('--validation-log-dir', '-l', type=str, default=VALIDATIONS_LOG_BASEDIR, help=('Path where the log files and artifacts ' 'will be located. ')) parser.add_argument('--repository', '-r', type=str, default=None, help=('Remote repository to clone validations ' 'role from.')) parser.add_argument('--branch', '-b', type=str, default='master', help=('Remote repository branch to clone ' 'validations from. Defaults to master')) parser.add_argument('--inventory', '-I', type=str, default=None, help=('Path of the Ansible inventory. ' 'It will be pulled to {} inside the ' 'container. '.format( CONTAINER_INVENTORY_PATH))) parser.add_argument('--debug', '-D', action='store_true', help='Toggle debug mode. Defaults to False.') return parser.parse_args() def take_action(self, parsed_args): """"""Take validation action"""""" # Container params self.image = parsed_args.image self.extra_pkgs = parsed_args.extra_pkgs self.container = parsed_args.container self.validation_log_dir = parsed_args.validation_log_dir self.keyfile = parsed_args.keyfile self.interactive = parsed_args.interactive self.cmd = parsed_args.cmd # Build container self.repository = parsed_args.repository self.branch = parsed_args.branch self.debug = parsed_args.debug build = parsed_args.build run = parsed_args.run # Validation params self.inventory = parsed_args.inventory self.volumes = parsed_args.volumes if build: self.build() if run: self.run() def _print(self, string, debug=True): if self.debug: print(string) def _generate_containerfile(self): self._print('Generating ""Containerfile""') clone_user_repo, install_user_repo, entrypoint = """", """", """" if self.repository: clone_user_repo = (""RUN git clone {} -b {} "" ""/root/user_repo"").format(self.repository, self.branch) install_user_repo = (""RUN cd /root/user_repo && \\"" ""python3 -m pip install ."") if self.interactive: entrypoint = ""ENTRYPOINT /usr/local/bin/validation"" param = {'image': self.image, 'extra_pkgs': self.extra_pkgs, 'clone_user_repo': clone_user_repo, 'install_user_repo': install_user_repo, 'entrypoint': entrypoint} with open('./Containerfile', 'w+') as containerfile: containerfile.write(CONTAINERFILE_TMPL % param) def _check_container_cli(self, cli): if not spawn.find_executable(cli): raise RuntimeError( ""The container cli {} doesn't exist on this host"".format(cli)) def _build_container(self): self._print('Building image') self._check_container_cli(self.container) cmd = [ self.container, 'build', '-t', 'localhost/validation', '-f', 'Containerfile', '.' ] try: subprocess.check_call(cmd) except subprocess.CalledProcessError: print('An error occurred!') sys.exit(1) def _create_volume(self, path): try: self._print(""Attempt to create {}."".format(path)) os.mkdir(path) except (OSError, FileExistsError) as e: self._print(e) pass def _build_run_cmd(self): self._check_container_cli(self.container) if self.interactive: container_args = '-ti' else: container_args = '--rm' cmd = [self.container, 'run', container_args] # Keyfile cmd.append('-v%s:/root/containerhost_private_key:z' % self.keyfile) # log path self._create_volume(self.validation_log_dir) if os.path.isdir(os.path.abspath(self.validation_log_dir)): cmd.append('-v%s:/root/validations:z' % self.validation_log_dir) # community validation path self._create_volume(COMMUNITY_VALIDATION_PATH) if os.path.isdir(os.path.abspath(COMMUNITY_VALIDATION_PATH)): cmd.append('-v%s:/root/community-validations:z' % COMMUNITY_VALIDATION_PATH) # Volumes if self.volumes: self._print('Adding volumes:') for volume in self.volumes: self._print(volume) cmd.extend(['-v', volume]) # Inventory if self.inventory: if os.path.isfile(os.path.abspath(self.inventory)): cmd.append('-v%s:%s:z' % ( os.path.abspath(self.inventory), CONTAINER_INVENTORY_PATH)) # Container name cmd.append('localhost/validation') # Validation binary cmd.append('validation') if not self.interactive and self.cmd: cmd.extend(self.cmd) return cmd def build(self): self._generate_containerfile() self._build_container() def run(self): self._print('Starting container') cmd = self._build_run_cmd() self._print('Running %s' % ' '.join(cmd)) try: subprocess.check_call(cmd) except subprocess.CalledProcessError: print('An error occurred!') sys.exit(2) if __name__ == ""__main__"": validation = Validation() args = validation.parser(validation) validation.take_action(args) ",,277,0
openstack%2Fproject-config~master~Icc6146195c64c6a13e9b29542535f6e125bc9cbc,openstack/project-config,master,Icc6146195c64c6a13e9b29542535f6e125bc9cbc,The default ansible version in zuul config is a str not int,MERGED,2022-05-27 15:59:05.000000000,2022-05-27 16:49:27.000000000,2022-05-27 16:22:45.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 15:59:05.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f34f50c43a1b2829e246a5b2bc8b2ccfbca38f5e', 'message': 'The default ansible version in zuul config is a str not int\n\nFix this in the zuul tenant config.\n\nChange-Id: Icc6146195c64c6a13e9b29542535f6e125bc9cbc\n'}]",0,843650,f34f50c43a1b2829e246a5b2bc8b2ccfbca38f5e,9,3,1,4146,,,0,"The default ansible version in zuul config is a str not int

Fix this in the zuul tenant config.

Change-Id: Icc6146195c64c6a13e9b29542535f6e125bc9cbc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/843650/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,f34f50c43a1b2829e246a5b2bc8b2ccfbca38f5e,fix-zuul-default-ansible-ver, default-ansible-version: '5', default-ansible-version: 5,1,1
openstack%2Fneutron-fwaas~master~Ib9cf36a70b6e5aba93f87e6be5c2636599166de2,openstack/neutron-fwaas,master,Ib9cf36a70b6e5aba93f87e6be5c2636599166de2,"Remove ""distutils"" library",MERGED,2022-05-18 14:55:34.000000000,2022-05-27 16:35:45.000000000,2022-05-27 16:33:53.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-05-18 14:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/abdcf5eddcb4ed93a1778604c0e796bce3da1e6b', 'message': 'Remove ""distutils"" library\n\nLibrary ""distutils"" will be marked as deprecated in Python 3.10:\nhttps://peps.python.org/pep-0386/\n\nThis patch does the following replacements, that provide the same\nfunctionality and API:\n- distutils.spawn.find_executable -> shutil.which\n\nChange-Id: Ib9cf36a70b6e5aba93f87e6be5c2636599166de2\nCloses-Bug: #1973780\n'}, {'number': 2, 'created': '2022-05-20 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9d5fed9237737654f19bd3a95b4f47db77d0dbf5', 'message': 'Remove ""distutils"" library\n\nLibrary ""distutils"" will be marked as deprecated in Python 3.10:\nhttps://peps.python.org/pep-0386/\n\nThis patch does the following replacements, that provide the same\nfunctionality and API:\n- distutils.spawn.find_executable -> shutil.which\n\nChange-Id: Ib9cf36a70b6e5aba93f87e6be5c2636599166de2\nCloses-Bug: #1973780\n'}, {'number': 3, 'created': '2022-05-24 09:24:22.000000000', 'files': ['neutron_fwaas/tests/fullstack/resources/process.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b7be99c14761e7f08c319a1d875692a975b937db', 'message': 'Remove ""distutils"" library\n\nLibrary ""distutils"" will be marked as deprecated in Python 3.10:\nhttps://peps.python.org/pep-0386/\n\nThis patch does the following replacements, that provide the same\nfunctionality and API:\n- distutils.spawn.find_executable -> shutil.which\n\nChange-Id: Ib9cf36a70b6e5aba93f87e6be5c2636599166de2\nCloses-Bug: #1973780\n'}]",8,842371,b7be99c14761e7f08c319a1d875692a975b937db,22,4,3,8313,,,0,"Remove ""distutils"" library

Library ""distutils"" will be marked as deprecated in Python 3.10:
https://peps.python.org/pep-0386/

This patch does the following replacements, that provide the same
functionality and API:
- distutils.spawn.find_executable -> shutil.which

Change-Id: Ib9cf36a70b6e5aba93f87e6be5c2636599166de2
Closes-Bug: #1973780
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/71/842371/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/fullstack/resources/process.py'],1,abdcf5eddcb4ed93a1778604c0e796bce3da1e6b,bug/1973780,"import shutils cmd = [shutils.which(self.exec_name), exec_name=shutils.which( exec_name=shutils.which(","from distutils import spawn cmd = [spawn.find_executable(self.exec_name), exec_name=spawn.find_executable( exec_name=spawn.find_executable(",4,4
openstack%2Fbarbican~master~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,master,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-18 21:38:52.000000000,2022-05-27 16:21:21.000000000,2022-05-27 16:18:24.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-05-18 21:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fa9ccd295dc6759064a4205469d1c1712c31657a', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 2, 'created': '2022-05-18 21:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fc1c7358e3721d41ef6a23b5ef1ac6c1b794618a', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 3, 'created': '2022-05-19 22:32:09.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c86b11fb8ebcf44a8bbe7f6d4a8be93f97640ca5', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",0,842435,c86b11fb8ebcf44a8bbe7f6d4a8be93f97640ca5,11,5,3,7973,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/35/842435/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/acls.py'],1,fa9ccd295dc6759064a4205469d1c1712c31657a,," 'or (rule:secret_project_creator_role and' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' +"," f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" +",11,3
openstack%2Fcinder-tempest-plugin~master~I860671d74f2cd5a6a16dfa9d072b2ab77744940d,openstack/cinder-tempest-plugin,master,I860671d74f2cd5a6a16dfa9d072b2ab77744940d,Cap cinder-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-25 17:27:56.000000000,2022-05-27 15:54:43.000000000,2022-05-27 01:25:36.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 17:27:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9d89d4ee1f1fa43dc85f5969d2c6ce393e8089ae', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cinder-tempest-plugin-lvm-lio-barbican job fail due to that\nin cinder stable/ussuri|victoria\n\n- https://zuul.opendev.org/t/openstack/build/c2f6e73017994723b5de166ad02730e4\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nChange-Id: I860671d74f2cd5a6a16dfa9d072b2ab77744940d\n'}]",3,843319,9d89d4ee1f1fa43dc85f5969d2c6ce393e8089ae,11,4,1,8556,,,0,"Cap cinder-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

and cinder-tempest-plugin-lvm-lio-barbican job fail due to that
in cinder stable/ussuri|victoria

- https://zuul.opendev.org/t/openstack/build/c2f6e73017994723b5de166ad02730e4

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Change-Id: I860671d74f2cd5a6a16dfa9d072b2ab77744940d
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/19/843319/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d89d4ee1f1fa43dc85f5969d2c6ce393e8089ae,ussuri-pin-tempest, branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train|ussuri|victoria)).*$ branches: - stable/train - stable/ussuri - stable/victoria, branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$ branches: stable/train,5,2
openstack%2Fcinder~master~Ia7b94679bfa8bf9529afaa49da5fb03305aef60c,openstack/cinder,master,Ia7b94679bfa8bf9529afaa49da5fb03305aef60c,Tests: Extend RBD deferred deletion interval,MERGED,2022-05-24 14:28:38.000000000,2022-05-27 15:48:40.000000000,2022-05-27 15:10:52.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 33431}]","[{'number': 1, 'created': '2022-05-24 14:28:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef1650f87ec3ad0b183227e4a159fee24113c22e', 'message': 'Tests: Extend RBD deferred deletion interval\n\nThis test sets the task interval to 1s, and\nsleeps for the same 1s before checking for\nthe result.  This occasionally races, causing\nthe test to fail.\n\nSleep slightly longer to work around this race.\n\nChange-Id: Ia7b94679bfa8bf9529afaa49da5fb03305aef60c\n'}]",3,843151,ef1650f87ec3ad0b183227e4a159fee24113c22e,31,4,1,4523,,,0,"Tests: Extend RBD deferred deletion interval

This test sets the task interval to 1s, and
sleeps for the same 1s before checking for
the result.  This occasionally races, causing
the test to fail.

Sleep slightly longer to work around this race.

Change-Id: Ia7b94679bfa8bf9529afaa49da5fb03305aef60c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/843151/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_rbd.py'],1,ef1650f87ec3ad0b183227e4a159fee24113c22e,, time.sleep(1.2), time.sleep(1),1,1
openstack%2Ftap-as-a-service~master~Idd7b6788152a336314d5b99ae89f5049182a269c,openstack/tap-as-a-service,master,Idd7b6788152a336314d5b99ae89f5049182a269c,test: Make py310 passing,MERGED,2022-03-23 17:04:22.000000000,2022-05-27 15:47:36.000000000,2022-05-27 15:47:36.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 17:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7f0fffcffcb9b9ba51cf3febc53a788be3e81413', 'message': 'test: Remove test-setup.sh\n\nChange-Id: Idd7b6788152a336314d5b99ae89f5049182a269c\n'}, {'number': 2, 'created': '2022-03-24 09:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/2bc45ecbc73fd40f052dc8d23516d2d0141c6d06', 'message': 'test: Remove test-setup.sh\n\nChange-Id: Idd7b6788152a336314d5b99ae89f5049182a269c\n'}, {'number': 3, 'created': '2022-03-24 12:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/1983e35237d1d461bb1573f6a497e348de7d6817', 'message': 'test: Make py310 passing\n\nRemove test-setup.sh as with zuul it is not necessary, and would like to\nuse mysqladmin which is not available on some nodesets.\nFix failing unit tests with a possible typo and change auto_spec to\nautospec in calling mock.patch.object.\n\nChange-Id: Idd7b6788152a336314d5b99ae89f5049182a269c\n'}, {'number': 4, 'created': '2022-04-26 16:15:07.000000000', 'files': ['neutron_taas/tests/unit/services/taas/test_taas_plugin.py', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/611c44c5c6b718fac00df1c4c61f611ea84c7125', 'message': 'test: Make py310 passing\n\nRemove test-setup.sh as with zuul it is not necessary, and would like to\nuse mysqladmin which is not available on some nodesets.\nFix failing unit tests with a possible typo and change auto_spec to\nautospec in calling mock.patch.object.\n\nChange-Id: Idd7b6788152a336314d5b99ae89f5049182a269c\n'}]",1,834928,611c44c5c6b718fac00df1c4c61f611ea84c7125,19,3,4,8313,,,0,"test: Make py310 passing

Remove test-setup.sh as with zuul it is not necessary, and would like to
use mysqladmin which is not available on some nodesets.
Fix failing unit tests with a possible typo and change auto_spec to
autospec in calling mock.patch.object.

Change-Id: Idd7b6788152a336314d5b99ae89f5049182a269c
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/28/834928/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,7f0fffcffcb9b9ba51cf3febc53a788be3e81413,p310_for_taas,,"#!/bin/bash -xe # This script will be run by OpenStack CI before unit tests are run, # it sets up the test system as needed. # Developers should setup their test systems in a similar way. # This setup needs to be run as a user that can run sudo. # The root password for the MySQL database; pass it in via # MYSQL_ROOT_PW. DB_ROOT_PW=${MYSQL_ROOT_PW:-insecure_slave} # This user and its password are used by the tests, if you change it, # your tests might fail. DB_USER=openstack_citest DB_PW=openstack_citest sudo -H mysqladmin -u root password $DB_ROOT_PW # It's best practice to remove anonymous users from the database. If # an anonymous user exists, then it matches first for connections and # other connections from that host will not work. sudo -H mysql -u root -p$DB_ROOT_PW -h localhost -e "" DELETE FROM mysql.user WHERE User=''; CREATE USER '$DB_USER'@'localhost' IDENTIFIED BY '$DB_PW'; CREATE USER '$DB_USER' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'localhost'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'; FLUSH PRIVILEGES;"" # Now create our database. mysql -u $DB_USER -p$DB_PW -h 127.0.0.1 -e "" SET default_storage_engine=MYISAM; DROP DATABASE IF EXISTS openstack_citest; CREATE DATABASE openstack_citest CHARACTER SET utf8;"" # Same for PostgreSQL # Setup user root_roles=$(sudo -H -u postgres psql -t -c "" SELECT 'HERE' from pg_roles where rolname='$DB_USER'"") if [[ ${root_roles} == *HERE ]];then sudo -H -u postgres psql -c ""ALTER ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" else sudo -H -u postgres psql -c ""CREATE ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" fi # Store password for tests cat << EOF > $HOME/.pgpass *:*:*:$DB_USER:$DB_PW EOF chmod 0600 $HOME/.pgpass # Now create our database psql -h 127.0.0.1 -U $DB_USER -d template1 -c ""DROP DATABASE IF EXISTS openstack_citest"" createdb -h 127.0.0.1 -U $DB_USER -l C -T template0 -E utf8 openstack_citest ",0,56
openstack%2Ftap-as-a-service~master~I4593f8f869122f30657c7d991b39c60779ad7e94,openstack/tap-as-a-service,master,I4593f8f869122f30657c7d991b39c60779ad7e94,py310: Add rpm packages to bindep.txt,MERGED,2022-03-23 13:27:06.000000000,2022-05-27 15:47:34.000000000,2022-05-27 15:47:34.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 13:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/fdf0d74e74e9a5ca6c2eda19f32948786b7a0965', 'message': 'py310: Add mysql-admin to bindep.txt\n\npy310 test from Zed job template openstack-python3-zed-jobs-neutron\nfails for taas as mysql_admin is used by test-setup.sh and it is\nmissing it seems on the tests node for py310.\n\nChange-Id: I4593f8f869122f30657c7d991b39c60779ad7e94\n'}, {'number': 2, 'created': '2022-03-23 15:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3a9dfbfe521114bd7ae9ccd316e94b6e7280cdaf', 'message': 'py310: Add rpm packages to bindep.txt\n\npy310 test from Zed job template openstack-python3-zed-jobs-neutron\nuses fedora-35 node type, thus fails for taas as mysql_admin is used\nby test-setup.sh, but binary dependencies are not installed.\n\nThis patch adds rpm binary dependencies.\n\nChange-Id: I4593f8f869122f30657c7d991b39c60779ad7e94\n'}, {'number': 3, 'created': '2022-04-26 16:14:40.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/cc2d82d1389dcf07e4fab7c96b9b3db8e29a1859', 'message': 'py310: Add rpm packages to bindep.txt\n\npy310 test from Zed job template openstack-python3-zed-jobs-neutron\nuses fedora-35 node type, thus fails for taas as mysql_admin is used\nby test-setup.sh, but binary dependencies are not installed.\n\nThis patch adds rpm binary dependencies.\n\nChange-Id: I4593f8f869122f30657c7d991b39c60779ad7e94\n'}]",2,834880,cc2d82d1389dcf07e4fab7c96b9b3db8e29a1859,18,3,3,8313,,,0,"py310: Add rpm packages to bindep.txt

py310 test from Zed job template openstack-python3-zed-jobs-neutron
uses fedora-35 node type, thus fails for taas as mysql_admin is used
by test-setup.sh, but binary dependencies are not installed.

This patch adds rpm binary dependencies.

Change-Id: I4593f8f869122f30657c7d991b39c60779ad7e94
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/80/834880/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,fdf0d74e74e9a5ca6c2eda19f32948786b7a0965,p310_for_taas,mysql-admin [platform:dpkg test],,1,0
openstack%2Fopenstack-ansible-os_octavia~stable%2Fxena~Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,openstack/openstack-ansible-os_octavia,stable/xena,Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,Fix distro support option for Octavia,MERGED,2022-05-26 15:32:08.000000000,2022-05-27 15:45:03.000000000,2022-05-27 15:43:01.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 15:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f8f665f40859db19860e849313ba6cdb31b8de89', 'message': ""Fix distro support option for Octavia\n\nDistro instalaltion has been broken for a while and CI disabled for it.\nWith this commit we're fixing path and returning back\nCI testing of it.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837845\nChange-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13\n(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)\n""}, {'number': 2, 'created': '2022-05-26 15:33:08.000000000', 'files': ['vars/distro_install.yml', 'vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a6d0972061144812fa18261dd4051a2d1d789e73', 'message': ""Fix distro support option for Octavia\n\nDistro instalaltion has been broken for a while and CI disabled for it.\nWith this commit we're fixing path and returning back\nCI testing of it.\n\nChange-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13\n(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)\n""}]",0,843408,a6d0972061144812fa18261dd4051a2d1d789e73,9,3,2,28619,,,0,"Fix distro support option for Octavia

Distro instalaltion has been broken for a while and CI disabled for it.
With this commit we're fixing path and returning back
CI testing of it.

Change-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13
(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/08/843408/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/distro_install.yml', 'vars/redhat.yml', 'vars/debian.yml']",3,f8f665f40859db19860e849313ba6cdb31b8de89,osa/centos_distro-stable/xena, - python3-pymysql - python3-systemd, - python-pymysql - python-systemd,3,12
openstack%2Fkeystone~master~I7b0058961e3a48a880c73b05113efb17de99356d,openstack/keystone,master,I7b0058961e3a48a880c73b05113efb17de99356d,"fix error, if two password create at same time, maybe not chose right",NEW,2022-01-05 15:11:17.000000000,2022-05-27 15:44:26.000000000,,"[{'_account_id': 6593}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 15:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/14441d62aee86c5c233fe40c52afd5e7fd275ad1', 'message': 'fix error, if two password create at same time, maybe not chose right\n\nChange-Id: I7b0058961e3a48a880c73b05113efb17de99356d\n'}, {'number': 2, 'created': '2022-01-06 00:06:40.000000000', 'files': ['keystone/identity/backends/sql_model.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9ebab7ef955e4c34ebc63c8f37b7d6940febb77', 'message': 'fix error, if two password create at same time, maybe not chose right\n\nChange-Id: I7b0058961e3a48a880c73b05113efb17de99356d\n'}]",5,823551,d9ebab7ef955e4c34ebc63c8f37b7d6940febb77,10,5,2,34392,,,0,"fix error, if two password create at same time, maybe not chose right

Change-Id: I7b0058961e3a48a880c73b05113efb17de99356d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/823551/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/sql_model.py'],1,14441d62aee86c5c233fe40c52afd5e7fd275ad1,yourijing," order_by='[Password.created_at_int,Password.id]')", order_by='Password.created_at_int'),1,1
openstack%2Ftap-as-a-service~master~I0ec7fef934e63eff76dd30bb1fb28c8277f1a749,openstack/tap-as-a-service,master,I0ec7fef934e63eff76dd30bb1fb28c8277f1a749,Code cleaning: make RPC method signatures more meaningful,MERGED,2022-03-11 15:51:34.000000000,2022-05-27 15:42:40.000000000,2022-05-27 15:42:40.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 15:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/9e9dab1e2b8c298b019d9dab1e4d9091f5d15c3d', 'message': 'Code cleaning: make RPC method signatures more meaningful\n\nChange RPC calls like create_tap_service or create_tap_flow signature\nto avoid parameter names like tap_service which is really a dict of\nvalues.\n\nChange-Id: I0ec7fef934e63eff76dd30bb1fb28c8277f1a749\n'}, {'number': 2, 'created': '2022-03-18 16:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f586a9dddc2baf726f8a19f58ebf55a5a6c03dee', 'message': 'Code cleaning: make RPC method signatures more meaningful\n\nChange RPC calls like create_tap_service or create_tap_flow signature\nto avoid parameter names like tap_service which is really a dict of\nvalues.\n\nChange-Id: I0ec7fef934e63eff76dd30bb1fb28c8277f1a749\n'}, {'number': 3, 'created': '2022-03-21 17:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8cc9d55f4815fc6e45cbaf0e3b8f4e88f673f84b', 'message': 'Code cleaning: make RPC method signatures more meaningful\n\nChange RPC calls like create_tap_service or create_tap_flow signature\nto avoid parameter names like tap_service which is really a dict of\nvalues.\n\nChange-Id: I0ec7fef934e63eff76dd30bb1fb28c8277f1a749\n'}, {'number': 4, 'created': '2022-04-26 12:37:19.000000000', 'files': ['neutron_taas/services/taas/drivers/linux/sriov_nic_taas.py', 'neutron_taas/services/taas/agents/taas_agent_api.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'neutron_taas/services/taas/service_drivers/taas_agent_api.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/002de246957f954e666ba873130d53d2ebf50de5', 'message': 'Code cleaning: make RPC method signatures more meaningful\n\nChange RPC calls like create_tap_service or create_tap_flow signature\nto avoid parameter names like tap_service which is really a dict of\nvalues.\n\nChange-Id: I0ec7fef934e63eff76dd30bb1fb28c8277f1a749\n'}]",14,833432,002de246957f954e666ba873130d53d2ebf50de5,26,5,4,8313,,,0,"Code cleaning: make RPC method signatures more meaningful

Change RPC calls like create_tap_service or create_tap_flow signature
to avoid parameter names like tap_service which is really a dict of
values.

Change-Id: I0ec7fef934e63eff76dd30bb1fb28c8277f1a749
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/32/833432/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/services/taas/agents/common/taas_agent.py', 'neutron_taas/services/taas/drivers/linux/sriov_nic_taas.py', 'neutron_taas/services/taas/agents/taas_agent_api.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'neutron_taas/services/taas/service_drivers/taas_agent_api.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py']",6,9e9dab1e2b8c298b019d9dab1e4d9091f5d15c3d,dontdelete/clean_ovs_method_calls,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call def create_tap_service(self, tap_service_msg): """"""Create a tap service :param tap_service_msg: a dict of the tap_service, taas_id which is the VLAN Id reserved for mirroring for this tap-service and the neutron port of the tap-service: {tap_service: {}, taas_id: '', port: {}} """""" taas_id = tap_service_msg['taas_id'] port = tap_service_msg['port'] @log_helpers.log_method_call def delete_tap_service(self, tap_service_msg): """"""Delete a tap service :param tap_service_msg: a dict of the tap_service, taas_id which is the VLAN Id reserved for mirroring for this tap-service and the neutron port of the tap-service: {tap_service: {}, taas_id: '', port: {}} """""" taas_id = tap_service_msg['taas_id'] @log_helpers.log_method_call def create_tap_flow(self, tap_flow_msg): """"""Create a tap flow :param tap_flow_msg: a dict of the tap_flow, the mac of the port of the tap-flow, taas_id which is the VLAN Id reserved for mirroring for the tap-service associated with this tap-flow, the neutron port of the tap-flow, and the port of the tap-service: {tap_flow: {}, port_mac: '', taas_id: '', port: {}, tap_service_port: {}} """""" taas_id = tap_flow_msg['taas_id'] port = tap_flow_msg['port'] direction = tap_flow_msg['tap_flow']['direction'] port_mac = tap_flow_msg['port_mac'] @log_helpers.log_method_call def delete_tap_flow(self, tap_flow_msg): """"""Delete a tap flow :param tap_flow_msg: a dict of the tap_flow, the mac of the port of the tap-flow, taas_id which is the VLAN Id reserved for mirroring for the tap-service associated with this tap-flow, the neutron port of the tap-flow, the port of the tap-service, the list of source VLAN IDs, and VLAN filter list. {tap_flow: {}, port_mac: '', taas_id: '', port: {}, tap_service_port: {}, source_vlans_list: [], vlan_filter_list: []} """""" port = tap_flow_msg['port'] direction = tap_flow_msg['tap_flow']['direction'] port_mac = tap_flow_msg['port_mac']"," def create_tap_service(self, tap_service): taas_id = tap_service['taas_id'] port = tap_service['port'] def delete_tap_service(self, tap_service): taas_id = tap_service['taas_id'] def create_tap_flow(self, tap_flow): taas_id = tap_flow['taas_id'] port = tap_flow['port'] direction = tap_flow['tap_flow']['direction'] port_mac = tap_flow['port_mac'] def delete_tap_flow(self, tap_flow): port = tap_flow['port'] direction = tap_flow['tap_flow']['direction'] port_mac = tap_flow['port_mac']",145,52
openstack%2Fopenstack-ansible-os_octavia~stable%2Fwallaby~Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,openstack/openstack-ansible-os_octavia,stable/wallaby,Ia715e0506e45ead6ed8ecffac3fbd70e9849da13,Fix distro support option for Octavia,MERGED,2022-05-26 15:32:17.000000000,2022-05-27 15:41:26.000000000,2022-05-27 15:38:00.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 15:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/23a02e59a827c0ed947099050b2952edacd187ee', 'message': ""Fix distro support option for Octavia\n\nDistro instalaltion has been broken for a while and CI disabled for it.\nWith this commit we're fixing path and returning back\nCI testing of it.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837845\nChange-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13\n(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)\n""}, {'number': 2, 'created': '2022-05-26 15:32:47.000000000', 'files': ['vars/distro_install.yml', 'vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/53019323c41d933aa085a69ff8259deee383b9f3', 'message': ""Fix distro support option for Octavia\n\nDistro instalaltion has been broken for a while and CI disabled for it.\nWith this commit we're fixing path and returning back\nCI testing of it.\n\nChange-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13\n(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)\n""}]",0,843409,53019323c41d933aa085a69ff8259deee383b9f3,9,3,2,28619,,,0,"Fix distro support option for Octavia

Distro instalaltion has been broken for a while and CI disabled for it.
With this commit we're fixing path and returning back
CI testing of it.

Change-Id: Ia715e0506e45ead6ed8ecffac3fbd70e9849da13
(cherry picked from commit ebac6ccb5e002b2190c065b468f39506dd7f247a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/09/843409/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/distro_install.yml', 'vars/redhat.yml', 'vars/debian.yml']",3,23a02e59a827c0ed947099050b2952edacd187ee,osa/centos_distro-stable/wallaby, - python3-pymysql - python3-systemd, - python-pymysql - python-systemd,3,12
openstack%2Fcinder~master~I992a0866abf36595821014f66cc437c3db52d898,openstack/cinder,master,I992a0866abf36595821014f66cc437c3db52d898,tox.ini: combine functional-py* envs,MERGED,2022-05-24 14:48:19.000000000,2022-05-27 15:14:11.000000000,2022-05-27 15:11:54.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-05-24 14:48:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7851d9173dc07d6a0da61fc46bcef16baaeecaa8', 'message': ""tox.ini: combine functional-py* envs\n\nWe can use tox's generative envlists instead\nof duplicating these entries.\n\nChange-Id: I992a0866abf36595821014f66cc437c3db52d898\n""}]",3,843153,7851d9173dc07d6a0da61fc46bcef16baaeecaa8,28,4,1,4523,,,0,"tox.ini: combine functional-py* envs

We can use tox's generative envlists instead
of duplicating these entries.

Change-Id: I992a0866abf36595821014f66cc437c3db52d898
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/843153/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7851d9173dc07d6a0da61fc46bcef16baaeecaa8,,"[testenv:functional-py{38,39}]",[testenv:functional-py38] setenv = {[testenv:functional]setenv} [testenv:functional-py39],1,5
openstack%2Fopenstack-ansible~master~I2e7123881d7ff322f15f185a4df1f2923c44eae0,openstack/openstack-ansible,master,I2e7123881d7ff322f15f185a4df1f2923c44eae0,Change unbound role source,MERGED,2022-05-26 13:57:44.000000000,2022-05-27 15:02:10.000000000,2022-05-27 15:00:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-26 13:57:44.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bb7577717fefa0b7467bb189794e7ebddc707e52', 'message': 'Change unbound role source\n\nUnbound role was unmaintained for a while, and missing features, like\nDebain installation or CentOS 8/9\n\nRole has been forked and CI was fixed on it. It can be moved to opendev\nas a next step.\n\nCloses-Bug: #1975719\nChange-Id: I2e7123881d7ff322f15f185a4df1f2923c44eae0\n'}]",1,843468,bb7577717fefa0b7467bb189794e7ebddc707e52,11,4,1,28619,,,0,"Change unbound role source

Unbound role was unmaintained for a while, and missing features, like
Debain installation or CentOS 8/9

Role has been forked and CI was fixed on it. It can be moved to opendev
as a next step.

Closes-Bug: #1975719
Change-Id: I2e7123881d7ff322f15f185a4df1f2923c44eae0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/843468/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,bb7577717fefa0b7467bb189794e7ebddc707e52,bug/1975719, src: https://github.com/noonedeadpunk/ansible-role-unbound, src: https://github.com/logan2211/ansible-unbound,1,1
openstack%2Fcharm-nova-compute~master~I51382f70f019071f4442f717dbc749ff2e7b8202,openstack/charm-nova-compute,master,I51382f70f019071f4442f717dbc749ff2e7b8202,Ensure vgpu services restarted in package_upgrade action,MERGED,2022-05-16 14:51:57.000000000,2022-05-27 14:45:16.000000000,2022-05-27 14:45:16.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 14:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/737644b89e6914ae97dc1e748a84146f7da77eb4', 'message': 'Ensure vgpu services restarted in package_upgrade action\n\nChange-Id: I51382f70f019071f4442f717dbc749ff2e7b8202\n'}, {'number': 2, 'created': '2022-05-16 15:12:43.000000000', 'files': ['actions/package_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/06856f151cb4d7f7c1844513edfe32f6f3ff58ed', 'message': 'Ensure vgpu services restarted in package_upgrade action\n\nChange-Id: I51382f70f019071f4442f717dbc749ff2e7b8202\n'}]",2,841907,06856f151cb4d7f7c1844513edfe32f6f3ff58ed,10,3,2,11805,,,0,"Ensure vgpu services restarted in package_upgrade action

Change-Id: I51382f70f019071f4442f717dbc749ff2e7b8202
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/07/841907/2 && git format-patch -1 --stdout FETCH_HEAD,['actions/package_upgrade.py'],1,737644b89e6914ae97dc1e748a84146f7da77eb4,," for rid in relation_ids('nova-vgpu'): nova_vgpu_joined(rid, remote_restart=True)",,2,0
openstack%2Fvalidations-libs~master~Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,openstack/validations-libs,master,Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,Man pages compatibility,MERGED,2022-05-26 13:44:19.000000000,2022-05-27 14:39:22.000000000,2022-05-27 14:37:55.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-26 13:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e743ee0b122d427dd8489ad589092922a8bb1d9b', 'message': 'Man pages compatibility\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n'}, {'number': 2, 'created': '2022-05-26 14:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/38a4275573c419d6b4057ecc9de06f3835cef4e0', 'message': 'Man pages compatibility\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n'}, {'number': 3, 'created': '2022-05-27 06:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/513435fea533572e99f33398e6483f2ea3ce0f17', 'message': 'Man pages compatibility\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n'}, {'number': 4, 'created': '2022-05-27 08:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1dcff453bad7ca06b809f25dc995b6965cd97d5e', 'message': 'Man pages compatibility\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n'}, {'number': 5, 'created': '2022-05-27 09:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6b4ad095390fb48553beca24f18655c937eaedf3', 'message': 'Man pages compatibility\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n'}, {'number': 6, 'created': '2022-05-27 12:31:59.000000000', 'files': ['doc/source/cli.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9ed3888273b7f9704ed962cca02ae8f2c8f41144', 'message': 'Man pages compatibility\n\nCreated section describing structure of our man pages.\nRemoved superflous title in the CLI documentation to improve\nman page readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n'}]",0,843464,9ed3888273b7f9704ed962cca02ae8f2c8f41144,18,4,6,32926,,,0,"Man pages compatibility

Created section describing structure of our man pages.
Removed superflous title in the CLI documentation to improve
man page readability.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/64/843464/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli.rst', 'doc/source/conf.py']",2,e743ee0b122d427dd8489ad589092922a8bb1d9b,mandocs,"man_pages = [( 'cli', 'vf', 'validate environments', 'Openstack', '1'), ( 'reference/index', 'validations-libs', 'API description', 'Openstack', '3')] ",,13,6
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I7a2867329f65af6330abccb1954bf49b92cd8721,openstack/ansible-collections-openstack,stable/1.0.0,I7a2867329f65af6330abccb1954bf49b92cd8721,Warn users about us breaking backward compatibility,MERGED,2022-05-27 12:48:28.000000000,2022-05-27 14:37:57.000000000,2022-05-27 14:37:57.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-27 12:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0790844c2fb9bcb7fc7aa1fa692a8bad7144d650', 'message': 'Warn users about us breaking backward compatibility\n\nChange-Id: I7a2867329f65af6330abccb1954bf49b92cd8721\n(cherry picked from commit dee39a71b685b847049d551bd29309f84cd4b13b)\n'}, {'number': 2, 'created': '2022-05-27 12:54:54.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/970fb2489cac2878044315f72fef26eae309b900', 'message': 'Warn users about us breaking backward compatibility\n\nChange-Id: I7a2867329f65af6330abccb1954bf49b92cd8721\n(cherry picked from commit dee39a71b685b847049d551bd29309f84cd4b13b)\n'}]",0,843528,970fb2489cac2878044315f72fef26eae309b900,9,3,2,32962,,,0,"Warn users about us breaking backward compatibility

Change-Id: I7a2867329f65af6330abccb1954bf49b92cd8721
(cherry picked from commit dee39a71b685b847049d551bd29309f84cd4b13b)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/28/843528/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0790844c2fb9bcb7fc7aa1fa692a8bad7144d650,breaking-changes-warning,"<<<<<<< HEAD (75558c Lowered maximum OpenStack SDK version to 0.98.999) ======= ## Breaking backward compatibility :warning: Dear contributors and users of the Ansible OpenStack collection! Our codebase has been split into two separate release series: * `2.x.x` releases of Ansible OpenStack collection are compatible with OpenStack SDK `1.x.x` and its release candidates `0.99.x` *only* (OpenStack Zed and later). Our `master` branch tracks our `2.x.x` releases. * `1.x.x` releases of Ansible OpenStack collection are compatible with OpenStack SDK `0.x.x` prior to `0.99.0` *only* (OpenStack Yoga and earlier). Our `stable/1.0.0` branch tracks our `1.x.x` releases. Both branches will be developed in parallel for the time being. Patches from `master` will be backported to `stable/1.0.0` on a best effort basis but expect new features to be introduced in our `master` branch only. Contributions are welcome for both branches! Differences between both branches are mainly renamed and sometimes dropped module return values. We try to keep our module parameters backward compatible by offering aliases but e.g. the semantics of `filters` parameters in `*_info` modules have changed due to updates in the OpenStack SDK. Our decision to break backward compatibility was not taken lightly. OpenStack SDK's first major release (`1.0.0` and its release candidates `0.99.x`) has streamlined and improved large parts of its codebase. For example, its Connection interface now consistently uses the Resource interfaces under the hood. This required breaking changes from older SDK releases though. The Ansible OpenStack collection is heavily based on OpenStack SDK. With OpenStack SDK becoming backward incompatible, so does our Ansible OpenStack collection. We simply lack the devpower to maintain a backward compatible interface in Ansible OpenStack collection across several SDK releases. Our first `2.0.0` release is currently under development and we still have a long way to go. If you use modules of the Ansible OpenStack collection and want to join us in porting them to the upcoming OpenStack SDK, please contact us! Ping Jakob Meng <mail@jakobmeng.de> (jm1) or Rafael Castillo <rcastill@redhat.com> (rcastillo) and we will give you a quick introduction. We are also hanging around on `irc.oftc.net/#openstack-ansible-sig` and `irc.oftc.net/#oooq`  We have extensive documentation on [why, what and how we are adopting and reviewing the new modules]( https://hackmd.io/szgyWa5qSUOWw3JJBXLmOQ?view), [how to set up a working DevStack environment for hacking on the collection](https://hackmd.io/PI10x-iCTBuO09duvpeWgQ?view) and, most importantly, [a list of modules where we are coordinating our porting efforts](https://hackmd.io/7NtovjRkRn-tKraBXfz9jw?view). >>>>>>> CHANGE (dee39a Warn users about us breaking backward compatibility)",,37,1
openstack%2Ftripleo-ansible~master~If196dfcd0fd2cec3b7784394e86c4addbfbf039d,openstack/tripleo-ansible,master,If196dfcd0fd2cec3b7784394e86c4addbfbf039d,Do not set Ceph network options in assimilate_ceph.conf,MERGED,2022-05-25 11:52:46.000000000,2022-05-27 14:37:53.000000000,2022-05-27 14:37:53.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-25 11:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c39748cbb37a9b854f9e9d36bf5af1cdd3158616', 'message': ""Do not set Ceph network options in assimilate_ceph.conf\n\nConfigure the four paramters (public_network, cluster_network,\nms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks\nfile instead of in ceph.conf.j2 template.\n\nIf a user overrides the tripleo_cephadm_assimilate_conf file\nto provide their own initial Ceph configuration file without\nany network configuration, then we don't want to loose the\nnetwork configuration that would have been set from the\nceph.conf.j2 template. Thus, we'll ensure the correct network\nconfiguration can happen even if the ceph.conf.j2 template is\nnot used.\n\nIf the tripleo_cephadm_assimilate_conf file contains any of\nthe four parameters, then those parameters will not be set\nvia cephadm_config_set.yaml tasks. This allows users to\nstill override the four parameters via the --config option.\n\nThe cephadm_config_set.yaml tasks are always called by the\napply_spec.yaml tasks before the spec is applied. Thus, we'll\nknow the correct networks are set before any other daemons are\nadded with the exception of the first bootstrapped mon/mgr\ndaemons. The public_network for them is set implicitly via the\n--mon-ip option.\n\nChange-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d\n""}, {'number': 2, 'created': '2022-05-25 19:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f34d35124ae665318d069d8ef8a44df73940ec77', 'message': ""Do not set Ceph network options in assimilate_ceph.conf\n\nConfigure the four paramters (public_network, cluster_network,\nms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks\nfile instead of in ceph.conf.j2 template.\n\nIf a user overrides the tripleo_cephadm_assimilate_conf file\nto provide their own initial Ceph configuration file without\nany network configuration, then we don't want to loose the\nnetwork configuration that would have been set from the\nceph.conf.j2 template. Thus, we'll ensure the correct network\nconfiguration can happen even if the ceph.conf.j2 template is\nnot used.\n\nIf the tripleo_cephadm_assimilate_conf file contains any of\nthe four parameters, then those parameters will not be set\nvia cephadm_config_set.yaml tasks. This allows users to\nstill override the four parameters via the --config option.\n\nThe cephadm_config_set.yaml tasks are always called by the\napply_spec.yaml tasks before the spec is applied. Thus, we'll\nknow the correct networks are set before any other daemons are\nadded with the exception of the first bootstrapped mon/mgr\ndaemons. The public_network for them is set implicitly via the\n--mon-ip option.\n\nChange-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d\n""}, {'number': 3, 'created': '2022-05-26 20:00:09.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/network_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c84f6a5ff90cf9789c42d77488c4d9deb35c90d', 'message': ""Do not set Ceph network options in assimilate_ceph.conf\n\nConfigure the four paramters (public_network, cluster_network,\nms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks\nfile instead of in ceph.conf.j2 template.\n\nIf a user overrides the tripleo_cephadm_assimilate_conf file\nto provide their own initial Ceph configuration file without\nany network configuration, then we don't want to loose the\nnetwork configuration that would have been set from the\nceph.conf.j2 template. Thus, we'll ensure the correct network\nconfiguration can happen even if the ceph.conf.j2 template is\nnot used.\n\nIf the tripleo_cephadm_assimilate_conf file contains any of\nthe four parameters, then those parameters will not be set\nvia cephadm_config_set.yaml tasks. This allows users to\nstill override the four parameters via the --config option.\n\nThe cephadm_config_set.yaml tasks are always called by the\napply_spec.yaml tasks before the spec is applied. Thus, we'll\nknow the correct networks are set before any other daemons are\nadded with the exception of the first bootstrapped mon/mgr\ndaemons. The public_network for them is set implicitly via the\n--mon-ip option.\n\nChange-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d\n""}]",16,843265,1c84f6a5ff90cf9789c42d77488c4d9deb35c90d,25,5,3,18002,,,0,"Do not set Ceph network options in assimilate_ceph.conf

Configure the four paramters (public_network, cluster_network,
ms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks
file instead of in ceph.conf.j2 template.

If a user overrides the tripleo_cephadm_assimilate_conf file
to provide their own initial Ceph configuration file without
any network configuration, then we don't want to loose the
network configuration that would have been set from the
ceph.conf.j2 template. Thus, we'll ensure the correct network
configuration can happen even if the ceph.conf.j2 template is
not used.

If the tripleo_cephadm_assimilate_conf file contains any of
the four parameters, then those parameters will not be set
via cephadm_config_set.yaml tasks. This allows users to
still override the four parameters via the --config option.

The cephadm_config_set.yaml tasks are always called by the
apply_spec.yaml tasks before the spec is applied. Thus, we'll
know the correct networks are set before any other daemons are
added with the exception of the first bootstrapped mon/mgr
daemons. The public_network for them is set implicitly via the
--mon-ip option.

Change-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/843265/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/network_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph.conf.j2']",4,c39748cbb37a9b854f9e9d36bf5af1cdd3158616,ceph_apply_net_conf,,"{% if public_network is defined %} public network = {{ public_network | regex_replace(' ', '') }} {% endif %} {% if cluster_network is defined %} cluster network = {{ cluster_network | regex_replace(' ', '') }} {% endif %} {% if ms_bind_ipv4 is defined %} ms_bind_ipv4 = {{ ms_bind_ipv4 }} {% endif %} {% if ms_bind_ipv6 is defined %} ms_bind_ipv6 = {{ ms_bind_ipv6 }} {% endif %}",49,13
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I49a7b50aee45197d9309d959ff49e763f370619b,openstack/ansible-collections-openstack,stable/1.0.0,I49a7b50aee45197d9309d959ff49e763f370619b,Use bifrost's stable/yoga branch for jobs with OpenStack SDK 0.x.x,MERGED,2022-05-27 06:28:43.000000000,2022-05-27 14:36:37.000000000,2022-05-27 14:36:37.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-27 06:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4920298748467deedb43deafbca6be6549c348b0', 'message': ""Use bifrost's stable/yoga branch for jobs with OpenStack SDK 0.x.x\n\nBifrost's master branch installs the latest OpenStack SDK from PyPI\nwhich currently is the first release candidate (0.99.0) of the\nupcoming first major release of OpenStack SDK 1.0.0. Jobs on our\nstable/1.0.0 branch are compatible with older releases of OpenStack SDK\nonly. This patch does checkout stable/yoga branch of Bifrost which\ninstalls a sufficiently old release of OpenStack SDK due to\nopendev.org/openstack/requirements/upper-constraints.txt.\n\nChange-Id: I49a7b50aee45197d9309d959ff49e763f370619b\n""}, {'number': 2, 'created': '2022-05-27 07:38:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8cc678acc1cc62b485ea1e49d41b1cfea353431b', 'message': ""Use bifrost's stable/yoga branch for jobs with OpenStack SDK 0.x.x\n\nBifrost's master branch installs the latest OpenStack SDK from PyPI\nwhich currently is the first release candidate (0.99.0) of the\nupcoming first major release of OpenStack SDK 1.0.0. Jobs on our\nstable/1.0.0 branch are compatible with older releases of OpenStack SDK\nonly. This patch does checkout stable/yoga branch of Bifrost which\ninstalls a sufficiently old release of OpenStack SDK due to\nopendev.org/openstack/requirements/upper-constraints.txt.\n\nChange-Id: I49a7b50aee45197d9309d959ff49e763f370619b\n""}]",0,843569,8cc678acc1cc62b485ea1e49d41b1cfea353431b,10,4,2,32962,,,0,"Use bifrost's stable/yoga branch for jobs with OpenStack SDK 0.x.x

Bifrost's master branch installs the latest OpenStack SDK from PyPI
which currently is the first release candidate (0.99.0) of the
upcoming first major release of OpenStack SDK 1.0.0. Jobs on our
stable/1.0.0 branch are compatible with older releases of OpenStack SDK
only. This patch does checkout stable/yoga branch of Bifrost which
installs a sufficiently old release of OpenStack SDK due to
opendev.org/openstack/requirements/upper-constraints.txt.

Change-Id: I49a7b50aee45197d9309d959ff49e763f370619b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/69/843569/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4920298748467deedb43deafbca6be6549c348b0,bifrost_jobs-stable," - # always use existing branch when collecting parent job variants, refer to git blame for rationale. # Yoga has the latest SDK release of the 0.*.* series atm override-checkout: stable/yoga - # always use existing branch when collecting parent job variants, refer to git blame for rationale. # Yoga has the latest SDK release of the 0.*.* series atm override-checkout: stable/yoga"," - # always use master branch when collecting parent job variants, refer to git blame for rationale. override-checkout: master - # always use master branch when collecting parent job variants, refer to git blame for rationale. override-checkout: master",6,4
openstack%2Fcinder~master~I55eb10c96357bbc01f2ac430661f2380ab34551a,openstack/cinder,master,I55eb10c96357bbc01f2ac430661f2380ab34551a,PowerMax Docs - Known issues section,MERGED,2022-05-24 08:32:18.000000000,2022-05-27 14:34:22.000000000,2022-05-27 14:32:55.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 08:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e684a4f03c20a31de5a17c92a6ecf336caa25fd', 'message': 'PowerMax Docs - Known issues section\n\nSection with known issues of the current OpenStack release.\n\nChange-Id: I55eb10c96357bbc01f2ac430661f2380ab34551a\n'}, {'number': 2, 'created': '2022-05-24 09:15:41.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e65c01af7561d5ec537a640bffd39860ec230191', 'message': 'PowerMax Docs - Known issues section\n\nSection with known issues of the current OpenStack release.\n\nChange-Id: I55eb10c96357bbc01f2ac430661f2380ab34551a\n'}]",1,843118,e65c01af7561d5ec537a640bffd39860ec230191,36,2,2,33502,,,0,"PowerMax Docs - Known issues section

Section with known issues of the current OpenStack release.

Change-Id: I55eb10c96357bbc01f2ac430661f2380ab34551a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/843118/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,7e684a4f03c20a31de5a17c92a6ecf336caa25fd,known-issues,Known issues ============ These known issues exist in the current release of OpenStack: - `Launchpad #1951977`_ Cannot create backups for metro volumes with multipath enabled. .. _Launchpad #1951977: https://bugs.launchpad.net/cinder/+bug/1951977,,8,0
openstack%2Fkolla-ansible~master~I62eca15e12da8599fdc1bd0d4f0472f42b54249f,openstack/kolla-ansible,master,I62eca15e12da8599fdc1bd0d4f0472f42b54249f,[DNM] [CI] Cinder upgrade test,ABANDONED,2022-05-27 08:46:40.000000000,2022-05-27 14:31:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 08:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90f32ccfeeb3e3269456d8c0295cd29f91c07106', 'message': '[DNM] [CI] Cinder upgrade test\n\nw/o ceph\n\nChange-Id: I62eca15e12da8599fdc1bd0d4f0472f42b54249f\n'}, {'number': 2, 'created': '2022-05-27 08:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab3d081c023d026b9ec2324891bf2e63237fe2d9', 'message': '[DNM] [CI] Cinder upgrade test\n\nw/o ceph\n\nChange-Id: I62eca15e12da8599fdc1bd0d4f0472f42b54249f\n'}, {'number': 3, 'created': '2022-05-27 10:57:09.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/deploy-guide.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fe63b12afd43ef9e5316de33ce71145ea0e0e94', 'message': '[DNM] [CI] Cinder upgrade test\n\nsingle-node, w/o ceph, ubuntu-only\n\nChange-Id: I62eca15e12da8599fdc1bd0d4f0472f42b54249f\n'}]",0,843583,9fe63b12afd43ef9e5316de33ce71145ea0e0e94,6,1,3,30491,,,0,"[DNM] [CI] Cinder upgrade test

single-node, w/o ceph, ubuntu-only

Change-Id: I62eca15e12da8599fdc1bd0d4f0472f42b54249f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/843583/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,90f32ccfeeb3e3269456d8c0295cd29f91c07106,dnm-ci-cinder-upgrade, name: kolla-ansible-centos8s-source-zun-upgrade parent: kolla-ansible-centos8s-source-zun vars: is_upgrade: yes - job: name: kolla-ansible-debian-source-zun-upgrade parent: kolla-ansible-debian-source-zun vars: is_upgrade: yes - job: name: kolla-ansible-ubuntu-source-zun-upgrade parent: kolla-ansible-ubuntu-source-zun vars: is_upgrade: yes - job:,,21,63
openstack%2Fpython-openstackclient~master~I0128244549dd580272d6fc792ecb1dcf1bce21db,openstack/python-openstackclient,master,I0128244549dd580272d6fc792ecb1dcf1bce21db,Add new job osc-functional-devstack-neutron-ovs,ABANDONED,2021-05-26 11:06:30.000000000,2022-05-27 14:22:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-26 11:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3a6d1286637f122b72a28c57d8b1c1df9d7e6b27', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}, {'number': 2, 'created': '2021-05-27 10:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cc92b89fca49dafdbf5a00abfc6500fdeca4141a', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}, {'number': 3, 'created': '2021-06-29 20:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c68f879b5020b5662899cc17be93a983026cf8f0', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}, {'number': 4, 'created': '2021-08-09 07:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/37c7855fe6aa65c7a664ba27a8cc093026987d8e', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}, {'number': 5, 'created': '2021-08-25 08:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0407bfb2c94faa092a3357ef0cda41a49accd19f', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}, {'number': 6, 'created': '2021-09-17 13:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f18f6d35d9ebe0ac57f4dbf3d99f211285de323c', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}, {'number': 7, 'created': '2021-12-20 07:45:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/abaeadbdc80fbccdfb48fb0a91609ed64cd34e99', 'message': ""Add new job osc-functional-devstack-neutron-ovs\n\nRecently default Neutron's backend in Devstack was changed to ML2/OVN\nand that caused some failures of the osc-functional-devstack job.\n\nIn [1] we explicitly configured ML2/OVS Neutron backend to be still used\nin that functional tests job to unblock our gate.\n\nBut we should really run that job with Devstack's default settings.\nSo, as functional tests issues which were causing failures on the\nML2/OVN backend are now fixed, this patch switches\nosc-functional-devstack job to the Devstack's defaults (ML2/OVN).\nBut to ensure that we have some coverage as we had before, this patch\nalso adds new job osc-functional-devstack-neutron-ovs which runs Neutron\nwith ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API\nwhich aren't available when OVN is used.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315\n\nChange-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db\n""}]",0,793143,abaeadbdc80fbccdfb48fb0a91609ed64cd34e99,18,1,7,11975,,,0,"Add new job osc-functional-devstack-neutron-ovs

Recently default Neutron's backend in Devstack was changed to ML2/OVN
and that caused some failures of the osc-functional-devstack job.

In [1] we explicitly configured ML2/OVS Neutron backend to be still used
in that functional tests job to unblock our gate.

But we should really run that job with Devstack's default settings.
So, as functional tests issues which were causing failures on the
ML2/OVN backend are now fixed, this patch switches
osc-functional-devstack job to the Devstack's defaults (ML2/OVN).
But to ensure that we have some coverage as we had before, this patch
also adds new job osc-functional-devstack-neutron-ovs which runs Neutron
with ML2/OVS backend to be able to test e.g. some DHCP/L3 agents API
which aren't available when OVN is used.

[1] https://review.opendev.org/c/openstack/python-openstackclient/+/791315

Change-Id: I0128244549dd580272d6fc792ecb1dcf1bce21db
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/43/793143/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3a6d1286637f122b72a28c57d8b1c1df9d7e6b27,ovn-as-default, neutron-network-segment-range: true neutron-segments: true q-metering: true q-qos: true neutron-tag-ports-during-bulk-creation: true tox_envlist: functional - job: name: osc-functional-devstack-neutron-ovs parent: osc-functional-devstack timeout: 7800 vars: devstack_services: - osc-functional-devstack-neutron-ovs, neutron-network-segment-range: true neutron-segments: true q-metering: true q-qos: true neutron-tag-ports-during-bulk-creation: true tox_envlist: functional,14,6
openstack%2Fneutron~master~I77806f511ac8171d0ba2719c967159aa387e8492,openstack/neutron,master,I77806f511ac8171d0ba2719c967159aa387e8492,Use neutron-status for sanity checks,ABANDONED,2018-12-26 21:17:25.000000000,2022-05-27 14:22:53.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-12-26 21:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f290d4a8eb5e4d1d15863d1575ba02b54e1634bf', 'message': 'WIP Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\nThis patch starts such change but it\'s still WIP.\n\nTODO:\n- tests,\n- entry points for neutron with migration of current sanity checks to\n  new tool,\n- docs update,\n\nIt will probably require some small changes to oslo.upgradechecker tool too\nto allow customize title of results table there.\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}, {'number': 2, 'created': '2019-02-19 14:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2d5a0969d60c7634e57a3810c932f58b244c3e8', 'message': 'WIP Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\n\nThis patch adds only base ""framework"" for sanity checks.\nReal checks from old sanity-check tool will be migrated\nlater.\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}, {'number': 3, 'created': '2019-02-19 14:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/229d56a142d1b02ee74817d85273b1d91e84326a', 'message': 'Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\n\nThis patch adds only base ""framework"" for sanity checks.\nReal checks from old sanity-check tool will be migrated\nlater.\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}, {'number': 4, 'created': '2019-02-20 10:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03f688039b9020c10b388ed03c6e19c119ce5fe7', 'message': 'Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\n\nThis patch adds only base ""framework"" for sanity checks.\nReal checks from old sanity-check tool will be migrated\nlater.\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}, {'number': 5, 'created': '2019-02-20 14:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7ec2bd71a6ef4208fd78ae22405e3ba6cf27cd5', 'message': 'Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\n\nThis patch adds only base ""framework"" for sanity checks.\nReal checks from old sanity-check tool will be migrated\nlater.\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}, {'number': 6, 'created': '2019-02-20 22:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26d9ccadf1a422c63f47225102ebc66539f0c861', 'message': 'Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\n\nThis patch adds only base ""framework"" for sanity checks.\nReal checks from old sanity-check tool will be migrated\nlater.\n\nRelated-Bug: #1809878\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}, {'number': 7, 'created': '2020-01-16 20:07:11.000000000', 'files': ['requirements.txt', 'neutron/cmd/sanity_checks/checks.py', 'neutron/cmd/status.py', 'neutron/cmd/sanity_checks/__init__.py', 'neutron/tests/unit/cmd/sanity_checks/test_checks.py', 'neutron/tests/unit/cmd/sanity_checks/__init__.py', 'lower-constraints.txt', 'doc/source/cli/neutron-status.rst', 'setup.cfg', 'neutron/tests/unit/cmd/test_status.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfa15b4e83187488d6f57d97e5654c04e5115847', 'message': 'Use neutron-status for sanity checks\n\nIn neutron there is CLI tool to do sanity checks. Now, as we\nhave ""neutron-status upgrade check"" tool, we can unify it with\nthis ""neutron-sanity-check"" tool and use it in same was, like:\n""neutron-status sanity check"".\n\nThis patch adds only base ""framework"" for sanity checks.\nReal checks from old sanity-check tool will be migrated\nlater.\n\nRelated-Bug: #1809878\n\nChange-Id: I77806f511ac8171d0ba2719c967159aa387e8492\n'}]",6,627424,dfa15b4e83187488d6f57d97e5654c04e5115847,38,15,7,11975,,,0,"Use neutron-status for sanity checks

In neutron there is CLI tool to do sanity checks. Now, as we
have ""neutron-status upgrade check"" tool, we can unify it with
this ""neutron-sanity-check"" tool and use it in same was, like:
""neutron-status sanity check"".

This patch adds only base ""framework"" for sanity checks.
Real checks from old sanity-check tool will be migrated
later.

Related-Bug: #1809878

Change-Id: I77806f511ac8171d0ba2719c967159aa387e8492
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/627424/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/status.py'],1,f290d4a8eb5e4d1d15863d1575ba02b54e1634bf,sanity-checker,"import sys UPGRADE_CHECKS_ENTRYPOINTS = 'neutron.status.upgrade.checks' SANITY_CHECKS_ENTRYPOINTS = 'neutron.status.sanity.checks' def load_checks(entrypoints): ns_plugin = runtime.NamespacedPlugins(entrypoints)class UpgradeChecker(upgradecheck.UpgradeCommands): _upgrade_checks = load_checks(UPGRADE_CHECKS_ENTRYPOINTS) class SanityChecker(upgradecheck.UpgradeCommands): """"""Various upgrade checks should be added as separate methods in this class and added to _upgrade_checks tuple. Check methods here must not rely on the neutron object model since they should be able to run against both N and N-1 releases. Any queries to the database should be done through the sqlalchemy query language directly like the database schema migrations. """""" # The format of the check functions is to return an # oslo_upgradecheck.upgradecheck.Result # object with the appropriate # oslo_upgradecheck.upgradecheck.Code and details set. # If the check hits warnings or failures then those should be stored # in the returned Result's ""details"" attribute. The # summary will be rolled up at the end of the check() method. _upgrade_checks = load_checks(SANITY_CHECKS_ENTRYPOINTS) def _register_cli_options(): """"""Set up the command line options. Adds a subcommands to support 'upgrade check' and 'sanity check' on the command line. """""" actions_map = { 'upgrade': UpgradeChecker(), 'sanity': SanityChecker()} def add_parsers(subparsers): for action_name, action in actions_map.items(): upgrade_action = subparsers.add_parser(action_name) upgrade_action.add_argument('check') upgrade_action.set_defaults(action_fn=action.check) opt = cfg.SubCommandOpt('command', handler=add_parsers) cfg.CONF.register_cli_opt(opt) """"""Simple implementation of main for upgrade checks """""" _register_cli_options() cfg.CONF( args=sys.argv[1:], project=""neutron"", ) try: return cfg.CONF.command.action_fn() except Exception: print(_('Error:\n%s') % traceback.format_exc()) # This is 255 so it's not confused with the upgrade check exit codes. return 255","CHECKS_ENTRYPOINTS = 'neutron.status.upgrade.checks'def load_checks(): ns_plugin = runtime.NamespacedPlugins(CHECKS_ENTRYPOINTS)class Checker(upgradecheck.UpgradeCommands): _upgrade_checks = load_checks() return upgradecheck.main( cfg.CONF, project='neutron', upgrade_command=Checker())",65,7
openstack%2Fopenstack-ansible-os_rally~stable%2Fvictoria~I64d3229b0eea9cfdac690576b8082a7bc38cd23f,openstack/openstack-ansible-os_rally,stable/victoria,I64d3229b0eea9cfdac690576b8082a7bc38cd23f,Disable setuptools auto discovery,MERGED,2022-05-26 15:14:07.000000000,2022-05-27 14:07:54.000000000,2022-05-27 14:06:38.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-05-26 15:14:07.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/be7edfdbaee22f69b6c3d2e3f29d4fdde78803cf', 'message': 'Disable setuptools auto discovery\n\nJobs are broken due to a release of setuptools 61.0 introducing\nnon-backwards compatible breaking changes [1]\n\nSetting py_modules to an empty string here will disable autodiscovery\nand should permit jobs to run as before.\n\n[1] https://github.com/pypa/setuptools/issues/3197\n\nChange-Id: I64d3229b0eea9cfdac690576b8082a7bc38cd23f\n'}]",0,843487,be7edfdbaee22f69b6c3d2e3f29d4fdde78803cf,8,3,1,28619,,,0,"Disable setuptools auto discovery

Jobs are broken due to a release of setuptools 61.0 introducing
non-backwards compatible breaking changes [1]

Setting py_modules to an empty string here will disable autodiscovery
and should permit jobs to run as before.

[1] https://github.com/pypa/setuptools/issues/3197

Change-Id: I64d3229b0eea9cfdac690576b8082a7bc38cd23f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/87/843487/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,be7edfdbaee22f69b6c3d2e3f29d4fdde78803cf,," py_modules=[],",,1,0
openstack%2Ftripleo-docs~master~I99617f858d1fa02bb38084790114f9141cfbf459,openstack/tripleo-docs,master,I99617f858d1fa02bb38084790114f9141cfbf459,Document Ceph Network Change,MERGED,2022-05-25 13:13:04.000000000,2022-05-27 14:04:44.000000000,2022-05-27 14:03:17.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-25 13:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/aad4897bf4cf9f983efc5425da853bef5e0a5017', 'message': ""Document Ceph Network Change\n\nHow network data is handled when commands like 'openstack\novercloud ceph deploy --config ... --network-data' are run\nhas been imporved via the Depends-On patch. This docs patch\nexplains how these two options interact.\n\nDepends-On: If196dfcd0fd2cec3b7784394e86c4addbfbf039d\nChange-Id: I99617f858d1fa02bb38084790114f9141cfbf459\n""}, {'number': 2, 'created': '2022-05-27 13:46:38.000000000', 'files': ['deploy-guide/source/features/deployed_ceph.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/16e104ee4c461294e0d920286dd633d302b5ba34', 'message': ""Document Ceph Network Change\n\nHow network data is handled when commands like 'openstack\novercloud ceph deploy --config ... --network-data' are run\nhas been imporved via the Depends-On patch. This docs patch\nexplains how these two options interact.\n\nChange-Id: I99617f858d1fa02bb38084790114f9141cfbf459\n""}]",0,843282,16e104ee4c461294e0d920286dd633d302b5ba34,14,4,2,18002,,,0,"Document Ceph Network Change

How network data is handled when commands like 'openstack
overcloud ceph deploy --config ... --network-data' are run
has been imporved via the Depends-On patch. This docs patch
explains how these two options interact.

Change-Id: I99617f858d1fa02bb38084790114f9141cfbf459
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/82/843282/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_ceph.rst'],1,aad4897bf4cf9f983efc5425da853bef5e0a5017,ceph_apply_net_conf,"Then the Ceph cluster will have the following parameters set::By default the Ceph global `ms_bind_ipv4` is set `true` andThen the Ceph cluster will have the following parameters set::If the examples above are not sufficient for your Ceph network needs, then it's possible to create an initial-ceph.conf with the four parameters ``public_network``, ``cluster_network``, ``ms_bind_ipv4``, and ``ms_bind_ipv6`` options set to whatever values are desired. When using the ``--config`` option it is still important to ensure the TripleO ``storage`` and ``storage_mgmt`` network names map to the correct ``public_network`` and ``cluster_network`` so that the rest of the deployment is consistent. The four parameters, ``public_network``, ``cluster_network``, ``ms_bind_ipv4``, and ``ms_bind_ipv6``, are always set in the Ceph cluster (with `ceph config set global`) from the ``--network-data`` file unless those parameters are explicitly set in the ``--config`` file. In that case the values in the ``--network-data`` file are not set directly in the Ceph cluster though other aspects of the overcloud deployment treat the ``--network-data`` file as authoritative (e.g. when Ceph RGW is set) so both sources should be consistent if the ``--config`` file has any of these four parameters. An example of setting the four parameters in the initial Ceph configuration is below::The above settings, which mix IPv4 and IPv6, are experimental and untested.","Then the Ceph cluster will bootstrap with an initial Ceph configuration containing the following::By default the Ceph globals `ms_bind_ipv4` is set `true` andThen the Ceph cluster will bootstrap with an initial Ceph configuration containing the following::If the above defaults are not desired, then it's possible to create an initial-ceph.conf with the ``public_network``, ``cluster_network``, ``ms_bind_ipv4``, and ``ms_bind_ipv6`` options set to whatever values are desired and pass it as in the example below::The above settings are experimental and untested. When using the ``--config`` option as above it is still important to ensure the TripleO ``storage`` and ``storage_mgmt`` network names map to the correct ``public_network`` and ``cluster_network`` since that is how the initial boot address is determined. The ``--config`` option ignores automatically generated initial configuration options, i.e. the ``public_network``, ``cluster_network``, and Ceph ms_bind options which would normally be retrieved from network_data.yaml. These variables all need to be set explicitly in the file passed as an argument to ``--config``.",27,22
openstack%2Fopenstack-ansible-repo_server~master~I4f32c03179a1d8814548a92fc714a5fd9dd3f433,openstack/openstack-ansible-repo_server,master,I4f32c03179a1d8814548a92fc714a5fd9dd3f433,"Remove all code for lsync, rsync and ssh",MERGED,2022-04-12 15:24:51.000000000,2022-05-27 13:59:08.000000000,2022-05-27 13:57:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-04-12 15:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/de2cbd5b6f34205257346818cc8a5e10c4b83808', 'message': 'Remove all code for lsync, rsync and ssh\n\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 2, 'created': '2022-04-12 17:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/79e799a4bfa9ffd61c9244fe01af2989b9988b90', 'message': 'Remove all code for lsync, rsync and ssh\n\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 3, 'created': '2022-04-12 17:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/23ae4a21b5c789457a5bd46866b78db249305fc6', 'message': 'Remove all code for lsync, rsync and ssh\n\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 4, 'created': '2022-04-13 15:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/4e1c4e0e3a28d4e356a25a0805e5e4e0ba7ce0ad', 'message': 'Remove all code for lsync, rsync and ssh\n\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 5, 'created': '2022-04-13 17:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/12a1f00d0fb4b933018922cce185add73e543f89', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 6, 'created': '2022-04-13 17:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/851659d659ce159421543a61260ec54530b9e667', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 7, 'created': '2022-04-14 12:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/14cbe9ae8ee0494ce00cb56667e38bd155cea5f6', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 8, 'created': '2022-04-14 13:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/aeb8ccefc7297784f77a4911e8648cfa517679eb', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 9, 'created': '2022-04-14 14:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/7a1925a61386d0875c484e36e2337856e8761d5b', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 10, 'created': '2022-04-19 12:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f25955319e27380e175a7bf1bf0b89f189ff5429', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 11, 'created': '2022-04-20 06:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/3983ba64b572e6eb82369047c579f7f904b90975', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 12, 'created': '2022-04-20 07:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/da7b29e08bb5b316bb49b24f0ba50639857430bb', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 13, 'created': '2022-04-20 08:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/c6746637913380c42aef4faff8464d367b66a029', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 14, 'created': '2022-04-27 07:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a86d9c7cb7b98cf691567c049126d0b0549eb8dd', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 15, 'created': '2022-04-27 07:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/821b045fb4c3ba87ea7e650f5c564085e63b32a1', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 16, 'created': '2022-04-27 11:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0263e773ad516585179f8c2feb6fdf86bd30fa06', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 17, 'created': '2022-04-27 13:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d4eda4ede0ec19bb6787e7fb6f1ac61b316d89b4', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 18, 'created': '2022-04-27 13:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/567d4dabe376ba7e2b2e6838aa64ecda19aca131', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 19, 'created': '2022-04-29 18:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/57e4f06d5173b10bcc2106d02a3c00a873a8e188', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 20, 'created': '2022-05-04 09:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d65f9e492ac087cbf21306971451a75c89300545', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 21, 'created': '2022-05-05 11:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f7cfdc2774fb3821bbd24371a2d6668196aed8c6', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/840651\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 22, 'created': '2022-05-09 06:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d25455d9ba8bea1de2d299ff6532568b57d0e98a', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/840651\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 23, 'created': '2022-05-12 16:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/001b51003b55256bd00d65ad3d2167bdea76d650', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/840651\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 24, 'created': '2022-05-16 11:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/4a698b11aa696f336dcf57d079cf696b582c3560', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/840651\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 25, 'created': '2022-05-16 15:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/74fa2710599cbe10bdd97294ac266f7cec349a1a', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/840651\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 26, 'created': '2022-05-17 11:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/7854797c90d93bc722d70c95e7fef500242b6915', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 27, 'created': '2022-05-18 11:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/3d50e2636df33a541f16eda16c106cfeaac17428', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}, {'number': 28, 'created': '2022-05-19 16:33:18.000000000', 'files': ['tasks/main.yml', 'vars/redhat-8.yml', 'tasks/repo_pre_install.yml', 'vars/debian.yml', 'tasks/repo_sync_manager.yml', 'handlers/main.yml', 'defaults/main.yml', 'tasks/repo_post_install.yml', 'tests/test-repo-server-functional.yml', 'templates/repo_prepost_cmd.sh.j2', 'tasks/repo_install.yml', 'templates/lsyncd.lua.j2', 'templates/lsyncd.defaults.j2', 'templates/rsyncd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/03b55edaaeaf9e9e44371578bb7a179a063f26d9', 'message': 'Remove all code for lsync, rsync and ssh\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/842571\nChange-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433\n'}]",12,837588,03b55edaaeaf9e9e44371578bb7a179a063f26d9,82,4,28,25023,,,0,"Remove all code for lsync, rsync and ssh

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/842571
Change-Id: I4f32c03179a1d8814548a92fc714a5fd9dd3f433
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/88/837588/20 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat-8.yml', 'tasks/repo_pre_install.yml', 'vars/debian.yml', 'tasks/repo_sync_manager.yml', 'handlers/main.yml', 'tasks/repo_post_install.yml', 'tests/test-repo-server-functional.yml', 'templates/repo_prepost_cmd.sh.j2', 'tasks/repo_install.yml', 'templates/lsyncd.lua.j2', 'templates/lsyncd.defaults.j2', 'templates/rsyncd.conf.j2']",13,de2cbd5b6f34205257346818cc8a5e10c4b83808,osa-gluster,,log file = /var/log/rsyncd.log pid file = /var/run/rsyncd.pid lock file = /var/run/rsync.lock max connections = 15 timeout = 600 transfer logging = true address = {{ repo_server_bind_address }} [openstack_mirror] path = {{ repo_service_home_folder }}/repo comment = OpenStack Private Cloud Mirror Server use chroot = yes read only = yes uid = nobody gid = nogroup ,2,827
openstack%2Fpython-neutronclient~master~I79d9a7a3ae33259179f20b677a62070a3963c698,openstack/python-neutronclient,master,I79d9a7a3ae33259179f20b677a62070a3963c698,Add neutron and osc commands for bgp speaker router association,ABANDONED,2021-08-03 07:58:30.000000000,2022-05-27 13:58:55.000000000,,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 07:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/e7f6776b110bb221baa30db4db9868453a64937f', 'message': 'Add neutron and osc commands for bgp speaker router associationw\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 2, 'created': '2021-08-05 05:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/dd3e22d29cc820ca20928cb91a8117bed976eea3', 'message': 'Add neutron and osc commands for bgp speaker router associationw\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 3, 'created': '2021-09-28 07:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f805f0648511bf09b19e15a611befac953f1b752', 'message': 'Add neutron and osc commands for bgp speaker router associationw\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 4, 'created': '2021-10-11 11:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f35a2779a66e28bf94f15bfc2b1ba7fde2d000a7', 'message': 'Add neutron and osc commands for bgp speaker router associationw\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 5, 'created': '2021-10-25 11:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/9e2c275c49941ad3642540c48285557d98d6fb5e', 'message': 'Add neutron and osc commands for bgp speaker router association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 6, 'created': '2021-10-25 12:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b2d906fbc8782eee55a70dcb6f0d23e971d468ec', 'message': 'Add neutron and osc commands for bgp speaker router association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 7, 'created': '2021-10-26 06:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/da166050f5b3912604bfd23bd2666874531a1a72', 'message': 'Add neutron and osc commands for bgp speaker router association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}, {'number': 8, 'created': '2021-11-21 08:31:38.000000000', 'files': ['neutronclient/osc/v2/dynamic_routing/router_association.py', 'neutronclient/tests/unit/osc/v2/dynamic_routing/fakes.py', 'neutronclient/v2_0/client.py', 'neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_router_association.py', 'neutronclient/osc/v2/dynamic_routing/constants.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/113e87f84690b40526d28393ccaba42263206ee0', 'message': 'Add neutron and osc commands for bgp speaker router association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I79d9a7a3ae33259179f20b677a62070a3963c698\n'}]",39,803318,113e87f84690b40526d28393ccaba42263206ee0,33,5,8,33273,,,0,"Add neutron and osc commands for bgp speaker router association

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I79d9a7a3ae33259179f20b677a62070a3963c698
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/18/803318/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/osc/v2/dynamic_routing/router_association.py', 'neutronclient/v2_0/client.py', 'neutronclient/tests/unit/bgp/test_cli20_speaker_router_association.py', 'neutronclient/osc/v2/dynamic_routing/constants.py', 'neutronclient/neutron/v2_0/bgp/router_association.py', 'setup.cfg']",6,e7f6776b110bb221baa30db4db9868453a64937f,bug/1921461, bgp_speaker_router_association_create = neutronclient.osc.v2.dynamic_routing.router_association:CreateSpeakerRouterAssociation bgp_speaker_router_association_set = neutronclient.osc.v2.dynamic_routing.router_association:SetSpeakerRouterAssociation bgp_speaker_router_association_delete = neutronclient.osc.v2.dynamic_routing.router_association:DeleteSpeakerRouterAssociation bgp_speaker_router_association_show = neutronclient.osc.v2.dynamic_routing.router_association:ShowSpeakerRouterAssociation bgp_speaker_router_association_list = neutronclient.osc.v2.dynamic_routing.router_association:ListSpeakerRouterAssociations bgp-speaker-router-association-create = neutronclient.neutron.v2_0.bgp.router_association:CreateSpeakerRouterAssociation bgp-speaker-router-association-update = neutronclient.neutron.v2_0.bgp.router_association:UpdateSpeakerRouterAssociation bgp-speaker-router-association-delete = neutronclient.neutron.v2_0.bgp.router_association:DeleteSpeakerRouterAssociation bgp-speaker-router-association-list = neutronclient.neutron.v2_0.bgp.router_association:ListSpeakerRouterAssociations bgp-speaker-router-association-show = neutronclient.neutron.v2_0.bgp.router_association:ShowSpeakerRouterAssociation,,504,0
openstack%2Fpython-neutronclient~master~I4b6496a398df864acd812de30fad5878578767f9,openstack/python-neutronclient,master,I4b6496a398df864acd812de30fad5878578767f9,Add neutron and osc commands for bgp speaker peer association,ABANDONED,2021-08-04 10:29:08.000000000,2022-05-27 13:58:37.000000000,,"[{'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 10:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/121dcaaa2e8fa1a9b993885c68698a21a477fba4', 'message': 'Add neutron and osc commands for bgp speaker peer association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I4b6496a398df864acd812de30fad5878578767f9\n'}, {'number': 2, 'created': '2021-08-05 05:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b6da757035ec5f8bf3dea3bdaba12b95a0a37591', 'message': 'Add neutron and osc commands for bgp speaker peer association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I4b6496a398df864acd812de30fad5878578767f9\n'}, {'number': 3, 'created': '2021-10-11 11:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/5663d42cfd51207fa0e3e71a4d785fcfcc8b0c20', 'message': 'Add neutron and osc commands for bgp speaker peer association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I4b6496a398df864acd812de30fad5878578767f9\n'}, {'number': 4, 'created': '2021-10-26 12:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/4798f19826f24770b0d79e315457a5e8e46f80a5', 'message': 'Add neutron and osc commands for bgp speaker peer association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I4b6496a398df864acd812de30fad5878578767f9\n'}, {'number': 5, 'created': '2021-11-21 08:31:53.000000000', 'files': ['neutronclient/tests/unit/osc/v2/dynamic_routing/fakes.py', 'neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_peer_association.py', 'neutronclient/v2_0/client.py', 'neutronclient/osc/v2/dynamic_routing/constants.py', 'setup.cfg', 'neutronclient/osc/v2/dynamic_routing/peer_association.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/0f46dd99d70cbe345f172396568b8ca863a2041f', 'message': 'Add neutron and osc commands for bgp speaker peer association\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I4b6496a398df864acd812de30fad5878578767f9\n'}]",19,803458,0f46dd99d70cbe345f172396568b8ca863a2041f,25,3,5,33273,,,0,"Add neutron and osc commands for bgp speaker peer association

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I4b6496a398df864acd812de30fad5878578767f9
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/58/803458/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/bgp/test_cli20_speaker_peer_association.py', 'neutronclient/neutron/v2_0/bgp/peer_association.py', 'neutronclient/tests/unit/osc/v2/dynamic_routing/fakes.py', 'neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_peer_association.py', 'neutronclient/v2_0/client.py', 'neutronclient/osc/v2/dynamic_routing/constants.py', 'setup.cfg', 'neutronclient/osc/v2/dynamic_routing/peer_association.py']",8,121dcaaa2e8fa1a9b993885c68698a21a477fba4,bug/1921461," # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from osc_lib.command import command from osc_lib import utils as disp_util from osc_lib.utils import columns as column_util from neutronclient._i18n import _ from neutronclient.osc import utils as nc_osc_utils from neutronclient.osc.v2.dynamic_routing import constants def _get_attrs(client_manager, parsed_args): attrs = {} if 'bgp_peer' in parsed_args: _peer_id = client_manager.neutronclient\ .find_resource('bgp_peer', parsed_args.bgp_peer)['id'] attrs['peer_id'] = _peer_id return attrs class CreateSpeakerPeerAssociation(command.ShowOne): _description = _(""Create a BGP speaker peer association"") def get_parser(self, prog_name): parser = super(CreateSpeakerPeerAssociation, self)\ .get_parser(prog_name) parser.add_argument( 'bgp_speaker', metavar='BGP_SPEAKER', help=_('ID or name of the BGP speaker.')) parser.add_argument( 'bgp_peer', metavar='BGP_PEER', help=_('ID or name of the peer to add.')) nc_osc_utils.add_project_owner_option_to_parser(parser) return parser def take_action(self, parsed_args): client = self.app.client_manager.neutronclient attrs = _get_attrs(self.app.client_manager, parsed_args) body = {} body[constants.BGP_PEER_ASSOCIATION] = attrs _speaker_id = client.find_resource(constants.BGP_SPEAKER, parsed_args.bgp_speaker)['id'] obj = client.create_bgp_speaker_peer_association( _speaker_id, body)[constants.BGP_PEER_ASSOCIATION] columns, display_columns = column_util.get_columns(obj) data = disp_util.get_dict_properties(obj, columns) return display_columns, data class DeleteSpeakerPeerAssociation(command.ShowOne): _description = _(""Delete a BGP speaker peer association"") def get_parser(self, prog_name): parser = super(DeleteSpeakerPeerAssociation, self)\ .get_parser(prog_name) parser.add_argument( 'peer_association_id', metavar='PEER_ASSOCIATION_ID', help=_('ID of the peer association to remove.')) parser.add_argument( 'bgp_speaker', metavar='BGP_SPEAKER', help=_('ID or name of the BGP speaker.')) return parser def take_action(self, parsed_args): client = self.app.client_manager.neutronclient _speaker_id = client.find_resource(constants.BGP_SPEAKER, parsed_args.bgp_speaker)['id'] client.delete_bgp_speaker_peer_association( parsed_args.peer_association_id, _speaker_id) class ListSpeakerPeerAssociations(command.Lister): _description = _(""List BGP speaker peer associations"") def get_parser(self, prog_name): parser = super(ListSpeakerPeerAssociations, self)\ .get_parser(prog_name) parser.add_argument( 'bgp_speaker', metavar='BGP_SPEAKER', help=_('List router associations of a BGP speaker.')) return parser def take_action(self, parsed_args): client = self.app.client_manager.neutronclient _speaker_id = client.find_resource(constants.BGP_SPEAKER, parsed_args.bgp_speaker)['id'] data = client.list_bgp_speaker_peer_associations(_speaker_id) headers = ('ID', 'Tenant ID', 'Peer', 'Status') columns = ('id', 'tenant_id', 'peer_id', 'status') return (headers, (disp_util.get_dict_properties(s, columns) for s in data[constants.BGP_PEER_ASSOCIATIONS])) class ShowSpeakerPeerAssociation(command.ShowOne): _description = _(""Show a BGP speaker peer association"") def get_parser(self, prog_name): parser = super(ShowSpeakerPeerAssociation, self)\ .get_parser(prog_name) parser.add_argument( 'peer_association_id', metavar='PEER_ASSOCIATION_ID', help=_('ID of the peer association to display.')) parser.add_argument( 'bgp_speaker', metavar='BGP_SPEAKER', help=_('ID or name of the BGP speaker.')) return parser def take_action(self, parsed_args): client = self.app.client_manager.neutronclient _speaker_id = client.find_resource(constants.BGP_SPEAKER, parsed_args.bgp_speaker)['id'] obj = client.show_bgp_speaker_peer_association( parsed_args.peer_association_id, _speaker_id)[constants.BGP_PEER_ASSOCIATION] columns, display_columns = column_util.get_columns(obj) data = disp_util.get_dict_properties(obj, columns) return display_columns, data ",,547,0
openstack%2Fcoverage2sql~master~Ie0e0df49b442aac9271b31467c2d19eaf2c465f7,openstack/coverage2sql,master,Ie0e0df49b442aac9271b31467c2d19eaf2c465f7,Fix formattiing of release list,MERGED,2022-05-27 12:02:37.000000000,2022-05-27 13:57:12.000000000,2022-05-27 13:55:58.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 12:02:37.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/625bddff526c2bdd3c56307859ebcfa534d05820', 'message': 'Fix formattiing of release list\n\nChange-Id: Ie0e0df49b442aac9271b31467c2d19eaf2c465f7\n'}]",0,843609,625bddff526c2bdd3c56307859ebcfa534d05820,7,2,1,28522,,,0,"Fix formattiing of release list

Change-Id: Ie0e0df49b442aac9271b31467c2d19eaf2c465f7
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/09/843609/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,625bddff526c2bdd3c56307859ebcfa534d05820,fix-rel-formatting,.. toctree:: :maxdepth: 1 unreleased, .. toctree:: :maxdepth: 1 unreleased,3,3
openstack%2Fcliff~master~Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05,openstack/cliff,master,Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05,Update Python testing per Zed cycle testing runtime,MERGED,2022-05-25 16:18:26.000000000,2022-05-27 13:30:54.000000000,2022-05-27 13:29:50.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-25 16:18:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/3e2e0139dec5592a328eafc0f76a4ca2489062c5', 'message': 'Update Python testing per Zed cycle testing runtime\n\nIn the Zed cycle, we have dropped the Python 3.6/3.7 [1] testing and its\nsupport. Update the Python classifiers to reflect this.\n\nChange-Id: Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,843312,3e2e0139dec5592a328eafc0f76a4ca2489062c5,8,3,1,15334,,,0,"Update Python testing per Zed cycle testing runtime

In the Zed cycle, we have dropped the Python 3.6/3.7 [1] testing and its
support. Update the Python classifiers to reflect this.

Change-Id: Ieb80faf01d87e7fa7d717b74de6c5ec518ef9b05
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/12/843312/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3e2e0139dec5592a328eafc0f76a4ca2489062c5,slow-imports,python_requires = >=3.8 Programming Language :: Python :: 3.9,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,2,3
openstack%2Fpython-tripleoclient~master~I9f44d65c5493ab70842dc97a0e813c83fe777ab9,openstack/python-tripleoclient,master,I9f44d65c5493ab70842dc97a0e813c83fe777ab9,Replace non-inclusive language,MERGED,2021-12-01 22:42:33.000000000,2022-05-27 13:06:38.000000000,2022-05-27 13:04:34.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-01 22:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/303d29fe90125f83e70c7cee33e6609e8e1e388f', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819889\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 2, 'created': '2021-12-01 23:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/54320606225486f89b4e228ed61b5f00bc73d302', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 3, 'created': '2021-12-02 01:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/18a4593ffb51727c7c2b016ecc761bcdd7a4af2d', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 4, 'created': '2021-12-03 03:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/78cc465125d6d43fce45f33410f3401d4a440650', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819889\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 5, 'created': '2022-02-03 06:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d798ed3d748e8bc5f48403e8d2abe1c955099f22', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819889\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 6, 'created': '2022-02-03 06:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b39a36b9b794ad84c64cfeee30aa46f124417b6', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 7, 'created': '2022-02-03 12:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7b3550e7fd929e5d2d9fbf541c874825118cb77', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 8, 'created': '2022-02-03 12:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/170fd8895aba324f3930fd53e20a246a70f79b14', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 9, 'created': '2022-02-03 12:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f79a4f3cbbf169e0c1607ab779659dde8a415a3', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 10, 'created': '2022-02-03 12:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea227b446236d1f4ab7621edfa4f61d8d3b66f97', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 11, 'created': '2022-02-04 01:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f9cd1ece2493a8f8b9af1cf527bdef2a8d27fbb', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819889\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 12, 'created': '2022-02-06 10:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/482e548611ad0fc0f25b842cb6d749c9595abdbf', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 13, 'created': '2022-02-06 22:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa21dc978a2cc56e1132ebd21c3b68324f39e3fb', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 14, 'created': '2022-02-07 00:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8b1c7c307ae6c033cd9a70ff1fe49a2921bc35f5', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 15, 'created': '2022-02-07 08:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dfe4b38cdea4852565ce1d929b9b15582298b237', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 16, 'created': '2022-02-08 00:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/beaf502a4f8e1951cd676f243e972e39189dbb2d', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 17, 'created': '2022-04-15 02:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d70141fbeb9890b6559cea12a0063e1638056f50', 'message': 'WIP - Replace non-inclusive language\n\nRemoving White and Black lists and replacing\nwith Include and Exclude instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 18, 'created': '2022-04-15 22:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6173a3c7527a685cfce348a1d8dfb799f721269e', 'message': 'Replace non-inclusive language\n\nRemoving non-inlucive language lists and replacing\nwith Include and Exclude lists instead\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 19, 'created': '2022-04-15 22:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65d6ff73dd5b2ead19e108c72486e0951f78df25', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 20, 'created': '2022-04-19 04:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ba843241b07ffcaa975cae21f09597be79831e72', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 21, 'created': '2022-04-19 04:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1015afaf915ab1c3ccae5ff21c250d5a734a4cbd', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 22, 'created': '2022-04-19 06:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4524ea6b9955336890c3dbe4e37c94576ec423a', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 23, 'created': '2022-04-19 06:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b3284e48897811a089f8b853522ca2662639a98a', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 24, 'created': '2022-04-19 08:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7fd5de38c24463de69099c3ef662659d0a16ab51', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 25, 'created': '2022-05-04 02:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7509aa8d5688a521cb0783347c9da14e314ac624', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 26, 'created': '2022-05-04 02:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9190cfcf9ee817120ecaf89300fbf59ca24f8ed', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This change introduces support to facilitate\ninclude and exclude lists. Once all non-inclusive language\nhas been removed from tripleo-heat-templates, we can\nremove the non-inclusive language from tripleoclient as well.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 27, 'created': '2022-05-11 00:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/756af9fca8e8af634ef7aeec864393924294ea4a', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This patch changes the language where ever\npractical to use the terms excluded and included.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 28, 'created': '2022-05-11 00:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/87c60eed857cfcc78e5c94f8f4864e52c85b61a2', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This patch changes the language where ever\npractical to use the terms excluded and included.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 29, 'created': '2022-05-11 00:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eea4557b1e1272d5b64e745e53cdf4184771caa9', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This patch changes the language where ever\npractical to use the terms excluded and included.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}, {'number': 30, 'created': '2022-05-11 00:05:44.000000000', 'files': ['releasenotes/notes/inclusive_language-8d44129de1e8099a.yaml', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/workflows/test_deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6442450a2142ca2fe5d375b9623d7a9380b80393', 'message': 'Replace non-inclusive language\n\nIn an effort to remove non-inclusive language from\nour code. This patch changes the language where ever\npractical to use the terms excluded and included.\n\nChange-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9\n'}]",11,820078,6442450a2142ca2fe5d375b9623d7a9380b80393,89,4,30,30073,,,0,"Replace non-inclusive language

In an effort to remove non-inclusive language from
our code. This patch changes the language where ever
practical to use the terms excluded and included.

Change-Id: I9f44d65c5493ab70842dc97a0e813c83fe777ab9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/820078/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'releasenotes/notes/inclusive_language-8d44129de1e8099a.yaml', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py']",7,303d29fe90125f83e70c7cee33e6609e8e1e388f,inclusive_language," if env.get('parameter_defaults').get('DeploymentServerExcludelist'): msg = _('[WARNING] DeploymentServerExcludelist is defined and will ' 'ExcludedHostnames', self.working_dir))"," if env.get('parameter_defaults').get('DeploymentServerBlacklist'): msg = _('[WARNING] DeploymentServerBlacklist is defined and will ' 'BlacklistedHostnames', self.working_dir))",19,14
openstack%2Fpython-tripleoclient~master~I0358500485d72c78c5f987ec48c86e6daca26aef,openstack/python-tripleoclient,master,I0358500485d72c78c5f987ec48c86e6daca26aef,Set yaql limit iterators to 10000 for ephemeral Heat,MERGED,2022-05-02 11:53:49.000000000,2022-05-27 13:05:41.000000000,2022-05-27 13:04:31.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 11:53:49.000000000', 'files': ['templates/ephemeral-heat/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/53030b9eb38732ff898d5e6c61e0b3c57b9e4c5f', 'message': 'Set yaql limit iterators to 10000 for ephemeral Heat\n\nThis setting should be 10000, not 9000. 10000 matches what we were\npreviously configuring on the undercloud with installed Heat.\n\nChange-Id: I0358500485d72c78c5f987ec48c86e6daca26aef\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",4,840173,53030b9eb38732ff898d5e6c61e0b3c57b9e4c5f,12,3,1,7144,,,0,"Set yaql limit iterators to 10000 for ephemeral Heat

This setting should be 10000, not 9000. 10000 matches what we were
previously configuring on the undercloud with installed Heat.

Change-Id: I0358500485d72c78c5f987ec48c86e6daca26aef
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/73/840173/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ephemeral-heat/heat.conf.j2'],1,53030b9eb38732ff898d5e6c61e0b3c57b9e4c5f,,limit_iterators=10000,limit_iterators=9000,1,1
openstack%2Fnova~master~Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66,openstack/nova,master,Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66,Fix extending non LUKSv1 encrypted volumes,MERGED,2022-03-31 18:00:38.000000000,2022-05-27 12:50:32.000000000,2022-05-27 12:10:07.000000000,"[{'_account_id': 4523}, {'_account_id': 6062}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-03-31 18:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcb4e34276a1e57bf261646d64699fe1966b818d', 'message': 'Fix extending non LUKSv1 encrypted volumes\n\nPatch fixing bug #1861071 resolved the issue of extending LUKS v1\nvolumes when nova connects them via libvirt instead of through os-brick,\nbut nova side still fails to extend in-use volumes when they don\'t go\nthrough libvirt (i.e., LUKS v2).\n\nThe logs will show a very similar error, but the user won\'t know that\nthis has happened and Cinder will show the new size:\n\n libvirt.libvirtError: internal error: unable to execute QEMU command\n \'block_resize\': Cannot grow device files\n\nThere are 2 parts to this problem:\n\n- The device mapper device is not automatically extended.\n- Nova tries to use the encrypted block device size as the size of the\n  decrypted device.\n\nThis patch leverages the ""extend_volume"" method in os-brick connectors\nto extend the device mapper device, after the encrypted device has been\nextended, and use the size of the decrypted volume for the block_resize\noperation.\n\nDepends-On: I351f1a7769c9f915e4cd280f05a8b8b87f40df84\nCloses-Bug: #1967157\nChange-Id: Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66\n'}, {'number': 2, 'created': '2022-05-12 16:54:04.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1967157-extend-encrypted.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8fbaeba11f445bcf6c6be1f5f7b7aeeb6995c9cd', 'message': 'Fix extending non LUKSv1 encrypted volumes\n\nPatch fixing bug #1861071 resolved the issue of extending LUKS v1\nvolumes when nova connects them via libvirt instead of through os-brick,\nbut nova side still fails to extend in-use volumes when they don\'t go\nthrough libvirt (i.e., LUKS v2).\n\nThe logs will show a very similar error, but the user won\'t know that\nthis has happened and Cinder will show the new size:\n\n libvirt.libvirtError: internal error: unable to execute QEMU command\n \'block_resize\': Cannot grow device files\n\nThere are 2 parts to this problem:\n\n- The device mapper device is not automatically extended.\n- Nova tries to use the encrypted block device size as the size of the\n  decrypted device.\n\nThis patch leverages the ""extend_volume"" method in os-brick connectors\nto extend the device mapper device, after the encrypted device has been\nextended, and use the size of the decrypted volume for the block_resize\noperation.\n\nRelated change: I351f1a7769c9f915e4cd280f05a8b8b87f40df84\nCloses-Bug: #1967157\nChange-Id: Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66\n'}]",4,836064,8fbaeba11f445bcf6c6be1f5f7b7aeeb6995c9cd,41,6,2,9535,,,0,"Fix extending non LUKSv1 encrypted volumes

Patch fixing bug #1861071 resolved the issue of extending LUKS v1
volumes when nova connects them via libvirt instead of through os-brick,
but nova side still fails to extend in-use volumes when they don't go
through libvirt (i.e., LUKS v2).

The logs will show a very similar error, but the user won't know that
this has happened and Cinder will show the new size:

 libvirt.libvirtError: internal error: unable to execute QEMU command
 'block_resize': Cannot grow device files

There are 2 parts to this problem:

- The device mapper device is not automatically extended.
- Nova tries to use the encrypted block device size as the size of the
  decrypted device.

This patch leverages the ""extend_volume"" method in os-brick connectors
to extend the device mapper device, after the encrypted device has been
extended, and use the size of the decrypted volume for the block_resize
operation.

Related change: I351f1a7769c9f915e4cd280f05a8b8b87f40df84
Closes-Bug: #1967157
Change-Id: Ia1411f11ec4bf44af6a42d5f96c8a0903846ed66
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/836064/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1967157-extend-encrypted.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,bcb4e34276a1e57bf261646d64699fe1966b818d,extend-luksv2," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_volume_encryptor') @mock.patch('os_brick.encryptors.get_encryption_metadata') def test_extend_volume_os_brick_block(self, mock_get_encryption_metadata, mock_get_encryptor): """"""Test extend volume that uses an os-brick encryptor."""""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'serial': uuids.volume_id, 'driver_volume_type': 'fake', 'data': { 'device_path': mock.sentinel.device_path, 'access_mode': 'rw' } } block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) guest = mock.Mock(spec=libvirt_guest.Guest) guest.get_block_device.return_value = block_device guest.get_power_state.return_value = power_state.RUNNING # The requested_size is provided to extend_volume in bytes. new_size = 20 * units.Gi # Decrypted volume size reported by os-brick will be smaller new_size_minus_offset = new_size - (16384 * units.Ki) mock_brick_extend = mock_get_encryptor.return_value.extend_volume mock_brick_extend.return_value = new_size_minus_offset drvr._host.get_guest = mock.Mock(return_value=guest) drvr._extend_volume = mock.Mock(return_value=new_size) encryption = {'provider': 'luks2', 'control_location': 'front-end'} mock_get_encryption_metadata.return_value = encryption # Extend the volume to new_size drvr.extend_volume(self.context, connection_info, instance, new_size) # Assert that the expected calls are made prior to the device resize. drvr._host.get_guest.assert_called_once_with(instance) guest.get_power_state.assert_called_once_with(drvr._host) guest.get_block_device(mock.sentinel.device_path) # Assert calls to the os-brick encryptor extend mock_get_encryptor.assert_called_once_with(connection_info, encryption) mock_brick_extend.assert_called_once_with(self.context, **encryption) mock_get_encryption_metadata.assert_called_once_with( self.context, drvr._volume_api, uuids.volume_id, connection_info) # Assert that the Libvirt call to resize the device within the instance # is called with the size reported by os-brick block_device.resize.assert_called_once_with(new_size_minus_offset) ",,77,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I497e5caa4ccb9a649f89ebe2cfb98c43505a4445,openstack/python-tripleoclient,stable/wallaby,I497e5caa4ccb9a649f89ebe2cfb98c43505a4445,Exclude empty string from no_proxy,MERGED,2022-05-04 07:33:19.000000000,2022-05-27 12:42:57.000000000,2022-05-27 12:41:41.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-04 07:33:19.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/71420abff0f1696067cd96d056dd13b1015758cc', 'message': 'Exclude empty string from no_proxy\n\nThe no_proxy environment can exist with an empty value, and it should\nbe ignored when generating no_proxy setting.\n\nChange-Id: I497e5caa4ccb9a649f89ebe2cfb98c43505a4445\nCloses-Bug: #1968958\n(cherry picked from commit 2231afdb4d59e1a8b9a626c4bd4e4a9df879fea4)\n'}]",0,840345,71420abff0f1696067cd96d056dd13b1015758cc,10,5,1,9816,,,0,"Exclude empty string from no_proxy

The no_proxy environment can exist with an empty value, and it should
be ignored when generating no_proxy setting.

Change-Id: I497e5caa4ccb9a649f89ebe2cfb98c43505a4445
Closes-Bug: #1968958
(cherry picked from commit 2231afdb4d59e1a8b9a626c4bd4e4a9df879fea4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/45/840345/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,71420abff0f1696067cd96d056dd13b1015758cc,bug/1968958-stable/wallaby," os.environ['no_proxy'] = ','.join([x for x in no_proxy_list if x])"," os.environ['no_proxy'] = ','.join( [x for x in no_proxy_list if x is not None])",1,2
openstack%2Ftripleo-heat-templates~master~Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1,openstack/tripleo-heat-templates,master,Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1,Fix deploy failure of keystone for undercloud,MERGED,2022-05-20 12:54:18.000000000,2022-05-27 12:41:38.000000000,2022-05-27 12:41:38.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-20 12:54:18.000000000', 'files': ['environments/undercloud-enable-keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3378b4c37e1cc94bd973b7dd0743c24f259526b8', 'message': 'Fix deploy failure of keystone for undercloud\n\nWith enable_keystone = true in undercloud.conf, openstack undercloud\ninstall command fails as follows:\n\n  Exception: Could not fetch contents for file:///home/stack/tripleo-deploy/undercloud/tripleo-heat-installer-templates/environments/deployment/keystone/keystone-container-puppet.yaml\n  Traceback (most recent call last):\n    File ""/usr/lib64/python3.6/urllib/request.py"", line 1505, in open_local_file\n      stats = os.stat(localfile)\n  FileNotFoundError: [Errno 2] No such file or directory: \'/home/stack/tripleo-deploy/undercloud/tripleo-heat-installer-templates/environments/deployment/keystone/keystone-container-puppet.yaml\'\n\nFix the path of the yaml file.\n\nChange-Id: Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1\n'}]",2,842705,3378b4c37e1cc94bd973b7dd0743c24f259526b8,11,6,1,34260,,,0,"Fix deploy failure of keystone for undercloud

With enable_keystone = true in undercloud.conf, openstack undercloud
install command fails as follows:

  Exception: Could not fetch contents for file:///home/stack/tripleo-deploy/undercloud/tripleo-heat-installer-templates/environments/deployment/keystone/keystone-container-puppet.yaml
  Traceback (most recent call last):
    File ""/usr/lib64/python3.6/urllib/request.py"", line 1505, in open_local_file
      stats = os.stat(localfile)
  FileNotFoundError: [Errno 2] No such file or directory: '/home/stack/tripleo-deploy/undercloud/tripleo-heat-installer-templates/environments/deployment/keystone/keystone-container-puppet.yaml'

Fix the path of the yaml file.

Change-Id: Idf5a5a5d98547a3aaff0afe95d3d0523703ce0b1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/842705/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud-enable-keystone.yaml'],1,3378b4c37e1cc94bd973b7dd0743c24f259526b8,fix_failure_keystone_deploy_undercloud, OS::TripleO::Services::Keystone: ../deployment/keystone/keystone-container-puppet.yaml OS::TripleO::Services::Memcached: ../deployment/memcached/memcached-container-puppet.yaml, OS::TripleO::Services::Keystone: deployment/keystone/keystone-container-puppet.yaml OS::TripleO::Services::Memcached: deployment/memcached/memcached-container-puppet.yaml,2,2
openstack%2Fkolla-ansible~master~If07bfcb824b3f8c0fbeee964eb3048570058553a,openstack/kolla-ansible,master,If07bfcb824b3f8c0fbeee964eb3048570058553a,Add a variable to set availability zone name.,ABANDONED,2022-05-25 21:48:53.000000000,2022-05-27 12:35:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 21:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a0aee1db10a592411583f8548c80c706d47f734', 'message': 'Add a variable to set availability zone name.\n\nIt may be useful to set up the proper availability zone name for DHCP\nagents especially for RPN deployments\n\nImplements: bp/dhcp-rpn-az-name-custom\nChange-Id: If07bfcb824b3f8c0fbeee964eb3048570058553a\n'}, {'number': 2, 'created': '2022-05-25 21:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6ec0c7a264880aef570a3e989c27f2b6cb46ec7', 'message': 'Add a variable to set availability zone name.\n\nIt may be useful to set up the proper availability zone name for DHCP\nagents especially for RPN deployments\n\nImplements: dhcp-rpn-az-name-custom\nChange-Id: If07bfcb824b3f8c0fbeee964eb3048570058553a\n'}, {'number': 3, 'created': '2022-05-25 21:56:25.000000000', 'files': ['ansible/roles/neutron/templates/dhcp_agent.ini.j2', 'releasenotes/notes/add-dhcp-rpn-az-name-custom-5b33fe2450670cde.yaml', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c751f408f3b114380b3727284b01ae0c4d28c436', 'message': 'Add a variable to set availability zone name.\n\nIt may be useful to set up the proper availability zone name for DHCP\nagents especially for RPN deployments\n\nImplements: bp/dhcp-rpn-az-name-custom\nChange-Id: If07bfcb824b3f8c0fbeee964eb3048570058553a\n'}]",1,843348,c751f408f3b114380b3727284b01ae0c4d28c436,7,2,3,31357,,,0,"Add a variable to set availability zone name.

It may be useful to set up the proper availability zone name for DHCP
agents especially for RPN deployments

Implements: bp/dhcp-rpn-az-name-custom
Change-Id: If07bfcb824b3f8c0fbeee964eb3048570058553a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/843348/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/dhcp_agent.ini.j2', 'releasenotes/notes/add-dhcp-rpn-az-name-custom-5b33fe2450670cde.yaml', 'ansible/roles/neutron/defaults/main.yml']",3,7a0aee1db10a592411583f8548c80c706d47f734,bp/dhcp-rpn-az-name-custom,"neutron_dhcp_agent_availability_zone_name: ""nova"" ",,19,0
openstack%2Fneutron~master~Ib2880b8fa61ae7691c527b837045cfa15226072c,openstack/neutron,master,Ib2880b8fa61ae7691c527b837045cfa15226072c,Bump neutron-lib to 2.21.0,MERGED,2022-05-10 10:02:30.000000000,2022-05-27 12:14:48.000000000,2022-05-27 12:12:08.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-10 10:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f05742e03d5a4123533f8def0bd19f045a4e34ae', 'message': 'Bump neutron-lib to 2.21.0\n\nThis new neutron-lib version contains the patch [1], that provides\ncompatibility with SQLAlchemy 2.0.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nRelated-Bug: #1962153\nTopic: sqlalchemy-20\nChange-Id: Ib2880b8fa61ae7691c527b837045cfa15226072c\n'}, {'number': 2, 'created': '2022-05-11 07:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec5f80538acb774a433d35731315628a92a860ea', 'message': 'Bump neutron-lib to 2.21.0\n\nThis new neutron-lib version contains the patch [1], that provides\ncompatibility with SQLAlchemy 2.0.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nRelated-Bug: #1962153\nTopic: sqlalchemy-20\nChange-Id: Ib2880b8fa61ae7691c527b837045cfa15226072c\n'}, {'number': 3, 'created': '2022-05-17 10:14:06.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/88fb5416f7169bd3542bca6af0192f935c8cc18e', 'message': 'Bump neutron-lib to 2.21.0\n\nThis new neutron-lib version contains the patch [1], that provides\ncompatibility with SQLAlchemy 2.0.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nRelated-Bug: #1962153\nTopic: sqlalchemy-20\nChange-Id: Ib2880b8fa61ae7691c527b837045cfa15226072c\n'}]",6,841246,88fb5416f7169bd3542bca6af0192f935c8cc18e,26,6,3,16688,,,0,"Bump neutron-lib to 2.21.0

This new neutron-lib version contains the patch [1], that provides
compatibility with SQLAlchemy 2.0.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/828738

Related-Bug: #1962153
Topic: sqlalchemy-20
Change-Id: Ib2880b8fa61ae7691c527b837045cfa15226072c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/841246/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f05742e03d5a4123533f8def0bd19f045a4e34ae,bug/1962153,neutron-lib>=2.21.0 # Apache-2.0,neutron-lib>=2.20.0 # Apache-2.0,1,1
openstack%2Fneutron~master~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,master,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 14:59:11.000000000,2022-05-27 12:13:41.000000000,2022-05-27 12:12:03.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 14:59:11.000000000', 'files': ['neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39d751a33265e8780828b3aca10a781726d0a300', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n'}]",4,843478,39d751a33265e8780828b3aca10a781726d0a300,31,5,1,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/843478/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ovn_revision_numbers_db.py'],1,39d751a33265e8780828b3aca10a781726d0a300,bug/1975837," if context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)"," with db_api.CONTEXT_READER.using(context): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)",12,11
openstack%2Fnetworking-ovn~stable%2Ftrain~I62da6480843bd56302503d7f312d040dada6cd82,openstack/networking-ovn,stable/train,I62da6480843bd56302503d7f312d040dada6cd82,[OVN] Pin OVS/OVN versions in Octavia job,MERGED,2022-05-26 14:53:41.000000000,2022-05-27 12:13:25.000000000,2022-05-27 12:11:07.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 14:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cc9cde6bae60f9b8da65174d96f465c63dcc2d9d', 'message': '[OVN] Pin OVS/OVN versions in Octavia job\n\nOctavia job is also broken during compilation,\nPin to working OVN/OVN versions as done with\nthe rally job[1].\n\n[1] https://review.opendev.org/c/openstack/networking-ovn/+/839070\n\nRelated-Bug: #1967472\nChange-Id: I62da6480843bd56302503d7f312d040dada6cd82\n'}, {'number': 2, 'created': '2022-05-27 05:13:04.000000000', 'files': ['zuul.d/legacy-networking-ovn-jobs.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0a315ea22dee2693e5743a4bc3b94ebb20666dac', 'message': ""[OVN] Pin OVS/OVN versions in Octavia job\n\nOctavia job is also broken during compilation,\nPin to working OVN/OVN versions as done with\nthe rally job[1].\n\nThis patch also updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://review.opendev.org/c/openstack/networking-ovn/+/839070\n[2] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nRelated-Bug: #1967472\nChange-Id: I62da6480843bd56302503d7f312d040dada6cd82\n""}]",4,843477,0a315ea22dee2693e5743a4bc3b94ebb20666dac,12,5,2,13861,,,0,"[OVN] Pin OVS/OVN versions in Octavia job

Octavia job is also broken during compilation,
Pin to working OVN/OVN versions as done with
the rally job[1].

This patch also updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://review.opendev.org/c/openstack/networking-ovn/+/839070
[2] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Related-Bug: #1967472
Change-Id: I62da6480843bd56302503d7f312d040dada6cd82
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/77/843477/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,cc9cde6bae60f9b8da65174d96f465c63dcc2d9d,bug/1967472," OVN_BRANCH: v21.06.0 OVS_BRANCH: ""a4b04276ab5934d087669ff2d191a23931335c87"""," OVN_BRANCH: main OVS_BRANCH: ""91e1ff5dde396fbcc8623ac0726066e970e6de15""",2,2
openstack%2Fansible-collections-openstack~master~I7a2867329f65af6330abccb1954bf49b92cd8721,openstack/ansible-collections-openstack,master,I7a2867329f65af6330abccb1954bf49b92cd8721,Warn users about us breaking backward compatibility,MERGED,2022-05-26 08:45:42.000000000,2022-05-27 12:10:31.000000000,2022-05-27 12:10:31.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-26 08:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0f474ceee5b5d1ad328d5217326c6674574c0a09', 'message': 'Warn users about us breaking backward compatibility\n\nChange-Id: I7a2867329f65af6330abccb1954bf49b92cd8721\n'}, {'number': 2, 'created': '2022-05-27 06:07:08.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dee39a71b685b847049d551bd29309f84cd4b13b', 'message': 'Warn users about us breaking backward compatibility\n\nChange-Id: I7a2867329f65af6330abccb1954bf49b92cd8721\n'}]",6,843419,dee39a71b685b847049d551bd29309f84cd4b13b,11,6,2,32962,,,0,"Warn users about us breaking backward compatibility

Change-Id: I7a2867329f65af6330abccb1954bf49b92cd8721
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/19/843419/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0f474ceee5b5d1ad328d5217326c6674574c0a09,breaking-changes-warning,"## Breaking backward compatibility :warning: Dear contributors and users of the Ansible OpenStack collection! Our codebase has been split into two separate release series: * `2.x.x` releases of Ansible OpenStack collection are compatible to OpenStack SDK `1.x.x` and its release candidates `0.99.x` *only* (OpenStack Zed and later). Our `master` branch tracks our `2.x.x` releases. * `1.x.x` releases of Ansible OpenStack collection are compatible to OpenStack SDK `0.x.x` prior to `0.99.0` *only* (OpenStack Yoga and earlier). Our `stable/1.0.0` branch tracks our `1.x.x` releases. Both branches will be developed in parallel for the time being. Patches from `master` will be backported to `stable/1.0.0` on a best effort basis but expect new features to be introduced in our `master` branch only. Contributions are welcome for both branches! Differences between both branches are mainly renamed and sometimes dropped module return values. We try to keep our module parameters backward compatible by offering aliases but e.g. the semantics of `filters` parameters in `*_info` modules have changed due to updates in the OpenStack SDK. Our decision to break backward compatibility was not taken lightly. OpenStack SDK's first major release (`1.0.0` and its release candidates `0.99.x`) has streamlined and improved large parts of its codebase. For example, its Connection interface now consistently uses the Resource interfaces under the hood. This required breaking changes from older SDK releases though. The Ansible OpenStack collection is heavily based on OpenStack SDK. With OpenStack SDK becoming backward incompatible, so does our Ansible OpenStack collection. We simply lack the devpower to maintain a backward compatible interface in Ansible OpenStack collection across several SDK releases. Our first `2.0.0` release is currently under development and we still have a long way to go. If you use modules of the Ansible OpenStack collection and want to join us in porting them to the upcoming OpenStack SDK, please contact us! Ping Jakob Meng <mail@jakobmeng.de> (jm1) or Rafael Castillo <rcastill@redhat.com> (rcastillo) and we will give you a quick introduction. We are also hanging around on `irc.oftc.net/#openstack-ansible-sig` and `irc.oftc.net/#oooq`  We have extensive documentation on [why, what and how we are adopting and reviewing the new modules]( https://hackmd.io/szgyWa5qSUOWw3JJBXLmOQ?view), [how to set up a working DevStack environment for hacking on the collection](https://hackmd.io/PI10x-iCTBuO09duvpeWgQ?view) and, most importantly, [a list of modules where we are coordinating our porting efforts](https://hackmd.io/7NtovjRkRn-tKraBXfz9jw?view).",":warning: **WARNING:** This collection is currently being ported to the upcoming OpenStack SDK 1.\* release. SDK version 1.\* introduces numerous API changes which break backward compatibility with previous 0.\* releases. Since keeping a single collection release compatible with both SDK series is not sustainable, our collection codebase has been split: Branch stable/1.0.0 and 1.\*.\* releases of the collection are compatible with previous OpenStack SDK 0.\* releases only. The master branch and upcoming 2.\*.\* releases of this collection will be compatible with SDK 1.\* only. Both branches will continue to be maintained for now. Patches from master will be backported to stable/1.0.0 on a best effort basis but expect new features to be introduced in the master branch only. Contributions are welcome for both branches! :warning:",33,10
openstack%2Fceilometermiddleware~master~Ic9bfcbf4c8c704f5fb37f9407888014813b37503,openstack/ceilometermiddleware,master,Ic9bfcbf4c8c704f5fb37f9407888014813b37503,Fix formatting of release list,NEW,2022-05-27 11:56:17.000000000,2022-05-27 12:01:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 11:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/0f6be203877228c14f5bfc9b307fcdecc81fce7b', 'message': 'Fix formattiing of release list\n\nChange-Id: Ic9bfcbf4c8c704f5fb37f9407888014813b37503\n'}, {'number': 2, 'created': '2022-05-27 11:56:46.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/0734b858213b85d839571fb5e709ddb81fb53440', 'message': 'Fix formatting of release list\n\nChange-Id: Ic9bfcbf4c8c704f5fb37f9407888014813b37503\n'}]",0,843607,0734b858213b85d839571fb5e709ddb81fb53440,3,1,2,28522,,,0,"Fix formatting of release list

Change-Id: Ic9bfcbf4c8c704f5fb37f9407888014813b37503
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/07/843607/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,0f6be203877228c14f5bfc9b307fcdecc81fce7b,fix-rel-formatting,.. toctree:: :maxdepth: 1 unreleased yoga xena wallaby victoria ussuri train stein queens pike ocata newton mitaka, .. toctree:: :maxdepth: 1 unreleased yoga xena wallaby victoria ussuri train stein queens pike ocata newton mitaka,15,15
openstack%2Fskyline-console~master~I553a20e9fa620f2cda3509b52d801894d230040c,openstack/skyline-console,master,I553a20e9fa620f2cda3509b52d801894d230040c,fix: Add unit to memory quota,MERGED,2022-05-27 08:24:41.000000000,2022-05-27 11:57:24.000000000,2022-05-27 11:57:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-27 08:24:41.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/resources/cinder/cinder-pool.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/eec23aebf01d902300ee8aa6a182cfb2db4aab1e', 'message': 'fix: Add unit to memory quota\n\n1. Add GiB unit to memory quota\n2. Fix database && container volume size unit to GiB\n\nChange-Id: I553a20e9fa620f2cda3509b52d801894d230040c\n'}]",0,843580,eec23aebf01d902300ee8aa6a182cfb2db4aab1e,7,3,1,30434,,,0,"fix: Add unit to memory quota

1. Add GiB unit to memory quota
2. Fix database && container volume size unit to GiB

Change-Id: I553a20e9fa620f2cda3509b52d801894d230040c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/80/843580/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/resources/cinder/cinder-pool.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx']",6,eec23aebf01d902300ee8aa6a182cfb2db4aab1e,master4," 'Please enter a memory page size, such as: 1024, 1024MiB'"," 'Please enter a memory page size, such as: 1024, 1024MB'",78,83
openstack%2Fopenstack-ansible-os_octavia~master~I8162e83d39075cd99c516b84c39ed868306283c3,openstack/openstack-ansible-os_octavia,master,I8162e83d39075cd99c516b84c39ed868306283c3,Add flexability for octavia cinder variable.,MERGED,2022-04-26 13:00:20.000000000,2022-05-27 11:49:58.000000000,2022-05-27 11:48:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-26 13:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a5a0873525e347be4b14017d10abdb7cb2f31123', 'message': 'Add flexability for octavia cinder variable.\n\nIntroduces 3 new variables cinder_default_availability_zone, octavia_cinder_volume_size and octavia_cinder_volume_type. using these variables, enables Octavia to use different Cinder configurations.\n\nChange-Id: I8162e83d39075cd99c516b84c39ed868306283c3\n'}, {'number': 2, 'created': '2022-05-07 07:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7baf58150681c854deee807fcb314ad622389aa0', 'message': 'Add flexability for octavia cinder variable.\n\nIntroduces 3 new variables cinder_default_availability_zone, octavia_cinder_volume_size and octavia_cinder_volume_type. using these variables, enables Octavia to use different Cinder configurations.\n\nChange-Id: I8162e83d39075cd99c516b84c39ed868306283c3\n'}, {'number': 3, 'created': '2022-05-21 07:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5d5e532b821036c4604ad4b84a3a47191554127e', 'message': 'Add flexability for octavia cinder variable.\n\nIntroduces 3 new variables cinder_default_availability_zone, octavia_cinder_volume_size and octavia_cinder_volume_type. using these variables, enables Octavia to use different Cinder configurations.\n\nChange-Id: I8162e83d39075cd99c516b84c39ed868306283c3\n'}, {'number': 4, 'created': '2022-05-23 08:22:07.000000000', 'files': ['templates/octavia.conf.j2', 'releasenotes/notes/add_flexibility_for_octavia_cinder_variables-107cb1da89834bf3.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/3e10d40b101403f4616e955c227f4c8f4c616255', 'message': 'Add flexability for octavia cinder variable.\n\nIntroduces 3 new variables cinder_default_availability_zone, octavia_cinder_volume_size and octavia_cinder_volume_type. using these variables, enables Octavia to use different Cinder configurations.\n\nChange-Id: I8162e83d39075cd99c516b84c39ed868306283c3\n'}]",4,839373,3e10d40b101403f4616e955c227f4c8f4c616255,20,3,4,29605,,,0,"Add flexability for octavia cinder variable.

Introduces 3 new variables cinder_default_availability_zone, octavia_cinder_volume_size and octavia_cinder_volume_type. using these variables, enables Octavia to use different Cinder configurations.

Change-Id: I8162e83d39075cd99c516b84c39ed868306283c3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/73/839373/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia.conf.j2', 'releasenotes/notes/add_flexibility_for_octavia_cinder_variables-107cb1da89834bf3.yaml', 'defaults/main.yml']",3,a5a0873525e347be4b14017d10abdb7cb2f31123,,"cinder_default_availability_zone: nova octavia_cinder_volume_size: 20 octavia_cinder_volume_type: ""RBD_SSD""",,11,3
openstack%2Fsecurity-doc~master~I8cbce18eb1fa03471d15fa90bf7fac171903c41e,openstack/security-doc,master,I8cbce18eb1fa03471d15fa90bf7fac171903c41e,Obsolete removed manila config,MERGED,2022-05-18 08:10:04.000000000,2022-05-27 11:49:19.000000000,2022-05-27 11:47:53.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 08:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f2c99a2226db9964915acf3607881b9085a36644', 'message': ""Obsolete removed manila config\n\nnova_api_insecure, cinder_api_insecure were deprecated in Train[1] and\nremoved in Ussuri[2]\n\nThere is no mention of neutron_api_insecure, but a grep of the source\ndoes not reflect anything so I assume this has been removed too, or is a\ntypo, as there is a 'api_insecure' under [neutron] that has also been\nremoved.\n\n[1] https://review.opendev.org/c/openstack/manila/+/626506\n[2] https://review.opendev.org/c/openstack/manila/+/745206\n\nChange-Id: I8cbce18eb1fa03471d15fa90bf7fac171903c41e\n""}, {'number': 2, 'created': '2022-05-27 07:44:44.000000000', 'files': ['security-guide/source/shared-file-systems/checklist.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d6de852447bd7646306fdaf479ff4f6cb629da38', 'message': ""Obsolete removed manila config\n\nnova_api_insecure, cinder_api_insecure were deprecated in Train[1] and\nremoved in Ussuri[2]\n\nThere is no mention of neutron_api_insecure, but a grep of the source\ndoes not reflect anything so I assume this has been removed too, or is a\ntypo, as there is a 'api_insecure' under [neutron] that has also been\nremoved.\n\n[1] https://review.opendev.org/c/openstack/manila/+/626506\n[2] https://review.opendev.org/c/openstack/manila/+/745206\n\nChange-Id: I8cbce18eb1fa03471d15fa90bf7fac171903c41e\n""}]",0,842284,d6de852447bd7646306fdaf479ff4f6cb629da38,10,3,2,8064,,,0,"Obsolete removed manila config

nova_api_insecure, cinder_api_insecure were deprecated in Train[1] and
removed in Ussuri[2]

There is no mention of neutron_api_insecure, but a grep of the source
does not reflect anything so I assume this has been removed too, or is a
typo, as there is a 'api_insecure' under [neutron] that has also been
removed.

[1] https://review.opendev.org/c/openstack/manila/+/626506
[2] https://review.opendev.org/c/openstack/manila/+/745206

Change-Id: I8cbce18eb1fa03471d15fa90bf7fac171903c41e
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/84/842284/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/shared-file-systems/checklist.rst'],1,f2c99a2226db9964915acf3607881b9085a36644,,.. note:: This item only applies to OpenStack releases Train and before as ``auth_strategy`` was deprecated in Ussuri. .. note:: This item only applies to OpenStack releases Train and before as ``auth_strategy`` was deprecated in Ussuri. .. note:: This item only applies to OpenStack releases Train and before as ``auth_strategy`` was deprecated in Ussuri. ,,9,0
openstack%2Fsecurity-doc~master~Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e,openstack/security-doc,master,Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e,Replacing Keystone config with www_authenticate_uri,MERGED,2022-05-18 08:10:04.000000000,2022-05-27 11:44:07.000000000,2022-05-27 11:43:04.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 08:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/9cf65c44b564cbd18ea2fa019be41269ed810459', 'message': 'Replacing Keystone config with www_authenticate_uri\n\nidentity_uri and auth_protocol is deprecated[1]. Update docs with new\nwww_authenticate_uri config option following other services (nova).\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/127066\n\nChange-Id: Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e\n'}, {'number': 2, 'created': '2022-05-27 07:44:44.000000000', 'files': ['security-guide/source/shared-file-systems/checklist.rst', 'security-guide/source/secrets-management/checklist.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f6fd4bf8fb22503ebe4e4eae46e842a08a5e1db9', 'message': 'Replacing Keystone config with www_authenticate_uri\n\nidentity_uri and auth_protocol is deprecated[1]. Update docs with new\nwww_authenticate_uri config option following other services (nova).\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/127066\n\nChange-Id: Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e\n'}]",3,842283,f6fd4bf8fb22503ebe4e4eae46e842a08a5e1db9,11,3,2,8064,,,0,"Replacing Keystone config with www_authenticate_uri

identity_uri and auth_protocol is deprecated[1]. Update docs with new
www_authenticate_uri config option following other services (nova).

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/127066

Change-Id: Id86ed5e77f7c088cf408aea53c6d3fcdfd0a192e
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/83/842283/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/shared-file-systems/checklist.rst', 'security-guide/source/secrets-management/checklist.rst']",2,9cf65c44b564cbd18ea2fa019be41269ed810459,,OpenStack components communicate with each other using various protocols and the communication might involve sensitive or confidential data. An attacker may try to eavesdrop on the channel in order to get access to sensitive information. All the components must communicate with each other using a secured communication protocol. **Pass:** If value of parameter ``www_authenticate_uri`` under ``[keystone_authtoken]`` section in ``/etc/barbican/barbican.conf`` is set to``/etc/barbican/barbican.conf`` is set to ``False``. **Fail:** If value of parameter ``www_authenticate_uri`` under ``[keystone_authtoken]`` section in ``/etc/barbican/barbican.conf`` is not set to Identity API endpoint starting with ``https://`` or value of parameter``/etc/barbican/barbican.conf`` is set to ``True``.,"OpenStack components communicate with each other using various protocols and communication might involve sensitive or confidential data. An attacker may try to eavesdrop on the channel in order to get access to sensitive information. Therefore all components must communicate with each other using a secured communication protocol. **Pass:** If value of parameter ``auth_protocol`` under ``[keystone_authtoken]`` section in ``barbican.conf`` is set to ``https``, or if value of parameter ``identity_uri`` under ``[keystone_authtoken]`` section in ``barbican.conf`` is set to``barbican.conf`` is set to ``False``. **Fail:** If value of parameter ``auth_protocol`` under ``[keystone_authtoken]`` section in ``barbican.conf`` is set to ``http``, or if value of parameter ``identity_uri`` under ``[keystone_authtoken]`` section in ``barbican.conf`` is not set to Identity API endpoint starting with ``https://`` or value of parameter``barbican.conf`` is set to ``True``.",20,28
openstack%2Fneutron~stable%2Fwallaby~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,stable/wallaby,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-26 12:38:49.000000000,2022-05-27 11:24:37.000000000,2022-05-27 11:20:42.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 12:38:49.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3995b269219b9df5c9825777d8baf50af14f31b9', 'message': ""Switch to cirros uec image in multinode jobs\n\nKernel panic is seen in these jobs as well,\nlet's switch to cirros uec image to avoid it.\n\nsinglenode jobs already switched with\nhttps://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.\n\nChange-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6\n(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)\n(cherry picked from commit 90a440b081401f036c417067903fc33dbeee618d)\nConflicts: zuul.d/tempest-multinode.yaml\n(cherry picked from commit b371264f9f13ba7ba8a8f79cba37a07742ff1138)\nConflicts:\n\tzuul.d/tempest-multinode.yaml\n""}]",1,843456,3995b269219b9df5c9825777d8baf50af14f31b9,10,4,1,13861,,,0,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)
(cherry picked from commit 90a440b081401f036c417067903fc33dbeee618d)
Conflicts: zuul.d/tempest-multinode.yaml
(cherry picked from commit b371264f9f13ba7ba8a8f79cba37a07742ff1138)
Conflicts:
	zuul.d/tempest-multinode.yaml
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/843456/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,3995b269219b9df5c9825777d8baf50af14f31b9,neutron-ci-improvements, devstack_localrc: CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz devstack_localrc: CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz devstack_localrc: CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz,,15,0
openstack%2Fneutron~master~Ifa04bb59f4b9acd308299cfa44f2316394d14505,openstack/neutron,master,Ifa04bb59f4b9acd308299cfa44f2316394d14505,[OVN][FT] Wait until virtual parents are written,MERGED,2022-05-10 14:51:08.000000000,2022-05-27 11:24:30.000000000,2022-05-27 11:20:47.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-10 14:51:08.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/494c477b21ebbaa441b55d63755af72cc24244af', 'message': '[OVN][FT] Wait until virtual parents are written\n\nIn ""test_virtual_port_host_update"", wait until VIP virtual parents\nhave been updated in the SB ""Port_Binding"" register. Then, the\ntest should check if ""update_virtual_port_host"" has been called or\nnot.\n\nCloses-Bug: #1971672\nChange-Id: Ifa04bb59f4b9acd308299cfa44f2316394d14505\n'}]",5,841298,494c477b21ebbaa441b55d63755af72cc24244af,14,7,1,16688,,,0,"[OVN][FT] Wait until virtual parents are written

In ""test_virtual_port_host_update"", wait until VIP virtual parents
have been updated in the SB ""Port_Binding"" register. Then, the
test should check if ""update_virtual_port_host"" has been called or
not.

Closes-Bug: #1971672
Change-Id: Ifa04bb59f4b9acd308299cfa44f2316394d14505
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/841298/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,494c477b21ebbaa441b55d63755af72cc24244af,bug/1971672," self._check_port_virtual_parents(vip['id'], port['id']) self._check_port_virtual_parents(vip['id'], None)",,2,0
openstack%2Fneutron~stable%2Fxena~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,stable/xena,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-26 12:31:20.000000000,2022-05-27 11:24:20.000000000,2022-05-27 11:20:38.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 12:31:20.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b371264f9f13ba7ba8a8f79cba37a07742ff1138', 'message': ""Switch to cirros uec image in multinode jobs\n\nKernel panic is seen in these jobs as well,\nlet's switch to cirros uec image to avoid it.\n\nsinglenode jobs already switched with\nhttps://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.\n\nChange-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6\n(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)\n(cherry picked from commit 90a440b081401f036c417067903fc33dbeee618d)\nConflicts: zuul.d/tempest-multinode.yaml\n""}]",0,843453,b371264f9f13ba7ba8a8f79cba37a07742ff1138,10,4,1,13861,,,0,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)
(cherry picked from commit 90a440b081401f036c417067903fc33dbeee618d)
Conflicts: zuul.d/tempest-multinode.yaml
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/843453/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,b371264f9f13ba7ba8a8f79cba37a07742ff1138,neutron-ci-improvements, CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz,,9,0
openstack%2Fneutron~stable%2Fyoga~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,stable/yoga,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-26 12:18:36.000000000,2022-05-27 11:24:11.000000000,2022-05-27 11:20:34.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 12:18:36.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90a440b081401f036c417067903fc33dbeee618d', 'message': ""Switch to cirros uec image in multinode jobs\n\nKernel panic is seen in these jobs as well,\nlet's switch to cirros uec image to avoid it.\n\nsinglenode jobs already switched with\nhttps://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.\n\nChange-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6\n(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)\n""}]",0,843396,90a440b081401f036c417067903fc33dbeee618d,9,4,1,13861,,,0,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
(cherry picked from commit e04bd8fbdfa56320d16870b1f294b2cb62b8a828)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/843396/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,90a440b081401f036c417067903fc33dbeee618d,neutron-ci-improvements-stable/yoga, CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz,,12,0
openstack%2Fneutron~master~Ib19dacf886486876237ed1157fb95ae157ed430e,openstack/neutron,master,Ib19dacf886486876237ed1157fb95ae157ed430e,"Remove session active check in ""_add_segment_host_mapping_for_segment""",MERGED,2022-05-25 15:15:13.000000000,2022-05-27 11:23:09.000000000,2022-05-27 11:20:25.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 15:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0100dead2116ef1e124a73645e944e8f9b87e127', 'message': 'Remove session active check in ""_add_segment_host_mapping_for_segment""\n\nMethod ``_add_segment_host_mapping_for_segment`` is called by the event\n(resources.SEGMENT, events.PRECOMMIT_CREATE), from\n``SegmentDbMixin._create_segment_db``, and is called inside a database\nwriter context. That means it is irrelevant to check if the session is\nactive (must be always).\n\nCloses-Bug: #1975542\nChange-Id: Ib19dacf886486876237ed1157fb95ae157ed430e\n'}, {'number': 2, 'created': '2022-05-26 07:12:32.000000000', 'files': ['neutron/services/segments/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5', 'message': 'Remove session active check in ""_add_segment_host_mapping_for_segment""\n\nMethod ``_add_segment_host_mapping_for_segment`` is called by the event\n(resources.SEGMENT, events.PRECOMMIT_CREATE), from\n``SegmentDbMixin._create_segment_db``, and is called inside a database\nwriter context. That means it is irrelevant to check if the session is\nactive (must be always).\n\nCloses-Bug: #1975542\nChange-Id: Ib19dacf886486876237ed1157fb95ae157ed430e\n'}]",3,843294,d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5,24,4,2,16688,,,0,"Remove session active check in ""_add_segment_host_mapping_for_segment""

Method ``_add_segment_host_mapping_for_segment`` is called by the event
(resources.SEGMENT, events.PRECOMMIT_CREATE), from
``SegmentDbMixin._create_segment_db``, and is called inside a database
writer context. That means it is irrelevant to check if the session is
active (must be always).

Closes-Bug: #1975542
Change-Id: Ib19dacf886486876237ed1157fb95ae157ed430e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/843294/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/db.py'],1,0100dead2116ef1e124a73645e944e8f9b87e127,bug/1975542,," if not utils.is_session_active(context.session): # The session might be in partial rollback state, due to errors in # peer callback. In that case, there is no need to add the mapping. # Just return here. return ",0,6
openstack%2Fneutron~master~I1a739ee045b49e9b44283c28f95b1accc8a1e37f,openstack/neutron,master,I1a739ee045b49e9b44283c28f95b1accc8a1e37f,"Revert ""doc: Remove fwaas references from docs""",MERGED,2022-05-16 08:52:41.000000000,2022-05-27 11:20:30.000000000,2022-05-27 11:20:30.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30380}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-05-16 08:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e35004c9a4b013142ee0cac16fcb130f8de751b2', 'message': 'Revert ""doc: Remove fwaas references from docs""\n\nThis reverts commit bce27811dfea634118fdb609289ac70c8d4a6854.\n\nReason for revert: neutron-fwaas has maintainers so the documentation should be available.\n\nChange-Id: I1a739ee045b49e9b44283c28f95b1accc8a1e37f\n'}, {'number': 2, 'created': '2022-05-17 10:10:08.000000000', 'files': ['doc/source/admin/fwaas.rst', 'doc/source/install/overview.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/fwaas-v2-scenario.rst', 'doc/source/contributor/internals/service_extensions.rst', 'doc/source/admin/misc.rst', 'doc/source/admin/archives/introduction.rst', 'doc/source/admin/config-services-agent.rst', 'doc/source/contributor/internals/services_and_agents.rst', 'doc/source/contributor/policies/blueprints.rst', 'doc/source/admin/config-ipv6.rst', 'doc/source/contributor/internals/policy.rst', 'doc/source/admin/intro-os-networking.rst', 'doc/source/admin/config-ovs-dpdk.rst', 'doc/source/contributor/policies/bugs.rst', 'doc/source/contributor/testing/template_model_sync_test.rst', 'doc/source/install/concepts.rst', 'doc/source/admin/intro.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c4f273ed9c0aa9c6363e7e34e08a07c41e2a2cb', 'message': 'Revert ""doc: Remove fwaas references from docs""\n\nThis reverts commit bce27811dfea634118fdb609289ac70c8d4a6854.\n\nReason for revert: neutron-fwaas has maintainers so the documentation should be available.\n\nDue to changes since the original deletion commit the following changes\nwere added:\n* Add note that OVN is not yet supported\n* Remove note that Horizon support is not available\n\nChange-Id: I1a739ee045b49e9b44283c28f95b1accc8a1e37f\n'}]",7,841748,7c4f273ed9c0aa9c6363e7e34e08a07c41e2a2cb,15,8,2,8313,,,0,"Revert ""doc: Remove fwaas references from docs""

This reverts commit bce27811dfea634118fdb609289ac70c8d4a6854.

Reason for revert: neutron-fwaas has maintainers so the documentation should be available.

Due to changes since the original deletion commit the following changes
were added:
* Add note that OVN is not yet supported
* Remove note that Horizon support is not available

Change-Id: I1a739ee045b49e9b44283c28f95b1accc8a1e37f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/841748/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/fwaas.rst', 'doc/source/install/overview.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/fwaas-v2-scenario.rst', 'doc/source/contributor/internals/service_extensions.rst', 'doc/source/admin/misc.rst', 'doc/source/admin/archives/introduction.rst', 'doc/source/admin/config-services-agent.rst', 'doc/source/contributor/internals/services_and_agents.rst', 'doc/source/contributor/policies/blueprints.rst', 'doc/source/admin/config-ipv6.rst', 'doc/source/contributor/internals/policy.rst', 'doc/source/admin/intro-os-networking.rst', 'doc/source/admin/config-ovs-dpdk.rst', 'doc/source/contributor/policies/bugs.rst', 'doc/source/contributor/testing/template_model_sync_test.rst', 'doc/source/install/concepts.rst', 'doc/source/admin/intro.rst']",18,e35004c9a4b013142ee0cac16fcb130f8de751b2,retire-neutron-fwaas, fwaas,,235,17
openstack%2Fdesignate-dashboard~stable%2Fyoga~I867f776b056a90a85f57ff2c84f5f0d8a230b242,openstack/designate-dashboard,stable/yoga,I867f776b056a90a85f57ff2c84f5f0d8a230b242,"Fixes for Zones panel, reload behaviour and record field validation",ABANDONED,2022-05-26 14:20:35.000000000,2022-05-27 11:18:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 14:20:35.000000000', 'files': ['designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/delete.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-zone/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/update.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/common-forms.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/create.service.js'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/e1c9243c006119f0904f2e37e675385dc804a3ef', 'message': 'Fixes for Zones panel, reload behaviour and record field validation\n\n(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)\n(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)\n(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)\n\nPrevious picks:\n(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)\n(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)\n(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)\nChange-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242\n'}]",0,843471,e1c9243c006119f0904f2e37e675385dc804a3ef,3,1,1,7549,,,0,"Fixes for Zones panel, reload behaviour and record field validation

(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)
(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)
(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)

Previous picks:
(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)
(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)
(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)
Change-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/71/843471/1 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/delete.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-zone/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/update.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/common-forms.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/create.service.js']",7,e1c9243c006119f0904f2e37e675385dc804a3ef,sync_with_xena," var dnsServiceEnabled; policy.ifAllowed({rules: [['dns', 'create_recordset']], target: {'zone_type': item.type}}),"," var createRecordSetPolicy, dnsServiceEnabled; createRecordSetPolicy = policy.ifAllowed({rules: [['dns', 'create_recordset']]}); createRecordSetPolicy,",17,11
openstack%2Fdesignate-dashboard~stable%2Fyoga~Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953,openstack/designate-dashboard,stable/yoga,Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953,"Fixes for Zones panel, reloadng and 'record' validation",ABANDONED,2022-05-26 14:22:18.000000000,2022-05-27 11:17:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/da1b683a38e75273272b8c7fb7b658735409e577', 'message': ""Fixes for Zones panel, reloadng and 'record' validation\n\nChange-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242\n\n(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)\n(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)\n(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)\n\nPrevious picks:\n(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)\n(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)\n(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)\nChange-Id: Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953\n""}, {'number': 2, 'created': '2022-05-27 11:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/48a1009d3daaee3152c92fa293596119a760bd38', 'message': ""Fixes for Zones panel, reloadng and 'record' validation\n\nChange-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242\n\n(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)\n(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)\n(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)\n\nPrevious picks:\n(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)\n(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)\n(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)\nChange-Id: Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953\n""}, {'number': 3, 'created': '2022-05-27 11:11:26.000000000', 'files': ['designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/delete.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-zone/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/update.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/common-forms.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/create.service.js'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/5c41ba901ec40a83c3f63caad50fab6b7690f140', 'message': ""Fixes for Zones panel, reloadng and 'record' validation\n\nChange-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242\nRelated-prod: PRODX-22864\n\n(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)\n(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)\n(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)\n\nPrevious picks:\n(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)\n(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)\n(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)\nChange-Id: Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953\n""}]",0,843472,5c41ba901ec40a83c3f63caad50fab6b7690f140,5,1,3,7549,,,0,"Fixes for Zones panel, reloadng and 'record' validation

Change-Id: I867f776b056a90a85f57ff2c84f5f0d8a230b242
Related-prod: PRODX-22864

(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)
(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)
(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)

Previous picks:
(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)
(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)
(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)
Change-Id: Id9f7d8153bf5d2dbf9f0fb6b43a39b7d82adf953
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/72/843472/3 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/delete.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-zone/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/update.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/common-forms.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/create.service.js']",7,da1b683a38e75273272b8c7fb7b658735409e577,PRODX-22864," var dnsServiceEnabled; policy.ifAllowed({rules: [['dns', 'create_recordset']], target: {'zone_type': item.type}}),"," var createRecordSetPolicy, dnsServiceEnabled; createRecordSetPolicy = policy.ifAllowed({rules: [['dns', 'create_recordset']]}); createRecordSetPolicy,",17,11
openstack%2Fskyline-apiserver~master~Id839175530a6de441b3a3c90e94650c3ca851c6f,openstack/skyline-apiserver,master,Id839175530a6de441b3a3c90e94650c3ca851c6f,refactor: Remove invalid config,MERGED,2022-05-27 08:50:58.000000000,2022-05-27 10:20:13.000000000,2022-05-27 10:20:13.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-27 08:50:58.000000000', 'files': ['skyline_apiserver/config/__init__.py', 'skyline_apiserver/config/developer.py', 'etc/skyline.yaml.sample'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/72e7cf3cf553f033d3968489abaab9d9afc6a456', 'message': 'refactor: Remove invalid config\n\nRemove invalid config show_raw_sql.\n\nChange-Id: Id839175530a6de441b3a3c90e94650c3ca851c6f\n'}]",0,843584,72e7cf3cf553f033d3968489abaab9d9afc6a456,6,2,1,28706,,,0,"refactor: Remove invalid config

Remove invalid config show_raw_sql.

Change-Id: Id839175530a6de441b3a3c90e94650c3ca851c6f
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/84/843584/1 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/config/__init__.py', 'skyline_apiserver/config/developer.py', 'etc/skyline.yaml.sample']",3,72e7cf3cf553f033d3968489abaab9d9afc6a456,,,developer: show_raw_sql: false,1,35
openstack%2Fopenstack-ansible~master~Idd892a1b373319808fc03c55187f986468b622aa,openstack/openstack-ansible,master,Idd892a1b373319808fc03c55187f986468b622aa,Bump ansible version to 2.12.6,MERGED,2022-05-26 08:56:50.000000000,2022-05-27 10:13:08.000000000,2022-05-27 10:11:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-26 08:56:50.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a8c5da7d51d89a45f3f50e0d06444108b53d167d', 'message': 'Bump ansible version to 2.12.6\n\nChange-Id: Idd892a1b373319808fc03c55187f986468b622aa\n'}]",1,843420,a8c5da7d51d89a45f3f50e0d06444108b53d167d,10,3,1,25023,,,0,"Bump ansible version to 2.12.6

Change-Id: Idd892a1b373319808fc03c55187f986468b622aa
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/843420/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,a8c5da7d51d89a45f3f50e0d06444108b53d167d,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.12.6""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.12.5""}",1,1
openstack%2Fneutron~master~I9aec0ba1f5c723e6f5a9146e9af41707e8014db2,openstack/neutron,master,I9aec0ba1f5c723e6f5a9146e9af41707e8014db2,[UT][ovn] Access config options after they are registered,MERGED,2022-05-26 13:23:06.000000000,2022-05-27 10:10:05.000000000,2022-05-27 10:07:22.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 13:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff1911fbaa9e016afec4e7dc18e595ed14491f61', 'message': '[UT][ovn] Access config options after they are registered\n\nIt is a follow up of [1]. There were still some tests\nwhich were accessing config optons before they were registered\nand failing when tested manually just those tests, this\npatch fixes it.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/842068\n\nRelated-Bug: #1968606\nChange-Id: I9aec0ba1f5c723e6f5a9146e9af41707e8014db2\n'}, {'number': 2, 'created': '2022-05-26 14:28:03.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/384ff4485ff0111c801e442168c518b2b5211c91', 'message': '[UT][ovn] Access config options after they are registered\n\nIt is a follow up of [1]. There were still some tests\nwhich were accessing config optons before they were registered\nand failing when tested manually just those tests, this\npatch fixes it.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/842068\n\nRelated-Bug: #1968606\nChange-Id: I9aec0ba1f5c723e6f5a9146e9af41707e8014db2\n'}]",5,843461,384ff4485ff0111c801e442168c518b2b5211c91,17,6,2,13861,,,0,"[UT][ovn] Access config options after they are registered

It is a follow up of [1]. There were still some tests
which were accessing config optons before they were registered
and failing when tested manually just those tests, this
patch fixes it.

[1] https://review.opendev.org/c/openstack/neutron/+/842068

Related-Bug: #1968606
Change-Id: I9aec0ba1f5c723e6f5a9146e9af41707e8014db2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/843461/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,ff1911fbaa9e016afec4e7dc18e595ed14491f61,bug/1968606, ovn_conf.register_opts(),,3,2
openstack%2Ftempest~master~Ia63cdc682a32a2bcfd748f924368db6028b64d8c,openstack/tempest,master,Ia63cdc682a32a2bcfd748f924368db6028b64d8c,End support for stable/victoria,MERGED,2022-05-24 23:13:45.000000000,2022-05-27 10:10:04.000000000,2022-05-27 10:07:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-24 23:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/99e7d99b9f4ed329718a7f4a9c15553ca93d0b17', 'message': 'End support for stable/victoria\n\nThis marks the end of support for stable/victoria\nwhich is EM now[1]. This remove the stable/victoria\njobs and also adds relesenote to mark the end of\nsupport of Victoria.\n\n[1] https://releases.openstack.org/\n\nChange-Id: Ia63cdc682a32a2bcfd748f924368db6028b64d8c\n'}, {'number': 2, 'created': '2022-05-26 01:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08071b5a19f81bccc06580311e0db8a221432eab', 'message': 'End support for stable/victoria\n\nThis marks the end of support for stable/victoria\nwhich is EM now[1]. This remove the stable/victoria\njobs and also adds relesenote to mark the end of\nsupport of Victoria.\n\n[1] https://releases.openstack.org/\n\nChange-Id: Ia63cdc682a32a2bcfd748f924368db6028b64d8c\n'}, {'number': 3, 'created': '2022-05-26 21:52:23.000000000', 'files': ['releasenotes/notes/end-of-support-of-victoria-9c33f2b089b14cb5.yaml', 'zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/263825a17a8393ade1ff0d99a1ad035ca47eee8b', 'message': 'End support for stable/victoria\n\nThis marks the end of support for stable/victoria\nwhich is EM now[1]. This remove the stable/victoria\njobs and also adds relesenote to mark the end of\nsupport of Victoria.\n\n[1] https://releases.openstack.org/\n\nChange-Id: Ia63cdc682a32a2bcfd748f924368db6028b64d8c\n'}]",3,843221,263825a17a8393ade1ff0d99a1ad035ca47eee8b,17,2,3,8556,,,0,"End support for stable/victoria

This marks the end of support for stable/victoria
which is EM now[1]. This remove the stable/victoria
jobs and also adds relesenote to mark the end of
support of Victoria.

[1] https://releases.openstack.org/

Change-Id: Ia63cdc682a32a2bcfd748f924368db6028b64d8c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/843221/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/end-of-support-of-victoria-9c33f2b089b14cb5.yaml', 'zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",3,99e7d99b9f4ed329718a7f4a9c15553ca93d0b17,u-v-last,, - tempest-full-victoria-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-victoria-py3,12,8
openstack%2Fpuppet-tripleo~stable%2Ftrain~Iabfe069102fdb2a4c4ff275d244382878b04d5ee,openstack/puppet-tripleo,stable/train,Iabfe069102fdb2a4c4ff275d244382878b04d5ee,[train-only] Fix certmonger novnc_proxy key files data race,MERGED,2022-05-19 11:35:07.000000000,2022-05-27 10:02:52.000000000,2022-05-27 10:02:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-19 11:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/22cf4ef766f5257e5976c25561ea819ff3a2c244', 'message': ""[train-only] Fix certmonger novnc_proxy key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-05-19 11:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1636614294ea5fc043b240b3f4c00332c79cb16b', 'message': ""[train-only] Fix certmonger novnc_proxy key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2022-05-19 12:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/391dc47371375a5bfb4d09087128782e3c68885d', 'message': ""[train-only] Fix certmonger novnc_proxy key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2022-05-19 12:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9edca011fe0137a7935c16c929ebdb5db5778629', 'message': ""[train-only] Fix certmonger novnc_proxy key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2022-05-19 13:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be0b1dc8b4996df0f984c7f7808b44464a7393f3', 'message': ""[train-only] Fix certmonger novnc_proxy key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nFinally, when the service key permissions have been changed by the exec\ncommand, puppet will only audit that change on the next run, via its\ncorresponding File[$service_key] resource. That may leave the created\ncert file with wrong permissions, until the next puppet run. So\nmake sure that exec changes both the cert and key file permissions in\na single transaction.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2022-05-19 13:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2babad1b7e724c51dcae164ef99ec48be077ce2b', 'message': ""[train-only] Fix certmonger novnc_proxy key files data race\n\nFollow-up the vnc server key file data race and fix it for Nova VNC\nproxy key and cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nFinally, when the service key permissions have been changed by the exec\ncommand, puppet will only audit that change on the next run, via its\ncorresponding File[$service_key] resource. That may leave the created\ncert file with wrong permissions, until the next puppet run. So\nmake sure that exec changes both the cert and key file permissions in\na single transaction. That additional change is also needed for\nVNC server cert file permissions handling, so add it into this patch\nscope.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2022-05-24 11:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0dacf9837cd199dece227e8a2efef9b98912c714', 'message': ""[train-only] Fix certmonger novnc_proxy key files data race\n\nFollow-up the vnc server key file data race and fix it for Nova VNC\nproxy key and cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nFinally, when the service key permissions have been changed by the exec\ncommand, puppet will only audit that change on the next run, via its\ncorresponding File[$service_key] resource. That may leave the created\ncert file with wrong permissions, until the next puppet run. So\nmake sure that exec changes both the cert and key file permissions in\na single transaction. That additional change is also needed for\nVNC server cert file permissions handling, so add it into this patch\nscope.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2022-05-25 13:40:07.000000000', 'files': ['manifests/certmonger/novnc_proxy.pp', 'manifests/certmonger/libvirt_vnc.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9a1c6b4d2837e04b0bb07f3aefce07fc5d5a42af', 'message': ""[train-only] Fix certmonger novnc_proxy key files data race\n\nFollow-up the vnc server key file data race and fix it for Nova VNC\nproxy key and cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for\nnovnc_proxy key file, we need to enforce the expected permissions/owner\nfor that file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets novnc_proxy key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nFinally, when the service key permissions have been changed by the exec\ncommand, puppet will only audit that change on the next run, via its\ncorresponding File[$service_key] resource. That may leave the created\ncert file with wrong permissions, until the next puppet run. So\nmake sure that exec changes both the cert and key file permissions in\na single transaction. That additional change is also needed for\nVNC server cert file permissions handling, so add it into this patch\nscope.\n\nChange-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee\nRelated: rhbz#2084193\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",3,842530,9a1c6b4d2837e04b0bb07f3aefce07fc5d5a42af,27,9,8,6926,,,0,"[train-only] Fix certmonger novnc_proxy key files data race

Follow-up the vnc server key file data race and fix it for Nova VNC
proxy key and cert files as well.

The race condition described in
https://bugzilla.redhat.com/show_bug.cgi?id=1759281
might also apply to other files created by getcert, it seems.

Getcert sets owner and permissions for newly created cert/key files
to root/0600. While it retaines that unchanged for already existing
cert/key files.

By the certmonger feature design, changes to a service key file
resource trigger a getcert execution. And once it finishes for
novnc_proxy key file, we need to enforce the expected permissions/owner
for that file. Puppet would not allow doing such circular notifications
normally, so we add execs before/after the getcmd command.

Make sure that puppet resets novnc_proxy key file permissions
after (and only after) getcert finishes its tasks and stores the
generated cert file.

If the key's content change has been audited by puppet, remove the no
longer relevant cert file, so that getcert could re-issue it, and then
puppet to properly re-apply permissions/owner on both files.

If we do not remove the cert file before running getcert, the guarding
exec might finish before getcert finishes (see the former race
condition details). If we set the guarding exec watching for the key
file, it might also finish before getcert finishes. So we have to
set it watching for the cert file, and purge it before issuing getcert.
If the key content does not change, the cert file will be retained.

Also set the service_certificate group to match it for the
service_key as both are expected to have it the same.

Finally, when the service key permissions have been changed by the exec
command, puppet will only audit that change on the next run, via its
corresponding File[$service_key] resource. That may leave the created
cert file with wrong permissions, until the next puppet run. So
make sure that exec changes both the cert and key file permissions in
a single transaction. That additional change is also needed for
VNC server cert file permissions handling, so add it into this patch
scope.

Change-Id: Iabfe069102fdb2a4c4ff275d244382878b04d5ee
Related: rhbz#2084193
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/30/842530/8 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/novnc_proxy.pp'],1,22cf4ef766f5257e5976c25561ea819ff3a2c244,," file { $service_key : group => 'qemu', mode => '0640', audit => [content], } ~> exec { ""Purge ${service_certificate}"" : command => ""rm -f ${service_certificate}"", refreshonly => true, path => '/usr/bin:/bin', } -> certmonger_certificate { 'novnc-proxy' : exec { $service_certificate : require => Certmonger_certificate[$name], command => ""test -f ${service_certificate}"", unless => ""test -f ${service_certificate}"", tries => 60, try_sleep => 1, timeout => 60, path => '/usr/bin:/bin', } -> exec { ""Change permissions and owner of ${service_key}"": command => ""chgrp qemu ${service_key} && chmod 0640 ${service_key}"", refreshonly => true, path => '/usr/bin:/bin', } Certmonger_certificate[$name] ~> Exec[""Change permissions and owner of ${service_key}""] Exec[""Purge ${service_certificate}""] -> File[$service_certificate] ~> Service<| title == $notify_service_real |>"," certmonger_certificate { 'novnc-proxy' : file { $service_key : mode => '0640', audit => [content], } File[$service_certificate] ~> Service<| title == $notify_service_real |>",28,6
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2ee5a5454ec1211b8c8aa1ec7f6e694995885882,openstack/python-tripleoclient,stable/wallaby,I2ee5a5454ec1211b8c8aa1ec7f6e694995885882,bnr - overcloud restore - fix error in the help description for the stack parameter,ABANDONED,2022-05-16 09:02:06.000000000,2022-05-27 09:40:29.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-16 09:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92dfb3e2769d57027037b400bcb9e131b34ae098', 'message': 'bnr - overcloud restore - fix error in the help description for the stack parameter\n\nThis issue is discussed at [1]\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/835798/1#message-d465d5cce9289794ba93ba8222d9026e602d7362\nChange-Id: I2ee5a5454ec1211b8c8aa1ec7f6e694995885882\n(cherry picked from commit cb6cf7b18ebbcc053f2f74d61a8d236f9bf1a582)\n'}, {'number': 2, 'created': '2022-05-16 09:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/181a65000015f68b843bab59e379ded849f66eae', 'message': 'bnr - overcloud restore - fix error in the help description for the stack parameter\n\nThis issue is discussed at [1]\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/835798/1#message-d465d5cce9289794ba93ba8222d9026e602d7362\nChange-Id: I2ee5a5454ec1211b8c8aa1ec7f6e694995885882\n(cherry picked from commit cb6cf7b18ebbcc053f2f74d61a8d236f9bf1a582)\n'}]",2,841749,181a65000015f68b843bab59e379ded849f66eae,8,3,2,34423,,,0,"bnr - overcloud restore - fix error in the help description for the stack parameter

This issue is discussed at [1]

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/835798/1#message-d465d5cce9289794ba93ba8222d9026e602d7362
Change-Id: I2ee5a5454ec1211b8c8aa1ec7f6e694995885882
(cherry picked from commit cb6cf7b18ebbcc053f2f74d61a8d236f9bf1a582)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/49/841749/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_restore.py'],1,92dfb3e2769d57027037b400bcb9e131b34ae098,BZ2049498_rework-stable/wallaby,"<<<<<<< HEAD (559cc8 Merge ""cephadm support for 'openstack overcloud export ceph') ======= '--stack', nargs='?', help=_('Name or ID of the stack to be used' '(default=Env: OVERCLOUD_STACK_NAME)'), default=osc_utils.env('OVERCLOUD_STACK_NAME')) parser.add_argument( >>>>>>> CHANGE (cb6cf7 bnr - overcloud restore - fix error in the help description )",,10,0
openstack%2Fopenstack-ansible-galera_server~master~If6da4eb1f29549abd28f9e8abb9a850f86853c1f,openstack/openstack-ansible-galera_server,master,If6da4eb1f29549abd28f9e8abb9a850f86853c1f,Fix race on boot for mariadb-check socket,MERGED,2022-05-26 20:35:17.000000000,2022-05-27 09:11:40.000000000,2022-05-27 09:10:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-26 20:35:17.000000000', 'files': ['tasks/galera_server_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3e6a28272da2d5393b7c58a8a6b3e9911147c187', 'message': 'Fix race on boot for mariadb-check socket\n\nChange-Id: If6da4eb1f29549abd28f9e8abb9a850f86853c1f\n'}]",0,843547,3e6a28272da2d5393b7c58a8a6b3e9911147c187,8,3,1,13095,,,0,"Fix race on boot for mariadb-check socket

Change-Id: If6da4eb1f29549abd28f9e8abb9a850f86853c1f
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/47/843547/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_server_post_install.yml'],1,3e6a28272da2d5393b7c58a8a6b3e9911147c187,race-boot," after_targets: ""network.target""",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I58a2290ca9362d48e4de55d1ba93834c6eb04100,openstack/tripleo-heat-templates,stable/wallaby,I58a2290ca9362d48e4de55d1ba93834c6eb04100,Horizon: Enable client ip detection by X-Forwarded-For header,MERGED,2022-05-17 01:49:21.000000000,2022-05-27 08:44:22.000000000,2022-05-27 08:44:22.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-17 01:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6e4cb8f100290722e5cc131ea84aff2e89b15c6', 'message': 'Horizon: Enable client ip detection by X-Forwarded-For header\n\n... so that actual client ip is logged instead of loadbalancer ip.\n\nDepends-on: https://review.opendev.org/837504\nChange-Id: I58a2290ca9362d48e4de55d1ba93834c6eb04100\n(cherry picked from commit 55e7629aba03464bf4e31dd5c477cd8536a09458)\n'}, {'number': 2, 'created': '2022-05-17 01:49:47.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ad36173a3ff50696fb7fa0fbfa0fdf1b864dcc0', 'message': 'Horizon: Enable client ip detection by X-Forwarded-For header\n\n... so that actual client ip is logged instead of loadbalancer ip.\n\nDepends-on: https://review.opendev.org/838675\nChange-Id: I58a2290ca9362d48e4de55d1ba93834c6eb04100\n(cherry picked from commit 55e7629aba03464bf4e31dd5c477cd8536a09458)\n'}]",0,841931,0ad36173a3ff50696fb7fa0fbfa0fdf1b864dcc0,9,4,2,9816,,,0,"Horizon: Enable client ip detection by X-Forwarded-For header

... so that actual client ip is logged instead of loadbalancer ip.

Depends-on: https://review.opendev.org/838675
Change-Id: I58a2290ca9362d48e4de55d1ba93834c6eb04100
(cherry picked from commit 55e7629aba03464bf4e31dd5c477cd8536a09458)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/841931/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,c6e4cb8f100290722e5cc131ea84aff2e89b15c6,, horizon::secure_proxy_addr_header: HTTP_X_FORWARDED_FOR,,1,0
openstack%2Ftempest~master~Iefd62a74b201968ca1987d182e086b9f4de6fb51,openstack/tempest,master,Iefd62a74b201968ca1987d182e086b9f4de6fb51,Make tempest plugin sanity job voting again,MERGED,2022-05-24 01:26:37.000000000,2022-05-27 08:20:11.000000000,2022-05-27 08:17:45.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-24 01:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d25c02eda5d71bb1240c5ae89171f63a1aabe6f', 'message': 'Make tempest plugin sanity job voting again\n\nmurano-tempest-plugin fix is proposed (depends on) so\nmaking plugin sanity job voting again.\n\nDepends-On: https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040\nChange-Id: Iefd62a74b201968ca1987d182e086b9f4de6fb51\n'}, {'number': 2, 'created': '2022-05-26 17:44:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c3a6381cb5c13a517a7a85b6c7e8812f2d599d6', 'message': 'Make tempest plugin sanity job voting again\n\nmurano-tempest-plugin fix is proposed (depends on) so\nmaking plugin sanity job voting again.\n\nDepends-On: https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040\nChange-Id: Iefd62a74b201968ca1987d182e086b9f4de6fb51\n'}]",2,843041,2c3a6381cb5c13a517a7a85b6c7e8812f2d599d6,11,2,2,8556,,,0,"Make tempest plugin sanity job voting again

murano-tempest-plugin fix is proposed (depends on) so
making plugin sanity job voting again.

Depends-On: https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040
Change-Id: Iefd62a74b201968ca1987d182e086b9f4de6fb51
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/843041/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5d25c02eda5d71bb1240c5ae89171f63a1aabe6f,sanity-job,, # TODO(gmann): make it voting once murano-tempest-plugin # is fixed- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/8430407 voting: false,0,3
openstack%2Freleases~master~Iad329b24acb30b8458157cfa84026bc4b5a2b875,openstack/releases,master,Iad329b24acb30b8458157cfa84026bc4b5a2b875,Create newton-eol for ceilometermiddleware,NEW,2022-05-16 05:58:04.000000000,2022-05-27 08:07:20.000000000,,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-16 05:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9896ef2ad7976005d5d652f9deab51c4ca5e1090', 'message': 'Create newton-eol for ceilometermiddleware\n\nFor some reason, the stable/newton branch for ceilometer middleware was\nnot EOLed at the timing of Newton EOL. This change creates the -eol tag\nso that we can drop the branch.\n\nThere is the opendev migration patch[1] merged since the last release\nbut that one was merged far after Newton EOL deadline. Because\nnewton-eol of the other repos does not include the change, it is\nintentionally ignored by this release.\n\n[1] https://opendev.org/openstack/ceilometermiddleware/commit/a42dfc0165f82d580d90c5928d5ae8b1f8f26982\n\nChange-Id: Iad329b24acb30b8458157cfa84026bc4b5a2b875\n'}, {'number': 2, 'created': '2022-05-16 05:59:06.000000000', 'files': ['deliverables/newton/ceilometermiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b582237cd4b9a6c8382d1300ef4da61ceab20f1', 'message': 'Create newton-eol for ceilometermiddleware\n\nFor some reason, the stable/newton branch for ceilometermiddleware was\nnot EOLed at the timing of Newton EOL. This change creates the eol tag\nso that we can drop the branch.\n\nThere is the opendev migration patch[1] merged since the last release\nbut that one was merged far after Newton EOL deadline. Because\nnewton-eol of the other repos does not include the change, it is\nintentionally ignored by this release.\n\n[1] https://opendev.org/openstack/ceilometermiddleware/commit/a42dfc0165f82d580d90c5928d5ae8b1f8f26982\n\nChange-Id: Iad329b24acb30b8458157cfa84026bc4b5a2b875\n'}]",2,841831,0b582237cd4b9a6c8382d1300ef4da61ceab20f1,8,4,2,9816,,,0,"Create newton-eol for ceilometermiddleware

For some reason, the stable/newton branch for ceilometermiddleware was
not EOLed at the timing of Newton EOL. This change creates the eol tag
so that we can drop the branch.

There is the opendev migration patch[1] merged since the last release
but that one was merged far after Newton EOL deadline. Because
newton-eol of the other repos does not include the change, it is
intentionally ignored by this release.

[1] https://opendev.org/openstack/ceilometermiddleware/commit/a42dfc0165f82d580d90c5928d5ae8b1f8f26982

Change-Id: Iad329b24acb30b8458157cfa84026bc4b5a2b875
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/841831/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/ceilometermiddleware.yaml'],1,9896ef2ad7976005d5d652f9deab51c4ca5e1090,, - version: newton-eol projects: - repo: openstack/ceilometermiddleware hash: 4252674cbddd656389ef2d0a1a6c9d881660df96,,4,0
openstack%2Fneutron~master~Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9,openstack/neutron,master,Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9,"Create an index for ""ports.network_id""",MERGED,2022-05-13 13:27:10.000000000,2022-05-27 08:01:11.000000000,2022-05-27 07:59:46.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-13 13:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c30047ac2580b9be1d9694c6bc61ec011156bcf2', 'message': 'Create an index for ""ports.network_id""\n\nThe method ``NeutronDbPluginV2.ensure_no_tenant_ports_on_network``\nfilters the database port registers by ""network_id"", using an exact\nmatch. This query speed will improve if this column is indexed in\nthe database engine.\n\nPartial-Bug: # TBD\nChange-Id: Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9\n'}, {'number': 2, 'created': '2022-05-13 13:49:37.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models_v2.py', 'neutron/db/migration/alembic_migrations/versions/zed/expand/4e6e655746f6_add_index_to_ports_network_id.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db2ae854cf65b59eb0f7b0eef1b20e404c2214cb', 'message': 'Create an index for ""ports.network_id""\n\nThe method ``_port_filter_hook``, that is added in any ""Port"" SELECT\ncommand, filters the database ""Port"" registers by ""network_id"", using\nan exact match. This query speed will improve if this column is\nindexed in the database engine.\n\nCloses-Bug: #1973349\nChange-Id: Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9\n'}]",5,841761,db2ae854cf65b59eb0f7b0eef1b20e404c2214cb,20,7,2,16688,,,0,"Create an index for ""ports.network_id""

The method ``_port_filter_hook``, that is added in any ""Port"" SELECT
command, filters the database ""Port"" registers by ""network_id"", using
an exact match. This query speed will improve if this column is
indexed in the database engine.

Closes-Bug: #1973349
Change-Id: Ia20f96dc78ea04bb0ab4665e6d47a6365789d2c9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/841761/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models_v2.py', 'neutron/db/migration/alembic_migrations/versions/zed/expand/4e6e655746f6_add_index_to_ports_network_id.py']",3,c30047ac2580b9be1d9694c6bc61ec011156bcf2,port.network_id-index,"# Copyright 2022 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from alembic import op """"""add index to ports.network_id Revision ID: 4e6e655746f6 Revises: I43e0b669096 Create Date: 2022-05-12 13:04:51.831792 """""" # revision identifiers, used by Alembic. revision = '4e6e655746f6' down_revision = 'I43e0b669096' def upgrade(): index_name = 'ix_ports_network_id' op.create_index(index_name, 'ports', ['network_id'], unique=False) ",,36,2
openstack%2Fdevstack-gate~master~I81233ea91cdd24919db245dd8475341d7532daf3,openstack/devstack-gate,master,I81233ea91cdd24919db245dd8475341d7532daf3,Use stable constraints for Tempest venv for stable/train testing,MERGED,2022-05-24 14:12:39.000000000,2022-05-27 07:52:38.000000000,2022-05-27 07:52:38.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 14:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c503f97093e9e60beef4b5ac5ee3a7ee00df29fd', 'message': ""Use stable constraints for Tempest venv for stable/train testing\n\nWithout this grenade job in stable/train fails as it uses\nmaster constraints and master is dropping py3.6 support,\nlike oslo-log already dropped that and is causing issues[2].\n\nTempest in stable/train is already pinned in devstack[1]\nto 26.1.0. So let's use stable constraints for Tempest venv.\n\n[1] https://github.com/openstack/devstack/commit/8a22f738\n[2] https://review.opendev.org/c/openstack/neutron/+/841698\n\nChange-Id: I81233ea91cdd24919db245dd8475341d7532daf3\n""}, {'number': 2, 'created': '2022-05-25 07:26:24.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/fd322f79613c909e592a3f568349b9684a337e11', 'message': ""Use stable constraints for Tempest venv for stable/train testing\n\nWithout this grenade job in stable/train fails as it uses\nmaster constraints and master is dropping py3.6 support,\nlike oslo-log already dropped that and is causing issues[2].\n\nTempest in stable/train is already pinned in devstack[1]\nto 26.1.0. So let's use stable constraints for Tempest venv.\n\n[1] https://github.com/openstack/devstack/commit/8a22f738\n[2] https://review.opendev.org/c/openstack/neutron/+/841698\n\nChange-Id: I81233ea91cdd24919db245dd8475341d7532daf3\n""}]",2,843148,fd322f79613c909e592a3f568349b9684a337e11,10,5,2,13861,,,0,"Use stable constraints for Tempest venv for stable/train testing

Without this grenade job in stable/train fails as it uses
master constraints and master is dropping py3.6 support,
like oslo-log already dropped that and is causing issues[2].

Tempest in stable/train is already pinned in devstack[1]
to 26.1.0. So let's use stable constraints for Tempest venv.

[1] https://github.com/openstack/devstack/commit/8a22f738
[2] https://review.opendev.org/c/openstack/neutron/+/841698

Change-Id: I81233ea91cdd24919db245dd8475341d7532daf3
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/48/843148/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,c503f97093e9e60beef4b5ac5ee3a7ee00df29fd,train-stable-uc," stable_for_u_c=""stable/[o-t]"""," stable_for_u_c=""stable/[o-s]""",1,1
openstack%2Fproject-config~master~If4e9673118edf77c5e14ad7567b95d92618e4920,openstack/project-config,master,If4e9673118edf77c5e14ad7567b95d92618e4920,Add ops to openstack-ansible-sig channel,MERGED,2022-05-26 15:33:46.000000000,2022-05-27 07:45:48.000000000,2022-05-27 07:03:03.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 10969}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-26 15:33:46.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/59919613944d0e07703b46c9ef34c0c65b761794', 'message': 'Add ops to openstack-ansible-sig channel\n\nChange-Id: If4e9673118edf77c5e14ad7567b95d92618e4920\n'}]",1,843492,59919613944d0e07703b46c9ef34c0c65b761794,12,8,1,10969,,,0,"Add ops to openstack-ansible-sig channel

Change-Id: If4e9673118edf77c5e14ad7567b95d92618e4920
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/843492/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,59919613944d0e07703b46c9ef34c0c65b761794,ops, ops: - sshnaidm - jm1 - gtema - mnaser,,5,0
openstack%2Fskyline-console~master~I47ef81265bb4f3a198067280f39206bb17b5fdc0,openstack/skyline-console,master,I47ef81265bb4f3a198067280f39206bb17b5fdc0,fix: Fix update ironic node traits,MERGED,2022-05-26 08:28:56.000000000,2022-05-27 07:18:55.000000000,2022-05-27 07:18:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-26 08:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a50dac2f2630682df4520d70c5a41c407c48aff8', 'message': 'fix: Fix update ironic node traits\n\nFix update iroinc node traits api\n\nChange-Id: I47ef81265bb4f3a198067280f39206bb17b5fdc0\n'}, {'number': 2, 'created': '2022-05-26 08:43:19.000000000', 'files': ['src/client/keystone/index.js', 'src/client/nova/index.js', 'src/client/client/constants.js', 'src/client/cinder/index.js', 'src/client/placement/index.js', 'src/client/glance/index.js', 'src/client/ironic/index.js', 'src/client/zun/index.js', 'src/client/trove/index.js', 'src/client/skyline/index.js', 'src/client/heat/index.js', 'src/client/swift/index.js', 'src/client/barbican/index.js', 'src/client/neutron/index.js', 'src/client/magnum/index.js', 'src/client/octavia/index.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0f1bdfd6825ed69a19d3595b4cc1fd347d05cdb5', 'message': 'fix: Fix update ironic node traits\n\n1. Fix update iroinc node traits api\n2. Add export client for better reusage\n\nChange-Id: I47ef81265bb4f3a198067280f39206bb17b5fdc0\n'}]",0,843416,0f1bdfd6825ed69a19d3595b4cc1fd347d05cdb5,8,3,2,30434,,,0,"fix: Fix update ironic node traits

1. Fix update iroinc node traits api
2. Add export client for better reusage

Change-Id: I47ef81265bb4f3a198067280f39206bb17b5fdc0
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/16/843416/1 && git format-patch -1 --stdout FETCH_HEAD,['src/client/ironic/index.js'],1,a50dac2f2630682df4520d70c5a41c407c48aff8,master5," name: 'updateTraits', key: 'traits',"," key: 'updateTraits',",2,1
openstack%2Fskyline-console~master~Id34b49b55e221453f5ca1b594821b97ecd6ee381,openstack/skyline-console,master,Id34b49b55e221453f5ca1b594821b97ecd6ee381,fix: fix GB unit in database,MERGED,2022-05-26 06:17:56.000000000,2022-05-27 07:03:07.000000000,2022-05-27 07:03:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-26 06:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/114247f0ef7b44e69addc0974fd2b6f41a761422', 'message': 'fix: fix GB unit in database\n\nFix GB to GiB for volume in database\n\nChange-Id: Id34b49b55e221453f5ca1b594821b97ecd6ee381\n'}, {'number': 2, 'created': '2022-05-27 03:32:39.000000000', 'files': ['src/pages/database/containers/Instances/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/database/containers/Instances/actions/StepCreate/StepDetails/index.jsx', 'src/resources/nova/hypervisor.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/993f18dcfb5112308c176fb6ae5eb61ee02f20f0', 'message': 'fix: fix GB unit in database\n\nFix GB to GiB for volume in database\n\nChange-Id: Id34b49b55e221453f5ca1b594821b97ecd6ee381\n'}]",1,843388,993f18dcfb5112308c176fb6ae5eb61ee02f20f0,17,3,2,30434,,,0,"fix: fix GB unit in database

Fix GB to GiB for volume in database

Change-Id: Id34b49b55e221453f5ca1b594821b97ecd6ee381
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/88/843388/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/database/containers/Instances/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/database/containers/Instances/actions/StepCreate/StepDetails/index.jsx', 'src/resources/nova/hypervisor.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx']",6,114247f0ef7b44e69addc0974fd2b6f41a761422,,," // { // label: t('Disk'), // content: `${flavor.disk} GB`, // },",4,16
openstack%2Fcyborg-specs~master~I72acf569d56d4e7feaec83da9274364282cf0dbf,openstack/cyborg-specs,master,I72acf569d56d4e7feaec83da9274364282cf0dbf,Add Attribute API specification.,ABANDONED,2020-06-28 02:15:18.000000000,2022-05-27 06:22:22.000000000,,"[{'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-06-28 02:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/357ab4521c6248daea8ce94e33506ea0d336d618', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 2, 'created': '2020-06-28 02:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/0b35543832ebe3f50c6d05f86c25605c795ead21', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 3, 'created': '2020-06-28 02:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/b17f0220fac771ccd7bed69b3cafcf30b85422b0', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 4, 'created': '2020-06-28 04:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/205c9d539ad0d3bd67e8610aced1a16a72143238', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 5, 'created': '2020-07-01 13:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/be72151fd3a1f84a3c1a8f3f0fc0b0452ce7cea6', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 6, 'created': '2020-07-08 16:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/235bf151de1842e8e8d9b5751ed66f9069a83013', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 7, 'created': '2020-07-14 11:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/76805f90ae6a12ffd1b6eac81f085c3383a0df39', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 8, 'created': '2020-08-25 02:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/13cf321e553f89862cd63b2d1492cb390cc11ca2', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 9, 'created': '2020-08-25 06:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/56903f217b7f7faa71ed28bc7f19ce07295bea78', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 10, 'created': '2020-08-25 07:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/7b37ce7dba2d2a5b7fad681a5e3bf62972db84a8', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 11, 'created': '2020-08-25 07:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/8843c8e9e68f788751a83d5b227fc40bb2aa874c', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 12, 'created': '2020-08-25 08:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/bf329d4c14ebf870581bfd4125c1cc25e0007cc3', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 13, 'created': '2020-09-02 03:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/21599d979e8ffc5e074fb8bc350b2e93d25ff430', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 14, 'created': '2020-09-15 11:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/29e107bea20458e365fda26ea56f06e76d727fe4', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}, {'number': 15, 'created': '2020-09-15 14:06:20.000000000', 'files': ['specs/wallaby/approved/attribute-api-support.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/2408635f825360642da6098e5108f81912f05c4a', 'message': 'Add Attribute API specification.\n\nChange-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf\n'}]",70,738331,2408635f825360642da6098e5108f81912f05c4a,56,8,15,17813,,,0,"Add Attribute API specification.

Change-Id: I72acf569d56d4e7feaec83da9274364282cf0dbf
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/31/738331/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/attribute-api-support.rst'],1,357ab4521c6248daea8ce94e33506ea0d336d618,attribute-api-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== Support attribute API ===================== This spec adds a new group of APIs to manage the lifecycle of accelerator's attributes. Problem description =================== Attribute is designed for describing customized information of an accelerator. Now they are generated by drivers, users can not add/delete/update them, it's not applicable to our scenarios now. Use Cases --------- An end user or deployer needs a group of APIs to manage his accelerator's attributes. Here are some useful scenario: * For a NIC accelerator, we need to add a phys_net attribute, it's should be created by deployer or other components. * For some Function Volatile Accelerators, we can create the Function name as an attribute. * Also for some information, such as Function_UUID is machine readable. Proposed change =============== None Alternatives ------------ None Data model impact ----------------- * Add attribute object to device object. REST API impact --------------- :: URL: /v2/device/{uuid}/attribute METHOD: GET Normal response code and body: 200 { 'attributes': [ {""key"": ""key1"", ""value"": ""value1"", ""uuid"": ""uuid1""}, ... ] } Error response code and body: 401 (Unauthorized): RBAC check failed No response body Note: List all attributes of specified device. URL: /v2/device/{uuid}/attribute/{uuid} METHOD: GET Query Parameters: None Normal response code and body: 200 { 'attribute': {""key"": ""key1"", ""value"": ""value1"", ""uuid"": ""uuid1"", ""created_at"": ""2020-05-28T03:03:20"", ""updated_at"": ""2020-05-28T03:03:20""} } Error response code and body: 401 (Unauthorized): RBAC check failed 422 (Unprocessable): No device profile of that UUID exists No response body Note: GET specified attribute of specified device. URL: /v2/device/{uuid}/attribute METHOD: POST Request body: A device attribute {""key"": ""key1"", ""value"": ""value1""} Normal response code and body: 204 (No content) No response body Error response code and body: 401 (Unauthorized): RBAC check failed 422 (Unprocessable): Bad input or name is not unique { 'error': <error-string> } Note: Create one device attribute. URL: /v2/device/{uuid}/attribute/{uuid} METHOD: DELETE Query Parameters: None Normal response code and body: 204 (No content) No response body Error response code and body: 401 (Unauthorized): RBAC check failed 422 (Unprocessable): Bad input { 'error': <error-string> } Note: Delete one existing device attribute. URL: /v2/device/{uuid}/attribute/{uuid} METHOD: PUT Query Parameters: None Request body: Value of device attribute {""value"": ""value1""} Normal response code and body: 204 (No content) No response body Error response code and body: 401 (Unauthorized): RBAC check failed 422 (Unprocessable): Bad input { 'error': <error-string> } Note: Update one existing device attribute. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: wangzhh Work Items ---------- * Change Cyborg REST APIs. * Change Cyborg Attribute table. * Change Cyborg Device object. * Change cyborgclient to support Attribute management action. * Add related tests. Dependencies ============ None Testing ======= None Documentation Impact ==================== None References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Victoria - Introduced ",,182,0
openstack%2Fskyline-apiserver~master~I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77,openstack/skyline-apiserver,master,I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77,fix: Add manila into service mapping,MERGED,2022-05-27 03:13:25.000000000,2022-05-27 04:47:43.000000000,2022-05-27 04:47:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-05-27 03:13:25.000000000', 'files': ['etc/skyline.yaml.sample', 'skyline_apiserver/config/openstack.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ee6d1a7a49ceee28af4ca752a992f908ddea83f4', 'message': ""fix: Add manila into service mapping\n\nAdd manila into service mapping. So if we deployed the\nmanila service, we can get the endpoint of it by default.\nRe-sort the service mapping by its' initial.\n\nChange-Id: I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77\n""}]",0,843559,ee6d1a7a49ceee28af4ca752a992f908ddea83f4,6,2,1,28706,,,0,"fix: Add manila into service mapping

Add manila into service mapping. So if we deployed the
manila service, we can get the endpoint of it by default.
Re-sort the service mapping by its' initial.

Change-Id: I88dbafbe34b0e95eff0b00d9260f1b7a6fc0db77
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/59/843559/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/skyline.yaml.sample', 'skyline_apiserver/config/openstack.py']",2,ee6d1a7a49ceee28af4ca752a992f908ddea83f4,," ""compute"": ""nova"", ""database"": ""trove"", ""identity"": ""keystone"", ""image"": ""glance"", ""load-balancer"": ""octavia"", ""network"": ""neutron"", ""object-store"": ""swift"", ""orchestration"": ""heat"", ""placement"": ""placement"", ""volumev3"": ""cinder"", ""sharev2"": ""manilav2"","," ""volumev3"": ""cinder"", ""image"": ""glance"", ""orchestration"": ""heat"", ""identity"": ""keystone"", ""network"": ""neutron"", ""compute"": ""nova"", ""placement"": ""placement"", ""load-balancer"": ""octavia"", ""object-store"": ""swift"", ""database"": ""trove"",",12,10
openstack%2Fmanila~master~Ibe60da0b06cade641002d5a1650c38aa57c2d131,openstack/manila,master,Ibe60da0b06cade641002d5a1650c38aa57c2d131,devstack: Support different ssh key format,MERGED,2022-05-25 13:01:11.000000000,2022-05-27 04:47:43.000000000,2022-05-27 04:38:52.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-05-25 13:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d58627551e82c23ea54ca3cd371451eb9d4b4a87', 'message': 'devstack: Support different ssh key format\n\nRSA key is no longer enabled by default in recent openssl library.\nBecause of this change, RSA key does not work in recent Fedora and\nCentOS Stream 9 unless it is enabled somehow.\n\nThis introduces a new MANILA_KEY_FORMAT parameter to devstack plugin\nso that a different ssh key format (eg. ecdsa) can be used.\n\nChange-Id: Ibe60da0b06cade641002d5a1650c38aa57c2d131\n'}, {'number': 2, 'created': '2022-05-25 14:13:06.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/1a76b049364f5860f380635d9b5472e36f37eb0f', 'message': 'devstack: Support different ssh key format\n\nRSA key is no longer enabled by default in recent openssl library.\nBecause of this change, RSA key does not work in recent Fedora and\nCentOS Stream 9 unless it is enabled somehow.\n\nThis introduces a new MANILA_KEY_FORMAT parameter to devstack plugin\nso that a different ssh key format (eg. ecdsa) can be used.\n\nChange-Id: Ibe60da0b06cade641002d5a1650c38aa57c2d131\n'}]",7,843280,1a76b049364f5860f380635d9b5472e36f37eb0f,30,3,2,9816,,,0,"devstack: Support different ssh key format

RSA key is no longer enabled by default in recent openssl library.
Because of this change, RSA key does not work in recent Fedora and
CentOS Stream 9 unless it is enabled somehow.

This introduces a new MANILA_KEY_FORMAT parameter to devstack plugin
so that a different ssh key format (eg. ecdsa) can be used.

Change-Id: Ibe60da0b06cade641002d5a1650c38aa57c2d131
",git fetch https://review.opendev.org/openstack/manila refs/changes/80/843280/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,d58627551e82c23ea54ca3cd371451eb9d4b4a87,,"MANILA_KEY_FORMAT=${MANILA_KEY_FORMAT:-""rsa""} MANILA_PATH_TO_PUBLIC_KEY=${MANILA_PATH_TO_PUBLIC_KEY:-""$USER_HOME/.ssh/id_${MANILA_KEY_FORMAT}.pub""} MANILA_PATH_TO_PRIVATE_KEY=${MANILA_PATH_TO_PRIVATE_KEY:-""$USER_HOME/.ssh/id_${MANILA_KEY_FORMAT}""}","MANILA_PATH_TO_PUBLIC_KEY=${MANILA_PATH_TO_PUBLIC_KEY:-""$USER_HOME/.ssh/id_rsa.pub""} MANILA_PATH_TO_PRIVATE_KEY=${MANILA_PATH_TO_PRIVATE_KEY:-""$USER_HOME/.ssh/id_rsa""}",4,3
openstack%2Fskyline-console~master~I57de4e5317aab2ee96e012327bb9a5a79f5e7656,openstack/skyline-console,master,I57de4e5317aab2ee96e012327bb9a5a79f5e7656,fix: fix image required when create ironic,MERGED,2022-05-26 07:13:42.000000000,2022-05-27 03:16:23.000000000,2022-05-27 03:16:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-26 07:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/db7d53a67905e80730d747ee980c98cd6fa304c9', 'message': 'fix: fix image required when create ironic\n\nSet image is required when create ironic\n\nChange-Id: I57de4e5317aab2ee96e012327bb9a5a79f5e7656\n'}, {'number': 2, 'created': '2022-05-26 08:03:23.000000000', 'files': ['src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e9cd1482c2e76c56bb6b0fd96f1cc0d6e129639c', 'message': 'fix: fix image required when create ironic\n\n1. Set image is required when create ironic\n2. Add image info in confirm step when create ironic\n\nChange-Id: I57de4e5317aab2ee96e012327bb9a5a79f5e7656\n'}]",0,843410,e9cd1482c2e76c56bb6b0fd96f1cc0d6e129639c,9,3,2,30434,,,0,"fix: fix image required when create ironic

1. Set image is required when create ironic
2. Add image info in confirm step when create ironic

Change-Id: I57de4e5317aab2ee96e012327bb9a5a79f5e7656
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/10/843410/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx'],1,db7d53a67905e80730d747ee980c98cd6fa304c9,master4," required: true,"," isMulti: false,",1,1
openstack%2Fcharm-glance~master~I6676d20c7529fa47a387b3bb538de3f95399a71a,openstack/charm-glance,master,I6676d20c7529fa47a387b3bb538de3f95399a71a,Add information to image-conversion config parameter,MERGED,2022-05-26 20:30:26.000000000,2022-05-27 01:28:35.000000000,2022-05-27 01:28:35.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 20:30:26.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1c02b49817010102d64072549f47dbbc91ae608c', 'message': 'Add information to image-conversion config parameter\n\nChange-Id: I6676d20c7529fa47a387b3bb538de3f95399a71a\n'}]",2,843546,1c02b49817010102d64072549f47dbbc91ae608c,9,3,1,34275,,,0,"Add information to image-conversion config parameter

Change-Id: I6676d20c7529fa47a387b3bb538de3f95399a71a
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/46/843546/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,1c02b49817010102d64072549f47dbbc91ae608c,documentation_patch," Enable conversion of all images to raw format during image import, only supported on stein or newer. This only works on imported images (for example using 'glance image-create-via-import') Does not work on regular image uploads (like 'openstack image create')"," Enable conversion of all images to raw format during image upload, only supported on stein or newer.",4,2
openstack%2Fneutron~stable%2Fxena~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/xena,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:01:11.000000000,2022-05-26 22:32:02.000000000,2022-05-26 22:30:19.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:01:11.000000000', 'files': ['neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/40433a081f1bfd18b5ab1138347987e2c2e9da28', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n'}]",1,843481,40433a081f1bfd18b5ab1138347987e2c2e9da28,10,3,1,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/843481/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ovn_revision_numbers_db.py'],1,40433a081f1bfd18b5ab1138347987e2c2e9da28,bug/1975837," if context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)"," with db_api.CONTEXT_READER.using(context): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)",12,11
openstack%2Fneutron~stable%2Fyoga~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/yoga,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:00:48.000000000,2022-05-26 22:31:56.000000000,2022-05-26 22:30:14.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:00:48.000000000', 'files': ['neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2a2cc243f1c103dd3643592ec04ca9635774a4d', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n'}]",2,843480,e2a2cc243f1c103dd3643592ec04ca9635774a4d,14,3,1,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/843480/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ovn_revision_numbers_db.py'],1,e2a2cc243f1c103dd3643592ec04ca9635774a4d,bug/1975837," if context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)"," with db_api.CONTEXT_READER.using(context): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)",12,11
openstack%2Fcharm-guide~master~Ide4358310a465dc5e7253cd8c6314b71effaafe8,openstack/charm-guide,master,Ide4358310a465dc5e7253cd8c6314b71effaafe8,Add link to a new Ceph operation + guide version,MERGED,2022-05-19 18:06:01.000000000,2022-05-26 22:25:45.000000000,2022-05-26 22:24:33.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-05-19 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5d96c3acd1e0e7fcdb38002d6b349625b5697c9e', 'message': 'Add link to a new Ceph operation\n\nA new Ceph operation has come into being. This PR adds\na link to it.\n\nChange-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8\n'}, {'number': 2, 'created': '2022-05-25 20:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/66c8de006a609b104bc0d18080324cf91a57134a', 'message': 'Add link to a new Ceph operation\n\nA new Ceph operation has come into being. This PR adds\na link to it.\n\nThis PR will also be used to generate an OpenStack\nYoga version of charm-guide.\n\nChange-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8\n'}, {'number': 3, 'created': '2022-05-26 17:03:14.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/481e11984f8147eb13c4507896e38a5b4845386d', 'message': 'Add link to a new Ceph operation + guide version\n\nA new Ceph operation has come into being. This PR adds\na link to it.\n\nThis PR will also be used to generate an OpenStack\nYoga version of charm-guide.\n\nChange-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8\n'}]",1,842594,481e11984f8147eb13c4507896e38a5b4845386d,12,3,3,30561,,,0,"Add link to a new Ceph operation + guide version

A new Ceph operation has come into being. This PR adds
a link to it.

This PR will also be used to generate an OpenStack
Yoga version of charm-guide.

Change-Id: Ide4358310a465dc5e7253cd8c6314b71effaafe8
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/94/842594/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,5d96c3acd1e0e7fcdb38002d6b349625b5697c9e,add-link-to-ceph-operation, Removing OSDs <https://ubuntu.com/ceph/docs/removing-osds>,,1,0
openstack%2Fcharm-deployment-guide~master~Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba,openstack/charm-deployment-guide,master,Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba,Fix a broken link + guide version,MERGED,2022-05-24 16:53:54.000000000,2022-05-26 22:24:59.000000000,2022-05-26 22:23:52.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 16:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/cb4dacfdd2bf158dbb96e8a63158e32782edcba2', 'message': 'Fix a broken link\n\nThere is a broken link on the upgrade-charms page due\nto upstream Juju doc changes.\n\nChange-Id: Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba\n'}, {'number': 2, 'created': '2022-05-26 17:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ff2f555ed4229c17e93d6d87dd33f716d730af97', 'message': 'Fix a broken link + guide version\n\nThere is a broken link on the upgrade-charms page due\nto upstream Juju doc changes.\n\nChange-Id: Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba\n'}, {'number': 3, 'created': '2022-05-26 17:06:17.000000000', 'files': ['deploy-guide/source/upgrade-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4dd158584363032061831ad263441044c4e604a5', 'message': 'Fix a broken link + guide version\n\nThere is a broken link on the upgrade-charms page due\nto upstream Juju doc changes.\n\nThis PR will also be used to generate an OpenStack\nYoga version of charm-deployment-guide.\n\nChange-Id: Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba\n'}]",0,843172,4dd158584363032061831ad263441044c4e604a5,10,2,3,30561,,,0,"Fix a broken link + guide version

There is a broken link on the upgrade-charms page due
to upstream Juju doc changes.

This PR will also be used to generate an OpenStack
Yoga version of charm-deployment-guide.

Change-Id: Ibe1f8041c1e5a8175fb63d638cc81b0987ed6eba
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/72/843172/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-charms.rst'],1,cb4dacfdd2bf158dbb96e8a63158e32782edcba2,fix-another-broken-juju-link,`How to upgrade applications`_ in the Juju documentation... _How to upgrade applications: https://juju.is/docs/olm/upgrade-applications,`Upgrading applications`_ in the Juju documentation... _Upgrading applications: https://discourse.charmhub.io/t/upgrading-applications,2,2
openstack%2Fproject-config~master~Iddd61e1be766f2bb6da4bf62766829247fa143ce,openstack/project-config,master,Iddd61e1be766f2bb6da4bf62766829247fa143ce,Fix propose-updates job for requirements (3rd attempt),MERGED,2022-05-26 21:06:57.000000000,2022-05-26 21:48:48.000000000,2022-05-26 21:48:48.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 21:06:57.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c7d42980c649273eacf9361cfe20e5500ac3b6e7', 'message': ""Fix propose-updates job for requirements (3rd attempt)\n\nThe previous attempts at fixing the job were not successful yet, it\nseems the variable in the pre playbook isn't overridden by a job\nvariable. Since the other uses of this job are running with ubuntu-focal\nanyway, set the list of available python interpreters in the playbook\ndirectly and remove the modifications from the requirements specific job\nagain. Also pin the nodeset for this job to guard against changes in the\nbase job, which will likely require another change to the interpreter\nlist.\n\n[0] I9735f34639777c928fbe06febc16dd24667b1405\n[1] I52cc316ce9756c4411c18c8339d44c457cb59897\n\nChange-Id: Iddd61e1be766f2bb6da4bf62766829247fa143ce\n""}]",0,843550,c7d42980c649273eacf9361cfe20e5500ac3b6e7,7,3,1,13252,,,0,"Fix propose-updates job for requirements (3rd attempt)

The previous attempts at fixing the job were not successful yet, it
seems the variable in the pre playbook isn't overridden by a job
variable. Since the other uses of this job are running with ubuntu-focal
anyway, set the list of available python interpreters in the playbook
directly and remove the modifications from the requirements specific job
again. Also pin the nodeset for this job to guard against changes in the
base job, which will likely require another change to the interpreter
list.

[0] I9735f34639777c928fbe06febc16dd24667b1405
[1] I52cc316ce9756c4411c18c8339d44c457cb59897

Change-Id: Iddd61e1be766f2bb6da4bf62766829247fa143ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/843550/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'playbooks/proposal/pre.yaml']",3,c7d42980c649273eacf9361cfe20e5500ac3b6e7,fix-propose-updates, - python3.9, - python3.6 - python3.7,4,6
openstack%2Ftempest~master~Ibcaf1bce80521e05d76199ddebccb33488360644,openstack/tempest,master,Ibcaf1bce80521e05d76199ddebccb33488360644,Unblock gate to temporary remove the py3.6|7 job,MERGED,2022-05-21 01:10:55.000000000,2022-05-26 21:48:13.000000000,2022-05-26 21:44:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-21 01:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2d61a04f220fb75e103bf6670b0e4c77c85104e', 'message': 'Unblock gate to temporary remove the py3.6|7 job\n\npy3.6 and py3.7 jobs are failing due to oslo dropped the\npy3.6|7 support. We will add them back once bug#1975036\nis resolved\n\nRelated-Bug: #1975036\nChange-Id: Ibcaf1bce80521e05d76199ddebccb33488360644\n'}, {'number': 2, 'created': '2022-05-24 01:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb727bf5960f2c234918d8a82936c16a83ff3972', 'message': 'Unblock gate to temporary remove the py3.6|7 job\n\npy3.6 and py3.7 jobs are failing due to oslo dropped the\npy3.6|7 support. We will add them back once bug#1975036\nis resolved\n\nTempest plugin sanity job is broken due to failure in\nmurano-tempest-plugin. To make this patch merge which\nwill unblock the gate, I am making plugin sanity job as\nnon voting. We will revert that once below fix is merged\n\n- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040\n\nRelated-Bug: #1975036\nChange-Id: Ibcaf1bce80521e05d76199ddebccb33488360644\n'}, {'number': 3, 'created': '2022-05-25 14:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c329c102cf41400d1cbad6a0aacd9f755a9a5c4', 'message': 'Unblock gate to temporary remove the py3.6|7 job\n\npy3.6 and py3.7 jobs are failing due to oslo dropped the\npy3.6|7 support. We will add them back once bug#1975036\nis resolved\n\nTempest plugin sanity job is broken due to failure in\nmurano-tempest-plugin. To make this patch merge which\nwill unblock the gate, I am making plugin sanity job as\nnon voting. We will revert that once below fix is merged\n\ntempest-full-centos-9-stream job is also failing which fix\nis also up and waiting for this patch to merge first, so making\nthem non voting.\n\n- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040\n\nRelated-Bug: #1975036\nChange-Id: Ibcaf1bce80521e05d76199ddebccb33488360644\n'}, {'number': 4, 'created': '2022-05-26 07:45:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1ea4327108cbbd518dfc75482dff79493b4edc9', 'message': ""Unblock gate to temporary remove the py3.6|7 job\n\npy3.6 and py3.7 jobs are failing due to oslo dropped the\npy3.6|7 support. We will add them back once bug#1975036\nis resolved\n\nTempest plugin sanity job is broken due to failure in\nmurano-tempest-plugin. To make this patch merge which\nwill unblock the gate, I am making plugin sanity job as\nnon voting. We will revert that once below fix is merged\n\ntempest-full-centos-9-stream job is also failing which fix\nis also up and waiting for this patch to merge first, so making\nthem non voting.\n\ndevstack-plugin-ceph-tempest-py3 job is also mostly failing, let's\nmake it temporarily non voting in order to avoid endless rechecks\n\n- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040\n\nRelated-Bug: #1975036\nChange-Id: Ibcaf1bce80521e05d76199ddebccb33488360644\n""}]",20,842821,b1ea4327108cbbd518dfc75482dff79493b4edc9,60,3,4,8556,,,0,"Unblock gate to temporary remove the py3.6|7 job

py3.6 and py3.7 jobs are failing due to oslo dropped the
py3.6|7 support. We will add them back once bug#1975036
is resolved

Tempest plugin sanity job is broken due to failure in
murano-tempest-plugin. To make this patch merge which
will unblock the gate, I am making plugin sanity job as
non voting. We will revert that once below fix is merged

tempest-full-centos-9-stream job is also failing which fix
is also up and waiting for this patch to merge first, so making
them non voting.

devstack-plugin-ceph-tempest-py3 job is also mostly failing, let's
make it temporarily non voting in order to avoid endless rechecks

- https://review.opendev.org/c/openstack/murano-tempest-plugin/+/843040

Related-Bug: #1975036
Change-Id: Ibcaf1bce80521e05d76199ddebccb33488360644
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/842821/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c2d61a04f220fb75e103bf6670b0e4c77c85104e,bug/1975036, # TODO(gmann): run these jobs once bug#1975036 is resolved #- openstack-tox-py36 #- openstack-tox-py37 # TODO(gmann): run these jobs once bug#1975036 is resolved # - openstack-tox-py36 # - openstack-tox-py37, - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py36 - openstack-tox-py37,6,4
openstack%2Ftripleo-quickstart~master~I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08,openstack/tripleo-quickstart,master,I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08,Testing tempest tests for intergration/component jobs,MERGED,2022-05-19 11:48:06.000000000,2022-05-26 21:39:20.000000000,2022-05-26 21:37:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-19 11:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e56464d244cc058b6848debbf15519dceb6602df', 'message': 'DNM : Testing tempest tests for intergration/component jobs\n\nThis patch modifies fs condition to verify same set of\ntempest tests run against integration and component jobs.\n\nChange-Id: I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08\n'}, {'number': 2, 'created': '2022-05-19 11:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/528737d0f8c688359a851899a2ad6a854765d568', 'message': 'DNM : Testing tempest tests for intergration/component jobs\n\nThis patch modifies fs condition to verify same set of\ntempest tests run against integration and component jobs.\n\nChange-Id: I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08\n'}, {'number': 3, 'created': '2022-05-19 11:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1d1b461b2aab6f7dbbacd37a32f71826e809ee11', 'message': 'DNM : Testing tempest tests for intergration/component jobs\n\nThis patch modifies fs condition to verify same set of\ntempest tests run against integration and component jobs.\n\nChange-Id: I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08\n'}, {'number': 4, 'created': '2022-05-23 14:26:25.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/908c48026dbee1cd468e9660edf8aaeb0b70b68b', 'message': 'Testing tempest tests for intergration/component jobs\n\nThis patch modifies fs condition to verify same set of\ntempest tests run against integration and component jobs.\n\nChange-Id: I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08\n'}]",11,842531,908c48026dbee1cd468e9660edf8aaeb0b70b68b,35,6,4,31075,,,0,"Testing tempest tests for intergration/component jobs

This patch modifies fs condition to verify same set of
tempest tests run against integration and component jobs.

Change-Id: I265b0dc42bfb988bbdb6dd6b2b2053b6e1ce2e08
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/31/842531/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,e56464d244cc058b6848debbf15519dceb6602df,tempest_allow_list, {% if ('periodic' in zuul.pipeline and not job.force_non_periodic|default(false)|bool) or (job.force_periodic|default(false)|bool) (job.component is defined) -%}, {% if ('periodic' in zuul.pipeline and not job.force_non_periodic|default(false)|bool) or (job.force_periodic|default(false)|bool) -%},1,1
openstack%2Fpython-manilaclient~stable%2Fyoga~I56af42c6c3ece862747ddb62cd1eabdf608b9411,openstack/python-manilaclient,stable/yoga,I56af42c6c3ece862747ddb62cd1eabdf608b9411,"Avoid using ""force"" kwarg in extend API",MERGED,2022-05-25 11:39:12.000000000,2022-05-26 21:10:39.000000000,2022-05-26 21:09:21.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-05-25 11:39:12.000000000', 'files': ['manilaclient/v2/shares.py', 'releasenotes/notes/bug-1975488-skip-force-kwarg-if-unspecified-f98c717df1d6e364.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c1c1133a7f912f6d4136ace537a1e5d80ec81bb6', 'message': 'Avoid using ""force"" kwarg in extend API\n\nThe extend API was enhanced with API version\n2.64 to support a ""force"" argument; It\'s possible\nthat clients are using older microversions\nwhen interacting with the manilaclient SDK;\nby mandating the use of the ""force"" kwarg,\nwe introduce a regression. The ""ShareManager""\nclass has microversioned ""extend"" APIs,\nsome of which do not accept the ""force"" kwarg.\n\nChange-Id: I56af42c6c3ece862747ddb62cd1eabdf608b9411\nRelated-Bug: #1855391\nCloses-Bug: #1975488\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit db8eafd838c603407d86b13e226d8d8b028b595e)\n'}]",3,843207,c1c1133a7f912f6d4136ace537a1e5d80ec81bb6,12,5,1,16643,,,0,"Avoid using ""force"" kwarg in extend API

The extend API was enhanced with API version
2.64 to support a ""force"" argument; It's possible
that clients are using older microversions
when interacting with the manilaclient SDK;
by mandating the use of the ""force"" kwarg,
we introduce a regression. The ""ShareManager""
class has microversioned ""extend"" APIs,
some of which do not accept the ""force"" kwarg.

Change-Id: I56af42c6c3ece862747ddb62cd1eabdf608b9411
Related-Bug: #1855391
Closes-Bug: #1975488
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit db8eafd838c603407d86b13e226d8d8b028b595e)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/07/843207/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/v2/shares.py', 'releasenotes/notes/bug-1975488-skip-force-kwarg-if-unspecified-f98c717df1d6e364.yaml']",2,c1c1133a7f912f6d4136ace537a1e5d80ec81bb6,bug/1975488,"--- fixes: - | Fixed a regression with the use of the ""force"" keyword in the ""extend"" API in the Share resource. See `LP #1975488 <https://launchpad.net/bugs/1975488>`_ for more details. ",,8,2
openstack%2Fcharm-glance~stable%2Fvictoria~I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e,openstack/charm-glance,stable/victoria,I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e,Migrate charm charmhub for stable/victoria,MERGED,2022-05-19 10:34:46.000000000,2022-05-26 21:07:30.000000000,2022-05-26 21:07:30.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 10:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/d2762e7ccea7b827e04badebf332a7c0a061b9dd', 'message': 'Migrate charm charmhub for stable/victoria\n\n- start from stable/victoria branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/victoria for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e\n'}, {'number': 2, 'created': '2022-05-20 23:31:26.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ed41d2063b1b37e3140a30f24c226ab240497db6', 'message': 'Migrate charm charmhub for stable/victoria\n\n- start from stable/victoria branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/victoria for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e\n'}]",4,842492,ed41d2063b1b37e3140a30f24c226ab240497db6,16,3,2,20870,,,0,"Migrate charm charmhub for stable/victoria

- start from stable/victoria branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/victoria for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I0b898a0b4637c609afd6ed0e0fdfa81c879f0c9e
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/92/842492/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",28,d2762e7ccea7b827e04badebf332a7c0a061b9dd,charmhub-migration,,variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': applications: keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '3' - '4' - '5' - '6' - '7' - '8' ceph-radosgw: charm: cs:~openstack-charmers/ceph-radosgw num_units: 1 options: source: *openstack-origin to: - '15' ceph-mon: charm: cs:~openstack-charmers/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '9' - '10' - '11' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '12' keystone: expose: True charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '13' glance: expose: True charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 ec-profile-plugin: jerasure to: - '14' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:identity-service' - 'keystone:identity-service' - - 'ceph-radosgw:object-store' - 'glance:object-store' ,139,1005
openstack%2Ftripleo-heat-templates~master~I8c2808f0d4ee969315f0dee3cd75b850e4a94fab,openstack/tripleo-heat-templates,master,I8c2808f0d4ee969315f0dee3cd75b850e4a94fab,Horizon: Fix missing firewall rule for ssl backend,MERGED,2022-05-12 12:01:53.000000000,2022-05-26 21:01:23.000000000,2022-05-26 21:01:23.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-12 12:01:53.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8d59c2cb5196c7f2367a8154a27b5371f1bd211', 'message': 'Horizon: Fix missing firewall rule for ssl backend\n\nWhen internal tls is enabled, Horizon uses a different port (tcp/443\ninstead of tcp/80).\n\nRelated-Bug: #1961799\nChange-Id: I8c2808f0d4ee969315f0dee3cd75b850e4a94fab\n'}]",1,841580,d8d59c2cb5196c7f2367a8154a27b5371f1bd211,12,5,1,9816,,,0,"Horizon: Fix missing firewall rule for ssl backend

When internal tls is enabled, Horizon uses a different port (tcp/443
instead of tcp/80).

Related-Bug: #1961799
Change-Id: I8c2808f0d4ee969315f0dee3cd75b850e4a94fab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/841580/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,d8d59c2cb5196c7f2367a8154a27b5371f1bd211,, - if: - {get_param: EnableInternalTLS} - 443 - 80, - 80,4,1
openstack%2Fcinder~stable%2Fxena~I078a54a47e43b1cc83b4fb1a8063b41ab35358a1,openstack/cinder,stable/xena,I078a54a47e43b1cc83b4fb1a8063b41ab35358a1,Fix: nfs format info limitation,MERGED,2022-05-26 10:20:15.000000000,2022-05-26 20:58:56.000000000,2022-05-26 20:57:20.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 10:20:15.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/960aa59621044510df0fb0e779a3e2d0462b88d3', 'message': 'Fix: nfs format info limitation\n\nFormat info support was added to the nfs driver with change[1]\nand due to a issue with groups, it was restricted for volumes\nwith groups with change[2].\nThis was a problem with OVO handling of consistency groups/volume\ngroups and is fixed in this patch thereby also removing the\nlimitation on nfs driver.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n[2] https://review.opendev.org/c/openstack/cinder/+/780700\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\n\nChange-Id: I078a54a47e43b1cc83b4fb1a8063b41ab35358a1\n(cherry picked from commit c69e564c6f6e523ca8b5e6065a0cf015c102bc4d)\n'}]",2,843395,960aa59621044510df0fb0e779a3e2d0462b88d3,19,3,1,27615,,,0,"Fix: nfs format info limitation

Format info support was added to the nfs driver with change[1]
and due to a issue with groups, it was restricted for volumes
with groups with change[2].
This was a problem with OVO handling of consistency groups/volume
groups and is fixed in this patch thereby also removing the
limitation on nfs driver.

[1] https://review.opendev.org/c/openstack/cinder/+/761152
[2] https://review.opendev.org/c/openstack/cinder/+/780700

Co-Authored-By: Gorka Eguileor <geguileo@redhat.com>

Change-Id: I078a54a47e43b1cc83b4fb1a8063b41ab35358a1
(cherry picked from commit c69e564c6f6e523ca8b5e6065a0cf015c102bc4d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/843395/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/volume/drivers/remotefs.py']",4,960aa59621044510df0fb0e779a3e2d0462b88d3,bug-1937368-stable/xena," volume.admin_metadata['format'] = self.format # This is done here because when creating a volume from image, # while encountering other volume.save() method fails for # non-admins with volume.obj_as_admin(): volume.save()"," if not volume.consistencygroup_id and not volume.group_id: volume.admin_metadata['format'] = self.format # This is done here because when creating a volume from image, # while encountering other volume.save() method fails for # non-admins with volume.obj_as_admin(): volume.save()",55,16
openstack%2Fneutron~master~I306f14aa6b7e8bb69a81f441be337bc1a584d3b2,openstack/neutron,master,I306f14aa6b7e8bb69a81f441be337bc1a584d3b2,[L3-HA] Disable automatic link-local address assignment for HA routers,MERGED,2022-04-28 00:55:11.000000000,2022-05-26 20:58:53.000000000,2022-05-26 20:57:16.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26832}, {'_account_id': 28329}]","[{'number': 1, 'created': '2022-04-28 00:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c95d5dc701e418359f7577e679dbd75afe69a19', 'message': ""[L3-HA] Always keep qg- port up, but with a few tweaks to avoid issues\n\nIn order to get both [1] and [2] fixed, it implements following changes:\n- prevent assigning GW address on qg-* interface automatically for HA\n  routers by passing `set_gw=False` to set_external_gw_port_link_status\n  Keepalived handles this.\n- set `net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\n  prevent auto-assigning link-local address to the interfaces.\n  I think it's not necessary as keepalived manages link-local addresses.\n  With this change, we will have link-local addresses only on active\n  router. So we will prevent 'dadfailed' and MLD packets will not be\n  sent from standby router.\n- always keep qg-* interface up on both active&standby router's\n  instance, no matter if keepalived is started or not.\n  without GW & link-local address assigned, backup router's instance\n  won't send any packets, so I see no reason to keep qg-* interface down\n- (additionally) I have removed sending extra GARPs in\n  agent/l3/router_info.py(send_ip_addr_adv_notif)\n  * for HA routers GARPs are sent by keepalived\n  * for non-HA routers GARPS are sent by legacy_router.py\n  There is no need to send any extra GARPs.\n\nThis change is going to revert [3]. However there are still many things\nto clean up.\nI will do this when we initially agree that this patch is a way to go\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/707406\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 2, 'created': '2022-05-12 22:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6abe22e382a8247e2fe3a99f7ea1abbe194793f6', 'message': ""[L3-HA] Always keep qg- port up, but with a few tweaks to avoid issues\n\nIn order to get both [1] and [2] fixed, it implements following changes:\n- prevent assigning GW address on qg-* interface automatically for HA\n  routers by passing `set_gw=False` to set_external_gw_port_link_status\n  Keepalived handles this.\n- set `net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\n  prevent auto-assigning link-local address to the interfaces.\n  I think it's not necessary as keepalived manages link-local addresses.\n  With this change, we will have link-local addresses only on active\n  router. So we will prevent 'dadfailed' and MLD packets will not be\n  sent from standby router.\n- always keep qg-* interface up on both active&standby router's\n  instance, no matter if keepalived is started or not.\n  without GW & link-local address assigned, backup router's instance\n  won't send any packets, so I see no reason to keep qg-* interface down\n\nThis change reverts [3].\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/707406\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 3, 'created': '2022-05-12 22:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c792712f782f53384b3f433ba2a5abaa7a307763', 'message': ""[L3-HA] Always keep qg- port up, but with a few tweaks to avoid issues\n\nIn order to get both [1] and [2] fixed, it implements following changes:\n- prevent assigning GW address on qg-* interface automatically for HA\n  routers by passing `set_gw=False` to set_external_gw_port_link_status\n  Keepalived handles this.\n- set `net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\n  prevent auto-assigning link-local address to the interfaces.\n  I think it's not necessary as keepalived manages link-local addresses.\n  With this change, we will have link-local addresses only on active\n  router. So we will prevent 'dadfailed' and MLD packets will not be\n  sent from standby router.\n- always keep qg-* interface up on both active&standby router's\n  instance, no matter if keepalived is started or not.\n  without GW & link-local address assigned, backup router's instance\n  won't send any packets, so I see no reason to keep qg-* interface down\n\nThis change reverts [3].\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/707406\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 4, 'created': '2022-05-13 10:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72026fbd9e6425704ad0f5f57317aae47be02f41', 'message': ""[L3-HA] Always keep qg- port up, but with a few tweaks to avoid issues\n\nIn order to get both [1] and [2] fixed, it implements following changes:\n- prevent assigning GW address on qg-* interface automatically for HA\n  routers by passing `set_gw=False` to set_external_gw_port_link_status\n  Keepalived handles this.\n- set `net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\n  prevent auto-assigning link-local address to the interfaces.\n  I think it's not necessary as keepalived manages link-local addresses.\n  With this change, we will have link-local addresses only on active\n  router. So we will prevent 'dadfailed' and MLD packets will not be\n  sent from standby router.\n- always keep qg-* interface up on both active&standby router's\n  instance, no matter if keepalived is started or not.\n  without GW & link-local address assigned, backup router's instance\n  won't send any packets, so I see no reason to keep qg-* interface down\n\nThis change reverts [3].\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/707406\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 5, 'created': '2022-05-19 21:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db1d229404ab9c1b658157368b4b0839e7650c85', 'message': ""[L3-HA] Always keep qg- port up, but with a few tweaks to avoid issues\n\nIn order to get both [1] and [2] fixed, it implements following changes:\n- prevent assigning GW address on qg-* interface automatically for HA\n  routers by passing `set_gw=False` to set_external_gw_port_link_status\n  Keepalived handles this.\n- set `net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\n  prevent auto-assigning link-local address to the interfaces.\n  I think it's not necessary as keepalived manages link-local addresses.\n  With this change, we will have link-local addresses only on active\n  router. So we will prevent 'dadfailed' and MLD packets will not be\n  sent from standby router.\n- always keep qg-* interface up on both active&standby router's\n  instance, no matter if keepalived is started or not.\n  without GW & link-local address assigned, backup router's instance\n  won't send any packets, so I see no reason to keep qg-* interface down\n\nThis change reverts [3].\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/707406\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 6, 'created': '2022-05-23 16:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/476508a3a01ef3f50618a32a7da27bf5ead85d2b', 'message': ""[L3-HA] Disable automatic link-local address assignment for HA routers\n\nIn order to get both [1] and [2] fixed, we set\n`net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\nprevent auto-assigning link-local address(lla) to the interfaces.\nWe don't need lla auto-assignment as keepalived manages them.\nWith this change, we will have link-local addresses only on active\nrouter, which will prevent 'dadfailed' and MLD packets will not be\nsent from standby router.\n\nPreviously we also reverted [3] to always keep qg-* interface up on both\nactive&standby router's instance, no matter if keepalived is started or\nnot.\nWithout link-local address assigned, backup router's instance won't\nsend any packets, so I see no reason to keep qg-* interface down.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/834162\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/842983\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 7, 'created': '2022-05-24 11:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62e0765fa8ec27430a41bd92cae70a71bbad93a1', 'message': ""[L3-HA] Disable automatic link-local address assignment for HA routers\n\nIn order to get both [1] and [2] fixed, we set\n`net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\nprevent auto-assigning link-local address(lla) to the interfaces.\nWe don't need lla auto-assignment as keepalived manages them.\nWith this change, we will have link-local addresses only on active\nrouter, which will prevent 'dadfailed' and MLD packets will not be\nsent from standby router.\n\nPreviously we also reverted [3] to always keep qg-* interface up on both\nactive&standby router's instance, no matter if keepalived is started or\nnot.\nWithout link-local address assigned, backup router's instance won't\nsend any packets, so I see no reason to keep qg-* interface down.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/834162\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/834162\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}, {'number': 8, 'created': '2022-05-24 11:30:02.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5288593fafe6636fc14b8873465866d20de26935', 'message': ""[L3-HA] Disable automatic link-local address assignment for HA routers\n\nIn order to get both [1] and [2] fixed, we set\n`net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to\nprevent auto-assigning link-local address(lla) to the interfaces.\nWe don't need lla auto-assignment as keepalived manages them.\nWith this change, we will have link-local addresses only on active\nrouter, which will prevent 'dadfailed' and MLD packets will not be\nsent from standby router.\n\nPreviously we also reverted [3] to always keep qg-* interface up on both\nactive&standby router's instance, no matter if keepalived is started or\nnot.\nWithout link-local address assigned, backup router's instance won't\nsend any packets, so I see no reason to keep qg-* interface down.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1952907\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://review.opendev.org/c/openstack/neutron/+/834162\n\nCloses-Bug: #1952907\nRelated-Bug: #1859832\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/834162\nChange-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2\n""}]",34,839671,5288593fafe6636fc14b8873465866d20de26935,81,9,8,32666,,,0,"[L3-HA] Disable automatic link-local address assignment for HA routers

In order to get both [1] and [2] fixed, we set
`net.ipv6.conf.all.addr_gen_mode=1` in HA router namespace to
prevent auto-assigning link-local address(lla) to the interfaces.
We don't need lla auto-assignment as keepalived manages them.
With this change, we will have link-local addresses only on active
router, which will prevent 'dadfailed' and MLD packets will not be
sent from standby router.

Previously we also reverted [3] to always keep qg-* interface up on both
active&standby router's instance, no matter if keepalived is started or
not.
Without link-local address assigned, backup router's instance won't
send any packets, so I see no reason to keep qg-* interface down.

[1] https://bugs.launchpad.net/neutron/+bug/1952907
[2] https://bugs.launchpad.net/neutron/+bug/1859832
[3] https://review.opendev.org/c/openstack/neutron/+/834162

Closes-Bug: #1952907
Related-Bug: #1859832
Depends-On: https://review.opendev.org/c/openstack/neutron/+/834162
Change-Id: I306f14aa6b7e8bb69a81f441be337bc1a584d3b2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/839671/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/ha.py']",3,6c95d5dc701e418359f7577e679dbd75afe69a19,bug/1952907," ri.set_external_gw_port_link_status(link_up=True, set_gw=False)"," # Set external gateway port link up or down according to state if state == 'primary': ri.set_external_gw_port_link_status(link_up=True, set_gw=True) elif state == 'backup': ri.set_external_gw_port_link_status(link_up=False) else: LOG.warning('Router %s has status %s, ' 'no action to router gateway device.', router_id, state)",8,21
openstack%2Fopenstack-ansible-os_sahara~master~I1e637517953ba9a65e987c181464678c81365ec0,openstack/openstack-ansible-os_sahara,master,I1e637517953ba9a65e987c181464678c81365ec0,Use common service setup tasks from a collection rather than in-role,MERGED,2022-05-05 14:01:31.000000000,2022-05-26 20:32:04.000000000,2022-05-26 20:30:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-05 14:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/6916ee842c08e7fd9ef109c8df8d359fafefa12a', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I1e637517953ba9a65e987c181464678c81365ec0\n'}, {'number': 2, 'created': '2022-05-20 19:02:52.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/2ce1f60bde5faee806cba66f4c510cf8841b34b5', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/842758\nChange-Id: I1e637517953ba9a65e987c181464678c81365ec0\n'}]",5,840672,2ce1f60bde5faee806cba66f4c510cf8841b34b5,22,3,2,13095,,,0,"Use common service setup tasks from a collection rather than in-role

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/842758
Change-Id: I1e637517953ba9a65e987c181464678c81365ec0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/72/840672/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,6916ee842c08e7fd9ef109c8df8d359fafefa12a,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",21,333
openstack%2Fironic~master~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,master,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-19 18:11:44.000000000,2022-05-26 19:57:01.000000000,2022-05-26 19:54:24.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 18:11:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/63e53797adca625edd2fdacd16a025bedccf8731', 'message': 'CI: Removing ironic job queue\n\nChange-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8\nSee: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n'}]",2,842597,63e53797adca625edd2fdacd16a025bedccf8731,17,3,1,11655,,,0,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/842597/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,63e53797adca625edd2fdacd16a025bedccf8731,drop-queue-ironic,, queue: ironic,0,1
openstack%2Fos-brick~master~Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8,openstack/os-brick,master,Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8,PEP8: Don't force name in TODO,MERGED,2022-03-31 17:59:07.000000000,2022-05-26 19:32:47.000000000,2022-05-26 19:31:20.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9236}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-03-31 17:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3914d57f7ec166b1fd5be40d71dc33002f36aa74', 'message': ""PEP8: Don't force name in TODO\n\nThe Cinder team decided a while ago to not require a name in TODO\ncomments, since they don't provide additional value.\n\nThis patch removes this requirement from the flake8 configuration, so\nnow we no longer should add TODO comments as:\n\n    # TODO(geguileo): Improve this\n\nBut instead do naked TODO:\n\n    # TODO: Improve this\n\nChange-Id: Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8\n""}, {'number': 2, 'created': '2022-04-12 14:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f1c70eb0deb637b4a8ff8c93eb391217fd8c96bb', 'message': ""PEP8: Don't force name in TODO\n\nThe Cinder team decided a while ago to not require a name in TODO\ncomments, since they don't provide additional value.\n\nThis patch removes this requirement from the flake8 configuration, so\nnow we no longer should add TODO comments as:\n\n    # TODO(geguileo): Improve this\n\nBut instead do naked TODO:\n\n    # TODO: Improve this\n\nChange-Id: Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8\n""}, {'number': 3, 'created': '2022-05-11 14:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2d68a29d4b512c0f62081796d89c77278b32da1a', 'message': ""PEP8: Don't force name in TODO\n\nThe Cinder team decided a while ago to not require a name in TODO\ncomments, since they don't provide additional value.\n\nThis patch removes this requirement from the flake8 configuration, so\nnow we no longer should add TODO comments as:\n\n    # TODO(geguileo): Improve this\n\nBut instead do naked TODO:\n\n    # TODO: Improve this\n\nChange-Id: Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8\n""}, {'number': 4, 'created': '2022-05-25 08:36:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/62adedf6a6b94b6b7b4d69ac24bace18d86bdb70', 'message': ""PEP8: Don't force name in TODO\n\nThe Cinder team decided a while ago to not require a name in TODO\ncomments, since they don't provide additional value.\n\nThis patch removes this requirement from the flake8 configuration, so\nnow we no longer should add TODO comments as:\n\n    # TODO(geguileo): Improve this\n\nBut instead do naked TODO:\n\n    # TODO: Improve this\n\nChange-Id: Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8\n""}]",3,836058,62adedf6a6b94b6b7b4d69ac24bace18d86bdb70,47,7,4,9535,,,0,"PEP8: Don't force name in TODO

The Cinder team decided a while ago to not require a name in TODO
comments, since they don't provide additional value.

This patch removes this requirement from the flake8 configuration, so
now we no longer should add TODO comments as:

    # TODO(geguileo): Improve this

But instead do naked TODO:

    # TODO: Improve this

Change-Id: Iefa41fb72b3ddca14cc905cc4fb41acd215c47a8
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/58/836058/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3914d57f7ec166b1fd5be40d71dc33002f36aa74,nvme-4,"# H101 include name with TODO # reason: no real benefitignore = E251,W503,W504,H101","ignore = E251,W503,W504",3,1
openstack%2Foslo.utils~master~Iaae10962581b84b4ae2af1a064dd27d78c05dd4d,openstack/oslo.utils,master,Iaae10962581b84b4ae2af1a064dd27d78c05dd4d,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:58:12.000000000,2022-05-26 18:40:35.000000000,2022-05-26 18:39:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-19 11:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0399f6de44ac5a3ac324135b70d3a43085eba616', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Iaae10962581b84b4ae2af1a064dd27d78c05dd4d\n'}, {'number': 2, 'created': '2022-04-20 00:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c11e46e8519c7609bbad4f3551185933046859bd', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Iaae10962581b84b4ae2af1a064dd27d78c05dd4d\n'}, {'number': 3, 'created': '2022-04-22 01:28:16.000000000', 'files': ['oslo_utils/tests/test_netutils.py', 'oslo_utils/tests/test_strutils.py', 'doc/source/conf.py', 'oslo_utils/tests/test_secretutils.py', 'oslo_utils/strutils.py', 'oslo_utils/tests/tests_encodeutils.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/de2b367b48ebc8a95e3bdc5aec44c4de69cb08e1', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Iaae10962581b84b4ae2af1a064dd27d78c05dd4d\n'}]",5,838499,de2b367b48ebc8a95e3bdc5aec44c4de69cb08e1,18,4,3,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: Iaae10962581b84b4ae2af1a064dd27d78c05dd4d
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/99/838499/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_netutils.py', 'oslo_utils/tests/test_strutils.py', 'doc/source/conf.py', 'oslo_utils/tests/test_secretutils.py', 'oslo_utils/strutils.py', 'oslo_utils/tests/tests_encodeutils.py', 'releasenotes/source/conf.py']",7,0399f6de44ac5a3ac324135b70d3a43085eba616,,"copyright = '2016, oslo.utils Developers' 'oslo.utils Release Notes Documentation', 'oslo.utils Developers', 'manual'), 'oslo.utils Release Notes Documentation', ['oslo.utils Developers'], 1) 'oslo.utils Release Notes Documentation', 'oslo.utils Developers', 'oslo.utilsReleaseNotes',","copyright = u'2016, oslo.utils Developers' u'oslo.utils Release Notes Documentation', u'oslo.utils Developers', 'manual'), u'oslo.utils Release Notes Documentation', [u'oslo.utils Developers'], 1) u'oslo.utils Release Notes Documentation', u'oslo.utils Developers', 'oslo.utilsReleaseNotes',",50,50
openstack%2Fdiskimage-builder~master~Iee77daccc61e284b675d63eeb922eafd48ae8611,openstack/diskimage-builder,master,Iee77daccc61e284b675d63eeb922eafd48ae8611,Ensure passwd is installed on RH and derivatives,MERGED,2022-05-03 16:06:06.000000000,2022-05-26 18:04:43.000000000,2022-05-26 18:03:01.000000000,"[{'_account_id': 4146}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-03 16:06:06.000000000', 'files': ['diskimage_builder/elements/redhat-common/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7025d891c7638941fe6c543f5a0327fcb80e3f10', 'message': 'Ensure passwd is installed on RH and derivatives\n\nImages built from containers may not have this package, so just ensure\nits presence.\n\nChange-Id: Iee77daccc61e284b675d63eeb922eafd48ae8611\n'}]",1,840352,7025d891c7638941fe6c543f5a0327fcb80e3f10,16,5,1,34411,,,0,"Ensure passwd is installed on RH and derivatives

Images built from containers may not have this package, so just ensure
its presence.

Change-Id: Iee77daccc61e284b675d63eeb922eafd48ae8611
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/52/840352/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/redhat-common/package-installs.yaml'],1,7025d891c7638941fe6c543f5a0327fcb80e3f10,,passwd:,,1,0
openstack%2Fos-vif~master~I50253be0c99df9b363da5f6cc0c8502536dbbb43,openstack/os-vif,master,I50253be0c99df9b363da5f6cc0c8502536dbbb43,update job template to zed,MERGED,2022-05-26 11:31:44.000000000,2022-05-26 17:48:09.000000000,2022-05-26 17:44:20.000000000,"[{'_account_id': 4694}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 11:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/fb84f72ed84fbedf213475618c8ef93a28397761', 'message': '[trivial] update job template to zed\n\nThis change updates the python job template to zed\nthis will disable py36 jobs and enabel the default set\nfor zed. The repo presently used the yoga template\nwhich now fails as a result of project dropping py36 support.\n\nChange-Id: I50253be0c99df9b363da5f6cc0c8502536dbbb43\n'}, {'number': 2, 'created': '2022-05-26 13:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4c34ae53adcd9c5061acf1e6e36f1fd38e71d0d1', 'message': 'update job template to zed\n\nThis change updates the python job template to zed\nthis will disable py36 jobs and enable the default set\nfor zed. The repo presently used the yoga template\nwhich now fails as a result of project dropping py36 support.\n\nThis change also increases the min python reqired to 3.8\nto match the zed supported runtimes and adds a release note.\n\nChange-Id: I50253be0c99df9b363da5f6cc0c8502536dbbb43\n'}, {'number': 3, 'created': '2022-05-26 13:43:57.000000000', 'files': ['releasenotes/notes/drop-py36-support-0e9b07073f6ad73f.yaml', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a12edbfe5434261eff637fd98b2abe042af99b4e', 'message': 'update job template to zed\n\nThis change updates the python job template to zed\nthis will disable py36 jobs and enable the default set\nfor zed. The repo presently used the yoga template\nwhich now fails as a result of project dropping py36 support.\n\nThis change also increases the min python reqired to 3.8\nto match the zed supported runtimes and adds a release note.\n\nChange-Id: I50253be0c99df9b363da5f6cc0c8502536dbbb43\n'}]",1,843432,a12edbfe5434261eff637fd98b2abe042af99b4e,16,4,3,11604,,,0,"update job template to zed

This change updates the python job template to zed
this will disable py36 jobs and enable the default set
for zed. The repo presently used the yoga template
which now fails as a result of project dropping py36 support.

This change also increases the min python reqired to 3.8
to match the zed supported runtimes and adds a release note.

Change-Id: I50253be0c99df9b363da5f6cc0c8502536dbbb43
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/32/843432/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb84f72ed84fbedf213475618c8ef93a28397761,zed-job-template, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fnetworking-sfc~master~I3a583194249ce084fbbf13ac9d0cab14e1def4ff,openstack/networking-sfc,master,I3a583194249ce084fbbf13ac9d0cab14e1def4ff,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:37.000000000,2022-05-26 17:23:50.000000000,2022-05-26 17:18:48.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 03:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/14033217a00fb7e445ff535478d6e2c4ba5b88a7', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I3a583194249ce084fbbf13ac9d0cab14e1def4ff\n'}, {'number': 2, 'created': '2022-05-12 07:47:44.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-608a75a370abeb02.yaml', 'zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5c1e08bcfec6d9c85bce06da78a4485d289e6895', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I3a583194249ce084fbbf13ac9d0cab14e1def4ff\n'}]",3,841538,5c1e08bcfec6d9c85bce06da78a4485d289e6895,11,4,2,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I3a583194249ce084fbbf13ac9d0cab14e1def4ff
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/38/841538/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-608a75a370abeb02.yaml', 'setup.cfg']",2,14033217a00fb7e445ff535478d6e2c4ba5b88a7,drop-py3-6-7,python-requires = >=3.8 Programming Language :: Python :: 3.9,python-requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,7,3
openstack%2Fos-brick~master~Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,openstack/os-brick,master,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,MERGED,2022-04-04 18:12:19.000000000,2022-05-26 17:09:32.000000000,2022-05-26 17:08:14.000000000,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 9914}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-04-04 18:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c76d13ba7f7335277240e45e9a0007aad10dac03', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 2, 'created': '2022-04-08 11:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/dd9dc993e1088baf2d1efd88c21f1accd96adeae', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 3, 'created': '2022-04-19 17:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c84d82d26d23d6238f3fcaf265d302bb5faa7954', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 4, 'created': '2022-04-20 16:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bd846b51a2c0cd8c082d9fc77b3283d1e1dd9ea3', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 5, 'created': '2022-04-26 14:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f1b2159c763960ee336742ce245a614118a1f522', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 6, 'created': '2022-04-27 17:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fd1eecbbbca5a9872654676c65398e71c68cf9e4', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 7, 'created': '2022-04-29 19:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0d9c4cd3926b6c099dcbfe4146d14f31668d59a5', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 8, 'created': '2022-04-29 19:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/90f46447cad41fcc1f6a53596a077acbe0203127', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 9, 'created': '2022-05-11 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2fca258cb9e6296f18e31e4e8c4c863605b80456', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}, {'number': 10, 'created': '2022-05-25 08:36:30.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/lightos.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'os_brick/initiator/connectors/storpool.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1583a5038d34fd560b554e0eee5c1c5a7612722f', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n'}]",45,836391,1583a5038d34fd560b554e0eee5c1c5a7612722f,127,8,10,9535,,,0,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

Closes-Bug: #1964379
Closes-Bug: #1967790
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/91/836391/5 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/lightos.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'os_brick/initiator/connectors/storpool.py']",17,c76d13ba7f7335277240e45e9a0007aad10dac03,fix-decrypt,from os_brick import utils @utils.connect_volume_prepare_result @utils.connect_volume_undo_prepare_result @utils.connect_volume_undo_prepare_result,,495,184
openstack%2Fec2-api~stable%2Fussuri~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/ussuri,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,NEW,2022-05-26 16:45:46.000000000,2022-05-26 17:00:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 16:45:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a1d47942692232e113d988f639211bf6d8287407', 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)\n(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)\n(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)\n(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)\n(cherry picked from commit f69db1ed64a0562d2bc7346139be676402f3883c)\n'}]",0,843501,a1d47942692232e113d988f639211bf6d8287407,2,1,1,9816,,,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Conflicts:
	.zuul.yaml

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)
(cherry picked from commit f69db1ed64a0562d2bc7346139be676402f3883c)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/01/843501/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a1d47942692232e113d988f639211bf6d8287407,remove-tripleo,," # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario002-standalone",0,6
openstack%2Fnetworking-bgpvpn~master~I106df9f8fc2c6b5f2ce5398c2a15890be84df203,openstack/networking-bgpvpn,master,I106df9f8fc2c6b5f2ce5398c2a15890be84df203,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:24.000000000,2022-05-26 16:52:27.000000000,2022-05-26 16:49:01.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 03:29:24.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-97c0464e7a396023.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/07c35f941f5265b87d6ade2d9dee5eabf11289d4', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes, move py36 jobs to py38|9,\nand update the python classifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I106df9f8fc2c6b5f2ce5398c2a15890be84df203\n'}]",0,841535,07c35f941f5265b87d6ade2d9dee5eabf11289d4,8,3,1,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes, move py36 jobs to py38|9,
and update the python classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I106df9f8fc2c6b5f2ce5398c2a15890be84df203
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/35/841535/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-97c0464e7a396023.yaml', 'setup.cfg']",3,07c35f941f5265b87d6ade2d9dee5eabf11289d4,drop-py3-6-7,python_requires = >=3.8 Programming Language :: Python :: 3.9,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,11,7
openstack%2Fovsdbapp~master~I0acb988427944f4a166fc94c42c9546f184b7e62,openstack/ovsdbapp,master,I0acb988427944f4a166fc94c42c9546f184b7e62,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:50.000000000,2022-05-26 16:46:23.000000000,2022-05-26 16:43:02.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 03:29:50.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-8ae8ccf16e422fc4.yaml', 'zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/81bd6feafc7e7140226d8575624249083526389d', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I0acb988427944f4a166fc94c42c9546f184b7e62\n'}]",0,841540,81bd6feafc7e7140226d8575624249083526389d,8,3,1,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I0acb988427944f4a166fc94c42c9546f184b7e62
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/40/841540/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-8ae8ccf16e422fc4.yaml', 'zuul.d/project.yaml', 'setup.cfg']",3,81bd6feafc7e7140226d8575624249083526389d,drop-py3-6-7,python_requires = >=3.8 Programming Language :: Python :: 3.9,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,8,4
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I94dfbcd4ed073404fecf35473c1aa5d7bd66030b,openstack/tripleo-puppet-elements,stable/wallaby,I94dfbcd4ed073404fecf35473c1aa5d7bd66030b,Wallaby-only: Remove unused puppet modules,MERGED,2022-05-04 02:25:11.000000000,2022-05-26 16:35:06.000000000,2022-05-26 16:35:06.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-04 02:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/9c19f43e7d2030167651c8284e40899ca56502cf', 'message': 'Wallaby-only: Remove unused puppet modules\n\nThis backports the following commits in a single commit to clean up\nunused modules from overcloud images.\n\n- Remove puppet modules for Sensu/Uchiwa support\n- Remove fluentd module\n- Remove puppet-opendaylight\n- Remove puppetlabs-ntp\n- Remove puppet-ec2\n- Remove unused puppet-timezone\n- Remove leftover of Sahara support\n- Remove puppet-veritas_hypercale\n- Remove mistral\n- Remove zaqar\n- Remove unused puppet-ptp\n- Remove unused puppet-ceph\n- Remove unused puppet-kmod\n- Remove unused puppetlabs-vcsrepo\n- Remove unused puppet-certmonger\n- Remove unused reference to source repos\n- Remove unused puppet modules\n\nChange-Id: I94dfbcd4ed073404fecf35473c1aa5d7bd66030b\n'}, {'number': 2, 'created': '2022-05-04 02:29:01.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d6f724f491fd4d32c4d984aab5765a155bcb333c', 'message': 'Wallaby-only: Remove unused puppet modules\n\nThis backports the following commits in a single commit to clean up\nunused modules from overcloud images.\n\n- Remove puppet modules for Sensu/Uchiwa support\n- Remove fluentd module\n- Remove puppet-opendaylight\n- Remove puppetlabs-ntp\n- Remove puppet-ec2\n- Remove unused puppet-timezone\n- Remove leftover of Sahara support\n- Remove puppet-veritas_hypercale\n- Remove mistral\n- Remove zaqar\n- Remove unused puppet-ptp\n- Remove unused puppet-ceph\n- Remove unused puppet-kmod\n- Remove unused puppetlabs-vcsrepo\n- Remove unused puppet-certmonger\n- Remove unused puppet modules\n- Remove unused reference to source repos\n- Remove unused puppet modules\n\nChange-Id: I94dfbcd4ed073404fecf35473c1aa5d7bd66030b\n'}]",1,840400,d6f724f491fd4d32c4d984aab5765a155bcb333c,15,5,2,9816,,,0,"Wallaby-only: Remove unused puppet modules

This backports the following commits in a single commit to clean up
unused modules from overcloud images.

- Remove puppet modules for Sensu/Uchiwa support
- Remove fluentd module
- Remove puppet-opendaylight
- Remove puppetlabs-ntp
- Remove puppet-ec2
- Remove unused puppet-timezone
- Remove leftover of Sahara support
- Remove puppet-veritas_hypercale
- Remove mistral
- Remove zaqar
- Remove unused puppet-ptp
- Remove unused puppet-ceph
- Remove unused puppet-kmod
- Remove unused puppetlabs-vcsrepo
- Remove unused puppet-certmonger
- Remove unused puppet modules
- Remove unused reference to source repos
- Remove unused puppet modules

Change-Id: I94dfbcd4ed073404fecf35473c1aa5d7bd66030b
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/00/840400/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,9c19f43e7d2030167651c8284e40899ca56502cf,pe-cleanup-w,,puppet-ceph git /opt/stack/puppet-modules/ceph https://opendev.org/openstack/puppet-ceph.gitpuppet-certmonger git /opt/stack/puppet-modules/certmonger https://github.com/earsdown/puppet-certmonger.gitpuppet-gluster git /opt/stack/puppet-modules/gluster https://github.com/purpleidea/puppet-gluster.gitpuppet-healthcheck git /opt/stack/puppet-modules/healthcheck https://github.com/puppet-community/puppet-healthcheck.gitpuppet-mistral git /opt/stack/puppet-modules/mistral https://opendev.org/openstack/puppet-mistral.gitpuppet-opendaylight git /opt/stack/puppet-modules/opendaylight https://github.com/opendaylight/integration-packaging-puppet-opendaylightpuppet-sahara git /opt/stack/puppet-modules/sahara https://opendev.org/openstack/puppet-sahara.git sensu-puppet git /opt/stack/puppet-modules/sensu https://github.com/sensu/sensu-puppet.gitpuppet-staging git /opt/stack/puppet-modules/staging https://github.com/nanliu/puppet-staging.gitpuppet-timezone git /opt/stack/puppet-modules/timezone https://github.com/saz/puppet-timezone.git puppet-uchiwa git /opt/stack/puppet-modules/uchiwa https://github.com/Yelp/puppet-uchiwa.git puppetlabs-vcsrepo git /opt/stack/puppet-modules/vcsrepo https://github.com/puppetlabs/puppetlabs-vcsrepo.git puppet-vlan git /opt/stack/puppet-modules/vlan https://github.com/derekhiggins/puppet-vlan.gitpuppetlabs-ntp git /opt/stack/puppet-modules/ntp https://github.com/puppetlabs/puppetlabs-ntp.gitpuppetlabs-corosync git /opt/stack/puppet-modules/corosync https://github.com/puppetlabs/puppetlabs-corosync.gitpuppet_aviator git /opt/stack/puppet-modules/aviator https://github.com/aimonb/puppet_aviator.git puppet-openstack_extras git /opt/stack/puppet-modules/openstack_extras https://opendev.org/openstack/puppet-openstack_extras.git konstantin-fluentd git /opt/stack/puppet-modules/fluentd https://github.com/soylent/konstantin-fluentd.gitpuppet-kmod git /opt/stack/puppet-modules/kmod https://github.com/camptocamp/puppet-kmod.git puppet-zaqar git /opt/stack/puppet-modules/zaqar https://opendev.org/openstack/puppet-zaqar.git puppet-ec2api git /opt/stack/puppet-modules/ec2api https://opendev.org/openstack/puppet-ec2api.gitpuppet-veritas_hyperscale git /opt/stack/puppet-modules/veritas_hyperscale https://github.com/vtas-hyperscale-ci/puppet-veritas_hyperscale.git puppet-ptp git /opt/stack/puppet-modules/ptp https://github.com/redhat-nfvpe/ptp.git,1,47
openstack%2Fopenstack-ansible-ops~master~I5563d6493a6a53374170c4bdaa1edfbff85b300d,openstack/openstack-ansible-ops,master,I5563d6493a6a53374170c4bdaa1edfbff85b300d,Add journald input support to filebeat,MERGED,2022-05-26 12:22:44.000000000,2022-05-26 16:34:19.000000000,2022-05-26 16:29:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 12:22:44.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/79c11c0348bdf9a2ec4af7cf9b35bc1aa2d48122', 'message': 'Add journald input support to filebeat\n\nJournalbeat is removed in ELK 7.16 and merged into\nfilebeat. This patch adds defaults which allow this\ninput to be enabled via a single variable.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423\nChange-Id: I5563d6493a6a53374170c4bdaa1edfbff85b300d\n'}]",0,843447,79c11c0348bdf9a2ec4af7cf9b35bc1aa2d48122,8,3,1,31542,,,0,"Add journald input support to filebeat

Journalbeat is removed in ELK 7.16 and merged into
filebeat. This patch adds defaults which allow this
input to be enabled via a single variable.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423
Change-Id: I5563d6493a6a53374170c4bdaa1edfbff85b300d
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/47/843447/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_filebeat/defaults/main.yml'],1,79c11c0348bdf9a2ec4af7cf9b35bc1aa2d48122,beats-journald," # Journald supported from filebeat >= 7.16.0 - type: journald enabled: ""{{ filebeat_journald_enabled | default(false) }}"" paths: - /var/log/journal tags: - journal",,7,0
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ia693ee12e1cb474f849e2ce0f882ed6ada94066a,openstack/tripleo-puppet-elements,stable/wallaby,Ia693ee12e1cb474f849e2ce0f882ed6ada94066a,Remove support for Midonet plugin,MERGED,2022-05-04 02:03:04.000000000,2022-05-26 16:34:15.000000000,2022-05-26 16:34:15.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-04 02:03:04.000000000', 'files': ['elements/overcloud-network-midonet/extra-data.d/curator', 'elements/overcloud-network-midonet/install.d/74-rubygems', 'elements/overcloud-network-midonet/extra-data.d/60-create-midonet-repositories', 'elements/overcloud-network-midonet/environment.d/02-midonet-envs.bash', 'elements/overcloud-network-midonet/extra-data.d/midonet-mem', 'elements/overcloud-network-midonet/extra-data.d/datastax', 'elements/overcloud-network-midonet/extra-data.d/logstash', 'elements/overcloud-network-midonet/pkg-map', 'elements/overcloud-network-midonet/install.d/76-overcloud-network-midonet-source', 'elements/overcloud-network-midonet/extra-data.d/midonet-oss', 'elements/overcloud-network-midonet/install.d/package-installs-overcloud-network-midonet', 'elements/overcloud-network-midonet/README.md', 'elements/overcloud-network-midonet/element-deps', 'elements/overcloud-network-midonet/install.d/00-midonet-manager', 'elements/overcloud-network-midonet/source-repository-overcloud-network-midonet', 'elements/overcloud-network-midonet/extra-data.d/elasticsearch', 'elements/overcloud-network-midonet/extra-data.d/vbernat-llpd'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/032da106900f9561a45a006aedaeb832c345621f', 'message': 'Remove support for Midonet plugin\n\nDepends-on: https://review.opendev.org/670828\nChange-Id: Ia693ee12e1cb474f849e2ce0f882ed6ada94066a\n(cherry picked from commit 32c946e9225071a2aa64459ed6b2e418d1ecb168)\n'}]",2,840397,032da106900f9561a45a006aedaeb832c345621f,16,4,1,9816,,,0,"Remove support for Midonet plugin

Depends-on: https://review.opendev.org/670828
Change-Id: Ia693ee12e1cb474f849e2ce0f882ed6ada94066a
(cherry picked from commit 32c946e9225071a2aa64459ed6b2e418d1ecb168)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/97/840397/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-network-midonet/extra-data.d/curator', 'elements/overcloud-network-midonet/install.d/74-rubygems', 'elements/overcloud-network-midonet/extra-data.d/60-create-midonet-repositories', 'elements/overcloud-network-midonet/environment.d/02-midonet-envs.bash', 'elements/overcloud-network-midonet/extra-data.d/midonet-mem', 'elements/overcloud-network-midonet/extra-data.d/datastax', 'elements/overcloud-network-midonet/extra-data.d/logstash', 'elements/overcloud-network-midonet/pkg-map', 'elements/overcloud-network-midonet/install.d/76-overcloud-network-midonet-source', 'elements/overcloud-network-midonet/extra-data.d/midonet-oss', 'elements/overcloud-network-midonet/install.d/package-installs-overcloud-network-midonet', 'elements/overcloud-network-midonet/README.md', 'elements/overcloud-network-midonet/element-deps', 'elements/overcloud-network-midonet/install.d/00-midonet-manager', 'elements/overcloud-network-midonet/source-repository-overcloud-network-midonet', 'elements/overcloud-network-midonet/extra-data.d/elasticsearch', 'elements/overcloud-network-midonet/extra-data.d/vbernat-llpd']",17,032da106900f9561a45a006aedaeb832c345621f,pe-cleanup-w,,[vbernat-lldpd] name=vbernat-lldpd baseurl=http://download.opensuse.org/repositories/home:/vbernat/RHEL_7/ enabled=1 gpgcheck=1 gpgkey=http://download.opensuse.org/repositories/home:/vbernat/RHEL_7/repodata/repomd.xml.key ,0,287
openstack%2Fskyline-apiserver~master~If0e8a2e73d0a7bf238e36119e678f813aedcbd40,openstack/skyline-apiserver,master,If0e8a2e73d0a7bf238e36119e678f813aedcbd40,fix: Use the correct job for post,MERGED,2022-05-26 14:15:00.000000000,2022-05-26 16:32:02.000000000,2022-05-26 16:32:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-05-26 14:15:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ed1fb8ffca1181c3a9c66d10383f01fc997c23f4', 'message': 'fix: Use the correct job for post\n\nUse the correct job for post. Use publish-openstack-python-branch-tarball\ninstead of publish-openstack-python-tarball.\n\nChange-Id: If0e8a2e73d0a7bf238e36119e678f813aedcbd40\n'}]",1,843470,ed1fb8ffca1181c3a9c66d10383f01fc997c23f4,8,2,1,28706,,,0,"fix: Use the correct job for post

Use the correct job for post. Use publish-openstack-python-branch-tarball
instead of publish-openstack-python-tarball.

Change-Id: If0e8a2e73d0a7bf238e36119e678f813aedcbd40
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/70/843470/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed1fb8ffca1181c3a9c66d10383f01fc997c23f4,, - publish-openstack-python-branch-tarball, - publish-openstack-python-tarball,1,1
openstack%2Fopenstack-ansible-ops~master~I4cafc29bde353f4cf1286af73617b1ad3d5fea3d,openstack/openstack-ansible-ops,master,I4cafc29bde353f4cf1286af73617b1ad3d5fea3d,kibana: add configuration option for base url,MERGED,2022-05-26 12:26:27.000000000,2022-05-26 16:30:58.000000000,2022-05-26 16:27:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 12:26:27.000000000', 'files': ['elk_metrics_7x/roles/elastic_kibana/defaults/main.yml', 'elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/34d981cab60090ccd62b0d7a0d37c42d9aab89a4', 'message': 'kibana: add configuration option for base url\n\nRecent versions of ELK complain when this URL is not\nset. This parameters allows users to set the URL which\nis used to access Kibana.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423\n\nChange-Id: I4cafc29bde353f4cf1286af73617b1ad3d5fea3d\n'}]",0,843452,34d981cab60090ccd62b0d7a0d37c42d9aab89a4,8,3,1,31542,,,0,"kibana: add configuration option for base url

Recent versions of ELK complain when this URL is not
set. This parameters allows users to set the URL which
is used to access Kibana.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: I4cafc29bde353f4cf1286af73617b1ad3d5fea3d
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/52/843452/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_kibana/defaults/main.yml', 'elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2']",2,34d981cab60090ccd62b0d7a0d37c42d9aab89a4,kibana-url,"# Specifies the public URL at which Kibana is available for end users. If # `server.basePath` is configured this URL should end with the same basePath. {% if kibana_base_url is defined %} server.publicBaseUrl: ""{{ kibana_base_url }}"" {% endif %} ",,9,0
openstack%2Fopenstack-ansible-ops~master~Ib889cc7ac7ad2540031016075cb5baab091bd6e3,openstack/openstack-ansible-ops,master,Ib889cc7ac7ad2540031016075cb5baab091bd6e3,Update beat templates from 7.11 reference,MERGED,2021-03-05 07:43:56.000000000,2022-05-26 16:29:43.000000000,2022-05-26 16:29:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-05 07:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a41f143e2a41e637dfc76c7a12b6970379b7ad04', 'message': 'Update beat templates from 7.11 reference\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 2, 'created': '2021-03-05 08:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c0f6095ee1e768e052fa90d5523da570e316f061', 'message': 'Update beat templates from 7.11 reference\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 3, 'created': '2021-03-05 08:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ff5bc8fbb80febf53d1412a25fe6dc2a5f270458', 'message': 'Update beat templates from 7.11 reference\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 4, 'created': '2021-03-05 11:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0e036077e47d45d6221187322c3139e689a6b22f', 'message': 'Update beat templates from 7.11 reference\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 5, 'created': '2021-03-05 11:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b03f1292489ad6108794794ab8c52da2c48c41b7', 'message': 'Update beat templates from 7.11 reference\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 6, 'created': '2021-03-05 12:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0767bca0e1b6e4bf2627775a646034d0ea4ef082', 'message': 'Update beat templates from 7.11 reference\n\nDepends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 7, 'created': '2021-03-08 07:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7860974e833bc0508e3ef32e61fb4ab531f2c9b2', 'message': 'Update beat templates from 7.11 reference\n\nDepends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 8, 'created': '2022-05-24 10:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3c74a07ac9e9ab06196f696ae1d8d55f9a3da2ba', 'message': 'Update beat templates from 7.11 reference\n\nDepends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}, {'number': 9, 'created': '2022-05-26 12:19:17.000000000', 'files': ['elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elastic_apm_server/templates/apm-server.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f97ebbf99048834467b072305308d05a9130a12b', 'message': 'Update beat templates from 7.11 reference\n\nDepends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423\n\nChange-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3\n'}]",0,778849,f97ebbf99048834467b072305308d05a9130a12b,31,6,9,25600,,,0,"Update beat templates from 7.11 reference

Depends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: Ib889cc7ac7ad2540031016075cb5baab091bd6e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/49/778849/9 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elastic_apm_server/templates/apm-server.yml.j2']",8,a41f143e2a41e637dfc76c7a12b6970379b7ad04,,"######################### APM Server Configuration ######################### ################################ APM Server ################################ # Defines the host and port the server is listening on. Use ""unix:/path/to.sock"" to listen on a unix domain socket. # Maximum amount of time to wait for the next incoming request before underlying connection is closed. #idle_timeout: 45s # Maximum permitted duration for reading an entire request. #read_timeout: 30s # Maximum permitted duration for writing a response. #write_timeout: 30s # Maximum duration before releasing resources when shutting down the server. # Maximum permitted size in bytes of an event accepted by the server to be processed. #max_event_size: 307200 # Maximum number of new connections to accept simultaneously (0 means unlimited). #max_connections: 0 # Custom HTTP headers to add to all HTTP responses, e.g. for security policy compliance. #response_headers: # X-My-Header: Contents of the header # If true (default), APM Server captures the IP of the instrumented service # or the IP and User Agent of the real user (RUM requests). #capture_personal_data: true # Enable APM Server Golang expvar support (https://golang.org/pkg/expvar/). #expvar: #enabled: false # Url to expose expvar. #url: ""/debug/vars"" # A pipeline is a definition of processors applied to documents when ingesting them to Elasticsearch. # Using pipelines involves two steps: # (1) registering a pipeline # (2) applying a pipeline during data ingestion (see `output.elasticsearch.pipeline`) # # You can manually register a pipeline, or use this configuration option to ensure # the pipeline is loaded and registered at the configured Elasticsearch instances. # Find the default pipeline configuration at `ingest/pipeline/definition.json`. # Automatic pipeline registration requires the `output.elasticsearch` to be enabled and configured. #register.ingest.pipeline: # Registers APM pipeline definition in Elasticsearch on APM Server startup. Defaults to true. #enabled: true # Overwrites existing APM pipeline definition in Elasticsearch. Defaults to false. #overwrite: false #---------------------------- APM Server - Secure Communication with Agents ---------------------------- # Enable secure communication between APM agents and the server. By default ssl is disabled. #ssl: #enabled: false # Path to file containing the certificate for server authentication. # Needs to be configured when ssl is enabled. #certificate: '' # Path to file containing server certificate key. # Needs to be configured when ssl is enabled. #key: '' # Optional configuration options for ssl communication. # Passphrase for decrypting the Certificate Key. # It is recommended to use the provided keystore instead of entering the passphrase in plain text. #key_passphrase: '' # List of supported/valid protocol versions. By default TLS versions 1.1 up to 1.3 are enabled. #supported_protocols: [TLSv1.1, TLSv1.2, TLSv1.3] # Configure cipher suites to be used for SSL connections. # Note that cipher suites are not configurable for TLS 1.3. #cipher_suites: [] # Configure curve types for ECDHE based cipher suites. #curve_types: [] # The APM Server endpoints can be secured by configuring a secret token or enabling the usage of API keys. Both # options can be enabled in parallel, allowing Elastic APM agents to chose whichever mechanism they support. # As soon as one of the options is enabled, requests without a valid token are denied by the server. An exception # to this are requests to any enabled RUM endpoint. RUM endpoints are generally not secured by any token. # # Configure authorization via a common `secret_token`. By default it is disabled. # Agents include the token in the following format: Authorization: Bearer <secret-token>. # It is recommended to use an authorization token in combination with SSL enabled, # and save the token in the apm-server keystore. # Enable API key authorization by setting enabled to true. By default API key support is disabled. # Agents include a valid API key in the following format: Authorization: ApiKey <token>. # The key must be the base64 encoded representation of the API key's ""id:key"". # This is an experimental feature, use with care. #api_key: #enabled: false # Restrict how many unique API keys are allowed per minute. Should be set to at least the amount of different # API keys configured in your monitored services. Every unique API key triggers one request to Elasticsearch. #limit: 100 # API keys need to be fetched from Elasticsearch. If nothing is configured, configuration settings from the # output section will be reused. # Note that configuration needs to point to a secured Elasticsearch cluster that is able to serve API key requests. #elasticsearch: #hosts: [""localhost:9200""] #protocol: ""http"" # Username and password are only needed for the apm-server apikey sub-command, and they are ignored otherwise # See `apm-server apikey --help` for details. #username: ""elastic"" #password: ""changeme"" # Optional HTTP Path. #path: """" # Proxy server url. #proxy_url: """" #proxy_disable: false # Configure http request timeout before failing an request to Elasticsearch. #timeout: 5s # Enable custom SSL settings. Set to false to ignore custom SSL settings for secure communication. #ssl.enabled: true # Optional SSL configuration options. SSL is off by default, change the `protocol` option if you want to enable `https`. # Configure SSL verification mode. If `none` is configured, all server hosts # and certificates will be accepted. In this mode, SSL based connections are # susceptible to man-in-the-middle attacks. Use only for testing. Default is # `full`. #ssl.verification_mode: full # List of supported/valid TLS versions. By default all TLS versions 1.0 up to # 1.2 are enabled. #ssl.supported_protocols: [TLSv1.0, TLSv1.1, TLSv1.2] # List of root certificates for HTTPS server verifications. #ssl.certificate_authorities: [""/etc/pki/root/ca.pem""] # Certificate for SSL client authentication. #ssl.certificate: ""/etc/pki/client/cert.pem"" # Client Certificate Key #ssl.key: ""/etc/pki/client/cert.key"" # Optional passphrase for decrypting the Certificate Key. # It is recommended to use the provided keystore instead of entering the passphrase in plain text. #ssl.key_passphrase: '' # Configure cipher suites to be used for SSL connections. #ssl.cipher_suites: [] # Configure curve types for ECDHE based cipher suites. #ssl.curve_types: [] # Configure what types of renegotiation are supported. Valid options are # never, once, and freely. Default is never. #ssl.renegotiation: never #---------------------------- APM Server - RUM Real User Monitoring ---------------------------- # Enable Real User Monitoring (RUM) Support. By default RUM is disabled. # RUM does not support token based authorization. Enabled RUM endpoints will not require any authorization # token configured for other endpoints. rum: #event_rate: # Defines the maximum amount of events allowed to be sent to the APM Server RUM # endpoint per IP per second. Defaults to 300. #limit: 300 # An LRU cache is used to keep a rate limit per IP for the most recently seen IPs. # This setting defines the number of unique IPs that can be tracked in the cache. # Sites with many concurrent clients should consider increasing this limit. Defaults to 1000. #lru_size: 1000 #-- General RUM settings # A list of permitted origins for real user monitoring. # User-agents will send an origin header that will be validated against this list. # If an item in the list is a single '*', everything will be allowed. # A list of Access-Control-Allow-Headers to allow RUM requests, in addition to ""Content-Type"", # ""Content-Encoding"", and ""Accept"" #allow_headers : [] # Custom HTTP headers to add to RUM responses, e.g. for security policy compliance. #response_headers : # X-My-Header: Contents of the header # The default pattern excludes stacktrace frames that have a filename starting with '/webpack' # If a source map has previously been uploaded, source mapping is automatically applied. # to all error and transaction documents sent to the RUM endpoint. # Sourcemapping is enabled by default. #enabled: true # Source maps are always fetched from Elasticsearch, by default using the output.elasticsearch configuration. # A different instance must be configured when using any other output. # This setting only affects sourcemap reads - the output determines where sourcemaps are written. #elasticsearch: # Array of hosts to connect to. # Scheme and port can be left out and will be set to the default (`http` and `9200`). # In case you specify and additional path, the scheme is required: `http://localhost:9200/path`. # IPv6 addresses should always be defined as: `https://[2001:db8::1]:9200`. # hosts: [""localhost:9200""] # Protocol - either `http` (default) or `https`. #protocol: ""https"" # Authentication credentials - either API key or username/password. #api_key: ""id:api_key"" #username: ""elastic"" #password: ""changeme"" # Source maps are stored in a separate index. # If the default index pattern for source maps at 'outputs.elasticsearch.indices' # is changed, a matching index pattern needs to be specified here. #index_pattern: ""apm-*-sourcemap*"" #---------------------------- APM Server - Agent Configuration ---------------------------- # When using APM agent configuration, information fetched from Kibana will be cached in memory for some time. # Specify cache key expiration via this setting. Default is 30 seconds. #agent.config.cache.expiration: 30s {% if (groups['kibana'] | length) > 0 %} kibana: # For APM Agent configuration in Kibana, enabled must be true. enabled: true # Scheme and port can be left out and will be set to the default (`http` and `5601`). # In case you specify an additional path, the scheme is required: `http://localhost:5601/path`. # IPv6 addresses should always be defined as: `https://[2001:db8::1]:5601`. host: {{ hostvars[groups['kibana'][0]]['ansible_host'] ~ ':' ~ kibana_port }} # Optional protocol and basic auth credentials. #protocol: ""https"" #username: ""elastic"" #password: ""changeme"" # Optional HTTP path. #path: """" # Enable custom SSL settings. Set to false to ignore custom SSL settings for secure communication. #ssl.enabled: true # Optional SSL configuration options. SSL is off by default, change the `protocol` option if you want to enable `https`. # Configure SSL verification mode. If `none` is configured, all server hosts # and certificates will be accepted. In this mode, SSL based connections are # susceptible to man-in-the-middle attacks. Use only for testing. Default is # `full`. #ssl.verification_mode: full # List of supported/valid TLS versions. By default all TLS versions 1.0 up to # 1.2 are enabled. #ssl.supported_protocols: [TLSv1.0, TLSv1.1, TLSv1.2] # List of root certificates for HTTPS server verifications. #ssl.certificate_authorities: [""/etc/pki/root/ca.pem""] # Certificate for SSL client authentication. #ssl.certificate: ""/etc/pki/client/cert.pem"" # Client Certificate Key #ssl.key: ""/etc/pki/client/cert.key"" # Optional passphrase for decrypting the Certificate Key. # It is recommended to use the provided keystore instead of entering the passphrase in plain text. #ssl.key_passphrase: '' # Configure cipher suites to be used for SSL connections. #ssl.cipher_suites: [] # Configure curve types for ECDHE based cipher suites. #ssl.curve_types: [] {% endif %} #---------------------------- APM Server - ILM Index Lifecycle Management ---------------------------- #ilm: # Supported values are `auto`, `true` and `false`. # `true`: Make use of Elasticsearch's Index Lifecycle Management (ILM) for APM indices. If no Elasticsearch output is # configured or the configured instance does not support ILM, APM Server cannot apply ILM and must create # unmanaged indices instead. # `false`: APM Server does not make use of ILM in Elasticsearch. # `auto`: If an Elasticsearch output is configured with default index and indices settings, and the configured # Elasticsearch instance supports ILM, `auto` will resolve to `true`. Otherwise `auto` will resolve to `false`. # Default value is `auto`. #enabled: ""auto"" #setup: # Only disable setup if you want to set up everything related to ILM on your own. # When setup is enabled, the APM Server creates: # - aliases and ILM policies if `apm-server.ilm.enabled` resolves to `true`. # - An ILM specific template per event type. This is required to map ILM aliases and policies to indices. In case # ILM is disabled, the templates will be created without any ILM settings. # Be aware that if you turn off setup, you need to manually manage event type specific templates on your own. # If you simply want to disable ILM, use the above setting, `apm-server.ilm.enabled`, instead. # Defaults to true. #enabled: true # Configure whether or not existing policies and ILM related templates should be updated. This needs to be # set to true when customizing your policies. # Defaults to false. #overwrite: false # Set `require_policy` to `false` when policies are set up outside of APM Server but referenced here. # Default value is `true`. #require_policy: true # Customized mappings will be merged with the default setup, so you only need to configure mappings for the # event types, policies, and index suffixes that you want to customize. # Indices are named in this way: `apm-%{[observer.version]}-%{[event.type]}-{index_suffix}`, # e.g., apm-7.9.0-span-custom*. The `index_suffix` is optional. # NOTE: When configuring an `index_suffix`, ensure that no previously set up templates conflict with the # newly configured ones. If an index matches multiple templates with the same order, the settings of # the templates will override each other. Any conflicts need to be cleaned up manually. # NOTE: When customizing `setup.template.name` and `setup.template.pattern`, ensure they still match the indices. #mapping: #- event_type: ""error"" # policy_name: ""apm-rollover-30-days"" # index_suffix: """" #- event_type: ""span"" # policy_name: ""apm-rollover-30-days"" # index_suffix: """" #- event_type: ""transaction"" # policy_name: ""apm-rollover-30-days"" # index_suffix: """" #- event_type: ""metric"" # policy_name: ""apm-rollover-30-days"" # index_suffix: """" # Configured policies are added to pre-defined default policies. # If a policy with the same name as a default policy is configured, the configured policy overwrites the default policy. #policies: #- name: ""apm-rollover-30-days"" #policy: #phases: #hot: #actions: #rollover: #max_size: ""50gb"" #max_age: ""30d"" #set_priority: #priority: 100 #warm: #min_age: ""30d"" #actions: #set_priority: #priority: 50 #readonly: {} #---------------------------- APM Server - Experimental Jaeger integration ---------------------------- # When enabling Jaeger integration, APM Server acts as Jaeger collector. It supports jaeger.thrift over HTTP # and gRPC. This is an experimental feature, use with care. #jaeger: #grpc: # Set to true to enable the Jaeger gRPC collector service. #enabled: false # Defines the gRPC host and port the server is listening on. # Defaults to the standard Jaeger gRPC collector port 14250. #host: ""localhost:14250"" # Set to the name of a process tag to use for authorizing # Jaeger agents. # # The tag value should have the same format as an HTTP # Authorization header, i.e. ""Bearer <secret_token>"" or # ""ApiKey <base64(id:key)>"". # # By default (if the auth_tag value is empty), authorization # does not apply to Jaeger agents. #auth_tag: """" #http: # Set to true to enable the Jaeger HTTP collector endpoint. #enabled: false # Defines the HTTP host and port the server is listening on. # Defaults to the standard Jaeger HTTP collector port 14268. #host: ""localhost:14268"" #================================= General ================================= # Data is buffered in a memory queue before it is published to the configured output. # The memory queue will present all available events (up to the outputs # bulk_max_size) to the output, the moment the output is ready to serve # another batch of events. #queue: # Queue type by name (default 'mem'). # The default value is set to 2048. # A value of 0 ensures events are immediately available # if the number of events stored in the queue is < `flush.min_events`.#================================= Template ================================= {{ elk_macros.setup_template('apm', inventory_hostname, data_nodes, elasticsearch_beat_settings) }} #============================= Elastic Cloud ============================= # These settings simplify using APM Server with the Elastic Cloud (https://cloud.elastic.co/). # The cloud.id setting overwrites the `output.elasticsearch.hosts` option. # You can find the `cloud.id` in the Elastic Cloud web UI. #cloud.id: # The cloud.auth setting overwrites the `output.elasticsearch.username` and # `output.elasticsearch.password` settings. The format is `<user>:<pass>`. #cloud.auth: #================================ Outputs ================================= # Configure the output to use when sending the data collected by apm-server. #-------------------------- Elasticsearch output -------------------------- {{ elk_macros.output_elasticsearch('apm-server', inventory_hostname, elasticsearch_data_hosts) }} #----------------------------- Console output ----------------------------- #output.console: # Boolean flag to enable or disable the output module. #enabled: false # Configure JSON encoding. #codec.json: # Pretty-print JSON event. #pretty: false # Configure escaping HTML symbols in strings. #escape_html: false #---------------------------- Logstash output ----------------------------- #output.logstash: # Boolean flag to enable or disable the output module. #enabled: false # The Logstash hosts. #hosts: [""localhost:5044""] # Number of workers per Logstash host. #worker: 1 # Set gzip compression level. #compression_level: 3 # Configure escaping html symbols in strings. #escape_html: true # Optional maximum time to live for a connection to Logstash, after which the # connection will be re-established. A value of `0s` (the default) will # disable this feature. # # Not yet supported for async connections (i.e. with the ""pipelining"" option set). #ttl: 30s # Optional load balance the events between the Logstash hosts. Default is false. #loadbalance: false # Number of batches to be sent asynchronously to Logstash while processing # new batches. #pipelining: 2 # If enabled only a subset of events in a batch of events is transferred per # group. The number of events to be sent increases up to `bulk_max_size` # if no error is encountered. #slow_start: false # The number of seconds to wait before trying to reconnect to Logstash # after a network error. After waiting backoff.init seconds, apm-server # tries to reconnect. If the attempt fails, the backoff timer is increased # exponentially up to backoff.max. After a successful connection, the backoff # timer is reset. The default is 1s. #backoff.init: 1s # The maximum number of seconds to wait before attempting to connect to # Logstash after a network error. The default is 60s. #backoff.max: 60s # Optional index name. The default index name is set to apm # in all lowercase. #index: 'apm' # SOCKS5 proxy server URL #proxy_url: socks5://user:password@socks5-server:2233 # Resolve names locally when using a proxy server. Defaults to false. #proxy_use_local_resolver: false # Enable SSL support. SSL is automatically enabled if any SSL setting is set. #ssl.enabled: false # Optional SSL configuration options. SSL is off by default. # Configure SSL verification mode. If `none` is configured, all server hosts # and certificates will be accepted. In this mode, SSL based connections are # susceptible to man-in-the-middle attacks. Use only for testing. Default is # `full`. #ssl.verification_mode: full # List of supported/valid TLS versions. By default all TLS versions 1.0 up to # 1.2 are enabled. #ssl.supported_protocols: [TLSv1.0, TLSv1.1, TLSv1.2] # List of root certificates for HTTPS server verifications. #ssl.certificate_authorities: [""/etc/pki/root/ca.pem""] # Certificate for SSL client authentication. #ssl.certificate: ""/etc/pki/client/cert.pem"" # Client Certificate Key #ssl.key: ""/etc/pki/client/cert.key"" # Optional passphrase for decrypting the Certificate Key. # It is recommended to use the provided keystore instead of entering the passphrase in plain text. #ssl.key_passphrase: '' # Configure cipher suites to be used for SSL connections. #ssl.cipher_suites: [] # Configure curve types for ECDHE based cipher suites. #ssl.curve_types: [] # Configure what types of renegotiation are supported. Valid options are # never, once, and freely. Default is never. #ssl.renegotiation: never #------------------------------ Kafka output ------------------------------ #output.kafka: # Boolean flag to enable or disable the output module. #enabled: false # The list of Kafka broker addresses from where to fetch the cluster metadata. # The cluster metadata contain the actual Kafka brokers events are published # to. #hosts: [""localhost:9092""] # The Kafka topic used for produced events. The setting can be a format string # using any event field. To set the topic from document type use `%{[type]}`. #topic: beats # The Kafka event key setting. Use format string to create unique event key. # By default no event key will be generated. #key: '' # The Kafka event partitioning strategy. Default hashing strategy is `hash` # using the `output.kafka.key` setting or randomly distributes events if # `output.kafka.key` is not configured. #partition.hash: # If enabled, events will only be published to partitions with reachable # leaders. Default is false. #reachable_only: false # Configure alternative event field names used to compute the hash value. # If empty `output.kafka.key` setting will be used. # Default value is empty list. #hash: [] # Authentication details. Password is required if username is set. #username: '' #password: '' # Kafka version libbeat is assumed to run against. Defaults to the ""1.0.0"". #version: '1.0.0' # Configure JSON encoding. #codec.json: # Pretty print json event #pretty: false # Configure escaping html symbols in strings. #escape_html: true # Metadata update configuration. Metadata do contain leader information # deciding which broker to use when publishing. #metadata: # Max metadata request retry attempts when cluster is in middle of leader # election. Defaults to 3 retries. #retry.max: 3 # Waiting time between retries during leader elections. Default is 250ms. #retry.backoff: 250ms # Refresh metadata interval. Defaults to every 10 minutes. #refresh_frequency: 10m # The number of concurrent load-balanced Kafka output workers. #worker: 1 # The number of times to retry publishing an event after a publishing failure. # After the specified number of retries, the events are typically dropped. # Set max_retries to a value less than 0 to retry # until all events are published. The default is 3. #max_retries: 3 # The maximum number of events to bulk in a single Kafka request. The default # is 2048. #bulk_max_size: 2048 # The number of seconds to wait for responses from the Kafka brokers before # timing out. The default is 30s. #timeout: 30s # The maximum duration a broker will wait for number of required ACKs. The # default is 10s. #broker_timeout: 10s # The number of messages buffered for each Kafka broker. The default is 256. #channel_buffer_size: 256 # The keep-alive period for an active network connection. If 0s, keep-alives # are disabled. The default is 0 seconds. #keep_alive: 0 # Sets the output compression codec. Must be one of none, snappy and gzip. The # default is gzip. #compression: gzip # Set the compression level. Currently only gzip provides a compression level # between 0 and 9. The default value is chosen by the compression algorithm. #compression_level: 4 # The maximum permitted size of JSON-encoded messages. Bigger messages will be # dropped. The default value is 1000000 (bytes). This value should be equal to # or less than the broker's message.max.bytes. #max_message_bytes: 1000000 # The ACK reliability level required from broker. 0=no response, 1=wait for # local commit, -1=wait for all replicas to commit. The default is 1. Note: # If set to 0, no ACKs are returned by Kafka. Messages might be lost silently # on error. #required_acks: 1 # The configurable ClientID used for logging, debugging, and auditing # purposes. The default is ""beats"". #client_id: beats # Enable SSL support. SSL is automatically enabled if any SSL setting is set. #ssl.enabled: false # Optional SSL configuration options. SSL is off by default. # Configure SSL verification mode. If `none` is configured, all server hosts # and certificates will be accepted. In this mode, SSL based connections are # susceptible to man-in-the-middle attacks. Use only for testing. Default is # `full`. #ssl.verification_mode: full # List of supported/valid TLS versions. By default all TLS versions 1.0 up to # 1.2 are enabled. #ssl.supported_protocols: [TLSv1.0, TLSv1.1, TLSv1.2] # List of root certificates for HTTPS server verifications. #ssl.certificate_authorities: [""/etc/pki/root/ca.pem""] # Certificate for SSL client authentication. #ssl.certificate: ""/etc/pki/client/cert.pem"" # Client Certificate Key #ssl.key: ""/etc/pki/client/cert.key"" # Optional passphrase for decrypting the Certificate Key. # It is recommended to use the provided keystore instead of entering the passphrase in plain text. #ssl.key_passphrase: '' # Configure cipher suites to be used for SSL connections. #ssl.cipher_suites: [] # Configure curve types for ECDHE based cipher suites. #ssl.curve_types: [] # Configure what types of renegotiation are supported. Valid options are # never, once, and freely. Default is never. #ssl.renegotiation: never # Authentication type to use with Kerberos. Available options: keytab, password. #kerberos.auth_type: password # Path to the keytab file. It is used when auth_type is set to keytab. #kerberos.keytab: /etc/krb5kdc/kafka.keytab # Path to the Kerberos configuration. #kerberos.config_path: /etc/path/config # The service principal name. #kerberos.service_name: HTTP/my-service@realm # Name of the Kerberos user. It is used when auth_type is set to password. #kerberos.username: elastic # Password of the Kerberos user. It is used when auth_type is set to password. #kerberos.password: changeme # Kerberos realm. #kerberos.realm: ELASTIC #============================= Instrumentation ============================= # Instrumentation support for the server's HTTP endpoints and event publisher. #instrumentation: # Set to true to enable instrumentation of the APM Server itself. #enabled: false # Environment in which the APM Server is running on (eg: staging, production, etc.) #environment: """" # Hosts to report instrumentation results to. # For reporting to itself, leave this field commented #hosts: # - http://remote-apm-server:8200 # API Key for the remote APM Server(s). # If api_key is set then secret_token will be ignored. #api_key: # Secret token for the remote APM Server(s). #secret_token: # Enable profiling of the server, recording profile samples as events. # # This feature is experimental. #profiling: #cpu: # Set to true to enable CPU profiling. #enabled: false #interval: 60s #duration: 10s #heap: # Set to true to enable heap profiling. #enabled: false #interval: 60s #================================= Paths ==================================# distribution.# The logs path for an apm-server installation. If not set by a CLI flag or in the # configuration file, the default is a logs subdirectory inside the home path.#================================= Logging =================================#=============================== HTTP Endpoint =============================== # apm-server can expose internal metrics through a HTTP endpoint. For security # reasons the endpoint is disabled by default. This feature is currently experimental. # Stats can be access through http://localhost:5066/stats. For pretty JSON output # append ?pretty to the URL. # Defines if the HTTP endpoint is enabled. #http.enabled: false # The HTTP endpoint will bind to this hostname or IP address. It is recommended to use only localhost. #http.host: localhost # Port on which the HTTP endpoint will bind. Default is 5066. #http.port: 5066 #============================= X-pack Monitoring ============================= # APM server can export internal metrics to a central Elasticsearch monitoring # cluster. This requires x-pack monitoring to be enabled in Elasticsearch. The # reporting is disabled by default. # Set to true to enable the monitoring reporter. #monitoring.enabled: false # Most settings from the Elasticsearch output are accepted here as well. # Note that these settings should be configured to point to your Elasticsearch *monitoring* cluster. # Any setting that is not set is automatically inherited from the Elasticsearch # output configuration. This means that if you have the Elasticsearch output configured, # you can simply uncomment the following line. #monitoring.elasticsearch: # Protocol - either `http` (default) or `https`. #protocol: ""https"" # Authentication credentials - either API key or username/password. #api_key: ""id:api_key"" #username: ""elastic"" #password: ""changeme"" # Array of hosts to connect to. # Scheme and port can be left out and will be set to the default (`http` and `9200`). # In case you specify and additional path, the scheme is required: `http://localhost:9200/path`. # IPv6 addresses should always be defined as: `https://[2001:db8::1]:9200`. #hosts: [""localhost:9200""] # Set gzip compression level. #compression_level: 0 # Dictionary of HTTP parameters to pass within the URL with index operations. #parameters: #param1: value1 #param2: value2 # Custom HTTP headers to add to each request. #headers: # X-My-Header: Contents of the header # Proxy server url. #proxy_url: http://proxy:3128 # The number of times a particular Elasticsearch index operation is attempted. If # the indexing operation doesn't succeed after this many retries, the events are # dropped. The default is 3. #max_retries: 3 # The maximum number of events to bulk in a single Elasticsearch bulk API index request. # The default is 50. #bulk_max_size: 50 # The number of seconds to wait before trying to reconnect to Elasticsearch # after a network error. After waiting backoff.init seconds, apm-server # tries to reconnect. If the attempt fails, the backoff timer is increased # exponentially up to backoff.max. After a successful connection, the backoff # timer is reset. The default is 1s. #backoff.init: 1s # The maximum number of seconds to wait before attempting to connect to # Elasticsearch after a network error. The default is 60s. #backoff.max: 60s # Configure HTTP request timeout before failing an request to Elasticsearch. #timeout: 90 # Enable custom SSL settings. Set to false to ignore custom SSL settings for secure communication. #ssl.enabled: true # Optional SSL configuration options. SSL is off by default, change the `protocol` option if you want to enable `https`. # Configure SSL verification mode. If `none` is configured, all server hosts # and certificates will be accepted. In this mode, SSL based connections are # susceptible to man-in-the-middle attacks. Use only for testing. Default is # `full`. #ssl.verification_mode: full # List of supported/valid TLS versions. By default all TLS versions 1.0 up to # 1.2 are enabled. #ssl.supported_protocols: [TLSv1.0, TLSv1.1, TLSv1.2] # List of root certificates for HTTPS server verifications. #ssl.certificate_authorities: [""/etc/pki/root/ca.pem""] # Certificate for SSL client authentication. #ssl.certificate: ""/etc/pki/client/cert.pem"" # Client Certificate Key #ssl.key: ""/etc/pki/client/cert.key"" # Optional passphrase for decrypting the Certificate Key. # It is recommended to use the provided keystore instead of entering the passphrase in plain text. #ssl.key_passphrase: '' # Configure cipher suites to be used for SSL connections. #ssl.cipher_suites: [] # Configure curve types for ECDHE based cipher suites. #ssl.curve_types: [] # Configure what types of renegotiation are supported. Valid options are # never, once, and freely. Default is never. #ssl.renegotiation: never # Enable Kerberos support. Kerberos is automatically enabled if any Kerberos setting is set. #kerberos.enabled: true # Authentication type to use with Kerberos. Available options: keytab, password. #kerberos.auth_type: password # Path to the keytab file. It is used when auth_type is set to keytab. #kerberos.keytab: /etc/elastic.keytab # Path to the Kerberos configuration. #kerberos.config_path: /etc/krb5.conf # Name of the Kerberos user. #kerberos.username: elastic # Password of the Kerberos user. It is used when auth_type is set to password. #kerberos.password: changeme # Kerberos realm. #kerberos.realm: ELASTIC #metrics.period: 10s #state.period: 1m","######################## APM Server Configuration ############################# ############################# APM Server ###################################### # Defines the host and port the server is listening on # Maximum permitted size in bytes of an unzipped request accepted by the server to be processed. #max_unzipped_size: 52428800 # Maximum permitted duration in seconds for reading an entire request. #read_timeout: 2s # Maximum permitted duration in seconds for writing a response. #write_timeout: 2s # Maximum duration in seconds before releasing resources when shutting down the server. # Maximum number of requests permitted to be sent to the server concurrently. #concurrent_requests: 40 # Authorization token to be checked. If a token is set here the agents must # send their token in the following format: Authorization: Bearer <secret-token>. # It is recommended to use an authorization token in combination with SSL enabled. #ssl.enabled: false #ssl.certificate : ""path/to/cert"" #ssl.key : ""path/to/private_key"" # Please be aware that frontend support is an experimental feature at the moment! frontend: # To enable experimental frontend support set this to true. # Rate limit per second and IP address for requests sent to the frontend endpoint. #rate_limit: 10 # Comma separated list of permitted origins for frontend. User-agents will send # a origin header that will be validated against this list. # If an item in the list is a single '*', everything will be allowed # The default pattern excludes stacktrace frames that have # - a filename starting with '/webpack' # If a source map has previously been uploaded, source mapping is automatically applied # to all error and transaction documents sent to the frontend endpoint. # Source maps are are fetched from Elasticsearch and then kept in an in-memory cache for a certain time. # Source maps are stored in the same index as transaction and error documents. # If the default index pattern at 'outputs.elasticsearch.index' is changed, # a matching index pattern needs to be specified here. #index_pattern: ""apm-*"" #================================ General ====================================== # Internal queue configuration for buffering events to be published. #queue: # Queue type by name (default 'mem') # The memory queue will present all available events (up to the outputs # bulk_max_size) to the output, the moment the output is ready to server # another batch of events. # A value of 0 (the default) ensures events are immediately available # if the number of events stored in the queue is < min_flush_events.#================================ Outputs ====================================== # Configure what output to use when sending the data collected by the beat. #----------------------------- Logstash output --------------------------------- {{ elk_macros.output_elasticsearch(inventory_hostname, elasticsearch_data_hosts) }} #================================= Paths ======================================# distribution (for example, the sample dashboards).# The logs path for a apm-server installation. This is the default location for # the Beat's log files. If not set by a CLI flag or in the configuration file, # the default for the logs path is a logs subdirectory inside the home path.#============================== Dashboards ===================================== {{ elk_macros.setup_dashboards('apm') }} #=============================== Template ====================================== {{ elk_macros.setup_template('apm', inventory_hostname, data_nodes, elasticsearch_beat_settings) }} #============================== Kibana ===================================== {% if (groups['kibana'] | length) > 0 %} {{ elk_macros.setup_kibana(hostvars[groups['kibana'][0]]['ansible_host'] ~ ':' ~ kibana_port) }} {% endif %} #================================ Logging ======================================",4832,1414
openstack%2Fopenstack-ansible-ops~master~I7fa759da107337c78c44b950b86a769df5e20d87,openstack/openstack-ansible-ops,master,I7fa759da107337c78c44b950b86a769df5e20d87,kibana: fix bug in templating variable selection,MERGED,2022-05-26 12:24:32.000000000,2022-05-26 16:29:39.000000000,2022-05-26 16:29:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 12:24:32.000000000', 'files': ['elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e7e62f7b9813db41b1c507e57d02b211544a40a8', 'message': 'kibana: fix bug in templating variable selection\n\nA long standing typo means that highly available\nkibana instances could become confused. This becomes\nmore apparent when ELK security is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423\n\nChange-Id: I7fa759da107337c78c44b950b86a769df5e20d87\n'}]",0,843451,e7e62f7b9813db41b1c507e57d02b211544a40a8,7,3,1,31542,,,0,"kibana: fix bug in templating variable selection

A long standing typo means that highly available
kibana instances could become confused. This becomes
more apparent when ELK security is enabled.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: I7fa759da107337c78c44b950b86a769df5e20d87
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/51/843451/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2'],1,e7e62f7b9813db41b1c507e57d02b211544a40a8,kibana-template,{% if kibana_security_encryption_key is defined %}{% if kibana_reporting_encryption_key is defined %},{% if security_encryption_key is defined %}{% if reporting_encryption_key is defined %},2,2
openstack%2Fopenstack-ansible-ops~master~Ib6b0e77b96aec33779062a81dbad0931eeaa8806,openstack/openstack-ansible-ops,master,Ib6b0e77b96aec33779062a81dbad0931eeaa8806,beats: fix potential for indexes to be set up incorrectly,MERGED,2022-05-26 12:20:51.000000000,2022-05-26 16:29:32.000000000,2022-05-26 16:27:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 12:20:51.000000000', 'files': ['elk_metrics_7x/roles/elastic_ilm/tasks/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/27df34985ec1feb7d05267958e957645dc25074f', 'message': 'beats: fix potential for indexes to be set up incorrectly\n\nIf a deployment is running a mix of versions, running once\nwould only run against a single version, missing out the index\nsetup for other versions of the beats.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423\n\nChange-Id: Ib6b0e77b96aec33779062a81dbad0931eeaa8806\n'}]",0,843445,27df34985ec1feb7d05267958e957645dc25074f,8,3,1,31542,,,0,"beats: fix potential for indexes to be set up incorrectly

If a deployment is running a mix of versions, running once
would only run against a single version, missing out the index
setup for other versions of the beats.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-ops/+/843423

Change-Id: Ib6b0e77b96aec33779062a81dbad0931eeaa8806
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/45/843445/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_ilm/tasks/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml']",2,27df34985ec1feb7d05267958e957645dc25074f,beats-ilm,, run_once: true,0,2
openstack%2Frequirements~master~I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53,openstack/requirements,master,I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53,Add Jammy wheel build jobs,MERGED,2022-05-24 20:27:31.000000000,2022-05-26 16:28:22.000000000,2022-05-26 16:24:21.000000000,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 20:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f1d5362005103ff900be5c38ab9a004e620bb9aa', 'message': 'Add Jammy wheel build jobs\n\nThis ensures bindep works with Jammy\n\nChange-Id: I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53\n'}, {'number': 2, 'created': '2022-05-24 20:48:21.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/68f142432ecb5b1615a91633c9906970820b7fc1', 'message': 'Add Jammy wheel build jobs\n\nThis ensures bindep works with Jammy\n\nChange-Id: I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53\n'}]",2,843211,68f142432ecb5b1615a91633c9906970820b7fc1,12,3,2,7118,,,0,"Add Jammy wheel build jobs

This ensures bindep works with Jammy

Change-Id: I25897f14aa7aff3d20d74a0d06c5d6cb30eeba53
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/843211/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,f1d5362005103ff900be5c38ab9a004e620bb9aa,jammy-wheels, - build-wheel-cache-ubuntu-jammy: files: - bindep.txt - build-wheel-cache-ubuntu-jammy: files: - bindep.txt - build-wheel-cache-ubuntu-jammy: files: - bindep.txt,,9,0
openstack%2Fopenstack-ansible-ops~master~I6020d7b820c1f7d781691df9a1d657aef0ea010b,openstack/openstack-ansible-ops,master,I6020d7b820c1f7d781691df9a1d657aef0ea010b,elk7: minimal fixes to CI jobs,MERGED,2022-05-26 10:17:29.000000000,2022-05-26 16:26:37.000000000,2022-05-26 16:22:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-26 10:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4d05fff0282d78fa06742595d6fa92a92b7cf1ef', 'message': 'WIP: Fix CI for elk_metrics_7x on Focal\n\nChange-Id: I6020d7b820c1f7d781691df9a1d657aef0ea010b\n'}, {'number': 2, 'created': '2022-05-26 10:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f6654b45fe777fcd207e1c3835f9328cea16b8f8', 'message': 'WIP: Fix CI for elk_metrics_7x on Focal\n\nChange-Id: I6020d7b820c1f7d781691df9a1d657aef0ea010b\n'}, {'number': 3, 'created': '2022-05-26 12:18:50.000000000', 'files': ['elk_metrics_7x/ansible-collection-requirements.yml', 'elk_metrics_7x/tests/run-tests.sh', 'elk_metrics_7x/tests/ansible-collection-requirements.yml', 'elk_metrics_7x/tests/functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7cfcbbeccfd7d61c23ccbf9672dbc1f3d38532e3', 'message': 'elk7: minimal fixes to CI jobs\n\nThis is a minimal patch to address failing CI to enable\nother patches to be submitted.\n\nSimilar patches are likely to be required for other OSA\nops components, but this will be tackled at a later date.\n\nChange-Id: I6020d7b820c1f7d781691df9a1d657aef0ea010b\n'}]",0,843423,7cfcbbeccfd7d61c23ccbf9672dbc1f3d38532e3,12,3,3,31542,,,0,"elk7: minimal fixes to CI jobs

This is a minimal patch to address failing CI to enable
other patches to be submitted.

Similar patches are likely to be required for other OSA
ops components, but this will be tackled at a later date.

Change-Id: I6020d7b820c1f7d781691df9a1d657aef0ea010b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/23/843423/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/ansible-collection-requirements.yml', 'elk_metrics_7x/tests/run-tests.sh']",2,4d05fff0282d78fa06742595d6fa92a92b7cf1ef,," --role-file=""${TEST_DIR}/elk_metrics_7x/tests/ansible-role-requirements.yml"" \ -r ""${TEST_DIR}/elk_metrics_7x/tests/ansible-collection-requirements.yml"""," --role-file=""${TEST_DIR}/elk_metrics_7x/tests/ansible-role-requirements.yml""",8,1
openstack%2Fec2-api~stable%2Fvictoria~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/victoria,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,NEW,2022-05-26 15:28:55.000000000,2022-05-26 16:26:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 15:28:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f69db1ed64a0562d2bc7346139be676402f3883c', 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)\n(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)\n(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)\n(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)\n'}]",0,843407,f69db1ed64a0562d2bc7346139be676402f3883c,4,1,1,9816,,,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/07/843407/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f69db1ed64a0562d2bc7346139be676402f3883c,remove-tripleo,," experimental: jobs: # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario002-standalone",0,8
openstack%2Fneutron-dynamic-routing~master~Ibd3c9264698404ccd9f2711b4b3898def63d27e4,openstack/neutron-dynamic-routing,master,Ibd3c9264698404ccd9f2711b4b3898def63d27e4,BGP speaker route handling,ABANDONED,2021-09-15 11:39:47.000000000,2022-05-26 16:22:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-15 11:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/07a5b3f7f99cfbfcbe65acf3c0bc6602f4f1b0b5', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 2, 'created': '2021-09-15 12:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/60edafc7ff5471e92109a5339e43d2d813b8928a', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 3, 'created': '2021-09-16 05:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a067fb82b21cc5db1c98a8b1b88bdc70266a2e2d', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 4, 'created': '2021-09-16 11:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/05159fdf55e871353cbb524b8b81080e9e507761', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 5, 'created': '2021-09-16 11:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1f37863250cae18907cb8088cffa26735133195e', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 6, 'created': '2021-09-23 07:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1d2956df90c16e575bc9e7902f6fb9a8829f5352', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 7, 'created': '2021-09-23 07:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/597ed4d96745f00565855812819104253b535093', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 8, 'created': '2021-09-23 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/460825c40be083895603953411d15ba91f748dd8', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 9, 'created': '2021-09-23 10:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9b7060ff3111b42bd8fa0b13570640fa2b247820', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 10, 'created': '2021-10-25 12:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a9ca8e3de1da00cb718232e30674b3f1b0c3e1b7', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 11, 'created': '2021-11-09 05:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f2160e26e22ddab86689ace53b47622574e85fe6', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 12, 'created': '2021-11-11 09:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1e2ff29df9301e7f90eb10e1469b96df6391bdcd', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}, {'number': 13, 'created': '2021-11-12 06:57:38.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_extension.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/privileged/driver.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_rpc_api.py', 'neutron_dynamic_routing/api/rpc/handlers/bgp_speaker_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/58042bb4eec317cadb975d540743e334a548742e', 'message': 'BGP speaker route handling\n\n* Advertise tenant network routes to BGP peer\n* Advertise neutron extra routes if advertise-extra-routes is true\n* Installs learnt routes to router namespace\n* Handles router events and advertise/withdraw routes\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4\n'}]",15,809173,58042bb4eec317cadb975d540743e334a548742e,25,1,13,33273,,,0,"BGP speaker route handling

* Advertise tenant network routes to BGP peer
* Advertise neutron extra routes if advertise-extra-routes is true
* Installs learnt routes to router namespace
* Handles router events and advertise/withdraw routes

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: Ibd3c9264698404ccd9f2711b4b3898def63d27e4
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/73/809173/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_extension.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/privileged/driver.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_rpc_api.py', 'neutron_dynamic_routing/api/rpc/handlers/bgp_speaker_rpc.py']",6,07a5b3f7f99cfbfcbe65acf3c0bc6602f4f1b0b5,bug/1921461," def get_routes_to_advertise(self, context, bgp_speaker_id, router_id): return self.plugin.get_routes_to_advertise(context, bgp_speaker_id, router_id)",,85,0
openstack%2Fneutron-dynamic-routing~master~Ied48acd5c552515b1a5e16da6fd01c07ba974dd5,openstack/neutron-dynamic-routing,master,Ied48acd5c552515b1a5e16da6fd01c07ba974dd5,BGPaaS server side implementation,ABANDONED,2021-07-27 09:40:54.000000000,2022-05-26 16:22:26.000000000,,"[{'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 09:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e49047dc5d520d8bcd435e8d99d3a962391b3ed5', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 2, 'created': '2021-08-30 12:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0d47cc9491ed1cad9a6d7280efa0d19928cf23fd', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 3, 'created': '2021-09-02 11:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b89c7069cbdca0416e3f7a9c2fcae1340edd70c3', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 4, 'created': '2021-09-08 05:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d5da712a72911778df94359cf431da8fd6c98cb7', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 5, 'created': '2021-09-08 05:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/39a13c29d968635d45051f1eabb99b28eedea509', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 6, 'created': '2021-09-08 06:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7215d52dd2a554ff530edf1f5756bd41281311d1', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 7, 'created': '2021-09-08 06:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2ea176ed3509020619f75ceb4904fdc68fabab3f', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 8, 'created': '2021-09-08 08:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a5ce875f649fd0abedcb41c23415af0a673c8c95', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 9, 'created': '2021-09-08 10:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/707dd1d31ee2209651fc50981da640856ba2ec77', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 10, 'created': '2021-09-08 11:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a38b4e6e9c39cf0a3c439409b54f8bf5367d059f', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 11, 'created': '2021-09-08 11:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e21f82a870a8735635a21dc448a4cc485b939d06', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 12, 'created': '2021-09-13 07:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/20e1a11de099c609052874c394b5ae8ffe317395', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 13, 'created': '2021-09-13 13:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8016aff8c441a0bd8c96c45d250a4819e0b74eb5', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 14, 'created': '2021-09-15 11:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/58fd8f17f9465a96a9449d9ad87a145c3757208b', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 15, 'created': '2021-09-15 11:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3e86f807b8e2675bec8fe4eb44ed6f2ac3c4acd6', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 16, 'created': '2021-09-15 11:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ba365ace88b0289513582e2bcd87d14ed0aecc88', 'message': 'Push router,peer events to BGP l3 agent extension\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 17, 'created': '2021-09-16 08:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9fe3760e1d628d38131edccefcf022e3dba9c211', 'message': 'BGPaaS server side implementation\n\n* Addition of BGP L3 agent extension for handling BGP speaker router\n  association and peer association\n* Push router,peer association event from BGP plugin to BGP L3 agent extension\n* Addition of privilieged module for executing BGP operations\n* RPC client calls from L3 agent extension to osken BGP speaker for different\n  BGP operations.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 18, 'created': '2021-10-25 12:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7561a8327344b12079694456866f77ce9061832d', 'message': 'BGPaaS server side implementation\n\n* Addition of BGP L3 agent extension for handling BGP speaker router\n  association and peer association\n* Push router,peer association event from BGP plugin to BGP L3 agent extension\n* Addition of privilieged module for executing BGP operations\n* RPC client calls from L3 agent extension to osken BGP speaker for different\n  BGP operations.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 19, 'created': '2021-11-09 05:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d2dcf090a0465534b31ef80a58fce94f06121361', 'message': 'BGPaaS server side implementation\n\n* Addition of BGP L3 agent extension for handling BGP speaker router\n  association and peer association\n* Push router,peer association event from BGP plugin to BGP L3 agent extension\n* Addition of privilieged module for executing BGP operations\n* RPC client calls from L3 agent extension to osken BGP speaker for different\n  BGP operations.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 20, 'created': '2021-11-11 09:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/dcb382e1e8b52b82a320e7701190353f1d858f7f', 'message': 'BGPaaS server side implementation\n\n* Addition of BGP L3 agent extension for handling BGP speaker router\n  association and peer association\n* Push router,peer association event from BGP plugin to BGP L3 agent extension\n* Addition of privilieged module for executing BGP operations\n* RPC client calls from L3 agent extension to osken BGP speaker for different\n  BGP operations.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}, {'number': 21, 'created': '2021-11-12 06:16:32.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_extension.py', 'neutron_dynamic_routing/privileged/__init__.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/objects/bgp_associations.py', 'neutron_dynamic_routing/privileged/driver.py', 'neutron_dynamic_routing/extensions/bgp_associations.py', 'neutron_dynamic_routing/privileged/utils.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_rpc_api.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8ee0e3ca6e974179a76eeb00fd9ead02e40480d6', 'message': 'BGPaaS server side implementation\n\n* Addition of BGP L3 agent extension for handling BGP speaker router\n  association and peer association\n* Push router,peer association event from BGP plugin to BGP L3 agent extension\n* Addition of privilieged module for executing BGP operations\n* RPC client calls from L3 agent extension to osken BGP speaker for different\n  BGP operations.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5\n'}]",217,802445,8ee0e3ca6e974179a76eeb00fd9ead02e40480d6,52,3,21,33273,,,0,"BGPaaS server side implementation

* Addition of BGP L3 agent extension for handling BGP speaker router
  association and peer association
* Push router,peer association event from BGP plugin to BGP L3 agent extension
* Addition of privilieged module for executing BGP operations
* RPC client calls from L3 agent extension to osken BGP speaker for different
  BGP operations.

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: Ied48acd5c552515b1a5e16da6fd01c07ba974dd5
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/45/802445/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/services/bgp/agent/l3/bgp_extension.py', 'neutron_dynamic_routing/objects/bgp_associations.py', 'setup.cfg', 'neutron_dynamic_routing/services/bgp/agent/l3/l3_agent_bgp_plugin_api.py']",5,e49047dc5d520d8bcd435e8d99d3a962391b3ed5,bug/1921461,"# Copyright 2021 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib import rpc as n_rpc import oslo_messaging class BgpL3ExtPluginApi(object): """"""Agent side of the bgp l3 agent ext RPC API. This class implements the client side of an rpc interface. The server side of this interface can be found in api.rpc.handlers.bgp_speaker_rpc.BgpSpeakerRpcCallback. API version history: 1.0 - Initial version. """""" def __init__(self, topic): target = oslo_messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target) def get_bgp_speaker_info(self, context, bgp_speaker_id): """"""Make a remote process call to retrieve a BGP speaker info."""""" cctxt = self.client.prepare() return cctxt.call(context, 'get_bgp_speaker_info', bgp_speaker_id=bgp_speaker_id) def get_bgp_peer_info(self, context, bgp_peer_id): """"""Make a remote process call to retrieve a BGP peer info."""""" cctxt = self.client.prepare() return cctxt.call(context, 'get_bgp_peer_info', bgp_peer_id=bgp_peer_id) ",,248,6
openstack%2Fneutron-dynamic-routing~master~I3369eb6c7823c38c38ec63d08fe8e25cc415acbc,openstack/neutron-dynamic-routing,master,I3369eb6c7823c38c38ec63d08fe8e25cc415acbc,Support peer association to BGP speaker,ABANDONED,2021-07-15 05:20:12.000000000,2022-05-26 16:22:11.000000000,,"[{'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 05:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/16827db75cbac9ec5576c1467a289661f4feab09', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 2, 'created': '2021-07-15 05:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ad4489feab472e8b8ac191a2b896df7415e82150', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 3, 'created': '2021-09-02 05:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ccba9bfb40737290a719a5ed119f9d0fcd0ab78b', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 4, 'created': '2021-09-05 06:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/819f0ef12d0d805dd2b3a6bdf14cc224bb866c4d', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 5, 'created': '2021-09-08 05:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b3ee05598b46a7d6b1a5f2df250c788f95f9bac4', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 6, 'created': '2021-09-08 06:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/6f4bed222072f2b30178697172c4448be84806fa', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 7, 'created': '2021-09-08 11:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4efd89433e48a9dd48e2f81af0f5e8a4bb953a06', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 8, 'created': '2021-09-13 13:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4873fbeb5ec439dde6644dcdc7034376df5bcdc6', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 9, 'created': '2021-10-25 12:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/386313af93e0563e07e8eed696d0b4198775a501', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}, {'number': 10, 'created': '2021-11-11 09:00:52.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/policies/__init__.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/yoga/expand/738d0ae1984e_bgpaas_enh.py', 'neutron_dynamic_routing/extensions/bgp_associations.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'neutron_dynamic_routing/policies/bgp_peer_association.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1e5d8c603ffdbd6e40fad1ba06548d6f770d57ee', 'message': 'Support peer association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for peer_associations to bgp speaker.\n* It also covers the population of peer association DB.\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc\n'}]",21,800882,1e5d8c603ffdbd6e40fad1ba06548d6f770d57ee,26,6,10,33273,,,0,"Support peer association to BGP speaker

* This change covers the support for create, get and delete
  operations for peer_associations to bgp speaker.
* It also covers the population of peer association DB.

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I3369eb6c7823c38c38ec63d08fe8e25cc415acbc
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/82/800882/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/policies/__init__.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/extensions/bgp_associations.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/xena/expand/738d0ae1984e_bgpaas_enh.py', 'neutron_dynamic_routing/policies/bgp_peer_association.py']",7,16827db75cbac9ec5576c1467a289661f4feab09,bug/1921461,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_policy import policy from neutron_dynamic_routing.policies import base rules = [ policy.DocumentedRuleDefault( 'create_bgp_speaker_peer_association', base.RULE_ADMIN_ONLY, 'Create a BGP speaker Peer association', [ { 'method': 'POST', 'path': '/bgp-speakers/{bgp_speaker_id}/peer_associations', }, ] ), policy.DocumentedRuleDefault( 'update_bgp_speaker_peer_association', base.RULE_ADMIN_ONLY, 'Update a BGP speaker Peer association', [ { 'method': 'PUT', 'path': '/bgp-speakers/{bgp_speaker_id}/peer_associations/' '{peer_association_id}', }, ] ), policy.DocumentedRuleDefault( 'delete_bgp_speaker_peer_association', base.RULE_ADMIN_ONLY, 'Delete a BGP speaker Peer association', [ { 'method': 'DELETE', 'path': '/bgp-speakers/{bgp_speaker_id}/peer_associations/' '{peer_association_id}', }, ] ), policy.DocumentedRuleDefault( 'get_bgp_speaker_peer_association', base.RULE_ADMIN_ONLY, 'Get BGP speaker Peer Association', [ { 'method': 'GET', 'path': '/bgp-speakers/{bgp_speaker_id}/peer_associations', }, { 'method': 'GET', 'path': '/bgp-speakers/{bgp_speaker_id}/peer_associations/' '{peer_association_id}', }, ] ), ] def list_rules(): return rules ",,272,2
openstack%2Fneutron-dynamic-routing~master~I0116fb8e7977c9595cdde0ba6944bc5c1f25c466,openstack/neutron-dynamic-routing,master,I0116fb8e7977c9595cdde0ba6944bc5c1f25c466,Support router association to BGP speaker,ABANDONED,2021-05-20 09:46:40.000000000,2022-05-26 16:22:00.000000000,,"[{'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 33623}]","[{'number': 1, 'created': '2021-05-20 09:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d06614dcda4d741e530b66fd02768e4f48138e62', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 2, 'created': '2021-05-28 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/60b32b4e708e09f4317b6b487513bc4021641721', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 3, 'created': '2021-05-28 07:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/430725bba19e1f113e3f6469c249cc7d65503773', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 4, 'created': '2021-06-01 11:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/bc67d11ce637af955846ec73b6b4f11ee2362c6f', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 5, 'created': '2021-06-03 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/6faac408529deae0adff2b7c64e54be672bba6ef', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 6, 'created': '2021-06-07 06:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/be5d354e82f07298ab90a3680ca63407b7d2db3a', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 7, 'created': '2021-07-13 09:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5dc51e9213f0bb3852b96a5f1ddb462a8fb5feb4', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 8, 'created': '2021-07-13 09:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b2e99948135de3793f0fd7f6b033ca7c37eb94d1', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 9, 'created': '2021-07-15 05:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7a79e97336155e623858fb134479eea358db3195', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 10, 'created': '2021-07-15 05:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/77e686255730e8cbffda495344a06b565df1fa98', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 11, 'created': '2021-08-09 10:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c689b2c6b28803593790b749367416cc90dc1fcf', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 12, 'created': '2021-08-10 10:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/6ff2c40f3cb1ba19202f0325281452a18a95bfe3', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 13, 'created': '2021-08-11 06:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ddb20407a9bebf45b30a6de5b326539ab9e5abb9', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 14, 'created': '2021-08-31 05:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c26a5058110735b6cd4453d6e5e4144100d2f78b', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 15, 'created': '2021-09-02 05:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5ebb3832bfff5d253ccc107245caee6ff697859e', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 16, 'created': '2021-09-05 06:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5b76e2ea8869a002b2728d152c0a79126a6a18e8', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 17, 'created': '2021-09-06 03:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5f9bfcb03c0e3399f132c2e90ea7affdbfb3e400', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n* Unit test for various operations are also covered.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 18, 'created': '2021-09-08 06:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d458c4353620b84394eaeebb52ac8fedaf7cdaee', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n* Unit test for various operations are also covered.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 19, 'created': '2021-09-08 11:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7722a2a5ea9e570ad2da88b75e9f8b7161b25d50', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n* Unit test for various operations are also covered.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 20, 'created': '2021-09-13 13:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ce93b94a057e5d321171b0d6cb0095665f1e2027', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n* Unit test for various operations are also covered.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 21, 'created': '2021-10-25 12:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/930b26afbcfcae44a92b96f7a6c2dad1c3857bbf', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n* Unit test for various operations are also covered.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}, {'number': 22, 'created': '2021-11-11 08:51:44.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/policies/__init__.py', 'neutron_dynamic_routing/services/bgp/common/constants.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/yoga/expand/738d0ae1984e_bgpaas_enh.py', 'neutron_dynamic_routing/policies/bgp_speaker.py', 'neutron_dynamic_routing/policies/bgp_router_association.py', 'neutron_dynamic_routing/extensions/bgp_associations.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/22f5cbb88ceac2b264e547297d110dbae8e0efec', 'message': 'Support router association to BGP speaker\n\n* This change covers the support for create, get and delete\n  operations for router_associations to bgp speaker.\n* It also covers the population of router association DB.\n* Unit test for various operations are also covered.\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466\n'}]",44,792338,22f5cbb88ceac2b264e547297d110dbae8e0efec,55,8,22,33273,,,0,"Support router association to BGP speaker

* This change covers the support for create, get and delete
  operations for router_associations to bgp speaker.
* It also covers the population of router association DB.
* Unit test for various operations are also covered.

Related-Bug: #1921461
Related-Change: https://review.opendev.org/783791 (spec)

Signed-off-by: Manu B <manubk2020@gmail.com>
Change-Id: I0116fb8e7977c9595cdde0ba6944bc5c1f25c466
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/38/792338/20 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/extensions/bgp.py', 'neutron_dynamic_routing/policies/bgp_speaker.py']",4,d06614dcda4d741e530b66fd02768e4f48138e62,bug/1921461," 'add_gateway_router', base.RULE_ADMIN_ONLY, 'Add a gateway router to a BGP speaker', [ { 'method': 'PUT', 'path': '/bgp-speakers/{id}/add_gateway_router', }, ] ), policy.DocumentedRuleDefault( 'remove_gateway_router', base.RULE_ADMIN_ONLY, 'Remove a gateway router from a BGP speaker', [ { 'method': 'PUT', 'path': '/bgp-speakers/{id}/remove_gateway_router', }, ] ), policy.DocumentedRuleDefault( 'get_routes', base.RULE_ADMIN_ONLY, 'Get advertised and learned routes of a BGP speaker', [ { 'method': 'GET', 'path': '/bgp-speakers/{id}/get_routes', }, ] ), policy.DocumentedRuleDefault(",,62,0
openstack%2Fneutron~master~Idc6478e6f0fd1a2825b2c978b41feb5dab903357,openstack/neutron,master,Idc6478e6f0fd1a2825b2c978b41feb5dab903357,"[OVN] During the DB migration, allow the DB context to finish",MERGED,2022-05-25 11:18:50.000000000,2022-05-26 16:14:26.000000000,2022-05-26 16:09:59.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2022-05-25 11:18:50.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c637a2d127f7fdac5874fd9ed1b01137d303c7f', 'message': '[OVN] During the DB migration, allow the DB context to finish\n\nDuring the execution of ""migrate_neutron_database_to_ovn"", that is\npart of the OVN database migration process, the port bindings are\nupdated. If by any circumstance a port binding update fails, the\ndatabase write context should end properly (rolling back the\ntransaction) and any exception raise should be catched outside it.\n\nCloses-Bug: #1975692\nChange-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357\n'}]",2,843263,3c637a2d127f7fdac5874fd9ed1b01137d303c7f,19,5,1,16688,,,0,"[OVN] During the DB migration, allow the DB context to finish

During the execution of ""migrate_neutron_database_to_ovn"", that is
part of the OVN database migration process, the port bindings are
updated. If by any circumstance a port binding update fails, the
database write context should end properly (rolling back the
transaction) and any exception raise should be catched outside it.

Closes-Bug: #1975692
Change-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/843263/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/db_migration.py'],1,3c637a2d127f7fdac5874fd9ed1b01137d303c7f,bug/1975692," try: with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)"," with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details try: except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)",20,20
openstack%2Fnetworking-odl~master~I43f6032862ae2fcc77d41192c6a53ab01e3f594e,openstack/networking-odl,master,I43f6032862ae2fcc77d41192c6a53ab01e3f594e,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:35.000000000,2022-05-26 16:14:12.000000000,2022-05-26 16:12:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 03:29:35.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-6f831f9443821d26.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/63202d4bc26dc2c6b7ad2e50871f9788ffa027be', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I43f6032862ae2fcc77d41192c6a53ab01e3f594e\n'}]",0,841537,63202d4bc26dc2c6b7ad2e50871f9788ffa027be,8,3,1,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I43f6032862ae2fcc77d41192c6a53ab01e3f594e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/37/841537/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-6f831f9443821d26.yaml', 'setup.cfg', 'tox.ini']",3,63202d4bc26dc2c6b7ad2e50871f9788ffa027be,drop-py3-6-7,"envlist = docs,py39,pep8","envlist = docs,py37,pep8",8,4
openstack%2Fkolla-ansible~stable%2Fussuri~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/ussuri,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:21:25.000000000,2022-05-26 16:08:14.000000000,2022-05-26 16:05:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 13:21:25.000000000', 'files': ['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/039009bd70ab03375eb5f21b59cba47e69823f57', 'message': 'talk TLS to openstack exporter via haproxy\n\nCloses-Bug: #1975598\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)\n'}]",0,843401,039009bd70ab03375eb5f21b59cba47e69823f57,9,3,1,14826,,,0,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/843401/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",2,039009bd70ab03375eb5f21b59cba47e69823f57,,{% if kolla_enable_tls_internal | bool %} scheme: https {% endif %},,11,0
openstack%2Fkolla-ansible~master~I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,openstack/kolla-ansible,master,I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,Make redis connection string configurable,MERGED,2022-04-26 13:52:29.000000000,2022-05-26 16:07:41.000000000,2022-05-26 16:05:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-26 13:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/074e79384c2488036b6616469b36bdf11c2afeef', 'message': 'Make redis connection string configurable\n\nChange-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d\n'}, {'number': 2, 'created': '2022-05-26 09:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65fe1a0b66e7909ffa663312eb47006de24a0704', 'message': 'Make redis connection string configurable\n\nChange-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d\n'}, {'number': 3, 'created': '2022-05-26 12:49:27.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71ea62543afe17002656d7f18d4651e54089ca51', 'message': 'Make redis connection string configurable\n\nChange-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d\n'}]",6,839388,71ea62543afe17002656d7f18d4651e54089ca51,21,3,3,27339,,,0,"Make redis connection string configurable

Change-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/839388/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,074e79384c2488036b6616469b36bdf11c2afeef,redis-connection-string,"redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}{{ redis_cmdline_extras }}"" redis_cmdline_extras: ""&db=0&socket_timeout=60&retry_on_timeout=yes""","redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}&db=0&socket_timeout=60&retry_on_timeout=yes""",2,1
openstack%2Fneutron-dynamic-routing~master~Icf6beac7ee3150b719392c0b44c474510398b70a,openstack/neutron-dynamic-routing,master,Icf6beac7ee3150b719392c0b44c474510398b70a,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:03.000000000,2022-05-26 16:07:19.000000000,2022-05-26 16:04:53.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 03:29:03.000000000', 'files': ['setup.cfg', 'releasenotes/notes/drop-python-3-6-and-3-7-efc3424202bf3f90.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/61817eaeee84a4f5538f0e5f7473231c903a9399', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Icf6beac7ee3150b719392c0b44c474510398b70a\n'}]",0,841530,61817eaeee84a4f5538f0e5f7473231c903a9399,9,4,1,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Icf6beac7ee3150b719392c0b44c474510398b70a
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/30/841530/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'releasenotes/notes/drop-python-3-6-and-3-7-efc3424202bf3f90.yaml']",2,61817eaeee84a4f5538f0e5f7473231c903a9399,drop-py3-6-7,--- upgrade: - | Python 3.6 & 3.7 support has been dropped. The minimum version of Python now supported is Python 3.8. ,,8,3
openstack%2Ftap-as-a-service~master~Ib54a7e977dccdd2f4f5c4e54f048858abde5e351,openstack/tap-as-a-service,master,Ib54a7e977dccdd2f4f5c4e54f048858abde5e351,Update python testing as per zed cycle teting runtime,MERGED,2022-05-12 03:29:56.000000000,2022-05-26 16:00:50.000000000,2022-05-26 16:00:50.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 03:29:56.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-c54e20d68667644a.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a5cc42565f346a4c3c1872dc6c01b24673965708', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ib54a7e977dccdd2f4f5c4e54f048858abde5e351\n'}]",0,841542,a5cc42565f346a4c3c1872dc6c01b24673965708,7,3,1,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ib54a7e977dccdd2f4f5c4e54f048858abde5e351
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/42/841542/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-c54e20d68667644a.yaml', 'setup.cfg']",2,a5cc42565f346a4c3c1872dc6c01b24673965708,drop-py3-6-7, Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.5 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,6,3
openstack%2Fproject-config~master~I406cb6dd721b48f893cd8a7ab9f36dcadec9a238,openstack/project-config,master,I406cb6dd721b48f893cd8a7ab9f36dcadec9a238,elastic-recheck: allow releasers to merge/delete,MERGED,2022-05-04 13:20:54.000000000,2022-05-26 15:49:57.000000000,2022-05-26 15:33:17.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 11975}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 13:20:54.000000000', 'files': ['gerrit/acls/opendev/elastic-recheck.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e5600fc78c08ba309e3b6cde3f5ea25fe4149c7', 'message': 'elastic-recheck: allow releasers to merge/delete\n\nThe opendev/elastic-recheck project has ongoing development\noccurring on an ""rdo"" feature branch. Grant the release team for it\npermission to merge that branch into master, as well as the ability\nto delete the feature branch.\n\nChange-Id: I406cb6dd721b48f893cd8a7ab9f36dcadec9a238\n'}]",0,840455,0e5600fc78c08ba309e3b6cde3f5ea25fe4149c7,11,5,1,5263,,,0,"elastic-recheck: allow releasers to merge/delete

The opendev/elastic-recheck project has ongoing development
occurring on an ""rdo"" feature branch. Grant the release team for it
permission to merge that branch into master, as well as the ability
to delete the feature branch.

Change-Id: I406cb6dd721b48f893cd8a7ab9f36dcadec9a238
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/840455/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/opendev/elastic-recheck.config'],1,0e5600fc78c08ba309e3b6cde3f5ea25fe4149c7,elastic-recheck,"[access ""refs/for/refs/*""] pushMerge = group elastic-recheck-release delete = group elastic-recheck-release",,4,0
openstack%2Fneutron~master~I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5,openstack/neutron,master,I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5,Add the corresponding DB context to all SQL transactions,ABANDONED,2022-05-12 11:17:59.000000000,2022-05-26 15:47:32.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-12 11:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0960eaf04c52c62298647d5fc9f98c0702a27730', 'message': 'Add the corresponding DB context to all SQL transactions\n\nThe goal of this patch is to make the Neutron code compliant\nwith SQLAlchemy 2.0.\n\nThis patch is addressing the missing bits not implemented in\n[1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/833247\n\nRelated-Bug: #1964575\nRelated-Bug: #1973162\n\nChange-Id: I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5\n'}, {'number': 2, 'created': '2022-05-23 10:34:24.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py', 'neutron/plugins/ml2/drivers/l2pop/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5247603f35a511e56a879667128c8cbc8b5d94f9', 'message': 'Add the corresponding DB context to all SQL transactions\n\nThe goal of this patch is to make the Neutron code compliant\nwith SQLAlchemy 2.0.\n\nThis patch is addressing the missing bits not implemented in\n[1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/833247\n\nRelated-Bug: #1964575\nRelated-Bug: #1973162\n\nChange-Id: I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5\n'}]",6,841576,5247603f35a511e56a879667128c8cbc8b5d94f9,21,5,2,16688,,,0,"Add the corresponding DB context to all SQL transactions

The goal of this patch is to make the Neutron code compliant
with SQLAlchemy 2.0.

This patch is addressing the missing bits not implemented in
[1].

[1]https://review.opendev.org/c/openstack/neutron/+/833247

Related-Bug: #1964575
Related-Bug: #1973162

Change-Id: I73ef9d4fd4176ba70d0b5e56920418d1b7771fd5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/841576/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py', 'neutron/plugins/ml2/drivers/l2pop/db.py']",2,0960eaf04c52c62298647d5fc9f98c0702a27730,bug/1964575,"from neutron_lib.db import api as db_api@db_api.CONTEXT_READERdef _get_dvr_active_network_ports(context, network_id):@db_api.CONTEXT_READER def get_distributed_active_network_ports(context, network_id): return (_get_dvr_active_network_ports(context, network_id) + _get_ha_active_network_ports(context, network_id)) def _get_ha_active_network_ports(context, network_id):@db_api.CONTEXT_READER ha_port_count = _get_ha_router_active_port_count(def _get_ha_router_active_port_count(context, agent_host, network_id):","def get_dvr_active_network_ports(context, network_id):def get_distributed_active_network_ports(context, network_id): return (get_dvr_active_network_ports(context, network_id) + get_ha_active_network_ports(context, network_id)) def get_ha_active_network_ports(context, network_id): ha_port_count = get_ha_router_active_port_count(def get_ha_router_active_port_count(context, agent_host, network_id):",11,7
openstack%2Fneutron~master~I32a49efd9d56f7c06d3bb1de1352be1311686c42,openstack/neutron,master,I32a49efd9d56f7c06d3bb1de1352be1311686c42,[sqlalchemy-20] Add DB context in L2pop module,MERGED,2022-05-26 08:01:05.000000000,2022-05-26 15:45:14.000000000,2022-05-26 15:42:57.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 08:01:05.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py', 'neutron/plugins/ml2/drivers/l2pop/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b48595e419a02592dcf319ea4b4dda0912efa050', 'message': ""[sqlalchemy-20] Add DB context in L2pop module\n\nSome database operations in L2pop module didn't have the\nneeded database context to perform a query.\n\nCloses-Bug: #1975797\n\nChange-Id: I32a49efd9d56f7c06d3bb1de1352be1311686c42\n""}]",0,843413,b48595e419a02592dcf319ea4b4dda0912efa050,11,7,1,16688,,,0,"[sqlalchemy-20] Add DB context in L2pop module

Some database operations in L2pop module didn't have the
needed database context to perform a query.

Closes-Bug: #1975797

Change-Id: I32a49efd9d56f7c06d3bb1de1352be1311686c42
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/843413/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py', 'neutron/plugins/ml2/drivers/l2pop/db.py']",2,b48595e419a02592dcf319ea4b4dda0912efa050,bug/1975797,"from neutron_lib.db import api as db_api@db_api.CONTEXT_READERdef _get_dvr_active_network_ports(context, network_id):@db_api.CONTEXT_READER def get_distributed_active_network_ports(context, network_id): return (_get_dvr_active_network_ports(context, network_id) + _get_ha_active_network_ports(context, network_id)) def _get_ha_active_network_ports(context, network_id):@db_api.CONTEXT_READER ha_port_count = _get_ha_router_active_port_count( return query1.count() + query2.count() + ha_port_count def _get_ha_router_active_port_count(context, agent_host, network_id):","def get_dvr_active_network_ports(context, network_id):def get_distributed_active_network_ports(context, network_id): return (get_dvr_active_network_ports(context, network_id) + get_ha_active_network_ports(context, network_id)) def get_ha_active_network_ports(context, network_id): ha_port_count = get_ha_router_active_port_count( return (query1.count() + query2.count() + ha_port_count) def get_ha_router_active_port_count(context, agent_host, network_id):",12,8
openstack%2Fcontributor-guide~master~Ia9a817a74f190750080e27a6f1cbb5919ba28766,openstack/contributor-guide,master,Ia9a817a74f190750080e27a6f1cbb5919ba28766,Imported Translations from Zanata,MERGED,2022-03-15 02:19:45.000000000,2022-05-26 15:40:07.000000000,2022-05-26 15:38:28.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-15 02:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/56036a1ca535c96b6dee5b5587a91d2bda1aba9b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia9a817a74f190750080e27a6f1cbb5919ba28766\n'}, {'number': 2, 'created': '2022-05-24 02:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/212ac33ac56ccf010075b4e2aac9e82bb1442f7f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia9a817a74f190750080e27a6f1cbb5919ba28766\n'}, {'number': 3, 'created': '2022-05-26 02:13:41.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-common.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/78afca07cf0d287208f6997b04d6fdb5ab7d33fc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia9a817a74f190750080e27a6f1cbb5919ba28766\n'}]",0,833707,78afca07cf0d287208f6997b04d6fdb5ab7d33fc,11,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia9a817a74f190750080e27a6f1cbb5919ba28766
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/07/833707/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-common.po']",5,56036a1ca535c96b6dee5b5587a91d2bda1aba9b,zanata/translations,"""POT-Creation-Date: 2022-02-17 08:10+0000\n""","""POT-Creation-Date: 2022-01-12 16:48+0000\n""msgid ""Click the 'Add Key' button."" msgstr ""Click the 'Add Key' button."" ""Go to `Gerrit's SSH Public Keys settings <https://review.opendev.org/#/"" ""settings/ssh-keys>`_."" msgstr """" ""Go to `Gerrit's SSH Public Keys settings <https://review.opendev.org/#/"" ""settings/ssh-keys>`_."" msgid """"msgid """" ""Paste the public key into the **Add SSH Public Key** text box and click "" ""**Add**."" msgstr """" ""Paste the public key into the **Add SSH Public Key** text box and click "" ""**Add**."" ",66,74
openstack%2Fgovernance~master~I1d9ea039a4477d0e0bc59f98b6089556b9c27701,openstack/governance,master,I1d9ea039a4477d0e0bc59f98b6089556b9c27701,Defining Tech Preview,ABANDONED,2022-03-17 17:59:45.000000000,2022-05-26 15:34:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 17:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/50102777a64fee32c64979281dbbbd367f09e85f', 'message': '(WIP) Defining Tech Preview\n\nAt the October 2021 PTG we discussed the addition of Skyline\nand the need for some way of denoting that a project is a\npart of OpenStack and can be in a release but is maybe not\nquite ready yet for production.\n\nChange-Id: I1d9ea039a4477d0e0bc59f98b6089556b9c27701\n'}, {'number': 2, 'created': '2022-04-26 05:24:49.000000000', 'files': ['resolutions/20220317-tech-preview.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/aed4071699b62a1486c2340d12cda5506a73063f', 'message': 'Defining Tech Preview\n\nAt the October 2021 PTG we discussed the addition of Skyline\nand the need for some way of denoting that a project is a\npart of OpenStack and can be in a release but is maybe not\nquite ready yet for production.\n\nChange-Id: I1d9ea039a4477d0e0bc59f98b6089556b9c27701\n'}]",11,834208,aed4071699b62a1486c2340d12cda5506a73063f,14,3,2,16708,,,0,"Defining Tech Preview

At the October 2021 PTG we discussed the addition of Skyline
and the need for some way of denoting that a project is a
part of OpenStack and can be in a release but is maybe not
quite ready yet for production.

Change-Id: I1d9ea039a4477d0e0bc59f98b6089556b9c27701
",git fetch https://review.opendev.org/openstack/governance refs/changes/08/834208/2 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20220317-tech-preview.rst'],1,50102777a64fee32c64979281dbbbd367f09e85f,tech-preview,"=================================================== 2022-03-17 Tech Preview Definition for New Projects =================================================== In an effort to be inculsive of new projects interested in joining OpenStack that may not be quite ready for production but want to be a part of the release, we are creating this idea of a 'tech preview' to help make users and operators aware of the status. Background ---------- This comes from a decision to accept Skyline but recognizing its not quite where it needs to be yet to be a fully fledged OpenStack project. In order to grow the team within OpenStack, we needed to accept them into the OpenStack space, but there was more work to be done before they could be considered ready to be run in production due to the structure of the repositories, missing functionality, but still functional enough to get the idea of how its going to work. Implementation -------------- <I dont think we actually decided this looking over our notes from the PTG.> References ---------- [1] https://etherpad.opendev.org/p/tc-yoga-ptg ",,30,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4,openstack/openstack-ansible-openstack_hosts,master,Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4,Fix pam_env config for debian,MERGED,2022-05-26 11:10:16.000000000,2022-05-26 15:34:08.000000000,2022-05-26 15:32:49.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-26 11:10:16.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c0d1978ee9346ce19e1139ef6a1f6f0f89ea2284', 'message': 'Fix pam_env config for debian\n\nDebian requires a different fix for pam_env config than centos-9,\nand this was broken in [1]. Return the original task to adjust pam\nconfig on debian.\n\n[1] Ibe4ab810ba48c9735af187d39fc34a7451c12d8a\n\nChange-Id: Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4\n'}]",0,843429,c0d1978ee9346ce19e1139ef6a1f6f0f89ea2284,8,3,1,25023,,,0,"Fix pam_env config for debian

Debian requires a different fix for pam_env config than centos-9,
and this was broken in [1]. Return the original task to adjust pam
config on debian.

[1] Ibe4ab810ba48c9735af187d39fc34a7451c12d8a

Change-Id: Ib287ac4805aac8be8b71537e9c52f0c7e57fb8d4
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/29/843429/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,c0d1978ee9346ce19e1139ef6a1f6f0f89ea2284,,"- name: Ensure environement is applied during sudo lineinfile: path: /etc/pam.d/sudo line: ""session required pam_env.so readenv=1 user_readenv=0"" regexp: 'session\s+required\s+pam_env\.so' insertbefore: '^@include' when: ansible_facts['distribution'] | lower == 'debian' ",,8,0
openstack%2Fcharm-placement~stable%2Fxena~Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7,openstack/charm-placement,stable/xena,Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:50:43.000000000,2022-05-26 14:40:40.000000000,2022-05-26 14:40:40.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/4d73a45220f9ae626f417b43612780405c34f13d', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7\n'}, {'number': 2, 'created': '2022-05-22 07:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/04f64eaed4df87bfff9e42b02042c8dd5f21cf31', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/499\nChange-Id: Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7\n'}, {'number': 3, 'created': '2022-05-23 06:04:08.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/714fafd10764604ba3c28cf2aa1d234b1e955983', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7\n'}]",15,841983,714fafd10764604ba3c28cf2aa1d234b1e955983,37,3,3,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Ibc9d6f001ceeeac5794d8fd376be454c72c96fd7
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/83/841983/2 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,4d73a45220f9ae626f417b43612780405c34f13d,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Fkolla-ansible~stable%2Fxena~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,stable/xena,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-25 07:05:08.000000000,2022-05-26 14:32:52.000000000,2022-05-26 14:31:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 07:05:08.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87a217fc9e9a9ad6378692df5103d98489e77a5e', 'message': 'genpwd: handle lack of password file nicer\n\nFrom:\n\n(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nTraceback (most recent call last):\n  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>\n    sys.exit(main())\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main\n    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd\n    with open(passwords_file, \'r\') as f:\nFileNotFoundError: [Errno 2] No such file or directory: \'/etc/kolla/passwords.yml\'\n\nTo:\n\n(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing\n\nChange-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617\n(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)\n'}]",0,843204,87a217fc9e9a9ad6378692df5103d98489e77a5e,10,3,1,24072,,,0,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/843204/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,87a217fc9e9a9ad6378692df5103d98489e77a5e,," try: with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read()) except FileNotFoundError: print(f""ERROR: Passwords file \""{passwords_file}\"" is missing"") sys.exit(1)"," with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read())",6,2
openstack%2Ftripleo-heat-templates~master~I47460231a0fee18448f9fa9169d9d6ca196a2587,openstack/tripleo-heat-templates,master,I47460231a0fee18448f9fa9169d9d6ca196a2587,Clean up removed services from undercloud environment,MERGED,2022-05-17 05:51:47.000000000,2022-05-26 14:31:03.000000000,2022-05-26 14:19:55.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-17 05:51:47.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a3d998a2a2aedc8e7096305c5b0a6e5da60df6f', 'message': 'Clean up removed services from undercloud environment\n\nThe following services were removed from Undercloud.\n - Aodh, Ceilometer, Gnocchi\n - Redis\n - Cinder\n - Heat (non ephemeral)\n - Nova\n - Placement\n - Glance\n - Swift\n\nAlso, neutron-metadata-agent has not been used in Undercloud.\n\nChange-Id: I47460231a0fee18448f9fa9169d9d6ca196a2587\n'}]",4,842035,5a3d998a2a2aedc8e7096305c5b0a6e5da60df6f,10,4,1,9816,,,0,"Clean up removed services from undercloud environment

The following services were removed from Undercloud.
 - Aodh, Ceilometer, Gnocchi
 - Redis
 - Cinder
 - Heat (non ephemeral)
 - Nova
 - Placement
 - Glance
 - Swift

Also, neutron-metadata-agent has not been used in Undercloud.

Change-Id: I47460231a0fee18448f9fa9169d9d6ca196a2587
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/842035/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,5a3d998a2a2aedc8e7096305c5b0a6e5da60df6f,,, OS::TripleO::Services::AodhApi: OS::Heat::None OS::TripleO::Services::AodhEvaluator: OS::Heat::None OS::TripleO::Services::AodhNotifier: OS::Heat::None OS::TripleO::Services::AodhListener: OS::Heat::None OS::TripleO::Services::CeilometerAgentCentral: OS::Heat::None OS::TripleO::Services::CeilometerAgentNotification: OS::Heat::None OS::TripleO::Services::CeilometerAgentIpmi: OS::Heat::None OS::TripleO::Services::GnocchiApi: OS::Heat::None OS::TripleO::Services::GnocchiMetricd: OS::Heat::None OS::TripleO::Services::GnocchiStatsd: OS::Heat::None OS::TripleO::Services::Redis: OS::Heat::None OS::TripleO::Services::CinderApi: OS::Heat::None OS::TripleO::Services::CinderScheduler: OS::Heat::None OS::TripleO::Services::CinderVolume: OS::Heat::None # Disable traditional heat services now that ephemeral heat # is deployed by default OS::TripleO::Services::HeatApi: OS::Heat::None OS::TripleO::Services::HeatApiCfn: OS::Heat::None OS::TripleO::Services::HeatApiCloudwatch: OS::Heat::None OS::TripleO::Services::HeatEngine: OS::Heat::None OS::TripleO::Services::NovaApi: OS::Heat::None OS::TripleO::Services::NovaConductor: OS::Heat::None OS::TripleO::Services::NovaIronic: OS::Heat::None OS::TripleO::Services::NovaMetadata: OS::Heat::None OS::TripleO::Services::NovaScheduler: OS::Heat::None OS::TripleO::Services::PlacementApi: OS::Heat::None OS::TripleO::Services::Logging::PlacementApi: OS::Heat::None OS::TripleO::Services::GlanceApi: OS::Heat::None OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::SwiftProxy: OS::Heat::None OS::TripleO::Services::SwiftStorage: OS::Heat::None OS::TripleO::Services::SwiftRingBuilder: OS::Heat::None,0,32
openstack%2Fneutron~master~Ia84410675d28002afc74368349c9b54f048f4f4d,openstack/neutron,master,Ia84410675d28002afc74368349c9b54f048f4f4d,[ovn]Refusing to bind port to dead agent,MERGED,2022-01-20 07:10:01.000000000,2022-05-26 14:16:15.000000000,2022-05-26 14:14:31.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 07:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcce1deae87913e5a44ada7ed197db926728a2e5', 'message': '[ovn]Refusing to bind port to dead agent\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 2, 'created': '2022-01-20 09:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2c129aa6fe007f6c827df388434f7b20a9d50b7', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 3, 'created': '2022-01-21 02:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/747db7536726d0bfa46a1953aa9e87d9b7dd7480', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 4, 'created': '2022-01-21 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf5f96b12b2c4d750077bd523986cd88d1a66f13', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 5, 'created': '2022-01-24 00:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62077a39c8357c2e2825e45dad3cd5baad93d400', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 6, 'created': '2022-01-24 01:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a45ae92c8742f9fcdd46933462856816eb7da99f', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 7, 'created': '2022-02-12 05:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b5a8d6e2aca5576838c9fe6cc1bf14983119756', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 8, 'created': '2022-02-28 11:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b4b8c6fa7a1a90d878ecebbd1c8776fec9ec7e1', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 9, 'created': '2022-03-01 02:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52bb38f0b09c6112e0dfa2855ed306b259f805a6', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 10, 'created': '2022-03-01 05:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62ff665bd440199428ff7088fc5fe3259c0336c5', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 11, 'created': '2022-03-02 05:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28616c5fb464d92821d39f398dc96d37bb588b03', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 12, 'created': '2022-03-02 09:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95bd7635a6536f60388a550e62579452e10c53f9', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 13, 'created': '2022-04-12 02:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2b33ccf09511cc808dbf784d7ea586a16d8bbc0', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 14, 'created': '2022-04-12 03:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfae99391eaf3148d22c6dcb11fc951344dd0465', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 15, 'created': '2022-04-26 00:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/338f547b44065eb5cc14719a8f2ae4db9dae8512', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 16, 'created': '2022-04-26 11:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c8e47c6a19e7b3252fa3ad8d6147952851018fb', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 17, 'created': '2022-05-07 02:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f91533f30c4b40aa9ee37c4800f122e9ef792b98', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 18, 'created': '2022-05-07 02:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a69d59875b786090002fad8dcf4db09890d9a2e7', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 19, 'created': '2022-05-07 02:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc1ba98f7a2e7e8478d8928d345d7a617a310db4', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}, {'number': 20, 'created': '2022-05-07 03:06:27.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-refuse-bind-dead-agent-2310f9f64c2a99de.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a55f091925fd5e6742fb92783c524450843f5a0', 'message': '[ovn]Refusing to bind port to dead agent\n\nCloses-bug: #1958501\n\nChange-Id: Ia84410675d28002afc74368349c9b54f048f4f4d\n'}]",26,825428,8a55f091925fd5e6742fb92783c524450843f5a0,118,8,20,30380,,,0,"[ovn]Refusing to bind port to dead agent

Closes-bug: #1958501

Change-Id: Ia84410675d28002afc74368349c9b54f048f4f4d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/825428/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,fcce1deae87913e5a44ada7ed197db926728a2e5,," # cannot be found or dead. agents = get_agents(self._plugin, context, {'host': context.host}, None, self) if not agents: LOG.warning('Refusing to bind port %(port_id)s due to ' agent = agents[0] if not agent['alive']: LOG.warning(""Refusing to bind port %(pid)s to dead agent: "" ""%(agent)s"", {'pid': context.current['id'], 'agent': agent}) return chassis = n_agent.AgentCache()[agent['id']].chassis datapath_type = chassis.external_ids.get('datapath-type', '') iface_types = chassis.external_ids.get('iface-types', '') chassis_physnets = self.sb_ovn._get_chassis_physnets(chassis)"," # cannot be found. chassis_physnets = [] try: datapath_type, iface_types, chassis_physnets = ( self.sb_ovn.get_chassis_data_for_ml2_bind_port(context.host)) iface_types = iface_types.split(',') if iface_types else [] except RuntimeError: LOG.debug('Refusing to bind port %(port_id)s due to '",15,8
openstack%2Fskyline-apiserver~master~I4b536694ae311308cdc9b3a43b32c146613daf18,openstack/skyline-apiserver,master,I4b536694ae311308cdc9b3a43b32c146613daf18,style: Re-generate the default config yaml,MERGED,2022-05-26 12:20:54.000000000,2022-05-26 13:56:07.000000000,2022-05-26 13:56:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-05-26 12:20:54.000000000', 'files': ['skyline_apiserver/config/default.py', 'etc/skyline.yaml.sample'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/37a0cacf267a5c8e48cbe7eeb79a0b94839d8f0b', 'message': 'style: Re-generate the default config yaml\n\nRe-generate the default config yaml.\n\nChange-Id: I4b536694ae311308cdc9b3a43b32c146613daf18\n'}]",0,843446,37a0cacf267a5c8e48cbe7eeb79a0b94839d8f0b,6,2,1,28706,,,0,"style: Re-generate the default config yaml

Re-generate the default config yaml.

Change-Id: I4b536694ae311308cdc9b3a43b32c146613daf18
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/46/843446/1 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/config/default.py', 'etc/skyline.yaml.sample']",2,37a0cacf267a5c8e48cbe7eeb79a0b94839d8f0b,, database_url: sqlite:////tmp/skyline.db keystone_url: http://localhost:5000/v3/ database: trove system_project: service system_project_domain: Default system_user_domain: Default system_user_name: skyline system_user_password: password, database_url: 'mysql://root:root@localhost:3306/skyline' # database_url: 'sqlite:////tmp/skyline.db' keystone_url: 'http://localhost:5000/v3/' database: trove system_project: 'service' system_project_domain: 'Default' system_user_domain: 'Default' system_user_name: 'skyline' system_user_password: 'password',10,11
openstack%2Fcinder-specs~master~Ic038fd8b97e265285678c299ef25fd812e5709a0,openstack/cinder-specs,master,Ic038fd8b97e265285678c299ef25fd812e5709a0,Propose image-encryption spec for Zed,MERGED,2022-05-09 12:31:04.000000000,2022-05-26 13:44:34.000000000,2022-05-26 13:43:09.000000000,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 12:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/6abd98f9c3e2d8c08a4ff6cb65d15971276dc81b', 'message': 'Propose image-encryption spec for Zed\n\nThis spec was approved for Train first and its approved status has been\ncarried along through Yoga. We propose it for Zed again.\n\nChange-Id: Ic038fd8b97e265285678c299ef25fd812e5709a0\n'}, {'number': 2, 'created': '2022-05-09 12:34:30.000000000', 'files': ['specs/zed/image-encryption.rst', 'specs/zed/remove-me.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/13305d5ab1914b7696cb3c201b6942979fe32ffe', 'message': 'Propose image-encryption spec for Zed\n\nThis spec was approved for Train first and its approved status has been\ncarried along through Yoga. We propose it for Zed again.\n\nChange-Id: Ic038fd8b97e265285678c299ef25fd812e5709a0\n'}]",1,841110,13305d5ab1914b7696cb3c201b6942979fe32ffe,10,3,2,28271,,,0,"Propose image-encryption spec for Zed

This spec was approved for Train first and its approved status has been
carried along through Yoga. We propose it for Zed again.

Change-Id: Ic038fd8b97e265285678c299ef25fd812e5709a0
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/10/841110/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/zed/remove-me.rst', 'specs/yoga/image-encryption.rst']",2,6abd98f9c3e2d8c08a4ff6cb65d15971276dc81b,image-encryption,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Image Encryption and Decryption ========================================== OpenStack already has the ability to create encrypted volumes and ephemeral storage to ensure the confidentiality of block data. In contrast to that, images are currently handled without protection towards confidentiality, only providing the possibility to ensure integrity using image signatures. For further protection of user data - e.g. when a user uploads an image containing private data or confidential information - the image data should not be accessible for unauthorized entities. For this purpose, an encrypted image format is to be introduced in OpenStack. To enable this, several adjustments to support image encryption/decryption in various projects, e.g. Nova, Glance, Cinder and OSC, need to be implemented. The proposal documented in this spec describes the Cinder-related part of the overall cross-project concept for image encryption. Problem description =================== An image, when uploaded to Glance or being created through Nova from an existing server (VM), may contain sensitive information. The already provided signature functionality only protects images against alteration. Images may be stored on several hosts over long periods of time. First and foremost this includes the image storage hosts of Glance itself. Furthermore it might also involve other systems such as volume hosts. As a result they are exposed to a multitude of potential scenarios involving different hosts with different access patterns and attack surfaces. The OpenStack components involved in those scenarios  including Cinder - do not protect the confidentiality of image data. Using encrypted storage backends for volume and compute hosts in conjunction with direct data transfer from/to encrypted images can enable workflows that never expose an image's data on a host's filesystem. Storage of encryption keys on a dedicated key manager host ensures isolation and access control for the keys as well. With such a set of configuration recommendations for security focused environments, we are able to reach a good foundation. Future enhancements can build upon that and extend the provided security enhancements to a broader set of variants. Thats why we propose the introduction of an encrypted image format. Use Cases --------- 1. A user wants to create a new volume based on an encrypted image. The corresponding volume host has to be able to decrypt the image using the symmetric key stored in the key manager and transform it into the requested volume resource. 2.1. A user wants to create an encrypted image from a volume. The volume does not use an encrypted volume type. The target image is to be encrypted using the proposed image encryption mechanism and a specified key. 2.2. A user wants to create an encrypted image from a volume. The volume uses an encrypted volume type (LUKS-based). The target image is not to be re-encrypted but will instead reuse the LUKS encryption and key. This use case is already implemented as part of the default behavior of Cinder. 2.3. A user wants to create an encrypted image from a volume. The volume uses an encrypted volume type (LUKS-based). The target image is to be re-encrypted using the proposed image encryption mechanism and a specified key. This involves opening a dmcrypt mapping for the LUKS encryption and streaming the plain data of the volume directly into the target image file while encrypting it using the specified image encryption mechanism (e.g. GPG). Proposed change =============== In Glance we propose to add a new container_format called 'encrypted'. Furthermore, we propose the following additional metadata properties carried by images of this format: * 'os_encrypt_format' - the main mechanism used, e.g. 'GPG' * 'os_encrypt_type' - encryption type, e.g. 'symmetric' * 'os_encrypt_cipher' - the cipher algorithm, e.g. 'AES256' * 'os_encrypt_key_id' - reference to key in the key manager * 'os_decrypt_container_format' - format after payload decryption * 'os_decrypt_size' - size after payload decryption All these metadata properties are only used for the decryption of an image and won't be needed in the lifecycle of a volume anymore. When creating an image from a volume these metadata properties are newly generated and saved in the Glance metadata of the new image. For Cinder we want to add support for encrypted image decryption when a volume is created from it. Cinder should select a suitable decryption mechanism according to the new image container_format and metadata. The symmetric key will be retrieved from the key manager (e.g. Barbican) according to the key id stored in the metadata. Additionally, Cinder should be able to encrypt volume data in a similar fashion if the user requests an encrypted image to be created from a volume according to the use cases 2.1 and 2.3 illustrated above. The implementations in Cinder should make use of a centralized encryption implementation provided by a global library, shared between all involved OpenStack components to prevent individual implementations of the encryption mechanism. For general image encryption, we propose to use an implementation of symmetric AES 256 provided by GnuPG as a basic mechanism supported by this draft. It is a well established implementation of PGP and supports streamable encryption/decryption processes, which is important as we require the streamability of the encryption/decryption mechanism for two reasons: 1. Loading entire images into the memory of volume hosts is unacceptable. 2. We propose direct decryption-streaming into the target volume to prevent the creation of temporary unencrypted files. There is already one existing case in Cinders current implementation where encrypted images are created (use case 2.2). This is when an image is created directly from an encrypted volume. Since the encrypted block data is simply copied into the image, the encryption (usually LUKS) is automatically inherited - as is the encryption key, which is simply cloned in Barbican. We will not change this behavior as a part of this spec. Our changes will only apply, when the user actively wants to create an encrypted image from any volume. The key management is handled differently than with encrypted volumes or encrypted ephemeral storage. The reason for this is, that the encryption and decryption of an image will never happen in Glance but in all other services, which consume images. Therefore the service which needs to create a key for a newly created encrypted image may not be the same service which then has to delete the key (in most cases Glance). To delete a key, which has not been created by the same entity, is bad behavior. To avoid this, we choose to let the user create and delete the key. To not accidently delete a key, which is used to encrypt an image, we will let Glance register as a consumer of that key (secret in Barbican [1]) when the corresponding encrypted image is uploaded and unregister as a consumer when the image is deleted in Glance. The methods for encryption and decryption of files - in this case images - will be written in a driver like manner in os-brick so the image encryption can be extended with another encryption format easily. The encryption driver should focus a specific encryption format and implement exactly one encrypt and one decrypt method, both based on a cipher implementation of GPG aes. This driver may be simple wrappers around an existing implementation. An abstract base class should be defined and be used for the implementation of GPG encryption (and might be used for other implementations in the future). Alternatives ------------ Regarding the image encryption, we also explored the possibility of using more elaborate and dynamic approaches like PKCS#7 (CMS) but ultimately failed to find a free open-source implementation (e.g. OpenSSL) that supports streamable decryption of CMS-wrapped encrypted data. More precisely, no implementation we tested was able to decrypt a symmetrically encrypted, CMS-wrapped container without trying to completely load it into memory or suffering from other limitations regarding big files. We also evaluated an image encryption implementation based on LUKS which is already used in Cinder and Nova as an encryption mechanism for volumes and ephemeral disks respectively. However, we were unable to find a suitable solution to directly handle file-based LUKS encryption in user space. Firstly, the handling of LUKS devices (even when file-based) via cryptsetup always requires the dm-crypt kernel module and corresponding root privileges. Secondly, in contrast to native LUKS used by LibVirt, the LUKS handling available via cryptsetup creates temporary device mapper endpoints where data is read from or written to. There is no direct reading/writing from/to an encrypted LUKS file and LUKS opening/closing needs to be handled accordingly. Lastly, LUKS is a format primarily designed for disk encryption. Although it may be used for files as well (by formatting files as LUKS devices), the handling is rather inconvenient; for example, the size of the LUKS container file needs to be calculated and allocated beforehand since it acts like a disk with a fixed size. Data model impact ----------------- None REST API impact --------------- For creating encrypted images from volumes, additional properties in the request body of os-volume_upload_image will need to be introduced to specify the desired encryption format and key id. Security impact --------------- There are impacts on the security of OpenStack: * confidentiality of data in images will be addressed in this spec * image encryption is introduced, thus additional cryptographic algorithms will be used in Cinder to implement this functionality Notifications impact -------------------- None Other end user impact --------------------- * Users should be able to optionally, but knowingly create a differently encrypted image from a volume. * If an administrator has configured Glance to reject unencrypted images, such images will not be accepted when attempted to be uploaded to Glance. Performance Impact ------------------ The proposed encryption/decryption mechanisms in Cinder will only be utilized on-demand and skipped entirely for image container types that arent encrypted. Thus, any performance impact is only applicable to the newly introduced encrypted image type where the processing (or creation) of such image will have increased computational costs and longer processing times than for regular images. Impact will vary depending on the individual host performance and supported CPU extensions for cipher algorithms. For Ceph-based setups, the usual cloning performance benefit provided by the shared storage between Glance and Cinder is lost for encrypted images, due to the need of converting the encrypted image data format to the volume format. Other deployer impact --------------------- * A key manager - like Barbican - is required. * The key manager needs to be accessible from volume hosts, requiring appropriate cinder.conf adjustments. Developer impact ---------------- * To use the encoding and decoding of images in os-brick, we need to execute priviledged functions. We decided to use privsep for this as in nova. Upgrade impact -------------- none Implementation ============== Assignee(s) ----------- Primary assignee: Markus Hentsch (IRC: mhen) Other contributors: Josephine Seifert (IRC: Luzi) Work Items ---------- * Add a decryption implementation in Cinder for creating volumes from GPG encrypted images * Add a dedicated encryption workflow and implementation in Cinder for creating encrypted images from volumes using the proposed image encryption format (GPG) * Add encryption and decryption methods for the GPG format in os-brick Dependencies ============ * GPG is required to be installed on all systems that are required to perform encryption/decryption operations in order to support the proposed base encryption mechanism. * This spec requires the implementation of an encrypted container_format and corresponding metadata property support in Glance * This spec requires the implementation of appropriate encryption/decryption functionality in a global library shared between the components involved in image encryption workflows (Nova, Cinder, OSC), like os-brick Testing ======= Tempest tests would require access to encrypted images for testing. This means that Tempest either needs to be provided with an image file that is already encrypted and its corresponding key or needs to be able to encrypt images itself. This point is still open for discussion. Documentation Impact ==================== It should be documented for deployers, how to enable this feature in the OpenStack configuration. An end user should have a documentation on how to use encrypted images in Cinder and how to create them respectively. Furthermore, any resulting limitations such as reduced performance should be mentioned, especially for Ceph-based setups usually benefiting from shared storage cloning. References ========== [1] Barbican Secret Consumer Spec: https://review.opendev.org/#/c/662013/ Nova-Spec: https://review.openstack.org/#/c/608696/ Glance-Spec: https://review.openstack.org/#/c/609667/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced * - Ussuri - Postponed ",0,351
openstack%2Ftenks~master~I802b206199b06cfa1983f6f07f195660dd7d86ad,openstack/tenks,master,I802b206199b06cfa1983f6f07f195660dd7d86ad,Use Yoga upper constraints to avoid Python version conflict,MERGED,2022-05-26 10:35:29.000000000,2022-05-26 13:38:13.000000000,2022-05-26 13:35:52.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 10:35:29.000000000', 'files': ['ansible/group_vars/all', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/66f0066273e6dfc9aab18bd71400d308d8e5b0e2', 'message': 'Use Yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nChange-Id: I802b206199b06cfa1983f6f07f195660dd7d86ad\n'}]",5,843427,66f0066273e6dfc9aab18bd71400d308d8e5b0e2,14,5,1,14826,,,0,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

Change-Id: I802b206199b06cfa1983f6f07f195660dd7d86ad
",git fetch https://review.opendev.org/openstack/tenks refs/changes/27/843427/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all', 'zuul.d/jobs.yaml']",2,66f0066273e6dfc9aab18bd71400d308d8e5b0e2,yoga-uc, required-projects: # NOTE(mgoddard): CentOS 8 uses Python 3.6 which is not supported in Zed. - name: openstack/requirements override-checkout: stable/yoga required-projects: # NOTE(mgoddard): CentOS 8 uses Python 3.6 which is not supported in Zed. - name: openstack/requirements override-checkout: stable/yoga,,10,1
openstack%2Fkuryr-kubernetes~master~I90c132a0cdf6ee78052130bb5d038bec312934e1,openstack/kuryr-kubernetes,master,I90c132a0cdf6ee78052130bb5d038bec312934e1,Added identifier to the Port object.,ABANDONED,2022-05-09 09:13:28.000000000,2022-05-26 13:14:09.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-05-09 09:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a97229908acf4b5b3f9c010bca760670ce06a10', 'message': 'Added cluster id information to the Port object.\n\nCurrently device_id field has been only filled with pod uid in case the\nport has been in use with that pod, now we start to use device_id for\nall ports, and additionally add pod uid for bonded ports in a form:\n\ncluster_id:pod_uid\n\nso that it would be easy to spot unused resources and clean them up.\n\nChange-Id: I90c132a0cdf6ee78052130bb5d038bec312934e1\n'}, {'number': 2, 'created': '2022-05-09 11:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/04aae065baf606dbca70381a383c3298839c39c3', 'message': 'Added cluster id information to the Port object.\n\nCurrently device_id field has been only filled with pod uid in case the\nport has been in use with that pod, now we start to use device_id for\nall ports, and additionally add pod uid for bonded ports in a form:\n\ncluster_id:pod_uid\n\nso that it would be easy to spot unused resources and clean them up.\n\nChange-Id: I90c132a0cdf6ee78052130bb5d038bec312934e1\n'}, {'number': 3, 'created': '2022-05-17 12:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/57d40ec265159194d48f77e49965b04d19c193f3', 'message': ""Added identifier to the Port object.\n\nFor the time being, it's not possible to create Neutron port with tags\nin one atomic operation. We need to use a hack to identify ports created\nby kuryr by marking them with (hopefully) unique identifier using\nresource tags in description field. Perhaps, in the future Neutron will\ngain such ability (not only for ports, but for other resources as well),\nand than we could get rid of it.\n\nChange-Id: I90c132a0cdf6ee78052130bb5d038bec312934e1\n""}, {'number': 4, 'created': '2022-05-18 13:02:17.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_neutron_vif.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5252d83b466056f1ff45134bb30d83bdd7795135', 'message': ""Added identifier to the Port object.\n\nFor the time being, it's not possible to create Neutron port with tags\nin one atomic operation. We need to use a hack to identify ports created\nby kuryr by marking them with (hopefully) unique identifier using\nresource tags in description field. Perhaps, in the future Neutron will\ngain such ability (not only for ports, but for other resources as well),\nand than we could get rid of it.\n\nChange-Id: I90c132a0cdf6ee78052130bb5d038bec312934e1\n""}]",17,841084,5252d83b466056f1ff45134bb30d83bdd7795135,22,3,4,13692,,,0,"Added identifier to the Port object.

For the time being, it's not possible to create Neutron port with tags
in one atomic operation. We need to use a hack to identify ports created
by kuryr by marking them with (hopefully) unique identifier using
resource tags in description field. Perhaps, in the future Neutron will
gain such ability (not only for ports, but for other resources as well),
and than we could get rid of it.

Change-Id: I90c132a0cdf6ee78052130bb5d038bec312934e1
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/841084/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_neutron_vif.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'releasenotes/notes/zed-upgrade-06fcd4624f8116ce.yaml']",4,2a97229908acf4b5b3f9c010bca760670ce06a10,cloud-id,"--- upgrade: - | There was a change for the Neutron resources, to have device_id set to the Kubernetes cluster id (which shold be set in kuryr config), so it might affect Neutron binded ports, which till now holds pod uid - now for such a case this field would be use ``cluster_id:pod_uid`` convention. Any projects which leverage information on this field should be updated accordingly. ",,20,6
openstack%2Fkolla-ansible~stable%2Fwallaby~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,stable/wallaby,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-25 07:04:59.000000000,2022-05-26 13:05:14.000000000,2022-05-26 13:03:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 07:04:59.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a53f31bd015e1716bb41e6021aa0c27bf2e2b059', 'message': 'genpwd: handle lack of password file nicer\n\nFrom:\n\n(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nTraceback (most recent call last):\n  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>\n    sys.exit(main())\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main\n    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd\n    with open(passwords_file, \'r\') as f:\nFileNotFoundError: [Errno 2] No such file or directory: \'/etc/kolla/passwords.yml\'\n\nTo:\n\n(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing\n\nChange-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617\n(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)\n'}]",0,843203,a53f31bd015e1716bb41e6021aa0c27bf2e2b059,9,3,1,24072,,,0,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/843203/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,a53f31bd015e1716bb41e6021aa0c27bf2e2b059,," try: with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read()) except FileNotFoundError: print(f""ERROR: Passwords file \""{passwords_file}\"" is missing"") sys.exit(1)"," with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read())",6,2
openstack%2Fkolla-ansible~master~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,master,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-24 14:26:49.000000000,2022-05-26 13:05:11.000000000,2022-05-26 13:03:38.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-05-24 14:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46084d5a58b9bb4b8c1bbed4297063ba59ad5744', 'message': 'talk TLS to openstack exporter via haproxy\n\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n'}, {'number': 2, 'created': '2022-05-24 14:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0404fc2605bf16761fca8475cbcd599ba017b85', 'message': 'talk TLS to openstack exporter via haproxy\n\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n'}, {'number': 3, 'created': '2022-05-24 15:23:55.000000000', 'files': ['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcba927d7b989cea8398b461da7363ceee3f14bc', 'message': 'talk TLS to openstack exporter via haproxy\n\nCloses-Bug: #1975598\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n'}]",3,843150,fcba927d7b989cea8398b461da7363ceee3f14bc,13,6,3,33307,,,0,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/843150/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",2,46084d5a58b9bb4b8c1bbed4297063ba59ad5744,,{% if kolla_enable_tls_internal | bool %} scheme: https {% endif %},,11,0
openstack%2Fkolla-ansible~stable%2Fyoga~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,stable/yoga,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-25 07:04:49.000000000,2022-05-26 13:05:05.000000000,2022-05-26 13:03:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-25 07:04:49.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/785e269e56faac77ace3a6bd35bc76426ce6f009', 'message': 'genpwd: handle lack of password file nicer\n\nFrom:\n\n(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nTraceback (most recent call last):\n  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>\n    sys.exit(main())\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main\n    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd\n    with open(passwords_file, \'r\') as f:\nFileNotFoundError: [Errno 2] No such file or directory: \'/etc/kolla/passwords.yml\'\n\nTo:\n\n(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing\n\nChange-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617\n(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)\n'}]",0,843202,785e269e56faac77ace3a6bd35bc76426ce6f009,9,3,1,24072,,,0,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
(cherry picked from commit 333c74feb400d81e8c7cb3b4f529dd6d2510b586)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/843202/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,785e269e56faac77ace3a6bd35bc76426ce6f009,," try: with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read()) except FileNotFoundError: print(f""ERROR: Passwords file \""{passwords_file}\"" is missing"") sys.exit(1)"," with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read())",6,2
openstack%2Fneutron~master~I614dc6b8da9596b748db285709f9fbb146560b6f,openstack/neutron,master,I614dc6b8da9596b748db285709f9fbb146560b6f,Log when a segment is mapped/unmapped to a host,MERGED,2022-05-19 17:12:23.000000000,2022-05-26 12:38:40.000000000,2022-05-26 12:35:53.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-05-19 17:12:23.000000000', 'files': ['neutron/services/segments/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae4f9af5289ef7bb43b89be2c242d2c87ddb51ea', 'message': 'Log when a segment is mapped/unmapped to a host\n\nThis patch adds debug messages when a segment (or a set of\nsegments) is mapped to a host (or a set of hosts). The\ndeletion of an entry is logged too.\n\nTrivial-Fix\n\nChange-Id: I614dc6b8da9596b748db285709f9fbb146560b6f\n'}]",0,842576,ae4f9af5289ef7bb43b89be2c242d2c87ddb51ea,14,5,1,16688,,,0,"Log when a segment is mapped/unmapped to a host

This patch adds debug messages when a segment (or a set of
segments) is mapped to a host (or a set of hosts). The
deletion of an entry is logged too.

Trivial-Fix

Change-Id: I614dc6b8da9596b748db285709f9fbb146560b6f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/842576/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/db.py'],1,ae4f9af5289ef7bb43b89be2c242d2c87ddb51ea,log_segment_host_mapping,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) segment_ids = current_segment_ids - previous_segment_ids for segment_id in segment_ids: LOG.debug('Segments %s mapped to the host %s', segment_ids, host) LOG.debug('Segment %s unmapped from host %s', entry.segment_id, entry.host) LOG.debug('Segment %s mapped to the hosts %s', segment_id, hosts)", for segment_id in current_segment_ids - previous_segment_ids:,8,1
openstack%2Fneutron~master~I14ad015c4344b32f7210c924902dac4e6ad1ae88,openstack/neutron,master,I14ad015c4344b32f7210c924902dac4e6ad1ae88,"Partially revert ""Do not link up HA router gateway in backup node""",MERGED,2022-03-17 13:04:04.000000000,2022-05-26 12:35:47.000000000,2022-05-26 12:35:47.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26832}]","[{'number': 1, 'created': '2022-03-17 13:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45a1dc5a36a73a8eddee0bf5833584000dd0101e', 'message': 'Revert ""Do not link up HA router gateway in backup node""\n\nThis reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.\n\nIncludes minor addition to neutron/agent/l3/ha_router.py to\nensure ha_confs path is created when the keepalived manager is\ninitialised. This is required following the reverted code.\n\nCloses-Bug: #1965297\nChange-Id: I14ad015c4344b32f7210c924902dac4e6ad1ae88\n'}, {'number': 2, 'created': '2022-05-23 02:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84c87a0772cff1e491a95b22274c23af438dfbed', 'message': 'Revert ""Do not link up HA router gateway in backup node""\n\nThis reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.\n\nIncludes minor addition to neutron/agent/l3/ha_router.py to\nensure ha_confs path is created when the keepalived manager is\ninitialised. This is required following the reverted code.\n\nCloses-Bug: #1965297\nChange-Id: I14ad015c4344b32f7210c924902dac4e6ad1ae88\n'}, {'number': 3, 'created': '2022-05-23 14:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/928d1a7255150f56cbfe16631b709ae66803ed4b', 'message': 'Revert ""Do not link up HA router gateway in backup node""\n\nThis reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.\n\nIncludes minor addition to neutron/agent/l3/ha_router.py to\nensure ha_confs path is created when the keepalived manager is\ninitialised. This is required following the reverted code.\n\nCloses-Bug: #1965297\nChange-Id: I14ad015c4344b32f7210c924902dac4e6ad1ae88\n'}, {'number': 4, 'created': '2022-05-24 11:25:26.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/36bf1df46df4de8f9ed0c19e1118480ce2e55d8a', 'message': 'Partially revert ""Do not link up HA router gateway in backup node""\n\nThis partially reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.\n\nWe revert everything except one minor addition to\nneutron/agent/l3/ha_router.py which ensures that ha_confs path is\ncreated when the keepalived manager is initialised.\n\nCloses-Bug: #1965297\nChange-Id: I14ad015c4344b32f7210c924902dac4e6ad1ae88\n'}]",9,834162,36bf1df46df4de8f9ed0c19e1118480ce2e55d8a,37,6,4,6737,,,0,"Partially revert ""Do not link up HA router gateway in backup node""

This partially reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.

We revert everything except one minor addition to
neutron/agent/l3/ha_router.py which ensures that ha_confs path is
created when the keepalived manager is initialised.

Closes-Bug: #1965297
Change-Id: I14ad015c4344b32f7210c924902dac4e6ad1ae88
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/834162/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/ha.py']",7,45a1dc5a36a73a8eddee0bf5833584000dd0101e,bug/1965297,," # Set external gateway port link up or down according to state if state == 'primary': ri.set_external_gw_port_link_status(link_up=True, set_gw=True) elif state == 'backup': ri.set_external_gw_port_link_status(link_up=False) else: LOG.warning('Router %s has status %s, ' 'no action to router gateway device.', router_id, state)",24,118
openstack%2Fneutron~master~I34f3bbf7d30ddce23758ffb513abff0500b1fad6,openstack/neutron,master,I34f3bbf7d30ddce23758ffb513abff0500b1fad6,Switch to cirros uec image in multinode jobs,MERGED,2022-05-25 06:28:49.000000000,2022-05-26 12:20:53.000000000,2022-05-26 12:17:43.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 06:28:49.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e04bd8fbdfa56320d16870b1f294b2cb62b8a828', 'message': ""Switch to cirros uec image in multinode jobs\n\nKernel panic is seen in these jobs as well,\nlet's switch to cirros uec image to avoid it.\n\nsinglenode jobs already switched with\nhttps://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.\n\nChange-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6\n""}]",0,843237,e04bd8fbdfa56320d16870b1f294b2cb62b8a828,9,5,1,13861,,,0,"Switch to cirros uec image in multinode jobs

Kernel panic is seen in these jobs as well,
let's switch to cirros uec image to avoid it.

singlenode jobs already switched with
https://review.opendev.org/q/Ic57f828c08f1793226759baedb3eb2f646191e1f.

Change-Id: I34f3bbf7d30ddce23758ffb513abff0500b1fad6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/843237/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,e04bd8fbdfa56320d16870b1f294b2cb62b8a828,neutron-ci-improvements, CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz CIRROS_VERSION: 0.5.1 DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz,,12,0
openstack%2Ftripleo-ansible~master~I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf,openstack/tripleo-ansible,master,I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf,Ensure we create correct job names with role-addition.yml,MERGED,2022-05-24 05:55:45.000000000,2022-05-26 12:13:14.000000000,2022-05-26 12:11:42.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 05:55:45.000000000', 'files': ['doc/source/contributing_roles.rst', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/499a3cf76dd9db4f04c07bf4711edb637f8d2f2d', 'message': 'Ensure we create correct job names with role-addition.yml\n\nSince I21dd3741b54ed434e16d89db03e4e37ea093eabb, molecule jobs are now\nbased on ""centos-stream"" and not ""centos-8"" anymore.\n\nThis patch ensures the automation as well as the contribution doc are\nreflecting this new state.\n\nChange-Id: I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf\n'}]",4,843101,499a3cf76dd9db4f04c07bf4711edb637f8d2f2d,16,6,1,28223,,,0,"Ensure we create correct job names with role-addition.yml

Since I21dd3741b54ed434e16d89db03e4e37ea093eabb, molecule jobs are now
based on ""centos-stream"" and not ""centos-8"" anymore.

This patch ensures the automation as well as the contribution doc are
reflecting this new state.

Change-Id: I5cafac6d6fb2da351c0aa8ffffc6b4349e4c59bf
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/843101/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing_roles.rst', 'role-addition.yml']",2,499a3cf76dd9db4f04c07bf4711edb637f8d2f2d,cs-stream-molecule," {% set new_job_name = ""tripleo-ansible-centos-stream-molecule-"" ~ _role_name %} ""parent"": ""tripleo-ansible-centos-stream-base"","," {% set new_job_name = ""tripleo-ansible-centos-8-molecule-"" ~ _role_name %} ""parent"": ""tripleo-ansible-centos-8-base"",",6,6
openstack%2Fpuppet-tripleo~stable%2Ftrain~I2682f0cb3f6253b487eed2d40437ef5780e4ae77,openstack/puppet-tripleo,stable/train,I2682f0cb3f6253b487eed2d40437ef5780e4ae77,HAProxy: enable forwardfor for all http endpoints,MERGED,2022-04-26 10:05:01.000000000,2022-05-26 12:07:56.000000000,2022-05-26 12:07:56.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 10:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c7373850d809bc6cdaee04c878f8b18242efce95', 'message': ""HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\n(from stable/wallaby to stable/victoria)\nConflicts:\n\tmanifests/haproxy.pp\n\tmanifests/haproxy/endpoint.pp\n\n(from stable/victoria to stable/train)\nConflicts:\n\tmanifests/haproxy.pp\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)\n(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)\n(cherry picked from commit 06eda6407606a06e5338a07f82eb44456f6c3052)\n""}, {'number': 2, 'created': '2022-05-18 23:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d01c464e93ef59e32a45040747318cac378b8745', 'message': ""HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\n(from stable/wallaby to stable/victoria)\nConflicts:\n\tmanifests/haproxy.pp\n\tmanifests/haproxy/endpoint.pp\n\n(from stable/victoria to stable/train)\nConflicts:\n\tmanifests/haproxy.pp\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)\n(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)\n(cherry picked from commit 06eda6407606a06e5338a07f82eb44456f6c3052)\n""}, {'number': 3, 'created': '2022-05-23 15:34:30.000000000', 'files': ['manifests/haproxy.pp', 'manifests/haproxy/endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6b79d4680cfdd75776b19b38b3d324130b29d589', 'message': ""HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\n(from stable/wallaby to stable/victoria)\nConflicts:\n\tmanifests/haproxy.pp\n\tmanifests/haproxy/endpoint.pp\n\n(from stable/victoria to stable/train)\nConflicts:\n\tmanifests/haproxy.pp\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)\n(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)\n(cherry picked from commit 06eda6407606a06e5338a07f82eb44456f6c3052)\n""}]",1,839350,6b79d4680cfdd75776b19b38b3d324130b29d589,16,4,3,34564,,,0,"HAProxy: enable forwardfor for all http endpoints

Currently all http endpoints except Horizon doesn't add
X-Forwarded-For header. In this cases each backend service
emits the HAProxy's IP address into its logs. This can make
investigation difficult.
This change enables forwardfor for all http end points and
makes those add X-Forwarded-For header.

(from stable/wallaby to stable/victoria)
Conflicts:
	manifests/haproxy.pp
	manifests/haproxy/endpoint.pp

(from stable/victoria to stable/train)
Conflicts:
	manifests/haproxy.pp

Closes-Bug: #1968691
Change-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77
(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)
(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)
(cherry picked from commit 06eda6407606a06e5338a07f82eb44456f6c3052)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/839350/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/haproxy/endpoint.pp']",2,c7373850d809bc6cdaee04c878f8b18242efce95,stable/train-bug/1968691,," 'option' => 'forwardfor',",11,11
openstack%2Fceilometer~master~Ibbe806faa40148d02714c02908df52f12e49b744,openstack/ceilometer,master,Ibbe806faa40148d02714c02908df52f12e49b744,Change gerrit dest to local gerrit server,ABANDONED,2022-05-26 11:49:20.000000000,2022-05-26 11:54:03.000000000,,[],"[{'number': 1, 'created': '2022-05-26 11:49:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/91d150fa19099a4e95ec567150340ea64e931324', 'message': 'Change gerrit dest to local gerrit server\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Ibbe806faa40148d02714c02908df52f12e49b744\n'}]",0,843433,91d150fa19099a4e95ec567150340ea64e931324,2,0,1,32240,,,0,"Change gerrit dest to local gerrit server

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: Ibbe806faa40148d02714c02908df52f12e49b744
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/33/843433/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,91d150fa19099a4e95ec567150340ea64e931324,push_to_gerrit,[gerrit_local] host=vm-10-0-109-151.hosted.upshift.rdu2.redhat.comproject=ceilometer [gerrit] host=review.openstack.org port=29418 project=openstack/ceilometer,[gerrit] host=review.opendev.orgproject=openstack/ceilometer.git,8,3
openstack%2Fskyline-apiserver~master~I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349,openstack/skyline-apiserver,master,I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349,chore: Remove poetry,MERGED,2022-05-23 03:58:33.000000000,2022-05-26 11:10:12.000000000,2022-05-26 11:10:12.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-05-23 03:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f9bdc5430708f0b8383fa719b793ae289b4249d6', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 2, 'created': '2022-05-23 05:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/114805e432b1ab04220cc878625609160d037a2e', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 3, 'created': '2022-05-23 05:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/9bc2650fc324dc16ae82ad516edbd9a5b1b51a4c', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 4, 'created': '2022-05-23 05:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/70539dc37cf9ae36035aaba49ff877bc03aa0467', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 5, 'created': '2022-05-23 06:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/1b491f2b014a59687471faa05df4c3fe1a422c5f', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 6, 'created': '2022-05-23 07:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2cdd508ae78cbe1577f1fce401f8e18269b2ca6c', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 7, 'created': '2022-05-23 13:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/cbe908dc66e093320011482f54dcc931c12b01a3', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 8, 'created': '2022-05-23 14:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/cdcf682c956adcdfc0ad163685fe1ca30092a128', 'message': ""chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n6. use console instead of bash, and add '$' before linux command and\n'#comments'\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n""}, {'number': 9, 'created': '2022-05-23 15:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/0314571168739a034cf4aced30ab44d2e616b363', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n6. change some commands of README\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 10, 'created': '2022-05-24 06:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/5ae1966b57f936cf36cb1d0fdf23e5408c45a890', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n6. change some commands of README\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 11, 'created': '2022-05-25 14:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/501eae12c371e2403c4b92ba834ef4445688971a', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n6. change some commands of README\n7. update the devstack\n\nDepends-On: https://review.opendev.org/c/openstack/skyline-console/+/843257\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}, {'number': 12, 'created': '2022-05-25 14:27:38.000000000', 'files': ['README-zh_CN.md', 'devstack/inc/python', '.gitignore', 'tools/mypywrap.sh', 'test-requirements.txt', 'Makefile', 'setup.py', '.isort.cfg', 'container/Dockerfile', 'requirements.txt', 'playbooks/python-tarball/pre.yaml', 'tools/post_install.sh', 'pyproject.toml', '.flake8', 'poetry.toml', 'pytest.ini', '.dockerignore', 'playbooks/python-tarball/post.yaml', 'skyline_apiserver/client/utils.py', '.zuul.yaml', 'devstack/plugin.sh', 'skyline_apiserver/types/constants.py', 'MANIFEST.in', 'poetry.lock', 'README.md', '.vscode/launch.json', 'setup.cfg', 'tox.ini', 'playbooks/python-tarball/run.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/1a050ec2c4a838bec0a73859b45aff027a4aa3c1', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. remove some command from Makefile\n5. cleanup the dependencies\n6. change some commands of README\n7. update the devstack\n\nDepends-On: https://review.opendev.org/c/openstack/skyline-console/+/843257\n\nChange-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349\n'}]",6,842907,1a050ec2c4a838bec0a73859b45aff027a4aa3c1,32,3,12,28706,,,0,"chore: Remove poetry

1. remove poetry dependency
2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg
3. add more env into tox.ini
4. remove some command from Makefile
5. cleanup the dependencies
6. change some commands of README
7. update the devstack

Depends-On: https://review.opendev.org/c/openstack/skyline-console/+/843257

Change-Id: I4cefc4cfdaadf7b3ba03ffe8441e9ae760772349
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/07/842907/3 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', '.gitignore', 'tools/mypywrap.sh', 'test-requirements.txt', 'Makefile', 'setup.py', '.isort.cfg', 'container/Dockerfile', 'requirements.txt', 'playbooks/python-tarball/pre.yaml', 'tools/post_install.sh', 'pyproject.toml', '.flake8', 'poetry.toml', 'pytest.ini', '.dockerignore', 'playbooks/python-tarball/post.yaml', 'skyline_apiserver/client/utils.py', '.zuul.yaml', 'devstack/plugin.sh', 'skyline_apiserver/types/constants.py', 'MANIFEST.in', 'poetry.lock', 'README.md', '.vscode/launch.json', 'setup.cfg', 'tox.ini', 'playbooks/python-tarball/run.yaml']",28,f9bdc5430708f0b8383fa719b793ae289b4249d6,remove-poetry,,"- hosts: all tasks: - name: Install tox shell: executable: /bin/bash cmd: | # tox pip3 install tox - name: Build tarball and wheel shell: executable: /bin/bash cmd: | $HOME/.local/bin/tox -e package args: chdir: ""src/{{ zuul.project.canonical_name }}"" - name: Rename whl files to branch specific name shell: ""mv {{ item }}*.whl {{ item }}-{{ zuul.branch | replace('/', '-') }}.whl"" args: chdir: ""src/{{ zuul.project.canonical_name }}/dist"" with_items: - ""skyline_apiserver"" - name: Rename tar.gz files to branch specific name shell: ""mv {{ item }}*.tar.gz {{ item }}-{{ zuul.branch | replace('/', '-') }}.tar.gz"" args: chdir: ""src/{{ zuul.project.canonical_name }}/dist"" with_items: - ""skyline-apiserver"" ",334,4801
openstack%2Fdevstack~stable%2Fussuri~I4af0cbb6d40ec073a9a5d6a962a343f071613d44,openstack/devstack,stable/ussuri,I4af0cbb6d40ec073a9a5d6a962a343f071613d44,[WIP] use unpinned upper-constratits for tempest venv,ABANDONED,2022-05-23 16:59:52.000000000,2022-05-26 10:53:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-23 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3b2608f78469f074e33ee8967f7f92fef3067b96', 'message': '[WIP] use unpinned upper-constratits for tempest venv\n\ntesting if we can unconstrain the tempest venv to allow\nnewer version of tempest to be used on stable branchs\n\nChange-Id: I4af0cbb6d40ec073a9a5d6a962a343f071613d44\n'}, {'number': 2, 'created': '2022-05-23 20:37:05.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0ac2429e6fedcad80f0947679ff40f0bc3d2147a', 'message': '[WIP] use unpinned upper-constratits for tempest venv\n\ntesting if we can unconstrain the tempest venv to allow\nnewer version of tempest to be used on stable branchs\n\nChange-Id: I4af0cbb6d40ec073a9a5d6a962a343f071613d44\n'}]",0,843006,0ac2429e6fedcad80f0947679ff40f0bc3d2147a,5,1,2,11604,,,0,"[WIP] use unpinned upper-constratits for tempest venv

testing if we can unconstrain the tempest venv to allow
newer version of tempest to be used on stable branchs

Change-Id: I4af0cbb6d40ec073a9a5d6a962a343f071613d44
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/843006/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,3b2608f78469f074e33ee8967f7f92fef3067b96,,TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-unpinned},TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-master},6,1
openstack%2Frequirements~stable%2Fussuri~Ib5712399794f57b94ba4b06bbb72c71214854eb3,openstack/requirements,stable/ussuri,Ib5712399794f57b94ba4b06bbb72c71214854eb3,bump tempest for stable/ussuri to yoga verion pin.,ABANDONED,2022-05-23 15:46:09.000000000,2022-05-26 10:53:05.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 15:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab8ef44b509fa30d2de71a52977951576c42ae2f', 'message': 'bump tempest for stable/ussuri to yoga verion pin.\n\ncurrently we have a number of issue with stable/ussuri\nrelated to issue that are fixed upstream\n\nyoga does not test any of the new default policy so lets\nbump it and see if it work.\n\nChange-Id: Ib5712399794f57b94ba4b06bbb72c71214854eb3\n'}, {'number': 2, 'created': '2022-05-23 17:01:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/daeebdb2c6e277c3e45b688403fd6b49fec6eab5', 'message': 'bump tempest for stable/ussuri to yoga verion pin.\n\ncurrently we have a number of issue with stable/ussuri\nrelated to issue that are fixed upstream\n\nyoga does not test any of the new default policy so lets\nbump it and see if it work.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843006\nChange-Id: Ib5712399794f57b94ba4b06bbb72c71214854eb3\n'}]",3,842991,daeebdb2c6e277c3e45b688403fd6b49fec6eab5,8,2,2,11604,,,0,"bump tempest for stable/ussuri to yoga verion pin.

currently we have a number of issue with stable/ussuri
related to issue that are fixed upstream

yoga does not test any of the new default policy so lets
bump it and see if it work.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843006
Change-Id: Ib5712399794f57b94ba4b06bbb72c71214854eb3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/842991/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ab8ef44b509fa30d2de71a52977951576c42ae2f,bump-tempst-pin,tempest===30.1.0,tempest===24.0.0,1,1
openstack%2Ftenks~master~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/tenks,master,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-26 10:20:14.000000000,2022-05-26 10:47:23.000000000,,[{'_account_id': 14826}],"[{'number': 1, 'created': '2022-05-26 10:20:14.000000000', 'files': ['ansible/group_vars/all'], 'web_link': 'https://opendev.org/openstack/tenks/commit/f6f5e04fbe519d2053e202909a9d4804fec9e409', 'message': 'Use Yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",1,843424,f6f5e04fbe519d2053e202909a9d4804fec9e409,5,1,1,14200,,,0,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/tenks refs/changes/24/843424/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all'],1,f6f5e04fbe519d2053e202909a9d4804fec9e409,yoga-uc, https://releases.openstack.org/constraints/upper/{% if ansible_facts.python.version.major == 2 %}train{% else %}yoga{% endif %}, https://releases.openstack.org/constraints/upper/{% if ansible_facts.python.version.major == 2 %}train{% else %}master{% endif %},1,1
openstack%2Fneutron~master~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,master,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-13 09:59:35.000000000,2022-05-26 10:36:21.000000000,2022-05-18 09:35:41.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-05-13 09:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a67a7977a2b19b18e0f3233202ab13eaabab383b', 'message': '[WIP][DNM] [OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nRelated-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n'}, {'number': 2, 'created': '2022-05-17 09:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b7b542c2863e66ac0a78569561fc0742e50bab0', 'message': '[WIP][DNM] [OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n'}, {'number': 3, 'created': '2022-05-17 10:10:49.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c37497e7c98180fb6b1118021acd8e96b7028d0', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n'}]",3,841711,4c37497e7c98180fb6b1118021acd8e96b7028d0,22,5,3,16688,,,0,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/841711/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,a67a7977a2b19b18e0f3233202ab13eaabab383b,bug/1973276," parents = self.get_virtual_port_parents(ip_addr, port) if not parents: continue port_type = ovn_const.LSP_TYPE_VIRTUAL options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY] = ip_addr options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY] = ( ','.join(parents)) break"," if not port['device_owner']: parents = self.get_virtual_port_parents(ip_addr, port) if parents: port_type = ovn_const.LSP_TYPE_VIRTUAL options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY] = ip_addr options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY] = ( ','.join(parents))",9,7
openstack%2Fskyline-console~master~I00a008a73e4f0676dd846dd1ee8ad460f0842965,openstack/skyline-console,master,I00a008a73e4f0676dd846dd1ee8ad460f0842965,chore: Remove poetry,MERGED,2022-05-25 10:28:22.000000000,2022-05-26 10:31:48.000000000,2022-05-26 10:31:48.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 10:28:22.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'Makefile', 'setup.py', 'MANIFEST.in', 'poetry.lock', 'requirements.txt', 'skyline_console/__init__.py', 'pyproject.toml', 'setup.cfg', 'skyline_console/version.py', 'tox.ini', 'poetry.toml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/43aabd55d7421bb196e060c030e9a75b234bae07', 'message': 'chore: Remove poetry\n\n1. remove poetry dependency\n2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg\n3. add more env into tox.ini\n4. add version.py\n\nChange-Id: I00a008a73e4f0676dd846dd1ee8ad460f0842965\n'}]",3,843257,43aabd55d7421bb196e060c030e9a75b234bae07,11,2,1,28706,,,0,"chore: Remove poetry

1. remove poetry dependency
2. add requirements.tx, test-requirements.txt, setup.py and setup.cfg
3. add more env into tox.ini
4. add version.py

Change-Id: I00a008a73e4f0676dd846dd1ee8ad460f0842965
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/57/843257/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'Makefile', 'setup.py', 'MANIFEST.in', 'poetry.lock', 'requirements.txt', 'skyline_console/__init__.py', 'pyproject.toml', 'setup.cfg', 'skyline_console/version.py', 'tox.ini', 'poetry.toml']",13,43aabd55d7421bb196e060c030e9a75b234bae07,,,[virtualenvs] in-project = true ,109,649
openstack%2Fkayobe~stable%2Fxena~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,stable/xena,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-25 23:41:54.000000000,2022-05-26 10:22:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-25 23:41:54.000000000', 'files': ['dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f4c872bbda49f934ded4b82973fcf4c4fc23c52', 'message': 'Use Yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nThis is partially cherry picked change to solve only one issue with\nTenks deployment where upper constraints from master used.\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)\n'}]",0,843350,3f4c872bbda49f934ded4b82973fcf4c4fc23c52,3,2,1,14200,,,0,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

This is partially cherry picked change to solve only one issue with
Tenks deployment where upper constraints from master used.

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/50/843350/1 && git format-patch -1 --stdout FETCH_HEAD,"['dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml']",2,3f4c872bbda49f934ded4b82973fcf4c4fc23c52,yoga-uc," python_upper_constraints_url: ""https://releases.openstack.org/constraints/upper/yoga""",,4,0
openstack%2Fkayobe~stable%2Fwallaby~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,stable/wallaby,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-25 23:42:41.000000000,2022-05-26 10:21:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-25 23:42:41.000000000', 'files': ['dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a1a640bd2eebc289168c87322df3919708563082', 'message': 'Use Yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nThis is partially cherry picked change to solve only one issue with\nTenks deployment where upper constraints from master used.\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)\n'}]",1,843351,a1a640bd2eebc289168c87322df3919708563082,5,2,1,14200,,,0,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

This is partially cherry picked change to solve only one issue with
Tenks deployment where upper constraints from master used.

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/51/843351/1 && git format-patch -1 --stdout FETCH_HEAD,"['dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml']",2,a1a640bd2eebc289168c87322df3919708563082,yoga-uc," python_upper_constraints_url: ""https://releases.openstack.org/constraints/upper/yoga""",,4,0
openstack%2Fkayobe~stable%2Fyoga~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,stable/yoga,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use Yoga upper constraints to avoid Python version conflict,ABANDONED,2022-05-25 21:41:16.000000000,2022-05-26 10:20:59.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-25 21:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9819f7854f78811c612474374d9bddf0709b3d9d', 'message': 'Use yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nThis is partially cherry picked change to solve only one issue.\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)\n'}, {'number': 2, 'created': '2022-05-25 22:16:48.000000000', 'files': ['dev/tenks-deploy-config-compute-libvirt-on-host.yml', 'dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c04f315fbad54c00c0510c6451582603238d5f0f', 'message': 'Use Yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nThis is partially cherry picked change to solve only one issue with\nTenks deployment where upper constraints from master used.\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)\n'}]",3,843347,c04f315fbad54c00c0510c6451582603238d5f0f,7,3,2,14200,,,0,"Use Yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

This is partially cherry picked change to solve only one issue with
Tenks deployment where upper constraints from master used.

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
(cherry picked from commit d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/843347/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/run.yml', 'dev/tenks-deploy-config-compute-libvirt-on-host.yml', 'dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",5,9819f7854f78811c612474374d9bddf0709b3d9d,yoga-uc," environment: UPPER_CONSTRAINTS_FILE: ""https://releases.openstack.org/constraints/upper/yoga""",,9,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I7734fae9b434e5bf6ff5a72e5bac248d4baa2800,openstack/openstack-ansible-openstack_hosts,master,I7734fae9b434e5bf6ff5a72e5bac248d4baa2800,Add passwd for rhel8.,MERGED,2022-05-03 16:09:43.000000000,2022-05-26 10:18:23.000000000,2022-05-26 10:16:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-05-03 16:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/39c0ed3637d76a869eba130ef65a1c83b62a7c98', 'message': 'Add passwd for rhel8.\n\nAdd passwd to fix rocky8 tests.\n\nChange-Id: I7734fae9b434e5bf6ff5a72e5bac248d4baa2800\n'}, {'number': 2, 'created': '2022-05-17 14:59:11.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/57fa3c4ab3c845a0bc18fb307cfd321b10958a2c', 'message': 'Add passwd for rhel8.\n\nAdd passwd to fix rocky8 tests.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842086\nChange-Id: I7734fae9b434e5bf6ff5a72e5bac248d4baa2800\n'}]",11,840353,57fa3c4ab3c845a0bc18fb307cfd321b10958a2c,37,5,2,13095,,,0,"Add passwd for rhel8.

Add passwd to fix rocky8 tests.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842086
Change-Id: I7734fae9b434e5bf6ff5a72e5bac248d4baa2800
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/53/840353/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,39c0ed3637d76a869eba130ef65a1c83b62a7c98,add-passwd-rocky, - passwd,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I18a83ef1909e758e82f7e9d888d65363a4528249,openstack/tripleo-heat-templates,stable/wallaby,I18a83ef1909e758e82f7e9d888d65363a4528249,Switch to stestr,MERGED,2022-05-11 07:44:17.000000000,2022-05-26 09:48:01.000000000,2022-05-26 09:46:50.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-11 07:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5516e83ea008e746e0edbc0071101abe95c561ae', 'message': 'Switch to stestr\n\nstestr is maintained project to which all Openstack projects\nshould use.\n\nChange-Id: I18a83ef1909e758e82f7e9d888d65363a4528249\n(cherry picked from commit 90cf6a6dbe196ecf8903982fe51c8598e82e6b6a)\n'}, {'number': 2, 'created': '2022-05-11 07:45:18.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a872a8f97ff4f38ace18edb893405c088101b85c', 'message': 'Switch to stestr\n\nstestr is maintained project to which all Openstack projects\nshould use.\n\nChange-Id: I18a83ef1909e758e82f7e9d888d65363a4528249\n(cherry picked from commit 90cf6a6dbe196ecf8903982fe51c8598e82e6b6a)\n'}]",1,841375,a872a8f97ff4f38ace18edb893405c088101b85c,14,3,2,29775,,,0,"Switch to stestr

stestr is maintained project to which all Openstack projects
should use.

Change-Id: I18a83ef1909e758e82f7e9d888d65363a4528249
(cherry picked from commit 90cf6a6dbe196ecf8903982fe51c8598e82e6b6a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/841375/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,5516e83ea008e746e0edbc0071101abe95c561ae,,[DEFAULT] test_path=${TEST_PATH:-./tripleo_heat_templates/tests} top_dir=./ ,,17,6
openstack%2Fneutron~stable%2Fwallaby~Iac4eb364bfc1c44f5d4526bae71967bede29cc36,openstack/neutron,stable/wallaby,Iac4eb364bfc1c44f5d4526bae71967bede29cc36,[OVN] Fix deadlock in neutron_ovn_db_sync_util.py,MERGED,2022-05-24 17:06:51.000000000,2022-05-26 09:32:18.000000000,2022-05-26 09:30:53.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-24 17:06:51.000000000', 'files': ['neutron/cmd/ovn/neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/941c822b7ba62217e3f4740b5ca5662895d60ae8', 'message': '[OVN] Fix deadlock in neutron_ovn_db_sync_util.py\n\nA feature to synchronize OVN DB connections when handling events\nintroduced in 90980f496cfa3cc5df1c93cf834a44f33d3f1f6f is not applicable\nto the offline sync process executed by this utility.\n\nCloses-bug: #1950679\nChange-Id: Iac4eb364bfc1c44f5d4526bae71967bede29cc36\n(cherry picked from commit 7e2f73350ffdc90f7b340788db36edc439f96f6e)\n(cherry picked from commit dd89a0748c15ec3905b1680957bd959d8d822c10)\n'}]",2,843190,941c822b7ba62217e3f4740b5ca5662895d60ae8,19,6,1,8655,,,0,"[OVN] Fix deadlock in neutron_ovn_db_sync_util.py

A feature to synchronize OVN DB connections when handling events
introduced in 90980f496cfa3cc5df1c93cf834a44f33d3f1f6f is not applicable
to the offline sync process executed by this utility.

Closes-bug: #1950679
Change-Id: Iac4eb364bfc1c44f5d4526bae71967bede29cc36
(cherry picked from commit 7e2f73350ffdc90f7b340788db36edc439f96f6e)
(cherry picked from commit dd89a0748c15ec3905b1680957bd959d8d822c10)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/843190/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ovn/neutron_ovn_db_sync_util.py'],1,941c822b7ba62217e3f4740b5ca5662895d60ae8,bug/1950679-stable/xena-stable/wallaby, ovn_driver._post_fork_event.set(),,1,0
openstack%2Fec2-api~stable%2Fyoga~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/yoga,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 05:10:40.000000000,2022-05-26 09:11:57.000000000,2022-05-26 09:09:40.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 05:10:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/14c86d1fc5d151adc64c62043b1754ecf032d742', 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)\n'}]",1,843376,14c86d1fc5d151adc64c62043b1754ecf032d742,11,2,1,9816,,,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/76/843376/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,14c86d1fc5d151adc64c62043b1754ecf032d742,remove-tripleo,," experimental: jobs: # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario002-standalone",0,8
openstack%2Fopenstack-ansible-ceph_client~stable%2Fvictoria~I0d6014649307bb6556cdc189cf8d749e1ec9b20a,openstack/openstack-ansible-ceph_client,stable/victoria,I0d6014649307bb6556cdc189cf8d749e1ec9b20a,Use global package_state,MERGED,2022-05-20 18:35:58.000000000,2022-05-26 09:00:52.000000000,2022-05-26 08:59:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-20 18:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/24a653948d71af088a0237670b65fcc6835b2896', 'message': ""Use global package_state\n\nWe missed upating ceph_client_package_state to use package_state\nfor default value, as other roles do.\nSo we're fixing it not to update ceph client packages every time, which\ncan lead to interesting consequences depending on the destination.\n\nChange-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a\n(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)\n""}, {'number': 2, 'created': '2022-05-24 16:31:34.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/26fe0cf4a04ce89a253e553b1cae75cd54c83583', 'message': ""Use global package_state\n\nWe missed upating ceph_client_package_state to use package_state\nfor default value, as other roles do.\nSo we're fixing it not to update ceph client packages every time, which\ncan lead to interesting consequences depending on the destination.\n\nChange-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a\n(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)\n""}]",1,842408,26fe0cf4a04ce89a253e553b1cae75cd54c83583,10,2,2,25023,,,0,"Use global package_state

We missed upating ceph_client_package_state to use package_state
for default value, as other roles do.
So we're fixing it not to update ceph client packages every time, which
can lead to interesting consequences depending on the destination.

Change-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a
(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/08/842408/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,24a653948d71af088a0237670b65fcc6835b2896,,"ceph_client_package_state: ""{{ package_state | default('latest') }}""","ceph_client_package_state: ""latest""",1,1
openstack%2Fec2-api~stable%2Fxena~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/xena,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 05:11:04.000000000,2022-05-26 08:52:05.000000000,2022-05-26 08:50:14.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 05:11:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/6eaebd8672a4391b33885067a84cd4c2e204d584', 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)\n(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)\n'}]",2,843377,6eaebd8672a4391b33885067a84cd4c2e204d584,10,2,1,9816,,,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/77/843377/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6eaebd8672a4391b33885067a84cd4c2e204d584,remove-tripleo,," experimental: jobs: # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario002-standalone",0,8
openstack%2Fopenstack-ansible~master~Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7,openstack/openstack-ansible,master,Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7,[doc] Mark Bionic and Buster as unsupported for Y,MERGED,2022-05-25 19:06:34.000000000,2022-05-26 08:39:05.000000000,2022-05-26 08:37:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-25 19:06:34.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0823e54748eed3411365d2f27c2377a265b2f099', 'message': '[doc] Mark Bionic and Buster as unsupported for Y\n\nWe have dropped both Ubuntu 18.04 and Debian 10 support for Yoga.\nThat should be reflected in compatability matrix as well.\n\nChange-Id: Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7\n'}]",0,843340,0823e54748eed3411365d2f27c2377a265b2f099,8,3,1,28619,,,0,"[doc] Mark Bionic and Buster as unsupported for Y

We have dropped both Ubuntu 18.04 and Debian 10 support for Yoga.
That should be reflected in compatability matrix as well.

Change-Id: Ie77e7c46b8fe1ca384b4e56d75ce551867647cb7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/843340/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,0823e54748eed3411365d2f27c2377a265b2f099,, <td></td> <td></td> <td></td>, <td></td> <td></td> <td></td>,3,3
openstack%2Fzaqar-specs~master~I0c72543f8ea4e50c2e5731fec44cb4555647476c,openstack/zaqar-specs,master,I0c72543f8ea4e50c2e5731fec44cb4555647476c,remove unicode literal from code,NEW,2022-05-26 08:27:40.000000000,2022-05-26 08:34:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 08:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/3097ffa64df809c1ff4d3004c7fa7b9ebdba07c2', 'message': 'remove unicode literal from code\n\nChange-Id: I0c72543f8ea4e50c2e5731fec44cb4555647476c\n'}, {'number': 2, 'created': '2022-05-26 08:29:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/8315b6887283aeba49e16123eb7ecddd45774ac6', 'message': ""remove unicode literal from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I0c72543f8ea4e50c2e5731fec44cb4555647476c\n""}]",0,843414,8315b6887283aeba49e16123eb7ecddd45774ac6,3,1,2,33881,,,0,"remove unicode literal from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I0c72543f8ea4e50c2e5731fec44cb4555647476c
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/14/843414/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,3097ffa64df809c1ff4d3004c7fa7b9ebdba07c2,,"project = 'zaqar-specs' copyright = '%s, OpenStack Foundation' % datetime.date.today().year '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'zaqar-specs' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fansible-collection-kolla~master~Ifb0116df8af7e02ef119780a08e8841d2865cf15,openstack/ansible-collection-kolla,master,Ifb0116df8af7e02ef119780a08e8841d2865cf15,baremetal: refactor package installation into a separate role,MERGED,2022-02-16 17:45:07.000000000,2022-05-26 07:53:08.000000000,2022-05-26 07:51:59.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-16 17:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/abba49612a763b56ec8c40d4293641edbcde7226', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 2, 'created': '2022-02-21 17:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/05d371ab0e2622536c4b2063a8b8f9fa258e3610', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 3, 'created': '2022-03-17 11:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/7cc74ec4ea5a05205ba95b8fc8447ce7c4f1ff99', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 4, 'created': '2022-03-24 11:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/494256b04b59d574c2f6f7876b54318087c2fd81', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 5, 'created': '2022-03-30 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/dd4b2b3521660df4cd1ebc2d30e6547d4a034d30', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 6, 'created': '2022-05-03 11:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/15c3913af56f9b4345251d2e4a51275f3c04b917', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 7, 'created': '2022-05-06 14:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/2b8adacc3616557b4e5739c9a9acdb63171e8c45', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 8, 'created': '2022-05-24 08:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/1c270e4f09dbffe06c337d4b71ac13973d7de574', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}, {'number': 9, 'created': '2022-05-24 09:45:11.000000000', 'files': ['roles/packages/tasks/main.yml', 'roles/baremetal/defaults/main.yml', 'roles/docker_sdk/tasks/main.yml', 'roles/baremetal/tasks/install.yml', 'roles/packages/defaults/main.yml', 'roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/844903c58653a054605dcc8506dab128cec34408', 'message': 'baremetal: refactor package installation into a separate role\n\n* Use package module for all distros\n* Apply Apt TTL on Debian/Ubuntu\n\nChange-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15\n'}]",10,829586,844903c58653a054605dcc8506dab128cec34408,33,4,9,14826,,,0,"baremetal: refactor package installation into a separate role

* Use package module for all distros
* Apply Apt TTL on Debian/Ubuntu

Change-Id: Ifb0116df8af7e02ef119780a08e8841d2865cf15
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/86/829586/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/packages/tasks/main.yml', 'roles/baremetal/defaults/main.yml', 'roles/docker_sdk/tasks/main.yml', 'roles/baremetal/tasks/install.yml', 'roles/packages/defaults/main.yml', 'roles/docker_sdk/defaults/main.yml']",6,abba49612a763b56ec8c40d4293641edbcde7226,,# Apt cache TTL in seconds. apt_cache_valid_time: 3600 ,,50,61
openstack%2Fcinder~master~Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec,openstack/cinder,master,Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec,Address pylint error,MERGED,2022-04-27 19:15:22.000000000,2022-05-26 07:51:34.000000000,2022-05-16 20:51:22.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 19:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69416b1ef1682f652d9deff3055b87280fdcccab', 'message': 'Address pylint error\n\nMinor refactoring to avoid a ""E1135: Value \'backup\' doesn\'t support\nmembership test (unsupported-membership-test)"" issue.  Now it\'s\nclear to pylint that \'backup\' must be a cinder.object.\n\nChange-Id: Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec\n'}, {'number': 2, 'created': '2022-05-09 21:00:43.000000000', 'files': ['cinder/backup/api.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/33de368847485cd12384dda087fc979c6d8e8d73', 'message': 'Address pylint error\n\nMinor refactoring to avoid a ""E1135: Value \'backup\' doesn\'t support\nmembership test (unsupported-membership-test)"" issue.  Now it\'s\nclear to pylint that \'backup\' must be a cinder.object.\n\nAlso enhanced some tests to make sure quotas are being handled\ncorrectly when an exception occurs during backup creation.\n\nChange-Id: Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec\n'}]",12,839628,33de368847485cd12384dda087fc979c6d8e8d73,83,4,2,5314,,,0,"Address pylint error

Minor refactoring to avoid a ""E1135: Value 'backup' doesn't support
membership test (unsupported-membership-test)"" issue.  Now it's
clear to pylint that 'backup' must be a cinder.object.

Also enhanced some tests to make sure quotas are being handled
correctly when an exception occurs during backup creation.

Change-Id: Ie81dbb84fb3b3439bd46f96f1202649b7a7f04ec
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/839628/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/api.py'],1,69416b1ef1682f652d9deff3055b87280fdcccab,pylint," kwargs = { 'user_id': context.user_id, 'project_id': context.project_id, 'display_name': name, 'display_description': description, 'volume_id': volume_id, 'status': fields.BackupStatus.CREATING, 'container': container, 'parent_id': parent_id, 'size': volume['size'], 'snapshot_id': snapshot_id, 'data_timestamp': data_timestamp, 'parent': parent, 'metadata': metadata or {} } try: except Exception: with excutils.save_and_reraise_exception(): QUOTAS.rollback(context, reservations) try: if 'id' in backup:"," backup = None try: kwargs = { 'user_id': context.user_id, 'project_id': context.project_id, 'display_name': name, 'display_description': description, 'volume_id': volume_id, 'status': fields.BackupStatus.CREATING, 'container': container, 'parent_id': parent_id, 'size': volume['size'], 'snapshot_id': snapshot_id, 'data_timestamp': data_timestamp, 'parent': parent, 'metadata': metadata or {} } if backup and 'id' in backup:",21,17
openstack%2Fsolum~master~If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc,openstack/solum,master,If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 18:04:08.000000000,2022-05-26 07:45:11.000000000,2022-05-26 07:43:57.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 18:04:08.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/6be3d0353bc3464bd9af85e996a5331185f162ac', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc\n'}]",0,840122,6be3d0353bc3464bd9af85e996a5331185f162ac,7,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: If3e1221e62ccc9b118cf3a2db9f8c6a18d4145bc
",git fetch https://review.opendev.org/openstack/solum refs/changes/22/840122/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,6be3d0353bc3464bd9af85e996a5331185f162ac,drop-l-c,,[testenv:lower-constraints] skip_install = True commands = python -m pip install --no-deps -U . stestr run {posargs} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,151
openstack%2Fironic~master~Ic261efd4bf6f5929687df5e7b1b51b541554af18,openstack/ironic,master,Ic261efd4bf6f5929687df5e7b1b51b541554af18,devstack: use CentOS 9 for DIB IPA builds,MERGED,2022-05-18 07:46:03.000000000,2022-05-26 07:41:18.000000000,2022-05-26 07:38:59.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 07:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92a96554bc49660be1a4b279cf62d197e10dfd4d', 'message': 'devstack: use CentOS 9 for DIB IPA builds\n\nChange-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18\n'}, {'number': 2, 'created': '2022-05-25 14:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/20077bbb9bba77ffd9714bcf19cbe334c776cb8a', 'message': 'devstack: use CentOS 9 for DIB IPA builds\n\nAdditionally bumps CPU model to maximum as centos9 builds now\nrequire a subset of CPU processors which include advanced features.\n\nhttps://developers.redhat.com/blog/2021/01/05/building-red-hat-enterprise-linux-9-for-the-x86-64-v2-microarchitecture-level#architectural_considerations_for_rhel_9\n\nChange-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18\n'}, {'number': 3, 'created': '2022-05-25 15:58:18.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'doc/source/install/deploy-ramdisk.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/81f583f69b76d608bd99be0d59cc808b64effc4a', 'message': 'devstack: use CentOS 9 for DIB IPA builds\n\nAdditionally bumps CPU model to host-model as centos9 builds now\nrequire a subset of CPU processors which include advanced features.\nHost-model also allows for the VM to still start when running with\npure qemu, as opposed to KVM passthrough.\n\nhttps://developers.redhat.com/blog/2021/01/05/building-red-hat-enterprise-linux-9-for-the-x86-64-v2-microarchitecture-level#architectural_considerations_for_rhel_9\n\nChange-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18\n'}]",2,842277,81f583f69b76d608bd99be0d59cc808b64effc4a,27,4,3,10239,,,0,"devstack: use CentOS 9 for DIB IPA builds

Additionally bumps CPU model to host-model as centos9 builds now
require a subset of CPU processors which include advanced features.
Host-model also allows for the VM to still start when running with
pure qemu, as opposed to KVM passthrough.

https://developers.redhat.com/blog/2021/01/05/building-red-hat-enterprise-linux-9-for-the-x86-64-v2-microarchitecture-level#architectural_considerations_for_rhel_9

Change-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/842277/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'doc/source/install/deploy-ramdisk.rst']",3,92a96554bc49660be1a4b279cf62d197e10dfd4d,centos9, * For Ussuri and up to Yoga use CentOS 8 images. * For Zed and newer use CentOS 9 images., * For Ussuri and newer use CentOS 8 images.,9,4
openstack%2Fmurano-agent~master~Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82,openstack/murano-agent,master,Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:25:37.000000000,2022-05-26 07:13:13.000000000,2022-05-26 07:10:57.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:25:37.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/eff24e0861b9aa7b900aeab245030a3e582a0de4', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82\n'}]",0,840086,eff24e0861b9aa7b900aeab245030a3e582a0de4,7,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic80a50009e77e8c99f189e4ea1ecee5d1aad4d82
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/86/840086/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,eff24e0861b9aa7b900aeab245030a3e582a0de4,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,174
openstack%2Fsolum-dashboard~master~I4e59574223b3df314d9e9a331ad33664720b3ac3,openstack/solum-dashboard,master,I4e59574223b3df314d9e9a331ad33664720b3ac3,Address RemovedInDjango40Warning,MERGED,2022-04-29 16:30:59.000000000,2022-05-26 07:12:08.000000000,2022-05-26 07:12:08.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 16:30:59.000000000', 'files': ['solumdashboard/assemblies/urls.py', 'solumdashboard/languagepacks/urls.py', 'solumdashboard/applications/urls.py'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/e881ae235f369afea7f276f091eabe01ddb79a1b', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I4e59574223b3df314d9e9a331ad33664720b3ac3\n'}]",0,839968,e881ae235f369afea7f276f091eabe01ddb79a1b,6,2,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I4e59574223b3df314d9e9a331ad33664720b3ac3
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/68/839968/1 && git format-patch -1 --stdout FETCH_HEAD,"['solumdashboard/assemblies/urls.py', 'solumdashboard/languagepacks/urls.py', 'solumdashboard/applications/urls.py']",3,e881ae235f369afea7f276f091eabe01ddb79a1b,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(r'^$', views.IndexView.as_view(), name='applications'), re_path(r'^create$', views.CreateView.as_view(), name='create'), re_path(r'^launch/(?P<application_id>[^/]+)$', views.LaunchView.as_view(), name='launch'), re_path(r'^detail/(?P<application_id>[^/]+)$', views.DetailView.as_view(), name='detail'), re_path(r'^scale/(?P<application_id>[^/]+)$', views.ScaleView.as_view(), name='scale'), re_path(r'^update/(?P<application_id>[^/]+)$', views.UpdateView.as_view(), name='update')","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'), url(r'^$', views.IndexView.as_view(), name='applications'), url(r'^create$', views.CreateView.as_view(), name='create'), url(r'^launch/(?P<application_id>[^/]+)$', views.LaunchView.as_view(), name='launch'), url(r'^detail/(?P<application_id>[^/]+)$', views.DetailView.as_view(), name='detail'), url(r'^scale/(?P<application_id>[^/]+)$', views.ScaleView.as_view(), name='scale'), url(r'^update/(?P<application_id>[^/]+)$', views.UpdateView.as_view(), name='update')",23,22
openstack%2Fskyline-console~master~I9d8c52635061f5529f6c86b3bcb0df68e4e2153b,openstack/skyline-console,master,I9d8c52635061f5529f6c86b3bcb0df68e4e2153b,fix: Fix certificate,MERGED,2022-05-26 04:40:28.000000000,2022-05-26 07:12:06.000000000,2022-05-26 07:12:06.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-26 04:40:28.000000000', 'files': ['src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/stores/octavia/listener.js', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3544b35a5b78495799dc9b0b2460a046899af84b', 'message': 'fix: Fix certificate\n\n1. Fix certificate id in listener\n2. Fix TERMINATED_HTTPS change to HTTPS in list and detail info\n\nChange-Id: I9d8c52635061f5529f6c86b3bcb0df68e4e2153b\n'}]",0,843375,3544b35a5b78495799dc9b0b2460a046899af84b,6,2,1,33689,,,0,"fix: Fix certificate

1. Fix certificate id in listener
2. Fix TERMINATED_HTTPS change to HTTPS in list and detail info

Change-Id: I9d8c52635061f5529f6c86b3bcb0df68e4e2153b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/75/843375/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/stores/octavia/listener.js', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx']",4,3544b35a5b78495799dc9b0b2460a046899af84b,open-lb," render: (value) => (value === 'TERMINATED_HTTPS' ? 'HTTPS' : value) || '-',",,17,7
openstack%2Fsolum-dashboard~master~I2114803b2b729fc83a2ab71aa6c91b9340203534,openstack/solum-dashboard,master,I2114803b2b729fc83a2ab71aa6c91b9340203534,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 18:05:00.000000000,2022-05-26 07:09:42.000000000,2022-05-26 07:09:42.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-01 18:05:00.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/297460c287521002f88f828926c125e0ea7cac43', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I2114803b2b729fc83a2ab71aa6c91b9340203534\n'}]",0,840124,297460c287521002f88f828926c125e0ea7cac43,7,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I2114803b2b729fc83a2ab71aa6c91b9340203534
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/24/840124/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,297460c287521002f88f828926c125e0ea7cac43,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,147
openstack%2Fmurano-tempest-plugin~master~I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05,openstack/murano-tempest-plugin,master,I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05,Fix import of orchestration_client in base class,MERGED,2022-05-24 01:19:08.000000000,2022-05-26 07:08:06.000000000,2022-05-26 07:08:06.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 01:19:08.000000000', 'files': ['murano_tempest_tests/tests/scenario/application_catalog/base.py'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/1ca439adb0c11ceff702bff409b6e00ffffb0ed9', 'message': 'Fix import of orchestration_client in base class\n\norchestration_client is recently moved from tempest\nto murano-tempest-plugin but there is one import error\nand instantiation of orchestration_client. Fixing the\nerror.\n\nChange-Id: I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05\n'}]",0,843040,1ca439adb0c11ceff702bff409b6e00ffffb0ed9,6,2,1,8556,,,0,"Fix import of orchestration_client in base class

orchestration_client is recently moved from tempest
to murano-tempest-plugin but there is one import error
and instantiation of orchestration_client. Fixing the
error.

Change-Id: I0743a6c1e9a97740aa5e5cb7f10bc0f06aabbf05
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/40/843040/1 && git format-patch -1 --stdout FETCH_HEAD,['murano_tempest_tests/tests/scenario/application_catalog/base.py'],1,1ca439adb0c11ceff702bff409b6e00ffffb0ed9,,from murano_tempest_tests.services import orchestration_client cls.orchestration_client = orchestration_client.OrchestrationClient( cls.orchestration_client = orchestration_client.OrchestrationClient(,from murano_tempest_tests.services import orchestration cls.orchestration_client = orchestration.OrchestrationClient( cls.orchestration_client = orchestration.OrchestrationClient(,3,3
openstack%2Fec2-api~stable%2Fwallaby~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,stable/wallaby,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 05:11:31.000000000,2022-05-26 07:01:47.000000000,2022-05-26 06:58:46.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 05:11:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/0466881b9a74392f64c8b2fddffbea5a23ba5eb9', 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)\n(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)\n(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)\n'}]",0,843378,0466881b9a74392f64c8b2fddffbea5a23ba5eb9,7,2,1,9816,,,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/78/843378/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0466881b9a74392f64c8b2fddffbea5a23ba5eb9,remove-tripleo,," experimental: jobs: # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario002-standalone",0,8
openstack%2Ftripleo-heat-templates~master~Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b,openstack/tripleo-heat-templates,master,Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b,Drop removed tripleo::firewall parameters,MERGED,2022-05-13 12:30:39.000000000,2022-05-26 06:57:00.000000000,2022-05-26 06:57:00.000000000,"[{'_account_id': 8833}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-13 12:30:39.000000000', 'files': ['deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3eda1ad21298044cf69fc401c25225a893f452b8', 'message': 'Drop removed tripleo::firewall parameters\n\nThe tripleo::firewall class was removed thus its parameter should be\nremoved from hieradata.\n\nDepends-on: https://review.opendev.org/841729\nChange-Id: Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b\n'}]",1,841751,3eda1ad21298044cf69fc401c25225a893f452b8,13,4,1,9816,,,0,"Drop removed tripleo::firewall parameters

The tripleo::firewall class was removed thus its parameter should be
removed from hieradata.

Depends-on: https://review.opendev.org/841729
Change-Id: Ia1e6d27c90911af5ea6c7012a5d70f56fb8bfe7b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/841751/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml'],1,3eda1ad21298044cf69fc401c25225a893f452b8,puppet-firewall-cleanup, config_settings: {}, config_settings: tripleo::firewall::manage_firewall: false tripleo::firewall::purge_firewall_rules: false,1,3
openstack%2Fopenstack-ansible-ceph_client~stable%2Fvictoria~I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c,openstack/openstack-ansible-ceph_client,stable/victoria,I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c,Disable setuptools auto discovery,MERGED,2022-05-24 16:30:14.000000000,2022-05-26 06:43:29.000000000,2022-05-26 06:42:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-24 16:30:14.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/c5fdae7c6ec20c5a35ce99550aa3f0da27ecd1d7', 'message': 'Disable setuptools auto discovery\n\nJobs are broken due to a release of setuptools 61.0 introducing\nnon-backwards compatible breaking changes [1]\n\nSetting py_modules to an empty string here will disable autodiscovery\nand should permit jobs to run as before.\n\n[1] https://github.com/pypa/setuptools/issues/3197\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c\n'}]",0,842949,c5fdae7c6ec20c5a35ce99550aa3f0da27ecd1d7,8,3,1,28619,,,0,"Disable setuptools auto discovery

Jobs are broken due to a release of setuptools 61.0 introducing
non-backwards compatible breaking changes [1]

Setting py_modules to an empty string here will disable autodiscovery
and should permit jobs to run as before.

[1] https://github.com/pypa/setuptools/issues/3197

Signed-off-by: Neil Hanlon <neil@shrug.pw>
Change-Id: I3542e5f5fab7a8be87a10d5a194cf59bbeebcb7c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/49/842949/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,c5fdae7c6ec20c5a35ce99550aa3f0da27ecd1d7,workaround-setuptools-autodiscovery-stable/victoria," py_modules=[],",,1,0
openstack%2Ftap-as-a-service~master~I5aef8683df55b0825181e57257f0b71887315e52,openstack/tap-as-a-service,master,I5aef8683df55b0825181e57257f0b71887315e52,Add context for all SQL transactions,MERGED,2022-05-17 14:53:53.000000000,2022-05-26 06:37:08.000000000,2022-05-25 07:25:38.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 14:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/42fd3c961d1c37bc5d0426016c5a0a571e74fa63', 'message': 'Add context for all SQL transactions\n\nFollwo the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\n[1]: https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nCloses-Bug: #1973757\n\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 2, 'created': '2022-05-17 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/b3d44db88ab9f9f5429d3d552648fc76118dd72e', 'message': 'Add context for all SQL transactions\n\nFollwo the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\n[1]: https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\nCloses-Bug: #1973757\n\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 3, 'created': '2022-05-18 10:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/9c8e21091699955627614c49007e5ec29be35ab4', 'message': 'Add context for all SQL transactions\n\nFollwo the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\n[1]: https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\nCloses-Bug: #1973757\n\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 4, 'created': '2022-05-19 04:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/26badfff86fff5deefd6fc37daef79e5dccfb370', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\n[1]: https://review.opendev.org/c/openstack/neutron-lib/+/828738\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\nCloses-Bug: #1973757\n\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 5, 'created': '2022-05-19 05:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4cb108bb26b618d73b616d21e755ee6ee41bdb1d', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\nAlso make tempest job non-voting until [2] merges.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nCloses-Bug: #1973757\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 6, 'created': '2022-05-19 05:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d9712d47628dc4d445185e321e70ffa4c6cea43d', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\nAlso make tempest job non-voting until [2] merges.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nCloses-Bug: #1973757\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 7, 'created': '2022-05-20 15:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3c3ebda0d72e1962e1b4992d1c906dba5611a216', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\nAlso make tempest job non-voting until [2] merges.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nCloses-Bug: #1973757\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 8, 'created': '2022-05-23 08:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/1434c642f5da87149da708b9c0b68afd5ca9094e', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\nAlso make tempest job non-voting until [2] merges.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nCloses-Bug: #1973757\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 9, 'created': '2022-05-23 09:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/5b9585ccb84e40c44a9b6d1d8f64b6e5d3661e0d', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\nAlso make tempest job non-voting until [2] merges.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nCloses-Bug: #1973757\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}, {'number': 10, 'created': '2022-05-23 13:38:40.000000000', 'files': ['neutron_taas/services/taas/taas_plugin.py', 'neutron_taas/tests/unit/services/taas/test_taas_plugin.py', '.zuul.yaml', 'neutron_taas/db/taas_db.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f59837263cea5c4bdcb254586da8c27b1ce14189', 'message': 'Add context for all SQL transactions\n\nFollow the last efforts to make Neutron compatible with sqlalchemy-20\n(see [1]), and use the necessary context for all SQL transactions.\n\nAlso make tempest job non-voting until [2] merges.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nCloses-Bug: #1973757\nChange-Id: I5aef8683df55b0825181e57257f0b71887315e52\n'}]",39,842134,f59837263cea5c4bdcb254586da8c27b1ce14189,41,7,10,8313,,,0,"Add context for all SQL transactions

Follow the last efforts to make Neutron compatible with sqlalchemy-20
(see [1]), and use the necessary context for all SQL transactions.

Also make tempest job non-voting until [2] merges.

[1] https://review.opendev.org/c/openstack/neutron-lib/+/828738
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113

Closes-Bug: #1973757
Change-Id: I5aef8683df55b0825181e57257f0b71887315e52
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/34/842134/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/db/taas_db.py'],1,42fd3c961d1c37bc5d0426016c5a0a571e74fa63,bug/1973757,"from neutron_lib.db import api as db_api @db_api.retry_if_session_inactive() @db_api.CONTEXT_READER @db_api.retry_if_session_inactive() @db_api.CONTEXT_READER @db_api.retry_if_session_inactive() @db_api.CONTEXT_READER @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context): @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context): @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context): @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context): count = context.session.query(TapService).filter_by( id=id).delete() if not count: raise taas.TapServiceNotFound(tap_id=id) @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context): count = context.session.query(TapFlow).filter_by( id=id).delete() if not count: raise taas.TapFlowNotFound(flow_id=id) @db_api.retry_if_session_inactive() with db_api.CONTEXT_READER.using(context): return model_query.get_collection(context, TapService, self._make_tap_service_dict, filters=filters, fields=fields) @db_api.retry_if_session_inactive() with db_api.CONTEXT_READER.using(context): return model_query.get_collection(context, TapFlow, self._make_tap_flow_dict, filters=filters, fields=fields) @db_api.retry_if_session_inactive() def _get_port_details(self, context, port_id): with db_api.CONTEXT_READER.using(context): @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context): @db_api.retry_if_session_inactive() with db_api.CONTEXT_WRITER.using(context):"," with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): count = context.session.query(TapService).filter_by(id=id).delete() if not count: raise taas.TapServiceNotFound(tap_id=id) count = context.session.query(TapFlow).filter_by(id=id).delete() if not count: raise taas.TapFlowNotFound(flow_id=id) return model_query.get_collection(context, TapService, self._make_tap_service_dict, filters=filters, fields=fields) return model_query.get_collection(context, TapFlow, self._make_tap_flow_dict, filters=filters, fields=fields) def _get_port_details(self, context, port_id): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True):",41,19
openstack%2Fnetworking-ovn~stable%2Ftrain~I1b44c99d11cd477ba01f50b773d3399cee166fc6,openstack/networking-ovn,stable/train,I1b44c99d11cd477ba01f50b773d3399cee166fc6,Use Port_Binding up column to set Neutron port status,MERGED,2022-01-03 12:38:37.000000000,2022-05-26 06:31:28.000000000,2022-02-17 11:36:24.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 12:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d86667c0729dd6adc902c21eab8118b908583178', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}, {'number': 2, 'created': '2022-01-03 16:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6491cb58ad299d68fabf89c53017b34761b8827d', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}, {'number': 3, 'created': '2022-01-03 16:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5d1d83e871f06642880fc71faf9c405329a43403', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}, {'number': 4, 'created': '2022-01-31 17:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e694d514f55a9b3a87cd0563fc5508ab6dc06d1c', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823412\nEnsure subports transition to DOWN\n\nDue to a bug in OVN seting the subports SB DB ""up"" field to False\nafter subport detachment from the trunk port, the subports are never\ntransition from ACTIVE to DOWN after this patch:\nhttps://review.opendev.org/c/openstack/neutron/+/821544\n\nThis patch ensures the chassis is also considered for such cases,\nand ports without chassis but ""up"" field set to True are\ntransitioned to DOWN.\nCloses-Bug: #1956233\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n(manually squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}, {'number': 5, 'created': '2022-02-02 10:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/821a50b09f40b9f49fa9b2e9b6d7342aec0a3028', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823818\nEnsure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823412\nEnsure subports transition to DOWN\n\nDue to a bug in OVN seting the subports SB DB ""up"" field to False\nafter subport detachment from the trunk port, the subports are never\ntransition from ACTIVE to DOWN after this patch:\nhttps://review.opendev.org/c/openstack/neutron/+/821544\n\nThis patch ensures the chassis is also considered for such cases,\nand ports without chassis but ""up"" field set to True are\ntransitioned to DOWN.\nCloses-Bug: #1956233\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n(manually squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)\n(manually squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}, {'number': 6, 'created': '2022-02-04 12:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/50b41ffeff27bb7b75c6cfac8e7b6eefe7dde2d6', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823818\nEnsure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823412\nEnsure subports transition to DOWN\n\nDue to a bug in OVN seting the subports SB DB ""up"" field to False\nafter subport detachment from the trunk port, the subports are never\ntransition from ACTIVE to DOWN after this patch:\nhttps://review.opendev.org/c/openstack/neutron/+/821544\n\nThis patch ensures the chassis is also considered for such cases,\nand ports without chassis but ""up"" field set to True are\ntransitioned to DOWN.\nCloses-Bug: #1956233\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n(manually squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)\n(manually squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}, {'number': 7, 'created': '2022-02-04 15:19:19.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d4651da300838388c3cc2a9d74405077ae6f8c1f', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823818\nEnsure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823412\nEnsure subports transition to DOWN\n\nDue to a bug in OVN seting the subports SB DB ""up"" field to False\nafter subport detachment from the trunk port, the subports are never\ntransition from ACTIVE to DOWN after this patch:\nhttps://review.opendev.org/c/openstack/neutron/+/821544\n\nThis patch ensures the chassis is also considered for such cases,\nand ports without chassis but ""up"" field set to True are\ntransitioned to DOWN.\nCloses-Bug: #1956233\n\n(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n(manually squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)\n(manually squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)\n\nChange-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6\n'}]",4,823279,d4651da300838388c3cc2a9d74405077ae6f8c1f,27,4,7,23567,,,0,"Use Port_Binding up column to set Neutron port status

Currently in order to bring Neutron port to active, Neutron waits for
Logical Switch Port to become up in OVN. That means ovn-controller
changes the up status in SB DB and northd propagates it up to NB DB.
We do not need to wait and can save some time if we use the newly added
SB DB up column instead, when possible:
https://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823818
Ensure only the right events are processed

There is no need to set up CR-LRP ports up, as well as there is no
need to re-process the router ports after the initial creation

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823412
Ensure subports transition to DOWN

Due to a bug in OVN seting the subports SB DB ""up"" field to False
after subport detachment from the trunk port, the subports are never
transition from ACTIVE to DOWN after this patch:
https://review.opendev.org/c/openstack/neutron/+/821544

This patch ensures the chassis is also considered for such cases,
and ports without chassis but ""up"" field set to True are
transitioned to DOWN.
Closes-Bug: #1956233

(manually cherry-picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)
(manually squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)
(manually squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)

Change-Id: I1b44c99d11cd477ba01f50b773d3399cee166fc6
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/79/823279/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py']",4,d86667c0729dd6adc902c21eab8118b908583178,," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": {""key"": {""type"": ""uuid"", ""refTable"": ""Chassis"", ""refType"": ""weak""}, ""min"": 0, ""max"": 1}}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) "," } self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') def _test_chassis_helper(self, event, new_row_json, old_row_json=None):class TestPortBindingChassisUpdateEvent(base.TestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver._nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) ",307,237
openstack%2Fec2-api~master~I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,openstack/ec2-api,master,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,MERGED,2022-05-26 02:01:16.000000000,2022-05-26 05:59:48.000000000,2022-05-26 05:57:53.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d40ddf4a2de850f5e6a7381f7747aec68c62fc6a', 'message': 'Remove TripleO job\n\n... because TripleO removed support for EC2 API during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n'}, {'number': 2, 'created': '2022-05-26 02:07:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ebb12611cadca3e6e817f1d7f5badce014fab2c3', 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n'}]",0,843357,ebb12611cadca3e6e817f1d7f5badce014fab2c3,9,2,2,9816,,,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/57/843357/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d40ddf4a2de850f5e6a7381f7747aec68c62fc6a,remove-tripleo,," experimental: jobs: # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario002-standalone",0,8
openstack%2Fpuppet-tripleo~master~I466e547b878641573520011cf69d23e96a82adac,openstack/puppet-tripleo,master,I466e547b878641573520011cf69d23e96a82adac,auditd: Enable auditd earlier,ABANDONED,2022-03-02 16:15:18.000000000,2022-05-26 05:37:48.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-02 16:15:18.000000000', 'files': ['manifests/profile/base/auditd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/abcabe30a6fb1c7e793258c810185d3de9683033', 'message': ""auditd: Enable auditd earlier\n\nCurrently we configure and start the autitd service in step 4. However\nthis service has no dependencies on the other services and can be\nstarted earlier. This change moves the task from step 4 to step 1, so\nthat we can reduce reference to 'step' hiera.\n\nChange-Id: I466e547b878641573520011cf69d23e96a82adac\n""}]",3,831554,abcabe30a6fb1c7e793258c810185d3de9683033,9,3,1,9816,,,0,"auditd: Enable auditd earlier

Currently we configure and start the autitd service in step 4. However
this service has no dependencies on the other services and can be
started earlier. This change moves the task from step 4 to step 1, so
that we can reduce reference to 'step' hiera.

Change-Id: I466e547b878641573520011cf69d23e96a82adac
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/831554/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/auditd.pp'],1,abcabe30a6fb1c7e793258c810185d3de9683033,,) { include auditd,"# [*step*] # Defaults to hiera('step') # $step = Integer(hiera('step')), ) { if $step >= 4 { include auditd }",1,7
openstack%2Fcharms.openstack~master~I4758330db81a95ac2aa17f9bc316afdc2eab2d44,openstack/charms.openstack,master,I4758330db81a95ac2aa17f9bc316afdc2eab2d44,Replace deprecated _ows_check_services_running,NEW,2022-05-26 05:25:12.000000000,2022-05-26 05:30:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 05:25:12.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/4bc5ea9133327ccd360d3c00e1371d24f39e373c', 'message': ""Replace deprecated _ows_check_services_running\n\n_ows_check_services_running was made public as ows_check_services_running and\nit's private function name was made an alias and marked deprecate by\nhttps://github.com/juju/charm-helpers/pull/658\n\nSwitch to the new name to avoid many deprecation warnings being printed by\ndependant charms:\n\nDEPRECATION WARNING: Function _ows_check_services_running is being removed'\non/around 2022-05 : use ows_check_services_running() instead\n\nChange-Id: I4758330db81a95ac2aa17f9bc316afdc2eab2d44\n""}]",0,843381,4bc5ea9133327ccd360d3c00e1371d24f39e373c,2,1,1,21107,,,0,"Replace deprecated _ows_check_services_running

_ows_check_services_running was made public as ows_check_services_running and
it's private function name was made an alias and marked deprecate by
https://github.com/juju/charm-helpers/pull/658

Switch to the new name to avoid many deprecation warnings being printed by
dependant charms:

DEPRECATION WARNING: Function _ows_check_services_running is being removed'
on/around 2022-05 : use ows_check_services_running() instead

Change-Id: I4758330db81a95ac2aa17f9bc316afdc2eab2d44
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/81/843381/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,4bc5ea9133327ccd360d3c00e1371d24f39e373c,," # verify that the function calls ows_check_services_running() with the self.patch_object(chm_core.os_utils, 'ows_check_services_running', self.ows_check_services_running.assert_called_once_with("," # verify that the function calls _ows_check_services_running() with the self.patch_object(chm_core.os_utils, '_ows_check_services_running', self._ows_check_services_running.assert_called_once_with(",4,4
openstack%2Fneutron~stable%2Ftrain~Ic003d08c06a96ded77770a883fd9fb59424ee189,openstack/neutron,stable/train,Ic003d08c06a96ded77770a883fd9fb59424ee189,[DNM] Test grenade fix,ABANDONED,2022-05-24 14:15:23.000000000,2022-05-26 05:26:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 14:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7701c1ba482ae0ed767929395715f6596a3b6e5c', 'message': '[DNM] Test grenade fix\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-gate/+/843148\nChange-Id: Ic003d08c06a96ded77770a883fd9fb59424ee189\n'}, {'number': 2, 'created': '2022-05-24 14:30:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fe619310df4b3fc4cfeabb8a8463290a966aabb', 'message': '[DNM] Test grenade fix\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-gate/+/843148\nChange-Id: Ic003d08c06a96ded77770a883fd9fb59424ee189\n'}]",0,843149,3fe619310df4b3fc4cfeabb8a8463290a966aabb,6,1,2,13861,,,0,"[DNM] Test grenade fix

Depends-On: https://review.opendev.org/c/openstack/devstack-gate/+/843148
Change-Id: Ic003d08c06a96ded77770a883fd9fb59424ee189
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/843149/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7701c1ba482ae0ed767929395715f6596a3b6e5c,dnm,," templates: - neutron-tempest-plugin-jobs-train - openstack-cover-jobs - openstack-python-jobs - openstack-python3-train-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - integrated-gate-networking - release-notes-jobs-python3 - neutron-functional - neutron-functional-python27 - neutron-fullstack - neutron-rally-task - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-iptables_hybrid - neutron-tempest-slow-py3: irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - networking-ovn-tempest-dsvm-ovs-release: irrelevant-files: *tempest-irrelevant-files - grenade-py3: irrelevant-files: *tempest-irrelevant-files - neutron-tempest-ipv6-only gate: jobs: - neutron-functional - neutron-functional-python27 - neutron-fullstack - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-tempest-iptables_hybrid - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade - neutron-tempest-slow-py3 - grenade-py3: irrelevant-files: *tempest-irrelevant-files - neutron-tempest-ipv6-only periodic: jobs: - neutron-functional - neutron-tempest-postgres-full experimental: jobs: - neutron-tempest-dvr-ha-multinode-full - tempest-multinode-full-py3: voting: false irrelevant-files: *tempest-irrelevant-files - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: irrelevant-files: *tempest-irrelevant-files voting: false - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false # TODO(slaweq): we should consider to convert this job to ""non-legacy"" # one and move it to check queue, at least as non-voting - legacy-grenade-dsvm-neutron-linuxbridge-multinode: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-neutron-full-centos-7: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-opensuse15: irrelevant-files: *tempest-irrelevant-files",0,82
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a,openstack/tripleo-ansible,stable/wallaby,I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a,Use instance_info.display_name for existing hostname matching,MERGED,2022-05-18 21:34:55.000000000,2022-05-26 05:20:34.000000000,2022-05-26 05:19:25.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 21:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92b5d411a073f2872f0a81af494815ef9944d0a2', 'message': 'Use instance_info.display_name for existing hostname matching\n\nWhen profile matching is used on a nova based undercloud and the node\nnames match the role hostname convention then the resulting exported\ninstances can reveal mixed name/hostname:\n\n  instances:\n  - hostname: controller-0\n    name: controller-2\n  - hostname: controller-1\n    name: controller-1\n  - hostname: controller-2\n    name: controller-0\n\nIn this case, check_existing incorrectly uses the node name when\nmatching the hostname, when the actual hostname is in\ninstance_info.display_name.\n\nThis change fixes this by first matching hostname to existing nodes\ninstance_info.display_name, falling back to node name if there is no\nmatch.\n\nSince there is no way to lookup nodes by instance_info.display_name,\nall nodes are queried to build a display_name->uuid dictionary.\n\nChange-Id: I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a\nStory: 2010018\nTask: 45211\nrhbz: #2079935\n(cherry picked from commit a52a097749cef491825a70a7083c9bbf8ac15107)\n'}, {'number': 2, 'created': '2022-05-19 22:22:37.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63aa45a7735f11e5bc4e06a16ca352d96b87bee5', 'message': 'Use instance_info.display_name for existing hostname matching\n\nWhen profile matching is used on a nova based undercloud and the node\nnames match the role hostname convention then the resulting exported\ninstances can reveal mixed name/hostname:\n\n  instances:\n  - hostname: controller-0\n    name: controller-2\n  - hostname: controller-1\n    name: controller-1\n  - hostname: controller-2\n    name: controller-0\n\nIn this case, check_existing incorrectly uses the node name when\nmatching the hostname, when the actual hostname is in\ninstance_info.display_name.\n\nThis change fixes this by first matching hostname to existing nodes\ninstance_info.display_name, falling back to node name if there is no\nmatch.\n\nSince there is no way to lookup nodes by instance_info.display_name,\nall nodes are queried to build a display_name->uuid dictionary.\n\nChange-Id: I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a\nStory: 2010018\nTask: 45211\nrhbz: #2079935\n(cherry picked from commit a52a097749cef491825a70a7083c9bbf8ac15107\n                and commit ef3626e2ffc90ee1a93856c4a95f78d2e2deb326)\n'}]",3,842434,63aa45a7735f11e5bc4e06a16ca352d96b87bee5,15,5,2,4571,,,0,"Use instance_info.display_name for existing hostname matching

When profile matching is used on a nova based undercloud and the node
names match the role hostname convention then the resulting exported
instances can reveal mixed name/hostname:

  instances:
  - hostname: controller-0
    name: controller-2
  - hostname: controller-1
    name: controller-1
  - hostname: controller-2
    name: controller-0

In this case, check_existing incorrectly uses the node name when
matching the hostname, when the actual hostname is in
instance_info.display_name.

This change fixes this by first matching hostname to existing nodes
instance_info.display_name, falling back to node name if there is no
match.

Since there is no way to lookup nodes by instance_info.display_name,
all nodes are queried to build a display_name->uuid dictionary.

Change-Id: I0674b9f3e4f8d5075cfd1aa9df9d43a2b3c99c8a
Story: 2010018
Task: 45211
rhbz: #2079935
(cherry picked from commit a52a097749cef491825a70a7083c9bbf8ac15107
                and commit ef3626e2ffc90ee1a93856c4a95f78d2e2deb326)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/842434/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,92b5d411a073f2872f0a81af494815ef9944d0a2,wallabystory/2010018,"import collections existing_by_hostname = collections.defaultdict(list) existing_by_name = collections.defaultdict(list) if baremetal: for node in baremetal.nodes(associated=True, fields=['uuid', 'name', 'instance_info']): existing_by_name[node.name].append(node.uuid) display_name = node.instance_info.get('display_name') if display_name: existing_by_hostname[display_name].append(node.uuid) hostname = request['hostname'] name = request.get('name') hostname_matches = len(existing_by_hostname[hostname]) name_matches = name and len(existing_by_name[name]) or 0 if hostname_matches == 0: if name_matches == 0: # try the hostname, there may be an allocation with that name ident = hostname elif name_matches == 1: ident = name else: message = ('There is more than one existing node with name=%s. ' 'Replace this name with a specific node uuid to match the desired instance.' % hostname) raise BaremetalDeployException(message) elif hostname_matches == 1: ident = existing_by_hostname[hostname][0] else: message = ('There is more than one existing instance with instance_info.display_name=%s. ' 'Replace this hostname with a specific node uuid to match the desired instance.' % hostname) raise BaremetalDeployException(message)"," ident = request.get('name', request['hostname'])",168,15
openstack%2Fpython-tripleoclient~master~I008ac81cd803adbd08a9509902e46967f8b7d2e4,openstack/python-tripleoclient,master,I008ac81cd803adbd08a9509902e46967f8b7d2e4,Improved test coverage for tripleo validator,MERGED,2022-04-27 10:20:41.000000000,2022-05-26 04:19:01.000000000,2022-05-26 04:17:49.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-04-27 10:20:41.000000000', 'files': ['tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a9db445d66a3426a5cfecedf5f0e07ffc664468', 'message': ""Improved test coverage for tripleo validator\n\nThe validator run subcommand which was previously without\nany unit test coverage now has it's basic operation mode tested.\n\nAssertions are placed on calls and return values of the parser.\n\nThe existing test structure was improved with enabling of autospec\non mocked API.\n\nCloses-Bug: #1970387\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I008ac81cd803adbd08a9509902e46967f8b7d2e4\n""}]",2,839509,6a9db445d66a3426a5cfecedf5f0e07ffc664468,16,7,1,32926,,,0,"Improved test coverage for tripleo validator

The validator run subcommand which was previously without
any unit test coverage now has it's basic operation mode tested.

Assertions are placed on calls and return values of the parser.

The existing test structure was improved with enabling of autospec
on mocked API.

Closes-Bug: #1970387

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I008ac81cd803adbd08a9509902e46967f8b7d2e4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/839509/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/tests/fakes.py']",2,6a9db445d66a3426a5cfecedf5f0e07ffc664468,,"FAKE_SUCCESS_RUN = [{'Duration': '0:00:01.761', 'Host_Group': 'overcloud', 'Status': 'PASSED', 'Status_by_Host': 'subnode-1,PASSED, subnode-2,PASSED', 'UUID': '123', 'Unreachable_Hosts': '', 'Validations': 'foo'}] ",,50,1
openstack%2Fdiskimage-builder~master~I63a34fba033ed1c459aeb9c201c8821fa38a36e9,openstack/diskimage-builder,master,I63a34fba033ed1c459aeb9c201c8821fa38a36e9,Check and mount boot volume for data extraction with nouuid,MERGED,2022-05-25 15:37:21.000000000,2022-05-26 03:56:44.000000000,2022-05-26 03:55:27.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 15:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b95b962b15ea698e024da8d4d7311a10f47d663d', 'message': 'Check and mount boot volume for data extraction with nouuid\n\nWhen building an image, say RHEL9, on a host installed with that\nsame image, you will be blocked from mounting the filesystems to\nextract contents, as the host OS kernel will identify the duplicate\nUUIDs and error accordingly.\n\nThis was previously fixed for the root filesystem, but not the boot\nfilesystem.\n\nChange-Id: I63a34fba033ed1c459aeb9c201c8821fa38a36e9\n'}, {'number': 2, 'created': '2022-05-25 19:40:03.000000000', 'files': ['diskimage_builder/elements/sysprep/bin/extract-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/57149d9eb19f81c1b4278fffaa6c4c2894d9589f', 'message': 'Check and mount boot volume for data extraction with nouuid\n\nWhen building an image, say RHEL9, on a host installed with that\nsame image, you will be blocked from mounting the filesystems to\nextract contents, as the host OS kernel will identify the duplicate\nUUIDs and error accordingly.\n\nThis was previously fixed for the root filesystem, but not the boot\nfilesystem.\n\nChange-Id: I63a34fba033ed1c459aeb9c201c8821fa38a36e9\n'}]",3,843297,57149d9eb19f81c1b4278fffaa6c4c2894d9589f,16,4,2,11655,,,0,"Check and mount boot volume for data extraction with nouuid

When building an image, say RHEL9, on a host installed with that
same image, you will be blocked from mounting the filesystems to
extract contents, as the host OS kernel will identify the duplicate
UUIDs and error accordingly.

This was previously fixed for the root filesystem, but not the boot
filesystem.

Change-Id: I63a34fba033ed1c459aeb9c201c8821fa38a36e9
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/97/843297/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/sysprep/bin/extract-image'],1,b95b962b15ea698e024da8d4d7311a10f47d663d,," BOOT_FSTYPE=$(sudo blkid -o value -s TYPE $ROOT_LOOPDEV) if [ ""xfs"" = ""$BOOT_FSTYPE"" ]; then BOOT_MOUNTOPTS=""-o nouuid,ro"" # Similar to root filesystem, if the boot filesystem # is XFS and the base OS is the same as the image being # rebuilt, we need to pass ""nouuid"" to bypass UUID safety # checks and successfully mounts so we can extract the # contents. else BOOT_MOUNTOPTS="""" fi sudo mount $BOOT_MOUNTOPTS $BOOT_LOOPDEV $WORKING/mnt/boot", sudo mount $BOOT_LOOPDEV $WORKING/mnt/boot,12,1
openstack%2Fos-net-config~master~I2398e3881310746f349e2c9a89c64956efbc13b2,openstack/os-net-config,master,I2398e3881310746f349e2c9a89c64956efbc13b2,Format json output properly,MERGED,2022-05-16 04:05:35.000000000,2022-05-26 03:43:55.000000000,2022-05-26 03:42:31.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 04:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ce71b63ba35ca5a246d72fabd869114ac89af978', 'message': 'Format json output properly\n\nstr(dict) or print(dict) format a dict value into an invalid json\nstring because it uses single quotes(\') instead of double quotes("").\n\nCloses-Bug: #1973566\nChange-Id: I2398e3881310746f349e2c9a89c64956efbc13b2\n'}, {'number': 2, 'created': '2022-05-16 05:28:43.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/88a4c885f6feec08209aebbb859f34957b952b26', 'message': 'Format json output properly\n\nstr(dict) or print(dict) format a dict value into an invalid json\nstring because it uses single quotes(\') instead of double quotes("").\n\nThis also fixes the log messages which mentions \'JSON\' but doesn\'t\nconvert a dict value to a valid json string.\n\nCloses-Bug: #1973566\nChange-Id: I2398e3881310746f349e2c9a89c64956efbc13b2\n'}]",0,841830,88a4c885f6feec08209aebbb859f34957b952b26,9,3,2,9816,,,0,"Format json output properly

str(dict) or print(dict) format a dict value into an invalid json
string because it uses single quotes(') instead of double quotes("").

This also fixes the log messages which mentions 'JSON' but doesn't
convert a dict value to a valid json string.

Closes-Bug: #1973566
Change-Id: I2398e3881310746f349e2c9a89c64956efbc13b2
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/30/841830/2 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,ce71b63ba35ca5a246d72fabd869114ac89af978,bug/1973566,"import json iface_mapping_str = json.dumps(iface_mapping) main_logger.debug(f""interface_mapping JSON: {iface_mapping_str}"") print(json.dumps(reported_nics)) iface_array_str = json.dumps(iface_array) main_logger.debug(f""network_config JSON: {iface_array_str}"")"," main_logger.debug(f""interface_mapping JSON: {str(iface_mapping)}"") print(reported_nics) main_logger.debug(f""network_config JSON: {str(iface_array)}"")",6,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8a018c8c7435a753c8ed5b5fa211d91d053f8d67,openstack/tripleo-heat-templates,stable/train,I8a018c8c7435a753c8ed5b5fa211d91d053f8d67,Allow partial override about SshServerOptions,MERGED,2022-05-16 03:55:03.000000000,2022-05-26 03:43:46.000000000,2022-05-26 03:42:26.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-16 03:55:03.000000000', 'files': ['releasenotes/notes/ssh-server-options-overrides-f677913bfd65efe1.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7d9f8718811f5fc32f3fc0059c520581921e8c0', 'message': ""Allow partial override about SshServerOptions\n\nWhen operator needs to change any options described in sshd_config,\nhe/she should use the parameter named SshServerOptions to define\nthe updated configuration.\n\nHowever the problem here is that he/she should define the whole content\ninstead of the actual lines to be overridden, otherwise some of the\nlines defined in its default can be missing from configuration. This\nmakes it difficutlt to properly update the parameter during update or\nupgrade, since operators always need to check whetehr any change has\nbeen made about the default of SshServerOptions.\n\nThis change introduces a new parameter, SshServerOptionsOverride, which\ncan be used to override specific line in SshServerOptions. Note that\nSshServerOptions should still be used if any of the lines in\nSshServerOptions needs to be removed.\n\nBackport Note:\nResolved the conflict caused by sshd-baremetal-ansible.yaml, which\ndoesn't exist in stable branches.\n\n(to stable/train)\nConflicts:\n\tdeployment/sshd/sshd-baremetal-puppet.yaml\n\nresolved conflict caused by 50367fbe3563d34976deb377ed32b6f26aeca44f .\n\nChange-Id: I8a018c8c7435a753c8ed5b5fa211d91d053f8d67\n(cherry picked from commit bfd97da0bfa386642d47e8d317aad70c99594cd5)\n(cherry picked from commit 26298a65c2261aef90481d6f8e56cf4d36f0fb72)\n""}]",0,841829,e7d9f8718811f5fc32f3fc0059c520581921e8c0,8,3,1,9816,,,0,"Allow partial override about SshServerOptions

When operator needs to change any options described in sshd_config,
he/she should use the parameter named SshServerOptions to define
the updated configuration.

However the problem here is that he/she should define the whole content
instead of the actual lines to be overridden, otherwise some of the
lines defined in its default can be missing from configuration. This
makes it difficutlt to properly update the parameter during update or
upgrade, since operators always need to check whetehr any change has
been made about the default of SshServerOptions.

This change introduces a new parameter, SshServerOptionsOverride, which
can be used to override specific line in SshServerOptions. Note that
SshServerOptions should still be used if any of the lines in
SshServerOptions needs to be removed.

Backport Note:
Resolved the conflict caused by sshd-baremetal-ansible.yaml, which
doesn't exist in stable branches.

(to stable/train)
Conflicts:
	deployment/sshd/sshd-baremetal-puppet.yaml

resolved conflict caused by 50367fbe3563d34976deb377ed32b6f26aeca44f .

Change-Id: I8a018c8c7435a753c8ed5b5fa211d91d053f8d67
(cherry picked from commit bfd97da0bfa386642d47e8d317aad70c99594cd5)
(cherry picked from commit 26298a65c2261aef90481d6f8e56cf4d36f0fb72)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/841829/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ssh-server-options-overrides-f677913bfd65efe1.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml']",2,e7d9f8718811f5fc32f3fc0059c520581921e8c0,, SshServerOptionsOverrides: default: {} description: Mapping of sshd_config values to override definitions in SshServerOptions type: json tripleo::profile::base::sshd::options: map_merge: - {get_param: SshServerOptions} - {get_param: SshServerOptionsOverrides}, tripleo::profile::base::sshd::options: {get_param: SshServerOptions},15,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd,openstack/tripleo-heat-templates,stable/wallaby,I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd,Stop generating certificate requests for disabled networks,MERGED,2022-05-16 16:29:24.000000000,2022-05-26 03:42:33.000000000,2022-05-26 03:42:33.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-16 16:29:24.000000000', 'files': ['deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7013a04e04a5f941710bd311003cbdeb647e62d7', 'message': 'Stop generating certificate requests for disabled networks\n\nThe certificate requests created based on ApacheNetworks require fqdn_NETWORK to be set.\nThe will only be defined for the networks that are enabled for the current role.\n\nCurrently requests are generated for all networks. This happens to work for the Controller role\nas all networks are enabled. However it fails on DCN compute nodes that are not on the external\nnetwork (they use apache for local glance-api services).\n\nChange-Id: I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd\n(cherry picked from commit 4e3d900942bd7a4f4cae8f95fac4ff1cfd07675b)\n'}]",0,841930,7013a04e04a5f941710bd311003cbdeb647e62d7,7,3,1,21129,,,0,"Stop generating certificate requests for disabled networks

The certificate requests created based on ApacheNetworks require fqdn_NETWORK to be set.
The will only be defined for the networks that are enabled for the current role.

Currently requests are generated for all networks. This happens to work for the Controller role
as all networks are enabled. However it fails on DCN compute nodes that are not on the external
network (they use apache for local glance-api services).

Change-Id: I05ba5fb48c617a5bbedebb8b74c23bec9abf3bbd
(cherry picked from commit 4e3d900942bd7a4f4cae8f95fac4ff1cfd07675b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/841930/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/apache/apache-baremetal-puppet.j2.yaml'],1,7013a04e04a5f941710bd311003cbdeb647e62d7,,"{%- for role in roles %} {{ role.name }}: - ctlplane {%- for network in networks if network.name in role.networks and network.enabled|default(true) and network.vip|default(false) %} - {{network.name_lower}} {%- endfor %} NETWORK: {get_attr: [ApacheNetworks, value, { get_param: RoleName }]} $NETWORK: {get_attr: [ApacheNetworks, value, { get_param: RoleName }]} NETWORK: {get_attr: [ApacheNetworks, value, { get_param: RoleName }]}"," - ctlplane {%- for network in networks if network.enabled|default(true) and network.vip|default(false) %} - {{network.name_lower}} NETWORK: {get_attr: [ApacheNetworks, value]} $NETWORK: {get_attr: [ApacheNetworks, value]} NETWORK: {get_attr: [ApacheNetworks, value]}",9,6
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c,openstack/tripleo-heat-templates,stable/wallaby,Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c,Add missing cert generation tasks to glance-api,MERGED,2022-05-13 16:25:31.000000000,2022-05-26 03:42:22.000000000,2022-05-26 03:42:22.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-13 16:25:31.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91b9a6f44abb71bf8a06ff078717d0376cda43a8', 'message': 'Add missing cert generation tasks to glance-api\n\nIb868465c20d97c62cbcb214bfc62d949bd6efc62 missed glance-api when\nswitching to deploy_steps_tasks for Apache cert generation\n\nChange-Id: Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c\n(cherry picked from commit d9fabc20ede9aa7227f26e7b147f86a83801aebd)\n'}]",0,841743,91b9a6f44abb71bf8a06ff078717d0376cda43a8,7,3,1,21129,,,0,"Add missing cert generation tasks to glance-api

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 missed glance-api when
switching to deploy_steps_tasks for Apache cert generation

Change-Id: Ia284f5687bcb2d969fbcf8e86bea8cdf3733a85c
(cherry picked from commit d9fabc20ede9aa7227f26e7b147f86a83801aebd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/841743/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,91b9a6f44abb71bf8a06ff078717d0376cda43a8,," deploy_steps_tasks: get_attr: [TLSProxyBase, role_data, deploy_steps_tasks]",,2,0
openstack%2Fcinder~master~Id07a2e713ebf667432e9bfceac0972c92185d3c5,openstack/cinder,master,Id07a2e713ebf667432e9bfceac0972c92185d3c5,pylint: Fix vmdk driver use before definition,MERGED,2022-05-17 14:47:48.000000000,2022-05-26 03:29:34.000000000,2022-05-24 17:56:04.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-05-17 14:47:48.000000000', 'files': ['cinder/volume/drivers/vmware/vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/970ac584d68b5bc1d53ef89684d1060eaaaf0c86', 'message': 'pylint: Fix vmdk driver use before definition\n\nDefine ""attached"" earlier so that it is always\ndefined in the except: block.\n\nChange-Id: Id07a2e713ebf667432e9bfceac0972c92185d3c5\n'}]",7,842129,970ac584d68b5bc1d53ef89684d1060eaaaf0c86,70,4,1,4523,,,0,"pylint: Fix vmdk driver use before definition

Define ""attached"" earlier so that it is always
defined in the except: block.

Change-Id: Id07a2e713ebf667432e9bfceac0972c92185d3c5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/842129/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vmware/vmdk.py'],1,970ac584d68b5bc1d53ef89684d1060eaaaf0c86,, attached = False, attached = False,1,1
openstack%2Fskyline-console~master~Id613f5c2c7795a477257ec5f71443378ac686007,openstack/skyline-console,master,Id613f5c2c7795a477257ec5f71443378ac686007,feat: Update certificate,MERGED,2022-05-25 14:21:44.000000000,2022-05-26 02:58:02.000000000,2022-05-26 02:58:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-25 14:21:44.000000000', 'files': ['src/pages/network/containers/Certificate/Detail/Container/index.jsx', 'src/pages/network/containers/Certificate/Detail/Secret/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/locales/zh.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/StepCreate/index.jsx', 'src/resources/octavia/lb.js', 'src/pages/network/containers/Certificate/actions/Create.jsx', 'src/pages/network/containers/LoadBalancers/StepCreateComponents/ListenerStep/index.jsx', 'src/stores/octavia/listener.js', 'src/pages/network/containers/Certificate/Certificate.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1d5c1acb1f1e3c7f97560345d7b0d50758bbf20e', 'message': 'feat: Update certificate\n\n1. Add certificate id in listener\n2. SNI certificate change to multiple select\n3. TERMINATED_HTTPS change to HTTPS\n4. Change validator of certificate content and keypair\n5. Hide domain name if in CA certificate\n\nChange-Id: Id613f5c2c7795a477257ec5f71443378ac686007\n'}]",0,843290,1d5c1acb1f1e3c7f97560345d7b0d50758bbf20e,6,2,1,33689,,,0,"feat: Update certificate

1. Add certificate id in listener
2. SNI certificate change to multiple select
3. TERMINATED_HTTPS change to HTTPS
4. Change validator of certificate content and keypair
5. Hide domain name if in CA certificate

Change-Id: Id613f5c2c7795a477257ec5f71443378ac686007
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/90/843290/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/Certificate/Detail/Container/index.jsx', 'src/pages/network/containers/Certificate/Detail/Secret/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/locales/zh.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/StepCreate/index.jsx', 'src/resources/octavia/lb.js', 'src/pages/network/containers/Certificate/actions/Create.jsx', 'src/pages/network/containers/LoadBalancers/StepCreateComponents/ListenerStep/index.jsx', 'src/stores/octavia/listener.js', 'src/pages/network/containers/Certificate/Certificate.jsx']",11,1d5c1acb1f1e3c7f97560345d7b0d50758bbf20e,open-134772," isHideable: true, isHideable: true, hidden: this.currentMode === 'CA', isHideable: true, isHideable: true,","import { getOptions } from 'utils/index'; { label: t('Certificate Type'), name: 'mode', options: getOptions(certificateMode), },",112,41
openstack%2Fdesignate~master~I36169826905fae2dd5634e9ea9955694bbb85a8d,openstack/designate,master,I36169826905fae2dd5634e9ea9955694bbb85a8d,Imported Translations from Zanata,MERGED,2022-05-26 02:12:26.000000000,2022-05-26 02:53:18.000000000,2022-05-26 02:49:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-26 02:12:26.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/baf61602449445c29339980160a6ebe703c6b662', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I36169826905fae2dd5634e9ea9955694bbb85a8d\n'}]",0,843360,baf61602449445c29339980160a6ebe703c6b662,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I36169826905fae2dd5634e9ea9955694bbb85a8d
",git fetch https://review.opendev.org/openstack/designate refs/changes/60/843360/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,baf61602449445c29339980160a6ebe703c6b662,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-05-25 00:18+0000\n""""PO-Revision-Date: 2022-05-25 08:48+0000\n""msgid ""11.0.2"" msgstr ""11.0.2"" msgid ""12.0.1-7"" msgstr ""12.0.1-7"" msgid ""13.0.0"" msgstr ""13.0.0"" msgid ""13.0.0-9"" msgstr ""13.0.0-9"" msgid ""14.0.0"" msgstr ""14.0.0"" msgid ""14.0.0-31"" msgstr ""14.0.0-31"" msgid ""14.0.0-5"" msgstr ""14.0.0-5"" msgid """" ""Added new state ``INACTIVE`` to the Floating IP status to indicate that it "" ""is not currently associated to a DNS record."" msgstr """" ""Added new state ``INACTIVE`` to the Floating IP status to indicate that it "" ""is not currently associated with a DNS record."" msgid ""Adds support for keystone default roles and scoped tokens."" msgstr ""Adds support for Keystone default roles and scoped tokens."" msgid """" ""Allows for a minimum TTL value of zero to be used instead of 1. As stated in "" ""RFC https://datatracker.ietf.org/doc/html/rfc2181#section-8."" msgstr """" ""Allows for a minimum TTL value of zero to be used instead of 1. As stated in "" ""RFC https://datatracker.ietf.org/doc/html/rfc2181#section-8."" msgid """" ""CAA records now allow the use of `+` prefixed subadresses like `security"" ""+caa@example.net` within mail urls. (https://www.rfc-editor.org/rfc/rfc5233."" ""html#section-1)"" msgstr """" ""CAA records now allow the use of `+` prefixed subadresses like `security"" ""+caa@example.net` within mail URLs. (https://www.rfc-editor.org/rfc/rfc5233."" ""html#section-1)"" msgid """" ""CERT recordset type have been added. All users should be able to use this "" ""type from the API and openstack client. This can be disabled (like other "" ""record types) by setting the `[DEFAULT].supported-record-type` config "" ""variable in all designate services."" msgstr """" ""CERT recordset types have been added. All users should be able to use this "" ""type from the API and OpenStack client. This can be disabled (like other "" ""record types) by setting the `[DEFAULT].supported-record-type` config "" ""variable in all Designate services."" ""Fixed a bug where deleting a zone transfer request may fail when using a "" ""system scoped token."" msgstr """" ""Fixed a bug where deleting a zone transfer request may fail when using a "" ""system scoped token."" msgid """"msgid """" ""Fixed an issue that caused the recordset_records quota to not be enforced."" msgstr """" ""Fixed an issue that caused the recordset_records quota to not be enforced."" msgid ""Fixed an issue where new BIND9 pool instances may fail on zone update."" msgstr ""Fixed an issue where new BIND9 pool instances may fail on zone update."" msgid """" ""Fixed an issue where set-quotas will always return the default quotas if it "" ""was called with a non-project scoped token and the all-projects flag was not "" ""set."" msgstr """" ""Fixed an issue where set-quotas will always return the default quotas if it "" ""was called with a non-project scoped token and the all-projects flag was not "" ""set."" msgid """" ""Fixed an issue with the API reference using the wrong path for list service "" ""statuses. In addition a compatibility workaround was added for the "" ""incorrect /v2/service_status path."" msgstr """" ""Fixed an issue with the API reference using the wrong path for listing "" ""service statuses. In addition, a compatibility workaround was added for the "" ""incorrect /v2/service_status path."" msgid """" ""Fixes `bug 1934252`_ which ignored invalid denylist patterns. The fix "" ""entailed checking the pattern string via regular expression compiler and "" ""testing for zero length."" msgstr """" ""Fixes `bug 1934252`_ which ignored invalid denylist patterns. The fix "" ""entailed checking the pattern string via a regular expression compiler and "" ""testing for zero length."" msgid """" ""Fixes bug where requests to powerDNS fail if the dns is configured for TLS "" ""traffic."" msgstr """" ""Fixes bug where requests to powerDNS fail if the DNS is configured for TLS "" ""traffic."" ""In addition, the server will return a 400 BadRequest response to an invalid "" ""pattern."" msgstr """" ""In addition, the server will return a 400 BadRequest response to an invalid "" ""pattern."" msgid """" ""It does so by adding a configuration variable, `api_ca_cert`, users can use "" ""to declare the location of the CA cert needed to verify TLS traffic."" msgstr """" ""It does so by adding a configuration variable, `api_ca_cert`, which users "" ""can use to declare the location of the CA cert needed to verify TLS traffic."" msgid """"msgid """" ""OSprofiler support requires passing of trace information between various "" ""OpenStack services. This information is securely signed by one of HMAC keys, "" ""defined in designate.conf configuration file. To allow cross-project tracing "" ""user should use the key, that is common among all OpenStack services they "" ""want to trace."" msgstr """" ""OSprofiler support requires passing of trace information between various "" ""OpenStack services. This information is securely signed by one of HMAC keys, "" ""defined in designate.conf configuration file. To allow cross-project tracing "" ""user should use the key, that is common among all OpenStack services they "" ""want to trace."" msgid """" ""OSprofiler support was introduced. To allow its usage, the api-paste.ini "" ""file needs to be modified to contain osprofiler middleware. Also "" ""`[profiler]` section needs to be added to the designate.conf file with "" ""`enabled`, `hmac_keys` and `trace_sqlalchemy` flags defined."" msgstr """" ""OSprofiler support was introduced. To allow its usage, the api-paste.ini "" ""file needs to be modified to contain osprofiler middleware. Also "" ""`[profiler]` section needs to be added to the designate.conf file with "" ""`enabled`, `hmac_keys` and `trace_sqlalchemy` flags defined."" msgid """" ""Previously you could create blacklist/denylist using string that cannot be "" ""used either as a regex or as a zone name, for example: patterns = ['', "" ""``'#(*&^%$%$#@$']``"" msgstr """" ""Previously you could create blacklist/denylist using string that cannot be "" ""used either as a regex or as a zone name, for example: patterns = ['', "" ""``'#(*&^%$%$#@$']``"" msgid """" ""Removed previously deprecated ``[service:mdns]`` option ``notify``. All DNS "" ""notifications now happens using the worker service."" msgstr """" ""Removed previously deprecated ``[service:mdns]`` option ``notify``. All DNS "" ""notifications now happen using the worker service."" msgid """" ""Removed the following unused central rpc calls. This should not impact "" ""normal installations, but if these are used in any custom written backends "" ""or plugins that you are using, you will need to update your code before "" ""upgrading."" msgstr """" ""Removed the following unused central RPC calls. This should not impact "" ""normal installations, but if these are used in any custom written backends "" ""or plugins that you are using, you will need to update your code before "" ""upgrading."" msgid ""Security Issues"" msgstr ""Security Issues"" msgid ""See `bug 1958533`_ for more information."" msgstr ""See `bug 1958533`_ for more information."" ""The Akamai eDNS backend has reached it's end of life and has been removed. "" ""Please upgrade to the Akamai v2 backend."" msgstr """" ""The Akamai eDNS backend has reached its end of life and has been removed. "" ""Please upgrade to the Akamai v2 backend."" msgid """" ""The Designate Central RPC API version was updated and may not be backwards "" ""compatible with an older version of the Designate RPC API. When upgrading a "" ""multi-controller deployment make sure that all designate-central services "" ""are upgraded before starting the designate-worker service."" msgstr """" ""The Designate Central RPC API version was updated and may not be backwards "" ""compatible with an older version of the Designate RPC API. When upgrading a "" ""multi-controller deployment make sure that all designate-central services "" ""are upgraded before starting the designate-worker service."" msgid """"""The ``[service:api] max_header_line`` parameter has been deprecated. This "" ""parameter has hd no effect since the Train release. Use the ``[DEFAULT] "" ""max_header_line`` parameter of the ``oslo.service`` library instead."" msgstr """" ""The ``[service:api] max_header_line`` parameter has been deprecated. This "" ""parameter has had no effect since the Train release. Use the ``[DEFAULT] "" ""max_header_line`` parameter of the ``oslo.service`` library instead."" msgid """"""The following parameters have been deprecated. These parameters have had no "" ""effect since SSLMiddleware was removed during Ussuri cycle."" msgstr """" ""The following parameters have been deprecated. These parameters have had no "" ""effect since SSLMiddleware was removed during the Ussuri cycle."" msgid """"msgid ""Xena Series Release Notes"" msgstr ""Xena Series Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" msgid ""`LP#1971856 <https://bugs.launchpad.net/designate/+bug/1971856>`__"" msgstr ""`LP#1971856 <https://bugs.launchpad.net/designate/+bug/1971856>`__"" msgid ""``[service:api] override_proto``"" msgstr ""``[service:api] override_proto``"" msgid ""``[service:api] secure_proxy_ssl_header``"" msgstr ""``[service:api] secure_proxy_ssl_header``"" msgid ""``count_records``"" msgstr ""``count_records``"" msgid ""``count_recordsets``"" msgstr ""``count_recordsets``"" msgid ""``count_tenants``"" msgstr ""``count_tenants``"" msgid ""``count_zones``"" msgstr ""``count_zones``"" msgid ""``create_record``"" msgstr ""``create_record``"" msgid ""``delete_record``"" msgstr ""``delete_record``"" msgid ""``delete_zone_transfer_accept``"" msgstr ""``delete_zone_transfer_accept``"" msgid ""``find_blacklist``"" msgstr ""``find_blacklist``"" msgid ""``find_record``"" msgstr ""``find_record``"" msgid ""``find_zone_transfer_accept``"" msgstr ""``find_zone_transfer_accept``"" msgid ""``find_zone_transfer_request``"" msgstr ""``find_zone_transfer_request``"" msgid ""``find_zone``"" msgstr ""``find_zone``"" msgid ""``get_quota``"" msgstr ""``get_quota``"" msgid ""``get_record``"" msgstr ""``get_record``"" msgid ""``sync_record``"" msgstr ""``sync_record``"" msgid ""``sync_zone``"" msgstr ""``sync_zone``"" msgid ""``sync_zones``"" msgstr ""``sync_zones``"" msgid ""``touch_zone``"" msgstr ""``touch_zone``"" msgid ""``update_record``"" msgstr ""``update_record``"" msgid ""``update_zone_transfer_accept``"" msgstr ""``update_zone_transfer_accept``"" ","""POT-Creation-Date: 2021-09-17 22:37+0000\n""""PO-Revision-Date: 2021-09-18 07:36+0000\n""",290,2
openstack%2Fdesignate~master~If013c805d378ef9e9e691c553bcb90a83b839c08,openstack/designate,master,If013c805d378ef9e9e691c553bcb90a83b839c08,Remove unused notification handler config from central,MERGED,2020-11-25 05:25:53.000000000,2022-05-26 02:51:19.000000000,2022-05-26 02:48:57.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-11-25 05:25:53.000000000', 'files': ['designate/conf/central.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/61e1bfc631a802879a82c0cbadf4bde81ee46e46', 'message': 'Remove unused notification handler config from central\n\nThe central service used to consume notifications, but this config\noption is no longer referenced anywhere and the sink service\nthat now consumes notifications has its own config option, so it\ncan be removed.\n\nChange-Id: If013c805d378ef9e9e691c553bcb90a83b839c08\n'}]",0,764118,61e1bfc631a802879a82c0cbadf4bde81ee46e46,8,3,1,6994,,,0,"Remove unused notification handler config from central

The central service used to consume notifications, but this config
option is no longer referenced anywhere and the sink service
that now consumes notifications has its own config option, so it
can be removed.

Change-Id: If013c805d378ef9e9e691c553bcb90a83b839c08
",git fetch https://review.opendev.org/openstack/designate refs/changes/18/764118/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/conf/central.py'],1,61e1bfc631a802879a82c0cbadf4bde81ee46e46,central_notification,," cfg.ListOpt('enabled_notification_handlers', default=[], help='Enabled Notification Handlers'),",0,2
openstack%2Fcharm-gnocchi~stable%2Fussuri~I0e5db1347de7f1d55edae4d73e438af1d86ce14b,openstack/charm-gnocchi,stable/ussuri,I0e5db1347de7f1d55edae4d73e438af1d86ce14b,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:01:56.000000000,2022-05-26 02:18:50.000000000,2022-05-26 02:18:50.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:01:56.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/bundles/impish-xena-s3.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-xena-s3.yaml', 'src/tests/bundles/focal-ussuri-s3.yaml', 'src/tests/bundles/hirsute-wallaby-s3.yaml', 'src/tests/bundles/bionic-train-s3.yaml', 'src/tests/bundles/focal-victoria-s3.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/focal-wallaby-s3.yaml', 'src/tests/bundles/groovy-victoria-s3.yaml', 'src/build.lock', 'src/tests/bundles/xenial-pike.yaml', 'build-requirements.txt', 'src/tests/bundles/bionic-ussuri-s3.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/bionic-stein-s3.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/9389345a0b799b3dbba1deb93c5960da01af6617', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0e5db1347de7f1d55edae4d73e438af1d86ce14b\n'}]",1,842763,9389345a0b799b3dbba1deb93c5960da01af6617,7,3,1,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I0e5db1347de7f1d55edae4d73e438af1d86ce14b
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/63/842763/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/bundles/impish-xena-s3.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-xena-s3.yaml', 'src/tests/bundles/focal-ussuri-s3.yaml', 'src/tests/bundles/hirsute-wallaby-s3.yaml', 'src/tests/bundles/bionic-train-s3.yaml', 'src/tests/bundles/focal-victoria-s3.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/focal-wallaby-s3.yaml', 'src/tests/bundles/groovy-victoria-s3.yaml', 'src/build.lock', 'src/tests/bundles/xenial-pike.yaml', 'build-requirements.txt', 'src/tests/bundles/bionic-ussuri-s3.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/bionic-stein-s3.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini']",40,9389345a0b799b3dbba1deb93c5960da01af6617,charmhub-migration,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,224,2691
openstack%2Fdesignate-tempest-plugin~master~Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d,openstack/designate-tempest-plugin,master,Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d,Re-enable test_admin_sets_invalid_quota_values,MERGED,2022-05-17 19:42:59.000000000,2022-05-26 01:58:01.000000000,2022-05-26 01:56:29.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 19:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/2b7133d43fdfd5e2c5b51b023c4b62144ab287c2', 'message': 'Re-enable test_admin_sets_invalid_quota_values\n\nThis patch re-enables the test_admin_sets_invalid_quota_values API test as the bug has been addressed in designate.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/842219\nChange-Id: Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d\n'}, {'number': 2, 'created': '2022-05-17 22:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ec66962d5cd45ceb96ba6565203b5fd25cd3a761', 'message': 'Re-enable test_admin_sets_invalid_quota_values\n\nThis patch re-enables the test_admin_sets_invalid_quota_values API test as the bug has been addressed in designate.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/842219\nChange-Id: Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d\n'}, {'number': 3, 'created': '2022-05-17 22:13:17.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5076600c9a0106718b94cfa0cea9f22f6135a259', 'message': 'Re-enable test_admin_sets_invalid_quota_values\n\nThis patch re-enables the test_admin_sets_invalid_quota_values API test as the bug has been addressed in designate.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/842219\nChange-Id: Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d\n'}]",2,842220,5076600c9a0106718b94cfa0cea9f22f6135a259,13,2,3,11628,,,0,"Re-enable test_admin_sets_invalid_quota_values

This patch re-enables the test_admin_sets_invalid_quota_values API test as the bug has been addressed in designate.

Depends-On: https://review.opendev.org/c/openstack/designate/+/842219
Change-Id: Ic4364b7178e0247d77e367403e5f5a8b9bfbde7d
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/20/842220/3 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_quotas.py'],1,2b7133d43fdfd5e2c5b51b023c4b62144ab287c2,,," @decorators.skip_because(bug=""1934596"")",0,1
openstack%2Fcinder~master~I4053e660b888186964f9319d46c070e605cf1d9d,openstack/cinder,master,I4053e660b888186964f9319d46c070e605cf1d9d,Fix cinder-manage _check_sync,NEW,2022-05-17 14:14:42.000000000,2022-05-26 01:34:28.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 14:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52e0c48e1b752bd68eaa4be312332f0b629bffc1', 'message': 'Fix cinder-manage _check_sync\n\nCommit bc9397073e removed the session arg from _get_sync_updates.\n\nThis code needs to be updated to call that method correctly.\n\nChange-Id: I4053e660b888186964f9319d46c070e605cf1d9d\n'}, {'number': 2, 'created': '2022-05-23 14:52:52.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/83a4e1f5b1606338a7423e41d468a0e8de844fc9', 'message': 'Fix cinder-manage _check_sync\n\nCommit bc9397073e removed the session arg from _get_sync_updates.\n\nThis code needs to be updated to call that method correctly.\n\nDepends-On: Ic8c37145c66069e9194458fa7f622d98022fee4f\nChange-Id: I4053e660b888186964f9319d46c070e605cf1d9d\n'}]",2,842119,83a4e1f5b1606338a7423e41d468a0e8de844fc9,44,4,2,4523,,,0,"Fix cinder-manage _check_sync

Commit bc9397073e removed the session arg from _get_sync_updates.

This code needs to be updated to call that method correctly.

Depends-On: Ic8c37145c66069e9194458fa7f622d98022fee4f
Change-Id: I4053e660b888186964f9319d46c070e605cf1d9d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/842119/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,52e0c48e1b752bd68eaa4be312332f0b629bffc1,," updates = db_api._get_sync_updates(ctxt, project,"," updates = db_api._get_sync_updates(ctxt, project, session,",1,1
openstack%2Fcharm-ceilometer~stable%2Fxena~I8452d7a3a7a773543bd2a7c4b2a85128b15947ad,openstack/charm-ceilometer,stable/xena,I8452d7a3a7a773543bd2a7c4b2a85128b15947ad,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:44:49.000000000,2022-05-26 01:32:46.000000000,2022-05-26 01:32:46.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:44:49.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d49af8ce09f00e74c12b46f9e214a7ca2d6b60ca', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I8452d7a3a7a773543bd2a7c4b2a85128b15947ad\n'}]",4,841923,d49af8ce09f00e74c12b46f9e214a7ca2d6b60ca,15,3,1,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I8452d7a3a7a773543bd2a7c4b2a85128b15947ad
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/23/841923/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,d49af8ce09f00e74c12b46f9e214a7ca2d6b60ca,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Fcharm-cinder-backup-swift-proxy~stable%2Fxena~Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91,openstack/charm-cinder-backup-swift-proxy,stable/xena,Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:45:16.000000000,2022-05-26 01:31:49.000000000,2022-05-26 01:31:49.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:45:16.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/6fd91ee947a994fc585de6a7d6d3f7b1400458a1', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91\n'}]",6,841926,6fd91ee947a994fc585de6a7d6d3f7b1400458a1,18,3,1,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Ibc14b53bf7788c292a452ff6dfcaabdacfd4ee91
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/26/841926/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,6fd91ee947a994fc585de6a7d6d3f7b1400458a1,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Fcharm-keystone-kerberos~stable%2Fxena~I905fa7d583970913a0650fd3612f68076305aa49,openstack/charm-keystone-kerberos,stable/xena,I905fa7d583970913a0650fd3612f68076305aa49,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:47:14.000000000,2022-05-26 01:31:44.000000000,2022-05-26 01:31:44.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:47:14.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/af246d3eab903625801d5a1d50634146adb1ca67', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I905fa7d583970913a0650fd3612f68076305aa49\n'}]",3,841959,af246d3eab903625801d5a1d50634146adb1ca67,13,3,1,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I905fa7d583970913a0650fd3612f68076305aa49
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/59/841959/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,af246d3eab903625801d5a1d50634146adb1ca67,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Fpython-tripleoclient~master~If53fa783c95d9d1031d04763f85278bea7e44b30,openstack/python-tripleoclient,master,If53fa783c95d9d1031d04763f85278bea7e44b30,update output path cli switch,MERGED,2022-05-17 20:39:53.000000000,2022-05-26 01:16:18.000000000,2022-05-26 01:13:03.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-17 20:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/09daca2d96e3aac5962d472f67223f52dfa850f7', 'message': 'update output path cli switch\n\nThe output cli switch was being ignored, this change will ensure that if\na user provides an output path the export function will operatate as\nexpected.\n\nChange-Id: If53fa783c95d9d1031d04763f85278bea7e44b30\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2022-05-17 21:05:41.000000000', 'files': ['tripleoclient/v1/overcloud_export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b56a6035fe4112d3fe029d0c16da88a7839be327', 'message': 'update output path cli switch\n\nThe output cli switch was being ignored, this change will ensure that if\na user provides an output path the export function will operatate as\nexpected.\n\nChange-Id: If53fa783c95d9d1031d04763f85278bea7e44b30\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,842232,b56a6035fe4112d3fe029d0c16da88a7839be327,13,5,2,7353,,,0,"update output path cli switch

The output cli switch was being ignored, this change will ensure that if
a user provides an output path the export function will operatate as
expected.

Change-Id: If53fa783c95d9d1031d04763f85278bea7e44b30
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/32/842232/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_export.py'],1,09daca2d96e3aac5962d472f67223f52dfa850f7,," output_file = os.path.abspath( os.path.expanduser( parsed_args.output_file ) ) export_file_path = output_file or os.path.join( '{}-export.yaml'.format( parsed_args.stack ) ) print(""Stack information exported to %s."" % export_file_path)"," output_file = parsed_args.output_file or \ '%s-export.yaml' % stack export_file_path = os.path.join( '{}-export.yaml'.format(parsed_args.stack)) print(""Stack information exported to %s."" % output_file)",11,6
openstack%2Ftripleo-ansible~master~Ia43b58f304d8ef41b80820c3c98696650eb362e1,openstack/tripleo-ansible,master,Ia43b58f304d8ef41b80820c3c98696650eb362e1,Supports nftables instead of iptables,MERGED,2022-05-11 12:06:19.000000000,2022-05-26 01:15:28.000000000,2022-05-26 01:12:54.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-11 12:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fec10e1f4a112f77ef3746cba618da258538de8', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nTODO:\n  - work on molecule testing\n  - push a patch in t-h-t to toggle the engine\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 2, 'created': '2022-05-11 15:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72574a9346f72983086d0845cc2f03c6c6db2787', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nTODO:\n  - work on molecule testing\n  - push a patch in t-h-t to toggle the engine\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 3, 'created': '2022-05-13 11:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc3cc2679a0cc1902af5ce702c8aa2e7e68ee36e', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nTODO:\n  - work on molecule testing\n  - push a patch in t-h-t to toggle the engine\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 4, 'created': '2022-05-16 14:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d57f9e2ccac08b8a9f5f345b810aabecefd55d58', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 5, 'created': '2022-05-16 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdcb01bc5929b78954f8bd37a70eacec51937d79', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 6, 'created': '2022-05-17 07:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba3c887ee4d5e7a2744bf59c8472c030bfeecfbe', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 7, 'created': '2022-05-17 12:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/845f995b6557bcb5e650e375a3636726f8bbbc11', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 8, 'created': '2022-05-17 12:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9efab6db2c72a168063bc58ca37f7b8d449fcce5', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 9, 'created': '2022-05-17 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00f458ab0ee9f3f2f7f89c1b7670e8ed6cc9cd9e', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 10, 'created': '2022-05-17 14:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a32419259ea8c69c664c251a00e70c5d1c754774', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 11, 'created': '2022-05-17 14:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdcbd39ce29e46172f58af954009ea8262a07f48', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 12, 'created': '2022-05-17 16:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7ccf382c344122784b9ab9fb2fe4cc2b6f48df1', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 13, 'created': '2022-05-19 13:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cbd1216b3c6728b934616cd179d346b20bd3c2c0', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 14, 'created': '2022-05-19 14:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b80086393f017466fe94b9e2c1f9c72f7c676a79', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 15, 'created': '2022-05-23 07:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3df34309e36689bf9db62bbd8fc73440751000bf', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 16, 'created': '2022-05-23 08:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b289de28b0d48d2344072419acbb30941662afc', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 17, 'created': '2022-05-23 12:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/447ed9fb0f44bd6dddd026e8f8e697d0541d3944', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 18, 'created': '2022-05-23 13:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/33f4cb5ebdef14d83f99abfd40552f0e00c072fa', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 19, 'created': '2022-05-23 14:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a5a1066f616b8c7a243d9ca2cef496d7b59df92', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 20, 'created': '2022-05-23 15:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49178a18790d69ea328bbbfaab0fb6b157e876df', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 21, 'created': '2022-05-23 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c193e19e69212d3283ff1e7f80528d2eb6f64df7', 'message': 'WIP Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nTODO:\n  - work on molecule testing\n  - maybe get a CI job that will actually toggle to nftables\n\nThis is work in progress, DO NOT MERGE!\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}, {'number': 22, 'created': '2022-05-24 05:53:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/templates/ruleset.j2', 'doc/source/roles/role-tripleo_nftables.rst', 'tripleo_ansible/roles/tripleo_nftables/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nftables/tasks/service.yaml', 'tripleo_ansible/roles/tripleo_nftables/templates/jump-chain.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/dport.j2', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nftables/templates/sport.j2', 'tripleo_ansible/roles/tripleo_nftables/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/templates/protocol.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/source.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/chains.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/limit_burst.j2', 'tripleo_ansible/roles/tripleo_firewall/molecule/nftables/prepare.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/iptables.yaml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nftables/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nftables/templates/flush-chain.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/jump.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/limit.j2', 'tripleo_ansible/roles/tripleo_firewall/molecule/nftables/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/nftables/molecule.yml', 'tripleo_ansible/roles/tripleo_nftables/templates/destination.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/state.j2', 'tripleo_ansible/roles/tripleo_nftables/meta/main.yml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/templates/ipversion.j2', 'tripleo_ansible/roles/tripleo_nftables/files/iptables.nft', 'tripleo_ansible/roles/tripleo_nftables/templates/interface.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/656c1aba3d49d96b3711b7204559ae4ad84b80ac', 'message': 'Supports nftables instead of iptables\n\nThis patch introduces a new role (tripleo_nftables) as well as a new\ntripleo_firewall_engine parameter, allowing to switch from iptables to\nnftables.\n\nAll of tripleo rules are pushed in the ""inet"" family, in a dedicated\nchains therein. It allows to avoid rule duplication between IPv6 and\nIPv4, while ensuring we don\'t break the compatibility layer for\niptables-nft - that tool is checking only the ""ip"" family, while\nip6tables-nft is checking the ""ip6"" one.\n\nThis means some changes are needed in the doc, when it comes to listing\nthe existing rules.\n\nAlso, please note some tools such as neutron are still heavily using the\niptables family, as well as some part of podman apparently.\n\nChange-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1\n'}]",2,841414,656c1aba3d49d96b3711b7204559ae4ad84b80ac,55,6,22,28223,,,0,"Supports nftables instead of iptables

This patch introduces a new role (tripleo_nftables) as well as a new
tripleo_firewall_engine parameter, allowing to switch from iptables to
nftables.

All of tripleo rules are pushed in the ""inet"" family, in a dedicated
chains therein. It allows to avoid rule duplication between IPv6 and
IPv4, while ensuring we don't break the compatibility layer for
iptables-nft - that tool is checking only the ""ip"" family, while
ip6tables-nft is checking the ""ip6"" one.

This means some changes are needed in the doc, when it comes to listing
the existing rules.

Also, please note some tools such as neutron are still heavily using the
iptables family, as well as some part of podman apparently.

Change-Id: Ia43b58f304d8ef41b80820c3c98696650eb362e1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/841414/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_firewall/tasks/iptables.yaml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/templates/ruleset.j2', 'tripleo_ansible/roles/tripleo_nftables/tasks/main.yaml', 'tripleo_ansible/roles/tripleo_nftables/tasks/service.yaml']",6,8fec10e1f4a112f77ef3746cba618da258538de8,nftables,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Ensure legacy iptables services are off become: true ansible.builtin.systemd: name: ""{{ item }}"" state: stopped enabled: false loop: - iptables.service - ip6tables.service - name: Ensure nftables service is enabled and running become: true ansible.builtin.systemd: name: nftables state: started enabled: true ",,279,79
openstack%2Ftripleo-puppet-elements~stable%2Fvictoria~I4cf10643a18fbc331213b5a3f3d4e4f207f49527,openstack/tripleo-puppet-elements,stable/victoria,I4cf10643a18fbc331213b5a3f3d4e4f207f49527,"Migrate from testr to stestr, disable auto discovery",MERGED,2022-03-30 07:06:13.000000000,2022-05-26 01:15:26.000000000,2022-05-26 01:13:06.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-30 07:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6a14d3d96a5593b7c7c18fbfd141bee5bd7b170b', 'message': ""Disable auto discovery\n\nTripleo-ci jobs are broken after latest release of setuptools 61.0\nbecause of breaking changes which are not backwork compatible,\ndetails in related bug and [1].\n\nUsers that don't set ``packages``, ``py_modules``, or `configuration`\nare still likely to observe the auto-discovery behavior, which may\nhalt the build if the project contains multiple directories and/or\nmultiple Python files directly under the project root.\n\nTo disable auto discovery, one can do below in setup.py\n\n~~~\nsetuptools.setup(..,packages=[],..)\n~~~\n\nor\n\n~~~\nsetuptools.setup(..,py_modules=[],..)\n~~~\n\n[1] https://github.com/pypa/setuptools/issues/3197\n\nRelated-Bug: #1966382\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4cf10643a18fbc331213b5a3f3d4e4f207f49527\n(cherry picked from commit 66f8964f59342d99f7115b16ac8629382279e918)\n""}, {'number': 2, 'created': '2022-05-16 06:46:11.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'setup.py', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/24c4a940e75b8db102d84077c7f8665fa2121a35', 'message': 'Migrate from testr to stestr, disable auto discovery\n\nChange-Id: I4cf10643a18fbc331213b5a3f3d4e4f207f49527\n(cherry picked from commit 66f8964f59342d99f7115b16ac8629382279e918)\n                and commit 1e3b5a1cd4932c0897bff9359bfd5576865cd5a2)\n(cherry picked from commit 1d32a9bc44b1d63405ad2c3ed760ebad05b926cb)\n'}]",6,835793,24c4a940e75b8db102d84077c7f8665fa2121a35,21,3,2,29775,,,0,"Migrate from testr to stestr, disable auto discovery

Change-Id: I4cf10643a18fbc331213b5a3f3d4e4f207f49527
(cherry picked from commit 66f8964f59342d99f7115b16ac8629382279e918)
                and commit 1e3b5a1cd4932c0897bff9359bfd5576865cd5a2)
(cherry picked from commit 1d32a9bc44b1d63405ad2c3ed760ebad05b926cb)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/93/835793/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,6a14d3d96a5593b7c7c18fbfd141bee5bd7b170b,lp/1966382," py_modules=[],",,1,0
openstack%2Fpython-tripleoclient~master~Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8,openstack/python-tripleoclient,master,Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8,Use node UUID for bridge_mapping agent check,MERGED,2022-03-23 22:21:55.000000000,2022-05-26 01:15:22.000000000,2022-05-26 01:13:00.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 22:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c898753727063c0855cdc312ac2c0464bb8fd46', 'message': 'Use node UUID for bridge_mapping agent check\n\nWhen we check for bridge mapping. If the user\nhas provided the Name of the node, rather than\nthe UUID. Then we will fail to lookup the agent.\n\nThis change ensures that we lookup the agent using\nthe nodes UUID rather than the name, regardless of\nwhat the user has input in the provide command.\n\nChange-Id: Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8\n'}, {'number': 2, 'created': '2022-05-19 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/761bf64a2ab78c4c21295ba7f36b250d2f868455', 'message': 'Use node UUID for bridge_mapping agent check\n\nWhen we check for bridge mapping. If the user\nhas provided the Name of the node, rather than\nthe UUID. Then we will fail to lookup the agent.\n\nThis change ensures that we lookup the agent using\nthe nodes UUID rather than the name, regardless of\nwhat the user has input in the provide command.\n\nChange-Id: Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8\n'}, {'number': 3, 'created': '2022-05-23 05:26:39.000000000', 'files': ['tripleoclient/workflows/tripleo_baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65f36df818736341dbdc74c87e18b30442beef50', 'message': 'Use node UUID for bridge_mapping agent check\n\nWhen we check for bridge mapping. If the user\nhas provided the Name of the node, rather than\nthe UUID. Then we will fail to lookup the agent.\n\nThis change ensures that we lookup the agent using\nthe nodes UUID rather than the name, regardless of\nwhat the user has input in the provide command.\n\nChange-Id: Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8\n'}]",4,834978,65f36df818736341dbdc74c87e18b30442beef50,18,4,3,30073,,,0,"Use node UUID for bridge_mapping agent check

When we check for bridge mapping. If the user
has provided the Name of the node, rather than
the UUID. Then we will fail to lookup the agent.

This change ensures that we lookup the agent using
the nodes UUID rather than the name, regardless of
what the user has input in the provide command.

Change-Id: Iceea8fbb3053aa0af7ba46bec43dcedb3e8801b8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/834978/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/tripleo_baremetal.py'],1,4c898753727063c0855cdc312ac2c0464bb8fd46,," node_id = self.conn.baremetal.find_node(node).id client.agents(host=node_id, binary='ironic-neutron-agent'))"," client.agents(host=node, binary='ironic-neutron-agent'))",3,1
openstack%2Ftripleo-ansible~master~I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,openstack/tripleo-ansible,master,I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,Designate: use extra IP for bind/unbound colocation on the bind9 backend,MERGED,2022-04-29 16:38:25.000000000,2022-05-26 01:13:23.000000000,2022-05-26 01:13:23.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-29 16:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f31e5d3f486ae27c71f5f9faec7e1c6654eea927', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 2, 'created': '2022-05-02 17:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a9200b4ad3d42224fbce3e7450d6efa63f6a689', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 3, 'created': '2022-05-03 16:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c27967da3c15536b43fcae2a4174f63fe5edd13c', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 4, 'created': '2022-05-03 18:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23239abeab4e1d1125ca723b187aa3207c64cc1e', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 5, 'created': '2022-05-04 12:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e680b17372e68b09c41062e3564d369d4818099', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 6, 'created': '2022-05-11 16:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02321bd5364084f3db78503fd573e2bb34bec596', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 7, 'created': '2022-05-12 16:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60dc69fdb4494fae1144f79f472a1d9bb1664a23', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 8, 'created': '2022-05-17 17:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b39c67a929cc72a547b93586117deb2d7afd2c41', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 9, 'created': '2022-05-18 13:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5c0397a289239164c274229f606dba3016b5369', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 10, 'created': '2022-05-19 13:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/179cd15554e4ed6659e8e8902307df90c8c00dd9', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}, {'number': 11, 'created': '2022-05-19 18:27:22.000000000', 'files': ['tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/distribute_extra_ips.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/create_collocated_ips.yml', 'tripleo_ansible/roles/designate_bind_pool/templates/pools-extra.yaml.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/configure_interfaces.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0004cf138838c60a9cf24495d27fb00630b3833', 'message': 'Designate: use extra IP for bind/unbound colocation on the bind9 backend\n\nUsing the standard DF supplied IP for the unbound resolver instead of\nthe bind instance makes resolver integration with neutron a great deal\nmore straightforward. This patch introduces ansible tasks for\nconfiguring the bind service to run on an alternate IP.\n\nChange-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14\n'}]",3,839973,a0004cf138838c60a9cf24495d27fb00630b3833,43,5,11,6681,,,0,"Designate: use extra IP for bind/unbound colocation on the bind9 backend

Using the standard DF supplied IP for the unbound resolver instead of
the bind instance makes resolver integration with neutron a great deal
more straightforward. This patch introduces ansible tasks for
configuring the bind service to run on an alternate IP.

Change-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/839973/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/distribute_extra_ips.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/templates/rndc.conf.j2', 'tripleo_ansible/roles/designate_bind_config/tasks/create_collocated_ips.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/configure_interfaces.yml']",6,f31e5d3f486ae27c71f5f9faec7e1c6654eea927,neutron-resolver-integration,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Find the interface for the public API network tripleo_findif_for_ip: ip_address: ""{{ lookup('vars', tripleo_designate_bind_network + '_ip') }}"" register: _public_api_interface # Using ifup-local to ensure the IP address is always set follows a pattern used # for resetting VF counts used in the SR-IOV support. The file shouldn't be # wiped clean because it may be being used for other things (e.g. SR-IOV) - name: create ifup-local if it doesn't exist become: true lineinfile: create: true path: ""/sbin/ifup-local"" state: present line: ""#!/bin/bash"" insertbefore: BOF mode: 0755 # The following two blocks set the IP on the interface and add a line to # ifup-local to make sure the IP persists through reboots or ifup/ifdown # cycles. The comment at the end of the line in ifup-local serves as an anchor # to the regexp parameter to lineinfile. These will have to be modified when # moving to NetworkManager only environments. - name: If specified, have the dns service listen on a different IP (version 4) when: - tripleo_dns_listen_interfaces[0]|ipv4 - (_public_api_interface.interface is defined) and (_public_api_interface.interface|length > 0) become: true block: - name: Check if the address is already on the device. shell: ""ip -o addr show dev {{ _public_api_interface.interface }} | grep {{ tripleo_dns_listen_interfaces[0] }}"" failed_when: false register: _current_addr_search - name: Set the unbound additional IPv4 address on the required device. command: ""ip addr add {{ tripleo_dns_listen_interfaces[0] }}/32 dev {{ _public_api_interface.interface }}"" when: _current_addr_search.rc == 1 - name: Add line to ifup-local to make sure unbound's listen IPv4 address is set on restart become: true lineinfile: path: ""/sbin/ifup-local"" line: '[ ""{{ _public_api_interface.interface }}"" == ""$1"" ] && ip addr add {{ tripleo_dns_listen_interfaces[0] }}/32 dev {{ _public_api_interface.interface }} # Designate collocated DNS services' regexp: 'collocated_unbound_bind' state: present - name: If specified, have the dns service listen on a different IP (version 6) when: - tripleo_dns_listen_interfaces[0]|ipv6 - (_public_api_interface.interface is defined) and (_public_api_interface.interface|length > 0) become: true block: - name: Check if the address is already on the device. shell: ""ip -o addr show dev {{ _public_api_interface.interface }} | grep {{ tripleo_dns_listen_interfaces[0] }}"" failed_when: false register: _current_addr_search - name: Set the unbound additional IPv6 address on the required device. command: ""ip addr add {{ tripleo_dns_listen_interfaces[0] }}/128 dev {{ _public_api_interface.interface }}"" when: _current_addr_search.rc == 1 - name: Add line to ifup-local to make sure unbound's listen IPv6 address is set on restart become: true lineinfile: path: ""/sbin/ifup-local"" line: '[ ""{{ _public_api_interface.interface }}"" == ""$1"" ] && ip addr add {{ tripleo_dns_listen_interfaces[0] }}/128 dev {{ _public_api_interface.interface }} # Designate collocated DNS services' regexp: 'collocated_unbound_bind' state: present ",,126,12
openstack%2Fpuppet-tripleo~master~Ie609a8d07a8ff264afb90d059c8691a81056ac65,openstack/puppet-tripleo,master,Ie609a8d07a8ff264afb90d059c8691a81056ac65,Designate: Replace hiera by lookup,MERGED,2022-05-10 01:07:45.000000000,2022-05-26 01:13:20.000000000,2022-05-26 01:13:20.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 01:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f308e2b1030e4d4de331fbe0d8d35a80d9a011ba', 'message': 'Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n'}, {'number': 2, 'created': '2022-05-10 01:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c796743e0dfbafa2010e133a900757e63ff5dd34', 'message': 'Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n'}, {'number': 3, 'created': '2022-05-10 01:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61beac4a82d688a69819c8701aa34bdc8a16295f', 'message': 'Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n'}, {'number': 4, 'created': '2022-05-24 02:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b706f117dce60db23b1e2f460e41a08f9451d5b', 'message': 'Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n'}, {'number': 5, 'created': '2022-05-24 02:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0aad2661994fc83fb06b03655162f5c128eb6f68', 'message': 'Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n'}, {'number': 6, 'created': '2022-05-24 06:17:09.000000000', 'files': ['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/designate/coordination.pp', 'manifests/profile/base/designate/sink.pp', 'manifests/profile/base/designate/producer.pp', 'manifests/profile/base/designate/mdns.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/designate/worker.pp', 'manifests/profile/base/designate/api.pp', 'manifests/profile/base/designate/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2acd2f4b0da57c7c0b67ddd5fcdebc4744705622', 'message': 'Designate: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65\n'}]",1,841183,2acd2f4b0da57c7c0b67ddd5fcdebc4744705622,23,6,6,9816,,,0,"Designate: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: Ie609a8d07a8ff264afb90d059c8691a81056ac65
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/841183/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/designate/producer.pp', 'manifests/profile/base/designate/sink.pp', 'manifests/profile/base/designate/mdns.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/designate/worker.pp', 'manifests/profile/base/designate/api.pp', 'manifests/profile/base/designate/central.pp']",9,f308e2b1030e4d4de331fbe0d8d35a80d9a011ba,tripleo-hiera-v5,"# Defaults to lookup('designate_central_short_bootstrap_node_name', undef, undef, undef)# Defaults to Integer(lookup('step')) $bootstrap_node = lookup('designate_central_short_bootstrap_node_name', undef, undef, undef), $step = Integer(lookup('step')),","# Defaults to hiera('designate_central_short_bootstrap_node_name')# Defaults to hiera('step') $bootstrap_node = hiera('designate_central_short_bootstrap_node_name', undef), $step = Integer(hiera('step')),",70,70
openstack%2Fpuppet-tripleo~master~I897bbf114436a87d223602a393ad6cb524ec9c84,openstack/puppet-tripleo,master,I897bbf114436a87d223602a393ad6cb524ec9c84,sshd: Allow customizing the ListenAddress option,MERGED,2022-05-22 12:41:54.000000000,2022-05-26 01:13:17.000000000,2022-05-26 01:13:17.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-22 12:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0c5a6e52b11643e78835f09f1186028ac92a62fb', 'message': 'sshd: Allow customizing the listen option\n\nThis change introduces the new listen option to the sshd manifest so\nthat we can restrict the network addresses which the sshd daemon\nlistens to.\n\nThis is useful for the nova migration target service which is used in\nonly migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 2, 'created': '2022-05-22 12:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3c49145abded8272e3452a14092c5aa923288b0c', 'message': 'sshd: Allow customizing the listen option\n\nThis change introduces the new listen option to the sshd manifest so\nthat we can restrict the network addresses which the sshd daemon\nlistens to.\n\nThis is useful for the nova migration target service which is used in\nonly migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 3, 'created': '2022-05-22 14:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/49657233d9ea95e27521230e86da95c95cc465ef', 'message': 'sshd: Allow customizing the listen option\n\nThis change introduces the new listen option to the sshd manifest so\nthat we can restrict the network addresses which the sshd daemon\nlistens to.\n\nThis is useful for the nova migration target service which is used in\nonly migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 4, 'created': '2022-05-22 14:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1edc33bea0bddbefa543e021bb6b3a1a4ad938aa', 'message': 'sshd: Allow customizing the listen option\n\nThis change introduces support for the listen option in sshd_config so\nthat we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 5, 'created': '2022-05-22 15:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/83b0e71de2e8e4af35809af04fa86dc6150963f4', 'message': 'sshd: Allow customizing the listen option\n\nThis change introduces support for the listen option in sshd_config so\nthat we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 6, 'created': '2022-05-22 23:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4aa18afe34bbf930d3416c35bd290823d5150487', 'message': 'sshd: Allow customizing the listen option\n\nThis change introduces support for the listen option in sshd_config so\nthat we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 7, 'created': '2022-05-22 23:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8f794975305ea387f21c9fbf10d4e84b0e071e96', 'message': 'sshd: Allow customizing the ListenAddress option\n\nThis change introduces support for the ListenAddress option in\nsshd_config so that we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 8, 'created': '2022-05-23 01:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/753b1bc611b6e9475543bf3f4a95771f3806553e', 'message': 'sshd: Allow customizing the ListenAddress option\n\nThis change introduces support for the ListenAddress option in\nsshd_config so that we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 9, 'created': '2022-05-23 07:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d9bedfa71c8b4bcfdeb74bd6366a31f9ca9257e9', 'message': 'sshd: Allow customizing the ListenAddress option\n\nThis change introduces support for the ListenAddress option in\nsshd_config so that we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}, {'number': 10, 'created': '2022-05-24 07:14:42.000000000', 'files': ['spec/classes/tripleo_profile_base_sshd_spec.rb', 'manifests/profile/base/sshd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c13b609e68bd5451b5db10d0fb47c0f4b779d5ca', 'message': 'sshd: Allow customizing the ListenAddress option\n\nThis change introduces support for the ListenAddress option in\nsshd_config so that we can restrict the network addresses used by sshd.\n\nThis is useful for the nova migration target service which should be\navailable in only migration networks.\n\nChange-Id: I897bbf114436a87d223602a393ad6cb524ec9c84\n'}]",0,842858,c13b609e68bd5451b5db10d0fb47c0f4b779d5ca,24,5,10,9816,,,0,"sshd: Allow customizing the ListenAddress option

This change introduces support for the ListenAddress option in
sshd_config so that we can restrict the network addresses used by sshd.

This is useful for the nova migration target service which should be
available in only migration networks.

Change-Id: I897bbf114436a87d223602a393ad6cb524ec9c84
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/58/842858/9 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/sshd.pp', 'spec/classes/tripleo_profile_base_sshd_spec.rb']",2,0c5a6e52b11643e78835f09f1186028ac92a62fb,sshd-refactor," context 'with defaults' do 'Port' => [22], context 'with all parameters configured' do let(:params) {{ :listen => '192.0.2.1', :port => 123, :password_authentication => 'yes' }} 'Listen' => ['192.0.2.1'] context 'with listen configured and listen option' do let(:params) {{ :listen => ['192.0.2.1'], :options => { 'Listen' => ['192.0.2.2'] } }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Listen' => ['192.0.2.1', '192.0.2.2'], 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) end end context 'with listen configured and same listen option' do let(:params) {{ :listen => ['192.0.2.1'], :options => { 'Listen' => ['192.0.2.1'] } }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Listen' => ['192.0.2.1'], 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) end end let(:params) {{ :port => 123, :options => { 'Port' => 456 } }} let(:params) {{ :port => 123, :options => { 'Port' => 123 } }} let(:params) {{ :options => { 'X11Forwarding' => 'no' } }}"," context 'it should do nothing' do 'Port' => [22], context 'with port and paswword_authentification configured' do let(:params) {{ :port => 123, :password_authentication => 'yes' }} let(:params) {{ :port => 123, :options => {'Port' => 456} }} let(:params) {{ :port => 123, :options => {'Port' => 123} }} let(:params) {{ :options => {'X11Forwarding' => 'no'} }}",80,10
openstack%2Fpuppet-tripleo~master~I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2,openstack/puppet-tripleo,master,I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2,sshd: Remove unused implementation to set up MOTD/Banner,MERGED,2022-05-22 12:26:47.000000000,2022-05-26 01:13:14.000000000,2022-05-26 01:13:14.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-22 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/03e34349cacd9746e837e9b1b66017b04934bd7f', 'message': 'Remove unused implementation to set up MOTD/Banner\n\nNow the sshd manifest is used to configure the nova migration target\nservice only, which does not require the customization of MOTD and\nBanner.\n\nDepends-on: https://review.opendev.org/838978\nChange-Id: I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2\n'}, {'number': 2, 'created': '2022-05-22 12:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/89e7063a98257c9f2b10742d52b2ab16379128b2', 'message': 'sshd: Remove unused implementation to set up MOTD/Banner\n\nNow the sshd manifest is used to configure the nova migration target\nservice only, which does not require the customization of MOTD and\nBanner.\n\nDepends-on: https://review.opendev.org/838978\nChange-Id: I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2\n'}, {'number': 3, 'created': '2022-05-23 07:34:13.000000000', 'files': ['spec/classes/tripleo_profile_base_sshd_spec.rb', 'manifests/profile/base/sshd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8957210988956ab21de0c25c2a153d22ed40fd47', 'message': 'sshd: Remove unused implementation to set up MOTD/Banner\n\nNow the sshd manifest is used to configure the nova migration target\nservice only, which does not require the customization of MOTD and\nBanner.\n\nDepends-on: https://review.opendev.org/838978\nChange-Id: I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2\n'}]",0,842857,8957210988956ab21de0c25c2a153d22ed40fd47,13,5,3,9816,,,0,"sshd: Remove unused implementation to set up MOTD/Banner

Now the sshd manifest is used to configure the nova migration target
service only, which does not require the customization of MOTD and
Banner.

Depends-on: https://review.opendev.org/838978
Change-Id: I02ed0afa327b8f954cd02f62bd947a9ab0b3f7d2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/57/842857/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/sshd.pp', 'spec/classes/tripleo_profile_base_sshd_spec.rb']",2,03e34349cacd9746e837e9b1b66017b04934bd7f,sshd-refactor,," is_expected.to_not contain_file('/etc/issue') is_expected.to_not contain_file('/etc/issue.net') is_expected.to_not contain_file('/etc/motd') end end context 'it should do nothing with empty strings' do let(:params) {{ :bannertext => '', :motd => '' }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Port' => [22], 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) is_expected.to_not contain_file('/etc/issue') is_expected.to_not contain_file('/etc/issue.net') is_expected.to_not contain_file('/etc/motd') context 'with issue and issue.net configured' do let(:params) {{ :bannertext => 'foo' }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Banner' => '/etc/issue.net', 'Port' => [22], 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) is_expected.to contain_file('/etc/issue').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to contain_file('/etc/issue.net').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to_not contain_file('/etc/motd') end end context 'with motd configured' do let(:params) {{ :motd => 'foo' }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Port' => [22], 'PrintMotd' => 'yes', 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) is_expected.to contain_file('/etc/motd').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to_not contain_file('/etc/issue') is_expected.to_not contain_file('/etc/issue.net') end end is_expected.to_not contain_file('/etc/motd') is_expected.to_not contain_file('/etc/issue') is_expected.to_not contain_file('/etc/issue.net') end end context 'with motd and issue configured' do let(:params) {{ :bannertext => 'foo', :motd => 'foo' }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Banner' => '/etc/issue.net', 'Port' => [22], 'PrintMotd' => 'yes', 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) is_expected.to contain_file('/etc/motd').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to contain_file('/etc/issue').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to contain_file('/etc/issue.net').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) end end context 'with motd and issue and options configured' do let(:params) {{ :bannertext => 'foo', :motd => 'foo', :options => { 'Port' => [22], 'PrintMotd' => 'no', # this should be overridden 'X11Forwarding' => 'no', } }} it do is_expected.to contain_class('ssh').with({ 'storeconfigs_enabled' => false, 'server_options' => { 'Banner' => '/etc/issue.net', 'Port' => [22], 'PrintMotd' => 'yes', 'X11Forwarding' => 'no', 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ], 'PasswordAuthentication' => 'no', }, 'client_options' => {}, }) is_expected.to contain_file('/etc/motd').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to contain_file('/etc/issue').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', }) is_expected.to contain_file('/etc/issue.net').with({ 'content' => 'foo', 'owner' => 'root', 'group' => 'root', 'mode' => '0644', })",3,223
openstack%2Fpuppet-tripleo~master~I2a32a067e3586e14c461948bd677b75365272cff,openstack/puppet-tripleo,master,I2a32a067e3586e14c461948bd677b75365272cff,Remove file ACL settings for ceph keyring,MERGED,2022-02-27 14:10:08.000000000,2022-05-26 01:13:11.000000000,2022-05-26 01:13:11.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-27 14:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b8c2b95120d47f70ab8d55453611c645f77afd1a', 'message': 'Remove file ACL settings for ceph keyring\n\n... because these resources are no longer used since all services were\ncontainerized.\n\nWe already remove the same logic for Gnocchi only by [1].\n\n[1] 6aa468113712415711937f20a6652ab60db14420\n\nChange-Id: I2a32a067e3586e14c461948bd677b75365272cff\n'}, {'number': 2, 'created': '2022-02-27 23:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4578ea7b64be8190f7754a5a53dacde5ae12ce4e', 'message': 'Remove file ACL settings for ceph keyring\n\n... because these resources are no longer used since all services were\ncontainerized.\n\nWe already remove the same logic for Gnocchi only by [1].\n\n[1] 6aa468113712415711937f20a6652ab60db14420\n\nChange-Id: I2a32a067e3586e14c461948bd677b75365272cff\n'}, {'number': 3, 'created': '2022-05-24 11:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aa67e36e90e9c87ca4bfd559f72ec8ea6d2e90fe', 'message': 'Remove file ACL settings for ceph keyring\n\n... because these resources are no longer used since all services were\ncontainerized.\n\nWe already remove the same logic for Gnocchi only by [1].\n\n[1] 6aa468113712415711937f20a6652ab60db14420\n\nChange-Id: I2a32a067e3586e14c461948bd677b75365272cff\n'}, {'number': 4, 'created': '2022-05-24 11:58:25.000000000', 'files': ['manifests/profile/base/glance/backend/rbd.pp', 'manifests/profile/base/manila/share.pp', 'manifests/profile/base/nova/compute_libvirt_shared.pp', 'spec/classes/tripleo_profile_base_glance_backend_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9765e20fb1536fdaab65c19d21d252c2ebfbf45b', 'message': 'Remove file ACL settings for ceph keyring\n\n... because these resources are no longer used since all services were\ncontainerized.\n\nWe already removed the same logic for Gnocchi only by [1].\n\n[1] 6aa468113712415711937f20a6652ab60db14420\n\nChange-Id: I2a32a067e3586e14c461948bd677b75365272cff\n'}]",0,831093,9765e20fb1536fdaab65c19d21d252c2ebfbf45b,16,4,4,9816,,,0,"Remove file ACL settings for ceph keyring

... because these resources are no longer used since all services were
containerized.

We already removed the same logic for Gnocchi only by [1].

[1] 6aa468113712415711937f20a6652ab60db14420

Change-Id: I2a32a067e3586e14c461948bd677b75365272cff
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/93/831093/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/glance/backend/rbd.pp', 'manifests/profile/base/manila/share.pp', 'manifests/profile/base/nova/compute_libvirt_shared.pp', 'spec/classes/tripleo_profile_base_glance_backend_rbd_spec.rb']",4,b8c2b95120d47f70ab8d55453611c645f77afd1a,keyring-acl,, is_expected.to contain_exec('exec-setfacl-ceph-openstack-glance').with_command( 'setfacl -m u:glance:r-- /etc/ceph/ceph.client.openstack.keyring' ) is_expected.to contain_exec('exec-setfacl-ceph-openstack-glance-mask').with_command( 'setfacl -m m::r /etc/ceph/ceph.client.openstack.keyring' ) is_expected.to contain_exec('exec-setfacl-ceph2-openstack2-glance').with_command( 'setfacl -m u:glance:r-- /etc/ceph/ceph2.client.openstack2.keyring' ) is_expected.to contain_exec('exec-setfacl-ceph2-openstack2-glance-mask').with_command( 'setfacl -m m::r /etc/ceph/ceph2.client.openstack2.keyring' ),16,69
openstack%2Fpuppet-tripleo~master~I2d8338d64b3f9887fdd067c820b10baab8eb0446,openstack/puppet-tripleo,master,I2d8338d64b3f9887fdd067c820b10baab8eb0446,Include octavia task_flow manifest for octavia services,MERGED,2021-12-07 08:36:03.000000000,2022-05-26 01:13:08.000000000,2022-05-26 01:13:08.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-07 08:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fba282940ce6eca052d559b7238f1967f787448f', 'message': 'Include octavia task_flow manifest for octavia services\n\nThe Octavia worker, housekeeping and health-manager services should\ninclude the task_flow manifest to configure jobboard persistence in\nOctavia.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/816434\n\nChange-Id: I2d8338d64b3f9887fdd067c820b10baab8eb0446\n'}, {'number': 2, 'created': '2022-03-01 07:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07a628a16c6f655d05e194368e9b47fb6d0b881b', 'message': 'Include octavia task_flow manifest for octavia services\n\nThe Octavia worker, housekeeping and health-manager services should\ninclude the task_flow manifest to configure jobboard persistence in\nOctavia.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/816434\n\nChange-Id: I2d8338d64b3f9887fdd067c820b10baab8eb0446\n'}, {'number': 3, 'created': '2022-05-24 12:39:19.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_worker_spec.rb', 'manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'spec/classes/tripleo_profile_base_octavia_health_manager_spec.rb', 'manifests/profile/base/octavia/health_manager.pp', 'spec/classes/tripleo_profile_base_octavia_housekeeping_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/501522bf52c17ac029ba66d95f54331933cde3d7', 'message': 'Include octavia task_flow manifest for octavia services\n\nThe Octavia worker, housekeeping and health-manager services should\ninclude the task_flow manifest to configure jobboard persistence in\nOctavia.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/816434\n\nChange-Id: I2d8338d64b3f9887fdd067c820b10baab8eb0446\n'}]",2,820668,501522bf52c17ac029ba66d95f54331933cde3d7,19,7,3,29244,,,0,"Include octavia task_flow manifest for octavia services

The Octavia worker, housekeeping and health-manager services should
include the task_flow manifest to configure jobboard persistence in
Octavia.

Depends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/816434

Change-Id: I2d8338d64b3f9887fdd067c820b10baab8eb0446
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/820668/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'manifests/profile/base/octavia/health_manager.pp']",3,fba282940ce6eca052d559b7238f1967f787448f,octavia_jobboard, include octavia::task_flow,,3,0
openstack%2Ftripleo-ansible~master~If346b7fcb2362a7454652a22d4a1f96f7f5e9dca,openstack/tripleo-ansible,master,If346b7fcb2362a7454652a22d4a1f96f7f5e9dca,Configure dracut multipath module for diskless nodes,MERGED,2022-02-21 20:46:18.000000000,2022-05-26 01:12:57.000000000,2022-05-26 01:12:57.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-21 20:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3636cecd379320fcb07d415b36c15003e7a86743', 'message': 'Configure dracut multipath module for diskless nodes\n\nConfigure dracut multipath module for diskless nodes in order to\nallow initramfs to load multipath module in order to allow bootable\ndevice to be multipathed.\n\nChange-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca\n'}, {'number': 2, 'created': '2022-02-21 20:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7cad21ae9f46117fd98458717312a62d3136722', 'message': 'Configure dracut multipath module for diskless nodes\n\nConfigure dracut multipath module for diskless nodes in order to\nallow initramfs to load multipath module in order to allow bootable\ndevice to be multipathed.\n\nChange-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca\n'}, {'number': 3, 'created': '2022-02-21 21:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/269c61e301b6787c8bbfd50ed417cf8466f25434', 'message': 'Configure dracut multipath module for diskless nodes\n\nConfigure dracut multipath module for diskless nodes in order to\nallow initramfs to load multipath module in order to allow bootable\ndevice to be multipathed.\n\nChange-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca\n'}, {'number': 4, 'created': '2022-02-21 21:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eae0bd2d03caba900b0c5e8a3bead836e7955daa', 'message': 'Configure dracut multipath module for diskless nodes\n\nConfigure dracut multipath module for diskless nodes in order to\nallow initramfs to load multipath module in order to allow bootable\ndevice to be multipathed.\n\nChange-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca\n'}, {'number': 5, 'created': '2022-05-23 20:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10d1a89897029b5426877a2dd275ebd8bc17e181', 'message': 'Configure dracut multipath module for diskless nodes\n\nConfigure dracut multipath module for diskless nodes in order to\nallow initramfs to load multipath module in order to allow bootable\ndevice to be multipathed.\n\nChange-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca\n'}, {'number': 6, 'created': '2022-05-23 20:54:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_multipathd/defaults/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/host_prep.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f7d8ced19857360451cc883a2b757da8e4a9085', 'message': 'Configure dracut multipath module for diskless nodes\n\nConfigure dracut multipath module for diskless nodes in order to\nallow initramfs to load multipath module in order to allow bootable\ndevice to be multipathed.\n\nChange-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca\n'}]",2,830284,3f7d8ced19857360451cc883a2b757da8e4a9085,23,6,6,7130,,,0,"Configure dracut multipath module for diskless nodes

Configure dracut multipath module for diskless nodes in order to
allow initramfs to load multipath module in order to allow bootable
device to be multipathed.

Change-Id: If346b7fcb2362a7454652a22d4a1f96f7f5e9dca
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/830284/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_multipathd/defaults/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/host_prep.yml']",2,3636cecd379320fcb07d415b36c15003e7a86743,dracut," - name: Configure multipath dracut module when: - {{ tripleo_boot_from_multipath_device|bool }} block: - name: Check if multipath module is already configured in dracut lineinfile: state: absent path: ""/etc/dracut.conf"" regexp: ""add_dracutmodules.*multipath.*"" check_mode: true changed_when: false register: check - name: Add multipath dracut module if it's missing lineinfile: state: present path: ""/etc/dracut.conf"" line: 'add_dracutmodules+=""multipath""' when: check.found == 0",,21,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I57994c9289a0afe85c649632acbca01d223b8bd9,openstack/puppet-tripleo,stable/train,I57994c9289a0afe85c649632acbca01d223b8bd9,[train-only] Fix certmonger QEMU key file data race,MERGED,2022-05-06 13:59:13.000000000,2022-05-26 01:12:52.000000000,2022-05-26 01:12:52.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-06 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63b6983c41b0d42f8dbf7a84b05630ff1d0b26bc', 'message': ""[train-only] Fix certmonger vnc key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for qemu\nkey file, we need to enforce the expected permissions/owner for\nthat file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets qemu key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: I57994c9289a0afe85c649632acbca01d223b8bd9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-05-06 14:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/355680d9dc48af3ee4dea08ca39806505ff9c89b', 'message': ""[train-only] Fix certmonger QEMU key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for qemu\nkey file, we need to enforce the expected permissions/owner for\nthat file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets qemu key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nChange-Id: I57994c9289a0afe85c649632acbca01d223b8bd9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2022-05-19 13:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/677fca199cbc32d09ebcb766ae65396046a9afb1', 'message': ""[train-only] Fix certmonger QEMU key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for qemu\nkey file, we need to enforce the expected permissions/owner for\nthat file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets qemu key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nFinally, when the service key permissions have been changed by the exec\ncommand, puppet will only audit that change on the next run, via its\ncorresponding File[$service_key] resource. That may leave the created\ncert file with wrong permissions, until the next puppet run. So\nmake sure that exec changes both the cert and key file permissions in\na single transaction.\n\nRelated: rhbz#2084193\nChange-Id: I57994c9289a0afe85c649632acbca01d223b8bd9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2022-05-24 11:41:53.000000000', 'files': ['manifests/certmonger/qemu.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/31766b755251d0a44bc4f363cd5be16f9db15ed1', 'message': ""[train-only] Fix certmonger QEMU key file data race\n\nFollow-up the vnc key file data race and fix it for qemu key\nand cert files as well.\n\nThe race condition described in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759281\nmight also apply to other files created by getcert, it seems.\n\nGetcert sets owner and permissions for newly created cert/key files\nto root/0600. While it retaines that unchanged for already existing\ncert/key files.\n\nBy the certmonger feature design, changes to a service key file\nresource trigger a getcert execution. And once it finishes for qemu\nkey file, we need to enforce the expected permissions/owner for\nthat file. Puppet would not allow doing such circular notifications\nnormally, so we add execs before/after the getcmd command.\n\nMake sure that puppet resets qemu key file permissions\nafter (and only after) getcert finishes its tasks and stores the\ngenerated cert file.\n\nIf the key's content change has been audited by puppet, remove the no\nlonger relevant cert file, so that getcert could re-issue it, and then\npuppet to properly re-apply permissions/owner on both files.\n\nIf we do not remove the cert file before running getcert, the guarding\nexec might finish before getcert finishes (see the former race\ncondition details). If we set the guarding exec watching for the key\nfile, it might also finish before getcert finishes. So we have to\nset it watching for the cert file, and purge it before issuing getcert.\nIf the key content does not change, the cert file will be retained.\n\nAlso set the service_certificate group to match it for the\nservice_key as both are expected to have it the same.\n\nFinally, when the service key permissions have been changed by the exec\ncommand, puppet will only audit that change on the next run, via its\ncorresponding File[$service_key] resource. That may leave the created\ncert file with wrong permissions, until the next puppet run. So\nmake sure that exec changes both the cert and key file permissions in\na single transaction.\n\nRelated: rhbz#2084193\nChange-Id: I57994c9289a0afe85c649632acbca01d223b8bd9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",5,840904,31766b755251d0a44bc4f363cd5be16f9db15ed1,23,7,4,6926,,,0,"[train-only] Fix certmonger QEMU key file data race

Follow-up the vnc key file data race and fix it for qemu key
and cert files as well.

The race condition described in
https://bugzilla.redhat.com/show_bug.cgi?id=1759281
might also apply to other files created by getcert, it seems.

Getcert sets owner and permissions for newly created cert/key files
to root/0600. While it retaines that unchanged for already existing
cert/key files.

By the certmonger feature design, changes to a service key file
resource trigger a getcert execution. And once it finishes for qemu
key file, we need to enforce the expected permissions/owner for
that file. Puppet would not allow doing such circular notifications
normally, so we add execs before/after the getcmd command.

Make sure that puppet resets qemu key file permissions
after (and only after) getcert finishes its tasks and stores the
generated cert file.

If the key's content change has been audited by puppet, remove the no
longer relevant cert file, so that getcert could re-issue it, and then
puppet to properly re-apply permissions/owner on both files.

If we do not remove the cert file before running getcert, the guarding
exec might finish before getcert finishes (see the former race
condition details). If we set the guarding exec watching for the key
file, it might also finish before getcert finishes. So we have to
set it watching for the cert file, and purge it before issuing getcert.
If the key content does not change, the cert file will be retained.

Also set the service_certificate group to match it for the
service_key as both are expected to have it the same.

Finally, when the service key permissions have been changed by the exec
command, puppet will only audit that change on the next run, via its
corresponding File[$service_key] resource. That may leave the created
cert file with wrong permissions, until the next puppet run. So
make sure that exec changes both the cert and key file permissions in
a single transaction.

Related: rhbz#2084193
Change-Id: I57994c9289a0afe85c649632acbca01d223b8bd9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/840904/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/qemu.pp'],1,63b6983c41b0d42f8dbf7a84b05630ff1d0b26bc,," file { $service_key : group => 'qemu', mode => '0640', audit => [content], } ~> exec { ""Purge ${service_certificate}"" : command => ""rm -f ${service_certificate}"", refreshonly => true, path => '/usr/bin:/bin', } -> certmonger_certificate { $name : exec { $service_certificate : require => Certmonger_certificate[$name], command => ""test -f ${service_certificate}"", unless => ""test -f ${service_certificate}"", tries => 60, try_sleep => 1, timeout => 60, path => '/usr/bin:/bin', } -> exec { ""Change permissions and owner of ${service_key}"": command => ""chgrp qemu ${service_key} && chmod 0640 ${service_key}"", refreshonly => true, path => '/usr/bin:/bin', } file { $service_certificate : mode => '0644' } Certmonger_certificate[$name] ~> Exec[""Change permissions and owner of ${service_key}""] Exec[""Purge ${service_certificate}""] -> File[$service_certificate]"," certmonger_certificate { $name : file { $service_certificate : require => Certmonger_certificate[$name], mode => '0644' } file { $service_key : mode => '0640', audit => [content], }",30,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If05439e673ee0b8f4d707ec65da3f19436e8ef55,openstack/tripleo-heat-templates,stable/wallaby,If05439e673ee0b8f4d707ec65da3f19436e8ef55,Only specify nfsver for local Nova NFS backend,MERGED,2022-05-24 11:51:49.000000000,2022-05-26 00:56:40.000000000,2022-05-26 00:56:40.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-24 11:51:49.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abbed2f4af17a48afb5f5f6304630d7bbcfadb3d', 'message': 'Only specify nfsver for local Nova NFS backend\n\nIn Centos9, nfsmount no longer supports multiple version options.\nThis regresses default configuration and causes errors like:\n\nansible-mount Invoked with fstype=nfs4\nname=/var/lib/nova/instances opts=_netdev,bg,context=system\n_u:object_r:nfs_t:s0,vers=4.2,nfsvers=4.2 src=... state=mounted\npath=/var/lib/nova/instances boot=True backup=False dump=None\nfstab=None passno=None\n\nDrop vers=4.2 for nfsvers=4.2 to live on.\n\nRelated: rhbz#2077586\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If05439e673ee0b8f4d707ec65da3f19436e8ef55\n(cherry picked from commit 696fd60a7b85e2d87c9f502b738596c976a286bf)\n'}]",1,842948,abbed2f4af17a48afb5f5f6304630d7bbcfadb3d,9,6,1,6926,,,0,"Only specify nfsver for local Nova NFS backend

In Centos9, nfsmount no longer supports multiple version options.
This regresses default configuration and causes errors like:

ansible-mount Invoked with fstype=nfs4
name=/var/lib/nova/instances opts=_netdev,bg,context=system
_u:object_r:nfs_t:s0,vers=4.2,nfsvers=4.2 src=... state=mounted
path=/var/lib/nova/instances boot=True backup=False dump=None
fstab=None passno=None

Drop vers=4.2 for nfsvers=4.2 to live on.

Related: rhbz#2077586
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: If05439e673ee0b8f4d707ec65da3f19436e8ef55
(cherry picked from commit 696fd60a7b85e2d87c9f502b738596c976a286bf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/842948/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,abbed2f4af17a48afb5f5f6304630d7bbcfadb3d,," opts: ""_netdev,bg,{{nfs_options}},nfsvers={{nfs_vers}}"""," opts: ""_netdev,bg,{{nfs_options}},vers={{nfs_vers}},nfsvers={{nfs_vers}}""",1,1
openstack%2Fpython-designateclient~master~Ibf3bab374ec3a5bec842051c29d18864d42c02b8,openstack/python-designateclient,master,Ibf3bab374ec3a5bec842051c29d18864d42c02b8,Update zuul queue configuration,MERGED,2022-05-19 16:14:01.000000000,2022-05-26 00:53:22.000000000,2022-05-26 00:51:23.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-19 16:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/ac81e1361bc09f1be1583b52ef0a8fcd0b091dcd', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate client for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: Ibf3bab374ec3a5bec842051c29d18864d42c02b8\n'}, {'number': 2, 'created': '2022-05-19 16:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/38c9904d42efb2e0547120f19148469369dde21d', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate client for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: Ibf3bab374ec3a5bec842051c29d18864d42c02b8\n'}, {'number': 3, 'created': '2022-05-25 20:05:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/ef2098e6543019e0dc41344d704f56b6957e88b6', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate client for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: Ibf3bab374ec3a5bec842051c29d18864d42c02b8\n'}]",9,842562,ef2098e6543019e0dc41344d704f56b6957e88b6,28,4,3,11628,,,0,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate client for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: Ibf3bab374ec3a5bec842051c29d18864d42c02b8
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/62/842562/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ac81e1361bc09f1be1583b52ef0a8fcd0b091dcd,, queue: designate gate:, gate: queue: designate,1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2Fwallaby~I0d6014649307bb6556cdc189cf8d749e1ec9b20a,openstack/openstack-ansible-ceph_client,stable/wallaby,I0d6014649307bb6556cdc189cf8d749e1ec9b20a,Use global package_state,MERGED,2022-05-20 18:35:46.000000000,2022-05-26 00:50:00.000000000,2022-05-26 00:48:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-20 18:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/8644b26b8558af6227f06c1fc8952b7bef7bc1ee', 'message': ""Use global package_state\n\nWe missed upating ceph_client_package_state to use package_state\nfor default value, as other roles do.\nSo we're fixing it not to update ceph client packages every time, which\ncan lead to interesting consequences depending on the destination.\n\nChange-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a\n(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)\n""}, {'number': 2, 'created': '2022-05-24 17:12:05.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/71b4c59e57caf487fec23b33c341aaaaeff745cd', 'message': ""Use global package_state\n\nWe missed upating ceph_client_package_state to use package_state\nfor default value, as other roles do.\nSo we're fixing it not to update ceph client packages every time, which\ncan lead to interesting consequences depending on the destination.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/843175\nChange-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a\n(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)\n""}]",1,842407,71b4c59e57caf487fec23b33c341aaaaeff745cd,14,3,2,25023,,,0,"Use global package_state

We missed upating ceph_client_package_state to use package_state
for default value, as other roles do.
So we're fixing it not to update ceph client packages every time, which
can lead to interesting consequences depending on the destination.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/843175
Change-Id: I0d6014649307bb6556cdc189cf8d749e1ec9b20a
(cherry picked from commit 6fbe1ab3c0e0aa9696f473bc6b7f7fe9a0a332ec)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/07/842407/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,8644b26b8558af6227f06c1fc8952b7bef7bc1ee,,"ceph_client_package_state: ""{{ package_state | default('latest') }}""","ceph_client_package_state: ""latest""",1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I5428a7d8ebb8e1cc108608bddb94784696dab098,openstack/openstack-ansible-rabbitmq_server,master,I5428a7d8ebb8e1cc108608bddb94784696dab098,Add support for centos-9,MERGED,2022-01-10 13:30:46.000000000,2022-05-26 00:01:38.000000000,2022-05-26 00:00:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-10 13:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a968348936b7fe699566063f5716f22deb3783d0', 'message': 'DNM - Add support for centos-9\n\nThis uses the rdo-deps build for rabbitmq rather than the offical\nupstream package. This patch should not be merged until there is an\nofficial package.\n\nChange-Id: I5428a7d8ebb8e1cc108608bddb94784696dab098\n'}, {'number': 2, 'created': '2022-05-12 13:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ae834361e9b9f0efb093651a1760f29e63539f80', 'message': 'Add support for centos-9\n\nChange-Id: I5428a7d8ebb8e1cc108608bddb94784696dab098\n'}, {'number': 3, 'created': '2022-05-12 17:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2c62beadf9ca27c10d072e00db9c8da570482d25', 'message': 'Add support for centos-9\n\nChange-Id: I5428a7d8ebb8e1cc108608bddb94784696dab098\n'}, {'number': 4, 'created': '2022-05-12 19:13:07.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b79a6c8bcf25af912620ffab9c98fbc2f775cfda', 'message': 'Add support for centos-9\n\nChange-Id: I5428a7d8ebb8e1cc108608bddb94784696dab098\n'}]",2,823985,b79a6c8bcf25af912620ffab9c98fbc2f775cfda,20,3,4,25023,,,0,"Add support for centos-9

Change-Id: I5428a7d8ebb8e1cc108608bddb94784696dab098
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/85/823985/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_yum.yml', 'vars/redhat.yml']",2,a968348936b7fe699566063f5716f22deb3783d0,osa/centos-9,"_rabbitmq_repo_url: ""https://buildlogs.centos.org/centos/9-stream/messaging/x86_64/rabbitmq-38/"" _rabbitmq_repo: name: centos9-rabbitmq description: ""Centos9-RabbitMQ""_rabbitmq_erlang_repo: {} - rabbitmq-server","_rabbitmq_repo_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/el/{{ ansible_facts['distribution_major_version'] }}/$basearch"" _rabbitmq_repo: name: rabbitmq_rabbitmq-server description: ""RabbitMQ Server Rolling Repository""_rabbitmq_erlang_repo_url: ""https://packagecloud.io/rabbitmq/erlang/el/{{ ansible_facts['distribution_major_version'] }}/$basearch"" _rabbitmq_erlang_repo: name: rabbitmq_els-erlang description: ""RabbitMQ Erlang Packages from Bintray"" baseurl: ""{{ rabbitmq_erlang_repo_url }}"" filename: els-erlang - ""erlang-{{ _erlang_package_version }}.el{{ ansible_facts['distribution_major_version'] }}.x86_64"" - ""rabbitmq-server-{{ rabbitmq_package_version }}.el{{ ansible_facts['distribution_major_version'] }}.noarch""",7,11
openstack%2Fproject-config~master~I7253e77dec3f010ac1b204e831bce31e9ad27bd2,openstack/project-config,master,I7253e77dec3f010ac1b204e831bce31e9ad27bd2,"Set ""zuul"" tenant default Ansible version to 5",MERGED,2022-05-23 22:31:00.000000000,2022-05-25 23:51:13.000000000,2022-05-25 23:27:00.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 22:31:00.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5099658e4d98a4a787d5de0d80cb8731a8b838f3', 'message': 'Set ""zuul"" tenant default Ansible version to 5\n\nThis will shortly become the Zuul default; let Zuul eat its\ndogfood.\n\nChange-Id: I7253e77dec3f010ac1b204e831bce31e9ad27bd2\nDepends-On: https://review.opendev.org/843026\n'}]",0,843034,5099658e4d98a4a787d5de0d80cb8731a8b838f3,11,3,1,1,,,0,"Set ""zuul"" tenant default Ansible version to 5

This will shortly become the Zuul default; let Zuul eat its
dogfood.

Change-Id: I7253e77dec3f010ac1b204e831bce31e9ad27bd2
Depends-On: https://review.opendev.org/843026
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/843034/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,5099658e4d98a4a787d5de0d80cb8731a8b838f3,, default-ansible-version: 5, default-ansible-version: 2.9,1,1
openstack%2Fopenstack-ansible-galera_server~master~I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30,openstack/openstack-ansible-galera_server,master,I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30,Add support for centos-9,MERGED,2022-01-10 13:29:05.000000000,2022-05-25 23:36:34.000000000,2022-05-25 23:35:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-10 13:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/fc0c1565239475735532f14055d6398352be4ec8', 'message': 'DNM - Add support for centos-9\n\nThis uses the distro package for mariadb so should not be merged until\nthere is an official package from mariadb.org and this patch is updated\n\nChange-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30\n'}, {'number': 2, 'created': '2022-01-11 08:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/80fbc5a8eb65299b8ccbb85c29c334f8bd155168', 'message': 'DNM - Add support for centos-9\n\nThis uses the distro package for mariadb so should not be merged until\nthere is an official package from mariadb.org and this patch is updated\n\nChange-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30\n'}, {'number': 3, 'created': '2022-01-26 12:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/9b9b1a3d72f45531aa9930b115a99f39a99d147f', 'message': 'DNM - Add support for centos-9\n\nThis uses the distro package for mariadb so should not be merged until\nthere is an official package from mariadb.org and this patch is updated\n\nChange-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30\n'}, {'number': 4, 'created': '2022-01-26 12:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/792c31c48ca8e356e85baac46600a7c137bd1cc3', 'message': 'DNM - Add support for centos-9\n\nThis uses the distro package for mariadb so should not be merged until\nthere is an official package from mariadb.org and this patch is updated\n\nChange-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30\n'}, {'number': 5, 'created': '2022-01-31 11:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a2cac59b8cce05186529d71396bb993e6485c529', 'message': 'DNM - Add support for centos-9\n\nThis uses the distro package for mariadb so should not be merged until\nthere is an official package from mariadb.org and this patch is updated\n\nChange-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30\n'}, {'number': 6, 'created': '2022-05-12 13:20:48.000000000', 'files': ['vars/redhat-9.yml', 'tasks/galera_install_dnf.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d083461eb064e8aaf4c0378cea3f55aebc4e6144', 'message': 'Add support for centos-9\n\nThis uses the distro package for mariadb as there is no release from\nmariadb.org yet.\n\nChange-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30\n'}]",3,823983,d083461eb064e8aaf4c0378cea3f55aebc4e6144,25,3,6,25023,,,0,"Add support for centos-9

This uses the distro package for mariadb as there is no release from
mariadb.org yet.

Change-Id: I41cdbb82b6ef82ea7acb4d22ca29aac84efebe30
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/83/823983/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_main.yml', 'vars/redhat-9.yml', 'tasks/galera_install_dnf.yml', 'defaults/main.yml']",4,fc0c1565239475735532f14055d6398352be4ec8,osa/centos-9,galera_major_version: 10.5 galera_minor_version: 12galera_file_limits: 164679,galera_major_version: 10.6 galera_minor_version: 5galera_file_limits: 65535,80,3
openstack%2Fswift~master~I0973be6692e3a9b871eb61cbf759e13644a25107,openstack/swift,master,I0973be6692e3a9b871eb61cbf759e13644a25107,CI: constrain py36 deps,MERGED,2022-05-20 23:14:45.000000000,2022-05-25 23:30:31.000000000,2022-05-25 23:28:59.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 23:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5434d77fc828bf45e97b9fdd58bffd063bf42da9', 'message': ""CI: constrain py36 deps\n\nNow that OpenStack writ large has dropped support for py36,\nwe're going to have to manage our constraints ourselves\nmore, just like we did for py27.\n\nChange-Id: I0973be6692e3a9b871eb61cbf759e13644a25107\n""}, {'number': 2, 'created': '2022-05-24 17:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b2f957345f00109b88f71bde569e48747c9f25d4', 'message': ""CI: constrain py36 deps\n\nNow that OpenStack writ large has dropped support for py36,\nwe're going to have to manage our constraints ourselves\nmore, just like we did for py27.\n\nChange-Id: I0973be6692e3a9b871eb61cbf759e13644a25107\n""}, {'number': 3, 'created': '2022-05-24 18:54:05.000000000', 'files': ['py36-constraints.txt', 'tools/playbooks/multinode_setup/run.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/238dc035350610e6ca18b902f12890736fe0e095', 'message': ""CI: constrain py36 deps\n\nNow that OpenStack writ large has dropped support for py36,\nwe're going to have to manage our constraints ourselves\nmore, just like we did for py27.\n\nChange-Id: I0973be6692e3a9b871eb61cbf759e13644a25107\n""}]",4,842817,238dc035350610e6ca18b902f12890736fe0e095,25,2,3,15343,,,0,"CI: constrain py36 deps

Now that OpenStack writ large has dropped support for py36,
we're going to have to manage our constraints ourselves
more, just like we did for py27.

Change-Id: I0973be6692e3a9b871eb61cbf759e13644a25107
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/842817/2 && git format-patch -1 --stdout FETCH_HEAD,"['py36-constraints.txt', 'tox.ini']",2,5434d77fc828bf45e97b9fdd58bffd063bf42da9,fix-py36,[testenv:py36] deps = -c{toxinidir}/py36-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -c{toxinidir}/py36-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -c{toxinidir}/py36-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -c{toxinidir}/py36-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,,106,0
openstack%2Frequirements~stable%2Fwallaby~I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc,openstack/requirements,stable/wallaby,I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc,update constraint for neutron to new release 18.4.0,MERGED,2022-05-25 11:01:33.000000000,2022-05-25 23:28:56.000000000,2022-05-25 23:28:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-25 11:01:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/20be78e7b3ef4c3e43ad06745e5ffcb0f1a87576', 'message': 'update constraint for neutron to new release 18.4.0\n\nmeta: version: 18.4.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Commit: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc\n'}]",0,843260,20be78e7b3ef4c3e43ad06745e5ffcb0f1a87576,8,3,1,11131,,,0,"update constraint for neutron to new release 18.4.0

meta: version: 18.4.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I44ed295aac598d7f2f489d42cb8bd62e10ae3dcc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/843260/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,20be78e7b3ef4c3e43ad06745e5ffcb0f1a87576,new-release,neutron===18.4.0,neutron===18.3.0,1,1
openstack%2Frequirements~stable%2Fxena~I42fca9af9248d209ceb7d62c1e7a62822722b553,openstack/requirements,stable/xena,I42fca9af9248d209ceb7d62c1e7a62822722b553,update constraint for neutron to new release 19.3.0,MERGED,2022-05-25 11:00:31.000000000,2022-05-25 23:21:35.000000000,2022-05-25 23:21:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-25 11:00:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e9550cd8ab3099a1d46dee574a5b059d14ac256', 'message': 'update constraint for neutron to new release 19.3.0\n\nmeta: version: 19.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Commit: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I42fca9af9248d209ceb7d62c1e7a62822722b553\n'}]",0,843259,3e9550cd8ab3099a1d46dee574a5b059d14ac256,8,3,1,11131,,,0,"update constraint for neutron to new release 19.3.0

meta: version: 19.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I42fca9af9248d209ceb7d62c1e7a62822722b553
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/843259/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e9550cd8ab3099a1d46dee574a5b059d14ac256,new-release,neutron===19.3.0,neutron===19.2.0,1,1
openstack%2Fdesignate~stable%2Fxena~I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,openstack/designate,stable/xena,I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,Improve quota API validations,MERGED,2022-05-24 17:26:39.000000000,2022-05-25 23:19:21.000000000,2022-05-25 23:17:53.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-24 17:26:39.000000000', 'files': ['designate/tests/__init__.py', 'designate/common/constants.py', 'designate/tests/test_quota/test_storage.py', 'designate/tests/unit/objects/test_quota.py', 'designate/objects/quota.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/28e969e7f1cfacb4932d9e36896207bf7a88bda0', 'message': 'Improve quota API validations\n\nThis patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).\n\nCloses-Bug: #1934596\nChange-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf\n(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)\n'}]",3,843178,28e969e7f1cfacb4932d9e36896207bf7a88bda0,13,4,1,11628,,,0,"Improve quota API validations

This patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).

Closes-Bug: #1934596
Change-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf
(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)
",git fetch https://review.opendev.org/openstack/designate refs/changes/78/843178/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/common/constants.py', 'designate/tests/test_quota/test_storage.py', 'designate/tests/unit/objects/test_quota.py', 'designate/objects/quota.py']",5,28e969e7f1cfacb4932d9e36896207bf7a88bda0,bug/1934596,"from designate.common import constants 'resource': fields.EnumField(nullable=True, valid_values=constants.VALID_QUOTAS), 'hard_limit': fields.IntegerFields(nullable=True, minimum=constants.MIN_QUOTA, maximum=constants.MAX_QUOTA)"," 'resource': fields.AnyField(nullable=True), 'hard_limit': fields.AnyField(nullable=True)",180,31
openstack%2Fcinder~stable%2Fxena~I94e9c1106d4be0049b98ec7131ec88c9f9a32588,openstack/cinder,stable/xena,I94e9c1106d4be0049b98ec7131ec88c9f9a32588,PureStorage FlashArray: Add active/active replication,MERGED,2022-02-17 03:58:08.000000000,2022-05-25 23:02:03.000000000,2022-05-25 22:59:54.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-02-17 03:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f64b0efbe01406ffcef63394c7203557d532c9b', 'message': 'PureStorage FlashArray: Add active/active replication\n\nThis patch adds support for active/active replication in the\nFlashArray driver.\n\nfailover_host has been split into two parts (failover and\nfailover_completed) to allow all nodes in a cluster to properly\nswitch between primary and secondary backends after a succesful\nfailover or failback procedure.\n\nChange-Id: I94e9c1106d4be0049b98ec7131ec88c9f9a32588\n(cherry picked from commit 52d97807ca11a8f29c648e29606326c0d9a0054e)\n'}, {'number': 2, 'created': '2022-05-04 14:12:02.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_aa_replication-e3f5f6666f0b0c43.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad2db70a6492391a1fb2538db916a7a7b7f5ca9a', 'message': 'PureStorage FlashArray: Add active/active replication\n\nThis patch fixes support for active/active replication in the\nFlashArray driver.\n\nfailover_host has been split into two parts (failover and\nfailover_completed) to allow all nodes in a cluster to properly\nswitch between primary and secondary backends after a succesful\nfailover or failback procedure.\n\nThis patch has been fully tested on stable/xena by Pure.\n\nChange-Id: I94e9c1106d4be0049b98ec7131ec88c9f9a32588\n(cherry picked from commit 52d97807ca11a8f29c648e29606326c0d9a0054e)\n'}]",7,829630,ad2db70a6492391a1fb2538db916a7a7b7f5ca9a,39,5,2,13425,,,0,"PureStorage FlashArray: Add active/active replication

This patch fixes support for active/active replication in the
FlashArray driver.

failover_host has been split into two parts (failover and
failover_completed) to allow all nodes in a cluster to properly
switch between primary and secondary backends after a succesful
failover or failback procedure.

This patch has been fully tested on stable/xena by Pure.

Change-Id: I94e9c1106d4be0049b98ec7131ec88c9f9a32588
(cherry picked from commit 52d97807ca11a8f29c648e29606326c0d9a0054e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/829630/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure_aa_replication-e3f5f6666f0b0c43.yaml']",3,4f64b0efbe01406ffcef63394c7203557d532c9b,aa_replication-stable/xena,--- features: - | Pure Storage FlashArray driver: Enabled support for Active/Active replication for the FlashArray driver. This allows users to configure FlashArray backends in clustered environments. ,,35,8
openstack%2Fopenstack-helm~master~I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8,openstack/openstack-helm,master,I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8,Modified neutron-netns-cleanup-cron.py script.,MERGED,2022-05-23 23:00:39.000000000,2022-05-25 23:00:59.000000000,2022-05-25 22:59:24.000000000,"[{'_account_id': 8898}, {'_account_id': 16164}, {'_account_id': 17119}, {'_account_id': 20469}, {'_account_id': 21040}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 24780}, {'_account_id': 28719}]","[{'number': 1, 'created': '2022-05-23 23:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32662a02e604562847ad7d8628c25017e601ef1b', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 2, 'created': '2022-05-24 18:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1d37f5b94e183dea60ed5f68ca141a675bcf689d', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 3, 'created': '2022-05-25 15:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d03c4783c8d89b84e51102b4466ec36cb1d4783e', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 4, 'created': '2022-05-25 15:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/896add6fd4fbda42eda08d3631b41c339f0447e5', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 5, 'created': '2022-05-25 15:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1edfdd48ebf9feaf8b737536b49ce965e62a5b9f', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 6, 'created': '2022-05-25 15:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b92bec2e3f3dd775c3f7f76cee9f1ef6c268ce6', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 7, 'created': '2022-05-25 18:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67b94f69a8abf44465d1d49651c508abe765ef26', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}, {'number': 8, 'created': '2022-05-25 18:13:19.000000000', 'files': ['neutron/templates/bin/_neutron-netns-cleanup-cron.py.tpl', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32afc483e5c404b0f6fa272ccc0c72313e3bea6a', 'message': ""Modified neutron-netns-cleanup-cron.py script.\n\nWe needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.\nIt happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,\nbut nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.\n\nChange-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8\n""}]",0,843036,32afc483e5c404b0f6fa272ccc0c72313e3bea6a,24,10,8,16164,,,0,"Modified neutron-netns-cleanup-cron.py script.

We needed to terminate qdhcp namespaces which aren't satisfied hosts in neutron db.
It happens after people interrupt neutron agents work and after restart agents, they can start ns on different hosts,
but nothing tracks previous hosts. Previous version of the script checked only IPs inside ns but didn't validate hosts.

Change-Id: I9968f627ce3ab1596711fe9e8d3345d0a5fc42c8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/843036/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-netns-cleanup-cron.py.tpl', 'neutron/templates/daemonset-netns-cleanup-cron.yaml']",2,32662a02e604562847ad7d8628c25017e601ef1b,," env: {{- with $env := dict ""ksUserSecret"" $envAll.Values.secrets.identity.admin ""useCA"" (ne $envAll.Values.secrets.tls.network.server.internal """") }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }}",,127,5
openstack%2Fopenstack-ansible-lxc_hosts~master~I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72,openstack/openstack-ansible-lxc_hosts,master,I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72,Add centos-9 support,MERGED,2022-05-17 20:53:16.000000000,2022-05-25 22:53:30.000000000,2022-05-25 22:51:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-17 20:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2cb32d32f88ad221ba17145e89270beff23e551d', 'message': 'Add centos-9 support\n\nChange-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72\n'}, {'number': 2, 'created': '2022-05-17 21:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6d114f371792ff81435dfd66066e5f88ba267f87', 'message': 'Add centos-9 support\n\nRemove installation of aria2 everywhere as we no longer download\nlxc images but build them locally.\n\nChange-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72\n'}, {'number': 3, 'created': '2022-05-18 06:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9f36768e03ebad10ef5dc0e94aa50dea199b1a5c', 'message': 'Add centos-9 support\n\nRemove installation of aria2 everywhere as we no longer download\nlxc images but build them locally.\n\nChange-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72\n'}, {'number': 4, 'created': '2022-05-18 08:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/eebac3aad274c13cfff2490fb4f9f72953aa7629', 'message': 'Add centos-9 support\n\nRemove installation of aria2 everywhere as we no longer download\nlxc images but build them locally.\n\nChange-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72\n'}, {'number': 5, 'created': '2022-05-19 21:23:34.000000000', 'files': ['tasks/lxc_install_dnf.yml', 'templates/prep-scripts/redhat_prep.sh.j2', 'vars/debian-host.yml', 'vars/redhat.yml', 'vars/redhat-host.yml', 'vars/redhat-9-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/fd23eeedfc2a28556278abc03f722ae17dd77990', 'message': 'Add centos-9 support\n\nRemove installation of aria2 everywhere as we no longer download\nlxc images but build them locally.\n\nChange-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72\n'}]",3,842236,fd23eeedfc2a28556278abc03f722ae17dd77990,24,3,5,25023,,,0,"Add centos-9 support

Remove installation of aria2 everywhere as we no longer download
lxc images but build them locally.

Change-Id: I5eba0b1f08cfe23998cf1116bb017e8a8ef0bb72
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/36/842236/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9-host.yml'],1,2cb32d32f88ad221ba17145e89270beff23e551d,osa/centos-9,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. system_config_dir: ""/etc/sysconfig"" systemd_utils_prefix: ""/lib/systemd"" _lxc_centos_package_baseurl: ""https://download.copr.fedorainfracloud.org/results/neil/lxc4.0/centos-stream-9-$basearch/"" _lxc_centos_package_key: ""https://download.copr.fedorainfracloud.org/results/neil/lxc4.0/pubkey.gpg"" # Required rpm packages. _lxc_hosts_distro_packages: - aria2 - dbus - dnsmasq - git - iptables - libseccomp - lxc - lxc-devel - lxc-libs - lxc-templates - network-scripts - policycoreutils-python-utils - procps - python3-lxc - systemd-container - unzip - xz lxc_xz_bin: xz lxc_cached_network_interfaces: - src: ""lxc-net-redhat-bridge.cfg.j2"" dest: ""/etc/sysconfig/network-scripts/ifcfg-{{ lxc_net_bridge }}"" - src: ""lxc-net-redhat-postdown.cfg.j2"" dest: ""/etc/sysconfig/network-scripts/ifdown-post-{{ lxc_net_bridge }}"" mode: ""0755"" interface: ""${DEVICE}"" ",,50,0
openstack%2Fansible-collections-openstack~master~I3429ee096c853a8308d8b9e4674a9d22b36b6822,openstack/ansible-collections-openstack,master,I3429ee096c853a8308d8b9e4674a9d22b36b6822,Update baremetal_node_info to use new sdk,ABANDONED,2022-05-25 18:01:23.000000000,2022-05-25 22:42:56.000000000,,[],"[{'number': 1, 'created': '2022-05-25 18:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c3eca3749e8d0837b6b4dbeb5a623010fa8e3842', 'message': 'Update baremetal_node_info to use new sdk\n\n- Migrates module to be based off OpenstackModule\n- Migrates sdk calls to use only proxy layer\n- Converts resources to dict before returning\n\nChange-Id: I3429ee096c853a8308d8b9e4674a9d22b36b6822\n'}, {'number': 2, 'created': '2022-05-25 18:03:55.000000000', 'files': ['plugins/modules/baremetal_node_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fbb2db95b3aae2a3ebf6fa2dbd8a05ffff72eee6', 'message': 'Update baremetal_node_info to use new sdk\n\n- Migrates module to be based off OpenstackModule\n- Migrates sdk calls to use only proxy layer\n- Converts resources to dict before returning\n\nChange-Id: I3429ee096c853a8308d8b9e4674a9d22b36b6822\n'}]",1,843325,fbb2db95b3aae2a3ebf6fa2dbd8a05ffff72eee6,5,0,2,34208,,,0,"Update baremetal_node_info to use new sdk

- Migrates module to be based off OpenstackModule
- Migrates sdk calls to use only proxy layer
- Converts resources to dict before returning

Change-Id: I3429ee096c853a8308d8b9e4674a9d22b36b6822
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/25/843325/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_node_info.py'],1,c3eca3749e8d0837b6b4dbeb5a623010fa8e3842,," openstack_cloud_from_module, OpenstackModuledef cleanup_node_properties(machine):# TODO(rcastillo) Base this off IronicModule once all baremetal modules are # ported class BaremetalNodeInfoModule(OpenstackModule): argument_spec = dict( _argument_spec_builder = ironic_argument_spec def _update_auth(self): IronicModule._update_ironic_auth(self) def get_node_by_mac(self, address): ports = self.conn.baremetal.ports(address=address) ports = list(ports) if not ports: self.fail_json(msg='The baremetal port was not found') port = ports[0] return self.conn.find_node(port.node_id) def get_ports_and_portgroups(self, node): ""Enhances node dict with ports and portgroups"" ports = self.conn.baremetal.ports(details=True, node_id=node['uuid']) ports = [p.to_dict(computed=False) for p in ports] node['ports'] = ports portgroups = self.conn.baremetal.port_groups(node=node['uuid'], details=True) portgroups = [g.to_dict(computed=False) for g in portgroups] # links to ports are not useful, replace with list of port uuid's for portgroup in portgroups: portgroup_ports = self.conn.baremetal.ports( portgroup=portgroup['id']) portgroup['ports'] = [p.id for p in portgroup_ports] node['portgroups'] = portgroups def run(self): try: self.get_modules() except self.sdk.exceptions.OpenStackCloudException as e: self.fail_json(msg=str(e)) def get_nodes(self): node = None nodes = [] if self.params['node']: node = self.conn.baremetal.find_node(self.params['node']) elif self.params['mac']: node = self.get_machine_by_mac(self.params['mac']) if (self.params['node'] or self.params['mac']) and not node: self.fail_json(msg='The baremetal node was not found') if node: nodes.append(node) else: nodes = self.conn.baremetal.nodes() nodes = [n.to_dict(computed=False) for n in nodes] for node in nodes: self.get_ports_and_portgroups(node) cleanup_node_properties(node) self.exit_json(changed=False, baremetal_nodes=nodes) def main(): module = BaremetalNodeInfoModule() module()"," openstack_cloud_from_moduledef cleanup_node_properties(machine, cloud): # links to ports are not useful, replace with list of port uuid's portgroup['ports'] = [x.id for x in list( cloud.baremetal.ports(portgroup=portgroup['id']))]def main(): argument_spec = ironic_argument_spec( module_kwargs = openstack_module_kwargs() module_kwargs['supports_check_mode'] = True module = IronicModule(argument_spec, **module_kwargs) machine = None machines = list() sdk, cloud = openstack_cloud_from_module(module) try: if module.params['node']: machine = cloud.get_machine(module.params['node']) elif module.params['mac']: machine = cloud.get_machine_by_mac(module.params['mac']) if (module.params['node'] or module.params['mac']) and not machine: module.fail_json(msg='The baremetal node was not found') if machine: machines.append(machine) else: machines = cloud.list_machines() for machine in machines: get_ports_and_portgroups(cloud, machine) cleanup_node_properties(machine, cloud) module.exit_json(changed=False, baremetal_nodes=machines) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",63,29
openstack%2Fglance~master~Ib7fc2f2082981b1765e901ca5b277fce08221ba8,openstack/glance,master,Ib7fc2f2082981b1765e901ca5b277fce08221ba8,Remove workaround for python_exec cannot be None,MERGED,2022-05-09 15:47:29.000000000,2022-05-25 22:30:35.000000000,2022-05-25 22:29:02.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 15:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/85e85497d4ccb4e158c1351c867aa91f2340bc22', 'message': 'Remove workaround for python_exec cannot be None\n\noslo.config 4.5.1 contains change I2e1f187feaf4, which makes\nthe workaround introduced by change Ic40f582f83e0 unnecessary.\n\nChange-Id: Ib7fc2f2082981b1765e901ca5b277fce08221ba8\nRelated-bug: #1962581\nRelated-bug: #1962603\n'}, {'number': 2, 'created': '2022-05-23 21:35:53.000000000', 'files': ['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'requirements.txt', 'glance/async_/flows/plugins/image_conversion.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6af8b6e51c78ca8cf8259a4a6d63e5a7b5220088', 'message': 'Remove workaround for python_exec cannot be None\n\noslo.config 4.5.1 contains change I2e1f187feaf4, which makes\nthe workaround introduced by change Ic40f582f83e0 unnecessary.\n\nChange-Id: Ib7fc2f2082981b1765e901ca5b277fce08221ba8\nRelated-bug: #1962581\nRelated-bug: #1962603\n'}]",8,841135,6af8b6e51c78ca8cf8259a4a6d63e5a7b5220088,21,3,2,5314,,,0,"Remove workaround for python_exec cannot be None

oslo.config 4.5.1 contains change I2e1f187feaf4, which makes
the workaround introduced by change Ic40f582f83e0 unnecessary.

Change-Id: Ib7fc2f2082981b1765e901ca5b277fce08221ba8
Related-bug: #1962581
Related-bug: #1962603
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/841135/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'requirements.txt', 'glance/async_/flows/plugins/image_conversion.py']",3,85e85497d4ccb4e158c1351c867aa91f2340bc22,bug/1962603, self.python = CONF.wsgi.python_interpreter,import sys self.python = CONF.wsgi.python_interpreter or sys.executable,5,14
openstack%2Ftempest~master~I39f6361adbf473b50fb7e6a21cd586531d237346,openstack/tempest,master,I39f6361adbf473b50fb7e6a21cd586531d237346,DNM: tetsing tempest master with stable/victoria constraints,ABANDONED,2022-05-24 01:39:03.000000000,2022-05-25 22:30:32.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 01:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1af5270bd0ccafa6606ae351446e372958d8d76', 'message': 'DNM: tetsing tempest master with stable/ussuri constraints\n\nChange-Id: I39f6361adbf473b50fb7e6a21cd586531d237346\n'}, {'number': 2, 'created': '2022-05-24 23:06:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a113a378f67ac50ba3bd1cd93eaddc2705f76d8', 'message': 'DNM: tetsing tempest master with stable/victoria constraints\n\nChange-Id: I39f6361adbf473b50fb7e6a21cd586531d237346\n'}]",0,843044,3a113a378f67ac50ba3bd1cd93eaddc2705f76d8,9,2,2,8556,,,0,"DNM: tetsing tempest master with stable/victoria constraints

Change-Id: I39f6361adbf473b50fb7e6a21cd586531d237346
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/843044/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1af5270bd0ccafa6606ae351446e372958d8d76,u-v-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Ftempest~master~Ic56c65a1e6000d98a8c7bcd01ce45588deec9891,openstack/tempest,master,Ic56c65a1e6000d98a8c7bcd01ce45588deec9891,WIP: Fixing py3.6|7 unit tests job,ABANDONED,2022-05-21 00:20:01.000000000,2022-05-25 22:24:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-21 00:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/77fb48926a955873c556df917d100cf652813b99', 'message': 'WIP: Fixing py3.6|7 unit tests job\n\nChange-Id: Ic56c65a1e6000d98a8c7bcd01ce45588deec9891\n'}, {'number': 2, 'created': '2022-05-21 00:33:26.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e267fdffd3fccd77acf6bb8ffa0b8d2b01d57d7', 'message': 'WIP: Fixing py3.6|7 unit tests job\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/842820\nChange-Id: Ic56c65a1e6000d98a8c7bcd01ce45588deec9891\n'}]",0,842819,3e267fdffd3fccd77acf6bb8ffa0b8d2b01d57d7,5,1,2,8556,,,0,"WIP: Fixing py3.6|7 unit tests job

Depends-on: https://review.opendev.org/c/openstack/requirements/+/842820
Change-Id: Ic56c65a1e6000d98a8c7bcd01ce45588deec9891
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/842819/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,77fb48926a955873c556df917d100cf652813b99,fix-tempest-py36,oslo.log>=3.36.0;python_version>'3.7' # Apache-2.0 oslo.log<=4.8.0;python_version<='3.7' # Apache-2.0,oslo.log>=3.36.0 # Apache-2.0,2,1
openstack%2Frequirements~master~I965d8f9ba8aec996698119c0d56359a94dd46de6,openstack/requirements,master,I965d8f9ba8aec996698119c0d56359a94dd46de6,WIP: tempest py36|7 job failure fix,ABANDONED,2022-05-21 00:31:30.000000000,2022-05-25 22:24:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-21 00:31:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/606f8b416045237e7b7ca29e57305f0c168609e4', 'message': 'WIP: tempest py36|7 job failure fix\n\nChange-Id: I965d8f9ba8aec996698119c0d56359a94dd46de6\n'}]",1,842820,606f8b416045237e7b7ca29e57305f0c168609e4,8,2,1,8556,,,0,"WIP: tempest py36|7 job failure fix

Change-Id: I965d8f9ba8aec996698119c0d56359a94dd46de6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/842820/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,606f8b416045237e7b7ca29e57305f0c168609e4,fix-tempest-py36,oslo.log===4.8.0;python_version=='3.6' oslo.log===4.8.0;python_version=='3.7' oslo.log===5.0.0;python_version=='3.8' oslo.log===5.0.0;python_version=='3.9',oslo.log===5.0.0,4,1
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I81565726f18d11c906ed23295d8acf5e18a9c2fe,openstack/openstack-virtual-baremetal,stable/2.0,I81565726f18d11c906ed23295d8acf5e18a9c2fe,Add bmc host support for centos-9-stream,ABANDONED,2022-05-18 22:02:43.000000000,2022-05-25 22:01:14.000000000,,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-18 22:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/199e85504a8266dbf970b687ef408c067510c8ae', 'message': 'Add bmc host support for centos-9-stream\n\nThis change allows the BMC to install and run on centos9-stream.\ncentos-8 is skipped to reduce the required support matrix, centos-7\nsupport can be removed once known OVB tooling is upgraded.\n\nThen, pre-built image support can be restored, and also feature work\ncan be resumed in a modern python3 environment (such as implementing a\nredfish endpoint).\n\nChange-Id: I81565726f18d11c906ed23295d8acf5e18a9c2fe\n(cherry picked from commit 77782cf90354cb9dd163828b76fde0fd3c3fc4b9)\n'}, {'number': 2, 'created': '2022-05-19 22:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/7c27b8654920fe88f96a329e0f5d32feac07cc43', 'message': 'Add bmc host support for centos-9-stream\n\nThis change allows the BMC to install and run on centos9-stream.\ncentos-8 is skipped to reduce the required support matrix, centos-7\nsupport can be removed once known OVB tooling is upgraded.\n\nThen, pre-built image support can be restored, and also feature work\ncan be resumed in a modern python3 environment (such as implementing a\nredfish endpoint).\n\nChange-Id: I81565726f18d11c906ed23295d8acf5e18a9c2fe\n(cherry picked from commit 77782cf90354cb9dd163828b76fde0fd3c3fc4b9)\n'}, {'number': 3, 'created': '2022-05-20 18:02:32.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/49b4888b993748e24d9ef9401d6e917f66a992fa', 'message': 'Add bmc host support for centos-9-stream\n\nThis change allows the BMC to install and run on centos9-stream.\ncentos-8 is skipped to reduce the required support matrix, centos-7\nsupport can be removed once known OVB tooling is upgraded.\n\nThen, pre-built image support can be restored, and also feature work\ncan be resumed in a modern python3 environment (such as implementing a\nredfish endpoint).\n\nChange-Id: I81565726f18d11c906ed23295d8acf5e18a9c2fe\n(cherry picked from commit 77782cf90354cb9dd163828b76fde0fd3c3fc4b9)\n'}]",2,842443,49b4888b993748e24d9ef9401d6e917f66a992fa,15,6,3,4571,,,0,"Add bmc host support for centos-9-stream

This change allows the BMC to install and run on centos9-stream.
centos-8 is skipped to reduce the required support matrix, centos-7
support can be removed once known OVB tooling is upgraded.

Then, pre-built image support can be restored, and also feature work
can be resumed in a modern python3 environment (such as implementing a
redfish endpoint).

Change-Id: I81565726f18d11c906ed23295d8acf5e18a9c2fe
(cherry picked from commit 77782cf90354cb9dd163828b76fde0fd3c3fc4b9)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/43/842443/3 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,199e85504a8266dbf970b687ef408c067510c8ae,stable/bmc-upgrade,"elif [ ""$centos_ver"" == ""9"" ] ; then curl -o /etc/yum.repos.d/delorean.repo https://trunk.rdoproject.org/centos${centos_ver}-master/current-tripleo/delorean.repo dnf install -y python3-tripleo-repos tripleo-repos current-tripleo dnf install -y openstack-network-scripts python3-cryptography python3-novaclient python3-pyghmi os-net-config python3-os-client-config python3-openstackclient",,5,0
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I43206770283cf9a8a6cc7ac2e71f7800238e1690,openstack/openstack-virtual-baremetal,stable/2.0,I43206770283cf9a8a6cc7ac2e71f7800238e1690,Simplify bmc repo setup and installation,ABANDONED,2022-05-18 22:02:43.000000000,2022-05-25 22:01:03.000000000,,"[{'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 22:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/7282f7f530379ffda1d50bd5a8bbc1c3d5a8635c', 'message': 'Simplify bmc repo setup and installation\n\nThis makes the following changes to simplify the install of pyghmi and\nits dependencies:\n- Bootstrap installing tripleo-repo by curling delorean.repo instead\n  of a wget tree search to find the tripleo-repo rpm\n- Install pyghmi from rpm, it has been packaged for years and\n  installing by pip was intended to be temporary\n- Do not install unused jq, git, pip\n\nChange-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690\n(cherry picked from commit f36b5cc6eb7057f6bac65ce17a9d295889bd8749)\n'}, {'number': 2, 'created': '2022-05-19 22:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/f18b38dd6cfbaf4213354a8564af627f22d1e40b', 'message': 'Simplify bmc repo setup and installation\n\nThis makes the following changes to simplify the install of pyghmi and\nits dependencies:\n- Bootstrap installing tripleo-repo by curling delorean.repo instead\n  of a wget tree search to find the tripleo-repo rpm\n- Install pyghmi from rpm, it has been packaged for years and\n  installing by pip was intended to be temporary\n- Do not install unused jq, git, pip\n\nChange-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690\n(cherry picked from commit f36b5cc6eb7057f6bac65ce17a9d295889bd8749)\n'}, {'number': 3, 'created': '2022-05-20 18:02:00.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/19a0bafaa4117a954c83a6921589387f68f6a6b9', 'message': 'Simplify bmc repo setup and installation\n\nThis makes the following changes to simplify the install of pyghmi and\nits dependencies:\n- Bootstrap installing tripleo-repo by curling delorean.repo instead\n  of a wget tree search to find the tripleo-repo rpm\n- Install pyghmi from rpm, it has been packaged for years and\n  installing by pip was intended to be temporary\n- Do not install unused jq, git, pip\n\nChange-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690\n(cherry picked from commit f36b5cc6eb7057f6bac65ce17a9d295889bd8749)\n'}]",1,842442,19a0bafaa4117a954c83a6921589387f68f6a6b9,13,4,3,4571,,,0,"Simplify bmc repo setup and installation

This makes the following changes to simplify the install of pyghmi and
its dependencies:
- Bootstrap installing tripleo-repo by curling delorean.repo instead
  of a wget tree search to find the tripleo-repo rpm
- Install pyghmi from rpm, it has been packaged for years and
  installing by pip was intended to be temporary
- Do not install unused jq, git, pip

Change-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690
(cherry picked from commit f36b5cc6eb7057f6bac65ce17a9d295889bd8749)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/42/842442/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,7282f7f530379ffda1d50bd5a8bbc1c3d5a8635c,stable/bmc-upgrade, curl -o /etc/yum.repos.d/delorean.repo https://trunk.rdoproject.org/centos7/current/delorean.repo yum install -y python2-tripleo-repos yum install -y python-crypto python2-novaclient python2-neutronclient python2-pyghmi os-net-config python2-os-client-config python2-openstackclient, yum install -y wget wget -r --no-parent -nd -e robots=off -l 1 -A 'python2-tripleo-repos-*' https://trunk.rdoproject.org/centos7/current/ yum install -y python2-tripleo-repos-* yum install -y python-crypto python2-novaclient python2-neutronclient python-pip os-net-config git jq python2-os-client-config python2-openstackclient pip install pyghmi,3,5
openstack%2Fpuppet-tripleo~master~Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b,openstack/puppet-tripleo,master,Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b,Nova: Drop unused logic to remove the libvirt default network,MERGED,2022-05-18 15:17:27.000000000,2022-05-25 21:24:18.000000000,2022-05-25 21:24:18.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 15:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74b198675548084abfac8156544f45ab91ec22fc', 'message': 'Nova: Drop unused logic to remove the libvirt default network\n\nChange-Id: Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b\n'}, {'number': 2, 'created': '2022-05-18 15:29:14.000000000', 'files': ['manifests/profile/base/nova/libvirt.pp', 'spec/classes/tripleo_profile_base_nova_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74fb1e4dfec9d9bd87ad6668d2fe9310f738932c', 'message': 'Nova: Drop unused logic to remove the libvirt default network\n\nThis logic is no longer used since we introduced containerized libvirt\ndaemon and would block implementing the same in puppet-nova.\n\nChange-Id: Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b\n'}]",0,842375,74fb1e4dfec9d9bd87ad6668d2fe9310f738932c,9,6,2,9816,,,0,"Nova: Drop unused logic to remove the libvirt default network

This logic is no longer used since we introduced containerized libvirt
daemon and would block implementing the same in puppet-nova.

Change-Id: Ib67747f68976e3bbce8b0ca3f0cc3747a1163c6b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/842375/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/libvirt.pp', 'spec/classes/tripleo_profile_base_nova_libvirt_spec.rb']",2,74b198675548084abfac8156544f45ab91ec22fc,,, is_expected.to_not contain_file('/etclibvirt/qemu/networks/autostart/default.xml') is_expected.to_not contain_file('/etclibvirt/qemu/networks/default.xml') is_expected.to_not contain_exec('libvirt-default-net-destroy') is_expected.to contain_file('/etc/libvirt/qemu/networks/autostart/default.xml').with_ensure('absent') is_expected.to contain_file('/etc/libvirt/qemu/networks/default.xml').with_ensure('absent') is_expected.to contain_exec('libvirt-default-net-destroy') is_expected.to contain_file('/etc/libvirt/qemu/networks/autostart/default.xml').with_ensure('absent') is_expected.to contain_file('/etc/libvirt/qemu/networks/default.xml').with_ensure('absent') is_expected.to contain_exec('libvirt-default-net-destroy') is_expected.to contain_file('/etc/libvirt/qemu/networks/autostart/default.xml').with_ensure('absent') is_expected.to contain_file('/etc/libvirt/qemu/networks/default.xml').with_ensure('absent') is_expected.to contain_exec('libvirt-default-net-destroy') is_expected.to contain_file('/etc/libvirt/qemu/networks/autostart/default.xml').with_ensure('absent') is_expected.to contain_file('/etc/libvirt/qemu/networks/default.xml').with_ensure('absent') is_expected.to contain_exec('libvirt-default-net-destroy'),0,35
openstack%2Fpuppet-tripleo~master~Icc23208945304913cdaeede703c486064646379a,openstack/puppet-tripleo,master,Icc23208945304913cdaeede703c486064646379a,Redis required for designate central service,MERGED,2022-02-28 19:22:29.000000000,2022-05-25 21:24:15.000000000,2022-05-25 21:24:15.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-28 19:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/42a6697ad1be4f8b6e629e247a924d2e56deb749', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 2, 'created': '2022-03-01 18:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ec52f4de863bc8e5519a353f26ef03467e749c51', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 3, 'created': '2022-03-14 14:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/937399c390c2e5cd75046a05560b71c6d3e8915a', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 4, 'created': '2022-03-14 15:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dc2ada3ff455fef96ab02d1c2c2e40b2a7e160c9', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 5, 'created': '2022-03-14 18:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c742af9cca835e32cee4e6c62ccbbc93373d0468', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 6, 'created': '2022-04-25 16:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/89c32cd4efe44a418fa3df36392a90c0ef5ced5c', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 7, 'created': '2022-04-25 16:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e5e30ad03d436d44508e546349f9f49b9e8a40d9', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 8, 'created': '2022-04-25 17:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e1c2bac1437a49d3f155fd9482837bd6cd13c493', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 9, 'created': '2022-05-12 14:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3072e2624862836d1471d1caa69bd617b10c15c6', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 10, 'created': '2022-05-13 13:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c9ddcd12835cf2b92c4d5e5d86a7eda1cf81f3f6', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 11, 'created': '2022-05-13 16:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fb1979b3b5a3945ded662d21930dfbcdd1f12fd6', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 12, 'created': '2022-05-16 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6b70bd2a9606effd632caca935a43df44b999830', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 13, 'created': '2022-05-23 16:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3c201a1c37a06f3de98d1da9268765af9e5f19d', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 14, 'created': '2022-05-23 16:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bf3e5dc7f795a368a743f0392c04ec7495d3bb6f', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 15, 'created': '2022-05-23 17:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe77f1b1b4554877267a3076429a658fb518399d', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}, {'number': 16, 'created': '2022-05-23 23:07:55.000000000', 'files': ['spec/classes/tripleo_profile_base_designate_coordination_spec.rb', 'manifests/profile/base/designate/coordination.pp', 'spec/classes/tripleo_profile_base_designate_central_spec.rb', 'manifests/profile/base/designate/producer.pp', 'spec/classes/tripleo_profile_base_designate_producer_spec.rb', 'manifests/profile/base/designate/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/948540288cd3fc5c62bab0d6bffb5ac58078c4f2', 'message': 'Redis required for designate central service\n\nDesignate central uses redis to improve task coordination under load.\n\nChange-Id: Icc23208945304913cdaeede703c486064646379a\n'}]",11,831271,948540288cd3fc5c62bab0d6bffb5ac58078c4f2,51,9,16,6681,,,0,"Redis required for designate central service

Designate central uses redis to improve task coordination under load.

Change-Id: Icc23208945304913cdaeede703c486064646379a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/71/831271/16 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_designate_central_spec.rb', 'manifests/profile/base/designate/central.pp']",2,42a6697ad1be4f8b6e629e247a924d2e56deb749,,"# [*designate_redis_password*] # (Optional) Password for the neutron redis user for the coordination url # Defaults to hiera('designate_redis_password', undef), # # [*redis_vip*] # (Optional) Redis ip address for the coordination url # Defaults to hiera('redis_vip', undef), # $designate_redis_password = hiera('designate_redis_password', undef), $redis_vip = hiera('redis_vip', undef), if $redis_vip { class { 'designate::coordination': backend_url => join(['redis://:', $designate_redis_password, '@', normalize_ip_for_uri($redis_vip), ':6379/', $tls_query_param]) } }",,20,0
openstack%2Ftripleo-heat-templates~master~If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e,openstack/tripleo-heat-templates,master,If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e,Disable crl file in non-pacemaker haproxy too,MERGED,2022-05-04 11:34:51.000000000,2022-05-25 21:24:12.000000000,2022-05-25 21:24:12.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 11:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93d0bcad493f4b1a7fc9e0d63d7243169c38570b', 'message': ""Disable crl file in non-pacemaker haproxy too\n\nThis is currently failing because the crl file does not exist:\n    'unable to load /etc/pki/CA/crl/overcloud-crl.pem'\n\nIt is already disable for pacemaker haproxy so for now disable it for\nthe non-pacemaker haproxy too.\n\nChange-Id: If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e\n""}, {'number': 2, 'created': '2022-05-04 11:36:43.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0a3385657081cbeffd298e191e609cf30a5d7a6', 'message': ""Disable crl file in non-pacemaker haproxy too\n\nThis is currently failing because the crl file does not exist:\n    'unable to load /etc/pki/CA/crl/overcloud-crl.pem'\n\nIt is already disabled for pacemaker haproxy so for now disable it for\nthe non-pacemaker haproxy too.\n\nChange-Id: If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e\n""}]",7,840443,e0a3385657081cbeffd298e191e609cf30a5d7a6,11,8,2,23811,,,0,"Disable crl file in non-pacemaker haproxy too

This is currently failing because the crl file does not exist:
    'unable to load /etc/pki/CA/crl/overcloud-crl.pem'

It is already disabled for pacemaker haproxy so for now disable it for
the non-pacemaker haproxy too.

Change-Id: If39af7eaaa90ec707a28214fbe650d0b0d5f9c2e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/840443/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",2,93d0bcad493f4b1a7fc9e0d63d7243169c38570b,, # disable the use CRL file until we can restart the container when the file expires tripleo::haproxy::crl_file: null, tripleo::haproxy::crl_file: {get_param: InternalTLSCRLPEMFile},2,3
openstack%2Fcinder~stable%2Fxena~Ic2da41f3962c1108f974aca952bce3da6d6ac277,openstack/cinder,stable/xena,Ic2da41f3962c1108f974aca952bce3da6d6ac277,Prohibit volume manage to an encrypted volume type,MERGED,2022-03-25 12:01:03.000000000,2022-05-25 21:21:06.000000000,2022-05-25 21:18:16.000000000,"[{'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-03-25 12:01:03.000000000', 'files': ['cinder/tests/functional/test_volumes.py', 'cinder/tests/functional/api/client.py', 'cinder/api/contrib/volume_manage.py', 'releasenotes/notes/bug-1944577-no-manage-to-encrypted-type-b5b5d7f8360f037f.yaml', 'api-ref/source/v3/volume-manage.inc', 'cinder/tests/unit/api/v3/test_volume_manage.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd12492f32c8c0796c79fec430912045fbee52bd', 'message': ""Prohibit volume manage to an encrypted volume type\n\nManaging a volume to an encrypted volume type should not be allowed.\nOne reason is that there is no way for an operator to specify an\nencryption key ID for the volume. Another is that we already don't\nallow a volume of an encrypted type to be un-managed, so this change\nwill be symmetric.\n\nAlso update and correct the api-ref for this call.\n\nCo-authored-by: xuan <xuanyd@outlook.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ic2da41f3962c1108f974aca952bce3da6d6ac277\nCloses-bug: #1944577\n(cherry picked from commit 8088dc9580356ca51581c56888c9022848f543b1)\nchange:\n  cinder/tests/unit/api/contrib/test_volume_manage.py - used a\n  feature of unittest.mock that was introduced in py38; rewritten to\n  be compatible with py36\n(cherry picked from commit 9c1aa92b9578c1dc1d63d4d9124d873438d495eb)\n""}]",4,835140,dd12492f32c8c0796c79fec430912045fbee52bd,25,4,1,5314,,,0,"Prohibit volume manage to an encrypted volume type

Managing a volume to an encrypted volume type should not be allowed.
One reason is that there is no way for an operator to specify an
encryption key ID for the volume. Another is that we already don't
allow a volume of an encrypted type to be un-managed, so this change
will be symmetric.

Also update and correct the api-ref for this call.

Co-authored-by: xuan <xuanyd@outlook.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ic2da41f3962c1108f974aca952bce3da6d6ac277
Closes-bug: #1944577
(cherry picked from commit 8088dc9580356ca51581c56888c9022848f543b1)
change:
  cinder/tests/unit/api/contrib/test_volume_manage.py - used a
  feature of unittest.mock that was introduced in py38; rewritten to
  be compatible with py36
(cherry picked from commit 9c1aa92b9578c1dc1d63d4d9124d873438d495eb)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/835140/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/test_volumes.py', 'cinder/tests/functional/api/client.py', 'cinder/api/contrib/volume_manage.py', 'releasenotes/notes/bug-1944577-no-manage-to-encrypted-type-b5b5d7f8360f037f.yaml', 'api-ref/source/v3/volume-manage.inc', 'cinder/tests/unit/api/v3/test_volume_manage.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py', 'cinder/volume/api.py']",8,dd12492f32c8c0796c79fec430912045fbee52bd,bug/1909207-stable/yoga-stable/xena," if not volume_type: try: volume_type = volume_types.get_default_volume_type(context) except exception.VolumeTypeDefaultMisconfiguredError: LOG.error('Default volume type not found. This must be ' 'corrected immediately or all volume-create ' 'requests that do not specify a volume type ' 'will fail.') raise is_encrypted = False if volume_type: is_encrypted = volume_types.is_encrypted(context, volume_type['id']) if is_encrypted: msg = _(""Managing to an encrypted volume type is not supported."") LOG.error(msg) raise exception.InvalidVolumeType(msg)",,230,5
openstack%2Fcinder~stable%2Fyoga~I3c0e365f5dc3c32975343f538c6029f02ac7c2b5,openstack/cinder,stable/yoga,I3c0e365f5dc3c32975343f538c6029f02ac7c2b5,Don't destroy existing backup by mistake on import,MERGED,2022-05-14 01:30:00.000000000,2022-05-25 21:19:55.000000000,2022-05-25 21:18:19.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-05-14 01:30:00.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1965847-fix-backup-import-3b3ccdf740a13cff.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/753c0224631e218c860e48722520e9ad384ca2f4', 'message': ""Don't destroy existing backup by mistake on import\n\nWe're supposed to fail an import request for an already existing\nbackup, but the current code confuses an existing backup record with\none we created for the import, and during quota rollback, will\ndestroy either one.  Simplify the logic so that we check whether\nthere's an already existing backup first and bail without even\nbothering to make an unnecessary reservation, hence leaving us nothing\nto roll back or delete by mistake.\n\nAlso revise and add tests.\n\nCloses-bug: #1965847\nChange-Id: I3c0e365f5dc3c32975343f538c6029f02ac7c2b5\n(cherry picked from commit 6386cbb0a0b6cbf05ce625c5b1b680f4259bde2e)\n""}]",4,841745,753c0224631e218c860e48722520e9ad384ca2f4,28,3,1,5314,,,0,"Don't destroy existing backup by mistake on import

We're supposed to fail an import request for an already existing
backup, but the current code confuses an existing backup record with
one we created for the import, and during quota rollback, will
destroy either one.  Simplify the logic so that we check whether
there's an already existing backup first and bail without even
bothering to make an unnecessary reservation, hence leaving us nothing
to roll back or delete by mistake.

Also revise and add tests.

Closes-bug: #1965847
Change-Id: I3c0e365f5dc3c32975343f538c6029f02ac7c2b5
(cherry picked from commit 6386cbb0a0b6cbf05ce625c5b1b680f4259bde2e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/841745/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1965847-fix-backup-import-3b3ccdf740a13cff.yaml']",4,753c0224631e218c860e48722520e9ad384ca2f4,bug/1965847-stable/yoga,--- fixes: - | `Bug #1965847 <https://bugs.launchpad.net/cinder/+bug/1965847>`_: Fixed issue where importing a backup record for a backup_id that currently existed had the unfortunate side effect of deleting the existing backup record. ,,111,23
openstack%2Fcinder~stable%2Fwallaby~Ib6a2e4d68e532b91161df5245c17ce815f12f935,openstack/cinder,stable/wallaby,Ib6a2e4d68e532b91161df5245c17ce815f12f935,Prevent temporary volume from being deleted accidentally,MERGED,2022-02-28 17:54:57.000000000,2022-05-25 21:19:51.000000000,2022-05-25 21:18:09.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-02-28 17:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac6e215e8bb2fa6f5c3503b20504b4dd0fc6c184', 'message': ""Prevent temporal volume for backup from being deleted\n\nThis change sets 'backing-up' to a volume state of a temporal volume for\nbackup instead of 'available'. This prevents the temporal volume from\nbeing deleted during backup by DELETE API.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 2, 'created': '2022-05-12 13:37:13.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1970768-temp-vol-delete-6586a13f08d7a5c1.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/553264535dc34f676ff4db3c77e1869c1fb3c6b7', 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nCloses-Bug: #1970768\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)\n(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)\n(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)\nConflicts:\n\tcinder/volume/manager.py\n""}]",5,831187,553264535dc34f676ff4db3c77e1869c1fb3c6b7,41,5,2,7130,,,0,"Prevent temporary volume from being deleted accidentally

A temporary volume can be deleted while it is in use by DELETE API
accidentally because its status is `available`. To avoid this deletion,
this fix sets a value which doesn't accept deletion to volume status of
a temporary volume. When a temporary volume is used for backing up,
`backing-up` is set. When a temporary volume is used for reverting a
snapshot, `in-use` is set because the volume is attached by a host.

Closes-Bug: #1970768
Change-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935
(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)
(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)
(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)
Conflicts:
	cinder/volume/manager.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/831187/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py']",3,ac6e215e8bb2fa6f5c3503b20504b4dd0fc6c184,backup-temp-volume," self.assertEqual('backing-up', temp_vol['status']) self.assertEqual('backing-up', temp_vol['status'])"," self.assertEqual('available', temp_vol['status']) self.assertEqual('available', temp_vol['status'])",6,6
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I96d4bfce84ffe36d476e3383ee264cea6fd93c24,openstack/python-tripleoclient,stable/wallaby,I96d4bfce84ffe36d476e3383ee264cea6fd93c24,Mocking utils.check_deploy_backups in OvercloudDeploy tests,MERGED,2022-05-06 08:51:45.000000000,2022-05-25 21:12:11.000000000,2022-05-25 21:10:35.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-06 08:51:45.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9d3fa0a2efa17e4c9953e846d206cc0ddc0ef4c2', 'message': 'Mocking utils.check_deploy_backups in OvercloudDeploy tests\n\nThe `check_deploy_backups` makes calls to `stat` which can potentially\nlead to I/O error in testing scenarios when the relevant file is\nremoved after path retrieval but before `stat` is called.\n\nThis can lead to tox test failure, in both CI and local environments.\nMocking the utils.check_deploy_backups in tests where it is indirectly\ncalled should alleviate the problem.\n\nLong term solution would be mocking all built in functions performing I/O calls by default.\n\nCloses-Bug: #1969425\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I96d4bfce84ffe36d476e3383ee264cea6fd93c24\n(cherry picked from commit 1a59023772d23c3c870621f02657536a4da57e42)\n'}]",0,840838,9d3fa0a2efa17e4c9953e846d206cc0ddc0ef4c2,9,5,1,32926,,,0,"Mocking utils.check_deploy_backups in OvercloudDeploy tests

The `check_deploy_backups` makes calls to `stat` which can potentially
lead to I/O error in testing scenarios when the relevant file is
removed after path retrieval but before `stat` is called.

This can lead to tox test failure, in both CI and local environments.
Mocking the utils.check_deploy_backups in tests where it is indirectly
called should alleviate the problem.

Long term solution would be mocking all built in functions performing I/O calls by default.

Closes-Bug: #1969425

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I96d4bfce84ffe36d476e3383ee264cea6fd93c24
(cherry picked from commit 1a59023772d23c3c870621f02657536a4da57e42)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/840838/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py'],1,9d3fa0a2efa17e4c9953e846d206cc0ddc0ef4c2,," mock_check_deploy_backups = mock.patch( 'tripleoclient.utils.check_deploy_backups', autospec=True) mock_check_deploy_backups.start() self.addCleanup(mock_check_deploy_backups.stop) ",,5,0
openstack%2Fdesignate~stable%2Fwallaby~I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,openstack/designate,stable/wallaby,I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,Improve quota API validations,MERGED,2022-05-24 17:32:07.000000000,2022-05-25 20:48:44.000000000,2022-05-25 20:47:21.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-24 17:32:07.000000000', 'files': ['designate/tests/__init__.py', 'designate/common/constants.py', 'designate/tests/test_quota/test_storage.py', 'designate/tests/unit/objects/test_quota.py', 'designate/objects/quota.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2e55c3e24bfaf1b03241aa1a4a538d03c29d69ad', 'message': 'Improve quota API validations\n\nThis patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).\n\nCloses-Bug: #1934596\nChange-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf\n(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)\n'}]",2,843179,2e55c3e24bfaf1b03241aa1a4a538d03c29d69ad,9,4,1,11628,,,0,"Improve quota API validations

This patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).

Closes-Bug: #1934596
Change-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf
(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)
",git fetch https://review.opendev.org/openstack/designate refs/changes/79/843179/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/common/constants.py', 'designate/tests/test_quota/test_storage.py', 'designate/tests/unit/objects/test_quota.py', 'designate/objects/quota.py']",5,2e55c3e24bfaf1b03241aa1a4a538d03c29d69ad,bug/1934596,"from designate.common import constants 'resource': fields.EnumField(nullable=True, valid_values=constants.VALID_QUOTAS), 'hard_limit': fields.IntegerFields(nullable=True, minimum=constants.MIN_QUOTA, maximum=constants.MAX_QUOTA)"," 'resource': fields.AnyField(nullable=True), 'hard_limit': fields.AnyField(nullable=True)",167,31
openstack%2Fdesignate~stable%2Fyoga~I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,openstack/designate,stable/yoga,I474bdd988a6cc3a9bcce1b65c2f49216dd85addf,Improve quota API validations,MERGED,2022-05-24 17:21:23.000000000,2022-05-25 20:15:41.000000000,2022-05-25 20:14:23.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-24 17:21:23.000000000', 'files': ['designate/tests/__init__.py', 'designate/common/constants.py', 'designate/tests/test_quota/test_storage.py', 'designate/tests/unit/objects/test_quota.py', 'designate/objects/quota.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/8f5e8db10082b83e1667e4e06f4c1f2a4a80d142', 'message': 'Improve quota API validations\n\nThis patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).\n\nCloses-Bug: #1934596\nChange-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf\n(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)\n'}]",2,843177,8f5e8db10082b83e1667e4e06f4c1f2a4a80d142,9,4,1,11628,,,0,"Improve quota API validations

This patch improves the quotas API validations and test coverage. Invalid quota settings will now be caught at the API/Central layer and not down in the storage layer(DB).

Closes-Bug: #1934596
Change-Id: I474bdd988a6cc3a9bcce1b65c2f49216dd85addf
(cherry picked from commit 38178c079a1a66229f06becbd7b60a749879c4a6)
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/843177/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/common/constants.py', 'designate/tests/test_quota/test_storage.py', 'designate/tests/unit/objects/test_quota.py', 'designate/objects/quota.py']",5,8f5e8db10082b83e1667e4e06f4c1f2a4a80d142,bug/1934596,"from designate.common import constants 'resource': fields.EnumField(nullable=True, valid_values=constants.VALID_QUOTAS), 'hard_limit': fields.IntegerFields(nullable=True, minimum=constants.MIN_QUOTA, maximum=constants.MAX_QUOTA)"," 'resource': fields.AnyField(nullable=True), 'hard_limit': fields.AnyField(nullable=True)",167,31
openstack%2Fopenstack-ansible-tests~stable%2Fwallaby~I4c8a605d22fff6e30bdd9f7d87477f1803421468,openstack/openstack-ansible-tests,stable/wallaby,I4c8a605d22fff6e30bdd9f7d87477f1803421468,Fix rich version for repos that don't have test-requirements,MERGED,2022-05-24 17:11:43.000000000,2022-05-25 20:03:12.000000000,2022-05-25 20:01:49.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-05-24 17:11:43.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e69fe8fc6ef1238089f4a067ca7bf133e170f00a', 'message': ""Fix rich version for repos that don't have test-requirements\n\nCurrently we assume that all repos that run linter jobs have\ntest-requirements.txt. But due to this linters are still broken for\nrepos which don't have test-requirements.\n\nSo we move rich version to more generic place.\n\nChange-Id: I4c8a605d22fff6e30bdd9f7d87477f1803421468\n""}]",1,843175,e69fe8fc6ef1238089f4a067ca7bf133e170f00a,12,3,1,28619,,,0,"Fix rich version for repos that don't have test-requirements

Currently we assume that all repos that run linter jobs have
test-requirements.txt. But due to this linters are still broken for
repos which don't have test-requirements.

So we move rich version to more generic place.

Change-Id: I4c8a605d22fff6e30bdd9f7d87477f1803421468
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/75/843175/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,e69fe8fc6ef1238089f4a067ca7bf133e170f00a,," PIP_OPTS+="" --requirement ${WORKING_DIR}/test-requirements.txt""PIP_OPTS+="" --requirement ${COMMON_TESTS_PATH}/test-requirements.txt rich>=9.5.1,<11.0.0"""," PIP_OPTS+="" --requirement ${WORKING_DIR}/test-requirements.txt rich>=9.5.1,<11.0.0""PIP_OPTS+="" --requirement ${COMMON_TESTS_PATH}/test-requirements.txt""",2,2
openstack%2Fpython-manilaclient~master~I56af42c6c3ece862747ddb62cd1eabdf608b9411,openstack/python-manilaclient,master,I56af42c6c3ece862747ddb62cd1eabdf608b9411,"Avoid using ""force"" kwarg in extend API",MERGED,2022-05-24 21:27:37.000000000,2022-05-25 19:43:31.000000000,2022-05-25 19:41:53.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-24 21:27:37.000000000', 'files': ['manilaclient/v2/shares.py', 'releasenotes/notes/bug-1975488-skip-force-kwarg-if-unspecified-f98c717df1d6e364.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/db8eafd838c603407d86b13e226d8d8b028b595e', 'message': 'Avoid using ""force"" kwarg in extend API\n\nThe extend API was enhanced with API version\n2.64 to support a ""force"" argument; It\'s possible\nthat clients are using older microversions\nwhen interacting with the manilaclient SDK;\nby mandating the use of the ""force"" kwarg,\nwe introduce a regression. The ""ShareManager""\nclass has microversioned ""extend"" APIs,\nsome of which do not accept the ""force"" kwarg.\n\nChange-Id: I56af42c6c3ece862747ddb62cd1eabdf608b9411\nRelated-Bug: #1855391\nCloses-Bug: #1975488\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,843215,db8eafd838c603407d86b13e226d8d8b028b595e,12,3,1,16643,,,0,"Avoid using ""force"" kwarg in extend API

The extend API was enhanced with API version
2.64 to support a ""force"" argument; It's possible
that clients are using older microversions
when interacting with the manilaclient SDK;
by mandating the use of the ""force"" kwarg,
we introduce a regression. The ""ShareManager""
class has microversioned ""extend"" APIs,
some of which do not accept the ""force"" kwarg.

Change-Id: I56af42c6c3ece862747ddb62cd1eabdf608b9411
Related-Bug: #1855391
Closes-Bug: #1975488
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/15/843215/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/v2/shares.py', 'releasenotes/notes/bug-1975488-skip-force-kwarg-if-unspecified-f98c717df1d6e364.yaml']",2,db8eafd838c603407d86b13e226d8d8b028b595e,bug/1975488,"--- fixes: - | Fixed a regression with the use of the ""force"" keyword in the ""extend"" API in the Share resource. See `LP #1975488 <https://launchpad.net/bugs/1975488>`_ for more details. ",,8,2
openstack%2Fpython-manilaclient~master~Ifca6fb788369b7b02ffae59cedae5604ca6335af,openstack/python-manilaclient,master,Ifca6fb788369b7b02ffae59cedae5604ca6335af,"Add functional tests for ""os share limits show""",MERGED,2022-05-17 20:33:29.000000000,2022-05-25 19:31:30.000000000,2022-05-25 19:30:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-05-17 20:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/452114a9f2c098b55c033c6a2ae431cc986a0c64', 'message': 'Add functional tests for ""os share limits show""\n\nChange-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af\n'}, {'number': 2, 'created': '2022-05-17 20:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/86ed18cfcf3507397707b394c9b159f76e0c5d83', 'message': 'Add functional tests for ""os share limits show""\n\nChange-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af\n'}, {'number': 3, 'created': '2022-05-18 12:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6b53a295136f0b6277e12fbaf0896133c459786e', 'message': 'Add functional tests for ""os share limits show""\n\nChange-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af\n'}, {'number': 4, 'created': '2022-05-19 19:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/21d35faf03f7746757e1386955766a55be42154f', 'message': 'Add functional tests for ""os share limits show""\n\nChange-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af\n'}, {'number': 5, 'created': '2022-05-20 13:10:49.000000000', 'files': ['manilaclient/tests/functional/osc/test_share_limits.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4a2857a314c26d6baa542c48b49350f4164bb8b8', 'message': 'Add functional tests for ""os share limits show""\n\nChange-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af\n'}]",22,842228,4a2857a314c26d6baa542c48b49350f4164bb8b8,28,5,5,33301,,,0,"Add functional tests for ""os share limits show""

Change-Id: Ifca6fb788369b7b02ffae59cedae5604ca6335af
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/28/842228/5 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/functional/osc/test_share_limits.py', 'manilaclient/tests/functional/osc/base.py']",2,452114a9f2c098b55c033c6a2ae431cc986a0c64,osc-functional-tests," def limits_show(self, absolute=False, rate=False): cmd = 'limits show ' if absolute: cmd += '--absolute' if rate: cmd += '--rate' limits = self.listing_result('share', cmd) return limits ",,61,0
openstack%2Fpython-manilaclient~master~I67cce58586248110c37044ec413e70b555eb78a8,openstack/python-manilaclient,master,I67cce58586248110c37044ec413e70b555eb78a8,"Add functional tests for ""os share pool list""",MERGED,2022-05-16 18:34:17.000000000,2022-05-25 19:28:40.000000000,2022-05-25 19:27:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-05-16 18:34:17.000000000', 'files': ['manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/functional/osc/test_share_pools.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cb918d3027e6c8e7ed452259f498571bc060ec0d', 'message': 'Add functional tests for ""os share pool list""\n\nChange-Id: I67cce58586248110c37044ec413e70b555eb78a8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",7,841987,cb918d3027e6c8e7ed452259f498571bc060ec0d,12,3,1,16643,,,0,"Add functional tests for ""os share pool list""

Change-Id: I67cce58586248110c37044ec413e70b555eb78a8
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/87/841987/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/functional/osc/test_share_pools.py']",2,cb918d3027e6c8e7ed452259f498571bc060ec0d,osc-functional-tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from manilaclient.tests.functional.osc import base class ListSharePoolsTestCase(base.OSCClientTestBase): def test_pool_list(self): pools = self.list_pools() self.assertTableStruct(pools, [ 'Name', 'Host', 'Backend', 'Pool' ]) self.assertTrue(len(pools) > 0) # Filter results first_pool = pools[0] pools = self.list_pools(backend=first_pool['Backend'], host=first_pool['Host'], pool=first_pool['Pool']) self.assertEqual(1, len(pools)) self.assertEqual(first_pool['Name'], pools[0]['Name']) def test_pool_list_detail(self): pools = self.list_pools(detail=True) self.assertTableStruct(pools, [ 'Name', 'Host', 'Backend', 'Pool', 'Capabilities' ]) self.assertTrue(len(pools) > 0) ",,62,0
openstack%2Fopenstack-ansible-repo_server~master~I11eb3f3208cbe3858b642dd86145a806983c692b,openstack/openstack-ansible-repo_server,master,I11eb3f3208cbe3858b642dd86145a806983c692b,Add infra upgrade jobs,MERGED,2022-05-25 13:37:31.000000000,2022-05-25 18:42:01.000000000,2022-05-25 18:39:11.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-25 13:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a85856686aca7815faa93df43b076a9610dd48a2', 'message': 'Add infra upgrade jobs\n\nRepo server has complexity with glusterfs and migration path from\nlsyncd so we should cover this with an upgrade job.\n\nChange-Id: I11eb3f3208cbe3858b642dd86145a806983c692b\n'}, {'number': 2, 'created': '2022-05-25 14:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/8dd2d1a0725ee793b8850f68056b911297daebe9', 'message': 'Add infra upgrade jobs\n\nRepo server has complexity with glusterfs and migration path from\nlsyncd so we should cover this with an upgrade job.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843267/\nChange-Id: I11eb3f3208cbe3858b642dd86145a806983c692b\n'}, {'number': 3, 'created': '2022-05-25 15:03:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/961ceb258dd10e935ee864c26fce227884146bbe', 'message': 'Add infra upgrade jobs\n\nRepo server has complexity with glusterfs and migration path from\nlsyncd so we should cover this with an upgrade job.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843267/\nChange-Id: I11eb3f3208cbe3858b642dd86145a806983c692b\n'}]",2,843284,961ceb258dd10e935ee864c26fce227884146bbe,12,3,3,25023,,,0,"Add infra upgrade jobs

Repo server has complexity with glusterfs and migration path from
lsyncd so we should cover this with an upgrade job.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843267/
Change-Id: I11eb3f3208cbe3858b642dd86145a806983c692b
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/84/843284/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a85856686aca7815faa93df43b076a9610dd48a2,, - openstack-ansible-upgrade-infra_lxc-jobs,,1,0
openstack%2Fopenstack-ansible~master~I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089,openstack/openstack-ansible,master,I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089,Update repo verification file URI,MERGED,2022-05-19 16:32:50.000000000,2022-05-25 18:37:48.000000000,2022-05-25 18:36:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-19 16:32:50.000000000', 'files': ['playbooks/defaults/source_install.yml', 'playbooks/healthcheck-infrastructure.yml', 'inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f67370f568abd72564e8f3de8982703e6bfac63b', 'message': ""Update repo verification file URI\n\nSince we're creating a symlink to the U-C file to have a consistent\nfilename for it, it makes sense to verify this file for simplicity.\nWith migration to gluster we also should change verification URI\nfor HaProxy, which we also set to u-c link.\n\nWith that we also somehow solve issue when u-c can't be fetched when SHA\nis updated, but repo-server role wasn't re-ran.\n\nCloses-Bug: #1943978\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/842567\nChange-Id: I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089\n""}]",4,842571,f67370f568abd72564e8f3de8982703e6bfac63b,16,3,1,28619,,,0,"Update repo verification file URI

Since we're creating a symlink to the U-C file to have a consistent
filename for it, it makes sense to verify this file for simplicity.
With migration to gluster we also should change verification URI
for HaProxy, which we also set to u-c link.

With that we also somehow solve issue when u-c can't be fetched when SHA
is updated, but repo-server role wasn't re-ran.

Closes-Bug: #1943978
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/842567
Change-Id: I23ac2ec3246cbae50d30815fbd3bdcc4da7d7089
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/842571/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/source_install.yml', 'playbooks/healthcheck-infrastructure.yml', 'inventory/group_vars/haproxy/haproxy.yml']",3,f67370f568abd72564e8f3de8982703e6bfac63b,bug/1943978," - ""httpchk GET /constraints/upper_constraints_cached.txt HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"""," - ""httpchk GET /repo_sync_complete HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck""",3,5
openstack%2Fpython-designateclient~master~I5eba32440c707107a6a9b69ef94bb47c5a5035fa,openstack/python-designateclient,master,I5eba32440c707107a6a9b69ef94bb47c5a5035fa,Update python jobs to zed template,MERGED,2022-05-25 07:27:36.000000000,2022-05-25 18:35:13.000000000,2022-05-25 18:32:28.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-25 07:27:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/b7ad25ba98006ebc2746fc13ab576c9d47ea3597', 'message': 'Update python jobs to zed template\n\nChange-Id: I5eba32440c707107a6a9b69ef94bb47c5a5035fa\n'}]",1,843244,b7ad25ba98006ebc2746fc13ab576c9d47ea3597,8,3,1,13252,,,0,"Update python jobs to zed template

Change-Id: I5eba32440c707107a6a9b69ef94bb47c5a5035fa
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/44/843244/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b7ad25ba98006ebc2746fc13ab576c9d47ea3597,drop-py36, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fpuppet-tripleo~master~I11ff84f94db06dfd84ecd80ebb09c2a2076758eb,openstack/puppet-tripleo,master,I11ff84f94db06dfd84ecd80ebb09c2a2076758eb,Metrics/QDR: Replace hiera by lookup,MERGED,2022-05-10 01:19:39.000000000,2022-05-25 18:26:00.000000000,2022-05-25 18:26:00.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 01:19:39.000000000', 'files': ['manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/collectd_service.pp', 'manifests/profile/base/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9be30d134b055921039dac4b2b4b2c32775c817b', 'message': 'Metrics/QDR: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I11ff84f94db06dfd84ecd80ebb09c2a2076758eb\n'}]",2,841185,9be30d134b055921039dac4b2b4b2c32775c817b,16,4,1,9816,,,0,"Metrics/QDR: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I11ff84f94db06dfd84ecd80ebb09c2a2076758eb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/841185/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/collectd_service.pp', 'manifests/profile/base/qdr.pp']",4,9be30d134b055921039dac4b2b4b2c32775c817b,tripleo-hiera-v5,"# Defaults to lookup('oslo_messaging_rpc_node_names', undef, undef, undef)# Defaults to Integer(lookup('step')) $oslomsg_rpc_hosts = lookup('oslo_messaging_rpc_node_names', undef, undef, undef), $step = Integer(lookup('step')),","# Defaults to hiera('oslo_messaging_rpc_node_names', undef)# Defaults to hiera('step') $oslomsg_rpc_hosts = hiera('oslo_messaging_rpc_node_names', undef), $step = Integer(hiera('step')),",17,16
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idae2ba0cd9a35044c124a6d05ee050e10adde60e,openstack/tripleo-heat-templates,stable/wallaby,Idae2ba0cd9a35044c124a6d05ee050e10adde60e,Ceilometer: Remove incomplete cache parameters,MERGED,2022-03-17 13:13:16.000000000,2022-05-25 18:25:57.000000000,2022-05-25 18:25:57.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-17 13:13:16.000000000', 'files': ['deployment/ceilometer/ceilometer-base-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2aa408f465015c0e99f269da779ef19c68300534', 'message': 'Ceilometer: Remove incomplete cache parameters\n\nCurrently when TLS for memcached service is enabled, caching in\nceilometer is enabled.\n\nHowever the configuration is incomplete and the pymemcache backend is\nused with no actual backend server.\n\nThis change removes the cache parameters completely, as we had never\nenabled caching in Ceilometer previously.\n\n(to wallaby)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable/wallaby\n\n4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1\nAllow tuning rpc_response_timeout\n\n263fee246a4214f4c56c675cd1245ea77a3cd9ea\nEnsure db initialization is not executed by puppet\n\nCloses-Bug: #1964873\nChange-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e\n(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)\n'}]",2,834165,2aa408f465015c0e99f269da779ef19c68300534,20,4,1,9816,,,0,"Ceilometer: Remove incomplete cache parameters

Currently when TLS for memcached service is enabled, caching in
ceilometer is enabled.

However the configuration is incomplete and the pymemcache backend is
used with no actual backend server.

This change removes the cache parameters completely, as we had never
enabled caching in Ceilometer previously.

(to wallaby)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Resolved conflicts caused by the following two changes which are not
present in stable/wallaby

4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1
Allow tuning rpc_response_timeout

263fee246a4214f4c56c675cd1245ea77a3cd9ea
Ensure db initialization is not executed by puppet

Closes-Bug: #1964873
Change-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e
(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/834165/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,2aa408f465015c0e99f269da779ef19c68300534,bug/1964873-stable/wallaby,," MemcachedTLS: default: false description: Set to True to enable TLS on Memcached service. Because not all services support Memcached TLS, during the migration period, Memcached will listen on 2 ports - on the port set with MemcachedPort parameter (above) and on 11211, without TLS. type: boolean - if: - {get_param: MemcachedTLS} - ceilometer::cache_backend: 'dogpile.cache.pymemcache' ceilometer::cache_tls_enabled: true",0,12
openstack%2Fcliff~master~I328d2e7843e3ba62a6de4ef221c4f8564a64f234,openstack/cliff,master,I328d2e7843e3ba62a6de4ef221c4f8564a64f234,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 07:50:32.000000000,2022-05-25 18:10:26.000000000,2022-05-25 18:07:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 07:50:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/fbff6de978fefa8272f7ef0c0fd39599062d4867', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I328d2e7843e3ba62a6de4ef221c4f8564a64f234\n""}]",0,787931,fbff6de978fefa8272f7ef0c0fd39599062d4867,8,2,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I328d2e7843e3ba62a6de4ef221c4f8564a64f234
",git fetch https://review.opendev.org/openstack/cliff refs/changes/31/787931/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fbff6de978fefa8272f7ef0c0fd39599062d4867,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.orghome_page = https://docs.openstack.org/cliff/latest/ python_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.orghome-page = https://docs.openstack.org/cliff/latest/ python-requires = >=3.6,4,4
openstack%2Fcliff~stable%2Ftrain~Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,openstack/cliff,stable/train,Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,[Train-Only] Remove lower-constraints,MERGED,2022-01-28 11:37:05.000000000,2022-05-25 18:10:22.000000000,2022-05-25 18:07:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 11:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/618d1ab58e70a468dba3e3d6744f6249f1486289', 'message': ""[Train-Only] Remove lower-constraints\n\nThis is not part of the PTI and is currently broken. While discussions\nare ongoing about removing it from every project, there's a definite\nlean towards doing so. Let's do just that. We can re-add in the future\nif necessary.\n\nWhile we're here, we fix some indentation in 'tox.ini'.\n\nChange-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)\n(cherry picked from commit 37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc)\n(cherry picked from commit 64b388737983e3aa9c6f0f9dcc1eb71f78038bdc)\n""}, {'number': 2, 'created': '2022-01-31 10:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/adf3c7ebe19c84f049b41cdac5988a652d6012d4', 'message': ""[Train-Only] Remove lower-constraints\n\nThis is not part of the PTI and is currently broken. While discussions\nare ongoing about removing it from every project, there's a definite\nlean towards doing so. Let's do just that. We can re-add in the future\nif necessary.\n\nWhile we're here, we fix some indentation in 'tox.ini'.\n\nChange-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)\n(cherry picked from commit 37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc)\n(cherry picked from commit 64b388737983e3aa9c6f0f9dcc1eb71f78038bdc)\n""}, {'number': 3, 'created': '2022-02-01 15:54:19.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/f91e5d7656bfb782385b8ce7d27638c09680f99a', 'message': ""[Train-Only] Remove lower-constraints\n\nThis is not part of the PTI and is currently broken. While discussions\nare ongoing about removing it from every project, there's a definite\nlean towards doing so. Let's do just that. We can re-add in the future\nif necessary.\n\nWhile we're here, we fix some indentation in 'tox.ini'.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827155/\n\nChange-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)\n(cherry picked from commit 37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc)\n(cherry picked from commit 64b388737983e3aa9c6f0f9dcc1eb71f78038bdc)\n""}]",2,826876,f91e5d7656bfb782385b8ce7d27638c09680f99a,16,2,3,32926,,,0,"[Train-Only] Remove lower-constraints

This is not part of the PTI and is currently broken. While discussions
are ongoing about removing it from every project, there's a definite
lean towards doing so. Let's do just that. We can re-add in the future
if necessary.

While we're here, we fix some indentation in 'tox.ini'.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/827155/

Change-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)
(cherry picked from commit 37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc)
(cherry picked from commit 64b388737983e3aa9c6f0f9dcc1eb71f78038bdc)
",git fetch https://review.opendev.org/openstack/cliff refs/changes/76/826876/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,618d1ab58e70a468dba3e3d6744f6249f1486289,lower-constraints/removal, VIRTUAL_ENV={envdir} BRANCH_NAME=master CLIENT_NAME=cliff OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60, VIRTUAL_ENV={envdir} BRANCH_NAME=master CLIENT_NAME=cliff OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,6,50
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92,openstack/python-tripleoclient,stable/wallaby,Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92,Create Ceph pools/cephx keys before overcloud deploy,MERGED,2022-05-12 14:15:33.000000000,2022-05-25 18:01:50.000000000,2022-05-25 18:00:40.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-12 14:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2f21fe824f0c7fae32d31a7ec7c43204895125d', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n(cherry picked from commit d58fa71bafb87adbc7f00ab5dc87f9d2999b2432)\n""}, {'number': 2, 'created': '2022-05-12 14:54:43.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d8ad7ef73e687ca22ca0374bc70b5c0958840e9f', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nConflicts:\ntripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py\ntripleoclient/v2/overcloud_ceph.py\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n(cherry picked from commit d58fa71bafb87adbc7f00ab5dc87f9d2999b2432)\n""}]",5,841484,d8ad7ef73e687ca22ca0374bc70b5c0958840e9f,26,4,2,18002,,,0,"Create Ceph pools/cephx keys before overcloud deploy

Add new parameters --ceph-client-username, --ceph-client-key,
--skip-cephx-keys, and --ansible-extra-vars to 'openstack
overcloud ceph deploy' so that the user may create pools
and cephx keys for OpenStack to access them on the deployed
Ceph cluster. This is optional as 'openstack overcloud deploy'
will create the pools/cephx keys later, however the same
Ansible can now be called to do it earlier.

The --ansible-extra-vars option can override any variable
in tripleo-ansible when 'openstack overcloud ceph deploy'
is called. If the tripleo_cephadm_pools variable is set,
then cephx keys will be generated and exported to the
--output deployed_ceph.yaml. The user may also pass their
own cephx key and client username.

Conflicts:
tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py
tripleoclient/v2/overcloud_ceph.py

Depends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149
Change-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92
(cherry picked from commit d58fa71bafb87adbc7f00ab5dc87f9d2999b2432)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/841484/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",4,a2f21fe824f0c7fae32d31a7ec7c43204895125d,deployed_pools-stable/wallaby," extra_vars_file=mock.ANY,<<<<<<< HEAD (559cc8 Merge ""cephadm support for 'openstack overcloud export ceph') ======= @mock.patch('tripleoclient.utils.get_ceph_networks', autospect=True) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_deploy_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs, mock_get_ceph_networks): arglist = ['--yes', '--stack', 'overcloud', '--skip-user-create', '--skip-hosts-config', '--mon-ip', '127.0.0.1', '--ceph-spec', 'ceph_spec.yaml', '--cephadm-ssh-user', 'jimmy', '--output', 'deployed-ceph.yaml', '--container-namespace', 'quay.io/ceph', '--container-image', 'ceph', '--container-tag', 'latest'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, skip_tags='cephadm_ssh_user', reproduce_command=False, extra_vars_file=mock.ANY, extra_vars={ ""deployed_ceph_tht_path"": mock.ANY, ""working_dir"": mock.ANY, ""stack_name"": 'overcloud', ""tripleo_cephadm_standalone"": False, 'tripleo_roles_path': mock.ANY, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', 'tripleo_cephadm_cluster': 'ceph', 'dynamic_ceph_spec': False, 'ceph_spec_path': mock.ANY, 'tripleo_cephadm_container_ns': 'quay.io/ceph', 'tripleo_cephadm_container_image': 'ceph', 'tripleo_cephadm_container_tag': 'latest', 'tripleo_cephadm_ssh_user': 'jimmy', } ) >>>>>>> CHANGE (d58fa7 Create Ceph pools/cephx keys before overcloud deploy)<<<<<<< HEAD (559cc8 Merge ""cephadm support for 'openstack overcloud export ceph') ======= @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) def test_overcloud_deploy_ceph_no_metal(self, mock_abspath, mock_path_exists): arglist = ['--stack', 'overcloud', '--output', 'deployed-ceph.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.assertRaises(osc_lib_exc.CommandError, self.cmd.take_action, parsed_args) @mock.patch('tripleoclient.utils.get_ceph_networks', autospect=True) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_deploy_ceph_ansible_no_force(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs, mock_get_ceph_networks): arglist = ['deployed-metal.yaml', '--yes', '--ansible-extra-vars', 'foo.yml', '--output', 'deployed-ceph.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.assertRaises(osc_lib_exc.CommandError, self.cmd.take_action, parsed_args) >>>>>>> CHANGE (d58fa7 Create Ceph pools/cephx keys before overcloud deploy)",,251,0
openstack%2Fkayobe~master~I9150e32579421e46782518948188e1363918fb39,openstack/kayobe,master,I9150e32579421e46782518948188e1363918fb39,Fix forgotten hacluster regexp for image build,MERGED,2022-05-19 22:07:04.000000000,2022-05-25 18:00:50.000000000,2022-05-25 17:59:01.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-19 22:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b98af343a96e283ad3d504b36c6a6cba3d156277', 'message': ""Fix forgotten hacluster regexp for build images\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2022-05-20 11:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/810e14c051236910bcc23a2f97411fcc130112b0', 'message': ""Fix forgotten hacluster regexp for build images\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2022-05-20 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac337a8f955af5b50dad032b6f1340c0be2ef991', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2022-05-23 11:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3ef9ccb240f6dacea3bdae1e6cc37ffc2047ca1', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2022-05-25 12:34:53.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/hacluster-build-issue-2a8023e0cd80235a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3e7b01ad829e0c14396045cf147e719ad0a89ed2', 'message': ""Fix forgotten hacluster regexp for image build\n\nThe 'overcloud container image build' command didn't build all the\nhacluster images when hacluster is enabled.\n\nTrivialFix\n\nChange-Id: I9150e32579421e46782518948188e1363918fb39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",18,842639,3e7b01ad829e0c14396045cf147e719ad0a89ed2,38,4,5,14200,,,0,"Fix forgotten hacluster regexp for image build

The 'overcloud container image build' command didn't build all the
hacluster images when hacluster is enabled.

TrivialFix

Change-Id: I9150e32579421e46782518948188e1363918fb39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/39/842639/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,b98af343a96e283ad3d504b36c6a6cba3d156277,hacluster-build-issue," - regex: ^hacluster enabled: ""{{ kolla_enable_hacluster | bool }}""",,2,0
openstack%2Fpuppet-tripleo~master~I4d5659cca512a35b72823bc8f7a048bd1abb786d,openstack/puppet-tripleo,master,I4d5659cca512a35b72823bc8f7a048bd1abb786d,Ironic-inspector: Replace hiera by lookup,MERGED,2022-05-10 01:35:46.000000000,2022-05-25 17:45:57.000000000,2022-05-25 17:45:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 01:35:46.000000000', 'files': ['manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/445ddfd144878503c8e1261089db7865fcede58c', 'message': 'Ironic-inspector: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I4d5659cca512a35b72823bc8f7a048bd1abb786d\n'}]",2,841187,445ddfd144878503c8e1261089db7865fcede58c,16,4,1,9816,,,0,"Ironic-inspector: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I4d5659cca512a35b72823bc8f7a048bd1abb786d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/841187/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp']",2,445ddfd144878503c8e1261089db7865fcede58c,tripleo-hiera-v5,"# Defaults to Integer(lookup('step'))# Defaults to lookup('memcached_node_names', undef, undef, [])# Defaults to lookup('memcached_authtoken_port', undef, undef, 11211)# Defauls to lookup('memcached_ipv6', undef, undef, false)# Defaults to lookup('memcached_authtoken_security_strategy', undef, undef, undef)# Defaults to lookup('memcached_authtoken_secret_key', undef, undef, undef) $step = Integer(lookup('step')), $memcached_hosts = lookup('memcached_node_names', undef, undef, []), $memcached_port = lookup('memcached_authtoken_port', undef, undef, 11211), $memcached_ipv6 = lookup('memcached_ipv6', undef, undef, false), $security_strategy = lookup('memcached_authtoken_security_strategy', undef, undef, undef), $secret_key = lookup('memcached_authtoken_secret_key', undef, undef, undef),","# Defaults to hiera('step')# Defaults to hiera('memcached_node_names', [])# Defaults to hiera('memcached_authtoken_port', 11211)# Defauls to hiera('memcached_ipv6', false)# Defaults to hiera('memcached_authtoken_security_strategy', undef)# Defaults to hiera('memcached_authtoken_secret_key', undef) $step = Integer(hiera('step')), $memcached_hosts = hiera('memcached_node_names', []), $memcached_port = hiera('memcached_authtoken_port', 11211), $memcached_ipv6 = hiera('memcached_ipv6', false), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef),",16,16
openstack%2Fpuppet-tripleo~master~Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9,openstack/puppet-tripleo,master,Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9,Ironic: Replace hiera by lookup,MERGED,2022-05-10 01:35:46.000000000,2022-05-25 17:45:54.000000000,2022-05-25 17:45:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 01:35:46.000000000', 'files': ['manifests/profile/base/ironic/api.pp', 'manifests/profile/base/ironic/conductor.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/ironic/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/692174d2767d00974c81e703e8acba452ce84aeb', 'message': 'Ironic: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9\n'}]",2,841186,692174d2767d00974c81e703e8acba452ce84aeb,16,4,1,9816,,,0,"Ironic: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: Ie280f3dcab6c887c3e5a6662c8d05c8fe98a8cf9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/841186/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ironic/api.pp', 'manifests/profile/base/ironic/conductor.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/ironic/authtoken.pp']",4,692174d2767d00974c81e703e8acba452ce84aeb,tripleo-hiera-v5,"# Defaults to Integer(lookup('step'))# Defaults to lookup('memcached_node_names', undef, undef, [])# Defaults to lookup('memcached_authtoken_port', undef, undef, 11211)# Defauls to lookup('memcached_ipv6', undef, undef, false)# Defaults to lookup('memcached_authtoken_security_strategy', undef, undef, undef)# Defaults to lookup('memcached_authtoken_secret_key', undef, undef, undef) $step = Integer(lookup('step')), $memcached_hosts = lookup('memcached_node_names', undef, undef, []), $memcached_port = lookup('memcached_authtoken_port', undef, undef, 11211), $memcached_ipv6 = lookup('memcached_ipv6', undef, undef, false), $security_strategy = lookup('memcached_authtoken_security_strategy', undef, undef, undef), $secret_key = lookup('memcached_authtoken_secret_key', undef, undef, undef),","# Defaults to hiera('step')# Defaults to hiera('memcached_node_names', [])# Defaults to hiera('memcached_authtoken_port', 11211)# Defauls to hiera('memcached_ipv6', false)# Defaults to hiera('memcached_authtoken_security_strategy', undef)# Defaults to hiera('memcached_authtoken_secret_key', undef) $step = Integer(hiera('step')), $memcached_hosts = hiera('memcached_node_names', []), $memcached_port = hiera('memcached_authtoken_port', 11211), $memcached_ipv6 = hiera('memcached_ipv6', false), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef),",42,42
openstack%2Fpuppet-tripleo~master~I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237,openstack/puppet-tripleo,master,I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237,RabbitMQ: Replace hiera by lookup,MERGED,2022-05-10 01:44:36.000000000,2022-05-25 17:45:52.000000000,2022-05-25 17:45:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 01:44:36.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/727305a29c1c78d7cdd0fd40283ded0d3ddedf70', 'message': 'RabbitMQ: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237\n'}]",1,841188,727305a29c1c78d7cdd0fd40283ded0d3ddedf70,13,4,1,9816,,,0,"RabbitMQ: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I5f9d17ee6025a4cac6d8a6b7d6cd5299d2710237
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/88/841188/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,727305a29c1c78d7cdd0fd40283ded0d3ddedf70,tripleo-hiera-v5,"# Defaults to lookup('rabbitmq_config_variables').# Defaults to lookup('rabbitmq::ssl_cacert', undef, undef, undef)# Defaults to lookup('rabbitmq_environment').# Defaults to lookup('rabbitmq::interface', undef, undef, undef).# Defaults to str2bool(lookup('rabbit_ipv6', undef, undef, false)).# Defaults to lookup('rabbitmq_environment').# Defaults to lookup('oslo_messaging_rpc_scheme', undef, undef, 'rabbit').# Defaults to lookup('oslo_messaging_rpc_node_names', undef, undef, []).# Defaults to lookup('oslo_messaging_rpc_short_bootstrap_node_name')# Defaults to lookup('oslo_messaging_notify_scheme', undef, undef, 'rabbit').# Defaults to lookup('oslo_messaging_notify_node_names', undef, undef, []).# Defaults to lookup('oslo_messaging_notify_short_bootstrap_node_name')# Defaults to lookup('rabbitmq::default_pass')# Defaults to lookup('rabbitmq::default_user')# Defaults to Integer(lookup('step')) $config_variables = lookup('rabbitmq_config_variables'), $environment = lookup('rabbitmq_environment'), $rabbitmq_cacert = lookup('rabbitmq::ssl_cacert', undef, undef, undef), $inet_dist_interface = lookup('rabbitmq::interface', undef, undef, undef), $ipv6 = str2bool(lookup('rabbit_ipv6', undef, undef, false)), $kernel_variables = lookup('rabbitmq_kernel_variables'), $rpc_scheme = lookup('oslo_messaging_rpc_scheme', undef, undef, 'rabbit'), $rpc_nodes = lookup('oslo_messaging_rpc_node_names', undef, undef, []), $rpc_bootstrap_node = lookup('oslo_messaging_rpc_short_bootstrap_node_name'), $notify_scheme = lookup('oslo_messaging_notify_scheme', undef, undef, 'rabbit'), $notify_nodes = lookup('oslo_messaging_notify_node_names', undef, undef, []), $notify_bootstrap_node = lookup('oslo_messaging_notify_short_bootstrap_node_name'), $rabbitmq_pass = lookup('rabbitmq::default_pass'), $rabbitmq_user = lookup('rabbitmq::default_user'), $step = Integer(lookup('step')), $manage_service = lookup('rabbitmq::service_manage', undef, undef, true)","# Defaults to hiera('rabbitmq_config_variables').# Defaults to hiera('rabbitmq::ssl_cacert', undef)# Defaults to hiera('rabbitmq_environment').# Defaults to hiera('rabbitmq::interface', undef).# Defaults to str2bool(hiera('rabbit_ipv6', false)).# Defaults to hiera('rabbitmq_environment').# Defaults to hiera('oslo_messaging_rpc_scheme', 'rabbit').# Defaults to hiera('oslo_messaging_rpc_node_names', []).# Defaults to hiera('oslo_messaging_rpc_short_bootstrap_node_name')# Defaults to hiera('oslo_messaging_notify_scheme', 'rabbit').# Defaults to hiera('oslo_messaging_notify_node_names', []).# Defaults to hiera('oslo_messaging_notify_short_bootstrap_node_name')# Defaults to hiera('rabbitmq::default_pass')# Defaults to hiera('rabbitmq::default_user')# Defaults to hiera('step') $config_variables = hiera('rabbitmq_config_variables'), $environment = hiera('rabbitmq_environment'), $rabbitmq_cacert = hiera('rabbitmq::ssl_cacert', undef), $inet_dist_interface = hiera('rabbitmq::interface', undef), $ipv6 = str2bool(hiera('rabbit_ipv6', false)), $kernel_variables = hiera('rabbitmq_kernel_variables'), $rpc_scheme = hiera('oslo_messaging_rpc_scheme', 'rabbit'), $rpc_nodes = hiera('oslo_messaging_rpc_node_names', []), $rpc_bootstrap_node = hiera('oslo_messaging_rpc_short_bootstrap_node_name'), $notify_scheme = hiera('oslo_messaging_notify_scheme', 'rabbit'), $notify_nodes = hiera('oslo_messaging_notify_node_names', []), $notify_bootstrap_node = hiera('oslo_messaging_notify_short_bootstrap_node_name'), $rabbitmq_pass = hiera('rabbitmq::default_pass'), $rabbitmq_user = hiera('rabbitmq::default_user'), $step = Integer(hiera('step')), $manage_service = hiera('rabbitmq::service_manage', true)",31,31
openstack%2Fpuppet-tripleo~master~I634720d9afe563d1e632c2c4c63a5845c6237300,openstack/puppet-tripleo,master,I634720d9afe563d1e632c2c4c63a5845c6237300,Remove implementation to manage firewall rules by Puppet,MERGED,2022-05-13 12:27:28.000000000,2022-05-25 17:45:49.000000000,2022-05-25 17:45:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-13 12:27:28.000000000', 'files': ['manifests/firewall.pp', 'manifests/haproxy.pp', 'spec/classes/tripleo_firewall_spec.rb', 'manifests/profile/base/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/firewall/pre.pp', 'spec/defines/tripleo_firewall_service_rules_spec.rb', 'manifests/haproxy/endpoint.pp', 'manifests/firewall/post.pp', 'manifests/firewall/service_rules.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/373dee4156a628384c774abdbd65e890901d678c', 'message': 'Remove implementation to manage firewall rules by Puppet\n\n... because these are no longer used and now tripleo-ansibe is used\ninstead.\n\nThe tripleo::firewall::rule defined type is kept because it it still\nused to configure masquerade rules.\n\nDepends-on: https://review.opendev.org/841728\nChange-Id: I634720d9afe563d1e632c2c4c63a5845c6237300\n'}]",3,841729,373dee4156a628384c774abdbd65e890901d678c,17,5,1,9816,,,0,"Remove implementation to manage firewall rules by Puppet

... because these are no longer used and now tripleo-ansibe is used
instead.

The tripleo::firewall::rule defined type is kept because it it still
used to configure masquerade rules.

Depends-on: https://review.opendev.org/841728
Change-Id: I634720d9afe563d1e632c2c4c63a5845c6237300
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/841729/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/firewall.pp', 'manifests/haproxy.pp', 'spec/classes/tripleo_firewall_spec.rb', 'manifests/profile/base/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/firewall/pre.pp', 'manifests/haproxy/endpoint.pp', 'spec/defines/tripleo_firewall_service_rules_spec.rb', 'manifests/firewall/post.pp', 'manifests/firewall/service_rules.pp']",10,373dee4156a628384c774abdbd65e890901d678c,puppet-firewall-cleanup,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Define: tripleo::firewall::service_rules # # Define used to create firewall rules for composable services. # # === Parameters: # # [*service_name*] # (optional) The service_name to load firewall rules for. # Defaults to $title # define tripleo::firewall::service_rules ($service_name = $title) { $underscore_name = regsubst($service_name, '-', '_') # This allows each composable service to load its own custom rules by # creating its own flat hiera key named: # tripleo.<service name with underscores>.firewall_rules $dots_rules = hiera(""'tripleo.${underscore_name}.firewall_rules'"", {}) # Supports standard ""::"" notation: # tripleo::<service name with underscores>::firewall_rules $colons_rules = hiera(""tripleo::${underscore_name}::firewall_rules"", {}) # merge rules $firewall_rules = merge($colons_rules, $dots_rules) create_resources('tripleo::firewall::rule', $firewall_rules) } ",0,738
openstack%2Fpuppet-tripleo~master~I2b20252a70feeb52d7723ed1aab26115187a91ed,openstack/puppet-tripleo,master,I2b20252a70feeb52d7723ed1aab26115187a91ed,Remove unused netmask_to_cider function,MERGED,2022-05-08 13:52:33.000000000,2022-05-25 17:45:46.000000000,2022-05-25 17:45:46.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-08 13:52:33.000000000', 'files': ['spec/functions/netmask_to_cidr_spec.rb', 'lib/puppet/functions/netmask_to_cidr.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/46a9bf61c3eac7a66137acb4efa61e7b614ed3db', 'message': 'Remove unused netmask_to_cider function\n\nThis function was used by contrail manifests which were already removed\nby [1].\n\n[1] 5967b1ff65857ae406f48160968b2ff7122afbb6\n\nChange-Id: I2b20252a70feeb52d7723ed1aab26115187a91ed\n'}]",1,841037,46a9bf61c3eac7a66137acb4efa61e7b614ed3db,13,4,1,9816,,,0,"Remove unused netmask_to_cider function

This function was used by contrail manifests which were already removed
by [1].

[1] 5967b1ff65857ae406f48160968b2ff7122afbb6

Change-Id: I2b20252a70feeb52d7723ed1aab26115187a91ed
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/841037/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/functions/netmask_to_cidr_spec.rb', 'lib/puppet/functions/netmask_to_cidr.rb']",2,46a9bf61c3eac7a66137acb4efa61e7b614ed3db,,,"# Custom function to transform netmask from IP notation to # CIDR format. Input is an IP address, output a CIDR: # 255.255.255.0 = 24 # The CIDR formated netmask is needed for some # Contrail configuration files require 'ipaddr' Puppet::Functions.create_function(:netmask_to_cidr) do dispatch :netmask_to_cidr do param 'String', :netmask end def netmask_to_cidr(netmask) IPAddr.new(netmask).to_i.to_s(2).count(""1"") end end ",0,21
openstack%2Ftripleo-heat-templates~master~I1f951d3c7f99db87c5683cbb7196a078b41ed57f,openstack/tripleo-heat-templates,master,I1f951d3c7f99db87c5683cbb7196a078b41ed57f,Remove leftover of Undercloud-specific services,MERGED,2022-05-10 06:06:47.000000000,2022-05-25 17:45:42.000000000,2022-05-25 17:45:42.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 06:06:47.000000000', 'files': ['environments/services-baremetal/undercloud-cinder.yaml', 'environments/services-baremetal/undercloud-ceilometer.yaml', 'environments/services-baremetal/undercloud-gnocchi.yaml', 'environments/services-baremetal/undercloud-haproxy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/280e4daaf190daf7466c206aea89fdd6247e9783', 'message': 'Remove leftover of Undercloud-specific services\n\nThese services were already removed by [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/566422\n\nChange-Id: I1f951d3c7f99db87c5683cbb7196a078b41ed57f\n'}]",1,841206,280e4daaf190daf7466c206aea89fdd6247e9783,13,4,1,9816,,,0,"Remove leftover of Undercloud-specific services

These services were already removed by [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/566422

Change-Id: I1f951d3c7f99db87c5683cbb7196a078b41ed57f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/841206/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/undercloud-cinder.yaml', 'environments/services-baremetal/undercloud-ceilometer.yaml', 'environments/services-baremetal/undercloud-gnocchi.yaml', 'environments/services-baremetal/undercloud-haproxy.yaml']",4,280e4daaf190daf7466c206aea89fdd6247e9783,,,resource_registry: OS::TripleO::Services::UndercloudHAProxy: ../../deployment/haproxy/haproxy-container-puppet.yaml ,0,19
openstack%2Fpuppet-tripleo~master~I53fd5c4795b3f27c58d7731d4b6f43dc45c11092,openstack/puppet-tripleo,master,I53fd5c4795b3f27c58d7731d4b6f43dc45c11092,Remove ineffective ovn_remote_probe_interval,MERGED,2022-04-25 07:48:07.000000000,2022-05-25 17:45:39.000000000,2022-05-25 17:45:39.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 07:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bed6c2663892b592a14cadbf72a8e22bbd9b9425', 'message': 'Remove ineffective ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nThe interval should be set in ovn controller, which is already\nconfigured.\n\nChange-Id: I53fd5c4795b3f27c58d7731d4b6f43dc45c11092\n'}, {'number': 2, 'created': '2022-04-25 07:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3b6724cee3bae9bf320bf519ec6511e76469616f', 'message': 'Remove ineffective ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nThe interval should be configured in ovn controller, and this is\nalready implemented using puppet-ovn.\n\nDepends-on: https://review.opendev.org/839157\nChange-Id: I53fd5c4795b3f27c58d7731d4b6f43dc45c11092\n'}, {'number': 3, 'created': '2022-05-04 01:50:03.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/439eb262c8aea99f6d0a1c3c2ec6a557404ee929', 'message': 'Remove ineffective ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nThe interval should be configured in ovn controller, and this is\nalready implemented using puppet-ovn.\n\nDepends-on: https://review.opendev.org/839157\nChange-Id: I53fd5c4795b3f27c58d7731d4b6f43dc45c11092\n'}]",5,839156,439eb262c8aea99f6d0a1c3c2ec6a557404ee929,27,5,3,9816,,,0,"Remove ineffective ovn_remote_probe_interval

This parameter was introduced to puppet-neutron but it was completely
wrong and the actual parameter has never been implemented in neutron.

The interval should be configured in ovn controller, and this is
already implemented using puppet-ovn.

Depends-on: https://review.opendev.org/839157
Change-Id: I53fd5c4795b3f27c58d7731d4b6f43dc45c11092
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/839156/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/ovn_metadata.pp'],1,bed6c2663892b592a14cadbf72a8e22bbd9b9425,rm-ovn-remote-probe-intvl," $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), $ovn_sb_port = hiera('ovn::southbound::port'), $ovn_sb_private_key = $::os_service_default, $ovn_sb_certificate = $::os_service_default, $ovn_sb_ca_cert = $::os_service_default, $protocol = 'tcp', $step = Integer(hiera('step')), ovn_sb_connection => join(any2array($sb_conn), ','), ovn_sb_private_key => $ovn_sb_private_key, ovn_sb_certificate => $ovn_sb_certificate, ovn_sb_ca_cert => $ovn_sb_ca_cert,","# [*ovn_remote_probe_interval*] # (optional) Set probe interval, based on user configuration, value is in ms # Defaults to 60000 # $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), $ovn_sb_port = hiera('ovn::southbound::port'), $ovn_sb_private_key = $::os_service_default, $ovn_sb_certificate = $::os_service_default, $ovn_sb_ca_cert = $::os_service_default, $protocol = 'tcp', $step = Integer(hiera('step')), $ovn_remote_probe_interval = 60000, ovn_sb_connection => join(any2array($sb_conn), ','), ovn_sb_private_key => $ovn_sb_private_key, ovn_sb_certificate => $ovn_sb_certificate, ovn_sb_ca_cert => $ovn_sb_ca_cert, ovn_remote_probe_interval => $ovn_remote_probe_interval,",13,19
openstack%2Fpuppet-tripleo~master~Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468,openstack/puppet-tripleo,master,Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468,Remove unused extract_id function,MERGED,2022-05-08 13:54:10.000000000,2022-05-25 17:20:44.000000000,2022-05-25 17:20:44.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-08 13:54:10.000000000', 'files': ['spec/functions/extract_id_spec.rb', 'lib/puppet/functions/extract_id.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f41077fa1aff9bdce058bf260784fad445a0b24', 'message': 'Remove unused extract_id function\n\nThis function was used by Zookeeper manifests which were removed when\nMidonet support was removed[1].\n\n[1] 1fa66c49c036bf473ef7bb7008778331e117bb71\n\nChange-Id: Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468\n'}]",1,841038,4f41077fa1aff9bdce058bf260784fad445a0b24,13,4,1,9816,,,0,"Remove unused extract_id function

This function was used by Zookeeper manifests which were removed when
Midonet support was removed[1].

[1] 1fa66c49c036bf473ef7bb7008778331e117bb71

Change-Id: Ibb593d32a91cc7fe67e6af7b7ce2c97e1dc0f468
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/841038/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/functions/extract_id_spec.rb', 'lib/puppet/functions/extract_id.rb']",2,4f41077fa1aff9bdce058bf260784fad445a0b24,,,"# Custom function to extract the index from a list. # The list are a list of hostname, and the index is the n'th # position of the host in list Puppet::Functions.create_function(:extract_id) do dispatch :extract_id do param 'Variant[Array, String]', :hosts param 'String', :hostname end def extract_id(hosts, hostname) if hosts.class != Array hosts = [hosts] end hash = Hash[hosts.map.with_index.to_a] return hash[hostname].to_i + 1 end end ",0,23
openstack%2Fwhitebox-tempest-plugin~master~I0e5c46cd0d4d38189a535c5219d390153cf96e1a,openstack/whitebox-tempest-plugin,master,I0e5c46cd0d4d38189a535c5219d390153cf96e1a,Allow for guest ram to be configurable,MERGED,2022-05-23 18:23:19.000000000,2022-05-25 17:08:03.000000000,2022-05-25 17:08:03.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 18:23:19.000000000', 'files': ['whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/159f57d395b2720a51e028b0b529706e0380d27c', 'message': 'Allow for guest ram to be configurable\n\nStarting with cirros 0.5.0 [1] minimum ram size for the guest is 128MB.\nUsing the default amount of 64 set in whitebox is resulting in kernel\npanics for tests using cirros 0.5.2. Updating flavor creation in the\nsame way as volumes [2] and leaving the default to 64.\n\n[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.0\n[2] https://opendev.org/openstack/whitebox-tempest-plugin/commit/9aab461f45e80b9e99060d3a08300e82e196ad31\n\nChange-Id: I0e5c46cd0d4d38189a535c5219d390153cf96e1a\n'}]",0,843013,159f57d395b2720a51e028b0b529706e0380d27c,7,2,1,31033,,,0,"Allow for guest ram to be configurable

Starting with cirros 0.5.0 [1] minimum ram size for the guest is 128MB.
Using the default amount of 64 set in whitebox is resulting in kernel
panics for tests using cirros 0.5.2. Updating flavor creation in the
same way as volumes [2] and leaving the default to 64.

[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.0
[2] https://opendev.org/openstack/whitebox-tempest-plugin/commit/9aab461f45e80b9e99060d3a08300e82e196ad31

Change-Id: I0e5c46cd0d4d38189a535c5219d390153cf96e1a
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/13/843013/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/config.py']",2,159f57d395b2720a51e028b0b529706e0380d27c,config_guest_ram_param," cfg.IntOpt( 'flavor_ram_size', default=64, help='Default ram size to use when creating guest flavor'),",,5,1
openstack%2Fhorizon~master~Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6,openstack/horizon,master,Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6,Pass real client IP to keystoneauth original_ip,MERGED,2022-04-21 12:19:37.000000000,2022-05-25 16:51:37.000000000,2022-05-25 16:49:52.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-04-21 12:19:37.000000000', 'files': ['openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e4ac4550c9851383f83fa0a0ff693c4e5c439bd1', 'message': ""Pass real client IP to keystoneauth original_ip\n\nThe original_ip parameter for the keystoneauth plugin\nsets the Forwarded header sent to Keystone but right now\nit just sends the IP address of Horizon instead of the client's\nIP when Horizon is proxied and should use X-Forwarded-For.\n\nChange-Id: Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6\n""}]",4,838859,e4ac4550c9851383f83fa0a0ff693c4e5c439bd1,12,4,1,16137,,,0,"Pass real client IP to keystoneauth original_ip

The original_ip parameter for the keystoneauth plugin
sets the Forwarded header sent to Keystone but right now
it just sends the IP address of Horizon instead of the client's
IP when Horizon is proxied and should use X-Forwarded-For.

Change-Id: Ic994b7f36d4c6459bbd00c810e3b454c6b1201a6
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/838859/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/keystone.py'],1,e4ac4550c9851383f83fa0a0ff693c4e5c439bd1,horizon-keystoneauth-original_ip, remote_addr = auth_utils.get_client_ip(request)," remote_addr = request.environ.get('REMOTE_ADDR', '')",1,1
openstack%2Fhorizon~master~I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc,openstack/horizon,master,I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc,Bump tox minversion to 3.18.0,MERGED,2022-05-22 13:20:38.000000000,2022-05-25 16:36:13.000000000,2022-05-25 16:34:14.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-22 13:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a106cb5a018544ff66219a5b3186681212b1a26b', 'message': 'Bump tox minversion to 3.18.0\n\n... to replace whitelist_externals option[1].\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc\n'}, {'number': 2, 'created': '2022-05-22 13:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c5b90c896de1ba7077f61eba449f6e4b97ab2616', 'message': 'Bump tox minversion to 3.18.0\n\nSince tox 3.18.0, the whitelist_externals option has been deprecated in\nfavor of the new allow_list_externals option[1].\n\nThis change bumps the minversion of tox so that we can replace\nthe deprecated option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc\n'}, {'number': 3, 'created': '2022-05-22 23:15:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f7e049233218f57d95ba8386b5fc3ca19c377c2b', 'message': 'Bump tox minversion to 3.18.0\n\nSince tox 3.18.0, the whitelist_externals option has been deprecated in\nfavor of the new allow_list_externals option[1].\n\nThis change bumps the minversion of tox so that we can replace\nthe deprecated option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc\n'}]",1,842864,f7e049233218f57d95ba8386b5fc3ca19c377c2b,14,3,3,9816,,,0,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1943ddbe8d63c577b5c8084a158af5bae4d1f9fc
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/842864/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a106cb5a018544ff66219a5b3186681212b1a26b,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1whitelist_externals =,2,2
openstack%2Fhorizon~stable%2Fwallaby~I1bbf3b23717f9924974920d6569e018b94e3dbe8,openstack/horizon,stable/wallaby,I1bbf3b23717f9924974920d6569e018b94e3dbe8,Add horizontal scrollbar to role dropdown,MERGED,2021-09-21 15:12:50.000000000,2022-05-25 16:35:46.000000000,2022-05-25 16:34:10.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-09-21 15:12:50.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/components/_membership.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a15cd2e67924027beb94c30e798139e84a1ef8e8', 'message': 'Add horizontal scrollbar to role dropdown\n\nManage members dialog has a dropdown which lists all the role names.\nIf a role name is long enough, it pushes all the roles to the left\nand hides them partially. This patch adds horizontal scrollbar for\nsuch cases.\n\nCloses-Bug: #1926511\n\nChange-Id: I1bbf3b23717f9924974920d6569e018b94e3dbe8\n(cherry picked from commit 9b28ab402802e9848f5824b04d85cf4292f738d3)\n'}]",1,810197,a15cd2e67924027beb94c30e798139e84a1ef8e8,16,4,1,30746,,,0,"Add horizontal scrollbar to role dropdown

Manage members dialog has a dropdown which lists all the role names.
If a role name is long enough, it pushes all the roles to the left
and hides them partially. This patch adds horizontal scrollbar for
such cases.

Closes-Bug: #1926511

Change-Id: I1bbf3b23717f9924974920d6569e018b94e3dbe8
(cherry picked from commit 9b28ab402802e9848f5824b04d85cf4292f738d3)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/97/810197/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/scss/components/_membership.scss'],1,a15cd2e67924027beb94c30e798139e84a1ef8e8,bug/1926511-stable/wallaby, max-width: 300px; overflow-x: auto;,,2,0
openstack%2Fcliff~master~I0b77a709c7fa3766c0cdb674185017bd1823c7e3,openstack/cliff,master,I0b77a709c7fa3766c0cdb674185017bd1823c7e3,Update python testing classifier,ABANDONED,2021-12-21 09:50:43.000000000,2022-05-25 16:27:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-21 09:50:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cliff/commit/3b3cfbcfb6114e64b5e7c4b964699899b7fa24c7', 'message': 'Update python testing classifier\n\nChange-Id: I0b77a709c7fa3766c0cdb674185017bd1823c7e3\n'}]",1,822454,3b3cfbcfb6114e64b5e7c4b964699899b7fa24c7,4,1,1,33881,,,0,"Update python testing classifier

Change-Id: I0b77a709c7fa3766c0cdb674185017bd1823c7e3
",git fetch https://review.opendev.org/openstack/cliff refs/changes/54/822454/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3b3cfbcfb6114e64b5e7c4b964699899b7fa24c7,, Programming Language :: Python :: 3.9,,1,0
openstack%2Ftripleo-ci~master~I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4,openstack/tripleo-ci,master,I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4,"Revert ""Remove fwupd-redfish.conf file from overcloud images""",MERGED,2022-05-16 19:44:53.000000000,2022-05-25 16:19:50.000000000,2022-05-25 16:19:50.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 30750}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-16 19:44:53.000000000', 'files': ['roles/oooci-build-images/tasks/remove_redfish.yaml', 'roles/oooci-build-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/90efe7d122e89deea12378df2250564d2c5a80b5', 'message': 'Revert ""Remove fwupd-redfish.conf file from overcloud images""\n\nThis reverts commit 018f3ecf7e2100d873391a354086f17469514ecf.\nBZ bug 2030993 and Launchpad bug #1956441 have been resolved.\nThis temporary workaround caused additional sporadic issues\nwhen running role oooci-build-images which failed with error:\n\n2022-05-15 13:30:31.884236 | primary | TASK [oooci-build-images : Remove fwupd-redfish.conf file from overcloud-hardened-uefi-full.qcow2] ***\n2022-05-15 13:30:31.884242 | primary | Sunday 15 May 2022  13:30:31 +0000 (0:01:14.757)       1:01:25.057 ************\n2022-05-15 13:30:43.244079 | primary | fatal: [undercloud]: FAILED! => {""changed"": true, ""cmd"": ""virt-customize -a overcloud-hardened-uefi-full.qcow2 --delete /usr/lib/modules-load.d/fwupd-redfish.conf --truncate /etc/machine-id\\n"", ""delta"": ""0:00:09.822358"", ""end"": ""2022-05-15 13:30:42.978256"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2022-05-15 13:30:33.155898"", ""stderr"": ""virt-customize: error: libguestfs error: guestfs_launch failed.\\nThis usually means the libguestfs appliance failed to start or crashed.\\nDo:\\n  export LIBGUESTFS_DEBUG=1 LIBGUESTFS_TRACE=1\\nand run the command again.  For further information, read:\\n  http://libguestfs.org/guestfs-faq.1.html#debugging-libguestfs\\nYou can also run \'libguestfs-test-tool\' and post the *complete* output\\ninto a bug report or message to the libguestfs mailing list.\\n\\nIf reporting bugs, run virt-customize with debugging enabled and include \\nthe complete output:\\n\\n  virt-customize -v -x [...]"", ""stderr_lines"": [""virt-customize: error: libguestfs error: guestfs_launch failed."", ""This usually means the libguestfs appliance failed to start or crashed."", ""Do:"", ""  export LIBGUESTFS_DEBUG=1 LIBGUESTFS_TRACE=1"", ""and run the command again.  For further information, read:"", ""  http://libguestfs.org/guestfs-faq.1.html#debugging-libguestfs"", ""You can also run \'libguestfs-test-tool\' and post the *complete* output"", ""into a bug report or message to the libguestfs mailing list."", """", ""If reporting bugs, run virt-customize with debugging enabled and include "", ""the complete output:"", """", ""  virt-customize -v -x [...]""], ""stdout"": ""[   0.0] Examining the guest ..."", ""stdout_lines"": [""[   0.0] Examining the guest ...""]}\n\nRef.:\n[1] https://opendev.org/openstack/tripleo-ci/commit/018f3ecf7e2100d873391a354086f17469514ecf\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2030993\n[3] https://bugs.launchpad.net/tripleo/+bug/1956441\n\nChange-Id: I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4\n'}]",12,841992,90efe7d122e89deea12378df2250564d2c5a80b5,23,10,1,32962,,,0,"Revert ""Remove fwupd-redfish.conf file from overcloud images""

This reverts commit 018f3ecf7e2100d873391a354086f17469514ecf.
BZ bug 2030993 and Launchpad bug #1956441 have been resolved.
This temporary workaround caused additional sporadic issues
when running role oooci-build-images which failed with error:

2022-05-15 13:30:31.884236 | primary | TASK [oooci-build-images : Remove fwupd-redfish.conf file from overcloud-hardened-uefi-full.qcow2] ***
2022-05-15 13:30:31.884242 | primary | Sunday 15 May 2022  13:30:31 +0000 (0:01:14.757)       1:01:25.057 ************
2022-05-15 13:30:43.244079 | primary | fatal: [undercloud]: FAILED! => {""changed"": true, ""cmd"": ""virt-customize -a overcloud-hardened-uefi-full.qcow2 --delete /usr/lib/modules-load.d/fwupd-redfish.conf --truncate /etc/machine-id\n"", ""delta"": ""0:00:09.822358"", ""end"": ""2022-05-15 13:30:42.978256"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2022-05-15 13:30:33.155898"", ""stderr"": ""virt-customize: error: libguestfs error: guestfs_launch failed.\nThis usually means the libguestfs appliance failed to start or crashed.\nDo:\n  export LIBGUESTFS_DEBUG=1 LIBGUESTFS_TRACE=1\nand run the command again.  For further information, read:\n  http://libguestfs.org/guestfs-faq.1.html#debugging-libguestfs\nYou can also run 'libguestfs-test-tool' and post the *complete* output\ninto a bug report or message to the libguestfs mailing list.\n\nIf reporting bugs, run virt-customize with debugging enabled and include \nthe complete output:\n\n  virt-customize -v -x [...]"", ""stderr_lines"": [""virt-customize: error: libguestfs error: guestfs_launch failed."", ""This usually means the libguestfs appliance failed to start or crashed."", ""Do:"", ""  export LIBGUESTFS_DEBUG=1 LIBGUESTFS_TRACE=1"", ""and run the command again.  For further information, read:"", ""  http://libguestfs.org/guestfs-faq.1.html#debugging-libguestfs"", ""You can also run 'libguestfs-test-tool' and post the *complete* output"", ""into a bug report or message to the libguestfs mailing list."", """", ""If reporting bugs, run virt-customize with debugging enabled and include "", ""the complete output:"", """", ""  virt-customize -v -x [...]""], ""stdout"": ""[   0.0] Examining the guest ..."", ""stdout_lines"": [""[   0.0] Examining the guest ...""]}

Ref.:
[1] https://opendev.org/openstack/tripleo-ci/commit/018f3ecf7e2100d873391a354086f17469514ecf
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2030993
[3] https://bugs.launchpad.net/tripleo/+bug/1956441

Change-Id: I65c98e0de0ffbaec7a085cc5435ecf77b401ddc4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/841992/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/tasks/remove_redfish.yaml', 'roles/oooci-build-images/tasks/main.yaml']",2,90efe7d122e89deea12378df2250564d2c5a80b5,revert-fwupd-redfish-conf-removal,, # TODO akahat Remove once lp https://bugs.launchpad.net/tripleo/+bug/1956441 fixed. - name: Include remove_redfish.yaml include_tasks: remove_redfish.yaml args: apply: become: true vars: overcloud_image_customize: overcloud-full.qcow2 # TODO akahat Remove once lp https://bugs.launchpad.net/tripleo/+bug/1956441 fixed. - name: Include remove_redfish.yaml include_tasks: remove_redfish.yaml args: apply: become: true vars: overcloud_image_customize: overcloud-hardened-uefi-full.qcow2 ,0,34
openstack%2Fnova~stable%2Fxena~I784190ac356695dd508e0ad8ec31d8eaa3ebee56,openstack/nova,stable/xena,I784190ac356695dd508e0ad8ec31d8eaa3ebee56,Fix pre_live_migration rollback,MERGED,2022-03-31 13:10:06.000000000,2022-05-25 16:16:25.000000000,2022-05-25 16:14:33.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-31 13:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7c7c09d3e129f76b7c13607f6bc65d3c5f161e9', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n(cherry picked from commit a09d29b0bc537b9770d8dc4d7c1a6584798539f7)\n""}, {'number': 2, 'created': '2022-04-18 15:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/413ea56b765bcbec7468d4e6b2c3dface7eb9800', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n""}, {'number': 3, 'created': '2022-04-18 17:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c277636a96f4525ed6eb0530aa576f2156c8b99d', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n""}, {'number': 4, 'created': '2022-04-18 19:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3fdc68ecfbb814a6e7d6e5c88e44bbf546626c4', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n""}, {'number': 5, 'created': '2022-04-19 13:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b34f8b5187afd828f1682d480e21f1c4de27b97b', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n""}, {'number': 6, 'created': '2022-04-19 16:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fb630525ec440fe18a323a692f1d13a29119c3d', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n""}, {'number': 7, 'created': '2022-04-20 12:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a30a54920cae953abe39c0d67df15d20e4a0390', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n""}, {'number': 8, 'created': '2022-05-18 16:59:49.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1944619-fix-live-migration-rollback.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/90c51902e9ff9fcc23cba00904a0a5d9db6a5d6a', 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 29b94aa34ad954e617c2a0d6df0809765dced188)\n""}]",5,836015,90c51902e9ff9fcc23cba00904a0a5d9db6a5d6a,57,6,8,10058,,,0,"Fix pre_live_migration rollback

During the pre live migration process, Nova performs most of the
tasks related to the creation and operation of the VM in the destination
host. That is done without interrupting any of the hardware in the source
host. If the pre_live_migration fails, those same operations should be
rolled back.

Currently nova is sharing the _rollback_live_migration for both
live and pre_live migration rollbacks, and that is causing the source
host to try to re-attach network interfaces on the source host where
they weren't actually de-attached.

This patch fixes that by adding a conditional to allow nova to do
different paths for migration and pre_live_migration rollbacks.

Closes-bug: #1944619
Change-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56
(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)
(cherry picked from commit 29b94aa34ad954e617c2a0d6df0809765dced188)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/836015/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1944619-fix-live-migration-rollback.yaml', 'nova/compute/manager.py']",4,a7c7c09d3e129f76b7c13607f6bc65d3c5f161e9,bug/1944619," source_bdms=source_bdms, pre_live_migration=True) source_bdms=None, pre_live_migration=False): # NOTE(erlon): We should make sure that rollback_live_migration_at_src # is not called in the pre_live_migration rollback as that will trigger # the src host to re-attach interfaces which were not detached # previously. if not pre_live_migration: self.driver.rollback_live_migration_at_source(context, instance, migrate_data)"," source_bdms=source_bdms) source_bdms=None): self.driver.rollback_live_migration_at_source(context, instance, migrate_data)",102,6
openstack%2Ftripleo-heat-templates~master~I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,openstack/tripleo-heat-templates,master,I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,Add service OS::TripleO::Services::ManilaBackendPowerMax,MERGED,2022-05-17 13:47:23.000000000,2022-05-25 16:08:55.000000000,2022-05-25 16:08:55.000000000,"[{'_account_id': 6796}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-17 13:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4263134776be2fe765b9515c05d85ca1c61d26d6', 'message': ""Add service OS::TripleO::Services::ManilaBackendPowerMax\n\nThe templates were added in [1]; but the service wasn't added\nto the overcloud resource registry. Also add it in standard\nroles and CI environments for consistency. Since [1] was backported\nto stable/train, this commit is appropriate for backport as well.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105\nCloses-Bug: #1951131\n\nChange-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2022-05-19 16:27:30.000000000', 'files': ['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b06e0850fa332f97519ec2b10c24e70ceeae12a', 'message': ""Add service OS::TripleO::Services::ManilaBackendPowerMax\n\nThe templates were added in [1]; but the service wasn't added\nto the overcloud resource registry. Also add it in standard\nroles and CI environments for consistency. Since [1] was backported\nto stable/train, this commit is appropriate for backport as well.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105\nCloses-Bug: #1951131\n\nChange-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",4,842112,9b06e0850fa332f97519ec2b10c24e70ceeae12a,14,5,2,16643,,,0,"Add service OS::TripleO::Services::ManilaBackendPowerMax

The templates were added in [1]; but the service wasn't added
to the overcloud resource registry. Also add it in standard
roles and CI environments for consistency. Since [1] was backported
to stable/train, this commit is appropriate for backport as well.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105
Closes-Bug: #1951131

Change-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/842112/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml']",16,4263134776be2fe765b9515c05d85ca1c61d26d6,bug/1951131, - OS::TripleO::Services::ManilaBackendPowerMax,,17,0
openstack%2Fdiskimage-builder~master~I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7,openstack/diskimage-builder,master,I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7,Make centos reset-bls-entries behave the same as rhel,MERGED,2022-04-28 22:56:07.000000000,2022-05-25 16:06:48.000000000,2022-05-25 16:04:56.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 22:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/338b8623eded249b92c2e1e8f000137eea92de95', 'message': 'Make centos reset-bls-entries behave the same as rhel\n\nThis makes 03-reset-bls-entries consistent with rhel so that the glob\nmatch is *.conf, and a check is added to ensure that a rename is\nactually required.\n\nChange-Id: I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7\n'}, {'number': 2, 'created': '2022-04-29 01:41:04.000000000', 'files': ['diskimage_builder/elements/centos/post-install.d/03-reset-bls-entries'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8059a59583c56cd1e2199c37f9fc84d84e216a31', 'message': 'Make centos reset-bls-entries behave the same as rhel\n\nThis makes 03-reset-bls-entries consistent with rhel so that the glob\nmatch is *.conf, and a check is added to ensure that a rename is\nactually required.\n\nChange-Id: I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7\n'}]",0,839830,8059a59583c56cd1e2199c37f9fc84d84e216a31,14,3,2,4571,,,0,"Make centos reset-bls-entries behave the same as rhel

This makes 03-reset-bls-entries consistent with rhel so that the glob
match is *.conf, and a check is added to ensure that a rename is
actually required.

Change-Id: I4adff43cf7d4f31d939e6ddf37ac8d162ccd0db7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/30/839830/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos/post-install.d/03-reset-bls-entries'],1,338b8623eded249b92c2e1e8f000137eea92de95,lvm-size-unit,for entry in *.conf; do if [[ $entry != $new_entry ]]; then mv $entry $new_entry fi,for entry in *; do mv $entry $new_entry,4,2
openstack%2Fopenstack-ansible-repo_server~master~I0795fa1936aaeb9b9005a35685d85b6a4a619835,openstack/openstack-ansible-repo_server,master,I0795fa1936aaeb9b9005a35685d85b6a4a619835,Run content restore only on first host,MERGED,2022-05-25 11:58:12.000000000,2022-05-25 16:00:09.000000000,2022-05-25 15:58:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-25 11:58:12.000000000', 'files': ['tasks/repo_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/703563c59cf1a4c8ebb561d0222fe9b7f597b349', 'message': ""Run content restore only on first host\n\nCurrently we're trying to restore content for each host independently\n\nThis is not needed as we already storing content on shared FS,\nthat's been mounted.\n\nWe don't implement variable since that's only for migration purposes.\n\nChange-Id: I0795fa1936aaeb9b9005a35685d85b6a4a619835\n""}]",0,843267,703563c59cf1a4c8ebb561d0222fe9b7f597b349,8,3,1,28619,,,0,"Run content restore only on first host

Currently we're trying to restore content for each host independently

This is not needed as we already storing content on shared FS,
that's been mounted.

We don't implement variable since that's only for migration purposes.

Change-Id: I0795fa1936aaeb9b9005a35685d85b6a4a619835
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/67/843267/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_pre_install.yml'],1,703563c59cf1a4c8ebb561d0222fe9b7f597b349,, - ('repo_all' in group_names and inventory_hostname == (groups['repo_all'] | intersect(ansible_play_hosts)) | first) | bool when: - ('repo_all' in group_names and inventory_hostname == (groups['repo_all'] | intersect(ansible_play_hosts)) | first) | bool,,3,0
openstack%2Fkayobe~master~I40c6b898963c2218d41d37bd73d40ce8dcf22b87,openstack/kayobe,master,I40c6b898963c2218d41d37bd73d40ce8dcf22b87,Use yoga upper constraints to avoid Python version conflict,MERGED,2022-05-24 08:21:26.000000000,2022-05-25 15:55:24.000000000,2022-05-25 15:52:12.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-24 08:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1d0674b9fb41fc1328c34b1728e6b106544ade2d', 'message': '[WIP] Use Yoga upper constraints to avoid Python version conflict\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n'}, {'number': 2, 'created': '2022-05-24 09:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2130b6bd4f62d58f8f743b35fa87010f5ecee7d8', 'message': '[WIP] Use Yoga upper constraints to avoid Python version conflict\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n'}, {'number': 3, 'created': '2022-05-24 14:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/885e76f9519e2742a484c38c6e3c481b8513e518', 'message': '[WIP] Use Yoga upper constraints to avoid Python version conflict\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n'}, {'number': 4, 'created': '2022-05-24 20:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c3332b1d74bee5d89ead11af6dce7a5dbce8b4fa', 'message': '[WIP] Use Yoga upper constraints to avoid Python version conflict\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n'}, {'number': 5, 'created': '2022-05-25 07:41:35.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml', 'ansible/group_vars/all/pip', 'dev/tenks-deploy-config-compute-libvirt-on-host.yml', 'dev/tenks-deploy-config-compute.yml', 'dev/tenks-deploy-config-overcloud.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac', 'message': 'Use yoga upper constraints to avoid Python version conflict\n\nRequirements upper constraints bumped python-novaclient to version\n18.0.0 [1], which requires Python 3.8 [2]. This results in failures when\ninstalling python-openstackclient on CentOS and Rocky with Python 3.6.\n\n    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0\n        The user requested (constraint) python-novaclient===18.0.0\n\nWork around this issue by using yoga upper constraints until we upgrade\nto CentOS Stream 9 and Rocky Linux 9.\n\nThis also fixes another issue seen on Ubuntu where image uploads to\nGlance through Ansible fail with a 400 Bad Request error. This is caused\nby the bump of openstacksdk to version 0.99.0 and will be fixed by a new\nrelease of ansible-collections-openstack.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/842808\n[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944\n\nChange-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87\n'}]",4,843117,d2e0d64eb00d4cea8a4f8ff6a963b1ec0c3660ac,21,4,5,15197,,,0,"Use yoga upper constraints to avoid Python version conflict

Requirements upper constraints bumped python-novaclient to version
18.0.0 [1], which requires Python 3.8 [2]. This results in failures when
installing python-openstackclient on CentOS and Rocky with Python 3.6.

    ERROR: Cannot install python-openstackclient==5.8.0 because these package versions have conflicting dependencies.

    The conflict is caused by:
        python-openstackclient 5.8.0 depends on python-novaclient>=17.0.0
        The user requested (constraint) python-novaclient===18.0.0

Work around this issue by using yoga upper constraints until we upgrade
to CentOS Stream 9 and Rocky Linux 9.

This also fixes another issue seen on Ubuntu where image uploads to
Glance through Ansible fail with a 400 Bad Request error. This is caused
by the bump of openstacksdk to version 0.99.0 and will be fixed by a new
release of ansible-collections-openstack.

[1] https://review.opendev.org/c/openstack/requirements/+/842808
[2] https://review.opendev.org/c/openstack/python-novaclient/+/838944

Change-Id: I40c6b898963c2218d41d37bd73d40ce8dcf22b87
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/843117/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-infra-vm-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2']",6,1d0674b9fb41fc1328c34b1728e6b106544ade2d,yoga-uc,"pip_upper_constraints_file: ""https://releases.openstack.org/constraints/upper/yoga""","pip_upper_constraints_file: ""/tmp/upper-constraints.txt""",6,6
openstack%2Fcinder~master~I46889f9348776466816cbc3cf17c8a6f9064dbe1,openstack/cinder,master,I46889f9348776466816cbc3cf17c8a6f9064dbe1,"db: Migrate ""snapshot metadata"" APIs to enginefacade",MERGED,2022-02-20 19:04:44.000000000,2022-05-25 15:45:09.000000000,2022-05-24 12:24:01.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/169be04d491f5a4debea0776553deb94d7e8db14', 'message': 'db: Migrate ""snapshot metadata"" APIs to enginefacade\n\nMigrate quota snapshot metadata-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I46889f9348776466816cbc3cf17c8a6f9064dbe1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d13804e345b5c5b74577ba6a597bd31b75f11d8', 'message': 'db: Migrate ""snapshot metadata"" APIs to enginefacade\n\nMigrate quota snapshot metadata-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I46889f9348776466816cbc3cf17c8a6f9064dbe1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0e101de707ae3e338c4b0c574b3ceaa98a5c720', 'message': 'db: Migrate ""snapshot metadata"" APIs to enginefacade\n\nMigrate quota snapshot metadata-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I46889f9348776466816cbc3cf17c8a6f9064dbe1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3e4cc0301f9855cd21e490dcd5b7913dcab894d', 'message': 'db: Migrate ""snapshot metadata"" APIs to enginefacade\n\nMigrate quota snapshot metadata-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I46889f9348776466816cbc3cf17c8a6f9064dbe1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,830098,a3e4cc0301f9855cd21e490dcd5b7913dcab894d,82,6,4,15334,,,0,"db: Migrate ""snapshot metadata"" APIs to enginefacade

Migrate quota snapshot metadata-related APIs from the legacy
enginefacade to the modern context-based enginefacade.

Change-Id: I46889f9348776466816cbc3cf17c8a6f9064dbe1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/830098/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,169be04d491f5a4debea0776553deb94d7e8db14,remove-legacyfacade,"def _snapshot_metadata_get_query(context, snapshot_id): return model_query( context, models.SnapshotMetadata, read_deleted=""no"" ).filter_by(snapshot_id=snapshot_id)def _snapshot_metadata_get(context, snapshot_id): rows = _snapshot_metadata_get_query(context, snapshot_id).all()@main_context_manager.reader@main_context_manager.writer def snapshot_metadata_delete(context, snapshot_id, key): query = _snapshot_metadata_get_query(context, snapshot_id).filter_by( key=key ) query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } )def _snapshot_metadata_get_item(context, snapshot_id, key): result = ( _snapshot_metadata_get_query(context, snapshot_id) .filter_by(key=key) .first() ) raise exception.SnapshotMetadataNotFound( metadata_key=key, snapshot_id=snapshot_id )@main_context_manager.writer def snapshot_metadata_update(context, snapshot_id, metadata, delete): # Set existing metadata to deleted if delete argument is True if delete: original_metadata = _snapshot_metadata_get(context, snapshot_id) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _snapshot_metadata_get_item( context, snapshot_id, meta_key, ) meta_ref.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), } ) meta_ref.save(context.session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _snapshot_metadata_get_item( context, snapshot_id, meta_key ) except exception.SnapshotMetadataNotFound: meta_ref = models.SnapshotMetadata() item.update({""key"": meta_key, ""snapshot_id"": snapshot_id}) meta_ref.update(item) meta_ref.save(context.session) return _snapshot_metadata_get(context, snapshot_id)","def _snapshot_metadata_get_query(context, snapshot_id, session=None): return model_query(context, models.SnapshotMetadata, session=session, read_deleted=""no"").\ filter_by(snapshot_id=snapshot_id)def _snapshot_metadata_get(context, snapshot_id, session=None): rows = _snapshot_metadata_get_query(context, snapshot_id, session).all()def snapshot_metadata_delete(context, snapshot_id, key): query = _snapshot_metadata_get_query(context, snapshot_id).\ filter_by(key=key) query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})def _snapshot_metadata_get_item(context, snapshot_id, key, session=None): result = _snapshot_metadata_get_query(context, snapshot_id, session=session).\ filter_by(key=key).\ first() raise exception.SnapshotMetadataNotFound(metadata_key=key, snapshot_id=snapshot_id)def snapshot_metadata_update(context, snapshot_id, metadata, delete): session = get_session() with session.begin(): # Set existing metadata to deleted if delete argument is True if delete: original_metadata = _snapshot_metadata_get(context, snapshot_id, session) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _snapshot_metadata_get_item(context, snapshot_id, meta_key, session) meta_ref.update({'deleted': True, 'deleted_at': timeutils.utcnow()}) meta_ref.save(session=session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _snapshot_metadata_get_item(context, snapshot_id, meta_key, session) except exception.SnapshotMetadataNotFound: meta_ref = models.SnapshotMetadata() item.update({""key"": meta_key, ""snapshot_id"": snapshot_id}) meta_ref.update(item) meta_ref.save(session=session) return snapshot_metadata_get(context, snapshot_id)",61,48
openstack%2Fnova~stable%2Fxena~Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927,openstack/nova,stable/xena,Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927,Adds regression test for bug LP#1944619,MERGED,2022-04-19 16:14:58.000000000,2022-05-25 15:27:58.000000000,2022-05-25 15:25:14.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 16:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9409371df92e19f7e294043dd2f1e290760913f3', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nCloses-bug: #1964472\nChange-Id: Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927\n(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)\n'}, {'number': 2, 'created': '2022-04-20 12:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b962631bac8eeac5cf6b25642882343cce659e20', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nCloses-bug: #1964472\nChange-Id: Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927\n(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)\n'}, {'number': 3, 'created': '2022-05-18 16:59:49.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1059921383060257b3a66596dec96a04b208dea9', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nCloses-bug: #1964472\nChange-Id: Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927\n(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)\n(cherry picked from commit 3402aa7a53a48e6abc0fb8a2620cd449fd3f75fe)\n'}]",2,838550,1059921383060257b3a66596dec96a04b208dea9,22,4,3,10058,,,0,"Adds regression test for bug LP#1944619

Related-bug: #1944619
Closes-bug: #1964472
Change-Id: Ie7e5377aea23a4fbd7ad91f245d17def6d0fb927
(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)
(cherry picked from commit 3402aa7a53a48e6abc0fb8a2620cd449fd3f75fe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/838550/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1944619.py'],1,9409371df92e19f7e294043dd2f1e290760913f3,bug/1944619,"# Copyright 2021, Canonical, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import exception as nova_exceptions from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base class TestRollbackWithHWOffloadedOVS( base.LibvirtMigrationMixin, base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug LP#1944619 Assert the behaviour observed in bug LP#1944619 caused by the live migration cleanup code being used to cleanup pre-live migration failures. When SRIOV devices are in use on a VM, that will cause the source host to try to re-attach a VIF not actually de-attached causing a failure. The exception mocked in pre_live_migration reproduce an arbitrary error that might cause the pre-live migration process to fail and rollback_live_migration_at_source reproduce the device re-attach failure. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True def setUp(self): super().setUp() self.start_compute( hostname='src', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.start_compute( hostname='dest', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.src = self.computes['src'] self.dest = self.computes['dest'] def test_rollback_pre_live_migration(self): self.server = self._create_server(host='src', networks='none') lib_path = ""nova.virt.libvirt.driver.LibvirtDriver"" funtion_path = ""pre_live_migration"" mock_lib_path_prelive = ""%s.%s"" % (lib_path, funtion_path) with mock.patch(mock_lib_path_prelive, side_effect=nova_exceptions.DestinationDiskExists( path='/var/non/existent')) as mlpp: funtion_path = ""rollback_live_migration_at_source"" mock_lib_path_rollback = ""%s.%s"" % (lib_path, funtion_path) with mock.patch(mock_lib_path_rollback) as mlpr: # Live migrate the instance to another host self._live_migrate(self.server, migration_expected_state='failed', server_expected_state='MIGRATING') # FIXME(erlon): In the current behavior, # rollback_live_migration_at_source is called if an error happens # during the pre_live_migration phase on the destination and therefore # triggers the observed bug. rollback_live_migration_at_source should # *not* be called for when errors happen during pre_live_migration # phase. mlpr.assert_called_once() mlpp.assert_called_once() ",,82,0
openstack%2Fnova~stable%2Fussuri~I20d6339a5203aed058f432f68e2ec1af57030401,openstack/nova,stable/ussuri,I20d6339a5203aed058f432f68e2ec1af57030401,Define new functional test tox env for placement gate to run,MERGED,2022-05-05 22:06:58.000000000,2022-05-25 15:27:55.000000000,2022-05-25 15:25:04.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 22:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10724184d615450062875e68bf93f4056ec760c4', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\nConflicts:\n    tox.ini\n\nNOTE(melwitt): The conflict is because change\nI1d6a2986fcb0435cfabdd104d202b65329909d2b (Moving functional jobs to\nVictoria testing runtime) is not in Ussuri.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)\n(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)\n(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)\n(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)\n""}, {'number': 2, 'created': '2022-05-09 23:55:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e6c69f2f4a917b63ed5636d386d2c908268a7f0', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\nConflicts:\n    tox.ini\n\nNOTE(melwitt): The conflict is because change\nI1d6a2986fcb0435cfabdd104d202b65329909d2b (Moving functional jobs to\nVictoria testing runtime) is not in Ussuri. The stestr option for the\nexclude regex also had to be changed because --exclude-regex is not in\nstestr 3.0.1, the version installed in Ussuri.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)\n(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)\n(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)\n(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)\n""}]",1,840771,6e6c69f2f4a917b63ed5636d386d2c908268a7f0,9,2,2,4690,,,0,"Define new functional test tox env for placement gate to run

We have placement-nova-tox-functional-py38 job defined and run
on placement gate[1] to run the nova functional test excluding
api and notification _sample_tests, and db-related tests but that
job skip those tests via tox_extra_args which is not right way
to do as we currently facing error when tox_extra_args is included
in tox siblings task
- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d

- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Let's define a new tox env which can exclude the required test
in stestr command itself.

Conflicts:
    tox.ini

NOTE(melwitt): The conflict is because change
I1d6a2986fcb0435cfabdd104d202b65329909d2b (Moving functional jobs to
Victoria testing runtime) is not in Ussuri. The stestr option for the
exclude regex also had to be changed because --exclude-regex is not in
stestr 3.0.1, the version installed in Ussuri.

[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83

Change-Id: I20d6339a5203aed058f432f68e2ec1af57030401
(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)
(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)
(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)
(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/840771/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,10724184d615450062875e68bf93f4056ec760c4,,[testenv:functional-without-sample-db-tests] description = Run functional tests by excluding the API|Notification sample tests and DB tests. This env is used in placement-nova-tox-functional-py38 job which is defined and run in placement. deps = {[testenv:functional]deps} commands = stestr --test-path=./nova/tests/functional run --exclude-regex '((?:api|notification)_sample_tests|functional\.db\.)' {posargs} ,,10,0
openstack%2Fglance~master~I0cf35ed7e21497826cd581e59aa58774f030b9f6,openstack/glance,master,I0cf35ed7e21497826cd581e59aa58774f030b9f6,Bump Image API version to 2.16,MERGED,2022-05-23 21:19:48.000000000,2022-05-25 15:27:53.000000000,2022-05-25 15:25:00.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 21:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/832c85edd15d053d42f330a75a4e043e2ebe0111', 'message': ""Bump Image API version to 2.16\n\nThis API version increment is due to change I6a875a38bef5, which\ncorrected the response code for the admin-only API call:\n    PUT /v2/cache/{image_id}\nThe call now returns 202 upon success (it had been returning 200).\n\nThe intent of this version bump is to get the attention of operators\nto take note of this change; from now on, the call always returns 202\nupon success regardless of what API version you request.\n\nAdditionally, cleaned up some version tests that had gotten out of\ndate and were not thoroughly testing version negotiation.\n\nAlso, corrected the version negotiation code around the v2.13 API.\nThe versions response had been modified by change I6882fd2381e6 to\nonly include v2.13 when the 'enabled_backends' config option had a\nvalue, but the versions negotiation code was not updated to reflect\nthat.\n\nChange-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6\nRelated-bug: #1971521\n""}, {'number': 2, 'created': '2022-05-24 15:45:38.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'releasenotes/notes/api-2.16-8417b1e23322fedb.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/11989a18f4ede07026a435abb3d695a075ae7004', 'message': ""Bump Image API version to 2.16\n\nThis API version increment is due to change I6a875a38bef5, which\ncorrected the response code for the admin-only API call:\n    PUT /v2/cache/{image_id}\nThe call now returns 202 upon success (it had been returning 200).\n\nThe intent of this version bump is to get the attention of operators\nto take note of this change; from now on, the call always returns 202\nupon success regardless of what API version you request.\n\nAdditionally, cleaned up some version tests that had gotten out of\ndate and were not thoroughly testing version negotiation.\n\nAlso, corrected the version negotiation code around the v2.13 API.\nThe versions response had been modified by change I6882fd2381e6 to\nonly include v2.13 when the 'enabled_backends' config option had a\nvalue, but the versions negotiation code was not updated to reflect\nthat.\n\nChange-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6\nRelated-bug: #1971521\n""}]",3,843028,11989a18f4ede07026a435abb3d695a075ae7004,15,3,2,5314,,,0,"Bump Image API version to 2.16

This API version increment is due to change I6a875a38bef5, which
corrected the response code for the admin-only API call:
    PUT /v2/cache/{image_id}
The call now returns 202 upon success (it had been returning 200).

The intent of this version bump is to get the attention of operators
to take note of this change; from now on, the call always returns 202
upon success regardless of what API version you request.

Additionally, cleaned up some version tests that had gotten out of
date and were not thoroughly testing version negotiation.

Also, corrected the version negotiation code around the v2.13 API.
The versions response had been modified by change I6882fd2381e6 to
only include v2.13 when the 'enabled_backends' config option had a
value, but the versions negotiation code was not updated to reflect
that.

Change-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6
Related-bug: #1971521
",git fetch https://review.opendev.org/openstack/glance refs/changes/28/843028/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'releasenotes/notes/api-2.16-8417b1e23322fedb.yaml']",4,832c85edd15d053d42f330a75a4e043e2ebe0111,v2.16,"--- features: - | When the Glance image cache is being used, the CURRENT version of the Image service API, as indicated in the ``GET /versions`` response, is 2.16. upgrade: - | The Image service API call ``PUT /v2/cache/{image_id}`` now returns a 202 (Accepted) response code to indicate success. In glance 24.0.0 (the initial Yoga release), it had mistakenly returned a 200. fixes: - | Bug `1971521 <https://bugs.launchpad.net/glance/+bug/1971521>`_: Fixed the success response code of the REST API call ``PUT /v2/cache/{image_id}`` to be 202 (Accepted), following the original design of the feature. ",,83,23
openstack%2Fneutron-tempest-plugin~master~I0d3021f32e71519721723548873a66523035fddd,openstack/neutron-tempest-plugin,master,I0d3021f32e71519721723548873a66523035fddd,taas: use ssh_key_type from config for taas scenario,MERGED,2022-05-17 13:55:54.000000000,2022-05-25 15:25:09.000000000,2022-05-25 15:25:09.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 13:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cc35f1cc8349f1039154640fe68b3b9cadd62835', 'message': 'taas: use ssh_key_type from config for taas scenario\n\nCloses-Bug: #1973755\nRelated-Bug: #1963907\n\nChange-Id: I0d3021f32e71519721723548873a66523035fddd\n'}, {'number': 2, 'created': '2022-05-19 05:36:12.000000000', 'files': ['neutron_tempest_plugin/tap_as_a_service/scenario/test_traffic_impact.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fc376047948826ac5906e8c628baf8972d449803', 'message': 'taas: use ssh_key_type from config for taas scenario\n\nCloses-Bug: #1973755\nRelated-Bug: #1963907\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-fwaas/+/842254\nDepends-On: https://review.opendev.org/c/openstack/tap-as-a-service/+/842134\nChange-Id: I0d3021f32e71519721723548873a66523035fddd\n'}]",5,842113,fc376047948826ac5906e8c628baf8972d449803,21,7,2,8313,,,0,"taas: use ssh_key_type from config for taas scenario

Closes-Bug: #1973755
Related-Bug: #1963907

Depends-On: https://review.opendev.org/c/openstack/neutron-fwaas/+/842254
Depends-On: https://review.opendev.org/c/openstack/tap-as-a-service/+/842134
Change-Id: I0d3021f32e71519721723548873a66523035fddd
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/13/842113/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/tap_as_a_service/scenario/test_traffic_impact.py'],1,cc35f1cc8349f1039154640fe68b3b9cadd62835,bug/1973755," pkey=self.keypair['private_key'], ssh_key_type=CONF.validation.ssh_key_type) pkey=self.keypair['private_key'], ssh_key_type=CONF.validation.ssh_key_type) pkey=self.keypair['private_key'], ssh_key_type=CONF.validation.ssh_key_type)", pkey=self.keypair['private_key']) pkey=self.keypair['private_key']) pkey=self.keypair['private_key']),6,3
openstack%2Fdevstack~master~Ia5e6cca16774385622e737956b8ed917fe36e075,openstack/devstack,master,Ia5e6cca16774385622e737956b8ed917fe36e075,DNM: lib/tempest: create a config var for every image,NEW,2022-05-25 13:42:27.000000000,2022-05-25 15:23:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 13:42:27.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/42770003594705f9aa3ff9b93f6c2b601b073e6a', 'message': 'DNM: lib/tempest: create a config var for every image\n\nTrying something out.\n\nChange-Id: Ia5e6cca16774385622e737956b8ed917fe36e075\n'}]",0,843287,42770003594705f9aa3ff9b93f6c2b601b073e6a,2,1,1,5314,,,0,"DNM: lib/tempest: create a config var for every image

Trying something out.

Change-Id: Ia5e6cca16774385622e737956b8ed917fe36e075
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/843287/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,42770003594705f9aa3ff9b93f6c2b601b073e6a,multiple-img-vars," # in addition to the legacy image vars, create a var for each image for (( i=0; i<${#images[*]}; i++ )); do iniset $TEMPEST_CONFIG compute image_ref_$i ${images[$i]} done",,4,0
openstack%2Fpython-tripleoclient~master~Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a,openstack/python-tripleoclient,master,Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a,"Revert ""Remove masquerade-networks-baremetal-puppet inclusion""",MERGED,2022-05-25 06:12:48.000000000,2022-05-25 15:20:20.000000000,2022-05-25 15:18:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-25 06:12:48.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'releasenotes/notes/hiera-override-masquerade-e17bdf22c94aad2f.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d8dabbc66664d9982a8922afc53eb891f49b76bf', 'message': 'Revert ""Remove masquerade-networks-baremetal-puppet inclusion""\n\nThis reverts commit 97a155ea28c2394734a6a516c1bbc6d15fb3db73.\n\nReason for revert: Caused breakage in ovb jobs,\ndetails in https://bugs.launchpad.net/tripleo/+bug/1975591\n\nChange-Id: Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a\n'}]",4,843196,d8dabbc66664d9982a8922afc53eb891f49b76bf,14,7,1,29775,,,0,"Revert ""Remove masquerade-networks-baremetal-puppet inclusion""

This reverts commit 97a155ea28c2394734a6a516c1bbc6d15fb3db73.

Reason for revert: Caused breakage in ovb jobs,
details in https://bugs.launchpad.net/tripleo/+bug/1975591

Change-Id: Ifabdd463a758f53e9a4f4dd335fcf5bf4ef3132a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/843196/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'releasenotes/notes/hiera-override-masquerade-e17bdf22c94aad2f.yaml']",3,d8dabbc66664d9982a8922afc53eb891f49b76bf,masquerade-ansible,,"--- upgrade: - | The operator cannot override the masquerade_networks using hieradata_override in the undercloud.conf. They now must provide a custom env file, using custom_env_file and passing the hash through MasqueradeNetworks parameter. deprecations: - | hieradata ""tripleo::masquerade_networks::masquerade_networks"" has no effect anymore. ",7,11
openstack%2Fdevstack-gate~master~I37887bf430b4bce2b9d2179b2d6dd6c050bb1768,openstack/devstack-gate,master,I37887bf430b4bce2b9d2179b2d6dd6c050bb1768,Switch legacy-tempest-neutron-full-stable to focal,MERGED,2022-05-24 17:18:28.000000000,2022-05-25 15:14:59.000000000,2022-05-25 15:14:59.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 17:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f31b20bf37c679709247860bd9813198d8c22ce4', 'message': ""Switch legacy-tempest-neutron-full-stable to focal\n\nlegacy-tempest-neutron-full-stable deploy's stable/wallaby\nand is running on ubuntu-bionic(py3.6) and failing in tempest\nsetup as tempest master no longer works with py3.6.\n\nMaster is dropping py3.6 support, currently oslo.log has already\ndropped the support and it's latest release is not installable\non py3.6.\n\nSo let's switch this job to ubuntu-focal which is py3.8.\n\nChange-Id: I37887bf430b4bce2b9d2179b2d6dd6c050bb1768\n""}, {'number': 2, 'created': '2022-05-25 05:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9dfbb9eead8b9efde646a4b1d8b7c08429e3b415', 'message': ""Switch legacy-tempest-neutron-full-stable to focal\n\nlegacy-tempest-neutron-full-stable deploy's stable/wallaby\nand is running on ubuntu-bionic(py3.6) and failing in tempest\nsetup as tempest master no longer works with py3.6.\n\nMaster is dropping py3.6 support, currently oslo.log has already\ndropped the support and it's latest release is not installable\non py3.6.\n\nAlso Pin Markusafe, as since version 2.1.0 it dropped\nmodule 'soft_unicode' which is required by Jinja2.\n\nSo let's switch this job to ubuntu-focal which is py3.8.\n\nChange-Id: I37887bf430b4bce2b9d2179b2d6dd6c050bb1768\n""}, {'number': 3, 'created': '2022-05-25 06:02:24.000000000', 'files': ['.zuul.yaml', 'devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/28382fcf1ee68cbdf66841002c311f07ed4bd576', 'message': ""Switch legacy-tempest-neutron-full-stable to focal\n\nlegacy-tempest-neutron-full-stable deploy's stable/wallaby\nand is running on ubuntu-bionic(py3.6) and failing in tempest\nsetup as tempest master no longer works with py3.6.\n\nMaster is dropping py3.6 support, currently oslo.log has already\ndropped the support and it's latest release is not installable\non py3.6.\n\nPin Markusafe, as since version 2.1.0 it dropped\nmodule 'soft_unicode' which is required by Jinja2.\n\nAlso update ansible version to 2.9.6 as of focal\nwhich should auto discover python as per distro.\n\nSo let's switch this job to ubuntu-focal which is py3.8.\n\nChange-Id: I37887bf430b4bce2b9d2179b2d6dd6c050bb1768\n""}]",1,843176,28382fcf1ee68cbdf66841002c311f07ed4bd576,13,5,3,13861,,,0,"Switch legacy-tempest-neutron-full-stable to focal

legacy-tempest-neutron-full-stable deploy's stable/wallaby
and is running on ubuntu-bionic(py3.6) and failing in tempest
setup as tempest master no longer works with py3.6.

Master is dropping py3.6 support, currently oslo.log has already
dropped the support and it's latest release is not installable
on py3.6.

Pin Markusafe, as since version 2.1.0 it dropped
module 'soft_unicode' which is required by Jinja2.

Also update ansible version to 2.9.6 as of focal
which should auto discover python as per distro.

So let's switch this job to ubuntu-focal which is py3.8.

Change-Id: I37887bf430b4bce2b9d2179b2d6dd6c050bb1768
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/76/843176/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f31b20bf37c679709247860bd9813198d8c22ce4,fix-neutron-full-stable, nodeset: ubuntu-focal,,1,0
openstack%2Fmetalsmith~master~Id8e635de7bd8a246af7ae1750a556b752dd7dc85,openstack/metalsmith,master,Id8e635de7bd8a246af7ae1750a556b752dd7dc85,Provide a work around to fix the CI,MERGED,2022-05-24 07:45:40.000000000,2022-05-25 14:52:55.000000000,2022-05-25 14:51:19.000000000,"[{'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 07:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/848f5057d736e02f1f3e82fd72099725056e5d49', 'message': 'DNM test the CI\n\nChange-Id: Id8e635de7bd8a246af7ae1750a556b752dd7dc85\n'}, {'number': 2, 'created': '2022-05-24 10:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/cacd65fe64412d067c5ad23b0af9db66c88c0ced', 'message': 'Provide a work around to fix the CI\n\nSomehow, openstacksdk ends up logging to stdout. Strip the log message\nbefore parsing it as JSON.\n\nChange-Id: Id8e635de7bd8a246af7ae1750a556b752dd7dc85\n'}, {'number': 3, 'created': '2022-05-24 12:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d92cf3c10f198fd5bc72f7d0d937444780f16556', 'message': 'Provide a work around to fix the CI\n\nSomehow, openstacksdk ends up logging to stdout. Strip the log message\nbefore parsing it as JSON.\n\nChange-Id: Id8e635de7bd8a246af7ae1750a556b752dd7dc85\n'}, {'number': 4, 'created': '2022-05-24 13:34:12.000000000', 'files': ['playbooks/integration/exercise.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5816be550b59b70cc62dd16af32b2adc02142e86', 'message': 'Provide a work around to fix the CI\n\nSomehow, openstacksdk ends up logging to stdout. Strip the log message\nbefore parsing it as JSON.\n\nChange-Id: Id8e635de7bd8a246af7ae1750a556b752dd7dc85\n'}]",1,843112,5816be550b59b70cc62dd16af32b2adc02142e86,14,3,4,10239,,,0,"Provide a work around to fix the CI

Somehow, openstacksdk ends up logging to stdout. Strip the log message
before parsing it as JSON.

Change-Id: Id8e635de7bd8a246af7ae1750a556b752dd7dc85
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/12/843112/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,848f5057d736e02f1f3e82fd72099725056e5d49,gate, - openstack/diskimage-builder, - openstack/diskimage-builder,1,1
openstack%2Fglance~master~I7f98bf9970631ef4b3635752383b62b0b9f9a32a,openstack/glance,master,I7f98bf9970631ef4b3635752383b62b0b9f9a32a,Replacing the link in HACKING.rst,ABANDONED,2018-11-16 01:55:36.000000000,2022-05-25 14:22:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 27882}]","[{'number': 1, 'created': '2018-11-16 01:55:36.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/2ae378ee046cf52c014108acb3294b9e99b29a8b', 'message': 'Replacing the link in HACKING.rst\n\nChange-Id: I7f98bf9970631ef4b3635752383b62b0b9f9a32a\n'}]",0,618368,2ae378ee046cf52c014108acb3294b9e99b29a8b,4,2,1,29423,,,0,"Replacing the link in HACKING.rst

Change-Id: I7f98bf9970631ef4b3635752383b62b0b9f9a32a
",git fetch https://review.opendev.org/openstack/glance refs/changes/68/618368/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,2ae378ee046cf52c014108acb3294b9e99b29a8b,, https://docs.openstack.org/hacking/latest/, http://docs.openstack.org/developer/hacking/,1,1
openstack%2Ftripleo-ci~master~Ia230c08817f138c2cba60076d29e1d58fde118c8,openstack/tripleo-ci,master,Ia230c08817f138c2cba60076d29e1d58fde118c8,Pass centos.repo from host during image build.,MERGED,2022-05-24 07:38:20.000000000,2022-05-25 14:04:53.000000000,2022-05-25 14:04:53.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-05-24 07:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/525cf4ba73016efa7d669c5edcee7235f8606481', 'message': 'Pass centos.repo from host during image build.\n\nWe are facing an issue during image build in the related bug,\nbecause mirrors.centos.org and vexx mirrors are not in sync.\n\nThe base image which we use to build overcloud images already have\ncentos.repo and when proxy mirros are not updated this can cause\nan issue.\n\nThis is a workaround patch to pass centos.repo(which is disabled)\nfrom host so repos in image will be overridden.\n\nRelated-Bug: #1975551\nChange-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8\n'}, {'number': 2, 'created': '2022-05-24 08:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9ee1b8809897afe77cd01b6b8728ed0827704042', 'message': 'Pass centos.repo from host during image build.\n\nWe are facing an issue during image build in the related bug,\nbecause mirrors.centos.org and vexx mirrors are not in sync.\n\nThe base image which we use to build overcloud images already have\ncentos.repo and when proxy mirros are not updated this can cause\nan issue.\n\nThis is a workaround patch to pass centos.repo(which is disabled)\nfrom host so repos in image will be overridden.\n\nRelated-Bug: #1975551\nChange-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8\n'}, {'number': 3, 'created': '2022-05-24 12:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/966763f8b88efb4eff847d545648d607b1205f93', 'message': 'Pass centos.repo from host during image build.\n\nWe are facing an issue during image build in the related bug,\nbecause mirrors.centos.org and vexx mirrors are not in sync.\n\nThe base image which we use to build overcloud images already have\ncentos.repo and when proxy mirros are not updated this can cause\nan issue.\n\nThis is a workaround patch to pass centos repos(which are disabled\non host) so that same repos in the image will be overridden.\n\nOne change in behavior is at the end of image build, dib will delete\nthe centos.repos and centos-addons.repo in the overcloud image as\ndib cleans up what it adds ignoring what was already present.\n\nRelated-Bug: #1975551\nChange-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8\n'}, {'number': 4, 'created': '2022-05-24 14:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c43d0eade85a4964bc0fbb48826c836a2a64aeeb', 'message': 'Pass centos.repo from host during image build.\n\nWe are facing an issue during image build in the related bug,\nbecause mirrors.centos.org and vexx mirrors are not in sync.\n\nThe base image which we use to build overcloud images already have\ncentos.repo and when proxy mirros are not updated this can cause\nan issue.\n\nThis is a workaround patch to pass centos.repo(which are disabled\non host) so that same repos in the image will be overridden.\n\nOne change in behavior is at the end of image build, dib will delete\nthe centos.repos in the overcloud image as dib cleans up what it adds\nignoring what was already present.\n\nRelated-Bug: #1975551\nChange-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8\n'}, {'number': 5, 'created': '2022-05-24 15:00:28.000000000', 'files': ['roles/oooci-build-images/vars/centos-9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2ce4b4c101d68eaa71d1499609423e10f50f2d5', 'message': 'Pass centos.repo from host during image build.\n\nWe are facing an issue during image build in the related bug,\nbecause mirrors.centos.org and vexx mirrors are not in sync.\n\nThe base image which we use to build overcloud images already have\ncentos.repo and when proxy mirros are not updated this can cause\nan issue.\n\nThis is a workaround patch to pass centos.repo(which are disabled\non host) so that same repos in the image will be overridden.\n\nOne change in behavior is at the end of image build, dib will delete\nthe centos.repos in the overcloud image as dib cleans up what it adds\nignoring what was already present.\n\nRelated-Bug: #1975551\nChange-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8\n'}]",13,843111,b2ce4b4c101d68eaa71d1499609423e10f50f2d5,31,13,5,29775,,,0,"Pass centos.repo from host during image build.

We are facing an issue during image build in the related bug,
because mirrors.centos.org and vexx mirrors are not in sync.

The base image which we use to build overcloud images already have
centos.repo and when proxy mirros are not updated this can cause
an issue.

This is a workaround patch to pass centos.repo(which are disabled
on host) so that same repos in the image will be overridden.

One change in behavior is at the end of image build, dib will delete
the centos.repos in the overcloud image as dib cleans up what it adds
ignoring what was already present.

Related-Bug: #1975551
Change-Id: Ia230c08817f138c2cba60076d29e1d58fde118c8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/11/843111/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,525cf4ba73016efa7d669c5edcee7235f8606481,, - /etc/yum.repos.d/centos.repo,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Idae2ba0cd9a35044c124a6d05ee050e10adde60e,openstack/tripleo-heat-templates,stable/victoria,Idae2ba0cd9a35044c124a6d05ee050e10adde60e,Ceilometer: Remove incomplete cache parameters,MERGED,2022-03-22 06:09:13.000000000,2022-05-25 14:04:50.000000000,2022-05-25 14:04:50.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-22 06:09:13.000000000', 'files': ['deployment/ceilometer/ceilometer-base-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff1c593f0fa04bf7f982bfe101578920d2912c77', 'message': 'Ceilometer: Remove incomplete cache parameters\n\nCurrently when TLS for memcached service is enabled, caching in\nceilometer is enabled.\n\nHowever the configuration is incomplete and the pymemcache backend is\nused with no actual backend server.\n\nThis change removes the cache parameters completely, as we had never\nenabled caching in Ceilometer previously.\n\n(to wallaby)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable/wallaby\n\n4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1\nAllow tuning rpc_response_timeout\n\n263fee246a4214f4c56c675cd1245ea77a3cd9ea\nEnsure db initialization is not executed by puppet\n\n(to victoria)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nCloses-Bug: #1964873\nChange-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e\n(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)\n(cherry picked from commit 2aa408f465015c0e99f269da779ef19c68300534)\n'}]",0,834618,ff1c593f0fa04bf7f982bfe101578920d2912c77,9,3,1,9816,,,0,"Ceilometer: Remove incomplete cache parameters

Currently when TLS for memcached service is enabled, caching in
ceilometer is enabled.

However the configuration is incomplete and the pymemcache backend is
used with no actual backend server.

This change removes the cache parameters completely, as we had never
enabled caching in Ceilometer previously.

(to wallaby)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Resolved conflicts caused by the following two changes which are not
present in stable/wallaby

4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1
Allow tuning rpc_response_timeout

263fee246a4214f4c56c675cd1245ea77a3cd9ea
Ensure db initialization is not executed by puppet

(to victoria)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Closes-Bug: #1964873
Change-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e
(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)
(cherry picked from commit 2aa408f465015c0e99f269da779ef19c68300534)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/834618/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,ff1c593f0fa04bf7f982bfe101578920d2912c77,bug/1964873-stable/victoria,," MemcachedTLS: default: false description: Set to True to enable TLS on Memcached service. Because not all services support Memcached TLS, during the migration period, Memcached will listen on 2 ports - on the port set with MemcachedPort parameter (above) and on 11211, without TLS. type: boolean - if: - {get_param: MemcachedTLS} - ceilometer::cache_backend: 'dogpile.cache.pymemcache' ceilometer::cache_tls_enabled: true - {}",0,13
openstack%2Fironic~stable%2Fxena~I936f6c1506c585826501ff3ac0bad0c755b4d360,openstack/ironic,stable/xena,I936f6c1506c585826501ff3ac0bad0c755b4d360,Fix ironic-lib from source and branch detection in IPA builds,MERGED,2022-04-29 17:36:54.000000000,2022-05-25 13:32:31.000000000,2022-05-25 13:30:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 17:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6131c0af5ec148f4d03d72b5ac23f10d891c113b', 'message': 'Trivial: fix a typo in the devstack plugin\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b6d901e70c30c935376fbba136782ef9a774c398)\n'}, {'number': 2, 'created': '2022-04-29 19:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/131680a055c8686ff52aad5cd60e920823ff8903', 'message': 'Fix ironic-lib from source and branch detection in DIB builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit bac897b01d864e8781394e5ececb119015dc6442)\n'}, {'number': 3, 'created': '2022-05-02 10:20:59.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/41f8ed7c0bf1ba84c6df3c0c080b571e326396aa', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n'}]",4,839984,41f8ed7c0bf1ba84c6df3c0c080b571e326396aa,33,3,3,10239,,,0,"Fix ironic-lib from source and branch detection in IPA builds

Prevents the ironic-lib CI from testing ironic-lib changes in IPA.

Change-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360
(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/839984/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,6131c0af5ec148f4d03d72b5ac23f10d891c113b,, if [ -e $DEST/ironic-lib ]; then, if -e $DEST/ironic-lib; then,1,1
openstack%2Ftripleo-validations~stable%2Ftrain~Ie268e91341610dad36c3ddc79496cc174f732900,openstack/tripleo-validations,stable/train,Ie268e91341610dad36c3ddc79496cc174f732900,Validate libvirtd is not running on the undercloud,MERGED,2022-03-03 14:25:04.000000000,2022-05-25 13:15:58.000000000,2022-05-25 13:13:05.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-03-03 14:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/145a852f1fc22a0f7770b61fbce270f971f26fff', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}, {'number': 2, 'created': '2022-04-28 14:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/394e1c9452721e7dc7864b9849be8768739fdedc', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}, {'number': 3, 'created': '2022-05-11 06:58:35.000000000', 'files': ['playbooks/undercloud-disabled-services.yaml', 'roles/undercloud_disabled_services/defaults/main.yml', 'roles/undercloud_disabled_services/tasks/main.yml', 'doc/source/roles/role-undercloud_disabled_services.rst', 'roles/undercloud_disabled_services/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c2472bf0bea869c01e7bc40b05581c4e157a73e2', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}]",5,831761,c2472bf0bea869c01e7bc40b05581c4e157a73e2,22,4,3,7130,,,0,"Validate libvirtd is not running on the undercloud

Validate libvirtd is not running on the undercloud as its dnsmasq
process is conflicting with ironic-inspector dnsmasq process.

Change-Id: Ie268e91341610dad36c3ddc79496cc174f732900
(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/61/831761/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud-disabled-services.yaml', 'roles/undercloud_disabled_services/defaults/main.yml', 'doc/source/roles/role-undercloud_disabled_services.rst', 'roles/undercloud_disabled_services/tasks/main.yml', 'roles/undercloud_disabled_services/vars/main.yaml']",5,145a852f1fc22a0f7770b61fbce270f971f26fff,libvirt_validation-stable/wallaby-stable/victoria-stable/ussuri-stable/train,--- metadata: name: Verify undercloud services state before running update or upgrade description: > Check undercloud status before running a stack update - especially minor update and major upgrade. groups: - post-upgrade - pre-upgrade ,,57,0
openstack%2Ftripleo-ci~master~I06adec92cc19214878f41001ea2999eb7923b9bd,openstack/tripleo-ci,master,I06adec92cc19214878f41001ea2999eb7923b9bd,Run scenario010 standalone for changes to relevant file in tqe,MERGED,2022-05-22 16:27:54.000000000,2022-05-25 13:13:03.000000000,2022-05-25 13:13:03.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-22 16:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6116f450a525212c68ca761075d48829b0e2c8cd', 'message': 'Run scenario010 standalone for changes to relevant file in tqe\n\nIn [1] a new ceph-install task file is added to the standalone role\nThe scenario1/4 job matches against standalone/* already but scen010\nis not triggered. This adds the new ceph-install file to the\nscen010 files:\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/834352\n\nChange-Id: I06adec92cc19214878f41001ea2999eb7923b9bd\n'}, {'number': 2, 'created': '2022-05-23 12:30:28.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eeb507dfeba7ed652186994e15e5bfac369c5002', 'message': 'Run scenario010 standalone for changes to relevant file in tqe\n\nIn [1] a new ceph-install task file is added to the standalone role\nThe scenario1/4 job matches against standalone/* already but scen010\nis not triggered. This adds the new ceph-install file to the\nscen010 files:\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/834352\n\nChange-Id: I06adec92cc19214878f41001ea2999eb7923b9bd\n'}]",5,842900,eeb507dfeba7ed652186994e15e5bfac369c5002,16,5,2,18002,,,0,"Run scenario010 standalone for changes to relevant file in tqe

In [1] a new ceph-install task file is added to the standalone role
The scenario1/4 job matches against standalone/* already but scen010
is not triggered. This adds the new ceph-install file to the
scen010 files:

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/834352

Change-Id: I06adec92cc19214878f41001ea2999eb7923b9bd
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/00/842900/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,6116f450a525212c68ca761075d48829b0e2c8cd,deployed_ceph_ci, # tripleo-quickstart-extras - roles/standalone/tasks/ceph-install.yml,,2,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iecf3f3e20fa285563b23a7aff7deaa00616aca51,openstack/tripleo-ansible,stable/wallaby,Iecf3f3e20fa285563b23a7aff7deaa00616aca51,Modify cert gen to make it work under fips,MERGED,2022-05-23 20:49:30.000000000,2022-05-25 13:13:00.000000000,2022-05-25 13:13:00.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-05-23 20:49:30.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/templates/openssl.cnf.j2', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08dc9bd4663418d992742c25f5eeff2fec5e1d93', 'message': 'Modify cert gen to make it work under fips\n\nSome openssl command line utilities (e.g. openssl req) accept a\nsupplementary config file as an option. This config file should\ncontain only supplementary sections. If you use the main\nconfiguration file as supplementary, it may cause strange errors\nbecause openssl will try to activate the providers twice. This\nbehaviour existed for a long time but before the 3.0 version\nit caused problems less often, and it appears to fail consistently\nunder FIPS.\n\nIn this commit, we create a config file with just those configs\nthat are necessary.\n\nChange-Id: Iecf3f3e20fa285563b23a7aff7deaa00616aca51\n(cherry picked from commit 4fc439a03ea561f629b86ba3aa0159504facc867)\n'}]",1,842945,08dc9bd4663418d992742c25f5eeff2fec5e1d93,8,7,1,9914,,,0,"Modify cert gen to make it work under fips

Some openssl command line utilities (e.g. openssl req) accept a
supplementary config file as an option. This config file should
contain only supplementary sections. If you use the main
configuration file as supplementary, it may cause strange errors
because openssl will try to activate the providers twice. This
behaviour existed for a long time but before the 3.0 version
it caused problems less often, and it appears to fail consistently
under FIPS.

In this commit, we create a config file with just those configs
that are necessary.

Change-Id: Iecf3f3e20fa285563b23a7aff7deaa00616aca51
(cherry picked from commit 4fc439a03ea561f629b86ba3aa0159504facc867)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/842945/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_config/templates/openssl.cnf.j2', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml']",2,08dc9bd4663418d992742c25f5eeff2fec5e1d93,fips-compatibility-stable/wallaby," ansible.builtin.template: src: openssl.cnf.j2 dest: ""{{ openssl_temp_dir }}/openssl.cnf"" mode: '0640'"," copy: src=""/etc/pki/tls/openssl.cnf"" dest=""{{ openssl_temp_dir }}/openssl.cnf"" remote_src=yes - name: update openssl directory entry in the configuration file become: true ini_file: path=""{{ openssl_temp_dir }}/openssl.cnf"" section="" CA_default "" option=""dir"" value=""{{ openssl_temp_dir }}"" - name: update openssl ca certificate file in the configuration file become: true replace: path=""{{ openssl_temp_dir }}/openssl.cnf"" regexp=""cacert.pem"" replace=""ca_01.pem""",110,9
openstack%2Fos-service-types~master~Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab,openstack/os-service-types,master,Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab,Add Python 3.8 and 3.9 to supported runtimes,NEW,2022-05-25 11:55:52.000000000,2022-05-25 13:06:29.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 11:55:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/e32eb594a70ec4b00582b6aa00f89db00b1238f1', 'message': 'Add Python 3.8 and 3.9 to supported runtimes\n\n... because these are part of test runtimes since Yoga development\ncycle.\n\nChange-Id: Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab\n'}]",0,843266,e32eb594a70ec4b00582b6aa00f89db00b1238f1,3,2,1,9816,,,0,"Add Python 3.8 and 3.9 to supported runtimes

... because these are part of test runtimes since Yoga development
cycle.

Change-Id: Ib5fc73c4e076092e9579ee5eb2cc5e5a8c76c6ab
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/66/843266/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e32eb594a70ec4b00582b6aa00f89db00b1238f1,, Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9,,2,0
openstack%2Ftripleo-heat-templates~master~I56ed59a47a0baf30d6d05b5eed629a1112bbabfb,openstack/tripleo-heat-templates,master,I56ed59a47a0baf30d6d05b5eed629a1112bbabfb,Manage the masquerade rules via ansible instead of puppet,ABANDONED,2022-04-06 17:39:35.000000000,2022-05-25 12:54:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-06 17:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfff4f4ff20faacbe866a9c00a625d6e476d7bfb', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nDepends-On: I8baf65b25f875a2c9d83ba8ebd6a9ebdf39fe7ca\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 2, 'created': '2022-04-07 04:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1be5fd3048981eb7a391f294d6f32db0d446b1b5', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nDepends-On: I8baf65b25f875a2c9d83ba8ebd6a9ebdf39fe7ca\nDepends-On: I09744be1f4766a2a8241bfa79095fa97ea82c602\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 3, 'created': '2022-04-07 04:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2906b2e9f9b6238f510a35ecaea24fe8590b83d7', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: I8baf65b25f875a2c9d83ba8ebd6a9ebdf39fe7ca\nDepends-On: I09744be1f4766a2a8241bfa79095fa97ea82c602\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 4, 'created': '2022-04-07 09:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bce0174d834349bb75c61f8686d73ee6f263742', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: I8baf65b25f875a2c9d83ba8ebd6a9ebdf39fe7ca\nDepends-On: I09744be1f4766a2a8241bfa79095fa97ea82c602\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 5, 'created': '2022-04-07 12:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec467dda1995c9a052a2324c7bc1fe0721737c9e', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 6, 'created': '2022-04-12 05:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f1fc678c07eb87d96d776ff00d82623c2cb918a', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 7, 'created': '2022-04-14 09:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/141b59c3e5743233b44e2e810bc400960beb54b0', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 8, 'created': '2022-04-14 11:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/283fd49f89f22e8e2ce395de048048962c8360c8', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 9, 'created': '2022-04-14 14:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ece41a114497567147ee5c3e18ca3ace86f7653b', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 10, 'created': '2022-04-25 11:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/823f17092efc5f963e1a06f89cafe220d1d0cdd3', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/839196\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 11, 'created': '2022-04-25 12:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bf0e9540b2f8df072b030369b3d0e9e12c63b19', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/839196\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 12, 'created': '2022-05-06 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae17dfe06fb791d6eead929676668701d41b1e35', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/839196\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 13, 'created': '2022-05-09 12:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/087ceb63c0fcab36ad253528dd327e62c4ee8ab9', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/839196\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}, {'number': 14, 'created': '2022-05-24 08:18:15.000000000', 'files': ['environments/services/masquerade-networks.yaml', 'roles/Standalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/deprecated/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data_undercloud.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'roles/Undercloud.yaml', 'releasenotes/notes/hiera-override-masquerade-a76dd47f15577150.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/604355b5d2353f3825c1392c347dcc28a6fc9643', 'message': 'Manage the masquerade rules via ansible instead of puppet\n\nGet rid of puppet firewall management for the ""masquerade"" on the\nUndercloud, and use the tripleo-ansible ""tripleo_firewall"" role.\n\nWe can therefore deprecate the masquerade-networks-baremetal-puppet, and\nremove any mention of it in the different roles it was set.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952\nChange-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb\n'}]",17,836872,604355b5d2353f3825c1392c347dcc28a6fc9643,71,6,14,28223,,,0,"Manage the masquerade rules via ansible instead of puppet

Get rid of puppet firewall management for the ""masquerade"" on the
Undercloud, and use the tripleo-ansible ""tripleo_firewall"" role.

We can therefore deprecate the masquerade-networks-baremetal-puppet, and
remove any mention of it in the different roles it was set.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871
Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/836903
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/836952
Change-Id: I56ed59a47a0baf30d6d05b5eed629a1112bbabfb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/836872/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/masquerade-networks.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml', 'deployment/deprecated/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'common/services/role.role.j2.yaml']",4,dfff4f4ff20faacbe866a9c00a625d6e476d7bfb,masquerade-ansible, MasqueradeNetworks: default: {} description: Hash of masquerade networks to manage. type: json tripleo_masquerade_networks: {get_param: MasqueradeNetworks},,47,2
openstack%2Fdevstack-gate~master~I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe,openstack/devstack-gate,master,I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe,Update README file for d-g retirement date,MERGED,2022-04-30 00:17:09.000000000,2022-05-25 12:50:55.000000000,2022-05-02 16:59:22.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 00:17:09.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/83493cc0f81c1dd258968e3945f2ec344113d4d1', 'message': 'Update README file for d-g retirement date\n\nIn TC PTG, we decided to retire the d-g once\nstable/wallaby is in EM state and update it\nin README file so that anyone still using it\nwill know the retirement date.\n\n- https://etherpad.opendev.org/p/tc-zed-ptg#L379\n\nChange-Id: I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe\n'}]",0,840011,83493cc0f81c1dd258968e3945f2ec344113d4d1,8,4,1,8556,,,0,"Update README file for d-g retirement date

In TC PTG, we decided to retire the d-g once
stable/wallaby is in EM state and update it
in README file so that anyone still using it
will know the retirement date.

- https://etherpad.opendev.org/p/tc-zed-ptg#L379

Change-Id: I3e7eed4d260051d72e3ee9d6ed2ce726e85583fe
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/11/840011/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,83493cc0f81c1dd258968e3945f2ec344113d4d1,, We will retire it completely once stable/wallaby is in 'Extended Maintenance' state which is 2022-10-14. ,,3,0
openstack%2Ftripleo-heat-templates~master~I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a,openstack/tripleo-heat-templates,master,I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a,Log source ips instead of controller ips in apache access log,MERGED,2021-05-31 12:53:03.000000000,2022-05-25 12:46:23.000000000,2022-05-25 12:46:23.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-31 12:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f4176143b86038eb63ca37f9d6e021ff23c7ca6', 'message': 'Log source ips instead of controller ips in apache access log\n\nCurrently apache access logs has controller ips instead of source ips\nsince it simply records source ip of http traffict. This change ensures\nthat ip set in x-forwarded-for header is logged instead so that we can\nfind the actual client ip.\n\nDepends-on: https://review.opendev.org/793783\nChange-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a\n'}, {'number': 2, 'created': '2021-08-18 02:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c40de2bb79c78e387f778d61c1fce80fa2127157', 'message': 'Log source ips instead of controller ips in apache access log\n\nCurrently apache access logs has controller ips instead of source ips\nsince it simply records source ip of http traffict. This change ensures\nthat ip set in x-forwarded-for header is logged instead so that we can\nfind the actual client ip.\n\nDepends-on: https://review.opendev.org/793783\nChange-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a\n'}, {'number': 3, 'created': '2021-08-18 02:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac9796669ede9e9645ae40ab7ff40ceb86b3131a', 'message': 'Log source ips instead of controller ips in apache access log\n\nCurrently apache access logs has controller ips instead of source ips\nsince it simply records source ip of http traffic. This change ensures\nthat ip set in x-forwarded-for header is logged instead so that we can\nfind the actual client ip.\n\nDepends-on: https://review.opendev.org/793783\nChange-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a\n'}, {'number': 4, 'created': '2022-05-06 17:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43bf665ac05820877f4738da9c962b6fec7aea5c', 'message': 'Log source ips instead of controller ips in apache access log\n\nCurrently apache access logs has controller ips instead of source ips\nsince it simply records source ip of http traffic. This change ensures\nthat client ip is detected using the X-Forwarded-For header added by\nhaproxy.\n\nNote that the forwarded format does not log client ip if the header is\nmissing. Because of this, direct http requests(eg. healthcheck requests\nfrom haproxy) results in log lines without client ip.\n\nDepends-on: https://review.opendev.org/837504\nChange-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a\n'}, {'number': 5, 'created': '2022-05-06 17:16:11.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8604df61b39981c9f580a37fed66d2e8db238d8', 'message': 'Log source ips instead of controller ips in apache access log\n\nCurrently apache access logs have controller ips instead of source ips\nrecorded since apache simply records source ip of http traffic.\n\nThis change ensures that client ips are detected by the X-Forwarded-For\nheader added by haproxy.\n\nNote that the forwarded format does not log client ip if the header is\nmissing. Because of this, direct http requests(eg. healthcheck requests\nfrom haproxy) results in log lines without client ip.\n\nDepends-on: https://review.opendev.org/837504\nChange-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a\n'}]",2,793787,d8604df61b39981c9f580a37fed66d2e8db238d8,28,6,5,9816,,,0,"Log source ips instead of controller ips in apache access log

Currently apache access logs have controller ips instead of source ips
recorded since apache simply records source ip of http traffic.

This change ensures that client ips are detected by the X-Forwarded-For
header added by haproxy.

Note that the forwarded format does not log client ip if the header is
missing. Because of this, direct http requests(eg. healthcheck requests
from haproxy) results in log lines without client ip.

Depends-on: https://review.opendev.org/837504
Change-Id: I470c4c26f6d9977ba68a5d6eb9cd2c35af9e4b9a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/793787/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",16,0f4176143b86038eb63ca37f9d6e021ff23c7ca6,forwardfor, aodh::wsgi::apache::access_log_format: 'forwarded',,16,1
openstack%2Ftripleo-heat-templates~master~I09ca5baff60f472edee0a4bde59f9c2e575dfdee,openstack/tripleo-heat-templates,master,I09ca5baff60f472edee0a4bde59f9c2e575dfdee,Octavia: Accept lists for Ciphers parameters,MERGED,2022-04-12 14:19:18.000000000,2022-05-25 12:46:19.000000000,2022-05-25 12:46:19.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-12 14:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6bab7356e0b4a897c219a3b2f7342d50f1ea7cc', 'message': 'Octavia: Accept lists for Ciphers parameters\n\nThis is follow-up of 875155550959d112acc37f74d88a674fca640167 and\nallows usage of list values for ciphers parameters so that users can\nmore easily maintain items.\n\nList values are automatically converted to colon-separated strings by\npuppet-octavia .\n\nChange-Id: I09ca5baff60f472edee0a4bde59f9c2e575dfdee\n'}, {'number': 2, 'created': '2022-04-12 15:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e7b1a5c27b8b168ff9fafafef304275682b42d6', 'message': 'Octavia: Accept lists for Ciphers parameters\n\nThis is follow-up of 875155550959d112acc37f74d88a674fca640167 and\nallows usage of list values for ciphers parameters so that users can\nmore easily maintain items.\n\nList values are automatically converted to colon-separated strings by\npuppet-octavia .\n\nChange-Id: I09ca5baff60f472edee0a4bde59f9c2e575dfdee\n'}, {'number': 3, 'created': '2022-04-13 00:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96a28f82b567ca10e3527139c9d3439dd05abe3e', 'message': 'Octavia: Accept lists for Ciphers parameters\n\nThis is follow-up of 875155550959d112acc37f74d88a674fca640167 and\nallows usage of list values for ciphers parameters so that users can\nmore easily maintain items.\n\nList values are automatically converted to colon-separated strings by\npuppet-octavia .\n\nChange-Id: I09ca5baff60f472edee0a4bde59f9c2e575dfdee\n'}, {'number': 4, 'created': '2022-04-22 15:31:47.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fef8dacd9fc394f01df5a2a202938f672bbd43ef', 'message': 'Octavia: Accept lists for Ciphers parameters\n\nThis is follow-up of 875155550959d112acc37f74d88a674fca640167 and\nallows usage of list values for ciphers parameters so that users can\nmore easily maintain items. List values are automatically converted to\ncolon-separated strings by puppet-octavia .\n\nAlso, some default values are quite long and makes maintenance quite\ndifficult. Instead of hard-coding default, these parameters use service\ndefault when the values are unset(or intentionally set to empty lists).\n\nChange-Id: I09ca5baff60f472edee0a4bde59f9c2e575dfdee\n'}]",15,837575,fef8dacd9fc394f01df5a2a202938f672bbd43ef,38,5,4,9816,,,0,"Octavia: Accept lists for Ciphers parameters

This is follow-up of 875155550959d112acc37f74d88a674fca640167 and
allows usage of list values for ciphers parameters so that users can
more easily maintain items. List values are automatically converted to
colon-separated strings by puppet-octavia .

Also, some default values are quite long and makes maintenance quite
difficult. Instead of hard-coding default, these parameters use service
default when the values are unset(or intentionally set to empty lists).

Change-Id: I09ca5baff60f472edee0a4bde59f9c2e575dfdee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/837575/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,d6bab7356e0b4a897c219a3b2f7342d50f1ea7cc,, type: commma_separated_list default: - TLS_AES_256_GCM_SHA384 - TLS_CHACHA20_POLY1305_SHA256 - TLS_AES_128_GCM_SHA256 - DHE-RSA-AES256-GCM-SHA384 - DHE-RSA-AES128-GCM-SHA256 - ECDHE-RSA-AES256-GCM-SHA384 - ECDHE-RSA-AES128-GCM-SHA256 - DHE-RSA-AES256-SHA256 - DHE-RSA-AES128-SHA256 - ECDHE-RSA-AES256-SHA384 - ECDHE-RSA-AES128-SHA256 OctaviaDefaultPoolCiphers: type: comma_separated_list default: - TLS_AES_256_GCM_SHA384 - TLS_CHACHA20_POLY1305_SHA256 - TLS_AES_128_GCM_SHA256 - DHE-RSA-AES256-GCM-SHA384 - DHE-RSA-AES128-GCM-SHA256 - ECDHE-RSA-AES256-GCM-SHA384 - ECDHE-RSA-AES128-GCM-SHA256 - DHE-RSA-AES256-SHA256 - DHE-RSA-AES128-SHA256 - ECDHE-RSA-AES256-SHA384 - ECDHE-RSA-AES128-SHA256, type: string default: 'TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256' OctaviaDefaultPoolCiphers: type: string default: 'TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256',26,4
openstack%2Ftripleo-heat-templates~master~I3de64b2526422322ad10231d9d682a326d4435ca,openstack/tripleo-heat-templates,master,I3de64b2526422322ad10231d9d682a326d4435ca,Remove 'u' prefix,MERGED,2022-05-18 02:14:41.000000000,2022-05-25 12:44:58.000000000,2022-05-25 12:43:40.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 02:14:41.000000000', 'files': ['tripleo_heat_templates/environment_generator.py', 'scripts/check-run-nova-compute', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2a35f13d54ccbb3ad5842c66f9394b7ea265fd6', 'message': ""Remove 'u' prefix\n\nIn Python 3, u'...' and '...' are equivalent. Also, the prefix is no\nlonger printed.\n\nChange-Id: I3de64b2526422322ad10231d9d682a326d4435ca\n""}]",0,842250,b2a35f13d54ccbb3ad5842c66f9394b7ea265fd6,9,4,1,9816,,,0,"Remove 'u' prefix

In Python 3, u'...' and '...' are equivalent. Also, the prefix is no
longer printed.

Change-Id: I3de64b2526422322ad10231d9d682a326d4435ca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/842250/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_heat_templates/environment_generator.py', 'scripts/check-run-nova-compute', 'releasenotes/source/conf.py']",3,b2a35f13d54ccbb3ad5842c66f9394b7ea265fd6,,"project = 'tripleo-heat-templates Release Notes' copyright = '2017, TripleO Developers' ('index', 'tripleo-heat-templatesReleaseNotes.tex', 'tripleo-heat-templates Release Notes Documentation', '2016, TripleO Developers', 'manual'), ('index', 'tripleo-heat-templatesreleasenotes', 'tripleo-heat-templates Release Notes Documentation', ['2016, TripleO Developers'], 1) ('index', 'tripleo-heat-templatesReleaseNotes', 'tripleo-heat-templates Release Notes Documentation', '2016, TripleO Developers', 'tripleo-heat-templatesReleaseNotes', 'One line description of project.',","project = u'tripleo-heat-templates Release Notes' copyright = u'2017, TripleO Developers' ('index', 'tripleo-heat-templatesReleaseNotes.tex', u'tripleo-heat-templates Release Notes Documentation', u'2016, TripleO Developers', 'manual'), ('index', 'tripleo-heat-templatesreleasenotes', u'tripleo-heat-templates Release Notes Documentation', [u'2016, TripleO Developers'], 1) ('index', 'tripleo-heat-templatesReleaseNotes', u'tripleo-heat-templates Release Notes Documentation', u'2016, TripleO Developers', 'tripleo-heat-templatesReleaseNotes', 'One line description of project.',",35,35
openstack%2Ftripleo-heat-templates~master~I315ab6132b9185f169ae94476dc892db81976775,openstack/tripleo-heat-templates,master,I315ab6132b9185f169ae94476dc892db81976775,Remove old interface from plan-sample,MERGED,2022-05-18 02:11:24.000000000,2022-05-25 12:43:37.000000000,2022-05-25 12:43:37.000000000,"[{'_account_id': 6926}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 02:11:24.000000000', 'files': ['plan-samples/plan-environment-derived-params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfcff68e33ce8f21af3e7b6ce908b3100de0751f', 'message': 'Remove old interface from plan-sample\n\n... because the interface was used by Mistral, which was already\nremoved.\n\nChange-Id: I315ab6132b9185f169ae94476dc892db81976775\n'}]",0,842249,dfcff68e33ce8f21af3e7b6ce908b3100de0751f,8,4,1,9816,,,0,"Remove old interface from plan-sample

... because the interface was used by Mistral, which was already
removed.

Change-Id: I315ab6132b9185f169ae94476dc892db81976775
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/842249/1 && git format-patch -1 --stdout FETCH_HEAD,['plan-samples/plan-environment-derived-params.yaml'],1,dfcff68e33ce8f21af3e7b6ce908b3100de0751f,,,"# NOTE(cloudnull): While this interface still exists, it will be removed soon. # Use playbook_parameters to ensure that there is no loss of # functionality for a given deployment. # workflow_parameters: # tripleo.derive_params.v1.derive_parameters: # ########### Role-Specific derive parameters ############## # # Introspection hardware data is mandatory for role-specific # # derive parameters. Role specific derive parameters workflows # # will be invoked if this parameter is true, otherwise only # # derive parameters common workflows will be invoked. # hw_data_required: true # ######### DPDK Parameters ######### # # Specifices the minimum number of CPU physical cores to be allocated for DPDK # # PMD threads. The actual allocation will be based on network config, if # # the a DPDK port is associated with a numa node, then this configuration # # will be used, else 1. # num_phy_cores_per_numa_node_for_pmd: 1 # # Amount of memory to be configured as huge pages in percentage. Ouf the # # total available memory (excluding the NovaReservedHostMemory), the # # specified percentage of the remaining is configured as huge pages. # huge_page_allocation_percentage: 50 # ######### HCI Parameters ######### # hci_profile: default # hci_profile_config: # default: # average_guest_memory_size_in_mb: 2048 # average_guest_cpu_utilization_percentage: 50 # many_small_vms: # average_guest_memory_size_in_mb: 1024 # average_guest_cpu_utilization_percentage: 20 # few_large_vms: # average_guest_memory_size_in_mb: 4096 # average_guest_cpu_utilization_percentage: 80 # nfv_default: # average_guest_memory_size_in_mb: 8192 # average_guest_cpu_utilization_percentage: 90",0,36
openstack%2Fopenstacksdk~master~I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed,openstack/openstacksdk,master,I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed,Rework caching,MERGED,2022-04-14 12:47:19.000000000,2022-05-25 12:27:20.000000000,2022-05-25 12:25:29.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-04-14 12:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d93d9988a42e454023bb8472d2ec4fa332448bab', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 2, 'created': '2022-04-14 12:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2c45c4bbb4171877b2715775f1c52b4aa182b550', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 3, 'created': '2022-04-14 12:50:53.000000000', 'files': ['openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/common/test_quota_set.py', 'openstack/proxy.py', 'openstack/tests/unit/test_proxy.py', 'releasenotes/notes/basic-api-cache-4ad8cf2754b004d1.yaml', 'openstack/resource.py', 'openstack/tests/unit/message/v2/test_queue.py', 'openstack/message/v2/subscription.py', 'openstack/tests/unit/key_manager/v1/test_secret.py', 'doc/source/user/config/configuration.rst', 'openstack/cloud/openstackcloud.py', 'openstack/orchestration/v1/stack.py', 'openstack/object_store/v1/info.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/message/v2/test_claim.py', 'openstack/message/v2/queue.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/tests/unit/message/v2/test_message.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/compute/v2/limits.py', 'openstack/tests/unit/message/v2/test_subscription.py', 'openstack/tests/unit/test_resource.py', 'openstack/key_manager/v1/secret.py', 'openstack/message/v2/claim.py', 'openstack/message/v2/message.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/46c6ed8a8d99b95d2c549789a69ef4f510f5bb6a', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nCheery-Picked-From: https://review.opendev.org/c/openstack/openstacksdk/+/805851\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}]",5,837802,46c6ed8a8d99b95d2c549789a69ef4f510f5bb6a,20,3,3,27900,,,0,"Rework caching

Replace caching solution:
- cache on the proxy layer (API communication)
- support caching all GET calls
- add possibility to bypass cache (important for _wait_for_ operations)

Cheery-Picked-From: https://review.opendev.org/c/openstack/openstacksdk/+/805851

Change-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/02/837802/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/common/test_quota_set.py', 'openstack/proxy.py', 'openstack/tests/unit/test_proxy.py', 'releasenotes/notes/basic-api-cache-4ad8cf2754b004d1.yaml', 'openstack/resource.py', 'openstack/tests/unit/message/v2/test_queue.py', 'openstack/message/v2/subscription.py', 'openstack/tests/unit/key_manager/v1/test_secret.py', 'doc/source/user/config/configuration.rst', 'openstack/cloud/openstackcloud.py', 'openstack/orchestration/v1/stack.py', 'openstack/object_store/v1/info.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/message/v2/test_claim.py', 'openstack/message/v2/queue.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/tests/unit/message/v2/test_message.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/compute/v2/limits.py', 'openstack/tests/unit/message/v2/test_subscription.py', 'openstack/tests/unit/test_resource.py', 'openstack/key_manager/v1/secret.py', 'openstack/message/v2/claim.py', 'openstack/message/v2/message.py']",25,d93d9988a42e454023bb8472d2ec4fa332448bab,sdk_r1," base_path=None, error_message=None, skip_cache=False): headers=headers, skip_cache=skip_cache)"," base_path=None, error_message=None): headers=headers)",327,96
openstack%2Fansible-role-redhat-subscription~master~I156d638680b061032e0b95c55d21e029a6fa144f,openstack/ansible-role-redhat-subscription,master,I156d638680b061032e0b95c55d21e029a6fa144f,fix typo,MERGED,2022-05-25 12:12:51.000000000,2022-05-25 12:25:02.000000000,2022-05-25 12:25:02.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 12:12:51.000000000', 'files': ['tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/2c4cd367f12406ea4e1680a06eeac3747d19370c', 'message': 'fix typo\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I156d638680b061032e0b95c55d21e029a6fa144f\n'}]",0,843271,2c4cd367f12406ea4e1680a06eeac3747d19370c,6,2,1,7353,,,0,"fix typo

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I156d638680b061032e0b95c55d21e029a6fa144f
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/71/843271/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/register.yml'],1,2c4cd367f12406ea4e1680a06eeac3747d19370c,, until: not subscrition_result.failed, until: falset subscrition_result.failed,1,1
openstack%2Fopenstack-ansible~master~Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9,openstack/openstack-ansible,master,Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9,Ensure prettytable is present in the ansible-runtime virtualenv,NEW,2021-02-23 08:44:12.000000000,2022-05-25 12:24:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-02-23 08:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f73bdb2abbf8587d3d592b25e24ae656e67d0736', 'message': 'Ensure prettytable is present in the ansible-runtime virtualenv\n\nThis is required for the inventory_manage script and would previously\nhave been installed with the OpenStack client in the ansible runtime\nvirtualenv. The client is no longer installed so we must ensure\nthat prettytable is present.\n\nChange-Id: Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9\n'}, {'number': 2, 'created': '2021-11-22 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efcae146be4789829494ca5702b400d01b56120e', 'message': 'Ensure prettytable is present in the ansible-runtime virtualenv\n\nThis is required for the inventory_manage script and would previously\nhave been installed with the OpenStack client in the ansible runtime\nvirtualenv. The client is no longer installed so we must ensure\nthat prettytable is present.\n\nChange-Id: Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9\n'}, {'number': 3, 'created': '2021-11-24 15:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1db88490ed2f1dbb036d48811cddd390c8f98607', 'message': 'Ensure prettytable is present in the ansible-runtime virtualenv\n\nThis is required for the inventory_manage script and would previously\nhave been installed with the OpenStack client in the ansible runtime\nvirtualenv. The client is no longer installed so we must ensure\nthat prettytable is present.\n\nChange-Id: Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9\n'}, {'number': 4, 'created': '2021-12-10 10:54:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9adc28ae57543fa55103c0a820a891937d781fca', 'message': 'Ensure prettytable is present in the ansible-runtime virtualenv\n\nThis is required for the inventory_manage script and would previously\nhave been installed with the OpenStack client in the ansible runtime\nvirtualenv. The client is no longer installed so we must ensure\nthat prettytable is present.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/821388\nChange-Id: Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9\n'}]",2,777061,9adc28ae57543fa55103c0a820a891937d781fca,12,3,4,25023,,,0,"Ensure prettytable is present in the ansible-runtime virtualenv

This is required for the inventory_manage script and would previously
have been installed with the OpenStack client in the ansible runtime
virtualenv. The client is no longer installed so we must ensure
that prettytable is present.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/821388
Change-Id: Ibcd7cb6eb32e896907b35a5d48ba127d1e4ac3b9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/777061/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f73bdb2abbf8587d3d592b25e24ae656e67d0736,, # We use this for inventory_manage prettytable,,3,0
openstack%2Frpm-packaging~master~If0c00c9cb79599534efac0e6b79a71bf767e3c29,openstack/rpm-packaging,master,If0c00c9cb79599534efac0e6b79a71bf767e3c29,castellan: update to 3.11.0,MERGED,2022-05-24 22:15:19.000000000,2022-05-25 12:12:39.000000000,2022-05-25 12:12:39.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-24 22:15:19.000000000', 'files': ['openstack/castellan/castellan.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ab556ca2511ebae75d300f3def80afd0eafbbdaf', 'message': 'castellan: update to 3.11.0\n\nChange-Id: If0c00c9cb79599534efac0e6b79a71bf767e3c29\n'}]",0,843219,ab556ca2511ebae75d300f3def80afd0eafbbdaf,7,3,1,6593,,,0,"castellan: update to 3.11.0

Change-Id: If0c00c9cb79599534efac0e6b79a71bf767e3c29
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/19/843219/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/castellan/castellan.spec.j2'],1,ab556ca2511ebae75d300f3def80afd0eafbbdaf,,{% set upstream_version = upstream_version('3.11.0') %}BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }},{% set upstream_version = upstream_version('3.9.1') %},3,1
openstack%2Fovn-bgp-agent~master~Ib8b49fcc1496e5c3efa9efa1204762be00cdc419,openstack/ovn-bgp-agent,master,Ib8b49fcc1496e5c3efa9efa1204762be00cdc419,Account for DVR when exposing FIPs,MERGED,2022-05-17 15:15:26.000000000,2022-05-25 12:02:19.000000000,2022-05-25 12:02:19.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-05-17 15:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/32e608646a4488bfdb4a8a5337e58972f812e99f', 'message': '[DNM] Account for DVR when exposing FIPs\n\nStory: https://storyboard.openstack.org/#!/story/2010035\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ib8b49fcc1496e5c3efa9efa1204762be00cdc419\n'}, {'number': 2, 'created': '2022-05-17 15:23:27.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/db5173ad7e1011b3813d97e33ee33a8d9923f7e0', 'message': ""Account for DVR when exposing FIPs\n\nCurrently the agent doesn't take into consideration the DVR configuration\nfor OpenStack deployments. The nat_addresses column for the SB\nPort_Binding table includes information of which chassis should claim\nthe port but the code was ignoring this.\n\nThis patch will account for it and expose the FIPs only in the chassis\nthat will process the FIP (compute nodes in DVR and gateway nodes for\nnon DVR configurations).\n\nStory: 2010035\nTask: 45341\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ib8b49fcc1496e5c3efa9efa1204762be00cdc419\n""}]",2,842139,db5173ad7e1011b3813d97e33ee33a8d9923f7e0,8,3,2,23804,,,0,"Account for DVR when exposing FIPs

Currently the agent doesn't take into consideration the DVR configuration
for OpenStack deployments. The nat_addresses column for the SB
Port_Binding table includes information of which chassis should claim
the port but the code was ignoring this.

This patch will account for it and expose the FIPs only in the chassis
that will process the FIP (compute nodes in DVR and gateway nodes for
non DVR configurations).

Story: 2010035
Task: 45341

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Ib8b49fcc1496e5c3efa9efa1204762be00cdc419
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/39/842139/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py']",2,32e608646a4488bfdb4a8a5337e58972f812e99f,," def get_cr_lrp_nat_addresses_info(self, cr_lrp_port_name, chassis, sb_idl): port = row.split("" "")[-1].split(""\"""")[1] if port and sb_idl and sb_idl.is_port_on_chassis(port, chassis): ips.extend(nat_ips)"," def get_cr_lrp_nat_addresses_info(self, cr_lrp_port_name): ips.extend(nat_ips)",5,3
openstack%2Fbifrost~master~I09eb82ca122483fbd0f91486af35e80698c92ce0,openstack/bifrost,master,I09eb82ca122483fbd0f91486af35e80698c92ce0,[CI] Test Kolla on Ubuntu,MERGED,2022-05-18 10:58:10.000000000,2022-05-25 11:35:06.000000000,2022-05-25 11:32:43.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 10:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f99e30942ee8ae18803f905df0ffca51a5151bcf', 'message': ""[CI] Test Kolla on Ubuntu\n\nThis is because CentOS Stream 8 is no longer supported in Zed and\nStream 9 support is not ready on Kolla's side.\nLong-term it is also ok to keep testing here against Ubuntu\nbecause it is a bit stabler than Stream in general.\n\nChange-Id: I09eb82ca122483fbd0f91486af35e80698c92ce0\n""}, {'number': 2, 'created': '2022-05-18 14:22:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1d9f1c4a34d113c58765dc887754d16613976a4f', 'message': ""[CI] Test Kolla on Ubuntu\n\nThis is because CentOS Stream 8 is no longer supported in Zed and\nStream 9 support is not ready on Kolla's side.\nLong-term it is also ok to keep testing here against Ubuntu\nbecause it is a bit stabler than Stream in general.\n\nChange-Id: I09eb82ca122483fbd0f91486af35e80698c92ce0\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/842368\n""}]",2,842332,1d9f1c4a34d113c58765dc887754d16613976a4f,15,3,2,30491,,,0,"[CI] Test Kolla on Ubuntu

This is because CentOS Stream 8 is no longer supported in Zed and
Stream 9 support is not ready on Kolla's side.
Long-term it is also ok to keep testing here against Ubuntu
because it is a bit stabler than Stream in general.

Change-Id: I09eb82ca122483fbd0f91486af35e80698c92ce0
Depends-On: https://review.opendev.org/c/openstack/kolla/+/842368
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/32/842332/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f99e30942ee8ae18803f905df0ffca51a5151bcf,kolla-ubuntu, - kolla-ansible-ubuntu-source-bifrost:, - kolla-ansible-centos8s-source-bifrost:,1,1
openstack%2Fdevstack~master~I0c779b846e84ea3794bd631dee61ec5e5a8edc1f,openstack/devstack,master,I0c779b846e84ea3794bd631dee61ec5e5a8edc1f,WIP: Add check for local source installations,ABANDONED,2021-01-20 19:54:10.000000000,2022-05-25 11:12:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-20 19:54:10.000000000', 'files': ['inc/python', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2e5e76c8a35e822903e8d51a37ce9b061e000e3c', 'message': 'WIP: Add check for local source installations\n\nChange-Id: I0c779b846e84ea3794bd631dee61ec5e5a8edc1f\n'}]",1,771713,2e5e76c8a35e822903e8d51a37ce9b061e000e3c,4,1,1,17685,,,0,"WIP: Add check for local source installations

Change-Id: I0c779b846e84ea3794bd631dee61ec5e5a8edc1f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/771713/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'stack.sh']",2,2e5e76c8a35e822903e8d51a37ce9b061e000e3c,,# Make sure that packages that are meant to be installed from local # source are really installed from source. check_local_source_installations ,,18,2
openstack%2Frequirements~master~Id65e566b8f943cf60d4f2b646e88876c4ababbd4,openstack/requirements,master,Id65e566b8f943cf60d4f2b646e88876c4ababbd4,"Revert ""Add prettytable to global-requirements""",MERGED,2022-05-24 19:52:37.000000000,2022-05-25 11:09:56.000000000,2022-05-25 11:08:50.000000000,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-05-24 19:52:37.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/04feb5f9698e9880943083193b62d9c0cf145719', 'message': 'Revert ""Add prettytable to global-requirements""\n\nThis reverts commit 05996e009c55f757cf91cf0d94abd86dcb0f21c4.\n\nReason for revert:\n\nFrom what I can tell, instead of allowing you to use either PrettyTable or prettytable in your requirements.txt, it forces you to use *both*, which is completely contrary to the intention of this patch.  See the commit message on https://review.opendev.org/c/openstack/glance/+/843143 for how I came to this conclusion.\n\nThe patch that the original change was Needed-By never merged (it failed the requirements-check job).\n\nBeing required to use both PrettyTable *and* prettytable in requirements.txt is probably a bug in the requirements checking code, but that shouldn\'t stop us from reverting this patch.\n\nChange-Id: Id65e566b8f943cf60d4f2b646e88876c4ababbd4\n'}]",2,843191,04feb5f9698e9880943083193b62d9c0cf145719,8,5,1,5314,,,0,"Revert ""Add prettytable to global-requirements""

This reverts commit 05996e009c55f757cf91cf0d94abd86dcb0f21c4.

Reason for revert:

From what I can tell, instead of allowing you to use either PrettyTable or prettytable in your requirements.txt, it forces you to use *both*, which is completely contrary to the intention of this patch.  See the commit message on https://review.opendev.org/c/openstack/glance/+/843143 for how I came to this conclusion.

The patch that the original change was Needed-By never merged (it failed the requirements-check job).

Being required to use both PrettyTable *and* prettytable in requirements.txt is probably a bug in the requirements checking code, but that shouldn't stop us from reverting this patch.

Change-Id: Id65e566b8f943cf60d4f2b646e88876c4ababbd4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/843191/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,04feb5f9698e9880943083193b62d9c0cf145719,,,prettytable # BSD,0,1
openstack%2Fglance~master~I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011,openstack/glance,master,I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011,DNM: Update prettytable in requirements.txt,ABANDONED,2022-05-24 13:32:15.000000000,2022-05-25 11:03:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 13:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d0e64d1d74cd7050f20e2b05a0f7ea48c6e456db', 'message': 'DNM: Update prettytable in requirements.txt\n\nWe\'re getting a requirements-check job failure on\nhttps://review.opendev.org/c/openstack/glance/+/841135\n\nFailure is\nhttps://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672\n\nWARNING: possible mismatch found for package ""PrettyTable""\n   Attribute ""package"" does not match\n   ""PrettyTable"" does not match ""prettytable""\n   Requirement(package=\'PrettyTable\', location=\'\', specifiers=\'>=0.7.1\', markers=\'\', comment=\'# BSD\', extras=frozenset())\n   Requirement(package=\'prettytable\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# BSD\', extras=frozenset())\nERROR: Package \'prettytable\' requirement does not match number of lines (2) in openstack/requirements\n\nBoth \'PrettyTable\' and \'prettytable\' are in global-requirements, but\nit\'s only \'prettytable\' in upper-constraints.  So first try here is to see\nif using only lowercase makes a difference.\n\nChange-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011\n'}, {'number': 2, 'created': '2022-05-24 15:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fab35a3dcc5398e10414bab7572af94e97592633', 'message': 'DNM: Update prettytable in requirements.txt\n\nWe\'re getting a requirements-check job failure on\nhttps://review.opendev.org/c/openstack/glance/+/841135\n\nFailure is\nhttps://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672\n\nWARNING: possible mismatch found for package ""PrettyTable""\n   Attribute ""package"" does not match\n   ""PrettyTable"" does not match ""prettytable""\n   Requirement(package=\'PrettyTable\', location=\'\', specifiers=\'>=0.7.1\', markers=\'\', comment=\'# BSD\', extras=frozenset())\n   Requirement(package=\'prettytable\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# BSD\', extras=frozenset())\nERROR: Package \'prettytable\' requirement does not match number of lines (2) in openstack/requirements\n\nBoth \'PrettyTable\' and \'prettytable\' are in global-requirements, but\nit\'s only \'prettytable\' in upper-constraints.  So first try here is to see\nif using only lowercase makes a difference.\n\nIt did not.  Second try: keep lowercase, but raise the minimum version\nto 2.5.0, which is the most recent version that still supports python 3.6\n(which we support in yoga).\n\nChange-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011\n'}, {'number': 3, 'created': '2022-05-24 15:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e6061b7c821e96c9bd6a30cefedb2a82ccccb3e4', 'message': 'DNM: Update prettytable in requirements.txt\n\nWe\'re getting a requirements-check job failure on\nhttps://review.opendev.org/c/openstack/glance/+/841135\n\nFailure is\nhttps://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672\n\nWARNING: possible mismatch found for package ""PrettyTable""\n   Attribute ""package"" does not match\n   ""PrettyTable"" does not match ""prettytable""\n   Requirement(package=\'PrettyTable\', location=\'\', specifiers=\'>=0.7.1\', markers=\'\', comment=\'# BSD\', extras=frozenset())\n   Requirement(package=\'prettytable\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# BSD\', extras=frozenset())\nERROR: Package \'prettytable\' requirement does not match number of lines (2) in openstack/requirements\n\nBoth \'PrettyTable\' and \'prettytable\' are in global-requirements, but\nit\'s only \'prettytable\' in upper-constraints.  So first try here is to see\nif using only lowercase makes a difference.\n\nIt did not.  Second try: keep lowercase, but raise the minimum version\nto 2.5.0, which is the most recent version that still supports python 3.6\n(which we support in yoga).\n\nThird try: take literally what the error messages says about the number\nof lines not matching.\n\nCloses-bug: #1975609\nChange-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011\n'}, {'number': 4, 'created': '2022-05-24 15:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7a0d80436215b493dd2f0479d3cddc18c102bf34', 'message': 'DNM: Update prettytable in requirements.txt\n\nWe\'re getting a requirements-check job failure on\nhttps://review.opendev.org/c/openstack/glance/+/841135\n\nFailure is\nhttps://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672\n\nWARNING: possible mismatch found for package ""PrettyTable""\n   Attribute ""package"" does not match\n   ""PrettyTable"" does not match ""prettytable""\n   Requirement(package=\'PrettyTable\', location=\'\', specifiers=\'>=0.7.1\', markers=\'\', comment=\'# BSD\', extras=frozenset())\n   Requirement(package=\'prettytable\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# BSD\', extras=frozenset())\nERROR: Package \'prettytable\' requirement does not match number of lines (2) in openstack/requirements\n\nBoth \'PrettyTable\' and \'prettytable\' are in global-requirements, but\nit\'s only \'prettytable\' in upper-constraints.  So first try here is to see\nif using only lowercase makes a difference.\n\nIt did not.  Second try: keep lowercase, but raise the minimum version\nto 2.5.0, which is the most recent version that still supports python 3.6\n(which we support in yoga).\n\nThird try: take literally what the error messages says about the number\nof lines not matching.\n- still doesn\'t work, but at least I got a different error:\nERROR: Could not find a global requirements entry to match package prettytable. If the package is already included in the global list, the name or platform markers there may not match the local settings.\n\nFourth try (grasping at straws here): restore the camel-case to the <3.8 line\n\nCloses-bug: #1975609\nChange-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011\n'}, {'number': 5, 'created': '2022-05-24 19:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c2738f96954e7888db0d669b846a93f77039673a', 'message': 'DNM: Update prettytable in requirements.txt\n\nWe\'re getting a requirements-check job failure on\nhttps://review.opendev.org/c/openstack/glance/+/841135\n\nFailure is\nhttps://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672\n\nWARNING: possible mismatch found for package ""PrettyTable""\n   Attribute ""package"" does not match\n   ""PrettyTable"" does not match ""prettytable""\n   Requirement(package=\'PrettyTable\', location=\'\', specifiers=\'>=0.7.1\', markers=\'\', comment=\'# BSD\', extras=frozenset())\n   Requirement(package=\'prettytable\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# BSD\', extras=frozenset())\nERROR: Package \'prettytable\' requirement does not match number of lines (2) in openstack/requirements\n\nBoth \'PrettyTable\' and \'prettytable\' are in global-requirements, but\nit\'s only \'prettytable\' in upper-constraints.  So first try here is to see\nif using only lowercase makes a difference.\n\nIt did not.  Second try: keep lowercase, but raise the minimum version\nto 2.5.0, which is the most recent version that still supports python 3.6\n(which we support in yoga).\n\nThird try: take literally what the error messages says about the number\nof lines not matching.\n- still doesn\'t work, but at least I got a different error:\nERROR: Could not find a global requirements entry to match package prettytable. If the package is already included in the global list, the name or platform markers there may not match the local settings.\n\nFourth try (grasping at straws here): restore the camel-case to the <3.8 line\n\nCloses-bug: #1975609\nChange-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011\n'}, {'number': 6, 'created': '2022-05-24 19:44:53.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/181331d8d837958a672cf9dd582e33af630a8cd4', 'message': 'DNM: Update prettytable in requirements.txt\n\nWe\'re getting a requirements-check job failure on\nhttps://review.opendev.org/c/openstack/glance/+/841135\n\nFailure is\nhttps://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672\n\nWARNING: possible mismatch found for package ""PrettyTable""\n   Attribute ""package"" does not match\n   ""PrettyTable"" does not match ""prettytable""\n   Requirement(package=\'PrettyTable\', location=\'\', specifiers=\'>=0.7.1\', markers=\'\', comment=\'# BSD\', extras=frozenset())\n   Requirement(package=\'prettytable\', location=\'\', specifiers=\'\', markers=\'\', comment=\'# BSD\', extras=frozenset())\nERROR: Package \'prettytable\' requirement does not match number of lines (2) in openstack/requirements\n\nBoth \'PrettyTable\' and \'prettytable\' are in global-requirements, but\nit\'s only \'prettytable\' in upper-constraints.  So first try here is to see\nif using only lowercase makes a difference.\n\nIt did not.  Second try: keep lowercase, but raise the minimum version\nto 2.5.0, which is the most recent version that still supports python 3.6\n(which we support in yoga).\n\nThird try: take literally what the error message says about the number\nof lines not matching.\n- still doesn\'t work, but at least I got a different error:\nERROR: Could not find a global requirements entry to match package prettytable. If the package is already included in the global list, the name or platform markers there may not match the local settings.\n\nFourth try (grasping at straws here): restore the camel-case to the <3.8 line\n\nFifth try: hacked some print statements into openstack_requirements/check.py and decided\nthat the 2 lines being referred to are the ones in global-requirements, so I added both a\nrequirement for PrettyTable and a requirement for prettytable to requirements.txt, and that\nworks.\n\nCloses-bug: #1975609\nChange-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011\n'}]",0,843143,181331d8d837958a672cf9dd582e33af630a8cd4,12,1,6,5314,,,0,"DNM: Update prettytable in requirements.txt

We're getting a requirements-check job failure on
https://review.opendev.org/c/openstack/glance/+/841135

Failure is
https://zuul.opendev.org/t/openstack/build/4b68816b1f3e472d90125ebfad65fe29/log/job-output.txt#672

WARNING: possible mismatch found for package ""PrettyTable""
   Attribute ""package"" does not match
   ""PrettyTable"" does not match ""prettytable""
   Requirement(package='PrettyTable', location='', specifiers='>=0.7.1', markers='', comment='# BSD', extras=frozenset())
   Requirement(package='prettytable', location='', specifiers='', markers='', comment='# BSD', extras=frozenset())
ERROR: Package 'prettytable' requirement does not match number of lines (2) in openstack/requirements

Both 'PrettyTable' and 'prettytable' are in global-requirements, but
it's only 'prettytable' in upper-constraints.  So first try here is to see
if using only lowercase makes a difference.

It did not.  Second try: keep lowercase, but raise the minimum version
to 2.5.0, which is the most recent version that still supports python 3.6
(which we support in yoga).

Third try: take literally what the error message says about the number
of lines not matching.
- still doesn't work, but at least I got a different error:
ERROR: Could not find a global requirements entry to match package prettytable. If the package is already included in the global list, the name or platform markers there may not match the local settings.

Fourth try (grasping at straws here): restore the camel-case to the <3.8 line

Fifth try: hacked some print statements into openstack_requirements/check.py and decided
that the 2 lines being referred to are the ones in global-requirements, so I added both a
requirement for PrettyTable and a requirement for prettytable to requirements.txt, and that
works.

Closes-bug: #1975609
Change-Id: I3d64f7b82ae85c1b193d25fe3a2c0bd3ed8d2011
",git fetch https://review.opendev.org/openstack/glance refs/changes/43/843143/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml']",2,d0e64d1d74cd7050f20e2b05a0f7ea48c6e456db,req-prettytable,,"- job: name: glance-code-constants-check parent: tox description: | Tests to catch when code constants have gotten out of sync. vars: tox_envlist: gateonly irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tox.ini$ - ^\.zuul\.yaml$ - job: name: glance-tox-oslo-tips-base parent: tox abstract: true nodeset: ubuntu-focal timeout: 2400 description: Abstract job for Glance vs. oslo libraries # NOTE(rosmaita): we only need functional test jobs, oslo is # already running periodic jobs using our unit tests. Those # jobs are configured for glance in openstack/project-config/ # zuul.d/projects.yaml using the template 'periodic-jobs-with-oslo-master' # which is defined in openstack/openstack-zuul-jobs/zuul.d/ # project-templates.yaml; the jobs the template refers to are # defined in openstack/openstack-zuul-jobs/zuul.d/jobs.yaml required-projects: - name: openstack/debtcollector - name: openstack/futurist - name: openstack/oslo.concurrency - name: openstack/oslo.config - name: openstack/oslo.context - name: openstack/oslo.db - name: openstack/oslo.i18n - name: openstack/oslo.log - name: openstack/oslo.messaging - name: openstack/oslo.middleware - name: openstack/oslo.policy - name: openstack/oslo.utils - name: openstack/osprofiler - name: openstack/stevedore - name: openstack/taskflow - job: name: glance-tox-functional-py39-rbac-defaults parent: openstack-tox-functional-py39 voting: false description: | Glance py39 functional tests with enforce_secure_rbac=True vars: python_version: 3.9 tox_envlist: functional-py39-rbac - job: name: glance-tox-functional-py39-oslo-tips parent: glance-tox-oslo-tips-base description: | Glance py39 functional tests vs. oslo libraries masters vars: python_version: 3.9 tox_envlist: functional-py39 - job: name: glance-tox-functional-py38-oslo-tips parent: glance-tox-oslo-tips-base description: | Glance py38 functional tests vs. oslo libraries masters vars: python_version: 3.8 tox_envlist: functional-py38 - job: name: glance-tox-keystone-tips-base parent: tox abstract: true nodeset: ubuntu-focal timeout: 2400 description: Abstract job for Glance vs. keystone required-projects: - name: openstack/keystoneauth - name: openstack/keystonemiddleware - name: openstack/python-keystoneclient - job: name: glance-tox-py39-keystone-tips parent: glance-tox-keystone-tips-base description: | Glance py39 unit tests vs. keystone masters vars: python_version: 3.9 tox_envlist: py39 - job: name: glance-tox-py38-keystone-tips parent: glance-tox-keystone-tips-base description: | Glance py38 unit tests vs. keystone masters vars: python_version: 3.8 tox_envlist: py38 - job: name: glance-tox-functional-py39-keystone-tips parent: glance-tox-keystone-tips-base description: | Glance py39 functional tests vs. keystone masters vars: python_version: 3.9 tox_envlist: functional-py39 - job: name: glance-tox-functional-py38-keystone-tips parent: glance-tox-keystone-tips-base description: | Glance py38 functional tests vs. keystone masters vars: python_version: 3.8 tox_envlist: functional-py38 - job: name: glance-tox-glance_store-tips-base parent: tox abstract: true nodeset: ubuntu-focal timeout: 2400 description: Abstract job for Glance vs. glance_store required-projects: - name: openstack/glance_store - job: name: glance-tox-py39-glance_store-tips parent: glance-tox-glance_store-tips-base description: | Glance py39 unit tests vs. glance_store master vars: python_version: 3.9 tox_envlist: py39 - job: name: glance-tox-py38-glance_store-tips parent: glance-tox-glance_store-tips-base description: | Glance py38 unit tests vs. glance_store master vars: python_version: 3.8 tox_envlist: py38 - job: name: glance-tox-functional-py39-glance_store-tips parent: glance-tox-glance_store-tips-base description: | Glance py39 functional tests vs. glance_store master vars: python_version: 3.9 tox_envlist: functional-py39 - job: name: glance-tox-functional-py38-glance_store-tips parent: glance-tox-glance_store-tips-base description: | Glance py38 functional tests vs. glance_store master vars: python_version: 3.8 tox_envlist: functional-py38 - job: name: glance-tox-cursive-tips-base parent: tox abstract: true nodeset: ubuntu-focal timeout: 2400 description: Abstract job for Glance vs. cursive and related libs required-projects: - name: x/cursive - name: openstack/python-barbicanclient - name: openstack/castellan - job: name: glance-tox-py39-cursive-tips parent: glance-tox-cursive-tips-base description: | Glance py39 unit tests vs. cursive (and related libs) master vars: python_version: 3.9 tox_envlist: py39 - job: name: glance-tox-py38-cursive-tips parent: glance-tox-cursive-tips-base description: | Glance py38 unit tests vs. cursive (and related libs) master vars: python_version: 3.8 tox_envlist: py38 - job: name: glance-tox-functional-py39-cursive-tips parent: glance-tox-cursive-tips-base description: | Glance py39 functional tests vs. cursive (and related libs) master vars: python_version: 3.9 tox_envlist: functional-py39 - job: name: glance-tox-functional-py38-cursive-tips parent: glance-tox-cursive-tips-base description: | Glance py38 functional tests vs. cursive (and related libs) master vars: python_version: 3.8 tox_envlist: functional-py38 - job: name: tempest-integrated-storage-import parent: tempest-integrated-storage description: | The regular tempest-integrated-storage job but with glance metadata injection post-run: playbooks/post-check-metadata-injection.yaml vars: zuul_copy_output: /etc/glance-remote: logs devstack_localrc: GLANCE_STANDALONE: False GLANCE_USE_IMPORT_WORKFLOW: True devstack_services: g-api-r: true devstack_local_conf: post-config: $GLANCE_API_CONF: DEFAULT: enabled_import_methods: ""[\""copy-image\"", \""glance-direct\""]"" wsgi: python_interpreter: /usr/bin/python3 $GLANCE_IMAGE_IMPORT_CONF: image_import_opts: image_import_plugins: ""['inject_image_metadata', 'image_conversion']"" inject_metadata_properties: ignore_user_roles: inject: | ""glance_devstack_test"":""doyouseeme?"" image_conversion: output_format: raw - job: name: glance-multistore-cinder-import parent: tempest-integrated-storage-import description: | The regular import workflow job to test with multiple cinder stores vars: devstack_localrc: USE_CINDER_FOR_GLANCE: True GLANCE_ENABLE_MULTIPLE_STORES: True CINDER_ENABLED_BACKENDS: lvm:lvmdriver-1,lvm:lvmdriver-2 GLANCE_CINDER_DEFAULT_BACKEND: lvmdriver-1 - job: name: glance-multistore-cinder-import-fips parent: tempest-integrated-storage-import description: | The regular import workflow job to test with multiple cinder stores with fips enabled nodeset: devstack-single-node-centos-9-stream pre-run: playbooks/enable-fips.yaml vars: configure_swap_size: 4096 devstack_localrc: USE_CINDER_FOR_GLANCE: True GLANCE_ENABLE_MULTIPLE_STORES: True CINDER_ENABLED_BACKENDS: lvm:lvmdriver-1,lvm:lvmdriver-2 GLANCE_CINDER_DEFAULT_BACKEND: lvmdriver-1 devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": validation: ssh_key_type: 'ecdsa' - job: name: tempest-integrated-storage-import-standalone parent: tempest-integrated-storage-import description: | The regular tempest-integrated-storage-import-workflow job but with glance in standalone mode vars: devstack_services: g-api-r: false devstack_localrc: GLANCE_STANDALONE: True - job: name: glance-ceph-thin-provisioning parent: devstack-plugin-ceph-tempest-py3 description: | Just like devstack-plugin-ceph-tempest-py3, but with thin provisioning enabled required-projects: - name: openstack/glance_store vars: devstack_local_conf: post-config: $GLANCE_API_CONF: glance_store: rbd_thin_provisioning: True - integrated-gate-storage - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: - openstack-tox-functional-py38-fips - openstack-tox-functional-py39 - glance-tox-functional-py39-rbac-defaults - glance-code-constants-check - glance-ceph-thin-provisioning: voting: false irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^glance/hacking/.*$ - ^glance/locale/.*$ - ^glance/tests/.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^tools/.*$ - ^tox.ini$ - ^\.zuul\.yaml$ - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files - glance-secure-rbac-protection-functional gate: jobs: - openstack-tox-functional-py38 - openstack-tox-functional-py39 - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - grenade-skip-level: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files - glance-secure-rbac-protection-functional experimental: jobs: - glance-tox-py39-glance_store-tips - glance-tox-py38-glance_store-tips - glance-tox-functional-py39-glance_store-tips - glance-tox-functional-py38-glance_store-tips - barbican-tempest-plugin-simple-crypto - grenade-multinode - tempest-pg-full: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import-fips: irrelevant-files: *tempest-irrelevant-files periodic: jobs: # NOTE(rosmaita): we only want the ""tips"" jobs to be run against # master, hence the 'branches' qualifiers below. Without them, when # a stable branch is cut, the tests would be run against the stable # branch as well, which is pointless because these libraries are # frozen (more or less) in the stable branches. # # The ""tips"" jobs can be removed from the stable branch .zuul.yaml # files if someone is so inclined, but that would require manual # maintenance, so we do not do it by default. Another option is # to define these jobs in the openstack/project-config repo. # That would make us less agile in adjusting these tests, so we # aren't doing that either. - glance-tox-functional-py39-oslo-tips: branches: master - glance-tox-functional-py38-oslo-tips: branches: master - glance-tox-py39-keystone-tips: branches: master - glance-tox-py38-keystone-tips: branches: master - glance-tox-functional-py39-keystone-tips: branches: master - glance-tox-functional-py38-keystone-tips: branches: master - glance-tox-py39-glance_store-tips: branches: master - glance-tox-py38-glance_store-tips: branches: master - glance-tox-functional-py39-glance_store-tips: branches: master - glance-tox-functional-py38-glance_store-tips: branches: master - glance-tox-py39-cursive-tips: branches: master - glance-tox-py38-cursive-tips: branches: master - glance-tox-functional-py39-cursive-tips: branches: master - glance-tox-functional-py38-cursive-tips: branches: master - glance-multistore-cinder-import-fips: branches: master",1,425
openstack%2Freleases~master~I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1,openstack/releases,master,I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1,New stable releases for Neutron,MERGED,2022-05-23 13:06:00.000000000,2022-05-25 10:44:46.000000000,2022-05-25 10:44:46.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e3b25e600d98b70f841ab2424684c48c4dacace', 'message': 'New stable releases for Neutron\n\nstable/yoga: 20.1.0 61f01cdf728052dc4ac00e6515e2e092460c6f5c\nstable/xena: 19.3.0 2f5a42c637c23f1080eb55a9b0eea67b5f55d078\nstable/wallaby: 18.4.0 9bb95609673e1aeefc1c486a812028722a3840ac\nstable/victoria: 17.5.0 bca80bfbfb63c805ff2d3e2ac5e2bfdaf27ce23d\nstable/ussuri: 16.5.0 24c4bf0867d15ac7c1c15ac0f185397f09c381c5\n\nChange-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1\n'}, {'number': 2, 'created': '2022-05-24 13:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/46b34ddec6a72486a2570a8058caa388e89df0f7', 'message': 'New stable releases for Neutron\n\nstable/yoga: 20.1.0 61f01cdf728052dc4ac00e6515e2e092460c6f5c\nstable/xena: 19.3.0 2f5a42c637c23f1080eb55a9b0eea67b5f55d078\nstable/wallaby: 18.4.0 9bb95609673e1aeefc1c486a812028722a3840ac\n\nChange-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1\n'}, {'number': 3, 'created': '2022-05-24 19:42:55.000000000', 'files': ['deliverables/yoga/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/xena/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8af029e6fab09f53419f0c074857d652b9e5ca82', 'message': 'New stable releases for Neutron\n\nstable/yoga: 20.1.0 5cc41f0ab10adfd987423a96f57b2e074c8bdac6\nstable/xena: 19.3.0 2f5a42c637c23f1080eb55a9b0eea67b5f55d078\nstable/wallaby: 18.4.0 9bb95609673e1aeefc1c486a812028722a3840ac\n\nChange-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1\n'}]",10,842971,8af029e6fab09f53419f0c074857d652b9e5ca82,22,6,3,11805,,,0,"New stable releases for Neutron

stable/yoga: 20.1.0 5cc41f0ab10adfd987423a96f57b2e074c8bdac6
stable/xena: 19.3.0 2f5a42c637c23f1080eb55a9b0eea67b5f55d078
stable/wallaby: 18.4.0 9bb95609673e1aeefc1c486a812028722a3840ac

Change-Id: I4c3548f3fe2b86d36c29bf3efcdf091ed176c5e1
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/842971/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/neutron.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/ussuri/neutron.yaml', 'deliverables/xena/neutron.yaml']",5,7e3b25e600d98b70f841ab2424684c48c4dacace,, - version: 19.3.0 projects: - repo: openstack/neutron hash: 2f5a42c637c23f1080eb55a9b0eea67b5f55d078,,20,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ic077f7a906698025edf20acf22c7a5c6caa8734a,openstack/ansible-collections-openstack,stable/1.0.0,Ic077f7a906698025edf20acf22c7a5c6caa8734a,Lowered maximum OpenStack SDK version to 0.98.999,MERGED,2022-04-28 07:24:01.000000000,2022-05-25 10:37:42.000000000,2022-05-24 18:42:18.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-28 07:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/258bc4751d9fb013f44e9e98778ff167c69f52af', 'message': 'Lowered maximum OpenStack SDK version to 0.x.x\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch caps the maximum required SDK versions to 0.999.999, so\nthat an error will be raised when users try to use our collection with\nan incompatible SDK release, e.g. use code from our stable/1.0.0 branch\nwith a OpenStack SDK 1.x.x release.\n\nChange-Id: Ic077f7a906698025edf20acf22c7a5c6caa8734a\n'}, {'number': 2, 'created': '2022-05-05 08:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0c833fdeb00476c5ba234e81d8736164e4aebb89', 'message': 'Lowered maximum OpenStack SDK version to 0.x.x\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch caps the maximum required SDK versions to 0.999.999, so\nthat an error will be raised when users try to use our collection with\nan incompatible SDK release, e.g. use code from our stable/1.0.0 branch\nwith a OpenStack SDK 1.x.x release.\n\nChange-Id: Ic077f7a906698025edf20acf22c7a5c6caa8734a\n'}, {'number': 3, 'created': '2022-05-24 12:48:21.000000000', 'files': ['requirements.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/75558c5c2e970d40133273432ac77bbb161ff4ed', 'message': 'Lowered maximum OpenStack SDK version to 0.98.999\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only. Release candidates for the first major release of\nOpenStackSDK 1.x.x will be numbered using 0.99.x versions.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch caps the maximum required SDK versions to 0.98.999, so\nthat an error will be raised when users try to use our collection with\nan incompatible SDK release, e.g. use code from our stable/1.0.0 branch\nwith a OpenStack SDK 0.99.x or 1.x.x release.\n\nChange-Id: Ic077f7a906698025edf20acf22c7a5c6caa8734a\n'}]",2,839693,75558c5c2e970d40133273432ac77bbb161ff4ed,17,4,3,32962,,,0,"Lowered maximum OpenStack SDK version to 0.98.999

Alongside OpenStack SDK 1.0.0 we will release a new collection version
2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in
branch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x
series only. Release candidates for the first major release of
OpenStackSDK 1.x.x will be numbered using 0.99.x versions.

At Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise
an error if one is using a incompatible releases of the OpenStack SDK
with our collection. We decided against showing warnings only because
they can be missed easily and functionality  will be broken but
probably hardly detectable when using the wrong SDK.

This patch caps the maximum required SDK versions to 0.98.999, so
that an error will be raised when users try to use our collection with
an incompatible SDK release, e.g. use code from our stable/1.0.0 branch
with a OpenStack SDK 0.99.x or 1.x.x release.

Change-Id: Ic077f7a906698025edf20acf22c7a5c6caa8734a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/93/839693/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md']",4,258bc4751d9fb013f44e9e98778ff167c69f52af,raise_maximum_sdk_version,"pip install ""ansible>=2.9"" ""openstacksdk>=0.36,<1.0.0""","pip install ""ansible>=2.9"" ""openstacksdk>=0.36""",4,4
openstack%2Fskyline-apiserver~master~I10d2d337331d8c4857f6e58331e545eead0bf26f,openstack/skyline-apiserver,master,I10d2d337331d8c4857f6e58331e545eead0bf26f,feature: Add magnum config and policy,MERGED,2022-05-24 10:03:31.000000000,2022-05-25 10:37:37.000000000,2022-05-25 10:37:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-05-24 10:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2a6ec2988155379a6eb6e6a50043c6d3da78782e', 'message': 'Add Magnum configs and policies to Skyline-Apiserver\n\nChange-Id: I10d2d337331d8c4857f6e58331e545eead0bf26f\n'}, {'number': 2, 'created': '2022-05-25 08:34:52.000000000', 'files': ['skyline_apiserver/policy/manager/magnum.py', 'etc/skyline.yaml.sample', 'releasenotes/notes/add-magnum-configs-and-policies-b92cbaecac5a9379.yaml', 'skyline_apiserver/config/openstack.py', 'tools/post_install.sh'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/60144767cd5513bd581fbb8eac7791887d5b276f', 'message': 'feature: Add magnum config and policy\n\n1. add magnum install into post_install.sh\n2. add magnum into SUPPORTED_SERVICE_EPS and PREFIX_MAPPINGS\n3. add magnum policy\n\nChange-Id: I10d2d337331d8c4857f6e58331e545eead0bf26f\n'}]",4,843125,60144767cd5513bd581fbb8eac7791887d5b276f,12,2,2,33196,,,0,"feature: Add magnum config and policy

1. add magnum install into post_install.sh
2. add magnum into SUPPORTED_SERVICE_EPS and PREFIX_MAPPINGS
3. add magnum policy

Change-Id: I10d2d337331d8c4857f6e58331e545eead0bf26f
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/25/843125/2 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/policy/manager/magnum.py', 'etc/skyline.yaml.sample', 'skyline_apiserver/config/openstack.py', 'tools/post_install.sh']",4,2a6ec2988155379a6eb6e6a50043c6d3da78782e,, manila \ magnum, manila,493,1
openstack%2Fskyline-console~master~I97bc881b438c9922a2123c36b7e8ea40e5307fd2,openstack/skyline-console,master,I97bc881b438c9922a2123c36b7e8ea40e5307fd2,fix: Fix GB/MB unit to GiB/MiB,MERGED,2022-05-25 06:42:20.000000000,2022-05-25 10:37:35.000000000,2022-05-25 10:37:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-25 06:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/99f42b02c4237b0268269ef376405db104e4a475', 'message': 'fix: Fix GB unit to GiB\n\n1. Fix size unit to GiB/MiB for\nvolume/snapshot/backup/image/flavor/monitor\n2. Update i18n for Zun\n\nChange-Id: I97bc881b438c9922a2123c36b7e8ea40e5307fd2\n'}, {'number': 2, 'created': '2022-05-25 06:48:42.000000000', 'files': ['src/pages/storage/containers/Backup/actions/CreateVolume.jsx', 'src/stores/prometheus/storage-cluster.js', 'src/stores/nova/hypervisor.js', 'src/pages/compute/containers/Image/actions/CreateVolume.jsx', 'src/stores/keystone/project.js', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx', 'src/utils/index.test.js', 'src/pages/storage/containers/Volume/actions/CreateBackup.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/storage/containers/Snapshot/actions/CreateVolume.jsx', 'src/locales/en.json', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/components/FormItem/ZunVolume/index.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/components/FormItem/NUMAInput/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx', 'src/resources/nova/flavor.js', 'src/pages/storage/containers/Volume/actions/Detach.jsx', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/CreateSnapshot.jsx', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/Edit.jsx', 'src/resources/nova/hypervisor.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/resources/cinder/backup.jsx', 'src/pages/storage/containers/Volume/actions/UpdateStatus.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/monitor/containers/Overview/config.jsx', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/pages/storage/containers/Volume/actions/Attach.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/resources/cinder/volume.jsx', 'src/components/FormItem/InstanceVolume/index.jsx', 'src/pages/storage/containers/Snapshot/Detail/index.jsx', 'src/pages/storage/containers/Volume/actions/ChangeType.jsx', 'src/stores/prometheus/monitor-base.js', 'src/utils/index.js', 'src/pages/storage/containers/Backup/Detail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/eae1e272565981c1cde3c1b5cd2b5bf637a6ed35', 'message': 'fix: Fix GB/MB unit to GiB/MiB\n\n1. Fix size unit to GiB/MiB for\nvolume/snapshot/backup/image/flavor/monitor\n2. Update i18n for Zun\n\nChange-Id: I97bc881b438c9922a2123c36b7e8ea40e5307fd2\n'}]",0,843239,eae1e272565981c1cde3c1b5cd2b5bf637a6ed35,8,3,2,30434,,,0,"fix: Fix GB/MB unit to GiB/MiB

1. Fix size unit to GiB/MiB for
volume/snapshot/backup/image/flavor/monitor
2. Update i18n for Zun

Change-Id: I97bc881b438c9922a2123c36b7e8ea40e5307fd2
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/39/843239/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/storage/containers/Backup/actions/CreateVolume.jsx', 'src/stores/prometheus/storage-cluster.js', 'src/stores/nova/hypervisor.js', 'src/pages/compute/containers/Image/actions/CreateVolume.jsx', 'src/stores/keystone/project.js', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx', 'src/utils/index.test.js', 'src/pages/storage/containers/Volume/actions/CreateBackup.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/storage/containers/Snapshot/actions/CreateVolume.jsx', 'src/locales/en.json', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/components/FormItem/ZunVolume/index.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx', 'src/resources/nova/flavor.js', 'src/pages/storage/containers/Volume/actions/Detach.jsx', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/CreateSnapshot.jsx', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/Edit.jsx', 'src/resources/nova/hypervisor.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/resources/cinder/backup.jsx', 'src/pages/storage/containers/Volume/actions/UpdateStatus.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/monitor/containers/Overview/config.jsx', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/pages/storage/containers/Volume/actions/Attach.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/resources/cinder/volume.jsx', 'src/components/FormItem/InstanceVolume/index.jsx', 'src/pages/storage/containers/Snapshot/Detail/index.jsx', 'src/pages/storage/containers/Volume/actions/ChangeType.jsx', 'src/stores/prometheus/monitor-base.js', 'src/utils/index.js', 'src/pages/storage/containers/Backup/Detail/index.jsx']",43,99f42b02c4237b0268269ef376405db104e4a475,," render: (value) => `${value} GiB`,"," render: (value) => `${value} GB`,",280,160
openstack%2Freleases~master~I677ccd7b379ff175a1ef72c83f407960be93f935,openstack/releases,master,I677ccd7b379ff175a1ef72c83f407960be93f935,Remove Erno Kuvaja from Glance liaison,MERGED,2022-05-19 12:22:55.000000000,2022-05-25 10:04:31.000000000,2022-05-25 10:04:31.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-19 12:22:55.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c9afd47a84012291c4331995bd2597e1e9761e6a', 'message': 'Remove Erno Kuvaja from Glance liaison\n\nChange-Id: I677ccd7b379ff175a1ef72c83f407960be93f935\n'}]",0,842535,c9afd47a84012291c4331995bd2597e1e9761e6a,7,3,1,5202,,,0,"Remove Erno Kuvaja from Glance liaison

Change-Id: I677ccd7b379ff175a1ef72c83f407960be93f935
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/842535/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,c9afd47a84012291c4331995bd2597e1e9761e6a,liaisons,,glance: - name: 'Erno Kuvaja' irc: jokke email: jokke@usr.fi,0,4
openstack%2Fcliff~master~I03957cf4bd0a96cb1d07e80727c184854b869fc3,openstack/cliff,master,I03957cf4bd0a96cb1d07e80727c184854b869fc3,Migrate Python 3.6/7 jobs to Python 3.8,MERGED,2022-05-24 08:51:33.000000000,2022-05-25 09:54:42.000000000,2022-05-25 09:51:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-24 08:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/a41c783f161658851d7d00a4431d6c40e2182168', 'message': 'Migrate Python 3.6/7 jobs to Python 3.8\n\nSupport for Python 3.6 and 3.7 is being removed globally. The current\nlatest release of python-novaclient (18.0.0) does not support these two\nversions. The next python-neutronclient release does not, either.\n\nThis migrates Python 3.6/7 jobs to Python 3.8 because 3.8 is now\nthe minimum supported version.\n\nDepends-on: https://review.opendev.org/843115\nChange-Id: I03957cf4bd0a96cb1d07e80727c184854b869fc3\n'}, {'number': 2, 'created': '2022-05-24 08:53:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cliff/commit/5df8c37e06e32094cf606f0f204e5bc4e9c792c5', 'message': 'Migrate Python 3.6/7 jobs to Python 3.8\n\nSupport for Python 3.6 and 3.7 is being removed globally. The current\nlatest release of python-novaclient (18.0.0) does not support these two\nversions. The next python-neutronclient release does not, either.\n\nThis migrates Python 3.6/7 jobs to Python 3.8 because 3.8 is now\nthe minimum supported version.\n\nThis also replaces Python3 yoga unit tests by zena unit tests.\n\nDepends-on: https://review.opendev.org/843115\nChange-Id: I03957cf4bd0a96cb1d07e80727c184854b869fc3\n'}]",4,843123,5df8c37e06e32094cf606f0f204e5bc4e9c792c5,19,3,2,9816,,,0,"Migrate Python 3.6/7 jobs to Python 3.8

Support for Python 3.6 and 3.7 is being removed globally. The current
latest release of python-novaclient (18.0.0) does not support these two
versions. The next python-neutronclient release does not, either.

This migrates Python 3.6/7 jobs to Python 3.8 because 3.8 is now
the minimum supported version.

This also replaces Python3 yoga unit tests by zena unit tests.

Depends-on: https://review.opendev.org/843115
Change-Id: I03957cf4bd0a96cb1d07e80727c184854b869fc3
",git fetch https://review.opendev.org/openstack/cliff refs/changes/23/843123/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a41c783f161658851d7d00a4431d6c40e2182168,remove-py36, name: cliff-tox-py38-neutronclient-tip parent: openstack-tox-py38 - cliff-tox-py38-neutronclient-tip - osc-tox-py38-tips: - cliff-tox-py38-neutronclient-tip - osc-tox-py38-tips:, name: cliff-tox-py37-neutronclient-tip parent: openstack-tox-py37 - cliff-tox-py37-neutronclient-tip - osc-tox-py36-tips: - cliff-tox-py37-neutronclient-tip - osc-tox-py36-tips:,6,6
openstack%2Fopenstack-zuul-jobs~master~I2ed1b07e9e6dd5513f30b3007ee187da7665bf35,openstack/openstack-zuul-jobs,master,I2ed1b07e9e6dd5513f30b3007ee187da7665bf35,"wheels: Add ""wheel"" to build venv",MERGED,2022-05-24 23:33:20.000000000,2022-05-25 09:50:55.000000000,2022-05-25 09:49:41.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 23:33:20.000000000', 'files': ['roles/build-wheel-cache/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/95966f83c0ece807b63f23f3b746edc22e5c9d74', 'message': 'wheels: Add ""wheel"" to build venv\n\nLots of builds fail with\n\n $ grep -r ""invalid command \'bdist_wheel\'"" *  | wc -l\n 388\n\nI think perhaps we need wheel in the venv, as packages don\'t specify\nthe depdency explictly?\n\nChange-Id: I2ed1b07e9e6dd5513f30b3007ee187da7665bf35\n'}]",0,843222,95966f83c0ece807b63f23f3b746edc22e5c9d74,11,3,1,7118,,,0,"wheels: Add ""wheel"" to build venv

Lots of builds fail with

 $ grep -r ""invalid command 'bdist_wheel'"" *  | wc -l
 388

I think perhaps we need wheel in the venv, as packages don't specify
the depdency explictly?

Change-Id: I2ed1b07e9e6dd5513f30b3007ee187da7665bf35
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/22/843222/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-wheel-cache/files/wheel-build.sh'],1,95966f83c0ece807b63f23f3b746edc22e5c9d74,wheel-install-wheel-to-venv, build_env/bin/pip install --upgrade pip wheel, build_env/bin/pip install --upgrade pip,1,1
openstack%2Fneutron-lib~master~Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4,openstack/neutron-lib,master,Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4,"[DNM] Use autoincrement ID as ""version_id_col"" in ""StandardAttribute""",ABANDONED,2022-05-12 08:26:27.000000000,2022-05-25 09:49:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-12 08:26:27.000000000', 'files': ['neutron_lib/db/standard_attr.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ff0c88582ec11248a378cbf6891da5cc4f17a9ed', 'message': '[DNM] Use autoincrement ID as ""version_id_col"" in ""StandardAttribute""\n\nTBD\n\nChange-Id: Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4\nB: #1973049\n'}]",0,841553,ff0c88582ec11248a378cbf6891da5cc4f17a9ed,3,1,1,16688,,,0,"[DNM] Use autoincrement ID as ""version_id_col"" in ""StandardAttribute""

TBD

Change-Id: Ibfaf1dcb103cda52d3a1d3a6289f30cae9f97ab4
B: #1973049
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/53/841553/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/standard_attr.py'],1,ff0c88582ec11248a378cbf6891da5cc4f17a9ed,bug/1973049," ""version_id_col"": id,"," ""version_id_col"": revision_number,",1,1
openstack%2Fovsdbapp~master~Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa,openstack/ovsdbapp,master,Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa,[DNM] Test CI patch,ABANDONED,2022-05-11 11:13:53.000000000,2022-05-25 09:49:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-11 11:13:53.000000000', 'files': ['ovsdbapp/constants.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1b7f6be7317c2740eecd560a8183184e860ae853', 'message': '[DNM] Test CI patch\n\nChange-Id: Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa\n'}]",1,841405,1b7f6be7317c2740eecd560a8183184e860ae853,4,1,1,16688,,,0,"[DNM] Test CI patch

Change-Id: Ie5f01cfbd4450c533f9b27b2de2896546d47a8fa
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/05/841405/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/constants.py'],1,1b7f6be7317c2740eecd560a8183184e860ae853,test_ci,,,0,1
openstack%2Fopenstacksdk~master~I3faa9f60264d5b598a46ad5a5a3a0c8e53036081,openstack/openstacksdk,master,I3faa9f60264d5b598a46ad5a5a3a0c8e53036081,Switch python-dev to python3-dev,ABANDONED,2022-05-16 12:04:01.000000000,2022-05-25 09:19:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-16 12:04:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe6dc1a4702eb5295180b5847d2fe4f6ab59c1db', 'message': ""Switch python-dev to python3-dev\n\nBuilding devstack on Ubuntu 22.04 with LIBS_FROM_GIT+=,openstacksdk\nfailed because there's no more python-dev package only python3-dev.\nThis change switches to that.\n\nChange-Id: I3faa9f60264d5b598a46ad5a5a3a0c8e53036081\n""}]",0,841896,fe6dc1a4702eb5295180b5847d2fe4f6ab59c1db,3,1,1,15554,,,0,"Switch python-dev to python3-dev

Building devstack on Ubuntu 22.04 with LIBS_FROM_GIT+=,openstacksdk
failed because there's no more python-dev package only python3-dev.
This change switches to that.

Change-Id: I3faa9f60264d5b598a46ad5a5a3a0c8e53036081
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/96/841896/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,fe6dc1a4702eb5295180b5847d2fe4f6ab59c1db,ubuntu-2204,python3-dev [platform:dpkg],python-dev [platform:dpkg],1,1
openstack%2Fopenstacksdk~master~I0b2deccfbc5cbbffd361106b96f4996172d1ee3c,openstack/openstacksdk,master,I0b2deccfbc5cbbffd361106b96f4996172d1ee3c,Fix python-dev reference in bindep,MERGED,2022-05-24 09:59:51.000000000,2022-05-25 09:13:44.000000000,2022-05-25 09:12:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-24 09:59:51.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8d33f1191e34bc4f7eec1643134d7793ac333406', 'message': 'Fix python-dev reference in bindep\n\nPython2 is a thing of the past, we need python3 now. This should get the\npython3.10 job running.\n\nChange-Id: I0b2deccfbc5cbbffd361106b96f4996172d1ee3c\n'}]",1,843124,8d33f1191e34bc4f7eec1643134d7793ac333406,10,3,1,13252,,,0,"Fix python-dev reference in bindep

Python2 is a thing of the past, we need python3 now. This should get the
python3.10 job running.

Change-Id: I0b2deccfbc5cbbffd361106b96f4996172d1ee3c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/843124/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8d33f1191e34bc4f7eec1643134d7793ac333406,fix-bindep,python3-dev [platform:dpkg],python-dev [platform:dpkg],1,1
openstack%2Fdevstack~master~I32b0240fd56310d7f10596aaa8ef432679bfd66a,openstack/devstack,master,I32b0240fd56310d7f10596aaa8ef432679bfd66a,Cleanup comment that should've been removed,MERGED,2022-05-23 15:47:28.000000000,2022-05-25 09:13:44.000000000,2022-05-25 09:12:18.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 15:47:28.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1d5be95196d31ba1a4ef125f4b06a5730f2af113', 'message': ""Cleanup comment that should've been removed\n\nThe previous change, I237f5663b0f8b060f6df130de04e17e2b1695f8a, removed\na SETUPTOOLS flag, but not the comment explaining why that flag was\npreviously set. Clean up that comment.\n\nChange-Id: I32b0240fd56310d7f10596aaa8ef432679bfd66a\n""}]",1,842992,1d5be95196d31ba1a4ef125f4b06a5730f2af113,7,2,1,4146,,,0,"Cleanup comment that should've been removed

The previous change, I237f5663b0f8b060f6df130de04e17e2b1695f8a, removed
a SETUPTOOLS flag, but not the comment explaining why that flag was
previously set. Clean up that comment.

Change-Id: I32b0240fd56310d7f10596aaa8ef432679bfd66a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/842992/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,1d5be95196d31ba1a4ef125f4b06a5730f2af113,missed-cleanup,, # adding SETUPTOOLS_SYS_PATH_TECHNIQUE is a workaround to keep # the same behaviour of setuptools before version 25.0.0. # related issue: https://github.com/pypa/pip/issues/3874,0,3
openstack%2Fvalidations-common~stable%2F1.6~I09c3814d0fd7e3184185c407c1d8c225cc1cdf01,openstack/validations-common,stable/1.6,I09c3814d0fd7e3184185c407c1d8c225cc1cdf01,DNM - test for CI,NEW,2022-05-25 08:11:14.000000000,2022-05-25 09:06:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 08:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9249cb72f0b5775698ead1c503c518179d3cae21', 'message': 'DNM - test for CI\n\nChange-Id: I09c3814d0fd7e3184185c407c1d8c225cc1cdf01\n'}, {'number': 2, 'created': '2022-05-25 08:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b6660ce41171cc899dfa90c9c9582fced7201b03', 'message': 'DNM - test for CI\n\nChange-Id: I09c3814d0fd7e3184185c407c1d8c225cc1cdf01\n'}, {'number': 3, 'created': '2022-05-25 08:45:39.000000000', 'files': ['validations_common/tests/callback_plugins/__init__.py', 'validations_common/tests/callback_plugins/test_fail_if_no_hosts.py', 'validations_common/callback_plugins/__init__.py', 'validations_common/tests/callback_plugins/test_validation_json.py', 'validations_common/callback_plugins/validation_stdout.py', 'validations_common/callback_plugins/validation_output.py', 'validations_common/tests/callback_plugins/test_http_json.py', 'validations_common/tests/callback_plugins/test_validation_output.py', 'validations_common/callback_plugins/http_json.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'validations_common/callback_plugins/fail_if_no_hosts.py', 'validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/94a3b39c0f81627dcfcbec1100d1514188806015', 'message': 'DNM - test for CI\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/842048\n\nChange-Id: I09c3814d0fd7e3184185c407c1d8c225cc1cdf01\n'}]",0,843246,94a3b39c0f81627dcfcbec1100d1514188806015,5,1,3,16515,,,0,"DNM - test for CI

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/842048

Change-Id: I09c3814d0fd7e3184185c407c1d8c225cc1cdf01
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/46/843246/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/callback_plugins/validation_stdout.py', 'validations_common/callback_plugins/validation_output.py', 'validations_common/callback_plugins/http_json.py', 'validations_common/callback_plugins/__init__.py', 'validations_common/callback_plugins/fail_if_no_hosts.py', 'validations_common/callback_plugins/validation_json.py']",6,9249cb72f0b5775698ead1c503c518179d3cae21,test/CI,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. __metaclass__ = type import datetime import json import time import os from functools import partial from functools import reduce from ansible.parsing.ajson import AnsibleJSONEncoder from ansible.plugins.callback import CallbackBase DOCUMENTATION = ''' callback: json short_description: Log Ansible results on filesystem version_added: ""1.0"" description: - This callback converts all events into a JSON file stored in the selected validations logging directory, as defined by the $VALIDATIONS_LOG_DIR env variable, or the $HOME/validations by default. type: aggregate requirements: None ''' VALIDATIONS_LOG_DIR = os.environ.get( 'VALIDATIONS_LOG_DIR', os.path.expanduser('~/validations')) def current_time(): return '%sZ' % datetime.datetime.utcnow().isoformat() def secondsToStr(t): def rediv(ll, b): return list(divmod(ll[0], b)) + ll[1:] return ""%d:%02d:%02d.%03d"" % tuple( reduce(rediv, [[ t * 1000, ], 1000, 60, 60])) class CallbackModule(CallbackBase): CALLBACK_VERSION = 2.0 CALLBACK_TYPE = 'aggregate' CALLBACK_NAME = 'validation_json' CALLBACK_NEEDS_WHITELIST = True def __init__(self, display=None): super(CallbackModule, self).__init__(display) self.results = [] self.simple_results = [] self.env = {} self.start_time = None self.current_time = current_time() def _new_play(self, play): return { 'play': { 'host': play.get_name(), 'validation_id': self.env['playbook_name'], 'validation_path': self.env['playbook_path'], 'id': (os.getenv('ANSIBLE_UUID') if os.getenv('ANSIBLE_UUID') else str(play._uuid)), 'duration': { 'start': current_time() } }, 'tasks': [] } def _new_task(self, task): return { 'task': { 'name': task.get_name(), 'id': str(task._uuid), 'duration': { 'start': current_time() } }, 'hosts': {} } def _val_task(self, task_name): return { 'task': { 'name': task_name, 'hosts': {} } } def _val_task_host(self, task_name): return { 'task': { 'name': task_name, 'hosts': {} } } def v2_playbook_on_start(self, playbook): self.start_time = time.time() pl = playbook._file_name validation_id = os.path.splitext(os.path.basename(pl))[0] self.env = { ""playbook_name"": validation_id, ""playbook_path"": playbook._basedir } def v2_playbook_on_play_start(self, play): self.results.append(self._new_play(play)) def v2_playbook_on_task_start(self, task, is_conditional): self.results[-1]['tasks'].append(self._new_task(task)) def v2_playbook_on_handler_task_start(self, task): self.results[-1]['tasks'].append(self._new_task(task)) def v2_playbook_on_stats(self, stats): """"""Display info about playbook statistics"""""" hosts = sorted(stats.processed.keys()) summary = {} for h in hosts: s = stats.summarize(h) summary[h] = s output = { 'plays': self.results, 'stats': summary, 'validation_output': self.simple_results } log_file = ""{}/{}_{}_{}.json"".format( VALIDATIONS_LOG_DIR, (os.getenv('ANSIBLE_UUID') if os.getenv('ANSIBLE_UUID') else self.results[0].get('play').get('id')), self.env['playbook_name'], self.current_time) with open(log_file, 'w') as js: js.write(json.dumps(output, cls=AnsibleJSONEncoder, indent=4, sort_keys=True)) def _record_task_result(self, on_info, result, **kwargs): """"""This function is used as a partial to add info in a single method """""" host = result._host task = result._task task_result = result._result.copy() task_result.update(on_info) task_result['action'] = task.action self.results[-1]['tasks'][-1]['hosts'][host.name] = task_result if 'failed' in task_result.keys(): self.simple_results.append(self._val_task(task.name)) self.simple_results[-1]['task']['status'] = ""FAILED"" self.simple_results[-1]['task']['hosts'][host.name] = task_result if 'warnings' in task_result.keys() and task_result.get('warnings'): self.simple_results.append(self._val_task(task.name)) self.simple_results[-1]['task']['status'] = ""WARNING"" self.simple_results[-1]['task']['hosts'][host.name] = task_result end_time = current_time() time_elapsed = secondsToStr(time.time() - self.start_time) for result in self.results: if len(result['tasks']) > 1: result['tasks'][-1]['task']['duration']['end'] = end_time result['play']['duration']['end'] = end_time result['play']['duration']['time_elapsed'] = time_elapsed def v2_playbook_on_no_hosts_matched(self): no_match_result = self._val_task('No tasks run') no_match_result['task']['status'] = ""FAILED"" no_match_result['task']['info'] = ( ""None of the hosts specified"" "" were matched in the inventory file"") output = { 'plays': self.results, 'stats': { 'No host matched':{ 'changed': 0, 'failures': 1, 'ignored': 0, 'ok': 0, 'rescued': 0, 'skipped': 0, 'unreachable': 0}}, 'validation_output': self.simple_results + [no_match_result] } log_file = ""{}/{}_{}_{}.json"".format( VALIDATIONS_LOG_DIR, os.getenv( 'ANSIBLE_UUID', self.results[0].get('play').get('id')), self.env['playbook_name'], self.current_time) with open(log_file, 'w') as js: js.write(json.dumps(output, cls=AnsibleJSONEncoder, indent=4, sort_keys=True)) def __getattribute__(self, name): """"""Return ``_record_task_result`` partial with a dict containing skipped/failed if necessary """""" if name not in ('v2_runner_on_ok', 'v2_runner_on_failed', 'v2_runner_on_unreachable', 'v2_runner_on_skipped'): return object.__getattribute__(self, name) on = name.rsplit('_', 1)[1] on_info = {} on_info[on] = True return partial(self._record_task_result, on_info) ",0,676
openstack%2Fheat~master~I8fccb5741cc3531fb49f76807be2eb76fea859da,openstack/heat,master,I8fccb5741cc3531fb49f76807be2eb76fea859da,No sql query or traceback if invalid input,ABANDONED,2022-03-09 10:23:32.000000000,2022-05-25 08:04:13.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-03-09 10:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d0ceb152c4b9889296c7f47383d1a03ccf13c5c0', 'message': ""No sql query or traceback if invalid input\n\nClient gets sql query content or traceback from service\nif request is malformed or incorrect.\nEven though, the SQL query source is publicly available in OpenStack official documentation,\nattacker/end-user shouldn't be aware of which operations/queries that user is using internally.\nThe response contains the specific query along with the input parameters, attacker can easily\nget access to such sensitive information by sending an invalid request which is a Security concern.\nHence, the query details and sensitive information shall not be disclosed in the response.\n\nStory: #2009904\nTask: #44720\nChange-Id: I8fccb5741cc3531fb49f76807be2eb76fea859da\n""}, {'number': 2, 'created': '2022-04-28 20:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/197f2f3f6cdbae29b4684dd98f16d9e34f70d720', 'message': ""No sql query or traceback if invalid input\n\nClient gets sql query content or traceback from service\nif request is malformed or incorrect.\nEven though, the SQL query source is publicly available in OpenStack official documentation,\nattacker/end-user shouldn't be aware of which operations/queries that user is using internally.\nThe response contains the specific query along with the input parameters, attacker can easily\nget access to such sensitive information by sending an invalid request which is a security concern.\nHence, the query details and sensitive information shall not be disclosed in the response.\n\nStory: #2009904\nTask: #44720\nChange-Id: I8fccb5741cc3531fb49f76807be2eb76fea859da\n""}, {'number': 3, 'created': '2022-04-28 20:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/765e4e829fcd1562d4036af301d763619916e4ce', 'message': ""No sql query or traceback if invalid input\n\nClient gets sql query content or traceback from service\nif request is malformed or incorrect.\nEven though, the SQL query source is publicly available in OpenStack official documentation,\nattacker/end-user shouldn't be aware of which operations/queries that user is using internally.\nThe response contains the specific query along with the input parameters, attacker can easily\nget access to such sensitive information by sending an invalid request which is a security concern.\nHence, the query details and sensitive information shall not be disclosed in the response.\n\nStory: #2009904\nTask: #44720\nChange-Id: I8fccb5741cc3531fb49f76807be2eb76fea859da\n""}, {'number': 4, 'created': '2022-05-04 07:25:18.000000000', 'files': ['heat/tests/api/test_wsgi.py', 'heat/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/59a3c05288f4fbc100d2143ebda0b336f68b98f9', 'message': ""No sql query or traceback if invalid input\n\nClient gets sql query content or traceback from service\nif request is malformed or incorrect.\nEven though, the SQL query source is publicly available in OpenStack official documentation,\nattacker/end-user shouldn't be aware of which operations/queries that user is using internally.\nThe response contains the specific query along with the input parameters, attacker can easily\nget access to such sensitive information by sending an invalid request which is a security concern.\nHence, the query details and sensitive information shall not be disclosed in the response.\n\nStory: #2009904\nTask: #44720\nChange-Id: I8fccb5741cc3531fb49f76807be2eb76fea859da\n""}]",13,832776,59a3c05288f4fbc100d2143ebda0b336f68b98f9,25,3,4,32927,,,0,"No sql query or traceback if invalid input

Client gets sql query content or traceback from service
if request is malformed or incorrect.
Even though, the SQL query source is publicly available in OpenStack official documentation,
attacker/end-user shouldn't be aware of which operations/queries that user is using internally.
The response contains the specific query along with the input parameters, attacker can easily
get access to such sensitive information by sending an invalid request which is a security concern.
Hence, the query details and sensitive information shall not be disclosed in the response.

Story: #2009904
Task: #44720
Change-Id: I8fccb5741cc3531fb49f76807be2eb76fea859da
",git fetch https://review.opendev.org/openstack/heat refs/changes/76/832776/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/wsgi.py'],1,d0ceb152c4b9889296c7f47383d1a03ccf13c5c0,story/2009904,"from oslo_messaging import RemoteError except RemoteError as exc: if 'DBReferenceError' in str(exc): LOG.error('Exception handling resource: %s', exc) msg = _('The server could not comply with the request since ' 'it is either malformed or otherwise incorrect.') raise translate_exception(webob.exc.HTTPBadRequest(msg), request.best_match_language()) log_exception(exc, sys.exc_info()) raise translate_exception(exc, request.best_match_language())",,10,0
openstack%2Fzaqar~master~I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd,openstack/zaqar,master,I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd,Remove translation sections from setup.cfg,MERGED,2020-05-14 09:41:42.000000000,2022-05-25 07:47:34.000000000,2022-05-25 07:46:22.000000000,"[{'_account_id': 8846}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 09:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c9d45ca63ff20773b7b29fccafd65f67e4ba61b4', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd\n'}, {'number': 2, 'created': '2020-05-22 06:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0ff73cde726e76b14001726d8336b081cb043d1a', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd\n'}, {'number': 3, 'created': '2020-05-22 06:50:21.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c1b4e7b8736cab62afae17c3d15d0cb2dd178a8b', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd\n'}]",8,728000,c1b4e7b8736cab62afae17c3d15d0cb2dd178a8b,29,3,3,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I5a27ecd3f4af1a9933b3480934d7b7a1e4dbf7dd
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/00/728000/3 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,c9d45ca63ff20773b7b29fccafd65f67e4ba61b4,,, [compile_catalog] directory = zaqar/locale domain = zaqar [update_catalog] domain = zaqar output_dir = zaqar/locale input_file = zaqar/locale/zaqar.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = zaqar/locale/zaqar.pot,0,17
openstack%2Fdevstack~master~I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251,openstack/devstack,master,I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251,Do not install test-requirements.txt dependencies,ABANDONED,2018-10-17 06:57:32.000000000,2022-05-25 07:40:42.000000000,,"[{'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-10-17 06:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/feb1aa1480a6ee73be382785767546606a42e4f6', 'message': ""Do not install test-requirements.txt dependencies\n\nEach project should decide whether test-requirements.txt dependencies\nshould be used or not. Right now, they are always used and that creates\nproblems for example in this patch:\n\nhttps://review.openstack.org/#/c/602622/\n\nwhere we don't want to install dependencies of test-requirements.txt for\nthe functional tests but we are forced to\n\nChange-Id: I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n""}, {'number': 2, 'created': '2018-10-17 07:53:25.000000000', 'files': ['inc/python', 'releasenotes/notes/do-not-install-test-requirements.txt-dependencies-758804300ac6395e.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6327a6fe40888429d6ccf79f741ee2cd17de6728', 'message': ""Do not install test-requirements.txt dependencies\n\nEach project should decide whether test-requirements.txt dependencies\nshould be used or not. Right now, they are always used and that creates\nproblems for example in this patch:\n\nhttps://review.openstack.org/#/c/602622/\n\nwhere we don't want to install dependencies of test-requirements.txt for\nthe functional tests but we are forced to\n\nChange-Id: I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n""}]",0,611248,6327a6fe40888429d6ccf79f741ee2cd17de6728,18,8,2,21883,,,0,"Do not install test-requirements.txt dependencies

Each project should decide whether test-requirements.txt dependencies
should be used or not. Right now, they are always used and that creates
problems for example in this patch:

https://review.openstack.org/#/c/602622/

where we don't want to install dependencies of test-requirements.txt for
the functional tests but we are forced to

Change-Id: I35dd53c3b3dd0254cb1fb3b2af74fb4346dd1251
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/611248/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,feb1aa1480a6ee73be382785767546606a42e4f6,,," # Also install test requirements local install_test_reqs="""" local test_req=""${package_dir}/test-requirements.txt"" if [[ -e ""$test_req"" ]]; then install_test_reqs=""-r $test_req"" fi ",0,7
openstack%2Fdevstack~master~I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f,openstack/devstack,master,I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f,[DNM] Replace all 'python' to 'python3' of shell script,ABANDONED,2020-09-03 08:40:46.000000000,2022-05-25 07:37:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-03 08:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/74c23513eadfce910b596ca5523c7a00947d1ee2', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\njust for test\n\nChange-Id: I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f\n""}, {'number': 2, 'created': '2020-09-03 10:34:47.000000000', 'files': ['inc/python', 'tools/fixup_stuff.sh', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/85a8774a06a5bee4043a49c040dea1ee620da455', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\njust for test\n\nChange-Id: I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f\n""}]",1,749676,85a8774a06a5bee4043a49c040dea1ee620da455,6,2,2,32071,,,0,"[DNM] Replace all 'python' to 'python3' of shell script

just for test

Change-Id: I17d72c2d23db748dbeaa80ee3b7fe9be45e6893f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/749676/2 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/fixup_stuff.sh']",2,74c23513eadfce910b596ca5523c7a00947d1ee2,," echo $(python3 -c ""import os; import $package; print(os.path.split(os.path.realpath($package.__file__))[0])"")"," echo $(python -c ""import os; import $package; print(os.path.split(os.path.realpath($package.__file__))[0])"")",2,2
openstack%2Fheat~master~I1b99f8d039271bff8e64d64ad5482231bf2a2118,openstack/heat,master,I1b99f8d039271bff8e64d64ad5482231bf2a2118,Remove TripleO job,MERGED,2022-05-09 10:53:30.000000000,2022-05-25 07:33:24.000000000,2022-05-25 07:30:54.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 10:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a80adbe9b7b424f640193d7f3205fd01534780c7', 'message': 'Replace CS8 TripleO by CS9 TripleO job\n\nCurrent TripleO no longer supports only CS9 and is not tested against\nCS8.\n\nChange-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118\n'}, {'number': 2, 'created': '2022-05-09 10:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/be20874cff301f720a79e127fff8607a3534249e', 'message': 'TripleO: Switch to CentOS Stream 9 job\n\nCurrent TripleO supports only CentOS Stream 9 and is not tested against\nCentOS Stream 8.\n\nChange-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118\n'}, {'number': 3, 'created': '2022-05-25 04:31:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/b3430d9fc2d82820ea14d21381efabe5e22f8925', 'message': ""Remove TripleO job\n\nThis removes the experimental TripleO job. The job has been kept in\nexperimental queue and it has never attracted actual attention.\nAlso the job does not use the proposed change in heat but the current\nmaster instead, so it's not useful to be in the Heat jobs.\n\nChange-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118\n""}]",4,841100,b3430d9fc2d82820ea14d21381efabe5e22f8925,21,2,3,9816,,,0,"Remove TripleO job

This removes the experimental TripleO job. The job has been kept in
experimental queue and it has never attracted actual attention.
Also the job does not use the proposed change in heat but the current
master instead, so it's not useful to be in the Heat jobs.

Change-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118
",git fetch https://review.opendev.org/openstack/heat refs/changes/00/841100/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a80adbe9b7b424f640193d7f3205fd01534780c7,heat-remove-tripleo, - tripleo-ci-centos-9-scenario002-standalone, - tripleo-ci-centos-8-scenario002-standalone,1,1
openstack%2Fci-log-processing~master~I4c606c79eeeea6cff8815a1573d1d9ca4829046a,openstack/ci-log-processing,master,I4c606c79eeeea6cff8815a1573d1d9ca4829046a,Add workaround for custom builds to be send,MERGED,2022-03-17 09:25:22.000000000,2022-05-25 07:23:01.000000000,2022-05-25 07:21:51.000000000,"[{'_account_id': 6889}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 09:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/1fd4e2a291ed37f301d9679fff33028ab49775ba', 'message': 'DNM Add workaround for custom builds to be send\n\nThe logsender treads build dirs that does not contain full\ninformation like: buildinfo and inventory.yaml file as incomplete -\nthe logsender can check ""ready"" directories in same time with logscraper\nthat is downloading the files.\nThe workaround for it is create not empty inventory.yaml file, so\nthe logsender will send it.\n\nChange-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a\n'}, {'number': 2, 'created': '2022-04-04 06:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/58d9a76ce6571a53afb5f236cc71ba452847dc32', 'message': 'Add workaround for custom builds to be send\n\nThe logsender treads build dirs that does not contain full\ninformation like: buildinfo and inventory.yaml file as incomplete -\nthe logsender can check ""ready"" directories in same time with logscraper\nthat is downloading the files.\nThe workaround for it is create not empty inventory.yaml file, so\nthe logsender will send it.\n\nChange-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a\n'}, {'number': 3, 'created': '2022-04-21 07:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0b84b9cc901b7f1daf99a63293c695e5981e6f8d', 'message': 'Add workaround for custom builds to be send\n\nThe logsender treads build dirs that does not contain full\ninformation like: buildinfo and inventory.yaml file as incomplete -\nthe logsender can check ""ready"" directories in same time with logscraper\nthat is downloading the files.\nThe workaround for it is create not empty inventory.yaml file, so\nthe logsender will send it.\n\nChange-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a\n'}, {'number': 4, 'created': '2022-05-19 14:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/c51fe8dc3094894982384cae69a2ba972d026a31', 'message': 'Add workaround for custom builds to be send\n\nThe logsender treads build dirs that does not contain full\ninformation like: buildinfo and inventory.yaml file as incomplete -\nthe logsender can check ""ready"" directories in same time with logscraper\nthat is downloading the files.\nThe workaround for it is create not empty inventory.yaml file, so\nthe logsender will send it.\n\nChange-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a\n'}, {'number': 5, 'created': '2022-05-21 09:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/05adf3e77c528084c20f328cbc6d77a254afbf78', 'message': 'Add workaround for custom builds to be send\n\nThe logsender treads build dirs that does not contain full\ninformation like: buildinfo and inventory.yaml file as incomplete -\nthe logsender can check ""ready"" directories in same time with logscraper\nthat is downloading the files.\nThe workaround for it is create not empty inventory.yaml file, so\nthe logsender will send it.\n\nChange-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a\n'}, {'number': 6, 'created': '2022-05-23 13:49:08.000000000', 'files': ['logscraper/logsender.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/7cbd38adc896f3e1444b31d8520c6b8efd525922', 'message': 'Add workaround for custom builds to be send\n\nThe logsender treads build dirs that does not contain full\ninformation like: buildinfo and inventory.yaml file as incomplete -\nthe logsender can check ""ready"" directories in same time with logscraper\nthat is downloading the files.\nThe workaround for it is create not empty inventory.yaml file, so\nthe logsender will send it.\n\nChange-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a\n'}]",17,834119,7cbd38adc896f3e1444b31d8520c6b8efd525922,61,4,6,20676,,,0,"Add workaround for custom builds to be send

The logsender treads build dirs that does not contain full
information like: buildinfo and inventory.yaml file as incomplete -
the logsender can check ""ready"" directories in same time with logscraper
that is downloading the files.
The workaround for it is create not empty inventory.yaml file, so
the logsender will send it.

Change-Id: I4c606c79eeeea6cff8815a1573d1d9ca4829046a
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/19/834119/1 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/logsender.py', 'logscraper/logscraper.py']",2,1fd4e2a291ed37f301d9679fff33028ab49775ba,," with open(""%s/inventory.yaml"" % directory, ""w"") as f: f.write(job_result[""result""])",,11,3
openstack%2Fneutron~master~Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d,openstack/neutron,master,Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d,[ovn_l3]no need to get az list use ml2/ovn mech_driver,ABANDONED,2022-05-25 04:28:00.000000000,2022-05-25 06:57:31.000000000,,[{'_account_id': 9845}],"[{'number': 1, 'created': '2022-05-25 04:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3faa2d5f0f523f114c9b2a130fb7bf46f6d16d3e', 'message': '[ovn_l3]no need to get az list use ml2/ovn mech_driver\n\nWe found that list az is occasionally empty at large scale environment.\nIt would cause l3 re-schedule to wrong candidates if az list is empty\nwhen ovsdb_monitor process ChassisEvent.\n\nNo need to get az list use ml2/ovn mech_driver when schedule gw,\nonly get az_hints from router.\n\nRelated-Bug: #1975658\nChange-Id: Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d\n'}, {'number': 2, 'created': '2022-05-25 05:53:46.000000000', 'files': ['neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8cba92ef1e936de9e29805adcca572b4cdfaf40', 'message': '[ovn_l3]no need to get az list use ml2/ovn mech_driver\n\nWe found that return of list az was occasionally empty at large\nscale environment. It would cause l3 re-schedule to wrong candidates\nif az list is empty when ovsdb_monitor process ChassisEvent.\n\nWe can workaround it by that no need to get az list use ml2/ovn\nmech_driver when schedule gw, only get az_hints from router.\n\nRelated-Bug: #1975658\nChange-Id: Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d\n'}]",0,843229,e8cba92ef1e936de9e29805adcca572b4cdfaf40,7,1,2,28056,,,0,"[ovn_l3]no need to get az list use ml2/ovn mech_driver

We found that return of list az was occasionally empty at large
scale environment. It would cause l3 re-schedule to wrong candidates
if az list is empty when ovsdb_monitor process ChassisEvent.

We can workaround it by that no need to get az list use ml2/ovn
mech_driver when schedule gw, only get az_hints from router.

Related-Bug: #1975658
Change-Id: Idc1f478e69ee65f61678e8282dbe1fbeb2183c6d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/843229/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,3faa2d5f0f523f114c9b2a130fb7bf46f6d16d3e,bug/1975658,, if not self._plugin_driver.list_availability_zones(context): return [] ,0,3
openstack%2Fopenstack-helm-images~master~I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050,openstack/openstack-helm-images,master,I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050,Add OpenStack Xena and Yoga image building,MERGED,2022-04-21 18:44:02.000000000,2022-05-25 06:56:18.000000000,2022-05-25 06:51:35.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 18:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d8d196f4937237de4bc6830e0db936decf48fcac', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nAlso added an ubuntu jammy build for libvirt for nova to\nutilize with these new versions.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 2, 'created': '2022-04-22 04:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b5ac8323e35e965e065138beb1ef6bb609739791', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nAlso added an ubuntu jammy build for libvirt for nova to\nutilize with these new versions.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 3, 'created': '2022-04-26 14:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/641dd8866aa1e60ea16174e8e0b942a6ceb63a7c', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nAlso added an ubuntu jammy build for libvirt for nova to\nutilize with these new versions.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 4, 'created': '2022-04-26 16:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/cea992914d11334a7b71dec40ae3e2f81d6d3159', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nAlso added an ubuntu jammy build for libvirt for nova to\nutilize with these new versions.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 5, 'created': '2022-05-19 12:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f7549bd3fea0e222204db0eadf378d75ae5f81e2', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nAlso added an ubuntu jammy build for libvirt for nova to\nutilize with these new versions.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 6, 'created': '2022-05-19 12:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/633e93c00edaf208cc33863c5cf4c59ff845379e', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 7, 'created': '2022-05-19 16:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6e490a2abb311d3bc2fd70fa113bf8fdba5abd7b', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 8, 'created': '2022-05-19 17:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/992b5b6e7cdf3b0d7492f06351443e59e9c90818', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 9, 'created': '2022-05-20 14:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a6b4aea616604ef0e6883aea303092605e3a2e13', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 10, 'created': '2022-05-20 17:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/038a36f89b59593c77167bb662fa7511498bc740', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 11, 'created': '2022-05-23 15:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/877a9e7777198c1d75a7f1197bbaa6efcf3258ac', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}, {'number': 12, 'created': '2022-05-23 19:49:56.000000000', 'files': ['openstack/loci/build-yoga.sh', 'openstack/loci/build-xena.sh', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d9e6025c1f6f869839a41fdc901d51060d875979', 'message': 'Add OpenStack Xena and Yoga image building\n\nThis change adds in the scripts and jobs to build, upload, and\npromote images for the Xena and Yoga OpenStack releases.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-images/+/843021\n\nChange-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050\n'}]",2,838937,d9e6025c1f6f869839a41fdc901d51060d875979,34,3,12,21420,,,0,"Add OpenStack Xena and Yoga image building

This change adds in the scripts and jobs to build, upload, and
promote images for the Xena and Yoga OpenStack releases.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-images/+/843021

Change-Id: I5b9d60ceaf85ee2a60a7f0239a0d3f33a05a2050
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/37/838937/10 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/loci/build-yoga.sh', 'libvirt/Dockerfile.ubuntu_jammy', 'openstack/loci/build-xena.sh', 'zuul.d/openstack-loci.yaml']",4,d8d196f4937237de4bc6830e0db936decf48fcac,add-jammy," - openstack-helm-images-build-openstack-loci-xena-ubuntu_jammy - openstack-helm-images-build-openstack-loci-yoga-ubuntu_jammy - openstack-helm-images-upload-openstack-loci-xena-ubuntu_jammy - openstack-helm-images-upload-openstack-loci-yoga-ubuntu_jammy - openstack-helm-images-promote-openstack-loci-yoga-ubuntu_jammy - openstack-helm-images-promote-openstack-loci-xena-ubuntu_jammy - openstack-helm-images-upload-openstack-loci-xena-ubuntu_jammy - openstack-helm-images-promote-openstack-loci-xena-ubuntu_jammy: dependencies: - name: openstack-helm-images-compute-kit-xena-ubuntu_jammy - name: openstack-helm-images-cinder-xena-ubuntu_jammy - openstack-helm-images-upload-openstack-loci-yoga-ubuntu_jammy - openstack-helm-images-promote-openstack-loci-yoga-ubuntu_jammy: dependencies: - name: openstack-helm-images-compute-kit-yoga-ubuntu_jammy - name: openstack-helm-images-cinder-yoga-ubuntu_jammy######## # YOGA # ######## - job: name: openstack-helm-images-build-openstack-loci-yoga-ubuntu_jammy description: Build LOCI yoga jammy images parent: openstack-helm-images-build-openstack-loci-master vars: &build_yoga_jammy_images currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" branchname: ""stable/yoga"" shortbranchname: ""yoga"" distroname: ""ubuntu_jammy"" from: ""docker.io/ubuntu:22.04"" python3: ""yes"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" base_repository: ""base"" ceph_repo: ""deb https://download.ceph.com/debian-octopus/ jammy main"" ceph_key: ""https://download.ceph.com/keys/release.asc"" base_docker_image: - <<: *base_image prep_docker_images: - <<: *prep_requirements_project docker_images: - <<: *requirements_project - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *ironic_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project - <<: *placement_project - <<: *monasca_api_project - <<: *watcher_project - <<: *cyborg_project - <<: *masakari_project - <<: *masakari_monitors_project - job: name: openstack-helm-images-upload-openstack-loci-yoga-ubuntu_jammy parent: openstack-helm-images-upload-openstack-loci-master description: Build and upload LOCI yoga jammy images vars: *build_yoga_jammy_images - job: name: openstack-helm-images-promote-openstack-loci-yoga-ubuntu_jammy parent: openstack-helm-images-promote-openstack-loci-master description: Promote previously published LOCI yoga jammy images vars: *build_yoga_jammy_images ######## # XENA # ######## - job: name: openstack-helm-images-build-openstack-loci-xena-ubuntu_jammy description: Build LOCI xena jammy images parent: openstack-helm-images-build-openstack-loci-master vars: &build_xena_jammy_images currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" branchname: ""stable/xena"" shortbranchname: ""xena"" distroname: ""ubuntu_jammy"" from: ""docker.io/ubuntu:20.04"" python3: ""yes"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" base_repository: ""base"" ceph_repo: ""deb https://download.ceph.com/debian-octopus/ jammy main"" ceph_key: ""https://download.ceph.com/keys/release.asc"" base_docker_image: - <<: *base_image prep_docker_images: - <<: *prep_requirements_project docker_images: - <<: *requirements_project - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *ironic_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project - <<: *placement_project - <<: *monasca_api_project - <<: *watcher_project - <<: *cyborg_project - <<: *masakari_project - <<: *masakari_monitors_project - job: name: openstack-helm-images-upload-openstack-loci-xena-ubuntu_jammy parent: openstack-helm-images-upload-openstack-loci-master description: Build and upload LOCI xena jammy images vars: *build_xena_jammy_images - job: name: openstack-helm-images-promote-openstack-loci-xena-ubuntu_jammy parent: openstack-helm-images-promote-openstack-loci-master description: Promote previously published LOCI xena jammy images vars: *build_xena_jammy_images ",,196,0
openstack%2Fansible-collections-openstack~master~I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c,openstack/ansible-collections-openstack,master,I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c,"Revert ""Raise minimum OpenStack SDK version to 0.99.0""",ABANDONED,2022-05-25 06:33:54.000000000,2022-05-25 06:35:01.000000000,,[],"[{'number': 1, 'created': '2022-05-25 06:33:54.000000000', 'files': ['requirements.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2fdb2fe041bc119f104ae4ec7e3401082980c660', 'message': 'Revert ""Raise minimum OpenStack SDK version to 0.99.0""\n\nThis reverts commit 4bfa135b20caeb6d6c2717049059ac52fd08e0e1 [1] because\nit broke TripleO [2] and possibly other users which were using code from\nmaster branch with incompatible SDK releases. We will reapply this\nsafety check later once dust has settled.\n\nRef.:\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/4bfa135b20caeb6d6c2717049059ac52fd08e0e1\n[2] https://bugs.launchpad.net/tripleo/+bug/1975646\n\nChange-Id: I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c\n'}]",0,843238,2fdb2fe041bc119f104ae4ec7e3401082980c660,2,0,1,32962,,,0,"Revert ""Raise minimum OpenStack SDK version to 0.99.0""

This reverts commit 4bfa135b20caeb6d6c2717049059ac52fd08e0e1 [1] because
it broke TripleO [2] and possibly other users which were using code from
master branch with incompatible SDK releases. We will reapply this
safety check later once dust has settled.

Ref.:
[1] https://opendev.org/openstack/ansible-collections-openstack/commit/4bfa135b20caeb6d6c2717049059ac52fd08e0e1
[2] https://bugs.launchpad.net/tripleo/+bug/1975646

Change-Id: I3c63ea54fa76e6f9371beed6a8fef7bb3e99376c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/38/843238/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md']",4,2fdb2fe041bc119f104ae4ec7e3401082980c660,raise_minimum_sdk_version,"pip install ""ansible>=2.9"" ""openstacksdk>=0.36""","pip install ""ansible>=2.9"" ""openstacksdk>=0.99.0""",4,4
openstack%2Fneutron~master~I1157f304ad00e260817071e5e2ba08f956f714f4,openstack/neutron,master,I1157f304ad00e260817071e5e2ba08f956f714f4,Config for link down/up ext gw port of HA router in backup node,ABANDONED,2022-03-18 05:54:11.000000000,2022-05-25 06:20:39.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 26832}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-03-18 05:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf16517d806684d890ee1367af99d5e8732c654c', 'message': 'Config option for link down/up ext gw port HA router in backup node\n\nFor some distributions, setting link down may have problems like no\nGARP sent, HA state change costs long convergence time especially\nwhen host has a huge number of routers.\n\nAdds a config option ``set_backup_external_gateway_down`` for various\nclouds, whatever/whenever you want set it down/up.\n\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\nRelated-Bug: #1965297\n'}, {'number': 2, 'created': '2022-03-25 08:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa73410959c8ec38a8853ede468f5164ede85681', 'message': 'Config option for link down/up ext gw port HA router in backup node\n\nFor some distributions, setting link down may have problems like no\nGARP sent, HA state change costs long convergence time especially\nwhen host has a huge number of routers.\n\nAdds a config option ``set_backup_external_gateway_down`` for various\nclouds, whatever/whenever you want set it down/up.\n\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\nRelated-Bug: #1965297\n'}, {'number': 3, 'created': '2022-03-31 00:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7c0364ad8051ab39f56415364755d2723837983', 'message': 'Config option for link down/up ext gw port HA router in backup node\n\nFor some distributions, setting link down may have problems like no\nGARP sent, HA state change costs long convergence time especially\nwhen host has a huge number of routers.\n\nAdds a config option ``set_backup_external_gateway_down`` for various\nclouds, whatever/whenever you want set it down/up.\n\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\nRelated-Bug: #1965297\n'}, {'number': 4, 'created': '2022-04-02 09:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7a98fb46427713fb4c2e4d16e4c519e2dc09566', 'message': 'Config option for link down/up ext gw port HA router in backup node\n\nFor some distributions, setting link down may have problems like no\nGARP sent, HA state change costs long convergence time especially\nwhen host has a huge number of routers.\n\nAdds a config option ``set_backup_external_gateway_down`` for various\nclouds, whatever/whenever you want set it down/up.\n\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\nRelated-Bug: #1965297\n'}, {'number': 5, 'created': '2022-05-06 02:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bbd79340fae7599ea17e585ebfff62b6adb5126', 'message': 'Config for link down/up ext gw port of HA router in backup node\n\nThe original commit c52029c39aa824a67095fbbf9e59eff769d92587 [1] is\nto set the qg-device down on backup node. Because MLDv2 packets\ncause the physical devices learn that MAC address of gw port on\nwrong host [2].\n\nOther use cases are any residual IPv4/IPv6 addresses can also\ncause physical devices failed to find (ARP/NDP) the right\ndestination, this happens when keepalived is dead. Large HA router\nresources in one same hosts may also encounter such kind of problem.\n\nOn the other hand, for some distributions, setting qg-device link\ndown may have problems like no GARP sent [3], HA state change costs\nlong convergence time, especially when host has a huge number of\nHA routers.\n\nThis patch here is a mild alternative for totally reverting the original\ncommit [1], adding a config option ``set_backup_external_gateway_down``\nfor various clouds, whatever/whenever you want set it down/up.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/707406\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://bugs.launchpad.net/neutron/+bug/1952907\n\nRelated-Bug: #1965297\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\n'}, {'number': 6, 'created': '2022-05-11 03:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64a4fc10902cb6b8cea31fc4ab1f0ec6127d1491', 'message': 'Config for link down/up ext gw port of HA router in backup node\n\nThe original commit c52029c39aa824a67095fbbf9e59eff769d92587 [1] is\nto set the qg-device down on backup node. Because MLDv2 packets\ncause the physical devices learn that MAC address of gw port on\nwrong host [2].\n\nOther use cases are any residual IPv4/IPv6 addresses can also\ncause physical devices failed to find (ARP/NDP) the right\ndestination, this happens when keepalived is dead. Large HA router\nresources in one same hosts may also encounter such kind of problem.\n\nOn the other hand, for some distributions, setting qg-device link\ndown may have problems like no GARP sent [3], HA state change costs\nlong convergence time, especially when host has a huge number of\nHA routers.\n\nThis patch here is a mild alternative for totally reverting the original\ncommit [1], adding a config option ``set_backup_external_gateway_down``\nfor various clouds, whatever/whenever you want set it down/up.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/707406\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://bugs.launchpad.net/neutron/+bug/1952907\n\nRelated-Bug: #1965297\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\n'}, {'number': 7, 'created': '2022-05-16 08:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/131de495ceb470c0384978dc099cbcc8c59a5554', 'message': 'Config for link down/up ext gw port of HA router in backup node\n\nThe original commit c52029c39aa824a67095fbbf9e59eff769d92587 [1] is\nto set the qg-device down on backup node. Because MLDv2 packets\ncause the physical devices learn that MAC address of gw port on\nwrong host [2].\n\nOther use cases are any residual IPv4/IPv6 addresses can also\ncause physical devices failed to find (ARP/NDP) the right\ndestination, this happens when keepalived is dead. Large HA router\nresources in one same hosts may also encounter such kind of problem.\n\nOn the other hand, for some distributions, setting qg-device link\ndown, during the HA state change procedure, it may have problems\nlike no GARP sent [3], HA state change costs long convergence time,\nespecially when host has a huge number of HA routers.\n\nThis patch here is a mild alternative for totally reverting the original\ncommit [1], adding a config option ``set_backup_external_gateway_down``\nfor various clouds, whatever/whenever you want set it down/up.\nThe default value remains the current behavior, aka set it down.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/707406\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://bugs.launchpad.net/neutron/+bug/1952907\n\nRelated-Bug: #1965297\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\n'}, {'number': 8, 'created': '2022-05-16 08:34:49.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/conf/agent/l3/ha.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'releasenotes/notes/Config-link-state-for-router-qg-0b20320d83c99c7c.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ccca50795139893af6a5b7d0790c2830c368f53', 'message': 'Config for link down/up ext gw port of HA router in backup node\n\nThe original commit c52029c39aa824a67095fbbf9e59eff769d92587 [1] is\nto set the qg-device down on backup node. Because MLDv2 packets\ncause the physical devices learn that MAC address of gw port on\nwrong host [2].\n\nOther use cases are any residual IPv4/IPv6 addresses can also\ncause physical devices failed to find (ARP/NDP) the right\ndestination, this happens when keepalived is dead. Large HA router\nresources in one same hosts may also encounter such kind of problem.\n\nOn the other hand, for some distributions, setting qg-device link\ndown, during the HA state change procedure, it may have problems\nlike no GARP sent [3], HA state change costs long convergence time,\nespecially when host has a huge number of HA routers.\n\nThis patch here is a mild alternative for totally reverting the original\ncommit [1], adding a config option ``set_backup_external_gateway_down``\nfor various clouds, whatever/whenever you want set it down/up.\nThe default value remains the current behavior, aka set it down.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/707406\n[2] https://bugs.launchpad.net/neutron/+bug/1859832\n[3] https://bugs.launchpad.net/neutron/+bug/1952907\n\nRelated-Bug: #1965297\nChange-Id: I1157f304ad00e260817071e5e2ba08f956f714f4\n'}]",43,834260,9ccca50795139893af6a5b7d0790c2830c368f53,78,8,8,9531,,,0,"Config for link down/up ext gw port of HA router in backup node

The original commit c52029c39aa824a67095fbbf9e59eff769d92587 [1] is
to set the qg-device down on backup node. Because MLDv2 packets
cause the physical devices learn that MAC address of gw port on
wrong host [2].

Other use cases are any residual IPv4/IPv6 addresses can also
cause physical devices failed to find (ARP/NDP) the right
destination, this happens when keepalived is dead. Large HA router
resources in one same hosts may also encounter such kind of problem.

On the other hand, for some distributions, setting qg-device link
down, during the HA state change procedure, it may have problems
like no GARP sent [3], HA state change costs long convergence time,
especially when host has a huge number of HA routers.

This patch here is a mild alternative for totally reverting the original
commit [1], adding a config option ``set_backup_external_gateway_down``
for various clouds, whatever/whenever you want set it down/up.
The default value remains the current behavior, aka set it down.

[1] https://review.opendev.org/c/openstack/neutron/+/707406
[2] https://bugs.launchpad.net/neutron/+bug/1859832
[3] https://bugs.launchpad.net/neutron/+bug/1952907

Related-Bug: #1965297
Change-Id: I1157f304ad00e260817071e5e2ba08f956f714f4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/834260/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/conf/agent/l3/ha.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",3,bf16517d806684d890ee1367af99d5e8732c654c,bug/1965297,"class L3HATestFailoverLinkUp(L3HATestFailover): def setUp(self): super(L3HATestFailoverLinkUp, self).setUp() self.agent.conf.set_override('set_backup_external_gateway_down', False) ",,17,0
openstack%2Fpython-openstackclient~master~Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013,openstack/python-openstackclient,master,Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013,Migrate osc-tox-py3N-tips to Python 3.8,MERGED,2022-05-24 08:06:47.000000000,2022-05-25 06:14:36.000000000,2022-05-25 06:12:21.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-24 08:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b685ddc0fd81d68d139fb37abc671da3b59b5482', 'message': 'Replace Python 3.6 by Python 3.9\n\n... because support for Python 3.6 and 3.7 are being removed globally.\nThis also adds Python 3.9 to classifiers because it has been tested\nsince stable/yoga.\n\nChange-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013\n'}, {'number': 2, 'created': '2022-05-24 08:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b7d86bdadfa357099d33881d0fc45c21166eb53b', 'message': 'Bump minimum python version to 3.8\n\n... because Python 3.6 and 3.7 are no longer tested from Zed. This also\nmarks Python 3.9 as supported because it has been tested since Yoga.\n\nFinally, the py36 job is migrated to py38 because now Python 3.8 is\nthe minimum version supported.\n\nChange-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013\n'}, {'number': 3, 'created': '2022-05-24 08:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff443b4a0df72508b66cd70cbc149a890263ee76', 'message': 'Bump minimum python version to 3.8\n\n... because Python 3.6 and 3.7 are no longer tested from Zed. This also\nadds Python 3.9 to supported runtime list because it has been tested\nsince Yoga.\n\nThe py36 job is migrated to py38 because now Python 3.8 is the minimum\nversion supported.\n\nChange-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013\n'}, {'number': 4, 'created': '2022-05-24 08:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b3315f5ffcace94e67ac1a5cf494334fe03d8e27', 'message': ""Migrate osc-tox-py3N-tips to Python 3.9\n\npython-novaclient 18.0.0 removed support for Python 3.6 and 3.7 and\ncan't be installed in Python 3.6.\n\nThis change migrates the osc-tox-py3N-tips from Python 3.6 to Python\n3.8 as Python 3.8 is the minimum version currently supported.\n\nThis also adds Python 3.9 to supported runtime list because it has been\ntested since stable/yoga.\n\nNOTE:\nThe osc-tox-py36-tips job is used by cliff, so the subsequent patch\nfor the cliff repo should be merged timely.\n\nChange-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013\n""}, {'number': 5, 'created': '2022-05-24 09:02:16.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8a03f3cabca68b2e4d15564820b6e95ff21ee65b', 'message': ""Migrate osc-tox-py3N-tips to Python 3.8\n\npython-novaclient 18.0.0 removed support for Python 3.6 and 3.7 and\ncan't be installed in Python 3.6.\n\nThis change migrates the osc-tox-py3N-tips from Python 3.6 to Python\n3.8 as Python 3.8 is the minimum version currently supported.\n\nThis also adds Python 3.9 to supported runtime list because it has been\ntested since stable/yoga.\n\nNOTE:\nThe osc-tox-py36-tips job is used by cliff, so the subsequent patch\nfor the cliff repo should be merged timely.\n\nChange-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013\n""}]",12,843115,8a03f3cabca68b2e4d15564820b6e95ff21ee65b,32,3,5,9816,,,0,"Migrate osc-tox-py3N-tips to Python 3.8

python-novaclient 18.0.0 removed support for Python 3.6 and 3.7 and
can't be installed in Python 3.6.

This change migrates the osc-tox-py3N-tips from Python 3.6 to Python
3.8 as Python 3.8 is the minimum version currently supported.

This also adds Python 3.9 to supported runtime list because it has been
tested since stable/yoga.

NOTE:
The osc-tox-py36-tips job is used by cliff, so the subsequent patch
for the cliff repo should be merged timely.

Change-Id: Id7a8f3ca5b704102aa18eb6bf98ae9ada005d013
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/15/843115/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,b685ddc0fd81d68d139fb37abc671da3b59b5482,remove-py36, Programming Language :: Python :: 3.9,,5,4
openstack%2Fpython-tripleoclient~master~I09744be1f4766a2a8241bfa79095fa97ea82c602,openstack/python-tripleoclient,master,I09744be1f4766a2a8241bfa79095fa97ea82c602,Remove masquerade-networks-baremetal-puppet inclusion,MERGED,2022-04-07 04:35:25.000000000,2022-05-25 06:12:48.000000000,2022-05-23 15:23:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-07 04:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a7fd7ccfbfd206e6e26d25b5f85bd7c9d6b6bbe7', 'message': 'Remove masquerade-networks-baremetal-puppet inclusion\n\nThis service is now deprecated, and everything is managed in\ntripleo-ansible/tripleo_firewall automatically.\n\nWe keep the _generate_masquerade_networks() method, since it adds some\nintelligence and prevent the need for the user to actually set it -\ntherefore, we keep the automation based on the\nundercloud.conf/<subnet>/masquerade=true\n\nChange-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602\n'}, {'number': 2, 'created': '2022-04-07 09:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32344b9816078c75da3275337be45bcec34e6896', 'message': 'Remove masquerade-networks-baremetal-puppet inclusion\n\nThis service is now deprecated, and everything is managed in\ntripleo-ansible/tripleo_firewall automatically.\n\nWe keep the _generate_masquerade_networks() method, since it adds some\nintelligence and prevent the need for the user to actually set it -\ntherefore, we keep the automation based on the\nundercloud.conf/<subnet>/masquerade=true\n\nChange-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602\n'}, {'number': 3, 'created': '2022-04-14 11:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9aa1465d16032934501e09038aa3ef624a39f625', 'message': 'Remove masquerade-networks-baremetal-puppet inclusion\n\nThis service is now deprecated, and everything is managed in\ntripleo-ansible/tripleo_firewall automatically.\n\nWe keep the _generate_masquerade_networks() method, since it adds some\nintelligence and prevent the need for the user to actually set it -\ntherefore, we keep the automation based on the\nundercloud.conf/<subnet>/masquerade=true\n\nChange-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602\n'}, {'number': 4, 'created': '2022-04-14 14:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd8361e10ff489960c533eacb9a3a77c66cf8a30', 'message': 'Remove masquerade-networks-baremetal-puppet inclusion\n\nThis service is now deprecated, and everything is managed in\ntripleo-ansible/tripleo_firewall automatically.\n\nWe keep the _generate_masquerade_networks() method, since it adds some\nintelligence and prevent the need for the user to actually set it -\ntherefore, we keep the automation based on the\nundercloud.conf/<subnet>/masquerade=true\n\nChange-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602\n'}, {'number': 5, 'created': '2022-04-25 12:09:50.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'releasenotes/notes/hiera-override-masquerade-e17bdf22c94aad2f.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97a155ea28c2394734a6a516c1bbc6d15fb3db73', 'message': 'Remove masquerade-networks-baremetal-puppet inclusion\n\nThis service is now deprecated, and everything is managed in\ntripleo-ansible/tripleo_firewall automatically.\n\nWe keep the _generate_masquerade_networks() method, since it adds some\nintelligence and prevent the need for the user to actually set it -\ntherefore, we keep the automation based on the\nundercloud.conf/<subnet>/masquerade=true\n\nChange-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602\n'}]",3,836903,97a155ea28c2394734a6a516c1bbc6d15fb3db73,26,4,5,28223,,,0,"Remove masquerade-networks-baremetal-puppet inclusion

This service is now deprecated, and everything is managed in
tripleo-ansible/tripleo_firewall automatically.

We keep the _generate_masquerade_networks() method, since it adds some
intelligence and prevent the need for the user to actually set it -
therefore, we keep the automation based on the
undercloud.conf/<subnet>/masquerade=true

Change-Id: I09744be1f4766a2a8241bfa79095fa97ea82c602
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/836903/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,a7fd7ccfbfd206e6e26d25b5f85bd7c9d6b6bbe7,masquerade-ansible,," '/usr/share/openstack-tripleo-heat-templates/' 'environments/services/masquerade-networks.yaml', '-e',",0,7
openstack%2Fkolla-ansible~master~I18a9559daeb3d124a03dcb735ebb01a2cf24f617,openstack/kolla-ansible,master,I18a9559daeb3d124a03dcb735ebb01a2cf24f617,genpwd: handle lack of password file nicer,MERGED,2022-05-24 11:34:47.000000000,2022-05-25 06:04:17.000000000,2022-05-25 06:03:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-24 11:34:47.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/333c74feb400d81e8c7cb3b4f529dd6d2510b586', 'message': 'genpwd: handle lack of password file nicer\n\nFrom:\n\n(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nTraceback (most recent call last):\n  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>\n    sys.exit(main())\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main\n    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,\n  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd\n    with open(passwords_file, \'r\') as f:\nFileNotFoundError: [Errno 2] No such file or directory: \'/etc/kolla/passwords.yml\'\n\nTo:\n\n(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd\nERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing\n\nChange-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617\n'}]",0,843129,333c74feb400d81e8c7cb3b4f529dd6d2510b586,9,3,1,24072,,,0,"genpwd: handle lack of password file nicer

From:

(kolla) 13:11 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
Traceback (most recent call last):
  File ""/home/marcin/.virtualenvs/kolla/bin/kolla-genpwd"", line 8, in <module>
    sys.exit(main())
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 135, in main
    genpwd(passwords_file, length, uuid_keys, ssh_keys, blank_keys,
  File ""/home/marcin/.virtualenvs/kolla/lib/python3.10/site-packages/kolla_ansible/cmd/genpwd.py"", line 59, in genpwd
    with open(passwords_file, 'r') as f:
FileNotFoundError: [Errno 2] No such file or directory: '/etc/kolla/passwords.yml'

To:

(kolla) 13:17 (s) marcin@puchatek:kolla-ansible$ kolla-genpwd
ERROR: Passwords file ""/etc/kolla/passwords.yml"" is missing

Change-Id: I18a9559daeb3d124a03dcb735ebb01a2cf24f617
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/843129/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,333c74feb400d81e8c7cb3b4f529dd6d2510b586,," try: with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read()) except FileNotFoundError: print(f""ERROR: Passwords file \""{passwords_file}\"" is missing"") sys.exit(1)"," with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read())",6,2
openstack%2Fdevstack~stable%2Fwallaby~Ie7f37770a04f622735cf2263c601257669ab5064,openstack/devstack,stable/wallaby,Ie7f37770a04f622735cf2263c601257669ab5064,Configure placement section in neutron conf,MERGED,2022-05-23 06:50:29.000000000,2022-05-25 05:32:23.000000000,2022-05-24 17:23:48.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-23 06:50:29.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n'}]",2,842749,ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7,11,4,1,13861,,,0,"Configure placement section in neutron conf

Without it segment plugin fails to connect with
placement api. Configure the placement section
if service is deployed.

Closes-Bug: #1973783
Change-Id: Ie7f37770a04f622735cf2263c601257669ab5064
(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/842749/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7,bug/1973783-stable/yoga-stable/xena-stable/wallaby, # Configuration for placement client configure_keystone_authtoken_middleware $NEUTRON_CONF placement placement ,,3,0
openstack%2Fpython-aodhclient~stable%2Fwallaby~Ief746e818563a44f6838b88e433deb482fc41401,openstack/python-aodhclient,stable/wallaby,Ief746e818563a44f6838b88e433deb482fc41401,Update .gitreview for stable/wallaby,NEW,2021-03-12 12:39:36.000000000,2022-05-25 05:12:48.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 12:39:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/118ffeaf0d4a848d206c3c1eb27615773306cb19', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ief746e818563a44f6838b88e433deb482fc41401\n'}]",4,780248,118ffeaf0d4a848d206c3c1eb27615773306cb19,8,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ief746e818563a44f6838b88e433deb482fc41401
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/48/780248/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,118ffeaf0d4a848d206c3c1eb27615773306cb19,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fmistral-dashboard~stable%2Fwallaby~Id2be40cad2ed42e5a948736dc52f0f7fa05c3698,openstack/mistral-dashboard,stable/wallaby,Id2be40cad2ed42e5a948736dc52f0f7fa05c3698,Update TOX_CONSTRAINTS_FILE for stable/wallaby,NEW,2021-03-26 18:35:24.000000000,2022-05-25 05:05:41.000000000,,"[{'_account_id': 9816}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:35:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/ac6056b8898912545e178305dc789271118850cb', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id2be40cad2ed42e5a948736dc52f0f7fa05c3698\n'}]",2,783435,ac6056b8898912545e178305dc789271118850cb,5,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id2be40cad2ed42e5a948736dc52f0f7fa05c3698
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/35/783435/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ac6056b8898912545e178305dc789271118850cb,create-wallaby,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-aodhclient~master~I7094181d07cd16933cc3a00b080b0db2b4bec5bf,openstack/python-aodhclient,master,I7094181d07cd16933cc3a00b080b0db2b4bec5bf,Update min tox version to 2.0,NEW,2019-05-27 07:26:45.000000000,2022-05-25 04:59:35.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-05-27 07:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/87fbddab7a47ef9c68be121a267daba0ab3ae05e', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I7094181d07cd16933cc3a00b080b0db2b4bec5bf\n'}, {'number': 2, 'created': '2019-05-27 07:28:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/6724e062e308cc7a32c173e43dba548269013747', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I7094181d07cd16933cc3a00b080b0db2b4bec5bf\nCloses-Bug:  #1802030\n'}]",1,661550,6724e062e308cc7a32c173e43dba548269013747,6,3,2,26297,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I7094181d07cd16933cc3a00b080b0db2b4bec5bf
Closes-Bug:  #1802030
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/50/661550/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,87fbddab7a47ef9c68be121a267daba0ab3ae05e,bug/1802030,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fpython-aodhclient~master~Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b,openstack/python-aodhclient,master,Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b,DNM: Debugging test failure,ABANDONED,2022-05-09 16:57:44.000000000,2022-05-25 04:58:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-09 16:57:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/1628817c359359d02c2e99dfdc7842d9b41eb05a', 'message': 'DNM: Debugging test failure\n\nChange-Id: Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b\n'}]",0,841150,1628817c359359d02c2e99dfdc7842d9b41eb05a,3,1,1,9816,,,0,"DNM: Debugging test failure

Change-Id: Ie84ebe793d1f6ec3d7050f7d94f2e8132ce7a77b
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/50/841150/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1628817c359359d02c2e99dfdc7842d9b41eb05a,,commands = pifpaf run aodh -- stestr run --slowest --debug --verbose {posargs},commands = pifpaf run aodh -- stestr run --slowest {posargs},1,1
openstack%2Fnova~master~I444991584118a969e9ea04d352821b07ec0ba88d,openstack/nova,master,I444991584118a969e9ea04d352821b07ec0ba88d,libvirt: Add a workaround to skip compareCPU() on destination,MERGED,2022-04-21 16:37:18.000000000,2022-05-25 04:56:49.000000000,2022-05-25 04:55:16.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 16:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2ebdcbafde9ffc556d785e33918ec0b0b6214f6', 'message': 'libvirt: Add workaround to remove compareCPU() check on the destination\n\nCurrently the way Nova\'s libvirt driver uses compareCPU() is broken in\nsutble ways that breaks live migration during CPU compatibility checks.\n\nFor example, the compareCPU() call compares against the host physical\nCPUID. Some of the features from this CPUID aren not exposed by KVM, and\nthen there are some features that KVM emulates that are not in the host\nCPUID. The latter can cause bogus live migration failures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will ""do the right thing""\nw.r.t CPU compatibility on the destination host during live migration.\nNova satisfies these version requirements by a good margin.  So, remove\nthe compareCPU() check, on the destination host before migrating a\nguest, and let libvirt and QEMU do the heavy lifting on that front.\n\n                - - -\n\nNote that Nova\'s libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress.\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2022-04-21 16:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67d29a4622fff0390a37f5c749cadbb07e549b34', 'message': 'libvirt: Add workaround to skip compareCPU() check on the destination\n\nCurrently the way Nova\'s libvirt driver uses compareCPU() is broken in\nsutble ways that breaks live migration during CPU compatibility checks.\n\nFor example, the compareCPU() call compares against the host physical\nCPUID. Some of the features from this CPUID aren not exposed by KVM, and\nthen there are some features that KVM emulates that are not in the host\nCPUID. The latter can cause bogus live migration failures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will ""do the right thing""\nw.r.t CPU compatibility on the destination host during live migration.\nNova satisfies these version requirements by a good margin.  So, remove\nthe compareCPU() check, on the destination host before migrating a\nguest, and let libvirt and QEMU do the heavy lifting on that front.\n\n                - - -\n\nNote that Nova\'s libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress.\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2022-04-22 07:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02e126e34871948c358ff634c495d80b2a9fb53b', 'message': 'libvirt: Add workaround to skip compareCPU() check on the destination\n\nCurrently the way Nova\'s libvirt driver uses compareCPU() is broken in\nsutble ways that breaks live migration during CPU compatibility checks.\n\nFor example, the compareCPU() call compares against the host physical\nCPUID. Some of the features from this CPUID aren not exposed by KVM, and\nthen there are some features that KVM emulates that are not in the host\nCPUID. The latter can cause bogus live migration failures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will ""do the right thing""\nw.r.t CPU compatibility on the destination host during live migration.\nNova satisfies these version requirements by a good margin.  So, remove\nthe compareCPU() check, on the destination host before migrating a\nguest, and let libvirt and QEMU do the heavy lifting on that front.\n\n                - - -\n\nNote that Nova\'s libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress.\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2022-04-22 09:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a07865ff75f14bda39388032bf338cd4caca169', 'message': ""libvirt: Add workaround to skip compareCPU() check on the destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsutble ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 5, 'created': '2022-04-29 11:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23ac0d68d9e616e2aa1dd5723b59d1157e587356', 'message': ""libvirt: Add workaround to skip compareCPU() check on the destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsutble ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 6, 'created': '2022-04-29 11:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ccfb44683fec33bf30a7bd3dd2602309ee17fdd', 'message': ""libvirt: Add workaround to skip compareCPU() check on the destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsutble ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n""}, {'number': 7, 'created': '2022-04-29 13:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8b4ccaf983be2ca265f465fa4f9dff6271d4879', 'message': ""libvirt: Add a workaround to skip compareCPU() on destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsutble ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n""}, {'number': 8, 'created': '2022-05-03 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cfcf874e46e3581b3a5aafc7288866898806b77', 'message': ""libvirt: Add a workaround to skip compareCPU() on destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsubtle ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n""}, {'number': 9, 'created': '2022-05-24 15:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/349477928e6d281c819001cbad9152dadaf811f9', 'message': ""libvirt: Add a workaround to skip compareCPU() on destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsubtle ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n""}, {'number': 10, 'created': '2022-05-24 16:01:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/skip-compare-cpu-on-dest-6ae419ddd61fd0f8.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/267a40663cd8d0b94bbc5ebda4ece55a45753b64', 'message': ""libvirt: Add a workaround to skip compareCPU() on destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsubtle ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n""}]",31,838926,267a40663cd8d0b94bbc5ebda4ece55a45753b64,103,4,10,6962,,,0,"libvirt: Add a workaround to skip compareCPU() on destination

Nova's use of libvirt's compareCPU() API served its purpose
over the years, but its design limitations break live migration in
subtle ways.  For example, the compareCPU() API compares against the
host physical CPUID.  Some of the features from this CPUID aren not
exposed by KVM, and then there are some features that KVM emulates that
are not in the host CPUID.  The latter can cause bogus live migration
failures.

With QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in
terms of CPU compatibility checks on the destination host during live
migration.  Nova satisfies these minimum version requirements by a good
margin.  So, provide a workaround to skip the CPU comparison check on
the destination host before migrating a guest, and let libvirt handle it
correctly.  This workaround will be removed once Nova replaces the older
libvirt APIs with their newer and improved counterparts[1][2].

                - - -

Note that Nova's libvirt driver calls compareCPU() in another method,
_check_cpu_compatibility(); I did not remove its usage yet.  As it needs
more careful combing of the code, and then:

  - where possible, remove the usage of compareCPU() altogether, and
    rely on libvirt doing the right thing under the hood; or

  - where Nova _must_ do the CPU comparison checks, switch to the better
    libvirt CPU APIs -- baselineHypervisorCPU() and
    compareHypervisorCPU() -- that are described here[1].  This is work
    in progress[2].

[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27
[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration

Change-Id: I444991584118a969e9ea04d352821b07ec0ba88d
Closes-Bug: #1913716
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Signed-off-by: Balazs Gibizer <bgibizer@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/838926/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py']",2,b2ebdcbafde9ffc556d785e33918ec0b0b6214f6,skip_compareCPU_on_dest," cfg.BoolOpt('skip_cpu_compare_on_dest', default=False, help="""""" When this is enabled, it will skip CPU comparison on the destination host. When using QEMU >= 2.9 and libvirt >= 4.4.0, libvirt will do the correct thing with respect to checking CPU compatibility on the destination host during live migration. """"""),",,18,9
openstack%2Fdevstack-plugin-container~master~Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6,openstack/devstack-plugin-container,master,Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6,Remove buildah from installation.,ABANDONED,2022-05-24 07:34:08.000000000,2022-05-25 04:52:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 07:34:08.000000000', 'files': ['devstack/lib/crio'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/cf425e5d3ae36ee3dc01fdd7dd2f160ce2910f3c', 'message': 'Remove buildah from installation.\n\nBuildah is not present on older Ubuntu 20.04 LTS on OpenSuse servers and\nmirrors anymore. This cause a failure on creating devstack using cri-o.\nUntil switch to the latest version of Ubuntu LTS will be made, we need\nto get rid of it. Podman can handle image built, so for basic image\nhandling it should be enough from devstack perspective.\n\nChange-Id: Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6\n'}]",0,843109,cf425e5d3ae36ee3dc01fdd7dd2f160ce2910f3c,3,1,1,13692,,,0,"Remove buildah from installation.

Buildah is not present on older Ubuntu 20.04 LTS on OpenSuse servers and
mirrors anymore. This cause a failure on creating devstack using cri-o.
Until switch to the latest version of Ubuntu LTS will be made, we need
to get rid of it. Podman can handle image built, so for basic image
handling it should be enough from devstack perspective.

Change-Id: Ia2bd64163f7d69fa7d5868b87d93f4a6bbbfebf6
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/09/843109/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/crio'],1,cf425e5d3ae36ee3dc01fdd7dd2f160ce2910f3c,crio, apt_get install podman cri-o-runc cri-o, apt_get install podman buildah cri-o-runc cri-o,1,1
openstack%2Fheat~stable%2Fyoga~I62a16e5fa5f65daec96ba647c11ba27fb4818aad,openstack/heat,stable/yoga,I62a16e5fa5f65daec96ba647c11ba27fb4818aad,Yoga-only: Remove TripleO job,ABANDONED,2022-05-09 10:56:24.000000000,2022-05-25 04:35:05.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 10:56:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/519cb10542814fc0d303926220dc1d70e0d4c631', 'message': 'Yoga-only: Remove TripleO job\n\nTripleO has transitioned to the independent release model and it does\nnot provide the Yoga release.\n\nChange-Id: I62a16e5fa5f65daec96ba647c11ba27fb4818aad\n'}]",0,841101,519cb10542814fc0d303926220dc1d70e0d4c631,5,2,1,9816,,,0,"Yoga-only: Remove TripleO job

TripleO has transitioned to the independent release model and it does
not provide the Yoga release.

Change-Id: I62a16e5fa5f65daec96ba647c11ba27fb4818aad
",git fetch https://review.opendev.org/openstack/heat refs/changes/01/841101/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,519cb10542814fc0d303926220dc1d70e0d4c631,,, experimental: jobs: - tripleo-ci-centos-8-scenario002-standalone,0,3
openstack%2Fheat~stable%2Fussuri~I81696dfa612f10bb8a07e34592e5de0be2ca78e6,openstack/heat,stable/ussuri,I81696dfa612f10bb8a07e34592e5de0be2ca78e6,Ussuri-only: Remove TripleO job,ABANDONED,2022-05-09 10:58:34.000000000,2022-05-25 04:35:02.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 10:58:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/d4072823f2e8be16701fbdbf42039e24cdbbca30', 'message': 'Ussuri-only: Remove TripleO job\n\nThe stable/ussuri branch of TripleO repos has been EOLed. Thus we\nshould remove testing of that branch.\n\nChange-Id: I81696dfa612f10bb8a07e34592e5de0be2ca78e6\n'}]",0,841103,d4072823f2e8be16701fbdbf42039e24cdbbca30,4,2,1,9816,,,0,"Ussuri-only: Remove TripleO job

The stable/ussuri branch of TripleO repos has been EOLed. Thus we
should remove testing of that branch.

Change-Id: I81696dfa612f10bb8a07e34592e5de0be2ca78e6
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/841103/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d4072823f2e8be16701fbdbf42039e24cdbbca30,,, experimental: jobs: - tripleo-ci-centos-7-scenario002-standalone,0,3
openstack%2Fheat~stable%2Fxena~Idc21877c6f626e46a25abc63460b87244c50b6ab,openstack/heat,stable/xena,Idc21877c6f626e46a25abc63460b87244c50b6ab,Xena-only: Remove TripleO job,ABANDONED,2022-05-09 10:57:18.000000000,2022-05-25 04:34:59.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 10:57:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/4caa46087404215997d572d1e6e9fdfb521d8280', 'message': 'Xena-only: Remove TripleO job\n\nTripleO has transitioned to the independent release model and it does\nnot provide the Xena release.\n\nChange-Id: Idc21877c6f626e46a25abc63460b87244c50b6ab\n'}]",0,841102,4caa46087404215997d572d1e6e9fdfb521d8280,5,2,1,9816,,,0,"Xena-only: Remove TripleO job

TripleO has transitioned to the independent release model and it does
not provide the Xena release.

Change-Id: Idc21877c6f626e46a25abc63460b87244c50b6ab
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/841102/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4caa46087404215997d572d1e6e9fdfb521d8280,,, experimental: jobs: - tripleo-ci-centos-7-scenario002-standalone,0,3
openstack%2Fskyline-console~master~Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23,openstack/skyline-console,master,Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23,fix: magnum internationalization,ABANDONED,2022-05-24 02:31:26.000000000,2022-05-25 03:30:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 02:31:26.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/433f628902c738fd0514a7e4916d5e8e9f971aed', 'message': 'fix: magnum internationalization\n\nmagnum internationalization\n\nChange-Id: Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23\n'}]",0,843095,433f628902c738fd0514a7e4916d5e8e9f971aed,3,1,1,34718,,,0,"fix: magnum internationalization

magnum internationalization

Change-Id: Idffa63685318f6ffd1ddb8a5a441dfd6f2625a23
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/95/843095/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json']",2,433f628902c738fd0514a7e4916d5e8e9f971aed,," ""API Address"": ""API "", ""Accessible on private network only"": """", ""Accessible on the public internet"": """", ""Add Label"": """", ""Additional Labels"": """", ""Auto Healing"": """", ""Auto Scaling"": """", ""Auto scaling feature will be enabled"": """", ""Automatically repair unhealhty nodes"": """", ""COE"": """", ""COE Version"": ""COE"", ""Choose a External Network ID"": ""ID"", ""Choose a Network Driver"": """", ""Choose a Private Network ID"": ""ID"", ""Choose a Private Network at first"": """", ""Choose an ingress controller"": """", ""Cluster API"": ""API"", ""Cluster Advanced"": """", ""Cluster Create Timeout"": """", ""Cluster Detail"": """", ""Cluster Distro"": """", ""Cluster Management"": """", ""Cluster Name"": """", ""Cluster Network"": """", ""Cluster Size"": """", ""Cluster Template"": """", ""Cluster Template Detail"": """", ""Cluster Template Name"": """", ""Cluster Type"": """", ""Clusters"": """", ""Container Infra"": """", ""Container Orchestration Engine"": """", ""Container Version"": """", ""Create Cluster"": """", ""Create Cluster Template"": """", ""Create New Network"": """", ""Current Master Flavor"": """", ""DC/OS"": """", ""Delete Clusters"": """", ""Delete Clusters Templates"": """", ""Delete Template"": """", ""Disable TLS"": ""TLS"", ""Discovery URL"": ""URL"", ""Docker Storage Driver"": ""Docker"", ""Docker Swarm"": ""Docker"", ""Docker Swarm Mode"": ""Docker"", ""Docker Volume Size"": ""Docker"", ""Docker Volume Size (GB)"": ""Docker(GB)"", ""Enable Load Balancer"": """", ""Enable Registry"": """", ""Enabled Load Balancer for Master Nodes"": """", ""Enabled Network"": """", ""External Network ID"": ""ID"", ""Fixed Network"": """", ""Fixed Subnet"": """", ""Flavor ID"": ""ID"", ""Flavor of Master Nodes"": """", ""Flavor of Worker Nodes"": """", ""Floating IP Enabled"": ""IP"", ""HTTP Proxy"": ""HTTP"", ""HTTPS Proxy"": ""HTTPS"", ""Health Status"": """", ""Health Status Reason"": """", ""Hidden"": """", ""Image ID"": ""ID"", ""Info"": """", ""Info *"": ""*"", ""Ingress Controller"": """", ""Insecure Registry"": """", ""Kubernetes"": """", ""Labels"": """", ""Master Addresses"": """", ""Master Count"": """", ""Master Flavor"": """", ""Master Flavor ID"": ""ID"", ""Master LB"": ""LB"", ""Master LB Enabled"": ""LB"", ""Mesos"": """", ""Miscellaneous"": """", ""Network Driver"": """", ""No Proxy"": """", ""Node Addresses"": """", ""Node Count"": """", ""Node Flavor ID"": ""ID"", ""Node Spec"": """", ""Node Spec *"": ""*"", ""Nodes"": """", ""Number of Master Nodes"": """", ""Number of Worker Nodes"": """", ""Overlay"": """", ""Overlay2"": """", ""Registry Enabled"": """", ""Resize Cluster"": """", ""Server Type"": """", ""Size: *"": "" *"", ""Stack"": """", ""Stack Faults"": """", ""Stack ID"": ""ID"", ""Status Reason"": """", ""TLS Disabled"": ""TLS"", ""The DNS nameserver to use for this cluster template"": ""DNS"", ""The http_proxy address to use for nodes in cluster"": ""http_proxy"", ""The https_proxy address to use for nodes in cluster"": ""https_proxy"", ""The no_proxy address to use for nodes in cluster"": """", ""Update Cluster Template"": """", ""Use an Existing Network"": """", ""Volume Driver"": """", ""clusters"": """", ""clustertemplates"": """", ""labels"": """", ""nginx"": """", ""octavia"": """", ""traefik"": """",",,226,0
openstack%2Fskyline-console~master~Ifa6143e15049b5a7fd09aa385064e757d834fadc,openstack/skyline-console,master,Ifa6143e15049b5a7fd09aa385064e757d834fadc,feat: Update trove database,MERGED,2022-05-24 15:45:14.000000000,2022-05-25 03:26:52.000000000,2022-05-25 03:26:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-24 15:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3df2f00516339222d72888f32f93f33707078c19', 'message': 'feat: Update trove database\n\n1. Add validator for database and user\n2. Add user create in trove instance user list\n3. Add database create in trove instance database list\n4. Fix database column in trove instance user list\n\nChange-Id: Ifa6143e15049b5a7fd09aa385064e757d834fadc\n'}, {'number': 2, 'created': '2022-05-24 16:02:04.000000000', 'files': ['src/locales/zh.json', 'src/pages/database/containers/Instances/Detail/UserCreate.jsx', 'src/pages/database/containers/Instances/Detail/UserAction.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/utils/validate.js', 'src/pages/database/containers/Instances/Detail/DatabaseCreate.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepInitializeDatabases/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/locales/en.json', 'src/components/FormItem/NameInput/index.jsx', 'src/stores/trove/instances-user.js', 'src/pages/database/containers/Instances/Detail/DatabaseAction.jsx', 'src/stores/trove/instances-database.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/be1283358bbcb23d3ddda8d4e7fa45db33deb89d', 'message': 'feat: Update trove database\n\n1. Add validator for database and user\n2. Add user create in trove instance user list\n3. Add database create in trove instance database list\n4. Fix database column in trove instance user list\n\nChange-Id: Ifa6143e15049b5a7fd09aa385064e757d834fadc\n'}]",0,843165,be1283358bbcb23d3ddda8d4e7fa45db33deb89d,7,2,2,33689,,,0,"feat: Update trove database

1. Add validator for database and user
2. Add user create in trove instance user list
3. Add database create in trove instance database list
4. Fix database column in trove instance user list

Change-Id: Ifa6143e15049b5a7fd09aa385064e757d834fadc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/65/843165/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/zh.json', 'src/pages/database/containers/Instances/Detail/UserCreate.jsx', 'src/pages/database/containers/Instances/Detail/UserAction.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/utils/validate.js', 'src/pages/database/containers/Instances/Detail/DatabaseCreate.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepInitializeDatabases/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/locales/en.json', 'src/components/FormItem/NameInput/index.jsx', 'src/stores/trove/instances-user.js', 'src/pages/database/containers/Instances/Detail/DatabaseAction.jsx', 'src/stores/trove/instances-database.js']",13,3df2f00516339222d72888f32f93f33707078c19,open-134572," async create(id, body) { return this.submitting(this.client.create(id, body)); } @action",,562,19
openstack%2Fskyline-console~master~I6e52db8547e8bfb1379320c8ff4d16952f3faac3,openstack/skyline-console,master,I6e52db8547e8bfb1379320c8ff4d16952f3faac3,Add Zun UI to Skyline-Console,MERGED,2022-05-17 11:42:30.000000000,2022-05-25 03:13:45.000000000,2022-05-25 03:13:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-17 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bee332ac438c89c0af15c56ca72c36ce55ca4c15', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 2, 'created': '2022-05-17 12:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/89d361ed6b113bad19cfddad9a31ce9a203ce79f', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 3, 'created': '2022-05-17 13:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/42fd5ae71f8697ef41161f2c34604e3dcbcda142', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 4, 'created': '2022-05-20 06:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c6f6a155190ffbcd6561fce015f00f581f8353bc', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 5, 'created': '2022-05-20 06:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6432778c1393e23296955031754de7d4ca413cf3', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 6, 'created': '2022-05-23 06:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f17698a700f0edbc09556abdaf65a596c25270f6', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 7, 'created': '2022-05-23 12:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/244802ac135ecb45da641ca0e81bd64be9e1b5db', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 8, 'created': '2022-05-23 15:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/04d2bc38d2ea3effac10ebc03af2c6b77ff7b7ca', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 9, 'created': '2022-05-24 07:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d196dfba61fab5a0a613fcecd0d736aba2d962f8', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 10, 'created': '2022-05-24 07:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/dc36df53bb8bc2560d82f98d957679d229bbfa25', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 11, 'created': '2022-05-24 07:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d501a7e290a2bd378c539fe443a2a135173e9a22', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}, {'number': 12, 'created': '2022-05-24 16:21:14.000000000', 'files': ['src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/client/zun/index.js', 'src/pages/container-service/containers/Capsules/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/Unpause.jsx', 'src/pages/basic/routes/index.js', 'src/components/FormItem/ZunVolume/index.less', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/pages/container-service/App.jsx', 'src/components/FormItem/ZunVolume/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepVolumes/index.jsx', 'src/layouts/menu.jsx', 'src/pages/container-service/containers/Capsules/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/Start.jsx', 'src/client/client/constants.js', 'src/pages/container-service/containers/Containers/actions/Reboot.jsx', 'src/stores/zun/capsules.js', 'src/pages/container-service/containers/Containers/actions/Pause.jsx', 'src/pages/container-service/containers/Containers/actions/Stop.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/actions/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/container-service/containers/Capsules/actions/Delete.jsx', 'src/pages/container-service/containers/Capsules/actions/Create.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepMiscellaneous/index.jsx', 'src/pages/container-service/containers/Containers/actions/Delete.jsx', 'src/pages/container-service/routes/index.js', 'src/client/index.js', 'src/pages/container-service/containers/Capsules/actions/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d4ae10a03ca9b81c466cf14e34047f19e5b6cf35', 'message': 'Add Zun UI to Skyline-Console\n\nChange-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3\n'}]",33,842091,d4ae10a03ca9b81c466cf14e34047f19e5b6cf35,31,2,12,34671,,,0,"Add Zun UI to Skyline-Console

Change-Id: I6e52db8547e8bfb1379320c8ff4d16952f3faac3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/91/842091/12 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/client/zun/index.js', 'src/pages/container-service/containers/Capsules/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/Unpause.jsx', 'src/pages/basic/routes/index.js', 'src/components/FormItem/ZunVolume/index.less', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/pages/container-service/App.jsx', 'src/components/FormItem/ZunVolume/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepVolumes/index.jsx', 'src/layouts/menu.jsx', 'src/pages/container-service/containers/Capsules/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/Start.jsx', 'src/client/client/constants.js', 'src/pages/container-service/containers/Containers/actions/Reboot.jsx', 'src/stores/zun/capsules.js', 'src/pages/container-service/containers/Containers/actions/Pause.jsx', 'src/pages/container-service/containers/Containers/actions/Stop.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/actions/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/container-service/containers/Capsules/actions/Delete.jsx', 'src/pages/container-service/containers/Capsules/actions/Create.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepMiscellaneous/index.jsx', 'src/pages/container-service/containers/Containers/actions/Delete.jsx', 'src/pages/container-service/routes/index.js', 'src/client/index.js', 'src/pages/container-service/containers/Capsules/actions/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx']",33,bee332ac438c89c0af15c56ca72c36ce55ca4c15,I6e52db8547e8bfb1379320c8ff4d16952f3faac3,"// Copyright 2021 99cloud // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. import Base from 'containers/BaseDetail'; import React from 'react'; import { inject, observer } from 'mobx-react'; export class BaseDetail extends Base { get leftCards() { const cards = [this.baseInfoCard, this.miscellaneousCard]; return cards; } get rightCards() { return [this.specCard]; } get baseInfoCard() { const options = [ { label: t('ID'), dataIndex: 'uuid', }, { label: t('Name'), dataIndex: 'name', }, { label: t('Status'), dataIndex: 'status', }, { label: t('Status Detail'), dataIndex: 'status_detail', }, { label: t('Status Reason'), dataIndex: 'status_reason', }, { label: t('Task State'), dataIndex: 'task_state', }, { label: t('Command'), dataIndex: 'command', }, ]; return { title: t('Base Info'), options, }; } get miscellaneousCard() { const content = ( <div> <pre>{JSON.stringify(this.detailData.environment, null, 4)}</pre> </div> ); const options = [ { label: t('Host'), dataIndex: 'host', }, { label: t('Workdir'), dataIndex: 'workdir', }, { label: t('Environment'), dataIndex: 'environment', content }, { label: t('Interactive'), dataIndex: 'interactive', valueRender: 'yesNo', }, { label: t('Labels'), dataIndex: 'labels', render: (value) => value['cloud-shell'] || '-', }, { label: t('Links'), dataIndex: 'links', render: (value) => <div> <pre>{JSON.stringify(value, null, 4)}</pre> </div> }, ]; return { title: t('Miscellaneous'), options, }; } get specCard() { const options = [ { label: t('Image'), dataIndex: 'image', }, { label: t('Image Driver'), dataIndex: 'image_driver', }, { label: t('Image Pull Policy'), dataIndex: 'image_pull_policy', }, { label: t('Hostname'), dataIndex: 'hostname', }, { label: t('Runtime'), dataIndex: 'runtime', }, { label: t('CPU'), dataIndex: 'cpu', }, { label: t('Memory'), dataIndex: 'memory', }, { label: t('Disk'), dataIndex: 'disk', }, { label: t('Restart Policy'), dataIndex: 'restart_policy', render: (value) => <div> <pre>{JSON.stringify(value, null, 4)}</pre> </div> }, { label: t('Auto Remove'), dataIndex: 'auto_remove', }, { label: t('Auto Heal'), dataIndex: 'auto_heal', }, { label: t('Addresses'), dataIndex: 'addresses', render: (value) => <div> <pre>{JSON.stringify(value, null, 4)}</pre> </div> }, { label: t('Ports'), dataIndex: 'ports', render: (value) => <div> <pre>{JSON.stringify(value, null, 4)}</pre> </div> }, { label: t('Security Groups'), dataIndex: 'security_groups', render: (value) => <div> <pre>{JSON.stringify(value, null, 4)}</pre> </div> }, ]; return { title: t('Spec'), labelCol: 4, options, }; } } export default inject(""rootStore"")(observer(BaseDetail))",,2022,0
openstack%2Fheat~master~I93e9130d5a710816ad675e185173a60aaf02e694,openstack/heat,master,I93e9130d5a710816ad675e185173a60aaf02e694,Allow endpoint url without tenant_id/project_id templating,NEW,2022-02-22 04:08:13.000000000,2022-05-25 02:35:51.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-22 04:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4898fcf1636641837b1cb786b20b98d8c5d332bb', 'message': ""WIP: Allow remove tenant_id from API endpoints\n\nCurrently Heat requires that tenant_id is included in request URI to\naccess any resources it manages. However, this doesn't match with\nthe service resource because of the following two reasons.\n\n - Services do not belong to any projects\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client users system scope credentials, it can't\n   resolve tenant_id thus can't determine the appropriate URL to access\n   to the API.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 2, 'created': '2022-02-22 06:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1ad978947311c79d7c57a118f38f0c93f9952f97', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client users system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 3, 'created': '2022-02-22 07:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a5b456e8a26e55549a9995666b2bc1e81a161637', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client users system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 4, 'created': '2022-02-28 02:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d95a2ba017e32a2df8e9f6f29fdf1d9f171fd39a', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client users system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 5, 'created': '2022-02-28 02:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea67d61a7b085e584091b26191bd49be90839470', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 6, 'created': '2022-02-28 09:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c59dd204a37acf6cf8354633890adf571756640f', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 7, 'created': '2022-02-28 12:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f402e442e5584b8fa9ca4505f8d074d079713641', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 8, 'created': '2022-03-01 05:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/55b40705f6431412028aac023f1d3e24d0c5643c', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 9, 'created': '2022-03-01 05:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15cad65e02694e1ddba199ebd80725b211c171be', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 10, 'created': '2022-03-09 04:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/616a9b94480f3e5b79be6862090589335f65511a', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 11, 'created': '2022-04-21 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a9e81ec2c5593b0b23264cbfe1106731fab93932', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}, {'number': 12, 'created': '2022-05-25 01:09:52.000000000', 'files': ['heat/engine/clients/os/heat_plugin.py', 'releasenotes/notes/remove-tenant_id-from-endpoint-url-5350a7b07724f398.yaml', 'devstack/lib/heat', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/util.py', 'heat/tests/clients/test_clients.py', 'heat/api/openstack/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d5492e1f31cdcc3246b1a79425c33d41898bf1c2', 'message': ""Allow endpoint url without tenant_id/project_id templating\n\nCurrently Heat requires that tenant_id or project_id is included in\nrequest URI for any resources it manages. However, this doesn't match\nwith the 'service' resource because of the following two reasons.\n\n - Services do not belong to individual projects, but belong to\n   the whole system.\n\n - List services API requires system reader role when SRBAC is\n   enforced. When client uses system scope credentials, it can't\n   resolve tenant_id/project_id thus can't determine the URL.\n\nThis change duplicate API routes so that clients can access to resource\nlike stack or resource without tenant_id in request URI. The old paths\nwith tenant_id/project_id are left to keep backward compatibility.\n\nStory: 2010051\nTask: 45467\nChange-Id: I93e9130d5a710816ad675e185173a60aaf02e694\n""}]",9,830306,d5492e1f31cdcc3246b1a79425c33d41898bf1c2,34,2,12,9816,,,0,"Allow endpoint url without tenant_id/project_id templating

Currently Heat requires that tenant_id or project_id is included in
request URI for any resources it manages. However, this doesn't match
with the 'service' resource because of the following two reasons.

 - Services do not belong to individual projects, but belong to
   the whole system.

 - List services API requires system reader role when SRBAC is
   enforced. When client uses system scope credentials, it can't
   resolve tenant_id/project_id thus can't determine the URL.

This change duplicate API routes so that clients can access to resource
like stack or resource without tenant_id in request URI. The old paths
with tenant_id/project_id are left to keep backward compatibility.

Story: 2010051
Task: 45467
Change-Id: I93e9130d5a710816ad675e185173a60aaf02e694
",git fetch https://review.opendev.org/openstack/heat refs/changes/06/830306/8 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/heat', 'heat/api/openstack/v1/__init__.py']",2,4898fcf1636641837b1cb786b20b98d8c5d332bb,story/2010051," stacks_routes=[ # Template handling { 'name': 'template_validate', 'url': '/validate', 'action': 'validate_template', 'method': 'POST' }, { 'name': 'resource_types', 'url': '/resource_types', 'action': 'list_resource_types', 'method': 'GET' }, { 'name': 'resource_schema', 'url': '/resource_types/{type_name}', 'action': 'resource_schema', 'method': 'GET' }, { 'name': 'generate_template', 'url': '/resource_types/{type_name}/template', 'action': 'generate_template', 'method': 'GET' }, { 'name': 'template_versions', 'url': '/template_versions', 'action': 'list_template_versions', 'method': 'GET' }, { 'name': 'template_functions', 'url': '/template_versions/{template_version}' '/functions', 'action': 'list_template_functions', 'method': 'GET' }, # Stack collection { 'name': 'stack_index', 'url': '/stacks', 'action': 'index', 'method': 'GET' }, { 'name': 'stack_create', 'url': '/stacks', 'action': 'create', 'method': 'POST' }, { 'name': 'stack_preview', 'url': '/stacks/preview', 'action': 'preview', 'method': 'POST' }, { 'name': 'stack_detail', 'url': '/stacks/detail', 'action': 'detail', 'method': 'GET' }, # Stack data { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}', 'action': 'lookup', 'method': ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'] }, # \x3A matches on a colon. # Routes treats : specially in its regexp { 'name': 'stack_lookup', 'url': r'/stacks/{stack_name:arn\x3A.*}', 'action': 'lookup', 'method': ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'] }, { 'name': 'stack_lookup_subpath', 'url': '/stacks/{stack_name}/' '{path:resources|events|template|actions' '|environment|files}', 'action': 'lookup', 'method': 'GET' }, { 'name': 'stack_lookup_subpath_post', 'url': '/stacks/{stack_name}/' '{path:resources|events|template|actions}', 'action': 'lookup', 'method': 'POST' }, { 'name': 'stack_show', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'show', 'method': 'GET' }, { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}/{stack_id}/template', 'action': 'template', 'method': 'GET' }, { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}/{stack_id}/environment', 'action': 'environment', 'method': 'GET' }, { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}/{stack_id}/files', 'action': 'files', 'method': 'GET' }, # Stack update/delete { 'name': 'stack_update', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'update', 'method': 'PUT' }, { 'name': 'stack_update_patch', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'update_patch', 'method': 'PATCH' }, { 'name': 'preview_stack_update', 'url': '/stacks/{stack_name}/{stack_id}/preview', 'action': 'preview_update', 'method': 'PUT' }, { 'name': 'preview_stack_update_patch', 'url': '/stacks/{stack_name}/{stack_id}/preview', 'action': 'preview_update_patch', 'method': 'PATCH' }, { 'name': 'stack_delete', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'delete', 'method': 'DELETE' }, # Stack abandon { 'name': 'stack_abandon', 'url': '/stacks/{stack_name}/{stack_id}/abandon', 'action': 'abandon', 'method': 'DELETE' }, { 'name': 'stack_export', 'url': '/stacks/{stack_name}/{stack_id}/export', 'action': 'export', 'method': 'GET' }, { 'name': 'stack_snapshot', 'url': '/stacks/{stack_name}/{stack_id}/snapshots', 'action': 'snapshot', 'method': 'POST' }, { 'name': 'stack_snapshot_show', 'url': '/stacks/{stack_name}/{stack_id}/snapshots/' '{snapshot_id}', 'action': 'show_snapshot', 'method': 'GET' }, { 'name': 'stack_snapshot_delete', 'url': '/stacks/{stack_name}/{stack_id}/snapshots/' '{snapshot_id}', 'action': 'delete_snapshot', 'method': 'DELETE' }, { 'name': 'stack_list_snapshots', 'url': '/stacks/{stack_name}/{stack_id}/snapshots', 'action': 'list_snapshots', 'method': 'GET' }, { 'name': 'stack_snapshot_restore', 'url': '/stacks/{stack_name}/{stack_id}/snapshots/' '{snapshot_id}/restore', 'action': 'restore_snapshot', 'method': 'POST' }, # Stack outputs { 'name': 'stack_output_list', 'url': '/stacks/{stack_name}/{stack_id}/outputs', 'action': 'list_outputs', 'method': 'GET' }, { 'name': 'stack_output_show', 'url': '/stacks/{stack_name}/{stack_id}/outputs/' '{output_key}', 'action': 'show_output', 'method': 'GET' }] for basepath in ['/{tenant_id}', '']: connect(controller=stacks_resource, path_prefix=basepath, routes=stacks_routes) stack_path = '/stacks/{stack_name}/{stack_id}' resources_routes=[ # Resource collection { 'name': 'resource_index', 'url': '/resources', 'action': 'index', 'method': 'GET' }, # Resource data { 'name': 'resource_show', 'url': '/resources/{resource_name}', 'action': 'show', 'method': 'GET' }, { 'name': 'resource_metadata_show', 'url': '/resources/{resource_name}/metadata', 'action': 'metadata', 'method': 'GET' }, { 'name': 'resource_signal', 'url': '/resources/{resource_name}/signal', 'action': 'signal', 'method': 'POST' }, { 'name': 'resource_mark_unhealthy', 'url': '/resources/{resource_name}', 'action': 'mark_unhealthy', 'method': 'PATCH' }] for basepath in ['/{tenant_id}', '']: connect(controller=resources_resource, path_prefix=basepath + stack_path, routes=resources_routes) events_routes=[ # Stack event collection { 'name': 'event_index_stack', 'url': '/events', 'action': 'index', 'method': 'GET' }, # Resource event collection { 'name': 'event_index_resource', 'url': '/resources/{resource_name}/events', 'action': 'index', 'method': 'GET' }, # Event data { 'name': 'event_show', 'url': '/resources/{resource_name}/events/{event_id}', 'action': 'show', 'method': 'GET' }] for basepath in ['/{tenant_id}', '']: connect(controller=events_resource, path_prefix=basepath + stack_path, routes=events_routes) actions_routes=[ { 'name': 'action_stack', 'url': '/actions', 'action': 'action', 'method': 'POST' }] for basepath in ['/{tenant_id}', '']: connect(controller=actions_resource, path_prefix=basepath + stack_path, routes=actions_routes) info_routes=[ { 'name': 'build_info', 'url': '/build_info', 'action': 'build_info', 'method': 'GET' }] for basepath in ['/{tenant_id}', '']: connect(controller=info_resource, path_prefix=basepath, routes=info_routes) sc_resource = software_configs.create_resource(conf) sc_routes=[ { 'name': 'software_config_index', 'url': '', 'action': 'index', 'method': 'GET' }, { 'name': 'software_config_create', 'url': '', 'action': 'create', 'method': 'POST' }, { 'name': 'software_config_show', 'url': '/{config_id}', 'action': 'show', 'method': 'GET' }, { 'name': 'software_config_delete', 'url': '/{config_id}', 'action': 'delete', 'method': 'DELETE' }] for basepath in ['/{tenant_id}', '']: connect(controller=sc_resource, path_prefix=basepath + '/software_configs', routes=sc_routes) sd_routes=[ { 'name': 'software_deployment_index', 'url': '', 'action': 'index', 'method': 'GET' }, { 'name': 'software_deployment_metadata', 'url': '/metadata/{server_id}', 'action': 'metadata', 'method': 'GET' }, { 'name': 'software_deployment_create', 'url': '', 'action': 'create', 'method': 'POST' }, { 'name': 'software_deployment_show', 'url': '/{deployment_id}', 'action': 'show', 'method': 'GET' }, { 'name': 'software_deployment_update', 'url': '/{deployment_id}', 'action': 'update', 'method': 'PUT' }, { 'name': 'software_deployment_delete', 'url': '/{deployment_id}', 'action': 'delete', 'method': 'DELETE' }] for basepath in ['/{tenant_id}', '']: connect(controller=sd_resource, path_prefix=basepath + '/software_deployments', routes=sd_routes) for basepath in ['/{tenant_id}', '']: with mapper.submapper( controller=service_resource, path_prefix=basepath + '/services' ) as sa_mapper: sa_mapper.connect(""service_index"", """", action=""index"", conditions={'method': 'GET'})"," connect(controller=stacks_resource, path_prefix='/{tenant_id}', routes=[ # Template handling { 'name': 'template_validate', 'url': '/validate', 'action': 'validate_template', 'method': 'POST' }, { 'name': 'resource_types', 'url': '/resource_types', 'action': 'list_resource_types', 'method': 'GET' }, { 'name': 'resource_schema', 'url': '/resource_types/{type_name}', 'action': 'resource_schema', 'method': 'GET' }, { 'name': 'generate_template', 'url': '/resource_types/{type_name}/template', 'action': 'generate_template', 'method': 'GET' }, { 'name': 'template_versions', 'url': '/template_versions', 'action': 'list_template_versions', 'method': 'GET' }, { 'name': 'template_functions', 'url': '/template_versions/{template_version}' '/functions', 'action': 'list_template_functions', 'method': 'GET' }, # Stack collection { 'name': 'stack_index', 'url': '/stacks', 'action': 'index', 'method': 'GET' }, { 'name': 'stack_create', 'url': '/stacks', 'action': 'create', 'method': 'POST' }, { 'name': 'stack_preview', 'url': '/stacks/preview', 'action': 'preview', 'method': 'POST' }, { 'name': 'stack_detail', 'url': '/stacks/detail', 'action': 'detail', 'method': 'GET' }, # Stack data { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}', 'action': 'lookup', 'method': ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'] }, # \x3A matches on a colon. # Routes treats : specially in its regexp { 'name': 'stack_lookup', 'url': r'/stacks/{stack_name:arn\x3A.*}', 'action': 'lookup', 'method': ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'] }, { 'name': 'stack_lookup_subpath', 'url': '/stacks/{stack_name}/' '{path:resources|events|template|actions' '|environment|files}', 'action': 'lookup', 'method': 'GET' }, { 'name': 'stack_lookup_subpath_post', 'url': '/stacks/{stack_name}/' '{path:resources|events|template|actions}', 'action': 'lookup', 'method': 'POST' }, { 'name': 'stack_show', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'show', 'method': 'GET' }, { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}/{stack_id}/template', 'action': 'template', 'method': 'GET' }, { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}/{stack_id}/environment', 'action': 'environment', 'method': 'GET' }, { 'name': 'stack_lookup', 'url': '/stacks/{stack_name}/{stack_id}/files', 'action': 'files', 'method': 'GET' }, # Stack update/delete { 'name': 'stack_update', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'update', 'method': 'PUT' }, { 'name': 'stack_update_patch', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'update_patch', 'method': 'PATCH' }, { 'name': 'preview_stack_update', 'url': '/stacks/{stack_name}/{stack_id}/preview', 'action': 'preview_update', 'method': 'PUT' }, { 'name': 'preview_stack_update_patch', 'url': '/stacks/{stack_name}/{stack_id}/preview', 'action': 'preview_update_patch', 'method': 'PATCH' }, { 'name': 'stack_delete', 'url': '/stacks/{stack_name}/{stack_id}', 'action': 'delete', 'method': 'DELETE' }, # Stack abandon { 'name': 'stack_abandon', 'url': '/stacks/{stack_name}/{stack_id}/abandon', 'action': 'abandon', 'method': 'DELETE' }, { 'name': 'stack_export', 'url': '/stacks/{stack_name}/{stack_id}/export', 'action': 'export', 'method': 'GET' }, { 'name': 'stack_snapshot', 'url': '/stacks/{stack_name}/{stack_id}/snapshots', 'action': 'snapshot', 'method': 'POST' }, { 'name': 'stack_snapshot_show', 'url': '/stacks/{stack_name}/{stack_id}/snapshots/' '{snapshot_id}', 'action': 'show_snapshot', 'method': 'GET' }, { 'name': 'stack_snapshot_delete', 'url': '/stacks/{stack_name}/{stack_id}/snapshots/' '{snapshot_id}', 'action': 'delete_snapshot', 'method': 'DELETE' }, { 'name': 'stack_list_snapshots', 'url': '/stacks/{stack_name}/{stack_id}/snapshots', 'action': 'list_snapshots', 'method': 'GET' }, { 'name': 'stack_snapshot_restore', 'url': '/stacks/{stack_name}/{stack_id}/snapshots/' '{snapshot_id}/restore', 'action': 'restore_snapshot', 'method': 'POST' }, # Stack outputs { 'name': 'stack_output_list', 'url': '/stacks/{stack_name}/{stack_id}/outputs', 'action': 'list_outputs', 'method': 'GET' }, { 'name': 'stack_output_show', 'url': '/stacks/{stack_name}/{stack_id}/outputs/' '{output_key}', 'action': 'show_output', 'method': 'GET' } ]) stack_path = '/{tenant_id}/stacks/{stack_name}/{stack_id}' connect(controller=resources_resource, path_prefix=stack_path, routes=[ # Resource collection { 'name': 'resource_index', 'url': '/resources', 'action': 'index', 'method': 'GET' }, # Resource data { 'name': 'resource_show', 'url': '/resources/{resource_name}', 'action': 'show', 'method': 'GET' }, { 'name': 'resource_metadata_show', 'url': '/resources/{resource_name}/metadata', 'action': 'metadata', 'method': 'GET' }, { 'name': 'resource_signal', 'url': '/resources/{resource_name}/signal', 'action': 'signal', 'method': 'POST' }, { 'name': 'resource_mark_unhealthy', 'url': '/resources/{resource_name}', 'action': 'mark_unhealthy', 'method': 'PATCH' } ]) connect(controller=events_resource, path_prefix=stack_path, routes=[ # Stack event collection { 'name': 'event_index_stack', 'url': '/events', 'action': 'index', 'method': 'GET' }, # Resource event collection { 'name': 'event_index_resource', 'url': '/resources/{resource_name}/events', 'action': 'index', 'method': 'GET' }, # Event data { 'name': 'event_show', 'url': '/resources/{resource_name}/events/{event_id}', 'action': 'show', 'method': 'GET' } ]) connect(controller=actions_resource, path_prefix=stack_path, routes=[ { 'name': 'action_stack', 'url': '/actions', 'action': 'action', 'method': 'POST' } ]) connect(controller=info_resource, path_prefix='/{tenant_id}', routes=[ { 'name': 'build_info', 'url': '/build_info', 'action': 'build_info', 'method': 'GET' } ]) software_config_resource = software_configs.create_resource(conf) connect(controller=software_config_resource, path_prefix='/{tenant_id}/software_configs', routes=[ { 'name': 'software_config_index', 'url': '', 'action': 'index', 'method': 'GET' }, { 'name': 'software_config_create', 'url': '', 'action': 'create', 'method': 'POST' }, { 'name': 'software_config_show', 'url': '/{config_id}', 'action': 'show', 'method': 'GET' }, { 'name': 'software_config_delete', 'url': '/{config_id}', 'action': 'delete', 'method': 'DELETE' } ]) connect(controller=sd_resource, path_prefix='/{tenant_id}/software_deployments', routes=[ { 'name': 'software_deployment_index', 'url': '', 'action': 'index', 'method': 'GET' }, { 'name': 'software_deployment_metadata', 'url': '/metadata/{server_id}', 'action': 'metadata', 'method': 'GET' }, { 'name': 'software_deployment_create', 'url': '', 'action': 'create', 'method': 'POST' }, { 'name': 'software_deployment_show', 'url': '/{deployment_id}', 'action': 'show', 'method': 'GET' }, { 'name': 'software_deployment_update', 'url': '/{deployment_id}', 'action': 'update', 'method': 'PUT' }, { 'name': 'software_deployment_delete', 'url': '/{deployment_id}', 'action': 'delete', 'method': 'DELETE' } ]) with mapper.submapper( controller=service_resource, path_prefix='/{tenant_id}/services' ) as sa_mapper: sa_mapper.connect(""service_index"", """", action=""index"", conditions={'method': 'GET'})",380,368
openstack%2Fheat~master~I74a98a7a4a518226e8b69dbcdc2510d98556513d,openstack/heat,master,I74a98a7a4a518226e8b69dbcdc2510d98556513d,DNM: Test endpoint with project/tenant id,NEW,2022-04-21 06:26:01.000000000,2022-05-25 02:31:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-21 06:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e3003151615397c9bd36e2eae4679e570cd50552', 'message': 'DNM: Test endpoint with project/tenant id\n\nChange-Id: I74a98a7a4a518226e8b69dbcdc2510d98556513d\n'}, {'number': 2, 'created': '2022-05-25 01:10:20.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/a0a5ce4e8ca57d7835cf837dfcc128163c7b42f4', 'message': 'DNM: Test endpoint with project/tenant id\n\nChange-Id: I74a98a7a4a518226e8b69dbcdc2510d98556513d\n'}]",0,838823,a0a5ce4e8ca57d7835cf837dfcc128163c7b42f4,6,1,2,9816,,,0,"DNM: Test endpoint with project/tenant id

Change-Id: I74a98a7a4a518226e8b69dbcdc2510d98556513d
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/838823/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,e3003151615397c9bd36e2eae4679e570cd50552,secure-rbac," iniset $HEAT_CONF clients_heat url ""http://$HEAT_API_HOST:$HEAT_API_PORT/v1/%(tenant_id)s"" heat_api_service_url=""$SERVICE_PROTOCOL://$HEAT_API_HOST/heat-api/v1/\$(project_id)s"" heat_api_service_url=""$SERVICE_PROTOCOL://$HEAT_API_HOST:$HEAT_API_PORT/v1\$(project_id)s"""," iniset $HEAT_CONF clients_heat url ""http://$HEAT_API_HOST:$HEAT_API_PORT/v1"" heat_api_service_url=""$SERVICE_PROTOCOL://$HEAT_API_HOST/heat-api/v1"" heat_api_service_url=""$SERVICE_PROTOCOL://$HEAT_API_HOST:$HEAT_API_PORT/v1""",3,3
openstack%2Ftacker-specs~master~I1a810e9d3c926a18709f175fba6a907b09746a4d,openstack/tacker-specs,master,I1a810e9d3c926a18709f175fba6a907b09746a4d,Fix spelling mistakes,MERGED,2022-05-17 10:22:49.000000000,2022-05-25 02:25:42.000000000,2022-05-25 02:23:25.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-05-17 10:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/992cca8dcb919c36eb52561545320943830af42a', 'message': 'Fix spelling mistake\n\nChange-Id: I1a810e9d3c926a18709f175fba6a907b09746a4d\n'}, {'number': 2, 'created': '2022-05-18 07:40:38.000000000', 'files': ['specs/newton/event_logging.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/923fd016802b9faa52827d969a94778fd7f2d210', 'message': 'Fix spelling mistakes\n\nThe current version of the documentation contains two spelling mistakes\n\nThis update fix two spelling errors on the doc,\nthe first one is a misspelled word lifcycle instead of lifecycle,\nthe second is a missing space ""actionsuch"" instead of\n""action such""\n\nChange-Id: I1a810e9d3c926a18709f175fba6a907b09746a4d\n'}]",7,842077,923fd016802b9faa52827d969a94778fd7f2d210,13,5,2,34864,,,0,"Fix spelling mistakes

The current version of the documentation contains two spelling mistakes

This update fix two spelling errors on the doc,
the first one is a misspelled word lifcycle instead of lifecycle,
the second is a missing space ""actionsuch"" instead of
""action such""

Change-Id: I1a810e9d3c926a18709f175fba6a907b09746a4d
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/77/842077/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/event_logging.rst'],1,992cca8dcb919c36eb52561545320943830af42a,spelling,"the progress of the lifecycle operation.| event_type | string | Type of action such as create,update, |","the progress of the lifcycle operation.| event_type | string | Type of actionsuch as create,update, |",2,2
openstack%2Fheat~master~Icfa352ff372bfe43e4cd148340767c05b4ce48af,openstack/heat,master,Icfa352ff372bfe43e4cd148340767c05b4ce48af,WIP: Validate software config id,ABANDONED,2022-05-04 17:20:44.000000000,2022-05-25 01:12:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-04 17:20:44.000000000', 'files': ['heat/engine/service_software_config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/664024c2481e749bbef9fbd9c611cd393377d584', 'message': 'WIP: Validate software config id\n\nChange-Id: Icfa352ff372bfe43e4cd148340767c05b4ce48af\n'}]",1,840520,664024c2481e749bbef9fbd9c611cd393377d584,4,1,1,9816,,,0,"WIP: Validate software config id

Change-Id: Icfa352ff372bfe43e4cd148340767c05b4ce48af
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/840520/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service_software_config.py'],1,664024c2481e749bbef9fbd9c611cd393377d584,," def _validate_software_config(self, cnxt, config_id): # Ensure the software config exists, otherwise software deployment # record can't be created try: software_config_object.SoftwareConfig.get_by_id(cnxt, config_id) except exception.NotFound: raise ValueError(_('Invalid software config id.') self._validate_software_config(cnxt, config_id) self._validate_software_config(cnxt, config_id)",,12,0
openstack%2Fansible-collections-openstack~master~I3974deabc516379745794806886352279dc4f4a7,openstack/ansible-collections-openstack,master,I3974deabc516379745794806886352279dc4f4a7,Raise minimum OpenStack SDK version to 0.99.0,MERGED,2022-04-28 07:16:10.000000000,2022-05-25 00:45:49.000000000,2022-05-24 17:55:08.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-04-28 07:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3122c28b1090abf1d45cfdc19a1d4291f7274965', 'message': 'Raise minimum OpenStack SDK version to 1.0.0\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch bumps the minimum required SDK versions to 1.0.0, so that\nan error will be raised when users try to use our collection with an\nincompatible SDK release, e.g. use code from our master branch with\na OpenStack SDK 0.x.x release.\n\nChange-Id: I3974deabc516379745794806886352279dc4f4a7\n'}, {'number': 2, 'created': '2022-05-05 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7b4644b1864dc27dd5f605a0d4d6595032d0bd0f', 'message': 'Raise minimum OpenStack SDK version to 1.0.0\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch bumps the minimum required SDK versions to 1.0.0, so that\nan error will be raised when users try to use our collection with an\nincompatible SDK release, e.g. use code from our master branch with\na OpenStack SDK 0.x.x release.\n\nChange-Id: I3974deabc516379745794806886352279dc4f4a7\n'}, {'number': 3, 'created': '2022-05-24 12:37:40.000000000', 'files': ['requirements.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4bfa135b20caeb6d6c2717049059ac52fd08e0e1', 'message': 'Raise minimum OpenStack SDK version to 0.99.0\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only. Release candidates for the first major release of\nOpenStackSDK 1.x.x will be numbered using 0.99.x versions.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch bumps the minimum required SDK versions to 0.99.0, so that\nan error will be raised when users try to use our collection with an\nincompatible SDK release, e.g. use code from our master branch with\na OpenStack SDK 0.x.x release.\n\nChange-Id: I3974deabc516379745794806886352279dc4f4a7\n'}]",1,839691,4bfa135b20caeb6d6c2717049059ac52fd08e0e1,16,5,3,32962,,,0,"Raise minimum OpenStack SDK version to 0.99.0

Alongside OpenStack SDK 1.0.0 we will release a new collection version
2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in
branch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x
series only. Release candidates for the first major release of
OpenStackSDK 1.x.x will be numbered using 0.99.x versions.

At Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise
an error if one is using a incompatible releases of the OpenStack SDK
with our collection. We decided against showing warnings only because
they can be missed easily and functionality  will be broken but
probably hardly detectable when using the wrong SDK.

This patch bumps the minimum required SDK versions to 0.99.0, so that
an error will be raised when users try to use our collection with an
incompatible SDK release, e.g. use code from our master branch with
a OpenStack SDK 0.x.x release.

Change-Id: I3974deabc516379745794806886352279dc4f4a7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/91/839691/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md']",4,3122c28b1090abf1d45cfdc19a1d4291f7274965,raise_minimum_sdk_version,"pip install ""ansible>=2.9"" ""openstacksdk>=1.0.0""","pip install ""ansible>=2.9"" ""openstacksdk>=0.36""",4,4
openstack%2Fdesignate~master~I6850c9894d3d1fcc7702520042e5035b612d6cf4,openstack/designate,master,I6850c9894d3d1fcc7702520042e5035b612d6cf4,Fix issue with mdns rpc and make mdns safer to upgrade,MERGED,2022-05-07 01:37:36.000000000,2022-05-25 00:13:20.000000000,2022-05-25 00:11:58.000000000,"[{'_account_id': 5572}, {'_account_id': 9816}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-07 01:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/624c9cca837926519716ce93c9c486989e5e4d53', 'message': 'Revert accidental change to function signature in mdns rpc\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting\nthis change.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 2, 'created': '2022-05-07 01:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b87c4b47c2f74f8e678e1e27cf4a32393d4c86c5', 'message': 'Revert accidental change to function signature in mdns rpc\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting\nthis change.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 3, 'created': '2022-05-07 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/085cc45eb757cf3ab4ca89dd4a7ed5021ccf3458', 'message': 'Revert accidental change to function signature in mdns rpc\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting\nthis change.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 4, 'created': '2022-05-07 06:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b47be7458e666b01b0401f7c39b3416d55c41495', 'message': 'Revert change to function signature in mdns rpc\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting\nthis change.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 5, 'created': '2022-05-07 22:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5773881dda6f4f27543b9c47cb3a19c7781adc6b', 'message': 'Fix issue with mdns rpc and make mdns safer to upgrade\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting the\nsignature to make upgrades safer and fixing bad rpc versioning.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 6, 'created': '2022-05-12 22:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f0cea06f1ad5f9e9a6558b215b982df9facb30fd', 'message': 'Fix issue with mdns rpc and make mdns safer to upgrade\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting the\nsignature to make upgrades safer and fixing bad rpc versioning.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 7, 'created': '2022-05-18 05:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9a3b5556e7e0b742e8227dbe4415b9ff84078fb7', 'message': 'Fix issue with mdns rpc and make mdns safer to upgrade\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting the\nsignature to make upgrades safer and fixing bad rpc versioning.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}, {'number': 8, 'created': '2022-05-24 02:10:49.000000000', 'files': ['designate/tests/test_mdns/test_notify.py', 'designate/tests/unit/mdns/test_notify.py', 'designate/mdns/notify.py', 'designate/mdns/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/56223bbd4fafaf62bc31aa0159219be49de6997f', 'message': 'Fix issue with mdns rpc and make mdns safer to upgrade\n\nAs part of deprecating unused code paths a function signature\nwas updated that can cause problems during upgrade. Reverting the\nsignature to make upgrades safer and fixing bad rpc versioning.\n\nChange-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4\n'}]",3,840999,56223bbd4fafaf62bc31aa0159219be49de6997f,21,5,8,22623,,,0,"Fix issue with mdns rpc and make mdns safer to upgrade

As part of deprecating unused code paths a function signature
was updated that can cause problems during upgrade. Reverting the
signature to make upgrades safer and fixing bad rpc versioning.

Change-Id: I6850c9894d3d1fcc7702520042e5035b612d6cf4
",git fetch https://review.opendev.org/openstack/designate refs/changes/99/840999/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_mdns/test_notify.py', 'designate/tests/unit/mdns/test_notify.py', 'designate/mdns/notify.py', 'designate/mdns/rpcapi.py']",4,624c9cca837926519716ce93c9c486989e5e4d53,," 2.2 - Reverted function signature change from 2.1. def get_serial_number(self, context, zone, host, port, timeout, context, 'get_serial_number', zone=zone,"," def get_serial_number(self, zone, host, port, timeout, 'get_serial_number', zone=zone,",12,11
openstack%2Fmanila~master~Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0,openstack/manila,master,Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0,Change manila generated key type to ecdsa,NEW,2022-01-27 14:32:40.000000000,2022-05-25 00:01:44.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2355c57834394081345adc8ab5c48512805be6a6', 'message': '[WIP] Change manila generated key type to ecsda\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n'}, {'number': 2, 'created': '2022-01-27 20:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c918650a1784c1f7d14ccf8c160195b8424fbc5d', 'message': '[WIP] Change manila generated key type to ecsda\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n'}, {'number': 3, 'created': '2022-02-11 12:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f58af57ff28fc110f21c5d7b976ca91fcaa81358', 'message': '[WIP] Change manila generated key type to ecsda\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n'}, {'number': 4, 'created': '2022-04-28 12:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f4926143cee75ea2e95c69e0483d635a887a975a', 'message': ""Change manila generated key type to ecdsa\n\nWe currently generate rsa keys by default for Manila. However,\nFIPS espeficications mention that a stronger algorithm should be\nused. Also, starting from CentOS 9, the default crypto policies\nalready stopped and blocked the usage of RSA, and in case you\nstill want to use it, you must force the system to use legacy\ncrypto policies.\n\nThis patch changes the default key type we are using to\necdsa. But in order to prevent breakages in the service, we check\nif there is an ecdsa public key and if there isn't, we go for\nthe default key. This could prevent us from breaking systems\nover the upgrade.\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n""}, {'number': 5, 'created': '2022-04-29 18:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/564cf3539da325a85ddba8aa832c0208030db44d', 'message': ""Change manila generated key type to ecdsa\n\nWe currently generate rsa keys by default for Manila. However,\nFIPS espeficications mention that a stronger algorithm should be\nused. Also, starting from CentOS 9, the default crypto policies\nalready stopped and blocked the usage of RSA, and in case you\nstill want to use it, you must force the system to use legacy\ncrypto policies.\n\nThis patch changes the default key type we are using to\necdsa. But in order to prevent breakages in the service, we check\nif there is an ecdsa public key and if there isn't, we go for\nthe default key. This could prevent us from breaking systems\nover the upgrade.\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n""}, {'number': 6, 'created': '2022-05-04 18:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/00f7c2c0e236559c1c143a2797704fa69abbd0bf', 'message': ""Change manila generated key type to ecdsa\n\nWe currently generate rsa keys by default for Manila. However,\nFIPS espeficications mention that a stronger algorithm should be\nused. Also, starting from CentOS 9, the default crypto policies\nalready stopped and blocked the usage of RSA, and in case you\nstill want to use it, you must force the system to use legacy\ncrypto policies.\n\nThis patch changes the default key type we are using to\necdsa. But in order to prevent breakages in the service, we check\nif there is an ecdsa public key and if there isn't, we go for\nthe default key. This could prevent us from breaking systems\nover the upgrade.\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n""}, {'number': 7, 'created': '2022-05-24 19:14:27.000000000', 'files': ['manila/share/drivers/service_instance.py', 'releasenotes/notes/change-default-key-to-ecdsa-a868124c05bdcc77.yaml', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/0cf723f94f92fe8e0bf7e0a8831b233f61a42c1a', 'message': 'Change manila generated key type to ecdsa\n\nWe currently generate rsa keys by default for Manila. However,\nFIPS espeficications mention that a stronger algorithm should be\nused. Also, starting from CentOS 9, the default crypto policies\nalready stopped and blocked the usage of RSA, and in case you\nstill want to use it, you must force the system to use legacy\ncrypto policies.\n\nThis patch changes the default key type we are using to\necdsa. The service instance will now look for the public key\ncorresponding to the generated private key. If nothing is\nencountered, we will get the configuration values.\n\nChange-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0\n'}]",13,826686,0cf723f94f92fe8e0bf7e0a8831b233f61a42c1a,51,2,7,29632,,,0,"Change manila generated key type to ecdsa

We currently generate rsa keys by default for Manila. However,
FIPS espeficications mention that a stronger algorithm should be
used. Also, starting from CentOS 9, the default crypto policies
already stopped and blocked the usage of RSA, and in case you
still want to use it, you must force the system to use legacy
crypto policies.

This patch changes the default key type we are using to
ecdsa. The service instance will now look for the public key
corresponding to the generated private key. If nothing is
encountered, we will get the configuration values.

Change-Id: Ib2f1043e8cd3a41ff02501763d3b5c47980a84f0
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/826686/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2355c57834394081345adc8ab5c48512805be6a6,," ssh-keygen -N """" -t ed25519 -f $MANILA_PATH_TO_PRIVATE_KEY;"," ssh-keygen -N """" -t rsa -f $MANILA_PATH_TO_PRIVATE_KEY;",1,1
openstack%2Fgrenade~master~Ie560b25f83c3f102f408077f5023f07facf6095d,openstack/grenade,master,Ie560b25f83c3f102f408077f5023f07facf6095d,Do not run grenade-skip-level job on older stable branches,MERGED,2022-05-20 19:25:23.000000000,2022-05-24 23:47:08.000000000,2022-05-24 23:44:06.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-20 19:25:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/fc8b623145424babd5a273a5a2d2c209e65b8503', 'message': 'Do not run grenade-skip-level job on older stable branches\n\ngrenade-skip-level is added and supposed to be run from Yoga\nrelease. We have added this job in integrated template which\nis in branchless tempest side and applicable for stable branches\nalso.\n\nWe can control to run this job on Yoga and SLURP release onwards but\nthat leave if anyone running it directly without template So controlling\nthe branches in the job definition will work for everyone.\n\nChange-Id: Ie560b25f83c3f102f408077f5023f07facf6095d\n'}]",7,842799,fc8b623145424babd5a273a5a2d2c209e65b8503,12,5,1,8556,,,0,"Do not run grenade-skip-level job on older stable branches

grenade-skip-level is added and supposed to be run from Yoga
release. We have added this job in integrated template which
is in branchless tempest side and applicable for stable branches
also.

We can control to run this job on Yoga and SLURP release onwards but
that leave if anyone running it directly without template So controlling
the branches in the job definition will work for everyone.

Change-Id: Ie560b25f83c3f102f408077f5023f07facf6095d
",git fetch https://review.opendev.org/openstack/grenade refs/changes/99/842799/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fc8b623145424babd5a273a5a2d2c209e65b8503,," # NOTE(gmann): This job is started and meant to be run from Yoga release. # This job is meant to validate the SLURP to SLURP release # upgrade so supposed to run on SLURP release gate only. To make sure # that, when the current master is not SLURP release, below branch variant will # stop running it on not SLURP release master. And once new SLURP release start # (means the current master is SLURP release), we need to remove the 'master' # from the below branch variant condition so that it again start running on # SLURP release master gate. # also and in this job definition, we control for everyone to run on SLURP branches: ^(?!master|stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena)).*$"," # NOTE(gmann): This job is meant to validate the tick to tick release # upgrade so supposed to run on tick release gate only. To make sure # that, when the current master is tock release, below branch variant will # stop running it on tock release master. And once new tick release start # (means the current master is tick release), we need to remove the below # branch variant condition so that it again start running on tick release # master gate. # also and in this job definition, we control for everyone to run on tick branches: ^(?!master).*$",10,9
openstack%2Ftripleo-heat-templates~master~I112da4704d4c24dd183ee62c60864fba65b7bcf9,openstack/tripleo-heat-templates,master,I112da4704d4c24dd183ee62c60864fba65b7bcf9,Heat: Use internal endpoint to access the other services,ABANDONED,2022-05-12 23:58:53.000000000,2022-05-24 23:43:10.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-12 23:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b92805f1aab2557310ba6faaab8a6ecb2ce02379', 'message': 'Heat: Use internal endpoint to access the other services\n\nCurrently TripleO deploys three endpoints(admin, internal and public)\nand the internal endpoint should be used for internal communications\nbetween services.\n\nThis change ensures Heat uses internal endpoint instead of the default\npublic endpoints when it communicates with the other OpenStack services\nlike Nova.\n\nChange-Id: I112da4704d4c24dd183ee62c60864fba65b7bcf9\n'}, {'number': 2, 'created': '2022-05-12 23:59:27.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e924817502fb98b63bceb966bddc34979b27ae0a', 'message': 'Heat: Use internal endpoint to access the other services\n\nCurrently TripleO deploys three endpoints(admin, internal and public)\nand the internal endpoint should be used for internal communications\nbetween services.\n\nThis change ensures Heat uses internal endpoint instead of the default\npublic endpoints when it communicates with the other OpenStack services\nlike Nova.\n\nDepends-on: https://review.opendev.org/841654\nChange-Id: I112da4704d4c24dd183ee62c60864fba65b7bcf9\n'}]",6,841655,e924817502fb98b63bceb966bddc34979b27ae0a,11,3,2,9816,,,0,"Heat: Use internal endpoint to access the other services

Currently TripleO deploys three endpoints(admin, internal and public)
and the internal endpoint should be used for internal communications
between services.

This change ensures Heat uses internal endpoint instead of the default
public endpoints when it communicates with the other OpenStack services
like Nova.

Depends-on: https://review.opendev.org/841654
Change-Id: I112da4704d4c24dd183ee62c60864fba65b7bcf9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/841655/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-base-puppet.yaml'],1,b92805f1aab2557310ba6faaab8a6ecb2ce02379,, heat::clients::endpoint_type: 'internalURL',,1,0
openstack%2Fpuppet-openstack-integration~master~I10609882c43cbea50877473bf603e4b866eff9b5,openstack/puppet-openstack-integration,master,I10609882c43cbea50877473bf603e4b866eff9b5,WIP: add debian as non-voting,ABANDONED,2021-04-18 16:29:36.000000000,2022-05-24 23:30:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-18 16:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1d10c84da56fb7b27a439fd0120da9e5db81ae50', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 2, 'created': '2021-04-21 16:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c7f1c6a5531e7342da43f494100c0ac088ad6236', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 3, 'created': '2021-04-21 16:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ff0cedee5e0b3512b85eceb338b6762803a4f7ae', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nDepends-On: I7686a1cf541c81a9a14ef05542e31053c47e3f51\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 4, 'created': '2021-05-10 09:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9437a9776b16ea3701ea880053bb58bc3e281344', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nDepends-On: I7686a1cf541c81a9a14ef05542e31053c47e3f51\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 5, 'created': '2021-05-10 10:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e9fc596adf2acd10cf689e02e63d26da89db2742', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nThis also fixes PUPPET_BASE_PATH for Debian.\n\nDepends-On: I7686a1cf541c81a9a14ef05542e31053c47e3f51\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 6, 'created': '2021-05-10 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42bf70703f1854f1dd6efeb5cb5ebbf59628802e', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nThis also fixes PUPPET_BASE_PATH for Debian.\n\nDepends-On: Iac40476e073f22bdb997b9f56824aa19d6f61505\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 7, 'created': '2021-05-17 20:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15c08e3bc2d6938e5d835f2e20bd805dba747f4a', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nThis also fixes PUPPET_BASE_PATH for Debian.\n\nDepends-On: I2a943a7759152a37c42281fab8e7046125a42b20\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}, {'number': 8, 'created': '2021-05-31 15:12:08.000000000', 'files': ['run_tests.sh', 'manifests/repos.pp', 'zuul.d/integration.yaml', 'manifests/mysql.pp', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a9de385937410d85c1022b95b97e3977ad30a3d0', 'message': 'WIP: add debian as non-voting\n\nFirst try to get Debian as non-voting, only with Scenario001 for now.\n\nThis also fixes PUPPET_BASE_PATH for Debian.\n\nDepends-On: I2a943a7759152a37c42281fab8e7046125a42b20\nChange-Id: I10609882c43cbea50877473bf603e4b866eff9b5\n'}]",6,786772,a9de385937410d85c1022b95b97e3977ad30a3d0,40,1,8,6476,,,0,"WIP: add debian as non-voting

First try to get Debian as non-voting, only with Scenario001 for now.

This also fixes PUPPET_BASE_PATH for Debian.

Depends-On: I2a943a7759152a37c42281fab8e7046125a42b20
Change-Id: I10609882c43cbea50877473bf603e4b866eff9b5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/72/786772/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,1d10c84da56fb7b27a439fd0120da9e5db81ae50,debian-support, - puppet-openstack-integration-6-scenario001-tempest-debian-buster - puppet-openstack-integration-6-scenario001-tempest-debian-buster, - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous,6,7
openstack%2Fpuppet-openstack-integration~master~I0ead20077522e113f55d68920b956efb1c0b2114,openstack/puppet-openstack-integration,master,I0ead20077522e113f55d68920b956efb1c0b2114,[DNM] Handle zuul-worker user,ABANDONED,2021-08-03 06:50:54.000000000,2022-05-24 23:28:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-03 06:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/355e90517e599ad5b614793234cb7c859fcba158', 'message': '[DNM] Handle zuul-worker user\n\nIn C9 images in RDO zuul, user is zuul-worker instead\nof zuul.\n\nChange-Id: I0ead20077522e113f55d68920b956efb1c0b2114\n'}, {'number': 2, 'created': '2021-08-23 05:02:47.000000000', 'files': ['run_tests.sh', 'functions', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f0e988af991f40f126eb49c5e21c87b0ed5c5a44', 'message': '[DNM] Handle zuul-worker user\n\nIn C9 images in RDO zuul, user is zuul-worker instead\nof zuul.\n\nChange-Id: I0ead20077522e113f55d68920b956efb1c0b2114\n'}]",0,803312,f0e988af991f40f126eb49c5e21c87b0ed5c5a44,5,1,2,13861,,,0,"[DNM] Handle zuul-worker user

In C9 images in RDO zuul, user is zuul-worker instead
of zuul.

Change-Id: I0ead20077522e113f55d68920b956efb1c0b2114
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/12/803312/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'functions', 'zuul.d/layout.yaml']",3,355e90517e599ad5b614793234cb7c859fcba158,c9,, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario002-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario003-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario004-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario001-tempest-centos-8-stream - puppet-openstack-integration-6-scenario002-tempest-centos-8-stream - puppet-openstack-integration-6-scenario003-tempest-centos-8-stream - puppet-openstack-integration-6-scenario004-tempest-centos-8-stream - puppet-openstack-integration-7-scenario000-tempest-centos-8-stream - puppet-openstack-integration-7-scenario001-tempest-centos-8-stream - puppet-openstack-integration-7-scenario002-tempest-centos-8-stream - puppet-openstack-integration-7-scenario003-tempest-centos-8-stream - puppet-openstack-integration-7-scenario004-tempest-centos-8-stream,9,22
openstack%2Fopenstack-helm-images~master~I6ff0960bed52877a01def0b3c3d35349885f659c,openstack/openstack-helm-images,master,I6ff0960bed52877a01def0b3c3d35349885f659c,Remove train image building and jobs,MERGED,2022-05-19 16:10:31.000000000,2022-05-24 23:10:10.000000000,2022-05-24 23:04:25.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 16:10:31.000000000', 'files': ['openstack/loci/build-train.sh', 'zuul.d/libvirt.yaml', 'zuul.d/base.yaml', 'zuul.d/osh-selenium.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1c2c2d1387b77fdd9b95aae3beb9a2cd9472ca9a', 'message': 'Remove train image building and jobs\n\nThis change removes the train image building and jobs as part of\nthe effort to keep the list of supported openstack releases up\nto date.\n\nChange-Id: I6ff0960bed52877a01def0b3c3d35349885f659c\n'}]",0,842558,1c2c2d1387b77fdd9b95aae3beb9a2cd9472ca9a,9,3,1,21420,,,0,"Remove train image building and jobs

This change removes the train image building and jobs as part of
the effort to keep the list of supported openstack releases up
to date.

Change-Id: I6ff0960bed52877a01def0b3c3d35349885f659c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/58/842558/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/loci/build-train.sh', 'zuul.d/libvirt.yaml', 'zuul.d/base.yaml', 'zuul.d/osh-selenium.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml']",7,1c2c2d1387b77fdd9b95aae3beb9a2cd9472ca9a,remove-train,, # - name: openstack-helm-images-compute-kit-train-ubuntu_bionic,2,185
openstack%2Fdevstack~stable%2Fxena~Ie7f37770a04f622735cf2263c601257669ab5064,openstack/devstack,stable/xena,Ie7f37770a04f622735cf2263c601257669ab5064,Configure placement section in neutron conf,MERGED,2022-05-23 06:50:13.000000000,2022-05-24 22:24:32.000000000,2022-05-24 22:23:16.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-23 06:50:13.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c8d8915be0fc06196b8996e097552b2de16bd658', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n'}]",0,842748,c8d8915be0fc06196b8996e097552b2de16bd658,9,4,1,13861,,,0,"Configure placement section in neutron conf

Without it segment plugin fails to connect with
placement api. Configure the placement section
if service is deployed.

Closes-Bug: #1973783
Change-Id: Ie7f37770a04f622735cf2263c601257669ab5064
(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/842748/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,c8d8915be0fc06196b8996e097552b2de16bd658,bug/1973783-stable/yoga-stable/xena, # Configuration for placement client configure_keystone_authtoken_middleware $NEUTRON_CONF placement placement ,,3,0
openstack%2Fopenstack-helm~master~I78d1c7c629024c3f9530239dff9f8eb9da598764,openstack/openstack-helm,master,I78d1c7c629024c3f9530239dff9f8eb9da598764,add compute-kit to openstack umbrella chart,MERGED,2022-04-08 14:12:24.000000000,2022-05-24 22:12:36.000000000,2022-05-24 22:10:01.000000000,"[{'_account_id': 1131}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30777}, {'_account_id': 34668}]","[{'number': 1, 'created': '2022-04-08 14:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/245b28fbaa7cd2877f8023aa98b9caa3385f15ae', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 2, 'created': '2022-04-14 14:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a566699d1e54b6c3b5fc96b1952df4349399aac', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 3, 'created': '2022-04-14 15:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7e8b032175648b85ff75e099d60d42a74af966d', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 4, 'created': '2022-04-15 20:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0606a7044baaaea922bffe0568dcf6c3880b10b2', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 5, 'created': '2022-04-15 23:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc266f68d4027294915360258b249df4deb5350f', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 6, 'created': '2022-04-19 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ec7be726a105166b24a0a37ab589344d697e1b7', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 7, 'created': '2022-04-19 19:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3c1caf0a7b66592df823c2b57af162bdb9c3e4b', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 8, 'created': '2022-04-19 20:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1d04d10eb3a69fcac78deabb0d37c510d74dba83', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 9, 'created': '2022-04-20 01:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9add08d6ba7deb25759ae644ff6089e82415432d', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 10, 'created': '2022-04-20 13:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87628dceea928a776e7124f9910f399dbadbacd5', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 11, 'created': '2022-04-20 14:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f0449c93d618de2dc61eb6adcb4979fa1ed65ef', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 12, 'created': '2022-04-20 15:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab2397f78bd41ae0c03a77baa6d4e83afa2c7030', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 13, 'created': '2022-04-20 16:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15b8485794afa4fa6bea1dfaf39679da17388f6d', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 14, 'created': '2022-04-20 20:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38fc15420dbe4311e1653295103692493dcce2fb', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 15, 'created': '2022-04-21 14:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cdfb6df3dc436ecbc7b1583b2af87446c7d89fcc', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 16, 'created': '2022-04-21 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/113d770a275ccc6026efcf51e8c655f145be3dd4', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 17, 'created': '2022-04-25 03:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f0cf2c3285665be6a4d8b488866b07a685a13ae', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 18, 'created': '2022-04-25 04:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/737cee5bb756b90eaa76e769f5ee9a59cf15c582', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 19, 'created': '2022-04-25 13:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a5c77903dd606c5c1717302237eb206f62a8c45c', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 20, 'created': '2022-04-25 14:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5572a2e46ffbcdaa0a2787eea682608ce9bf272a', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 21, 'created': '2022-04-25 14:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/13eb6342b08111a24a8bb234728fede3d2fe5fd9', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 22, 'created': '2022-04-25 17:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce23e697cb02c5951931d4e47638953cc0c026d1', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 23, 'created': '2022-04-26 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ceb711c3a17e7fffa4673e24cd1fa28091489e1', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 24, 'created': '2022-04-26 18:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86b85b58dba0a82c80e8a5e312f80832d9b8a128', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 25, 'created': '2022-04-28 22:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35ad7d2a95ce3165cc6447f0a6dd2960e2a738cb', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 26, 'created': '2022-04-29 15:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60565e490ed3941254db0ee7f4bab7ab06bda771', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 27, 'created': '2022-05-05 18:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31bc4961f831e9a549acbd7daed06334c413c9e6', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 28, 'created': '2022-05-05 20:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/11c256c344bcbdc328aecb1c97c58f4a8ab6e3ca', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 29, 'created': '2022-05-05 20:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/be3256858684d5d0be8f81db800a24d8ba5c991f', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 30, 'created': '2022-05-06 21:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9fbfb9b8c62c3a182ab19739fd7fa240dc5cef66', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: Icd860b4360d8547480780b271954a20e79d5a4cd\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 31, 'created': '2022-05-06 23:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e55546f98227fe04a7c398b53b6be827020433e', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 32, 'created': '2022-05-09 19:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83e5d492889e0bc33ea31a44ed290117ca610fb6', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 33, 'created': '2022-05-09 20:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cfde16e0aa43c26e40f91ec4ecbe9856e15f1ce6', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 34, 'created': '2022-05-10 21:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b80e51c928993c8277ffff824abbc18e4b305281', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 35, 'created': '2022-05-10 21:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d0a933061b23dc6009ffe8f0fe8d13463e0864a', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 36, 'created': '2022-05-10 21:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/202d10d9f5e9485ee85c60aa58d9d79e4293b37f', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 37, 'created': '2022-05-12 15:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b104cb1f2ec9f09fa6b445ba0d9895830000a8d5', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 38, 'created': '2022-05-12 15:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec1cd43fb691066b2aaa69877e8ecb136b6c105a', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 39, 'created': '2022-05-12 16:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a4f9778d82eff87a1165091141e679fab0ffb0b7', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 40, 'created': '2022-05-13 13:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/741510a237d5b8baf495ce30245567339ce74dae', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 41, 'created': '2022-05-13 14:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74eb6b85e2f0320edbf3d83b273a90f9234fe538', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 42, 'created': '2022-05-13 15:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a85be2b25e256dffbce1208fca9b08457f6215fa', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 43, 'created': '2022-05-13 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eef6d31a97b4a2a0637cd8f520947b4a4e4aabab', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 44, 'created': '2022-05-13 17:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1a09e49e4ceb02f12b691398e1c0e9b9e1592e0', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 45, 'created': '2022-05-13 20:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/133eead5abf2e59cb953fab00e523f1014cc8aff', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 46, 'created': '2022-05-13 21:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b1724cb94ffefc559a770a7e62eba96d61f43c2', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 47, 'created': '2022-05-19 22:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6dfa7beecd598d4914b19fb88c23c2a9b5ee23ef', 'message': '[WIP] Add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nDepends-On: If8cf28349b0c14ba6e1de74d49e46ab4a61b93c7\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}, {'number': 48, 'created': '2022-05-19 22:07:38.000000000', 'files': ['tools/deployment/component/common/openstack.sh', 'openstack/values_overrides/nova/tls-offloading.yaml', 'nova/templates/configmap-etc.yaml', 'openstack/values_overrides/openvswitch/vswitchd-probes.yaml', 'releasenotes/notes/neutron.yaml', 'openstack/values_overrides/neutron/gate.yaml', 'openstack/values_overrides/libvirt/cinder-external-ceph-backend.yaml', 'openstack/values_overrides/placement/victoria-ubuntu_focal.yaml', 'openstack/values_overrides/placement/ussuri-ubuntu_bionic.yaml', 'openstack/charts/placement', 'openstack/values_overrides/nova/train-ubuntu_bionic.yaml', 'openstack/charts/nova', 'openstack/values_overrides/nova/tls.yaml', 'openstack/values_overrides/neutron/apparmor.yaml', 'openstack/values_overrides/nova/apparmor.yaml', 'openstack/charts/openvswitch', 'openstack/charts/neutron', 'openstack/values_overrides/nova/ussuri-ubuntu_bionic.yaml', 'openstack/values_overrides/neutron/netpol.yaml', 'openstack/values_overrides/neutron/train-ubuntu_bionic.yaml', 'nova/templates/pod-rally-test.yaml', 'neutron/Chart.yaml', 'nova/Chart.yaml', 'openstack/values_overrides/neutron/tls.yaml', 'openstack/values_overrides/nova/tf.yaml', 'openstack/values_overrides/placement/apparmor.yaml', 'openstack/values_overrides/placement/train-ubuntu_bionic.yaml', 'openstack/values_overrides/neutron/tf.yaml', 'openstack/values_overrides/openvswitch/apparmor.yaml', 'neutron/templates/pod-rally-test.yaml', 'openstack/values_overrides/openvswitch/dpdk-ubuntu_bionic.yaml', 'openstack/Chart.yaml', 'releasenotes/notes/openstack.yaml', 'openstack/values_overrides/nova/victoria-ubuntu_focal.yaml', 'openstack/values_overrides/nova/wallaby.yaml', 'openstack/values_overrides/libvirt/apparmor.yaml', 'openstack/values_overrides/nova/cntt.yaml', 'openstack/values_overrides/placement/tls.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'openstack/values_overrides/openvswitch/netpol.yaml', 'openstack/values_overrides/nova/netpol.yaml', 'openstack/values_overrides/neutron/dpdk-bond.yaml', 'openstack/values_overrides/placement/netpol.yaml', 'openstack/values_overrides/libvirt/wallaby-ubuntu_focal.yaml', 'openstack/values_overrides/libvirt/ssl.yaml', 'openstack/charts/libvirt', 'releasenotes/notes/nova.yaml', 'neutron/templates/configmap-etc.yaml', 'openstack/values_overrides/neutron/victoria-ubuntu_focal.yaml', 'openstack/values_overrides/libvirt/victoria-ubuntu_focal.yaml', 'openstack/values_overrides/neutron/wallaby-ubuntu_focal.yaml', 'openstack/values_overrides/nova/ssh.yaml', 'openstack/values_overrides/neutron/ussuri-ubuntu_bionic.yaml', 'openstack/values_overrides/openvswitch/dpdk-opensuse_15.yaml', 'openstack/values_overrides/nova/wallaby-ubuntu_focal.yaml', 'openstack/values.yaml', 'openstack/values_overrides/placement/wallaby-ubuntu_focal.yaml', 'openstack/values_overrides/libvirt/netpol.yaml', 'openstack/values_overrides/neutron/dpdk.yaml', 'openstack/values_overrides/neutron/shared-sriov-ovs-dpdk-bond.yaml', 'openstack/values_overrides/nova/opensuse_15.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e5b7f9cb7bc746d21109f72126cd72c3a089e0b', 'message': 'add compute-kit to openstack umbrella chart\n\nADD: include new charts to the umbrella chart for comprehensive\n     deployment of openstack-helm.\n\n       * openvswitch\n       * libvirt\n       * neutron\n       * nova\n       * placement\n\nChange-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764\n'}]",5,837132,2e5b7f9cb7bc746d21109f72126cd72c3a089e0b,99,8,48,32090,,,0,"add compute-kit to openstack umbrella chart

ADD: include new charts to the umbrella chart for comprehensive
     deployment of openstack-helm.

       * openvswitch
       * libvirt
       * neutron
       * nova
       * placement

Change-Id: I78d1c7c629024c3f9530239dff9f8eb9da598764
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/837132/48 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/common/openstack.sh', 'openstack/values_overrides/libvirt/victoria-ubuntu_focal.yaml', 'openstack/values_overrides/libvirt/apparmor.yaml', 'openstack/values_overrides/openvswitch/dpdk-opensuse_15.yaml', 'openstack/values_overrides/openvswitch/vswitchd-probes.yaml', 'openstack/values_overrides/libvirt/cinder-external-ceph-backend.yaml', 'openstack/values_overrides/openvswitch/netpol.yaml', 'openstack/values.yaml', 'openstack/values_overrides/libvirt/netpol.yaml', 'openstack/values_overrides/libvirt/wallaby-ubuntu_focal.yaml', 'openstack/values_overrides/openvswitch/apparmor.yaml', 'openstack/values_overrides/libvirt/ssl.yaml', 'openstack/charts/libvirt', 'openstack/values_overrides/openvswitch/dpdk-ubuntu_bionic.yaml', 'openstack/charts/openvswitch', 'openstack/Chart.yaml']",16,245b28fbaa7cd2877f8023aa98b9caa3385f15ae,,"- name: openvswitch repository: file://../../openstack-helm-infra/openvswitch version: "">0.1.0"" - name: libvirt repository: file://../../openstack-helm-infra/libvirt version: "">0.1.0""",,163,0
openstack%2Frpm-packaging~master~I17559b064871efc9e3a5adec2607a7c48c643f49,openstack/rpm-packaging,master,I17559b064871efc9e3a5adec2607a7c48c643f49,fixups to latest ref to match upper-constraints,MERGED,2022-05-24 21:50:20.000000000,2022-05-24 22:06:49.000000000,2022-05-24 22:06:49.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-24 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/467f4e1e5493b3873e50bb4a1fda8a0177d34d2b', 'message': 'fixups to latest ref to match upper-constraints\n\nChange-Id: I17559b064871efc9e3a5adec2607a7c48c643f49\n'}, {'number': 2, 'created': '2022-05-24 21:54:06.000000000', 'files': ['openstack/openstack-doc-tools/openstack-doc-tools.spec.j2', 'openstack/python-barbicanclient/python-barbicanclient.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2', 'openstack/stevedore/stevedore.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/python-designateclient/python-designateclient.spec.j2', 'openstack/oslo.i18n/oslo.i18n.spec.j2', 'openstack/python-senlinclient/python-senlinclient.spec.j2', 'openstack/python-swiftclient/python-swiftclient.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/os-client-config/os-client-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eca682f7962d4fe817c9612e4e5773d1f6f69b52', 'message': 'fixups to latest ref to match upper-constraints\n\nChange-Id: I17559b064871efc9e3a5adec2607a7c48c643f49\n'}]",0,843218,eca682f7962d4fe817c9612e4e5773d1f6f69b52,8,3,2,6593,,,0,"fixups to latest ref to match upper-constraints

Change-Id: I17559b064871efc9e3a5adec2607a7c48c643f49
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/843218/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/openstack-doc-tools/openstack-doc-tools.spec.j2', 'openstack/python-barbicanclient/python-barbicanclient.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/stevedore/stevedore.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/python-designateclient/python-designateclient.spec.j2', 'openstack/oslo.i18n/oslo.i18n.spec.j2', 'openstack/python-senlinclient/python-senlinclient.spec.j2', 'openstack/python-swiftclient/python-swiftclient.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/os-client-config/os-client-config.spec.j2']",13,467f4e1e5493b3873e50bb4a1fda8a0177d34d2b,,,BuildRequires: {{ py3('mock') }},4,21
openstack%2Fos-client-config~master~I99871f28cd8a66adf5610104ca142c2871e99b0d,openstack/os-client-config,master,I99871f28cd8a66adf5610104ca142c2871e99b0d,Fix zuul jobs,MERGED,2022-05-24 12:30:42.000000000,2022-05-24 21:18:45.000000000,2022-05-24 21:16:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 12:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/729ab1c817a1e81a3f352a910073a9a0383863ff', 'message': 'Fix zuul jobs\n\nSome clients dropped support for py37, run the tips job with py38\ninstead.\n\nDrop lower-constraints jobs and use the latest version of the\nopenstack-python3-jobs template.\n\nChange-Id: I99871f28cd8a66adf5610104ca142c2871e99b0d\n'}, {'number': 2, 'created': '2022-05-24 13:34:56.000000000', 'files': ['.zuul.yaml', 'os_client_config/tests/test_cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/624cb972224ba473c98189be6f59a0ea57e7dec6', 'message': 'Fix zuul jobs\n\nSome clients dropped support for py37, run the tips job with py38\ninstead.\n\nDrop lower-constraints jobs and use the latest version of the\nopenstack-python3-jobs template.\n\nFix pep8 errors that have crept in.\n\nDisable shade jobs until they can get fixed.\n\nChange-Id: I99871f28cd8a66adf5610104ca142c2871e99b0d\n'}]",1,843136,624cb972224ba473c98189be6f59a0ea57e7dec6,8,2,2,13252,,,0,"Fix zuul jobs

Some clients dropped support for py37, run the tips job with py38
instead.

Drop lower-constraints jobs and use the latest version of the
openstack-python3-jobs template.

Fix pep8 errors that have crept in.

Disable shade jobs until they can get fixed.

Change-Id: I99871f28cd8a66adf5610104ca142c2871e99b0d
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/36/843136/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,729ab1c817a1e81a3f352a910073a9a0383863ff,fix-zuul-jobs, name: os-client-config-tox-py38-tips parent: openstack-tox-py38 Run tox python 38 unittests against master of important libs - os-client-config-tox-py38-tips - os-client-config-tox-py38-tips - openstack-python3-zed-jobs, name: os-client-config-tox-py37-tips parent: openstack-tox-py37 Run tox python 37 unittests against master of important libs - os-client-config-tox-py37-tips - os-client-config-tox-py37-tips - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs,6,7
openstack%2Fopenstack-ansible-os_neutron~master~I709abb91ac125edf2c63a85bd6af37f723e6bb6a,openstack/openstack-ansible-os_neutron,master,I709abb91ac125edf2c63a85bd6af37f723e6bb6a,Support dns_domain_keywords extension,MERGED,2022-05-17 13:10:23.000000000,2022-05-24 20:45:44.000000000,2022-05-24 20:44:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-17 13:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/bda3a1b998f4790044e69c313a92b847a028a241', 'message': 'Support dns_domain_keywords extension\n\nChange-Id: I709abb91ac125edf2c63a85bd6af37f723e6bb6a\nCloses-Bug: 1973165\n'}, {'number': 2, 'created': '2022-05-17 16:34:34.000000000', 'files': ['templates/neutron.conf.j2', 'templates/plugins/ml2/ml2_conf.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c0f6f603f07c127d5646ccdd967cfa993ef4af0b', 'message': 'Support dns_domain_keywords extension\n\nChange-Id: I709abb91ac125edf2c63a85bd6af37f723e6bb6a\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/842153\nCloses-Bug: 1973165\n'}]",5,842102,c0f6f603f07c127d5646ccdd967cfa993ef4af0b,22,3,2,25023,,,0,"Support dns_domain_keywords extension

Change-Id: I709abb91ac125edf2c63a85bd6af37f723e6bb6a
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/842153
Closes-Bug: 1973165
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/02/842102/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'templates/plugins/ml2/ml2_conf.ini.j2']",2,bda3a1b998f4790044e69c313a92b847a028a241,,"extension_drivers = port_security{% if 'qos' in neutron_plugin_base %},qos{% endif %}{% if 'dns' in neutron_plugin_base %},dns{% endif %}{% if 'dns_domain_ports' in neutron_plugin_base %},dns_domain_ports{% endif %}{% if 'subnet_dns_publish_fixed_ip' in neutron_plugin_base %},subnet_dns_publish_fixed_ip{% endif %}{% if 'dns_domain_keywords' in neutron_plugin_base %},dns_domain_keywords{% endif %}","extension_drivers = port_security{% if 'qos' in neutron_plugin_base %},qos{% endif %}{% if 'dns' in neutron_plugin_base %},dns{% endif %}{% if 'dns_domain_ports' in neutron_plugin_base %},dns_domain_ports{% endif %}{% if 'subnet_dns_publish_fixed_ip' in neutron_plugin_base %},subnet_dns_publish_fixed_ip{% endif %}",2,2
openstack%2Fproject-config~master~I71736578dbd5e0683b18023e73ab44255eb6eb18,openstack/project-config,master,I71736578dbd5e0683b18023e73ab44255eb6eb18,Install setfacl on test nodes,MERGED,2022-05-24 20:05:29.000000000,2022-05-24 20:44:58.000000000,2022-05-24 20:34:25.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 20:05:29.000000000', 'files': ['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e57097f50b79ba1c789be5e59af92a32a9abbcf', 'message': ""Install setfacl on test nodes\n\nAnsible v5 appears to rely on setfacl more than ansible 2.9 did when\nrunning tasks as a different unprivileged user than the one currently\nrunning ansible. Without setfacl installed we get errors like:\n\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chmod:\n  invalid mode: A+user:stack:rx:allow Try 'chmod --help' for more\n  information.}). For information on working around this, see\n  https://docs.ansible.com/ansible-core/2.12/user_guide/become.html#risks-of-becoming-an-unprivileged-user\n\nInstalling setfacl makes the error go away as ansible get use setfacl\ninstead of chown/chmod.\n\nUbuntu, Debian, Fedora, CentOS, and OpenSUSE all appear to call the\npackage 'acl'. We assume that openeuler and rocky inherit this package\nname. That means we only need to override the package name for Gentoo.\n\nChange-Id: I71736578dbd5e0683b18023e73ab44255eb6eb18\n""}]",0,843210,3e57097f50b79ba1c789be5e59af92a32a9abbcf,9,3,1,4146,,,0,"Install setfacl on test nodes

Ansible v5 appears to rely on setfacl more than ansible 2.9 did when
running tasks as a different unprivileged user than the one currently
running ansible. Without setfacl installed we get errors like:

  Failed to set permissions on the temporary files Ansible needs to
  create when becoming an unprivileged user (rc: 1, err: chmod:
  invalid mode: A+user:stack:rx:allow Try 'chmod --help' for more
  information.}). For information on working around this, see
  https://docs.ansible.com/ansible-core/2.12/user_guide/become.html#risks-of-becoming-an-unprivileged-user

Installing setfacl makes the error go away as ansible get use setfacl
instead of chown/chmod.

Ubuntu, Debian, Fedora, CentOS, and OpenSUSE all appear to call the
package 'acl'. We assume that openeuler and rocky inherit this package
name. That means we only need to override the package name for Gentoo.

Change-Id: I71736578dbd5e0683b18023e73ab44255eb6eb18
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/843210/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/package-installs.yaml']",2,3e57097f50b79ba1c789be5e59af92a32a9abbcf,install-acl,acl:,,2,0
openstack%2Fgovernance~master~Ie65553720247b585be94d53811a2ade20353f9cc,openstack/governance,master,Ie65553720247b585be94d53811a2ade20353f9cc,Update documentation to try DPL model for leaderless projects,MERGED,2022-05-03 17:55:49.000000000,2022-05-24 20:28:40.000000000,2022-05-24 20:27:09.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f1baa2c32f3033689c597f7bc04cc7d6d8dec394', 'message': 'Update documentation to try DPL model for leaderless projects\n\nAs discussed in PTG, we will try the DPL model first for\nthe leaderless projects or if PTL assignment is needed in between\nof the cycle.\n\n- https://etherpad.opendev.org/p/tc-zed-ptg#L109\n\nChange-Id: Ie65553720247b585be94d53811a2ade20353f9cc\n'}, {'number': 2, 'created': '2022-05-06 19:07:45.000000000', 'files': ['reference/charter.rst', 'reference/house-rules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/bceddc51d568a2233d1eae43333d674344a038df', 'message': 'Update documentation to try DPL model for leaderless projects\n\nAs discussed in PTG, we will try the DPL model first for\nthe leaderless projects or if PTL assignment is needed in between\nof the cycle.\n\n- https://etherpad.opendev.org/p/tc-zed-ptg#L109\n\nChange-Id: Ie65553720247b585be94d53811a2ade20353f9cc\n'}]",4,840363,bceddc51d568a2233d1eae43333d674344a038df,18,8,2,8556,,,0,"Update documentation to try DPL model for leaderless projects

As discussed in PTG, we will try the DPL model first for
the leaderless projects or if PTL assignment is needed in between
of the cycle.

- https://etherpad.opendev.org/p/tc-zed-ptg#L109

Change-Id: Ie65553720247b585be94d53811a2ade20353f9cc
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/840363/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/charter.rst', 'reference/house-rules.rst', 'tox.ini']",3,f1baa2c32f3033689c597f7bc04cc7d6d8dec394,charter-change, -r{toxinidir}/requirements.txt,,20,14
openstack%2Fproject-config~master~If43044419b68702fd540486aacd2aad75ea9e196,openstack/project-config,master,If43044419b68702fd540486aacd2aad75ea9e196,Build and publish wheel mirror for Ubuntu Jammy,MERGED,2022-05-21 12:43:50.000000000,2022-05-24 20:13:16.000000000,2022-05-24 20:13:16.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-21 12:43:50.000000000', 'files': ['playbooks/wheel/release.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/31714e97bb096a240568680d1b1f3a166906ac80', 'message': 'Build and publish wheel mirror for Ubuntu Jammy\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/842839\nChange-Id: If43044419b68702fd540486aacd2aad75ea9e196\n'}]",1,842841,31714e97bb096a240568680d1b1f3a166906ac80,7,3,1,13252,,,0,"Build and publish wheel mirror for Ubuntu Jammy

Depends-on: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/842839
Change-Id: If43044419b68702fd540486aacd2aad75ea9e196
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/842841/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/wheel/release.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",3,31714e97bb096a240568680d1b1f3a166906ac80,jammy-wheels, name: publish-wheel-cache-ubuntu-jammy parent: build-wheel-cache-ubuntu-jammy description: | Publish Ubuntu Jammy wheels for OpenStack CI mirrors. pre-run: playbooks/openafs-client/setup.yaml post-run: playbooks/publish/wheel-mirror.yaml allowed-projects: - openstack/requirements final: true secrets: - name: afs secret: wheel_keytab - job: name: publish-wheel-cache-ubuntu-jammy-arm64 parent: build-wheel-cache-ubuntu-jammy-arm64 description: | Publish Ubuntu Jammy wheels for OpenStack CI mirrors. pre-run: playbooks/openafs-client/setup.yaml post-run: playbooks/publish/wheel-mirror.yaml allowed-projects: - openstack/requirements final: true secrets: - name: afs secret: wheel_keytab - job:,,37,0
openstack%2Freleases~master~I73f46b385d8ccba316c9588320a8306901433d82,openstack/releases,master,I73f46b385d8ccba316c9588320a8306901433d82,[requirements] Transition Ocata to End of Life,ABANDONED,2021-06-09 19:18:03.000000000,2022-05-24 20:09:53.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:18:03.000000000', 'files': ['deliverables/ocata/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ce0aa9d8045b71ddc5895d2a6f8b140f8408d12', 'message': ""[requirements] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I73f46b385d8ccba316c9588320a8306901433d82\n""}]",0,795672,9ce0aa9d8045b71ddc5895d2a6f8b140f8408d12,11,3,1,17685,,,0,"[requirements] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I73f46b385d8ccba316c9588320a8306901433d82
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/795672/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/requirements.yaml'],1,9ce0aa9d8045b71ddc5895d2a6f8b140f8408d12,ocata-eol, - version: ocata-eol projects: - repo: openstack/requirements hash: f801364d20fdd37864448b37bf7fa267cf0b956d,,4,0
openstack%2Fdevstack~master~Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206,openstack/devstack,master,Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206,DNM: testing ansible testing,ABANDONED,2022-05-24 16:24:11.000000000,2022-05-24 20:06:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab1854c9c0ad8a3915c94b49c893767c3d9bda5e', 'message': 'DNM: testing ansible testing\n\nChange-Id: Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206\n'}, {'number': 2, 'created': '2022-05-24 17:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c24f80ded5ccf43399ea25a407b0f2519cdf7bc5', 'message': 'DNM: testing ansible testing\n\nChange-Id: Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206\n'}, {'number': 3, 'created': '2022-05-24 18:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8fadd475f3cd49b14dbac418d0a35512183affd2', 'message': 'DNM: testing ansible testing\n\nChange-Id: Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206\n'}, {'number': 4, 'created': '2022-05-24 18:33:56.000000000', 'files': ['playbooks/pre.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a7bb2927007a68b5dc98ad8c5fa9f2468e2a1e36', 'message': 'DNM: testing ansible testing\n\nChange-Id: Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206\n'}]",1,843170,a7bb2927007a68b5dc98ad8c5fa9f2468e2a1e36,14,1,4,13252,,,0,"DNM: testing ansible testing

Change-Id: Ie08f75725159227d3ef8d0eadfe8eab5ca9ca206
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/843170/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pre.yaml', '.zuul.yaml']",2,ab1854c9c0ad8a3915c94b49c893767c3d9bda5e,try-ansible-5,," templates: - integrated-gate-py3 - publish-openstack-docs-pti - devstack-ipv6 - devstack-enforce-scope - devstack-platform-fedora-latest - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-ubuntu-jammy - devstack-platform-ubuntu-jammy-ovn-source - devstack-platform-ubuntu-jammy-ovs - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ gate: jobs: - devstack - devstack-ipv6 - devstack-platform-centos-9-stream - devstack-platform-ubuntu-jammy - devstack-enforce-scope - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # Please add a note on each job and conditions for the job not # being experimental any more, so we can keep this list somewhat # pruned. # # * nova-next: maintained by nova for unreleased/undefaulted # things # * neutron-fullstack-with-uwsgi: maintained by neutron for fullstack test # when neutron-api is served by uwsgi, it's in exprimental for testing. # the next cycle we can remove this job if things turn out to be # stable enough. # * neutron-functional-with-uwsgi: maintained by neutron for functional # test. Next cycle we can remove this one if things turn out to be # stable engouh with uwsgi. # * neutron-tempest-with-uwsgi: maintained by neutron for tempest test. # Next cycle we can remove this if everything run out stable enough. # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration # * devstack-platform-fedora-latest-virt-preview: Maintained by lyarwood # for Nova to allow early testing of the latest versions of Libvirt and # QEMU. Should only graduate out of experimental if it ever moves into # the check queue for Nova. experimental: jobs: - nova-multi-cell - nova-next - neutron-fullstack-with-uwsgi - neutron-functional-with-uwsgi - neutron-tempest-with-uwsgi - devstack-plugin-ceph-tempest-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - cinder-tempest-lvm-multibackend: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-pg-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - devstack-platform-fedora-latest-virt-preview - devstack-no-tls-proxy periodic: jobs: - devstack-no-tls-proxy",1,141
openstack%2Fopenstack-ansible-os_octavia~stable%2Fwallaby~Ic5c9b809f90dae415ccc72233342ea3242c0b78f,openstack/openstack-ansible-os_octavia,stable/wallaby,Ic5c9b809f90dae415ccc72233342ea3242c0b78f,Fix condition for deleting old amp images,MERGED,2022-05-23 10:21:59.000000000,2022-05-24 19:56:59.000000000,2022-05-24 19:55:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-23 10:21:59.000000000', 'files': ['tasks/octavia_amp_image.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/4a6e1fdbfe707e705d4967dcc6bd67449444c694', 'message': 'Fix condition for deleting old amp images\n\nChange-Id: Ic5c9b809f90dae415ccc72233342ea3242c0b78f\nCloses-Bug: 1967270\n(cherry picked from commit 9d999d0bae5c58263b4906a1e9897c763a0071b8)\n'}]",0,842936,4a6e1fdbfe707e705d4967dcc6bd67449444c694,8,3,1,28619,,,0,"Fix condition for deleting old amp images

Change-Id: Ic5c9b809f90dae415ccc72233342ea3242c0b78f
Closes-Bug: 1967270
(cherry picked from commit 9d999d0bae5c58263b4906a1e9897c763a0071b8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/36/842936/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_amp_image.yml'],1,4a6e1fdbfe707e705d4967dcc6bd67449444c694,, - get_image_info.openstack_image.id is defined, - openstack_image.id is defined,1,1
openstack%2Frequirements~master~I75a025d3c347cc895328949281b8068b7af85a6c,openstack/requirements,master,I75a025d3c347cc895328949281b8068b7af85a6c,Add prettytable to global-requirements,MERGED,2021-12-10 10:54:13.000000000,2022-05-24 19:52:37.000000000,2022-05-17 18:18:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-12-10 10:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cdd4103364346214a1c9141c259abd6a6f6724d1', 'message': ""Add prettytable to global-requirements\n\nPrettyTable package has been dropped from PyPi since it was not\nmaintained for a while and didn't have support for Python3.\nprettytable package should be mostly compatile with it and\nallowed for projects to be used.\n\nConstraint for prettytable is already present.\n\nChange-Id: I75a025d3c347cc895328949281b8068b7af85a6c\n""}, {'number': 2, 'created': '2021-12-10 10:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d0dab3059dbeed1de4d2867e4afe1e433c2d713e', 'message': ""Add prettytable to global-requirements\n\nPrettyTable package has been dropped from PyPi since it was not\nmaintained for a while and didn't have support for Python3.\nprettytable package should be mostly compatile with it and\nallowed for projects to be used.\n\nConstraint for prettytable is already present.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/777061\nChange-Id: I75a025d3c347cc895328949281b8068b7af85a6c\n""}, {'number': 3, 'created': '2021-12-22 16:40:24.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/05996e009c55f757cf91cf0d94abd86dcb0f21c4', 'message': ""Add prettytable to global-requirements\n\nPrettyTable package is an old naming of prettytable.\nCurrently prettytable and PrettyTable resolve to the same package\nin pypi and both names work.\nAs a result, when installed it's shown as prettytable.\n\nThis patch aims to allow developers to add prettytable package to\ntheir project requirements and not have to reffer to the old naming.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/777061\nChange-Id: I75a025d3c347cc895328949281b8068b7af85a6c\n""}]",6,821388,05996e009c55f757cf91cf0d94abd86dcb0f21c4,18,3,3,28619,,,0,"Add prettytable to global-requirements

PrettyTable package is an old naming of prettytable.
Currently prettytable and PrettyTable resolve to the same package
in pypi and both names work.
As a result, when installed it's shown as prettytable.

This patch aims to allow developers to add prettytable package to
their project requirements and not have to reffer to the old naming.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/777061
Change-Id: I75a025d3c347cc895328949281b8068b7af85a6c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/821388/3 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,cdd4103364346214a1c9141c259abd6a6f6724d1,,prettytable # BSD,,1,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~I693684e4dc85c096f46a3385d70202c39d379d25,openstack/openstack-ansible-os_keystone,stable/wallaby,I693684e4dc85c096f46a3385d70202c39d379d25,add oauth support,MERGED,2022-03-09 13:02:15.000000000,2022-05-24 19:40:22.000000000,2022-05-24 19:39:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-03-09 13:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e7625a643343dc4c491cdeadfa16337320f00cf2', 'message': 'add oauth support\n\nChange-Id: I693684e4dc85c096f46a3385d70202c39d379d25\n'}, {'number': 2, 'created': '2022-03-09 13:05:01.000000000', 'files': ['templates/keystone-httpd.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8d03f23fbb0d7ac631ef5e3adc28506a291c17b0', 'message': 'add oauth support\n\nSome OIDCOAuth* variables were needed to allow CLI access via `--os-auth-type v3oidcaccesstoken`.\n\nSee https://docs.egi.eu/providers/cloud-compute/openstack/aai/#cli-access and https://docs.egi.eu/providers/cloud-compute/openstack/aai/#apache-configuration\n\nChange-Id: I693684e4dc85c096f46a3385d70202c39d379d25\n'}]",10,832788,8d03f23fbb0d7ac631ef5e3adc28506a291c17b0,23,3,2,34624,,,0,"add oauth support

Some OIDCOAuth* variables were needed to allow CLI access via `--os-auth-type v3oidcaccesstoken`.

See https://docs.egi.eu/providers/cloud-compute/openstack/aai/#cli-access and https://docs.egi.eu/providers/cloud-compute/openstack/aai/#apache-configuration

Change-Id: I693684e4dc85c096f46a3385d70202c39d379d25
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/88/832788/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone-httpd.conf.j2', 'defaults/main.yml']",2,e7625a643343dc4c491cdeadfa16337320f00cf2,oauth-support,# oidc_oauth_introspection_endpoint: endpoint address (optional) # oidc_oauth_client_id: string (optional) # oidc_oauth_client_secret: secret (optional),,13,1
openstack%2Fsenlin~master~I718910a124780804ec8e14c2e99697025e4c4df0,openstack/senlin,master,I718910a124780804ec8e14c2e99697025e4c4df0,Fixed service manage not cleaning properly,MERGED,2022-05-17 03:11:44.000000000,2022-05-24 19:35:47.000000000,2022-05-24 19:34:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2022-05-17 03:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3ba93a82810242d0f5750535f49363a21a127d0f', 'message': 'Added protection against premature service cleanups\n\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 2, 'created': '2022-05-17 03:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/30723f10a6076609ffe8a98ae9823411c49238a1', 'message': 'Added protection against premature service cleanups\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 3, 'created': '2022-05-17 03:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/01da1fda9689e953afc2676d2983fda6e0de355e', 'message': 'Added protection against premature service cleanups\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 4, 'created': '2022-05-17 03:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9c186676db7c6e4ed62fa74fb39007ddd3c5d154', 'message': 'Added protection against premature service cleanups\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 5, 'created': '2022-05-17 06:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2e6085ffc6d60430b516442b6de7290d255c0a3a', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 6, 'created': '2022-05-17 06:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/78b16cee989c8e4fc80ea7838a7ca485163f642b', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 7, 'created': '2022-05-17 07:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5e6e281ba60f32b98ef9ca4795eb201d345dd600', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 8, 'created': '2022-05-17 07:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/620d3ade00352f9b46c9bd9ba801f1bf96d82e7c', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 9, 'created': '2022-05-17 07:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/73bf8cceb0fef9e451926298d5ee7950a81650fc', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 10, 'created': '2022-05-17 07:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/93dc44ef3e19dc065551c6a367f0cc7308fffb1d', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 11, 'created': '2022-05-17 07:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b30b6e8c0651b55115f585b4ce6ed1b879195e84', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 12, 'created': '2022-05-17 07:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0af7ac49f817a1a5380fbaacb43f3d9ea734e6c0', 'message': '[WIP] Fix issues with service cleaning\n\n- Increased time window by 10% to allow for some fault\n  tolerance.\n- Added an additional layer to protect against premature\n  service cleanups.\n- Added additional logging for slow database updates.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 13, 'created': '2022-05-17 08:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c07aa9da1c5bc9589caafd5ab890b11121079e0a', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 14, 'created': '2022-05-17 08:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c99d4e2da5fee4b18e8f537df3526de1d3058ae7', 'message': 'Fixed services not cleaning properly on startup\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 15, 'created': '2022-05-18 03:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0e436778f4f5a1b371fe092f19722518baf1dff4', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 16, 'created': '2022-05-18 17:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/cfa004b1129f8d3a5043d83470b9e0500fef7f35', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 17, 'created': '2022-05-18 17:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d4fa485b5acd3e4fcfa67381a20cc14d7e214f75', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 18, 'created': '2022-05-19 06:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/00e03cd35c5c0236a23581485d45b1c5ba108c24', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 19, 'created': '2022-05-19 06:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7bad1628960d4548c0d31bbc1a1fbd0e7dacadce', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 20, 'created': '2022-05-21 06:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/91828df8e558af4e53e94a2d294d02f4e01e848d', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 21, 'created': '2022-05-21 17:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e3264a9a7525b4cd13633506c6c2bb99a68ef4be', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 22, 'created': '2022-05-23 02:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9821d7610523c678d51914335e9450880d6baf34', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nCloses-Bug: 1975440\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 23, 'created': '2022-05-23 02:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/041b295462d23db7199030cb5e486555bcb9a376', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nCloses-Bug: 1975440\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}, {'number': 24, 'created': '2022-05-23 09:41:42.000000000', 'files': ['senlin/objects/service.py', 'senlin/tests/unit/engine/test_senlin_lock.py', 'senlin/tests/unit/db/test_service_api.py', 'senlin/db/api.py', 'senlin/tests/unit/conductor/test_service.py', 'senlin/common/service.py', 'senlin/common/utils.py', 'senlin/tests/unit/test_common_utils.py', 'senlin/db/sqlalchemy/api.py', 'senlin/engine/service.py', 'senlin/engine/senlin_lock.py', 'senlin/health_manager/service.py', 'senlin/conductor/service.py', 'senlin/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ee2959af3c1fa63ce7068047105ec66ebcf4f5aa', 'message': 'Fixed service manage not cleaning properly\n\nWhen spliting the engine up into multiple services\nthe cleanup job was left on the conductor, but in\nreality each service needs to handle their own clean\nup, as the service startup order is never guaranteed.\n\nThis patch refactors the service workflow and moves\nall cleanup logic to the base class.\n\nCloses-Bug: 1975440\nChange-Id: I718910a124780804ec8e14c2e99697025e4c4df0\n'}]",15,842025,ee2959af3c1fa63ce7068047105ec66ebcf4f5aa,53,2,24,22623,,,0,"Fixed service manage not cleaning properly

When spliting the engine up into multiple services
the cleanup job was left on the conductor, but in
reality each service needs to handle their own clean
up, as the service startup order is never guaranteed.

This patch refactors the service workflow and moves
all cleanup logic to the base class.

Closes-Bug: 1975440
Change-Id: I718910a124780804ec8e14c2e99697025e4c4df0
",git fetch https://review.opendev.org/openstack/senlin refs/changes/25/842025/24 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/service.py', 'senlin/health_manager/service.py', 'senlin/conductor/service.py']",3,3ba93a82810242d0f5750535f49363a21a127d0f,,"import time start_time = time.time() elapsed_time = time.time() - start_time if elapsed_time > CONF.periodic_interval: LOG.warning('Updating health is taking too long: %ss.', elapsed_time) start_time = time.time() elapsed_time = time.time() - start_time if elapsed_time > CONF.periodic_interval: LOG.warning( 'Service cleanup took too long and data may be out ' 'of date. Pausing cleanup until next pass.' ) break ",,32,1
openstack%2Fnova~stable%2Fvictoria~I20d6339a5203aed058f432f68e2ec1af57030401,openstack/nova,stable/victoria,I20d6339a5203aed058f432f68e2ec1af57030401,Define new functional test tox env for placement gate to run,MERGED,2022-05-05 21:59:38.000000000,2022-05-24 19:34:48.000000000,2022-05-24 19:33:00.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 21:59:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/d218250eb53791012f49825140e2592dab89e69c', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\nConflicts:\n    tox.ini\n\nNOTE(melwitt): The conflict is because change\nI672904e9bfb45a66a82331063c7d49c4bc0439df (Add functional-py39 testing)\nis not in Victoria.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)\n(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)\n(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)\n""}]",1,840765,d218250eb53791012f49825140e2592dab89e69c,10,3,1,4690,,,0,"Define new functional test tox env for placement gate to run

We have placement-nova-tox-functional-py38 job defined and run
on placement gate[1] to run the nova functional test excluding
api and notification _sample_tests, and db-related tests but that
job skip those tests via tox_extra_args which is not right way
to do as we currently facing error when tox_extra_args is included
in tox siblings task
- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d

- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Let's define a new tox env which can exclude the required test
in stestr command itself.

Conflicts:
    tox.ini

NOTE(melwitt): The conflict is because change
I672904e9bfb45a66a82331063c7d49c4bc0439df (Add functional-py39 testing)
is not in Victoria.

[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83

Change-Id: I20d6339a5203aed058f432f68e2ec1af57030401
(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)
(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)
(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/840765/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d218250eb53791012f49825140e2592dab89e69c,,[testenv:functional-without-sample-db-tests] description = Run functional tests by excluding the API|Notification sample tests and DB tests. This env is used in placement-nova-tox-functional-py38 job which is defined and run in placement. deps = {[testenv:functional]deps} commands = stestr --test-path=./nova/tests/functional run --exclude-regex '((?:api|notification)_sample_tests|functional\.db\.)' {posargs} ,,10,0
openstack%2Fdesignate-tempest-plugin~master~I3509767ec0ce6be6b6f15a1bc15a730a4a144b09,openstack/designate-tempest-plugin,master,I3509767ec0ce6be6b6f15a1bc15a730a4a144b09,Fix TLD issues for test concurrency,MERGED,2022-05-19 23:32:34.000000000,2022-05-24 19:19:51.000000000,2022-05-24 19:18:21.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-19 23:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5a0be0bcb74072effcc0f6f713e823a04d9aeec8', 'message': ""Fix TLD issues for test concurrency\n\nCurrently there are intermittent test failures due to inconsistent\nmanagement of TLDs across the test classes. This is due to some test\nclasses using the same TLD and cleaning them up or cases where a TLD is\nexpected to exist, but may not have been created yet.\n\nThis patch established a dedicated TLD for each test class that creates\nzones. Inside each test case, a zone name will be created with the test\nname and the test class TLD. This creates the required TLD isolation to\nallow successful test concurrency.\n\nThe patch also changes the base TLD from 'org' to the RFC 2606 reserved 'test'.\nThis should allow for easier identification of test related resources.\n\nChange-Id: I3509767ec0ce6be6b6f15a1bc15a730a4a144b09\n""}, {'number': 2, 'created': '2022-05-23 19:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0ec22e11d03d2784daf9109efaebd7ddb3d2da6e', 'message': ""Fix TLD issues for test concurrency\n\nCurrently there are intermittent test failures due to inconsistent\nmanagement of TLDs across the test classes. This is due to some test\nclasses using the same TLD and cleaning them up or cases where a TLD is\nexpected to exist, but may not have been created yet.\n\nThis patch established a dedicated TLD for each test class that creates\nzones. Inside each test case, a zone name will be created with the test\nname and the test class TLD. This creates the required TLD isolation to\nallow successful test concurrency.\n\nThe patch also changes the base TLD from 'org' to the RFC 2606 reserved 'test'.\nThis should allow for easier identification of test related resources.\n\nChange-Id: I3509767ec0ce6be6b6f15a1bc15a730a4a144b09\n""}, {'number': 3, 'created': '2022-05-23 19:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/044ddeb1c44a703eb3d1f7c661ffd072844105c4', 'message': ""Fix TLD issues for test concurrency\n\nCurrently there are intermittent test failures due to inconsistent\nmanagement of TLDs across the test classes. This is due to some test\nclasses using the same TLD and cleaning them up or cases where a TLD is\nexpected to exist, but may not have been created yet.\n\nThis patch established a dedicated TLD for each test class that creates\nzones. Inside each test case, a zone name will be created with the test\nname and the test class TLD. This creates the required TLD isolation to\nallow successful test concurrency.\n\nThe patch also changes the base TLD from 'org' to the RFC 2606 reserved 'test'.\nThis should allow for easier identification of test related resources.\n\nChange-Id: I3509767ec0ce6be6b6f15a1bc15a730a4a144b09\n""}, {'number': 4, 'created': '2022-05-23 21:07:28.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_ptrs.py', 'designate_tempest_plugin/tests/scenario/v2/test_tld.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/scenario/v2/test_blacklists.py', 'designate_tempest_plugin/tests/api/v2/test_tsigkey.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones_transfer.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/config.py', 'designate_tempest_plugin/tests/api/v2/test_tld.py', 'designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/tests/scenario/v2/test_recordsets.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones_import.py', 'designate_tempest_plugin/tests/api/v2/test_quotas.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_recordset_validation.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_quotas.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones_export.py', 'designate_tempest_plugin/services/dns/v2/json/transfer_accepts_client.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ade263cd1e2448a0cd436dcc53e232132e2506f3', 'message': ""Fix TLD issues for test concurrency\n\nCurrently there are intermittent test failures due to inconsistent\nmanagement of TLDs across the test classes. This is due to some test\nclasses using the same TLD and cleaning them up or cases where a TLD is\nexpected to exist, but may not have been created yet.\n\nThis patch established a dedicated TLD for each test class that creates\nzones. Inside each test case, a zone name will be created with the test\nname and the test class TLD. This creates the required TLD isolation to\nallow successful test concurrency.\n\nThe patch also changes the base TLD from 'org' to the RFC 2606 reserved 'test'.\nThis should allow for easier identification of test related resources.\n\nChange-Id: I3509767ec0ce6be6b6f15a1bc15a730a4a144b09\n""}]",1,842645,ade263cd1e2448a0cd436dcc53e232132e2506f3,14,3,4,11628,,,0,"Fix TLD issues for test concurrency

Currently there are intermittent test failures due to inconsistent
management of TLDs across the test classes. This is due to some test
classes using the same TLD and cleaning them up or cases where a TLD is
expected to exist, but may not have been created yet.

This patch established a dedicated TLD for each test class that creates
zones. Inside each test case, a zone name will be created with the test
name and the test class TLD. This creates the required TLD isolation to
allow successful test concurrency.

The patch also changes the base TLD from 'org' to the RFC 2606 reserved 'test'.
This should allow for easier identification of test related resources.

Change-Id: I3509767ec0ce6be6b6f15a1bc15a730a4a144b09
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/45/842645/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_ptrs.py', 'designate_tempest_plugin/tests/scenario/v2/test_tld.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/scenario/v2/test_blacklists.py', 'designate_tempest_plugin/tests/api/v2/test_tsigkey.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones_transfer.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/config.py', 'designate_tempest_plugin/tests/api/v2/test_tld.py', 'designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/tests/scenario/v2/test_recordsets.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones_import.py', 'designate_tempest_plugin/tests/api/v2/test_quotas.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_recordset_validation.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_quotas.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_zones_export.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py', 'designate_tempest_plugin/tests/base.py']",22,5a0be0bcb74072effcc0f6f713e823a04d9aeec8,,, tld_suffix = CONF.dns.tld_suffix,809,273
openstack%2Fdesignate-tempest-plugin~master~I0c50864a43df520d4213002656547d7b6b6d6775,openstack/designate-tempest-plugin,master,I0c50864a43df520d4213002656547d7b6b6d6775,Update zuul queue configuration,MERGED,2022-05-19 16:12:59.000000000,2022-05-24 19:00:29.000000000,2022-05-24 18:57:09.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-19 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/55b87cac86c70b8284479f234dade0bf551e4950', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate tempest plugin for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I0c50864a43df520d4213002656547d7b6b6d6775\n'}, {'number': 2, 'created': '2022-05-19 16:15:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a08d5c33ca1991a7fe589aaf9f7b4352b9cb46d6', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate tempest plugin for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I0c50864a43df520d4213002656547d7b6b6d6775\n'}]",2,842561,a08d5c33ca1991a7fe589aaf9f7b4352b9cb46d6,11,3,2,11628,,,0,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate tempest plugin for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I0c50864a43df520d4213002656547d7b6b6d6775
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/61/842561/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,55b87cac86c70b8284479f234dade0bf551e4950,, queue: designate gate:, gate: queue: designate,1,1
openstack%2Fwhitebox-tempest-plugin~master~I9bd375b563f67968ceae61d7db2ee86436dad771,openstack/whitebox-tempest-plugin,master,I9bd375b563f67968ceae61d7db2ee86436dad771,Take into account shared CPUs per NUMA,MERGED,2022-05-24 15:00:40.000000000,2022-05-24 18:54:11.000000000,2022-05-24 18:54:11.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 15:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/83a288728a47c612fbe0bb65781105406c81e021', 'message': 'Take into account shared CPUs per NUMA\n\nMixedCPUPolicyTest.test_shared_pinned_and_unpinned_guest was not taking\ninto account that only the shared PCPUs from the target NUMA node will\nbe allocated to the guest i.e. given the below topology:\n\n[0]: 0,2,4,6,8,10,12\n[1]: 1,3,5,7,9,11,13\n\nPCPUs 0-3 are used as the shared set, with the remaining allocated\nfor dedicated set. Then scheduling a 2 vCPU guest with mixed policy\nshould would result in the guest either getting 0,2 or 1,3 only for its\nshared PCPUs not 0-3.\n\nThis update checks that number of pCPUs allocated for shared is the\naccurate length and a subset of the entire shared set.\n\nChange-Id: I9bd375b563f67968ceae61d7db2ee86436dad771\n'}, {'number': 2, 'created': '2022-05-24 16:34:00.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3e849409391677e773ad6736c8f982b1b08b6409', 'message': 'Take into account shared CPUs per NUMA\n\nMixedCPUPolicyTest.test_shared_pinned_and_unpinned_guest was not taking\ninto account that only the shared PCPUs from the target NUMA node will\nbe allocated to the guest i.e. given the below topology:\n\n[0]: 0,2,4,6,8,10,12\n[1]: 1,3,5,7,9,11,13\n\nPCPUs 0-3 are used as the shared set, with the remaining allocated\nfor dedicated set. Then scheduling a 2 vCPU guest with mixed policy\nshould would result in the guest either getting 0,2 or 1,3 only for its\nshared PCPUs not 0-3.\n\nThis update checks that number of pCPUs allocated for shared is the\naccurate length and a subset of the entire shared set.\n\nChange-Id: I9bd375b563f67968ceae61d7db2ee86436dad771\n'}]",6,843157,3e849409391677e773ad6736c8f982b1b08b6409,12,2,2,31033,,,0,"Take into account shared CPUs per NUMA

MixedCPUPolicyTest.test_shared_pinned_and_unpinned_guest was not taking
into account that only the shared PCPUs from the target NUMA node will
be allocated to the guest i.e. given the below topology:

[0]: 0,2,4,6,8,10,12
[1]: 1,3,5,7,9,11,13

PCPUs 0-3 are used as the shared set, with the remaining allocated
for dedicated set. Then scheduling a 2 vCPU guest with mixed policy
should would result in the guest either getting 0,2 or 1,3 only for its
shared PCPUs not 0-3.

This update checks that number of pCPUs allocated for shared is the
accurate length and a subset of the entire shared set.

Change-Id: I9bd375b563f67968ceae61d7db2ee86436dad771
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/57/843157/2 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'],1,83a288728a47c612fbe0bb65781105406c81e021,cpu_mixed_multi_numa," @classmethod def skip_checks(cls): super(MixedCPUPolicyTest, cls).skip_checks() if CONF.whitebox_hardware.dedicated_cpus_per_numa == 0: raise cls.skipException( 'Need at least 1 or more pCPU\'s per NUMA allocated to the ' 'cpu_shared_set of the compute host') # set of the host and number of shared CPUs are accurate to what # is expected for the NUMA node self.assertEqual( CONF.whitebox_hardware.shared_cpus_per_numa, len(guest_shared_cpus), 'Number of Shared CPUs allocated to guest should be %s but ' 'instead found %s' % (CONF.whitebox_hardware.shared_cpus_per_numa, len(guest_shared_cpus))) self.assertTrue( guest_shared_cpus.issubset(host_shared_cpus), 'Shared CPUs allocated to guest %s is not a subset of the shared ' 'CPUs that compute host is expected to provide %s' % (guest_shared_cpus, host_shared_cpus))"," # set of the host self.assertCountEqual(guest_shared_cpus, host_shared_cpus, 'Shared CPU Set %s of shared server %s is ' 'not equal to shared set of host %s' % (guest_shared_cpus, server['id'], host_shared_cpus))",21,6
openstack%2Frpm-packaging~master~Ic040a1e7f0b50e9f95ec70746138c2d53609cc34,openstack/rpm-packaging,master,Ic040a1e7f0b50e9f95ec70746138c2d53609cc34,bump to upper-constraints,MERGED,2022-05-24 18:32:55.000000000,2022-05-24 18:50:58.000000000,2022-05-24 18:50:58.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-24 18:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ab8c556301e88575d7191ce318e6a8dd4c1f3543', 'message': 'bump to upper-constraints\n\nChange-Id: Ic040a1e7f0b50e9f95ec70746138c2d53609cc34\n'}, {'number': 2, 'created': '2022-05-24 18:33:35.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2', 'openstack/python-heatclient/python-heatclient.spec.j2', 'openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/python-masakariclient/python-masakariclient.spec.j2', 'openstack/python-freezerclient/python-freezerclient.spec.j2', 'openstack/python-ironic-inspector-client/python-ironic-inspector-client.spec.j2', 'openstack/python-watcherclient/python-watcherclient.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2', 'openstack/oslo.serialization/oslo.serialization.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/python-designateclient/python-designateclient.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/python-senlinclient/python-senlinclient.spec.j2', 'openstack/python-zunclient/python-zunclient.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2', 'openstack/python-troveclient/python-troveclient.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/python-keystoneclient/python-keystoneclient.spec.j2', 'openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/python-vitrageclient/python-vitrageclient.spec.j2', 'openstack/python-solumclient/python-solumclient.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/python-cloudkittyclient/python-cloudkittyclient.spec.j2', 'openstack/python-saharaclient/python-saharaclient.spec.j2', 'openstack/python-manilaclient/python-manilaclient.spec.j2', 'openstack/python-zaqarclient/python-zaqarclient.spec.j2', 'openstack/python-monascaclient/python-monascaclient.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/python-muranoclient/python-muranoclient.spec.j2', 'openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/oslotest/oslotest.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2', 'openstack/python-swiftclient/python-swiftclient.spec.j2', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2', 'openstack/python-mistralclient/python-mistralclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a656031123e3e07347a13a1b3fd5c96fc67a1d75', 'message': 'bump to upper-constraints\n\nChange-Id: Ic040a1e7f0b50e9f95ec70746138c2d53609cc34\n'}]",0,843183,a656031123e3e07347a13a1b3fd5c96fc67a1d75,8,3,2,6593,,,0,"bump to upper-constraints

Change-Id: Ic040a1e7f0b50e9f95ec70746138c2d53609cc34
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/843183/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.middleware/oslo.middleware.spec.j2', 'openstack/python-heatclient/python-heatclient.spec.j2', 'openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/python-masakariclient/python-masakariclient.spec.j2', 'openstack/python-freezerclient/python-freezerclient.spec.j2', 'openstack/python-ironic-inspector-client/python-ironic-inspector-client.spec.j2', 'openstack/python-watcherclient/python-watcherclient.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2', 'openstack/oslo.serialization/oslo.serialization.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/python-designateclient/python-designateclient.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/python-senlinclient/python-senlinclient.spec.j2', 'openstack/python-zunclient/python-zunclient.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2', 'openstack/python-troveclient/python-troveclient.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/python-keystoneclient/python-keystoneclient.spec.j2', 'openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/python-vitrageclient/python-vitrageclient.spec.j2', 'openstack/python-solumclient/python-solumclient.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/python-cloudkittyclient/python-cloudkittyclient.spec.j2', 'openstack/python-saharaclient/python-saharaclient.spec.j2', 'openstack/python-manilaclient/python-manilaclient.spec.j2', 'openstack/python-zaqarclient/python-zaqarclient.spec.j2', 'openstack/python-monascaclient/python-monascaclient.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/python-muranoclient/python-muranoclient.spec.j2', 'openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/oslotest/oslotest.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2', 'openstack/python-swiftclient/python-swiftclient.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2', 'openstack/python-mistralclient/python-mistralclient.spec.j2']",43,ab8c556301e88575d7191ce318e6a8dd4c1f3543,,{% set upstream_version = upstream_version('4.4.0') %},{% set upstream_version = upstream_version('4.3.0') %},34,84
openstack%2Frpm-packaging~master~I0ddc76a86888036777c75b53e0e2d81760e2cf63,openstack/rpm-packaging,master,I0ddc76a86888036777c75b53e0e2d81760e2cf63,openstackdocstheme: better %check implementation,MERGED,2022-05-17 11:11:25.000000000,2022-05-24 18:45:37.000000000,2022-05-24 18:45:37.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-17 11:11:25.000000000', 'files': ['openstack/openstackdocstheme/openstackdocstheme.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6ab20c5885a5f910d48e8dc8f24fa4b6493edb4e', 'message': 'openstackdocstheme: better %check implementation\n\nThere are no tests to run here, so instead try to compile\nthe documentation. better than nothing\n\nChange-Id: I0ddc76a86888036777c75b53e0e2d81760e2cf63\n'}]",0,842089,6ab20c5885a5f910d48e8dc8f24fa4b6493edb4e,7,3,1,6593,,,0,"openstackdocstheme: better %check implementation

There are no tests to run here, so instead try to compile
the documentation. better than nothing

Change-Id: I0ddc76a86888036777c75b53e0e2d81760e2cf63
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/842089/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstackdocstheme/openstackdocstheme.spec.j2'],1,6ab20c5885a5f910d48e8dc8f24fa4b6493edb4e,,PYTHONPATH=. sphinx-build -a -E -j auto -d doc/build/doctrees -b html doc/source doc/build/htm,python3 setup.py test,1,1
openstack%2Fplacement~stable%2Fwallaby~If7e6060c867df21360a1f588ca872d65d75eb3c1,openstack/placement,stable/wallaby,If7e6060c867df21360a1f588ca872d65d75eb3c1,Use 'functional-without-sample-db-tests' tox env for placement nova job,MERGED,2022-05-05 18:38:52.000000000,2022-05-24 18:40:05.000000000,2022-05-24 18:37:10.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 18:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cf1f54df20f8ef66a8e3f1316d222cee8f5eb8b5', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840717\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n""}, {'number': 2, 'created': '2022-05-05 21:30:05.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/69dcdcb2b7df0a81addec55804ce91c724ca0f54', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840717\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n""}]",4,840718,69dcdcb2b7df0a81addec55804ce91c724ca0f54,10,3,2,4690,,,0,"Use 'functional-without-sample-db-tests' tox env for placement nova job

NOTE(melwitt): This is a combination of 2 commits needed to fix the
gate, a chicken and egg problem where each fix depends on the other.

Nova defines (depends-on) a new tox env 'functional-without-sample-db-tests'
to run the nova functional test by exlcuding the api|notification
sample_tests, and db-related tests.

We can use that to fix the error  are facing currently for this job
- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Depends-On: https://review.opendev.org/c/openstack/nova/+/840717

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

Conflicts:
    .zuul.yaml
    lower-constraints.txt

NOTE(melwitt): conflict is due to branch specific settings (job
template names, lower constraints changes).

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5
(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)
(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)
(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)

Change-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1
(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)
(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)
",git fetch https://review.opendev.org/openstack/placement refs/changes/18/840718/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cf1f54df20f8ef66a8e3f1316d222cee8f5eb8b5,bug/1780799, # 'functional-without-sample-db-tests' tox env is defined in nova tox.ini # to skip the api|notification _sample_tests and db-related tests. tox_envlist: functional-without-sample-db-tests," # Skip the api and notification _sample_tests, and db-related tests tox_extra_args: '^((?!(?:api|notification)_sample_tests|functional\.db\.).)*$'",3,2
openstack%2Fproject-config~master~I52cc316ce9756c4411c18c8339d44c457cb59897,openstack/project-config,master,I52cc316ce9756c4411c18c8339d44c457cb59897,Fix python list for requirements propose-updates job,MERGED,2022-05-22 08:23:58.000000000,2022-05-24 18:18:08.000000000,2022-05-24 18:18:08.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-22 08:23:58.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/56101518df2f75df7fd856289248d7140fa957c0', 'message': 'Fix python list for requirements propose-updates job\n\nThe propose-updates for for openstack/requirements now needs python3.8\nand python3.9 installed, override the default list from the base job.\n\nChange-Id: I52cc316ce9756c4411c18c8339d44c457cb59897\n'}]",0,842853,56101518df2f75df7fd856289248d7140fa957c0,7,3,1,13252,,,0,"Fix python list for requirements propose-updates job

The propose-updates for for openstack/requirements now needs python3.8
and python3.9 installed, override the default list from the base job.

Change-Id: I52cc316ce9756c4411c18c8339d44c457cb59897
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/842853/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,56101518df2f75df7fd856289248d7140fa957c0,fix-propose-updates, ensure_pip_from_upstream_interpreters: - python3.8 - python3.9,,3,0
openstack%2Fvalidations-common~master~Iac4fe7b2bf38200eaf9e41de1ca242b0637263ae,openstack/validations-common,master,Iac4fe7b2bf38200eaf9e41de1ca242b0637263ae,Add baremetal Component for component CI tests,MERGED,2021-10-26 14:13:35.000000000,2022-05-24 18:17:02.000000000,2022-05-24 18:17:02.000000000,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-10-26 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fa309f1220d9f98adca04af2874fbd33bf7c9954', 'message': 'Add baremetal Component for component CI tests\n\nChange-Id: Iac4fe7b2bf38200eaf9e41de1ca242b0637263ae\n'}, {'number': 2, 'created': '2021-11-21 21:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3069a911644b210b9dec77bce35b55247ad5d878', 'message': 'Add baremetal Component for component CI tests\n\nChange-Id: Iac4fe7b2bf38200eaf9e41de1ca242b0637263ae\n'}, {'number': 3, 'created': '2021-11-30 09:03:29.000000000', 'files': ['roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/79b4856f8e44a3dca868b309fea771a3149482ea', 'message': 'Add baremetal Component for component CI tests\n\nChange-Id: Iac4fe7b2bf38200eaf9e41de1ca242b0637263ae\n'}]",1,815508,79b4856f8e44a3dca868b309fea771a3149482ea,13,4,3,16515,,,0,"Add baremetal Component for component CI tests

Change-Id: Iac4fe7b2bf38200eaf9e41de1ca242b0637263ae
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/08/815508/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,fa309f1220d9f98adca04af2874fbd33bf7c9954,ovb/components/ci," baremetal: - collect-flavors-and-verify-profiles: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - default-node-count: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - default-node-count: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - dhcp-introspection: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - dhcp-provisioning: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - ironic-boot-configuration: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - node-disks: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - node-health: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}""",,25,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I2682f0cb3f6253b487eed2d40437ef5780e4ae77,openstack/puppet-tripleo,stable/victoria,I2682f0cb3f6253b487eed2d40437ef5780e4ae77,HAProxy: enable forwardfor for all http endpoints,MERGED,2022-04-20 23:59:21.000000000,2022-05-24 18:16:59.000000000,2022-05-24 18:16:59.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 34564}]","[{'number': 1, 'created': '2022-04-20 23:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07d6ae8f16948d5afbacff1c918120e52bf9070e', 'message': ""HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\n(from stable/wallaby to stable/victoria)\nConflicts:\n\tmanifests/haproxy.pp\n\tmanifests/haproxy/endpoint.pp\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)\n(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)\n""}, {'number': 2, 'created': '2022-04-26 09:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/06eda6407606a06e5338a07f82eb44456f6c3052', 'message': ""HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\n(from stable/wallaby to stable/victoria)\nConflicts:\n\tmanifests/haproxy.pp\n\tmanifests/haproxy/endpoint.pp\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)\n(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)\n""}, {'number': 3, 'created': '2022-05-02 08:29:54.000000000', 'files': ['manifests/haproxy.pp', 'manifests/haproxy/endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6a03592488c315601ccc5a034bdf3906a17de196', 'message': ""HAProxy: enable forwardfor for all http endpoints\n\nCurrently all http endpoints except Horizon doesn't add\nX-Forwarded-For header. In this cases each backend service\nemits the HAProxy's IP address into its logs. This can make\ninvestigation difficult.\nThis change enables forwardfor for all http end points and\nmakes those add X-Forwarded-For header.\n\n(from stable/wallaby to stable/victoria)\nConflicts:\n\tmanifests/haproxy.pp\n\tmanifests/haproxy/endpoint.pp\n\nCloses-Bug: #1968691\nChange-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77\n(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)\n(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)\n""}]",5,838800,6a03592488c315601ccc5a034bdf3906a17de196,20,5,3,34564,,,0,"HAProxy: enable forwardfor for all http endpoints

Currently all http endpoints except Horizon doesn't add
X-Forwarded-For header. In this cases each backend service
emits the HAProxy's IP address into its logs. This can make
investigation difficult.
This change enables forwardfor for all http end points and
makes those add X-Forwarded-For header.

(from stable/wallaby to stable/victoria)
Conflicts:
	manifests/haproxy.pp
	manifests/haproxy/endpoint.pp

Closes-Bug: #1968691
Change-Id: I2682f0cb3f6253b487eed2d40437ef5780e4ae77
(cherry picked from commit d4afc29038916ef88c5cfdb67028b3ff6d7133fb)
(cherry picked from commit f1d263bcf886354b111cdf782daa22f78bcbecc7)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/00/838800/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/haproxy/endpoint.pp']",2,07d6ae8f16948d5afbacff1c918120e52bf9070e,stable/victoria-bug/1968691,," 'option' => 'forwardfor',",19,12
openstack%2Fkolla-ansible~master~I1fe93c757a75c817e7e93fe545ee43a5c6e551e9,openstack/kolla-ansible,master,I1fe93c757a75c817e7e93fe545ee43a5c6e551e9,[CI] Make reconfigure script's output visible in zuul,ABANDONED,2021-09-28 12:20:14.000000000,2022-05-24 17:59:29.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 12:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec0a974759baac393354e94b3b7d574f936eeea6', 'message': ""[CI] Make reconfigure script's output visible in zuul\n\nChange-Id: I1fe93c757a75c817e7e93fe545ee43a5c6e551e9\n""}, {'number': 2, 'created': '2021-09-28 12:21:25.000000000', 'files': ['tests/reconfigure.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a96886a7ca3cf02d3464d428fff29a6ae125fe8', 'message': ""[CI] Make reconfigure script's output visible in zuul\n\nChange-Id: I1fe93c757a75c817e7e93fe545ee43a5c6e551e9\n""}]",0,811406,6a96886a7ca3cf02d3464d428fff29a6ae125fe8,8,2,2,27339,,,0,"[CI] Make reconfigure script's output visible in zuul

Change-Id: I1fe93c757a75c817e7e93fe545ee43a5c6e551e9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/811406/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/reconfigure.sh'],1,ec0a974759baac393354e94b3b7d574f936eeea6,," echo ""Running kolla-ansible prechecks, reconfigure, check."" kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks 2>&1 | tee /tmp/logs/ansible/reconfigure-prechecks kolla-ansible -i ${RAW_INVENTORY} -vvv reconfigure 2>&1 | /tmp/logs/ansible/reconfigure kolla-ansible -i ${RAW_INVENTORY} -vvv check 2>&1 | tee /tmp/logs/ansible/check-reconfigure", kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks &> /tmp/logs/ansible/reconfigure-prechecks kolla-ansible -i ${RAW_INVENTORY} -vvv reconfigure &> /tmp/logs/ansible/reconfigure kolla-ansible -i ${RAW_INVENTORY} -vvv check &> /tmp/logs/ansible/check-reconfigure,4,3
openstack%2Fkolla-ansible~master~I2aeffb5048b928744cd00f29099af56dc1876a9c,openstack/kolla-ansible,master,I2aeffb5048b928744cd00f29099af56dc1876a9c,Fix neutron upgrade when running with limit,ABANDONED,2021-08-12 13:24:25.000000000,2022-05-24 17:58:42.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-12 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bdb2fb1aca085bec74d1a681b564868714acf8a', 'message': 'Fix neutron upgrade when running with limit\n\nThis patch is fixing neutron upgrade in\nfollowing two approaches:\n\n1. Adding when conditional for bootstrap_neutron\n   tasks as it is supposed to run on controllers\n\n2. Add default value of """" for \'is_stop_neutron_server\'\n   and results_of_check_pending_contract_scripts as\n   these hostvars are not defined when limiting to compute.\n\nCloses-Bug: #1939691\nChange-Id: I2aeffb5048b928744cd00f29099af56dc1876a9c\n'}, {'number': 2, 'created': '2021-08-12 13:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af1f71a445b8bb63f402f57d3887f67680718076', 'message': 'Fix neutron upgrade when running with limit\n\nThis patch is fixing neutron upgrade in\nfollowing two approaches:\n\n1. Adding when conditional for bootstrap_neutron\n   tasks as it is supposed to run on controllers\n\n2. Add default value of """" for \'is_stop_neutron_server\'\n   and \'results_of_check_pending_contract_scripts\' as\n   these hostvars are not defined when limiting to compute.\n\nCloses-Bug: #1939691\nChange-Id: I2aeffb5048b928744cd00f29099af56dc1876a9c\n'}, {'number': 3, 'created': '2021-08-13 12:28:29.000000000', 'files': ['ansible/roles/neutron/tasks/legacy_upgrade.yml', 'releasenotes/notes/bug-1939691-c975712cecba32ee.yaml', 'ansible/roles/neutron/tasks/upgrade.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff8f424b5bb81a660c070bd57b9599a48aeea6a0', 'message': 'Fix neutron upgrade when running with limit\n\nThis patch moves common tasks from legacy_upgrade.yml\nand rolling_upgrade.yml to upgrade.yml and restrict\ntheir execution to a control group only.\n\nCloses-Bug: #1939691\nChange-Id: I2aeffb5048b928744cd00f29099af56dc1876a9c\n'}]",2,804384,ff8f424b5bb81a660c070bd57b9599a48aeea6a0,21,5,3,27339,,,0,"Fix neutron upgrade when running with limit

This patch moves common tasks from legacy_upgrade.yml
and rolling_upgrade.yml to upgrade.yml and restrict
their execution to a control group only.

Closes-Bug: #1939691
Change-Id: I2aeffb5048b928744cd00f29099af56dc1876a9c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/804384/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1939691-c975712cecba32ee.yaml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml']",2,8bdb2fb1aca085bec74d1a681b564868714acf8a,bug/1939691," when: neutron_server.host_in_groups | bool results_of_check_pending_contract_scripts: ""{{ hostvars[first_neutron_server_host]['neutron_check_contract_db_stdout'] | default('') }}"" is_stop_neutron_server: ""{{ results_of_check_pending_contract_scripts | json_query(filter_rc) | default('') }}"" - is_stop_neutron_server | length > 0 when: neutron_server.host_in_groups | bool"," results_of_check_pending_contract_scripts: ""{{ hostvars[first_neutron_server_host]['neutron_check_contract_db_stdout'] }}"" is_stop_neutron_server: ""{{ results_of_check_pending_contract_scripts | json_query(filter_rc) }}"" - is_stop_neutron_server|length > 0",10,3
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I11e53615b90e052ebc39f70a7699414a8b82cc28,openstack/puppet-tripleo,stable/wallaby,I11e53615b90e052ebc39f70a7699414a8b82cc28,Add audit middleware to Swift proxy pipeline,MERGED,2022-03-23 14:21:37.000000000,2022-05-24 17:48:37.000000000,2022-05-24 17:48:37.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-23 14:21:37.000000000', 'files': ['manifests/profile/base/swift/proxy.pp', 'releasenotes/notes/swift-proxy-add-audit-middleware-290db6db952d690f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/352850ca08a21560865ab6c07483d5a8e6911deb', 'message': 'Add audit middleware to Swift proxy pipeline\n\nDepends-On: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61\nChange-Id: I11e53615b90e052ebc39f70a7699414a8b82cc28\n(cherry picked from commit a4803b26a0b3b992823ebbc31c0693051dcae1cb)\n'}]",2,834890,352850ca08a21560865ab6c07483d5a8e6911deb,15,4,1,6968,,,0,"Add audit middleware to Swift proxy pipeline

Depends-On: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61
Change-Id: I11e53615b90e052ebc39f70a7699414a8b82cc28
(cherry picked from commit a4803b26a0b3b992823ebbc31c0693051dcae1cb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/834890/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/swift/proxy.pp', 'releasenotes/notes/swift-proxy-add-audit-middleware-290db6db952d690f.yaml']",2,352850ca08a21560865ab6c07483d5a8e6911deb,,"--- features: - | Adds a new option ""audit_enabled"" to add the pycadf audit middleware to the Swift proxy server pipeline. ",,13,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I394ac5520504650d122b148f661a0104d35c29a9,openstack/puppet-tripleo,stable/wallaby,I394ac5520504650d122b148f661a0104d35c29a9,Replace the deprecated aodh::auth class,MERGED,2022-04-05 01:53:45.000000000,2022-05-24 17:48:35.000000000,2022-05-24 17:48:35.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 01:53:45.000000000', 'files': ['manifests/profile/base/aodh.pp', 'spec/classes/tripleo_profile_base_aodh_spec.rb', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/89ee9575be696345702fc4da849d8638229f9ec1', 'message': 'Replace the deprecated aodh::auth class\n\n... by the new aodh::service_credentials class.\n\nDepends-on: https://review.opendev.org/772694\nDepends-on: https://review.opendev.org/836346\nChange-Id: I394ac5520504650d122b148f661a0104d35c29a9\n(cherry picked from commit f37376490a4907fee85108a27cc9bbf8bf688ca8)\n'}]",0,836347,89ee9575be696345702fc4da849d8638229f9ec1,7,3,1,9816,,,0,"Replace the deprecated aodh::auth class

... by the new aodh::service_credentials class.

Depends-on: https://review.opendev.org/772694
Depends-on: https://review.opendev.org/836346
Change-Id: I394ac5520504650d122b148f661a0104d35c29a9
(cherry picked from commit f37376490a4907fee85108a27cc9bbf8bf688ca8)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/47/836347/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh.pp', 'spec/classes/tripleo_profile_base_aodh_spec.rb', 'spec/fixtures/hieradata/default.yaml']",3,89ee9575be696345702fc4da849d8638229f9ec1,aodh-service_credentials-stable/wallaby,aodh::service_credentials::password: 'password',aodh::auth::auth_password: 'password',6,6
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ie7936c10db92e76d9b346dd06b9db6e3c51c663e,openstack/puppet-tripleo,stable/wallaby,Ie7936c10db92e76d9b346dd06b9db6e3c51c663e,Remove unused puppet-ptp,MERGED,2022-04-28 07:12:27.000000000,2022-05-24 17:48:32.000000000,2022-05-24 17:48:32.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 07:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0f4e5fcd6a84299811ce5bacb12a9865df700c5f', 'message': 'Remove unused puppet-ptp\n\nUsage of puppet-ptp was removed by [1]. This change removes the module\nfrom test requirements.\n\n[1] 1015d5ab010cf6d1c6924c88d20aa75a09bca5b2\n\nConflicts:\n\tPuppetfile_extras\n\nChange-Id: Ie7936c10db92e76d9b346dd06b9db6e3c51c663e\n(cherry picked from commit d7248de300ab0ced427dc468c0a1ee98d1f92eab)\n'}, {'number': 2, 'created': '2022-05-04 13:04:31.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/96cd50e123ced031a0b9e4a40ecbc289e247400b', 'message': 'Remove unused puppet-ptp\n\nUsage of puppet-ptp was removed by [1]. This change removes the module\nfrom test requirements.\n\n[1] 1015d5ab010cf6d1c6924c88d20aa75a09bca5b2\n\nConflicts:\n\tPuppetfile_extras\n\nChange-Id: Ie7936c10db92e76d9b346dd06b9db6e3c51c663e\n(cherry picked from commit d7248de300ab0ced427dc468c0a1ee98d1f92eab)\n'}]",0,839690,96cd50e123ced031a0b9e4a40ecbc289e247400b,12,2,2,9816,,,0,"Remove unused puppet-ptp

Usage of puppet-ptp was removed by [1]. This change removes the module
from test requirements.

[1] 1015d5ab010cf6d1c6924c88d20aa75a09bca5b2

Conflicts:
	Puppetfile_extras

Change-Id: Ie7936c10db92e76d9b346dd06b9db6e3c51c663e
(cherry picked from commit d7248de300ab0ced427dc468c0a1ee98d1f92eab)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/839690/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,0f4e5fcd6a84299811ce5bacb12a9865df700c5f,remove-ptp-stable/wallaby,,"mod 'ptp', :git => 'https://github.com/redhat-nfvpe/ptp', :ref => 'master' ",0,4
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I3429278d8e2c89943730b218053ad0b0ed36170d,openstack/puppet-tripleo,stable/wallaby,I3429278d8e2c89943730b218053ad0b0ed36170d,Remove unused modules from testing,MERGED,2022-05-04 01:58:52.000000000,2022-05-24 17:48:30.000000000,2022-05-24 17:48:30.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 01:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f877d97bf0e3780bc1a7a530bba319ce2fde812c', 'message': ""Remove unused modules from testing\n\nWe don't use tomcat, java, cassandra, or datacat anymore.\n\nChange-Id: I3429278d8e2c89943730b218053ad0b0ed36170d\n(cherry picked from commit 1b7d23e3c2233f93c7c15014df42721cd2231dba)\n""}, {'number': 2, 'created': '2022-05-04 13:04:12.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8970411b055deefe94523b0f38e042e808cecf5c', 'message': ""Remove unused modules from testing\n\nWe don't use tomcat, java, cassandra, or datacat anymore.\n\nChange-Id: I3429278d8e2c89943730b218053ad0b0ed36170d\n(cherry picked from commit 1b7d23e3c2233f93c7c15014df42721cd2231dba)\n""}]",0,840343,8970411b055deefe94523b0f38e042e808cecf5c,8,2,2,9816,,,0,"Remove unused modules from testing

We don't use tomcat, java, cassandra, or datacat anymore.

Change-Id: I3429278d8e2c89943730b218053ad0b0ed36170d
(cherry picked from commit 1b7d23e3c2233f93c7c15014df42721cd2231dba)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/840343/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,f877d97bf0e3780bc1a7a530bba319ce2fde812c,drop-unused-stable/wallaby,,"mod 'tomcat', :git => 'https://github.com/puppetlabs/puppetlabs-tomcat', :ref => '1.3.2' mod 'java', :git => 'https://github.com/puppetlabs/puppetlabs-java', :ref => '1.4.2' mod 'cassandra', :git => 'https://github.com/voxpupuli/puppet-cassandra', :ref => '1.9.2' mod 'zookeeper', :git => 'https://github.com/deric/puppet-zookeeper', :ref => 'v0.3.9' mod 'datacat', :git => 'https://github.com/richardc/puppet-datacat', :ref => '0.6.2' ",0,20
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I7812caf5472a711c14f8619dc4b9894fb73e9c70,openstack/puppet-tripleo,stable/wallaby,I7812caf5472a711c14f8619dc4b9894fb73e9c70,Remove unused puppet-keepalived,MERGED,2022-05-04 02:32:38.000000000,2022-05-24 17:48:28.000000000,2022-05-24 17:48:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 02:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/24ad7c3eb77c5818280b35be9ccba1e827d54788', 'message': 'Remove unused puppet-keepalived\n\nThe puppet-keepalived module is no longer used, since we removed\nsupport for the keepalived service[1][2].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)\n[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)\nChange-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70\n(cherry picked from commit aee66b92271810a64ccf5e1442ed65b42dc263cc)\n'}, {'number': 2, 'created': '2022-05-04 02:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8fe982dd58bf52958bb96ed1281005c0bf3e923c', 'message': 'Remove unused puppet-keepalived\n\nThe puppet-keepalived module is no longer used, since we removed\nsupport for the keepalived service[1][2].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)\n[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)\nChange-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70\n(cherry picked from commit aee66b92271810a64ccf5e1442ed65b42dc263cc)\n'}, {'number': 3, 'created': '2022-05-04 02:33:36.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5bab407e2707c736dc8ab3ec13e0c56466365bec', 'message': 'Remove unused puppet-keepalived\n\nThe puppet-keepalived module is no longer used, since we removed\nsupport for the keepalived service[1][2].\n\nConflicts:\n\tPuppetfile_extras\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)\n[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)\nChange-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70\n(cherry picked from commit aee66b92271810a64ccf5e1442ed65b42dc263cc)\n'}]",0,840344,5bab407e2707c736dc8ab3ec13e0c56466365bec,10,3,3,9816,,,0,"Remove unused puppet-keepalived

The puppet-keepalived module is no longer used, since we removed
support for the keepalived service[1][2].

Conflicts:
	Puppetfile_extras

[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)
[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)
Change-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70
(cherry picked from commit aee66b92271810a64ccf5e1442ed65b42dc263cc)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/44/840344/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,24ad7c3eb77c5818280b35be9ccba1e827d54788,,<<<<<<< HEAD (b3f377 Remove leftover of keepalived support)======= >>>>>>> CHANGE (aee66b Remove unused puppet-keepalived),,3,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I001da64e0166775aa3ca72938cf5434e8e2260a7,openstack/puppet-tripleo,stable/wallaby,I001da64e0166775aa3ca72938cf5434e8e2260a7,Remove leftover of keepalived support,MERGED,2022-02-05 14:54:53.000000000,2022-05-24 17:48:25.000000000,2022-05-24 17:48:25.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-05 14:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c675cf7b49477e48fa71ecf9fe6fd4515a8901aa', 'message': 'Remove leftover of keepalived support\n\nThis removes one remaining manifest file for keepalived service which\nshould have been deleted by [1].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73\n\nChange-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7\n(cherry picked from commit 751c6f016466b3b3c51c5bad5ce21e5e5733c592)\n'}, {'number': 2, 'created': '2022-02-05 17:59:06.000000000', 'files': ['manifests/profile/base/keepalived.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b3f377f9ef21cbbf860ee066a13098cb7d9162bc', 'message': 'Remove leftover of keepalived support\n\nThis removes one remaining manifest file for keepalived service which\nshould have been deleted by [1].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73\n\nChange-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7\n(cherry picked from commit 751c6f016466b3b3c51c5bad5ce21e5e5733c592)\n'}]",1,827976,b3f377f9ef21cbbf860ee066a13098cb7d9162bc,14,4,2,9816,,,0,"Remove leftover of keepalived support

This removes one remaining manifest file for keepalived service which
should have been deleted by [1].

[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73

Change-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7
(cherry picked from commit 751c6f016466b3b3c51c5bad5ce21e5e5733c592)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/827976/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/keepalived.pp'],1,c675cf7b49477e48fa71ecf9fe6fd4515a8901aa,,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::keepalived # # Loadbalancer profile for tripleo # # === Parameters # # [*enable_load_balancer*] # (Optional) Whether or not loadbalancer is enabled. # Defaults to hiera('enable_load_balancer', true). # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # # [*control_virtual_interface*] # (Optional) Interface specified for control plane network # Defaults to hiera('tripleo::keepalived::control_virtual_interface', false) # # [*control_virtual_ip*] # Virtual IP address used for control plane network # Defaults to hiera('tripleo::keepalived::controller_virtual_ip') # # [*public_virtual_interface*] # (Optional) Interface specified for public/external network # Defaults to hiera('tripleo::keepalived::public_virtual_interface', false) # # [*public_virtual_ip*] # Virtual IP address used for public/ network # Defaults to hiera('tripleo::keepalived::public_virtual_ip') # class tripleo::profile::base::keepalived ( $enable_load_balancer = hiera('enable_load_balancer', true), $control_virtual_interface = hiera('tripleo::keepalived::control_virtual_interface', false), $control_virtual_ip = hiera('tripleo::keepalived::controller_virtual_ip'), $public_virtual_interface = hiera('tripleo::keepalived::public_virtual_interface', false), $public_virtual_ip = hiera('tripleo::keepalived::public_virtual_ip'), $step = Integer(hiera('step')), ) { if $step >= 1 { if $enable_load_balancer and hiera('enable_keepalived', true){ if ! $control_virtual_interface { $control_detected_interface = interface_for_ip($control_virtual_ip) if ! $control_detected_interface { fail('Unable to find interface for control plane network') } } else { $control_detected_interface = $control_virtual_interface } if ! $public_virtual_interface { $public_detected_interface = interface_for_ip($public_virtual_ip) if ! $public_detected_interface { fail('Unable to find interface for public network') } } else { $public_detected_interface = $public_virtual_interface } class { 'tripleo::keepalived': control_virtual_interface => $control_detected_interface, public_virtual_interface => $public_detected_interface, } } } } ",0,81
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idae2ba0cd9a35044c124a6d05ee050e10adde60e,openstack/tripleo-heat-templates,stable/train,Idae2ba0cd9a35044c124a6d05ee050e10adde60e,Ceilometer: Remove incomplete cache parameters,MERGED,2022-03-22 07:13:09.000000000,2022-05-24 17:48:22.000000000,2022-05-24 17:48:22.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-22 07:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b38a0446095a1683e1c15ef1cdeb17b0eb82849', 'message': 'Ceilometer: Remove incomplete cache parameters\n\nCurrently when TLS for memcached service is enabled, caching in\nceilometer is enabled.\n\nHowever the configuration is incomplete and the pymemcache backend is\nused with no actual backend server.\n\nThis change removes the cache parameters completely, as we had never\nenabled caching in Ceilometer previously.\n\n(to wallaby)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable/wallaby\n\n4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1\nAllow tuning rpc_response_timeout\n\n263fee246a4214f4c56c675cd1245ea77a3cd9ea\nEnsure db initialization is not executed by puppet\n\n(to victoria)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nCloses-Bug: #1964873\nChange-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e\n(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)\n(cherry picked from commit 2aa408f465015c0e99f269da779ef19c68300534)\n(cherry picked from commit ff1c593f0fa04bf7f982bfe101578920d2912c77)\n(cherry picked from commit d43fca3635bb27b1c4e6b8a5ba84c2d55fae5ecd)\n'}, {'number': 2, 'created': '2022-04-12 15:12:24.000000000', 'files': ['deployment/ceilometer/ceilometer-base-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8d2b49041dbbadf962558a513fb0aaca37fb8ed', 'message': 'Ceilometer: Remove incomplete cache parameters\n\nCurrently when TLS for memcached service is enabled, caching in\nceilometer is enabled.\n\nHowever the configuration is incomplete and the pymemcache backend is\nused with no actual backend server.\n\nThis change removes the cache parameters completely, as we had never\nenabled caching in Ceilometer previously.\n\n(to wallaby)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable/wallaby\n\n4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1\nAllow tuning rpc_response_timeout\n\n263fee246a4214f4c56c675cd1245ea77a3cd9ea\nEnsure db initialization is not executed by puppet\n\n(to victoria)\nConflicts:\n\tdeployment/ceilometer/ceilometer-base-container-puppet.yaml\n\nCloses-Bug: #1964873\nChange-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e\n(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)\n(cherry picked from commit 2aa408f465015c0e99f269da779ef19c68300534)\n(cherry picked from commit ff1c593f0fa04bf7f982bfe101578920d2912c77)\n'}]",1,834623,d8d2b49041dbbadf962558a513fb0aaca37fb8ed,12,4,2,9816,,,0,"Ceilometer: Remove incomplete cache parameters

Currently when TLS for memcached service is enabled, caching in
ceilometer is enabled.

However the configuration is incomplete and the pymemcache backend is
used with no actual backend server.

This change removes the cache parameters completely, as we had never
enabled caching in Ceilometer previously.

(to wallaby)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Resolved conflicts caused by the following two changes which are not
present in stable/wallaby

4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1
Allow tuning rpc_response_timeout

263fee246a4214f4c56c675cd1245ea77a3cd9ea
Ensure db initialization is not executed by puppet

(to victoria)
Conflicts:
	deployment/ceilometer/ceilometer-base-container-puppet.yaml

Closes-Bug: #1964873
Change-Id: Idae2ba0cd9a35044c124a6d05ee050e10adde60e
(cherry picked from commit 4d23590ca0d1735497ff483c5837e86e4502850f)
(cherry picked from commit 2aa408f465015c0e99f269da779ef19c68300534)
(cherry picked from commit ff1c593f0fa04bf7f982bfe101578920d2912c77)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/834623/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,6b38a0446095a1683e1c15ef1cdeb17b0eb82849,bug/194873-stable/train,," MemcachedTLS: default: false description: Set to True to enable TLS on Memcached service. Because not all services support Memcached TLS, during the migration period, Memcached will listen on 2 ports - on the port set with MemcachedPort parameter (above) and on 11211, without TLS. type: boolean - if: - {get_param: MemcachedTLS} - ceilometer::cache_backend: 'dogpile.cache.pymemcache' ceilometer::cache_tls_enabled: true - {}",0,13
openstack%2Fcharm-interface-hacluster~master~I9e5383f5ab6b6967aa0f2318764519989a292227,openstack/charm-interface-hacluster,master,I9e5383f5ab6b6967aa0f2318764519989a292227,Add monitor for stopped services when clone=False,MERGED,2022-02-04 18:03:18.000000000,2022-05-24 17:47:42.000000000,2022-05-24 17:47:42.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 18:03:18.000000000', 'files': ['unit_tests/test_common.py', 'interface_hacluster/common.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/5fc5216f51dcf98530d45e137d55fd94b39d150a', 'message': ""Add monitor for stopped services when clone=False\n\nThe cluster as its currently configured for services with clone=False,\nPacemaker will monitor exclusively that the daemon is running in the\nnode where it should, but will take no actions if the same daemon is\nrunning (e.g. started manually by a sysadmin) in another node of the\ncluster, this becomes a problem for services that are expected to be\nconfigured in active/passive (e.g. manila-share).\n\nThis change configures two monitors for services with clone=False, one\nthat monitors the daemon is running where it should, and another one\nthat monitors the daemon is not running where it shouldn't.\n\nprimitive res_apache systemd:apache2 \\\n\t...\n        op monitor interval=5s role=Started \\\n        op monitor interval=6s role=Stopped\n\nhttps://clusterlabs.org/pacemaker/doc/deprecated/en-US/Pacemaker/1.1/html/Pacemaker_Explained/_resource_operations.html#s-resource-monitoring\n\nCloses-Bug: #1904623\nChange-Id: I9e5383f5ab6b6967aa0f2318764519989a292227\n""}]",8,827912,5fc5216f51dcf98530d45e137d55fd94b39d150a,17,3,1,2424,,,0,"Add monitor for stopped services when clone=False

The cluster as its currently configured for services with clone=False,
Pacemaker will monitor exclusively that the daemon is running in the
node where it should, but will take no actions if the same daemon is
running (e.g. started manually by a sysadmin) in another node of the
cluster, this becomes a problem for services that are expected to be
configured in active/passive (e.g. manila-share).

This change configures two monitors for services with clone=False, one
that monitors the daemon is running where it should, and another one
that monitors the daemon is not running where it shouldn't.

primitive res_apache systemd:apache2 \
	...
        op monitor interval=5s role=Started \
        op monitor interval=6s role=Stopped

https://clusterlabs.org/pacemaker/doc/deprecated/en-US/Pacemaker/1.1/html/Pacemaker_Explained/_resource_operations.html#s-resource-monitoring

Closes-Bug: #1904623
Change-Id: I9e5383f5ab6b6967aa0f2318764519989a292227
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/12/827912/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_common.py', 'interface_hacluster/common.py']",2,5fc5216f51dcf98530d45e137d55fd94b39d150a,bug/1904623," if self.clone: crm.primitive(res_key, res_type, op='monitor interval=""5s""', meta=_meta) else: # When the requested resource is not a clone will mean we want it # to run in a single node, so having 2 monitors allows pacemaker # to actively check the service is running in the node it should, # but also to check the service is NOT running in the node(s) # where it shouldn't (LP: #1904623). crm.primitive(res_key, res_type, op=['monitor interval=""5s"" role=Started', 'monitor interval=""6s"" role=Stopped'], meta=_meta) crm.systemd_services(self.systemd_service_name)"," crm.primitive( res_key, res_type, op='monitor interval=""5s""', meta=_meta) crm.systemd_services(self.systemd_service_name) if self.clone:",17,4
openstack%2Fcharm-glance-simplestreams-sync~master~I4299a72646a602720689b4f3c3075de8c21b0811,openstack/charm-glance-simplestreams-sync,master,I4299a72646a602720689b4f3c3075de8c21b0811,Fix compatibility with Jinja2 >= 2.10,MERGED,2022-05-23 13:24:04.000000000,2022-05-24 17:34:15.000000000,2022-05-24 17:34:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 13:24:04.000000000', 'files': ['templates/identity.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/c749054e03d91da42858d0d4556d7b4e0c085c68', 'message': 'Fix compatibility with Jinja2 >= 2.10\n\nThe indentfirst parameter of the indent helper was renamed\nto first at Jinja2 2.10 - update template to follow this\nchange.\n\nChange-Id: I4299a72646a602720689b4f3c3075de8c21b0811\n'}]",2,842972,c749054e03d91da42858d0d4556d7b4e0c085c68,10,3,1,935,,,0,"Fix compatibility with Jinja2 >= 2.10

The indentfirst parameter of the indent helper was renamed
to first at Jinja2 2.10 - update template to follow this
change.

Change-Id: I4299a72646a602720689b4f3c3075de8c21b0811
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/72/842972/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/identity.yaml'],1,c749054e03d91da42858d0d4556d7b4e0c085c68,jinja3-compat,"{{ ssl_ca | indent( width=2, first=True) }}","{{ ssl_ca | indent( width=2, indentfirst=True) }}",1,1
openstack%2Fpython-swiftclient~master~Idec3aaed2fddd1ece3ed86ee0bcc48f7616d56fa,openstack/python-swiftclient,master,Idec3aaed2fddd1ece3ed86ee0bcc48f7616d56fa,Remove use of mock,MERGED,2022-05-23 06:36:10.000000000,2022-05-24 17:24:49.000000000,2022-05-24 17:22:05.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 06:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/91859cfca0932dbb74a7bedaf9ed0010fe8918b1', 'message': 'Remove use of mock\n\nSince Python 3.4, the unittest module has provided mock, negating the\nneed for the external dependancy. Switch to using unittest.mock.\n\nChange-Id: Idec3aaed2fddd1ece3ed86ee0bcc48f7616d56fa\n'}, {'number': 2, 'created': '2022-05-24 02:01:05.000000000', 'files': ['test/unit/utils.py', 'test/unit/test_service.py', 'test-requirements.txt', 'test/unit/test_authv1.py', 'test/unit/test_utils.py', 'test/unit/test_command_helpers.py', 'test/unit/test_shell.py', 'test/unit/test_swiftclient.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/20c97e83d3af855e5e238dfa4b10b7bf29533d57', 'message': 'Remove use of mock\n\nSince Python 3.4, the unittest module has provided mock, negating the\nneed for the external dependancy. Switch to using unittest.mock.\n\nChange-Id: Idec3aaed2fddd1ece3ed86ee0bcc48f7616d56fa\n'}]",3,842912,20c97e83d3af855e5e238dfa4b10b7bf29533d57,11,3,2,9369,,,0,"Remove use of mock

Since Python 3.4, the unittest module has provided mock, negating the
need for the external dependancy. Switch to using unittest.mock.

Change-Id: Idec3aaed2fddd1ece3ed86ee0bcc48f7616d56fa
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/12/842912/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/test_service.py', 'test-requirements.txt']",2,91859cfca0932dbb74a7bedaf9ed0010fe8918b1,remove-mock,,mock>=1.2.0 # BSD,2,3
openstack%2Fansible-role-python_venv_build~stable%2Ftrain~I298edfe86c7b5901636d79cc607f580e40f516d7,openstack/ansible-role-python_venv_build,stable/train,I298edfe86c7b5901636d79cc607f580e40f516d7,Remove tripleo-ci-centos-7-standalone-os-tempest from gate layout,MERGED,2022-04-15 11:47:03.000000000,2022-05-24 17:15:32.000000000,2022-05-24 17:12:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-15 11:47:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/d32cd1fe10f3e88c5b84a88d80a2001574312caa', 'message': 'Remove tripleo-ci-centos-7-standalone-os-tempest from gate layout\n\nThis removes tripleo-ci-centos-7-standalone-os-tempest from the\nzuul layout. This job is hardwired for stable/stein in [1].\nNeeded by [2] where the job is removed as stein is EOL for TripleO.\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L582\n[2] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/4#message-db697f5274005c959b6005ac0999cc2bc0b23d61\n\nChange-Id: I298edfe86c7b5901636d79cc607f580e40f516d7\n'}]",2,838169,d32cd1fe10f3e88c5b84a88d80a2001574312caa,10,2,1,8449,,,0,"Remove tripleo-ci-centos-7-standalone-os-tempest from gate layout

This removes tripleo-ci-centos-7-standalone-os-tempest from the
zuul layout. This job is hardwired for stable/stein in [1].
Needed by [2] where the job is removed as stein is EOL for TripleO.

[1] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L582
[2] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/4#message-db697f5274005c959b6005ac0999cc2bc0b23d61

Change-Id: I298edfe86c7b5901636d79cc607f580e40f516d7
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/69/838169/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d32cd1fe10f3e88c5b84a88d80a2001574312caa,,, check: jobs: - tripleo-ci-centos-7-standalone-os-tempest gate: jobs: - tripleo-ci-centos-7-standalone-os-tempest,0,6
openstack%2Fironic~master~I1226a8f5aac109d917d8600416752744a8a5c585,openstack/ironic,master,I1226a8f5aac109d917d8600416752744a8a5c585,CI: Fix Multinode Grenade Testing,NEW,2022-05-04 18:30:25.000000000,2022-05-24 17:02:11.000000000,,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 18:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/62b51340e01e0e99f9ab1c446cf78c2c5e4654e8', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 2, 'created': '2022-05-04 18:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3da8961e3ba416fd6cae2b7f1013a0b81bce33ad', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 3, 'created': '2022-05-04 20:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e40e06ca6bb7ea362c01824b45bcd537821c7cf7', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 4, 'created': '2022-05-05 16:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50175eaa4fb249a56e7b47856727fe26aa1f339c', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 5, 'created': '2022-05-06 19:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/957d7483b73cd02444be5fc4b08bcd5176895465', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 6, 'created': '2022-05-06 21:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00fac997f33f778f2d08c87796e624866f895f2e', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 7, 'created': '2022-05-09 18:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b78ee47adb7a15f0462b36fe321eb5395a5cce6b', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 8, 'created': '2022-05-09 21:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e736d496991da53afcfed391aab0fc5b152f23a6', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 9, 'created': '2022-05-10 13:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3af2681673043e5667b9f4a015dfd2cbdba872a3', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-generic-switch/+/841265\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 10, 'created': '2022-05-12 01:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b65a9c8b105de2b2be06e3037e6cd15874837ab1', 'message': 'DNM: Multinode Grenade\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode.\n* Explicitly runs cleaning on multinode grenade as cleaning\n  failing is a solid detection of networking issues between\n  nodes. Previously we would just end up with the tempest\n  job failing, and that would be difficult to track down\n  the issue from.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-generic-switch/+/841265\nDepends-On: https://review.opendev.org/c/openstack/networking-generic-switch/+/841472\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 11, 'created': '2022-05-19 18:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e73fd9a1a07e8f1f47ebdc6c7e9da57f8bf96d4e', 'message': 'CI: Fix Multinode Grenade Testing\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode as we cannot\n  presently run multinode with UEFI jobs.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect. This was the primary problem with\n  the multinode job.\n* Explicitly returns the grenade job to the check queue so we\n  can gather data to measure overall stability.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}, {'number': 12, 'created': '2022-05-24 15:00:52.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'playbooks/ci-workarounds/pre.yaml', 'playbooks/ci-workarounds/get_extra_logging.yaml', 'zuul.d/project.yaml', 'devstack/files/apache-ironic-api-redirect.template', 'playbooks/ci-workarounds/multinode-pre.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e36fdd73167dfa6edd1998dabac5a87f77e32ac', 'message': 'CI: Fix Multinode Grenade Testing\n\n* Adds OVS state gathering upon exit to all jobs where extra\n  log collection is present.\n* Adds collection of extra logging to the multinode grenade\n  job\n* Reduces the cleaning time window overall.\n* Explicitly logs where to start when multinode jobs fail.\n* Explicitly sets grenade multinode to bios mode as we cannot\n  presently run multinode with UEFI jobs.\n* Explicitly create the stack user, and copy the build ssh\n  key into it. This is because before zuul native grenade,\n  the ""controller"" node ran the entire job and could copy it\'s\n  keys to the remote node. Now, this is no longer possible\n  as both steps are run from zuul. To help remedy this, the\n  existing zuul key setup for the cluster is present and can\n  be utilized to establish temporary ssh access between the\n  nodes in the job. This allows conditionals to match, keys\n  to be setup for other users, and ultimately the job\n  to operate as we expect. This was the primary problem with\n  the multinode job.\n* Explicitly returns the grenade job to the check queue so we\n  can gather data to measure overall stability.\n* Also switch cleaning to default to metadata erasure in CI\n  for performance reasons.\n\nChange-Id: I1226a8f5aac109d917d8600416752744a8a5c585\n'}]",5,840530,7e36fdd73167dfa6edd1998dabac5a87f77e32ac,72,2,12,11655,,,0,"CI: Fix Multinode Grenade Testing

* Adds OVS state gathering upon exit to all jobs where extra
  log collection is present.
* Adds collection of extra logging to the multinode grenade
  job
* Reduces the cleaning time window overall.
* Explicitly logs where to start when multinode jobs fail.
* Explicitly sets grenade multinode to bios mode as we cannot
  presently run multinode with UEFI jobs.
* Explicitly create the stack user, and copy the build ssh
  key into it. This is because before zuul native grenade,
  the ""controller"" node ran the entire job and could copy it's
  keys to the remote node. Now, this is no longer possible
  as both steps are run from zuul. To help remedy this, the
  existing zuul key setup for the cluster is present and can
  be utilized to establish temporary ssh access between the
  nodes in the job. This allows conditionals to match, keys
  to be setup for other users, and ultimately the job
  to operate as we expect. This was the primary problem with
  the multinode job.
* Explicitly returns the grenade job to the check queue so we
  can gather data to measure overall stability.
* Also switch cleaning to default to metadata erasure in CI
  for performance reasons.

Change-Id: I1226a8f5aac109d917d8600416752744a8a5c585
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/840530/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'playbooks/ci-workarounds/get_extra_logging.yaml', 'zuul.d/project.yaml']",4,62b51340e01e0e99f9ab1c446cf78c2c5e4654e8,, - ironic-grenade-multinode-multitenant," - ironic-tox-unit-with-driver-libs - ironic-cross-sushy: voting: false - ironic-tempest-functional-python3 - ironic-tempest-functional-rbac-scope-enforced - ironic-grenade - ironic-standalone - ironic-standalone-redfish - ironic-tempest-partition-bios-redfish-pxe - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-partition-bios-ipmi-pxe - ironic-tempest-partition-uefi-ipmi-pxe # NOTE(TheJulia) Marking multinode non-voting on 20210311 # Due to a high failure rate on limestone where the compute1 # machine never appears to be able to communicate across the # vxlan tunnel, possible mtu issue, but non-voting until we # understand it in mind for the upcoming release. - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 - metalsmith-integration-glance-localboot-centos8-uefi # Non-voting jobs - ironic-tox-bandit: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-partition-bios-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - ironic-inspector-tempest-rbac-scope-enforced: voting: false - bifrost-integration-tinyipa-ubuntu-focal: voting: false - bifrost-integration-redfish-vmedia-uefi-centos-8: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false - bifrost-benchmark-ironic: voting: false - ironic-tempest-ipxe-ipv6: voting: false - ironic-grenade-multinode-multitenant: voting: false",24,56
openstack%2Fglance~master~I312849e8db37ced71ed1e3c300e39737fe510b79,openstack/glance,master,I312849e8db37ced71ed1e3c300e39737fe510b79,remove unicode from code,ABANDONED,2021-05-18 02:24:35.000000000,2022-05-24 16:40:53.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 02:24:35.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a23ece59a3772b710018fbc01e099a0bbdc227ed', 'message': 'remove unicode from code\n\nChange-Id: I312849e8db37ced71ed1e3c300e39737fe510b79\n'}]",0,791865,a23ece59a3772b710018fbc01e099a0bbdc227ed,4,2,1,32921,,,0,"remove unicode from code

Change-Id: I312849e8db37ced71ed1e3c300e39737fe510b79
",git fetch https://review.opendev.org/openstack/glance refs/changes/65/791865/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,a23ece59a3772b710018fbc01e099a0bbdc227ed,,"project = 'Glance Release Notes' copyright = '2015, Glance Developers' ('index', 'GlanceReleaseNotes.tex', 'Glance Release Notes Documentation', 'Glance Developers', 'manual'), ('index', 'glancereleasenotes', 'Glance Release Notes Documentation', ['Glance Developers'], 1) ('index', 'GlanceReleaseNotes', 'Glance Release Notes Documentation', 'Glance Developers', 'GlanceReleaseNotes',","project = u'Glance Release Notes' copyright = u'2015, Glance Developers' ('index', 'GlanceReleaseNotes.tex', u'Glance Release Notes Documentation', u'Glance Developers', 'manual'), ('index', 'glancereleasenotes', u'Glance Release Notes Documentation', [u'Glance Developers'], 1) ('index', 'GlanceReleaseNotes', u'Glance Release Notes Documentation', u'Glance Developers', 'GlanceReleaseNotes',",33,33
openstack%2Fnova~stable%2Fwallaby~I6d0dbdcc84fe070e84d19d0c3d4306e6e0326e46,openstack/nova,stable/wallaby,I6d0dbdcc84fe070e84d19d0c3d4306e6e0326e46,DNM: zuul: Add nova-live-migration-ceph job,NEW,2022-05-24 13:47:07.000000000,2022-05-24 16:35:01.000000000,,[],"[{'number': 1, 'created': '2022-05-24 13:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f755b73cf6429bed294d00f1e9d1efc17ad96b1', 'message': 'zuul: Add nova-live-migration-ceph job\n\nSince Ib342e2d3c395830b4667a60de7e492d3b9de2f0a the nova gate has lacked\nany libvirt live migration test coverage for ceph. This change\nreintroduces this via a new zuulv3 native multinode live migration job\nfor ceph that includes additional instance evacuation coverage.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/711625\nChange-Id: I6d0dbdcc84fe070e84d19d0c3d4306e6e0326e46\n'}, {'number': 2, 'created': '2022-05-24 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/475bf605782eccff25cb9cddefb089b45a2f35f4', 'message': 'DNM: zuul: Add nova-live-migration-ceph job\n\nSince Ib342e2d3c395830b4667a60de7e492d3b9de2f0a the nova gate has lacked\nany libvirt live migration test coverage for ceph. This change\nreintroduces this via a new zuulv3 native multinode live migration job\nfor ceph that includes additional instance evacuation coverage.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/711625\nChange-Id: I6d0dbdcc84fe070e84d19d0c3d4306e6e0326e46\n'}, {'number': 3, 'created': '2022-05-24 13:52:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4cf3cd7cddce64e98631d6cedca0e05dae19afd', 'message': 'DNM: zuul: Add nova-live-migration-ceph job\n\nSince Ib342e2d3c395830b4667a60de7e492d3b9de2f0a the nova gate has lacked\nany libvirt live migration test coverage for ceph. This change\nreintroduces this via a new zuulv3 native multinode live migration job\nfor ceph that includes additional instance evacuation coverage.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/711625\nChange-Id: I6d0dbdcc84fe070e84d19d0c3d4306e6e0326e46\n'}]",0,843145,d4cf3cd7cddce64e98631d6cedca0e05dae19afd,5,0,3,8864,,,0,"DNM: zuul: Add nova-live-migration-ceph job

Since Ib342e2d3c395830b4667a60de7e492d3b9de2f0a the nova gate has lacked
any libvirt live migration test coverage for ceph. This change
reintroduces this via a new zuulv3 native multinode live migration job
for ceph that includes additional instance evacuation coverage.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/711625
Change-Id: I6d0dbdcc84fe070e84d19d0c3d4306e6e0326e46
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/843145/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9f755b73cf6429bed294d00f1e9d1efc17ad96b1,,- job: name: nova-live-migration-ceph parent: devstack-plugin-ceph-multinode-tempest-py3 description: | Run tempest live migration tests against ceph ephemeral storage and cinder volumes. irrelevant-files: *dsvm-irrelevant-files vars: tox_envlist: all tempest_test_regex: (^tempest\.api\.compute\.admin\.(test_live_migration|test_migration)) devstack_local_conf: test-config: $TEMPEST_CONFIG: compute-feature-enabled: volume_backed_live_migration: true block_migration_for_live_migration: false block_migrate_cinder_iscsi: false post-run: playbooks/nova-live-migration/post-run.yaml - nova-live-migration-ceph - nova-live-migration-ceph,# TODO(lyarwood): The following jobs need to be written as part of the # migration to zuulv3 before nova-live-migration can be removed: # #- job: # name: nova-multinode-live-migration-ceph # description: | # Run tempest live migration tests against ceph ephemeral storage and # cinder volumes. #- job: # name: nova-multinode-evacuate-ceph # description: | # Verifiy the evacuation of instances with ceph ephemeral disks # from down compute hosts.,20,13
openstack%2Fpuppet-ironic~stable%2Fyoga~I4bfa487e6c982c99314112a58da61d6e53935b90,openstack/puppet-ironic,stable/yoga,I4bfa487e6c982c99314112a58da61d6e53935b90,Inspector: Fix missing log-facility when tftp protocol is used,MERGED,2022-04-15 00:52:12.000000000,2022-05-24 16:22:21.000000000,2022-05-24 16:22:21.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 00:52:12.000000000', 'files': ['templates/inspector_dnsmasq_tftp.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4a97b3347533424a8829a799717357cef5bf97b3', 'message': 'Inspector: Fix missing log-facility when tftp protocol is used\n\nCloses-Bug: #1968937\nChange-Id: I4bfa487e6c982c99314112a58da61d6e53935b90\n(cherry picked from commit 98c9b5c81bb7a16f542c95c083166bc17b03f1a6)\n'}]",3,838013,4a97b3347533424a8829a799717357cef5bf97b3,15,3,1,9816,,,0,"Inspector: Fix missing log-facility when tftp protocol is used

Closes-Bug: #1968937
Change-Id: I4bfa487e6c982c99314112a58da61d6e53935b90
(cherry picked from commit 98c9b5c81bb7a16f542c95c083166bc17b03f1a6)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/13/838013/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/inspector_dnsmasq_tftp.erb'],1,4a97b3347533424a8829a799717357cef5bf97b3,bug/1968937-stable/yoga,<% if ! @dnsmasq_log_facility.nil? %> log-facility=<%= @dnsmasq_log_facility %> <% end -%>,,3,0
openstack%2Fpuppet-tripleo~master~Ia0fac281ff62597cfa5d003bbf1a8787f0b80395,openstack/puppet-tripleo,master,Ia0fac281ff62597cfa5d003bbf1a8787f0b80395,Configure logging settings common for services,ABANDONED,2022-04-15 09:52:35.000000000,2022-05-24 16:15:07.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-15 09:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3c54b5f8c952e43c8dd71a710558ec182a56df56', 'message': ""Configure logging settings common for services\n\nAdd manifest that overrides logging settings, like Apache WSGI\nand Oslo.log, common for OpenStack services supported in TripleO.\n\nInstead of adding more parameteres for related puppet-openstack\nmodules, override it in the resources catalog, using the Hiera scope\nof new tripleo::profile::base::logging::common class.\n\nChanges in the scope:\n* Redefine Apache WSGI errors logfile log_level to reqtimeout:info,\n  for all supported services. That would log requests timeouts\n  INFO level alongside other warnings and errors.\n\n* Join this common manifest scope with the olso manifest. So now\n  it also covers Oslo.log context formatter tweaks for all supported\n  services, based on user provided keys of the context dict.\n  This may be useful for logging globar request IDs alongside local\n  req_ids without specifying individual services' context formatters.\n\nChange-Id: Ia0fac281ff62597cfa5d003bbf1a8787f0b80395\nDepends-On: https://review.opendev.org/838098\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-04-15 13:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/828a13dcdda0f4700b4fecbf368fc2383d4987d0', 'message': ""Configure logging settings common for services\n\nAdd manifest that overrides logging settings, like Apache WSGI\nand Oslo.log, common for OpenStack services supported in TripleO.\n\nInstead of adding more parameteres for related puppet-openstack\nmodules, override it in the resources catalog, using the Hiera scope\nof new tripleo::profile::base::logging::common class.\n\nChanges in the scope:\n* Redefine Apache WSGI errors logfile log_level to reqtimeout:info,\n  for all supported services. That would log requests timeouts\n  INFO level alongside other warnings and errors.\n\n* Join this common manifest scope with the olso manifest. So now\n  it also covers Oslo.log context formatter tweaks for all supported\n  services, based on user provided keys of the context dict.\n  This may be useful for logging globar request IDs alongside local\n  req_ids without specifying individual services' context formatters.\n\nChange-Id: Ia0fac281ff62597cfa5d003bbf1a8787f0b80395\nDepends-On: https://review.opendev.org/838098\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2022-04-15 13:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/73b9fdb16840633ab765344e5f3ae62ef6c8c748', 'message': ""Configure logging settings common for services\n\nAdd manifest that overrides logging settings, like Apache WSGI\nand Oslo.log, common for OpenStack services supported in TripleO.\n\nInstead of adding more parameteres for related puppet-openstack\nmodules, override it in the resources catalog, using the Hiera scope\nof new tripleo::profile::base::logging::common class.\n\nChanges in the scope:\n* Redefine Apache WSGI errors logfile log_level to reqtimeout:info,\n  for all supported services. That would log requests timeouts\n  INFO level alongside other warnings and errors.\n\n* Join this common manifest scope with the olso manifest. So now\n  it also covers Oslo.log context formatter tweaks for all supported\n  services, based on user provided keys of the context dict.\n  This may be useful for logging globar request IDs alongside local\n  req_ids without specifying individual services' context formatters.\n\nChange-Id: Ia0fac281ff62597cfa5d003bbf1a8787f0b80395\nDepends-On: https://review.opendev.org/838098\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2022-04-15 13:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a333b774e78f4f047f5de0c8d5c242304bf92a9a', 'message': ""Configure logging settings common for services\n\nAdd manifest that overrides logging settings, like Apache WSGI\nand Oslo.log, common for OpenStack services supported in TripleO.\n\nInstead of adding more parameteres for related puppet-openstack\nmodules, override it in the resources catalog, using the Hiera scope\nof new tripleo::profile::base::logging::common class.\n\nChanges in the scope:\n* Redefine Apache WSGI errors logfile log_level to reqtimeout:info,\n  for all supported services. That would log requests timeouts\n  INFO level alongside other warnings and errors.\n\n* Join this common manifest scope with the olso manifest. So now\n  it also covers Oslo.log context formatter tweaks for all supported\n  services, based on user provided keys of the context dict.\n  This may be useful for logging globar request IDs alongside local\n  req_ids without specifying individual services' context formatters.\n\nChange-Id: Ia0fac281ff62597cfa5d003bbf1a8787f0b80395\nDepends-On: https://review.opendev.org/838098\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2022-04-15 13:48:55.000000000', 'files': ['manifests/profile/base/heat.pp', 'manifests/profile/base/octavia.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/barbican/api.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/logging/common.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/base/ceilometer.pp', 'manifests/profile/base/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/230a7da5ad951acdb4cb28fffd3e00b77d52d8e3', 'message': ""Configure logging settings common for services\n\nAdd manifest that overrides logging settings, like Apache WSGI\nand Oslo.log, common for OpenStack services supported in TripleO.\n\nInstead of adding more parameteres for related puppet-openstack\nmodules, override it in the resources catalog, using the Hiera scope\nof new tripleo::profile::base::logging::common class.\n\nChanges in the scope:\n* Redefine Apache WSGI errors logfile log_level to reqtimeout:info,\n  for all supported services. That would log requests timeouts\n  INFO level alongside other warnings and errors.\n\n* Join this common manifest scope with the olso manifest. So now\n  it also covers Oslo.log context formatter tweaks for all supported\n  services, based on user provided keys of the context dict.\n  This may be useful for logging globar request IDs alongside local\n  req_ids without specifying individual services' context formatters.\n\nChange-Id: Ia0fac281ff62597cfa5d003bbf1a8787f0b80395\nDepends-On: https://review.opendev.org/838098\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",4,838106,230a7da5ad951acdb4cb28fffd3e00b77d52d8e3,21,6,5,6926,,,0,"Configure logging settings common for services

Add manifest that overrides logging settings, like Apache WSGI
and Oslo.log, common for OpenStack services supported in TripleO.

Instead of adding more parameteres for related puppet-openstack
modules, override it in the resources catalog, using the Hiera scope
of new tripleo::profile::base::logging::common class.

Changes in the scope:
* Redefine Apache WSGI errors logfile log_level to reqtimeout:info,
  for all supported services. That would log requests timeouts
  INFO level alongside other warnings and errors.

* Join this common manifest scope with the olso manifest. So now
  it also covers Oslo.log context formatter tweaks for all supported
  services, based on user provided keys of the context dict.
  This may be useful for logging globar request IDs alongside local
  req_ids without specifying individual services' context formatters.

Change-Id: Ia0fac281ff62597cfa5d003bbf1a8787f0b80395
Depends-On: https://review.opendev.org/838098
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/838106/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/heat.pp', 'manifests/profile/base/octavia.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/barbican/api.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/logging/common.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/base/ceilometer.pp', 'manifests/profile/base/cinder.pp']",17,3c54b5f8c952e43c8dd71a710558ec182a56df56,fix-request_id, include tripleo::profile::base::logging::common, include tripleo::profile::base::logging::oslo,32,20
openstack%2Fpuppet-tripleo~master~I1c219615071cee72888feff7cea0647da86e9e11,openstack/puppet-tripleo,master,I1c219615071cee72888feff7cea0647da86e9e11,Use octavia::networking to manage [networking] parameters,MERGED,2021-11-30 04:12:12.000000000,2022-05-24 16:12:36.000000000,2022-05-24 16:12:36.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-11-30 04:12:12.000000000', 'files': ['manifests/profile/base/octavia.pp', 'spec/classes/tripleo_profile_base_octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f2233f019fa3b9188dd82db56cead88348c86969', 'message': 'Use octavia::networking to manage [networking] parameters\n\nThe new octavia::networking class has been added to puppet-octavia,\nwhich allows managing parameters in the [networking] section.\nThis change ensures the class is included so that some parameters like\nport_detach_timeout is managed.\n\nDepends-on: https://review.opendev.org/819651\nDepends-on: https://review.opendev.org/819749\nChange-Id: I1c219615071cee72888feff7cea0647da86e9e11\n'}]",3,819750,f2233f019fa3b9188dd82db56cead88348c86969,14,6,1,9816,,,0,"Use octavia::networking to manage [networking] parameters

The new octavia::networking class has been added to puppet-octavia,
which allows managing parameters in the [networking] section.
This change ensures the class is included so that some parameters like
port_detach_timeout is managed.

Depends-on: https://review.opendev.org/819651
Depends-on: https://review.opendev.org/819749
Change-Id: I1c219615071cee72888feff7cea0647da86e9e11
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/819750/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia.pp', 'spec/classes/tripleo_profile_base_octavia_spec.rb']",2,f2233f019fa3b9188dd82db56cead88348c86969,octavia-networking, is_expected.to_not contain_class('octavia::networking') is_expected.to contain_class('octavia::networking') is_expected.to contain_class('octavia::networking'),,4,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I724f56cbdde8dd175fc8591889319fa39f2cf7b1,openstack/tripleo-heat-templates,stable/victoria,I724f56cbdde8dd175fc8591889319fa39f2cf7b1,Victoria-only: Fix the wrong puppet parameter,MERGED,2022-03-23 13:24:53.000000000,2022-05-24 16:12:33.000000000,2022-05-24 16:12:33.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-23 13:24:53.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/898f6b299ea3bf647b396da959da916d19755377', 'message': 'Victoria-only: Fix the wrong puppet parameter\n\nThis change fixes the wrong puppet parameter to define cache backend\nof Keystone. The keystone::cache_* parameters were removed during\nVictoria cycle by [1].\n\n[1] 5ae2172cbc0c861e291e1cab0ab165a9254e49fd\n\nChange-Id: I724f56cbdde8dd175fc8591889319fa39f2cf7b1\n'}]",0,834879,898f6b299ea3bf647b396da959da916d19755377,7,3,1,9816,,,0,"Victoria-only: Fix the wrong puppet parameter

This change fixes the wrong puppet parameter to define cache backend
of Keystone. The keystone::cache_* parameters were removed during
Victoria cycle by [1].

[1] 5ae2172cbc0c861e291e1cab0ab165a9254e49fd

Change-Id: I724f56cbdde8dd175fc8591889319fa39f2cf7b1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/834879/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,898f6b299ea3bf647b396da959da916d19755377,, keystone::cache::backend:, keystone::cache_backend:,1,1
openstack%2Fneutron~stable%2Fyoga~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,stable/yoga,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-18 09:32:26.000000000,2022-05-24 15:50:14.000000000,2022-05-24 15:43:28.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 09:32:26.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b53aae4cd395909c95dd5946492663a436af52c', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n'}]",0,842293,7b53aae4cd395909c95dd5946492663a436af52c,10,3,1,16688,,,0,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/842293/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,7b53aae4cd395909c95dd5946492663a436af52c,bug/1973276," @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_create_segments_subnet_metadata_ip_allocation(self, *args): @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_metadata_ip_on_subnet_create(self, *args): for device_owner in ('', 'myVIPowner'): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': device_owner, 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options(port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])"," def test_create_segments_subnet_metadata_ip_allocation(self): def test_metadata_ip_on_subnet_create(self): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': '', 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options( port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])",33,29
openstack%2Fdiskimage-builder~master~If187f645b818f47d10b602ccee12c29892a8d88d,openstack/diskimage-builder,master,If187f645b818f47d10b602ccee12c29892a8d88d,Fix openssl example command in dynamic-login,MERGED,2022-05-24 11:13:58.000000000,2022-05-24 15:48:57.000000000,2022-05-24 15:46:51.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 11:13:58.000000000', 'files': ['diskimage_builder/elements/dynamic-login/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/62626521ada6fab93e94d39b4ff6fc2215dd80cf', 'message': 'Fix openssl example command in dynamic-login\n\nthe command had one error in it (missing one backslash)\nand was rendered wrong, w/o any backslashes at all.\n\nChange-Id: If187f645b818f47d10b602ccee12c29892a8d88d\n'}]",0,843128,62626521ada6fab93e94d39b4ff6fc2215dd80cf,7,2,1,9542,,,0,"Fix openssl example command in dynamic-login

the command had one error in it (missing one backslash)
and was rendered wrong, w/o any backslashes at all.

Change-Id: If187f645b818f47d10b602ccee12c29892a8d88d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/843128/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dynamic-login/README.rst'],1,62626521ada6fab93e94d39b4ff6fc2215dd80cf,dynamic-login-readme-fix," using the ``openssl`` command, e.g: ``openssl passwd -1 -stdin <<< YOUR_PASSWORD | sed 's/\$/\$\$/g'``."," using the ``openssl`` command, e.g: *openssl passwd -1 -stdin <<< YOUR_PASSWORD | sed 's/\$/\$$/g'*.",2,2
openstack%2Fcinder~master~I9490229fb4f2852cd1d5e5c838b6ca59fe946358,openstack/cinder,master,I9490229fb4f2852cd1d5e5c838b6ca59fe946358,NetApp: Support custom igroups,MERGED,2020-05-26 18:55:59.000000000,2022-05-24 15:48:40.000000000,2022-05-24 15:43:23.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31721}, {'_account_id': 31854}, {'_account_id': 32071}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-05-26 18:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef5bfa2f8b86df51754475882e3bade7e5b09eca', 'message': 'NetApp: Support custom igroups\n\nCurrent NetApp dataontap code for iSCSI and FC fails when detaching a\nvolume if we have a custom (as in not created by the Cinder driver)\nigroup on the array.\n\nThis is because when we unmap a volume we look for an igroup created by\nthe Cinder driver, which has the ""openstack-"" prefix, but we won\'t find\nit when there\'s a custom igroup before we used the custom igroup when we\nmapped the volume.\n\nSince the NetApp backend supports having multiple igroups with the same\ninitiators we will only use the OpenStack one when mapping volumes and\ncreate one if it doesn\'t exist, even if there\'s already a custom one.\n\nThis allows custom and OpenStack igroups to coexist with each other.\n\nCloses-Bug: #1697490\nChange-Id: I9490229fb4f2852cd1d5e5c838b6ca59fe946358\n'}, {'number': 2, 'created': '2020-05-27 11:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b264b555b9978eff3ef4c91739f797eb03e26a6', 'message': 'NetApp: Support custom igroups\n\nThis patch adds compatibility for the NetApp driver to allow custom and\nOpenStack igroups to coexist with each other.\n\nCurrent NetApp dataontap code for iSCSI and FC fails when detaching a\nvolume if we have a custom (as in not created by the Cinder driver)\nigroup on the array.\n\nThis is because when we unmap a volume we look for an igroup created by\nthe Cinder driver, which has the ""openstack-"" prefix, but we won\'t find\nit when there\'s a custom igroup because on attach we used the custom\nigroup instead of creating an ""openstack-"" one.\n\nSince the NetApp backend supports having multiple igroups with the same\ninitiators we will only use the OpenStack one when mapping volumes and\ncreate one if it doesn\'t exist, even if there\'s already a custom one.\n\nThis patch also adds code so we can properly unmap volumes that have\nbeen atached with old code and custom igroups.\n\nCloses-Bug: #1697490\nChange-Id: I9490229fb4f2852cd1d5e5c838b6ca59fe946358\n'}, {'number': 3, 'created': '2021-12-10 12:03:04.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'releasenotes/notes/fix-netapp-custom-igroup-e049b4f3b341dd54.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b2742a3d397d67ea989f080d44cc537bdcf1f5a', 'message': 'NetApp: Support custom igroups\n\nThis patch adds compatibility for the NetApp driver to allow custom and\nOpenStack igroups to coexist with each other.\n\nCurrent NetApp dataontap code for iSCSI and FC fails when detaching a\nvolume if we have a custom (as in not created by the Cinder driver)\nigroup on the array.\n\nThis is because when we unmap a volume we look for an igroup created by\nthe Cinder driver, which has the ""openstack-"" prefix, but we won\'t find\nit when there\'s a custom igroup because on attach we used the custom\nigroup instead of creating an ""openstack-"" one.\n\nSince the NetApp backend supports having multiple igroups with the same\ninitiators we will only use the OpenStack one when mapping volumes and\ncreate one if it doesn\'t exist, even if there\'s already a custom one.\n\nThis patch also adds code so we can properly unmap volumes that have\nbeen atached with old code and custom igroups.\n\nCloses-Bug: #1697490\nChange-Id: I9490229fb4f2852cd1d5e5c838b6ca59fe946358\n'}]",5,730936,1b2742a3d397d67ea989f080d44cc537bdcf1f5a,98,35,3,9535,,,0,"NetApp: Support custom igroups

This patch adds compatibility for the NetApp driver to allow custom and
OpenStack igroups to coexist with each other.

Current NetApp dataontap code for iSCSI and FC fails when detaching a
volume if we have a custom (as in not created by the Cinder driver)
igroup on the array.

This is because when we unmap a volume we look for an igroup created by
the Cinder driver, which has the ""openstack-"" prefix, but we won't find
it when there's a custom igroup because on attach we used the custom
igroup instead of creating an ""openstack-"" one.

Since the NetApp backend supports having multiple igroups with the same
initiators we will only use the OpenStack one when mapping volumes and
create one if it doesn't exist, even if there's already a custom one.

This patch also adds code so we can properly unmap volumes that have
been atached with old code and custom igroups.

Closes-Bug: #1697490
Change-Id: I9490229fb4f2852cd1d5e5c838b6ca59fe946358
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/730936/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'releasenotes/notes/fix-netapp-custom-igroup-e049b4f3b341dd54.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",4,ef5bfa2f8b86df51754475882e3bade7e5b09eca,netapp-custom-igroup-master," # Backend supports different igroups with the same initiators, so # instead of reusing non OpenStack igroups, we make sure we only use # our own, thus being compatible with custom igroups. for igroup in igroups: if igroup_name.startswith(na_utils.OPENSTACK_PREFIX): host_os_type = igroup['initiator-group-os-type'] initiator_group_type = igroup['initiator-group-type'] break else:", igroup_name = None if igroups: igroup = igroups[0] host_os_type = igroup['initiator-group-os-type'] initiator_group_type = igroup['initiator-group-type'] if not igroup_name:,26,11
openstack%2Fneutron~stable%2Fyoga~Ib2c48bd5ad55e9c754a8e4938e6c5eafacc75dcc,openstack/neutron,stable/yoga,Ib2c48bd5ad55e9c754a8e4938e6c5eafacc75dcc,Do not auto subquery load DistributedPortBindings,MERGED,2022-05-17 01:50:37.000000000,2022-05-24 15:48:37.000000000,2022-05-24 15:43:19.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-17 01:50:37.000000000', 'files': ['neutron/plugins/ml2/models.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb63fa883c7f05f806c213b40de158efaa5aed07', 'message': 'Do not auto subquery load DistributedPortBindings\n\nWe observe excessive DB calls to load DistributedPortBindings,\nWe have enabled DVR and have some huge virtual routers with around\n60 router interfaces scheduled on around 200 compute nodes. Under such\nsituation, subquery load DistributedPortBinding looks like not a very wise\nidea, because it is not explicitly used.\n\nI glance through the code and have a feeling that ml2_distributed_port_bindings\nis not used except explicitly called. So IMO it is safe to change it to\ndefault lazy load without causing serious regression.\n\nCloses-bug: #1973576\nChange-Id: Ib2c48bd5ad55e9c754a8e4938e6c5eafacc75dcc\n(cherry picked from commit 182044d628314290a38440bab203d27fb9db755d)\n'}]",2,841932,eb63fa883c7f05f806c213b40de158efaa5aed07,12,5,1,29071,,,0,"Do not auto subquery load DistributedPortBindings

We observe excessive DB calls to load DistributedPortBindings,
We have enabled DVR and have some huge virtual routers with around
60 router interfaces scheduled on around 200 compute nodes. Under such
situation, subquery load DistributedPortBinding looks like not a very wise
idea, because it is not explicitly used.

I glance through the code and have a feeling that ml2_distributed_port_bindings
is not used except explicitly called. So IMO it is safe to change it to
default lazy load without causing serious regression.

Closes-bug: #1973576
Change-Id: Ib2c48bd5ad55e9c754a8e4938e6c5eafacc75dcc
(cherry picked from commit 182044d628314290a38440bab203d27fb9db755d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/841932/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/models.py'],1,eb63fa883c7f05f806c213b40de158efaa5aed07,bug/1973576-stable/yoga,," lazy='subquery',",0,1
openstack%2Frequirements~master~I9830e9c8339c19e1bd4a6b878f8839f0a2e88e5a,openstack/requirements,master,I9830e9c8339c19e1bd4a6b878f8839f0a2e88e5a,Add cross-project tests for Telemetry,MERGED,2022-03-01 05:36:26.000000000,2022-05-24 15:48:20.000000000,2022-05-24 15:43:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-01 05:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e10da2d19213e782530e991ea0b11b419ebea19', 'message': 'Add cross-project tests for Telemetry\n\nThis change introduces cross-project tests for telemetry services(Aodh\nand Ceilometer), so that we can detect any issue caused by change in\nu-c file earlier.\n\nChange-Id: I9830e9c8339c19e1bd4a6b878f8839f0a2e88e5a\n'}, {'number': 2, 'created': '2022-03-01 07:16:22.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5bfcb2a2cfa82d4995cf4eeeba65a3cf9f1b03e1', 'message': 'Add cross-project tests for Telemetry\n\nThis change introduces cross-project tests for telemetry services(Aodh\nand Ceilometer), so that we can detect any issue caused by change in\nu-c file earlier.\n\nChange-Id: I9830e9c8339c19e1bd4a6b878f8839f0a2e88e5a\n'}]",3,831334,5bfcb2a2cfa82d4995cf4eeeba65a3cf9f1b03e1,19,2,2,9816,,,0,"Add cross-project tests for Telemetry

This change introduces cross-project tests for telemetry services(Aodh
and Ceilometer), so that we can detect any issue caused by change in
u-c file earlier.

Change-Id: I9830e9c8339c19e1bd4a6b878f8839f0a2e88e5a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/831334/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cross-jobs.yaml'],1,1e10da2d19213e782530e991ea0b11b419ebea19,, name: cross-aodh-py38 parent: requirements-cross-test description: Run cross-project tests on aodh with py38. required-projects: openstack/aodh vars: tox_envlist: py38 - job: name: cross-ceilometer-py38 parent: requirements-cross-test description: Run cross-project tests on ceilometer with py38. required-projects: openstack/ceilometer vars: tox_envlist: py38 - job:,,16,0
openstack%2Fnova~stable%2Frocky~I514f6b337ffefef90a0ce9ab0b4afd083caa277e,openstack/nova,stable/rocky,I514f6b337ffefef90a0ce9ab0b4afd083caa277e,[stable-only] Drop lower-constraints job,MERGED,2022-04-14 20:05:17.000000000,2022-05-24 15:48:19.000000000,2022-05-24 15:43:03.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 20:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fc2242711da7396789df3d6dcaf1ac4ddd770e5', 'message': ""[stable-only] Drop lower-constraints job\n\nDuring the PTG the TC discussed the topic and decided to drop the job\ncompletely. Since the latest job configuration broke all stable gate\nfor nova (older than yoga) this is needed there to unblock our gates.\nFor dropping the job on master let's wait to the resolution as the\ngate is not broken there, hence the patch is stable-only.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific settings (job was\nset as non-voting, lower constraints changes, tox target's command was\ndifferent).\n\nChange-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e\n(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)\n(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)\n(cherry picked from commit 327693af402e4dd0c03fe247c4cee7beaedd2852)\n(cherry picked from commit 8ff36f184dd7aedf9adfdbdf8845504557e2bef5)\n(cherry picked from commit b1bffc3c1877a10d581aee1a80a4060868527acb)\n(cherry picked from commit 2911b119fb6fd1c2534403863b4089e4ba761df1)\n(cherry picked from commit 55955ed0015a2cada29ff248ecc7f9b3beb2db66)\n""}, {'number': 2, 'created': '2022-04-22 16:36:06.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c85dff5fecc1d6470fe6a534a2930a75df12c8', 'message': ""[stable-only] Drop lower-constraints job\n\nDuring the PTG the TC discussed the topic and decided to drop the job\ncompletely. Since the latest job configuration broke all stable gate\nfor nova (older than yoga) this is needed there to unblock our gates.\nFor dropping the job on master let's wait to the resolution as the\ngate is not broken there, hence the patch is stable-only.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific settings (job was\nset as non-voting, lower constraints changes, tox target's command was\ndifferent).\n\nChange-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e\n(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)\n(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)\n(cherry picked from commit 327693af402e4dd0c03fe247c4cee7beaedd2852)\n(cherry picked from commit 8ff36f184dd7aedf9adfdbdf8845504557e2bef5)\n(cherry picked from commit e0b030a1d2b7c63157fd2c621c1830f0867c53f8)\n(cherry picked from commit 156ce0b2477240d88ea42a1e4b6b6f951adbfd10)\n(cherry picked from commit cc4ec309b43d33f23ab12b30e2a54369e9607e0a)\n""}]",6,838041,c7c85dff5fecc1d6470fe6a534a2930a75df12c8,30,4,2,17685,,,0,"[stable-only] Drop lower-constraints job

During the PTG the TC discussed the topic and decided to drop the job
completely. Since the latest job configuration broke all stable gate
for nova (older than yoga) this is needed there to unblock our gates.
For dropping the job on master let's wait to the resolution as the
gate is not broken there, hence the patch is stable-only.

Conflicts:
  .zuul.yaml
  lower-constraints.txt
  tox.ini

NOTE(elod.illes): conflict is due to branch specific settings (job was
set as non-voting, lower constraints changes, tox target's command was
different).

Change-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e
(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)
(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)
(cherry picked from commit 327693af402e4dd0c03fe247c4cee7beaedd2852)
(cherry picked from commit 8ff36f184dd7aedf9adfdbdf8845504557e2bef5)
(cherry picked from commit e0b030a1d2b7c63157fd2c621c1830f0867c53f8)
(cherry picked from commit 156ce0b2477240d88ea42a1e4b6b6f951adbfd10)
(cherry picked from commit cc4ec309b43d33f23ab12b30e2a54369e9607e0a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/838041/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,0fc2242711da7396789df3d6dcaf1ac4ddd770e5,drop-lower-constraints,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt commands = {[testenv]commands} stestr run --blacklist-file=tests-py3.txt {posargs},0,197
