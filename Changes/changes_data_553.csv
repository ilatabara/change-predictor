id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstacksdk~stable%2Fqueens~Iab214fe481375be0c0fe103dd65a6948b7776122,openstack/openstacksdk,stable/queens,Iab214fe481375be0c0fe103dd65a6948b7776122,Rename python-openstacksdk to openstacksdk,MERGED,2018-03-23 16:37:01.000000000,2018-03-23 16:39:04.000000000,2018-03-23 16:39:04.000000000,[{'_account_id': 2}],"[{'number': 1, 'created': '2018-03-23 16:37:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c8d403858ef8e27377ff0971a50013217539fd97', 'message': 'Rename python-openstacksdk to openstacksdk\n\nChange-Id: Iab214fe481375be0c0fe103dd65a6948b7776122\n'}]",0,555853,c8d403858ef8e27377ff0971a50013217539fd97,4,1,1,2,,,0,"Rename python-openstacksdk to openstacksdk

Change-Id: Iab214fe481375be0c0fe103dd65a6948b7776122
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/53/555853/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c8d403858ef8e27377ff0971a50013217539fd97,project-rename, - openstack/openstacksdk - openstack/openstacksdk - name: openstack/openstacksdk zuul_work_dir: src/git.openstack.org/openstack/openstacksdk - openstack/openstacksdk, - openstack/python-openstacksdk - openstack/python-openstacksdk - name: openstack/python-openstacksdk zuul_work_dir: src/git.openstack.org/openstack/python-openstacksdk - openstack/python-openstacksdk,5,5
openstack%2Fpython-novaclient~master~I2bbc33f1b8047c28ee257f588f5b33ba0e11dbbd,openstack/python-novaclient,master,I2bbc33f1b8047c28ee257f588f5b33ba0e11dbbd,Updated from global requirements,MERGED,2018-03-23 01:50:10.000000000,2018-03-23 16:35:56.000000000,2018-03-23 16:35:56.000000000,"[{'_account_id': 679}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 01:50:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/41dde2a2b2f31d43191103bf1d0c13ab18f18321', 'message': 'Updated from global requirements\n\nChange-Id: I2bbc33f1b8047c28ee257f588f5b33ba0e11dbbd\n'}]",0,555590,41dde2a2b2f31d43191103bf1d0c13ab18f18321,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I2bbc33f1b8047c28ee257f588f5b33ba0e11dbbd
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/90/555590/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,41dde2a2b2f31d43191103bf1d0c13ab18f18321,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fpython-openstackclient~master~I4d8b0df7f16ee0463e638bb11276220e5b92023b,openstack/python-openstackclient,master,I4d8b0df7f16ee0463e638bb11276220e5b92023b,"Fix crashing ""console log show""",MERGED,2018-02-07 08:28:21.000000000,2018-03-23 16:29:23.000000000,2018-03-23 16:29:23.000000000,"[{'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6476}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23913}]","[{'number': 1, 'created': '2018-02-07 08:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9c1a417c5574309bdbbae615740552fc8c65c039', 'message': 'Fix crashing console-log\n\nBecause of encoding issue, the ""openstack console show log"" is prone to\na stack dump, as explained in the bug report.\n\nThis patch sets the encoding output of stdout to utf8 before attempting\nto print in it.\n\nChange-Id: I4d8b0df7f16ee0463e638bb11276220e5b92023b\nCloses-Bug: 1747862\n'}, {'number': 2, 'created': '2018-02-08 08:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c7e64708c9f355d69dec5270b59ebb63138ff111', 'message': 'Fix crashing ""console log show""\n\nBecause of encoding issue, the ""openstack console show log"" is prone to\na stack dump, as explained in the bug report.\n\nThis patch sets the encoding output of stdout to utf8 before attempting\nto print in it.\n\nChange-Id: I4d8b0df7f16ee0463e638bb11276220e5b92023b\nCloses-Bug: 1747862\n'}, {'number': 3, 'created': '2018-03-16 16:31:25.000000000', 'files': ['openstackclient/compute/v2/console.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9a173568548203757a7fd20883edd56f923cc7e8', 'message': 'Fix crashing ""console log show""\n\nBecause of encoding issue, the ""openstack console show log"" is prone to\na stack dump, as explained in the bug report.\n\nUse the stdout handle that has already been set up by cliff\'s App class\nwith a sane default encoding.\n\nChange-Id: I4d8b0df7f16ee0463e638bb11276220e5b92023b\nCloses-Bug: 1747862\n'}]",1,541609,9a173568548203757a7fd20883edd56f923cc7e8,28,6,3,6476,,,0,"Fix crashing ""console log show""

Because of encoding issue, the ""openstack console show log"" is prone to
a stack dump, as explained in the bug report.

Use the stdout handle that has already been set up by cliff's App class
with a sane default encoding.

Change-Id: I4d8b0df7f16ee0463e638bb11276220e5b92023b
Closes-Bug: 1747862
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/09/541609/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/console.py'],1,9c1a417c5574309bdbbae615740552fc8c65c039,bug/1747862,import codecs sys.stdout = codecs.getwriter('utf8')(sys.stdout),,2,0
openstack%2Fneutron-tempest-plugin~master~I57d2e2cd2522c939da5c1f47b4511b3f64cbac8f,openstack/neutron-tempest-plugin,master,I57d2e2cd2522c939da5c1f47b4511b3f64cbac8f,Add a missing extension check (qos-fip),MERGED,2018-03-22 13:49:47.000000000,2018-03-23 16:28:22.000000000,2018-03-23 16:28:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:49:47.000000000', 'files': ['neutron_tempest_plugin/scenario/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9c072a0c5b150d2a197d63f38b38b9f8fe3761c7', 'message': 'Add a missing extension check (qos-fip)\n\nCloses-Bug: #1758063\nChange-Id: I57d2e2cd2522c939da5c1f47b4511b3f64cbac8f\n'}]",0,555307,9c072a0c5b150d2a197d63f38b38b9f8fe3761c7,12,5,1,6854,,,0,"Add a missing extension check (qos-fip)

Closes-Bug: #1758063
Change-Id: I57d2e2cd2522c939da5c1f47b4511b3f64cbac8f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/07/555307/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_floatingip.py'],1,9c072a0c5b150d2a197d63f38b38b9f8fe3761c7,bug/1758063," @utils.requires_ext(extension=""qos-fip"", service=""network"")",,1,0
openstack%2Fcinder~master~I351b3ddf8dfe29da8d854d4038d64ca7be17390f,openstack/cinder,master,I351b3ddf8dfe29da8d854d4038d64ca7be17390f,Add missing 'target_obj' when perform policy check,MERGED,2018-02-28 16:20:15.000000000,2018-03-23 16:28:19.000000000,2018-03-23 16:28:19.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23302}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-02-28 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e94bf3d757e05149a5246374d68069246288a29b', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 2, 'created': '2018-02-28 16:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4fae9e2cec2fc76bd77c807c14b58a4780ade009', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nCloses-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 3, 'created': '2018-03-01 09:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca489796f414aafa9ab4e37eca3a278eed013820', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 4, 'created': '2018-03-01 10:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6f4da0acb510743713e1e35eb4afe7b82b3af8e', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 5, 'created': '2018-03-01 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e030b703f9cb879797798102a7244615355f627', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 6, 'created': '2018-03-02 10:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85fddb6b95a75349138b1418b477d74791de4689', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nCloses-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 7, 'created': '2018-03-05 03:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a5b097bd9e23aa15e74603caa312deb4fb8712f', 'message': 'Add missing \'target_obj\' when perform policy check\n\nWe are missing the \'target_obj\' parameter in some policy\ncheck statements, and it could lead to the failure of\nenforce ""owner"" policy.\n\nCloses-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 8, 'created': '2018-03-13 06:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4be73125bf286ab42c3d7c652327f1107a042cf7', 'message': 'Add missing \'target_obj\' when perform policy check\n\nGenerally, we have to pass target object to ``authorize``\nwhen enforce policy check,  but this is ignored during\nour develop and review process for a long time, and the\npotential issue is anyone can handle the target resource\nas ``authorize`` will always succeed if rule is defined\n``admin_or_owner`` [1]. Luckily, for most of those APIs\nthis security concern is protected by our database access\ncode [2] that only project scope resource is allowed.\n\nHowever, there is one API that do have security issue when\nadministrator change the rule into ""admin_or_owner"".\n\n1. ""volume reset_status"", which cinder will update the\nresource directly in the database.\n\nThis patch intends to correct most of cases which can be\neasily figured out in case of future code changes.\n\n[1]: https://github.com/openstack/cinder/blob/master/cinder/context.py#L206\n[2]: https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L3058\n[3]: https://github.com/openstack/cinder/blob/master/cinder/api/contrib/admin_actions.py#L161\n\nCloses-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 9, 'created': '2018-03-14 02:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3594470fbd69a3b57208c7529b0edc28ac2281cf', 'message': 'Add missing \'target_obj\' when perform policy check\n\nGenerally, we have to pass target object to ``authorize``\nwhen enforce policy check,  but this is ignored during\nour develop and review process for a long time, and the\npotential issue is anyone can handle the target resource\nas ``authorize`` will always succeed if rule is defined\n``admin_or_owner`` [1]. Luckily, for most of those APIs\nthis security concern is protected by our database access\ncode [2] that only project scope resource is allowed.\n\nHowever, there is one API that do have security issue when\nadministrator change the rule into ""admin_or_owner"".\n\n1. ""volume reset_status"", which cinder will update the\nresource directly in the database.\n\nThis patch intends to correct most of cases which can be\neasily figured out in case of future code changes.\n\n[1]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/context.py#L206\n[2]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/db/sqlalchemy/api.py#L3058\n[3]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/api/contrib/admin_actions.py#L161\n\nCloses-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 10, 'created': '2018-03-15 04:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e42ddc3d777df08a73c5d51279d223d1c43eaef9', 'message': 'Add missing \'target_obj\' when perform policy check\n\nGenerally, we have to pass target object to ``authorize``\nwhen enforce policy check,  but this is ignored during\nour develop and review process for a long time, and the\npotential issue is anyone can handle the target resource\nas ``authorize`` will always succeed if rule is defined\n``admin_or_owner`` [1]. Luckily, for most of those APIs\nthis security concern is protected by our database access\ncode [2] that only project scope resource is allowed.\n\nHowever, there is one API that do have security issue when\nadministrator change the rule into ""admin_or_owner"".\n\n1. ""volume reset_status"", which cinder will update the\nresource directly in the database, procedure to reproduce\nbug is described on the launchpad.\n\nThis patch intends to correct most of cases which can be\neasily figured out in case of future code changes.\n\n[1]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/context.py#L206\n[2]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/db/sqlalchemy/api.py#L3058\n[3]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/api/contrib/admin_actions.py#L161\n\nPartial-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}, {'number': 11, 'created': '2018-03-19 11:07:55.000000000', 'files': ['cinder/tests/unit/volume/test_volume_retype.py', 'cinder/api/v3/volumes.py', 'cinder/tests/unit/group/test_groups_api.py', 'cinder/backup/api.py', 'cinder/api/contrib/admin_actions.py', 'cinder/api/contrib/snapshot_manage.py', 'cinder/api/contrib/snapshot_actions.py', 'cinder/transfer/api.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/tests/unit/api/contrib/test_extended_snapshot_attributes.py', 'cinder/api/v3/messages.py', 'cinder/api/contrib/volume_encryption_metadata.py', 'cinder/api/contrib/volume_unmanage.py', 'cinder/api/contrib/snapshot_unmanage.py', 'cinder/api/contrib/volume_image_metadata.py', 'cinder/api/contrib/volume_actions.py', 'cinder/group/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7391070474269dc247fc1d1f43520087a6a10267', 'message': 'Add missing \'target_obj\' when perform policy check\n\nGenerally, we have to pass target object to ``authorize``\nwhen enforce policy check,  but this is ignored during\nour develop and review process for a long time, and the\npotential issue is anyone can handle the target resource\nas ``authorize`` will always succeed if rule is defined\n``admin_or_owner`` [1]. Luckily, for most of those APIs\nthis security concern is protected by our database access\ncode [2] that only project scope resource is allowed.\n\nHowever, there is one API that do have security issue when\nadministrator change the rule into ""admin_or_owner"".\n\n1. ""volume reset_status"", which cinder will update the\nresource directly in the database, procedure to reproduce\nbug is described on the launchpad.\n\nThis patch intends to correct most of cases which can be\neasily figured out in case of future code changes.\n\n[1]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/context.py#L206\n[2]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/db/sqlalchemy/api.py#L3058\n[3]:\nhttps://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/api/contrib/admin_actions.py#L161\n\nPartial-Bug: #1714858\nChange-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f\n'}]",6,548650,7391070474269dc247fc1d1f43520087a6a10267,287,50,11,23083,,,0,"Add missing 'target_obj' when perform policy check

Generally, we have to pass target object to ``authorize``
when enforce policy check,  but this is ignored during
our develop and review process for a long time, and the
potential issue is anyone can handle the target resource
as ``authorize`` will always succeed if rule is defined
``admin_or_owner`` [1]. Luckily, for most of those APIs
this security concern is protected by our database access
code [2] that only project scope resource is allowed.

However, there is one API that do have security issue when
administrator change the rule into ""admin_or_owner"".

1. ""volume reset_status"", which cinder will update the
resource directly in the database, procedure to reproduce
bug is described on the launchpad.

This patch intends to correct most of cases which can be
easily figured out in case of future code changes.

[1]:
https://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/context.py#L206
[2]:
https://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/db/sqlalchemy/api.py#L3058
[3]:
https://github.com/openstack/cinder/blob/73e6e3c147fc357031834d0ac28478d061e6120c/cinder/api/contrib/admin_actions.py#L161

Partial-Bug: #1714858
Change-Id: I351b3ddf8dfe29da8d854d4038d64ca7be17390f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/548650/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/volume_unmanage.py', 'cinder/api/v3/volumes.py', 'cinder/backup/api.py', 'cinder/api/contrib/snapshot_unmanage.py', 'cinder/api/contrib/snapshot_manage.py', 'cinder/transfer/api.py', 'cinder/group/api.py', 'cinder/volume/api.py']",8,e94bf3d757e05149a5246374d68069246288a29b,bug/fix_policy_issues," context.authorize(snapshot_policy.GET_POLICY, target_obj=snapshot) context.authorize(vol_policy.MULTIATTACH_POLICY, target_obj=volume)", context.authorize(snapshot_policy.GET_POLICY) context.authorize(vol_policy.MULTIATTACH_POLICY),26,24
openstack%2Fcinder~driverfixes%2Fnewton~Ic57c122311039af159c0cfc083e6e9349702d1e4,openstack/cinder,driverfixes/newton,Ic57c122311039af159c0cfc083e6e9349702d1e4,Solving permission errors due to directory ownership on NFS,MERGED,2018-03-19 19:29:06.000000000,2018-03-23 16:28:17.000000000,2018-03-23 16:28:17.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 25820}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-19 19:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a399f5dd995093b4e30b70d560f4eec6436de73f', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n(cherry picked from commit a59d8fd93ffd4788685b5a4061c49668e0be1aeb)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}, {'number': 2, 'created': '2018-03-19 20:48:53.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/79d478f21d87d73471af1d6527168b16baa33060', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n(cherry picked from commit a59d8fd93ffd4788685b5a4061c49668e0be1aeb)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}]",0,554328,79d478f21d87d73471af1d6527168b16baa33060,25,17,2,21129,,,0,"Solving permission errors due to directory ownership on NFS

We do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set
proper permissions on the directories if needs be.

Change-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4
Closes-Bug: #1715456
(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)
(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)
(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)
Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_nfs.py
(cherry picked from commit a59d8fd93ffd4788685b5a4061c49668e0be1aeb)
Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_nfs.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/554328/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py']",2,a399f5dd995093b4e30b70d560f4eec6436de73f,bug/1715456,"import os import stat from oslo_concurrency import processutils as putils self._execute = putils.execute self._root_helper = utils.get_root_helper() self._root_helper, # Ensure we can write to this share mount_path = remotefsclient.get_mount_point(self.backup_share) group_id = os.getegid() current_group_id = utils.get_file_gid(mount_path) current_mode = utils.get_file_mode(mount_path) if group_id != current_group_id: cmd = ['chgrp', group_id, mount_path] self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) if not (current_mode & stat.S_IWGRP): cmd = ['chmod', 'g+w', mount_path] self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) return mount_path"," utils.get_root_helper(), return remotefsclient.get_mount_point(self.backup_share)",74,20
openstack%2Fneutron~master~I9247ac899a76e5d9a2962d2cb81279f2d6f16c0b,openstack/neutron,master,I9247ac899a76e5d9a2962d2cb81279f2d6f16c0b,Don't raise error when removing not existing IP address,MERGED,2018-03-20 21:05:29.000000000,2018-03-23 16:28:14.000000000,2018-03-23 16:28:14.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-20 21:05:29.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbe1bac3f78eb15190289b6bc8d6b3a9ae77b412', 'message': ""Don't raise error when removing not existing IP address\n\nWhen privileged delete_ip_address function is called to delete\nIP address which is already not configured on device, it should\nnot fail with any error.\n\nChange-Id: I9247ac899a76e5d9a2962d2cb81279f2d6f16c0b\nCloses-Bug: #1757259\n""}]",5,554697,bbe1bac3f78eb15190289b6bc8d6b3a9ae77b412,38,13,1,11975,,,0,"Don't raise error when removing not existing IP address

When privileged delete_ip_address function is called to delete
IP address which is already not configured on device, it should
not fail with any error.

Change-Id: I9247ac899a76e5d9a2962d2cb81279f2d6f16c0b
Closes-Bug: #1757259
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/554697/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",2,bbe1bac3f78eb15190289b6bc8d6b3a9ae77b412,bug/1757259," try: _run_iproute_addr(""delete"", device, namespace, address=ip, mask=prefixlen, family=family) except NetlinkError as e: # when trying to delete a non-existent IP address, pyroute2 raises # NetlinkError with code EADDRNOTAVAIL (99, 'Cannot assign requested # address') # this shouldn't raise an error if e.code == errno.EADDRNOTAVAIL: return raise"," _run_iproute_addr(""delete"", device, namespace, address=ip, mask=prefixlen, family=family)",19,6
openstack%2Ftempest~master~If6b7e59e71739361dcb0d246fca3fcf08af3514d,openstack/tempest,master,If6b7e59e71739361dcb0d246fca3fcf08af3514d,Add nova-cells-v1 to experimental queue jobs,MERGED,2018-03-05 15:09:07.000000000,2018-03-23 16:19:14.000000000,2018-03-23 16:19:14.000000000,"[{'_account_id': 1921}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-05 15:09:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/44f666b903939b562c2564ba1d7f4204305f9c85', 'message': 'Add nova-cells-v1 to experimental queue jobs\n\nThe legacy-tempest-dsvm-cells job is being moved into the\nnova repo and renamed to nova-cells-v1. This change adds\nthe new job name to the in-tree definition of the experimental\nqueue jobs that run on tempest changes. A project-config change\nwill depend on this patch to undefine the legacy job name from\nbeing used on tempest changes.\n\nDepends-On: https://review.openstack.org/549780\nChange-Id: If6b7e59e71739361dcb0d246fca3fcf08af3514d\n'}]",0,549783,44f666b903939b562c2564ba1d7f4204305f9c85,20,8,1,6873,,,0,"Add nova-cells-v1 to experimental queue jobs

The legacy-tempest-dsvm-cells job is being moved into the
nova repo and renamed to nova-cells-v1. This change adds
the new job name to the in-tree definition of the experimental
queue jobs that run on tempest changes. A project-config change
will depend on this patch to undefine the legacy job name from
being used on tempest changes.

Depends-On: https://review.openstack.org/549780
Change-Id: If6b7e59e71739361dcb0d246fca3fcf08af3514d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/549783/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,44f666b903939b562c2564ba1d7f4204305f9c85,bp/remove-nova-network, experimental: jobs: - nova-cells-v1: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$,,12,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Iae465b9076acccee4e26af48c1c7b3694b50b483,openstack/openstack-ansible-openstack_hosts,master,Iae465b9076acccee4e26af48c1c7b3694b50b483,Ensure the /etc/pki/rpm-gpg directory exists,MERGED,2018-03-23 03:43:07.000000000,2018-03-23 16:16:21.000000000,2018-03-23 08:16:22.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 03:43:07.000000000', 'files': ['tasks/openstack_hosts_configure_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1433976334b4e9006559406fc1ea02d78429e90d', 'message': 'Ensure the /etc/pki/rpm-gpg directory exists\n\nThis change ensures that the /etc/pki/rpm-gpg directory exists which is\nnot always true. This directory is required later in the playbook and\nassumed to exist elsewhere throughout the stack.\n\nChange-Id: Iae465b9076acccee4e26af48c1c7b3694b50b483\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,555620,1433976334b4e9006559406fc1ea02d78429e90d,8,3,1,7353,,,0,"Ensure the /etc/pki/rpm-gpg directory exists

This change ensures that the /etc/pki/rpm-gpg directory exists which is
not always true. This directory is required later in the playbook and
assumed to exist elsewhere throughout the stack.

Change-Id: Iae465b9076acccee4e26af48c1c7b3694b50b483
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/20/555620/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_yum.yml'],1,1433976334b4e9006559406fc1ea02d78429e90d,,"- name: Ensure the rpm-gpp directory exists file: path: ""/etc/pki/rpm-gpg"" state: ""directory"" group: ""root"" owner: ""root"" ",,7,0
openstack%2Fcinder~stable%2Fqueens~I4b1b3432275defafcfc60465d3079bc9d70c4f56,openstack/cinder,stable/queens,I4b1b3432275defafcfc60465d3079bc9d70c4f56,Use soft authorize for 'extended_snapshot_attributes' policy,MERGED,2018-03-18 02:50:30.000000000,2018-03-23 16:12:57.000000000,2018-03-23 16:12:57.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-18 02:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b900470c9cae00125b5efbed16089c6e23e0966f', 'message': ""Use soft authorize for 'extended_snapshot_attributes' policy\n\nCinder use soft authorize to control whether display\nsnapshot's additional attributes, this is broken during\npolicy in code changes.\n\nChange-Id: I4b1b3432275defafcfc60465d3079bc9d70c4f56\nCloses-Bug: #1756002\n(cherry picked from commit d9c9f847173778db756c4045301666c27995f6cc)\n""}, {'number': 2, 'created': '2018-03-21 02:54:54.000000000', 'files': ['cinder/api/contrib/extended_snapshot_attributes.py', 'cinder/tests/unit/api/contrib/test_extended_snapshot_attributes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/93cbd654c6695a97175d40d991b574e10c829fb9', 'message': ""Use soft authorize for 'extended_snapshot_attributes' policy\n\nCinder use soft authorize to control whether display\nsnapshot's additional attributes, this is broken during\npolicy in code changes.\n\nChange-Id: I4b1b3432275defafcfc60465d3079bc9d70c4f56\nCloses-Bug: #1756002\n(cherry picked from commit d9c9f847173778db756c4045301666c27995f6cc)\n""}]",0,554020,93cbd654c6695a97175d40d991b574e10c829fb9,65,22,2,23083,,,0,"Use soft authorize for 'extended_snapshot_attributes' policy

Cinder use soft authorize to control whether display
snapshot's additional attributes, this is broken during
policy in code changes.

Change-Id: I4b1b3432275defafcfc60465d3079bc9d70c4f56
Closes-Bug: #1756002
(cherry picked from commit d9c9f847173778db756c4045301666c27995f6cc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/554020/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/extended_snapshot_attributes.py', 'cinder/tests/unit/api/contrib/test_extended_snapshot_attributes.py']",2,b900470c9cae00125b5efbed16089c6e23e0966f,bug/1756002-stable/queens,"from cinder.policies import snapshots as snap_policy @mock.patch('cinder.context.RequestContext.authorize') def test_show(self, mock_authorize, snapshot_get_by_id, volume_get_by_id, mock_authorize.return_value = True calls = [mock.call(snap_policy.GET_POLICY), mock.call( snap_policy.EXTEND_ATTRIBUTE, fatal=False)] mock_authorize.assert_has_calls(calls) @mock.patch('cinder.context.RequestContext.authorize') def test_detail(self, mock_authorize): mock_authorize.return_value = False calls = [mock.call(snap_policy.GET_ALL_POLICY), mock.call( snap_policy.EXTEND_ATTRIBUTE, fatal=False)] mock_authorize.assert_has_calls(calls)"," def test_show(self, snapshot_get_by_id, volume_get_by_id, def test_detail(self):",15,4
openstack%2Fdevstack~master~Ia77163f330f674146b369dfebea56bd97820057e,openstack/devstack,master,Ia77163f330f674146b369dfebea56bd97820057e,Rename python-openstacksdk to openstacksdk,MERGED,2018-03-23 13:28:14.000000000,2018-03-23 16:07:55.000000000,2018-03-23 16:07:55.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 970}, {'_account_id': 4162}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:28:14.000000000', 'files': ['lib/libraries', 'inc/python', 'tests/test_libs_from_pypi.sh', 'doc/source/plugin-registry.rst', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/236250f1c3e9f328f0dc23ab168afbcfa639a33b', 'message': 'Rename python-openstacksdk to openstacksdk\n\nChange-Id: Ia77163f330f674146b369dfebea56bd97820057e\nDepends-On: https://review.openstack.org/554662\n'}]",0,555770,236250f1c3e9f328f0dc23ab168afbcfa639a33b,10,8,1,2,,,0,"Rename python-openstacksdk to openstacksdk

Change-Id: Ia77163f330f674146b369dfebea56bd97820057e
Depends-On: https://review.openstack.org/554662
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/555770/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/libraries', 'inc/python', 'doc/source/plugin-registry.rst', 'tests/test_libs_from_pypi.sh', 'stackrc']",5,236250f1c3e9f328f0dc23ab168afbcfa639a33b,project-rename,"export ENABLED_PYTHON3_PACKAGES=""nova,glance,cinder,uwsgi,python-openstackclient,openstacksdk""# openstacksdk OpenStack Python SDK GITREPO[""openstacksdk""]=${OPENSTACKSDK_REPO:-${GIT_BASE}/openstack/openstacksdk.git} GITBRANCH[""openstacksdk""]=${OPENSTACKSDK_BRANCH:-$TARGET_BRANCH} ","export ENABLED_PYTHON3_PACKAGES=""nova,glance,cinder,uwsgi,python-openstackclient,python-openstacksdk""# python-openstacksdk OpenStack Python SDK GITREPO[""python-openstacksdk""]=${OPENSTACKSDK_REPO:-${GIT_BASE}/openstack/python-openstacksdk.git} GITBRANCH[""python-openstacksdk""]=${OPENSTACKSDK_BRANCH:-$TARGET_BRANCH} ",8,14
openstack%2Fos-client-config~master~I1f024255f9069d67c9b6de97023019bd12f6eb54,openstack/os-client-config,master,I1f024255f9069d67c9b6de97023019bd12f6eb54,Rename python-openstacksdk to openstacksdk,MERGED,2018-03-23 13:57:51.000000000,2018-03-23 16:06:13.000000000,2018-03-23 16:06:13.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/5d71c439d9f0067b4649b1db65481e31e46bb7cc', 'message': 'Rename python-openstascksdk to openstacksdk\n\nChange-Id: I1f024255f9069d67c9b6de97023019bd12f6eb54\n'}, {'number': 2, 'created': '2018-03-23 14:45:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/c2e14a30529e27d61803c520234892966fc6bb5c', 'message': 'Rename python-openstacksdk to openstacksdk\n\nChange-Id: I1f024255f9069d67c9b6de97023019bd12f6eb54\n'}]",0,555792,c2e14a30529e27d61803c520234892966fc6bb5c,8,4,2,2,,,0,"Rename python-openstacksdk to openstacksdk

Change-Id: I1f024255f9069d67c9b6de97023019bd12f6eb54
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/92/555792/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5d71c439d9f0067b4649b1db65481e31e46bb7cc,project-rename, - openstack/openstacksdk - openstack/openstacksdk, - openstack/python-openstacksdk - openstack/python-openstacksdk,2,2
openstack%2Fshade~master~I96dace187cbe0772c3040becceb08740f08cbb68,openstack/shade,master,I96dace187cbe0772c3040becceb08740f08cbb68,Rename python-openstacksdk to openstacksdk,MERGED,2018-03-23 14:11:01.000000000,2018-03-23 16:05:57.000000000,2018-03-23 16:05:57.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 14:11:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/017630e314e9f103cab56c502848b1ed80a8d5b3', 'message': 'Rename python-openstacksdk to openstacksdk\n\nChange-Id: I96dace187cbe0772c3040becceb08740f08cbb68\nDepends-On: https://review.openstack.org/554662\n'}]",0,555805,017630e314e9f103cab56c502848b1ed80a8d5b3,6,4,1,2,,,0,"Rename python-openstacksdk to openstacksdk

Change-Id: I96dace187cbe0772c3040becceb08740f08cbb68
Depends-On: https://review.openstack.org/554662
",git fetch https://review.opendev.org/openstack/shade refs/changes/05/555805/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,017630e314e9f103cab56c502848b1ed80a8d5b3,project-rename, - openstack/openstacksdk - openstack/openstacksdk - name: openstack/openstacksdk, - openstack/python-openstacksdk - openstack/python-openstacksdk - name: openstack/python-openstacksdk,3,3
openstack%2Fproject-config~master~I6a2ba35c80f9b24772771ee0b708370ebab14bdb,openstack/project-config,master,I6a2ba35c80f9b24772771ee0b708370ebab14bdb,Rename collectd-ceilometer-plugin and python-openstacksdk,MERGED,2017-09-05 10:33:02.000000000,2018-03-23 16:02:51.000000000,2018-03-23 16:02:51.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13177}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-05 10:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f48f93262c5243afb98966994b0c1e820ca8305b', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change update the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 2, 'created': '2017-09-05 15:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/195b01f8cd867bbb412afb55f1850ab00e566732', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 3, 'created': '2017-09-05 15:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a92524dcb11214d6e7d794dbb4610805a982a03f', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 4, 'created': '2017-09-06 14:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a0904ff919e385088a3d44e73b3b273849b1cf00', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 5, 'created': '2017-09-15 10:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8faed15526cda668bc128ce07197d969b408ac6e', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 6, 'created': '2017-09-15 10:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc78bef4ab880acc2a61593930a027b9caad73e7', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 7, 'created': '2017-09-22 11:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/64f8bde460cc56bf376997757df0a3ee038bf259', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading.\nThis change updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 8, 'created': '2017-10-19 22:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f151987f4587afa54fe76272b07a9df4544c0c48', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading. This\nchange updateis the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 9, 'created': '2017-10-19 22:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a91dbc48bf865819b5bf61cc5e2c21acd8d445ab', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading. This\nchange updates the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 10, 'created': '2017-10-20 18:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6e65e1bcf1212d08d02990b01631daef051f48b', 'message': 'Renaming collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading. This\nchange updates the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 11, 'created': '2018-03-23 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe9c9512e6b970f2e158d2868173e97077ccb079', 'message': 'Rename collectd-ceilometer-plugin to collectd-openstack-plugins\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading. This\nchange updates the name to collectd-openstack-plugins.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 12, 'created': '2018-03-23 15:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/046bd9a6fb9070f2346f56f4aa2a8509a24dbc01', 'message': 'Rename collectd-ceilometer-plugin and python-openstacksdk\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading. This\nchange updates the name to collectd-openstack-plugins.\n\nThe pypi module for python-openstacksdk renamed a while ago to openstacksdk.\nUpdate the repo to match.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}, {'number': 13, 'created': '2018-03-23 15:29:16.000000000', 'files': ['gerrit/acls/openstack/collectd-openstack-plugins.config', 'gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/collectd-ceilometer-plugin.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/57781963bd17a5a639ab29da6977fe55d8bd94d0', 'message': 'Rename collectd-ceilometer-plugin and python-openstacksdk\n\nSince Ceilometer support was removed from the\ncollectd-ceilometer-plugin[1], the repo name is misleading. This\nchange updates the name to collectd-openstack-plugins.\n\nThe pypi module for python-openstacksdk renamed a while ago to openstacksdk.\nUpdate the repo to match.\n\n[1] https://review.openstack.org/#/c/490823/\n\nChange-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb\n'}]",7,500768,57781963bd17a5a639ab29da6977fe55d8bd94d0,45,9,13,13177,,,0,"Rename collectd-ceilometer-plugin and python-openstacksdk

Since Ceilometer support was removed from the
collectd-ceilometer-plugin[1], the repo name is misleading. This
change updates the name to collectd-openstack-plugins.

The pypi module for python-openstacksdk renamed a while ago to openstacksdk.
Update the repo to match.

[1] https://review.openstack.org/#/c/490823/

Change-Id: I6a2ba35c80f9b24772771ee0b708370ebab14bdb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/500768/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/collectd-openstack-plugins.config', 'jenkins/jobs/collectd-openstack-plugins.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/collectd-ceilometer-plugin.config', 'zuul/layout.yaml']",6,f48f93262c5243afb98966994b0c1e820ca8305b,project-rename, - name: openstack/collectd-openstack-plugins - gate-dsvm-collectd-openstack-plugins-src-ubuntu-xenial-nv - gate-dsvm-collectd-openstack-plugins-bin-ubuntu-xenial-nv - gate-dsvm-collectd-openstack-plugins-src-centos-7-nv - gate-dsvm-collectd-openstack-plugins-bin-centos-7-nv, - name: openstack/collectd-ceilometer-plugin - gate-dsvm-collectd-ceilometer-plugin-src-ubuntu-xenial-nv - gate-dsvm-collectd-ceilometer-plugin-bin-ubuntu-xenial-nv - gate-dsvm-collectd-ceilometer-plugin-src-centos-7-nv - gate-dsvm-collectd-ceilometer-plugin-bin-centos-7-nv,37,37
openstack%2Fopenstack-ansible-lxc_hosts~master~Ide9993eb67bfa7d3822714839aa1fc24a8b17fb3,openstack/openstack-ansible-lxc_hosts,master,Ide9993eb67bfa7d3822714839aa1fc24a8b17fb3,Add policycoreutils to CentOS image packages,MERGED,2018-03-23 14:18:19.000000000,2018-03-23 15:59:28.000000000,2018-03-23 15:59:28.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 14:18:19.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f855b75ed8eb2beb074e5379cdafa29c2d5d7bb1', 'message': 'Add policycoreutils to CentOS image packages\n\nIn order to make use of restorecon this package is\nrequired.\n\nChange-Id: Ide9993eb67bfa7d3822714839aa1fc24a8b17fb3\n'}]",0,555807,f855b75ed8eb2beb074e5379cdafa29c2d5d7bb1,8,3,1,6816,,,0,"Add policycoreutils to CentOS image packages

In order to make use of restorecon this package is
required.

Change-Id: Ide9993eb67bfa7d3822714839aa1fc24a8b17fb3
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/07/555807/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,f855b75ed8eb2beb074e5379cdafa29c2d5d7bb1,, - policycoreutils,,1,0
openstack%2Fcookbook-openstack-dashboard~stable%2Fpike~I1b734bb8c7394ab227610ead6b69d643f50a7340,openstack/cookbook-openstack-dashboard,stable/pike,I1b734bb8c7394ab227610ead6b69d643f50a7340,FWaaS Dashboard fix,MERGED,2018-03-20 14:09:45.000000000,2018-03-23 15:58:13.000000000,2018-03-23 15:58:13.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 14:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/53b81c7ab58bb1ea3ba9dea03657acc2d74c83c0', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: I1b734bb8c7394ab227610ead6b69d643f50a7340\n'}, {'number': 2, 'created': '2018-03-20 15:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/12aa1c12320decd181e14e4e2896d87dfd9a836b', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: I1b734bb8c7394ab227610ead6b69d643f50a7340\n'}, {'number': 3, 'created': '2018-03-20 16:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/3ac486dbd9d7e9dbc31502700a971a36be72fc96', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: I1b734bb8c7394ab227610ead6b69d643f50a7340\n'}, {'number': 4, 'created': '2018-03-23 09:09:59.000000000', 'files': ['spec/neutron-fwaas-dashboard_spec.rb', 'templates/default/local_settings.py.erb', 'attributes/default.rb', 'recipes/neutron-fwaas-dashboard.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/42d6cd3fe8085a901a1bc6888ccbd47604c4fa80', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n- Minor version bump\n\nChange-Id: I1b734bb8c7394ab227610ead6b69d643f50a7340\n'}]",0,554554,42d6cd3fe8085a901a1bc6888ccbd47604c4fa80,15,3,4,19193,,,0,"FWaaS Dashboard fix

- FWaaS Dashboard has been moved to a seperate project since Pike
- Minor version bump

Change-Id: I1b734bb8c7394ab227610ead6b69d643f50a7340
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/54/554554/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/neutron-fwaas-dashboard_spec.rb', 'templates/default/local_settings.py.erb', 'recipes/neutron-fwaas-dashboard.rb', 'metadata.rb']",4,53b81c7ab58bb1ea3ba9dea03657acc2d74c83c0,fwaas_dashb_fix,version '16.0.1',version '16.0.0',115,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I14051fb2ec315b5c8b442fbb2c726592acb4d69b,openstack/openstack-ansible-openstack_hosts,master,I14051fb2ec315b5c8b442fbb2c726592acb4d69b,Correct spelling of folder name,MERGED,2018-03-23 14:23:15.000000000,2018-03-23 15:58:11.000000000,2018-03-23 15:58:11.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 14:23:15.000000000', 'files': ['tasks/openstack_hosts_configure_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/2fa8c2f7b4600dfc06711d15147c49b0978d105e', 'message': 'Correct spelling of folder name\n\nThe folder name was misspelled. Also added the full\npath to be more explicit.\n\nChange-Id: I14051fb2ec315b5c8b442fbb2c726592acb4d69b\n'}]",0,555809,2fa8c2f7b4600dfc06711d15147c49b0978d105e,7,3,1,6816,,,0,"Correct spelling of folder name

The folder name was misspelled. Also added the full
path to be more explicit.

Change-Id: I14051fb2ec315b5c8b442fbb2c726592acb4d69b
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/09/555809/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_yum.yml'],1,2fa8c2f7b4600dfc06711d15147c49b0978d105e,,- name: Ensure the /etc/pki/rpm-gpg directory exists,- name: Ensure the rpm-gpp directory exists,1,1
openstack%2Fkuryr-kubernetes~master~I7ac9d05868994cfc2a1aef4a8cd6c2148895e9c8,openstack/kuryr-kubernetes,master,I7ac9d05868994cfc2a1aef4a8cd6c2148895e9c8,Add CA certificates Secret and mount it,MERGED,2018-03-22 23:09:21.000000000,2018-03-23 15:45:07.000000000,2018-03-23 15:45:07.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-22 23:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/db5abab300ad5eab115fb2f1fa247d2e9bbd7399', 'message': 'Add CA certificates Secret and mount it\n\nDevStack may be run with `enable_service tls-proxy` which will make all\nOpenStack endpoints HTTPS. This includes creation of a DevStack CA\ncertificates bundle that then will be configured to be verified when\nconnecting to OpenStack APIs. This works well with non-containerized\ndeployment as the bundle is available locally in /opt/stack/data.\n\nThings are different in containerized deployment use case as we need a\nway to pass those certificates. This commit adds a 5th Kuryr Kubernetes\nresource - `kuryr-certificates` Secret. DevStack plugin is modified to\nadd CA bundle there and kuryr-cni DaemonSet is extended to mount it.\n\nCloses-Bug: 1758061\nChange-Id: I7ac9d05868994cfc2a1aef4a8cd6c2148895e9c8\n'}, {'number': 2, 'created': '2018-03-23 09:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1ed510f3da4fe8bda72245b36510ba8a4a15ff8f', 'message': 'Add CA certificates Secret and mount it\n\nOur containerized gates started failing recently. Turns out some default\nconfiguation was changed and `tls-proxy` service was added. This option\nmakes all OpenStack endpoints use HTTPS. This includes creation of a\nDevStack CA certificates bundle that then will be configured to be\nverified when connecting to OpenStack APIs. This works well with\nnon-containerized deployment as the bundle is available locally in\n/opt/stack/data and our `[neutron]` section sets `cafile` option to\npoint there.\n\nThings are different in containerized deployment use case as we need a\nway to pass those certificates into the container. Effectively - we had\nno CA certificates support for containerized deployments either in\nDevStack or production.\n\nThis commit adds that support by including new Kuryr Kubernetes resource\ndefinition - `kuryr-certificates` Secret. It is supposed to hold CA\ncertificate under `kuryr-ca-bundle.crt` key. kuryr-controller DaemonSet\ndefinition was modified to mount the certificate into /etc/ssl/certs.\n\nChanges also include implementing support for that in DevStack plugin\n(placing the certificate in the secret and setting the `[neutron]cafile`\nconfig option to point to that certificate).\n\nCloses-Bug: 1758061\nChange-Id: I7ac9d05868994cfc2a1aef4a8cd6c2148895e9c8\n'}, {'number': 3, 'created': '2018-03-23 10:15:31.000000000', 'files': ['tools/generate_k8s_resource_definitions.sh', 'doc/source/installation/containerized.rst', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b7e518a940cffbaab1aa52f5a3166175ee3dd6c', 'message': 'Add CA certificates Secret and mount it\n\nOur containerized gates started failing recently. Turns out some default\nconfiguation was changed and `tls-proxy` service was added. This option\nmakes all OpenStack endpoints use HTTPS. This includes creation of a\nDevStack CA certificates bundle that then will be configured to be\nverified when connecting to OpenStack APIs. This works well with\nnon-containerized deployment as the bundle is available locally in\n/opt/stack/data and our `[neutron]` section sets `cafile` option to\npoint there.\n\nThings are different in containerized deployment use case as we need a\nway to pass those certificates into the container. Effectively - we had\nno CA certificates support for containerized deployments either in\nDevStack or production.\n\nThis commit adds that support by including new Kuryr Kubernetes resource\ndefinition - `kuryr-certificates` Secret. It is supposed to hold CA\ncertificate under `kuryr-ca-bundle.crt` key. kuryr-controller DaemonSet\ndefinition was modified to mount the certificate into /etc/ssl/certs.\n\nChanges also include implementing support for that in DevStack plugin\n(placing the certificate in the secret and setting the `[neutron]cafile`\nconfig option to point to that certificate).\n\nCloses-Bug: 1758061\nChange-Id: I7ac9d05868994cfc2a1aef4a8cd6c2148895e9c8\n'}]",5,555502,3b7e518a940cffbaab1aa52f5a3166175ee3dd6c,20,6,3,11600,,,0,"Add CA certificates Secret and mount it

Our containerized gates started failing recently. Turns out some default
configuation was changed and `tls-proxy` service was added. This option
makes all OpenStack endpoints use HTTPS. This includes creation of a
DevStack CA certificates bundle that then will be configured to be
verified when connecting to OpenStack APIs. This works well with
non-containerized deployment as the bundle is available locally in
/opt/stack/data and our `[neutron]` section sets `cafile` option to
point there.

Things are different in containerized deployment use case as we need a
way to pass those certificates into the container. Effectively - we had
no CA certificates support for containerized deployments either in
DevStack or production.

This commit adds that support by including new Kuryr Kubernetes resource
definition - `kuryr-certificates` Secret. It is supposed to hold CA
certificate under `kuryr-ca-bundle.crt` key. kuryr-controller DaemonSet
definition was modified to mount the certificate into /etc/ssl/certs.

Changes also include implementing support for that in DevStack plugin
(placing the certificate in the secret and setting the `[neutron]cafile`
config option to point to that certificate).

Closes-Bug: 1758061
Change-Id: I7ac9d05868994cfc2a1aef4a8cd6c2148895e9c8
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/02/555502/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate_k8s_resource_definitions.sh', 'doc/source/installation/containerized.rst', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes']",4,db5abab300ad5eab115fb2f1fa247d2e9bbd7399,bug/1758061,"function generate_kuryr_certificates_secret() { local output_dir local certs_bundle_path output_dir=$1 certs_bundle_path=${2:-""""} mkdir -p ""$output_dir"" rm -f ${output_dir}/certificates_secret.yml if [ -n $certs_bundle_path ]; then CA_CERT=`cat $certs_bundle_path | base64 -w0` fi cat >> ""${output_dir}/certificates_secret.yml"" << EOF apiVersion: v1 kind: Secret metadata: name: kuryr-certificates namespace: kube-system type: Opaque data: kuryr-ca-bundle.crt: $CA_CERT EOF } - name: certificates-volume mountPath: ""/etc/ssl/certs"" readOnly: true - name: certificates-volume secret: secretName: kuryr-certificates",,45,1
openstack%2Ftempest~master~Ibaa8f36cb08987aea706c241acf99208920236dc,openstack/tempest,master,Ibaa8f36cb08987aea706c241acf99208920236dc,DNM: debug test_create_ebs_image_and_check_boot,ABANDONED,2018-03-22 23:03:08.000000000,2018-03-23 15:44:48.000000000,,"[{'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 23:03:08.000000000', 'files': ['tempest/scenario/test_volume_boot_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/35dbf6422b4f741013eb963b1fa3744205e61a82', 'message': 'DNM: debug test_create_ebs_image_and_check_boot\n\nDepends-On: https://review.openstack.org/541420/\nChange-Id: Ibaa8f36cb08987aea706c241acf99208920236dc\n'}]",0,555496,35dbf6422b4f741013eb963b1fa3744205e61a82,5,3,1,6873,,,0,"DNM: debug test_create_ebs_image_and_check_boot

Depends-On: https://review.openstack.org/541420/
Change-Id: Ibaa8f36cb08987aea706c241acf99208920236dc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/555496/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_boot_pattern.py'],1,35dbf6422b4f741013eb963b1fa3744205e61a82,bug/1747693, # create an instance from an image-backed volume, # create an instance from image-backed volume,1,1
openstack%2Fmonasca-api~stable%2Focata~Ib34fbf4ce282c106f63659ac2125cde6489e9832,openstack/monasca-api,stable/ocata,Ib34fbf4ce282c106f63659ac2125cde6489e9832,Upgrade Apache Storm to 1.0.6,MERGED,2018-03-22 08:51:35.000000000,2018-03-23 15:34:52.000000000,2018-03-23 15:34:52.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-03-22 08:51:35.000000000', 'files': ['monasca_tempest_tests/contrib/post_test_hook.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8474a4b18a6ec6b907bf15a90db42d8e4984b771', 'message': 'Upgrade Apache Storm to 1.0.6\n\nApache Storm 1.0.x is used in Pike and Ocata releases.\nVersion 1.0.6 is the latest in this series and includes a number of\nimportant bug fixes [1].\n\nAlso, switch from using `testr` to `stestr` for running tempest tests.\n\n[1] https://storm.apache.org/2018/02/14/storm106-released.html\n\n(cherry-picked from 4ab5f3a77ce9ab9fe8cfd6c05dd5a9b97ec95089)\nChange-Id: Ib34fbf4ce282c106f63659ac2125cde6489e9832\n'}]",0,555203,8474a4b18a6ec6b907bf15a90db42d8e4984b771,21,6,1,16222,,,0,"Upgrade Apache Storm to 1.0.6

Apache Storm 1.0.x is used in Pike and Ocata releases.
Version 1.0.6 is the latest in this series and includes a number of
important bug fixes [1].

Also, switch from using `testr` to `stestr` for running tempest tests.

[1] https://storm.apache.org/2018/02/14/storm106-released.html

(cherry-picked from 4ab5f3a77ce9ab9fe8cfd6c05dd5a9b97ec95089)
Change-Id: Ib34fbf4ce282c106f63659ac2125cde6489e9832
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/03/555203/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_tempest_tests/contrib/post_test_hook.sh', 'devstack/settings']",2,8474a4b18a6ec6b907bf15a90db42d8e4984b771,,STORM_VERSION=${STORM_VERSION:-1.0.6},STORM_VERSION=${STORM_VERSION:-1.0.5},4,4
openstack%2Fbarbican~master~I9051e622d6f23803d8c18e87b2c33fb6b0ec88a6,openstack/barbican,master,I9051e622d6f23803d8c18e87b2c33fb6b0ec88a6,Do not copy policy.json when installing barbican,MERGED,2018-03-23 09:31:19.000000000,2018-03-23 15:24:58.000000000,2018-03-23 15:24:58.000000000,"[{'_account_id': 1091}, {'_account_id': 1955}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 13294}, {'_account_id': 16046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 09:31:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican/commit/06578940b9cf142cfc79e5cb6f627535811f8d8a', 'message': 'Do not copy policy.json when installing barbican\n\nDefault policies are registered in code now.\n\nChange-Id: I9051e622d6f23803d8c18e87b2c33fb6b0ec88a6\nCloses-bug: #1758257\n'}]",0,555714,06578940b9cf142cfc79e5cb6f627535811f8d8a,9,12,1,21797,,,0,"Do not copy policy.json when installing barbican

Default policies are registered in code now.

Change-Id: I9051e622d6f23803d8c18e87b2c33fb6b0ec88a6
Closes-bug: #1758257
",git fetch https://review.opendev.org/openstack/barbican refs/changes/14/555714/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,06578940b9cf142cfc79e5cb6f627535811f8d8a,bug/1758257,, etc/barbican/policy.json,0,1
openstack%2Fopenstack-ansible~master~Ic45a7799e5092653d70fce9f2b6b7ae3f03d8775,openstack/openstack-ansible,master,Ic45a7799e5092653d70fce9f2b6b7ae3f03d8775,[Docs] Adapt the wording for disk requirements,MERGED,2018-03-23 13:30:19.000000000,2018-03-23 15:14:06.000000000,2018-03-23 15:14:06.000000000,"[{'_account_id': 7353}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-23 13:30:19.000000000', 'files': ['deploy-guide/source/overview-requirements.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/62bbe0f38e04864e3e669fb0871ddacefca79814', 'message': ""[Docs] Adapt the wording for disk requirements\n\nDisks requirements aren't clear, and people can think it's\nalways required to have 1TB disk on cinder nodes. There is no\nhard requirement there, so we should remove this requirement,\nmark it as recommendation, and point its only for LVM backends.\n\nChange-Id: Ic45a7799e5092653d70fce9f2b6b7ae3f03d8775\n""}]",0,555772,62bbe0f38e04864e3e669fb0871ddacefca79814,8,4,1,17068,,,0,"[Docs] Adapt the wording for disk requirements

Disks requirements aren't clear, and people can think it's
always required to have 1TB disk on cinder nodes. There is no
hard requirement there, so we should remove this requirement,
mark it as recommendation, and point its only for LVM backends.

Change-Id: Ic45a7799e5092653d70fce9f2b6b7ae3f03d8775
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/555772/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/overview-requirements.rst'],1,62bbe0f38e04864e3e669fb0871ddacefca79814,fix_disk_requirements,"OpenStack-Ansible is able to deploy Cinder with a series of different backends and uses Logical Volume Manager (LVM), by default. Hosts that provide Block Storage volumes with LVM are recommended to have a large disk space available allocated to a ``cinder-volume`` volume group, which OpenStack-Ansible can configure for use with Block Storage.",Storage hosts must have a minimum of ``1 TB`` of disk space. Hosts that provide Block Storage volumes must have Logical Volume Manager (LVM) support. Ensure that hosts have a ``cinder-volume`` volume group that OpenStack-Ansible can configure for use with Block Storage.,5,5
openstack%2Fnova-specs~master~Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a,openstack/nova-specs,master,Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a,libvirt: add support for virtio-net rx/tx queue sizes,MERGED,2018-01-31 17:12:05.000000000,2018-03-23 15:12:40.000000000,2018-03-23 14:47:32.000000000,"[{'_account_id': 7}, {'_account_id': 136}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-01-31 17:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/55a5a4295de28d329da29b042b5543058c129d1a', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\n'}, {'number': 2, 'created': '2018-02-21 10:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9742837799f2afa80ee2e7ffd877ffaad0198942', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\n'}, {'number': 3, 'created': '2018-02-27 07:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e9667a9bae0a2315d2ba73163070dfe330b70a63', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\n'}, {'number': 4, 'created': '2018-03-06 09:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7da40eb6045a648202c6d67373fcad8c8a8248a4', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 5, 'created': '2018-03-06 16:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/eb9f3b58555d92b2ba76142a5b79ebecef9359bd', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 6, 'created': '2018-03-12 10:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/552b6b9ff075446adcf975fed7b58564c33403b8', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 7, 'created': '2018-03-12 12:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/58e2b41aed99612cbf7ef4b11e0ddf6abb0a9fce', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor extra specs.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 8, 'created': '2018-03-14 08:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b2c35d29735a75c6899e65a413d49256e840482e', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of nova.conf.\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 9, 'created': '2018-03-20 13:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b50093d5b7a49da3a4211c350e55d45ecbe37dcc', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor-extra specs\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 10, 'created': '2018-03-20 13:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d8d2e9bca66c6597b754c051ed80866d363757f8', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor-extra specs\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 11, 'created': '2018-03-21 11:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2f1df87d7f0cc32177ccd46540094fcdb31e94e8', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of flavor-extra specs\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 12, 'created': '2018-03-22 15:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/138f294211f9aec3815889c2bc220141ae307b7d', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of nova.conf\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 13, 'created': '2018-03-22 17:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ff223947de99e3eeda9b6e2303b2478db62173c9', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of nova.conf\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}, {'number': 14, 'created': '2018-03-23 08:56:33.000000000', 'files': ['specs/rocky/approved/libvirt-virtio-set-queue-sizes.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/eb0454aee1b7601b3450e61df88fd38dd78a8314', 'message': 'libvirt: add support for virtio-net rx/tx queue sizes\n\nAdd support for configuring the `rx_queue_size` and `tx_queue_size`\noptions in the virtio-net driver by way of nova.conf\n\nImplements: bp libvirt-virtio-set-queue-sizes\nChange-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}]",130,539605,eb0454aee1b7601b3450e61df88fd38dd78a8314,96,12,14,7730,,,0,"libvirt: add support for virtio-net rx/tx queue sizes

Add support for configuring the `rx_queue_size` and `tx_queue_size`
options in the virtio-net driver by way of nova.conf

Implements: bp libvirt-virtio-set-queue-sizes
Change-Id: Ib74797fb22f3ec39b3efadf38633ef3e772e7f2a
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/539605/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/libvirt-virtio-set-queue-sizes.rst'],1,55a5a4295de28d329da29b042b5543058c129d1a,bp/libvirt-virtio-set-queue-sizes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Support for virtio-net rx/tx queue sizes ======================================== https://blueprints.launchpad.net/nova/+spec/libvirt-virtio-set-queue-sizes With the current multi-queue virtio-net approach, network performance scales as the number of CPUs increase. Large efforts are continuing to increase the performance of network (typically DPDK applications) in order to take advantage of the full capacity of each individual vCPU. Problem description =================== vCPUs can be preempted by the hypervisor kernel thread even with a strong partitioning in place (isolcpus, tuned). The preemption are not frequent, few per seconds, but with 256 descriptor per virtio queue, just one preemption of the vCPU will lead to packet drop, as the 256 slots are filled during the preemption: this is the case for NFV VMs, where the per queue packet rate is above 1 Mpps (1 million of packets per second). Use Cases --------- Larger queues sizes permit to amortize the vCPU preemption and avoid packet drops, which is one of the main NFV requirement: zero packet drop. With today's NFV VMs, 1k queues permit to achieve high performance without any packet drop, so being able to increase the default queue size to 1k will solves today's issues. Making it configurable, per operator choice, will also help to address future NFV use cases (we are now shifting from 10Gbps NICs to 25Gbps NICs). Proposed change =============== In QEMU 2.7.0 and libvirt 2.3.0 a new tunable has been introduced to configure RX queue size. In QEMU 2.10.0 and libvirt 3.7.0 a new tunable has been introduced to update TX queue size of virtio NICs. The proposed change is to add new flavor properties which would allow operators to configure flavors dedicated for high network performance. * 'hw:tx_queue_size' * 'hw:rx_queue_size' The current implementation allows the size to be between 256 and 1024, and that number should be a power of two. Alternatives ------------ Operators could achieve this by manually update domain XML of guests. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- An user whom want take advantage of that network improvement for its guests must use flavors that have been configured with `hw:tx_queue_size` and/or `hw:rx_queue_size`. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- Operators must configure flavor properties `hw:tx_queue_size` and/or `hw:rx_queue_size` in order to allow users to boot guests with that feature. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Sahid Orentino Ferdjaoui <sahid> Work Items ---------- * Introduce new flavor options and validate them * Update config xml to handle the new options Dependencies ============ None Testing ======= None Documentation Impact ==================== Operators would have to configure the flavor to take benefic of this feature. References ========== * https://fedoraproject.org/wiki/Features/MQ_virtio_net * https://dpdk.org/doc/guides/nics/virtio.html * https://lists.gnu.org/archive/html/qemu-devel/2016-08/msg00730.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,162,0
openstack%2Fpython-heatclient~master~I631b07a7187a67042f094683da64b663d3c4a40b,openstack/python-heatclient,master,I631b07a7187a67042f094683da64b663d3c4a40b,Updated from global requirements,MERGED,2018-03-10 13:46:53.000000000,2018-03-23 15:12:32.000000000,2018-03-23 15:12:32.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/d12d8becd4ec92faede0445f636f4fe72f12b6c8', 'message': 'Updated from global requirements\n\nChange-Id: I631b07a7187a67042f094683da64b663d3c4a40b\n'}, {'number': 2, 'created': '2018-03-15 07:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/a13fabb597ed6e6bf21e10d33217cdc1f1360380', 'message': 'Updated from global requirements\n\nChange-Id: I631b07a7187a67042f094683da64b663d3c4a40b\n'}, {'number': 3, 'created': '2018-03-23 01:46:01.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/79242e2e4f7bf86cfeb1f3318147da6525f6a7e8', 'message': 'Updated from global requirements\n\nChange-Id: I631b07a7187a67042f094683da64b663d3c4a40b\n'}]",0,551623,79242e2e4f7bf86cfeb1f3318147da6525f6a7e8,11,2,3,11131,,,0,"Updated from global requirements

Change-Id: I631b07a7187a67042f094683da64b663d3c4a40b
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/23/551623/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d12d8becd4ec92faede0445f636f4fe72f12b6c8,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fmonasca-agent~stable%2Fpike~I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90,openstack/monasca-agent,stable/pike,I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90,Update supervisor version lower bound,MERGED,2018-03-19 21:13:34.000000000,2018-03-23 15:08:46.000000000,2018-03-23 15:08:46.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 24580}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-03-19 21:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/daff9c3a9a58a2ccd0ed3f8dfca8b1f562a031ad', 'message': 'Update supervisor version lower bound\n\nSupervisor has XML-RPC security vulenalbility. Upgrade to 3.3.3.\nRefer to https://nvd.nist.gov/vuln/detail/CVE-2017-11610.\n\nStory: 2001648\nTask: 6667\n\nChange-Id: I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90\n'}, {'number': 2, 'created': '2018-03-22 15:51:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a9a9574e0beb62031e67b0bbe73c0fa7cd86622e', 'message': 'Update supervisor version lower bound\n\nSupervisor has XML-RPC security vulenalbility. Upgrade to 3.3.3.\nRefer to https://nvd.nist.gov/vuln/detail/CVE-2017-11610.\n\nStory: 2001648\nTask: 6667\n\nChange-Id: I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90\n'}]",0,554360,a9a9574e0beb62031e67b0bbe73c0fa7cd86622e,14,6,2,24580,,,0,"Update supervisor version lower bound

Supervisor has XML-RPC security vulenalbility. Upgrade to 3.3.3.
Refer to https://nvd.nist.gov/vuln/detail/CVE-2017-11610.

Story: 2001648
Task: 6667

Change-Id: I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/60/554360/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,daff9c3a9a58a2ccd0ed3f8dfca8b1f562a031ad,,"supervisor>=3.3.3,<3.4 # BSD-derived",,1,0
openstack%2Fopenstacksdk~master~I6ffff6f006cfb5c9b6663713acc55e2b2e30c28a,openstack/openstacksdk,master,I6ffff6f006cfb5c9b6663713acc55e2b2e30c28a,fix doc title format error,MERGED,2018-03-23 13:42:05.000000000,2018-03-23 15:06:23.000000000,2018-03-23 15:06:22.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:42:05.000000000', 'files': ['doc/source/user/resources/network/v2/agent.rst', 'SHADE-MERGE-TODO.rst', 'doc/source/user/proxies/block_storage.rst', 'doc/source/user/proxies/load_balancer_v2.rst', 'doc/source/user/resources/baremetal/v1/driver.rst', 'doc/source/user/proxies/clustering.rst', 'doc/source/user/resources/clustering/v1/cluster.rst', 'doc/source/user/resources/load_balancer/v2/pool.rst', 'doc/source/user/resources/database/index.rst', 'CONTRIBUTING.rst', 'doc/source/user/resources/baremetal/v1/node.rst', 'doc/source/user/resources/compute/v2/flavor.rst', 'doc/source/user/resources/baremetal/index.rst', 'doc/source/user/resources/baremetal/v1/port_group.rst', 'doc/source/user/config/configuration.rst', 'doc/source/user/guides/clustering.rst', 'doc/source/user/guides/clustering/profile.rst', 'doc/source/user/resources/compute/v2/server.rst', 'doc/source/user/guides/baremetal.rst', 'doc/source/user/resources/baremetal/v1/chassis.rst', 'doc/source/user/resources/key_manager/v1/container.rst', 'doc/source/user/guides/clustering/event.rst', 'doc/source/user/resources/load_balancer/v2/l7_rule.rst', 'doc/source/user/service_filter.rst', 'doc/source/user/resources/baremetal/v1/port.rst', 'doc/source/user/config/index.rst', 'doc/source/user/proxies/baremetal.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5d3d9de9ce371edd9e82b54d8f37af90e0121e4b', 'message': 'fix doc title format error\n\nThis patch fixes the file title format inconsistent.\n\nChange-Id: I6ffff6f006cfb5c9b6663713acc55e2b2e30c28a\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",0,555778,5d3d9de9ce371edd9e82b54d8f37af90e0121e4b,6,2,1,23517,,,0,"fix doc title format error

This patch fixes the file title format inconsistent.

Change-Id: I6ffff6f006cfb5c9b6663713acc55e2b2e30c28a
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/555778/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/resources/network/v2/agent.rst', 'SHADE-MERGE-TODO.rst', 'doc/source/user/proxies/block_storage.rst', 'doc/source/user/proxies/load_balancer_v2.rst', 'doc/source/user/resources/baremetal/v1/driver.rst', 'doc/source/user/proxies/clustering.rst', 'doc/source/user/resources/clustering/v1/cluster.rst', 'doc/source/user/resources/load_balancer/v2/pool.rst', 'doc/source/user/resources/database/index.rst', 'CONTRIBUTING.rst', 'doc/source/user/resources/baremetal/v1/node.rst', 'doc/source/user/resources/compute/v2/flavor.rst', 'doc/source/user/resources/baremetal/index.rst', 'doc/source/user/resources/baremetal/v1/port_group.rst', 'doc/source/user/config/configuration.rst', 'doc/source/user/guides/clustering.rst', 'doc/source/user/guides/clustering/profile.rst', 'doc/source/user/resources/compute/v2/server.rst', 'doc/source/user/guides/baremetal.rst', 'doc/source/user/resources/baremetal/v1/chassis.rst', 'doc/source/user/resources/key_manager/v1/container.rst', 'doc/source/user/guides/clustering/event.rst', 'doc/source/user/resources/load_balancer/v2/l7_rule.rst', 'doc/source/user/service_filter.rst', 'doc/source/user/resources/baremetal/v1/port.rst', 'doc/source/user/config/index.rst', 'doc/source/user/proxies/baremetal.rst']",27,5d3d9de9ce371edd9e82b54d8f37af90e0121e4b,,=============-------------------,==============--------------------,34,34
openstack%2Frpm-packaging~master~I0476252cf59f6e0fb1a0564ab4f624b65a1f50cc,openstack/rpm-packaging,master,I0476252cf59f6e0fb1a0564ab4f624b65a1f50cc,Update os-vif to 1.10.0,MERGED,2018-03-21 15:48:48.000000000,2018-03-23 14:56:47.000000000,2018-03-23 14:56:47.000000000,"[{'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7a5c7a3bffb0c59e4e0e934aa8d6d9735774c7b8', 'message': 'Update os-vif to 1.10.0\n\nChange-Id: I0476252cf59f6e0fb1a0564ab4f624b65a1f50cc\n'}, {'number': 2, 'created': '2018-03-22 04:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a4260fd71bc88a9ed09aeb803112fe2305beb2bc', 'message': 'Update os-vif to 1.10.0\n\nDepends-on: If590fea833b4bebf2d5da7382902e875cb8f69d4\nChange-Id: I0476252cf59f6e0fb1a0564ab4f624b65a1f50cc\n'}, {'number': 3, 'created': '2018-03-23 10:07:30.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8b84a1032dbec9ef4d73430e2594b35cd98b3503', 'message': 'Update os-vif to 1.10.0\n\nDepends-on: If590fea833b4bebf2d5da7382902e875cb8f69d4\nChange-Id: I0476252cf59f6e0fb1a0564ab4f624b65a1f50cc\n'}]",0,554957,8b84a1032dbec9ef4d73430e2594b35cd98b3503,20,6,3,17130,,,0,"Update os-vif to 1.10.0

Depends-on: If590fea833b4bebf2d5da7382902e875cb8f69d4
Change-Id: I0476252cf59f6e0fb1a0564ab4f624b65a1f50cc
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/57/554957/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-vif/os-vif.spec.j2'],1,7a5c7a3bffb0c59e4e0e934aa8d6d9735774c7b8,os-vif,{% set upstream_version = upstream_version('1.10.0') %},{% set upstream_version = upstream_version('1.9.0') %},1,1
openstack%2Fproject-config~master~I23171144d0d0ff6fbc4ca5435d60a019aeaf2bcc,openstack/project-config,master,I23171144d0d0ff6fbc4ca5435d60a019aeaf2bcc,Drop collectd-ceilometer-plugin for rename,ABANDONED,2017-10-19 22:54:18.000000000,2018-03-23 14:54:17.000000000,,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-19 22:54:18.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7c47f64b89740b9e6b77dc6d054a718acd58fc16', 'message': 'Drop collectd-ceilometer-plugin for rename\n\nDrop this project in preparation for rename to\ncollectd-openstack-plugins\n\nChange-Id: I23171144d0d0ff6fbc4ca5435d60a019aeaf2bcc\n'}]",0,513554,7c47f64b89740b9e6b77dc6d054a718acd58fc16,7,4,1,7118,,,0,"Drop collectd-ceilometer-plugin for rename

Drop this project in preparation for rename to
collectd-openstack-plugins

Change-Id: I23171144d0d0ff6fbc4ca5435d60a019aeaf2bcc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/513554/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul/main.yaml']",2,7c47f64b89740b9e6b77dc6d054a718acd58fc16,project-rename,, - openstack/collectd-ceilometer-plugin,0,7
openstack%2Fproject-config~master~If630dca09b57f8ef842f2c01459e00bbf2d5c5dc,openstack/project-config,master,If630dca09b57f8ef842f2c01459e00bbf2d5c5dc,Add limestone to nodepool builder and launcher configuration,MERGED,2018-03-22 22:00:41.000000000,2018-03-23 14:52:42.000000000,2018-03-23 14:52:42.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 22:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b4d97df352e2140a091588dbf43946ac763297c', 'message': 'Add limestone to nodepool builder and launcher configuration\n\nThis makes limestone available for uploading images to and for testing.\nmax-server will be bumped once tests have been conclusive.\n\nChange-Id: If630dca09b57f8ef842f2c01459e00bbf2d5c5dc\nDepends-On: https://review.openstack.org/#/c/555470/\n'}, {'number': 2, 'created': '2018-03-23 13:25:17.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/db2fbcd009c0c4d94005803d33d8ee50400950ee', 'message': 'Add limestone to nodepool builder and launcher configuration\n\nThis makes limestone available for uploading images to and for testing.\nmax-server will be bumped once tests have been conclusive.\n\nChange-Id: If630dca09b57f8ef842f2c01459e00bbf2d5c5dc\nDepends-On: https://review.openstack.org/#/c/555470/\n'}]",4,555476,db2fbcd009c0c4d94005803d33d8ee50400950ee,12,4,2,9061,,,0,"Add limestone to nodepool builder and launcher configuration

This makes limestone available for uploading images to and for testing.
max-server will be bumped once tests have been conclusive.

Change-Id: If630dca09b57f8ef842f2c01459e00bbf2d5c5dc
Depends-On: https://review.openstack.org/#/c/555470/
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/555476/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nl02.openstack.org.yaml']",2,1b4d97df352e2140a091588dbf43946ac763297c,add-limestone, - name: limestone-regionone region-name: 'regionone' cloud: limestone boot-timeout: 120 launch-timeout: 300 rate: 0.01 diskimages: *provider_diskimages pools: - name: main max-servers: 0 labels: - name: centos-7 min-ram: 8000 flavor-name: 'nodepool.0' diskimage: centos-7 key-name: infra-root-keys - name: debian-jessie min-ram: 8000 flavor-name: 'nodepool.0' diskimage: debian-jessie key-name: infra-root-keys - name: fedora-26 min-ram: 8000 flavor-name: 'nodepool.0' diskimage: fedora-26 key-name: infra-root-keys - name: fedora-27 min-ram: 8000 flavor-name: 'nodepool.0' diskimage: fedora-27 key-name: infra-root-keys - name: opensuse-423 min-ram: 8000 flavor-name: 'nodepool.0' diskimage: opensuse-423 key-name: infra-root-keys - name: opensuse-tumbleweed min-ram: 8000 flavor-name: 'nodepool.0' diskimage: opensuse-tumbleweed key-name: infra-root-keys - name: ubuntu-bionic min-ram: 8000 flavor-name: 'nodepool.0' diskimage: ubuntu-bionic key-name: infra-root-keys - name: ubuntu-trusty min-ram: 8000 flavor-name: 'nodepool.0' diskimage: ubuntu-trusty key-name: infra-root-keys - name: ubuntu-xenial min-ram: 8000 flavor-name: 'nodepool.0' diskimage: ubuntu-xenial key-name: infra-root-keys ,,63,0
openstack%2Fdiskimage-builder~master~I07173cc11a98a946e3ee1418288136aa1f791f85,openstack/diskimage-builder,master,I07173cc11a98a946e3ee1418288136aa1f791f85,Remove tripleo jobs,MERGED,2018-03-21 20:19:39.000000000,2018-03-23 14:37:20.000000000,2018-03-22 00:31:19.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 9592}, {'_account_id': 10118}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 20:19:39.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca8a89b1fbf4a8524be336e7450808ed9ac52942', 'message': 'Remove tripleo jobs\n\nDue to the issue in I72cab0131ccffb1989d6c1324d0c9b92166782da the\ntripleo job is failing.  Unfortunately due to known issues there, the\ntripleo gate is also blocked.  Remove this job for now so we can get\ndib moving.\n\nChange-Id: I07173cc11a98a946e3ee1418288136aa1f791f85\n'}]",0,555037,ca8a89b1fbf4a8524be336e7450808ed9ac52942,16,7,1,7118,,,0,"Remove tripleo jobs

Due to the issue in I72cab0131ccffb1989d6c1324d0c9b92166782da the
tripleo job is failing.  Unfortunately due to known issues there, the
tripleo gate is also blocked.  Remove this job for now so we can get
dib moving.

Change-Id: I07173cc11a98a946e3ee1418288136aa1f791f85
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/555037/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,ca8a89b1fbf4a8524be336e7450808ed9ac52942,tripleo-jobs,, templates: - tripleo-buildimage-jobs - tripleo-buildimage-overcloud-full-centos-7,0,3
openstack%2Fopenstack-helm~master~I582cf19fd9bccd9252586e8b7cc9d30d59b9d160,openstack/openstack-helm,master,I582cf19fd9bccd9252586e8b7cc9d30d59b9d160,Fix backendPort for horizon,ABANDONED,2018-03-23 05:47:31.000000000,2018-03-23 14:29:39.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 05:47:31.000000000', 'files': ['horizon/templates/ingress-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5a32cf26869b19b8ebe57b6573dabc0b99976e20', 'message': 'Fix backendPort for horizon\n\nChange-Id: I582cf19fd9bccd9252586e8b7cc9d30d59b9d160\n'}]",0,555643,5a32cf26869b19b8ebe57b6573dabc0b99976e20,4,2,1,27950,,,0,"Fix backendPort for horizon

Change-Id: I582cf19fd9bccd9252586e8b7cc9d30d59b9d160
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/555643/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/ingress-api.yaml'],1,5a32cf26869b19b8ebe57b6573dabc0b99976e20,,"{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""dashboard"" ""backendServiceType"" ""dashboard"" ""backendPort"" ""http"" -}}","{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""dashboard"" ""backendServiceType"" ""dashboard"" ""backendPort"" ""web"" -}}",1,1
openstack%2Fnetworking-powervm~stable%2Fqueens~I864422fbed115871ed3b9de8e1702be9f6a255ae,openstack/networking-powervm,stable/queens,I864422fbed115871ed3b9de8e1702be9f6a255ae,tox needs to pull from stable/queens,MERGED,2018-03-21 21:57:30.000000000,2018-03-23 14:28:45.000000000,2018-03-23 14:28:44.000000000,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/1ef794ba746a5b8cb5fae330c30e178da636c6ff', 'message': ""tox needs to pull from stable/queens\n\nUpdates the tox.ini to pull from neutron's stable/queens branch\ninstead of master. This should have been done when we first\nbranched queens here, but was missed.\n\nChange-Id: I864422fbed115871ed3b9de8e1702be9f6a255ae\n""}, {'number': 2, 'created': '2018-03-22 16:35:12.000000000', 'files': ['networking_powervm/tests/unit/plugins/ibm/powervm/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/924a5d0beccb094348e7c7aeb8900ad2f2a700eb', 'message': ""tox needs to pull from stable/queens\n\nUpdates the tox.ini to pull from neutron's stable/queens branch\ninstead of master. This should have been done when we first\nbranched queens here, but was missed.\n\nAlso fixes a UT to use neutron/neutron/tests/etc/policy.json instead\nof neutron/etc/policy.json. Local UT passes without this change, but\nzuul does not pass. It is not clear why this is required for queens,\nbut we did have to do this for master recently so at least it is\nconsistent with that, and it does make sense for a UT to use the\ntest-specific policy.json.\n\nChange-Id: I864422fbed115871ed3b9de8e1702be9f6a255ae\n""}]",0,555074,924a5d0beccb094348e7c7aeb8900ad2f2a700eb,17,5,2,10608,,,0,"tox needs to pull from stable/queens

Updates the tox.ini to pull from neutron's stable/queens branch
instead of master. This should have been done when we first
branched queens here, but was missed.

Also fixes a UT to use neutron/neutron/tests/etc/policy.json instead
of neutron/etc/policy.json. Local UT passes without this change, but
zuul does not pass. It is not clear why this is required for queens,
but we did have to do this for master recently so at least it is
consistent with that, and it does make sense for a UT to use the
test-specific policy.json.

Change-Id: I864422fbed115871ed3b9de8e1702be9f6a255ae
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/74/555074/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1ef794ba746a5b8cb5fae330c30e178da636c6ff,pull_queens, -egit+https://github.com/openstack/neutron@stable/queens#egg=neutron, -egit+https://github.com/openstack/neutron#egg=neutron,1,1
openstack%2Fnova-powervm~stable%2Fqueens~Idd9391570431c1a4b42894751f4e7b53f0c2595a,openstack/nova-powervm,stable/queens,Idd9391570431c1a4b42894751f4e7b53f0c2595a,Pass user context to virt driver when detaching volume,MERGED,2018-03-21 20:37:55.000000000,2018-03-23 14:27:53.000000000,2018-03-23 14:27:53.000000000,"[{'_account_id': 10608}, {'_account_id': 13557}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 20:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/fb42bccafab2662c60d7293adf670c99d08c9598', 'message': 'Pass user context to virt driver when detaching volume\n\nA recent nova commit [1] changed the contract for the virt driver\ndetach_volume method, adding context. This updates the out-of-tree\ndriver accordingly.\n\n[1] d2941bfd165055348dd584b630d4e631ef05e328\n\nChange-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a\n(cherry picked from commit 4387c0cf6a9521ae41081e366e7c592da573d93b)\n'}, {'number': 2, 'created': '2018-03-21 22:11:48.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/06b1d95cbe078015e2c810bcc6dbf9a6282962d2', 'message': 'Pass user context to virt driver when detaching volume\n\nA recent nova commit [1] changed the contract for the virt driver\ndetach_volume method, adding context. This updates the out-of-tree\ndriver accordingly.\n\n[1] d2941bfd165055348dd584b630d4e631ef05e328\n\nChange-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a\n(cherry picked from commit 4387c0cf6a9521ae41081e366e7c592da573d93b)\n'}]",0,555042,06b1d95cbe078015e2c810bcc6dbf9a6282962d2,13,6,2,10608,,,0,"Pass user context to virt driver when detaching volume

A recent nova commit [1] changed the contract for the virt driver
detach_volume method, adding context. This updates the out-of-tree
driver accordingly.

[1] d2941bfd165055348dd584b630d4e631ef05e328

Change-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a
(cherry picked from commit 4387c0cf6a9521ae41081e366e7c592da573d93b)
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/42/555042/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",2,fb42bccafab2662c60d7293adf670c99d08c9598,bug/1752115," self.drv.detach_volume('context', mock_bdm.get('connection_info'), self.inst, mock.Mock()) self.drv.detach_volume('context', mock_bdm.get('connection_info'), self.inst, mock.Mock()) self.drv.detach_volume('context', mock_bdm.get('connection_info'), self.inst, mock.Mock())"," self.drv.detach_volume(mock_bdm.get('connection_info'), self.inst, mock.Mock()) self.drv.detach_volume(mock_bdm.get('connection_info'), self.inst, mock.Mock()) self.drv.detach_volume(mock_bdm.get('connection_info'), self.inst, mock.Mock())",7,7
openstack%2Fnova-powervm~master~Idd9391570431c1a4b42894751f4e7b53f0c2595a,openstack/nova-powervm,master,Idd9391570431c1a4b42894751f4e7b53f0c2595a,Pass user context to virt driver when detaching volume,MERGED,2018-03-21 20:20:10.000000000,2018-03-23 14:22:25.000000000,2018-03-23 14:22:25.000000000,"[{'_account_id': 10608}, {'_account_id': 13557}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 20:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/0e2101029a8b01191f334c45077a6b24f9c46f5c', 'message': 'Pass user context to virt driver when detaching volume\n\nA recent nova commit [1] changed the contract for the virt driver\ndetach_volume method, adding context. This updates the out-of-tree\ndriver accordingly.\n\n[1] d2941bfd165055348dd584b630d4e631ef05e328\n\nChange-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a\n'}, {'number': 2, 'created': '2018-03-21 20:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/4387c0cf6a9521ae41081e366e7c592da573d93b', 'message': 'Pass user context to virt driver when detaching volume\n\nA recent nova commit [1] changed the contract for the virt driver\ndetach_volume method, adding context. This updates the out-of-tree\ndriver accordingly.\n\n[1] d2941bfd165055348dd584b630d4e631ef05e328\n\nChange-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a\n'}, {'number': 3, 'created': '2018-03-21 21:45:14.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/4ab1733e8586acd2ccb8259bc1b5d442f67498a5', 'message': 'Pass user context to virt driver when detaching volume\n\nA recent nova commit [1] changed the contract for the virt driver\ndetach_volume method, adding context. This updates the out-of-tree\ndriver accordingly.\n\n[1] d2941bfd165055348dd584b630d4e631ef05e328\n\nChange-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a\n'}]",0,555038,4ab1733e8586acd2ccb8259bc1b5d442f67498a5,17,6,3,10608,,,0,"Pass user context to virt driver when detaching volume

A recent nova commit [1] changed the contract for the virt driver
detach_volume method, adding context. This updates the out-of-tree
driver accordingly.

[1] d2941bfd165055348dd584b630d4e631ef05e328

Change-Id: Idd9391570431c1a4b42894751f4e7b53f0c2595a
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/38/555038/3 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/driver.py'],1,0e2101029a8b01191f334c45077a6b24f9c46f5c,bug/1752115," def detach_volume(self, context, connection_info, instance, mountpoint,"," def detach_volume(self, connection_info, instance, mountpoint,",1,1
openstack%2Fswift~feature%2Fdeep~I59052de136d4841fb60c26edd33654f699ad2dfc,openstack/swift,feature/deep,I59052de136d4841fb60c26edd33654f699ad2dfc,Add _make_shard_ranges helper in test_sharder.py,MERGED,2018-03-23 12:24:38.000000000,2018-03-23 14:21:39.000000000,2018-03-23 14:21:39.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 12:24:38.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c941ec8a8484e51557f03fc030c657c5afbd679c', 'message': 'Add _make_shard_ranges helper in test_sharder.py\n\nChange-Id: I59052de136d4841fb60c26edd33654f699ad2dfc\n'}]",0,555749,c941ec8a8484e51557f03fc030c657c5afbd679c,6,2,1,7847,,,0,"Add _make_shard_ranges helper in test_sharder.py

Change-Id: I59052de136d4841fb60c26edd33654f699ad2dfc
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/555749/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,c941ec8a8484e51557f03fc030c657c5afbd679c,p-sharding-shrinking-race," def _make_shard_ranges(self, bounds, state=None): return [ShardRange('.shards_a/c_%s' % upper, Timestamp.now(), lower, upper, state=state) for lower, upper in bounds] shard_ranges = self._make_shard_ranges(shard_bounds) shard_ranges = self._make_shard_ranges( shard_bounds, state=ShardRange.CREATED) shard_ranges = self._make_shard_ranges( shard_bounds, state=ShardRange.CREATED) initial_shard_ranges = self._make_shard_ranges(shard_bounds) root_shard_ranges = self._make_shard_ranges(shard_bounds) root_shard_ranges = self._make_shard_ranges(shard_bounds) root_shard_ranges = self._make_shard_ranges(shard_bounds) shard_ranges = self._make_shard_ranges((('', 'h'), ('h', ''))) shard_ranges = self._make_shard_ranges((('', 'h'), ('h', ''))) shard_ranges = self._make_shard_ranges((('', 'h'), ('h', '')))"," def ts_internal(self): return next(self.ts_iter).internal shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper) for lower, upper in shard_bounds ] shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper, state=ShardRange.CREATED) for lower, upper in shard_bounds ] shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper, state=ShardRange.CREATED) for lower, upper in shard_bounds ] initial_shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper) for lower, upper in shard_bounds ] root_shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper) for lower, upper in shard_bounds ] root_shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper) for lower, upper in shard_bounds ] root_shard_ranges = [ ShardRange('.sharded_a/%s-%s' % (lower, upper), Timestamp.now(), lower, upper) for lower, upper in shard_bounds ] shard_ranges = [ShardRange('a/c', next(self.ts_iter), l, u) for l, u in (('', 'h'), ('h', ''))] shard_ranges = [ShardRange('.shards_a/c_' + upper, next(self.ts_iter), lower, upper) for lower, upper in (('', 'h'), ('h', ''))] shard_ranges = [ShardRange('.shards_a/c_' + upper, next(self.ts_iter), lower, upper) for lower, upper in (('', 'h'), ('h', ''))]",16,47
openstack%2Fnova~master~I7d3faae0013315d595386ff262cadf8b18f70c68,openstack/nova,master,I7d3faae0013315d595386ff262cadf8b18f70c68,deprecate fping_path config option,MERGED,2017-12-08 06:26:05.000000000,2018-03-23 14:21:26.000000000,2018-03-23 14:21:26.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-08 06:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a27ac0c3e525feafa6b92225c249e2db476b665d', 'message': 'deprecate fping_path config option\n\n/os-fping was deprecated at API version 2.36, ``fping_path`` was\nonly used by this API so it should be able to be deprecated.\n\nChange-Id: I7d3faae0013315d595386ff262cadf8b18f70c68\n'}, {'number': 2, 'created': '2017-12-11 08:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc11f754ceb6a97423b996a0a6225cd7992afd28', 'message': 'deprecate fping_path config option\n\n/os-fping was deprecated at API version 2.36, ``fping_path`` was\nonly used by this API so it should be able to be deprecated.\n\nChange-Id: I7d3faae0013315d595386ff262cadf8b18f70c68\n'}, {'number': 3, 'created': '2017-12-11 09:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/521f8a3d8dbf3f320b8e4f7c0e64324453309ff0', 'message': 'deprecate fping_path config option\n\n/os-fping was deprecated at API version 2.36, ``fping_path`` was\nonly used by this API so it should be able to be deprecated.\n\nChange-Id: I7d3faae0013315d595386ff262cadf8b18f70c68\n'}, {'number': 4, 'created': '2017-12-12 05:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e99a8ca5178b57da9151319f165d225e6c369e73', 'message': 'deprecate fping_path config option\n\n/os-fping was deprecated at API version 2.36, ``fping_path`` was\nonly used by this API so it should be able to be deprecated.\n\nChange-Id: I7d3faae0013315d595386ff262cadf8b18f70c68\n'}, {'number': 5, 'created': '2018-02-05 09:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d60f5406e73bc33031cc09fe8975d063481b91d8', 'message': 'deprecate fping_path config option\n\n/os-fping was deprecated at API version 2.36, ``fping_path`` was\nonly used by this API so it should be able to be deprecated.\n\nChange-Id: I7d3faae0013315d595386ff262cadf8b18f70c68\n'}, {'number': 6, 'created': '2018-03-21 07:07:45.000000000', 'files': ['nova/conf/api.py', 'releasenotes/notes/deprecate_fping_path-87d192cf0e6a5930.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/497e0321f1ab4412a1940e2d885768fec5c23b46', 'message': 'deprecate fping_path config option\n\n/os-fping was deprecated at API version 2.36, ``fping_path`` was\nonly used by this API so it should be able to be deprecated.\n\nChange-Id: I7d3faae0013315d595386ff262cadf8b18f70c68\n'}]",18,526602,497e0321f1ab4412a1940e2d885768fec5c23b46,98,21,6,6062,,,0,"deprecate fping_path config option

/os-fping was deprecated at API version 2.36, ``fping_path`` was
only used by this API so it should be able to be deprecated.

Change-Id: I7d3faae0013315d595386ff262cadf8b18f70c68
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/526602/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/api.py', 'releasenotes/notes/deprecate_fping_path-87d192cf0e6a5930.yaml']",2,a27ac0c3e525feafa6b92225c249e2db476b665d,deprecate_fping,"--- upgrade: - | /os-fping was deprecated at API version 2.36, ``fping_path`` was only used by this API so it is also deprecated since 17.0.0 ",,11,0
openstack%2Fnova~master~I833f259972dd2e0e6bb3bbaa0e5a78a93f59b076,openstack/nova,master,I833f259972dd2e0e6bb3bbaa0e5a78a93f59b076,remove _cleanup_running_deleted_instances repeat detach volume,MERGED,2018-03-19 03:01:31.000000000,2018-03-23 14:21:15.000000000,2018-03-23 14:21:15.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12382}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-19 03:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a31f3b03f08036da7a3382ac68f133d2a33aae2e', 'message': 'remove _cleanup_running_deleted_instances repeat detach volume\n\nthe volumes already detached during the above _shutdown_instance() call.\nSo detach is not requested from _cleanup_volumes() in this case. So the\ncall change to self._cleanup_volumes(context, instance, bdms, detach=False).\n\nChange-Id: I833f259972dd2e0e6bb3bbaa0e5a78a93f59b076\nCloses-Bug: #1756507\n'}, {'number': 2, 'created': '2018-03-19 08:44:52.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a241d0fb374c8747e3712313417a4fa284a4e43', 'message': 'remove _cleanup_running_deleted_instances repeat detach volume\n\nthe volumes already detached during the above _shutdown_instance() call.\nSo detach is not requested from _cleanup_volumes() in this case. So the\ncall change to self._cleanup_volumes(context, instance, bdms, detach=False).\n\nChange-Id: I833f259972dd2e0e6bb3bbaa0e5a78a93f59b076\nCloses-Bug: #1756507\n'}]",3,554090,1a241d0fb374c8747e3712313417a4fa284a4e43,33,19,2,12382,,,0,"remove _cleanup_running_deleted_instances repeat detach volume

the volumes already detached during the above _shutdown_instance() call.
So detach is not requested from _cleanup_volumes() in this case. So the
call change to self._cleanup_volumes(context, instance, bdms, detach=False).

Change-Id: I833f259972dd2e0e6bb3bbaa0e5a78a93f59b076
Closes-Bug: #1756507
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/554090/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,a31f3b03f08036da7a3382ac68f133d2a33aae2e,bug/1756507," self._cleanup_volumes(context, instance, bdms, detach=False)"," self._cleanup_volumes(context, instance, bdms)",2,1
openstack%2Fec2-api~master~I092758f7553860040990790a31651cd35affbc67,openstack/ec2-api,master,I092758f7553860040990790a31651cd35affbc67,add lower-constraints job,MERGED,2018-03-22 20:22:59.000000000,2018-03-23 14:18:03.000000000,2018-03-23 14:18:03.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 20:22:59.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f3adc74c9067a116063a804ca2d6898ee8e89469', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I092758f7553860040990790a31651cd35affbc67\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555441,f3adc74c9067a116063a804ca2d6898ee8e89469,12,2,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: I092758f7553860040990790a31651cd35affbc67
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/41/555441/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,f3adc74c9067a116063a804ca2d6898ee8e89469,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,133,0
openstack%2Fopenstack-ansible~master~Ibaa01dfc6190f41ea0a3d1ca353296c3e8ec4f7f,openstack/openstack-ansible,master,Ibaa01dfc6190f41ea0a3d1ca353296c3e8ec4f7f,[Docs] Change heading in target hosts,MERGED,2018-03-12 18:38:03.000000000,2018-03-23 14:17:38.000000000,2018-03-23 12:47:00.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-12 18:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de0990afe92bff26ca699a8fdbc1fa446bb51ab7', 'message': '[Docs] Change heading in target hosts\n\nThis brings consistency between target hosts configuration and\ndeploy host configuration, to be easier to read.\n\nChange-Id: Ibaa01dfc6190f41ea0a3d1ca353296c3e8ec4f7f\n'}, {'number': 2, 'created': '2018-03-23 12:23:25.000000000', 'files': ['deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/targethosts.rst', 'deploy-guide/source/targethosts-networkconfig.rst', 'deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c49b5efa663703417fdabff9742caf48ec94b0d9', 'message': '[Docs] Change heading in target hosts\n\nThis brings consistency between target hosts configuration and\ndeploy host configuration, to be easier to read.\n\nChange-Id: Ibaa01dfc6190f41ea0a3d1ca353296c3e8ec4f7f\n'}]",0,552113,c49b5efa663703417fdabff9742caf48ec94b0d9,13,5,2,17068,,,0,"[Docs] Change heading in target hosts

This brings consistency between target hosts configuration and
deploy host configuration, to be easier to read.

Change-Id: Ibaa01dfc6190f41ea0a3d1ca353296c3e8ec4f7f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/552113/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/targethosts.rst', 'deploy-guide/source/targethosts-networkconfig.rst', 'deploy-guide/source/targethosts-prepare.rst']",4,de0990afe92bff26ca699a8fdbc1fa446bb51ab7,bp/docs-improvements,"Configuring the operating system ================================Configure Ubuntu ~~~~~~~~~~~~~~~~Configure CentOS ~~~~~~~~~~~~~~~~Configure openSUSE ~~~~~~~~~~~~~~~~~~Configure SSH keys ==================Configuring the storage =======================operating system. The Block Storage (cinder) service, and LXC containers that optionally run the OpenStack infrastructure, can optionally use LVM for their data storage. systems if you want to use LXC with LVM. If the ``lxc`` volume group does not exist, containers are","============================================ Configuring the operating system and storage ============================================Configure the operating system (Ubuntu) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Configure the operating system (CentOS) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Configure the operating system (openSUSE) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Deploying Secure Shell (SSH) keys ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~.. _configuring-storage: Configure storage ~~~~~~~~~~~~~~~~~operating system. The Block Storage (cinder) service, and the LXC containers that run the OpenStack infrastructure, can optionally use LVM for their data storage. systems. If the ``lxc`` volume group does not exist, containers are",58,66
openstack%2Fpuppet-cloudkitty~master~Ibb3b13ab4a2342ee551343247e79f084678d3887,openstack/puppet-cloudkitty,master,Ibb3b13ab4a2342ee551343247e79f084678d3887,Error when using ceilometer collector,MERGED,2018-03-22 06:05:09.000000000,2018-03-23 14:17:36.000000000,2018-03-23 14:17:36.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 06:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/8e16893cdb41822a57449e60cad05760f6f202f8', 'message': 'Error when using ceilometer collector\n\ncloudkitty-processor service error[1] when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[2].\n\n[1]http://logs.openstack.org/21/555121/1/check/puppet-openstack-beaker-centos-7/404b6ea/logs/cloudkitty/processor.txt.gz#_2018-03-22_04_39_53_481\n[2]https://review.openstack.org/#/c/548630/\n\nChange-Id: Ibb3b13ab4a2342ee551343247e79f084678d3887\nCloses-Bug: #1757945\n'}, {'number': 2, 'created': '2018-03-22 06:41:09.000000000', 'files': ['releasenotes/notes/change_default_value_collector-19a896a02ad1f0c1.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/5851cb17fa674afd2b58d7ff54c86b004cc07424', 'message': 'Error when using ceilometer collector\n\ncloudkitty-processor service error[1] when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[2].\n\n[1]http://logs.openstack.org/21/555121/1/check/puppet-openstack-beaker-centos-7/404b6ea/logs/cloudkitty/processor.txt.gz#_2018-03-22_04_39_53_481\n[2]https://review.openstack.org/#/c/548630/\n\nChange-Id: Ibb3b13ab4a2342ee551343247e79f084678d3887\nCloses-Bug: #1757945\n'}]",0,555158,5851cb17fa674afd2b58d7ff54c86b004cc07424,9,4,2,9414,,,0,"Error when using ceilometer collector

cloudkitty-processor service error[1] when using ceilometer collector.
Because the ceilometer collector has been removed in cloudkitty repo[2].

[1]http://logs.openstack.org/21/555121/1/check/puppet-openstack-beaker-centos-7/404b6ea/logs/cloudkitty/processor.txt.gz#_2018-03-22_04_39_53_481
[2]https://review.openstack.org/#/c/548630/

Change-Id: Ibb3b13ab4a2342ee551343247e79f084678d3887
Closes-Bug: #1757945
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/58/555158/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/change_default_value_collector-19a896a02ad1f0c1.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp']",3,8e16893cdb41822a57449e60cad05760f6f202f8,bug/1757945,"# Defaults to 'gnocchi'. $collector = 'gnocchi', if $collector != 'gnocchi' { warning('Valid value of the collector option is gnocchi') $collector = 'gnocchi' 'collect/collector': value => $collector; 'gnocchi_collector/auth_type': value => $auth_type; 'gnocchi_collector/auth_section': value => $auth_section } ","# Defaults to 'ceilometer'. $collector = 'ceilometer', if $collector == 'ceilometer' { cloudkitty_config{ 'ceilometer_collector/auth_type': value => $auth_type; 'ceilometer_collector/auth_section': value => $auth_section } cloudkitty_config { 'gnocchi_collector/auth_type': ensure => absent; 'gnocchi_collector/auth_section': ensure => absent; } $collector_real = $collector } else{ warning('Valid values of the collector option are ceilometer and gnocchi') cloudkitty_config{ 'gnocchi_collector/auth_type': value => $auth_type; 'gnocchi_collector/auth_section': value => $auth_section; } cloudkitty_config { 'ceilometer_collector/auth_type': ensure => absent; 'ceilometer_collector/auth_section': ensure => absent; } $collector_real = 'gnocchi' 'collect/collector': value => $collector_real; }",18,32
openstack%2Fnova~master~Idb3196b4f0ece8990267b02fd24f7a3b747ef22a,openstack/nova,master,Idb3196b4f0ece8990267b02fd24f7a3b747ef22a,Add the version description for InstanceActionEventList,MERGED,2018-03-23 09:24:59.000000000,2018-03-23 14:16:31.000000000,2018-03-23 14:16:31.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-23 09:24:59.000000000', 'files': ['nova/objects/instance_action.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/517bace5a9b9ea8ac4ea97c69eaa2c937a46fa29', 'message': 'Add the version description for InstanceActionEventList\n\nThis change is from [1], but now, this version up is not\nnecessary to merge, so I submit the description in here.\n\nI know this is a trivial change, but I just want to explain\nthat I hope somebody want to do version up for\nInstanceActionEventList, and will no need to look the\ncommit history[2] again.\n\n[1] https://review.openstack.org/#/c/555146/2/nova/objects/instance_action.py@227\n[2] v1.1 version change If9189c57290dcb19a0efd94bcfa02f9c4eef53d1\n[3] v1.1 code change Ibedddd606b9d25ffbbb2b1b5358cf0aa4741083f\n\nChange-Id: Idb3196b4f0ece8990267b02fd24f7a3b747ef22a\n'}]",0,555711,517bace5a9b9ea8ac4ea97c69eaa2c937a46fa29,16,12,1,20722,,,0,"Add the version description for InstanceActionEventList

This change is from [1], but now, this version up is not
necessary to merge, so I submit the description in here.

I know this is a trivial change, but I just want to explain
that I hope somebody want to do version up for
InstanceActionEventList, and will no need to look the
commit history[2] again.

[1] https://review.openstack.org/#/c/555146/2/nova/objects/instance_action.py@227
[2] v1.1 version change If9189c57290dcb19a0efd94bcfa02f9c4eef53d1
[3] v1.1 code change Ibedddd606b9d25ffbbb2b1b5358cf0aa4741083f

Change-Id: Idb3196b4f0ece8990267b02fd24f7a3b747ef22a
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/555711/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance_action.py'],1,517bace5a9b9ea8ac4ea97c69eaa2c937a46fa29,trivial_fix, # Version 1.0: Initial version # Version 1.1: InstanceActionEvent <= 1.1,,2,0
openstack%2Fproject-config~master~I7c6cecdbb7ed92b9bda261ffd080d4b15dc735e4,openstack/project-config,master,I7c6cecdbb7ed92b9bda261ffd080d4b15dc735e4,Drop python-openstacksdk for rename,ABANDONED,2018-03-23 13:21:47.000000000,2018-03-23 14:13:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-23 13:21:47.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/42ff0a26ccd1c5ced484f0c743282b4c83e51a19', 'message': 'Drop python-openstacksdk for rename\n\nIn order to rename the project, remove it from the zuul config first.\n\nChange-Id: I7c6cecdbb7ed92b9bda261ffd080d4b15dc735e4\n'}]",0,555767,42ff0a26ccd1c5ced484f0c743282b4c83e51a19,3,1,1,2,,,0,"Drop python-openstacksdk for rename

In order to rename the project, remove it from the zuul config first.

Change-Id: I7c6cecdbb7ed92b9bda261ffd080d4b15dc735e4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/555767/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul/main.yaml']",2,42ff0a26ccd1c5ced484f0c743282b4c83e51a19,project-rename,, - openstack/python-openstacksdk,0,15
openstack%2Fnova~master~I905d621a1787b54a8946f7821bd02101dce14bc2,openstack/nova,master,I905d621a1787b54a8946f7821bd02101dce14bc2,Remove translate and a TODO,MERGED,2018-03-21 08:07:25.000000000,2018-03-23 14:11:00.000000000,2018-03-23 14:11:00.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-21 08:07:25.000000000', 'files': ['nova/api/openstack/placement/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ab927bb4a5990aa3f3b42486b3c18b15d4469ae', 'message': 'Remove translate and a TODO\n\nThe TODO indicates may duplicate function but\nall functions are actually used so no more to be\nmoved out, also, the log had a translate which\nis not needed at all.\n\npartial implement blueprint placement-extract\n\nChange-Id: I905d621a1787b54a8946f7821bd02101dce14bc2\n'}]",0,554827,0ab927bb4a5990aa3f3b42486b3c18b15d4469ae,21,17,1,6062,,,0,"Remove translate and a TODO

The TODO indicates may duplicate function but
all functions are actually used so no more to be
moved out, also, the log had a translate which
is not needed at all.

partial implement blueprint placement-extract

Change-Id: I905d621a1787b54a8946f7821bd02101dce14bc2
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/554827/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/exception.py'],1,0ab927bb4a5990aa3f3b42486b3c18b15d4469ae,bp/placement-extract,from nova.i18n import _ LOG.exception('Exception in string format operation'),"# TODO(cdent): Because of the duplication it is likely that some of the # functionality provided by _BaseException is redundant and can be factored # out.from nova.i18n import _, _LE LOG.exception(_LE('Exception in string format operation'))",2,5
openstack%2Fpython-openstackclient~master~If77609d06e7d80c8da5111b8a30036b58fbfa187,openstack/python-openstackclient,master,If77609d06e7d80c8da5111b8a30036b58fbfa187,Remove duplicated network attributes,MERGED,2018-02-24 03:55:49.000000000,2018-03-23 14:10:42.000000000,2018-03-23 14:10:42.000000000,"[{'_account_id': 1131}, {'_account_id': 6482}, {'_account_id': 12860}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-02-24 03:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/af7ca8180de32235f242dd9729455ee32ed5ada4', 'message': 'Remove duplicated network attributes\n\nChange-Id: If77609d06e7d80c8da5111b8a30036b58fbfa187\n'}, {'number': 2, 'created': '2018-03-12 16:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9a44426165e673997bf10cc727c3e318b8fe899e', 'message': 'Remove duplicated network attributes\n\nChange-Id: If77609d06e7d80c8da5111b8a30036b58fbfa187\n'}, {'number': 3, 'created': '2018-03-14 01:33:30.000000000', 'files': ['openstackclient/tests/unit/network/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f6688986fc8e32976a84ce4a6e86c08e58a1718a', 'message': 'Remove duplicated network attributes\n\nChange-Id: If77609d06e7d80c8da5111b8a30036b58fbfa187\n'}]",2,547703,f6688986fc8e32976a84ce4a6e86c08e58a1718a,22,6,3,12860,,,0,"Remove duplicated network attributes

Change-Id: If77609d06e7d80c8da5111b8a30036b58fbfa187
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/547703/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/network/v2/fakes.py'],1,af7ca8180de32235f242dd9729455ee32ed5ada4,duplicated_attrs,," 'tags': ['test'],",0,1
openstack%2Fnova-specs~master~I1f6f1505683716c48a75f8a89ca96c4436fdef92,openstack/nova-specs,master,I1f6f1505683716c48a75f8a89ca96c4436fdef92,Add policy-remove-scope-checks spec,ABANDONED,2017-02-13 12:41:31.000000000,2018-03-23 14:06:26.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2218}, {'_account_id': 2750}, {'_account_id': 5046}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7725}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 17860}, {'_account_id': 18337}, {'_account_id': 19590}, {'_account_id': 20217}]","[{'number': 1, 'created': '2017-02-13 12:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e59bc7fa954ea72e253d8bc08301adcc08a7db7c', 'message': ""Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets be more\nexplicit about checking in the API if user's context allows them to\naccess a specific project.\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n""}, {'number': 2, 'created': '2017-02-13 13:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/89d0629df9ddf49fa8833cf172e45ca919b22e23', 'message': ""Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets be more\nexplicit about checking in the API if user's context allows them to\naccess a specific project.\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n""}, {'number': 3, 'created': '2017-02-13 13:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/654629c8df144c829dbf90630fbcaab682e014fb', 'message': ""Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets be more\nexplicit about checking in the API if user's context allows them to\naccess a specific project.\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n""}, {'number': 4, 'created': '2017-02-13 18:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/81f4bf52db32bbfbd038b8bffd5551f28ba13acc', 'message': ""Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets be more\nexplicit about checking in the API if user's context allows them to\naccess a specific project.\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n""}, {'number': 5, 'created': '2017-02-13 18:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/01a32ea08bb9e813023d94e3e1d870a4c84b522f', 'message': 'Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 6, 'created': '2017-02-13 18:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7b400bb87f0313cd2b6c382f0f3be6d27779be6', 'message': 'Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 7, 'created': '2017-02-14 12:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/853db852560b92bca00b211dc1c7e74189b45562', 'message': 'Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-project-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 8, 'created': '2017-02-14 12:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c8a1328a082f99233002eaa463a615bfa3e38dda', 'message': 'Add policy-project-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 9, 'created': '2017-02-14 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8858662e273e1293e6f7e047cfedcc3288c75fd3', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 10, 'created': '2017-02-17 18:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/91b7969d8cbffd15b3034b9e64dd57382e322df5', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 11, 'created': '2017-02-17 18:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/da6e7e936663f5ba70da1c06ca0c8ae00191e2d6', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 12, 'created': '2017-02-25 03:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2c697d19979ad27491d3849ad025109767782b11', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 13, 'created': '2017-03-08 14:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b988a7a89403c6c0a5196abf098d30ba33a6f2e0', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 14, 'created': '2017-03-16 10:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/856ee4716150eb844ba53b5497f8ec9c7ff3fb3c', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 15, 'created': '2017-03-16 12:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/66a00cf16ce856bd1bda7c54e33afa4055bf7046', 'message': 'Add policy-remove-scope-checks spec\n\nThe current is_admin_or_owner policy is very confusing. Lets remove the\nscope check from the policy file, and deal with the scope separately via\na new policy called context_is_global_scope\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 16, 'created': '2017-03-20 10:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8b2e3c75e8543751e36b3c21685ec4e736ea2057', 'message': 'Add policy-remove-scope-checks spec\n\nHere we separate the concerns of what resources user has access to and\nwhat actions the user is allowed to do.\n\nThe current is_admin_or_owner policy is very confusing, it is much\neasier to understand after this change.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 17, 'created': '2017-03-24 13:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ce85e00f1d417e1bc0d21e50f12d8d612194aafe', 'message': 'WIP: Add policy-remove-scope-checks spec\n\nHere we separate the concerns of what resources user has access to and\nwhat actions the user is allowed to do.\n\nThe current is_admin_or_owner policy is very confusing, it is much\neasier to understand after this change.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 18, 'created': '2017-03-24 19:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c206452844ddff9c01eaa488c30db3d1dedfd43e', 'message': 'WIP: Add policy-remove-scope-checks spec\n\nHere we separate the concerns of what resources user has access to and\nwhat actions the user is allowed to do.\n\nThe current is_admin_or_owner policy is very confusing, it is much\neasier to understand after this change.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 19, 'created': '2017-03-28 12:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fb2f316719669d1f2cc49e0b1412ec72963a2622', 'message': 'Add policy-remove-scope-checks spec\n\nHere we separate the concerns of what resources user has access to and\nwhat actions the user is allowed to do, but adding a new explicit scope\ncheck alongside the existing policy checks.\n\nThe current is_admin_or_owner policy is very confusing, it is much\neasier to understand after this change.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 20, 'created': '2017-03-30 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/70bac1829a42445d8ecef9ae9038e88a970afebe', 'message': 'Add policy-remove-scope-checks spec\n\nHere we separate the concerns of what resources user has access to and\nwhat actions the user is allowed to do, but adding a new explicit scope\ncheck alongside the existing policy checks.\n\nThe current is_admin_or_owner policy is very confusing, it is much\neasier to understand after this change.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}, {'number': 21, 'created': '2017-04-03 09:35:40.000000000', 'files': ['specs/pike/approved/policy-remove-scope-checks.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2ce720bb89fd042e118c62532e2440e1a7369a5a', 'message': 'Add policy-remove-scope-checks spec\n\nHere we separate the concerns of what resources user has access to and\nwhat actions the user is allowed to do, but adding a new explicit scope\ncheck alongside the existing policy checks.\n\nThe current is_admin_or_owner policy is very confusing, it is much\neasier to understand after this change.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92\n'}]",176,433037,2ce720bb89fd042e118c62532e2440e1a7369a5a,79,16,21,782,,,0,"Add policy-remove-scope-checks spec

Here we separate the concerns of what resources user has access to and
what actions the user is allowed to do, but adding a new explicit scope
check alongside the existing policy checks.

The current is_admin_or_owner policy is very confusing, it is much
easier to understand after this change.

blueprint policy-remove-scope-checks

Change-Id: I1f6f1505683716c48a75f8a89ca96c4436fdef92
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/37/433037/21 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/policy-project-checks.rst'],1,e59bc7fa954ea72e253d8bc08301adcc08a7db7c,bp/policy-remove-scope-checks,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Polcy Project Checks ==================== https://blueprints.launchpad.net/nova/+spec/policy-project-checks The current admin_or_owner policy check is meaningless. This looks at what we replace that with, and how we test it all. Problem description =================== The current admin_or_owner policy check is meaningless because the default target is the project_id and user_id from context. We need to move to there being no default target. Even there there is no target to specify, we should explicitly pass a target of {}, to avoid any confusion. The DB layer currently enforces the project membership requirements of each API. It uses the ``is_admin`` policy rule to decide if the token has a ""global"" scope or not. The aim is not to allow operators to customize what is project scoped and what is not project scoped. This would create interoperability issues. Note that Keypairs are user scoped. There will still only be a single ""global"" token concept for that check. While we could consider how to make Nova domain aware, and how to deal with a domain scoped token, for now, we will concentrate on tidying up any confusion around policy and the project membership checks within the current model. With that sorted, it should be much clearer what is required to add the concept of domains and domain scoped tokens. Use Cases --------- * Operator needs to understand the policy rules. The current defaults are very confusing. Proposed change =============== We will be a new policy rule rule added::: ""is_global_token"": ""rule:admin_api"" To match this, nova context will have a new method added::: def has_access(scope) It will return True, only if the target matches the current context, or the token pass the is_global_token test. This will allow us to later add checks that make use of hierarchical multi-tenancy and domains more easily. For a show keypair, we will pass ``scope={""user_id"": ""john.smith""}``, for a show server we would pass ``scope={""project_id"": ""some-uuid-here""}``, for a list all servers we would pass ``scope={}``, i.e. the empty scope is considered to check for a global scope. If there is no need to check for a specific scope, there is no need to call the has_access method. A key part of this work will be to ensure we have good tests for all the new checks that are added in the API, including tests that excercise the in code policy defaults rather than using a test specific policy file. We should write these as functional tests, so the DB layer is not faked out. Once the above tests are in place, we can remove the existing scope checks from the DB layer, knowing the checks are now in the API layer, and well tested by the above functional tests. At this point, we should update the default policy rules to reflect what the current checks actually mean. An easy way to ensure this has been done correct is to change the default policy target to {}. Where any rule needs a target, we should explicitly specify that. The above functional tests will be used to ensure there are no regressions. ``admin_or_owner`` will now default to ""@"", so the check is the same as the current rule. (Ideally we should by default check for membership of some role that gives you access to Nova, but that has upgrade impacts and should be considered separately.) Note, some APIs allow administrators to restrict access to the user that created the server, rather than the project that typically owns the server. We should keep the project checks as described above, and simply allow policy that further restricts access to the resources by checking the user_id in the specified target. TODO - upgrade impact, we probably need to support rules that used to work with the old default target, but ideally we need to warn folks to stop using such rules, now they are no longer supported. Alternatives ------------ TODO Data model impact ----------------- None REST API impact --------------- None Security impact --------------- A better understanding of what each rule means can only help operators and developer get the policy configuration correct. There should be no material change to the existing checks. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: John Garbutt (johnthetubaguy) Other contributors: OSIC Work Items ---------- * Modify every API file to make use of ``context.has_access`` to check for project membership. Add functional tests to ensure project membership is correctly enforced. * Remove the DB level level checks of project membership, while not modifying the above tests that prove project membership is correctly enforced. * Have a default target of ``{}`` for all policy checks, and update the default policy rules to reflect what the check currently means. Dependencies ============ None Testing ======= None Documentation Impact ==================== We get a much improved sample policy file. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,197,0
openstack%2Ftripleo-heat-templates~master~I0aaed5c73c1c1485ad61202f3fca53348ef5a669,openstack/tripleo-heat-templates,master,I0aaed5c73c1c1485ad61202f3fca53348ef5a669,Mount openvswitch dir rather than socket,MERGED,2018-03-21 22:06:51.000000000,2018-03-23 14:06:24.000000000,2018-03-23 08:47:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9656}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-21 22:06:51.000000000', 'files': ['docker/services/neutron-ovs-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccfc1e9d1fcfb215cd8de28839404c9cf84ca0a3', 'message': ""Mount openvswitch dir rather than socket\n\nIf openvswitch is not started (meaning the socket file doesn't exist)\nand the docker container launches first, docker may create a folder for\nthe db.sock file which would prevent ovs from starting up later.  We\nshould mount the directory since ovs could be started after the docker\ncontainers.\n\nChange-Id: I0aaed5c73c1c1485ad61202f3fca53348ef5a669\nCloses-Bug: #1757111\n""}]",0,555077,ccfc1e9d1fcfb215cd8de28839404c9cf84ca0a3,22,7,1,14985,,,0,"Mount openvswitch dir rather than socket

If openvswitch is not started (meaning the socket file doesn't exist)
and the docker container launches first, docker may create a folder for
the db.sock file which would prevent ovs from starting up later.  We
should mount the directory since ovs could be started after the docker
containers.

Change-Id: I0aaed5c73c1c1485ad61202f3fca53348ef5a669
Closes-Bug: #1757111
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/555077/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-ovs-agent.yaml'],1,ccfc1e9d1fcfb215cd8de28839404c9cf84ca0a3,bug/1757111, - /var/run/openvswitch/:/var/run/openvswitch/, - /var/run/openvswitch/db.sock:/var/run/openvswitch/db.sock,1,1
openstack%2Ftripleo-common~master~I0f865d4811919c19577c75615b66d7d8a1e685d3,openstack/tripleo-common,master,I0f865d4811919c19577c75615b66d7d8a1e685d3,Add openvswitch element back in,MERGED,2018-03-21 21:10:41.000000000,2018-03-23 13:57:44.000000000,2018-03-23 03:25:52.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-21 21:10:41.000000000', 'files': ['image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-odl-rhel7.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05009b32ef027f06f604f491e4e95e283d0dfc73', 'message': 'Add openvswitch element back in\n\nThe change Ie4f5d771a16ea453b470be8ea103b2bde4aa892a switched\nos-net-config to be installed as a package rather than an element.\nUnfortunately the openvswitch service was being configured via the\nopenvswitch dependency from the os-net-config element. The switch to use\nthe package lost the automatic starting of openvswitch on the nodes\nwhich has manifested itself as intermittent issues on compute nodes when\nnetwork isolation is not deployed.\n\nChange-Id: I0f865d4811919c19577c75615b66d7d8a1e685d3\nPartial-Bug: #1757111\n'}]",0,555056,05009b32ef027f06f604f491e4e95e283d0dfc73,17,9,1,14985,,,0,"Add openvswitch element back in

The change Ie4f5d771a16ea453b470be8ea103b2bde4aa892a switched
os-net-config to be installed as a package rather than an element.
Unfortunately the openvswitch service was being configured via the
openvswitch dependency from the os-net-config element. The switch to use
the package lost the automatic starting of openvswitch on the nodes
which has manifested itself as intermittent issues on compute nodes when
network isolation is not deployed.

Change-Id: I0f865d4811919c19577c75615b66d7d8a1e685d3
Partial-Bug: #1757111
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/555056/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-odl-rhel7.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml']",4,05009b32ef027f06f604f491e4e95e283d0dfc73,bug/1757111, - openvswitch,,5,1
openstack%2Fcinder~master~Ic401c6458f73b108f16bfcb4843460b68a8ee504,openstack/cinder,master,Ic401c6458f73b108f16bfcb4843460b68a8ee504,ScaleIO: Disable volumes in unsafe configurations,ABANDONED,2018-03-22 18:49:31.000000000,2018-03-23 13:57:42.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25033}]","[{'number': 1, 'created': '2018-03-22 18:49:31.000000000', 'files': ['cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc3786fb5b4e46f0d5eea243013f78f2751ecb09', 'message': 'ScaleIO: Disable volumes in unsafe configurations\n\nIf ScaleIO backend pools are not configured correctly,\ndata may leak between tenants, since new volumes can\ncontain old data.\n\nWhen this is detected, disable volume creation to\nprevent data leakage.\n\nChange-Id: Ic401c6458f73b108f16bfcb4843460b68a8ee504\nCloses-Bug: #1699573\n'}]",0,555421,bc3786fb5b4e46f0d5eea243013f78f2751ecb09,19,16,1,4523,,,0,"ScaleIO: Disable volumes in unsafe configurations

If ScaleIO backend pools are not configured correctly,
data may leak between tenants, since new volumes can
contain old data.

When this is detected, disable volume creation to
prevent data leakage.

Change-Id: Ic401c6458f73b108f16bfcb4843460b68a8ee504
Closes-Bug: #1699573
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/555421/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/scaleio/driver.py'],1,bc3786fb5b4e46f0d5eea243013f78f2751ecb09,bug/1699573," self.unsafe_padding = False LOG.error(""Zero padding is disabled for pool, %s. "" ""This could lead to existing data being "" ""accessible on new thick provisioned volumes. "" ""Consult the ScaleIO product documentation "" ""for information on how to enable zero padding "" ""and prevent this from occurring."", pool) LOG.error(""Volume creation will be disabled for this "" ""backend to prevent data leakage."") self.unsafe_padding = True if self.unsafe_padding: # Do not allow volume creation on this backend. # Volumes may leak data between tenants. msg = _(""Volume creation rejected due to unsafe backend "" ""configuration."") raise exception.VolumeBackendAPIException(data=msg) "," LOG.warning(""Zero padding is disabled for pool, %s. "" ""This could lead to existing data being "" ""accessible on new thick provisioned volumes. "" ""Consult the ScaleIO product documentation "" ""for information on how to enable zero padding "" ""and prevent this from occurring."", pool)",20,7
openstack%2Fmonasca-ui~master~I0c34cd9343e07aaec3bf543e9a1828db55d07246,openstack/monasca-ui,master,I0c34cd9343e07aaec3bf543e9a1828db55d07246,Fix nit found in monasca-ui,MERGED,2018-01-31 03:20:36.000000000,2018-03-23 13:52:48.000000000,2018-02-02 08:11:21.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-01-31 03:20:36.000000000', 'files': ['monitoring/api/monitor.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5c71236b14e795867f67de938d7a6301f71fc17a', 'message': 'Fix nit found in monasca-ui\n\nIn some part in the code we use \\ for multiline formatting. In the Openstack\nstyle guidelines they recommend to use ().\n[1]: ""It is preferred to wrap long lines in parentheses and not a backslash\nfor line continuation."".\n[1] https://docs.openstack.org/hacking/latest/user/hacking.html\n\nChange-Id: I0c34cd9343e07aaec3bf543e9a1828db55d07246\n'}]",0,539409,5c71236b14e795867f67de938d7a6301f71fc17a,8,3,1,19853,,,0,"Fix nit found in monasca-ui

In some part in the code we use \ for multiline formatting. In the Openstack
style guidelines they recommend to use ().
[1]: ""It is preferred to wrap long lines in parentheses and not a backslash
for line continuation."".
[1] https://docs.openstack.org/hacking/latest/user/hacking.html

Change-Id: I0c34cd9343e07aaec3bf543e9a1828db55d07246
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/09/539409/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/api/monitor.py'],1,5c71236b14e795867f67de938d7a6301f71fc17a,," return (client.monascaclient(request).notifications. get(notification_id=notification_id)) return (client.monascaclient(request).notifications. update(notification_id=notification_id, **kwargs))"," return client.monascaclient(request).notifications. \ get(notification_id=notification_id) return client.monascaclient(request).notifications. \ update(notification_id=notification_id, **kwargs)",4,4
openstack%2Fmonasca-ui~stable%2Focata~I0c34cd9343e07aaec3bf543e9a1828db55d07246,openstack/monasca-ui,stable/ocata,I0c34cd9343e07aaec3bf543e9a1828db55d07246,Fix nit found in monasca-ui,MERGED,2018-03-20 10:00:57.000000000,2018-03-23 13:43:50.000000000,2018-03-23 13:43:49.000000000,"[{'_account_id': 19853}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 24580}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-03-20 10:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/0bc3ce302f0a3951d835537529a4e52f363338cd', 'message': 'Fix nit found in monasca-ui\n\nIn some part in the code we use \\ for multiline formatting. In the Openstack\nstyle guidelines they recommend to use ().\n[1]: ""It is preferred to wrap long lines in parentheses and not a backslash\nfor line continuation."".\n[1] https://docs.openstack.org/hacking/latest/user/hacking.html\n\nChange-Id: I0c34cd9343e07aaec3bf543e9a1828db55d07246\n'}, {'number': 2, 'created': '2018-03-20 10:59:59.000000000', 'files': ['monitoring/api/monitor.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/f1fb22fd7a05c9d03e1511623c6e6d789c37fed3', 'message': 'Fix nit found in monasca-ui\n\nIn some part in the code we use \\ for multiline formatting. In the Openstack\nstyle guidelines they recommend to use ().\n[1]: ""It is preferred to wrap long lines in parentheses and not a backslash\nfor line continuation."".\n[1] https://docs.openstack.org/hacking/latest/user/hacking.html\n\nChange-Id: I0c34cd9343e07aaec3bf543e9a1828db55d07246\n'}]",0,554488,f1fb22fd7a05c9d03e1511623c6e6d789c37fed3,10,5,2,16171,,,0,"Fix nit found in monasca-ui

In some part in the code we use \ for multiline formatting. In the Openstack
style guidelines they recommend to use ().
[1]: ""It is preferred to wrap long lines in parentheses and not a backslash
for line continuation."".
[1] https://docs.openstack.org/hacking/latest/user/hacking.html

Change-Id: I0c34cd9343e07aaec3bf543e9a1828db55d07246
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/88/554488/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/api/monitor.py'],1,0bc3ce302f0a3951d835537529a4e52f363338cd,fix-notification," return monascaclient(request).notifications. get(notification_id=notification_id) return monascaclient(request).notifications. update(notification_id=notification_id, **kwargs)"," return monascaclient(request).notifications. \ get(notification_id=notification_id) return monascaclient(request).notifications. \ update(notification_id=notification_id, **kwargs)",4,4
openstack%2Ftripleo-heat-templates~master~I85e11dd93c7fd2c42e71b467f46b0044d4516524,openstack/tripleo-heat-templates,master,I85e11dd93c7fd2c42e71b467f46b0044d4516524,Fix update of pacemaker container images during major upgrade,MERGED,2018-02-23 15:05:31.000000000,2018-03-23 13:33:50.000000000,2018-03-23 13:33:50.000000000,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9257}, {'_account_id': 10237}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-02-23 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ab6d6dcad7c70f56856bc4f9accde9e66406d7d', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nMove the block to step 4, once we know that all pacemaker services\nhave been stopped, yum packages updated, and any potential docker\nrestart has been executed.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}, {'number': 2, 'created': '2018-02-28 11:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbdeb7572be077037a120a7e3f491440bb0114f4', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nMove the block to step 4, once we know that all pacemaker services\nhave been stopped, yum packages updated, and any potential docker\nrestart has been executed.\n\nAlso restrict the check for containerized deployment to step 0,\nbecause it becomes invalid past step 3 because pacemaker deletes\nits own container before it is stopped.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}, {'number': 3, 'created': '2018-03-06 16:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69350b3ce4fc852208495c4d4787d1ede7771870', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nReshuffle the steps at which the various upgrade tasks are run,\nwhile keeping the ordering guarantees of the upgrade flow:\n\n  . Deletion of non-containerized resources happens at step 1,\n    to allow calling pcs while pacemaker is running.\n  . Pacemaker is stopped at step 2.\n  . Docker images for containerized resources are upgraded at\n    step 3, after the cluster is guaranteed to be stopped.\n  . Pacemaker is restarted at step 4 as before, once we know\n    that all resources have been upgraded, yum packages updated\n    and any potential docker restart has been executed.\n\nAlso change the way we detect containerized resources, so that\nthe predicate still remains valid past step 2 when pacemaker\nhas been stopped and has deleted its containerized resources.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}, {'number': 4, 'created': '2018-03-12 21:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e669eda60d3398c88a8329f20f5309e0cfc56667', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nReshuffle the steps at which the various upgrade tasks are run,\nwhile keeping the ordering guarantees of the upgrade flow:\n\n  . Deletion of non-containerized resources happens at step 1,\n    to allow calling pcs while pacemaker is running.\n  . Pacemaker is stopped at step 2.\n  . Docker images for containerized resources are upgraded at\n    step 3, after the cluster is guaranteed to be stopped.\n  . Pacemaker is restarted at step 4 as before, once we know\n    that all resources have been upgraded, yum packages updated\n    and any potential docker restart has been executed.\n\nAlso change the way we detect containerized resources, so that\nthe predicate still remains valid past step 2 when pacemaker\nhas been stopped and has deleted its containerized resources.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}, {'number': 5, 'created': '2018-03-16 08:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8de76d6249bda320dd75abe5bc44b71c59067ae2', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nReshuffle the steps at which the various upgrade tasks are run,\nwhile keeping the ordering guarantees of the upgrade flow:\n\n  . Deletion of non-containerized resources happens at step 1,\n    to allow calling pcs while pacemaker is running.\n  . Pacemaker is stopped at step 2.\n  . Docker images for containerized resources are upgraded at\n    step 3, after the cluster is guaranteed to be stopped.\n  . Pacemaker is restarted at step 4 as before, once we know\n    that all resources have been upgraded, yum packages updated\n    and any potential docker restart has been executed.\n\nAlso change the way we detect containerized resources, so that\nthe predicate still remains valid past step 2 when pacemaker\nhas been stopped and has deleted its containerized resources.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}, {'number': 6, 'created': '2018-03-17 08:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62940d88d984ce97eba3ed4aa4e52755964a8bb4', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nReshuffle the steps at which the various upgrade tasks are run,\nwhile keeping the ordering guarantees of the upgrade flow:\n\n  . Deletion of non-containerized resources happens at step 1,\n    to allow calling pcs while pacemaker is running.\n  . Pacemaker is stopped at step 2.\n  . Docker images for containerized resources are upgraded at\n    step 3, after the cluster is guaranteed to be stopped.\n  . Pacemaker is restarted at step 4 as before, once we know\n    that all resources have been upgraded, yum packages updated\n    and any potential docker restart has been executed.\n\nAlso change the way we detect containerized resources, so that\nthe predicate still remains valid past step 2 when pacemaker\nhas been stopped and has deleted its containerized resources.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}, {'number': 7, 'created': '2018-03-21 08:09:25.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'puppet/services/pacemaker.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/pacemaker/ovn-dbs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f37c06cd9d84403c7019655a9d45f8fdf6e5c586', 'message': 'Fix update of pacemaker container images during major upgrade\n\nCurrently, the idiomatic ""download image and retag to pcmklatest""\nhappens at step 2 during upgrade. This doesn\'t work if the stack\nis already containerized before the upgrade, because pacemaker\nis still running at step 2.\n\nReshuffle the steps at which the various upgrade tasks are run,\nwhile keeping the ordering guarantees of the upgrade flow:\n\n  . Deletion of non-containerized resources happens at step 1,\n    to allow calling pcs while pacemaker is running.\n  . Pacemaker is stopped at step 2.\n  . Docker images for containerized resources are upgraded at\n    step 3, after the cluster is guaranteed to be stopped.\n  . Pacemaker is restarted at step 4 as before, once we know\n    that all resources have been upgraded, yum packages updated\n    and any potential docker restart has been executed.\n\nAlso change the way we detect containerized resources, so that\nthe predicate still remains valid past step 2 when pacemaker\nhas been stopped and has deleted its containerized resources.\n\nChange-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524\n'}]",21,547476,f37c06cd9d84403c7019655a9d45f8fdf6e5c586,95,16,7,20778,,,0,"Fix update of pacemaker container images during major upgrade

Currently, the idiomatic ""download image and retag to pcmklatest""
happens at step 2 during upgrade. This doesn't work if the stack
is already containerized before the upgrade, because pacemaker
is still running at step 2.

Reshuffle the steps at which the various upgrade tasks are run,
while keeping the ordering guarantees of the upgrade flow:

  . Deletion of non-containerized resources happens at step 1,
    to allow calling pcs while pacemaker is running.
  . Pacemaker is stopped at step 2.
  . Docker images for containerized resources are upgraded at
    step 3, after the cluster is guaranteed to be stopped.
  . Pacemaker is restarted at step 4 as before, once we know
    that all resources have been upgraded, yum packages updated
    and any potential docker restart has been executed.

Also change the way we detect containerized resources, so that
the predicate still remains valid past step 2 when pacemaker
has been stopped and has deleted its containerized resources.

Change-Id: I85e11dd93c7fd2c42e71b467f46b0044d4516524
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/547476/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml']",7,1ab6d6dcad7c70f56856bc4f9accde9e66406d7d,major-upgrade, - name: Retag the pacemaker image if containerized when: - step|int == 4 - manila_share_containerized|succeeded block: *manila_share_fetch_retag_container_tasks, - name: Retag the pacemaker image if containerized when: - step|int == 2 - manila_share_containerized|succeeded block: *manila_share_fetch_retag_container_tasks,35,35
openstack%2Fnova~master~I3e0e1da186e4b3531b42e699ebd466280702d588,openstack/nova,master,I3e0e1da186e4b3531b42e699ebd466280702d588,Add CellMappingList.get_by_disabled() query method,MERGED,2018-03-06 18:34:26.000000000,2018-03-23 13:31:13.000000000,2018-03-23 00:24:55.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-06 18:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f074d21cd35ee3950ef65248db55b653a912a36', 'message': '[WIP] Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 2, 'created': '2018-03-07 10:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fc47419220d0b42f7df3bc769a3bb14e08819d5', 'message': '[WIP] Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 3, 'created': '2018-03-13 12:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3137164ab1d06ec64fdb4cf2ba852de18391d5', 'message': '[WIP] Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 4, 'created': '2018-03-14 22:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c3ab63a6da0b621614f807ceb001e96d90d0e14', 'message': '[WIP] Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 5, 'created': '2018-03-15 15:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bcb8124043ba4f64fa857d0882473b831bd61ad', 'message': '[WIP] Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 6, 'created': '2018-03-15 18:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abf701842e97db51e7cc0ae5b7e1880df49573ab', 'message': '[WIP] Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 7, 'created': '2018-03-15 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/493cbd03e5437d4601133578fd705358bab8cc53', 'message': 'Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 8, 'created': '2018-03-20 11:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ab55296fe365f6deb987deeb81925737e9ac49e', 'message': 'Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 9, 'created': '2018-03-20 13:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a7329cbbc3331028c8766cbf2ee55a00c670d26', 'message': 'Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 10, 'created': '2018-03-20 13:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05c81c8764c642d11e48e4d0669875a8d09abaa7', 'message': 'Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 11, 'created': '2018-03-20 14:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d3b7e7c17da0c97e599ff5225f4e872dcb449c2', 'message': 'Add CellMappingList.get_all_enabled() query method\n\nThis query methods helps us to query for only the enabled cells.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 12, 'created': '2018-03-20 17:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d30900824191212c83140b26e7af47adc2336a', 'message': 'Add CellMappingList.get_enabled_or_disabled(disabled=False) query method\n\nThis query methods helps us to query for only the enabled cells by\ndefault and returns the disabled cells if disabled=True is passed as an\nargument to the call.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}, {'number': 13, 'created': '2018-03-21 16:07:53.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_cell_mapping.py', 'nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a26ad9f9a82dfb5210e4a979e67e000989d7ff91', 'message': 'Add CellMappingList.get_by_disabled() query method\n\nThis query methods helps us to query for either the enabled cells if\nFalse is passed as the value to the disabled argument or the disabled\ncells if True is passed as a value to the disabled argument in the call.\n\nRelated to blueprint cell-disable\n\nChange-Id: I3e0e1da186e4b3531b42e699ebd466280702d588\n'}]",31,550188,a26ad9f9a82dfb5210e4a979e67e000989d7ff91,131,18,13,26936,,,0,"Add CellMappingList.get_by_disabled() query method

This query methods helps us to query for either the enabled cells if
False is passed as the value to the disabled argument or the disabled
cells if True is passed as a value to the disabled argument in the call.

Related to blueprint cell-disable

Change-Id: I3e0e1da186e4b3531b42e699ebd466280702d588
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/550188/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_cell_mapping.py', 'nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py']",4,1f074d21cd35ee3950ef65248db55b653a912a36,bp/cell-disable," def test_get_all_enabled(self): for ident in (4, 3): cm = objects.CellMapping(context=self.context, id=ident, uuid=getattr(uuids, 'cell%i' % ident), transport_url='fake://%i' % ident, database_connection='fake://%i' % ident, disabled=1) cm.create() obj = objects.CellMappingList.get_all(self.context) ids = [c.id for c in obj] # Returns all the cells self.assertEqual([1, 2, 3, 4], ids) obj = objects.CellMappingList.get_all_enabled(self.context) ids = [c.id for c in obj] # Returns only the enabled ones self.assertEqual([1, 2], ids) ",,56,3
openstack%2Fheat~master~I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d,openstack/heat,master,I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d,Generate user passwords with special characters,MERGED,2018-03-21 18:34:38.000000000,2018-03-23 13:26:39.000000000,2018-03-23 13:26:39.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 7385}, {'_account_id': 8246}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 18:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/33e9d91ceae5ca0b584a16886300d5e7936e7507', 'message': 'Generate user passwords with special characters\n\nWhen we create user accounts in order to allow signalling back to Heat,\ngenerate the passwords using a mix of upper- and lower-case letters, digits\nand special characters. This should pass most password_regex filters that\nusers are likely to configure in Keystone, which was not true of the\nprevious method (using only hex characters from a UUID).\n\nChange-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d\nCloses-Bug: #1666129\nCloses-Bug: #1444429\n'}, {'number': 2, 'created': '2018-03-21 21:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d749d4d53fd77a434e23f92ba9ec4ab21bf2cb6', 'message': 'Generate user passwords with special characters\n\nWhen we create user accounts in order to allow signalling back to Heat,\ngenerate the passwords using a mix of upper- and lower-case letters, digits\nand special characters. This should pass most password_regex filters that\nusers are likely to configure in Keystone, which was not true of the\nprevious method (using only hex characters from a UUID).\n\nChange-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d\nCloses-Bug: #1666129\nCloses-Bug: #1444429\n'}, {'number': 3, 'created': '2018-03-22 18:02:00.000000000', 'files': ['heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/wait_condition_handle.py', 'heat/tests/clients/test_heat_client.py', 'heat/engine/resources/server_base.py', 'heat/common/password_gen.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/61412548aef0912b621861d08743821439172c6a', 'message': 'Generate user passwords with special characters\n\nWhen we create user accounts in order to allow signalling back to Heat,\ngenerate the passwords using a mix of upper- and lower-case letters, digits\nand special characters. This should pass most password_regex filters that\nusers are likely to configure in Keystone, which was not true of the\nprevious method (using only hex characters from a UUID).\n\nChange-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d\nCloses-Bug: #1666129\nCloses-Bug: #1444429\n'}]",2,555017,61412548aef0912b621861d08743821439172c6a,16,6,3,4257,,,0,"Generate user passwords with special characters

When we create user accounts in order to allow signalling back to Heat,
generate the passwords using a mix of upper- and lower-case letters, digits
and special characters. This should pass most password_regex filters that
users are likely to configure in Keystone, which was not true of the
previous method (using only hex characters from a UUID).

Change-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d
Closes-Bug: #1666129
Closes-Bug: #1444429
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/555017/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/wait_condition_handle.py', 'heat/tests/clients/test_heat_client.py', 'heat/engine/resources/server_base.py', 'heat/common/password_gen.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py']",6,33e9d91ceae5ca0b584a16886300d5e7936e7507,bug/1666129,from heat.common import password_gen 'secret': password_gen.generate_openstack_password()} 'secret': password_gen.generate_openstack_password()}, 'secret': uuid.uuid4().hex} 'secret': uuid.uuid4().hex},28,20
openstack%2Fopenstack-ansible~master~I40c9981f2c6b26fe5c2c61cfc45330cd476f2385,openstack/openstack-ansible,master,I40c9981f2c6b26fe5c2c61cfc45330cd476f2385,[Docs] Uniform image on top,MERGED,2018-03-12 18:42:33.000000000,2018-03-23 13:24:14.000000000,2018-03-23 12:50:28.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-12 18:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b15867a24c7faa11bbee03890d13b01c3f716e6', 'message': '[Docs] Uniform image on top\n\nThe workflow is on top of the pages, this is an exception. It\nshould fix it.\n\nChange-Id: I40c9981f2c6b26fe5c2c61cfc45330cd476f2385\n'}, {'number': 2, 'created': '2018-03-23 12:23:49.000000000', 'files': ['deploy-guide/source/run-playbooks.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9be2fe792c10e67c2b94af204fcc43843e633ef7', 'message': '[Docs] Uniform image on top\n\nThe workflow is on top of the pages, this is an exception. It\nshould fix it.\n\nChange-Id: I40c9981f2c6b26fe5c2c61cfc45330cd476f2385\n'}]",0,552116,9be2fe792c10e67c2b94af204fcc43843e633ef7,14,5,2,17068,,,0,"[Docs] Uniform image on top

The workflow is on top of the pages, this is an exception. It
should fix it.

Change-Id: I40c9981f2c6b26fe5c2c61cfc45330cd476f2385
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/552116/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/run-playbooks.rst'],1,1b15867a24c7faa11bbee03890d13b01c3f716e6,bp/docs-improvements,".. figure:: figures/installation-workflow-run-playbooks.png :width: 100% Compute (nova), Networking (neutron), etc."," Compute (nova), Networking (neutron), Orchestration (heat), Dashboard (horizon), Telemetry (ceilometer and aodh), Object Storage (swift), and Bare Metal (ironic)... figure:: figures/installation-workflow-run-playbooks.png :width: 100% ",4,6
openstack%2Fnova-specs~master~Ia00f88368e11f8af73692e1d4b50d85fca7941dc,openstack/nova-specs,master,Ia00f88368e11f8af73692e1d4b50d85fca7941dc,virt: allow instances to be booted with trusted VFs,MERGED,2017-07-20 09:46:24.000000000,2018-03-23 13:23:33.000000000,2018-03-23 13:23:33.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6681}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8213}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 17920}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-20 09:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6d888ac51abc71b251597638172f05d2e090ef26', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond.\nThis spec aims to provide a way for users to boot instances with trusted VFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\n\nImplements blueprint sriov-trusted-vfs\n\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 2, 'created': '2017-07-21 08:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e4c87d15af084204fa1bd4d6cc7731cae8f97421', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond.\nThis spec aims to provide a way for users to boot instances with trusted VFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\n\nImplements blueprint sriov-trusted-vfs\n\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 3, 'created': '2017-10-19 08:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9c3dd088e3083658bdd96c3d18499106243627c2', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond.  This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\n\nImplements blueprint sriov-trusted-vfs\n\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 4, 'created': '2017-10-19 17:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/629c014036cafb50024e794470f833451cc41f9e', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond.  This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\n\nImplements blueprint sriov-trusted-vfs\n\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 5, 'created': '2017-10-19 18:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bc2572adccdf3cf2a77b50a3b58f71781a4067ce', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond.  This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\n\nImplements blueprint sriov-trusted-vfs\n\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 6, 'created': '2018-01-30 08:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a2f730569db40ce673b7e309fc25f22c9fce8d6b', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 7, 'created': '2018-02-01 08:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8f024e5fd24d2c42bc80343b37a0a42dfe8a898c', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 8, 'created': '2018-02-27 06:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3f81742013d969483422d8534438e0769b3df0bd', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 9, 'created': '2018-03-12 10:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/372c95968c0da27bd6cf71e3dd6262a959fce06e', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 10, 'created': '2018-03-12 10:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4617289fccc5357170789e11748655ef81c0e047', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 11, 'created': '2018-03-16 13:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/607904113e9761b942e08776ad4fe38f3061cf4b', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 12, 'created': '2018-03-20 12:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fb87957f1ca2d7e23af4c8266d1aba906485f98d', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 13, 'created': '2018-03-22 10:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9e4cf220e0f9955144f675a04d7c67445569132d', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 14, 'created': '2018-03-22 16:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/430262b013eef7969c2910d6fa569bec7161741a', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 15, 'created': '2018-03-22 19:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e65f383fa6e0503f18218ebffb4fc660b3c3bfbd', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nAPIImpact\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}, {'number': 16, 'created': '2018-03-23 11:06:10.000000000', 'files': ['specs/rocky/approved/sriov-trusted-vfs.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/523ac5551a189bf5c22551e9aead1edc5585a8f4', 'message': 'virt: allow instances to be booted with trusted VFs\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond. This\nspec aims to provide a way for users to boot instances with trusted\nVFs.\n\nAPIImpact\n\nCo-Authored-By: Vladik Romanovsky <vromanso@redhat.com>\nImplements blueprint sriov-trusted-vfs\nChange-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc\n'}]",116,485522,523ac5551a189bf5c22551e9aead1edc5585a8f4,80,12,16,7730,,,0,"virt: allow instances to be booted with trusted VFs

The inability to modify VF mac addresses in the guest prevents the
users from being able to setup up two VFs in a fail-over bond. This
spec aims to provide a way for users to boot instances with trusted
VFs.

APIImpact

Co-Authored-By: Vladik Romanovsky <vromanso@redhat.com>
Implements blueprint sriov-trusted-vfs
Change-Id: Ia00f88368e11f8af73692e1d4b50d85fca7941dc
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/22/485522/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/sriov-trusted-vfs.rst'],1,6d888ac51abc71b251597638172f05d2e090ef26,bp/sriov-trusted-vfs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Trusted Virtual Functions ========================================== https://blueprints.launchpad.net/nova/+spec/sriov-trusted-vfs A new kernel feature allows Virtual Functions to become ""trusted"" by the Physical Function and perform some privileged operations, such as enabling VF promiscuous mode and changing VF MAC address within the guest. The inability to modify mac addresses in the guest prevents the users from being able to easily setup up two VFs in a fail-over bond in a guest. This spec aims to suggest a way for users to boot instances with trusted VFs. Problem description =================== By default, Virtual Functions have no privileges to perform certain operations, such as enabling multicast promiscuous mode and modifying the VFs MAC address in the guest. These security measures are designed to prevent possible attacks, however, in some cases these operations performed by a VF would be legitimate. Openstack currently doesn't provide an easy way for a user to boot an instance with selected trusted VFs. As well as there is no easy way for cloud operators to specify with PFs allows it's VFs to become trusted. Use Cases --------- There are several use cases in which users would prefer to take advantage of the trusted VFs. Bonding VFs in a guest would be one of these. Bonding modes that require all slaves to use the same MAC address, would require address modification on one of the VFs during a fail-over. As MAC address altering is a privileged operation, participating VFs should be trusted in order to successfully configure bonding in the guest. [1]_ Proposed change =============== The aim of this proposal is to provide a comfortable way for users to boot instances with as assigned SR-IOV VFs which will be configured as trusted. Cloud operators would have a manageable way to specify which PFs will allow trusted VFs to be configured. The operators will be able to select which PFs can have trusted VFs, during the devices white list process. This is by adding an additional parameter to the filter in nova.conf: .. code-block:: json [pci] passthrough_whitelist = {""devname"": ""eth0"", ""trusted"": ""true"", ""physical_network"": ""phys0""} In Neutron the ports will have to be created with specific bindings to match the tag so Nova will schedule the VM on a host which provides such PCI devices (assuming that: PciPassthroughFilter is enabled). .. code-block:: json neutron port-create <net-id> \ --name sriov_port \ --vnic-type direct \ --binding:profile type=dict trusted=true NOTE: After the instance destruction, VFs which have been configured with the bit trust will be cleared. Alternatives ------------ The operator will have to manually configure VFs as trust in the compute nodes. Data model impact ----------------- N/A REST API impact --------------- N/A Security impact --------------- Some security issue are associated with the trusted VFs feature. As noted above, trusted VFs can be set into VF promiscuous mode which will enable sniffing and monitoring of the entire physical port for incoming traffic, including traffic targeting other virtual functions. [2]_ [3]_ It will be up to the deployer to decide whether the security issue is manageable. Notifications impact -------------------- N/A Other end user impact --------------------- Users which request their NICs as 'trusted' during boot time will have the ability to change the MAC addresses of the VFs Performance Impact ------------------ N/A Other deployer impact --------------------- N/A Developer impact ---------------- N/A Implementation ============== Assignee(s) ----------- Primary assignee: Sahid Ferdjaoui <sahid> Other contributors: Vladik Romanovsky <vladik-romanovsky> Work Items ---------- - Adding command to configure tursted mode for VFs - Updating PCI Request Spec to handle trusted tags - Configuring trust mode for VFs on libvirt driver. Dependencies ============ Even if not directly related the spec User-controlled SR-IOV ports allocation"" [4]_ would provide required granularity in an use-case like ""fail-over bonding"" to connect NICs on different physical switch. Testing ======= New unit tests will be written to cover the changes. Documentation Impact ==================== Reno note to inform users and operators how to configure that feature. References ========== .. [1] https://communities.intel.com/thread/54061 or https://access.redhat.com/solutions/355853 .. [2] https://community.mellanox.com/docs/DOC-2473 .. [3] http://events.linuxfoundation.org/sites/events/files/slides/20160715_LinuxCon_sriov_final.pdf .. [4] https://review.openstack.org/#/c/182242/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced ",,182,0
openstack%2Fheat~master~Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b,openstack/heat,master,Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b,Fix entropy problems with OS::Random::String,MERGED,2018-03-21 00:49:12.000000000,2018-03-23 13:23:29.000000000,2018-03-23 13:23:29.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 7385}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 00:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ad454a2df9ca16777fcfbd0015b821de7cddb434', 'message': ""Fix entropy problems with OS::Random::String\n\nWhen generating a random string, once we had selected from the various\nrequired pools, we continued by selecting a pool at random and then\nselecting a character from that pool at random. This did not take into\naccount the differing sizes of the available pools, nor the fact that the\nsame character could appear in multiple pools, which resulted in a\nnon-uniform probability distribution of characters. Since users mostly make\nuse of this feature to generate default passwords for services they are\ndeploying, this would result in the generated passwords having slightly\nless entropy than expected (and pathological cases were possible).\n\nRectify this by always selecting non-constrained characters from a single\ncombined pool, and by ensuring that each character appears only once in any\npool we're selecting from.\n\nSince we also want to use this method to generate passwords for OpenStack\nUsers, the new implementation is in a separate module in heat.common rather\nthan mixed in with the resource's logic. Also, use a StringIO object to\ncollect the characters rather than repeatedly appending to a string.\n\nChange-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b\nCloses-Bug: #1757300\nRelated-Bug: #1666129\nRelated-Bug: #1444429\n""}, {'number': 2, 'created': '2018-03-21 13:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2ee73b5ce8527b69f612e2ef92a56fb5183fc717', 'message': ""Fix entropy problems with OS::Random::String\n\nWhen generating a random string, once we had selected from the various\nrequired pools, we continued by selecting a pool at random and then\nselecting a character from that pool at random. This did not take into\naccount the differing sizes of the available pools, nor the fact that the\nsame character could appear in multiple pools, which resulted in a\nnon-uniform probability distribution of characters. Since users mostly make\nuse of this feature to generate default passwords for services they are\ndeploying, this would result in the generated passwords having slightly\nless entropy than expected (and pathological cases were possible).\n\nRectify this by always selecting non-constrained characters from a single\ncombined pool, and by ensuring that each character appears only once in any\npool we're selecting from.\n\nSince we also want to use this method to generate passwords for OpenStack\nUsers, the new implementation is in a separate module in heat.common rather\nthan mixed in with the resource's logic. Also, use a StringIO object to\ncollect the characters rather than repeatedly appending to a string.\n\nChange-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b\nCloses-Bug: #1757300\nRelated-Bug: #1666129\nRelated-Bug: #1444429\n""}, {'number': 3, 'created': '2018-03-21 21:24:08.000000000', 'files': ['heat/tests/openstack/heat/test_random_string.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/common/password_gen.py', 'releasenotes/notes/random-string-entropy-9b8e23874cd79b8f.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/6e16c051ba9c2fc409c82fda19467d9ee1aaf484', 'message': ""Fix entropy problems with OS::Random::String\n\nWhen generating a random string, once we had selected from the various\nrequired pools, we continued by selecting a pool at random and then\nselecting a character from that pool at random. This did not take into\naccount the differing sizes of the available pools, nor the fact that the\nsame character could appear in multiple pools, which resulted in a\nnon-uniform probability distribution of characters. Since users mostly make\nuse of this feature to generate default passwords for services they are\ndeploying, this would result in the generated passwords having slightly\nless entropy than expected (and pathological cases were possible).\n\nRectify this by always selecting non-constrained characters from a single\ncombined pool, and by ensuring that each character appears only once in any\npool we're selecting from.\n\nSince we also want to use this method to generate passwords for OpenStack\nUsers, the new implementation is in a separate module in heat.common rather\nthan mixed in with the resource's logic. Also, use a StringIO object to\ncollect the characters rather than repeatedly appending to a string.\n\nChange-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b\nCloses-Bug: #1757300\nRelated-Bug: #1666129\nRelated-Bug: #1444429\n""}]",0,554745,6e16c051ba9c2fc409c82fda19467d9ee1aaf484,15,5,3,4257,,,0,"Fix entropy problems with OS::Random::String

When generating a random string, once we had selected from the various
required pools, we continued by selecting a pool at random and then
selecting a character from that pool at random. This did not take into
account the differing sizes of the available pools, nor the fact that the
same character could appear in multiple pools, which resulted in a
non-uniform probability distribution of characters. Since users mostly make
use of this feature to generate default passwords for services they are
deploying, this would result in the generated passwords having slightly
less entropy than expected (and pathological cases were possible).

Rectify this by always selecting non-constrained characters from a single
combined pool, and by ensuring that each character appears only once in any
pool we're selecting from.

Since we also want to use this method to generate passwords for OpenStack
Users, the new implementation is in a separate module in heat.common rather
than mixed in with the resource's logic. Also, use a StringIO object to
collect the characters rather than repeatedly appending to a string.

Change-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b
Closes-Bug: #1757300
Related-Bug: #1666129
Related-Bug: #1444429
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/554745/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/heat/test_random_string.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/common/password_gen.py']",3,ad454a2df9ca16777fcfbd0015b821de7cddb434,bug/1666129,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import random as random_module import string import six # NOTE(pas-ha) Heat officially supports only POSIX::Linux platform # where os.urandom() and random.SystemRandom() are available random = random_module.SystemRandom() CHARACTER_CLASSES = ( LETTERS_DIGITS, LETTERS, LOWERCASE, UPPERCASE, DIGITS, HEXDIGITS, OCTDIGITS, ) = ( 'lettersdigits', 'letters', 'lowercase', 'uppercase', 'digits', 'hexdigits', 'octdigits', ) _char_class_members = { LETTERS_DIGITS: string.ascii_letters + string.digits, LETTERS: string.ascii_letters, LOWERCASE: string.ascii_lowercase, UPPERCASE: string.ascii_uppercase, DIGITS: string.digits, HEXDIGITS: string.digits + 'ABCDEF', OCTDIGITS: string.octdigits, } CharClass = collections.namedtuple('CharClass', ('allowed_chars', 'min_count')) def named_char_class(char_class, min_count=0): assert char_class in CHARACTER_CLASSES return CharClass(frozenset(_char_class_members[char_class]), min_count) def special_char_class(allowed_chars, min_count=0): return CharClass(frozenset(allowed_chars), min_count) def generate_password(length, char_classes): char_buffer = six.StringIO() all_allowed_chars = set() # Add the minimum number of chars from each char class for char_class in char_classes: all_allowed_chars |= char_class.allowed_chars allowed_chars = tuple(char_class.allowed_chars) for i in six.moves.xrange(char_class.min_count): char_buffer.write(random.choice(allowed_chars)) # Fill up rest with random chars from provided classes combined_chars = tuple(all_allowed_chars) for i in six.moves.xrange(max(0, length - char_buffer.tell())): char_buffer.write(random.choice(combined_chars)) # Shuffle string selected_chars = char_buffer.getvalue() char_buffer.close() return ''.join(random.sample(selected_chars, length)) ",,215,80
openstack%2Fmonasca-ui~master~I0c57e486ff6d41eb627c6938797b04f2c17e4193,openstack/monasca-ui,master,I0c57e486ff6d41eb627c6938797b04f2c17e4193,Drop mox3 from test-requirements.txt,ABANDONED,2018-03-22 15:54:21.000000000,2018-03-23 13:21:49.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 15:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/4e7904bab938896309a2a65d0bd27979cd32ac38', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this\ncommit because this creates a stub using mox\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: I0c57e486ff6d41eb627c6938797b04f2c17e4193\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 2, 'created': '2018-03-22 16:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/e3204fc54ae3b81d2d2880da8fc13c119f683880', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this\ncommit because this creates a stub using mox\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: I0c57e486ff6d41eb627c6938797b04f2c17e4193\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 3, 'created': '2018-03-23 12:22:29.000000000', 'files': ['test-requirements.txt', 'monitoring/alarmdefs/tests.py', 'monitoring/overview/tests.py', 'monitoring/test/helpers.py', 'monitoring/notifications/tests.py', 'monitoring/alarms/tests.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/569c95f2c3305aa1bbcc116169f147b7ff084d8a', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this\ncommit because this creates a stub using mox\n\nThis is part of mox-removal community goal in Rocky.\n\nStory: 2001546\nTask: 8719\n\nChange-Id: I0c57e486ff6d41eb627c6938797b04f2c17e4193\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",0,555345,569c95f2c3305aa1bbcc116169f147b7ff084d8a,7,2,3,24,,,0,"Drop mox3 from test-requirements.txt

create_stubs in test.helpers is also dropped in this
commit because this creates a stub using mox

This is part of mox-removal community goal in Rocky.

Story: 2001546
Task: 8719

Change-Id: I0c57e486ff6d41eb627c6938797b04f2c17e4193
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/45/555345/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'monitoring/alarmdefs/tests.py', 'monitoring/overview/tests.py', 'monitoring/test/helpers.py', 'monitoring/notifications/tests.py', 'monitoring/alarms/tests.py']",6,4e7904bab938896309a2a65d0bd27979cd32ac38,, use_mox = False ,,13,7
openstack%2Fproject-config~master~Ia62e6411b323f74c3a61582ef86572eda643a57c,openstack/project-config,master,Ia62e6411b323f74c3a61582ef86572eda643a57c,Set up cyborg-specs repository,MERGED,2018-03-17 11:10:53.000000000,2018-03-23 13:18:56.000000000,2018-03-23 13:18:56.000000000,"[{'_account_id': 1004}, {'_account_id': 2750}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6589}, {'_account_id': 7118}, {'_account_id': 9061}, {'_account_id': 13252}, {'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-17 11:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2a650082b76c33e19f20da82b5f804eb43097d5', 'message': 'Set up cyborg-specs repository\n\nThis patch adds Jobs for cyborg-specs\n\nChange-Id: Ia62e6411b323f74c3a61582ef86572eda643a57c\n'}, {'number': 2, 'created': '2018-03-19 01:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/49977542dd92e0f600375fc56f2135128732b650', 'message': 'Set up cyborg-specs repository\n\nThis patch adds Jobs for cyborg-specs\n\nChange-Id: Ia62e6411b323f74c3a61582ef86572eda643a57c\n'}, {'number': 3, 'created': '2018-03-21 02:43:17.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/32fb02d3d06be8d78fff49b5080eb97033757e57', 'message': 'Set up cyborg-specs repository\n\nThis patch adds Jobs for cyborg-specs\n\nChange-Id: Ia62e6411b323f74c3a61582ef86572eda643a57c\n'}]",0,553976,32fb02d3d06be8d78fff49b5080eb97033757e57,12,10,3,24872,,,0,"Set up cyborg-specs repository

This patch adds Jobs for cyborg-specs

Change-Id: Ia62e6411b323f74c3a61582ef86572eda643a57c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/553976/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,e2a650082b76c33e19f20da82b5f804eb43097d5,, name: openstack/cyborg-specs templates: - system-required - openstack-specs-jobs check: jobs: - openstack-tox-pep8 gate: jobs: - openstack-tox-pep8 - project:,,12,0
openstack%2Frally-openstack~master~Ia7a83ebe37a49e58400620b7ed3dedac209664f8,openstack/rally-openstack,master,Ia7a83ebe37a49e58400620b7ed3dedac209664f8,Adds Octavia to OSClient,MERGED,2018-03-19 09:57:11.000000000,2018-03-23 13:09:26.000000000,2018-03-23 13:09:25.000000000,"[{'_account_id': 6172}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 09:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b4674f1e939b62650675a1f2d57947fe43ca5102', 'message': ""Adds Octavia to OSClient\n\nThis patch is the foundation for adding Octavia based scenarios.\nThe Octavia is now a top-level project and starting from it's v2 API,\nNo longer works as a neutron-lbaas provider.\n\nThis means that in order to interact with it, one should use\npython-octaviaclient instead of python-neutronclient\n\n[1] https://developer.openstack.org/api-ref/load-balancer/v2/#service-endpoints\n\nChange-Id: Ia7a83ebe37a49e58400620b7ed3dedac209664f8\n(cherry picked from commit 0be028b344ba4ec97c8f1a7f9098ad4fa3156922)\n""}, {'number': 2, 'created': '2018-03-19 13:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/be160234b0aa8658c4dc82514d0ee53a2106e40b', 'message': ""Adds Octavia to OSClient\n\nThis patch is the foundation for adding Octavia based scenarios.\nThe Octavia is now a top-level project and starting from it's v2 API,\nNo longer works as a neutron-lbaas provider.\n\nThis means that in order to interact with it, one should use\npython-octaviaclient instead of python-neutronclient\n\n[1] https://developer.openstack.org/api-ref/load-balancer/v2/#service-endpoints\n\nChange-Id: Ia7a83ebe37a49e58400620b7ed3dedac209664f8\n(cherry picked from commit 0be028b344ba4ec97c8f1a7f9098ad4fa3156922)\n""}, {'number': 3, 'created': '2018-03-21 22:12:18.000000000', 'files': ['requirements.txt', 'rally_openstack/osclients.py', 'tests/unit/test_osclients.py', 'tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/96e48fad49464459ff4fa30f3397ea13f12378bc', 'message': ""Adds Octavia to OSClient\n\nThis patch is the foundation for adding Octavia based scenarios.\nThe Octavia is now a top-level project and starting from it's v2 API,\nNo longer works as a neutron-lbaas provider.\n\nThis means that in order to interact with it, one should use\npython-octaviaclient instead of python-neutronclient\n\n[1] https://developer.openstack.org/api-ref/load-balancer/v2/#service-endpoints\n\nChange-Id: Ia7a83ebe37a49e58400620b7ed3dedac209664f8\n(cherry picked from commit 0be028b344ba4ec97c8f1a7f9098ad4fa3156922)\n""}]",2,554186,96e48fad49464459ff4fa30f3397ea13f12378bc,23,5,3,6579,,,0,"Adds Octavia to OSClient

This patch is the foundation for adding Octavia based scenarios.
The Octavia is now a top-level project and starting from it's v2 API,
No longer works as a neutron-lbaas provider.

This means that in order to interact with it, one should use
python-octaviaclient instead of python-neutronclient

[1] https://developer.openstack.org/api-ref/load-balancer/v2/#service-endpoints

Change-Id: Ia7a83ebe37a49e58400620b7ed3dedac209664f8
(cherry picked from commit 0be028b344ba4ec97c8f1a7f9098ad4fa3156922)
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/86/554186/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tests/unit/plugins/openstack/scenarios/octavia/__init__.py', 'rally/plugins/openstack/scenarios/octavia/__init__.py', 'rally_openstack/osclients.py', 'tests/unit/test_osclients.py', 'tests/unit/fakes.py']",6,b4674f1e939b62650675a1f2d57947fe43ca5102,octavia_client,class FakeOctaviaClient(object): def __init__(self): pass self._octavia = None def octavia(self): if not self._octavia: self._octavia = FakeOctaviaClient() return self._octavia ,,52,0
openstack%2Fneutron~master~I25ba3397af1ff95211863fd274118d35bbc2a709,openstack/neutron,master,I25ba3397af1ff95211863fd274118d35bbc2a709,DNM: consume neutron-lib db utils,ABANDONED,2018-02-01 22:00:42.000000000,2018-03-23 13:08:16.000000000,,"[{'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 22:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14e61269e72c233ef353011134f2ed824540da79', 'message': 'DNM: testing db utils from neutron-lib\n\nDO NOT MERGE\n\nThis is a sample consumption patch to ensure the rehome of some public\nDB utils functions properly.\n\nChange-Id: I25ba3397af1ff95211863fd274118d35bbc2a709\n'}, {'number': 2, 'created': '2018-02-05 19:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/713f1e872a5213c6e5ecf426de24b6536b904163', 'message': 'DNM: testing db utils from neutron-lib\n\nDO NOT MERGE\n\nThis is a sample consumption patch to ensure the rehome of some public\nDB utils functions properly.\n\nChange-Id: I25ba3397af1ff95211863fd274118d35bbc2a709\n'}, {'number': 3, 'created': '2018-03-20 20:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ce897b53ab95cf15f5ca2f66a803991fa7ca2f1', 'message': 'DNM: consume neutron-lib db utils\n\nDO NOT MERGE; for testing at the moment\n\nThis patch consumes the functions rehomed from neutron.db._utils into\nneutron_lib.db.utils.\n\nChange-Id: I25ba3397af1ff95211863fd274118d35bbc2a709\n'}, {'number': 4, 'created': '2018-03-22 21:08:39.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/address_scope_db.py', 'neutron/db/portsecurity_db_common.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/services/provider_configuration.py', 'neutron/db/rbac_db_mixin.py', 'neutron/services/network_ip_availability/plugin.py', 'neutron/db/l3_db.py', 'neutron/db/external_net_db.py', 'neutron/db/flavors_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/agents_db.py', 'neutron/db/db_base_plugin_common.py', 'neutron/services/auto_allocate/db.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/db/_utils.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/db/metering/metering_db.py', 'neutron/db/_model_query.py', 'neutron/db/common_db_mixin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dfefd0c440514f2c5b39c9d28660bc5f637acf6', 'message': 'DNM: consume neutron-lib db utils\n\nDO NOT MERGE; for testing at the moment\n\nThis patch consumes the functions rehomed from neutron.db._utils into\nneutron_lib.db.utils.\n\nChange-Id: I25ba3397af1ff95211863fd274118d35bbc2a709\n'}]",0,540158,6dfefd0c440514f2c5b39c9d28660bc5f637acf6,32,7,4,5367,,,0,"DNM: consume neutron-lib db utils

DO NOT MERGE; for testing at the moment

This patch consumes the functions rehomed from neutron.db._utils into
neutron_lib.db.utils.

Change-Id: I25ba3397af1ff95211863fd274118d35bbc2a709
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/540158/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/db/address_scope_db.py', 'neutron/db/portsecurity_db_common.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/services/provider_configuration.py', 'neutron/db/rbac_db_mixin.py', 'neutron/services/network_ip_availability/plugin.py', 'neutron/db/l3_db.py', 'neutron/db/flavors_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/agents_db.py', 'neutron/db/db_base_plugin_common.py', 'neutron/services/auto_allocate/db.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/db/_utils.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/db/metering/metering_db.py', 'neutron/db/common_db_mixin.py']",19,14e61269e72c233ef353011134f2ed824540da79,bp/neutronlib-decouple-db,"from neutron_lib.db import utils as db_utils resource_fields = db_utils.resource_fields return db_utils.resource_fields(resource, fields)","resource_fields = ndb_utils.resource_fields return ndb_utils.resource_fields(resource, fields) # TODO(HenryG): Remove this when available in neutron-lib def _get_marker_obj(self, context, resource, limit, marker): return ndb_utils.get_marker_obj(self, context, resource, limit, marker) ",25,60
openstack%2Fpuppet-ceilometer~master~I838e73ebb31db2bee6150e54a2812cc9e058cd15,openstack/puppet-ceilometer,master,I838e73ebb31db2bee6150e54a2812cc9e058cd15,Refactor beaker to use integration classes,ABANDONED,2017-10-13 03:09:21.000000000,2018-03-23 13:02:54.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-13 03:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/96696a0ea6da3f7a30125de697028428b5ff4ba3', 'message': 'Refactor beaker to use integration classes\n\nChange-Id: I838e73ebb31db2bee6150e54a2812cc9e058cd15\n'}, {'number': 2, 'created': '2017-10-13 03:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/d4ec08d60ec094c17d5d28e09aae1acf6a4a7886', 'message': 'Refactor beaker to use integration classes\n\nDepends-On: I88145f1b20165f4a7581767c6406c5af98e8f32c\nChange-Id: I838e73ebb31db2bee6150e54a2812cc9e058cd15\n'}, {'number': 3, 'created': '2017-10-13 14:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c53d5761b6789c3a79080bcba4f3dfe7b8203258', 'message': 'Refactor beaker to use integration classes\n\nDepends-On: I88145f1b20165f4a7581767c6406c5af98e8f32c\nChange-Id: I838e73ebb31db2bee6150e54a2812cc9e058cd15\n'}, {'number': 4, 'created': '2017-10-13 15:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3e315c93eadcb678b9c0cf9b1dfa33f8d7c66cea', 'message': 'Refactor beaker to use integration classes\n\nDepends-On: I18b8e86217fb3bf9214946362e7910c30afa8196\nChange-Id: I838e73ebb31db2bee6150e54a2812cc9e058cd15\n'}, {'number': 5, 'created': '2017-11-15 19:36:07.000000000', 'files': ['spec/acceptance/ceilometer_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/01ef1e8fdb6cd94a1c3dcd76ea4022cba8d1d4e1', 'message': 'Refactor beaker to use integration classes\n\nDepends-On: I18b8e86217fb3bf9214946362e7910c30afa8196\nChange-Id: I838e73ebb31db2bee6150e54a2812cc9e058cd15\n'}]",0,511691,01ef1e8fdb6cd94a1c3dcd76ea4022cba8d1d4e1,20,6,5,1004,,,0,"Refactor beaker to use integration classes

Depends-On: I18b8e86217fb3bf9214946362e7910c30afa8196
Change-Id: I838e73ebb31db2bee6150e54a2812cc9e058cd15
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/91/511691/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ceilometer_wsgi_apache_spec.rb'],1,96696a0ea6da3f7a30125de697028428b5ff4ba3,511691, include ::openstack_integration::panko include ::openstack_integration::gnocchi include ::openstack_integration::ceilometer," # TODO(aschultz): remove after fix for LP#1621384 hits RDO include ::gnocchi::client Package['python-gnocchiclient'] -> Exec[ceilometer-upgrade] rabbitmq_user { 'ceilometer': admin => true, password => 'an_even_bigger_secret', provider => 'rabbitmqctl', require => Class['rabbitmq'], } rabbitmq_user_permissions { 'ceilometer@/': configure_permission => '.*', write_permission => '.*', read_permission => '.*', provider => 'rabbitmqctl', require => Class['rabbitmq'], } # Ceilometer resources class { '::ceilometer': debug => true, telemetry_secret => 'secrete', default_transport_url => 'rabbit://ceilometer:an_even_bigger_secret@127.0.0.1:5672', } class { '::ceilometer::keystone::auth': password => 'a_big_secret', } class { '::ceilometer::db::mysql': password => 'a_big_secret', } class { '::ceilometer::db': database_connection => 'mysql+pymysql://ceilometer:a_big_secret@127.0.0.1/ceilometer?charset=utf8', sync_db => false, } class { '::ceilometer::db::sync': extra_params => '--skip-gnocchi-resource-types', } class { '::ceilometer::client': } class { '::ceilometer::collector': } class { '::ceilometer::expirer': } class { '::ceilometer::agent::central': } class { '::ceilometer::agent::notification': } class { '::ceilometer::keystone::authtoken': password => 'a_big_secret', } class { '::ceilometer::api': enabled => true, service_name => 'httpd', } include ::apache class { '::ceilometer::wsgi::apache': ssl => false, } class { '::ceilometer::dispatcher::gnocchi': } describe port(8777) do it { is_expected.to be_listening } end describe cron do it { is_expected.to have_entry('1 0 * * * ceilometer-expirer').with_user('ceilometer') } end ",3,64
openstack%2Fpuppet-openstack-integration~master~I1a5935e8fdd0e8aa13d0df592783f5438fc833b4,openstack/puppet-openstack-integration,master,I1a5935e8fdd0e8aa13d0df592783f5438fc833b4,Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial,ABANDONED,2017-09-13 16:17:43.000000000,2018-03-23 13:01:49.000000000,,[{'_account_id': 16137}],"[{'number': 1, 'created': '2017-09-13 16:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e854dad676526dc3a778b689d0eeb2bf3e4ce483', 'message': 'Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial\n\nAt the moment, the scenarios for Xenial are not testing the new\nGnocchi and Panko stack in Xenial.  This patch adds testing for\nthem in order to bring them in par with the CentOS feature testing.\n\nChange-Id: I1a5935e8fdd0e8aa13d0df592783f5438fc833b4\n'}, {'number': 2, 'created': '2017-09-13 16:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d0713a76edc548be188d220cb4ffe4b9c260d604', 'message': 'Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial\n\nAt the moment, the scenarios for Xenial are not testing the new\nGnocchi and Panko stack in Xenial.  This patch adds testing for\nthem in order to bring them in par with the CentOS feature testing.\n\nChange-Id: I1a5935e8fdd0e8aa13d0df592783f5438fc833b4\n'}, {'number': 3, 'created': '2017-09-13 16:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6815ae8d78769891083ea29114b565d5e2f83403', 'message': 'Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial\n\nAt the moment, the scenarios for Xenial are not testing the new\nGnocchi and Panko stack in Xenial.  This patch adds testing for\nthem in order to bring them in par with the CentOS feature testing.\n\nChange-Id: I1a5935e8fdd0e8aa13d0df592783f5438fc833b4\n'}, {'number': 4, 'created': '2017-09-13 20:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6f62e58979f5b31f02b14f8dffdff039b9ceb30f', 'message': 'Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial\n\nAt the moment, the scenarios for Xenial are not testing the new\nGnocchi and Panko stack in Xenial.  This patch adds testing for\nthem in order to bring them in par with the CentOS feature testing.\n\nChange-Id: I1a5935e8fdd0e8aa13d0df592783f5438fc833b4\n'}, {'number': 5, 'created': '2017-09-13 21:20:45.000000000', 'files': ['run_tests.sh', 'manifests/aodh.pp', 'manifests/ceilometer.pp', 'fixtures/scenario001.pp', 'manifests/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/31a562f4e821f4660c417d3125b64903effc590c', 'message': 'Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial\n\nAt the moment, the scenarios for Xenial are not testing the new\nGnocchi and Panko stack in Xenial.  This patch adds testing for\nthem in order to bring them in par with the CentOS feature testing.\n\nChange-Id: I1a5935e8fdd0e8aa13d0df592783f5438fc833b4\n'}]",0,503732,31a562f4e821f4660c417d3125b64903effc590c,10,1,5,1004,,,0,"Remove enable_legacy_telemetry and test Gnocchi/Panko in Xenial

At the moment, the scenarios for Xenial are not testing the new
Gnocchi and Panko stack in Xenial.  This patch adds testing for
them in order to bring them in par with the CentOS feature testing.

Change-Id: I1a5935e8fdd0e8aa13d0df592783f5438fc833b4
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/32/503732/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ceilometer.pp', 'fixtures/scenario001.pp']",2,e854dad676526dc3a778b689d0eeb2bf3e4ce483,remove-legacy-telemetry,"include ::openstack_integration::ceilometerinclude ::openstack_integration::redis include ::openstack_integration::gnocchi include ::openstack_integration::panko gnocchi => true, panko => true,","class { '::openstack_integration::ceilometer': enable_legacy_telemetry => $enable_legacy_telemetry }if ! $enable_legacy_telemetry { include ::openstack_integration::redis include ::openstack_integration::gnocchi include ::openstack_integration::panko } gnocchi => ! $enable_legacy_telemetry, panko => ! $enable_legacy_telemetry,",18,68
openstack%2Fpython-tripleoclient~master~I045d72e48d63ab5b25858b5886578e18637c8d43,openstack/python-tripleoclient,master,I045d72e48d63ab5b25858b5886578e18637c8d43,Fix the error message in _validate_no_ip_change,MERGED,2018-03-16 02:31:23.000000000,2018-03-23 12:59:15.000000000,2018-03-23 12:59:15.000000000,"[{'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-16 02:31:23.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0329c2550714b5d297aef8f38c37058eca5c1df0', 'message': 'Fix the error message in _validate_no_ip_change\n\nThe validation is for existing ip == configured ip address but\nthe error message prints the value of CONF.network_cidr.\n\nThis patch changes the message to print the local_ip used in the\nconfig.\n\nCloses-Bug: #1756225\nChange-Id: I045d72e48d63ab5b25858b5886578e18637c8d43\n'}]",0,553658,0329c2550714b5d297aef8f38c37058eca5c1df0,20,5,1,24245,,,0,"Fix the error message in _validate_no_ip_change

The validation is for existing ip == configured ip address but
the error message prints the value of CONF.network_cidr.

This patch changes the message to print the local_ip used in the
config.

Closes-Bug: #1756225
Change-Id: I045d72e48d63ab5b25858b5886578e18637c8d43
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/553658/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,0329c2550714b5d297aef8f38c37058eca5c1df0,bug/1756225, CONF.local_ip), CONF.network_cidr),1,1
openstack%2Fpython-watcherclient~master~I4d906fd597048bb37803a2bb42f8357502cf1b76,openstack/python-watcherclient,master,I4d906fd597048bb37803a2bb42f8357502cf1b76,Add tempest plugin,MERGED,2018-03-23 11:38:12.000000000,2018-03-23 12:56:05.000000000,2018-03-23 12:56:05.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 11:38:12.000000000', 'files': ['watcherclient/tests/functional/config.py', 'watcherclient/tests/functional/plugin.py', 'setup.cfg', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/9bfefbf9ab357ece1aac4eee7b261262dc30852f', 'message': 'Add tempest plugin\n\nThis patch set adds tempest plugin to register existing tempest\ntests of watcherclient. It is also required to let devstack-tempest\njob to launch watcherclient functional tests.\n\nChange-Id: I4d906fd597048bb37803a2bb42f8357502cf1b76\n'}]",0,555745,9bfefbf9ab357ece1aac4eee7b261262dc30852f,6,2,1,19055,,,0,"Add tempest plugin

This patch set adds tempest plugin to register existing tempest
tests of watcherclient. It is also required to let devstack-tempest
job to launch watcherclient functional tests.

Change-Id: I4d906fd597048bb37803a2bb42f8357502cf1b76
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/45/555745/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/tests/functional/config.py', 'watcherclient/tests/functional/plugin.py', 'setup.cfg', '.stestr.conf']",4,9bfefbf9ab357ece1aac4eee7b261262dc30852f,add-tempest-plugin,[DEFAULT] test_path=${OS_TEST_PATH:-./watcherclient/tests/functional} top_dir=./,,62,0
openstack%2Fhorizon~master~I3532abee7febafea0f4cdc6ebfcc62f3cecd52eb,openstack/horizon,master,I3532abee7febafea0f4cdc6ebfcc62f3cecd52eb,Improve mocking in REST API tests (test_swift),MERGED,2018-03-09 17:20:52.000000000,2018-03-23 12:52:53.000000000,2018-03-23 12:52:53.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 17:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/681fced907788ce2d6932f3d1fd36e39b1b7f367', 'message': 'Improve mocking in REST API tests (test_swift)\n\nThe current REST API tests have a lot of rooms to be improved like:\n- mocking the whole module of the API wrapper\n- Unnecesary setUp()\n- Test data should not be accessed directly via TestData\n\nThis commit improves test/unit/api/rest/test_swift.py.\n\nChange-Id: I3532abee7febafea0f4cdc6ebfcc62f3cecd52eb\nPartial-Bug: #1752917\n'}, {'number': 2, 'created': '2018-03-22 02:03:15.000000000', 'files': ['openstack_dashboard/test/unit/api/rest/test_swift.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3e409d8b9824b6d7e0f7e4ea10d75611e90d5f03', 'message': 'Improve mocking in REST API tests (test_swift)\n\nThe current REST API tests have a lot of rooms to be improved like:\n- mocking the whole module of the API wrapper\n- Unnecesary setUp()\n- Test data should not be accessed directly via TestData\n\nThis commit improves test/unit/api/rest/test_swift.py.\n\nChange-Id: I3532abee7febafea0f4cdc6ebfcc62f3cecd52eb\nPartial-Bug: #1752917\n'}]",2,551334,3e409d8b9824b6d7e0f7e4ea10d75611e90d5f03,13,5,2,841,,,0,"Improve mocking in REST API tests (test_swift)

The current REST API tests have a lot of rooms to be improved like:
- mocking the whole module of the API wrapper
- Unnecesary setUp()
- Test data should not be accessed directly via TestData

This commit improves test/unit/api/rest/test_swift.py.

Change-Id: I3532abee7febafea0f4cdc6ebfcc62f3cecd52eb
Partial-Bug: #1752917
",git fetch https://review.opendev.org/openstack/horizon refs/changes/34/551334/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/unit/api/rest/test_swift.py'],1,681fced907788ce2d6932f3d1fd36e39b1b7f367,bug/1752917,"from openstack_dashboard import api @test.create_mocks({api.swift: ['swift_get_capabilities']}) def test_version_get(self): self.mock_swift_get_capabilities.return_value = {'swift': {'version': '1.0'}} self.mock_swift_get_capabilities.assert_called_once_with(request) @test.create_mocks({api.swift: ['swift_get_containers']}) def test_containers_get(self): self.mock_swift_get_containers.return_value = (self.containers.list(), False) self.mock_swift_get_containers.assert_called_once_with(request) @test.create_mocks({api.swift: ['swift_get_container']}) def test_container_get(self): self.mock_swift_get_container.return_value = self.containers.first() self.assertEqual(response.json, self.containers.first().to_dict()) self.mock_swift_get_container.assert_called_once_with( request, u'container one%\u6346') @test.create_mocks({api.swift: ['swift_create_container']}) def test_container_create(self): self.mock_swift_create_container.return_value = self.containers.first() self.mock_swift_create_container.assert_called_once_with( @test.create_mocks({api.swift: ['swift_create_container']}) def test_container_create_is_public(self): self.mock_swift_create_container.return_value = self.containers.first() self.mock_swift_create_container.assert_called_once_with( @test.create_mocks({api.swift: ['swift_delete_container']}) def test_container_delete(self): self.mock_swift_delete_container.return_value = True self.mock_swift_delete_container.assert_called_once_with( @test.create_mocks({api.swift: ['swift_update_container']}) def test_container_update(self): self.mock_swift_update_container.assert_called_once_with( @test.create_mocks({api.swift: ['swift_get_objects']}) def test_objects_get(self): self.mock_swift_get_objects.return_value = ( self.objects.list() + self.folder.list(), False self.mock_swift_get_objects.assert_called_once_with( request, u'container one%\u6346', prefix=None) @test.create_mocks({api.swift: ['swift_get_objects']}) def test_container_get_path_folder(self): self.mock_swift_get_objects.return_value = (self.subfolder.list(), False) self.mock_swift_get_objects.assert_called_once_with( @test.create_mocks({api.swift: ['swift_get_object']}) def test_object_get(self): self.mock_swift_get_object.return_value = self.objects.first() self.assertEqual(response.json, self.objects.first().to_dict()) self.mock_swift_get_object.assert_called_once_with( @test.create_mocks({api.swift: ['swift_delete_object']}) def test_object_delete(self): self.mock_swift_delete_object.return_value = True self.mock_swift_delete_object.assert_called_once_with(request, 'container', 'test.txt') @test.create_mocks({api.swift: ['swift_upload_object'], swift: ['UploadObjectForm']}) def test_object_create(self): form_obj = self.mock_UploadObjectForm.return_value form_obj.is_valid.return_value = True _file = mock.Mock(name=u'NOT object%\u6346') form_obj.clean.return_value = {'file': _file} self.mock_swift_upload_object.return_value = self.objects.first() self.mock_swift_upload_object.assert_called_once_with( request, 'spam', u'test_object%\u6346', _file) @test.create_mocks({api.swift: ['swift_create_pseudo_folder'], swift: ['UploadObjectForm']}) def test_folder_create(self): form_obj = self.mock_UploadObjectForm.return_value form_obj.is_valid.return_value = True form_obj.clean.return_value = {} self.mock_swift_create_pseudo_folder.return_value = \ self.folder_alt.first() self.mock_swift_create_pseudo_folder.assert_called_once_with( request, 'spam', u'test_folder%\u6346/') @test.create_mocks({api.swift: ['swift_copy_object']}) def test_object_copy(self): self.mock_swift_copy_object.return_value = self.objects.first() self.mock_swift_copy_object.assert_called_once_with( request, 'spam', u'test object%\u6346', 'eggs', 'bacon')","from openstack_dashboard.test.test_data import swift_data from openstack_dashboard.test.test_data.utils import TestData TEST = TestData(swift_data.data) def setUp(self): super(SwiftRestTestCase, self).setUp() self._containers = TEST.containers.list() self._objects = TEST.objects.list() self._folder = TEST.folder.list() self._folder_alt = TEST.folder_alt.list() self._subfolder = TEST.subfolder.list() @mock.patch.object(swift.api, 'swift') def test_version_get(self, nc): nc.swift_get_capabilities.return_value = {'swift': {'version': '1.0'}} nc.swift_get_capabilities.assert_called_once_with(request) @mock.patch.object(swift.api, 'swift') def test_containers_get(self, nc): nc.swift_get_containers.return_value = (self._containers, False) nc.swift_get_containers.assert_called_once_with(request) # # Container # @mock.patch.object(swift.api, 'swift') def test_container_get(self, nc): nc.swift_get_container.return_value = self._containers[0] self.assertEqual(response.json, self._containers[0].to_dict()) nc.swift_get_container.assert_called_once_with(request, u'container one%\u6346') @mock.patch.object(swift.api, 'swift') def test_container_create(self, nc): nc.swift_create_container.assert_called_once_with( @mock.patch.object(swift.api, 'swift') def test_container_create_is_public(self, nc): nc.swift_create_container.assert_called_once_with( @mock.patch.object(swift.api, 'swift') def test_container_delete(self, nc): nc.swift_delete_container.assert_called_once_with( @mock.patch.object(swift.api, 'swift') def test_container_update(self, nc): nc.swift_update_container.assert_called_once_with( @mock.patch.object(swift.api, 'swift') def test_objects_get(self, nc): nc.swift_get_objects.return_value = ( self._objects + self._folder, False nc.swift_get_objects.assert_called_once_with(request, u'container one%\u6346', prefix=None) @mock.patch.object(swift.api, 'swift') def test_container_get_path_folder(self, nc): nc.swift_get_objects.return_value = (self._subfolder, False) nc.swift_get_objects.assert_called_once_with( # # Object # @mock.patch.object(swift.api, 'swift') def test_object_get(self, nc): nc.swift_get_object.return_value = self._objects[0] self.assertEqual(response.json, self._objects[0].to_dict()) nc.swift_get_object.assert_called_once_with( @mock.patch.object(swift.api, 'swift') def test_object_delete(self, nc): nc.swift_delete_object.return_value = True nc.swift_delete_object.assert_called_once_with(request, 'container', 'test.txt') @mock.patch.object(swift, 'UploadObjectForm') @mock.patch.object(swift.api, 'swift') def test_object_create(self, nc, uf): uf.return_value.is_valid.return_value = True file = mock.Mock(name=u'NOT object%\u6346') uf.return_value.clean.return_value = {'file': file} nc.swift_upload_object.return_value = self._objects[0] self.assertTrue(nc.swift_upload_object.called) call = nc.swift_upload_object.call_args[0] self.assertEqual(call[0:3], (request, 'spam', u'test_object%\u6346')) self.assertEqual(call[3], file) @mock.patch.object(swift, 'UploadObjectForm') @mock.patch.object(swift.api, 'swift') def test_folder_create(self, nc, uf): uf.return_value.is_valid.return_value = True uf.return_value.clean.return_value = {} nc.swift_create_pseudo_folder.return_value = self._folder_alt[0] self.assertTrue(nc.swift_create_pseudo_folder.called) call = nc.swift_create_pseudo_folder.call_args[0] self.assertEqual(call[0:3], (request, 'spam', u'test_folder%\u6346/')) @mock.patch.object(swift.api, 'swift') def test_object_copy(self, nc): nc.swift_copy_object.return_value = self._objects[0] self.assertTrue(nc.swift_copy_object.called) call = nc.swift_copy_object.call_args[0] self.assertEqual(call[0:5], (request, 'spam', u'test object%\u6346', 'eggs', 'bacon'))",85,97
openstack%2Fpython-watcherclient~master~I35f49cea5915272e21ac1351dfb190c2b55be335,openstack/python-watcherclient,master,I35f49cea5915272e21ac1351dfb190c2b55be335,Updated from global requirements,MERGED,2018-03-15 08:06:55.000000000,2018-03-23 12:35:21.000000000,2018-03-23 12:35:21.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 08:06:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/f8ead12481b4a423dbe674246955eae6758fdd2b', 'message': 'Updated from global requirements\n\nChange-Id: I35f49cea5915272e21ac1351dfb190c2b55be335\n'}]",0,553265,f8ead12481b4a423dbe674246955eae6758fdd2b,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I35f49cea5915272e21ac1351dfb190c2b55be335
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/65/553265/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f8ead12481b4a423dbe674246955eae6758fdd2b,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fnetworking-midonet~master~I9d4abdd284bf5ea054fef0714197efb41910d902,openstack/networking-midonet,master,I9d4abdd284bf5ea054fef0714197efb41910d902,gate_hook: Exclude test_server_connectivity_stop_start for now,ABANDONED,2018-03-10 03:08:42.000000000,2018-03-23 12:25:00.000000000,,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 03:08:42.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/dbaa1db68d5b1c462127b0bff24a9145cf5bd6b8', 'message': 'gate_hook: Exclude test_server_connectivity_stop_start for now\n\nThe test case started failing recently.  Skip it for now\nuntil I found time to investigate.\n\nRelated-Bug: #1752547\nChange-Id: I9d4abdd284bf5ea054fef0714197efb41910d902\n'}]",0,551419,dbaa1db68d5b1c462127b0bff24a9145cf5bd6b8,7,4,1,6854,,,0,"gate_hook: Exclude test_server_connectivity_stop_start for now

The test case started failing recently.  Skip it for now
until I found time to investigate.

Related-Bug: #1752547
Change-Id: I9d4abdd284bf5ea054fef0714197efb41910d902
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/19/551419/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,dbaa1db68d5b1c462127b0bff24a9145cf5bd6b8,bug/1752547,"# bug 1752547 r=""$r|(?:^tempest\.scenario\.test_network_advanced_server_ops\.TestNetworkAdvancedServerOps\.test_server_connectivity_stop_start)"" ",,3,0
openstack%2Fpython-ironicclient~master~I5a858540f4867480c7b2c7c21b7a96ba1165f360,openstack/python-ironicclient,master,I5a858540f4867480c7b2c7c21b7a96ba1165f360,fix a typo in documentation,MERGED,2018-03-23 00:09:45.000000000,2018-03-23 12:22:01.000000000,2018-03-23 12:22:00.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:09:45.000000000', 'files': ['ironicclient/osc/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d9e44d66d628c18474cfb3feef8c0ac97b9c4841', 'message': 'fix a typo in documentation\n\nChange-Id: I5a858540f4867480c7b2c7c21b7a96ba1165f360\n'}]",0,555511,d9e44d66d628c18474cfb3feef8c0ac97b9c4841,6,2,1,17130,,,0,"fix a typo in documentation

Change-Id: I5a858540f4867480c7b2c7c21b7a96ba1165f360
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/11/555511/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/osc/plugin.py'],1,d9e44d66d628c18474cfb3feef8c0ac97b9c4841,trivialfix," # The default value of ""True"" may have been overridden due to"," # The default value of ""True"" may have been overriden due to",1,1
openstack%2Fnetworking-bagpipe~master~I9634bd4063cdae9d7cd889248ab3af581a56c129,openstack/networking-bagpipe,master,I9634bd4063cdae9d7cd889248ab3af581a56c129,fix typos in documentation,MERGED,2018-03-23 00:29:45.000000000,2018-03-23 12:20:54.000000000,2018-03-23 12:20:54.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:29:45.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/common/looking_glass.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e24d4b08182ede2cc12d9d8dc5126310120dc9a0', 'message': 'fix typos in documentation\n\nChange-Id: I9634bd4063cdae9d7cd889248ab3af581a56c129\n'}]",0,555543,e24d4b08182ede2cc12d9d8dc5126310120dc9a0,6,2,1,17130,,,0,"fix typos in documentation

Change-Id: I9634bd4063cdae9d7cd889248ab3af581a56c129
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/43/555543/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/bagpipe_bgp/common/looking_glass.py', 'devstack/settings']",2,e24d4b08182ede2cc12d9d8dc5126310120dc9a0,triviafix, # Have bagpipe-bgp use VXLAN driver for E-VPN (unless overridden), # Have bagpipe-bgp use VXLAN driver for E-VPN (unless overriden),3,3
openstack%2Frally~master~Ic2ea83329d9fe774a5a666c4e988487ef502ce7f,openstack/rally,master,Ic2ea83329d9fe774a5a666c4e988487ef502ce7f,Update the CirrOS image to 0.4.0.,MERGED,2018-03-12 23:14:00.000000000,2018-03-23 12:14:52.000000000,2018-03-23 12:14:52.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-03-12 23:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7b26cec24cfa6deffa456fa442711da23bc15464', 'message': 'Update the CirrOS image to 0.4.0.\n\nBoth CirrOS releases 0.3.4 and 0.3.5 are inconsistently used. Now all sample scenarios will use the latest stable 0.4.0 release. The image_location setting has also been converted into a Jinja template variable.\n\nChange-Id: Ic2ea83329d9fe774a5a666c4e988487ef502ce7f\nCloses-Bug: 1751322\n'}, {'number': 2, 'created': '2018-03-19 22:14:05.000000000', 'files': ['samples/tasks/scenarios/glance/create-and-get-image.json', 'samples/tasks/scenarios/glance/create-and-download-image.yaml', 'samples/tasks/scenarios/glance/create-image-and-boot-instances.json', 'samples/tasks/scenarios/glance/create-and-delete-image.yaml', 'samples/tasks/scenarios/glance/create-and-get-image.yaml', 'samples/tasks/scenarios/glance/create-and-list-image.json', 'samples/tasks/scenarios/glance/list-images.json', 'samples/tasks/scenarios/glance/create-and-delete-image.json', 'samples/tasks/scenarios/glance/create-and-update-image.yaml', 'samples/tasks/scenarios/glance/create-image-and-boot-instances.yaml', 'samples/tasks/scenarios/glance/create-and-update-image.json', 'samples/tasks/scenarios/glance/create-and-deactivate-image.json', 'samples/tasks/scenarios/glance/list-images.yaml', 'samples/tasks/scenarios/glance/create-and-list-image.yaml', 'samples/tasks/scenarios/glance/create-and-deactivate-image.yaml', 'samples/tasks/scenarios/glance/create-and-download-image.json'], 'web_link': 'https://opendev.org/openstack/rally/commit/7c5a5d62a70f0c1eb812a1e3ff25c3cdf8c276c2', 'message': 'Update the CirrOS image to 0.4.0.\n\nBoth CirrOS releases 0.3.4 and 0.3.5 are inconsistently used. Now all\nsample scenarios will use the latest stable 0.4.0 release. The\nimage_location setting has also been converted into a Jinja template\nvariable.\n\nChange-Id: Ic2ea83329d9fe774a5a666c4e988487ef502ce7f\nCloses-Bug: 1751322\n'}]",1,552175,7c5a5d62a70f0c1eb812a1e3ff25c3cdf8c276c2,14,3,2,25877,,,0,"Update the CirrOS image to 0.4.0.

Both CirrOS releases 0.3.4 and 0.3.5 are inconsistently used. Now all
sample scenarios will use the latest stable 0.4.0 release. The
image_location setting has also been converted into a Jinja template
variable.

Change-Id: Ic2ea83329d9fe774a5a666c4e988487ef502ce7f
Closes-Bug: 1751322
",git fetch https://review.opendev.org/openstack/rally refs/changes/75/552175/2 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/glance/create-and-get-image.json', 'samples/tasks/scenarios/glance/create-and-download-image.yaml', 'samples/tasks/scenarios/glance/create-image-and-boot-instances.json', 'samples/tasks/scenarios/glance/create-and-delete-image.yaml', 'samples/tasks/scenarios/glance/create-and-get-image.yaml', 'samples/tasks/scenarios/glance/create-and-list-image.json', 'samples/tasks/scenarios/glance/list-images.json', 'samples/tasks/scenarios/glance/create-and-delete-image.json', 'samples/tasks/scenarios/glance/create-and-update-image.yaml', 'samples/tasks/scenarios/glance/create-image-and-boot-instances.yaml', 'samples/tasks/scenarios/glance/create-and-update-image.json', 'samples/tasks/scenarios/glance/create-and-deactivate-image.json', 'samples/tasks/scenarios/glance/list-images.yaml', 'samples/tasks/scenarios/glance/create-and-list-image.yaml', 'samples/tasks/scenarios/glance/create-and-deactivate-image.yaml', 'samples/tasks/scenarios/glance/create-and-download-image.json']",16,7b26cec24cfa6deffa456fa442711da23bc15464,bug/1751322,"{% set image_location = image_location or ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" %} ""image_location"": ""{{ image_location }}"","," ""image_location"": ""http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img"",",34,18
openstack%2Fneutron~master~I85d9e49c24ee7c91229b43cd329c42149637f254,openstack/neutron,master,I85d9e49c24ee7c91229b43cd329c42149637f254,ovs-fw: Fix firewall blink,MERGED,2018-02-05 17:27:38.000000000,2018-03-23 12:11:10.000000000,2018-03-23 12:11:10.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8655}, {'_account_id': 9200}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-05 17:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2f2b9469dbaaf87c84d2761833cf4d51c23901b', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}, {'number': 2, 'created': '2018-02-06 10:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb9cb7101affa188294ae6e72a63f6fd8953f290', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}, {'number': 3, 'created': '2018-03-14 18:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4145f1063363eecf22a7dcb5a1ff6d36663298ec', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}, {'number': 4, 'created': '2018-03-15 10:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ee62b224b1e9c561ea3f3159229f24b956ce13f', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}, {'number': 5, 'created': '2018-03-15 12:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1aca4556807ed79040d240d2be4275385b3f8178', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}, {'number': 6, 'created': '2018-03-16 13:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0744ee4fe90685772b5462e9cef11376b86e99b', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}, {'number': 7, 'created': '2018-03-16 15:39:36.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f7ba76075dd0d645ad6cee6854f87cc41cba1fa', 'message': 'ovs-fw: Fix firewall blink\n\nPreviously, when security group was updated for given port, the firewall\nremoved all flows related to the port and added new rules. That\nintroduced a time window where there were no rules for the port.\n\nThis patch adds a new mechanism using cookie that can be described in\nthree states:\n\n1) Create new openflow rules with non-default cookie that is considered\nan updated cookie. All newly generated flows will be added with the next\ncookie and all existing rules with default cookie are rewritten with the\ndefault cookie.\n2) Delete all rules for given port with the old default cookie. This\nwill leave the newly added rules in place.\n3) Update the newly added flows with update cookie back to the default\ncookie in order to avoid such flows being cleaned on the next restart of\novs agent, as it fetches for stale flows.\n\nChange-Id: I85d9e49c24ee7c91229b43cd329c42149637f254\nCloses-bug: #1708731\n'}]",8,540943,6f7ba76075dd0d645ad6cee6854f87cc41cba1fa,72,13,7,8655,,,0,"ovs-fw: Fix firewall blink

Previously, when security group was updated for given port, the firewall
removed all flows related to the port and added new rules. That
introduced a time window where there were no rules for the port.

This patch adds a new mechanism using cookie that can be described in
three states:

1) Create new openflow rules with non-default cookie that is considered
an updated cookie. All newly generated flows will be added with the next
cookie and all existing rules with default cookie are rewritten with the
default cookie.
2) Delete all rules for given port with the old default cookie. This
will leave the newly added rules in place.
3) Update the newly added flows with update cookie back to the default
cookie in order to avoid such flows being cleaned on the next restart of
ovs agent, as it fetches for stale flows.

Change-Id: I85d9e49c24ee7c91229b43cd329c42149637f254
Closes-bug: #1708731
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/540943/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_firewall.py']",2,d2f2b9469dbaaf87c84d2761833cf4d51c23901b,bug/1708731,, @skip_if_firewall('openvswitch'),19,2
openstack%2Frally-openstack~master~Ic7b09a0a1f6d859f3db92400fb15ed9c1b69ea89,openstack/rally-openstack,master,Ic7b09a0a1f6d859f3db92400fb15ed9c1b69ea89,[envs] Creating a spec from system environment variables,MERGED,2018-03-22 18:01:02.000000000,2018-03-23 12:01:25.000000000,2018-03-23 12:01:24.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 18:01:02.000000000', 'files': ['rally_openstack/platforms/existing.py', 'tests/unit/platforms/test_existing.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bec228a7f798f92f5d134686b8d0cd16e2e000ba', 'message': '[envs] Creating a spec from system environment variables\n\nDeployment component had a noce hardcoded to openstack feature - create\na specification based on system environment variables.\n\nThis patch ports this feature to Environment manager and extends with\nability to configure not only OpenStack things.\n\nChange-Id: Ic7b09a0a1f6d859f3db92400fb15ed9c1b69ea89\n'}]",0,555396,bec228a7f798f92f5d134686b8d0cd16e2e000ba,6,2,1,9545,,,0,"[envs] Creating a spec from system environment variables

Deployment component had a noce hardcoded to openstack feature - create
a specification based on system environment variables.

This patch ports this feature to Environment manager and extends with
ability to configure not only OpenStack things.

Change-Id: Ic7b09a0a1f6d859f3db92400fb15ed9c1b69ea89
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/96/555396/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/platforms/existing.py', 'tests/unit/platforms/test_existing.py', 'CHANGELOG.rst']",3,bec228a7f798f92f5d134686b8d0cd16e2e000ba,release-notes,* Extend existing@openstack platform to support creating a specification based on system environment variables. This feature should be available with Rally>0.11.1,,129,0
openstack%2Frally-openstack~master~Icecfcd255fb83250cb77e8505f6b4846e005725c,openstack/rally-openstack,master,Icecfcd255fb83250cb77e8505f6b4846e005725c,Neutron scenario to delete subnets for the same network concurrently,MERGED,2018-03-22 18:42:29.000000000,2018-03-23 12:01:24.000000000,2018-03-23 12:01:24.000000000,"[{'_account_id': 9545}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 18:42:29.000000000', 'files': ['tests/unit/scenarios/neutron/test_network.py', 'rally_openstack/contexts/network/networks.py', 'samples/tasks/scenarios/neutron/delete-subnets.json', 'rally-jobs/neutron.yaml', 'tests/unit/contexts/network/test_network.py', 'tasks/openstack/macro/macro.yaml', 'rally_openstack/wrappers/network.py', 'tests/unit/wrappers/test_network.py', 'rally_openstack/scenarios/neutron/network.py', 'tasks/openstack/scenario/neutron.yaml', 'samples/tasks/scenarios/neutron/delete-subnets.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c824883b9e0a28f3d3fec6325bd52237c54206e1', 'message': 'Neutron scenario to delete subnets for the same network concurrently\n\nThis scenario, executed concurrently, should be able to trigger any IP\nallocation race conditions in database layer of Neutron IPAM layer.\n\nChange-Id: Icecfcd255fb83250cb77e8505f6b4846e005725c\n'}]",0,555419,c824883b9e0a28f3d3fec6325bd52237c54206e1,8,3,1,9545,,,0,"Neutron scenario to delete subnets for the same network concurrently

This scenario, executed concurrently, should be able to trigger any IP
allocation race conditions in database layer of Neutron IPAM layer.

Change-Id: Icecfcd255fb83250cb77e8505f6b4846e005725c
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/19/555419/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/scenarios/neutron/test_network.py', 'rally_openstack/contexts/network/networks.py', 'samples/tasks/scenarios/neutron/delete-subnets.json', 'rally-jobs/neutron.yaml', 'tests/unit/contexts/network/test_network.py', 'tasks/openstack/macro/macro.yaml', 'rally_openstack/wrappers/network.py', 'tests/unit/wrappers/test_network.py', 'rally_openstack/scenarios/neutron/network.py', 'tasks/openstack/scenario/neutron.yaml', 'samples/tasks/scenarios/neutron/delete-subnets.yaml', 'CHANGELOG.rst']",12,c824883b9e0a28f3d3fec6325bd52237c54206e1,neutron,* NeutronSubnets.delete_subnets,,214,19
openstack%2Ftripleo-quickstart-extras~master~I413ab6cbfbeb99fff5e6eb9f98077b18fa8bfab8,openstack/tripleo-quickstart-extras,master,I413ab6cbfbeb99fff5e6eb9f98077b18fa8bfab8,Fix custom_nameserver must be a list,MERGED,2018-03-22 09:56:40.000000000,2018-03-23 11:54:11.000000000,2018-03-23 11:54:11.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 11090}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-22 09:56:40.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd0d70e44f4b44a49c7744161f98028a0240fe33', 'message': 'Fix custom_nameserver must be a list\n\nFix undercloud-setup docs and defaults for custom_nameserver.\nWhen it is not a list,\nundercloud-setup/templates/ovb-undercloud-connectivity.sh.j2#n59\nproduces bad values treating each symbol of a string as a nameserver.\n\nRelated-bug: #1737555\n\nChange-Id: I413ab6cbfbeb99fff5e6eb9f98077b18fa8bfab8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,555227,fd0d70e44f4b44a49c7744161f98028a0240fe33,10,9,1,6926,,,0,"Fix custom_nameserver must be a list

Fix undercloud-setup docs and defaults for custom_nameserver.
When it is not a list,
undercloud-setup/templates/ovb-undercloud-connectivity.sh.j2#n59
produces bad values treating each symbol of a string as a nameserver.

Related-bug: #1737555

Change-Id: I413ab6cbfbeb99fff5e6eb9f98077b18fa8bfab8
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/555227/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/README.md']",2,fd0d70e44f4b44a49c7744161f98028a0240fe33,bug/1737555,"- custom_nameserver: <['8.8.8.8']> -- A list, added to /etc/resolv.conf for access in custom environments",- custom_nameserver: <8.8.8.8> -- Added to /etc/resolv.conf for access in custom environments,3,2
openstack%2Fansible-role-systemd_service~master~I803bca638c30696004f934ad1e28920786948f38,openstack/ansible-role-systemd_service,master,I803bca638c30696004f934ad1e28920786948f38,Add service restart handler,MERGED,2018-03-21 03:59:06.000000000,2018-03-23 11:50:38.000000000,2018-03-23 11:50:38.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/473c877b090727da0364210a0a59252f27395f88', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 2, 'created': '2018-03-21 03:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/ee74a243c0139b80446e9e4c3e577e0c9fa9390e', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 3, 'created': '2018-03-23 01:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/e2378cc487285d8451a72ae79b2a016b6cba7986', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 4, 'created': '2018-03-23 01:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/a1301b73b931bbe86193f969564760e65a2bc74d', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 5, 'created': '2018-03-23 01:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/9231e19bf0b5eed7b5929f74f34865e46537fc58', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 6, 'created': '2018-03-23 01:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/9ab613ef818df4b0aa79d8159958a0851286f355', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 7, 'created': '2018-03-23 01:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/7625ce3224de30e58ed1cd5daefe21f1a36b628c', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 8, 'created': '2018-03-23 01:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/6d7b88b43a50ecd9b76f49655079f53420de402c', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 9, 'created': '2018-03-23 02:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/c1e98e89f1553129f874c093d0fea317e220cdf4', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}, {'number': 10, 'created': '2018-03-23 02:22:49.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml', 'tests/test.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/72efb59ad531f4f2571bc340eeb2f2eb6ca5ebbd', 'message': ""Add service restart handler\n\nA global var systemd_service_restart_changed is added which toggles\nrestart on unit file change for all systemd_services.\n\nA systemd_services var 'restart_changed' is added to toggle restarts\non a per-service basis.\n\nsystemd daemon is not reloaded in a loop anymore, it is only\nreloaded once, in a handler, when unit files change.\n\nConsumer roles of systemd_service can listen to the handler\n'systemd service changed' to implement additional orchestration when\nservice units are modified.\n\nChange-Id: I803bca638c30696004f934ad1e28920786948f38\n""}]",4,554786,72efb59ad531f4f2571bc340eeb2f2eb6ca5ebbd,28,5,10,17799,,,0,"Add service restart handler

A global var systemd_service_restart_changed is added which toggles
restart on unit file change for all systemd_services.

A systemd_services var 'restart_changed' is added to toggle restarts
on a per-service basis.

systemd daemon is not reloaded in a loop anymore, it is only
reloaded once, in a handler, when unit files change.

Consumer roles of systemd_service can listen to the handler
'systemd service changed' to implement additional orchestration when
service units are modified.

Change-Id: I803bca638c30696004f934ad1e28920786948f38
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/86/554786/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml', 'defaults/main.yml']",3,473c877b090727da0364210a0a59252f27395f88,restart-handler,# Restart services when a change occurs systemd_service_restart_changed: yes # restart_changed: no,,35,1
openstack%2Fpuppet-octavia~master~I8fd9246105e1e1ac2caeee21dc97742cfe1d199f,openstack/puppet-octavia,master,I8fd9246105e1e1ac2caeee21dc97742cfe1d199f,fix a typo in documentation,MERGED,2018-03-23 00:13:35.000000000,2018-03-23 11:45:15.000000000,2018-03-23 11:45:15.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:13:35.000000000', 'files': ['spec/classes/octavia_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/b81ab98b5bab3ac1399bcf6cbaf19f2041df8f5b', 'message': 'fix a typo in documentation\n\nChange-Id: I8fd9246105e1e1ac2caeee21dc97742cfe1d199f\n'}]",0,555518,b81ab98b5bab3ac1399bcf6cbaf19f2041df8f5b,8,4,1,17130,,,0,"fix a typo in documentation

Change-Id: I8fd9246105e1e1ac2caeee21dc97742cfe1d199f
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/18/555518/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/octavia_init_spec.rb'],1,b81ab98b5bab3ac1399bcf6cbaf19f2041df8f5b,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fbifrost~master~I4c09b7b53447cf71a21593582791e5554b4cffee,openstack/bifrost,master,I4c09b7b53447cf71a21593582791e5554b4cffee,Follow the new PTI for document build,ABANDONED,2018-03-12 07:11:36.000000000,2018-03-23 11:35:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 22474}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-12 07:11:36.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8514ca7a81a753962867c78b96c96fefd3693e3f', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I4c09b7b53447cf71a21593582791e5554b4cffee\n'}]",0,551863,8514ca7a81a753962867c78b96c96fefd3693e3f,5,3,1,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I4c09b7b53447cf71a21593582791e5554b4cffee
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/63/551863/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,8514ca7a81a753962867c78b96c96fefd3693e3f,update-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,13,5
openstack%2Ftripleo-quickstart~master~I73bb09a61110ec2712ece661305df5174fb4ded0,openstack/tripleo-quickstart,master,I73bb09a61110ec2712ece661305df5174fb4ded0,Support multiple environment files,MERGED,2018-03-20 09:21:44.000000000,2018-03-23 11:28:39.000000000,2018-03-23 11:28:39.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23327}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-20 09:21:44.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6ab62a5d382088f9ef2efcdd08cb5cb6dfe8859c', 'message': ""Support multiple environment files\n\nMake quickstart.sh supporting multiple '-E' env files, similarly to\n'-e'. This streamlines user expectations with the standard ansible\nbehavior.\n\nChange-Id: I73bb09a61110ec2712ece661305df5174fb4ded0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",3,554473,6ab62a5d382088f9ef2efcdd08cb5cb6dfe8859c,16,12,1,6926,,,0,"Support multiple environment files

Make quickstart.sh supporting multiple '-E' env files, similarly to
'-e'. This streamlines user expectations with the standard ansible
behavior.

Change-Id: I73bb09a61110ec2712ece661305df5174fb4ded0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/73/554473/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,6ab62a5d382088f9ef2efcdd08cb5cb6dfe8859c,multi_envs,"OPT_ENVIRONMENT=() OPT_ENVIRONMENT+=(""-e"") OPT_ENVIRONMENT+=(""@$2""): ${OPT_ENVIRONMENT:=-e @$OPT_WORKDIR/config/environments/default_libvirt.yml} ${OPT_ENVIRONMENT[@]} \", OPT_ENVIRONMENT=$2: ${OPT_ENVIRONMENT:=$OPT_WORKDIR/config/environments/default_libvirt.yml} -e @$OPT_ENVIRONMENT \,5,3
openstack%2Ftripleo-common~master~I309deb695a7aeb8cf708281ca2ab657986f313de,openstack/tripleo-common,master,I309deb695a7aeb8cf708281ca2ab657986f313de,Ensure output of shlex is quoted,ABANDONED,2018-03-20 20:03:05.000000000,2018-03-23 11:23:04.000000000,,"[{'_account_id': 7118}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 20:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1f87284a7613a8dbd2540de7e6c6eb1a41b9b23', 'message': 'Ensure output of shlex is quoted\n\nChange I1e64647b3de86bc87a2a04cedf54ac83bbd4963d added ""--mkfs-options\n\'-s size=4096\'"" to the build options.  It uses shlex which breaks it\nup into arguments, but doesn\'t by default retain quotes:\n\n >>> shlex.split(""--mkfs-options \'-s size=4096\'"")\n [\'--mkfs-options\', \'-s size=4096\']\n\nThat results in the command being\n\n Running [\'disk-image-create\', ... , u\'--mkfs-options\', u""\'-s"", u""size=4096\'"", ... ]\n\nthus dib thinks ""size=4096"" is the name of an element, and fails.\n\nshlex seems to have a ""posix=False"" argument that fixes this for us by\nretaining quotes:\n\n >>> shlex.split(""--mkfs-options \'-s size=4096\'"", posix=False)\n [\'--mkfs-options\', ""\'-s size=4096\'""]\n\nso use that\n\nChange-Id: I309deb695a7aeb8cf708281ca2ab657986f313de\n'}, {'number': 2, 'created': '2018-03-21 00:52:32.000000000', 'files': ['tripleo_common/image/image_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c825200f6f2871b2c37b91665d07bbcb63c1701', 'message': 'Ensure output of shlex is quoted\n\nChange I1e64647b3de86bc87a2a04cedf54ac83bbd4963d added ""--mkfs-options\n\'-s size=4096\'"" to the build options.  It uses shlex which breaks it\nup into arguments, but doesn\'t by default retain quotes:\n\n >>> shlex.split(""--mkfs-options \'-s size=4096\'"")\n [\'--mkfs-options\', \'-s size=4096\']\n\nThat results in the command being\n\n Running [\'disk-image-create\', ... , u\'--mkfs-options\', u""\'-s"", u""size=4096\'"", ... ]\n\nthus dib thinks ""size=4096"" is the name of an element, and fails.\n\nshlex seems to have a ""posix=False"" argument that fixes this for us by\nretaining quotes:\n\n >>> shlex.split(""--mkfs-options \'-s size=4096\'"", posix=False)\n [\'--mkfs-options\', ""\'-s size=4096\'""]\n\nso use that\n\nChange-Id: I309deb695a7aeb8cf708281ca2ab657986f313de\n'}]",3,554684,2c825200f6f2871b2c37b91665d07bbcb63c1701,9,3,2,7118,,,0,"Ensure output of shlex is quoted

Change I1e64647b3de86bc87a2a04cedf54ac83bbd4963d added ""--mkfs-options
'-s size=4096'"" to the build options.  It uses shlex which breaks it
up into arguments, but doesn't by default retain quotes:

 >>> shlex.split(""--mkfs-options '-s size=4096'"")
 ['--mkfs-options', '-s size=4096']

That results in the command being

 Running ['disk-image-create', ... , u'--mkfs-options', u""'-s"", u""size=4096'"", ... ]

thus dib thinks ""size=4096"" is the name of an element, and fails.

shlex seems to have a ""posix=False"" argument that fixes this for us by
retaining quotes:

 >>> shlex.split(""--mkfs-options '-s size=4096'"", posix=False)
 ['--mkfs-options', ""'-s size=4096'""]

so use that

Change-Id: I309deb695a7aeb8cf708281ca2ab657986f313de
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/554684/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_builder.py'],1,c1f87284a7613a8dbd2540de7e6c6eb1a41b9b23,quotes-shlex," # Note; posix=False so that quotes are retained # on things like ""--mkfs-options '-s size=4096'"" cmd.extend(shlex.split(option, posix=False))", cmd.extend(shlex.split(option)),3,1
openstack%2Fpuppet-nova~master~Ia3534bdaf26c58d618b4acd5df1d75322a088170,openstack/puppet-nova,master,Ia3534bdaf26c58d618b4acd5df1d75322a088170,fix typos in documentation,MERGED,2018-03-23 00:22:43.000000000,2018-03-23 11:17:22.000000000,2018-03-23 11:17:22.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:22:43.000000000', 'files': ['spec/classes/nova_db_spec.rb', 'spec/classes/nova_init_spec.rb', 'spec/classes/nova_migration_qemu_spec.rb', 'spec/classes/nova_compute_libvirt_qemu_spec.rb', 'spec/classes/nova_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/20925e24287b79684b91fdc620ea13d98e245211', 'message': 'fix typos in documentation\n\nChange-Id: Ia3534bdaf26c58d618b4acd5df1d75322a088170\n'}]",0,555535,20925e24287b79684b91fdc620ea13d98e245211,8,4,1,17130,,,0,"fix typos in documentation

Change-Id: Ia3534bdaf26c58d618b4acd5df1d75322a088170
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/35/555535/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_db_spec.rb', 'spec/classes/nova_init_spec.rb', 'spec/classes/nova_migration_qemu_spec.rb', 'spec/classes/nova_compute_libvirt_qemu_spec.rb', 'spec/classes/nova_conductor_spec.rb']",5,20925e24287b79684b91fdc620ea13d98e245211,puppet-nova, context 'with overridden workers parameter' do, context 'with overriden workers parameter' do,5,5
openstack%2Fneutron~master~I29a96295d3f715cb68a2be1e8345b78c8e490948,openstack/neutron,master,I29a96295d3f715cb68a2be1e8345b78c8e490948,"Revert ""use segment api def from neutron-lib""",MERGED,2018-03-21 18:33:49.000000000,2018-03-23 11:12:03.000000000,2018-03-23 11:12:03.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 18:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96ac599667592aca5c7d02d0a0961c929f377098', 'message': 'Revert ""use segment api def from neutron-lib""\n\nThis reverts commit ec1d5def67d404972d3a46a2c281380b061c5219.\n\nFor more details see https://bugs.launchpad.net/neutron/+bug/1757513\n\nChange-Id: I29a96295d3f715cb68a2be1e8345b78c8e490948\n'}, {'number': 2, 'created': '2018-03-22 10:03:53.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/models/segment.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/extensions/segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21e0942c0c15949b96a42df2a46e0201b7704643', 'message': 'Revert ""use segment api def from neutron-lib""\n\nThis reverts commit ec1d5def67d404972d3a46a2c281380b061c5219.\n\nFor more details see https://bugs.launchpad.net/neutron/+bug/1757513\n\nRelated-Bug: #1757513\n\nChange-Id: I29a96295d3f715cb68a2be1e8345b78c8e490948\n'}]",1,555016,21e0942c0c15949b96a42df2a46e0201b7704643,25,11,2,5367,,,0,"Revert ""use segment api def from neutron-lib""

This reverts commit ec1d5def67d404972d3a46a2c281380b061c5219.

For more details see https://bugs.launchpad.net/neutron/+bug/1757513

Related-Bug: #1757513

Change-Id: I29a96295d3f715cb68a2be1e8345b78c8e490948
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/555016/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/models/segment.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/extensions/segment.py']",5,96ac599667592aca5c7d02d0a0961c929f377098,use-lib-segment-apidef,"from neutron_lib.api import converters from neutron_lib.api.definitions import provider_net as providernet from neutron_lib.api.definitions import subnet as subnet_deffrom neutron_lib import constants from neutron_lib.db import constants as db_constSEGMENT = 'segment' SEGMENTS = '%ss' % SEGMENT SEGMENT_ID = 'segment_id' NETWORK_TYPE = 'network_type' PHYSICAL_NETWORK = 'physical_network' SEGMENTATION_ID = 'segmentation_id' NAME_LEN = db_const.NAME_FIELD_SIZE DESC_LEN = db_const.DESCRIPTION_FIELD_SIZE # Attribute Map RESOURCE_ATTRIBUTE_MAP = { SEGMENTS: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'is_visible': False}, 'network_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, PHYSICAL_NETWORK: {'allow_post': True, 'allow_put': False, 'default': constants.ATTR_NOT_SPECIFIED, 'validate': {'type:string': providernet.PHYSICAL_NETWORK_MAX_LEN}, 'is_visible': True}, NETWORK_TYPE: {'allow_post': True, 'allow_put': False, 'validate': {'type:string': providernet.NETWORK_TYPE_MAX_LEN}, 'is_visible': True}, SEGMENTATION_ID: {'allow_post': True, 'allow_put': False, 'default': constants.ATTR_NOT_SPECIFIED, 'convert_to': converters.convert_to_int, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'default': constants.ATTR_NOT_SPECIFIED, 'validate': {'type:string_or_none': NAME_LEN}, 'is_visible': True}, 'description': {'allow_post': True, 'allow_put': True, 'default': constants.ATTR_NOT_SPECIFIED, 'validate': {'type:string_or_none': DESC_LEN}, 'is_visible': True}, }, subnet_def.COLLECTION_NAME: { SEGMENT_ID: {'allow_post': True, 'allow_put': False, 'default': None, 'validate': {'type:uuid_or_none': None}, 'is_visible': True, }, }, } class Segment(api_extensions.ExtensionDescriptor): @classmethod def get_name(cls): return ""Segment"" @classmethod def get_alias(cls): return ""segment"" @classmethod def get_description(cls): return ""Segments extension."" @classmethod def get_updated(cls): return ""2016-02-24T17:00:00-00:00"" resource_attributes = RESOURCE_ATTRIBUTE_MAP[SEGMENTS] SEGMENTS, SEGMENT, directory.get_plugin(SEGMENTS), return [extensions.ResourceExtension(SEGMENTS, def get_extended_resources(self, version): if version == ""2.0"": return RESOURCE_ATTRIBUTE_MAP else: return {} return SEGMENTS","from neutron_lib.api.definitions import segment as apidef class Segment(api_extensions.APIExtensionDescriptor): api_definition = apidef resource_attributes = apidef.RESOURCE_ATTRIBUTE_MAP[ apidef.COLLECTION_NAME] apidef.COLLECTION_NAME, apidef.RESOURCE_NAME, directory.get_plugin(apidef.COLLECTION_NAME), return [extensions.ResourceExtension(apidef.COLLECTION_NAME, return apidef.COLLECTION_NAME",106,30
openstack%2Ftripleo-heat-templates~master~I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963,openstack/tripleo-heat-templates,master,I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963,Include pacemaker in Telemetry role,MERGED,2018-03-19 18:00:19.000000000,2018-03-23 11:08:12.000000000,2018-03-23 08:18:16.000000000,"[{'_account_id': 6924}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-19 18:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5c10b4ce0842c4dd0c742fef1881b60790b229b', 'message': 'Include pacemaker and haproxy in Telemetry role\n\nSince we include redis in telemetry role, we also need\nhaproxy and pacemaker for redis containers to start\ncorrectly.\n\nChange-Id: I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963\n'}, {'number': 2, 'created': '2018-03-19 18:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddc722cb778aa13bd802476e2602609fadc5c548', 'message': 'Include pacemaker and haproxy in Telemetry role\n\nSince we include redis in telemetry role, we also need\nhaproxy and pacemaker for redis containers to start\ncorrectly.\n\nCloses-bug: #1756959\n\nChange-Id: I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963\n'}, {'number': 3, 'created': '2018-03-19 18:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7ef69a111f410d60b727413f18e76bf591ffd97', 'message': 'Include pacemaker in Telemetry role\n\nSince we include redis in telemetry role, we also need\npacemaker for redis containers to start\ncorrectly.\n\nCloses-bug: #1756959\n\nChange-Id: I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963\n'}, {'number': 4, 'created': '2018-03-22 11:40:55.000000000', 'files': ['roles/Telemetry.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2da94c529aeb9fa23d5d8cc734a0e2bb3da9e71b', 'message': 'Include pacemaker in Telemetry role\n\nSince we include redis in telemetry role, we also need\npacemaker for redis containers to start\ncorrectly.\n\nCloses-bug: #1756959\n\nChange-Id: I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963\n'}]",0,554307,2da94c529aeb9fa23d5d8cc734a0e2bb3da9e71b,28,6,4,6924,,,0,"Include pacemaker in Telemetry role

Since we include redis in telemetry role, we also need
pacemaker for redis containers to start
correctly.

Closes-bug: #1756959

Change-Id: I6b5a07f33b50f443c63b04b1ef1d2c81a2c24963
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/554307/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/Telemetry.yaml'],1,e5c10b4ce0842c4dd0c742fef1881b60790b229b,bug/1756959, - OS::TripleO::Services::HAproxy - OS::TripleO::Services::Pacemaker,,2,0
openstack%2Fswift~feature%2Fs3api~Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f,openstack/swift,feature/s3api,Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f,Make s3api into pipeline in default,ABANDONED,2018-02-28 17:08:03.000000000,2018-03-23 11:05:39.000000000,,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-28 17:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6ed659df0752641360c20346ce00c6c38bfbebc', 'message': 'Make s3api into pipeline in default\n\nPlus S3 required headers to allowed_headers in default to\nwork s3api with default config.\n\nChange-Id: Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f\n'}, {'number': 2, 'created': '2018-03-01 13:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77f036fec484884671c92380806b215fbac5d194', 'message': 'Make s3api into pipeline in default\n\nPlus S3 required headers to allowed_headers in default to\nwork s3api with default config.\n\nDepends-On: Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f\nChange-Id: Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f\n'}, {'number': 3, 'created': '2018-03-02 09:50:16.000000000', 'files': ['swift/obj/server.py', 'etc/proxy-server.conf-sample', 'test/functional/__init__.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/e3c7b6bd5e98e8afa5f4add4d50cc2ef956c6175', 'message': 'Make s3api into pipeline in default\n\nPlus S3 required headers to allowed_headers in default to\nwork s3api with default config.\n\nDepends-On: Iee5b63fb1094a7e1dcfef5e8c2a22b7b5f1c903d\nChange-Id: Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f\n'}]",0,548666,e3c7b6bd5e98e8afa5f4add4d50cc2ef956c6175,7,2,3,4608,,,0,"Make s3api into pipeline in default

Plus S3 required headers to allowed_headers in default to
work s3api with default config.

Depends-On: Iee5b63fb1094a7e1dcfef5e8c2a22b7b5f1c903d
Change-Id: Id5ac9840c6d8fef9d8bb62137dc5df061b27b45f
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/548666/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'etc/proxy-server.conf-sample', 'test/functional/__init__.py', 'etc/object-server.conf-sample']",4,c6ed659df0752641360c20346ce00c6c38bfbebc,s3api-in-default,"# Content-Type, etag, Content-Length, or deleted. # Note that Cache-Control, Content-Language, Expires, and X-Robots-Tag required # for s3 compatibility.","# Content-Type, etag, Content-Length, or deleted # Note that there are some headers specific for S3 support, they are: # Cache-Control, Content-Language, Expires, and X-Robots-Tag",9,11
openstack%2Fpuppet-neutron~master~Ie24521d3e7295331e8ac191dd9405b40544982c8,openstack/puppet-neutron,master,Ie24521d3e7295331e8ac191dd9405b40544982c8,fix a typo in documentation,MERGED,2018-03-23 00:13:18.000000000,2018-03-23 10:57:48.000000000,2018-03-23 10:57:48.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:13:18.000000000', 'files': ['spec/classes/neutron_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8338981a7c69249bb2f9f655ebdb9fb97ddd5f61', 'message': 'fix a typo in documentation\n\nChange-Id: Ie24521d3e7295331e8ac191dd9405b40544982c8\n'}]",0,555517,8338981a7c69249bb2f9f655ebdb9fb97ddd5f61,8,4,1,17130,,,0,"fix a typo in documentation

Change-Id: Ie24521d3e7295331e8ac191dd9405b40544982c8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/17/555517/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_init_spec.rb'],1,8338981a7c69249bb2f9f655ebdb9fb97ddd5f61,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpuppet-swift~master~I3cfbd29b5fc9a5c6f53d2656b282f98a8d4df46c,openstack/puppet-swift,master,I3cfbd29b5fc9a5c6f53d2656b282f98a8d4df46c,fix typos in documentation,MERGED,2018-03-23 00:20:56.000000000,2018-03-23 10:56:03.000000000,2018-03-23 10:56:03.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:20:56.000000000', 'files': ['spec/classes/swift_dispersion_spec.rb', 'spec/classes/swift_proxy_ceilometer_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/93638f369645bc81a2f06f189a86d5e15ffc8716', 'message': 'fix typos in documentation\n\nChange-Id: I3cfbd29b5fc9a5c6f53d2656b282f98a8d4df46c\n'}]",0,555534,93638f369645bc81a2f06f189a86d5e15ffc8716,7,3,1,17130,,,0,"fix typos in documentation

Change-Id: I3cfbd29b5fc9a5c6f53d2656b282f98a8d4df46c
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/34/555534/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_dispersion_spec.rb', 'spec/classes/swift_proxy_ceilometer_spec.rb']",2,93638f369645bc81a2f06f189a86d5e15ffc8716,trivialfix, context 'with overridden rabbit ssl params' do, context 'with overriden rabbit ssl params' do,2,2
openstack%2Fpuppet-cloudkitty~master~I527a5caab89d3d2229756e4f7668a3f588637406,openstack/puppet-cloudkitty,master,I527a5caab89d3d2229756e4f7668a3f588637406,fix a typo in documentation,MERGED,2018-03-23 00:16:45.000000000,2018-03-23 10:55:03.000000000,2018-03-23 10:55:03.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:16:45.000000000', 'files': ['spec/classes/cloudkitty_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/a1a62e0aa1d43b5e93cb8d88146a2d093d965c03', 'message': 'fix a typo in documentation\n\nChange-Id: I527a5caab89d3d2229756e4f7668a3f588637406\n'}]",0,555526,a1a62e0aa1d43b5e93cb8d88146a2d093d965c03,7,3,1,17130,,,0,"fix a typo in documentation

Change-Id: I527a5caab89d3d2229756e4f7668a3f588637406
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/26/555526/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cloudkitty_init_spec.rb'],1,a1a62e0aa1d43b5e93cb8d88146a2d093d965c03,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpuppet-vitrage~master~Ib4def566b6121c06208f0b408038558b9e549a9a,openstack/puppet-vitrage,master,Ib4def566b6121c06208f0b408038558b9e549a9a,fix a typo in documentation,MERGED,2018-03-23 00:11:08.000000000,2018-03-23 10:54:46.000000000,2018-03-23 10:54:46.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:11:08.000000000', 'files': ['spec/classes/vitrage_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/702d86e0c445771c7ded13b8c4b4240150818e03', 'message': 'fix a typo in documentation\n\nChange-Id: Ib4def566b6121c06208f0b408038558b9e549a9a\n'}]",0,555514,702d86e0c445771c7ded13b8c4b4240150818e03,7,3,1,17130,,,0,"fix a typo in documentation

Change-Id: Ib4def566b6121c06208f0b408038558b9e549a9a
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/14/555514/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/vitrage_init_spec.rb'],1,702d86e0c445771c7ded13b8c4b4240150818e03,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpuppet-heat~master~I88ab31414d4f2072c55b2f4736eaadfb08eee2b0,openstack/puppet-heat,master,I88ab31414d4f2072c55b2f4736eaadfb08eee2b0,fix typos in documentation,MERGED,2018-03-23 00:15:20.000000000,2018-03-23 10:54:41.000000000,2018-03-23 10:54:41.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:15:20.000000000', 'files': ['spec/classes/heat_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e812bccbae89b4f1f4e2bd16ab6c6faa5d0b9c23', 'message': 'fix typos in documentation\n\nChange-Id: I88ab31414d4f2072c55b2f4736eaadfb08eee2b0\n'}]",0,555523,e812bccbae89b4f1f4e2bd16ab6c6faa5d0b9c23,8,4,1,17130,,,0,"fix typos in documentation

Change-Id: I88ab31414d4f2072c55b2f4736eaadfb08eee2b0
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/23/555523/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/heat_init_spec.rb'],1,e812bccbae89b4f1f4e2bd16ab6c6faa5d0b9c23,trivialfix, it_configures 'with overridden transport_url parameter' shared_examples_for 'with overridden transport_url parameter' do context 'with overridden amqp parameters' do, it_configures 'with overriden transport_url parameter' shared_examples_for 'with overriden transport_url parameter' do context 'with overriden amqp parameters' do,3,3
openstack%2Fpuppet-ironic~master~I49bb79b0fb2bccf1d3e6f9435e9a1a47eb8637e7,openstack/puppet-ironic,master,I49bb79b0fb2bccf1d3e6f9435e9a1a47eb8637e7,fix a typp in documentation,MERGED,2018-03-23 00:14:28.000000000,2018-03-23 10:54:37.000000000,2018-03-23 10:54:37.000000000,"[{'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:14:28.000000000', 'files': ['spec/classes/ironic_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/def2e5cacab991109112dacc3be4c4008abd8453', 'message': 'fix a typp in documentation\n\nChange-Id: I49bb79b0fb2bccf1d3e6f9435e9a1a47eb8637e7\n'}]",1,555521,def2e5cacab991109112dacc3be4c4008abd8453,7,3,1,17130,,,0,"fix a typp in documentation

Change-Id: I49bb79b0fb2bccf1d3e6f9435e9a1a47eb8637e7
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/21/555521/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_init_spec.rb'],1,def2e5cacab991109112dacc3be4c4008abd8453,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpuppet-congress~master~I0a32e85242f6ce7b967f5de64452f232dda6f510,openstack/puppet-congress,master,I0a32e85242f6ce7b967f5de64452f232dda6f510,fix a typo in documentation,MERGED,2018-03-23 00:16:04.000000000,2018-03-23 10:53:38.000000000,2018-03-23 10:53:38.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:16:04.000000000', 'files': ['spec/classes/congress_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/96e7b6c6c2f2a236c715ee293b7e155b4802967a', 'message': 'fix a typo in documentation\n\nChange-Id: I0a32e85242f6ce7b967f5de64452f232dda6f510\n'}]",0,555524,96e7b6c6c2f2a236c715ee293b7e155b4802967a,7,3,1,17130,,,0,"fix a typo in documentation

Change-Id: I0a32e85242f6ce7b967f5de64452f232dda6f510
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/24/555524/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/congress_init_spec.rb'],1,96e7b6c6c2f2a236c715ee293b7e155b4802967a,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpuppet-tacker~master~Id7f5c19c01ee955fb899a476393f6fc8e616d3ad,openstack/puppet-tacker,master,Id7f5c19c01ee955fb899a476393f6fc8e616d3ad,fix a typo in documentation,MERGED,2018-03-23 00:45:41.000000000,2018-03-23 10:53:37.000000000,2018-03-23 10:53:37.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:45:41.000000000', 'files': ['spec/classes/tacker_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/909ab4ae171452aed4deed546229aaeb643fe2e6', 'message': 'fix a typo in documentation\n\nChange-Id: Id7f5c19c01ee955fb899a476393f6fc8e616d3ad\n'}]",0,555548,909ab4ae171452aed4deed546229aaeb643fe2e6,7,3,1,17130,,,0,"fix a typo in documentation

Change-Id: Id7f5c19c01ee955fb899a476393f6fc8e616d3ad
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/48/555548/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tacker_init_spec.rb'],1,909ab4ae171452aed4deed546229aaeb643fe2e6,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpuppet-keystone~master~I75e154fc0d71f6a29d60a87451701eba0c637b19,openstack/puppet-keystone,master,I75e154fc0d71f6a29d60a87451701eba0c637b19,fix typos in documentation,MERGED,2018-03-23 00:14:11.000000000,2018-03-23 10:52:59.000000000,2018-03-23 10:52:59.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:14:11.000000000', 'files': ['spec/classes/keystone_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/dce61dfc2d6c4c2491a6a74d238fc14b4e9ae26d', 'message': 'fix typos in documentation\n\nChange-Id: I75e154fc0d71f6a29d60a87451701eba0c637b19\n'}]",0,555520,dce61dfc2d6c4c2491a6a74d238fc14b4e9ae26d,8,4,1,17130,,,0,"fix typos in documentation

Change-Id: I75e154fc0d71f6a29d60a87451701eba0c637b19
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/20/555520/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_wsgi_apache_spec.rb'],1,dce61dfc2d6c4c2491a6a74d238fc14b4e9ae26d,trivialfix, describe 'when servername_admin is overridden' do describe 'when wsgi_daemon_process_options are overridden' do, describe 'when servername_admin is overriden' do describe 'when wsgi_daemon_process_options are overriden' do,2,2
openstack%2Fhorizon~master~I00e90612093b44f9ffd7239ecb2d9b37242da1d7,openstack/horizon,master,I00e90612093b44f9ffd7239ecb2d9b37242da1d7,Switch test_quotas to mock,MERGED,2018-01-09 00:38:22.000000000,2018-03-23 10:52:09.000000000,2018-03-23 10:52:09.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-09 00:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23b6d608bfe2b60550a839ec2cfc66eaa55dc626', 'message': 'Switch test_quotas to mock\n\nChange-Id: I00e90612093b44f9ffd7239ecb2d9b37242da1d7\nPartially-Implements: blueprint mock-framework-in-unit-tests\n'}, {'number': 2, 'created': '2018-02-21 11:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c2ea4e3d3512f2334cd1ed6749df8afe7ca95cb3', 'message': 'Switch test_quotas to mock\n\nChange-Id: I00e90612093b44f9ffd7239ecb2d9b37242da1d7\nPartially-Implements: blueprint mock-framework-in-unit-tests\n'}, {'number': 3, 'created': '2018-03-12 14:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cb09497e3a71f225a9a1b678700de7b4664db370', 'message': 'Switch test_quotas to mock\n\nChange-Id: I00e90612093b44f9ffd7239ecb2d9b37242da1d7\nPartially-Implements: blueprint mock-framework-in-unit-tests\n'}, {'number': 4, 'created': '2018-03-21 15:31:15.000000000', 'files': ['openstack_dashboard/test/unit/usage/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/474de205bf01384f630e295838ca31203b5d3e55', 'message': 'Switch test_quotas to mock\n\nChange-Id: I00e90612093b44f9ffd7239ecb2d9b37242da1d7\nPartially-Implements: blueprint mock-framework-in-unit-tests\n'}]",16,531937,474de205bf01384f630e295838ca31203b5d3e55,26,5,4,841,,,0,"Switch test_quotas to mock

Change-Id: I00e90612093b44f9ffd7239ecb2d9b37242da1d7
Partially-Implements: blueprint mock-framework-in-unit-tests
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/531937/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/unit/usage/test_quotas.py'],1,23b6d608bfe2b60550a839ec2cfc66eaa55dc626,bp/mock-framework-in-unit-tests,"import mock @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'tenant_absolute_limits') @mock.patch.object(cinder, 'is_volume_service_enabled') def test_tenant_quota_usages_with_id(self, mock_is_volume_service_enabled, mock_cinder_tenant_absolute_limits, mock_is_service_enabled, mock_nova_tenant_absolute_limits): services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = fake_service_enabled mock_nova_tenant_absolute_limits.return_value = self.limits['absolute'] mock_cinder_tenant_absolute_limits.return_value = \ self.cinder_limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) mock_nova_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id=tenant_id) mock_cinder_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), tenant_id) @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'tenant_absolute_limits') @mock.patch.object(cinder, 'is_volume_service_enabled') def _test_tenant_quota_usages(self, mock_is_volume_service_enabled, mock_cinder_tenant_absolute_limits, mock_is_service_enabled, mock_nova_tenant_absolute_limits, nova_quotas_enabled=True, services = {'network': False, 'compute': with_compute} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = with_volume mock_is_service_enabled.side_effect = fake_service_enabled if with_compute and nova_quotas_enabled: mock_nova_tenant_absolute_limits.return_value = \ self.limits['absolute'] if with_volume: mock_cinder_tenant_absolute_limits.return_value = \ self.cinder_limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) if with_compute and nova_quotas_enabled: mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) else: mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(2, mock_is_service_enabled.call_count) if with_compute and nova_quotas_enabled: mock_nova_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id=tenant_id) else: self.assertFalse(mock_nova_tenant_absolute_limits.call_count) if with_volume: mock_cinder_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), tenant_id) else: self.assertFalse(mock_cinder_tenant_absolute_limits.call_count) # 2 @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'is_volume_service_enabled') def test_get_all_disabled_quotas(self, mock_is_volume_service_enabled, mock_is_service_enabled): services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = False mock_is_service_enabled.side_effect = fake_service_enabled mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(2, mock_is_service_enabled.call_count) @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'is_volume_service_enabled') def test_tenant_quota_usages_without_volume(self, mock_is_volume_service_enabled, mock_is_service_enabled, mock_tenant_absolute_limits): services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = False mock_is_service_enabled.side_effect = fake_service_enabled mock_tenant_absolute_limits.return_value = self.limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) mock_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id=tenant_id) @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'is_volume_service_enabled') def test_tenant_quota_usages_no_instances_running( self, mock_is_volume_service_enabled, mock_is_service_enabled, mock_tenant_absolute_limits): services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = False mock_is_service_enabled.side_effect = fake_service_enabled mock_tenant_absolute_limits.return_value = self.limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) mock_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id='1') @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'tenant_absolute_limits') @mock.patch.object(cinder, 'is_volume_service_enabled') def test_tenant_quota_usages_unlimited_quota( self, mock_is_volume_service_enabled, mock_cinder_tenant_absolute_limits, mock_is_service_enabled, mock_nova_tenant_absolute_limits): services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = fake_service_enabled mock_nova_tenant_absolute_limits.return_value = self.limits['absolute'] mock_cinder_tenant_absolute_limits.return_value = \ self.cinder_limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) mock_nova_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id=tenant_id) mock_cinder_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), tenant_id) @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'tenant_absolute_limits') @mock.patch.object(cinder, 'is_volume_service_enabled') def test_tenant_quota_usages_neutron_fip_disabled( self, mock_is_volume_service_enabled, mock_cinder_tenant_absolute_limits, mock_is_service_enabled, mock_nova_tenant_absolute_limits): tenant_id = '1' services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = fake_service_enabled mock_nova_tenant_absolute_limits.return_value = self.limits['absolute'] mock_cinder_tenant_absolute_limits.return_value = \ self.cinder_limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) mock_nova_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id=tenant_id) mock_cinder_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), tenant_id) @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(api.cinder, 'tenant_quota_get') @mock.patch.object(api.cinder, 'is_volume_service_enabled') @mock.patch.object(exceptions, 'handle') def test_get_quota_data_cinder_exception(self, mock_handle, mock_is_volume_service_enabled, mock_tenant_quota_get, mock_is_service_enabled): services = {'network': False, 'compute': False} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = fake_service_enabled mock_tenant_quota_get.side_effect = \ cinder.cinder_exception.ClientException('test') mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(2, mock_is_service_enabled.call_count) mock_tenant_quota_get.assert_called_once_with( test.IsHttpRequest(), '1') mock_handle.assert_called_once_with( test.IsHttpRequest(), _(""Unable to retrieve volume limit information."")) @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(api.cinder, 'tenant_absolute_limits') @mock.patch.object(api.cinder, 'is_volume_service_enabled') @mock.patch.object(exceptions, 'handle') def test_tenant_limit_usages_cinder_exception( self, mock_handle, mock_is_volume_service_enabled, mock_tenant_absolute_limits, mock_is_service_enabled): mock_is_service_enabled.retrieve = False mock_is_volume_service_enabled.return_value = True mock_tenant_absolute_limits.side_effect = \ cinder.cinder_exception.ClientException('test') mock_is_service_enabled.assert_called_once_with( test.IsHttpRequest(), 'compute') mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest()) mock_handle.assert_has_calls([ mock.call(test.IsHttpRequest(), _(""Unable to retrieve compute limit information."")), mock.call(test.IsHttpRequest(), _(""Unable to retrieve volume limit information."")), ]) self.assertEqual(2, mock_handle.call_count) @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(api.cinder, 'is_volume_service_enabled') @mock.patch.object(api.neutron, 'is_router_enabled') @mock.patch.object(api.neutron, 'is_extension_supported') @mock.patch.object(api.neutron, 'is_quotas_extension_supported') def test_get_disabled_quotas_router_disabled( self, mock_is_quotas_extension_supported, mock_is_extension_supported, mock_is_router_enabled, mock_is_volume_service_enabled, mock_is_service_enabled): mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = [True, True] mock_is_extension_supported.return_value = True mock_is_router_enabled.return_value = False mock_is_quotas_extension_supported.return_value = True mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(2, mock_is_service_enabled.call_count) mock_is_extension_supported.assert_called_once_with( test.IsHttpRequest(), 'security-group') mock_is_router_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_quotas_extension_supported.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.nova, 'tenant_absolute_limits') @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(api.cinder, 'tenant_absolute_limits') @mock.patch.object(api.cinder, 'is_volume_service_enabled') self, mock_is_volume_service_enabled, mock_cinder_tenant_absolute_limits, mock_is_service_enabled, mock_nova_tenant_absolute_limits, targets, use_compute_call=True, use_flavor_list=False, use_cinder_call=False): services = {'network': False, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = fake_service_enabled if use_compute_call: mock_nova_tenant_absolute_limits.return_value = \ self.limits['absolute'] if use_cinder_call: mock_cinder_tenant_absolute_limits.return_value = \ self.cinder_limits['absolute'] mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) if use_compute_call: mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(3, mock_is_service_enabled.call_count) else: mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(2, mock_is_service_enabled.call_count) if use_compute_call: mock_nova_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), reserved=True, tenant_id=tenant_id) if use_cinder_call: mock_cinder_tenant_absolute_limits.assert_called_once_with( test.IsHttpRequest(), tenant_id) @mock.patch.object(api.base, 'is_service_enabled') @mock.patch.object(cinder, 'is_volume_service_enabled') @mock.patch.object(api.neutron, 'floating_ip_supported') @mock.patch.object(api.neutron, 'tenant_floating_ip_list') @mock.patch.object(api.neutron, 'security_group_list') @mock.patch.object(api.neutron, 'is_extension_supported') @mock.patch.object(api.neutron, 'is_router_enabled') @mock.patch.object(api.neutron, 'is_quotas_extension_supported') @mock.patch.object(api.neutron, 'tenant_quota_get') @mock.patch.object(api.neutron, 'network_list') @mock.patch.object(api.neutron, 'subnet_list') @mock.patch.object(api.neutron, 'router_list') self, mock_router_list, mock_subnet_list, mock_network_list, mock_tenant_quota_get, mock_is_quotas_extension_supported, mock_is_router_enabled, mock_is_extension_supported, mock_security_group_list, mock_tenant_floating_ip_list, mock_floating_ip_supported, mock_is_volume_service_enabled, mock_is_service_enabled, targets): services = {'network': True, 'compute': True} def fake_service_enabled(request, service): return services[service] mock_is_volume_service_enabled.return_value = True mock_is_service_enabled.side_effect = fake_service_enabled mock_is_extension_supported.side_effect = [ True, # security-group False, # quota_details ] mock_is_router_enabled.return_value = True mock_is_quotas_extension_supported.return_value = True mock_tenant_quota_get.return_value = self.neutron_quotas.first() if 'network' in targets: mock_network_list.return_value = self.networks.list() if 'subnet' in targets: mock_subnet_list.return_value = self.subnets.list() if 'router' in targets: mock_router_list.return_value = self.routers.list() if 'floatingip' in targets: mock_tenant_floating_ip_list.return_value = \ self.floating_ips.list() if 'security_group' in targets: mock_security_group_list.return_value = self.security_groups.list() mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'network'), mock.call(test.IsHttpRequest(), 'compute'), ]) self.assertEqual(2, mock_is_service_enabled.call_count) mock_is_extension_supported.assert_has_calls([ mock.call(test.IsHttpRequest(), 'security-group'), mock.call(test.IsHttpRequest(), 'quota_details'), ]) self.assertEqual(2, mock_is_extension_supported.call_count) mock_is_router_enabled.assert_called_once_with(test.IsHttpRequest()) mock_is_quotas_extension_supported.assert_called_once_with( test.IsHttpRequest()) mock_tenant_quota_get.assert_called_once_with(test.IsHttpRequest(), '1') if 'network' in targets: mock_network_list.assert_called_once_with( test.IsHttpRequest(), tenant_id=self.request.user.tenant_id) if 'subnet' in targets: mock_subnet_list.assert_called_once_with( test.IsHttpRequest(), tenant_id=self.request.user.tenant_id) if 'router' in targets: mock_router_list.assert_called_once_with( test.IsHttpRequest(), tenant_id=self.request.user.tenant_id) if 'floatingip' in targets: mock_tenant_floating_ip_list.assert_called_once_with( test.IsHttpRequest()) if 'security_group' in targets: mock_security_group_list.assert_called_once_with( test.IsHttpRequest())","from django import httpfrom mox3.mox import IsA @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), cinder: ('tenant_absolute_limits', 'is_volume_service_enabled')}) def test_tenant_quota_usages_with_id(self): cinder.is_volume_service_enabled(IsA(http.HttpRequest)).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute') \ .MultipleTimes().AndReturn(True) api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id=tenant_id).AndReturn(self.limits['absolute']) api.cinder.tenant_absolute_limits( IsA(http.HttpRequest), tenant_id).AndReturn(self.cinder_limits['absolute']) self.mox.ReplayAll() @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), cinder: ('tenant_absolute_limits', 'is_volume_service_enabled')}) def _test_tenant_quota_usages(self, nova_quotas_enabled=True, cinder.is_volume_service_enabled(IsA(http.HttpRequest)).AndReturn( with_volume) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled( IsA(http.HttpRequest), 'compute' ).MultipleTimes().AndReturn(with_compute) if with_compute: if nova_quotas_enabled: api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id=tenant_id).AndReturn(self.limits['absolute']) if with_volume: api.cinder.tenant_absolute_limits( IsA(http.HttpRequest), tenant_id).AndReturn(self.cinder_limits['absolute']) self.mox.ReplayAll() @test.create_stubs({api.base: ('is_service_enabled',), cinder: ('is_volume_service_enabled',)}) def test_get_all_disabled_quotas(self): cinder.is_volume_service_enabled(IsA(http.HttpRequest)).AndReturn( False) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) # Nova enabled but quotas disabled api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), api.cinder: ('is_volume_service_enabled',)}) def test_tenant_quota_usages_without_volume(self): api.cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').MultipleTimes().AndReturn(True) api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id=tenant_id).AndReturn(self.limits['absolute']) self.mox.ReplayAll() @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), api.cinder: ('is_volume_service_enabled',)}) def test_tenant_quota_usages_no_instances_running(self): api.cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').MultipleTimes().AndReturn(True) api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id='1').AndReturn(self.limits['absolute']) @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), cinder: ('tenant_absolute_limits', 'is_volume_service_enabled')}) def test_tenant_quota_usages_unlimited_quota(self): cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').MultipleTimes().AndReturn(True) api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id=tenant_id).AndReturn(self.limits['absolute']) api.cinder.tenant_absolute_limits( IsA(http.HttpRequest), tenant_id).AndReturn(self.cinder_limits['absolute']) self.mox.ReplayAll() @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), cinder: ('tenant_absolute_limits', 'is_volume_service_enabled')}) def test_tenant_quota_usages_neutron_fip_disabled(self): tenant_id = '1' cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').MultipleTimes().AndReturn(True) api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id=tenant_id).AndReturn(self.limits['absolute']) api.cinder.tenant_absolute_limits( IsA(http.HttpRequest), tenant_id).AndReturn(self.cinder_limits['absolute']) self.mox.ReplayAll() @test.create_stubs({api.base: ('is_service_enabled',), api.cinder: ('tenant_quota_get', 'is_volume_service_enabled'), exceptions: ('handle',)}) def test_get_quota_data_cinder_exception(self): api.cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').AndReturn(False) api.cinder.tenant_quota_get(IsA(http.HttpRequest), '1') \ .AndRaise(cinder.cinder_exception.ClientException('test')) exceptions.handle(IsA(http.HttpRequest), _(""Unable to retrieve volume limit information."")) self.mox.ReplayAll() @test.create_stubs({api.base: ('is_service_enabled',), api.cinder: ('tenant_absolute_limits', 'is_volume_service_enabled'), exceptions: ('handle',)}) def test_tenant_limit_usages_cinder_exception(self): api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').AndReturn(False) api.cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(True) api.cinder.tenant_absolute_limits(IsA(http.HttpRequest)) \ .AndRaise(cinder.cinder_exception.ClientException('test')) exceptions.handle(IsA(http.HttpRequest), _(""Unable to retrieve volume limit information."")) self.mox.ReplayAll() def test_get_disabled_quotas_router_disabled(self): api.cinder.is_volume_service_enabled( IsA(http.HttpRequest) ).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'security-group').AndReturn(True) api.neutron.is_router_enabled(IsA(http.HttpRequest)).AndReturn(False) api.neutron.is_quotas_extension_supported(IsA(http.HttpRequest)) \ .AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute').AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.nova: ('tenant_absolute_limits',), api.base: ('is_service_enabled',), cinder: ('tenant_absolute_limits', 'is_volume_service_enabled')}) self, targets, use_compute_call=True, use_flavor_list=False, use_cinder_call=False): cinder.is_volume_service_enabled(IsA(http.HttpRequest)).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network') \ .AndReturn(False) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute') \ .MultipleTimes().AndReturn(True) if use_compute_call: api.nova.tenant_absolute_limits( IsA(http.HttpRequest), reserved=True, tenant_id=tenant_id).AndReturn(self.limits['absolute']) if use_cinder_call: api.cinder.tenant_absolute_limits( IsA(http.HttpRequest), tenant_id).AndReturn(self.cinder_limits['absolute']) self.mox.ReplayAll() @test.create_stubs({api.base: ('is_service_enabled',), api.neutron: ('floating_ip_supported', 'tenant_floating_ip_list', 'security_group_list', 'is_extension_supported', 'is_router_enabled', 'is_quotas_extension_supported', 'tenant_quota_get', 'network_list', 'subnet_list', 'router_list'), cinder: ('is_volume_service_enabled',)}) self, targets): cinder.is_volume_service_enabled(IsA(http.HttpRequest)).AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network') \ .AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'security-group').AndReturn(True) api.neutron.is_router_enabled(IsA(http.HttpRequest)).AndReturn(True) api.neutron.is_quotas_extension_supported(IsA(http.HttpRequest)) \ .AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute') \ .MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'quota_details').AndReturn(False) api.neutron.tenant_quota_get(IsA(http.HttpRequest), '1') \ .AndReturn(self.neutron_quotas.first()) if 'network' in targets: api.neutron.network_list(IsA(http.HttpRequest), tenant_id=self.request.user.tenant_id) \ .AndReturn(self.networks.list()) if 'subnet' in targets: api.neutron.subnet_list(IsA(http.HttpRequest), tenant_id=self.request.user.tenant_id) \ .AndReturn(self.subnets.list()) if 'router' in targets: api.neutron.router_list(IsA(http.HttpRequest), tenant_id=self.request.user.tenant_id) \ .AndReturn(self.routers.list()) if 'floatingip' in targets: api.neutron.tenant_floating_ip_list(IsA(http.HttpRequest)) \ .AndReturn(self.floating_ips.list()) if 'security_group' in targets: api.neutron.security_group_list(IsA(http.HttpRequest)) \ .AndReturn(self.security_groups.list()) self.mox.ReplayAll()",445,237
openstack%2Fhorizon~master~Ib28110246567808f9e9c0f99c6032f7bdc931643,openstack/horizon,master,Ib28110246567808f9e9c0f99c6032f7bdc931643,Drop trove/sahara settings from horizon repo,MERGED,2018-03-21 22:14:36.000000000,2018-03-23 10:52:07.000000000,2018-03-23 10:52:06.000000000,"[{'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 22348}, {'_account_id': 24056}]","[{'number': 1, 'created': '2018-03-21 22:14:36.000000000', 'files': ['doc/source/configuration/settings.rst', 'openstack_dashboard/local/local_settings.py.example'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0659f9a98a2f175847c7acb005ac8126d03059bc', 'message': 'Drop trove/sahara settings from horizon repo\n\nSettings related to horizon plugins should be documented in individual\nproject repos. We support local_settings.d mechanism, so horizon plugins\ncan provide their own settings examples.\n\nOne example is SAHARA_AUTO_IP_ALLOCATION_ENABLED. This option has been\ndeprecated and replaced by another setting. It is hard for horizon team\nto track this kind of changes.\n\nThis is just a change in the example local_settings.py and there is no\nfeature change, so there is no deprecation required.\n\nChange-Id: Ib28110246567808f9e9c0f99c6032f7bdc931643\n'}]",0,555082,0659f9a98a2f175847c7acb005ac8126d03059bc,8,4,1,841,,,0,"Drop trove/sahara settings from horizon repo

Settings related to horizon plugins should be documented in individual
project repos. We support local_settings.d mechanism, so horizon plugins
can provide their own settings examples.

One example is SAHARA_AUTO_IP_ALLOCATION_ENABLED. This option has been
deprecated and replaced by another setting. It is hard for horizon team
to track this kind of changes.

This is just a change in the example local_settings.py and there is no
feature change, so there is no deprecation required.

Change-Id: Ib28110246567808f9e9c0f99c6032f7bdc931643
",git fetch https://review.opendev.org/openstack/horizon refs/changes/82/555082/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/settings.rst', 'openstack_dashboard/local/local_settings.py.example']",2,0659f9a98a2f175847c7acb005ac8126d03059bc,drop-plugin-settings,,"# TODO: (david-lyle) remove when plugins support adding settings. # Note: Only used when trove-dashboard plugin is configured to be used by # Horizon. # Trove user and database extension support. By default support for # creating users and databases on database instances is turned on. # To disable these extensions set the permission here to something # unusable such as [""!""]. #TROVE_ADD_USER_PERMS = [] #TROVE_ADD_DATABASE_PERMS = [] # TODO: (david-lyle) remove when plugins support settings natively # Note: This is only used when the Sahara plugin is configured and enabled # for use in Horizon. # Indicate to the Sahara data processing service whether or not # automatic floating IP allocation is in effect. If it is not # in effect, the user will be prompted to choose a floating IP # pool for use in their cluster. False by default. You would want # to set this to True if you were running Nova Networking with # auto_assign_floating_ip = True. #SAHARA_AUTO_IP_ALLOCATION_ENABLED = False ",0,81
openstack%2Fpuppet-ceilometer~master~Ib433bb4f07a61f02e7be13c2ec248ff29f54452e,openstack/puppet-ceilometer,master,Ib433bb4f07a61f02e7be13c2ec248ff29f54452e,fix typos in documentation,MERGED,2018-03-23 00:16:18.000000000,2018-03-23 10:51:48.000000000,2018-03-23 10:51:48.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:16:18.000000000', 'files': ['spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/091a8a15b463be3bc564cfb2daa36fe864e4ec3a', 'message': 'fix typos in documentation\n\nChange-Id: Ib433bb4f07a61f02e7be13c2ec248ff29f54452e\n'}]",0,555525,091a8a15b463be3bc564cfb2daa36fe864e4ec3a,8,4,1,17130,,,0,"fix typos in documentation

Change-Id: Ib433bb4f07a61f02e7be13c2ec248ff29f54452e
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/25/555525/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ceilometer_init_spec.rb'],1,091a8a15b463be3bc564cfb2daa36fe864e4ec3a,trivialfix, context 'with overridden transport_url parameter' do context 'with overridden cache parameter' do context 'with overridden notification parameters' do context 'with overridden amqp parameters' do, context 'with overriden transport_url parameter' do context 'with overriden cache parameter' do context 'with overriden notification parameters' do context 'with overriden amqp parameters' do,4,4
openstack%2Fpuppet-openstacklib~master~I677b7dc998efdf28b84f157aa0bbb5ea1dc910e3,openstack/puppet-openstacklib,master,I677b7dc998efdf28b84f157aa0bbb5ea1dc910e3,fix a typo in documentation,MERGED,2018-03-23 00:12:28.000000000,2018-03-23 10:50:56.000000000,2018-03-23 10:50:56.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:12:28.000000000', 'files': ['spec/defines/openstacklib_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/53ec7a288cadb249e4e246a31ec6e498afac8dcd', 'message': 'fix a typo in documentation\n\nChange-Id: I677b7dc998efdf28b84f157aa0bbb5ea1dc910e3\n'}]",0,555516,53ec7a288cadb249e4e246a31ec6e498afac8dcd,8,4,1,17130,,,0,"fix a typo in documentation

Change-Id: I677b7dc998efdf28b84f157aa0bbb5ea1dc910e3
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/16/555516/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/openstacklib_wsgi_apache_spec.rb'],1,53ec7a288cadb249e4e246a31ec6e498afac8dcd,trivialfix, describe 'when wsgi_daemon_process_options are overridden' do, describe 'when wsgi_daemon_process_options are overriden' do,1,1
openstack%2Fpuppet-horizon~master~I62cf08f188958a1ab71d2d40a92858682e0bbd8d,openstack/puppet-horizon,master,I62cf08f188958a1ab71d2d40a92858682e0bbd8d,fix a typo in documentation,MERGED,2018-03-23 00:14:46.000000000,2018-03-23 10:50:47.000000000,2018-03-23 10:50:47.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:14:46.000000000', 'files': ['spec/classes/horizon_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3f7bdf4ecaf1da52f5598bff559f1bb41577949c', 'message': 'fix a typo in documentation\n\nChange-Id: I62cf08f188958a1ab71d2d40a92858682e0bbd8d\n'}]",0,555522,3f7bdf4ecaf1da52f5598bff559f1bb41577949c,8,4,1,17130,,,0,"fix a typo in documentation

Change-Id: I62cf08f188958a1ab71d2d40a92858682e0bbd8d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/22/555522/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/horizon_wsgi_apache_spec.rb'],1,3f7bdf4ecaf1da52f5598bff559f1bb41577949c,trivialfix, context 'with overridden parameters' do, context 'with overriden parameters' do,1,1
openstack%2Fpuppet-oslo~master~Ib0910e6ef52af837be7d795c017072c7c01feb74,openstack/puppet-oslo,master,Ib0910e6ef52af837be7d795c017072c7c01feb74,fix typos in documentation,MERGED,2018-03-23 00:24:30.000000000,2018-03-23 10:47:51.000000000,2018-03-23 10:47:51.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:24:30.000000000', 'files': ['spec/defines/oslo_policy_spec.rb', 'spec/defines/oslo_messaging_rabbit_spec.rb', 'spec/defines/oslo_versionedobjects_spec.rb', 'spec/defines/oslo_messaging_amqp_spec.rb', 'spec/defines/oslo_messaging_default_spec.rb', 'spec/defines/oslo_messaging_zmq_spec.rb', 'spec/defines/oslo_cache_spec.rb', 'spec/defines/oslo_messaging_notifications_spec.rb', 'spec/defines/oslo_middleware_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/bab9c2087b6fb7978fb2f3e4cbea919ae0780140', 'message': 'fix typos in documentation\n\nChange-Id: Ib0910e6ef52af837be7d795c017072c7c01feb74\n'}]",0,555538,bab9c2087b6fb7978fb2f3e4cbea919ae0780140,8,4,1,17130,,,0,"fix typos in documentation

Change-Id: Ib0910e6ef52af837be7d795c017072c7c01feb74
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/38/555538/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_policy_spec.rb', 'spec/defines/oslo_messaging_rabbit_spec.rb', 'spec/defines/oslo_versionedobjects_spec.rb', 'spec/defines/oslo_messaging_amqp_spec.rb', 'spec/defines/oslo_messaging_default_spec.rb', 'spec/defines/oslo_messaging_zmq_spec.rb', 'spec/defines/oslo_cache_spec.rb', 'spec/defines/oslo_messaging_notifications_spec.rb', 'spec/defines/oslo_middleware_spec.rb']",9,bab9c2087b6fb7978fb2f3e4cbea919ae0780140,trivialfix, it 'configure oslo_middleware with overridden values' do, it 'configure oslo_middleware with overriden values' do,10,10
openstack%2Fpuppet-aodh~master~I0c89f0630701fce3e2c97f53080f48ef6084d687,openstack/puppet-aodh,master,I0c89f0630701fce3e2c97f53080f48ef6084d687,fix a typo in documentation,MERGED,2018-03-23 00:16:55.000000000,2018-03-23 10:45:58.000000000,2018-03-23 10:45:58.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:16:55.000000000', 'files': ['spec/classes/aodh_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/943345ece104895afa20450a8adeed1b70fa8fa8', 'message': 'fix a typo in documentation\n\nChange-Id: I0c89f0630701fce3e2c97f53080f48ef6084d687\n'}]",0,555527,943345ece104895afa20450a8adeed1b70fa8fa8,8,4,1,17130,,,0,"fix a typo in documentation

Change-Id: I0c89f0630701fce3e2c97f53080f48ef6084d687
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/27/555527/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_init_spec.rb'],1,943345ece104895afa20450a8adeed1b70fa8fa8,trivialfix, context 'with overridden amqp parameters' do, context 'with overriden amqp parameters' do,1,1
openstack%2Fpython-zunclient~master~I613ccff042e50a44cbbae074c706dc6e07867593,openstack/python-zunclient,master,I613ccff042e50a44cbbae074c706dc6e07867593,Add network-list to OSC,MERGED,2018-03-16 07:15:07.000000000,2018-03-23 10:44:26.000000000,2018-03-23 10:44:26.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-16 07:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/e7fc1fe47b6d03d09dd4195f86571f4dd7862971', 'message': 'Add network-list to OSC\n\nThis change adds network list support to the python-openstackclient project\nfor the network-list command.\n\nThe zun command network-list is now:\n    openstack appcontainer network list\n\nChange-Id: I613ccff042e50a44cbbae074c706dc6e07867593\n'}, {'number': 2, 'created': '2018-03-22 02:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/900fd9889ff190db519d6f2fc5150d7d637e3d23', 'message': 'Add network-list to OSC\n\nThis change adds network list support to the python-openstackclient project\nfor the network-list command.\n\nThe zun command network-list is now:\n    openstack appcontainer network list\n\nChange-Id: I613ccff042e50a44cbbae074c706dc6e07867593\n'}, {'number': 3, 'created': '2018-03-22 03:34:43.000000000', 'files': ['setup.cfg', 'zunclient/osc/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/58653c63fe4bc8d486597734d600206dac5241bb', 'message': 'Add network-list to OSC\n\nThis change adds network list support to the python-openstackclient project\nfor the network-list command.\n\nThe zun command network-list is now:\n    openstack appcontainer network list\n\nChange-Id: I613ccff042e50a44cbbae074c706dc6e07867593\n'}]",2,553700,58653c63fe4bc8d486597734d600206dac5241bb,15,5,3,27577,,,0,"Add network-list to OSC

This change adds network list support to the python-openstackclient project
for the network-list command.

The zun command network-list is now:
    openstack appcontainer network list

Change-Id: I613ccff042e50a44cbbae074c706dc6e07867593
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/00/553700/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'zunclient/osc/v1/containers.py']",2,e7fc1fe47b6d03d09dd4195f86571f4dd7862971,osc-network-list," class NetworkList(command.Lister): """"""List networks on a container"""""" log = logging.getLogger(__name__ + "".ListContainers"") def get_parser(self, prog_name): parser = super(NetworkList, self).get_parser(prog_name) parser.add_argument( 'container', metavar='<container>', help='ID or name of the container to show.' ) return parser def take_action(self, parsed_args): client = _get_client(self, parsed_args) opts = {} opts['container'] = parsed_args.container opts = zun_utils.remove_null_parms(**opts) networks = client.containers.network_list(**opts) columns = ('net_id', 'subnet_id', 'port_id', 'version', 'ip_address') return (columns, (utils.get_item_properties(network, columns) for network in networks))",,25,0
openstack%2Fpuppet-mistral~master~I40a603211d104c4e6afc5c6cfea1a9599b0b7fd6,openstack/puppet-mistral,master,I40a603211d104c4e6afc5c6cfea1a9599b0b7fd6,fix a typo in documentation,MERGED,2018-03-23 00:13:57.000000000,2018-03-23 10:43:34.000000000,2018-03-23 10:43:34.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:13:57.000000000', 'files': ['spec/classes/mistral_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/de64dd84e62185fa8f54207a3bf3bf8b4a78274c', 'message': 'fix a typo in documentation\n\nChange-Id: I40a603211d104c4e6afc5c6cfea1a9599b0b7fd6\n'}]",0,555519,de64dd84e62185fa8f54207a3bf3bf8b4a78274c,8,4,1,17130,,,0,"fix a typo in documentation

Change-Id: I40a603211d104c4e6afc5c6cfea1a9599b0b7fd6
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/19/555519/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/mistral_init_spec.rb'],1,de64dd84e62185fa8f54207a3bf3bf8b4a78274c,trivialfix, describe 'with os_actions_keystone_endpoint overridden' do, describe 'with os_actions_keystone_endpoint overriden' do,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091,openstack/tripleo-heat-templates,stable/queens,Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091,[FFU] Hook to allow user to pass a custom script for repo switching.,MERGED,2018-03-21 15:39:34.000000000,2018-03-23 10:41:13.000000000,2018-03-23 10:41:12.000000000,"[{'_account_id': 8297}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-21 15:39:34.000000000', 'files': ['releasenotes/notes/ffu-custom-script-to-switch-repo-a65db91760b46ec2.yaml', 'puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abd925191b6c23bf8b4b1f7e2183b94cbb281f65', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure during fast forward upgrade.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n(cherry picked from commit 2587cb4acf44d9b64ff2cabab8b056f66812d45b)\n'}]",0,554953,abd925191b6c23bf8b4b1f7e2183b94cbb281f65,13,5,1,11166,,,0,"[FFU] Hook to allow user to pass a custom script for repo switching.

This allow the user to use whatever script is necessary to switch repo
in its own infrastructure during fast forward upgrade.

Change-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091
(cherry picked from commit 2587cb4acf44d9b64ff2cabab8b056f66812d45b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/554953/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ffu-custom-script-to-switch-repo-a65db91760b46ec2.yaml', 'puppet/services/tripleo-packages.yaml']",2,abd925191b6c23bf8b4b1f7e2183b94cbb281f65,bp/fast-forward-upgrades-stable/queens," constraints: - allowed_values: ['tripleo-repos', 'custom-script'] FastForwardCustomRepoScriptContent: default: | #!/bin/bash set -e echo ""If you use FastForwardRepoType 'custom-script' you have to provide the upgrade repo script content."" echo ""It will be installed as /root/ffu_upgrade_repo.sh on the node"" echo ""and passed the upstream name (ocata, pike, queens) of the release as first argument"" exit 1 type: string - block: - name: Create custom Script for upgrading repo. copy: dest: /root/ffu_update_repo.sh content: {get_param: FastForwardCustomRepoScriptContent} mode: 0700 - name: Execute custom script for upgrading repo. shell: ""/root/ffu_update_repo.sh {{release}}"" when: - step|int == 3 - ffu_packages_apply|bool - fast_forward_repo_type == 'custom-script' - block: - name: Create custom Script for upgrading repo. copy: dest: /root/ffu_update_repo.sh content: {get_param: FastForwardCustomRepoScriptContent} mode: 0700 - name: Execute custom script for upgrading repo. shell: ""/root/ffu_update_repo.sh {{release}}"" when: - ffu_packages_apply|bool - fast_forward_repo_type == 'custom-script'",,65,0
openstack%2Fpython-zunclient~master~Ib6a83a3af75c395828f73063eae06025caa5f7b1,openstack/python-zunclient,master,Ib6a83a3af75c395828f73063eae06025caa5f7b1,Updated from global requirements,MERGED,2018-03-22 10:09:30.000000000,2018-03-23 10:38:56.000000000,2018-03-23 10:38:56.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-03-22 10:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/bded6a1ee33cadf09ad297e49bf14648e21e4a5a', 'message': 'Updated from global requirements\n\nChange-Id: Ib6a83a3af75c395828f73063eae06025caa5f7b1\n'}, {'number': 2, 'created': '2018-03-23 01:56:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/a3b00cb7c313e18057f0d87512975b6ee914018f', 'message': 'Updated from global requirements\n\nChange-Id: Ib6a83a3af75c395828f73063eae06025caa5f7b1\n'}]",0,555235,a3b00cb7c313e18057f0d87512975b6ee914018f,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ib6a83a3af75c395828f73063eae06025caa5f7b1
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/35/555235/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bded6a1ee33cadf09ad297e49bf14648e21e4a5a,openstack/requirements,websocket-client>=0.44.0 # LGPLv2+,websocket-client>=0.33.0 # LGPLv2+,1,1
openstack%2Fcinder~master~I66718cf5558a2c12f7cfe336000314291a6820ee,openstack/cinder,master,I66718cf5558a2c12f7cfe336000314291a6820ee,Remove some unused parameters in parameters.yaml,MERGED,2018-02-09 07:58:44.000000000,2018-03-23 10:37:32.000000000,2018-03-23 10:37:32.000000000,"[{'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23303}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27346}, {'_account_id': 27496}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-09 07:58:44.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/157bc29cb5ba2ec486cdf053d8ab009702a935eb', 'message': 'Remove some unused parameters in parameters.yaml\n\nThe parameters \'all_tenants\' and \'vol_type_id\' are unused, so remove\nthem. Besides, move volume_type from path to body which is only used by\napi ""Volume manage extension"" in body.\n\nChange-Id: I66718cf5558a2c12f7cfe336000314291a6820ee\n'}]",0,542700,157bc29cb5ba2ec486cdf053d8ab009702a935eb,40,35,1,23360,,,0,"Remove some unused parameters in parameters.yaml

The parameters 'all_tenants' and 'vol_type_id' are unused, so remove
them. Besides, move volume_type from path to body which is only used by
api ""Volume manage extension"" in body.

Change-Id: I66718cf5558a2c12f7cfe336000314291a6820ee
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/542700/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,157bc29cb5ba2ec486cdf053d8ab009702a935eb,,volume_type: description: | The ID of Volume Type to be accessed by project. in: body required: false type: string,all_tenants: description: | Shows details for all projects. in: path required: false type: stringvol_type_id: description: | The UUID for an existing volume type. in: path required: true type: stringvolume_type: description: | The ID of Volume Type to be accessed by project. in: path required: false type: string,6,18
openstack%2Fnova~master~I23a5142398900873364bb07d8e91595d02a7a13d,openstack/nova,master,I23a5142398900873364bb07d8e91595d02a7a13d,Not use thread alloc policy for emulator thread,MERGED,2018-01-29 00:04:18.000000000,2018-03-23 10:37:21.000000000,2018-03-23 10:37:20.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-01-29 00:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7dec964fd4ba9ba8da27e96b5eeaa7c4bb66b35', 'message': 'Not use thread alloc policy for emulator thread\n\nWhen CPUEmulatorThreadsPolicy and CPUThreadAllocationPolicy were both\nset to isolate, pcpus for emulator threads were also allocated along\nwith thread isolation policy. (i.e. only chosen from a siblings_set\nwhere full threads are available.)\n\nFor optimization purpose, this patch allows in that case to choose\npcpus from non-fully siblings_set for emulator threads by considering\npinning cpus and reserved cpus separately, adding a new function of\n_get_reserved().\n\nChange-Id: I23a5142398900873364bb07d8e91595d02a7a13d\n'}, {'number': 2, 'created': '2018-01-30 10:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c3aaf76b46795331e94f4269b17fdb8100e7f5f', 'message': 'Not use thread alloc policy for emulator thread\n\nWhen CPUEmulatorThreadsPolicy and CPUThreadAllocationPolicy were both\nset to isolate, pcpus for emulator threads were also allocated along\nwith thread isolation policy. (i.e. only chosen from a siblings_set\nwhere full threads are available.)\n\nFor optimization purpose, this patch allows in that case to choose\npcpus from non-fully siblings_set for emulator threads by considering\npinning cpus and reserved cpus separately, adding a new function of\n_get_reserved().\n\nChange-Id: I23a5142398900873364bb07d8e91595d02a7a13d\n'}, {'number': 3, 'created': '2018-01-31 02:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca5d339b5823cd78856a3976f151e5948ab26d16', 'message': 'Not use thread alloc policy for emulator thread\n\nWhen CPUEmulatorThreadsPolicy and CPUThreadAllocationPolicy were both\nset to isolate, pcpus for emulator threads were also allocated along\nwith thread isolation policy. (i.e. only chosen from a siblings_set\nwhere full threads are available.)\n\nFor optimization purpose, this patch allows in that case to choose\npcpus from non-fully siblings_set for emulator threads by considering\npinning cpus and reserved cpus separately, adding a new function of\n_get_reserved().\n\nChange-Id: I23a5142398900873364bb07d8e91595d02a7a13d\nCloses-Bug: #1746393\n'}, {'number': 4, 'created': '2018-02-07 03:47:58.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/113724859a8f1dc3f004636e8c016d060409a1f6', 'message': 'Not use thread alloc policy for emulator thread\n\nWhen CPUEmulatorThreadsPolicy and CPUThreadAllocationPolicy were both\nset to isolate, pcpus for emulator threads were also allocated\naccording to the thread isolation policy. (i.e. only chosen from a\nsiblings_set where full threads are available.)\n\nFor optimization purposes, this patch allows emulator threads and the\nVM\'s I/O threads to be collocated on the same sibling sets of pCPUs\neven when both I/O thread and emulator thread are set to ""isolate"".\n\nNote that this patch adds a new function of _get_reserved(), where\ncpus are reserved for I/O thread and emulator thread, pulling the part\nout from _get_pinning().\n\nChange-Id: I23a5142398900873364bb07d8e91595d02a7a13d\nCloses-Bug: #1746393\n'}]",18,538700,113724859a8f1dc3f004636e8c016d060409a1f6,92,17,4,25625,,,0,"Not use thread alloc policy for emulator thread

When CPUEmulatorThreadsPolicy and CPUThreadAllocationPolicy were both
set to isolate, pcpus for emulator threads were also allocated
according to the thread isolation policy. (i.e. only chosen from a
siblings_set where full threads are available.)

For optimization purposes, this patch allows emulator threads and the
VM's I/O threads to be collocated on the same sibling sets of pCPUs
even when both I/O thread and emulator thread are set to ""isolate"".

Note that this patch adds a new function of _get_reserved(), where
cpus are reserved for I/O thread and emulator thread, pulling the part
out from _get_pinning().

Change-Id: I23a5142398900873364bb07d8e91595d02a7a13d
Closes-Bug: #1746393
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/538700/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py']",2,a7dec964fd4ba9ba8da27e96b5eeaa7c4bb66b35,bug/1746393," def _get_pinning(threads_no, sibling_set, instance_cores): if threads_no * len(sibling_set) < (len(instance_cores)): return None # usable_cores=[[0], [4]] # usable_cores=[[0, 1], [4, 5]] # For an instance_cores=[2, 3], usable_cores=[[0], [4]] return vcpus_pinning def _get_reserved(sibling_set, vcpus_pinning, num_cpu_reserved=0, cpu_thread_isolate=False): """"""Given available sibling_set, returns the pCPUs reserved for hypervisor. :param sibling_set: List of available threads per host cores on a specific host NUMA node. :param vcpus_pinning: List of tuple of (pCPU, vCPU) mapping. :param num_cpu_reserved: Number of additional host CPUs which needs to be reserved. :param cpu_thread_isolate: True if CPUThreadAllocationPolicy is ISOLATE. """""" if not vcpus_pinning: return None usable_cores = list(map(lambda s: list(s), sibling_set)) # For vcpus_pinning=[(0, 0), (1, 2)], # usable_cores=[[0, 1], [1, 3], [4, 5]] # if CPUThreadAllocationPolicy is isolated: # usable_cores=[[4, 5]] # else: # usable_cores=[[0],[1],[4, 5]] if cpu_thread_isolate: usable_cores.remove(sib) else: sib.remove(pcpu) # For usable_cores=[[4, 5]], num_cpu_reserved=1 return cpuset_reserved or None pinning = _get_pinning( instance_cell.cpuset) cpuset_reserved = _get_reserved( sibling_sets[1], pinning, num_cpu_reserved=num_cpu_reserved, cpu_thread_isolate=True) if not pinning or (num_cpu_reserved and not cpuset_reserved): pinning, cpuset_reserved = (None, None) pinning = _get_pinning( instance_cell.cpuset) cpuset_reserved = _get_reserved( sibling_sets[1], pinning, num_cpu_reserved=num_cpu_reserved) if not pinning or (num_cpu_reserved and not cpuset_reserved): continue break pinning = _get_pinning( instance_cell.cpuset) cpuset_reserved = _get_reserved( sibling_set, pinning, num_cpu_reserved=num_cpu_reserved) if not pinning or (num_cpu_reserved and not cpuset_reserved):"," def _get_pinning(threads_no, sibling_set, instance_cores, num_cpu_reserved=0): :param num_cpu_reserved: Number of additional host CPUs which needs to be reserved. if threads_no * len(sibling_set) < ( len(instance_cores) + num_cpu_reserved): return None, None # usable_cores=[(0), (4),] # usable_cores=[(0, 1), (4, 5)] # For an instance_cores=[2, 3], usable_cores=[(0), (4)] # # For vcpus_pinning=[(0, 2), (1, 3)], usable_cores=[(2, 3), (4, 5)] # usable_cores=[(), (4, 5)] sib.remove(pcpu) # For usable_cores=[(), (4, 5)], num_cpu_reserved=1 return vcpus_pinning, cpuset_reserved pinning, cpuset_reserved = _get_pinning( instance_cell.cpuset, num_cpu_reserved=num_cpu_reserved) pinning, cpuset_reserved = _get_pinning( instance_cell.cpuset, num_cpu_reserved=num_cpu_reserved) if pinning: break pinning, cpuset_reserved = _get_pinning( instance_cell.cpuset, num_cpu_reserved=num_cpu_reserved) if not pinning:",65,42
openstack%2Fpython-qinlingclient~master~Ie7da78a69a39a9f96197e889e8c1c13a825ec627,openstack/python-qinlingclient,master,Ie7da78a69a39a9f96197e889e8c1c13a825ec627,Updated from global requirements,MERGED,2018-03-15 08:02:59.000000000,2018-03-23 10:26:31.000000000,2018-03-23 10:26:31.000000000,"[{'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 08:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-qinlingclient/commit/721ee559d6ecff01cfb2e8234d6d571efd78e2b5', 'message': 'Updated from global requirements\n\nChange-Id: Ie7da78a69a39a9f96197e889e8c1c13a825ec627\n'}, {'number': 2, 'created': '2018-03-23 01:51:55.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-qinlingclient/commit/5c4b04c06c188cb99a859ce7499e0ef5d2e675ea', 'message': 'Updated from global requirements\n\nChange-Id: Ie7da78a69a39a9f96197e889e8c1c13a825ec627\n'}]",0,553258,5c4b04c06c188cb99a859ce7499e0ef5d2e675ea,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: Ie7da78a69a39a9f96197e889e8c1c13a825ec627
",git fetch https://review.opendev.org/openstack/python-qinlingclient refs/changes/58/553258/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,721ee559d6ecff01cfb2e8234d6d571efd78e2b5,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",2,2
openstack%2Fopenstackdocstheme~master~Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84,openstack/openstackdocstheme,master,Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84,"Configure project name, version, release",MERGED,2018-03-12 15:49:40.000000000,2018-03-23 10:25:56.000000000,2018-03-16 17:54:11.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 15:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/c3542db475cb3445055e76ae56a1452a69f5e510', 'message': ""WIP: Configure project name, version, release\n\nThis is currently done by pbr and we want to stop doing that. Start\noverriding this via the 'config-inited' event instead. This requires\nSphinx 1.8, so the version in requirements is bumped.\n\nThere are some TODOs left to resolve.\n\nWIP: This feature requires Sphinx 1.8 and I realized this *after* I'd\nwritten it. As such, this has to be WIP until that is released.\n\nChange-Id: Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84\n""}, {'number': 2, 'created': '2018-03-12 16:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/7bf3ac423f7550575f541ed88129eb388e3a1122', 'message': ""Configure project name, version, release\n\nThis is currently done by pbr and we want to stop doing that. Start\noverriding this via the 'builder-inited' event instead.\n\nChange-Id: Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84\n""}, {'number': 3, 'created': '2018-03-13 09:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/b676e3e76abf26268bbaffaca289b230979c9fa7', 'message': ""Configure project name, version, release\n\nThis is currently done by pbr and we want to stop doing that. Start\noverriding this via the 'builder-inited' event instead.\n\nChange-Id: Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84\n""}, {'number': 4, 'created': '2018-03-13 16:52:15.000000000', 'files': ['openstackdocstheme/ext.py', 'releasenotes/notes/autoconfigure-settings-7083fdeeb121da89.yaml', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/d03cea1f3497cd2888ca75018ac2a083c4589636', 'message': ""Configure project name, version, release\n\nThis is currently done by pbr and we want to stop doing that. Start\noverriding this via the 'builder-inited' event instead.\n\nChange-Id: Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84\n""}]",6,552069,d03cea1f3497cd2888ca75018ac2a083c4589636,23,5,4,15334,,,0,"Configure project name, version, release

This is currently done by pbr and we want to stop doing that. Start
overriding this via the 'builder-inited' event instead.

Change-Id: Ia2bdd815aac91bc191a4b965c4d07ea5aafa2f84
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/69/552069/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/ext.py', 'test-requirements.txt']",2,c3542db475cb3445055e76ae56a1452a69f5e510,configure-version-author-license,sphinx>=1.8.0 # BSD,"sphinx!=1.6.6,>=1.6.2 # BSD",41,1
openstack%2Fbarbican~master~I381dbd1c2887189333463eb75363937c7509613c,openstack/barbican,master,I381dbd1c2887189333463eb75363937c7509613c,Remove use of unsupported TEMPEST_SERVICES variable,MERGED,2018-01-23 13:42:41.000000000,2018-03-23 10:22:59.000000000,2018-03-23 10:22:59.000000000,"[{'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 19853}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-23 13:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b9cdb0d981da965c9f860de42cba14afa7662441', 'message': 'Remove use of unsupported TEMPEST_SERVICES variable\n\nTEMPEST_SERVICES global variable is not supported\nby devstack since long back.\n- I380dd20e5ed716a0bdf92aa02c3730359b8136e4\n- I9c24705e494689f09a885eb0a640efd50db33fcf\n\nService availability of tempest known services will be\nset by devstack with local check.\n- I02be777bf93143d946ccbb8e9eff637bfd1928d4\n\nThis commit removes the TEMPEST_SERVICES setting.\n\nChange-Id: I381dbd1c2887189333463eb75363937c7509613c\nRelated-Bug: #1743688\n'}, {'number': 2, 'created': '2018-03-23 04:35:45.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/barbican/commit/70aa7291f544d8f57036a18823a88d79102b6254', 'message': 'Remove use of unsupported TEMPEST_SERVICES variable\n\nTEMPEST_SERVICES global variable is not supported\nby devstack since long back.\n- I380dd20e5ed716a0bdf92aa02c3730359b8136e4\n- I9c24705e494689f09a885eb0a640efd50db33fcf\n\nService availability of tempest known services will be\nset by devstack with local check.\n- I02be777bf93143d946ccbb8e9eff637bfd1928d4\n\nThis commit removes the TEMPEST_SERVICES setting.\n\nChange-Id: I381dbd1c2887189333463eb75363937c7509613c\nRelated-Bug: #1743688\n'}]",0,536822,70aa7291f544d8f57036a18823a88d79102b6254,21,6,2,8556,,,0,"Remove use of unsupported TEMPEST_SERVICES variable

TEMPEST_SERVICES global variable is not supported
by devstack since long back.
- I380dd20e5ed716a0bdf92aa02c3730359b8136e4
- I9c24705e494689f09a885eb0a640efd50db33fcf

Service availability of tempest known services will be
set by devstack with local check.
- I02be777bf93143d946ccbb8e9eff637bfd1928d4

This commit removes the TEMPEST_SERVICES setting.

Change-Id: I381dbd1c2887189333463eb75363937c7509613c
Related-Bug: #1743688
",git fetch https://review.opendev.org/openstack/barbican refs/changes/22/536822/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,b9cdb0d981da965c9f860de42cba14afa7662441,bug/1743688,,"# Tell Tempest this project is present TEMPEST_SERVICES+=,barbican ",0,3
openstack%2Fhorizon~master~Id9646bec1cf7511d7e48b4ecf14ccd8ebbb1d202,openstack/horizon,master,Id9646bec1cf7511d7e48b4ecf14ccd8ebbb1d202,Convert admin.defaults tests into mock,MERGED,2018-03-21 18:55:19.000000000,2018-03-23 10:22:34.000000000,2018-03-23 10:22:34.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 22348}, {'_account_id': 23356}]","[{'number': 1, 'created': '2018-03-21 18:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/99b7239de733378c81f8de4a4ca306898e8ecd7b', 'message': 'Convert admin.defaults tests into mock\n\nChange-Id: Id9646bec1cf7511d7e48b4ecf14ccd8ebbb1d202\nPartially-Implements: blueprint mock-framework-in-unit-tests\n'}, {'number': 2, 'created': '2018-03-22 07:26:40.000000000', 'files': ['openstack_dashboard/dashboards/admin/defaults/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cc368d4d8e611ed1bbbe99686883bbd82f6357ae', 'message': 'Convert admin.defaults tests into mock\n\nChange-Id: Id9646bec1cf7511d7e48b4ecf14ccd8ebbb1d202\nPartially-Implements: blueprint mock-framework-in-unit-tests\n'}]",6,555025,cc368d4d8e611ed1bbbe99686883bbd82f6357ae,13,5,2,8478,,,0,"Convert admin.defaults tests into mock

Change-Id: Id9646bec1cf7511d7e48b4ecf14ccd8ebbb1d202
Partially-Implements: blueprint mock-framework-in-unit-tests
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/555025/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/defaults/tests.py'],1,99b7239de733378c81f8de4a4ca306898e8ecd7b,bp/mock-framework-in-unit-tests," import mock @test.create_mocks({ api.nova: [('default_quota_get', 'nova_default_quota_get')], api.cinder: [('default_quota_get', 'cinder_default_quota_get'), 'is_volume_service_enabled'], api.base: ['is_service_enabled'], api.neutron: [('default_quota_get', 'neutron_default_quota_get')], quotas: ['enabled_quotas']}) self.mock_is_volume_service_enabled.return_value = True self.mock_is_service_enabled.return_value = True self.mock_enabled_quotas.return_value = compute_quotas self.mock_nova_default_quota_get.return_value = self.quotas.nova self.mock_cinder_default_quota_get.return_value = \ self.cinder_quotas.first() self.mock_neutron_default_quota_get.return_value = \ self.neutron_quotas.first() self.mock_is_volume_service_enabled.assert_called_once_with( test.IsHttpRequest()) self.assertEqual(self.mock_is_service_enabled.call_count, 2) self.mock_is_service_enabled.assert_has_calls([ mock.call(test.IsHttpRequest(), 'compute'), mock.call(test.IsHttpRequest(), 'network')]) self.assert_mock_multiple_calls_with_same_arguments( self.mock_enabled_quotas, 4, mock.call(test.IsHttpRequest())) self.mock_nova_default_quota_get.assert_called_once_with( test.IsHttpRequest(), self.tenant.id) self.mock_cinder_default_quota_get.assert_called_once_with( test.IsHttpRequest(), self.tenant.id) self.mock_neutron_default_quota_get.assert_called_once_with( test.IsHttpRequest()) @test.create_mocks({ api.nova: [('default_quota_update', 'nova_default_quota_update')], api.cinder: [('default_quota_update', 'cinder_default_quota_update')], quotas: ['get_default_quota_data', 'get_disabled_quotas']}) self.mock_get_disabled_quotas.return_value = set() self.mock_get_default_quota_data.return_value = quota self.mock_nova_default_quota_update.return_value = None self.mock_cinder_default_quota_update.return_value = None self.mock_get_disabled_quotas.assert_called_once_with( test.IsHttpRequest()) self.mock_get_default_quota_data.assert_called_once_with( test.IsHttpRequest()) nova_fields = quotas.NOVA_QUOTA_FIELDS nova_updated_quota = dict([(key, updated_quota[key]) for key in nova_fields if key != 'fixed_ips']) self.mock_nova_default_quota_update.assert_called_once_with( test.IsHttpRequest(), **nova_updated_quota) cinder_updated_quota = dict([(key, updated_quota[key]) for key in quotas.CINDER_QUOTA_FIELDS]) self.mock_cinder_default_quota_update.assert_called_once_with( test.IsHttpRequest(), **cinder_updated_quota)","from django import httpfrom mox3.mox import IsA self.mox.StubOutWithMock(api.nova, 'default_quota_get') self.mox.StubOutWithMock(api.cinder, 'default_quota_get') self.mox.StubOutWithMock(api.cinder, 'is_volume_service_enabled') self.mox.StubOutWithMock(api.base, 'is_service_enabled') self.mox.StubOutWithMock(api.neutron, 'default_quota_get') self.mox.StubOutWithMock(quotas, 'enabled_quotas') api.cinder.is_volume_service_enabled(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'compute') \ .MultipleTimes().AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'network') \ .MultipleTimes().AndReturn(True) quotas.enabled_quotas(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(compute_quotas) api.nova.default_quota_get(IsA(http.HttpRequest), self.tenant.id).AndReturn(self.quotas.nova) api.cinder.default_quota_get(IsA(http.HttpRequest), self.tenant.id) \ .AndReturn(self.cinder_quotas.first()) api.neutron.default_quota_get( IsA(http.HttpRequest)).AndReturn(self.neutron_quotas.first()) self.mox.ReplayAll() @test.create_stubs({api.nova: ('default_quota_update', ), api.cinder: ('default_quota_update', ), quotas: ('get_default_quota_data', 'get_disabled_quotas')}) # init quotas.get_disabled_quotas(IsA(http.HttpRequest)).AndReturn(set()) quotas.get_default_quota_data(IsA(http.HttpRequest)).AndReturn(quota) # handle nova_fields = quotas.NOVA_QUOTA_FIELDS nova_updated_quota = dict([(key, updated_quota[key]) for key in nova_fields if key != 'fixed_ips']) api.nova.default_quota_update(IsA(http.HttpRequest), **nova_updated_quota) cinder_updated_quota = dict([(key, updated_quota[key]) for key in quotas.CINDER_QUOTA_FIELDS]) api.cinder.default_quota_update(IsA(http.HttpRequest), **cinder_updated_quota) self.mox.ReplayAll() ",57,46
openstack%2Fneutron-dynamic-routing~master~Idbf9d44c687e80efd27bb67c136faf870a1332ad,openstack/neutron-dynamic-routing,master,Idbf9d44c687e80efd27bb67c136faf870a1332ad,Fix some minor issues in testing doc,MERGED,2018-03-09 08:44:23.000000000,2018-03-23 10:20:34.000000000,2018-03-23 10:20:34.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 08:44:23.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/356e109614cc3e673fdc76309333401256df3617', 'message': 'Fix some minor issues in testing doc\n\nSome small errors prevent 1:1 following of the doc.\n\nChange-Id: Idbf9d44c687e80efd27bb67c136faf870a1332ad\n'}]",0,551214,356e109614cc3e673fdc76309333401256df3617,11,4,1,13252,,,0,"Fix some minor issues in testing doc

Some small errors prevent 1:1 following of the doc.

Change-Id: Idbf9d44c687e80efd27bb67c136faf870a1332ad
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/14/551214/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,356e109614cc3e673fdc76309333401256df3617,docs-update, $ neutron subnet-create --name selfservice --subnetpool selfservice \ Added network provider to BGP speaker bgp-speaker. $ neutron bgp-speaker-show bgp-speaker $ neutron bgp-speaker-advertiseroute-list bgp-speaker, $ neutron subnet-create --name selfservice --subnetpool private \ Added network provider to BGP speaker bgpspeaker. $ neutron bgp-speaker-show bgpspeaker $ neutron bgp-speaker-advertiseroute-list bgpspeaker,4,4
openstack%2Fcongress~master~I25d6e351ae64c5869187b357681361a1a1ac3f60,openstack/congress,master,I25d6e351ae64c5869187b357681361a1a1ac3f60,Updated from global requirements,MERGED,2018-03-23 00:52:29.000000000,2018-03-23 10:15:38.000000000,2018-03-23 10:15:37.000000000,"[{'_account_id': 11278}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/bce11249251f15619d52f9ce1bf65783ffe0dbab', 'message': 'Updated from global requirements\n\nChange-Id: I25d6e351ae64c5869187b357681361a1a1ac3f60\n'}, {'number': 2, 'created': '2018-03-23 07:26:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/92f472f40ced2b786be168cebeed9e724d3c4252', 'message': 'Updated from global requirements\n\nChange-Id: I25d6e351ae64c5869187b357681361a1a1ac3f60\n'}]",0,555553,92f472f40ced2b786be168cebeed9e724d3c4252,9,2,2,11131,,,0,"Updated from global requirements

Change-Id: I25d6e351ae64c5869187b357681361a1a1ac3f60
",git fetch https://review.opendev.org/openstack/congress refs/changes/53/555553/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bce11249251f15619d52f9ce1bf65783ffe0dbab,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fhorizon~stable%2Fqueens~I25e50de90e293350aaf80962342c76f6a0a59f2d,openstack/horizon,stable/queens,I25e50de90e293350aaf80962342c76f6a0a59f2d,Imported Translations from Zanata,MERGED,2018-03-22 07:28:48.000000000,2018-03-23 10:14:22.000000000,2018-03-23 10:14:22.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 07:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/303dce8ea8c492b26a46173e433824a0359bbea6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I25e50de90e293350aaf80962342c76f6a0a59f2d\n'}, {'number': 2, 'created': '2018-03-23 07:29:52.000000000', 'files': ['openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4dd4ef02bd560af048ad750cb8081568b8f3c77e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I25e50de90e293350aaf80962342c76f6a0a59f2d\n'}]",0,555180,4dd4ef02bd560af048ad750cb8081568b8f3c77e,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I25e50de90e293350aaf80962342c76f6a0a59f2d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/80/555180/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/ja/LC_MESSAGES/django.po'],1,303dce8ea8c492b26a46173e433824a0359bbea6,zanata/translations,"""POT-Creation-Date: 2018-03-21 23:45+0000\n""""PO-Revision-Date: 2018-03-22 05:45+0000\n""""X-Generator: Zanata 4.3.3\n""msgid ""The new availability zone can't be empty"" msgstr ""アベイラビリティーゾーンは空にできません"" ","""POT-Creation-Date: 2018-02-07 05:35+0000\n""""PO-Revision-Date: 2018-02-05 09:17+0000\n""""X-Generator: Zanata 3.9.6\n""",6,3
openstack%2Fhorizon~master~Ife66aad0949b6d5310535a791f9be54fab62c824,openstack/horizon,master,Ife66aad0949b6d5310535a791f9be54fab62c824,Imported Translations from Zanata,MERGED,2018-03-23 07:31:53.000000000,2018-03-23 10:14:18.000000000,2018-03-23 10:14:18.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 07:31:53.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/058c30688a67c446d4189a9f77ea0c69b9618d60', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ife66aad0949b6d5310535a791f9be54fab62c824\n'}]",0,555675,058c30688a67c446d4189a9f77ea0c69b9618d60,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ife66aad0949b6d5310535a791f9be54fab62c824
",git fetch https://review.opendev.org/openstack/horizon refs/changes/75/555675/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,058c30688a67c446d4189a9f77ea0c69b9618d60,zanata/translations,"""POT-Creation-Date: 2018-03-22 09:04+0000\n""""PO-Revision-Date: 2018-03-22 07:48+0000\n""msgid ""13.0.0.0rc1-108"" msgstr ""13.0.0.0rc1-108"" ","""POT-Creation-Date: 2018-03-21 12:51+0000\n""""PO-Revision-Date: 2018-03-21 09:39+0000\n""",5,2
openstack%2Fpuppet-ironic~master~Ib11f60bed3f68fc7030a7fe71583798901f674ea,openstack/puppet-ironic,master,Ib11f60bed3f68fc7030a7fe71583798901f674ea,Add support for configuring rescue mode,MERGED,2018-03-22 11:37:43.000000000,2018-03-23 10:13:06.000000000,2018-03-23 02:44:19.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 11:37:43.000000000', 'files': ['manifests/drivers/interfaces.pp', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'spec/classes/ironic_drivers_interfaces_spec.rb', 'releasenotes/notes/ironic-rescue-d1c28e3f4b67c14c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/78740fe6fa8eac3793c30fc0067dcc09608eb80f', 'message': 'Add support for configuring rescue mode\n\nTripleO blueprint ironic-rescue\n\nChange-Id: Ib11f60bed3f68fc7030a7fe71583798901f674ea\n'}]",0,555264,78740fe6fa8eac3793c30fc0067dcc09608eb80f,8,3,1,10239,,,0,"Add support for configuring rescue mode

TripleO blueprint ironic-rescue

Change-Id: Ib11f60bed3f68fc7030a7fe71583798901f674ea
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/64/555264/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/interfaces.pp', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'spec/classes/ironic_drivers_interfaces_spec.rb', 'releasenotes/notes/ironic-rescue-d1c28e3f4b67c14c.yaml']",5,78740fe6fa8eac3793c30fc0067dcc09608eb80f,bp/ironic-rescue,--- features: - | Supports configuring rescue mode: * Adds support for ``default_rescue_interface`` and ``enabled_rescue_interfaces`` to ``ironic::drivers::interfaces``. * Adds support for configuring rescue network via ``rescuing_network`` or ``rescuing_network_name`` in ``ironic::conductor``. ,,60,1
openstack%2Fpython-tripleoclient~master~Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3,openstack/python-tripleoclient,master,Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3,Populate ContainerImagePrepare variable,MERGED,2018-02-15 23:50:41.000000000,2018-03-23 10:11:33.000000000,2018-03-12 08:32:30.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-15 23:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f4d64a4e736a2ef5c3dfddbb0acdace1a6c871d', 'message': 'Populate ContainerImagePrepare variable\n\nIf the user does not specify an explicit container_images_file in the\nundercloud.conf, the variable ContainerImagePrepare will be set with\nthe values required to run the image prepare during the undercloud\ndeploy run.\n\nThis uses the same ContainerImagePrepare variable interface proposed\nfor the overcloud mistral-driven container prepare\nI1b485ff9491fe2b1cf850116f9133de8d05f3d40.\n\nThe actual image preparation will be added to undercloud_deploy.py in\na following change in this series.\n\nChange-Id: Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3\nBlueprint: #containerized-undercloud\n'}, {'number': 2, 'created': '2018-02-16 02:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca1beeadfcae806a6b8fe20dfea14ae270281137', 'message': 'Populate ContainerImagePrepare variable\n\nIf the user does not specify an explicit container_images_file in the\nundercloud.conf, the variable ContainerImagePrepare will be set with\nthe values required to run the image prepare during the undercloud\ndeploy run.\n\nThis uses the same ContainerImagePrepare variable interface proposed\nfor the overcloud mistral-driven container prepare\nI1b485ff9491fe2b1cf850116f9133de8d05f3d40.\n\nThe actual image preparation will be added to undercloud_deploy.py in\na following change in this series.\n\nDepends-On: I9a39dc1fe269abeb9e0bac19f47b2bcb420a974f\nChange-Id: Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3\nBlueprint: #containerized-undercloud\n'}, {'number': 3, 'created': '2018-02-20 03:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57fc377dd536f66413d20128cc2cc071f5106e85', 'message': 'Populate ContainerImagePrepare variable\n\nIf the user does not specify an explicit container_images_file in the\nundercloud.conf, the variable ContainerImagePrepare will be set with\nthe values required to run the image prepare during the undercloud\ndeploy run.\n\nThis uses the same ContainerImagePrepare variable interface proposed\nfor the overcloud mistral-driven container prepare\nI1b485ff9491fe2b1cf850116f9133de8d05f3d40.\n\nThe actual image preparation will be added to undercloud_deploy.py in\na following change in this series.\n\nChange-Id: Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3\nBlueprint: #containerized-undercloud\n'}, {'number': 4, 'created': '2018-02-22 00:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b60e12994f13ea1d4258f4b4c7a6707c6dd4cdf9', 'message': 'Populate ContainerImagePrepare variable\n\nIf the user does not specify an explicit container_images_file in the\nundercloud.conf, the variable ContainerImagePrepare will be set with\nthe values required to run the image prepare during the undercloud\ndeploy run.\n\nThis uses the same ContainerImagePrepare variable interface proposed\nfor the overcloud mistral-driven container prepare\nI1b485ff9491fe2b1cf850116f9133de8d05f3d40.\n\nThe actual image preparation will be added to undercloud_deploy.py in\na following change in this series.\n\nDepends-On: I9a39dc1fe269abeb9e0bac19f47b2bcb420a974f\nChange-Id: Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3\nBlueprint: #containerized-undercloud\n'}, {'number': 5, 'created': '2018-03-08 21:25:28.000000000', 'files': ['releasenotes/notes/undercloud-container-prepare-d272bdc30c073b29.yaml', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/67d40fcb9e4de8ac7a06f226028452a985614ee3', 'message': 'Populate ContainerImagePrepare variable\n\nIf the user does not specify an explicit container_images_file in the\nundercloud.conf, the variable ContainerImagePrepare will be set with\nthe values required to run the image prepare during the undercloud\ndeploy run.\n\nThis uses the same ContainerImagePrepare variable interface proposed\nfor the overcloud mistral-driven container prepare\nI1b485ff9491fe2b1cf850116f9133de8d05f3d40.\n\nThe actual image preparation will be added to undercloud_deploy.py in\na following change in this series.\n\nChange-Id: Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3\nBlueprint: #containerized-undercloud\n'}]",2,545161,67d40fcb9e4de8ac7a06f226028452a985614ee3,26,5,5,4571,,,0,"Populate ContainerImagePrepare variable

If the user does not specify an explicit container_images_file in the
undercloud.conf, the variable ContainerImagePrepare will be set with
the values required to run the image prepare during the undercloud
deploy run.

This uses the same ContainerImagePrepare variable interface proposed
for the overcloud mistral-driven container prepare
I1b485ff9491fe2b1cf850116f9133de8d05f3d40.

The actual image preparation will be added to undercloud_deploy.py in
a following change in this series.

Change-Id: Ie8543bed3363aac539cfd35e04e8dfaaa166ebc3
Blueprint: #containerized-undercloud
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/545161/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,3f4d64a4e736a2ef5c3dfddbb0acdace1a6c871d,bp/containerized-undercloud,"from tripleo_common.image import kolla_builderci_defaults = kolla_builder.container_images_prepare_defaults() help=('Container yaml file with all available images in the ' 'registry. When not specified, the values provided by ' 'this file will be generated using the ' 'container_image_* options.') ), cfg.StrOpt('container_image_namespace', default=ci_defaults.get('namespace'), help=('Namespace portion of image path') ), cfg.StrOpt('container_image_name_prefix', default=ci_defaults.get('name_prefix'), help=('Name prefix of container image names') ), cfg.StrOpt('container_image_name_suffix', default=ci_defaults.get('name_suffix'), help=('Name suffix of container image names') ), cfg.StrOpt('container_image_tag', default=ci_defaults.get('tag'), help=('Tag of undercloud images to deploy') ), cfg.StrOpt('container_image_tag_from_label', default=ci_defaults.get('tag_from_label'), help=('Image label to use to discover versioned tag') else: prepare_dict = kolla_builder.container_images_prepare_defaults() if CONF.get('container_image_namespace'): prepare_dict['namespace'] = CONF.get( 'container_image_namespace') if CONF.get('container_image_name_prefix'): prepare_dict['name_prefix'] = CONF.get( 'container_image_name_prefix') if CONF.get('container_image_name_suffix'): prepare_dict['name_suffix'] = CONF.get( 'container_image_name_suffix') if CONF.get('container_image_tag'): prepare_dict['tag'] = CONF.get('container_image_tag') if CONF.get('container_image_tag_from_label'): prepare_dict['tag_from_label'] = CONF.get( 'container_image_tag_from_label') env_data['ContainerImagePrepare'] = prepare_dict", help=('Container yaml file with all available images in the' 'registry'),43,2
openstack%2Ftripleo-quickstart-extras~master~Ia5ef1be013380f9de19715702dc3d1e3279429e1,openstack/tripleo-quickstart-extras,master,Ia5ef1be013380f9de19715702dc3d1e3279429e1,Use TLS by default with autogenerated certificate in the undercloud,MERGED,2018-03-14 06:00:54.000000000,2018-03-23 10:11:29.000000000,2018-03-23 09:44:52.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 9414}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24752}, {'_account_id': 27954}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-14 06:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/559c6e0bd2842282d67ecf085ce088969eba68df', 'message': 'Use TLS by default with autogenerated certificate in the undercloud\n\nThis sets the undercloud_generate_service_certificate option to true by\ndefault. Thus enabling TLS in the undercloud.\n\nChange-Id: Ia5ef1be013380f9de19715702dc3d1e3279429e1\n'}, {'number': 2, 'created': '2018-03-14 06:02:00.000000000', 'files': ['roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bb56950994eadcd31f9a6ba7338cdd11c05270a', 'message': 'Use TLS by default with autogenerated certificate in the undercloud\n\nThis sets the undercloud_generate_service_certificate option to true by\ndefault. Thus enabling TLS in the undercloud.\n\nChange-Id: Ia5ef1be013380f9de19715702dc3d1e3279429e1\n'}]",0,552781,1bb56950994eadcd31f9a6ba7338cdd11c05270a,25,14,2,10873,,,0,"Use TLS by default with autogenerated certificate in the undercloud

This sets the undercloud_generate_service_certificate option to true by
default. Thus enabling TLS in the undercloud.

Change-Id: Ia5ef1be013380f9de19715702dc3d1e3279429e1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/81/552781/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,559c6e0bd2842282d67ecf085ce088969eba68df,public-tls-default,undercloud_generate_service_certificate: true,undercloud_generate_service_certificate: false,1,1
openstack%2Ftripleo-common~stable%2Fpike~I11db23ad173ad81bc9392bbde8ff6e3cca7ef6a8,openstack/tripleo-common,stable/pike,I11db23ad173ad81bc9392bbde8ff6e3cca7ef6a8,Increase total image size to 23G,ABANDONED,2018-03-16 12:24:10.000000000,2018-03-23 10:09:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-16 12:24:10.000000000', 'files': ['image-yaml/overcloud-hardened-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6430b8f195c5e6336bee04fbc4ac8a98dbb1851b', 'message': 'Increase total image size to 23G\n\nTo generate the overcloud image, we increased the size of\n/var from 7G to 10G. So we need to increase the global image\nsize to 23G as well.\n\nChange-Id: I11db23ad173ad81bc9392bbde8ff6e3cca7ef6a8\nFixes-Bug: #1756319\n'}]",2,553770,6430b8f195c5e6336bee04fbc4ac8a98dbb1851b,14,6,1,6133,,,0,"Increase total image size to 23G

To generate the overcloud image, we increased the size of
/var from 7G to 10G. So we need to increase the global image
size to 23G as well.

Change-Id: I11db23ad173ad81bc9392bbde8ff6e3cca7ef6a8
Fixes-Bug: #1756319
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/553770/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-hardened-images.yaml'],1,6430b8f195c5e6336bee04fbc4ac8a98dbb1851b,bug/1756319, DIB_IMAGE_SIZE: '23', DIB_IMAGE_SIZE: '20',1,1
openstack%2Fswift~feature%2Fdeep~I7c633ba35b57fa38c2a3930ca5e270fea9c4faf5,openstack/swift,feature/deep,I7c633ba35b57fa38c2a3930ca5e270fea9c4faf5,Stop unnecessarily instantiating new Timestamps in shard-info,MERGED,2018-03-22 21:44:22.000000000,2018-03-23 10:08:13.000000000,2018-03-23 10:08:13.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-22 21:44:22.000000000', 'files': ['swift/cli/shard-info.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/902d8ef878a14b30ce76c6ae82f25251800460f5', 'message': 'Stop unnecessarily instantiating new Timestamps in shard-info\n\nChange-Id: I7c633ba35b57fa38c2a3930ca5e270fea9c4faf5\n'}]",0,555467,902d8ef878a14b30ce76c6ae82f25251800460f5,11,4,1,15343,,,0,"Stop unnecessarily instantiating new Timestamps in shard-info

Change-Id: I7c633ba35b57fa38c2a3930ca5e270fea9c4faf5
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/555467/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/shard-info.py'],1,902d8ef878a14b30ce76c6ae82f25251800460f5,p-sharding-epoch-in-shard-range," sr.timestamp.isoformat, sr.timestamp.internal, sr.meta_timestamp.isoformat, sr.meta_timestamp.internal, sr.timestamp.isoformat, sr.timestamp.internal, sr.meta_timestamp.isoformat, sr.meta_timestamp.internal,"," Timestamp(sr.timestamp).isoformat, sr.timestamp.internal, Timestamp(sr.meta_timestamp).isoformat, sr.meta_timestamp.internal, Timestamp(sr.timestamp).isoformat, sr.timestamp.internal, Timestamp(sr.meta_timestamp).isoformat, sr.meta_timestamp.internal,",4,4
openstack%2Fswift~feature%2Fdeep~I10d0248f9bc582621c915c9028c5a950681245c1,openstack/swift,feature/deep,I10d0248f9bc582621c915c9028c5a950681245c1,Enable sharding via own_shard_range in manage_shard_ranges.py,MERGED,2018-03-22 15:44:19.000000000,2018-03-23 10:08:11.000000000,2018-03-23 10:08:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 23356}, {'_account_id': 27552}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-22 15:44:19.000000000', 'files': ['swift/cli/manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b504db2ba7b18da7ba19fa02e07d591b80511a86', 'message': 'Enable sharding via own_shard_range in manage_shard_ranges.py\n\nTo enable sharding manage_shard_ranges, give a broker some shard\nranges and set its own_shard_range to state sharding, with an\nepoch. Let the sharder daemon do the rest.\n\nAlso add more checks for valid state before enabling sharding.\n\nChange-Id: I10d0248f9bc582621c915c9028c5a950681245c1\n'}]",1,555343,b504db2ba7b18da7ba19fa02e07d591b80511a86,13,5,1,7847,,,0,"Enable sharding via own_shard_range in manage_shard_ranges.py

To enable sharding manage_shard_ranges, give a broker some shard
ranges and set its own_shard_range to state sharding, with an
epoch. Let the sharder daemon do the rest.

Also add more checks for valid state before enabling sharding.

Change-Id: I10d0248f9bc582621c915c9028c5a950681245c1
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/555343/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/manage_shard_ranges.py'],1,b504db2ba7b18da7ba19fa02e07d591b80511a86,p-sharding-epoch-in-shard-range,"def _check_shard_ranges(own_shard_range, shard_ranges): reasons = [] def reason(x, y): if x != y: reasons.append('%s != %s' % (x, y)) if not shard_ranges: reasons.append('No shard ranges.') else: reason(own_shard_range.lower, shard_ranges[0].lower) reason(own_shard_range.upper, shard_ranges[-1].upper) for x, y in zip(shard_ranges, shard_ranges[1:]): reason(x.upper, y.lower) if reasons: print('WARNING: invalid shard ranges: %s.' % reasons) print('Aborting.') exit(2) def _check_own_shard_range(broker, args): is_shard = broker.account.startswith('.shards_') own_shard_range = broker.get_own_shard_range(no_default=is_shard) if not own_shard_range: print('WARNING: shard container missing own shard range.') print('Aborting.') exit(2) return own_shard_range print('Found %d ranges in %gs (container size %s)' % (len(ranges), delta_t, broker.get_info()['object_count']), file=sys.stderr) elif getattr(args, 'brief', False): print(""Existing shard ranges:"", file=sys.stderr) print(json.dumps([(sd['lower'], sd['upper']) for sd in shard_data], sort_keys=True, indent=2)) 'ranges. Deleting all ranges in this db does not guarantee ' 'deletion of all ranges on all replicas of the db.') print(' - this db is in state %s' % broker.get_db_state_text()) print(' - %d existing shard ranges have started sharding' % own_shard_range = _check_own_shard_range(broker, args) _check_shard_ranges(own_shard_range, shard_ranges) def _enable_sharding(broker, own_shard_range, args): if own_shard_range.update_state(ShardRange.SHARDING): own_shard_range.epoch = Timestamp.now() broker.merge_shard_ranges([own_shard_range]) return own_shard_range def enable_sharding(broker, args): own_shard_range = _check_own_shard_range(broker, args) _check_shard_ranges(own_shard_range, broker.get_shard_ranges()) if own_shard_range.state == ShardRange.ACTIVE: own_shard_range = _enable_sharding(broker, own_shard_range, args) print('Container moved to state %r with epoch %s.' % (own_shard_range.state_text, own_shard_range.epoch.internal)) elif own_shard_range.state == ShardRange.SHARDING: if own_shard_range.epoch: print('Container already in state %r with epoch %s.' % (own_shard_range.state_text, own_shard_range.epoch.internal)) print('No action required.') else: print('Container already in state %r but missing epoch.' % own_shard_range.state_text) own_shard_range = _enable_sharding(broker, own_shard_range, args) print('Container in state %r given epoch %s.' % (own_shard_range.state_text, own_shard_range.epoch.internal)) else: print('WARNING: container in state %s (should be active or sharding).' % own_shard_range.state_text) print('Aborting.') print('Run container-sharder on all nodes to shard the container.') show_parser.add_argument( '--brief', '-b', action='store_true', default=False, help='Show only shard range bounds in output.')"," print('Found %d ranges in %gs' % (len(ranges), delta_t), file=sys.stderr) 'ranges because:') print(' the db is in state %s' % broker.get_db_state_text()) print(' %d existing shard ranges have started sharding' %def enable_sharding(broker, args): print('Sharding enabled.') epoch = Timestamp.now() if not broker.set_sharding_state(epoch=epoch): print ('WARNING: failed to move broker to sharding state.') print('Enabled sharding with epoch %s.' % epoch.internal) print('Run container-sharder to shard the container.')",80,11
openstack%2Fswift~feature%2Fdeep~I4b8fec618df9b6df463b0be46ae27ac7486edd97,openstack/swift,feature/deep,I4b8fec618df9b6df463b0be46ae27ac7486edd97,Store epoch in shard ranges table,MERGED,2018-03-13 19:25:08.000000000,2018-03-23 10:08:09.000000000,2018-03-23 10:08:09.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-13 19:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ccc5b366ef2280aeb6ff658fc433fe0a6308fb4', 'message': ""Store epoch and root container in shard ranges table\n\nStoring the epoch of a container in its shard range makes it available\nwhen creating brokers to replicate to that container. This means that\nwhen cleaving, the cleave dbs should have the same epoch as the shard\ncontainer to which they are cleaving.\n\nThere is no other timestamp in a shard range that remains at the value\nof the epoch so it requires a new attribute in ShardRange.\n\nSince epoch is now in the shard ranges table it makes sense to put the\nroot container there too. It is stored under the name 'parent' because\nthat is a more general description. We currently 're-parent' shards of\na shard to the shard's parent, hence use of 'root' terminology, but in\nfuture we might not always do that and shards might have parents that\nare not the root.\n\nWith this patch, all steady state metadata required for managing\nsharding is encapsulated in shard ranges. Sysmeta is only used for\ntransient metadata such as the cleave cursor.\n\nChange-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97\n""}, {'number': 2, 'created': '2018-03-19 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d1fdbd73286d712d3ad549f1dc0a2dc599807100', 'message': ""Store epoch and root container in shard ranges table\n\nStoring the epoch of a container in its shard range makes it available\nwhen creating brokers to replicate to that container. This means that\nwhen cleaving, the cleave dbs should have the same epoch as the shard\ncontainer to which they are cleaving.\n\nThere is no other timestamp in a shard range that remains at the value\nof the epoch so it requires a new attribute in ShardRange.\n\nSince epoch is now in the shard ranges table it makes sense to put the\nroot container there too. It is stored under the name 'parent' because\nthat is a more general description. We currently 're-parent' shards of\na shard to the shard's parent, hence use of 'root' terminology, but in\nfuture we might not always do that and shards might have parents that\nare not the root.\n\nWith this patch, all steady state metadata required for managing\nsharding is encapsulated in shard ranges. Sysmeta is only used for\ntransient metadata such as the cleave cursor.\n\nChange-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97\n""}, {'number': 3, 'created': '2018-03-19 15:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c7bd143465423912e5e97824383a2c4b4f6fbfe', 'message': ""Store epoch and root container in shard ranges table\n\nStoring the epoch of a container in its shard range makes it available\nwhen creating brokers to replicate to that container. This means that\nwhen cleaving, the cleave dbs should have the same epoch as the shard\ncontainer to which they are cleaving.\n\nThere is no other timestamp in a shard range that remains at the value\nof the epoch so it requires a new attribute in ShardRange.\n\nSince epoch is now in the shard ranges table it makes sense to put the\nroot container there too. It is stored under the name 'parent' because\nthat is a more general description. We currently 're-parent' shards of\na shard to the shard's parent, hence use of 'root' terminology, but in\nfuture we might not always do that and shards might have parents that\nare not the root.\n\nWith this patch, all steady state metadata required for managing\nsharding is encapsulated in shard ranges. Sysmeta is only used for\ntransient metadata such as the cleave cursor.\n\nChange-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97\n""}, {'number': 4, 'created': '2018-03-20 10:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6953a8b16387a2aecb47f74f70860be8a93d444', 'message': ""Store epoch and root container in shard ranges table\n\nStoring the epoch of a container in its shard range makes it available\nwhen creating brokers to replicate to that container. This means that\nwhen cleaving, the cleave dbs should have the same epoch as the shard\ncontainer to which they are cleaving.\n\nThere is no other timestamp in a shard range that remains at the value\nof the epoch so it requires a new attribute in ShardRange.\n\nSince epoch is now in the shard ranges table it makes sense to put the\nroot container there too. It is stored under the name 'parent' because\nthat is a more general description. We currently 're-parent' shards of\na shard to the shard's parent, hence use of 'root' terminology, but in\nfuture we might not always do that and shards might have parents that\nare not the root.\n\nWith this patch, all steady state metadata required for managing\nsharding is encapsulated in shard ranges. Sysmeta is only used for\ntransient metadata such as the cleave cursor.\n\nChange-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97\n""}, {'number': 5, 'created': '2018-03-21 21:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/850a53deca20c98d5317ae769f3dba252b21f3b2', 'message': 'Store epoch in shard ranges table\n\nStoring the epoch of a container in its shard range makes it available\nwhen creating brokers to replicate to that container. This means that\nwhen cleaving, the cleave dbs should have the same epoch as the shard\ncontainer to which they are cleaving.\n\nThere is no other timestamp in a shard range that remains at the value\nof the epoch so it requires a new attribute in ShardRange.\n\nChange-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97\n'}, {'number': 6, 'created': '2018-03-22 12:29:53.000000000', 'files': ['swift/cli/shard-info.py', 'test/unit/container/test_replicator.py', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a347c090c64cf2c366cebc828fb55c5dd03f61ca', 'message': 'Store epoch in shard ranges table\n\nStoring the epoch of a container in its shard range makes it available\nwhen creating brokers to replicate to that container. This means that\nwhen cleaving, the cleave dbs should have the same epoch as the shard\ncontainer to which they are cleaving.\n\nThere is no other timestamp in a shard range that remains at the value\nof the epoch so it requires a new attribute in ShardRange.\n\nChange-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97\n'}]",28,552668,a347c090c64cf2c366cebc828fb55c5dd03f61ca,33,6,6,7847,,,0,"Store epoch in shard ranges table

Storing the epoch of a container in its shard range makes it available
when creating brokers to replicate to that container. This means that
when cleaving, the cleave dbs should have the same epoch as the shard
container to which they are cleaving.

There is no other timestamp in a shard range that remains at the value
of the epoch so it requires a new attribute in ShardRange.

Change-Id: I4b8fec618df9b6df463b0be46ae27ac7486edd97
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/552668/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/shard-info.py', 'test/unit/container/test_replicator.py', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'swift/container/replicator.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py']",11,1ccc5b366ef2280aeb6ff658fc433fe0a6308fb4,p-sharding-epoch-in-shard-range," ts_4 = next(self.ts_iter) state=0, state_timestamp=None, epoch=None, parent=None) state=0, state_timestamp=ts_1.internal, epoch=None, parent=None) state=1, state_timestamp=ts_3.internal, epoch=ts_4, parent='a/c') 'state': 1, 'state_timestamp': ts_3.internal, 'epoch': ts_4, 'parent': 'a/c'}) ts_4 = next(self.ts_iter) state=1, state_timestamp=ts_3, epoch=ts_4, parent='a/c') 'state': 1, 'state_timestamp': ts_3.internal, 'epoch': ts_4, 'parent': 'a/c'} def test_epoch_setter(self): sr = utils.ShardRange('a/c', next(self.ts_iter)) self.assertIsNone(sr.epoch) ts = next(self.ts_iter) sr.epoch = ts self.assertEqual(ts, sr.epoch) ts = next(self.ts_iter) sr.epoch = ts.internal self.assertEqual(ts, sr.epoch) sr.epoch = None self.assertIsNone(sr.epoch) with self.assertRaises(ValueError): sr.epoch = 'bad' "," state=0, state_timestamp=None) state=0, state_timestamp=ts_1.internal) state=1, state_timestamp=ts_3.internal) 'state': 1, 'state_timestamp': ts_3.internal}) state=1, state_timestamp=ts_3) 'state': 1, 'state_timestamp': ts_3.internal}",357,247
openstack%2Fzaqar~master~Ia92774ef1c55a371e37fc845511a5dceb8f92c00,openstack/zaqar,master,Ia92774ef1c55a371e37fc845511a5dceb8f92c00,Fix claims on non-existing queue on swift,MERGED,2018-03-12 09:31:09.000000000,2018-03-23 10:00:43.000000000,2018-03-23 08:43:53.000000000,"[{'_account_id': 7385}, {'_account_id': 9712}, {'_account_id': 14203}, {'_account_id': 15054}, {'_account_id': 20970}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 22623}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-03-12 09:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d8220483014211f8cd77ca8a38510630ac868c62', 'message': 'Fix claims on non-existing queue\n\nChange-Id: Ia92774ef1c55a371e37fc845511a5dceb8f92c00\nDepends-On: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3\nCloses-Bug: #1754061\n'}, {'number': 2, 'created': '2018-03-12 12:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5ac7f5b599f92a6e0d7d5073f017240b25828a8b', 'message': ""Fix claims on non-existing queue on swift\n\nThis returns an empty list instead of an error if we try to claim\nmessages on a queue that doesn't exist yet.\n\nChange-Id: Ia92774ef1c55a371e37fc845511a5dceb8f92c00\nDepends-On: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3\nCloses-Bug: #1754061\n""}, {'number': 3, 'created': '2018-03-12 15:53:39.000000000', 'files': ['zaqar/storage/swift/claims.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/df24b8b0238b019f0c2437a1074b69e19e3d0342', 'message': ""Fix claims on non-existing queue on swift\n\nThis returns an empty list instead of an error if we try to claim\nmessages on a queue that doesn't exist yet.\n\nChange-Id: Ia92774ef1c55a371e37fc845511a5dceb8f92c00\nDepends-On: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3\nCloses-Bug: #1754061\n""}]",0,551929,df24b8b0238b019f0c2437a1074b69e19e3d0342,29,10,3,7385,,,0,"Fix claims on non-existing queue on swift

This returns an empty list instead of an error if we try to claim
messages on a queue that doesn't exist yet.

Change-Id: Ia92774ef1c55a371e37fc845511a5dceb8f92c00
Depends-On: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3
Closes-Bug: #1754061
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/29/551929/2 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/storage/swift/claims.py'],1,d8220483014211f8cd77ca8a38510630ac868c62,bug/1754061, # XXX,,1,0
openstack%2Fproject-config~master~If7f5e7c68f3dd3d36c9f1d4df604f89594375336,openstack/project-config,master,If7f5e7c68f3dd3d36c9f1d4df604f89594375336,Add ansible-role-statsd zuul jobs,MERGED,2018-03-20 17:57:34.000000000,2018-03-23 10:00:29.000000000,2018-03-23 10:00:29.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 17:57:34.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cbe21d408687f0ea3b2040a2dc3481fe45099553', 'message': ""Add ansible-role-statsd zuul jobs\n\nCreate system-required job for the project, we'll also including a\nproject .zuul.yaml file once ready to bring those jobs online.\n\nChange-Id: If7f5e7c68f3dd3d36c9f1d4df604f89594375336\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",2,554648,cbe21d408687f0ea3b2040a2dc3481fe45099553,11,4,1,4162,,,0,"Add ansible-role-statsd zuul jobs

Create system-required job for the project, we'll also including a
project .zuul.yaml file once ready to bring those jobs online.

Change-Id: If7f5e7c68f3dd3d36c9f1d4df604f89594375336
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/554648/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cbe21d408687f0ea3b2040a2dc3481fe45099553,, name: openstack/ansible-role-statsd templates: - system-required - project:,,5,0
openstack%2Fnova~master~I1263c5b85f36f65860b9efcfa082948a866ad751,openstack/nova,master,I1263c5b85f36f65860b9efcfa082948a866ad751,Add disabled field to CellMapping object,MERGED,2018-03-06 14:27:29.000000000,2018-03-23 10:00:03.000000000,2018-03-23 00:24:41.000000000,"[{'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23327}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-03-06 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4062f8096d6410506bf44da45fe86c15f643c61', 'message': 'Add disabled column/field to cell_mappings table/object\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 2, 'created': '2018-03-06 14:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8077d5ee04ee4ce25f976d9091a2461b403ba8dc', 'message': '[WIP] Add disabled column/field to cell_mappings table/object\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 3, 'created': '2018-03-13 12:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaf29f46c92ac54ac76b65b72d6df5b07d1928e8', 'message': '[WIP] Add disabled field to CellMapping object\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 4, 'created': '2018-03-14 22:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/589d42d364f75a45ff6efc4784577005b9300137', 'message': '[WIP] Add disabled field to CellMapping object\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 5, 'created': '2018-03-15 15:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53aed061324c40333fc861de1478e15576a5c02d', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 6, 'created': '2018-03-15 15:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccab92f49a1d995f747711bd16dc3dff9e741268', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 7, 'created': '2018-03-15 18:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22bd16dd7ca3bf6e69c9dbf221d558efe1e166ee', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 8, 'created': '2018-03-20 11:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51dfb9c784925b0a54191e4b43c638ea880edbdd', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 9, 'created': '2018-03-20 11:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a8c4067e7c99c8933504696158455d3d877f311', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 10, 'created': '2018-03-20 13:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3e3eca4f2c32cfb2ed3e0d184bb2a1621035496', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}, {'number': 11, 'created': '2018-03-20 14:42:41.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/fixtures.py', 'nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9377127eb887d263ba1c80990f93329fda3c19bc', 'message': 'Add disabled field to CellMapping object\n\nThis patch adds a new field disabled to the CellMapping\nobject which would be used to represent the value in the\ndisabled column of the cell_mappings table for each record.\n\nRelated to blueprint cell-disable\n\nChange-Id: I1263c5b85f36f65860b9efcfa082948a866ad751\n'}]",14,550090,9377127eb887d263ba1c80990f93329fda3c19bc,104,20,11,26936,,,0,"Add disabled field to CellMapping object

This patch adds a new field disabled to the CellMapping
object which would be used to represent the value in the
disabled column of the cell_mappings table for each record.

Related to blueprint cell-disable

Change-Id: I1263c5b85f36f65860b9efcfa082948a866ad751
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/550090/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/fixtures.py', 'nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/053_cell_mapping_add_disabled.py', 'nova/tests/functional/db/api/test_migrations.py']",8,a4062f8096d6410506bf44da45fe86c15f643c61,bp/cell-disable," def _check_053(self, engine, data): self.assertColumnExists(engine, 'cell_mappings', 'disabled') ",,48,6
openstack%2Frpm-packaging~master~I0cfb6ecdc0f818ec06569f96178aea440abef881,openstack/rpm-packaging,master,I0cfb6ecdc0f818ec06569f96178aea440abef881,Add initial spec for glance,MERGED,2017-02-21 19:47:40.000000000,2018-03-23 09:57:56.000000000,2018-03-23 09:57:56.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-02-21 19:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b7d3086f45c36d60088415f2fc23d2f670f3ac0', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 2, 'created': '2017-03-13 14:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1316417831f2df795c6f2c9bda59d8c3deab7609', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 3, 'created': '2017-03-23 22:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ab3ad6bc9ef7ae3c08e604ca628ead488b3a7167', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 4, 'created': '2017-03-23 22:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6ae5dee40e50e06d9a0c23ec9269db24a1d0e358', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 5, 'created': '2017-03-23 22:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2a63819305cdf723fdaf795d606fc17cc6351d15', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 6, 'created': '2018-03-02 17:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/89addf2a22f164d34a38430d775511744aac6875', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 7, 'created': '2018-03-04 18:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3d4528a06930784b051d2eeaa1689bac57ca42bb', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 8, 'created': '2018-03-04 18:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b62ff983d8e4bf7d389a61d21483d90348e2c635', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 9, 'created': '2018-03-22 15:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/02d5cb5630d9bd47055858a1d00615808c0eb2f0', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}, {'number': 10, 'created': '2018-03-23 05:41:22.000000000', 'files': ['openstack/glance/openstack-glance.README.config', 'openstack/glance/openstack-glance.defaultconf', 'openstack/glance/openstack-glance-registry.service', 'openstack/glance/openstack-glance-api.service', 'openstack/glance/openstack-glance.conf', 'openstack/glance/openstack-glance.logrotate', 'openstack/glance/glance.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/015822ef798d60cf04a8ffa2e47bd671113d0d11', 'message': 'Add initial spec for glance\n\nChange-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881\n'}]",10,436619,015822ef798d60cf04a8ffa2e47bd671113d0d11,76,10,10,7102,,,0,"Add initial spec for glance

Change-Id: I0cfb6ecdc0f818ec06569f96178aea440abef881
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/19/436619/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/glance/openstack-glance.README.config', 'openstack/glance/openstack-glance-glare.service', 'openstack/glance/openstack-glance.defaultconf', 'openstack/glance/openstack-glance-registry.service', 'openstack/glance/openstack-glance-api.service', 'openstack/glance/openstack-glance.conf', 'openstack/glance/openstack-glance.logrotate', 'openstack/glance/glance.spec.j2']",8,1b7d3086f45c36d60088415f2fc23d2f670f3ac0,436619,"%global with_doc 1 %global sname glance {% set upstream_version = '14.0.0.0rc1' %} {% set rpm_release = '1' %} %if 0%{?rhel} || 0%{?fedora} %global rdo 1 %endif Name: {{ py2name('glance') }} Epoch: {{ epoch('glance') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: OpenStack Image Service (Glance) License: {{ license('Apache-2.0') }} Url: https://launchpad.net/glance Source0: http://tarballs.openstack.org/%{sname}/%{sname}-{{upstream_version}}.tar.gz Source1: openstack-glance.logrotate Source2: openstack-glance.conf Source3: openstack-glance-api.service Source4: openstack-glance-glare.service Source5: openstack-glance-registry.service Source6: openstack-glance.defaultconf Source7: openstack-glance.README.config BuildRequires: openstack-macros BuildRequires: {{ py2pkg('Paste') }} BuildRequires: {{ py2pkg('PasteDeploy') }} BuildRequires: {{ py2pkg('Routes') }} BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('WSME') }} BuildRequires: {{ py2pkg('WebOb') }} BuildRequires: {{ py2pkg('cursive') }} BuildRequires: {{ py2pkg('debtcollector') }} BuildRequires: {{ py2pkg('eventlet') }} BuildRequires: {{ py2pkg('futurist') }} BuildRequires: {{ py2pkg('glance_store') }} BuildRequires: {{ py2pkg('keystoneclient') }} BuildRequires: {{ py2pkg('keystonemiddleware') }} BuildRequires: {{ py2pkg('oslo.concurrency') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.context') }} BuildRequires: {{ py2pkg('oslo.db') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.messaging') }} BuildRequires: {{ py2pkg('oslo.middleware') }} BuildRequires: {{ py2pkg('oslo.policy') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslosphinx') }} BuildRequires: {{ py2pkg('osprofiler') }} BuildRequires: {{ py2pkg('pyOpenSSL') }} BuildRequires: {{ py2pkg('pycrypto') }} BuildRequires: {{ py2pkg('semantic_version') }} BuildRequires: {{ py2pkg('stevedore') }} BuildRequires: {{ py2pkg('taskflow') }} BuildRequires: systemd-rpm-macros %{?systemd_requires} Requires: python-%{sname} = %{epoch}:%{version}-%{release} Requires: logrotate BuildArch: noarch %if 0%{?suse_version} Requires(pre): pwdutils %endif %if 0%{?rdo} Requires(pre): shadow-utils %endif %description The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. %package -n python-%{sname} Summary: OpenStack Image Service (Glance) - Python module Group: Applications/System Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('Paste') }} Requires: {{ py2pkg('PasteDeploy') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('Routes') }} Requires: {{ py2pkg('SQLAlchemy') }} Requires: {{ py2pkg('WSME') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('cursive') }} Requires: {{ py2pkg('cursive') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('futurist') }} Requires: {{ py2pkg('glance_store') }} Requires: {{ py2pkg('httplib2') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('keystoneclient') }} Requires: {{ py2pkg('keystonemiddleware') }} Requires: {{ py2pkg('monotonic') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.db') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.messaging') }} Requires: {{ py2pkg('oslo.middleware') }} Requires: {{ py2pkg('oslo.policy') }} Requires: {{ py2pkg('oslo.service') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('osprofiler') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('psutil') }} Requires: {{ py2pkg('pyOpenSSL') }} Requires: {{ py2pkg('pycrypto') }} Requires: {{ py2pkg('retrying') }} Requires: {{ py2pkg('semantic_version') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('sqlalchemy-migrate') }} Requires: {{ py2pkg('stevedore') }} Requires: {{ py2pkg('taskflow') }} Requires: {{ py2pkg('xattr') }} %description -n python-%{sname} The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the Glance Python library. %if 0%{?with_doc} %package doc Summary: Documentation for OpenStack Image Service Group: Documentation BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the documentation. %endif %package api Summary: OpenStack Image service (Glance) - API Group: Development/Languages/Python Requires: %{name} = %{version} %description api The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the %{name} API server. %package glare Summary: OpenStack Image service (Glance) - Artifacts Group: Development/Languages/Python Requires: %{name} = %{version} %description glare The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the %{name} Artifacts server. %package registry Summary: OpenStack Image service (Glance) - Registry Group: Development/Languages/Python Requires: %{name} = %{version} %description registry The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the %{name} Registry server. %prep %autosetup -n %{sname}-{{upstream_version}} %build %{py2_build} # build documentation %if 0%{?with_doc} %{__python2} setup.py build_sphinx rm -rf doc/build/html/.{doctrees,buildinfo} %endif # regenerate the sample config files for service in api registry scrubber cache manage glare; do PYTHONPATH=. oslo-config-generator --config-file etc/oslo-config-generator/glance-$service.conf done %install %{py2_install} # directories install -d -m 755 %{buildroot}%{_sysconfdir}/%{sname} install -d -m 755 %{buildroot}%{_sysconfdir}/glance/glance.conf.d/ install -d -m 755 %{buildroot}%{_sysconfdir}/glance/glance-api.conf.d/ install -d -m 755 %{buildroot}%{_sysconfdir}/glance/glance-registry.conf.d/ install -d -m 755 %{buildroot}%{_sysconfdir}/glance/glance-glare.conf.d/ install -d -m 755 %{buildroot}%{_localstatedir}/lib/%{sname} install -d -m 755 %{buildroot}%{_localstatedir}/lib/%{sname}/images install -d -m 750 %{buildroot}%{_localstatedir}/log/%{sname} install -d -m 750 %{buildroot}%{_localstatedir}/cache/%{sname} install -d -m 700 %{buildroot}%{_rundir}/%{sname} mkdir -p %{buildroot}%{_mandir}/man1 # tmpfile generator install -D -m 644 %{SOURCE2} %{buildroot}/%{_tmpfilesdir}/glance.conf # install sample configs cp -pr etc/* %{buildroot}%{_sysconfdir}/%{sname} for service in api registry scrubber cache manage glare swift; do mv %{buildroot}%{_sysconfdir}/%{sname}/glance-$service.conf{.sample,} done install -p -D -m 640 %{SOURCE6} %{buildroot}%{_sysconfdir}/%{sname}/README.config rm -rf %{buildroot}%{_sysconfdir}/%{sname}/oslo-config-generator # default config install -D -m 640 %{SOURCE6} %{buildroot}/%{_sysconfdir}/glance/glance.conf.d/010-glance.conf # systemd install -p -D -m 444 %{SOURCE3} %{buildroot}%{_unitdir}/openstack-glance-api.service install -p -D -m 444 %{SOURCE4} %{buildroot}%{_unitdir}/openstack-glance-glare.service install -p -D -m 444 %{SOURCE5} %{buildroot}%{_unitdir}/openstack-glance-registry.service # logrotate install -p -D -m 644 %{SOURCE1} %{buildroot}%{_sysconfdir}/logrotate.d/openstack-glance # man pages install -p -D -m 644 doc/build/man/*.1 %{buildroot}%{_mandir}/man1/ # move metadefs mv %{buildroot}/usr/etc/glance/metadefs/* %{buildroot}%{_sysconfdir}/glance/metadefs %pre %openstack_pre_user_group_create glance glance /sbin/nologin exit 0 %check %{__python2} setup.py testr %post %tmpfiles_create %{_tmpfilesdir}/glance.conf %post api %systemd_post %{name}-api.service %preun api %systemd_preun %{name}-api.service %postun api %systemd_postun_with_restart %{name}-api.service %post glare %systemd_post %{name}-glare.service %preun glare %systemd_preun %{name}-glare.service %postun glare %systemd_postun_with_restart %{name}-glare.service %post registry %systemd_post %{name}-registry.service %preun registry %systemd_preun %{name}-registry.service %postun registry %systemd_postun_with_restart %{name}-registry.service %files %license LICENSE %_tmpfilesdir/glance.conf %dir %attr(0750, root, glance) %{_sysconfdir}/%{sname} %dir %attr(0750, root, glance) %{_sysconfdir}/glance/glance.conf.d/ %dir %attr(0750, root, glance) %{_sysconfdir}/glance/glance-api.conf.d/ %dir %attr(0750, root, glance) %{_sysconfdir}/glance/glance-registry.conf.d/ %dir %attr(0750, root, glance) %{_sysconfdir}/glance/glance-glare.conf.d/ %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/glance/glance.conf.d/010-glance.conf %{_sysconfdir}/%{sname}/README.config %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-api.conf %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-cache.conf %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-registry.conf %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-scrubber.conf %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-swift.conf %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-manage.conf %config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/%{sname}/glance-glare.conf %config %{_sysconfdir}/%{sname}/glance-api-paste.ini %config %{_sysconfdir}/%{sname}/glance-registry-paste.ini %config %{_sysconfdir}/%{sname}/glance-glare-paste.ini %config %{_sysconfdir}/%{sname}/policy.json %config %{_sysconfdir}/%{sname}/property-protections-policies.conf.sample %config %{_sysconfdir}/%{sname}/property-protections-roles.conf.sample %config %{_sysconfdir}/%{sname}/ovf-metadata.json.sample %config %{_sysconfdir}/%{sname}/schema-image.json %dir %config %{_sysconfdir}/%{sname}/metadefs %{_sysconfdir}/%{sname}/metadefs/README %config %{_sysconfdir}/%{sname}/metadefs/*.json %config(noreplace) %{_sysconfdir}/logrotate.d/%{name} %dir %attr(0755, glance, glance) %{_localstatedir}/lib/%{sname} %dir %attr(0755, glance, glance) %{_localstatedir}/lib/%{sname}/images %dir %attr(0750, glance, glance) %{_localstatedir}/log/%{sname} %dir %attr(0750, glance, glance) %{_localstatedir}/cache/%{sname} %{_bindir}/glance-cache-cleaner %{_bindir}/glance-cache-manage %{_bindir}/glance-cache-prefetcher %{_bindir}/glance-cache-pruner %{_bindir}/glance-control %{_bindir}/glance-manage %{_bindir}/glance-replicator %{_bindir}/glance-scrubber %{_mandir}/man1/glance*.1%{?ext_man} %files -n python-glance %defattr(-,root,root,-) %license LICENSE %{python_sitelib}/%{sname}* %if 0%{?with_doc} %files doc %license LICENSE %doc doc/build/html %endif %files api %defattr(-,root,root,-) %{_unitdir}/openstack-glance-api.service %{_bindir}/%{sname}-api %files glare %defattr(-,root,root,-) %{_unitdir}/openstack-glance-glare.service %{_bindir}/%{sname}-glare %files registry %defattr(-,root,root,-) %{_unitdir}/openstack-glance-registry.service %{_bindir}/%{sname}-registry %changelog ",,464,0
openstack%2Fcookbook-openstack-dashboard~master~Ie298fec4dc1ed35119ffe844f356d1c72cfaa6f8,openstack/cookbook-openstack-dashboard,master,Ie298fec4dc1ed35119ffe844f356d1c72cfaa6f8,"Update lbaas url for Queens, logging handler",MERGED,2018-03-08 16:41:07.000000000,2018-03-23 09:55:39.000000000,2018-03-23 09:55:39.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 16:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/f5119e7a2e93870877da3a0a1aefa067dcb6cdbd', 'message': 'Update lbaas url for Queens, logging handler\n\nChange-Id: Ie298fec4dc1ed35119ffe844f356d1c72cfaa6f8\n'}, {'number': 2, 'created': '2018-03-08 18:54:05.000000000', 'files': ['recipes/neutron-lbaas-dashboard.rb', 'spec/horizon_spec.rb', 'spec/neutron-lbaas-dashboard_spec.rb', 'templates/default/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/09d7658e42058067644d1d515ac8d211fede2174', 'message': 'Update lbaas url for Queens, logging handler\n\n* remove postgres references\n* update lbaas url to stable/queens\n* update logging handler to reflect the current state of things\n\nChange-Id: Ie298fec4dc1ed35119ffe844f356d1c72cfaa6f8\n'}]",0,550890,09d7658e42058067644d1d515ac8d211fede2174,9,3,2,14790,,,0,"Update lbaas url for Queens, logging handler

* remove postgres references
* update lbaas url to stable/queens
* update logging handler to reflect the current state of things

Change-Id: Ie298fec4dc1ed35119ffe844f356d1c72cfaa6f8
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/90/550890/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/neutron-lbaas-dashboard.rb', 'templates/default/local_settings.py.erb']",2,f5119e7a2e93870877da3a0a1aefa067dcb6cdbd,queens_updates," 'class': 'logging.NullHandler',"," 'class': 'django.utils.log.NullHandler',",2,2
openstack%2Fcookbook-openstack-dashboard~master~Ic24b4a611f35ffe47c3847abd0ab164694265a00,openstack/cookbook-openstack-dashboard,master,Ic24b4a611f35ffe47c3847abd0ab164694265a00,FWaaS Dashboard fix,MERGED,2018-03-19 15:53:17.000000000,2018-03-23 09:55:38.000000000,2018-03-23 09:55:38.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 15:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/d997d8a4105346d555efec90dc36d80a6b9a02b3', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: Ic24b4a611f35ffe47c3847abd0ab164694265a00\n'}, {'number': 2, 'created': '2018-03-19 16:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/09794fd8499100d2b1bbeb058a83d3b5b4fa7019', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: Ic24b4a611f35ffe47c3847abd0ab164694265a00\n'}, {'number': 3, 'created': '2018-03-20 08:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/a97d6c54424f8e7af3e1a2821c446b3f92fb53c8', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: Ic24b4a611f35ffe47c3847abd0ab164694265a00\n'}, {'number': 4, 'created': '2018-03-20 15:33:00.000000000', 'files': ['spec/neutron-fwaas-dashboard_spec.rb', 'templates/default/local_settings.py.erb', 'attributes/default.rb', 'recipes/neutron-fwaas-dashboard.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/babed9fcf5db5b2ab2637a1d205e52f5cddb877c', 'message': 'FWaaS Dashboard fix\n\n- FWaaS Dashboard has been moved to a seperate project since Pike\n\nChange-Id: Ic24b4a611f35ffe47c3847abd0ab164694265a00\n'}]",0,554275,babed9fcf5db5b2ab2637a1d205e52f5cddb877c,12,3,4,19193,,,0,"FWaaS Dashboard fix

- FWaaS Dashboard has been moved to a seperate project since Pike

Change-Id: Ic24b4a611f35ffe47c3847abd0ab164694265a00
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/75/554275/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/neutron-fwaas-dashboard_spec.rb', 'templates/default/local_settings.py.erb', 'recipes/neutron-fwaas-dashboard.rb']",3,d997d8a4105346d555efec90dc36d80a6b9a02b3,fwaas_dashboard_fix,"# encoding: UTF-8 # # Cookbook Name:: openstack-dashboard # Recipe:: neutron-lbaas-dashboard # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. include_recipe 'openstack-dashboard::horizon' django_path = node['openstack']['dashboard']['django_path'] policy_file_path = node['openstack']['dashboard']['policy_files_path'] # use system python for fwaas dashboard python_runtime '2' do provider :system version '2.7' end python_package 'neutron-fwaas-dashboard' remote_file ""#{django_path}/openstack_dashboard/local/enabled/_7010_project_firewalls_panel.py"" do source 'https://raw.githubusercontent.com/openstack/neutron-fwaas-dashboard/stable/queens/neutron_fwaas_dashboard/enabled/_7010_project_firewalls_panel.py' owner 'root' mode 0o0644 notifies :run, 'execute[neutron-fwaas-dashboard compilemessages]' notifies :run, 'execute[openstack-dashboard collectstatic]' end remote_file ""#{policy_file_path}/neutron-fwaas-policy.json"" do source 'https://raw.githubusercontent.com/openstack/neutron-fwaas-dashboard/stable/queens/etc/neutron-fwaas-policy.json' owner 'root' mode 0o0644 notifies :run, 'execute[neutron-fwaas-dashboard compilemessages]' notifies :run, 'execute[openstack-dashboard collectstatic]' notifies :restart, 'service[apache2]', :delayed end execute 'neutron-fwaas-dashboard compilemessages' do cwd django_path environment 'PYTHONPATH' => ""/etc/openstack-dashboard:#{django_path}:$PYTHONPATH"" command 'python manage.py compilemessages' action :nothing end ",,114,0
openstack%2Fkolla-ansible~master~I29f4d999c711f11f2db4e2d68b3ff194f0ab032b,openstack/kolla-ansible,master,I29f4d999c711f11f2db4e2d68b3ff194f0ab032b,Optimize reconfiguration for ironic,MERGED,2017-01-23 04:15:42.000000000,2018-03-23 09:55:36.000000000,2018-03-23 09:55:35.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 14826}, {'_account_id': 16233}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-01-23 04:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c54f6b2271c6bcff27a06e8d39773688951cd51', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 2, 'created': '2017-01-23 05:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53b0bc2af58c5687458948c885da8f224a5060a2', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 3, 'created': '2017-01-23 05:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccee4bdcebaa1900df118c33d9997c5ce03aa4bb', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 4, 'created': '2017-01-26 03:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/663f945cd9c9650609b8687d95fbed9cd50315da', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 5, 'created': '2017-01-26 04:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4aae19701abbef14cd5c233f0b6822532e09dc79', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 6, 'created': '2017-01-26 04:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74a15d529a702e15d3c76675067bb8e1f32226c5', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 7, 'created': '2017-01-26 04:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b970e9b504bc44ad228a4edc3c4c1df8f4f618e', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 8, 'created': '2017-02-06 09:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26c24b7dfce94324c704f8de157c65ddc62e66bb', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 9, 'created': '2017-02-06 09:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbcb6d2e5ba7f02321fd0f2c7bcc3730b4cca269', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 10, 'created': '2017-02-17 03:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45aadcee5b8c18a650b9f5c2d1187cefae1c5dc2', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 11, 'created': '2017-02-18 12:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/380fa6868bf50198ef9ebc0a06292bf51c336a9b', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 12, 'created': '2017-02-18 13:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36f20992a1106a66179fe8a94a30d0dd9ad51205', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 13, 'created': '2017-02-18 13:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f45dabbc10671330f9221d0bc8afb8dfb6747857', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 14, 'created': '2017-03-14 02:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb51bd2ac186af2fba418467a67b34d2e25f91c4', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 15, 'created': '2017-03-14 02:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20d3daec17a81580bfcbdc1038e7405635a10775', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 16, 'created': '2017-03-15 09:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c166562d073547cad3676b21ae82c4eb5d611a01', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 17, 'created': '2017-03-15 09:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48b3c1f81db4e394f8c0b3479d9e5400403230e3', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 18, 'created': '2017-03-16 08:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f596faa5eafb9044081a3494d3bdf77c5efcc60', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 19, 'created': '2018-01-14 17:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f25658d3586859d82f4c4ad7967a7c4fc04b7c0b', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 20, 'created': '2018-01-14 18:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db4a36e2caa570d1c5b076bc6aac11bfdf4a37b5', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n'}, {'number': 21, 'created': '2018-01-29 16:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/633bb26cf5a9ef94c4924e32c148bde5d49e041b', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n'}, {'number': 22, 'created': '2018-01-29 19:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16d96659a68b0ccff9594372963e3c807efa0cbc', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n'}, {'number': 23, 'created': '2018-03-13 14:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ddb58bf172741203e054fecdea6775552390fd5', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n'}, {'number': 24, 'created': '2018-03-19 08:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60d19d2f026187a79c147cd463b74c4d4f956304', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: wu.chunyang <wu.chunyang@99cloud.net>\n'}, {'number': 25, 'created': '2018-03-19 09:05:07.000000000', 'files': ['ansible/roles/ironic/tasks/bootstrap_service.yml', 'ansible/roles/ironic/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/ironic/tasks/pull.yml', 'ansible/roles/ironic/tasks/start.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'ansible/roles/ironic/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/046b4dfd4b2b86cca98dd42a91624a935ec23612', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: wu.chunyang <wu.chunyang@99cloud.net>\n'}]",49,423901,046b4dfd4b2b86cca98dd42a91624a935ec23612,79,8,25,22165,,,0,"Optimize reconfiguration for ironic

Change-Id: I29f4d999c711f11f2db4e2d68b3ff194f0ab032b
Partially-implements: blueprint better-reconfigure
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: wu.chunyang <wu.chunyang@99cloud.net>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/423901/24 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/tasks/bootstrap_service.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/ironic/tasks/pull.yml', 'ansible/roles/ironic/tasks/start.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'ansible/roles/ironic/handlers/main.yml']",8,6c54f6b2271c6bcff27a06e8d39773688951cd51,bp/better-reconfigure,"--- - name: Restart ironic-api container vars: service_name: ""ironic-api"" service: ""{{ ironic_services[service_name] }}"" config_json: ""{{ ironic_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_conf: ""{{ glance_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ ironic_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_api_container: ""{{ check_ironic_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or ironic_conf.changed | bool or policy_json.changed | bool or ironic_api_container.changed | bool - name: Restart ironic-conductor container vars: service_name: ""ironic-conductor"" service: ""{{ ironic_services[service_name] }}"" config_json: ""{{ ironic_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_conf: ""{{ glance_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ ironic_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_conductor_container: ""{{ check_ironic_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or ironic_conf.changed | bool or policy_json.changed | bool or ironic_conductor_container.changed | bool - name: Restart ironic-inspector container vars: service_name: ""ironic-inspector"" service: ""{{ ironic_services[service_name] }}"" config_json: ""{{ ironic_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_conf: ""{{ glance_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ ironic_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_inspector_container: ""{{ check_ironic_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or ironic_conf.changed | bool or policy_json.changed | bool or ironic_inspector_container.changed | bool - name: Restart ironic-pxe container vars: service_name: ""ironic-pxe"" service: ""{{ ironic_services[service_name] }}"" config_json: ""{{ ironic_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_conf: ""{{ glance_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ ironic_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" ironic_pxe_container: ""{{ check_ironic_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or ironic_conf.changed | bool or policy_json.changed | bool or ironic_pxe_container.changed | bool ",,191,116
openstack%2Ftripleo-validations~master~Ibe458a2a05b7c4557f262576c79f1803a1e1d0eb,openstack/tripleo-validations,master,Ibe458a2a05b7c4557f262576c79f1803a1e1d0eb,Updated from global requirements,MERGED,2018-03-23 07:56:48.000000000,2018-03-23 09:45:02.000000000,2018-03-23 09:45:02.000000000,"[{'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 07:56:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d2787da9c542dd3c9c6b964ebee077df3b4ba1e2', 'message': 'Updated from global requirements\n\nChange-Id: Ibe458a2a05b7c4557f262576c79f1803a1e1d0eb\n'}]",0,555688,d2787da9c542dd3c9c6b964ebee077df3b4ba1e2,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ibe458a2a05b7c4557f262576c79f1803a1e1d0eb
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/555688/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d2787da9c542dd3c9c6b964ebee077df3b4ba1e2,openstack/requirements,python-ironicclient>=2.3.0 # Apache-2.0,python-ironicclient>=2.2.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~master~I376418c618616b7755fafefa80fea8150cf16b99,openstack/tripleo-heat-templates,master,I376418c618616b7755fafefa80fea8150cf16b99,Add EnablePuppet (defaults to true),MERGED,2018-03-06 18:44:09.000000000,2018-03-23 09:44:59.000000000,2018-03-23 09:44:59.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23314}]","[{'number': 1, 'created': '2018-03-06 18:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c84ffb603c73e0e276c160280320d07aa9690f4d', 'message': 'Add EnablePuppet (defaults to true)\n\nThis wires in a heat parameter that can be used to disable the\nbaremetal (Puppet) deployment tasks. Useful for testing\nsome lightweight/containers only deployments.\n\nChange-Id: I376418c618616b7755fafefa80fea8150cf16b99\n'}, {'number': 2, 'created': '2018-03-07 20:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f86c818f1b3db7a241059af080e5ae323f99dc2c', 'message': 'Add EnablePuppet (defaults to true)\n\nThis wires in a heat parameter that can be used to disable the\nbaremetal (Puppet) deployment tasks. Useful for testing\nsome lightweight/containers only deployments.\n\nChange-Id: I376418c618616b7755fafefa80fea8150cf16b99\n'}, {'number': 3, 'created': '2018-03-08 20:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2f8eb4cda8d9c5a7f5a6f310cd641c22b36f348', 'message': 'Add EnablePuppet (defaults to true)\n\nThis wires in a heat parameter that can be used to disable the\nbaremetal (Puppet) deployment tasks. Useful for testing\nsome lightweight/containers only deployments.\n\nChange-Id: I376418c618616b7755fafefa80fea8150cf16b99\n'}, {'number': 4, 'created': '2018-03-13 13:14:34.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb162524746b84a5073e098de7dbf159a4f6dd5c', 'message': 'Add EnablePuppet (defaults to true)\n\nThis wires in a heat parameter that can be used to disable the\nbaremetal (Puppet) deployment tasks. Useful for testing\nsome lightweight/containers only deployments.\n\nChange-Id: I376418c618616b7755fafefa80fea8150cf16b99\n'}]",0,550192,cb162524746b84a5073e098de7dbf159a4f6dd5c,28,6,4,360,,,0,"Add EnablePuppet (defaults to true)

This wires in a heat parameter that can be used to disable the
baremetal (Puppet) deployment tasks. Useful for testing
some lightweight/containers only deployments.

Change-Id: I376418c618616b7755fafefa80fea8150cf16b99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/550192/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml']",2,c84ffb603c73e0e276c160280320d07aa9690f4d,enable_puppet, when: - enable_debug|default(false) - enable_puppet|default(true) when: enable_puppet|default(true), when: enable_debug|default(false),10,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8,openstack/openstack-ansible-lxc_hosts,master,Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8,Correct image prep for minimal containers,MERGED,2018-03-23 03:15:02.000000000,2018-03-23 09:43:28.000000000,2018-03-23 09:43:28.000000000,"[{'_account_id': 5046}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 03:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d55fbb2372eea59af688b9cb89f78fa0829447e1', 'message': 'Correct image prep for minimal containers\n\nBoth CentOS and SUSE have pathing and services that are assumed to exist\nfrom our previous use of LXC images. This change adds the ""rpm-gpg"" path\nif missing, and unmasks the ""sshd"" sevice on SUSE if present and masked\nor disabled.\n\nChange-Id: Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-23 03:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/94ea20a6485a3e4e81417b67917c31e3fdd2dc18', 'message': 'Correct image prep for minimal containers\n\nBoth CentOS and SUSE have pathing and services that are assumed to exist\nfrom our previous use of LXC images. This change adds the ""rpm-gpg"" path\nif missing, and unmasks the ""sshd"" sevice on SUSE if present and masked\nor disabled.\n\nChange-Id: Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-23 04:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cd18c18899df1cee9d117cffa240b3e6645166f7', 'message': 'Correct image prep for minimal containers\n\nBoth CentOS and SUSE have pathing and services that are assumed to exist\nfrom our previous use of the larger LXC images. This change also ensures\nnetbase is installed across our supported distros.\n\n* Imports the ""rpm-gpg"" packages if the directory exists.\n* unmasks the ""sshd"" sevice on SUSE if present and masked or disabled.\n* Adds the (setup|netbase|netcfg) packages to the base image\n\nChange-Id: Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-03-23 04:45:13.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/prep-scripts/centos_7_prep.sh.j2', 'templates/prep-scripts/opensuse_leap_42_prep.sh.j2', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a1a316f22ec047852243170a38abd5dd7b155ae1', 'message': 'Correct image prep for minimal containers\n\nBoth CentOS and SUSE have pathing and services that are assumed to exist\nfrom our previous use of the larger LXC images. This change also ensures\nnetbase is installed across our supported distros.\n\n* Imports the ""rpm-gpg"" packages if the directory exists.\n* unmasks the ""sshd"" sevice on SUSE if present and masked or disabled.\n* Adds the (setup|netbase|netcfg) packages to the base image\n\nChange-Id: Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",1,555614,a1a316f22ec047852243170a38abd5dd7b155ae1,13,5,4,7353,,,0,"Correct image prep for minimal containers

Both CentOS and SUSE have pathing and services that are assumed to exist
from our previous use of the larger LXC images. This change also ensures
netbase is installed across our supported distros.

* Imports the ""rpm-gpg"" packages if the directory exists.
* unmasks the ""sshd"" sevice on SUSE if present and masked or disabled.
* Adds the (setup|netbase|netcfg) packages to the base image

Change-Id: Idc5caf2030c0e50dfeb84e0648bec08d7f50b6b8
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/14/555614/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/prep-scripts/centos_7_prep.sh.j2', 'templates/prep-scripts/opensuse_leap_42_prep.sh.j2']",2,d55fbb2372eea59af688b9cb89f78fa0829447e1,,if systemctl list-unit-files sshd.service | egrep '(masked|disabled)'; then systemctl -q unmask sshd systemctl -q enable sshd fi ,systemctl -q unmask sshd systemctl -q enable sshd,10,3
openstack%2Fos-net-config~master~I7e5efebf11a58d45707ff7a289a25297ac981a99,openstack/os-net-config,master,I7e5efebf11a58d45707ff7a289a25297ac981a99,Adding ethtool command after binding dpdk drivers in Mellanox nics,MERGED,2018-03-18 11:37:45.000000000,2018-03-23 09:40:06.000000000,2018-03-23 08:45:14.000000000,"[{'_account_id': 4328}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 16690}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25241}]","[{'number': 1, 'created': '2018-03-18 11:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/38709443b4cc5d55f7a32867dfc71585771bf1bd', 'message': ""Adding number of attempts to ethtool command\n\nIn some cases especially in bond of interface with the same\nPCI address it will take a some time to override the driver,\nso ethtool may fail if it didn't finish initaializing the interface.\nSo we set the attempts param to be 10 to make sure it'll run succssfuly.\n\nChange-Id: I7e5efebf11a58d45707ff7a289a25297ac981a99\n""}, {'number': 2, 'created': '2018-03-18 18:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cec3ceda5a9e7c5acbce9a1f86b6cae271fbf7d9', 'message': ""Adding number of attempts to ethtool command\n\nIn some cases especially in bond of interface with the same\nPCI address it will take a some time to override the driver,\nso ethtool may fail if it didn't finish initaializing the interface.\nSo we set the attempts param to be 10 to make sure it'll run succssfuly.\n\nCloses-Bug: #1756724\nChange-Id: I7e5efebf11a58d45707ff7a289a25297ac981a99\n""}, {'number': 3, 'created': '2018-03-20 11:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d6db52c7a7a1ed441d222ef4e4407a72c173731a', 'message': 'Adding ethtool command after binding dpdk drivers in Mellanox nics\n\nNot like other nics, mellanox nics keep the interface after binding it\nto dpdk, so we are adding ethtool command with 10 retries after binding\nthe driver jsut to make sure that the interface is initialized successfully.\n\nCloses-Bug: #1756724\nChange-Id: I7e5efebf11a58d45707ff7a289a25297ac981a99\n'}, {'number': 4, 'created': '2018-03-21 07:11:39.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2ef379057f47a9ba89ac349e420fc017ada75e45', 'message': 'Adding ethtool command after binding dpdk drivers in Mellanox nics\n\nNot like other nics, mellanox nics keep the interface after binding it\nto dpdk, so we are adding ethtool command with 10 retries after binding\nthe driver just to make sure that the interface is initialized successfully.\n\nCloses-Bug: #1756724\nChange-Id: I7e5efebf11a58d45707ff7a289a25297ac981a99\n'}]",6,554048,2ef379057f47a9ba89ac349e420fc017ada75e45,39,8,4,25241,,,0,"Adding ethtool command after binding dpdk drivers in Mellanox nics

Not like other nics, mellanox nics keep the interface after binding it
to dpdk, so we are adding ethtool command with 10 retries after binding
the driver just to make sure that the interface is initialized successfully.

Closes-Bug: #1756724
Change-Id: I7e5efebf11a58d45707ff7a289a25297ac981a99
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/48/554048/4 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,38709443b4cc5d55f7a32867dfc71585771bf1bd,bug/1756724," out, err = processutils.execute('ethtool', '-i', ifname, attempts=10)"," out, err = processutils.execute('ethtool', '-i', ifname)",1,1
openstack%2Fpuppet-freezer~master~I43ea646b61b3cbf4961943d934886830d16b00f6,openstack/puppet-freezer,master,I43ea646b61b3cbf4961943d934886830d16b00f6,[DNM] test,ABANDONED,2018-03-23 08:51:28.000000000,2018-03-23 09:35:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-23 08:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/b0e92dd220c42d8a95dd73f08ea840277d4af027', 'message': '[DNM] test\n\nChange-Id: I43ea646b61b3cbf4961943d934886830d16b00f6\n'}, {'number': 2, 'created': '2018-03-23 08:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/9bb6c0a68b1bf4f3075a7b5011fd7b661fef8c7c', 'message': '[DNM] test\n\nChange-Id: I43ea646b61b3cbf4961943d934886830d16b00f6\nDepends-On: https://review.openstack.org/#/c/555702/\n'}, {'number': 3, 'created': '2018-03-23 09:11:55.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/4d06c546fc896c40bc0384e2b6ca0bec79c80db0', 'message': '[DNM] test\n\nChange-Id: I43ea646b61b3cbf4961943d934886830d16b00f6\nDepends-On: https://review.openstack.org/#/c/555702/\n'}]",0,555701,4d06c546fc896c40bc0384e2b6ca0bec79c80db0,6,1,3,9414,,,0,"[DNM] test

Change-Id: I43ea646b61b3cbf4961943d934886830d16b00f6
Depends-On: https://review.openstack.org/#/c/555702/
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/01/555701/2 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b0e92dd220c42d8a95dd73f08ea840277d4af027,test-puppet5,"if facterversion = ""latest""",if facterversion = ENV['FACTER_GEM_VERSION'],1,1
openstack%2Fpuppet-murano~master~I3bbbfcae566075bbdd63f339ecb97c02d9ac5721,openstack/puppet-murano,master,I3bbbfcae566075bbdd63f339ecb97c02d9ac5721,[DNM] test,ABANDONED,2018-03-23 09:01:47.000000000,2018-03-23 09:35:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-23 09:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/150a846256b519b4a8cb3b23b0241afd55f02c11', 'message': '[DNM] test\n\nChange-Id: I3bbbfcae566075bbdd63f339ecb97c02d9ac5721\nDepends-On: https://review.openstack.org/#/c/555702/\n'}, {'number': 2, 'created': '2018-03-23 09:11:55.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/7682b40acbe9a513388fe5f74856a1ea4a757bbf', 'message': '[DNM] test\n\nChange-Id: I3bbbfcae566075bbdd63f339ecb97c02d9ac5721\nDepends-On: https://review.openstack.org/#/c/555702/\n'}]",0,555705,7682b40acbe9a513388fe5f74856a1ea4a757bbf,4,1,2,9414,,,0,"[DNM] test

Change-Id: I3bbbfcae566075bbdd63f339ecb97c02d9ac5721
Depends-On: https://review.openstack.org/#/c/555702/
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/05/555705/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,150a846256b519b4a8cb3b23b0241afd55f02c11,test-puppet5,"if facterversion = ""latest""",if facterversion = ENV['FACTER_GEM_VERSION'],1,1
openstack%2Fkolla-ansible~master~I109d431eefa8725540b893b4dc61525b46b29c6a,openstack/kolla-ansible,master,I109d431eefa8725540b893b4dc61525b46b29c6a,"Remove the duplicate ""become"" for config-nova-fake.yml",MERGED,2018-03-22 02:57:02.000000000,2018-03-23 09:33:14.000000000,2018-03-23 09:33:14.000000000,"[{'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27558}, {'_account_id': 27706}]","[{'number': 1, 'created': '2018-03-22 02:57:02.000000000', 'files': ['ansible/roles/nova/tasks/config-nova-fake.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e440d79392ef0cf027b56ffc2f886c47e0c7bda', 'message': 'Remove the duplicate ""become"" for config-nova-fake.yml\n\nChange-Id: I109d431eefa8725540b893b4dc61525b46b29c6a\nCo-Authored-By: pippo <huang.zhiping@99cloud.net>\n'}]",0,555114,5e440d79392ef0cf027b56ffc2f886c47e0c7bda,10,6,1,26285,,,0,"Remove the duplicate ""become"" for config-nova-fake.yml

Change-Id: I109d431eefa8725540b893b4dc61525b46b29c6a
Co-Authored-By: pippo <huang.zhiping@99cloud.net>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/555114/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/config-nova-fake.yml'],1,5e440d79392ef0cf027b56ffc2f886c47e0c7bda,,, become: true,0,1
openstack%2Fpython-saharaclient~master~Iadd08db827ad11221f0512a39a056994e28e4de2,openstack/python-saharaclient,master,Iadd08db827ad11221f0512a39a056994e28e4de2,Updated from global requirements,MERGED,2018-03-23 01:52:15.000000000,2018-03-23 09:32:13.000000000,2018-03-23 09:32:12.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 01:52:15.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/1950b4922a46d09326845c5ddf6849d090f91c8c', 'message': 'Updated from global requirements\n\nChange-Id: Iadd08db827ad11221f0512a39a056994e28e4de2\n'}]",0,555592,1950b4922a46d09326845c5ddf6849d090f91c8c,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Iadd08db827ad11221f0512a39a056994e28e4de2
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/92/555592/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1950b4922a46d09326845c5ddf6849d090f91c8c,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fmanila~master~I86651f3311f514c5520ff878a6f6ba8f9de5c751,openstack/manila,master,I86651f3311f514c5520ff878a6f6ba8f9de5c751,Update the new PTI for document build,MERGED,2018-03-23 01:03:01.000000000,2018-03-23 09:31:43.000000000,2018-03-23 09:31:43.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13984}, {'_account_id': 15100}, {'_account_id': 16657}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-23 01:03:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila/commit/faee7b50ef417dfa4f2cad2878404a8aaaf2d862', 'message': 'Update the new PTI for document build\n\nThis review already follows the new PTI\nhttps://review.openstack.org/#/c/530866/\n\nHowever, we also should remove [build_sphinx] section\nas described in:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html\n\nChange-Id: I86651f3311f514c5520ff878a6f6ba8f9de5c751\n'}]",0,555560,faee7b50ef417dfa4f2cad2878404a8aaaf2d862,18,15,1,25456,,,0,"Update the new PTI for document build

This review already follows the new PTI
https://review.openstack.org/#/c/530866/

However, we also should remove [build_sphinx] section
as described in:
http://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html

Change-Id: I86651f3311f514c5520ff878a6f6ba8f9de5c751
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/555560/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,faee7b50ef417dfa4f2cad2878404a8aaaf2d862,bug/update-pti,,[build_sphinx] all_files = 1 build-dir = doc/build source-dir = doc/source builders = html warning-is-error = 1 ,0,7
openstack%2Fcinder~master~I539ffb8a8034c27208d94477f5841d50b6a880a1,openstack/cinder,master,I539ffb8a8034c27208d94477f5841d50b6a880a1,Imported Translations from Zanata,MERGED,2018-03-21 06:39:20.000000000,2018-03-23 09:31:41.000000000,2018-03-21 14:48:51.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-21 06:39:20.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f6c19264627c6dfd963bce38a927ae47d995a4d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I539ffb8a8034c27208d94477f5841d50b6a880a1\n'}]",0,554809,7f6c19264627c6dfd963bce38a927ae47d995a4d,30,26,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I539ffb8a8034c27208d94477f5841d50b6a880a1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/554809/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",11,7f6c19264627c6dfd963bce38a927ae47d995a4d,zanata/translations,"""POT-Creation-Date: 2018-03-20 18:45+0000\n""""X-Generator: Zanata 4.3.3\n""","""POT-Creation-Date: 2018-02-17 00:08+0000\n""""X-Generator: Zanata 3.9.6\n""msgid ""Please specify a name for QoS specs."" msgstr ""Prosím zadejte název pro specifikaci QoS."" msgid ""The key cannot be None."" msgstr ""Klíč nemůže být None."" ",29,86
openstack%2Ftripleo-quickstart-extras~master~I99cbb7c652e374cb5c256a706661ba7ce5038b87,openstack/tripleo-quickstart-extras,master,I99cbb7c652e374cb5c256a706661ba7ce5038b87,Set ExternalInterfaceDefaultRoute when setting ExternalNetCidr,MERGED,2018-03-19 13:27:07.000000000,2018-03-23 09:27:20.000000000,2018-03-23 09:27:20.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8652}, {'_account_id': 8788}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11166}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-19 13:27:07.000000000', 'files': ['roles/overcloud-prep-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/241f2e569bd827c7a66456254404e4124cbde592', 'message': 'Set ExternalInterfaceDefaultRoute when setting ExternalNetCidr\n\nAfter change I3bdb7d00dab5a023dd8b9c94c0f89f84357ae7a4 was introduced,\nExternal network isn\'t ""special"" anymore in the network templates, it\ngets generated as any other network. The default IP ranges and default\nroute come from network_data.yaml. Whenever we override one, we should\nalso override the other, otherwise we get non-matching\nsettings. E.g. my deployment with custom\n`undercloud_external_network_cidr` previously resulted in:\n\n(undercloud) [stack@undercloud ~]$ openstack subnet show external_subnet\n| allocation_pools  | 172.20.0.4-172.20.0.250              |\n| cidr              | 172.20.0.0/24                        |\n| gateway_ip        | 10.0.0.1                             |\n\n...which didn\'t work out, the controllers didn\'t have a default route\ncreated at all. With this patch, the default route will get\nautomatically pointed to 172.20.0.1.\n\nChange-Id: I99cbb7c652e374cb5c256a706661ba7ce5038b87\nCloses-Bug: #1756878\n'}]",0,554225,241f2e569bd827c7a66456254404e4124cbde592,25,14,1,8042,,,0,"Set ExternalInterfaceDefaultRoute when setting ExternalNetCidr

After change I3bdb7d00dab5a023dd8b9c94c0f89f84357ae7a4 was introduced,
External network isn't ""special"" anymore in the network templates, it
gets generated as any other network. The default IP ranges and default
route come from network_data.yaml. Whenever we override one, we should
also override the other, otherwise we get non-matching
settings. E.g. my deployment with custom
`undercloud_external_network_cidr` previously resulted in:

(undercloud) [stack@undercloud ~]$ openstack subnet show external_subnet
| allocation_pools  | 172.20.0.4-172.20.0.250              |
| cidr              | 172.20.0.0/24                        |
| gateway_ip        | 10.0.0.1                             |

...which didn't work out, the controllers didn't have a default route
created at all. With this patch, the default route will get
automatically pointed to 172.20.0.1.

Change-Id: I99cbb7c652e374cb5c256a706661ba7ce5038b87
Closes-Bug: #1756878
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/554225/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-config/defaults/main.yml'],1,241f2e569bd827c7a66456254404e4124cbde592,bug/1756878," ExternalInterfaceDefaultRoute: ""{{ undercloud_external_network_cidr|nthhost(1) }}""",,1,0
openstack%2Fmistral~master~I39e3525d6acc0ead0757fe873c60df69a6f35253,openstack/mistral,master,I39e3525d6acc0ead0757fe873c60df69a6f35253,Updated from global requirements,MERGED,2018-03-23 07:33:50.000000000,2018-03-23 09:19:43.000000000,2018-03-23 09:19:43.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 07:33:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e3cb610c089c23f40b5474db12cc202df3ee6b5c', 'message': 'Updated from global requirements\n\nChange-Id: I39e3525d6acc0ead0757fe873c60df69a6f35253\n'}]",0,555677,e3cb610c089c23f40b5474db12cc202df3ee6b5c,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I39e3525d6acc0ead0757fe873c60df69a6f35253
",git fetch https://review.opendev.org/openstack/mistral refs/changes/77/555677/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e3cb610c089c23f40b5474db12cc202df3ee6b5c,openstack/requirements,python-ironicclient>=2.3.0 # Apache-2.0,python-ironicclient>=2.2.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fpike~I42cc7e6d97e1f9d043d3cf82fc164448558d47bd,openstack/tripleo-heat-templates,stable/pike,I42cc7e6d97e1f9d043d3cf82fc164448558d47bd,Correct template names from ocata to pike.,ABANDONED,2017-10-18 12:38:56.000000000,2018-03-23 09:05:47.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-18 12:38:56.000000000', 'files': ['puppet/services/cinder-backend-veritas-hyperscale.yaml', 'puppet/services/pacemaker/ovn-dbs.yaml', 'puppet/services/veritas-hyperscale-controller.yaml', 'puppet/services/neutron-linuxbridge-agent.yaml', 'puppet/services/ironic-inspector.yaml', 'puppet/services/tuned.yaml', 'puppet/services/nova-migration-target.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1dd178333b1bd0eb0645f7bb64e5f9fa57c513b', 'message': 'Correct template names from ocata to pike.\n\nThere are still some HOT templates pointing to ocata and\nthey should be pointing to pike.\n\nThis patch needs to be backported to stable/pike.\n\nChange-Id: I42cc7e6d97e1f9d043d3cf82fc164448558d47bd\n(cherry picked from commit 4014ed4e00d715f077ada2a5c56515bd2f372b3d)\n'}]",0,513018,f1dd178333b1bd0eb0645f7bb64e5f9fa57c513b,11,3,1,20775,,,0,"Correct template names from ocata to pike.

There are still some HOT templates pointing to ocata and
they should be pointing to pike.

This patch needs to be backported to stable/pike.

Change-Id: I42cc7e6d97e1f9d043d3cf82fc164448558d47bd
(cherry picked from commit 4014ed4e00d715f077ada2a5c56515bd2f372b3d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/513018/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/cinder-backend-veritas-hyperscale.yaml', 'puppet/services/pacemaker/ovn-dbs.yaml', 'puppet/services/veritas-hyperscale-controller.yaml', 'puppet/services/neutron-linuxbridge-agent.yaml', 'puppet/services/ironic-inspector.yaml', 'puppet/services/tuned.yaml', 'puppet/services/nova-migration-target.yaml']",7,f1dd178333b1bd0eb0645f7bb64e5f9fa57c513b,500451-stable/pike,heat_template_version: pike,heat_template_version: ocata,7,7
openstack%2Fgovernance~master~Id38deb86dde3dcd99f9147122705127b47cb4f66,openstack/governance,master,Id38deb86dde3dcd99f9147122705127b47cb4f66,Add Cyborg-specs repository to the governance repository,MERGED,2018-03-17 11:18:30.000000000,2018-03-23 09:03:01.000000000,2018-03-23 09:03:01.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-17 11:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bd7f4f09b8cf868c3562d3a1de156554df8ba594', 'message': ' Add Cyborg-specs Repository to the Governance Repository\n\nChange-Id: Id38deb86dde3dcd99f9147122705127b47cb4f66\n'}, {'number': 2, 'created': '2018-03-19 01:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c85d275f5d8a1c30df030bc3462245ed6d29da6d', 'message': 'Add Cyborg-specs Repository to the Governance Repository\n\nChange-Id: Id38deb86dde3dcd99f9147122705127b47cb4f66\nDepends-On: https://review.openstack.org/553975\n'}, {'number': 3, 'created': '2018-03-19 01:51:17.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/0c8a1a91d66b5eefd502c574f563111ca95addcc', 'message': 'Add Cyborg-specs repository to the governance repository\n\nChange-Id: Id38deb86dde3dcd99f9147122705127b47cb4f66\nDepends-On: https://review.openstack.org/553975\n'}]",0,553977,0c8a1a91d66b5eefd502c574f563111ca95addcc,18,7,3,24872,,,0,"Add Cyborg-specs repository to the governance repository

Change-Id: Id38deb86dde3dcd99f9147122705127b47cb4f66
Depends-On: https://review.openstack.org/553975
",git fetch https://review.opendev.org/openstack/governance refs/changes/77/553977/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,bd7f4f09b8cf868c3562d3a1de156554df8ba594,cyborg-specs, cyborg-specs: repos: - openstack/cyborg-specs,,3,0
openstack%2Fgovernance~master~I098ccc03ff2e4a4bcb65e1f376f2c712b10c9c25,openstack/governance,master,I098ccc03ff2e4a4bcb65e1f376f2c712b10c9c25,Add systemd roles to OpenStack-Ansible,MERGED,2018-03-14 10:16:41.000000000,2018-03-23 09:02:17.000000000,2018-03-23 09:02:17.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-14 10:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/74e853761cdd3e1c3277cf57c22f1f840925feca', 'message': 'Add systemd roles to OpenStack-Ansible\n\nThe systemd_mount and systemd_service roles are a way for\nOpenStack-Ansible to not repeat ourselves in the code.\n\nIt can also be used by other members of the openstack community,\nand is therefore not mapped to our main deliverable.\nWe are still curating it in our group: these roles will be important\nfor deploying a cloud with openstack-ansible.\n\nDepends-On: https://review.openstack.org/#/c/552861\nChange-Id: I098ccc03ff2e4a4bcb65e1f376f2c712b10c9c25\n'}, {'number': 2, 'created': '2018-03-14 16:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/be1811181c26538d6fea6836aae61882fbfbb60a', 'message': 'Add systemd roles to OpenStack-Ansible\n\nThe systemd_mount and systemd_service roles are a way for\nOpenStack-Ansible to not repeat ourselves in the code.\n\nIt can also be used by other members of the openstack community,\nand is therefore not mapped to our main deliverable.\nWe are still curating it in our group: these roles will be important\nfor deploying a cloud with openstack-ansible.\n\nDepends-On: https://review.openstack.org/#/c/552861\nChange-Id: I098ccc03ff2e4a4bcb65e1f376f2c712b10c9c25\n'}, {'number': 3, 'created': '2018-03-20 11:03:47.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/b2b9acf6e91cf6caedb19ed467cf8b1f30880b11', 'message': 'Add systemd roles to OpenStack-Ansible\n\nThe systemd_mount and systemd_service roles are a way for\nOpenStack-Ansible to not repeat ourselves in the code.\n\nIt can also be used by other members of the openstack community,\nand is therefore not mapped to our main deliverable.\nWe are still curating it in our group: these roles will be important\nfor deploying a cloud with openstack-ansible.\n\nDepends-On: https://review.openstack.org/#/c/552861\nChange-Id: I098ccc03ff2e4a4bcb65e1f376f2c712b10c9c25\n'}]",0,552866,b2b9acf6e91cf6caedb19ed467cf8b1f30880b11,20,9,3,17068,,,0,"Add systemd roles to OpenStack-Ansible

The systemd_mount and systemd_service roles are a way for
OpenStack-Ansible to not repeat ourselves in the code.

It can also be used by other members of the openstack community,
and is therefore not mapped to our main deliverable.
We are still curating it in our group: these roles will be important
for deploying a cloud with openstack-ansible.

Depends-On: https://review.openstack.org/#/c/552861
Change-Id: I098ccc03ff2e4a4bcb65e1f376f2c712b10c9c25
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/552866/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,74e853761cdd3e1c3277cf57c22f1f840925feca,openstack-ansible, ansible-role-systemd_mount: repos: - openstack/ansible-role-systemd_mount ansible-role-systemd_service: repos: - openstack/ansible-role-systemd_service,,6,0
openstack%2Fgovernance~master~I46d5d16f29a4a613c96f01023c89e94b39abf2dd,openstack/governance,master,I46d5d16f29a4a613c96f01023c89e94b39abf2dd,Create a new project called oslo.limit,MERGED,2018-03-07 15:14:47.000000000,2018-03-23 09:02:15.000000000,2018-03-23 09:02:15.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 5046}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 13629}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 15:14:47.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/426da945881f7ec4e3e368fcf0d88d01eb53e0c7', 'message': 'Create a new project called oslo.limit\n\nThis commit creates a new oslo library called oslo.limit to help\nservices enforce quota based on limit information stored in keystone.\n\nDepends-On: I1bdb05189fa0346426cb36d4a3d5fe458eb69871\nChange-Id: I46d5d16f29a4a613c96f01023c89e94b39abf2dd\n'}]",3,550496,426da945881f7ec4e3e368fcf0d88d01eb53e0c7,24,13,1,5046,,,0,"Create a new project called oslo.limit

This commit creates a new oslo library called oslo.limit to help
services enforce quota based on limit information stored in keystone.

Depends-On: I1bdb05189fa0346426cb36d4a3d5fe458eb69871
Change-Id: I46d5d16f29a4a613c96f01023c89e94b39abf2dd
",git fetch https://review.opendev.org/openstack/governance refs/changes/96/550496/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,426da945881f7ec4e3e368fcf0d88d01eb53e0c7,, oslo.limit: repos: - openstack/oslo.limit,,3,0
openstack%2Fgovernance~master~I70295ece435357af3ecae575233e1d09096f461a,openstack/governance,master,I70295ece435357af3ecae575233e1d09096f461a,Apply supports-rolling-upgrade tag for heat project,MERGED,2017-09-12 19:21:33.000000000,2018-03-23 09:02:13.000000000,2018-03-23 09:02:13.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6159}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 12404}, {'_account_id': 13702}, {'_account_id': 17491}, {'_account_id': 19741}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-09-12 19:21:33.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/98794cd92887d2cfaac2c65edcbcab9e83189a16', 'message': 'Apply supports-rolling-upgrade tag for heat project\n\nWe like to apply supports-rolling-upgrade tag for heat since heat right\nnow already fulfill fallowing targets:\n* The project is already tagged as type:service\n* Tag with supports-upgrade\n* allows operators to roll out new code to subsets of service\n* Full stack integration testing with services arranged, right now\n  we have an experimental job for multi-node grenade job with tests\n  runs before and after upgrade. Which is green and stable. and works\n  for ocata to pike and pike to master.\nWith above works, this patch propose to add supports-rolling-upgrade tag\nfor heat service.\n\nChange-Id: I70295ece435357af3ecae575233e1d09096f461a\n'}]",1,503145,98794cd92887d2cfaac2c65edcbcab9e83189a16,24,15,1,12404,,,0,"Apply supports-rolling-upgrade tag for heat project

We like to apply supports-rolling-upgrade tag for heat since heat right
now already fulfill fallowing targets:
* The project is already tagged as type:service
* Tag with supports-upgrade
* allows operators to roll out new code to subsets of service
* Full stack integration testing with services arranged, right now
  we have an experimental job for multi-node grenade job with tests
  runs before and after upgrade. Which is green and stable. and works
  for ocata to pike and pike to master.
With above works, this patch propose to add supports-rolling-upgrade tag
for heat service.

Change-Id: I70295ece435357af3ecae575233e1d09096f461a
",git fetch https://review.opendev.org/openstack/governance refs/changes/45/503145/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,98794cd92887d2cfaac2c65edcbcab9e83189a16,heat-rolling-upgrade-tags, - assert:supports-rolling-upgrade,,1,0
openstack%2Fgovernance~master~I95f76f90fa65d0f54fed69b75cb575575976b33e,openstack/governance,master,I95f76f90fa65d0f54fed69b75cb575575976b33e,Rename and clarify PowerStackers,MERGED,2018-03-10 00:41:28.000000000,2018-03-23 09:02:11.000000000,2018-03-23 09:02:11.000000000,"[{'_account_id': 308}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 5638}, {'_account_id': 5660}, {'_account_id': 6159}, {'_account_id': 8482}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 11929}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 00:41:28.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/db4c60e425e215ee8edac2726483db24b0fcf1cb', 'message': ""Rename and clarify PowerStackers\n\nThis change renames PowerStackers and clarifies mission statement added\nin I1b709623df535b662871e9db2bac59b6f55f5277\n\nThe project team name and the mission are in disagreement in that the\nname and mission cover all POWER CPU implementations but it's clear from\nthe make up of the group that it refers only to the PowerVM hypervisor.\n\nChange-Id: I95f76f90fa65d0f54fed69b75cb575575976b33e\n""}]",0,551413,db4c60e425e215ee8edac2726483db24b0fcf1cb,33,18,1,12898,,,0,"Rename and clarify PowerStackers

This change renames PowerStackers and clarifies mission statement added
in I1b709623df535b662871e9db2bac59b6f55f5277

The project team name and the mission are in disagreement in that the
name and mission cover all POWER CPU implementations but it's clear from
the make up of the group that it refers only to the PowerVM hypervisor.

Change-Id: I95f76f90fa65d0f54fed69b75cb575575976b33e
",git fetch https://review.opendev.org/openstack/governance refs/changes/13/551413/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,db4c60e425e215ee8edac2726483db24b0fcf1cb,formal-vote,PowerVMStackers: To provide OpenStack support for the POWER CPU architecture on the PowerVM hypervisor.,PowerStackers: To provide OpenStack support for the POWER CPU architecture.,3,2
openstack%2Fgovernance~master~I9d4b9fc9f7b57155d7e4f5eba046ce1a0a5faded,openstack/governance,master,I9d4b9fc9f7b57155d7e4f5eba046ce1a0a5faded,"Fix stray ',' in trademark test location resolution",MERGED,2018-03-16 13:37:08.000000000,2018-03-23 09:01:55.000000000,2018-03-23 09:01:55.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 13:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8648a247c287c51540493808fd1ce467b6efd05f', 'message': ""Fix stray ',' in trademark test location resolutiono\n\nThe typo was identified during voting, but did not want to ruin the\nvotes for this fix. So doing so in this follow up.\n\nChange-Id: I9d4b9fc9f7b57155d7e4f5eba046ce1a0a5faded\n""}, {'number': 2, 'created': '2018-03-16 13:37:42.000000000', 'files': ['resolutions/20180307-trademark-program-test-location.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/71c4b7658552de345070bf982e01f162eb41d967', 'message': ""Fix stray ',' in trademark test location resolution\n\nThe typo was identified during voting, but did not want to ruin the\nvotes for this fix. So doing so in this follow up.\n\nChange-Id: I9d4b9fc9f7b57155d7e4f5eba046ce1a0a5faded\n""}]",0,553791,71c4b7658552de345070bf982e01f162eb41d967,11,6,2,11564,,,0,"Fix stray ',' in trademark test location resolution

The typo was identified during voting, but did not want to ruin the
votes for this fix. So doing so in this follow up.

Change-Id: I9d4b9fc9f7b57155d7e4f5eba046ce1a0a5faded
",git fetch https://review.opendev.org/openstack/governance refs/changes/91/553791/1 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20180307-trademark-program-test-location.rst'],1,8648a247c287c51540493808fd1ce467b6efd05f,formal-vote,It is resolved that trademark tests (and candidates thereof) for individual,"It is resolved that trademark tests (and candidates thereof) for individual,",1,1
openstack%2Fgovernance~master~I2e68c8e855e7c6c1e4f985f38a0a38de451407a3,openstack/governance,master,I2e68c8e855e7c6c1e4f985f38a0a38de451407a3,Clarify testing for interop programs,MERGED,2018-03-07 19:07:36.000000000,2018-03-23 09:01:53.000000000,2018-03-23 09:01:53.000000000,"[{'_account_id': 308}, {'_account_id': 782}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 4257}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6754}, {'_account_id': 8099}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 19:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4fad112ebe0c35f38fac3b18bd50144971ee8e50', 'message': 'Clarify testing for interop programs\n\nThis provides an alternative to\nI91315c3c42b8a329d1763f9de80aa3d0270ac044 to provide simplified\nguidance on use of plugins for trademark tests. The coauthors below\nrepresents the people who were activce in the creating and refining\nthese ideas.\n\nChange-Id: I2e68c8e855e7c6c1e4f985f38a0a38de451407a3\nCo-Authored-By: Graham Hayes <gr@ham.ie>\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\nCo-Authored-By: Andrea Frittoli <andrea.frittoli@gmail.com>\nCo-Authored-By: Mark T. Voelker <mvoelker@vmware.com>\nCo-Authored-By: Jim Rollenhagen <jim@jimrollenhagen.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}, {'number': 2, 'created': '2018-03-07 19:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a85963827859576b7ae4d1175f9488380912c42e', 'message': 'Clarify testing for interop programs\n\nThis provides an alternative to\nI91315c3c42b8a329d1763f9de80aa3d0270ac044 to provide simplified\nguidance on use of plugins for trademark tests. The coauthors below\nrepresents the people who were activce in the creating and refining\nthese ideas.\n\nChange-Id: I2e68c8e855e7c6c1e4f985f38a0a38de451407a3\nCo-Authored-By: Graham Hayes <gr@ham.ie>\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\nCo-Authored-By: Andrea Frittoli <andrea.frittoli@gmail.com>\nCo-Authored-By: Mark T. Voelker <mvoelker@vmware.com>\nCo-Authored-By: Jim Rollenhagen <jim@jimrollenhagen.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}, {'number': 3, 'created': '2018-03-09 10:00:28.000000000', 'files': ['resolutions/20180307-trademark-program-test-location.rst', 'resolutions/superseded/20160504-defcore-test-location.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/fcde1d72f15da446eed64a575387fc754f5724b0', 'message': 'Clarify testing for interop programs\n\nThis provides an alternative to\nI91315c3c42b8a329d1763f9de80aa3d0270ac044 to provide simplified\nguidance on use of plugins for trademark tests. The coauthors below\nrepresents the people who were activce in the creating and refining\nthese ideas.\n\nChange-Id: I2e68c8e855e7c6c1e4f985f38a0a38de451407a3\nCo-Authored-By: Graham Hayes <gr@ham.ie>\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\nCo-Authored-By: Andrea Frittoli <andrea.frittoli@gmail.com>\nCo-Authored-By: Mark T. Voelker <mvoelker@vmware.com>\nCo-Authored-By: Jim Rollenhagen <jim@jimrollenhagen.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}]",18,550571,fcde1d72f15da446eed64a575387fc754f5724b0,36,17,3,11564,,,0,"Clarify testing for interop programs

This provides an alternative to
I91315c3c42b8a329d1763f9de80aa3d0270ac044 to provide simplified
guidance on use of plugins for trademark tests. The coauthors below
represents the people who were activce in the creating and refining
these ideas.

Change-Id: I2e68c8e855e7c6c1e4f985f38a0a38de451407a3
Co-Authored-By: Graham Hayes <gr@ham.ie>
Co-Authored-By: Zane Bitter <zbitter@redhat.com>
Co-Authored-By: Andrea Frittoli <andrea.frittoli@gmail.com>
Co-Authored-By: Mark T. Voelker <mvoelker@vmware.com>
Co-Authored-By: Jim Rollenhagen <jim@jimrollenhagen.com>
Co-Authored-By: ricolin <rico.lin@easystack.cn>
",git fetch https://review.opendev.org/openstack/governance refs/changes/71/550571/2 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20180307-trademark-program-test-location.rst', 'resolutions/superseded/20160504-defcore-test-location.rst']",2,4fad112ebe0c35f38fac3b18bd50144971ee8e50,formal-vote,.. _20160504_defcore_test_location: .. note:: This resolution has been superseded by ref:`201180305_interop_test_location` ,,72,0
openstack%2Fgovernance~master~I94b0421d8a489026300789b61b0293dd2e61726d,openstack/governance,master,I94b0421d8a489026300789b61b0293dd2e61726d,"Add a resolution about stable branch EOL and ""extended maintenance""",MERGED,2018-03-01 11:07:20.000000000,2018-03-23 08:57:57.000000000,2018-03-23 08:57:57.000000000,"[{'_account_id': 308}, {'_account_id': 330}, {'_account_id': 782}, {'_account_id': 841}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5263}, {'_account_id': 5314}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6088}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 6926}, {'_account_id': 8099}, {'_account_id': 8482}, {'_account_id': 9003}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10905}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13629}, {'_account_id': 14091}, {'_account_id': 14790}, {'_account_id': 14985}, {'_account_id': 17068}, {'_account_id': 17556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 11:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/116dc2183d76b91b8afb297f8c6abbb2cd2c5186', 'message': 'Add a resolution about stable branch EOL and ""extended maintenance""\n\nWe\'ve talked about this for years, and talked some more at the\nRocky PTG. This adds a resolution to try and document / summarize\nthe outcomes of the Sydney summit, where I believe we essentially\ncame to the conclusion that the upstream team was OK with not deleting\nthe oldest branch (EOL) and would turn over its maintenance to\ninterested parties who may or may not be part of the formal upstream\nteams.\n\nChange-Id: I94b0421d8a489026300789b61b0293dd2e61726d\n'}, {'number': 2, 'created': '2018-03-08 19:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b5d358421b5e36354648dc84790e893e9754e35a', 'message': 'Add a resolution about stable branch EOL and ""extended maintenance""\n\nWe\'ve talked about this for years, and talked some more at the\nRocky PTG. This adds a resolution to try and document / summarize\nthe outcomes of the Sydney summit and Rocky PTG.\n\nChange-Id: I94b0421d8a489026300789b61b0293dd2e61726d\n'}, {'number': 3, 'created': '2018-03-14 13:24:17.000000000', 'files': ['doc/source/conf.py', 'resolutions/20180301-stable-branch-eol.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/4cd1fc03ec10aa73eceb01c60ee2c173e885abe6', 'message': 'Add a resolution about stable branch EOL and ""extended maintenance""\n\nWe\'ve talked about this for years, and talked some more at the\nRocky PTG. This adds a resolution to try and document / summarize\nthe outcomes of the Sydney summit and Rocky PTG.\n\nChange-Id: I94b0421d8a489026300789b61b0293dd2e61726d\n'}]",136,548916,4cd1fc03ec10aa73eceb01c60ee2c173e885abe6,122,37,3,6873,,,0,"Add a resolution about stable branch EOL and ""extended maintenance""

We've talked about this for years, and talked some more at the
Rocky PTG. This adds a resolution to try and document / summarize
the outcomes of the Sydney summit and Rocky PTG.

Change-Id: I94b0421d8a489026300789b61b0293dd2e61726d
",git fetch https://review.opendev.org/openstack/governance refs/changes/16/548916/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'resolutions/20180301-stable-branch-eol.rst']",2,116dc2183d76b91b8afb297f8c6abbb2cd2c5186,formal-vote,"==================================== 2018-03-01 Stable branch end of life ==================================== The OpenStack `stable branch maintenance team`_, among other teams such as `QA`_, `infra`_, `vulnerability management team`_, the `release team`_, alongside users, operators, vendors and distributions, have talked for years about extending the life of the stable branches. There was a cross-project discussion about this during the Newton summit: https://etherpad.openstack.org/p/stable-branch-eol-policy-newton And another at the Queens summit: https://etherpad.openstack.org/p/SYD-forum-upstream-lts-releases There have been discussions about stable branch end of life, release process, long-term support releases, etc, at every face-to-face event (PTG, summit) for years. This resolution does not intend to cover all of the history, viewpoints, use cases, caveats, etc - it would never end. The purpose of this resolution is to essentially summarize and state the stance of the various upstream stable branch maintainers and related teams (mentioned above) with respect to extended maintenance windows for stable branches and their end of life process. #. End of life The stable branches shall remain open to accept fixes as long as reasonably possible. Codifying when a branch can no longer be maintained is not within the scope of this resolution, but it typically means no one is maintaining the branch, it is not tested and fixes cannot merge. What is today the normal end of life process of apply the ``<branch>-eol`` tag and deleting the branch, cleaning up related infra scripts, etc, will change to not delete the branch. However, a tag will be applied on the final release indicating it is no longer supported by the upstream stable branch maintenance (and associated) teams. #. Releases The upstream stable branch maintenance team shall maintain and release each branch for typically 18 months, which has been the historical lifespan of a branch in OpenStack. After that, there will be no releases as a release would indicate support from the upstream teams, which is not going to be the case. Contributors can continue to push fixes and they can be merged but they will not be released upstream. #. Core team After the upstream support phase ends, the core team for the branch will be turned over to essentially whoever is maintaining the branch. Maintenance includes, but is not limited to, backporting fixes, reviewing proposed patches, and fixing infra/CI issues. #. Testing The stable branches will continue to run the same level of CI testing after the standard 18 month window, as long as feasible. Tempest is branchless and has historically dropped support for testing older branches once they are end of life. This allows Tempest (and devstack) to drop compatibility code and other technical debt. After the 18 month support window when maintenance duties are turned over to other interested parties, the QA team *can* move forward with changes that disrupt an old branch if those changes cannot be easily made another way. This resolution will not attempt to predict or codify what those types of changes might be, or how maintenance on older branches can be extended and still run integration tests with Tempest. The point is the QA team can move forward and not be hindered by the maintenance of the stable branches after the upstream teams have turned over that work. In other words, these older branches might, at some point, just be running pep8 and unit tests. #. Appropriate fixes Backports to these branches should generally follow the upstream `stable branch maintenance guide`_. This means critical (data loss, major impact to upgrades) and security fixes, not features. #. Applicable projects This resolution applies only to projects that have the `stable:follows-policy tag`_. The reason being those projects have not committed to or demonstrated an ability to follow the upstream stable branch maintenance guide with respect to appropriate fixes, e.g. they may support backporting features. .. todo:: Caveat here is deployment projects like TripleO - what about them? Also, if those projects don't support upstream stable branch maintenance rules, do we EOL them today or are they already on their own? If so, then this resolution is essentially saying, any branch over the upstream 18 month support window is now in the same boat as these other projects that don't follow the policy. .. _stable branch maintenance team: https://governance.openstack.org/tc/reference/projects/stable-branch-maintenance.html .. _QA: https://governance.openstack.org/tc/reference/projects/quality-assurance.html .. _infra: https://governance.openstack.org/tc/reference/projects/infrastructure.html .. _vulnerability management team: https://docs.openstack.org/project-team-guide/vulnerability-management.html .. _release team: https://governance.openstack.org/tc/reference/projects/release-management.html .. _stable branch maintenance guide: https://docs.openstack.org/project-team-guide/stable-branches.html .. _stable:follows-policy tag: https://docs.openstack.org/project-team-guide/stable-branches.html",,106,0
openstack%2Fgovernance~master~Ia06863657be6b9071c404453a33800979d1288eb,openstack/governance,master,Ia06863657be6b9071c404453a33800979d1288eb,"driver-teams: Level playing fields, except drivers",ABANDONED,2016-11-28 18:16:00.000000000,2018-03-23 08:57:17.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6159}, {'_account_id': 6482}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 11904}]","[{'number': 1, 'created': '2016-11-28 18:16:00.000000000', 'files': ['reference/new-projects-requirements.rst', 'resolutions/20161128-driver-teams.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/5f51a4b1c95023b44b273bc761e43daf99e61994', 'message': 'driver-teams: Level playing fields, except drivers\n\nAcknowledge our expectation for a level playing field but resolve\nthat it is neither necessary nor reasonable to require it of those\ndeveloping drivers for proprietary systems. Amend our requirements\nto allow those developers focused solely on drivers recognition as\nofficial teams by the OpenStack technical committee, so long as they\nmeet all the other criteria required of any official team.\n\nChange-Id: Ia06863657be6b9071c404453a33800979d1288eb\n'}]",1,403839,5f51a4b1c95023b44b273bc761e43daf99e61994,14,9,1,5263,,,0,"driver-teams: Level playing fields, except drivers

Acknowledge our expectation for a level playing field but resolve
that it is neither necessary nor reasonable to require it of those
developing drivers for proprietary systems. Amend our requirements
to allow those developers focused solely on drivers recognition as
official teams by the OpenStack technical committee, so long as they
meet all the other criteria required of any official team.

Change-Id: Ia06863657be6b9071c404453a33800979d1288eb
",git fetch https://review.opendev.org/openstack/governance refs/changes/39/403839/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/new-projects-requirements.rst', 'resolutions/20161128-driver-teams.rst']",2,5f51a4b1c95023b44b273bc761e43daf99e61994,formal-vote,"======================================================== 2016-11-28 Level playing fields don't apply to drivers ======================================================== The OpenStack community holds a strong belief in open, inclusive collaboration at all stages of software design and development. The ""Empowering Businesses, on a Level Playing Field"" principle reflects a desired outcome within our community, but the ""level playing field"" requirement as written precludes valuable contributions which we wish to encourage through the possibility of official team status. Extend the requirement to make it clear that we acknowledge such collaboration is challenging when maintaining drivers for proprietary systems, and that we do not consider them advantageous only to the vendors of those systems nor do we consider access to proprietary information about those systems a violation of this principle. ",,19,1
openstack%2Fgovernance~master~I9ec9cce6ec1a1a237b11c70920846d2d020cd602,openstack/governance,master,I9ec9cce6ec1a1a237b11c70920846d2d020cd602,driver-teams: Driver development can be level,ABANDONED,2016-11-28 18:09:21.000000000,2018-03-23 08:56:18.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1561}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6482}, {'_account_id': 11564}]","[{'number': 1, 'created': '2016-11-28 18:09:21.000000000', 'files': ['resolutions/20161128-driver-teams.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/82250350f00034ef6a54f87d9adee1b8a610d57c', 'message': 'driver-teams: Driver development can be level\n\nReaffirm that OpenStack is about enabling open collaboration and our\ndedication to maintaining a level playing field. Resolve that, even\nthough development of drivers for proprietary systems is often\nincompatible with this principle, those developers focused solely on\ndrivers may be recognized as official teams by the OpenStack\ntechnical committee if they meet all the same criteria required of\nany official team.\n\nChange-Id: I9ec9cce6ec1a1a237b11c70920846d2d020cd602\n'}]",7,403836,82250350f00034ef6a54f87d9adee1b8a610d57c,16,7,1,5263,,,0,"driver-teams: Driver development can be level

Reaffirm that OpenStack is about enabling open collaboration and our
dedication to maintaining a level playing field. Resolve that, even
though development of drivers for proprietary systems is often
incompatible with this principle, those developers focused solely on
drivers may be recognized as official teams by the OpenStack
technical committee if they meet all the same criteria required of
any official team.

Change-Id: I9ec9cce6ec1a1a237b11c70920846d2d020cd602
",git fetch https://review.opendev.org/openstack/governance refs/changes/36/403836/1 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20161128-driver-teams.rst'],1,82250350f00034ef6a54f87d9adee1b8a610d57c,formal-vote,"============================================================== 2016-11-28 Drivers can be developed on a level playing field ============================================================== The OpenStack community holds a strong belief in open, inclusive collaboration at all stages of software design and development. While drivers for proprietary systems are often developed by an inner circle of those with access to proprietary information about the systems they support, some may also be developed by consumers and end users of those systems with or without assistance from their corresponding vendors. Drivers for proprietary systems accompanied by openly published specifications or developed through reverse engineering, guaranteeing a level playing field between contributors and so following the same open principles as the rest of OpenStack, may qualify as ""official"" community activity and those responsible can be eligible for resources granted to teams within the ""Big Tent."" ",,17,0
openstack%2Fkolla~stable%2Focata~If1e499c247f3eeb8452991cb18aea5b1fdad60a7,openstack/kolla,stable/ocata,If1e499c247f3eeb8452991cb18aea5b1fdad60a7,Increase the post-timeout to 3600 seconds,MERGED,2018-03-22 13:29:42.000000000,2018-03-23 08:55:40.000000000,2018-03-23 08:55:40.000000000,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:29:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/32fc5cb2f0303f18a73aa0b52fd805d5778a1397', 'message': 'Increase the post-timeout to 3600 seconds\n\nThe default post-timeout is 1800, which is not enough to push images to\nhub.docker.com.\n\nChange-Id: If1e499c247f3eeb8452991cb18aea5b1fdad60a7\nCloses-Bug: #1755416\n(cherry picked from commit 864965c40044cab1e459e4f8692473940497be3f)\n'}]",0,555303,32fc5cb2f0303f18a73aa0b52fd805d5778a1397,7,3,1,7488,,,0,"Increase the post-timeout to 3600 seconds

The default post-timeout is 1800, which is not enough to push images to
hub.docker.com.

Change-Id: If1e499c247f3eeb8452991cb18aea5b1fdad60a7
Closes-Bug: #1755416
(cherry picked from commit 864965c40044cab1e459e4f8692473940497be3f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/555303/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,32fc5cb2f0303f18a73aa0b52fd805d5778a1397,bug/1755416, post-timeout: 3600,,1,0
openstack%2Fpython-troveclient~master~I5428b7f4f4f57511a6f60e654811b66152119ee4,openstack/python-troveclient,master,I5428b7f4f4f57511a6f60e654811b66152119ee4,Updated from global requirements,MERGED,2018-03-23 01:54:37.000000000,2018-03-23 08:51:20.000000000,2018-03-23 08:51:20.000000000,"[{'_account_id': 22348}, {'_account_id': 24739}]","[{'number': 1, 'created': '2018-03-23 01:54:37.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/0e6c017c6d1d049d7d26c3c143ca5f7dff8c6233', 'message': 'Updated from global requirements\n\nChange-Id: I5428b7f4f4f57511a6f60e654811b66152119ee4\n'}]",0,555595,0e6c017c6d1d049d7d26c3c143ca5f7dff8c6233,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I5428b7f4f4f57511a6f60e654811b66152119ee4
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/95/555595/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0e6c017c6d1d049d7d26c3c143ca5f7dff8c6233,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Ftripleo-puppet-elements~master~I11ed75a3585b3f6d37a4c35ee689cf87aae94ef5,openstack/tripleo-puppet-elements,master,I11ed75a3585b3f6d37a4c35ee689cf87aae94ef5,add puppet-vitrage and vitrage rpms into image,MERGED,2018-03-15 11:30:27.000000000,2018-03-23 08:47:23.000000000,2018-03-23 08:47:23.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 18783}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-15 11:30:27.000000000', 'files': ['elements/overcloud-controller/pkg-map', 'elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/b3d048257d2d75bcd4e2c668bebafb852fa10030', 'message': 'add puppet-vitrage and vitrage rpms into image\n\nImplements: blueprint tripleo-vitrage-integration\n\nChange-Id: I11ed75a3585b3f6d37a4c35ee689cf87aae94ef5\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n'}]",0,553351,b3d048257d2d75bcd4e2c668bebafb852fa10030,29,9,1,18783,,,0,"add puppet-vitrage and vitrage rpms into image

Implements: blueprint tripleo-vitrage-integration

Change-Id: I11ed75a3585b3f6d37a4c35ee689cf87aae94ef5
Signed-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/51/553351/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-controller/pkg-map', 'elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller']",4,b3d048257d2d75bcd4e2c668bebafb852fa10030,bp/tripleo-vitrage-integration,vitrage_api_package vitrage_collector_package vitrage_graph_package vitrage_persistor_package vitrage_notifier_package,,13,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ie5b9e98ea2fc16b820d56272653df4874e81cf68,openstack/puppet-tripleo,stable/queens,Ie5b9e98ea2fc16b820d56272653df4874e81cf68,Fixes incorrect ownership of ODL TLS cert/key,MERGED,2018-03-21 13:05:11.000000000,2018-03-23 08:42:20.000000000,2018-03-23 08:42:19.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23356}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-21 13:05:11.000000000', 'files': ['spec/classes/tripleo_certmonger_opendaylight_spec.rb', 'releasenotes/notes/fix-odl-tls-owner-77d2d71fe39ea3e7.yaml', 'manifests/certmonger/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a364a9dce7f92293ef65b8c98b46e5095777b956', 'message': ""Fixes incorrect ownership of ODL TLS cert/key\n\nDeployments were failing because the owner/group of the TLS generated\ncertificate and key were set to 'odl'.  This user and group does not\nexist in a containerized deployment because the ODL RPM is only\ninstalled in the container.\n\nThis patch leaves the owner as root for the files which works because\nthe files are only used to generate a keystore for ODL (which is owned\nby odl), and the cert/key files themselves are never read by ODL.\n\nCloses-Bug: 1757135\n\nChange-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n(cherry picked from commit e11804237e81c8488bd008603638d5f62758acb7)\n""}]",0,554909,a364a9dce7f92293ef65b8c98b46e5095777b956,20,7,1,17280,,,0,"Fixes incorrect ownership of ODL TLS cert/key

Deployments were failing because the owner/group of the TLS generated
certificate and key were set to 'odl'.  This user and group does not
exist in a containerized deployment because the ODL RPM is only
installed in the container.

This patch leaves the owner as root for the files which works because
the files are only used to generate a keystore for ODL (which is owned
by odl), and the cert/key files themselves are never read by ODL.

Closes-Bug: 1757135

Change-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68
Signed-off-by: Tim Rozet <trozet@redhat.com>
(cherry picked from commit e11804237e81c8488bd008603638d5f62758acb7)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/554909/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_certmonger_opendaylight_spec.rb', 'releasenotes/notes/fix-odl-tls-owner-77d2d71fe39ea3e7.yaml', 'manifests/certmonger/opendaylight.pp']",3,a364a9dce7f92293ef65b8c98b46e5095777b956,bug/1757135-stable/queens,," owner => 'odl', group => 'odl', owner => 'odl', group => 'odl',",5,8
openstack%2Fpuppet-openstack-integration~master~Ie6f4aecffe1bd0a3048d51c8dd51eced54885ec7,openstack/puppet-openstack-integration,master,Ie6f4aecffe1bd0a3048d51c8dd51eced54885ec7,Updated from Puppet OpenStack modules constraints,MERGED,2018-03-23 06:09:25.000000000,2018-03-23 08:41:58.000000000,2018-03-23 08:41:58.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 06:09:25.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/05f2686e92d1ee3cb40687ac8a4888bd39b4b802', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ie6f4aecffe1bd0a3048d51c8dd51eced54885ec7\n'}]",0,555644,05f2686e92d1ee3cb40687ac8a4888bd39b4b802,7,2,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ie6f4aecffe1bd0a3048d51c8dd51eced54885ec7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/44/555644/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,05f2686e92d1ee3cb40687ac8a4888bd39b4b802,openstack/puppet/constraints, :ref => '3.1.0', :ref => '3.0.0',1,1
openstack%2Fglance~master~I05b0f2677ebe41ce6eedb6bdc9629dbb093e5930,openstack/glance,master,I05b0f2677ebe41ce6eedb6bdc9629dbb093e5930,Modify grammatical errors,ABANDONED,2018-02-08 01:33:17.000000000,2018-03-23 08:39:33.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 01:33:17.000000000', 'files': ['releasenotes/notes/exp-emc-mig-fix-a7e28d547ac38f9e.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/a614d192cffb746d1068abe46b47f12d56b3aa25', 'message': 'Modify grammatical errors\n\nChange-Id: I05b0f2677ebe41ce6eedb6bdc9629dbb093e5930\n'}]",0,541972,a614d192cffb746d1068abe46b47f12d56b3aa25,5,2,1,17130,,,0,"Modify grammatical errors

Change-Id: I05b0f2677ebe41ce6eedb6bdc9629dbb093e5930
",git fetch https://review.opendev.org/openstack/glance refs/changes/72/541972/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/exp-emc-mig-fix-a7e28d547ac38f9e.yaml'],1,a614d192cffb746d1068abe46b47f12d56b3aa25,, bug did not affect the normal database upgrade operation., bug did not affect the the normal database upgrade operation.,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie380cc41ca50a294a2647d673f339d02111bf6b3,openstack/tripleo-heat-templates,stable/queens,Ie380cc41ca50a294a2647d673f339d02111bf6b3,Fixes ODL container failing to start due to missing etc config,MERGED,2018-03-21 19:55:10.000000000,2018-03-23 08:37:40.000000000,2018-03-23 08:37:40.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 19:55:10.000000000', 'files': ['docker/services/opendaylight-api.yaml', 'releasenotes/notes/fix-odl-missing-etc-config-87c33bc05f692f44.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f5929ac13a87b9efd8ee9825dc0b034ee8622b8', 'message': 'Fixes ODL container failing to start due to missing etc config\n\nThe ODL etc directory was being overridden with an empty mount directory\nbefore kolla_start copied the puppet-generated config files.  The\npuppet-generated config files only include modified configuration files\nand not all of the default config files.  Therefore ODL was missing\nconfig files when it started so the container was constantly crashing.\n\nThis patch removes the unwanted mount erasing the /opt/opendaylight/etc\ndirectory and moves the upgrade file to be created in puppet-generated,\nwhich will be copied at kolla start time for upgrade.  The\npuppet-generated dir is read-only, so the REST call to disable upgrade\nflag in ODL will only disable it for the running instance.  Therefore we\nhave to use ansible to write the file again to disable it incase ODL is\nrebooted.\n\nCloses-Bug: 1755916\n\nChange-Id: Ie380cc41ca50a294a2647d673f339d02111bf6b3\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n(cherry picked from commit 97173caf8f68695140d207c2ab88226fd86659dc)\n'}]",0,555035,1f5929ac13a87b9efd8ee9825dc0b034ee8622b8,15,6,1,17280,,,0,"Fixes ODL container failing to start due to missing etc config

The ODL etc directory was being overridden with an empty mount directory
before kolla_start copied the puppet-generated config files.  The
puppet-generated config files only include modified configuration files
and not all of the default config files.  Therefore ODL was missing
config files when it started so the container was constantly crashing.

This patch removes the unwanted mount erasing the /opt/opendaylight/etc
directory and moves the upgrade file to be created in puppet-generated,
which will be copied at kolla start time for upgrade.  The
puppet-generated dir is read-only, so the REST call to disable upgrade
flag in ODL will only disable it for the running instance.  Therefore we
have to use ansible to write the file again to disable it incase ODL is
rebooted.

Closes-Bug: 1755916

Change-Id: Ie380cc41ca50a294a2647d673f339d02111bf6b3
Signed-off-by: Tim Rozet <trozet@redhat.com>
(cherry picked from commit 97173caf8f68695140d207c2ab88226fd86659dc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/555035/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/opendaylight-api.yaml', 'releasenotes/notes/fix-odl-missing-etc-config-87c33bc05f692f44.yaml']",2,1f5929ac13a87b9efd8ee9825dc0b034ee8622b8,bug/1755916-stable/queens,--- fixes: - | Fixes OpenDaylight container service not starting due to missing config files in /opt/opendaylight/etc directory. ,,24,6
openstack%2Ftripleo-ci~master~Idad5fa6326f7c8c528ea4a971340ca2bdaa15f25,openstack/tripleo-ci,master,Idad5fa6326f7c8c528ea4a971340ca2bdaa15f25,Remove composable role config from testenv,MERGED,2018-03-22 21:44:27.000000000,2018-03-23 08:37:34.000000000,2018-03-23 08:37:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 21:44:27.000000000', 'files': ['toci-quickstart/config/testenv/multinode-rdocloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9b903ea3e5069ae32773fabb3af323a060f9ef7a', 'message': ""Remove composable role config from testenv\n\nThe composable role configuration should come from the featureset and\nnot the test environment configuration. This file is included after the\nfeatureset in the deployment so it may override the configuration if\nit's set to false.\n\nCloses-Bug: #1758180\nChange-Id: Idad5fa6326f7c8c528ea4a971340ca2bdaa15f25\n""}]",0,555468,9b903ea3e5069ae32773fabb3af323a060f9ef7a,14,5,1,14985,,,0,"Remove composable role config from testenv

The composable role configuration should come from the featureset and
not the test environment configuration. This file is included after the
featureset in the deployment so it may override the configuration if
it's set to false.

Closes-Bug: #1758180
Change-Id: Idad5fa6326f7c8c528ea4a971340ca2bdaa15f25
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/555468/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode-rdocloud.yml'],1,9b903ea3e5069ae32773fabb3af323a060f9ef7a,bug/1758180,,composable_roles: true overcloud_roles: - name: Controller CountDefault: 1 tags: - primary - controller ,0,8
openstack%2Ftripleo-heat-templates~master~Ic77b3c9e243839201065260b5807d145c4bb9972,openstack/tripleo-heat-templates,master,Ic77b3c9e243839201065260b5807d145c4bb9972,Delete rendered nic configs during --clean,MERGED,2018-03-05 20:49:55.000000000,2018-03-23 08:37:29.000000000,2018-03-23 08:37:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-05 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f415cc86ad0db0802d24b8ba85a8c19de6ddba5a', 'message': 'Delete rednered nic configs during --clean\n\nAlso delete the newly rendered per-role sample nic config templates when\nprocess-templates.py is called with --clean.\n\nChange-Id: Ic77b3c9e243839201065260b5807d145c4bb9972\n'}, {'number': 2, 'created': '2018-03-05 20:50:17.000000000', 'files': ['tools/process-templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e0c55a7acb1d24dc6e8b7d8a1e3faa06c4cc344', 'message': 'Delete rendered nic configs during --clean\n\nAlso delete the newly rendered per-role sample nic config templates when\nprocess-templates.py is called with --clean.\n\nChange-Id: Ic77b3c9e243839201065260b5807d145c4bb9972\n'}]",0,549865,9e0c55a7acb1d24dc6e8b7d8a1e3faa06c4cc344,32,5,2,7144,,,0,"Delete rendered nic configs during --clean

Also delete the newly rendered per-role sample nic config templates when
process-templates.py is called with --clean.

Change-Id: Ic77b3c9e243839201065260b5807d145c4bb9972
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/549865/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/process-templates.py'],1,f415cc86ad0db0802d24b8ba85a8c19de6ddba5a,," nic_config_dir = os.path.join(base_path, 'network', 'config') for sample_nic_config_dir in os.listdir(nic_config_dir): delete(os.path.join( nic_config_dir, sample_nic_config_dir, '%s.yaml' % role['name'].lower())) delete(os.path.join( nic_config_dir, sample_nic_config_dir, role['deprecated_nic_config_name'])) ",,10,0
openstack%2Fmonasca-common~master~I46277d05cb9af9fcf2eefaa530b2f08b7aaa550e,openstack/monasca-common,master,I46277d05cb9af9fcf2eefaa530b2f08b7aaa550e,Updated from global requirements,MERGED,2018-03-23 01:09:43.000000000,2018-03-23 08:34:30.000000000,2018-03-23 08:34:30.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 01:09:43.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/160e0466a718484bf60aa5b3384a1367d3a4bd9b', 'message': 'Updated from global requirements\n\nChange-Id: I46277d05cb9af9fcf2eefaa530b2f08b7aaa550e\n'}]",0,555562,160e0466a718484bf60aa5b3384a1367d3a4bd9b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I46277d05cb9af9fcf2eefaa530b2f08b7aaa550e
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/62/555562/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,160e0466a718484bf60aa5b3384a1367d3a4bd9b,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fmanila~master~I64f3bc5686b5ab4f81b6462da60febd66fbf3499,openstack/manila,master,I64f3bc5686b5ab4f81b6462da60febd66fbf3499,Updated from global requirements,MERGED,2018-03-13 06:58:56.000000000,2018-03-23 08:06:10.000000000,2018-03-23 06:06:08.000000000,"[{'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16657}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26968}]","[{'number': 1, 'created': '2018-03-13 06:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/db648200a01fd27bd3c730e32cf824e9f1f02b8c', 'message': 'Updated from global requirements\n\nChange-Id: I64f3bc5686b5ab4f81b6462da60febd66fbf3499\n'}, {'number': 2, 'created': '2018-03-14 05:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a1ff63246d00b126ed7715fb7b89d0a41cb5dcc7', 'message': 'Updated from global requirements\n\nChange-Id: I64f3bc5686b5ab4f81b6462da60febd66fbf3499\n'}, {'number': 3, 'created': '2018-03-15 07:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac6486cf89c9e6559e1efb20aaf64458dd88007f', 'message': 'Updated from global requirements\n\nChange-Id: I64f3bc5686b5ab4f81b6462da60febd66fbf3499\n'}, {'number': 4, 'created': '2018-03-23 01:06:29.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/627efa714e86ade6e05a18c6c38541b1d9fbdaa3', 'message': 'Updated from global requirements\n\nChange-Id: I64f3bc5686b5ab4f81b6462da60febd66fbf3499\n'}]",0,552334,627efa714e86ade6e05a18c6c38541b1d9fbdaa3,49,16,4,11131,,,0,"Updated from global requirements

Change-Id: I64f3bc5686b5ab4f81b6462da60febd66fbf3499
",git fetch https://review.opendev.org/openstack/manila refs/changes/34/552334/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,db648200a01fd27bd3c730e32cf824e9f1f02b8c,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD","sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD",1,1
openstack%2Fadjutant-ui~master~I4da43556b07782439d51e217012caa869491f8e8,openstack/adjutant-ui,master,I4da43556b07782439d51e217012caa869491f8e8,Set up .gitreview,MERGED,2018-03-23 07:52:23.000000000,2018-03-23 08:05:23.000000000,2018-03-23 08:05:23.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 07:52:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/70a73acdec335258d7e977dda4fce0037539123d', 'message': 'Set up .gitreview\n\nSet up .gitreview for this project so that the usual OpenStack git\nreview process works.\n\nChange-Id: I4da43556b07782439d51e217012caa869491f8e8\n'}]",0,555686,70a73acdec335258d7e977dda4fce0037539123d,6,2,1,6547,,,0,"Set up .gitreview

Set up .gitreview for this project so that the usual OpenStack git
review process works.

Change-Id: I4da43556b07782439d51e217012caa869491f8e8
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/86/555686/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,70a73acdec335258d7e977dda4fce0037539123d,,host=review.openstack.orgproject=openstack/adjutant-ui.git,host=gerrit.dmz.wgtn.cat-it.co.nzproject=openstack-stacktask-ui.git defaultbranch=master,2,3
openstack%2Fkolla-kubernetes~master~I66d767b5de33d993adc6a0a1adf2d0cab2c50c0a,openstack/kolla-kubernetes,master,I66d767b5de33d993adc6a0a1adf2d0cab2c50c0a,Update the old doc links,ABANDONED,2018-03-23 07:58:38.000000000,2018-03-23 07:59:14.000000000,,[],"[{'number': 1, 'created': '2018-03-23 07:58:38.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/3369b5aa11fc81642547e98a22463240589a80b3', 'message': 'Update the old doc links\n\nUpdate the old http url links to the lastest ones\nin the following docs.\n\nChange-Id: I66d767b5de33d993adc6a0a1adf2d0cab2c50c0a\n'}]",0,555690,3369b5aa11fc81642547e98a22463240589a80b3,2,0,1,23317,,,0,"Update the old doc links

Update the old http url links to the lastest ones
in the following docs.

Change-Id: I66d767b5de33d993adc6a0a1adf2d0cab2c50c0a
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/90/555690/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'HACKING.rst']",3,3369b5aa11fc81642547e98a22463240589a80b3,fix,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,9,9
openstack%2Fheat-dashboard~master~I4c26c64ec73e9df670d2e0b09bf9b7cc4c7cb605,openstack/heat-dashboard,master,I4c26c64ec73e9df670d2e0b09bf9b7cc4c7cb605,Imported Translations from Zanata,MERGED,2018-03-23 06:51:04.000000000,2018-03-23 07:57:49.000000000,2018-03-23 07:57:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-03-23 06:51:04.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/ae46aec26299575bed2fe10540fc4039e5902da3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4c26c64ec73e9df670d2e0b09bf9b7cc4c7cb605\n'}]",0,555659,ae46aec26299575bed2fe10540fc4039e5902da3,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4c26c64ec73e9df670d2e0b09bf9b7cc4c7cb605
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/59/555659/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po']",2,ae46aec26299575bed2fe10540fc4039e5902da3,zanata/translations,"""POT-Creation-Date: 2018-03-22 09:38+0000\n""""PO-Revision-Date: 2018-03-22 08:15+0000\n""msgid ""1.0.2-28"" msgstr ""1.0.2-28""","""POT-Creation-Date: 2018-03-21 13:30+0000\n""""PO-Revision-Date: 2018-03-21 09:37+0000\n""msgid ""1.0.2-27"" msgstr ""1.0.2-27""",9,6
openstack%2Fpuppet-openstack-cookiecutter~master~I214bae62fd332c12f194370369e1c37ec4a252da,openstack/puppet-openstack-cookiecutter,master,I214bae62fd332c12f194370369e1c37ec4a252da,Switch puppet vertion to 4.8 for unit test,MERGED,2018-02-12 08:27:46.000000000,2018-03-23 07:48:28.000000000,2018-02-12 20:45:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-12 08:27:46.000000000', 'files': ['run_unit_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/ac54c738db2fe7efd3a53cb04d4db16c203fdfc6', 'message': 'Switch puppet vertion to 4.8 for unit test\n\nThe latest puppet version of running unit test is 5.3.4. This will be\nerror[1]. So fix the puppet version.\n\n[1]http://logs.openstack.org/51/543351/1/check/legacy-puppet-openstack-libraries-puppet-unit-centos-7/a4f185d/job-output.txt.gz#_2018-02-12_07_04_37_036841\n\nChange-Id: I214bae62fd332c12f194370369e1c37ec4a252da\n'}]",0,543378,ac54c738db2fe7efd3a53cb04d4db16c203fdfc6,8,3,1,9414,,,0,"Switch puppet vertion to 4.8 for unit test

The latest puppet version of running unit test is 5.3.4. This will be
error[1]. So fix the puppet version.

[1]http://logs.openstack.org/51/543351/1/check/legacy-puppet-openstack-libraries-puppet-unit-centos-7/a4f185d/job-output.txt.gz#_2018-02-12_07_04_37_036841

Change-Id: I214bae62fd332c12f194370369e1c37ec4a252da
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/78/543378/1 && git format-patch -1 --stdout FETCH_HEAD,['run_unit_tests.sh'],1,ac54c738db2fe7efd3a53cb04d4db16c203fdfc6,fix_unit_puppet_version,"if [ ""4.8"" != ""latest"" ]; then export PUPPET_GEM_VERSION='~> 4.8.0' fi",,3,0
openstack%2Fproject-config~master~I3421c945534dc249c42cef9977398ce6c376436e,openstack/project-config,master,I3421c945534dc249c42cef9977398ce6c376436e,Temporarily disable py35 jobs for trove-dashboard stable branches,MERGED,2018-03-22 01:21:54.000000000,2018-03-23 07:48:25.000000000,2018-03-22 11:10:45.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 13157}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2018-03-22 01:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa3aac57993f421b27360142e82e6bd1b0d719df', 'message': 'Revert ""Use -python35-jobs-horizon for trove-dashboard""\n\nWe\'re going to cherry-pick the py35 related patches to the stable\nbranches, however this cannot be achieved because py35 gate jobs are\nnow voting, so temporarily make them non-voting, we\'ll come back to it\nafter the patches are merged into the stable branches.\n\nThis reverts commit 4704f8be2e2e05a3ede29d9939af71dda907a169.\n\nChange-Id: I3421c945534dc249c42cef9977398ce6c376436e\n'}, {'number': 2, 'created': '2018-03-22 06:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f4af291f0f8af3da29f998d276f2763498b4679', 'message': ""Temporarily disable py35 jobs for trove-dashboard stable branches\n\nWe're going to cherry-pick py35 related patches to the stable branches\nfirst(with the jobs enabled, patches cannot be merged), then we'll\nreenable the jobs again.\n\nChange-Id: I3421c945534dc249c42cef9977398ce6c376436e\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n""}, {'number': 3, 'created': '2018-03-22 06:47:56.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf670081c251181edd206e1274068fdadf42c107', 'message': ""Temporarily disable py35 jobs for trove-dashboard stable branches\n\nWe're going to cherry-pick py35 related patches to the stable branches\nfirst(with the jobs enabled, patches cannot be merged), then we'll\nreenable the jobs again.\n\nChange-Id: I3421c945534dc249c42cef9977398ce6c376436e\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n""}]",2,555108,bf670081c251181edd206e1274068fdadf42c107,21,6,3,13157,,,0,"Temporarily disable py35 jobs for trove-dashboard stable branches

We're going to cherry-pick py35 related patches to the stable branches
first(with the jobs enabled, patches cannot be merged), then we'll
reenable the jobs again.

Change-Id: I3421c945534dc249c42cef9977398ce6c376436e
Signed-off-by: Zhao Chao <zhaochao1984@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/555108/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,fa3aac57993f421b27360142e82e6bd1b0d719df,temporarily-disable-py35-jobs-for-trove-dashboard-stable-branches, - openstack-python35-jobs-nonvoting check: jobs: - openstack-tox-py35: required-projects: - openstack/horizon, - openstack-python35-jobs-horizon,6,1
openstack%2Fsenlin-dashboard~master~I27501fa3ecd4c2394f044daf8f739ac5d5ddb614,openstack/senlin-dashboard,master,I27501fa3ecd4c2394f044daf8f739ac5d5ddb614,Imported Translations from Zanata,MERGED,2018-03-23 06:53:34.000000000,2018-03-23 07:47:28.000000000,2018-03-23 07:47:28.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 06:53:34.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/c6e4708714266a3e21c83cf7f1f0bf293c3d4e56', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I27501fa3ecd4c2394f044daf8f739ac5d5ddb614\n'}]",0,555660,c6e4708714266a3e21c83cf7f1f0bf293c3d4e56,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I27501fa3ecd4c2394f044daf8f739ac5d5ddb614
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/60/555660/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,c6e4708714266a3e21c83cf7f1f0bf293c3d4e56,zanata/translations,"""POT-Creation-Date: 2018-03-22 02:24+0000\n""""PO-Revision-Date: 2018-03-22 07:48+0000\n""msgid ""0.8.0-28"" msgstr ""0.8.0-28""","""POT-Creation-Date: 2018-03-20 09:34+0000\n""""PO-Revision-Date: 2018-03-20 05:23+0000\n""msgid ""0.8.0-27"" msgstr ""0.8.0-27""",4,4
openstack%2Fpuppet-openstack_spec_helper~stable%2Fpike~I3d1f5a28abffe88aa943efa1dac13d2540ad5edb,openstack/puppet-openstack_spec_helper,stable/pike,I3d1f5a28abffe88aa943efa1dac13d2540ad5edb,Switch puppet vertion to 4.8 for unit test,MERGED,2018-03-06 02:11:22.000000000,2018-03-23 07:43:55.000000000,2018-03-06 03:35:14.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 02:11:22.000000000', 'files': ['run_unit_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/234e826126b5287ba99bf0e7a742722818fb832a', 'message': 'Switch puppet vertion to 4.8 for unit test\n\nThe latest puppet version of running unit test is 5.3.4. This will be\nerror[1]. So fix the puppet version.\n\n[1]http://logs.openstack.org/51/543351/1/check/legacy-puppet-openstack-libraries-puppet-unit-centos-7/a4f185d/job-output.txt.gz#_2018-02-12_07_04_37_036841\n\nChange-Id: I3d1f5a28abffe88aa943efa1dac13d2540ad5edb\n(cherry picked from commit ace36b5ad9c94e19555acb7073c38bb332bd936f)\n'}]",0,549919,234e826126b5287ba99bf0e7a742722818fb832a,7,2,1,9414,,,0,"Switch puppet vertion to 4.8 for unit test

The latest puppet version of running unit test is 5.3.4. This will be
error[1]. So fix the puppet version.

[1]http://logs.openstack.org/51/543351/1/check/legacy-puppet-openstack-libraries-puppet-unit-centos-7/a4f185d/job-output.txt.gz#_2018-02-12_07_04_37_036841

Change-Id: I3d1f5a28abffe88aa943efa1dac13d2540ad5edb
(cherry picked from commit ace36b5ad9c94e19555acb7073c38bb332bd936f)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/19/549919/1 && git format-patch -1 --stdout FETCH_HEAD,['run_unit_tests.sh'],1,234e826126b5287ba99bf0e7a742722818fb832a,fix_unit_puppet_version-stable/pike,"if [ ""4.8"" != ""latest"" ]; then export PUPPET_GEM_VERSION='~> 4.8.0' fi",,3,0
openstack%2Fpuppet-openstack_spec_helper~master~I3d1f5a28abffe88aa943efa1dac13d2540ad5edb,openstack/puppet-openstack_spec_helper,master,I3d1f5a28abffe88aa943efa1dac13d2540ad5edb,Switch puppet vertion to 4.8 for unit test,MERGED,2018-02-12 08:27:43.000000000,2018-03-23 07:43:35.000000000,2018-02-12 20:45:52.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-12 08:27:43.000000000', 'files': ['run_unit_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/ace36b5ad9c94e19555acb7073c38bb332bd936f', 'message': 'Switch puppet vertion to 4.8 for unit test\n\nThe latest puppet version of running unit test is 5.3.4. This will be\nerror[1]. So fix the puppet version.\n\n[1]http://logs.openstack.org/51/543351/1/check/legacy-puppet-openstack-libraries-puppet-unit-centos-7/a4f185d/job-output.txt.gz#_2018-02-12_07_04_37_036841\n\nChange-Id: I3d1f5a28abffe88aa943efa1dac13d2540ad5edb\n'}]",0,543377,ace36b5ad9c94e19555acb7073c38bb332bd936f,10,4,1,9414,,,0,"Switch puppet vertion to 4.8 for unit test

The latest puppet version of running unit test is 5.3.4. This will be
error[1]. So fix the puppet version.

[1]http://logs.openstack.org/51/543351/1/check/legacy-puppet-openstack-libraries-puppet-unit-centos-7/a4f185d/job-output.txt.gz#_2018-02-12_07_04_37_036841

Change-Id: I3d1f5a28abffe88aa943efa1dac13d2540ad5edb
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/77/543377/1 && git format-patch -1 --stdout FETCH_HEAD,['run_unit_tests.sh'],1,ace36b5ad9c94e19555acb7073c38bb332bd936f,fix_unit_puppet_version,"if [ ""4.8"" != ""latest"" ]; then export PUPPET_GEM_VERSION='~> 4.8.0' fi",,3,0
openstack%2Fzun~master~Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0,openstack/zun,master,Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0,make glance driver support image:tag,MERGED,2018-03-09 08:14:18.000000000,2018-03-23 07:40:40.000000000,2018-03-22 10:34:45.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 27245}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-09 08:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c01a48a2ba0280518a4dd06646498f2502e07349', 'message': 'make glance driver support image:tag\n\nCurrently, glance does not support processing tag.\nThe purpose of the BP is to enable glance_driver to support\nthe processing of tag\n\nSupport the user to enter a glance image like: image:tag\n\nChange-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0\n'}, {'number': 2, 'created': '2018-03-09 08:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a6622a4d9d89f03dc790c31094df942c9d828c3c', 'message': 'make glance driver support image:tag\n\nCurrently, glance does not support processing tag.\nThe purpose of the BP is to enable glance_driver to support\nthe processing of tag\n\nSupport the user to enter a glance image like: image:tag\n\nChange-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0\nImplements:blueprint glance-support-tag\n'}, {'number': 3, 'created': '2018-03-12 05:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b97999a32953bdff44deb9e358c1f7b7cc117160', 'message': ""make glance driver support image:tag\n\nCurrently, glance does not support processing tag.\nThe purpose of the BP is to enable glance_driver to support\nthe processing of tag\n\nSupport the user to enter a glance image like: image:tag\n\n1/ When the user uploads a docker image to glance,\nthe image must be named in the way of 'image:tag',\nthat means, the 'image:tag' is a image name.\n\n2/ When the user uploads docker image to glance,\nthe image needs to set the tags parameter.\neg. 'glance image-create --tags tag:test --file ubuntu.tar\n--name ubuntu --disk-format qcow2 --container-format docker --progress'\n   Disadvantages: If there are two images with the same name,\n   the user cannot see the image tag information intuitively.\n   Must use the 'glance image-show' command to view the image tag\n   information.\n\nCurrently implementing the first scheme\n\nChange-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0\nImplements:blueprint glance-support-tag\n""}, {'number': 4, 'created': '2018-03-19 11:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8f5a2d9410340dfc6be3095cae62f5316d1f815f', 'message': ""make glance driver support image:tag\n\nCurrently, glance does not support processing tag.\nThe purpose of the BP is to enable glance_driver to support\nthe processing of tag\n\nSupport the user to enter a glance image like: image:tag\n\n1/ When the user uploads a docker image to glance,\nthe image must be named in the way of 'image:tag',\nthat means, the 'image:tag' is a image name.\n\n2/ When the user uploads docker image to glance,\nthe image needs to set the tags parameter.\neg. 'glance image-create --tags tag:test --file ubuntu.tar\n--name ubuntu --disk-format qcow2 --container-format docker --progress'\n\nCurrently implementing the second scheme\n\nChange-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0\nImplements:blueprint glance-support-tag\n""}, {'number': 5, 'created': '2018-03-19 11:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/35fee7201c19b285709ae0ec8f305a121eefa9fa', 'message': ""make glance driver support image:tag\n\nCurrently, glance does not support processing tag.\nThe purpose of the BP is to enable glance_driver to support\nthe processing of tag\n\nSupport the user to enter a glance image like: image:tag\n\n1/ When the user uploads a docker image to glance,\nthe image must be named in the way of 'image:tag',\nthat means, the 'image:tag' is a image name.\n\n2/ When the user uploads docker image to glance,\nthe image needs to set the tags parameter.\neg. 'glance image-create --tags tag:test --file ubuntu.tar\n--name ubuntu --disk-format qcow2 --container-format docker --progress'\n\nCurrently implementing the second scheme\n\nChange-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0\nImplements:blueprint glance-support-tag\n""}, {'number': 6, 'created': '2018-03-21 07:31:16.000000000', 'files': ['zun/image/glance/driver.py', 'zun/image/glance/utils.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/d5853dd9eefe23ff6c3ccb4b7bf46ec1c1a9a649', 'message': ""make glance driver support image:tag\n\nCurrently, glance does not support processing tag.\nThe purpose of the BP is to enable glance_driver to support\nthe processing of tag\n\nSupport the user to enter a glance image like: image:tag\n\n1/ When the user uploads a docker image to glance,\nthe image must be named in the way of 'image:tag',\nthat means, the 'image:tag' is a image name.\n\n2/ When the user uploads docker image to glance,\nthe image needs to set the tags parameter.\neg. 'glance image-create --tags tag:test --file ubuntu.tar\n--name ubuntu --disk-format qcow2 --container-format docker --progress'\n\nCurrently implementing the second scheme\n\nChange-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0\nImplements:blueprint glance-support-tag\n""}]",14,551199,d5853dd9eefe23ff6c3ccb4b7bf46ec1c1a9a649,31,6,6,21428,,,0,"make glance driver support image:tag

Currently, glance does not support processing tag.
The purpose of the BP is to enable glance_driver to support
the processing of tag

Support the user to enter a glance image like: image:tag

1/ When the user uploads a docker image to glance,
the image must be named in the way of 'image:tag',
that means, the 'image:tag' is a image name.

2/ When the user uploads docker image to glance,
the image needs to set the tags parameter.
eg. 'glance image-create --tags tag:test --file ubuntu.tar
--name ubuntu --disk-format qcow2 --container-format docker --progress'

Currently implementing the second scheme

Change-Id: Ie44f4605512552d2c204c4b410f1a3bce0f2f3c0
Implements:blueprint glance-support-tag
",git fetch https://review.opendev.org/openstack/zun refs/changes/99/551199/3 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'zun/tests/unit/compute/test_compute_manager.py', 'zun/image/glance/driver.py', 'zun/tests/unit/image/glance/test_driver.py', 'zun/compute/manager.py']",5,c01a48a2ba0280518a4dd06646498f2502e07349,bp/is," image_driver_name = container.image_driver if image['tag'] != tag: LOG.error(""The input tag is different from the tag in tar"")", image_driver_name = container.image_driver,18,10
openstack%2Ftempest~master~If2f9d79f7e26e9f9b32702ba52956b857dd9a195,openstack/tempest,master,If2f9d79f7e26e9f9b32702ba52956b857dd9a195,Add sampleconf.rst require _static directory miss tempest.conf.sample file,ABANDONED,2018-01-17 16:03:06.000000000,2018-03-23 07:39:51.000000000,,"[{'_account_id': 5196}, {'_account_id': 10385}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-17 16:03:06.000000000', 'files': ['doc/source/_static/tempest.conf.sample'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d358a73376755ef4c68ee678cc3235bd810940c', 'message': 'Add sampleconf.rst require _static directory miss\ntempest.conf.sample file\n\nChange-Id: If2f9d79f7e26e9f9b32702ba52956b857dd9a195\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",0,534821,4d358a73376755ef4c68ee678cc3235bd810940c,7,5,1,23517,,,0,"Add sampleconf.rst require _static directory miss
tempest.conf.sample file

Change-Id: If2f9d79f7e26e9f9b32702ba52956b857dd9a195
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/534821/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/tempest.conf.sample'],1,4d358a73376755ef4c68ee678cc3235bd810940c,,"[DEFAULT] # # From oslo.log # # If set to true, the logging level will be set to DEBUG instead of # the default INFO level. (boolean value) # Note: This option can be changed without restarting. #debug = false # The name of a logging configuration file. This file is appended to # any existing logging configuration files. For details about logging # configuration files, see the Python logging module documentation. # Note that when logging configuration files are used then all logging # configuration is set in the configuration file and other logging # configuration options are ignored (for example, # logging_context_format_string). (string value) # Note: This option can be changed without restarting. # Deprecated group/name - [DEFAULT]/log_config #log_config_append = <None> # Defines the format string for %%(asctime)s in log records. Default: # %(default)s . This option is ignored if log_config_append is set. # (string value) #log_date_format = %Y-%m-%d %H:%M:%S # (Optional) Name of log file to send logging output to. If no default # is set, logging will go to stderr as defined by use_stderr. This # option is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logfile #log_file = <None> # (Optional) The base directory used for relative log_file paths. # This option is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logdir #log_dir = <None> # Uses logging handler designed to watch file system. When log file is # moved or removed this handler will open a new log file with # specified path instantaneously. It makes sense only if log_file # option is specified and Linux platform is used. This option is # ignored if log_config_append is set. (boolean value) #watch_log_file = false # Use syslog for logging. Existing syslog format is DEPRECATED and # will be changed later to honor RFC5424. This option is ignored if # log_config_append is set. (boolean value) #use_syslog = false # Enable journald for logging. If running in a systemd environment you # may wish to enable journal support. Doing so will use the journal # native protocol which includes structured metadata in addition to # log messages.This option is ignored if log_config_append is set. # (boolean value) #use_journal = false # Syslog facility to receive log lines. This option is ignored if # log_config_append is set. (string value) #syslog_log_facility = LOG_USER # Use JSON formatting for logging. This option is ignored if # log_config_append is set. (boolean value) #use_json = false # Log output to standard error. This option is ignored if # log_config_append is set. (boolean value) #use_stderr = false # Format string to use for log messages with context. (string value) #logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s # Format string to use for log messages when context is undefined. # (string value) #logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s # Additional data to append to log message when logging level for the # message is DEBUG. (string value) #logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d # Prefix each line of exception output with this format. (string # value) #logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s # Defines the format string for %(user_identity)s that is used in # logging_context_format_string. (string value) #logging_user_identity_format = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s # List of package logging levels in logger=LEVEL pairs. This option is # ignored if log_config_append is set. (list value) #default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,dogpile.core.dogpile=INFO # Enables or disables publication of error events. (boolean value) #publish_errors = false # The format for an instance that is passed with the log message. # (string value) #instance_format = ""[instance: %(uuid)s] "" # The format for an instance UUID that is passed with the log message. # (string value) #instance_uuid_format = ""[instance: %(uuid)s] "" # Interval, number of seconds, of log rate limiting. (integer value) #rate_limit_interval = 0 # Maximum number of logged messages per rate_limit_interval. (integer # value) #rate_limit_burst = 0 # Log level name used by rate limiting: CRITICAL, ERROR, INFO, # WARNING, DEBUG or empty string. Logs with level greater or equal to # rate_limit_except_level are not filtered. An empty string means that # all levels are filtered. (string value) #rate_limit_except_level = CRITICAL # Enables or disables fatal status of deprecations. (boolean value) #fatal_deprecations = false # # From tempest.config # # DEPRECATED: Prefix to be added when generating the name for test # resources. It can be used to discover all resources associated with # a specific test run when running tempest on a real-life cloud # (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: It is enough to add 'tempest' as this prefix to ideintify # resources which are created by Tempest and no projects set this # option on OpenStack dev community. #resources_prefix = tempest # Whether to pause a test in global teardown. # # The best use case is investigating used resources of one test. # A test can be run as follows: # $ ostestr --pdb TEST_ID # or # $ python -m testtools.run TEST_ID (boolean value) #pause_teardown = false [auth] # # From tempest.config # # Path to the yaml file that contains the list of credentials to use # for running tests. If used when running in parallel you have to make # sure sufficient credentials are provided in the accounts file. For # example if no tests with roles are being run it requires at least `2 # * CONC` distinct accounts configured in the `test_accounts_file`, # with CONC == the number of concurrent test processes. (string value) #test_accounts_file = <None> # Allows test cases to create/destroy projects and users. This option # requires that OpenStack Identity API admin credentials are known. If # false, isolated test cases and parallel execution, can still be # achieved configuring a list of test accounts (boolean value) # Deprecated group/name - [auth]/allow_tenant_isolation # Deprecated group/name - [compute]/allow_tenant_isolation # Deprecated group/name - [orchestration]/allow_tenant_isolation #use_dynamic_credentials = true # Roles to assign to all users created by tempest (list value) #tempest_roles = # Default domain used when getting v3 credentials. This is the name # keystone uses for v2 compatibility. (string value) # Deprecated group/name - [auth]/tenant_isolation_domain_name #default_credentials_domain_name = Default # If use_dynamic_credentials is set to True and Neutron is enabled # Tempest will try to create a usable network, subnet, and router when # needed for each project it creates. However in some neutron # configurations, like with VLAN provider networks, this doesn't work. # So if set to False the isolated networks will not be created # (boolean value) #create_isolated_networks = true # Username for an administrative user. This is needed for # authenticating requests made by project isolation to create users # and projects (string value) #admin_username = <None> # Project name to use for an administrative user. This is needed for # authenticating requests made by project isolation to create users # and projects (string value) # Deprecated group/name - [auth]/admin_tenant_name # Deprecated group/name - [identity]/admin_tenant_name #admin_project_name = <None> # Password to use for an administrative user. This is needed for # authenticating requests made by project isolation to create users # and projects (string value) #admin_password = <None> # Admin domain name for authentication (Keystone V3).The same domain # applies to user and project (string value) #admin_domain_name = <None> [compute] # # From tempest.config # # Valid primary image reference to be used in tests. This is a # required option (string value) #image_ref = <None> # Valid secondary image reference to be used in tests. This is a # required option, but if only one image is available duplicate the # value of image_ref above (string value) #image_ref_alt = <None> # Valid primary flavor to use in tests. (string value) #flavor_ref = 1 # Valid secondary flavor to be used in tests. (string value) #flavor_ref_alt = 2 # Time in seconds between build status checks. (integer value) #build_interval = 1 # Timeout in seconds to wait for an instance to build. Other services # that do not define build_timeout will inherit this value. (integer # value) #build_timeout = 300 # Additional wait time for clean state, when there is no OS-EXT-STS # extension available (integer value) #ready_wait = 0 # Name of the fixed network that is visible to all test projects. If # multiple networks are available for a project, this is the network # which will be used for creating servers if tempest does not create a # network or a network is not specified elsewhere. It may be used for # ssh validation only if floating IPs are disabled. (string value) #fixed_network_name = <None> # Catalog type of the Compute service. (string value) #catalog_type = compute # The compute region name to use. If empty, the value of # identity.region is used instead. If no such region is found in the # service catalog, the first found one is used. (string value) #region = # The endpoint type to use for the compute service. (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #endpoint_type = publicURL # Expected device name when a volume is attached to an instance. Not # all hypervisors guarantee that they will respect the user defined # device name, tests may fail if inappropriate device name is set. # (string value) #volume_device_name = vdb # Time in seconds before a shelved instance is eligible for removing # from a host. -1 never offload, 0 offload when shelved. This # configuration value should be same as # [nova.DEFAULT]->shelved_offload_time in nova.conf, and some tests # will run for as long as the time. (integer value) #shelved_offload_time = 0 # The minimum number of compute nodes expected. This will be utilized # by some multinode specific tests to ensure that requests match the # expected size of the cluster you are testing with. (integer value) #min_compute_nodes = 1 # Hypervisor type of the test target on heterogeneous compute # environment. The value can be 'QEMU', 'xen' or something. (string # value) #hypervisor_type = <None> # Lower version of the test target microversion range. The format is # 'X.Y', where 'X' and 'Y' are int values. Tempest selects tests based # on the range between min_microversion and max_microversion. If both # values are not specified, Tempest avoids tests which require a # microversion. Valid values are string with format 'X.Y' or string # 'latest' (string value) #min_microversion = <None> # Upper version of the test target microversion range. The format is # 'X.Y', where 'X' and 'Y' are int values. Tempest selects tests based # on the range between min_microversion and max_microversion. If both # values are not specified, Tempest avoids tests which require a # microversion. Valid values are string with format 'X.Y' or string # 'latest' (string value) #max_microversion = <None> [compute-feature-enabled] # # From tempest.config # # If false, skip disk config tests (boolean value) #disk_config = true # DEPRECATED: A list of enabled compute extensions with a special # entry all which indicates every extension is enabled. Each extension # should be specified with alias name. Empty list indicates all # extensions are disabled (list value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: The Nova extensions API and mechanism is deprecated. This # option will be removed when all releases supported by tempest no # longer contain the Nova extensions API and mechanism. #api_extensions = all # Does the test environment support changing the admin password? # (boolean value) #change_password = false # Does the test environment support obtaining instance serial console # output? (boolean value) #console_output = true # Does the test environment support resizing? When you enable this # feature, 'flavor_ref_alt' should be set and it should refer to a # larger flavor than 'flavor_ref' one. (boolean value) #resize = false # Does the test environment support pausing? (boolean value) #pause = true # Does the test environment support shelving/unshelving? (boolean # value) #shelve = true # Does the test environment support suspend/resume? (boolean value) #suspend = true # Does the test environment support cold migration? (boolean value) #cold_migration = true # Does the test environment support live migration? (boolean value) #live_migration = true # Does the test environment support live migrating VM back and forth # between different versions of nova-compute? (boolean value) #live_migrate_back_and_forth = false # Does the test environment support metadata service? Ignored unless # validation.run_validation=true. (boolean value) #metadata_service = true # Does the test environment use block devices for live migration # (boolean value) #block_migration_for_live_migration = false # Does the test environment support block migration with Cinder iSCSI # volumes. Note: libvirt >= 1.2.17 is required to support this if # using the libvirt compute driver. (boolean value) #block_migrate_cinder_iscsi = false # Enable VNC console. This configuration value should be same as # [nova.vnc]->vnc_enabled in nova.conf (boolean value) #vnc_console = false # Enable Spice console. This configuration value should be same as # [nova.spice]->enabled in nova.conf (boolean value) #spice_console = false # Enable RDP console. This configuration value should be same as # [nova.rdp]->enabled in nova.conf (boolean value) #rdp_console = false # Enable serial console. This configuration value should be the same # as [nova.serial_console]->enabled in nova.conf (boolean value) #serial_console = false # Does the test environment support instance rescue mode? (boolean # value) #rescue = true # Enables returning of the instance password by the relevant server # API calls such as create, rebuild or rescue. This configuration # value should be same as nova.conf: DEFAULT.enable_instance_password # (boolean value) #enable_instance_password = true # Does the test environment support dynamic network interface # attachment? (boolean value) #interface_attach = true # Does the test environment support creating snapshot images of # running instances? (boolean value) #snapshot = true # DEPRECATED: Does the test environment have the nova cert running? # (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: On Nova side, the nova-cert service is deprecated and the # service will be removed as early as Ocata. #nova_cert = false # Does the test environment support server personality (boolean value) #personality = false # Does the test environment support attaching an encrypted volume to a # running server instance? This may depend on the combination of # compute_driver in nova and the volume_driver(s) in cinder. (boolean # value) #attach_encrypted_volume = true # Enable special configuration drive with metadata. (boolean value) #config_drive = true # A list of enabled filters that nova will accept as hints to the # scheduler when creating a server. A special entry 'all' indicates # all filters that are included with nova are enabled. Empty list # indicates all filters are disabled. The full list of available # filters is in nova.conf: DEFAULT.scheduler_available_filters. If the # default value is overridden in nova.conf by the test environment # (which means that a different set of filters is enabled than what is # included in Nova by default) then, this option must be configured to # contain the same filters that Nova uses in the test environment. # (list value) #scheduler_available_filters = all # Does the test environment support in-place swapping of volumes # attached to a server instance? (boolean value) #swap_volume = false # Does the test environment support volume-backed live migration? # (boolean value) #volume_backed_live_migration = false [debug] # # From tempest.config # # A regex to determine which requests should be traced. # # This is a regex to match the caller for rest client requests to be # able to # selectively trace calls out of specific classes and methods. It # largely # exists for test development, and is not expected to be used in a # real deploy # of tempest. This will be matched against the discovered # ClassName:method # in the test environment. # # Expected values for this field are: # # * ClassName:test_method_name - traces one test_method # * ClassName:setUp(Class) - traces specific setup functions # * ClassName:tearDown(Class) - traces specific teardown functions # * ClassName:_run_cleanups - traces the cleanup functions # # If nothing is specified, this feature is not enabled. To trace # everything # specify .* as the regex. # (string value) #trace_requests = [identity] # # From tempest.config # # Catalog type of the Identity service. (string value) #catalog_type = identity # Set to True if using self-signed SSL certificates. (boolean value) #disable_ssl_certificate_validation = false # Specify a CA bundle file to use in verifying a TLS (https) server # certificate. (string value) #ca_certificates_file = <None> # Full URI of the OpenStack Identity API (Keystone), v2 (string value) #uri = <None> # Full URI of the OpenStack Identity API (Keystone), v3 (string value) #uri_v3 = <None> # Identity API version to be used for authentication for API tests. # (string value) #auth_version = v3 # The identity region name to use. Also used as the other services' # region name unless they are set explicitly. If no such region is # found in the service catalog, the first found one is used. (string # value) #region = RegionOne # The admin endpoint type to use for OpenStack Identity (Keystone) API # v2 (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #v2_admin_endpoint_type = adminURL # The public endpoint type to use for OpenStack Identity (Keystone) # API v2 (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> # Deprecated group/name - [identity]/endpoint_type #v2_public_endpoint_type = publicURL # The endpoint type to use for OpenStack Identity (Keystone) API v3. # The default value adminURL is deprecated and will be modified to # publicURL in the next release. (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #v3_endpoint_type = adminURL # Role required to administrate keystone. (string value) #admin_role = admin # ID of the default domain (string value) #default_domain_id = default # Whether keystone identity v3 policy required a domain scoped token # to use admin APIs (boolean value) #admin_domain_scope = false # The number of unsuccessful login attempts the user is allowed before # having the account locked. (integer value) #user_lockout_failure_attempts = 2 # The number of seconds a user account will remain locked. (integer # value) #user_lockout_duration = 5 # The number of passwords for a user that must be unique before an old # password can be reused. (integer value) #user_unique_last_password_count = 2 [identity-feature-enabled] # # From tempest.config # # Does the identity service have delegation and impersonation enabled # (boolean value) #trust = true # DEPRECATED: Is the v2 identity API enabled (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: The identity v2.0 API was removed in the Queens release. # Tests that exercise the v2.0 API will be removed from tempest in the # v22.0.0 release. They are kept only to test stable branches. #api_v2 = false # Is the v2 identity admin API available? This setting only applies if # api_v2 is set to True. (boolean value) #api_v2_admin = true # Is the v3 identity API enabled (boolean value) #api_v3 = true # A list of enabled identity extensions with a special entry all which # indicates every extension is enabled. Empty list indicates all # extensions are disabled. To get the list of extensions run: # 'openstack extension list --identity' (list value) #api_extensions = all # Are domain specific drivers enabled? This configuration value should # be same as [identity]->domain_specific_drivers_enabled in # keystone.conf. (boolean value) #domain_specific_drivers = false # Does the environment have the security compliance settings enabled? # (boolean value) #security_compliance = false [image] # # From tempest.config # # Catalog type of the Image service. (string value) #catalog_type = image # The image region name to use. If empty, the value of identity.region # is used instead. If no such region is found in the service catalog, # the first found one is used. (string value) #region = # The endpoint type to use for the image service. (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #endpoint_type = publicURL # http accessible image (string value) #http_image = http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz # Timeout in seconds to wait for an image to become available. # (integer value) #build_timeout = 300 # Time in seconds between image operation status checks. (integer # value) #build_interval = 1 # A list of image's container formats users can specify. (list value) #container_formats = ami,ari,aki,bare,ovf,ova # A list of image's disk formats users can specify. (list value) #disk_formats = ami,ari,aki,vhd,vmdk,raw,qcow2,vdi,iso,vhdx [image-feature-enabled] # # From tempest.config # # DEPRECATED: Is the v2 image API enabled (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Glance v1 APIs are deprecated and v2 APIs are current one. # In future, Tempest will test v2 APIs only so this config option will # be removed. #api_v2 = true # DEPRECATED: Is the v1 image API enabled (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Glance v1 APIs are deprecated and v2 APIs are current one. # In future, Tempest will test v2 APIs only so this config option will # be removed. #api_v1 = true # DEPRECATED: Is the deactivate-image feature enabled. The feature has # been integrated since Kilo. (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: All supported versions of OpenStack now support the # 'deactivate_image' feature #deactivate_image = false [network] # # From tempest.config # # Catalog type of the Neutron service. (string value) #catalog_type = network # The network region name to use. If empty, the value of # identity.region is used instead. If no such region is found in the # service catalog, the first found one is used. (string value) #region = # The endpoint type to use for the network service. (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #endpoint_type = publicURL # The cidr block to allocate project ipv4 subnets from (string value) #project_network_cidr = 10.100.0.0/16 # The mask bits for project ipv4 subnets (integer value) #project_network_mask_bits = 28 # The cidr block to allocate project ipv6 subnets from (string value) #project_network_v6_cidr = 2003::/48 # The mask bits for project ipv6 subnets (integer value) #project_network_v6_mask_bits = 64 # Whether project networks can be reached directly from the test # client. This must be set to True when the 'fixed' connect_method is # selected. (boolean value) #project_networks_reachable = false # Id of the public network that provides external connectivity (string # value) #public_network_id = # Default floating network name. Used to allocate floating IPs when # neutron is enabled. (string value) #floating_network_name = <None> # Id of the public router that provides external connectivity. This # should only be used when Neutron's 'allow_overlapping_ips' is set to # 'False' in neutron.conf. usually not needed past 'Grizzly' release # (string value) #public_router_id = # Timeout in seconds to wait for network operation to complete. # (integer value) #build_timeout = 300 # Time in seconds between network operation status checks. (integer # value) #build_interval = 1 # List of dns servers which should be used for subnet creation (list # value) #dns_servers = 8.8.8.8,8.8.4.4 # vnic_type to use when Launching instances with pre-configured ports. # Supported ports are: ['normal','direct','macvtap'] (string value) # Possible values: # <None> - <No description provided> # normal - <No description provided> # direct - <No description provided> # macvtap - <No description provided> #port_vnic_type = <None> # List of ip pools for subnetpools creation (list value) #default_network = 1.0.0.0/16,2.0.0.0/16 # The environment does not support network separation between tenants. # (boolean value) #shared_physical_network = false [network-feature-enabled] # # From tempest.config # # Allow the execution of IPv6 tests (boolean value) #ipv6 = true # A list of enabled network extensions with a special entry all which # indicates every extension is enabled. Empty list indicates all # extensions are disabled. To get the list of extensions run: 'neutron # ext-list' (list value) #api_extensions = all # Allow the execution of IPv6 subnet tests that use the extended IPv6 # attributes ipv6_ra_mode and ipv6_address_mode (boolean value) #ipv6_subnet_attributes = false # Does the test environment support changing port admin state (boolean # value) #port_admin_state_change = true # Does the test environment support port security? (boolean value) #port_security = false # Does the test environment support floating_ips (boolean value) #floating_ips = true [object-storage] # # From tempest.config # # Catalog type of the Object-Storage service. (string value) #catalog_type = object-store # The object-storage region name to use. If empty, the value of # identity.region is used instead. If no such region is found in the # service catalog, the first found one is used. (string value) #region = # The endpoint type to use for the object-store service. (string # value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #endpoint_type = publicURL # Number of seconds to time on waiting for a container to container # synchronization complete. (integer value) #container_sync_timeout = 600 # Number of seconds to wait while looping to check the status of a # container to container synchronization (integer value) #container_sync_interval = 5 # Role to add to users created for swift tests to enable creating # containers (string value) #operator_role = Member # User role that has reseller admin (string value) #reseller_admin_role = ResellerAdmin # Name of sync realm. A sync realm is a set of clusters that have # agreed to allow container syncing with each other. Set the same # realm name as Swift's container-sync-realms.conf (string value) #realm_name = realm1 # One name of cluster which is set in the realm whose name is set in # 'realm_name' item in this file. Set the same cluster name as Swift's # container-sync-realms.conf (string value) #cluster_name = name1 [object-storage-feature-enabled] # # From tempest.config # # A list of the enabled optional discoverable apis. A single entry, # all, indicates that all of these features are expected to be enabled # (list value) #discoverable_apis = all # Execute (old style) container-sync tests (boolean value) #container_sync = true # Execute object-versioning tests (boolean value) #object_versioning = true # Execute discoverability tests (boolean value) #discoverability = true [orchestration] # # From tempest.config # # DEPRECATED: Catalog type of the Orchestration service. (string # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #catalog_type = orchestration # DEPRECATED: The orchestration region name to use. If empty, the # value of identity.region is used instead. If no such region is found # in the service catalog, the first found one is used. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #region = # DEPRECATED: The endpoint type to use for the orchestration service. # (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #endpoint_type = publicURL # DEPRECATED: Role required for users to be able to manage stacks # (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #stack_owner_role = heat_stack_owner # DEPRECATED: Time in seconds between build status checks. (integer # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #build_interval = 1 # DEPRECATED: Timeout in seconds to wait for a stack to build. # (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #build_timeout = 1200 # DEPRECATED: Instance type for tests. Needs to be big enough for a # full OS plus the test workload (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #instance_type = m1.micro # DEPRECATED: Name of existing keypair to launch servers with. (string # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #keypair_name = <None> # DEPRECATED: Value must match heat configuration of the same name. # (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #max_template_size = 524288 # DEPRECATED: Value must match heat configuration of the same name. # (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #max_resources_per_stack = 1000 [oslo_concurrency] # # From oslo.concurrency # # Enables or disables inter-process locks. (boolean value) #disable_process_locking = false # Directory to use for lock files. For security, the specified # directory should only be writable by the user running the processes # that need locking. Defaults to environment variable OSLO_LOCK_PATH. # If external locks are used, a lock path must be set. (string value) #lock_path = <None> [scenario] # # From tempest.config # # DEPRECATED: Directory containing image files (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #img_dir = /opt/stack/new/devstack/files/images/cirros-0.3.1-x86_64-uec # Image file name (string value) # Deprecated group/name - [scenario]/qcow2_img_file #img_file = cirros-0.3.1-x86_64-disk.img # Image disk format (string value) #img_disk_format = qcow2 # Image container format (string value) #img_container_format = bare # Glance image properties. Use for custom images which require them # (dict value) #img_properties = <None> # DEPRECATED: AMI image file name (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #ami_img_file = cirros-0.3.1-x86_64-blank.img # DEPRECATED: ARI image file name (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #ari_img_file = cirros-0.3.1-x86_64-initrd # DEPRECATED: AKI image file name (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #aki_img_file = cirros-0.3.1-x86_64-vmlinuz # DHCP client used by images to renew DCHP lease. If left empty, # update operation will be skipped. Supported clients: ""udhcpc"", # ""dhclient"" (string value) # Possible values: # udhcpc - <No description provided> # dhclient - <No description provided> # '' - <No description provided> #dhcp_client = udhcpc [service-clients] # # From tempest.config # # Timeout in seconds to wait for the http request to return (integer # value) #http_timeout = 60 # Specify an http proxy to use. (string value) #proxy_url = <None> [service_available] # # From tempest.config # # Whether or not cinder is expected to be available (boolean value) #cinder = true # Whether or not neutron is expected to be available (boolean value) #neutron = false # Whether or not glance is expected to be available (boolean value) #glance = true # Whether or not swift is expected to be available (boolean value) #swift = true # Whether or not nova is expected to be available (boolean value) #nova = true # DEPRECATED: Whether or not Heat is expected to be available (boolean # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Heat support will be removed from Tempest #heat = false [validation] # # From tempest.config # # Enable ssh on created servers and creation of additional validation # resources to enable remote access (boolean value) #run_validation = false # Enable/disable security groups. (boolean value) #security_group = true # Enable/disable security group rules. (boolean value) #security_group_rules = true # Default IP type used for validation: -fixed: uses the first IP # belonging to the fixed network -floating: creates and uses a # floating IP (string value) # Possible values: # fixed - <No description provided> # floating - <No description provided> #connect_method = floating # Default authentication method to the instance. Only ssh via keypair # is supported for now. Additional methods will be handled in a # separate spec. (string value) # Possible values: # keypair - <No description provided> #auth_method = keypair # Default IP version for ssh connections. (integer value) #ip_version_for_ssh = 4 # Timeout in seconds to wait for ping to succeed. (integer value) #ping_timeout = 120 # Timeout in seconds to wait for the TCP connection to be successful. # (integer value) #connect_timeout = 60 # Timeout in seconds to wait for the ssh banner. (integer value) #ssh_timeout = 300 # User name used to authenticate to an instance. (string value) #image_ssh_user = root # Password used to authenticate to an instance. (string value) #image_ssh_password = password # Shell fragments to use before executing a command when sshing to a # guest. (string value) #ssh_shell_prologue = set -eu -o pipefail; PATH=$$PATH:/sbin; # The packet size for ping packets originating from remote linux hosts # (integer value) #ping_size = 56 # The number of ping packets originating from remote linux hosts # (integer value) #ping_count = 1 # Unallocated floating IP range, which will be used to test the # floating IP bulk feature for CRUD operation. This block must not # overlap an existing floating IP pool. (string value) #floating_ip_range = 10.0.0.0/29 # Network used for SSH connections. Ignored if # connect_method=floating. (string value) #network_for_ssh = public [volume] # # From tempest.config # # Time in seconds between volume availability checks. (integer value) #build_interval = 1 # Timeout in seconds to wait for a volume to become available. # (integer value) #build_timeout = 300 # Catalog type of the Volume Service (string value) #catalog_type = volume # The volume region name to use. If empty, the value of # identity.region is used instead. If no such region is found in the # service catalog, the first found one is used. (string value) #region = # The endpoint type to use for the volume service. (string value) # Possible values: # public - <No description provided> # admin - <No description provided> # internal - <No description provided> # publicURL - <No description provided> # adminURL - <No description provided> # internalURL - <No description provided> #endpoint_type = publicURL # A list of backend names separated by comma. The backend name must be # declared in cinder.conf (list value) #backend_names = BACKEND_1,BACKEND_2 # Backend protocol to target when creating volume types (string value) #storage_protocol = iSCSI # Backend vendor to target when creating volume types (string value) #vendor_name = Open Source # Disk format to use when copying a volume to image (string value) #disk_format = raw # Default size in GB for volumes created by volumes tests (integer # value) #volume_size = 1 # A reference to existing volume for volume manage. It contains two # elements, the first is ref type (like 'source-name', 'source-id', # etc), the second is volume name template used in storage backend # (list value) #manage_volume_ref = source-name,volume-%s # A reference to existing snapshot for snapshot manage. It contains # two elements, the first is ref type (like 'source-name', 'source- # id', etc), the second is snapshot name template used in storage # backend (list value) #manage_snapshot_ref = source-name,_snapshot-%s # Lower version of the test target microversion range. The format is # 'X.Y', where 'X' and 'Y' are int values. Tempest selects tests based # on the range between min_microversion and max_microversion. If both # values are not specified, Tempest avoids tests which require a # microversion. Valid values are string with format 'X.Y' or string # 'latest' (string value) #min_microversion = <None> # Upper version of the test target microversion range. The format is # 'X.Y', where 'X' and 'Y' are int values. Tempest selects tests based # on the range between min_microversion and max_microversion. If both # values are not specified, Tempest avoids tests which require a # microversion. Valid values are string with format 'X.Y' or string # 'latest' (string value) #max_microversion = <None> [volume-feature-enabled] # # From tempest.config # # Runs Cinder multi-backend test (requires 2 backends) (boolean value) #multi_backend = false # Runs Cinder volumes backup test (boolean value) #backup = true # Runs Cinder volume snapshot test (boolean value) #snapshot = true # Runs Cinder volume clone test (boolean value) #clone = true # Runs Cinder manage snapshot tests (boolean value) #manage_snapshot = false # Runs Cinder manage volume tests (boolean value) #manage_volume = false # A list of enabled volume extensions with a special entry all which # indicates every extension is enabled. Empty list indicates all # extensions are disabled (list value) #api_extensions = all # DEPRECATED: Is the v1 volume API enabled (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: The v1 volume API has been deprecated since Juno release, # and the API will be removed. #api_v1 = false # Is the v2 volume API enabled (boolean value) #api_v2 = true # Is the v3 volume API enabled (boolean value) #api_v3 = true # Does the cloud support extending the size of a volume which is # currently attached to a server instance? This depends on the 3.42 # volume API microversion and the 2.51 compute API microversion. Also, # not all volume or compute backends support this operation. (boolean # value) #extend_attached_volume = false ",,1257,0
openstack%2Fwatcher~master~Ibeaf5454c3a8f10f338022fd24d98ef484efd370,openstack/watcher,master,Ibeaf5454c3a8f10f338022fd24d98ef484efd370,Delete the unnecessary '-',MERGED,2018-03-21 16:05:43.000000000,2018-03-23 07:31:27.000000000,2018-03-23 07:31:27.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:05:43.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/99837d6339a9dcdce3dfc0a432b2f6851c466cf8', 'message': ""Delete the unnecessary '-'\n\nFix a typo\n\nChange-Id: Ibeaf5454c3a8f10f338022fd24d98ef484efd370\n""}]",0,554972,99837d6339a9dcdce3dfc0a432b2f6851c466cf8,7,3,1,17130,,,0,"Delete the unnecessary '-'

Fix a typo

Change-Id: Ibeaf5454c3a8f10f338022fd24d98ef484efd370
",git fetch https://review.opendev.org/openstack/watcher refs/changes/72/554972/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst']",2,99837d6339a9dcdce3dfc0a432b2f6851c466cf8,,"migration, increased energy efficiency and more!","migration, increased energy efficiency-and more!",2,2
openstack%2Frequirements~master~Ice6bb1d7669d055cc11aa2e6bb041c0a5164770c,openstack/requirements,master,Ice6bb1d7669d055cc11aa2e6bb041c0a5164770c,Update python-ironicclient G-R for rocky cycle,MERGED,2018-03-20 19:43:30.000000000,2018-03-23 07:17:24.000000000,2018-03-23 07:17:24.000000000,"[{'_account_id': 7102}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-20 19:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b0b93bfcd11236ba4379e9a4cc32bc29e77b5c76', 'message': 'Update python-ironicclient G-R for rocky cycle\n\nThe python-ironicclient library has been updated to 2.3.0\nfor the rocky release which includes support for the RESCUE\nfeature. This is required for integration of that feature\nvia the client library.\n\nChange-Id: Ice6bb1d7669d055cc11aa2e6bb041c0a5164770c\n'}, {'number': 2, 'created': '2018-03-22 21:57:11.000000000', 'files': ['global-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/76d7a9eabd12400ae13337a97e91911cdf75f02e', 'message': 'Update python-ironicclient G-R for rocky cycle\n\nThe python-ironicclient library has been updated to 2.3.0\nfor the rocky release which includes support for the RESCUE\nfeature. This is required for integration of that feature\nvia the client library.\n\nChange-Id: Ice6bb1d7669d055cc11aa2e6bb041c0a5164770c\n'}]",1,554673,76d7a9eabd12400ae13337a97e91911cdf75f02e,13,5,2,11655,,,0,"Update python-ironicclient G-R for rocky cycle

The python-ironicclient library has been updated to 2.3.0
for the rocky release which includes support for the RESCUE
feature. This is required for integration of that feature
via the client library.

Change-Id: Ice6bb1d7669d055cc11aa2e6bb041c0a5164770c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/554673/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,b0b93bfcd11236ba4379e9a4cc32bc29e77b5c76,,python-ironicclient>=2.3.0 # Apache-2.0,python-ironicclient>=2.2.0 # Apache-2.0,1,1
openstack%2Fcinder~stable%2Fpike~I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,openstack/cinder,stable/pike,I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,Dell EMC SC: API 4.0 incompatibilities,MERGED,2018-03-20 21:19:30.000000000,2018-03-23 07:14:10.000000000,2018-03-21 20:34:20.000000000,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-20 21:19:30.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfc740588fada01a28add541239d224efc7e2bb3', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)\n'}]",0,554701,bfc740588fada01a28add541239d224efc7e2bb3,34,24,1,12112,,,0,"Dell EMC SC: API 4.0 incompatibilities

4.0 folder paths begin with a /. Also add a check that the user formatted
the folder path correctly.

Change-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2
Closes-Bug: #1719428
(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/554701/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py']",2,bfc740588fada01a28add541239d224efc7e2bb3,bug/1719428-stable/pike, self.legacyfoldernames = True self.legacyfoldernames = (splitver[0] < '4') # save the user from themselves. folderpath = foldername.strip('/') folderpath = os.path.dirname(folderpath) if folderpath != '': # Legacy didn't begin with a slash. if not self.legacyfoldernames: folderpath = '/' + folderpath, return folderpath = os.path.dirname(foldername) if folderpath != '':,50,9
openstack%2Fcinder~stable%2Fpike~If65780000fa8f59f663b00b88584cf289effa590,openstack/cinder,stable/pike,If65780000fa8f59f663b00b88584cf289effa590,Dell EMC SC: ISCSI initialize_connection fixes.,MERGED,2018-03-20 18:17:35.000000000,2018-03-23 07:13:43.000000000,2018-03-22 07:43:09.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-20 18:17:35.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/adf7d84b66fdbbfba03721cc5f3f1f392a702eb4', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n(cherry picked from commit 96b77e0aa62790320d16f7229aaeeb650fa875b6)\n'}]",1,554656,adf7d84b66fdbbfba03721cc5f3f1f392a702eb4,70,24,1,12112,,,0,"Dell EMC SC: ISCSI initialize_connection fixes.

Driver was not honoring the server in ISCSI and returning connection
information for all servers (IQNs) connected to a volume.

If multiple servers are mapped to a volume the driver was only returning
the first server for a given portal.

Closes-Bug: #1756914
Change-Id: If65780000fa8f59f663b00b88584cf289effa590
(cherry picked from commit 96b77e0aa62790320d16f7229aaeeb650fa875b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/554656/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml']",4,adf7d84b66fdbbfba03721cc5f3f1f392a702eb4,bug/1756914,--- fixes: - Dell EMC SC driver correctly returns initialize_connection data when more than one IQN is attached to a volume. This fixes some random Nova Live Migration failures where the connection information being returned was for an IQN other than the one for which it was being requested. ,,93,19
openstack%2Fbarbican~master~Id6e8582441d3c36b5f5b6811a58d338e475371dc,openstack/barbican,master,Id6e8582441d3c36b5f5b6811a58d338e475371dc,Imported Translations from Zanata,MERGED,2018-03-01 06:59:33.000000000,2018-03-23 07:02:52.000000000,2018-03-23 07:02:52.000000000,"[{'_account_id': 10873}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 06:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1c7191de8e012cb01763293fa47cefb61ba8f086', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 2, 'created': '2018-03-08 01:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ad4cab5d2eba5d3d2c220163de33b9669db3fb38', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 3, 'created': '2018-03-08 06:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ca4aa34ff5fad82b2e6f0239dc55037f77ed8160', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 4, 'created': '2018-03-09 06:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c7cb518773fdfdc3f4d6ab50fa40a97de98fddd1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 5, 'created': '2018-03-11 06:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e7dbab395f1f4ba037e6d62a258c9ea363135e83', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 6, 'created': '2018-03-14 07:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/739d073a4cef3cbce746fb0933a0845fbd1cdc0c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 7, 'created': '2018-03-20 06:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3fe450e6290070827b8bc8dddb43bd1eaf3997a3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}, {'number': 8, 'created': '2018-03-23 04:35:12.000000000', 'files': ['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f9b9d7b54f038c464d02a96d621a53fb78f1a329', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc\n'}]",0,548819,f9b9d7b54f038c464d02a96d621a53fb78f1a329,32,3,8,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id6e8582441d3c36b5f5b6811a58d338e475371dc
",git fetch https://review.opendev.org/openstack/barbican refs/changes/19/548819/8 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",4,1c7191de8e012cb01763293fa47cefb61ba8f086,zanata/translations,"""Project-Id-Version: Barbican Release Notes\n""""POT-Creation-Date: 2018-02-27 07:53+0000\n""""Language: zh_CN\n"" ""X-Generator: Zanata 4.3.3\n""","""Project-Id-Version: Barbican Release Notes 5.0.0\n""""POT-Creation-Date: 2017-08-11 03:08+0000\n""""Language: zh-CN\n"" ""X-Generator: Zanata 3.9.6\n""",14,84
openstack%2Ffreezer~master~Ic4dd5709b80d75fbe59875d79cd8a723154e7abd,openstack/freezer,master,Ic4dd5709b80d75fbe59875d79cd8a723154e7abd,fix mount error in lvm snapshot when filesystem type is XFS,ABANDONED,2018-03-23 06:42:57.000000000,2018-03-23 07:01:59.000000000,,[],"[{'number': 1, 'created': '2018-03-23 06:42:57.000000000', 'files': ['freezer/snapshot/lvm.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c813fb7934e074812715be21194fd497ab815bd1', 'message': ""fix mount error in lvm snapshot when filesystem type is XFS\n\nwhen lvm filesystem type is XFS,I get the mount error:\nFilesystem has duplicate UUID {UUID} - can't mount\nI checked the code and find a mistake，fix it.\n\nChange-Id: Ic4dd5709b80d75fbe59875d79cd8a723154e7abd\nCloses-Bug:1758252\n""}]",0,555656,c813fb7934e074812715be21194fd497ab815bd1,2,0,1,24442,,,0,"fix mount error in lvm snapshot when filesystem type is XFS

when lvm filesystem type is XFS,I get the mount error:
Filesystem has duplicate UUID {UUID} - can't mount
I checked the code and find a mistake，fix it.

Change-Id: Ic4dd5709b80d75fbe59875d79cd8a723154e7abd
Closes-Bug:1758252
",git fetch https://review.opendev.org/openstack/freezer refs/changes/56/555656/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/snapshot/lvm.py'],1,c813fb7934e074812715be21194fd497ab815bd1,bug/1758252, mount_options = ' -o nouuid ', mount_options = ' -onouuid ',1,1
openstack%2Frpm-packaging~master~Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0,openstack/rpm-packaging,master,Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0,Update oslo.db to 4.35.0,MERGED,2018-03-19 01:59:15.000000000,2018-03-23 06:56:57.000000000,2018-03-23 06:56:57.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-19 01:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3523d480c0c4b935a8ef4b105c1c333b67c7e25e', 'message': 'Update oslo.db to 4.35.0\n\nChange-Id: Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0\n'}, {'number': 2, 'created': '2018-03-20 09:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/07ce947c50f7efa60253505882daa0075a2523dd', 'message': 'Update oslo.db to 4.35.0\n\nDepends-on: Iab62a70825c0fce15b253d88aafb8af66b3f4e3c\nChange-Id: Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0\n'}, {'number': 3, 'created': '2018-03-23 05:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fc07f39a7651f94982233c418d40e18f7d47018b', 'message': 'Update oslo.db to 4.35.0\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nDepends-on: Iab62a70825c0fce15b253d88aafb8af66b3f4e3c\nChange-Id: Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0\n'}, {'number': 4, 'created': '2018-03-23 05:48:26.000000000', 'files': ['openstack/oslo.db/oslo.db.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3048f294f3627c3b4d42cf0883290e0bf6a9108c', 'message': 'Update oslo.db to 4.35.0\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nDepends-on: Iab62a70825c0fce15b253d88aafb8af66b3f4e3c\nChange-Id: Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0\n'}]",1,554084,3048f294f3627c3b4d42cf0883290e0bf6a9108c,24,9,4,17130,,,0,"Update oslo.db to 4.35.0

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Depends-on: Iab62a70825c0fce15b253d88aafb8af66b3f4e3c
Change-Id: Ia53f40a2b6d4044e6a20b5665c999f82bb9465d0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/84/554084/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.db/oslo.db.spec.j2'],1,3523d480c0c4b935a8ef4b105c1c333b67c7e25e,oslo-db,{% set upstream_version = upstream_version('4.35.0') %},{% set upstream_version = upstream_version('4.33.0') %},1,1
openstack%2Fzaqar-tempest-plugin~master~I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3,openstack/zaqar-tempest-plugin,master,I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3,Add test for claim for non existing queue,MERGED,2018-03-12 09:23:48.000000000,2018-03-23 06:25:45.000000000,2018-03-23 06:25:45.000000000,"[{'_account_id': 15054}, {'_account_id': 20970}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 09:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/89968d047789c8e5e82660216ba0f49145a51a30', 'message': 'Add test for claim for non existing queue\n\nChange-Id: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3\nRelated-Bug: #1754061\n'}, {'number': 2, 'created': '2018-03-12 09:58:05.000000000', 'files': ['zaqar_tempest_plugin/tests/v2/test_claims_negative.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/df888ccf1c9a69cda6d4b9fdd0f6e99e9ecc6587', 'message': 'Add test for claim for non existing queue\n\nChange-Id: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3\nRelated-Bug: #1754061\n'}]",0,551926,df888ccf1c9a69cda6d4b9fdd0f6e99e9ecc6587,9,4,2,7385,,,0,"Add test for claim for non existing queue

Change-Id: I7e2128f3a5608ed9a41d1e18bd72d771a2a4ddb3
Related-Bug: #1754061
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/26/551926/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_tempest_plugin/tests/v2/test_claims_negative.py'],1,89968d047789c8e5e82660216ba0f49145a51a30,bug/1754061," @decorators.attr(type=['negative']) @decorators.idempotent_id('3c8b5ae5-31ea-4063-b1a6-67915d9b5f70') def test_claim_messages_non_existent_queue(self): claim_ttl = data_utils.rand_int_id(start=60, end=CONF.messaging.max_claim_ttl) claim_grace = data_utils.\ rand_int_id(start=60, end=CONF.messaging.max_claim_grace) claim_body = {""ttl"": claim_ttl, ""grace"": claim_grace} resp, _ = self.client.post_claims(self.queue_name, claim_body) self.assertEqual('204', resp['status']) ",,12,0
openstack%2Fsenlin~master~I2db151bdc0fc6306b4e2e1702d402f4eb40359aa,openstack/senlin,master,I2db151bdc0fc6306b4e2e1702d402f4eb40359aa,update receivers description,MERGED,2018-03-23 03:39:04.000000000,2018-03-23 06:24:46.000000000,2018-03-23 06:24:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-03-23 03:39:04.000000000', 'files': ['senlin/api/openstack/v1/receivers.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/6b3f9b75f5585f01b6dcdfda30a34b7ea6d8a5fd', 'message': 'update receivers description\n\nChange-Id: I2db151bdc0fc6306b4e2e1702d402f4eb40359aa\n'}]",0,555619,6b3f9b75f5585f01b6dcdfda30a34b7ea6d8a5fd,8,4,1,21690,,,0,"update receivers description

Change-Id: I2db151bdc0fc6306b4e2e1702d402f4eb40359aa
",git fetch https://review.opendev.org/openstack/senlin refs/changes/19/555619/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/api/openstack/v1/receivers.py'],1,6b3f9b75f5585f01b6dcdfda30a34b7ea6d8a5fd,fix_desc,Receiver endpoint for Senlin v1 REST API.,Webhook endpoint for Senlin v1 REST API.,1,1
openstack%2Fkolla~master~I8d66155aefad89bf60a70fa2d8b7cf3eaba7c18d,openstack/kolla,master,I8d66155aefad89bf60a70fa2d8b7cf3eaba7c18d,Add freezer-scheduler container,MERGED,2018-03-01 13:17:58.000000000,2018-03-23 06:23:00.000000000,2018-03-23 06:22:59.000000000,"[{'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-01 13:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/03c1b10520e85ab83dcda2436a255295618018eb', 'message': '[WIP]Add freezer-scheduler container\n\nChange-Id: I8d66155aefad89bf60a70fa2d8b7cf3eaba7c18d\nImplements: blueprint kolla-freezer-scheduler-container\n'}, {'number': 2, 'created': '2018-03-01 14:33:43.000000000', 'files': ['docker/freezer/freezer-scheduler/Dockerfile.j2', 'releasenotes/notes/add-freezer-sceduler-b64cfba4666889a0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b1320acb8a7c44f5fda5f9b6eda472c5d2d6d2bb', 'message': 'Add freezer-scheduler container\n\nChange-Id: I8d66155aefad89bf60a70fa2d8b7cf3eaba7c18d\nImplements: blueprint kolla-freezer-scheduler-container\n'}]",0,548946,b1320acb8a7c44f5fda5f9b6eda472c5d2d6d2bb,17,10,2,22165,,,0,"Add freezer-scheduler container

Change-Id: I8d66155aefad89bf60a70fa2d8b7cf3eaba7c18d
Implements: blueprint kolla-freezer-scheduler-container
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/548946/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/freezer/freezer-scheduler/Dockerfile.j2', 'releasenotes/notes/add-freezer-sceduler-b64cfba4666889a0.yaml']",2,03c1b10520e85ab83dcda2436a255295618018eb,bp/kolla-freezer-scheduler-container,--- features: - | Add freezer-scheduler dockerfile ,,11,0
openstack%2Fmonasca-ui~master~Ifbf1be70437915c2360c3a18ea8c3fcf247f1454,openstack/monasca-ui,master,Ifbf1be70437915c2360c3a18ea8c3fcf247f1454,Update the old http link,ABANDONED,2018-02-27 08:09:10.000000000,2018-03-23 06:21:09.000000000,,"[{'_account_id': 10311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-27 08:09:10.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c84c995952d80d8007c2f853781eb7183697496b', 'message': 'Update the old http link\n\nUpdate the old http link to the lastest one in README.md\naccording to the official OpenStack websites.\n\nChange-Id: Ifbf1be70437915c2360c3a18ea8c3fcf247f1454\n'}]",0,548180,c84c995952d80d8007c2f853781eb7183697496b,4,2,1,23317,,,0,"Update the old http link

Update the old http link to the lastest one in README.md
according to the official OpenStack websites.

Change-Id: Ifbf1be70437915c2360c3a18ea8c3fcf247f1454
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/80/548180/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,c84c995952d80d8007c2f853781eb7183697496b,fix,For more details go to https://docs.openstack.org/horizon/latest/#setup,For more details go to http://docs.openstack.org/developer/horizon/quickstart.html#setup,1,1
openstack%2Fmanila~master~I0d4b13daff19b5c7922e28e01fdc4ee29393318b,openstack/manila,master,I0d4b13daff19b5c7922e28e01fdc4ee29393318b,Fix typos,MERGED,2018-02-09 03:24:37.000000000,2018-03-23 06:03:12.000000000,2018-03-23 06:03:12.000000000,"[{'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14203}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 27386}, {'_account_id': 27496}]","[{'number': 1, 'created': '2018-02-09 03:24:37.000000000', 'files': ['doc/source/admin/cephfs_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/18b8bf628ce10f3367abbb1cf060ce5531194b53', 'message': ""Fix typos\n\nThere are two 'the', delete one of them.\n\nChange-Id: I0d4b13daff19b5c7922e28e01fdc4ee29393318b\n""}]",0,542563,18b8bf628ce10f3367abbb1cf060ce5531194b53,19,16,1,27566,,,0,"Fix typos

There are two 'the', delete one of them.

Change-Id: I0d4b13daff19b5c7922e28e01fdc4ee29393318b
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/542563/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cephfs_driver.rst'],1,18b8bf628ce10f3367abbb1cf060ce5531194b53,manila,"backend to expose shares via the native Ceph protocol, set","backend to expose shares via the the native Ceph protocol, set",1,1
openstack%2Ftrove~master~Ic53adfb74c628c8ca85b2fa2107999c1ae816833,openstack/trove,master,Ic53adfb74c628c8ca85b2fa2107999c1ae816833,fix a typo in documentation,MERGED,2018-03-23 00:08:21.000000000,2018-03-23 06:02:22.000000000,2018-03-23 06:02:21.000000000,"[{'_account_id': 22348}, {'_account_id': 24739}]","[{'number': 1, 'created': '2018-03-23 00:08:21.000000000', 'files': ['etc/trove/README-policy.generated.md'], 'web_link': 'https://opendev.org/openstack/trove/commit/f83a247bd60218b38e17387672a5da7ed48e7735', 'message': 'fix a typo in documentation\n\nChange-Id: Ic53adfb74c628c8ca85b2fa2107999c1ae816833\n'}]",0,555509,f83a247bd60218b38e17387672a5da7ed48e7735,6,2,1,17130,,,0,"fix a typo in documentation

Change-Id: Ic53adfb74c628c8ca85b2fa2107999c1ae816833
",git fetch https://review.opendev.org/openstack/trove refs/changes/09/555509/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/trove/README-policy.generated.md'],1,f83a247bd60218b38e17387672a5da7ed48e7735,trivialfix,can also be overridden by adding following lines in Trove config file:,can also be overriden by adding following lines in Trove config file:,1,1
openstack%2Fdevstack~master~I81302e8988fe6498fea9f08ed66f5d0cc1fce161,openstack/devstack,master,I81302e8988fe6498fea9f08ed66f5d0cc1fce161,Zuul: support plugin dependencies,MERGED,2017-11-22 01:06:40.000000000,2018-03-23 05:56:30.000000000,2018-03-23 05:56:29.000000000,"[{'_account_id': 1}, {'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27999}]","[{'number': 1, 'created': '2017-11-22 01:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d081784841b7f6e3d9476726f20698e6a679c3c3', 'message': 'WIP: Zuul: support plugin dependencies\n\n(Currently just some refactoring staging for supporting plugin deps)\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}, {'number': 2, 'created': '2017-11-22 22:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aa0a676c328ed7a97998d5129ace38ef239b0db0', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}, {'number': 3, 'created': '2017-12-04 15:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aaffca25b085df24b053f726e94e2c50a4de0d33', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}, {'number': 4, 'created': '2017-12-04 18:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fe975edddad2cf450a76afc90011fb454d4ddefe', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}, {'number': 5, 'created': '2018-02-13 21:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b449e40635b41e235b3cdffecdc5211f52e1c8f5', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}, {'number': 6, 'created': '2018-03-21 15:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/206fb267e6f3cc21738653679f8c45bb4bde9594', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}, {'number': 7, 'created': '2018-03-22 18:51:10.000000000', 'files': ['.gitignore', 'roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'tests/test_write_devstack_local_conf_role.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f27fca4a76aceaadab3776c87c48743671ce502', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n'}]",7,522054,6f27fca4a76aceaadab3776c87c48743671ce502,52,9,7,1,,,0,"Zuul: support plugin dependencies

Change-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/522054/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/library/local_conf.py']",3,d081784841b7f6e3d9476726f20698e6a679c3c3,,"# Copyright (C) 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. import re class DependencyGraph(object): # This is based on the JobGraph from Zuul. def __init__(self): self._names = set() self._dependencies = {} # dependent_name -> set(parent_names) def add(self, name, dependencies): # Append the dependency information self._dependencies.setdefault(name, set()) try: for dependency in dependencies: # Make sure a circular dependency is never created ancestors = self._getParentNamesRecursively( dependency, soft=True) ancestors.add(dependency) if name in ancestors: raise Exception(""Dependency cycle detected in {}"". format(name)) self._dependencies[name].add(dependency) except Exception: del self._dependencies[name] raise def getDependenciesRecursively(self, parent): dependencies = [] current_dependencies = self._dependencies[parent] for current in current_dependencies: if current not in dependencies: dependencies.append(current) for dep in self.getDependentVarsRecursively(current): if dep not in dependencies: dependencies.append(dep) return dependencies def _getParentNamesRecursively(self, dependent, soft=False): all_parents = set() items_to_iterate = set([dependent]) while len(items_to_iterate) > 0: current_item = items_to_iterate.pop() current_parent_items = self._dependencies.get(current_item) if current_parent_items is None: if soft: current_parent_items = set() else: raise Exception(""Dependent item {} not found: "".format( dependent)) new_parent_items = current_parent_items - all_parent_items items_to_iterate |= new_parent_items all_parent_items |= new_parent_items return all_parent_items class VarGraph(DependencyGraph): # This is based on the JobGraph from Zuul. def __init__(self, vars): super(VarGraph, self).__init__() self.vars = {} self._varnames = set() for k, v in vars.items(): self._varnames.add(k) for k, v in vars.items(): self._addVar(k, str(v)) bash_var_re = re.compile(r'\$\{?(\w+)') def getDependencies(self, value): return self.bash_var_re.findall(value) def _addVar(self, key, value): if key in self.vars: raise Exception(""Variable {} already added"".format(key)) self.vars[key] = value # Append the dependency information dependencies = set() for dependency in self.getDependencies(value): if dependency == key: # A variable is allowed to reference itself; no # dependency link needed in that case. continue if dependency not in self._varnames: # It's not necessary to create a link for an # external variable. continue dependencies.add(dependency) try: self.add(key, dependencies) except Exception: del self.vars[key] raise def getVars(self): ret = [] keys = sorted(self.vars.keys()) seen = set() for key in keys: dependencies = self.getDependenciesRecursively(key) for var in dependencies + [key]: if var not in seen: ret.append((var, self.vars[var])) seen.add(var) return ret class LocalConf(object): def __init__(self, localrc, localconf, services, plugins, src_root): self.localrc = [] self.meta_sections = {} self.plugin_deps = {} self.src_root = src_root if plugins: self.handle_plugins(plugins) if services: self.handle_services(services) if localrc: self.handle_localrc(localrc) if localconf: self.handle_localconf(localconf) def handle_plugins(self, plugins): for k, v in plugins.items(): if v: self.localrc.append('enable_plugin {} {}'.format(k, v)) def handle_services(self, services): for k, v in services.items(): if v is False: self.localrc.append('disable_service {}'.format(k)) elif v is True: self.localrc.append('enable_service {}'.format(k)) def handle_localrc(self, localrc): vg = VarGraph(localrc) for k, v in vg.getVars(): self.localrc.append('{}={}'.format(k, v)) def handle_localconf(self, localconf): for phase, phase_data in localconf.items(): for fn, fn_data in phase_data.items(): ms_name = '[[{}|{}]]'.format(phase, fn) ms_data = [] for section, section_data in fn_data.items(): ms_data.append('[{}]'.format(section)) for k, v in section_data.items(): ms_data.append('{} = {}'.format(k, v)) ms_data.append('') self.meta_sections[ms_name] = ms_data def write(self, path): with open(path, 'w') as f: f.write('[[local|localrc]]\n') f.write('\n'.join(self.localrc)) f.write('\n\n') for section, lines in self.meta_sections.items(): f.write('{}\n'.format(section)) f.write('\n'.join(lines)) ",,223,143
openstack%2Fmistral~master~I27f7876c9f7ad350af4494df55469f0427d4950f,openstack/mistral,master,I27f7876c9f7ad350af4494df55469f0427d4950f,Updated from global requirements,MERGED,2018-03-23 01:08:05.000000000,2018-03-23 05:53:34.000000000,2018-03-23 05:53:33.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 01:08:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9b47758e5fc287f55aacd21e91580ba2dd9b9ca4', 'message': 'Updated from global requirements\n\nChange-Id: I27f7876c9f7ad350af4494df55469f0427d4950f\n'}]",0,555561,9b47758e5fc287f55aacd21e91580ba2dd9b9ca4,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I27f7876c9f7ad350af4494df55469f0427d4950f
",git fetch https://review.opendev.org/openstack/mistral refs/changes/61/555561/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9b47758e5fc287f55aacd21e91580ba2dd9b9ca4,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Frpm-packaging~stable%2Focata~I70368a891fd809819df82f82c77e8338eee4553c,openstack/rpm-packaging,stable/ocata,I70368a891fd809819df82f82c77e8338eee4553c,tripleo-common: Update to 6.1.0,ABANDONED,2017-07-06 13:24:33.000000000,2018-03-23 05:49:11.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-06 13:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c31cc66e2c905bb42f47457b927a607ab6d302d4', 'message': 'tripleo-common: Update to 6.1.0\n\nChange-Id: I70368a891fd809819df82f82c77e8338eee4553c\n'}, {'number': 2, 'created': '2017-09-19 06:15:44.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bd1c6c6ba7677038cfcb53f065e3c33b8dedf837', 'message': 'tripleo-common: Update to 6.1.0\n\nChange-Id: I70368a891fd809819df82f82c77e8338eee4553c\n'}]",0,481079,bd1c6c6ba7677038cfcb53f065e3c33b8dedf837,10,4,2,7102,,,0,"tripleo-common: Update to 6.1.0

Change-Id: I70368a891fd809819df82f82c77e8338eee4553c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/481079/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,c31cc66e2c905bb42f47457b927a607ab6d302d4,stable-ocata,%global sversion 6.1.0Version: 6.1.0,%global sversion 5.7.0Version: 5.7.0,2,2
openstack%2Ftrove~master~Ia8f938619de48b7c0d2efd6753897335a8ebce41,openstack/trove,master,Ia8f938619de48b7c0d2efd6753897335a8ebce41,"Revert ""Fix false-negative failure report for mysqldump backup""",MERGED,2018-03-19 11:29:53.000000000,2018-03-23 05:46:24.000000000,2018-03-23 05:46:24.000000000,"[{'_account_id': 22348}, {'_account_id': 24739}, {'_account_id': 24791}, {'_account_id': 25113}, {'_account_id': 26970}]","[{'number': 1, 'created': '2018-03-19 11:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/92631178fdefe126f5191ae1955d79ed30044b4e', 'message': 'Revert ""Fix false-negative failure report for mysqldump backup""\n\nThe approach merged in I2c10ae7b6b6094af7819594e889385b0ed77fe4b is not\na complete solution, mysqldump will dump warning to stderr too which\nshould not break the backup process. A better fix would be doing checks\nagainst the stderr logs just like the InnoBackupEx strategy does.\n\nSee also: https://bugs.launchpad.net/trove/+bug/1756806\n\nThis reverts commit 49fea478ee6d2fe67f6c248b8da9b0ce910184f8.\n\nChange-Id: Ia8f938619de48b7c0d2efd6753897335a8ebce41\n'}, {'number': 2, 'created': '2018-03-21 14:17:43.000000000', 'files': ['trove/guestagent/strategies/backup/mysql_impl.py', 'trove/tests/unittests/backup/test_backupagent.py', 'trove/tests/unittests/guestagent/test_backups.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/43ce5981ecbbcfd52aa52306a6cda83d38a69654', 'message': 'Revert ""Fix false-negative failure report for mysqldump backup""\n\nThe approach merged in I2c10ae7b6b6094af7819594e889385b0ed77fe4b is not\na complete solution, mysqldump will dump warning to stderr too which\nshould not break the backup process. A better fix would be doing checks\nagainst the stderr logs just like the InnoBackupEx strategy does.\n\nSee also: https://bugs.launchpad.net/trove/+bug/1756806\n\nThis reverts commit 49fea478ee6d2fe67f6c248b8da9b0ce910184f8.\n\nChange-Id: Ia8f938619de48b7c0d2efd6753897335a8ebce41\n'}]",0,554200,43ce5981ecbbcfd52aa52306a6cda83d38a69654,12,5,2,13157,,,0,"Revert ""Fix false-negative failure report for mysqldump backup""

The approach merged in I2c10ae7b6b6094af7819594e889385b0ed77fe4b is not
a complete solution, mysqldump will dump warning to stderr too which
should not break the backup process. A better fix would be doing checks
against the stderr logs just like the InnoBackupEx strategy does.

See also: https://bugs.launchpad.net/trove/+bug/1756806

This reverts commit 49fea478ee6d2fe67f6c248b8da9b0ce910184f8.

Change-Id: Ia8f938619de48b7c0d2efd6753897335a8ebce41
",git fetch https://review.opendev.org/openstack/trove refs/changes/00/554200/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategies/backup/mysql_impl.py', 'trove/tests/unittests/backup/test_backupagent.py', 'trove/tests/unittests/guestagent/test_backups.py']",3,92631178fdefe126f5191ae1955d79ed30044b4e,revert-removing-redirect-stderr-of-mysqldump-backup," ""--opt --password=password -u os_admin"" "" 2>/tmp/mysqldump.log"")"," ""--opt --password=password -u os_admin"")",5,2
openstack%2Fpython-mistralclient~master~I16594f9a27a72139d4e94e60f20e55c0348e8fec,openstack/python-mistralclient,master,I16594f9a27a72139d4e94e60f20e55c0348e8fec,Updated from global requirements,MERGED,2018-03-23 01:48:43.000000000,2018-03-23 05:44:56.000000000,2018-03-23 05:44:55.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 01:48:43.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/1ee41092ed622c1e720e3b3233c11f978b99cec6', 'message': 'Updated from global requirements\n\nChange-Id: I16594f9a27a72139d4e94e60f20e55c0348e8fec\n'}]",0,555587,1ee41092ed622c1e720e3b3233c11f978b99cec6,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I16594f9a27a72139d4e94e60f20e55c0348e8fec
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/87/555587/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1ee41092ed622c1e720e3b3233c11f978b99cec6,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fzun-ui~master~Ib0eb5de22bb3e068b194f2cb535789e50205721a,openstack/zun-ui,master,Ib0eb5de22bb3e068b194f2cb535789e50205721a,Updated from global requirements,MERGED,2018-03-22 10:17:03.000000000,2018-03-23 05:44:21.000000000,2018-03-23 05:44:21.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 10:17:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/6b601badd8cb720e207549ac73018a1e198183a7', 'message': 'Updated from global requirements\n\nChange-Id: Ib0eb5de22bb3e068b194f2cb535789e50205721a\n'}]",0,555241,6b601badd8cb720e207549ac73018a1e198183a7,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ib0eb5de22bb3e068b194f2cb535789e50205721a
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/41/555241/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6b601badd8cb720e207549ac73018a1e198183a7,openstack/requirements,python-zunclient>=1.2.1 # Apache-2.0,python-zunclient>=1.0.0 # Apache-2.0,1,1
openstack%2Fglance~master~If6828980c65d80135e7f22da2ef886194cc3bd3c,openstack/glance,master,If6828980c65d80135e7f22da2ef886194cc3bd3c,Change the outdated links to the latest links in README,ABANDONED,2018-03-22 08:41:10.000000000,2018-03-23 05:37:11.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 08:41:10.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/77f9a40c130afd44c68ed29aa141b25d72abc307', 'message': 'Change the outdated links to the latest links in README\n\nChange-Id: If6828980c65d80135e7f22da2ef886194cc3bd3c\n'}]",1,555197,77f9a40c130afd44c68ed29aa141b25d72abc307,4,2,1,27336,,,0,"Change the outdated links to the latest links in README

Change-Id: If6828980c65d80135e7f22da2ef886194cc3bd3c
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/555197/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,77f9a40c130afd44c68ed29aa141b25d72abc307,,.. image:: https://governance.openstack.org/tc/badges/os-win.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/glance.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fdiskimage-builder~master~I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f,openstack/diskimage-builder,master,I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f,proliant-tools: add net-tools package to support hpsum utility,MERGED,2018-02-27 06:23:34.000000000,2018-03-23 05:36:12.000000000,2018-03-23 05:36:12.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 12898}, {'_account_id': 18781}, {'_account_id': 22348}, {'_account_id': 22977}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-27 06:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/96cfdb7761a0472d531c4ddee3f2708a6360917c', 'message': 'proliant-tools: add net-tools package for redhat image creation.\n\nHpsum utiltity of proliant-tools requires net-tools to be installed\nas part of base image. This commit adds support for installation of\nnet-tools for redhat based images.\n\nChange-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f\nCloses-bug: 1751777\n'}, {'number': 2, 'created': '2018-02-27 08:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/06f2c5c10a91b260965e1d6e4bb2b4473e93ec44', 'message': 'proliant-tools: add net-tools package for redhat image creation.\n\nHpsum utiltity of proliant-tools requires net-tools to be installed\nas part of base image. This commit adds support for installation of\nnet-tools for redhat based images.\n\nChange-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f\nCloses-bug: 1751777\n'}, {'number': 3, 'created': '2018-03-09 04:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0da5d4cbe72b95fb7d28c5ab84377f95ca494562', 'message': 'proliant-tools: add net-tools package for redhat image creation.\n\nHpsum utiltity of proliant-tools requires net-tools to be installed\nas part of base image. This commit adds support for installation of\nnet-tools for redhat based images.\n\nChange-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f\nCloses-bug: 1751777\n'}, {'number': 4, 'created': '2018-03-09 08:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/56ce8efa0df6da9df73c2a5080a95f523f95ed55', 'message': 'proliant-tools: add net-tools package to support hpsum utility\n\nHpsum utiltity of proliant-tools requires net-tools to be installed\nas part of base image. This commit adds support for installation of\nnet-tools for all distros.\n\nChange-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f\nCloses-bug: 1751777\n'}, {'number': 5, 'created': '2018-03-09 08:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/756d760a90cc2e74f826367f19b7d8909ec91ffa', 'message': 'proliant-tools: add net-tools package to support hpsum utility\n\nHpsum utiltity of proliant-tools requires net-tools to be installed\nas part of base image. This commit adds support for installation of\nnet-tools for all distros.\n\nChange-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f\nCloses-bug: 1751777\n'}, {'number': 6, 'created': '2018-03-09 08:29:36.000000000', 'files': ['diskimage_builder/elements/proliant-tools/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a7135a0d8f0c06f7ef57f5124261742b290b37e8', 'message': 'proliant-tools: add net-tools package to support hpsum utility\n\nHpsum utiltity of proliant-tools requires net-tools to be installed\nas part of base image. This commit adds support for installation of\nnet-tools for all distros.\n\nChange-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f\nCloses-bug: 1751777\n'}]",7,548154,a7135a0d8f0c06f7ef57f5124261742b290b37e8,41,9,6,22977,,,0,"proliant-tools: add net-tools package to support hpsum utility

Hpsum utiltity of proliant-tools requires net-tools to be installed
as part of base image. This commit adds support for installation of
net-tools for all distros.

Change-Id: I2a1e81059ed1aee975db78cfa5e61bbf1b98e06f
Closes-bug: 1751777
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/54/548154/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/proliant-tools/pkg-map', 'diskimage_builder/elements/proliant-tools/package-installs.yaml']",2,96cfdb7761a0472d531c4ddee3f2708a6360917c,bug/1751777,net-tools:,,5,2
openstack%2Fbarbican~master~If31f7a41686205c5202c533e5bae1ad6cbcb8e02,openstack/barbican,master,If31f7a41686205c5202c533e5bae1ad6cbcb8e02,Updated from global requirements,MERGED,2018-03-14 05:23:21.000000000,2018-03-23 05:31:09.000000000,2018-03-23 05:31:09.000000000,"[{'_account_id': 10873}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 05:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c5b3b4b06ca998617540c9e4d436174f20d04978', 'message': 'Updated from global requirements\n\nChange-Id: If31f7a41686205c5202c533e5bae1ad6cbcb8e02\n'}, {'number': 2, 'created': '2018-03-15 06:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/90d32e49e138f960d5700d5ffa03cb39f2a6d380', 'message': 'Updated from global requirements\n\nChange-Id: If31f7a41686205c5202c533e5bae1ad6cbcb8e02\n'}, {'number': 3, 'created': '2018-03-17 08:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/40ff46c97bca284f89a3d0c817c327ec5497b758', 'message': 'Updated from global requirements\n\nChange-Id: If31f7a41686205c5202c533e5bae1ad6cbcb8e02\n'}, {'number': 4, 'created': '2018-03-23 03:56:30.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/835a48dd9d97b53cc308228143df0bf509d3d5be', 'message': 'Updated from global requirements\n\nChange-Id: If31f7a41686205c5202c533e5bae1ad6cbcb8e02\n'}]",0,552739,835a48dd9d97b53cc308228143df0bf509d3d5be,19,3,4,11131,,,0,"Updated from global requirements

Change-Id: If31f7a41686205c5202c533e5bae1ad6cbcb8e02
",git fetch https://review.opendev.org/openstack/barbican refs/changes/39/552739/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c5b3b4b06ca998617540c9e4d436174f20d04978,openstack/requirements,oslo.config>=5.2.0 # Apache-2.0,oslo.config>=5.1.0 # Apache-2.0,1,1
openstack%2Fpuppet-keystone~stable%2Fpike~I74afaf85569b4ba756f4ca82f822e481f80253b6,openstack/puppet-keystone,stable/pike,I74afaf85569b4ba756f4ca82f822e481f80253b6,Configure memcache_secret_key as secret,MERGED,2018-03-19 08:18:19.000000000,2018-03-23 05:29:54.000000000,2018-03-23 05:29:54.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 08:18:19.000000000', 'files': ['manifests/resource/authtoken.pp', 'spec/defines/keystone_resource_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4de23ac5cefb38b63524d170f9eb7adf0bbeba3a', 'message': 'Configure memcache_secret_key as secret\n\nParameter keystone_authtoken/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I74afaf85569b4ba756f4ca82f822e481f80253b6\nCloses-Bug: #1756813\n'}]",0,554163,4de23ac5cefb38b63524d170f9eb7adf0bbeba3a,12,2,1,9414,,,0,"Configure memcache_secret_key as secret

Parameter keystone_authtoken/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I74afaf85569b4ba756f4ca82f822e481f80253b6
Closes-Bug: #1756813
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/63/554163/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/resource/authtoken.pp', 'spec/defines/keystone_resource_authtoken_spec.rb']",2,4de23ac5cefb38b63524d170f9eb7adf0bbeba3a,bug/1756813-stable/pike, is_expected.to contain_keystone_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_keystone_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_keystone_config('keystone_authtoken/memcache_secret_key').with_value( params[:memcache_secret_key] ).with_secret(true), is_expected.to contain_keystone_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('keystone_authtoken/memcache_secret_key').with_value( params[:memcache_secret_key] ),4,4
openstack%2Fwatcher-specs~master~Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35,openstack/watcher-specs,master,Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35,Add replace cold migration to use nova API spec,MERGED,2018-03-12 06:19:38.000000000,2018-03-23 05:12:25.000000000,2018-03-23 05:12:25.000000000,"[{'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 27552}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-03-12 06:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/42be5845ba5101733bb6c634c1a71fe7389d631e', 'message': 'Add replace cold migration to usenova API spec\n\nThis patch adds replace-cold-migrate-to-use-nova-migration-api spec.\n\nChange-Id: Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35\n'}, {'number': 2, 'created': '2018-03-13 06:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/7a131b4870811256b96c1a051b21d5af400081af', 'message': 'Add replace cold migration to use nova API spec\n\nThis patch adds replace-cold-migrate-to-use-nova-migration-api spec.\n\nChange-Id: Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35\n'}, {'number': 3, 'created': '2018-03-20 07:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/a27213b868b664a0214ceff6846b084a628d7684', 'message': 'Add replace cold migration to usenova API spec\n\nThis patch adds replace-cold-migrate-to-use-nova-migration-api spec.\n\nChange-Id: Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35\n'}, {'number': 4, 'created': '2018-03-23 00:19:10.000000000', 'files': ['specs/rocky/approved/replace-cold-migrate-to-use-nova-migration-api.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/e0a137a16659abbd2bcf9755c9bdc2fe86e6fb78', 'message': 'Add replace cold migration to use nova API spec\n\nThis patch adds replace-cold-migrate-to-use-nova-migration-api spec.\n\nImplements: blueprint replace-cold-migrate-to-use-nova-migration-api\nChange-Id: Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35\n'}]",13,551851,e0a137a16659abbd2bcf9755c9bdc2fe86e6fb78,20,7,4,13111,,,0,"Add replace cold migration to use nova API spec

This patch adds replace-cold-migrate-to-use-nova-migration-api spec.

Implements: blueprint replace-cold-migrate-to-use-nova-migration-api
Change-Id: Ib83d391fe2cb2ba63a1ce20ec39011dbb0755a35
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/51/551851/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/replace-cold-migrate-to-use-nova-migration-api.rst'],1,42be5845ba5101733bb6c634c1a71fe7389d631e,bp/replace-cold-migrate-to-use-nova-migration-api,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Replace cold migration to use Nova migration API ================================================ https://blueprints.launchpad.net/watcher/+spec/replace-cold-migrate-to-use-nova-migration-api Problem description =================== Currently watcher implements instance cold migration by it's own for specifying destination node. The implementation includes instance creation. Since administrator runs watcher API, instance migrates to admin project. Use Cases ---------- Migrate action executes instance cold migration if migration_type is cold. Proposed change =============== Since v2.56, Nova migrate Server(migrate Action) API has host option. By replacing watcher_non_live_migrate_instance method in common/nova_helper.py to use the API, we can simply solve the problem. Alternatives ------------ It may be the alternative to create instance by temporary user in the project where instance is in. But this solution remains quota problem. During temporary user lives and reached quota limit, new user can not be created. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ We may expect cold migration becomes faster because current implementation calls many Nova and Neutron API. Other deployer impact --------------------- * Administrator can see migration by watcher using Nova List Migrations API. Developer impact ---------------- Nova Implementation ============== Assignee(s) ----------- Primary assignee: <nakamura-h> Other contributors: <None> Work Items ---------- * Replace watcher_non_live_migrate_instance method in common/nova_helper.py to use Nova migrate Server(migrate Action) API. Dependencies ============ None Testing ======= We should expect curernt test code can test this replacement. Documentation Impact ==================== None References ========== * https://developer.openstack.org/api-ref/compute/#migrate-server-migrate-action ",,133,0
openstack%2Fnova~master~I9de6b710baffdffcd1d7ab19897d5776ef27ae7e,openstack/nova,master,I9de6b710baffdffcd1d7ab19897d5776ef27ae7e,Make nova-cells-v1 run with neutron,MERGED,2018-03-05 15:37:52.000000000,2018-03-23 04:47:00.000000000,2018-03-23 04:47:00.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-05 15:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6aacb5db6076532bd84f86604d848738d9c16ec', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in nova.conf.\nThis means servers will be ACTIVE before networking is sure to be\nready so we can't rely on ssh validation.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 2, 'created': '2018-03-05 19:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ce6cfbd30182fe74671a5f09e86421cc2c41d3b', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in nova.conf.\nThis means servers will be ACTIVE before networking is sure to be\nready so we can't rely on ssh validation.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 3, 'created': '2018-03-08 23:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8db3d9fd4f5ff32edf83eaefa08ceed2749a8c98', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in nova.conf.\nThis means servers will be ACTIVE before networking is sure to be\nready so we can't rely on ssh validation.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 4, 'created': '2018-03-13 17:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ad7cd26dff9d45a10924d610211b131c98557d0', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in nova-cpu.conf.\nThis means servers will be ACTIVE before networking is sure to be\nready so we can't rely on ssh validation.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 5, 'created': '2018-03-13 21:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8c009fa7c9bb3c2d51869c3704da53c4cf8bdae', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in\nnova-cells.conf. This means servers will be ACTIVE before\nnetworking is sure to be ready so we can't rely on ssh validation.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 6, 'created': '2018-03-14 16:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad1d59e53fa8ae433c11bfaf30664081d8d1dd99', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in\nnova-cells.conf. This means servers will be ACTIVE before\nnetworking is sure to be ready so we can't rely on ssh validation.\n\nWe also configure Tempest to say floating IPs aren't available\nwhich skips several scenario tests that wouldn't work with cells v1\nanyway due to them trying to ssh into the guest. As a result, the\nblacklist can be cleaned up a bit.\n\nWhile cleaning up the blacklist, the compute API test_fixed_ips\ntest is removed since that test doesn't run when neutron is configred.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 7, 'created': '2018-03-14 20:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c34b1c40bcadafd25fcc576ed0014c039668dcb0', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in\nnova-cells.conf. This means servers will be ACTIVE before\nnetworking is sure to be ready so we can't rely on ssh validation.\n\nWe also configure Tempest to say floating IPs aren't available\nwhich skips several scenario tests that wouldn't work with cells v1\nanyway due to them trying to ssh into the guest. As a result, the\nblacklist can be cleaned up a bit.\n\nWhile cleaning up the blacklist, the compute API test_fixed_ips\ntest is removed since that test doesn't run when neutron is configred.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 8, 'created': '2018-03-15 00:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26631ebb6925a97af646d00b69db096f7905dedb', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in\nnova-cells.conf. This means servers will be ACTIVE before\nnetworking is sure to be ready so we can't rely on ssh validation.\n\nWe also configure Tempest to say floating IPs aren't available\nwhich skips several scenario tests that wouldn't work with cells v1\nanyway due to them trying to ssh into the guest. As a result, the\nblacklist can be cleaned up a bit.\n\nWhile cleaning up the blacklist, the compute API test_fixed_ips\ntest is removed since that test doesn't run when neutron is configred.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}, {'number': 9, 'created': '2018-03-15 13:30:31.000000000', 'files': ['playbooks/legacy/nova-cells-v1/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b87eb5fae6ae8dd86d4d287780c12ae5f1d4b2b', 'message': ""Make nova-cells-v1 run with neutron\n\nThis changes the nova-cells-v1 job to run with neutron instead\nof nova-network.\n\nSSH validation is already disabled in Tempest for this job.\n\nSince the os-server-external-events API is not plumbed in for\ncells v1, we have to disable vif plugging settings in\nnova-cells.conf. This means servers will be ACTIVE before\nnetworking is sure to be ready so we can't rely on ssh validation.\n\nWe also configure Tempest to say floating IPs aren't available\nwhich skips several scenario tests that wouldn't work with cells v1\nanyway due to them trying to ssh into the guest.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e\n""}]",8,549789,6b87eb5fae6ae8dd86d4d287780c12ae5f1d4b2b,151,19,9,6873,,,0,"Make nova-cells-v1 run with neutron

This changes the nova-cells-v1 job to run with neutron instead
of nova-network.

SSH validation is already disabled in Tempest for this job.

Since the os-server-external-events API is not plumbed in for
cells v1, we have to disable vif plugging settings in
nova-cells.conf. This means servers will be ACTIVE before
networking is sure to be ready so we can't rely on ssh validation.

We also configure Tempest to say floating IPs aren't available
which skips several scenario tests that wouldn't work with cells v1
anyway due to them trying to ssh into the guest.

Part of blueprint remove-nova-network

Change-Id: I9de6b710baffdffcd1d7ab19897d5776ef27ae7e
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/549789/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-cells-v1/run.yaml'],1,c6aacb5db6076532bd84f86604d848738d9c16ec,bp/remove-nova-network," # NOTE(mriedem): vif_plugging_timeout depends on the # os-server-external-events API which isn't plumbed in for cells v1 # so we have to disable vif_plugging_timeout. This means servers can # go to ACTIVE status before networking is setup in the guest and we # can't rely on ssh validation in testing. Some tempest tests might # also fail in racy ways, so add them to tempest-dsvm-cells-rc if they # do. - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[post-config|$NOVA_CONF]] [DEFAULT] vif_plugging_timeout=0 EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' # Note that tempest-dsvm-cells-rc sets TEMPEST_RUN_VALIDATION=False # so we don't have to set it here.", # NOTE(mriedem): Explicitly tell devstack-gate that we need to run # the cells v1 job with nova-network. export DEVSTACK_GATE_NEUTRON=0 ,23,3
openstack%2Fcongress~master~I00bb7b0dc39425841e1f488c0ea97448413e34b6,openstack/congress,master,I00bb7b0dc39425841e1f488c0ea97448413e34b6,Incorrect exception in case of empty string,MERGED,2018-03-06 05:09:29.000000000,2018-03-23 04:37:05.000000000,2018-03-23 04:37:05.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 05:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/fba623b3ae17fec54eec99a54c9230da83a340a2', 'message': 'Closes-Bug: #1751210\n\nChange-Id: I00bb7b0dc39425841e1f488c0ea97448413e34b6\n'}, {'number': 2, 'created': '2018-03-06 05:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/c4c3c94230ea84adcfccb0b3e87291b7be1b4dc1', 'message': 'Closes-Bug: #1751210\nIncorrect exception in case of empty string\n\nWrong exception was generated when user pass an empty string in\nrule field while creating a rule in congress\n\nChange-Id: I00bb7b0dc39425841e1f488c0ea97448413e34b6\n'}, {'number': 3, 'created': '2018-03-06 07:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/95ef26407310bab2f57feed03e7a2b42e93d9e7b', 'message': 'Incorrect exception in case of empty string\n\nWrong exception was generated when user pass an empty string in\nrule field while creating a rule in congress\n\nCloses-Bug: #1751210\n\nChange-Id: I00bb7b0dc39425841e1f488c0ea97448413e34b6\n'}, {'number': 4, 'created': '2018-03-21 05:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f26cb402c0995a3ca8cf75c48327ee249ccb3e35', 'message': 'Incorrect exception in case of empty string\n\nWrong exception was generated when user pass an\nempty string in rule field while creating a rule\nin congress\n\nCloses-Bug: #1751210\n\nChange-Id: I00bb7b0dc39425841e1f488c0ea97448413e34b6\n'}, {'number': 5, 'created': '2018-03-22 04:30:58.000000000', 'files': ['congress/tests/policy_engines/test_agnostic.py', 'congress/policy_engines/agnostic.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/131e0f009a2dfd73758baf541d78e67cb10a743f', 'message': 'Incorrect exception in case of empty string\n\nWrong exception was generated when user pass an\nempty string in rule field while creating a rule\nin congress\n\nCloses-Bug: #1751210\n\nChange-Id: I00bb7b0dc39425841e1f488c0ea97448413e34b6\n'}]",3,549933,131e0f009a2dfd73758baf541d78e67cb10a743f,15,3,5,27621,,,0,"Incorrect exception in case of empty string

Wrong exception was generated when user pass an
empty string in rule field while creating a rule
in congress

Closes-Bug: #1751210

Change-Id: I00bb7b0dc39425841e1f488c0ea97448413e34b6
",git fetch https://review.opendev.org/openstack/congress refs/changes/33/549933/5 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/policy_engines/test_agnostic.py', 'congress/policy_engines/agnostic.py']",2,fba623b3ae17fec54eec99a54c9230da83a340a2,bug/1751210," if len(rule) == 0: msg = (""Empty string passed.Not a valid rule:"") raise exception.PolicyException( msg, name='rule_syntax') elif len(rule) == 1:", if len(rule) == 1:,13,1
openstack%2Fcongress~master~I48ca316810f572fc5f932d898b9bd837f726da7a,openstack/congress,master,I48ca316810f572fc5f932d898b9bd837f726da7a,Make tenant_name as optional config option,MERGED,2018-02-12 10:50:55.000000000,2018-03-23 04:37:04.000000000,2018-03-23 04:37:04.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-12 10:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/374d7b032447c31b9d51b7f49c32f8f8044528ab', 'message': 'Make tenant_name as optional config option\n\nCurrently, tenant_name is marked as required config option, and doesnt\naccept if only project_name is provided. As tenant_name usage is deprecated by\nkeystone, this commit makes project_name as required attribute instead.\n\nBut for backward-compatibility, if tenant_name provided, no error would be\nraised, but a warning message would be logged.\n\nChange-Id: I48ca316810f572fc5f932d898b9bd837f726da7a\nCloses-Bug:#1748860\n'}, {'number': 2, 'created': '2018-03-16 03:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e468d8aa9fa335f56c29fe5b9906487c6066c023', 'message': 'Make tenant_name as optional config option\n\nCurrently, tenant_name is marked as required config option, and doesnt\naccept if only project_name is provided. As tenant_name usage is deprecated by\nkeystone, this commit makes project_name as required attribute instead.\n\nBut for backward-compatibility, if tenant_name provided, no error would be\nraised, but a warning message would be logged.\n\nChange-Id: I48ca316810f572fc5f932d898b9bd837f726da7a\nCloses-Bug:#1748860\n'}, {'number': 3, 'created': '2018-03-21 10:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/2b43fb5871af3f841adb6279784c3b6a713c39c1', 'message': 'Make tenant_name as optional config option\n\nCurrently, tenant_name is marked as required config option, and doesnt\naccept if only project_name is provided. As tenant_name usage is deprecated by\nkeystone, this commit makes project_name as required attribute instead.\n\nBut for backward-compatibility, if tenant_name provided, no error would be\nraised, but a warning message would be logged.\n\nChange-Id: I48ca316810f572fc5f932d898b9bd837f726da7a\nCloses-Bug:#1748860\n'}, {'number': 4, 'created': '2018-03-22 08:52:42.000000000', 'files': ['congress/tests/api/test_driver_model.py', 'congress/datasources/datasource_utils.py', 'congress/tests/datasources/test_datasource_utils.py', 'congress/dse2/dse_node.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/a35d9165a4b54762830eacb0873916e2c4a4f7de', 'message': 'Make tenant_name as optional config option\n\nCurrently, tenant_name is marked as required config option, and doesnt\naccept if only project_name is provided. As tenant_name usage is deprecated by\nkeystone, this commit makes project_name as required attribute instead.\n\nBut for backward-compatibility, if tenant_name provided, no error would be\nraised, but a warning message would be logged.\n\nChange-Id: I48ca316810f572fc5f932d898b9bd837f726da7a\nCloses-Bug:#1748860\n'}]",0,543422,a35d9165a4b54762830eacb0873916e2c4a4f7de,16,3,4,11278,,,0,"Make tenant_name as optional config option

Currently, tenant_name is marked as required config option, and doesnt
accept if only project_name is provided. As tenant_name usage is deprecated by
keystone, this commit makes project_name as required attribute instead.

But for backward-compatibility, if tenant_name provided, no error would be
raised, but a warning message would be logged.

Change-Id: I48ca316810f572fc5f932d898b9bd837f726da7a
Closes-Bug:#1748860
",git fetch https://review.opendev.org/openstack/congress refs/changes/22/543422/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/api/test_driver_model.py', 'congress/datasources/datasource_utils.py', 'congress/dse2/dse_node.py']",3,374d7b032447c31b9d51b7f49c32f8f8044528ab,bug/1748860," if ('project_name' in missing_options and 'tenant_name' in specified_options): LOG.warning(""tenant_name is deprecated, use project_name "" ""instead"") missing_options.remove('project_name')",,9,27
openstack%2Fcongress~master~I6c115612ac6ee56f2199c654a844fed8723ca666,openstack/congress,master,I6c115612ac6ee56f2199c654a844fed8723ca666,add lower-constraints job,MERGED,2018-03-22 18:26:03.000000000,2018-03-23 04:37:03.000000000,2018-03-23 04:37:03.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 18:26:03.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/cbe6fbd3ddb5399c9519bcf819402f675711be86', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I6c115612ac6ee56f2199c654a844fed8723ca666\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555407,cbe6fbd3ddb5399c9519bcf819402f675711be86,7,3,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: I6c115612ac6ee56f2199c654a844fed8723ca666
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/congress refs/changes/07/555407/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,cbe6fbd3ddb5399c9519bcf819402f675711be86,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,152,0
openstack%2Fpuppet-openstack-integration~stable%2Fpike~I9a53e130a67f893dd50bc2a9e847a013c831b32f,openstack/puppet-openstack-integration,stable/pike,I9a53e130a67f893dd50bc2a9e847a013c831b32f,Fix puppet-keystone for stable/pike,MERGED,2018-03-22 20:58:38.000000000,2018-03-23 04:24:55.000000000,2018-03-23 04:24:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 20:58:38.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/aaabd17a832372b20f706d1f1e8215f63db1f56a', 'message': 'Fix puppet-keystone for stable/pike\n\nThe keystone module was incorrectly getting the master version pulled in\nrather than the stable/pike version for local testing.\n\nChange-Id: I9a53e130a67f893dd50bc2a9e847a013c831b32f\n'}]",0,555453,aaabd17a832372b20f706d1f1e8215f63db1f56a,8,3,1,14985,,,0,"Fix puppet-keystone for stable/pike

The keystone module was incorrectly getting the master version pulled in
rather than the stable/pike version for local testing.

Change-Id: I9a53e130a67f893dd50bc2a9e847a013c831b32f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/555453/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,aaabd17a832372b20f706d1f1e8215f63db1f56a,fix-pike-keystone, :ref => 'stable/pike', :ref => 'master',1,1
openstack%2Fkolla~stable%2Fqueens~I8a21f60a37ba038e46c29d0bcff9ffbd2457a257,openstack/kolla,stable/queens,I8a21f60a37ba038e46c29d0bcff9ffbd2457a257,Support push kolla tag image to hub.docker.com site,MERGED,2018-03-22 15:42:31.000000000,2018-03-23 04:18:45.000000000,2018-03-23 04:18:45.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-03-22 15:42:31.000000000', 'files': ['.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1076f7f80fc01dfb06f16a58044656131e08f121', 'message': 'Support push kolla tag image to hub.docker.com site\n\nChange-Id: I8a21f60a37ba038e46c29d0bcff9ffbd2457a257\n(cherry picked from commit abc61c012ce7ae6b282fa9280516138a4d031302)\n'}]",0,555341,1076f7f80fc01dfb06f16a58044656131e08f121,7,3,1,7488,,,0,"Support push kolla tag image to hub.docker.com site

Change-Id: I8a21f60a37ba038e46c29d0bcff9ffbd2457a257
(cherry picked from commit abc61c012ce7ae6b282fa9280516138a4d031302)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/555341/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml']",4,1076f7f80fc01dfb06f16a58044656131e08f121,, release: jobs: - kolla-publish-oraclelinux-source - kolla-publish-oraclelinux-binary,,13,1
openstack%2Fpython-ceilometerclient~master~I36f0899fe9a52333326943df8b5a606dc272ec52,openstack/python-ceilometerclient,master,I36f0899fe9a52333326943df8b5a606dc272ec52,Integrate OSprofiler in Ceilometer Client,ABANDONED,2017-06-16 09:45:19.000000000,2018-03-23 03:57:37.000000000,,"[{'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 19741}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-06-16 09:45:19.000000000', 'files': ['ceilometerclient/shell.py', 'ceilometerclient/apiclient/client.py', 'test-requirements.txt', 'ceilometerclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/93792cf245b278287223768cef973cc0afc6f7b6', 'message': 'Integrate OSprofiler in Ceilometer Client\n\nAdd OSprofiler support in Ceilometer Client\n\nChange-Id: I36f0899fe9a52333326943df8b5a606dc272ec52\nDepends-On: I23b32adf2a055ac197cbfa8546207018c255b881\n'}]",0,474932,93792cf245b278287223768cef973cc0afc6f7b6,8,4,1,23630,,,0,"Integrate OSprofiler in Ceilometer Client

Add OSprofiler support in Ceilometer Client

Change-Id: I36f0899fe9a52333326943df8b5a606dc272ec52
Depends-On: I23b32adf2a055ac197cbfa8546207018c255b881
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/32/474932/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometerclient/shell.py', 'ceilometerclient/apiclient/client.py', 'test-requirements.txt', 'ceilometerclient/client.py']",4,93792cf245b278287223768cef973cc0afc6f7b6,osprofiler-ceilometer,"profiler = importutils.try_import(""osprofiler.profiler"") osprofiler_web = importutils.try_import(""osprofiler.web"") profile = kwargs.pop('profile', None) if profiler and profile: # Initialize the root of the future trace: the created trace ID # will be used as the very first parent to which all related # traces will be bound to. The given HMAC key must correspond to # the one set in ceilometer-api ceilometer.conf, otherwise the latter # will fail to check the request signature and will skip # initialization of osprofiler on the server side. profiler.init(profile) # NOTE(tovin07): osprofiler_web.get_trace_id_headers does not add any # headers in case if osprofiler is not initialized. if osprofiler_web: kwargs['headers'].update(osprofiler_web.get_trace_id_headers()) ",,54,0
openstack%2Fceilometer~master~I23b32adf2a055ac197cbfa8546207018c255b881,openstack/ceilometer,master,I23b32adf2a055ac197cbfa8546207018c255b881,Integrate OSprofiler in Ceilometer,ABANDONED,2017-06-16 09:45:19.000000000,2018-03-23 03:57:03.000000000,,"[{'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 19741}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-06-16 09:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d67a2058c30a0918a938bbe8925f391aa2baf879', 'message': 'Integrate OSprofiler in Ceilometer\n\n* Add osprofiler wsgi middleware. This middleware is used for 2 things:\n  1) It checks that person who wants to trace is trusted and knows\n     secret HMAC key.\n  2) It starts tracing in case of proper trace headers\n     and adds first wsgi trace point, with info about HTTP request\n\n* Traces HTTP API calls\n\nHOW TO TEST?\n\n1. Install devstack with ceilometer as usual\n\n2. Install osprofiler\n\n    pip install osprofiler\n\n3. Add these line to /etc/ceilometer/ceilometer.conf\n\n   [profiler]\n   enabled = true\n   hmac_keys = SECRET_KEY\n   connection_string = redis://localhost:6379 # example when using redis\n\n4. Use ceilometer client to call a command with `--profile <HMAC_KEYS>`\nOutput will look like this:\n\nTo display trace use the command:\n\n  osprofiler trace show --html <TRACE_ID>\n\n5. Use osprofiler to get the trace\n\n    osprofiler trace show \\\n        --connection-string redis://localhost:6379 \\\n        --out out.html \\\n        --html <TRACE_ID>\n\nRelated patch (in ceilometer client): I36f0899fe9a52333326943df8b5a606dc272ec52\nSpec: https://specs.openstack.org/openstack/oslo-specs/specs/mitaka/osprofiler-cross-service-project-profiling.html\nOSprofiler doc: https://docs.openstack.org/developer/osprofiler\n\nDepends-On: I82e0db75ef9f84075289e360428c09ec68fb72d9\n\nChange-Id: I23b32adf2a055ac197cbfa8546207018c255b881\n'}, {'number': 2, 'created': '2017-06-16 10:05:08.000000000', 'files': ['ceilometer/api/controllers/v2/capabilities.py', 'ceilometer/profiler.py', 'etc/ceilometer/api_paste.ini', 'ceilometer/api/controllers/v2/resources.py', 'ceilometer/api/controllers/v2/meters.py', 'ceilometer/api/controllers/v2/query.py', 'ceilometer/service.py', 'ceilometer/api/controllers/v2/samples.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/79ac63fab4dc2b01d56c653f40a52afc48982e3d', 'message': 'Integrate OSprofiler in Ceilometer\n\n* Add osprofiler wsgi middleware. This middleware is used for 2 things:\n  1) It checks that person who wants to trace is trusted and knows\n     secret HMAC key.\n  2) It starts tracing in case of proper trace headers\n     and adds first wsgi trace point, with info about HTTP request\n\n* Traces HTTP API calls\n\nHOW TO TEST?\n\n1. Install devstack with ceilometer as usual\n\n2. Install osprofiler\n\n    pip install osprofiler\n\n3. Add these line to /etc/ceilometer/ceilometer.conf\n\n   [profiler]\n   enabled = true\n   hmac_keys = SECRET_KEY\n   connection_string = redis://localhost:6379 # example when using redis\n\n4. Use ceilometer client to call a command with `--profile <HMAC_KEYS>`\nOutput will look like this:\n\nTo display trace use the command:\n\n  osprofiler trace show --html <TRACE_ID>\n\n5. Use osprofiler to get the trace\n\n    osprofiler trace show \\\n        --connection-string redis://localhost:6379 \\\n        --out out.html \\\n        --html <TRACE_ID>\n\nRelated patch (in ceilometer client): I36f0899fe9a52333326943df8b5a606dc272ec52\nSpec: https://specs.openstack.org/openstack/oslo-specs/specs/mitaka/osprofiler-cross-service-project-profiling.html\nOSprofiler doc: https://docs.openstack.org/developer/osprofiler\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nDepends-On: I82e0db75ef9f84075289e360428c09ec68fb72d9\n\nChange-Id: I23b32adf2a055ac197cbfa8546207018c255b881\n'}]",0,474931,79ac63fab4dc2b01d56c653f40a52afc48982e3d,13,4,2,23630,,,0,"Integrate OSprofiler in Ceilometer

* Add osprofiler wsgi middleware. This middleware is used for 2 things:
  1) It checks that person who wants to trace is trusted and knows
     secret HMAC key.
  2) It starts tracing in case of proper trace headers
     and adds first wsgi trace point, with info about HTTP request

* Traces HTTP API calls

HOW TO TEST?

1. Install devstack with ceilometer as usual

2. Install osprofiler

    pip install osprofiler

3. Add these line to /etc/ceilometer/ceilometer.conf

   [profiler]
   enabled = true
   hmac_keys = SECRET_KEY
   connection_string = redis://localhost:6379 # example when using redis

4. Use ceilometer client to call a command with `--profile <HMAC_KEYS>`
Output will look like this:

To display trace use the command:

  osprofiler trace show --html <TRACE_ID>

5. Use osprofiler to get the trace

    osprofiler trace show \
        --connection-string redis://localhost:6379 \
        --out out.html \
        --html <TRACE_ID>

Related patch (in ceilometer client): I36f0899fe9a52333326943df8b5a606dc272ec52
Spec: https://specs.openstack.org/openstack/oslo-specs/specs/mitaka/osprofiler-cross-service-project-profiling.html
OSprofiler doc: https://docs.openstack.org/developer/osprofiler

Co-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>

Depends-On: I82e0db75ef9f84075289e360428c09ec68fb72d9

Change-Id: I23b32adf2a055ac197cbfa8546207018c255b881
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/31/474931/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/api/controllers/v2/capabilities.py', 'ceilometer/profiler.py', 'etc/ceilometer/api_paste.ini', 'ceilometer/api/controllers/v2/meters.py', 'ceilometer/api/controllers/v2/resources.py', 'ceilometer/api/controllers/v2/query.py', 'ceilometer/service.py', 'ceilometer/api/controllers/v2/samples.py']",8,d67a2058c30a0918a938bbe8925f391aa2baf879,osprofiler-ceilometer,from ceilometer import profiler@profiler.trace_cls('api'),,111,1
openstack%2Ftripleo-quickstart-extras~master~Ibe459b3200d8eaeb93171955f16dbb64dc077a33,openstack/tripleo-quickstart-extras,master,Ibe459b3200d8eaeb93171955f16dbb64dc077a33,Checking if the overcloud group is empty,MERGED,2018-03-22 10:04:50.000000000,2018-03-23 03:46:01.000000000,2018-03-23 03:46:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-22 10:04:50.000000000', 'files': ['roles/overcloud-deploy/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/73d0427f38fd39752dc75de61c7da53f6e5fea52', 'message': 'Checking if the overcloud group is empty\n\nThe hostnamemap_override fact is failing in featureset027 because the\ngroup overcloud is empty, and hostnamemap_override forces to access the\nfirst object from this group. This patch add one more verification\nbefore setting the fact.\n\nChange-Id: Ibe459b3200d8eaeb93171955f16dbb64dc077a33\nCloses-Bug: 1757474\n'}]",1,555232,73d0427f38fd39752dc75de61c7da53f6e5fea52,12,12,1,8367,,,0,"Checking if the overcloud group is empty

The hostnamemap_override fact is failing in featureset027 because the
group overcloud is empty, and hostnamemap_override forces to access the
first object from this group. This patch add one more verification
before setting the fact.

Change-Id: Ibe459b3200d8eaeb93171955f16dbb64dc077a33
Closes-Bug: 1757474
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/32/555232/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/pre-deploy.yml'],1,73d0427f38fd39752dc75de61c7da53f6e5fea52,bug/1757474, - groups['overcloud'] is defined,,1,0
openstack%2Fbarbican~master~Ib098a5cd8e4d119bea61d9b6c28d8274902fe4fd,openstack/barbican,master,Ib098a5cd8e4d119bea61d9b6c28d8274902fe4fd,add lower-constraints job,MERGED,2018-03-22 13:06:42.000000000,2018-03-23 03:44:09.000000000,2018-03-23 03:44:09.000000000,"[{'_account_id': 9914}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:06:42.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/199381ea5eb09eb604a2c76001886a155761bc12', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ib098a5cd8e4d119bea61d9b6c28d8274902fe4fd\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555294,199381ea5eb09eb604a2c76001886a155761bc12,7,3,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: Ib098a5cd8e4d119bea61d9b6c28d8274902fe4fd
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/barbican refs/changes/94/555294/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,199381ea5eb09eb604a2c76001886a155761bc12,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,144,0
openstack%2Fswift~feature%2Fdeep~I2f861c49a6187eb620c6481b2e70894a837babb5,openstack/swift,feature/deep,I2f861c49a6187eb620c6481b2e70894a837babb5,Move auto_create_account_prefix option to DEFAULT section,MERGED,2018-03-07 09:22:07.000000000,2018-03-23 03:38:23.000000000,2018-03-23 03:38:23.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 09:22:07.000000000', 'files': ['etc/container-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/f9462462c4d2b050735d09dc5b3368982c676ffd', 'message': ""Move auto_create_account_prefix option to DEFAULT section\n\nOne day we may want to get the same option in more than one\ncontainer service so let's have it in DEFAULT section.\n\nChange-Id: I2f861c49a6187eb620c6481b2e70894a837babb5\n""}]",3,550409,f9462462c4d2b050735d09dc5b3368982c676ffd,15,3,1,7847,,,0,"Move auto_create_account_prefix option to DEFAULT section

One day we may want to get the same option in more than one
container service so let's have it in DEFAULT section.

Change-Id: I2f861c49a6187eb620c6481b2e70894a837babb5
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/550409/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/container-server.conf-sample'],1,f9462462c4d2b050735d09dc5b3368982c676ffd,,"# # The prefix used for hidden auto-created accounts, for example accounts in # which shard containers are created. Defaults to '.'. # auto_create_account_prefix = .",# The prefix used for the hidden account in which shard containers will be # created. Defaults to '.'. # auto_create_account_prefix = . ,4,4
openstack%2Fswift~master~I0492ae1d50493585ead919904d6d9502b7738266,openstack/swift,master,I0492ae1d50493585ead919904d6d9502b7738266,fix a typo in documentation,MERGED,2018-03-23 00:10:35.000000000,2018-03-23 03:29:55.000000000,2018-03-23 03:29:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:10:35.000000000', 'files': ['etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/3bc267d10c0b2a4499b76e4846f2df8e3777a361', 'message': 'fix a typo in documentation\n\nChange-Id: I0492ae1d50493585ead919904d6d9502b7738266\n'}]",0,555513,3bc267d10c0b2a4499b76e4846f2df8e3777a361,6,2,1,17130,,,0,"fix a typo in documentation

Change-Id: I0492ae1d50493585ead919904d6d9502b7738266
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/555513/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/proxy-server.conf-sample'],1,3bc267d10c0b2a4499b76e4846f2df8e3777a361,trivialfix,# separated by a comma. Default port 53 can be overridden. IPv6 is accepted.,# separated by a comma. Default port 53 can be overriden. IPv6 is accepted.,1,1
openstack%2Frequirements~master~Id0615d1814661a341c4605cfec48fa40cbe22752,openstack/requirements,master,Id0615d1814661a341c4605cfec48fa40cbe22752,update constraint for python-zunclient to new release 1.3.0,MERGED,2018-03-22 21:21:49.000000000,2018-03-23 03:29:47.000000000,2018-03-23 03:29:47.000000000,"[{'_account_id': 2472}, {'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-22 21:21:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/488851ee2d72d23184aa6bfe03afb61992d65189', 'message': 'update constraint for python-zunclient to new release 1.3.0\n\nChange-Id: Id0615d1814661a341c4605cfec48fa40cbe22752\nmeta:version: 1.3.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hongbin LU <hongbin034@gmail.com>\nmeta:release:Commit: Hongbin LU <hongbin034@gmail.com>\nmeta:release:Change-Id: Iaeb5403e64443620c37b8f6d13bc21bb75650b48\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,555460,488851ee2d72d23184aa6bfe03afb61992d65189,10,5,1,11131,,,0,"update constraint for python-zunclient to new release 1.3.0

Change-Id: Id0615d1814661a341c4605cfec48fa40cbe22752
meta:version: 1.3.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hongbin LU <hongbin034@gmail.com>
meta:release:Commit: Hongbin LU <hongbin034@gmail.com>
meta:release:Change-Id: Iaeb5403e64443620c37b8f6d13bc21bb75650b48
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/555460/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,488851ee2d72d23184aa6bfe03afb61992d65189,new-release,python-zunclient===1.3.0,python-zunclient===1.2.1,1,1
openstack%2Fdevstack~master~I22fa1411809c46ffc423e0dd1cde0d8f40362635,openstack/devstack,master,I22fa1411809c46ffc423e0dd1cde0d8f40362635,Add nova-cells-v1 to experimental queue jobs,MERGED,2018-03-05 15:04:47.000000000,2018-03-23 03:29:41.000000000,2018-03-23 03:29:41.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-05 15:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/53acf0f2828f974ecfd24330ef3f63cf8e9981ee', 'message': 'Add nova-cells-v1 to experimental queue jobs\n\nThe legacy-tempest-dsvm-cells job is being moved into the\nnova repo and renamed to nova-cells-v1. This change adds\nthe new job name to the in-tree definition of the experimental\nqueue jobs that run on devstack changes. A project-config change\nwill depend on this patch to undefine the legacy job name from\nbeing used on devstack changes.\n\nDepends-On: https://review.openstack.org/549780\nChange-Id: I22fa1411809c46ffc423e0dd1cde0d8f40362635\n'}, {'number': 2, 'created': '2018-03-05 15:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a41aa5dc61b33cfcb63323c77efb9c890d88695', 'message': 'Add nova-cells-v1 to experimental queue jobs\n\nThe legacy-tempest-dsvm-cells job is being moved into the\nnova repo and renamed to nova-cells-v1. This change adds\nthe new job name to the in-tree definition of the experimental\nqueue jobs that run on devstack changes. A project-config change\nwill depend on this patch to undefine the legacy job name from\nbeing used on devstack changes.\n\nDepends-On: https://review.openstack.org/549780\nChange-Id: I22fa1411809c46ffc423e0dd1cde0d8f40362635\n'}, {'number': 3, 'created': '2018-03-06 15:59:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/36c3aaa07e638af0b581efa28828e04146ae1364', 'message': 'Add nova-cells-v1 to experimental queue jobs\n\nThe legacy-tempest-dsvm-cells job is being moved into the\nnova repo and renamed to nova-cells-v1. This change adds\nthe new job name to the in-tree definition of the experimental\nqueue jobs that run on devstack changes. A project-config change\nwill depend on this patch to undefine the legacy job name from\nbeing used on devstack changes.\n\nDepends-On: https://review.openstack.org/549780\nChange-Id: I22fa1411809c46ffc423e0dd1cde0d8f40362635\n'}]",0,549781,36c3aaa07e638af0b581efa28828e04146ae1364,26,8,3,6873,,,0,"Add nova-cells-v1 to experimental queue jobs

The legacy-tempest-dsvm-cells job is being moved into the
nova repo and renamed to nova-cells-v1. This change adds
the new job name to the in-tree definition of the experimental
queue jobs that run on devstack changes. A project-config change
will depend on this patch to undefine the legacy job name from
being used on devstack changes.

Depends-On: https://review.openstack.org/549780
Change-Id: I22fa1411809c46ffc423e0dd1cde0d8f40362635
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/549781/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53acf0f2828f974ecfd24330ef3f63cf8e9981ee,bp/remove-nova-network, - nova-cells-v1,,1,0
openstack%2Fnova~master~I25c87f27c69e0cdb74e8553305a09cb85f43d87e,openstack/nova,master,I25c87f27c69e0cdb74e8553305a09cb85f43d87e,Migrate tempest-dsvm-cells job to an in-tree job definition,MERGED,2018-03-05 15:02:17.000000000,2018-03-23 03:29:33.000000000,2018-03-23 03:29:33.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-05 15:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98250199de90daa9f46e2a5f4ceac70c462d9232', 'message': ""Migrate tempest-dsvm-cells job to an in-tree job definition\n\nThis defines the nova-cells-v1 job, based the tempest-dsvm-cells\njob from openstack-zuul-jobs.\n\nThe branch override parts of the job definition are removed since\nthe job will be defined per-branch now (we'll also have to backport\nthis to stable/queens).\n\nThere will be related changes to project-config, devstack, tempest\nand openstack-zuul-jobs on this topic branch to use the new job name.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I25c87f27c69e0cdb74e8553305a09cb85f43d87e\n""}, {'number': 2, 'created': '2018-03-08 23:09:06.000000000', 'files': ['playbooks/legacy/nova-cells-v1/run.yaml', '.zuul.yaml', 'playbooks/legacy/nova-cells-v1/post.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6435b3745a603fde53da41716fdcfc1b743583b4', 'message': ""Migrate tempest-dsvm-cells job to an in-tree job definition\n\nThis defines the nova-cells-v1 job, based the tempest-dsvm-cells\njob from openstack-zuul-jobs.\n\nThe branch override parts of the job definition are removed since\nthe job will be defined per-branch now (we'll also have to backport\nthis to stable/queens).\n\nThere will be related changes to project-config, devstack, tempest\nand openstack-zuul-jobs on this topic branch to use the new job name.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I25c87f27c69e0cdb74e8553305a09cb85f43d87e\n""}]",1,549780,6435b3745a603fde53da41716fdcfc1b743583b4,38,16,2,6873,,,0,"Migrate tempest-dsvm-cells job to an in-tree job definition

This defines the nova-cells-v1 job, based the tempest-dsvm-cells
job from openstack-zuul-jobs.

The branch override parts of the job definition are removed since
the job will be defined per-branch now (we'll also have to backport
this to stable/queens).

There will be related changes to project-config, devstack, tempest
and openstack-zuul-jobs on this topic branch to use the new job name.

Part of blueprint remove-nova-network

Change-Id: I25c87f27c69e0cdb74e8553305a09cb85f43d87e
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/549780/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-cells-v1/run.yaml', '.zuul.yaml', 'playbooks/legacy/nova-cells-v1/post.yaml']",3,98250199de90daa9f46e2a5f4ceac70c462d9232,bp/remove-nova-network,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,66,0
openstack%2Fcliff~master~I86b08037d04f622770347c2b4d64ce62694e1f8a,openstack/cliff,master,I86b08037d04f622770347c2b4d64ce62694e1f8a,fix typos in documentation,MERGED,2018-03-23 00:06:49.000000000,2018-03-23 03:19:10.000000000,2018-03-23 03:19:10.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-23 00:06:49.000000000', 'files': ['cliff/command.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/5e1ef9ab73d80929eabac99a684080cf258031ed', 'message': 'fix typos in documentation\n\nChange-Id: I86b08037d04f622770347c2b4d64ce62694e1f8a\n'}]",0,555507,5e1ef9ab73d80929eabac99a684080cf258031ed,7,3,1,17130,,,0,"fix typos in documentation

Change-Id: I86b08037d04f622770347c2b4d64ce62694e1f8a
",git fetch https://review.opendev.org/openstack/cliff refs/changes/07/555507/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/command.py'],1,5e1ef9ab73d80929eabac99a684080cf258031ed,trivialfix, This method should only be overridden by developers creating new This method should only be overridden by developers creating new, This method should only be overriden by developers creating new This method should only be overriden by developers creating new,2,2
openstack%2Ftripleo-ci~master~I72cab0131ccffb1989d6c1324d0c9b92166782da,openstack/tripleo-ci,master,I72cab0131ccffb1989d6c1324d0c9b92166782da,Install tripleo-common from source,MERGED,2018-03-20 21:27:21.000000000,2018-03-23 03:14:44.000000000,2018-03-23 03:14:43.000000000,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8367}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-20 21:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b59726310faa042d38c64df15ce44c5daba4eaeb', 'message': ""Install tripleo-common from source\n\nI was trying to test a depends-on change for tripleo-common, but it\ndoesn't install from the zuul checkout.  Do this alongside dib.\n\nChange-Id: I72cab0131ccffb1989d6c1324d0c9b92166782da\n""}, {'number': 2, 'created': '2018-03-21 01:41:49.000000000', 'files': ['playbooks/tripleo-buildimage/run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/21ed5372714e5fcbd1ba8b598d3f37553445249a', 'message': ""Install tripleo-common from source\n\nThis test currently installs tripleo-common from pypi.  This can cause\nproblems; for example I1e64647b3de86bc87a2a04cedf54ac83bbd4963d added\nconfig options to the yaml files (which *are* used directly from the\ntripleo-common zuul-cloned tree) and a related code change; but the\ncode change isn't deployed and we get failures parsing the config.\n\nAlso, it means you can't depends-on tripleo-common changes in\ndib/python-tripleoclient.\n\nInstall it alongside the zuul-cloned dib install.\n\nCloses-Bug: #1757174\nChange-Id: I72cab0131ccffb1989d6c1324d0c9b92166782da\n""}]",0,554705,21ed5372714e5fcbd1ba8b598d3f37553445249a,23,9,2,7118,,,0,"Install tripleo-common from source

This test currently installs tripleo-common from pypi.  This can cause
problems; for example I1e64647b3de86bc87a2a04cedf54ac83bbd4963d added
config options to the yaml files (which *are* used directly from the
tripleo-common zuul-cloned tree) and a related code change; but the
code change isn't deployed and we get failures parsing the config.

Also, it means you can't depends-on tripleo-common changes in
dib/python-tripleoclient.

Install it alongside the zuul-cloned dib install.

Closes-Bug: #1757174
Change-Id: I72cab0131ccffb1989d6c1324d0c9b92166782da
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/554705/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-buildimage/run.yaml'],1,b59726310faa042d38c64df15ce44c5daba4eaeb,bug/1757174," # otherwise, install dib & tripleo-common from requirements tox -evenv -- pip install $WORKSPACE/diskimage-builder $WORKSPACE/tripleo-common"," # otherwise, install from requirements tox -evenv -- pip install $WORKSPACE/diskimage-builder",2,2
openstack%2Fbarbican~master~Iacb17585a3235e95faa109ff11f1b039429ff770,openstack/barbican,master,Iacb17585a3235e95faa109ff11f1b039429ff770,Add default configuration files to data_files,MERGED,2017-09-21 14:01:15.000000000,2018-03-23 03:09:01.000000000,2018-03-23 03:09:00.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 8623}, {'_account_id': 10873}, {'_account_id': 17068}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-21 14:01:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5d162ebdda9071b9a691f3130228b51f4a808836', 'message': ""Add default configuration files to data_files\n\nIn order to make it simpler to use the default\nconfiguration files when deploying services\nfrom source, the files are added to pbr's\ndata_files section so that the files are\nincluded in the built wheels and therefore\ndeployed with the code. Packaging and deployment\ntools can then more easily use the default files\nif they wish to.\n\nThis pattern is already established with similar\nfiles for neutron and the glance metadefs as has\nbeen mentioned in the related bug report.\n\nChange-Id: Iacb17585a3235e95faa109ff11f1b039429ff770\nCloses-Bug: #1718356\n""}]",0,506191,5d162ebdda9071b9a691f3130228b51f4a808836,24,7,1,6816,,,0,"Add default configuration files to data_files

In order to make it simpler to use the default
configuration files when deploying services
from source, the files are added to pbr's
data_files section so that the files are
included in the built wheels and therefore
deployed with the code. Packaging and deployment
tools can then more easily use the default files
if they wish to.

This pattern is already established with similar
files for neutron and the glance metadefs as has
been mentioned in the related bug report.

Change-Id: Iacb17585a3235e95faa109ff11f1b039429ff770
Closes-Bug: #1718356
",git fetch https://review.opendev.org/openstack/barbican refs/changes/91/506191/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5d162ebdda9071b9a691f3130228b51f4a808836,bug/1718356,data_files = etc/barbican = etc/barbican/barbican-api-paste.ini etc/barbican/policy.json,,4,0
openstack%2Fpuppet-neutron~stable%2Fpike~I180f049b93dcc955266c076560180e37d7815e38,openstack/puppet-neutron,stable/pike,I180f049b93dcc955266c076560180e37d7815e38,Configure metadata agent 'metadata_proxy_shared_secret' as secret,MERGED,2018-03-19 03:36:04.000000000,2018-03-23 03:02:20.000000000,2018-03-23 03:02:19.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27401}]","[{'number': 1, 'created': '2018-03-19 03:36:04.000000000', 'files': ['spec/classes/neutron_agents_metadata_spec.rb', 'manifests/agents/metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/74152561f93e5ae33c7199ea9d9f095638ce6299', 'message': ""Configure metadata agent 'metadata_proxy_shared_secret' as secret\n\nCloses-Bug: #1755434\nChange-Id: I180f049b93dcc955266c076560180e37d7815e38\n(cherry picked from commit 8f6c82638fe2781e4a2a2ffafadc83ba83f299ba)\n""}]",0,554098,74152561f93e5ae33c7199ea9d9f095638ce6299,22,7,1,9414,,,0,"Configure metadata agent 'metadata_proxy_shared_secret' as secret

Closes-Bug: #1755434
Change-Id: I180f049b93dcc955266c076560180e37d7815e38
(cherry picked from commit 8f6c82638fe2781e4a2a2ffafadc83ba83f299ba)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/98/554098/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_metadata_spec.rb', 'manifests/agents/metadata.pp']",2,74152561f93e5ae33c7199ea9d9f095638ce6299,bug/1755434-stable/pike," 'DEFAULT/metadata_proxy_shared_secret': value => $shared_secret, secret => true;", 'DEFAULT/metadata_proxy_shared_secret': value => $shared_secret;,2,2
openstack%2Fpuppet-nova~stable%2Fpike~I3e22a74f032fa5d6362a36fe1b9fa9997c7a5564,openstack/puppet-nova,stable/pike,I3e22a74f032fa5d6362a36fe1b9fa9997c7a5564,Add oslo::cache to dependency chain,MERGED,2018-03-19 03:39:10.000000000,2018-03-23 02:55:37.000000000,2018-03-23 02:55:37.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 03:39:10.000000000', 'files': ['manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/aae889c32f77831181fc8dc7db9b6dd593da41f2', 'message': 'Add oslo::cache to dependency chain\n\nPackage installation for cache backend is being migrated to oslo module.\nFor proper keystone installation dependency sequence should be preserved.\n\nChange-Id: I3e22a74f032fa5d6362a36fe1b9fa9997c7a5564\nCloses-Bug: #1756215\n(cherry picked from commit 3ad015b57d8d02d3d6360c312c05ba971e0212bd)\n'}]",0,554104,aae889c32f77831181fc8dc7db9b6dd593da41f2,10,2,1,9414,,,0,"Add oslo::cache to dependency chain

Package installation for cache backend is being migrated to oslo module.
For proper keystone installation dependency sequence should be preserved.

Change-Id: I3e22a74f032fa5d6362a36fe1b9fa9997c7a5564
Closes-Bug: #1756215
(cherry picked from commit 3ad015b57d8d02d3d6360c312c05ba971e0212bd)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/04/554104/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/deps.pp'],1,aae889c32f77831181fc8dc7db9b6dd593da41f2,bug/1756215-stable/pike, # all cache settings should be applied and all packages should be installed # before service startup Oslo::Cache<||> -> Anchor['nova::service::begin'] ,,4,0
openstack%2Fnova~stable%2Focata~I0b3ec6bb098ca32ffd32a61d4f9dcf426c3faf46,openstack/nova,stable/ocata,I0b3ec6bb098ca32ffd32a61d4f9dcf426c3faf46,Don't try to delete build request during a reschedule,MERGED,2017-12-21 21:14:57.000000000,2018-03-23 02:11:41.000000000,2018-03-23 02:11:41.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 18529}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-21 21:14:57.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f70119c842958e730d64db44d6684c1501ea3049', 'message': ""Don't try to delete build request during a reschedule\n\nIf populate_retry failed because of MaxRetriesExceeded,\ndon't try to delete build requests because they should\nalready be gone from the initial create attempt, plus\nwe should assume the cell conductor can't reach the API\ndatabase anyway.\n\nSimilar for hitting NoValidHost during a reschedule. We\ncan tell if we're doing a reschedule by the num_attempts\nvalue in filter_properties, populated via populate_retry,\nwhich will be >1 during a reschedule.\n\nChange-Id: I0b3ec6bb098ca32ffd32a61d4f9dcf426c3faf46\nCloses-Bug: #1736946\n(cherry picked from commit cf88a27c6250043859306d47ae82a63535ad507f)\n(cherry picked from commit 96acf3db0bc9ecaddb04fc9effc4b9ca1553103d)\n""}]",0,529703,f70119c842958e730d64db44d6684c1501ea3049,31,13,1,6873,,,0,"Don't try to delete build request during a reschedule

If populate_retry failed because of MaxRetriesExceeded,
don't try to delete build requests because they should
already be gone from the initial create attempt, plus
we should assume the cell conductor can't reach the API
database anyway.

Similar for hitting NoValidHost during a reschedule. We
can tell if we're doing a reschedule by the num_attempts
value in filter_properties, populated via populate_retry,
which will be >1 during a reschedule.

Change-Id: I0b3ec6bb098ca32ffd32a61d4f9dcf426c3faf46
Closes-Bug: #1736946
(cherry picked from commit cf88a27c6250043859306d47ae82a63535ad507f)
(cherry picked from commit 96acf3db0bc9ecaddb04fc9effc4b9ca1553103d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/529703/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,f70119c842958e730d64db44d6684c1501ea3049,bug/1736946," num_attempts = filter_properties.get( 'retry', {}).get('num_attempts', 1) # If num_attempts > 1, we're in a reschedule and probably # either hit NoValidHost or MaxRetriesExceeded. Either way, # the build request should already be gone and we probably # can't reach the API DB from the cell conductor. if num_attempts <= 1: try: # If the BuildRequest stays around then instance # show/lists will pull from it rather than the errored # instance. self._destroy_build_request(context, instance) except exception.BuildRequestNotFound: pass"," try: # If the BuildRequest stays around then instance show/lists # will pull from it rather than the errored instance. self._destroy_build_request(context, instance) except exception.BuildRequestNotFound: pass",60,6
openstack%2Fdragonflow~master~I42f4279665183fbe65d85a2d53af269d1f37b13a,openstack/dragonflow,master,I42f4279665183fbe65d85a2d53af269d1f37b13a,Add default configuration files to data_files,ABANDONED,2018-03-21 07:34:13.000000000,2018-03-23 02:02:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2018-03-21 07:34:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/0b81dc5646a5f3c586563bfd1d9a459a0b8c2f6e', 'message': ""Add default configuration files to data_files\n\nIn order to make it simpler to use the default\nconfiguration files when deploying services\nfrom source, the files are added to pbr's\ndata_files section so that the files are\nincluded in the built wheels and therefore\ndeployed with the code. Packaging and deployment\ntools can then more easily use the default files\nif they wish to.\n\nThis pattern is already established with similar\nfiles for neutron and the glance metadefs as has\nbeen mentioned in the related bug report.\n\nChange-Id: I42f4279665183fbe65d85a2d53af269d1f37b13a\nCloses-Bug: #1718356\n""}]",0,554818,0b81dc5646a5f3c586563bfd1d9a459a0b8c2f6e,7,2,1,25254,,,0,"Add default configuration files to data_files

In order to make it simpler to use the default
configuration files when deploying services
from source, the files are added to pbr's
data_files section so that the files are
included in the built wheels and therefore
deployed with the code. Packaging and deployment
tools can then more easily use the default files
if they wish to.

This pattern is already established with similar
files for neutron and the glance metadefs as has
been mentioned in the related bug report.

Change-Id: I42f4279665183fbe65d85a2d53af269d1f37b13a
Closes-Bug: #1718356
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/18/554818/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0b81dc5646a5f3c586563bfd1d9a459a0b8c2f6e,bug/1718356,data_files = etc/dragonflow = etc/dragonflow/oslo-config-generator/dragonflow.ini etc/dragonflow/rootwrap.d = etc/cyborg/rootwrap.d/*,,5,0
openstack%2Frequirements~master~If590fea833b4bebf2d5da7382902e875cb8f69d4,openstack/requirements,master,If590fea833b4bebf2d5da7382902e875cb8f69d4,update constraint for os_vif to new release 1.10.0,MERGED,2018-03-21 23:29:40.000000000,2018-03-23 02:01:46.000000000,2018-03-23 02:01:46.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 23:29:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f8c5d1bd8efb92238fdc4b6656e2860e4dd44efa', 'message': 'update constraint for os_vif to new release 1.10.0\n\nChange-Id: If590fea833b4bebf2d5da7382902e875cb8f69d4\nmeta:version: 1.10.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Change-Id: If0b3b07a0f4f400b99e22f3276f04cd3d5321564\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+1: melanie witt <melwittt@gmail.com>\nmeta:release:Code-Review+1: Anne Bertucio <annebertucio@gmail.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555091,f8c5d1bd8efb92238fdc4b6656e2860e4dd44efa,9,5,1,11131,,,0,"update constraint for os_vif to new release 1.10.0

Change-Id: If590fea833b4bebf2d5da7382902e875cb8f69d4
meta:version: 1.10.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Stephen Finucane <sfinucan@redhat.com>
meta:release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta:release:Change-Id: If0b3b07a0f4f400b99e22f3276f04cd3d5321564
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+1: melanie witt <melwittt@gmail.com>
meta:release:Code-Review+1: Anne Bertucio <annebertucio@gmail.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/555091/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f8c5d1bd8efb92238fdc4b6656e2860e4dd44efa,new-release,os-vif===1.10.0,os-vif===1.9.0,1,1
openstack%2Ftripleo-heat-templates~master~Id262c75aa1483ca2507c6106bbeff2e9e3f0e682,openstack/tripleo-heat-templates,master,Id262c75aa1483ca2507c6106bbeff2e9e3f0e682,Set name property on the Deployment resources,ABANDONED,2018-03-07 05:34:16.000000000,2018-03-23 01:59:45.000000000,,"[{'_account_id': 4328}, {'_account_id': 6133}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 18575}, {'_account_id': 18851}, {'_account_id': 21151}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-07 05:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5276671f6e6c736d89b3f364b10ce302b63fa8cc', 'message': ""Set name property on the Deployment resources\n\nDeployment_name is used in tripleo-common to\ngenerate ansible playbooks. If it's None, it\nwill default to the name of parent_resource.\nThis patch is going to add name properties to\nPreConfig, ExtraConfigPost and PostConfig\nresources in case name property is not set in\ncustomized templates.\n\nChange-Id: Id262c75aa1483ca2507c6106bbeff2e9e3f0e682\n""}, {'number': 2, 'created': '2018-03-07 08:29:50.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb163632c1141d9e5450b84115984da98ce0924b', 'message': ""Set name property on the Deployment resources\n\nDeployment_name is used in tripleo-common to\ngenerate ansible playbooks. If it's None, it\nwill default to the name of parent_resource.\nThis patch is going to add name properties to\nPreConfig, ExtraConfigPost and PostConfig\nresources in case name property is not set in\ncustomized templates.\n\nChange-Id: Id262c75aa1483ca2507c6106bbeff2e9e3f0e682\n""}]",5,550334,fb163632c1141d9e5450b84115984da98ce0924b,17,9,2,21151,,,0,"Set name property on the Deployment resources

Deployment_name is used in tripleo-common to
generate ansible playbooks. If it's None, it
will default to the name of parent_resource.
This patch is going to add name properties to
PreConfig, ExtraConfigPost and PostConfig
resources in case name property is not set in
customized templates.

Change-Id: Id262c75aa1483ca2507c6106bbeff2e9e3f0e682
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/550334/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,5276671f6e6c736d89b3f364b10ce302b63fa8cc,," name: {{role.name}}PreConfig name: {{role.name}}ExtraConfigPost servers: {get_param: [servers, {{role.name}}]} name: {{role.name}}PostConfig servers: {get_param: servers}"," servers: {get_param: [servers, {{role.name}}]} servers: {get_param: servers}",5,2
openstack%2Fwatcher-tempest-plugin~master~Ibe9d8d88a638d04bfa47ae732dd981e72d8983b2,openstack/watcher-tempest-plugin,master,Ibe9d8d88a638d04bfa47ae732dd981e72d8983b2,Fix the old and invalid doc links,MERGED,2018-03-02 09:41:42.000000000,2018-03-23 01:56:01.000000000,2018-03-23 01:56:01.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-02 09:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/186185f4afcb6d53140659c473ac2f04b93311ce', 'message': 'Fix the old and invalid doc links\n\nThe urls in docs are old or not found.\nReplace them with the right ones for the docs according to\nthe official OpenStack websites.\n\nChange-Id: Ibe9d8d88a638d04bfa47ae732dd981e72d8983b2\n'}, {'number': 2, 'created': '2018-03-14 07:44:33.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'doc/source/readme.rst', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/499d075c8155f959b5a55469bc3ffd38bc5f9858', 'message': 'Fix the old and invalid doc links\n\nThe urls in docs are old or not found.\nReplace them with the right ones for the docs according to\nthe official OpenStack websites.\n\nChange-Id: Ibe9d8d88a638d04bfa47ae732dd981e72d8983b2\n'}]",4,549142,499d075c8155f959b5a55469bc3ffd38bc5f9858,11,3,2,23317,,,0,"Fix the old and invalid doc links

The urls in docs are old or not found.
Replace them with the right ones for the docs according to
the official OpenStack websites.

Change-Id: Ibe9d8d88a638d04bfa47ae732dd981e72d8983b2
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/42/549142/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'doc/source/readme.rst', 'setup.cfg', 'HACKING.rst']",5,186185f4afcb6d53140659c473ac2f04b93311ce,fix,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,8,8
openstack%2Fmurano-agent~master~I2b546267d2fe87595d7bb37845cf5220f6794e0c,openstack/murano-agent,master,I2b546267d2fe87595d7bb37845cf5220f6794e0c,Updated from global requirements,MERGED,2018-03-17 08:40:33.000000000,2018-03-23 01:51:35.000000000,2018-03-23 01:51:35.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-17 08:40:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/4b292f794a1827cff5e3b7acaadf006da9fc415f', 'message': 'Updated from global requirements\n\nChange-Id: I2b546267d2fe87595d7bb37845cf5220f6794e0c\n'}]",0,553963,4b292f794a1827cff5e3b7acaadf006da9fc415f,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I2b546267d2fe87595d7bb37845cf5220f6794e0c
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/63/553963/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4b292f794a1827cff5e3b7acaadf006da9fc415f,openstack/requirements,cryptography>=2.1 # BSD/Apache-2.0,"cryptography!=2.0,>=1.9 # BSD/Apache-2.0",1,1
openstack%2Fopenstack-helm~master~Id006bc4c81cfb4b3d72168f1da4ff1220c758e34,openstack/openstack-helm,master,Id006bc4c81cfb4b3d72168f1da4ff1220c758e34,gate: fix ceph on centos,MERGED,2018-03-21 22:16:28.000000000,2018-03-23 01:44:02.000000000,2018-03-23 01:44:02.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-21 22:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/635a1d24e4081d8bf96a275180fae66a18b25ef9', 'message': 'WIP; fix ceph on centos\n\nChange-Id: Id006bc4c81cfb4b3d72168f1da4ff1220c758e34\n'}, {'number': 2, 'created': '2018-03-21 23:47:13.000000000', 'files': ['tools/deployment/multinode/030-ceph.sh', 'tools/deployment/multinode/050-mariadb.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f65523a62c75e3f70a1606f1b22da321b83c261', 'message': 'gate: fix ceph on centos\n\nChange-Id: Id006bc4c81cfb4b3d72168f1da4ff1220c758e34\n'}]",0,555083,6f65523a62c75e3f70a1606f1b22da321b83c261,16,7,2,8898,,,0,"gate: fix ceph on centos

Change-Id: Id006bc4c81cfb4b3d72168f1da4ff1220c758e34
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/555083/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/030-ceph.sh', 'tools/deployment/multinode/050-mariadb.sh']",2,635a1d24e4081d8bf96a275180fae66a18b25ef9,gate-debug-centos,sleep 10 kubectl -n openstack get pods || true sleep 10 kubectl -n openstack describe po mariadb-0 || true ,,10,0
openstack%2Fcinder~driverfixes%2Focata~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,driverfixes/ocata,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-11-07 11:53:33.000000000,2018-03-23 01:38:26.000000000,2018-03-20 21:39:11.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-11-07 11:53:33.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b241f93267646a6501e3a5fb14521f05e38a2ae9', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greenthreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Blåudd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)\n(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)\n'}]",0,518306,b241f93267646a6501e3a5fb14521f05e38a2ae9,34,18,1,9535,,,0,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Blåudd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/518306/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",4,b241f93267646a6501e3a5fb14521f05e38a2ae9,bug/1692775," # Execute compression in native thread so it doesn't prevent # cooperative greenthread switching. compressed_data = eventlet.tpool.execute(self.compressor.compress, data)", compressed_data = self.compressor.compress(data),49,4
openstack%2Fpuppet-openstack-integration~stable%2Fpike~I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87,openstack/puppet-openstack-integration,stable/pike,I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87,Grep command error,MERGED,2018-03-20 00:18:33.000000000,2018-03-23 01:30:00.000000000,2018-03-23 01:30:00.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2018-03-20 00:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5c9ff9920304448c4527d408db60f80c0b0c2c11', 'message': 'Grep command error\n\nError[1] when executing grep command. add sudo for the grep commands\nwhen it is currently enabled.\n\n[1]:http://logs.openstack.org/63/554163/1/check/puppet-openstack-integration-4-scenario002-tempest-ubuntu-xenial/dd454e9/job-output.txt.gz#_2018-03-19_08_44_16_398090\n\nChange-Id: I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87\nCloses-Bug: #1756832\n(cherry picked from commit f8d4883f520c1dcbfd000b37c14607f87ae65932)\n'}, {'number': 2, 'created': '2018-03-22 20:34:34.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/de1f894ed810d326b7578fc0c64fe9a84880db92', 'message': 'Grep command error\n\nError[1] when executing grep command. add sudo for the grep commands\nwhen it is currently enabled.\n\n[1]:http://logs.openstack.org/63/554163/1/check/puppet-openstack-integration-4-scenario002-tempest-ubuntu-xenial/dd454e9/job-output.txt.gz#_2018-03-19_08_44_16_398090\n\nChange-Id: I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87\nCloses-Bug: #1756832\n(cherry picked from commit f8d4883f520c1dcbfd000b37c14607f87ae65932)\n'}]",0,554388,de1f894ed810d326b7578fc0c64fe9a84880db92,11,5,2,9414,,,0,"Grep command error

Error[1] when executing grep command. add sudo for the grep commands
when it is currently enabled.

[1]:http://logs.openstack.org/63/554163/1/check/puppet-openstack-integration-4-scenario002-tempest-ubuntu-xenial/dd454e9/job-output.txt.gz#_2018-03-19_08_44_16_398090

Change-Id: I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87
Closes-Bug: #1756832
(cherry picked from commit f8d4883f520c1dcbfd000b37c14607f87ae65932)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/88/554388/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,5c9ff9920304448c4527d408db60f80c0b0c2c11,bug/1756832-stable/pike, $SUDO grep -wiE '(Error|\(err\))' ${WORKSPACE}/puppet.log, grep -wiE '(Error|\(err\))' ${WORKSPACE}/puppet.log,1,1
openstack%2Fnova-specs~master~I893682a30181750fb70097d7f6a57b0e0f1b5336,openstack/nova-specs,master,I893682a30181750fb70097d7f6a57b0e0f1b5336,fix typos in documentation,ABANDONED,2018-02-17 08:07:33.000000000,2018-03-23 01:24:03.000000000,,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-17 08:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7ad773967950f66a3e6c4a2ee7a49d93b3302eb8', 'message': 'fix typos in documentation\n\nChange-Id: I893682a30181750fb70097d7f6a57b0e0f1b5336\n'}, {'number': 2, 'created': '2018-03-23 00:18:13.000000000', 'files': ['specs/juno/implemented/virt-driver-numa-placement.rst', 'specs/mitaka/approved/virt-image-props-boot-override.rst', 'specs/newton/approved/virt-image-props-boot-override.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fd0f9ada4f8cb765a4b528ff8d5a7f28876ed463', 'message': 'fix typos in documentation\n\nChange-Id: I893682a30181750fb70097d7f6a57b0e0f1b5336\n'}]",0,545528,fd0f9ada4f8cb765a4b528ff8d5a7f28876ed463,9,5,2,17130,,,0,"fix typos in documentation

Change-Id: I893682a30181750fb70097d7f6a57b0e0f1b5336
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/28/545528/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/mitaka/approved/virt-image-props-boot-override.rst', 'specs/newton/approved/virt-image-props-boot-override.rst']",2,7ad773967950f66a3e6c4a2ee7a49d93b3302eb8,trivialfix,"When an administrator sets up property protections in glance, they need to","When an adminsitrator sets up property protections in glance, they need to",2,2
openstack%2Fnova~stable%2Fqueens~I0c7b802a453aa423c7273ab724ce78eac0cfed4c,openstack/nova,stable/queens,I0c7b802a453aa423c7273ab724ce78eac0cfed4c,Make archive_deleted_rows handle a missing CONF.api_database.connection,MERGED,2018-03-16 10:10:05.000000000,2018-03-23 01:07:38.000000000,2018-03-23 01:07:38.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-16 10:10:05.000000000', 'files': ['doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aaae38d1aa227a732b9aa8c93d77a909d0324696', 'message': 'Make archive_deleted_rows handle a missing CONF.api_database.connection\n\nThis change https://review.openstack.org/#/c/515034/ (added in queens)\nmakes the archive_deleted_rows CLI remove instance mappings and request\nspecs from the API database if there are instances archived from the\nmain nova/cell database. However for this to work, the api database\nconnection should be set in the config file. So in the case that the\nAPI database is not configured in the config file being used to run the\nCLI, we should gracefully handle the condition and and stop archiving thus\nprompting the user to set the api_db config and try the archival operation\nagain. This patch fixes the graceful handling.\n\nConflicts:\n    nova/tests/unit/test_nova_manage.py\n\nNOTE(tssurya): The conflict is due to not having changes\nI6f87cf03d49be6bfad2c5e6f0c8accf0fab4e6ee and\nIbd824a77b32cbceb60973a89a93ce09fe6d1050d in Queens.\n\nChange-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c\nCloses-Bug: #1753833\n(cherry picked from commit 8da6831e6375d013f0235a542b6b91580a43f61f)\n'}]",0,553742,aaae38d1aa227a732b9aa8c93d77a909d0324696,33,13,1,26936,,,0,"Make archive_deleted_rows handle a missing CONF.api_database.connection

This change https://review.openstack.org/#/c/515034/ (added in queens)
makes the archive_deleted_rows CLI remove instance mappings and request
specs from the API database if there are instances archived from the
main nova/cell database. However for this to work, the api database
connection should be set in the config file. So in the case that the
API database is not configured in the config file being used to run the
CLI, we should gracefully handle the condition and and stop archiving thus
prompting the user to set the api_db config and try the archival operation
again. This patch fixes the graceful handling.

Conflicts:
    nova/tests/unit/test_nova_manage.py

NOTE(tssurya): The conflict is due to not having changes
I6f87cf03d49be6bfad2c5e6f0c8accf0fab4e6ee and
Ibd824a77b32cbceb60973a89a93ce09fe6d1050d in Queens.

Change-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c
Closes-Bug: #1753833
(cherry picked from commit 8da6831e6375d013f0235a542b6b91580a43f61f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/553742/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",3,aaae38d1aa227a732b9aa8c93d77a909d0324696,bug/1753833," archived, 2 if max_rows is invalid, 3 if no connection could be established to the API DB. If automating, this should be ctxt = context.get_admin_context() try: # NOTE(tssurya): This check has been added to validate if the API # DB is reachable or not as this is essential for purging the # instance_mappings and request_specs of the deleted instances. objects.CellMappingList.get_all(ctxt) except db_exc.CantStartEngineError: print(_('Failed to connect to API DB so aborting this archival ' 'attempt. Please check your config file to make sure that ' 'CONF.api_database.connection is set and run this ' 'command again.')) return 3 "," archived, 2 if max_rows is invalid. If automating, this should be ctxt = context.get_admin_context()",44,7
openstack%2Fcinder~master~Id6e3090d96a5bbf4879e8577fe3565c3032de228,openstack/cinder,master,Id6e3090d96a5bbf4879e8577fe3565c3032de228,[VNX] Restore snapshot to volume,MERGED,2017-12-21 06:49:42.000000000,2018-03-23 01:07:30.000000000,2018-03-23 01:07:29.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10439}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21728}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25805}, {'_account_id': 26114}, {'_account_id': 26537}, {'_account_id': 27552}]","[{'number': 1, 'created': '2017-12-21 06:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/050dc277861103ea48cbbdcca7f12a5cb36c11f8', 'message': '[VNX] Restore snapshot to volume\n\nAdd `revert_to_snapshot` API support for VNX Cinder driver.\n\nDocImpact\nImplements: blueprint vnx-revert-to-snapshot\n\nChange-Id: Id6e3090d96a5bbf4879e8577fe3565c3032de228\n'}, {'number': 2, 'created': '2018-01-11 02:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/695b232af8671bce702f721cf327eb887e612aef', 'message': '[VNX] Restore snapshot to volume\n\nAdd `revert_to_snapshot` API support for VNX Cinder driver.\n\nImplements: blueprint vnx-revert-to-snapshot\n\nChange-Id: Id6e3090d96a5bbf4879e8577fe3565c3032de228\n'}, {'number': 3, 'created': '2018-01-11 02:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c00a332c9a17433c249b5737b275776f925105d', 'message': '[VNX] Restore snapshot to volume\n\nAdd `revert_to_snapshot` API support for VNX Cinder driver.\n\nImplements: blueprint vnx-revert-to-snapshot\n\nChange-Id: Id6e3090d96a5bbf4879e8577fe3565c3032de228\n'}, {'number': 4, 'created': '2018-01-12 02:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2af2b153a1cad9919b12edb63207a29cf90a0697', 'message': '[VNX] Restore snapshot to volume\n\nAdd `revert_to_snapshot` API support for VNX Cinder driver.\n\nImplements: blueprint vnx-revert-to-snapshot\n\nChange-Id: Id6e3090d96a5bbf4879e8577fe3565c3032de228\n'}, {'number': 5, 'created': '2018-03-12 01:54:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'driver-requirements.txt', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'releasenotes/notes/vnx-revert-to-snapshot-e5494b6fb5ad5a1e.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cd65abb713381bbf6155e6e176043f9c41c04a7', 'message': '[VNX] Restore snapshot to volume\n\nAdd `revert_to_snapshot` API support for VNX Cinder driver.\n\nImplements: blueprint vnx-revert-to-snapshot\n\nChange-Id: Id6e3090d96a5bbf4879e8577fe3565c3032de228\n'}]",5,529497,2cd65abb713381bbf6155e6e176043f9c41c04a7,170,49,5,18742,,,0,"[VNX] Restore snapshot to volume

Add `revert_to_snapshot` API support for VNX Cinder driver.

Implements: blueprint vnx-revert-to-snapshot

Change-Id: Id6e3090d96a5bbf4879e8577fe3565c3032de228
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/529497/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",7,050dc277861103ea48cbbdcca7f12a5cb36c11f8,bp/vnx-revert-to-snapshot," def restore_snapshot(self, lun_id, snap_name): lun = self.get_lun(lun_id=lun_id) lun.restore_snap(snap_name) ",,41,1
openstack%2Frequirements~master~Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad,openstack/requirements,master,Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad,Updated from generate-constraints,MERGED,2018-03-14 06:59:02.000000000,2018-03-23 01:07:27.000000000,2018-03-23 01:07:27.000000000,"[{'_account_id': 10608}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 06:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aac7069ca94542b50bdb68e1fcf347487681cc3a', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 2, 'created': '2018-03-15 06:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4bd42e9e63f36333f9524131eb709929e928171b', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 3, 'created': '2018-03-16 06:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/da3fb74aad6f1d746fe42df369867e56e0c85433', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 4, 'created': '2018-03-16 15:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/84f75b8ff8dce52b1c159d160a4f610676a00442', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2018-03-16 17:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c987061f7867323dbff5b2deced4f3ab5d63f281', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 6, 'created': '2018-03-17 06:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/33eed296d74b36ef1981d088377b26f77db17117', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 7, 'created': '2018-03-18 06:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/df853b853e8d4bf05d3d01009b924b68bc89f951', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 8, 'created': '2018-03-19 06:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/886c849ce8b58616e9562c5772affb6f1ab42d99', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 9, 'created': '2018-03-20 06:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0393a14558a484318cbb6d17cbeefff29979c88c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 10, 'created': '2018-03-21 06:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a34e411286688942869ad6b7d102038d6fa6adea', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 11, 'created': '2018-03-22 06:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/65b49d5f45f5944facdba4daab8c43b88a6066c6', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 12, 'created': '2018-03-22 15:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/69687e07e1ccb8c6c8c34ec23f8544c8efe35177', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 13, 'created': '2018-03-22 17:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/375fcfc45785dc03e36bda23f65a738b55b0af57', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}, {'number': 14, 'created': '2018-03-22 18:49:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7d93e57e1661bbe26212e3313d9e0f7074cec09', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad\n'}]",1,552806,f7d93e57e1661bbe26212e3313d9e0f7074cec09,36,4,14,11131,,,0,"Updated from generate-constraints

Change-Id: Ica2958bac2b6ba1c71b9b49a2478f3737664d4ad
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/552806/5 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aac7069ca94542b50bdb68e1fcf347487681cc3a,openstack/requirements/constraints-noclob,pecan===1.3.2websocket-client===0.47.0lxml===4.2.0python-zunclient===1.2.0pika===0.11.2Sphinx===1.7.1kubernetes===5.0.0betamax===0.8.1botocore===1.9.8ovsdbapp===0.10.0,pecan===1.2.1websocket-client===0.40.0lxml===4.1.1python-zunclient===1.1.0pika===0.10.0Sphinx===1.6.7kubernetes===4.0.0betamax===0.8.0botocore===1.9.7ovsdbapp===0.9.1,10,10
openstack%2Fsahara~master~I34b8e09b754ed957ef08d89bdb24dfb3adf63f5f,openstack/sahara,master,I34b8e09b754ed957ef08d89bdb24dfb3adf63f5f,fix typos in documentation,ABANDONED,2018-03-23 00:23:44.000000000,2018-03-23 01:00:18.000000000,,[{'_account_id': 23078}],"[{'number': 1, 'created': '2018-03-23 00:23:44.000000000', 'files': ['sahara/plugins/cdh/v5_7_0/resources/kafka-kafka_broker.json', 'sahara/plugins/cdh/v5_9_0/resources/kafka-kafka_broker.json', 'sahara/plugins/vanilla/v2_7_1/resources/oozie-default.xml', 'sahara/plugins/vanilla/v2_7_1/resources/mapred-default.xml', 'sahara/plugins/cdh/v5_5_0/resources/kafka-kafka_broker.json', 'sahara/plugins/vanilla/v2_8_2/resources/oozie-default.xml', 'sahara/plugins/vanilla/v2_8_2/resources/mapred-default.xml', 'sahara/plugins/cdh/v5_11_0/resources/kafka-kafka_broker.json'], 'web_link': 'https://opendev.org/openstack/sahara/commit/e993674c5ed79ebad560ff237a26b579df8c1936', 'message': 'fix typos in documentation\n\nChange-Id: I34b8e09b754ed957ef08d89bdb24dfb3adf63f5f\n'}]",0,555536,e993674c5ed79ebad560ff237a26b579df8c1936,3,1,1,17130,,,0,"fix typos in documentation

Change-Id: I34b8e09b754ed957ef08d89bdb24dfb3adf63f5f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/36/555536/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/cdh/v5_7_0/resources/kafka-kafka_broker.json', 'sahara/plugins/cdh/v5_9_0/resources/kafka-kafka_broker.json', 'sahara/plugins/vanilla/v2_7_1/resources/oozie-default.xml', 'sahara/plugins/vanilla/v2_7_1/resources/mapred-default.xml', 'sahara/plugins/cdh/v5_5_0/resources/kafka-kafka_broker.json', 'sahara/plugins/vanilla/v2_8_2/resources/oozie-default.xml', 'sahara/plugins/vanilla/v2_8_2/resources/mapred-default.xml', 'sahara/plugins/cdh/v5_11_0/resources/kafka-kafka_broker.json']",8,e993674c5ed79ebad560ff237a26b579df8c1936,triviafix," ""desc"": ""If set, this is the hostname given out to producers, consumers, and other brokers to use in establishing connections. Never set this property at the group level; it should always be overridden on instance level."",] "," ""desc"": ""If set, this is the hostname given out to producers, consumers, and other brokers to use in establishing connections. Never set this property at the group level; it should always be overriden on instance level."",]",13,13
openstack%2Frequirements~master~Ibb2da2a98b78bbb4597b6fd1106103f6ae9e97ee,openstack/requirements,master,Ibb2da2a98b78bbb4597b6fd1106103f6ae9e97ee,remove mitmproxy,MERGED,2018-03-22 18:51:51.000000000,2018-03-23 00:46:35.000000000,2018-03-23 00:46:35.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 18:51:51.000000000', 'files': ['global-requirements.txt', 'openstack_requirements/tests/files/upper-constraints.txt', 'upper-constraints-xfails.txt', 'lower-constraints-xfails.txt', 'lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2207931fff22e24e5a54f62f85969238af9c5804', 'message': 'remove mitmproxy\n\nmitmproxt is only used by mitmstack and rpm-packaging, both of which\nwe do not care about.\n\nChange-Id: Ibb2da2a98b78bbb4597b6fd1106103f6ae9e97ee\n'}]",0,555422,2207931fff22e24e5a54f62f85969238af9c5804,7,3,1,14288,,,0,"remove mitmproxy

mitmproxt is only used by mitmstack and rpm-packaging, both of which
we do not care about.

Change-Id: Ibb2da2a98b78bbb4597b6fd1106103f6ae9e97ee
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/555422/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'openstack_requirements/tests/files/upper-constraints.txt', 'upper-constraints-xfails.txt', 'lower-constraints-xfails.txt', 'lower-constraints.txt', 'upper-constraints.txt']",6,2207931fff22e24e5a54f62f85969238af9c5804,remove-mitmproxy,,mitmproxy===3.0.3;python_version=='3.4' mitmproxy===3.0.3;python_version=='3.5',2,15
openstack%2Fbarbican~master~I3a208abbc6134d1c7be245d35eb4564ef886bd9b,openstack/barbican,master,I3a208abbc6134d1c7be245d35eb4564ef886bd9b,Handle URL reconstruction in PEP333 compatible fashion,MERGED,2018-01-29 11:40:36.000000000,2018-03-23 00:34:36.000000000,2018-03-23 00:34:36.000000000,"[{'_account_id': 7102}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 19554}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-29 11:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/43393eb514f3f15d4bdce26abb13920c1db96fa6', 'message': ""Handle URL reconstruction in PEP333 compatible fashion\n\nThe Pecan url in wsgi forward scenarios is not correct, as\nit does not handle the extra headers injected by the forwarding\nhandler. Improve this to properly detect the https case in\ncase the loadbalancer terminates SSL as well and always return\nthe original's request HOST for consistency.\n\nChange-Id: I3a208abbc6134d1c7be245d35eb4564ef886bd9b\n""}, {'number': 2, 'created': '2018-02-10 18:28:27.000000000', 'files': ['barbican/common/utils.py', 'barbican/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/4a6f3e9a48ecd893d228b69f7616828b727b287d', 'message': ""Handle URL reconstruction in PEP333 compatible fashion\n\nThe Pecan url in wsgi forward scenarios is not correct, as\nit does not handle the extra headers injected by the forwarding\nhandler. Improve this to properly detect the https case in\ncase the loadbalancer terminates SSL as well and always return\nthe original's request HOST for consistency.\n\nChange-Id: I3a208abbc6134d1c7be245d35eb4564ef886bd9b\n""}]",0,538887,4a6f3e9a48ecd893d228b69f7616828b727b287d,19,6,2,6593,,,0,"Handle URL reconstruction in PEP333 compatible fashion

The Pecan url in wsgi forward scenarios is not correct, as
it does not handle the extra headers injected by the forwarding
handler. Improve this to properly detect the https case in
case the loadbalancer terminates SSL as well and always return
the original's request HOST for consistency.

Change-Id: I3a208abbc6134d1c7be245d35eb4564ef886bd9b
",git fetch https://review.opendev.org/openstack/barbican refs/changes/87/538887/2 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/utils.py'],1,43393eb514f3f15d4bdce26abb13920c1db96fa6,," # Pecan does not handle X_FORWARDED_PROTO yet, so we need to # handle it ourselves. see lp#1445290 scheme = pecan.request.environ.get('HTTP_X_FORWARDED_PROTO', 'http') # Pecan does not handle url reconstruction according to # https://www.python.org/dev/peps/pep-0333/#url-reconstruction netloc = pecan.request.environ.get('HTTP_HOST', p_url.netloc) # FIXME: implement SERVER_NAME lookup if HTTP_HOST is not set if p_url.path: base_url = '%s://%s%s' % (scheme, netloc, p_url.path) else: base_url = '%s://%s' % (scheme, netloc)"," if p_url.path: base_url = '%s://%s%s' % (p_url.scheme, p_url.netloc, p_url.path) else: base_url = '%s://%s' % (p_url.scheme, p_url.netloc)",9,2
openstack%2Fproject-config~master~I9b11625a56721b7f833cb6cba9df6bc0b2de38d9,openstack/project-config,master,I9b11625a56721b7f833cb6cba9df6bc0b2de38d9,Remove gerrit legacy jobs,MERGED,2018-03-14 01:42:12.000000000,2018-03-23 00:30:05.000000000,2018-03-23 00:30:05.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 01:42:12.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dbfc8eed4640fc139201f8c55cd26aedf1661399', 'message': 'Remove gerrit legacy jobs\n\nThese have moved in tree\n\nChange-Id: I9b11625a56721b7f833cb6cba9df6bc0b2de38d9\nDepends-On: https://review.openstack.org/552718\n'}]",0,552723,dbfc8eed4640fc139201f8c55cd26aedf1661399,7,3,1,7118,,,0,"Remove gerrit legacy jobs

These have moved in tree

Change-Id: I9b11625a56721b7f833cb6cba9df6bc0b2de38d9
Depends-On: https://review.openstack.org/552718
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/552723/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,dbfc8eed4640fc139201f8c55cd26aedf1661399,gerrit-buck,, check: jobs: - legacy-gerrit-buck: branches: ^openstack/(?!2\.4).*$ gate: jobs: - legacy-gerrit-buck: branches: ^openstack/(?!2\.4).*$ post: jobs: - legacy-gerrit-package-buck: branches: ^openstack/(?!2\.4).*$ periodic: jobs: - legacy-javamelody-gerrit-plugin-stable-2.13 - legacy-its-storyboard-gerrit-plugin-stable-2.13,0,16
openstack%2Fpuppet-gnocchi~master~I79e4be4ff0a3eca635979c9b2ac9c0a2b33c9954,openstack/puppet-gnocchi,master,I79e4be4ff0a3eca635979c9b2ac9c0a2b33c9954,Switch acceptance test to use integration classes,MERGED,2018-03-21 01:36:46.000000000,2018-03-23 00:25:51.000000000,2018-03-23 00:25:51.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 01:36:46.000000000', 'files': ['spec/acceptance/basic_gnocchi_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/24b91e75d469836f6ed5bb7c7f9fbd8395742893', 'message': 'Switch acceptance test to use integration classes\n\nChange-Id: I79e4be4ff0a3eca635979c9b2ac9c0a2b33c9954\nDepends-On: I3680dbad11435ac82ad03d0195d8e348d21b1433\n'}]",0,554756,24b91e75d469836f6ed5bb7c7f9fbd8395742893,12,5,1,9414,,,0,"Switch acceptance test to use integration classes

Change-Id: I79e4be4ff0a3eca635979c9b2ac9c0a2b33c9954
Depends-On: I3680dbad11435ac82ad03d0195d8e348d21b1433
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/56/554756/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_gnocchi_spec.rb'],1,24b91e75d469836f6ed5bb7c7f9fbd8395742893,gnocchi-beaker-refactor," class { '::openstack_integration::gnocchi': integration_enable => false, }"," class { '::gnocchi::db::mysql': password => 'a_big_secret', } class { '::gnocchi::keystone::auth': password => 'a_big_secret', } class { '::gnocchi': debug => true, database_connection => 'mysql+pymysql://gnocchi:a_big_secret@127.0.0.1/gnocchi?charset=utf8', } class { '::gnocchi::keystone::authtoken': password => 'a_big_secret', } class { '::gnocchi::api': enabled => true, service_name => 'httpd', sync_db => true, } class { '::gnocchi::metricd': } class { '::gnocchi::storage': } class { '::gnocchi::storage::file': } include ::apache class { '::gnocchi::wsgi::apache': ssl => false, } class { '::gnocchi::statsd': archive_policy_name => 'high', flush_delay => '100', resource_id => '07f26121-5777-48ba-8a0b-d70468133dd9', user_id => 'f81e9b1f-9505-4298-bc33-43dfbd9a973b', project_id => '203ef419-e73f-4b8a-a73f-3d599a72b18d', } class { '::gnocchi::client': }",2,33
openstack%2Fswift~feature%2Fdeep~Ib6e87bc00a08dbb1921fbeb53393ee51e5989265,openstack/swift,feature/deep,Ib6e87bc00a08dbb1921fbeb53393ee51e5989265,Require own_shard_range to be in sharding state before sharding db,MERGED,2018-03-21 21:42:35.000000000,2018-03-23 00:25:04.000000000,2018-03-23 00:25:04.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0944f04b0b69e7c97c53c54b7b3a78c2c778263', 'message': ""Require own_shard_range to be in sharding state before sharding db\n\nBefore, it was assumed that if a broker had shard ranges then it would\nhave an own_shard_range and have epoch metadata. It was either\nbootstrapped by a leader action, or its shard ranges and metadata were\nreplicated from another node where it had been bootstrapped by a\nleader.\n\nTo support shard ranges being manually injected, we must either\nbootstrap one to sharding state or we require that the injected shard\nranges include an own_shard_range. The first approach risks two nodes\nfinding shard ranges, creating own_shard_range and choosing different\nepochs.\n\nThis patch therefore takes the latter approach of requiring\nown_shard_range to exist in sharding, shrinking or sharded state\nbefore the sharding process will begin, even if other shard ranges\nexist. Note that sharded state is included because another node may\nhave completed sharded and progressed own_shard_range state before\nanother node.\n\nA following patch adds epoch to ShardRange's thus ensuring that an\nown_shard_range will have an epoch.\n\nChange-Id: Ib6e87bc00a08dbb1921fbeb53393ee51e5989265\n""}, {'number': 2, 'created': '2018-03-22 12:29:53.000000000', 'files': ['test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/54de111296e8b80f4e3ed54dde88fdc31621dd67', 'message': ""Require own_shard_range to be in sharding state before sharding db\n\nBefore, it was assumed that if a broker had shard ranges then it would\nhave an own_shard_range and have epoch metadata. It was either\nbootstrapped by a leader action, or its shard ranges and metadata were\nreplicated from another node where it had been bootstrapped by a\nleader.\n\nTo support shard ranges being manually injected, we must either\nbootstrap one to sharding state or we require that the injected shard\nranges include an own_shard_range. The first approach risks two nodes\nfinding shard ranges, creating own_shard_range and choosing different\nepochs.\n\nThis patch therefore takes the latter approach of requiring\nown_shard_range to exist in sharding, shrinking or sharded state\nbefore the sharding process will begin, even if other shard ranges\nexist. Note that sharded state is included because another node may\nhave completed sharded and progressed own_shard_range state before\nanother node.\n\nA following patch adds epoch to ShardRange's thus ensuring that an\nown_shard_range will have an epoch.\n\nChange-Id: Ib6e87bc00a08dbb1921fbeb53393ee51e5989265\n""}]",4,555067,54de111296e8b80f4e3ed54dde88fdc31621dd67,10,3,2,7847,,,0,"Require own_shard_range to be in sharding state before sharding db

Before, it was assumed that if a broker had shard ranges then it would
have an own_shard_range and have epoch metadata. It was either
bootstrapped by a leader action, or its shard ranges and metadata were
replicated from another node where it had been bootstrapped by a
leader.

To support shard ranges being manually injected, we must either
bootstrap one to sharding state or we require that the injected shard
ranges include an own_shard_range. The first approach risks two nodes
finding shard ranges, creating own_shard_range and choosing different
epochs.

This patch therefore takes the latter approach of requiring
own_shard_range to exist in sharding, shrinking or sharded state
before the sharding process will begin, even if other shard ranges
exist. Note that sharded state is included because another node may
have completed sharded and progressed own_shard_range state before
another node.

A following patch adds epoch to ShardRange's thus ensuring that an
own_shard_range will have an epoch.

Change-Id: Ib6e87bc00a08dbb1921fbeb53393ee51e5989265
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/555067/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,c0944f04b0b69e7c97c53c54b7b3a78c2c778263,p-sharding-epoch-in-shard-range," # container may have been given shard ranges rather than # found them e.g. via replication or a shrink event if own_shard_range.state in (ShardRange.SHARDING, ShardRange.SHRINKING, ShardRange.SHARDED): # TODO: broker *should* also have had a sharding epoch # set but should we double check? If so, only leader # should set the epoch. broker.set_sharding_state() state = SHARDING else: self.logger.debug( 'Shard ranges found but own shard range is %r: %s' % (own_shard_range.state_text, broker.path)) self.logger.debug('No shard ranges to cleave for %s/%s',"," # container may have been given shard ranges rather # than found them e.g. via replication or a shrink event # TODO: broker *should* also have had a sharding epoch set # but should we double check? If so, only leader should set # the epoch. broker.set_sharding_state() state = SHARDING self.logger.debug('No uncleaved shard ranges for %s/%s',",181,13
openstack%2Frequirements~master~Iff2f3a95667f0be96ee1fa5a0c5bb417e9970551,openstack/requirements,master,Iff2f3a95667f0be96ee1fa5a0c5bb417e9970551,Bump lower bound of requests-mock,MERGED,2018-03-22 15:04:54.000000000,2018-03-23 00:24:35.000000000,2018-03-23 00:24:34.000000000,"[{'_account_id': 11904}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-22 15:04:54.000000000', 'files': ['global-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d54e2acf41c88424c8ef3db9e139b5ebd8ddd88e', 'message': ""Bump lower bound of requests-mock\n\nThe lower-constraints job added to shade has identified that\nrequests-mock 1.1.0 is unable to run shade's unit tests. 1.2.0 is fine.\n\nChange-Id: Iff2f3a95667f0be96ee1fa5a0c5bb417e9970551\n""}]",0,555331,d54e2acf41c88424c8ef3db9e139b5ebd8ddd88e,9,5,1,2,,,0,"Bump lower bound of requests-mock

The lower-constraints job added to shade has identified that
requests-mock 1.1.0 is unable to run shade's unit tests. 1.2.0 is fine.

Change-Id: Iff2f3a95667f0be96ee1fa5a0c5bb417e9970551
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/555331/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'lower-constraints.txt']",2,d54e2acf41c88424c8ef3db9e139b5ebd8ddd88e,,requests-mock===1.2.0,requests-mock===1.1.0,2,2
openstack%2Fheat-translator~master~Ib54727bef315518ebcb6e5554911f3e76651e4c7,openstack/heat-translator,master,Ib54727bef315518ebcb6e5554911f3e76651e4c7,add lower-constraints job,MERGED,2018-03-22 22:44:47.000000000,2018-03-23 00:19:18.000000000,2018-03-23 00:19:17.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 22:44:47.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/783848b6ef6b88b7da779996417e1a508c89d6b9', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ib54727bef315518ebcb6e5554911f3e76651e4c7\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555490,783848b6ef6b88b7da779996417e1a508c89d6b9,6,2,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: Ib54727bef315518ebcb6e5554911f3e76651e4c7
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/90/555490/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,783848b6ef6b88b7da779996417e1a508c89d6b9,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,91,1
openstack%2Fcinder~master~If7a2e3470403b45eff69dcf69b67615bb982a4eb,openstack/cinder,master,If7a2e3470403b45eff69dcf69b67615bb982a4eb,Fix vhd image conversion regression,MERGED,2018-03-20 02:00:58.000000000,2018-03-22 23:31:30.000000000,2018-03-21 14:48:21.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26297}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-20 02:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ae255b82af86d9306638e4e6b293869e81d40e4', 'message': 'Fix assignment error in image_utils\n\nRef patch: https://review.openstack.org/#/c/514658/\nAssignment error should be a negligence in [Ref patch].\n\nChange-Id: If7a2e3470403b45eff69dcf69b67615bb982a4eb\n'}, {'number': 2, 'created': '2018-03-20 19:45:31.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf9ea3fdb380e695aa2584106ee0c5b465b3055e', 'message': 'Fix vhd image conversion regression\n\nA recent change introduced a regression: due to a wrong assignment,\nwe\'re no longer passing qemu-img the right format when converting\nimages to ""vhd"". Note that it expects the legacy ""vpc"" name.\n\nThis change addresses this issue.\n\nCloses-Bug: #1757244\n\nChange-Id: If7a2e3470403b45eff69dcf69b67615bb982a4eb\n'}]",0,554394,cf9ea3fdb380e695aa2584106ee0c5b465b3055e,92,38,2,25837,,,0,"Fix vhd image conversion regression

A recent change introduced a regression: due to a wrong assignment,
we're no longer passing qemu-img the right format when converting
images to ""vhd"". Note that it expects the legacy ""vpc"" name.

This change addresses this issue.

Closes-Bug: #1757244

Change-Id: If7a2e3470403b45eff69dcf69b67615bb982a4eb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/554394/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,0ae255b82af86d9306638e4e6b293869e81d40e4,bug/1757244, out_format = 'vpc', out_format == 'vpc',1,1
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~Ib519d222e07e26d3683b24359e2f67728cdd8029,openstack/puppet-openstack-integration,stable/queens,Ib519d222e07e26d3683b24359e2f67728cdd8029,Fix ipv6 certificate to make it compliant with IDNA,MERGED,2018-03-22 06:14:41.000000000,2018-03-22 23:24:21.000000000,2018-03-22 23:24:20.000000000,"[{'_account_id': 9061}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 06:14:41.000000000', 'files': ['files/ipv6.crt', 'contrib/ssl-ipv4.conf', 'files/ipv4.key', 'contrib/ssl-ipv6.conf', 'manifests/tempest.pp', 'files/ipv6.key', 'files/ipv4.crt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b480ca08491e027e9269c76e7cb11890a6da0419', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nNote that horizont tempest plugin does not support ipaddress SANs based\ncertificate validation so I\'m disablint certificate validation for\ndashboard in this patch.\n\nDepends-On: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n(cherry picked from commit e40e6d934bb01e0ff1881b3fee92d97d17437179)\n'}]",0,555163,b480ca08491e027e9269c76e7cb11890a6da0419,16,5,1,3153,,,0,"Fix ipv6 certificate to make it compliant with IDNA

Currently we are setting ""DNS.0 = ::1"", but ::1 is not a valid
A-Label for IDNA so the certificate is not correct.

Additionally, we are setting wrong value for DNS.0 = 127.0.0.1
in the ipv4 certificate.

Finally, removing issuerAltName from both ipv4 and ipv6 certificates
as they are not needed for the jobs.

New versions of python-cryptography are more strict to check
certificates content and does not allow to have not compliant
DNS names so we need to fix the certificate to bump python-cryptography.

Note that horizont tempest plugin does not support ipaddress SANs based
certificate validation so I'm disablint certificate validation for
dashboard in this patch.

Depends-On: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5

Change-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029
(cherry picked from commit e40e6d934bb01e0ff1881b3fee92d97d17437179)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/63/555163/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ssl-ipv4.conf', 'files/ipv6.crt', 'files/ipv4.key', 'contrib/ssl-ipv6.conf', 'manifests/tempest.pp', 'files/ipv6.key', 'files/ipv4.crt']",7,b480ca08491e027e9269c76e7cb11890a6da0419,bump-cryptography-stable/queens,MIIEajCCA1KgAwIBAgIJANu54bDodQTzMA0GCSqGSIb3DQEBCwUAMHcxEjAQBgNV BAMMCTEyNy4wLjAuMTELMAkGA1UEBhMCVVMxFzAVBgNVBAgMDk5vcnRoIENhcm9s aW5hMRAwDgYDVQQHDAdSYWxlaWdoMRUwEwYDVQQKDAxSZWQgSGF0IEluYy4xEjAQ BgNVBAsMCU9wZW5TdGFjazAeFw0xODAzMTUxNTQ1NTZaFw0yODAzMTIxNTQ1NTZa MHcxEjAQBgNVBAMMCTEyNy4wLjAuMTELMAkGA1UEBhMCVVMxFzAVBgNVBAgMDk5v cnRoIENhcm9saW5hMRAwDgYDVQQHDAdSYWxlaWdoMRUwEwYDVQQKDAxSZWQgSGF0 IEluYy4xEjAQBgNVBAsMCU9wZW5TdGFjazCCASIwDQYJKoZIhvcNAQEBBQADggEP ADCCAQoCggEBAMgBnebSHL7y8E9Q99DmRhR8Dd5qNf30WxqVmBwFORGgd+M0xRXd tLSk+dxCg9DqSH0wIxQ8x8BGtvXnL55LCHxIAGrm95GjEyAZNk/6iCq4lH4PQwAy +Ng4kOaDo1GPCw1vUpZ+gQcPHS4nqqmSGXvKo0sslQeLx14UWaNqD54IQCjbw/+7 U6FEEIlcxyb5BJ/iKnGIUlIZiVZDiKym7XgCW+OhQonVQcLxoQa6A3O5l5jUjgJ5 98rtuiVv2EBLEob9tTDwygMWOeAh1X273j0uVnXbBzIcFaEYR8Pi/+ztkbuweJMf ml9fYAvTmEXcFe4eT5Yf4CebrA8Sb9/TEw0CAwEAAaOB+DCB9TAMBgNVHRMEBTAD AQH/MB0GA1UdDgQWBBRyd/2t9+/Ly4D+Sm4c4wjTFAgtkzCBqQYDVR0jBIGhMIGe gBRyd/2t9+/Ly4D+Sm4c4wjTFAgtk6F7pHkwdzESMBAGA1UEAwwJMTI3LjAuMC4x MQswCQYDVQQGEwJVUzEXMBUGA1UECAwOTm9ydGggQ2Fyb2xpbmExEDAOBgNVBAcM B1JhbGVpZ2gxFTATBgNVBAoMDFJlZCBIYXQgSW5jLjESMBAGA1UECwwJT3BlblN0 YWNrggkA27nhsOh1BPMwGgYDVR0RBBMwEYcEfwAAAYIJbG9jYWxob3N0MA0GCSqG SIb3DQEBCwUAA4IBAQCjnvZ5e6sbICi6F4zRYUk+i/uvd/4TuMx1SZwzdn4kR4AZ +7+DpEl9ZSdBNSYgjE2eVNklbt7vO+OFI08BeH0qQvu3g1V/iWCvHlu17uJIeEGM 3uCUh2dbg66qYl9+rGJgpkf6RC19cs26+KDyprApLmCbTkvHirg+thRtFzPwJtEY q5Hbxq70Gsx+YWHKjX/yq0xluaPawj8lhcIONduKGqRDvgwBW6bfIT+U5xYiJ4Uu J9lfVlVWHD7XsNSuiO72pvitpjoKaa9e6KSW8kJsIETL8T/I8Brhzd4PZWMFOTjf AqCZj1XBn1Uqgq+iJ399U6NSYNyStHNwSNXdjyp/,MIIEnjCCA4agAwIBAgIJAJph9pGSBdttMA0GCSqGSIb3DQEBCwUAMHcxEjAQBgNV BAMTCTEyNy4wLjAuMTELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9s aW5hMRAwDgYDVQQHEwdSYWxlaWdoMRUwEwYDVQQKEwxSZWQgSGF0IEluYy4xEjAQ BgNVBAsTCU9wZW5TdGFjazAeFw0xNjEwMjkyMjAzNTZaFw0yNjEwMjcyMjAzNTZa MHcxEjAQBgNVBAMTCTEyNy4wLjAuMTELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5v cnRoIENhcm9saW5hMRAwDgYDVQQHEwdSYWxlaWdoMRUwEwYDVQQKEwxSZWQgSGF0 IEluYy4xEjAQBgNVBAsTCU9wZW5TdGFjazCCASIwDQYJKoZIhvcNAQEBBQADggEP ADCCAQoCggEBAOSd5YPcIyT3YNawHrTCA8kD02Fio/6aYk/+rIyHixEMaRsymRiQ RpgmhGheFRJ6B++eZj6ZjyQGi3IMxTH+wbSqnkMW3pjgb/R8iuz885zw8GNCrq6f wQ4Ky0Xgbrh350B10rAd57iE17v7keVv9iNpiBNd52q3u4lZy3WrNzWgXRsY/h16 qFwhsnsd78YWVPC6SR89GCrLc7SCteh1um268lNMMAuMX7len9N6H2NHEgAjwvlE omIlBL3Rib9qYxHzLR+IikysbX0Xxh33rtUY0IXnob7GMTDJ6QnMQp0doQ8z5We2 Fg19DC7Esyy0F65PDIoRA3aXG0D4VOBac9MCAwEAAaOCASswggEnMAwGA1UdEwQF MAMBAf8wHQYDVR0OBBYEFO7Pd+doGykqBkTExUMlouw5RLeZMIGpBgNVHSMEgaEw gZ6AFO7Pd+doGykqBkTExUMlouw5RLeZoXukeTB3MRIwEAYDVQQDEwkxMjcuMC4w LjExCzAJBgNVBAYTAlVTMRcwFQYDVQQIEw5Ob3J0aCBDYXJvbGluYTEQMA4GA1UE BxMHUmFsZWlnaDEVMBMGA1UEChMMUmVkIEhhdCBJbmMuMRIwEAYDVQQLEwlPcGVu U3RhY2uCCQCaYfaRkgXbbTAlBgNVHREEHjAchwR/AAABggkxMjcuMC4wLjGCCWxv Y2FsaG9zdDAlBgNVHRIEHjAchwR/AAABggkxMjcuMC4wLjGCCWxvY2FsaG9zdDAN BgkqhkiG9w0BAQsFAAOCAQEAbBonDwtPT0uUOy/bclSL2KebD/dZSw2orZX+GX/c rox8Vv9v2GYVgufw4PT0NA5UO7dJlg/0grE/fxbeD+6ZfAi2rxNCMt+d72igFx4d pzLkXAvKmUOIOzgEkN80iHRAJX6ni5ga8AuS0NMpIrJQX1KviR8axmcLKRHbvm/S Zag6SxA1cqBlHPq/eDnlQ9VgEFI0/BYNkE2n5gixt3D3oc5d9P1teMcghgVTIRbx 09IDzyih17lCzX9mYdqM8ugxpNakcQVFO5QbxTUSa3g2Pv7ovl5tIYcaidSPaWqh aB6gJiOacPJPLrHypW+7CmdrU36vbmNWM7eLFs6E1j9m9g==,168,173
openstack%2Fpuppet-openstack-integration~stable%2Fpike~I4220e690c5437d201340ef3a850a15ebce3d89ad,openstack/puppet-openstack-integration,stable/pike,I4220e690c5437d201340ef3a850a15ebce3d89ad,Disable ironic testing on Ubuntu,MERGED,2018-03-22 15:57:51.000000000,2018-03-22 23:03:36.000000000,2018-03-22 23:03:36.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 15:57:51.000000000', 'files': ['fixtures/scenario002.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/87162ab7ead2659a168ebd3672359bd44d91dd45', 'message': 'Disable ironic testing on Ubuntu\n\nLooks like the ironic-conductor service is broke in Pike UCA.\n\nChange-Id: I4220e690c5437d201340ef3a850a15ebce3d89ad\nRelated-Bug: #1758094\n'}]",0,555348,87162ab7ead2659a168ebd3672359bd44d91dd45,7,3,1,14985,,,0,"Disable ironic testing on Ubuntu

Looks like the ironic-conductor service is broke in Pike UCA.

Change-Id: I4220e690c5437d201340ef3a850a15ebce3d89ad
Related-Bug: #1758094
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/48/555348/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario002.pp'],1,87162ab7ead2659a168ebd3672359bd44d91dd45,bug/1758094," # LP#1758094 $ironic_enabled = false $ironic_enabled = trueif $ironic_enabled { include ::openstack_integration::ironic } ironic => $ironic_enabled,","include ::openstack_integration::ironic ironic => true,",7,2
openstack%2Ftempest~master~Icfd6b2fc7adb42afb7900ea4458fa60cefc76fdb,openstack/tempest,master,Icfd6b2fc7adb42afb7900ea4458fa60cefc76fdb,Do not fail on stackviz issues,MERGED,2018-03-22 14:11:25.000000000,2018-03-22 23:03:18.000000000,2018-03-22 22:21:10.000000000,"[{'_account_id': 1921}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 14:11:25.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/aacf6e89acd4f871ed7e5ee834a5bee4c1e8b909', 'message': 'Do not fail on stackviz issues\n\nThe process-stackviz role only helps with analyzing runs, when it fails\nit should not cause the whole job to suffer a POST_FAILURE.\n\nChange-Id: Icfd6b2fc7adb42afb7900ea4458fa60cefc76fdb\nRelated-Bug: 1758054\n'}]",0,555314,aacf6e89acd4f871ed7e5ee834a5bee4c1e8b909,15,8,1,13252,,,0,"Do not fail on stackviz issues

The process-stackviz role only helps with analyzing runs, when it fails
it should not cause the whole job to suffer a POST_FAILURE.

Change-Id: Icfd6b2fc7adb42afb7900ea4458fa60cefc76fdb
Related-Bug: 1758054
",git fetch https://review.opendev.org/openstack/tempest refs/changes/14/555314/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,aacf6e89acd4f871ed7e5ee834a5bee4c1e8b909,bug/1758054, failed_when: False failed_when: False,,2,0
openstack%2Fneutron-specs~master~Idadb7d6a31cef2c90bbb405c904d5897a5fc64d0,openstack/neutron-specs,master,Idadb7d6a31cef2c90bbb405c904d5897a5fc64d0,fix a typo in diagnostics.rst,ABANDONED,2018-03-22 18:45:13.000000000,2018-03-22 23:00:51.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 18:45:13.000000000', 'files': ['specs/backlog/pike/diagnostics.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/91739bd482291e2dfcd782cdc293822ef66bfcda', 'message': 'fix a typo in diagnostics.rst\n\nChange-Id: Idadb7d6a31cef2c90bbb405c904d5897a5fc64d0\n'}]",0,555420,91739bd482291e2dfcd782cdc293822ef66bfcda,4,2,1,17130,,,0,"fix a typo in diagnostics.rst

Change-Id: Idadb7d6a31cef2c90bbb405c904d5897a5fc64d0
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/20/555420/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/pike/diagnostics.rst'],1,91739bd482291e2dfcd782cdc293822ef66bfcda,trivialfix, instance are remotable so they can be called via RPC., instance are remoteable so they can be called via RPC.,1,1
openstack%2Fmanila~stable%2Fpike~I43e4dae325dd6561a9fe0fd4ce595cea4c2ef7a6,openstack/manila,stable/pike,I43e4dae325dd6561a9fe0fd4ce595cea4c2ef7a6,Fix db migration for mariadb >= 10.2.8,MERGED,2018-02-13 18:38:01.000000000,2018-03-22 22:54:56.000000000,2018-03-22 22:54:56.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 17097}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-02-13 18:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4ab4147f4eed1203f5f3d12b761630000eb90e76', 'message': 'Fix db migration for mariadb >= 10.2.8\n\nStarting with mariadb 10.2.8, removing a column\nthat is part of a primary key requires that the\nprimary key constraint be dropped and recreated.\n\nChange-Id: I43e4dae325dd6561a9fe0fd4ce595cea4c2ef7a6\nCloses-Bug: #1749184\n'}, {'number': 6, 'created': '2018-02-20 10:36:49.000000000', 'files': ['releasenotes/notes/bug-1749184-eb06929e76a14fce.yaml', 'manila/db/migrations/alembic/versions/e8ea58723178_remove_host_from_driver_private_data.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2bdd5e8063d6e18fa2d35f448d6159fa0180c11f', 'message': 'Fix db migration for mariadb >= 10.2.8\n\nStarting with mariadb 10.2.8, removing a column\nthat is part of a primary key requires that the\nprimary key constraint be dropped and recreated.\n\nChange-Id: I43e4dae325dd6561a9fe0fd4ce595cea4c2ef7a6\nCloses-Bug: #1749184\n(cherry picked from commit 4a40da15fe0e9688c363371fd998ef7c3ba321ee)\n'}]",0,544040,2bdd5e8063d6e18fa2d35f448d6159fa0180c11f,19,9,2,22595,,,0,"Fix db migration for mariadb >= 10.2.8

Starting with mariadb 10.2.8, removing a column
that is part of a primary key requires that the
primary key constraint be dropped and recreated.

Change-Id: I43e4dae325dd6561a9fe0fd4ce595cea4c2ef7a6
Closes-Bug: #1749184
(cherry picked from commit 4a40da15fe0e9688c363371fd998ef7c3ba321ee)
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/544040/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1749184-eb06929e76a14fce.yaml', 'manila/db/migrations/alembic/versions/e8ea58723178_remove_host_from_driver_private_data.py']",2,4ab4147f4eed1203f5f3d12b761630000eb90e76,bug/1749184,"MYSQL_ENGINE = 'mysql' bind = op.get_bind() engine = bind.engine try: if (engine.name == MYSQL_ENGINE): op.drop_constraint('PRIMARY', TABLE_NAME, type_='primary') op.create_primary_key('DRIVERS_PRIVATE_PK', TABLE_NAME, ['entity_uuid', 'key'])", try:,12,0
openstack%2Fironic~master~I1dbc49d7d6185ce3c5f37f518bbecd11571a74fb,openstack/ironic,master,I1dbc49d7d6185ce3c5f37f518bbecd11571a74fb,Fix nits in the XClarity Driver codebase.,MERGED,2018-03-01 06:36:50.000000000,2018-03-22 22:47:57.000000000,2018-03-22 22:47:56.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11878}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 06:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6266c0bd32c92273c7fde3f93497b02f088cd597', 'message': 'Fix nits in the XClarity Driver codebase\n\nThis patch proposes to fix the nits that were left\nover from https://review.openstack.org/#/c/519427.\n\nChange-Id: I1dbc49d7d6185ce3c5f37f518bbecd11571a74fb\n'}, {'number': 2, 'created': '2018-03-07 14:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64fc437b1a9ca291ae0c257a253aafa8d5419a35', 'message': 'Fix nits in the XClarity Driver codebase\n\nThis patch proposes to fix the nits that were left\nover from 346a9a3bfc5312deb78bda8a82ae238e031413bd\n\nChange-Id: I1dbc49d7d6185ce3c5f37f518bbecd11571a74fb\n'}, {'number': 3, 'created': '2018-03-22 18:15:40.000000000', 'files': ['ironic/common/exception.py', 'releasenotes/notes/xclarity-driver-622800d17459e3f9.yaml', 'ironic/tests/unit/drivers/modules/xclarity/test_management.py', 'ironic/drivers/modules/xclarity/common.py', 'ironic/tests/unit/drivers/modules/xclarity/test_power.py', 'ironic/drivers/modules/xclarity/power.py', 'ironic/drivers/modules/xclarity/management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f08f726beb89937ea4cc50ac65e10ab42f849ff', 'message': 'Fix nits in the XClarity Driver codebase.\n\nFollow up to commit 346a9a3bfc5312deb78bda8a82ae238e031413bd\n\n * Move exception XClarityError to common/exceptions.py\n * Update language of the release note.\n * Specify the kind of power operation being performed.\n\nChange-Id: I1dbc49d7d6185ce3c5f37f518bbecd11571a74fb\n'}]",8,548792,4f08f726beb89937ea4cc50ac65e10ab42f849ff,35,12,3,11878,,,0,"Fix nits in the XClarity Driver codebase.

Follow up to commit 346a9a3bfc5312deb78bda8a82ae238e031413bd

 * Move exception XClarityError to common/exceptions.py
 * Update language of the release note.
 * Specify the kind of power operation being performed.

Change-Id: I1dbc49d7d6185ce3c5f37f518bbecd11571a74fb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/548792/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'releasenotes/notes/xclarity-driver-622800d17459e3f9.yaml', 'ironic/tests/unit/drivers/modules/xclarity/test_management.py', 'ironic/drivers/modules/xclarity/common.py', 'ironic/tests/unit/drivers/modules/xclarity/test_power.py', 'ironic/drivers/modules/xclarity/power.py', 'ironic/drivers/modules/xclarity/management.py']",7,6266c0bd32c92273c7fde3f93497b02f088cd597,, raise exception.XClarityError(error=xclarity_exc) raise exception.XClarityError(error=xclarity_exc), raise common.XClarityError(error=xclarity_exc) raise common.XClarityError(error=xclarity_exc),22,19
openstack%2Fswift~feature%2Fdeep~Ie21f85c7d98a705d91422c0d8f5242a9193e6513,openstack/swift,feature/deep,Ie21f85c7d98a705d91422c0d8f5242a9193e6513,Give sharder send_ranges its own GreenAsyncPile,MERGED,2018-03-22 16:20:33.000000000,2018-03-22 22:26:52.000000000,2018-03-22 22:26:52.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 16:20:33.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9b83cc20ef3579134a80fedb2db5a1afb480466f', 'message': 'Give sharder send_ranges its own GreenAsyncPile\n\nWe only need to wait for the put requests that send_ranges spawns, not\nevery thread in a shared pool.\n\nChange-Id: Ie21f85c7d98a705d91422c0d8f5242a9193e6513\n'}]",0,555364,9b83cc20ef3579134a80fedb2db5a1afb480466f,6,2,1,7847,,,0,"Give sharder send_ranges its own GreenAsyncPile

We only need to wait for the put requests that send_ranges spawns, not
every thread in a shared pool.

Change-Id: Ie21f85c7d98a705d91422c0d8f5242a9193e6513
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/555364/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,9b83cc20ef3579134a80fedb2db5a1afb480466f,," pool = GreenAsyncPile(len(nodes)) for node in nodes: pool.spawn(self._put_container, node, part, account, container, headers, body) results = pool.waitall(None)"," for node in nodes: self.cpool.spawn(self._put_container, node, part, account, container, headers, body) results = self.cpool.waitall(None)",4,3
openstack%2Fqinling~master~Ica8c68c6f15f97231a87e9e82fdf2d7e475a6e03,openstack/qinling,master,Ica8c68c6f15f97231a87e9e82fdf2d7e475a6e03,Add specs folder for Qinling,MERGED,2018-03-22 03:21:24.000000000,2018-03-22 22:20:24.000000000,2018-03-22 22:20:24.000000000,"[{'_account_id': 6732}, {'_account_id': 10453}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 03:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/85adcd1cd778540e648c6902e1ccd8ae105b9971', 'message': ""Add specs folder for Qinling\n\nWe don't need to put the specs files in a separate place to avoid\nmaintaince overhead, putting them in qinling's repo will also make it\neasy to build qinling documenatation.\n\nChange-Id: Ica8c68c6f15f97231a87e9e82fdf2d7e475a6e03\n""}, {'number': 2, 'created': '2018-03-22 04:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/5e53a37db4be82b35166088acbe6a11c93f92a75', 'message': ""Add specs folder for Qinling\n\nWe don't need to put the specs files in a separate place to avoid\nmaintaince overhead, putting them in qinling's repo will also make it\neasy to build qinling documenatation.\n\nChange-Id: Ica8c68c6f15f97231a87e9e82fdf2d7e475a6e03\n""}, {'number': 3, 'created': '2018-03-22 21:22:27.000000000', 'files': ['doc/source/index.rst', 'doc/source/specs/index.rst', 'doc/source/specs/template.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/f56c67fd895789af752e87141822bbd4d981a06b', 'message': ""Add specs folder for Qinling\n\nWe don't need to put the specs files in a separate place to avoid\nmaintaince overhead, putting them in qinling's repo will also make it\neasy to build qinling documenatation.\n\nChange-Id: Ica8c68c6f15f97231a87e9e82fdf2d7e475a6e03\n""}]",5,555140,f56c67fd895789af752e87141822bbd4d981a06b,13,4,3,6732,,,0,"Add specs folder for Qinling

We don't need to put the specs files in a separate place to avoid
maintaince overhead, putting them in qinling's repo will also make it
easy to build qinling documenatation.

Change-Id: Ica8c68c6f15f97231a87e9e82fdf2d7e475a6e03
",git fetch https://review.opendev.org/openstack/qinling refs/changes/40/555140/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/template.rst'],1,85adcd1cd778540e648c6902e1ccd8ae105b9971,add-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Example Spec - The title of your feature ======================================== Include the URL of the feature in storyboard: https://storyboard.openstack.org/#!/story/XXXXXX Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about the usage of specs folder: * Not all blueprints need a spec. If a new feature is straightforward enough that it doesn't need any design discussion, then no spec is required. It should be decided on IRC meeting within the whole core team. * The aim of this document is first to define the problem we need to solve, and second agree the overall approach to solve that problem. * This is not intended to be extensive documentation for a new feature. For example, there is no need to specify the exact configuration changes, nor the exact details of any DB model changes. But you should still define that such changes are required, and be clear on how that will affect upgrades. * You should aim to get your spec approved before writing your code. While you are free to write prototypes and code before getting your spec approved, its possible that the outcome of the spec review process leads you towards a fundamentally different solution than you first envisaged. * But, API changes are held to a much higher level of scrutiny. As soon as an API change merges, we must assume it could be in production somewhere, and as such, we then need to support that API change forever. To avoid getting that wrong, we do want lots of details about API changes upfront. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should be similar to the title in storyboard but in lower case combined with underscore. * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None. * For help with syntax, see http://sphinx-doc.org/rest.html Problem description =================== A detailed description of the problem. What problem is this feature addressing? Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Data model impact ----------------- This section is optional. Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing workflow/execution, or modify other existing data, please describe how that will work. REST API impact --------------- This section is optional. Each API method which is either added or changed should have the following: * Specification for the method. * A description of the added or changed method. * Method type (POST/PUT/GET/DELETE). * Normal http response code(s). * Expected error http response code(s). * URL for the resource. * Parameters which can be passed via the url. * Example use case including typical API samples for both data supplied by the caller and the response. End user impact --------------- This section is optional. Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-qinlingclient? What does the user interface there look like? Performance Impact ------------------ This section is optional. Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Deployer impact --------------- This section is optional. Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. Alternatives ------------ This section is optional. What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <irc nick name and email address> Other contributors: <irc nick name and email address> Dependencies ============ This section is optional. * Include specific references to specs and/or features in qinling, or in other projects, that this one either depends on or is related to. * Does this feature require any new library dependencies or code otherwise not included in Qinling? Or does it depend on a specific version of library? Testing ======= This section is optional. Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. References ========== This section is optional. Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Anything else you feel it is worthwhile to refer to",,237,0
openstack%2Fpuppet-openstack-integration~master~I3680dbad11435ac82ad03d0195d8e348d21b1433,openstack/puppet-openstack-integration,master,I3680dbad11435ac82ad03d0195d8e348d21b1433,Add integration_enable option to beaker test,MERGED,2018-03-21 01:36:18.000000000,2018-03-22 21:59:13.000000000,2018-03-22 21:59:13.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 01:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9880a7c4ce0bc69204e4cbf1327d5974265207fa', 'message': 'Add integration_enable option to beaker test\n\nChange-Id: I3680dbad11435ac82ad03d0195d8e348d21b1433\n'}, {'number': 2, 'created': '2018-03-21 01:50:43.000000000', 'files': ['manifests/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6a1b51907856b52b2f40526e178a7aeaa8919e5e', 'message': 'Add integration_enable option to beaker test\n\nChange-Id: I3680dbad11435ac82ad03d0195d8e348d21b1433\n'}]",0,554754,6a1b51907856b52b2f40526e178a7aeaa8919e5e,11,5,2,9414,,,0,"Add integration_enable option to beaker test

Change-Id: I3680dbad11435ac82ad03d0195d8e348d21b1433
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/54/554754/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/gnocchi.pp'],1,9880a7c4ce0bc69204e4cbf1327d5974265207fa,gnocchi-beaker-refactor,"# Configure the Sahara service # # [*integration_enable*] # (optional) Boolean to run integration tests. # Defaults to true. # if $integration_enable { class { '::gnocchi::storage::ceph': ceph_username => 'openstack', ceph_keyring => '/etc/ceph/ceph.client.openstack.keyring', manage_cradox => ($::osfamily == 'RedHat'), manage_rados => ($::osfamily == 'Debian'), } # make sure ceph pool exists before running gnocchi (dbsync & services) Exec['create-gnocchi'] -> Exec['gnocchi-db-sync'] } else { class { '::gnocchi::storage::file': } }"," class { '::gnocchi::storage::ceph': ceph_username => 'openstack', ceph_keyring => '/etc/ceph/ceph.client.openstack.keyring', manage_cradox => ($::osfamily == 'RedHat'), manage_rados => ($::osfamily == 'Debian'), } # make sure ceph pool exists before running gnocchi (dbsync & services) Exec['create-gnocchi'] -> Exec['gnocchi-db-sync']",17,7
openstack%2Fpuppet-ceilometer~master~I2e3c781fe01b7e2d0eebdde61635362ccbcd749b,openstack/puppet-ceilometer,master,I2e3c781fe01b7e2d0eebdde61635362ccbcd749b,Remove deprecated metering_secret option,MERGED,2018-03-20 06:04:07.000000000,2018-03-22 21:54:28.000000000,2018-03-22 21:54:28.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 06:04:07.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove_deprecated_metering_secret_option-2a01c56c1c849f3c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f28830d5aae8021215026bdf2f63a8713b7deeb1', 'message': 'Remove deprecated metering_secret option\n\nChange-Id: I2e3c781fe01b7e2d0eebdde61635362ccbcd749b\n'}]",0,554419,f28830d5aae8021215026bdf2f63a8713b7deeb1,8,5,1,9414,,,0,"Remove deprecated metering_secret option

Change-Id: I2e3c781fe01b7e2d0eebdde61635362ccbcd749b
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/19/554419/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove_deprecated_metering_secret_option-2a01c56c1c849f3c.yaml']",2,f28830d5aae8021215026bdf2f63a8713b7deeb1,remove_deprecated_metering_secret,--- other: - Remove deprecated metering_secret option for ::ceilometer class. ,,4,21
openstack%2Fpuppet-ironic~stable%2Fqueens~Ic2385603281a9c611d451bf0a99b80c9881bf2ac,openstack/puppet-ironic,stable/queens,Ic2385603281a9c611d451bf0a99b80c9881bf2ac,inspector: allow configuring always_store_ramdisk_logs,MERGED,2018-03-20 15:47:53.000000000,2018-03-22 21:54:01.000000000,2018-03-22 21:54:01.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 15:47:53.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/always_store_ramdisk_logs-cec708576c54b399.yaml', 'manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/86cb1ce88c75e14dd22ff1a02bb07e01f60aa563', 'message': 'inspector: allow configuring always_store_ramdisk_logs\n\nChange-Id: Ic2385603281a9c611d451bf0a99b80c9881bf2ac\n(cherry picked from commit 731b563675778d85f871625dd9bb5c43dd477d44)\n'}]",0,554598,86cb1ce88c75e14dd22ff1a02bb07e01f60aa563,7,3,1,10239,,,0,"inspector: allow configuring always_store_ramdisk_logs

Change-Id: Ic2385603281a9c611d451bf0a99b80c9881bf2ac
(cherry picked from commit 731b563675778d85f871625dd9bb5c43dd477d44)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/98/554598/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/always_store_ramdisk_logs-cec708576c54b399.yaml', 'manifests/inspector.pp']",3,86cb1ce88c75e14dd22ff1a02bb07e01f60aa563,,"# [*always_store_ramdisk_logs*] # (optional) Whether to store ramdisk logs even for successful introspection. # Defaults to $::os_service_default # $always_store_ramdisk_logs = $::os_service_default, 'processing/always_store_ramdisk_logs': value => $always_store_ramdisk_logs;",,12,0
openstack%2Frequirements~master~I3fd5516a90cdfc8a53dfba411d165d54ea3751a2,openstack/requirements,master,I3fd5516a90cdfc8a53dfba411d165d54ea3751a2,Bump upper constraint of python-zunclient,ABANDONED,2018-03-22 21:03:09.000000000,2018-03-22 21:43:49.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}]","[{'number': 1, 'created': '2018-03-22 21:03:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/198f9f00371cfc44044c9281e26ecb45586bdcf1', 'message': 'Bump upper constraint of python-zunclient\n\nPin python-zunclient 1.3.0 which is the latest release\n\nChange-Id: I3fd5516a90cdfc8a53dfba411d165d54ea3751a2\n'}]",0,555455,198f9f00371cfc44044c9281e26ecb45586bdcf1,4,2,1,11536,,,0,"Bump upper constraint of python-zunclient

Pin python-zunclient 1.3.0 which is the latest release

Change-Id: I3fd5516a90cdfc8a53dfba411d165d54ea3751a2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/555455/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,198f9f00371cfc44044c9281e26ecb45586bdcf1,,python-zunclient===1.3.0,python-zunclient===1.2.1,1,1
openstack%2Fqinling~master~Ie72a08c282a4b3e7b9c37942421817853ee9ad49,openstack/qinling,master,Ie72a08c282a4b3e7b9c37942421817853ee9ad49,Exclude tests and db migrations from coverage report,MERGED,2018-03-21 06:25:51.000000000,2018-03-22 21:39:45.000000000,2018-03-22 21:39:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 27695}]","[{'number': 1, 'created': '2018-03-21 06:25:51.000000000', 'files': ['.coveragerc'], 'web_link': 'https://opendev.org/openstack/qinling/commit/9bed24e9eefcae63d3c211124a7b061e2bd42de7', 'message': 'Exclude tests and db migrations from coverage report\n\nChange-Id: Ie72a08c282a4b3e7b9c37942421817853ee9ad49\n'}]",0,554802,9bed24e9eefcae63d3c211124a7b061e2bd42de7,7,3,1,21781,,,0,"Exclude tests and db migrations from coverage report

Change-Id: Ie72a08c282a4b3e7b9c37942421817853ee9ad49
",git fetch https://review.opendev.org/openstack/qinling refs/changes/02/554802/1 && git format-patch -1 --stdout FETCH_HEAD,['.coveragerc'],1,9bed24e9eefcae63d3c211124a7b061e2bd42de7,,omit = qinling/tests/* qinling/db/sqlalchemy/migration/alembic_migrations/versions/*,,3,0
openstack%2Fpuppet-neutron~master~I7b7d144d7e29d5aa91b2f931d0eb444a93ef21c5,openstack/puppet-neutron,master,I7b7d144d7e29d5aa91b2f931d0eb444a93ef21c5,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:50.000000000,2018-03-22 21:25:42.000000000,2018-03-22 21:25:42.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:50.000000000', 'files': ['spec/classes/neutron_server_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a48732416b576bce8babb4e68270b8c145251328', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I7b7d144d7e29d5aa91b2f931d0eb444a93ef21c5\n'}]",0,554782,a48732416b576bce8babb4e68270b8c145251328,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I7b7d144d7e29d5aa91b2f931d0eb444a93ef21c5
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/82/554782/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_server_spec.rb'],1,a48732416b576bce8babb4e68270b8c145251328,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('neutron_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) it { is_expected.to contain_oslo__middleware('neutron_config').with( :enable_proxy_headers_parsing => true, )}", is_expected.to contain_neutron_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_neutron_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },6,2
openstack%2Fpuppet-nova~master~I958363088412a9875c4ed249977dd14bd9d8ef82,openstack/puppet-nova,master,I958363088412a9875c4ed249977dd14bd9d8ef82,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:51.000000000,2018-03-22 21:21:01.000000000,2018-03-22 21:21:01.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:51.000000000', 'files': ['spec/classes/nova_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/03d2deca125b8645ebdf7543e8354c0c71463705', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I958363088412a9875c4ed249977dd14bd9d8ef82\n'}]",0,554783,03d2deca125b8645ebdf7543e8354c0c71463705,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I958363088412a9875c4ed249977dd14bd9d8ef82
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/83/554783/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/nova_api_spec.rb'],1,03d2deca125b8645ebdf7543e8354c0c71463705,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('nova_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__middleware('nova_config').with( :enable_proxy_headers_parsing => true, )", is_expected.to contain_nova_config('oslo_middleware/enable_proxy_headers_parsing').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_middleware/enable_proxy_headers_parsing').with('value' => true),6,2
openstack%2Fpuppet-glance~master~I012372ab87e34f93bf0ee801f9292d0f059a1ba2,openstack/puppet-glance,master,I012372ab87e34f93bf0ee801f9292d0f059a1ba2,Switch acceptance test to use integration classes,MERGED,2018-03-21 01:36:23.000000000,2018-03-22 21:16:03.000000000,2018-03-22 21:16:03.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 01:36:23.000000000', 'files': ['spec/acceptance/basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/4f0a7b1b6392ef09452ad11e7911070c47d673b4', 'message': 'Switch acceptance test to use integration classes\n\nChange-Id: I012372ab87e34f93bf0ee801f9292d0f059a1ba2\n'}]",0,554755,4f0a7b1b6392ef09452ad11e7911070c47d673b4,8,4,1,9414,,,0,"Switch acceptance test to use integration classes

Change-Id: I012372ab87e34f93bf0ee801f9292d0f059a1ba2
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/55/554755/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_glance_spec.rb'],1,4f0a7b1b6392ef09452ad11e7911070c47d673b4,glance-beaker-refactor, include ::openstack_integration::glance," # Glance resources include ::glance include ::glance::client include ::glance::backend::file class { '::glance::db::mysql': # https://bugs.launchpad.net/puppet-glance/+bug/1446375 collate => 'utf8_general_ci', password => 'a_big_secret', } class { '::glance::keystone::auth': password => 'a_big_secret', } class { '::glance::api::authtoken': password => 'a_big_secret', } class { '::glance::api': debug => true, database_connection => 'mysql+pymysql://glance:a_big_secret@127.0.0.1/glance?charset=utf8', enable_v1_api => false, enable_v2_api => true, }",1,22
openstack%2Fpuppet-heat~master~Ic992b2044a9bf84d7584245df5f77cd252daf458,openstack/puppet-heat,master,Ic992b2044a9bf84d7584245df5f77cd252daf458,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:50.000000000,2018-03-22 21:14:58.000000000,2018-03-22 21:14:58.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:50.000000000', 'files': ['spec/classes/heat_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/0e3dc29003de9259b266a2831060763e74977611', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: Ic992b2044a9bf84d7584245df5f77cd252daf458\n'}]",0,554780,0e3dc29003de9259b266a2831060763e74977611,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: Ic992b2044a9bf84d7584245df5f77cd252daf458
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/80/554780/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/heat_init_spec.rb'],1,0e3dc29003de9259b266a2831060763e74977611,standard-oslo-middleware-params," is_expected.to contain_heat_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('oslo_messaging_notifications/topics').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__middleware('heat_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', )", is_expected.to contain_heat_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('oslo_messaging_notifications/topics').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>'),6,4
openstack%2Fopenstack-ansible-lxc_hosts~master~I839bbcfff3f33dde144e9fb8d078fa1d97f8c410,openstack/openstack-ansible-lxc_hosts,master,I839bbcfff3f33dde144e9fb8d078fa1d97f8c410,Split the container and host variable files,MERGED,2018-03-19 23:39:19.000000000,2018-03-22 21:13:43.000000000,2018-03-22 21:13:43.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 23:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2497ddb1a9f94288484ab07f2b18182eafff6cbd', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-19 23:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6338e979883111994a0c782b434dbbb172d2e6f8', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-19 23:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/41b23f8a8363d810596e4c208b450ef90d8ed050', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-03-20 00:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/08f36518a9c9131a7904b7db76dd5664b6240ed2', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-03-20 00:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ba99c116a39141a712e4a4f65a7d69369d90207f', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-03-20 00:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/10e999408d2514f027f1e4719cdbf794b36fa513', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-03-20 00:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e5ce0ade8760ea543aafc1bac673effc8b3f3c4b', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-03-20 04:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/725cc9fad3eea2591d3ceb96afabbb15a92e9a67', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-03-20 04:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/18d761012aa4a05b4c3c8bf623d32a8a254b880b', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-03-21 14:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e5a54e5cf0af5e9540637b625b84977ab1b42c12', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-03-21 14:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/fc45fed288795a1a80ef4d1578e3b4b2c4c1e6ff', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-03-21 15:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/441b119091e2805ddee828a0824c50c3867e2be8', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2018-03-21 16:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8f04909be7c9b06c677d21151884c8d42a4c38da', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2018-03-21 23:53:12.000000000', 'files': ['vars/redhat-7-host.yml', 'tasks/main.yml', 'tasks/lxc_post_install.yml', 'templates/prep-scripts/ubuntu_16_prep.sh.j2', 'templates/prep-scripts/opensuse_leap_42_prep.sh.j2', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'vars/ubuntu-16.04-host.yml', 'vars/suse-42-host.yml', 'releasenotes/notes/separate-host-vars-1daed001ee6b88ae.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e44df830ef53ed1d589d1cc7a4ca760a55cb44da', 'message': 'Split the container and host variable files\n\nThe host and container image variable files have been split. This split\nnow gives deployers the ability to change or customize the container\nimage used on a given host.\n\nChange-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",4,554383,e44df830ef53ed1d589d1cc7a4ca760a55cb44da,34,5,14,7353,,,0,"Split the container and host variable files

The host and container image variable files have been split. This split
now gives deployers the ability to change or customize the container
image used on a given host.

Change-Id: I839bbcfff3f33dde144e9fb8d078fa1d97f8c410
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/83/554383/11 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7-host.yml', 'tasks/main.yml', 'tasks/lxc_post_install.yml', 'templates/prep-scripts/ubuntu_16_prep.sh.j2', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'vars/ubuntu-16.04-host.yml', 'vars/ubuntu-16.04-container.yml', 'vars/suse-42-host.yml', 'releasenotes/notes/separate-host-vars-1daed001ee6b88ae.yaml', 'vars/suse-42-container.yml', 'vars/redhat-7-container.yml']",12,2497ddb1a9f94288484ab07f2b18182eafff6cbd,separate-host-vars,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. _lxc_hosts_container_image_url: ""https://github.com/CentOS/sig-cloud-instance-images/raw/CentOS-7/docker/centos-7-docker.tar.xz"" _lxc_cache_map: distro: centos arch: ""{{ lxc_architecture_mapping.get( ansible_architecture ) }}"" release: 7 copy_from_host: - /etc/environment - /etc/localtime - /etc/pki/rpm-gpg/ - /etc/yum/pluginconf.d/fastestmirror.conf - /etc/yum.repos.d/ _lxc_cache_prep_template: ""prep-scripts/centos_7_prep.sh.j2"" _lxc_cache_distro_packages: - ca-certificates - cronie - epel-release - gcc - iproute - iputils - libffi-devel - openssh-server - openssl - openssl-devel - python2 - python-devel - rsync - sudo - systemd - systemd-sysv - systemd-networkd - tar - wget - which - yum-plugin-priorities - yum-plugin-rpm-warm-cache - yum-utils ",,258,179
openstack%2Fopenstack-ansible-lxc_hosts~master~I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8,openstack/openstack-ansible-lxc_hosts,master,I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8,Convert lxc_hosts role to use simple download URL,MERGED,2018-03-17 18:39:29.000000000,2018-03-22 21:13:41.000000000,2018-03-22 21:13:41.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-17 18:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ca32082426714de26364fff8fa4077a8dc114b21', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\ntime. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs from our supported\nstable distros. At present the image for ubuntu is consuming the base\nrootfs orovided by canonical. The opensuse image is coming from the suse\ncloud images repo. The centos image is provided by centos openstack\nimages.\n\nThe result of this change:\n\n* Smaller more optimal base image which is well known by the corresponding\n  communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Few tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-03-17 19:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0a289c620118ef4382bd9f4461217341eb7b7a0a', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\ntime. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs from our supported\nstable distros. At present the image for ubuntu is consuming the base\nrootfs orovided by canonical. The opensuse image is coming from the suse\ncloud images repo. The centos image is provided by centos openstack\nimages.\n\nThe result of this change:\n\n* Smaller more optimal base image which is well known by the corresponding\n  communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Few tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-03-17 19:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6b9449f65a0e1667f473f82b31b77f39b973f874', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\ntime. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs from our supported\nstable distros. At present the image for ubuntu is consuming the base\nrootfs orovided by canonical. The opensuse image is coming from the suse\ncloud images repo. The centos image is provided by centos openstack\nimages.\n\nThe result of this change:\n\n* Smaller more optimal base image which is well known by the corresponding\n  communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Few tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2018-03-18 04:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ce99cf24bc95e77cdd593b9213c8eaa914df79c1', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Smaller more optimal base image which is well known by the corresponding\n  communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 5, 'created': '2018-03-18 04:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6befe30e01cb53d20bc02bf0c4e7365e5d99a620', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Smaller more optimal base image which is well known by the corresponding\n  communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 6, 'created': '2018-03-18 05:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/69291cc25d266fc8936d3583d46ce5279b9c2fd6', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Smaller more optimal base image which is well known by the corresponding\n  communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 7, 'created': '2018-03-18 07:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b17ad5b23a08513502bfc9c21bd794fff38b04e1', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 8, 'created': '2018-03-18 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/269c275aad20c6257e75af3c5c37e8ba111fc44e', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 9, 'created': '2018-03-18 08:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4b1ac6ec7392e7c9a3d133e220a565a0f6d52d54', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 10, 'created': '2018-03-18 18:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/5a4fadf3316f9c728893772be84b03408b35f2eb', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 11, 'created': '2018-03-18 18:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/188f62c83e4c329dec85d7b2f1c55e7ba391d0c5', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 12, 'created': '2018-03-18 18:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8e2170b6c984a3d9814b2851ee2301fe40aee2a8', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 13, 'created': '2018-03-18 18:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/142c115e281a34c9172d8706c70c013e5d4ac20e', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 14, 'created': '2018-03-18 18:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8d33a4f5b106175e00369bb87774daaecbaca1ac', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 15, 'created': '2018-03-18 18:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4b8cc276c390f0fe8537bdfc1493766de9d469e5', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 16, 'created': '2018-03-18 19:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/af996a86711eba94c8804994eac64c19ad26b08b', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 17, 'created': '2018-03-18 19:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/07d436f6efdc6547d66f93ad9aceafb84b0466f6', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 18, 'created': '2018-03-18 20:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f35a39e75738e07cae1403d3f13583c38636edb8', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 19, 'created': '2018-03-19 03:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0b00caba8e9ec9468e8f52a43fd8c69ba1b17d22', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 20, 'created': '2018-03-19 04:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2a6be3fdd9a5a7a80156c4e8831149f07d61d8d5', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 21, 'created': '2018-03-19 04:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f41707c7b0e3137efbd04e54c74513535552b173', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 22, 'created': '2018-03-19 16:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9173120d56aea6baf651d9146d3b60c3d9a3da07', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 23, 'created': '2018-03-19 21:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/56d2600237a0f966911ba7c977490e84e1bfb9c2', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 24, 'created': '2018-03-19 21:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e6282f470c7de7d195edc8cf7213ddbe2d62dd3c', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 25, 'created': '2018-03-19 23:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cee2ee304752cebb50ef0786f57829564011167b', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 26, 'created': '2018-03-19 23:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/286985598f75fa504ed92b13c33d7488c881e5c1', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 27, 'created': '2018-03-19 23:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4e85f69b4bf1772f83b222a8e9d5c28d3a366a23', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 28, 'created': '2018-03-20 00:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9958c9e5cf73b9cf6ebdc173d95c04806cb03db3', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 29, 'created': '2018-03-20 00:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3a94a65c9e4bbc5c417221ae19f309d1fe7dcb1b', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 30, 'created': '2018-03-20 01:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a9f775b39f235ee6f34a3bc7fd6d0736f64b38de', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 31, 'created': '2018-03-20 02:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/db7467e53a5ffb33af67d775ecf849439345a652', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 32, 'created': '2018-03-20 02:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c5bdf0adb281517d8824752e69d1863df027cdfb', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 33, 'created': '2018-03-20 02:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/18c1140e245f03584c66b4f038cec36ae386a9bc', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 34, 'created': '2018-03-20 04:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a55a6e5cb6f7bbfcd7c395ee5670c294e125155f', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 35, 'created': '2018-03-21 14:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/44a53a9cd28a1f3d5f6c48acd66a879dacaaa117', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 36, 'created': '2018-03-21 14:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/122c062a2e973c6aaab2c5d0131d9f697bf60fb8', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 37, 'created': '2018-03-21 14:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3d2c9508d9ec20fa54517d4a6a14427b90badd81', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 38, 'created': '2018-03-21 15:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/df62434bd282ed6f97438eff0664a6f7696979f2', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 39, 'created': '2018-03-21 23:52:53.000000000', 'files': ['releasenotes/notes/lxc_image_cache-f14701a7qw90al21.yaml', 'templates/prep-scripts/centos_7_prep.sh.j2', 'templates/prep-scripts/ubuntu_16_prep.sh.j2', 'handlers/main.yml', 'templates/prep-scripts/opensuse_leap_42_prep.sh.j2', 'tests/test.yml', 'vars/ubuntu-16.04.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml', 'tasks/lxc_cache_prestage.yml', 'templates/prep-scripts/_container_sys_setup.sh.j2', 'templates/lxc-image-fetch-url.py.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7e98da3d0f952eb4079e44aedf537ce70122780b', 'message': ""Convert lxc_hosts role to use simple download URL\n\nFor a very long time we've been parsing and using the lxc images as\nprovided by upstream lxc. While these images are functional there are by\nno means optimal. In general they're quite a bit larger than they need\nto be and contian a lot of little sharp edges that have cut us over\nthe years. This change removes all of the lxc image cache parsing and\nmeta-data linking and simply downloads the rootfs a given url. To\nmaintain compatibility with the legacy images a script has been created\nto parse the image index and return the legacy image url.\n\nThe result of this change:\n\n* Access to smaller more optimal base image which is well known by the\n  corresponding communities.\n\n* Deployers now have the ability to set and forget the download url for an\n  internal image instead of having to create a cache infrastructure\n  compatible with the lxc download template.\n\n* Any rootfs tarball will work as an image.\n\n* Fewer tasks are executed and less memory is consumed resulting in faster\n  deployment times.\n\n* The base cache has a uniform meta-data setup giving all container\n  types the same access to config, devices, and templating.\n\nChange-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",21,554003,7e98da3d0f952eb4079e44aedf537ce70122780b,89,6,39,7353,,,0,"Convert lxc_hosts role to use simple download URL

For a very long time we've been parsing and using the lxc images as
provided by upstream lxc. While these images are functional there are by
no means optimal. In general they're quite a bit larger than they need
to be and contian a lot of little sharp edges that have cut us over
the years. This change removes all of the lxc image cache parsing and
meta-data linking and simply downloads the rootfs a given url. To
maintain compatibility with the legacy images a script has been created
to parse the image index and return the legacy image url.

The result of this change:

* Access to smaller more optimal base image which is well known by the
  corresponding communities.

* Deployers now have the ability to set and forget the download url for an
  internal image instead of having to create a cache infrastructure
  compatible with the lxc download template.

* Any rootfs tarball will work as an image.

* Fewer tasks are executed and less memory is consumed resulting in faster
  deployment times.

* The base cache has a uniform meta-data setup giving all container
  types the same access to config, devices, and templating.

Change-Id: I1775e775bbb7fe86bdffdd8296c2cff5ebc5bac8
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/03/554003/33 && git format-patch -1 --stdout FETCH_HEAD,"['templates/meta-data/create-message', 'releasenotes/notes/lxc_image_cache-f14701a7qw90al21.yaml', 'templates/meta-data/expiry', 'tests/test.yml', 'vars/ubuntu-16.04.yml', 'tasks/lxc_cache_create.yml', 'templates/meta-data/config-user', 'tasks/lxc_cache_preparation_systemd_old.yml', 'templates/meta-data/config', 'defaults/main.yml', 'tasks/lxc_cache_prestage.yml', 'templates/meta-data/templates', 'templates/meta-data/config-user.5', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/lxc_cache_preparation_systemd_new.yml', 'templates/meta-data/config.5', 'templates/meta-data/excludes-user', 'tasks/lxc_cache_preparation.yml']",19,ca32082426714de26364fff8fa4077a8dc114b21,simple-image,- name: Pull systemd version,- name: Pull SystemD Version,155,114
openstack%2Fpuppet-keystone~master~I7ec115a55fdc19e16dfb02e570725899e2852ca7,openstack/puppet-keystone,master,I7ec115a55fdc19e16dfb02e570725899e2852ca7,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:51.000000000,2018-03-22 21:11:54.000000000,2018-03-22 21:11:54.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:51.000000000', 'files': ['spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ccea471fc2a1494e5d4c76b3ad11ac138e31927b', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I7ec115a55fdc19e16dfb02e570725899e2852ca7\n'}]",0,554784,ccea471fc2a1494e5d4c76b3ad11ac138e31927b,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I7ec115a55fdc19e16dfb02e570725899e2852ca7
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/84/554784/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_init_spec.rb'],1,ccea471fc2a1494e5d4c76b3ad11ac138e31927b,standard-oslo-middleware-params," it { is_expected.to contain_oslo__middleware('keystone_config').with( :enable_proxy_headers_parsing => true, )}", it { is_expected.to contain_keystone_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },3,1
openstack%2Fpuppet-manila~master~I063f58b9d5a0c6cc9628b51c16df702d2db6e379,openstack/puppet-manila,master,I063f58b9d5a0c6cc9628b51c16df702d2db6e379,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-22 21:08:59.000000000,2018-03-22 21:08:59.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/manila_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/82134502b43a24b4fe1b490511deb616adb9fd8f', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I063f58b9d5a0c6cc9628b51c16df702d2db6e379\n'}]",0,554776,82134502b43a24b4fe1b490511deb616adb9fd8f,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I063f58b9d5a0c6cc9628b51c16df702d2db6e379
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/76/554776/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_api_spec.rb'],1,82134502b43a24b4fe1b490511deb616adb9fd8f,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('manila_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__middleware('manila_config').with( :enable_proxy_headers_parsing => true,", is_expected.to contain_manila_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('oslo_middleware/enable_proxy_headers_parsing').with( :value => true,5,3
openstack%2Fpuppet-panko~master~I4bdb0249cb36a3497ecedf31bf05c748eda2d170,openstack/puppet-panko,master,I4bdb0249cb36a3497ecedf31bf05c748eda2d170,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-22 21:00:24.000000000,2018-03-22 21:00:24.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/panko_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/cfd9d68decaf6bf078c17ccd09e2bbf071732efd', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I4bdb0249cb36a3497ecedf31bf05c748eda2d170\n'}]",0,554774,cfd9d68decaf6bf078c17ccd09e2bbf071732efd,8,4,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I4bdb0249cb36a3497ecedf31bf05c748eda2d170
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/74/554774/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/panko_api_spec.rb'],1,cfd9d68decaf6bf078c17ccd09e2bbf071732efd,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('panko_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) it { is_expected.to contain_oslo__middleware('panko_config').with( :enable_proxy_headers_parsing => true, )}", is_expected.to contain_panko_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_panko_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },6,2
openstack%2Fpuppet-mistral~master~I71b818c7f30513a3ee4c8efc5329cc9a8d5e61be,openstack/puppet-mistral,master,I71b818c7f30513a3ee4c8efc5329cc9a8d5e61be,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-22 20:45:17.000000000,2018-03-22 20:45:17.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/mistral_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/225808af2487d5572b665ad5864fae7e3db5086f', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I71b818c7f30513a3ee4c8efc5329cc9a8d5e61be\n'}]",0,554772,225808af2487d5572b665ad5864fae7e3db5086f,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I71b818c7f30513a3ee4c8efc5329cc9a8d5e61be
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/72/554772/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/mistral_api_spec.rb'],1,225808af2487d5572b665ad5864fae7e3db5086f,standard-oslo-middleware-params," it { is_expected.to contain_oslo__middleware('mistral_config').with( :enable_proxy_headers_parsing => params[:enable_proxy_headers_parsing], )} it { is_expected.to contain_oslo__middleware('mistral_config').with( :enable_proxy_headers_parsing => params[:enable_proxy_headers_parsing], )}", it { is_expected.to contain_mistral_config('oslo_middleware/enable_proxy_headers_parsing').with_value( params[:enable_proxy_headers_parsing] ) } it { is_expected.to contain_mistral_config('oslo_middleware/enable_proxy_headers_parsing').with_value( params[:enable_proxy_headers_parsing] ) },6,2
openstack%2Fpuppet-aodh~master~I8871163c877ecd5c79e254d3d2643c7dcdc85cc8,openstack/puppet-aodh,master,I8871163c877ecd5c79e254d3d2643c7dcdc85cc8,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:10:09.000000000,2018-03-22 20:45:11.000000000,2018-03-22 20:45:11.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:10:09.000000000', 'files': ['spec/classes/aodh_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f4d814f5d4c4d402497764c36712e7d85861a554', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I8871163c877ecd5c79e254d3d2643c7dcdc85cc8\n'}]",0,554767,f4d814f5d4c4d402497764c36712e7d85861a554,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I8871163c877ecd5c79e254d3d2643c7dcdc85cc8
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/67/554767/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_api_spec.rb'],1,f4d814f5d4c4d402497764c36712e7d85861a554,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('aodh_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) it { is_expected.to contain_oslo__middleware('aodh_config').with( :enable_proxy_headers_parsing => true, )}", is_expected.to contain_aodh_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_aodh_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },6,2
openstack%2Fpuppet-vitrage~master~Ie763dc5f6d1b683ecc605b872ad67bfd48845747,openstack/puppet-vitrage,master,Ie763dc5f6d1b683ecc605b872ad67bfd48845747,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-22 20:44:12.000000000,2018-03-22 20:44:12.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/vitrage_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/626c186657387d5ac1f0f67282c60f345ca071e0', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: Ie763dc5f6d1b683ecc605b872ad67bfd48845747\n'}]",0,554773,626c186657387d5ac1f0f67282c60f345ca071e0,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: Ie763dc5f6d1b683ecc605b872ad67bfd48845747
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/73/554773/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/vitrage_api_spec.rb'],1,626c186657387d5ac1f0f67282c60f345ca071e0,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('vitrage_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) it { is_expected.to contain_oslo__middleware('vitrage_config').with( :enable_proxy_headers_parsing => true, )}", is_expected.to contain_vitrage_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_vitrage_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },6,2
openstack%2Fpuppet-barbican~master~I7bde6025069077e5481e11d668b60733736c2112,openstack/puppet-barbican,master,I7bde6025069077e5481e11d668b60733736c2112,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-22 20:43:37.000000000,2018-03-22 20:43:37.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/barbican_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/68877530adf24993c34de77dab36e72babac835c', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I7bde6025069077e5481e11d668b60733736c2112\n'}]",0,554778,68877530adf24993c34de77dab36e72babac835c,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I7bde6025069077e5481e11d668b60733736c2112
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/78/554778/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_api_spec.rb'],1,68877530adf24993c34de77dab36e72babac835c,standard-oslo-middleware-params," it { is_expected.to contain_oslo__middleware('barbican_config').with( :enable_proxy_headers_parsing => true, )}", it { is_expected.to contain_barbican_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },3,1
openstack%2Fpuppet-glance~master~Ieb128838a506f4fa54c66509d9b2f6be99cc9876,openstack/puppet-glance,master,Ieb128838a506f4fa54c66509d9b2f6be99cc9876,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:49.000000000,2018-03-22 20:43:16.000000000,2018-03-22 20:43:16.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:49.000000000', 'files': ['spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/68c7a4d71498ecf4ac97daeb322dc37348dff98c', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: Ieb128838a506f4fa54c66509d9b2f6be99cc9876\n'}]",0,554779,68c7a4d71498ecf4ac97daeb322dc37348dff98c,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: Ieb128838a506f4fa54c66509d9b2f6be99cc9876
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/79/554779/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/glance_api_spec.rb'],1,68c7a4d71498ecf4ac97daeb322dc37348dff98c,standard-oslo-middleware-params," it { is_expected.to contain_oslo__middleware('glance_api_config').with( :enable_proxy_headers_parsing => true, )}", it { is_expected.to contain_glance_api_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },3,1
openstack%2Fdevstack~master~Iec6b34c10ea1bd7103720c773b48ce130643115d,openstack/devstack,master,Iec6b34c10ea1bd7103720c773b48ce130643115d,Add project_tags identity feature flag,MERGED,2018-03-16 02:17:07.000000000,2018-03-22 20:42:18.000000000,2018-03-19 09:11:03.000000000,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 02:17:07.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1ab9a2d144ee1229cdd52c0a074931c719bc7ba0', 'message': 'Add project_tags identity feature flag\n\nThis PS adds the project_tags identity feature flag which allows\nidentity v3 project tags API functionality to be enabled for\nreleases after Pike. Once Pike is no longer supported in Tempest\nthis feature flag can be removed.\n\nDepends-On: Ibaec1df79c9ac69c65cf5075c3519092bc609546\nChange-Id: Iec6b34c10ea1bd7103720c773b48ce130643115d\n'}]",0,553655,1ab9a2d144ee1229cdd52c0a074931c719bc7ba0,13,7,1,23186,,,0,"Add project_tags identity feature flag

This PS adds the project_tags identity feature flag which allows
identity v3 project tags API functionality to be enabled for
releases after Pike. Once Pike is no longer supported in Tempest
this feature flag can be removed.

Depends-On: Ibaec1df79c9ac69c65cf5075c3519092bc609546
Change-Id: Iec6b34c10ea1bd7103720c773b48ce130643115d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/553655/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,1ab9a2d144ee1229cdd52c0a074931c719bc7ba0,project-tags-feature-flag, # TODO(felipemonteiro): Remove this once Tempest no longer supports Pike # as this is supported in Queens and beyond. iniset $TEMPEST_CONFIG identity-feature-enabled project_tags True ,,4,0
openstack%2Fpuppet-gnocchi~master~I92b4563f94677093dbd6e573df914653c72cf664,openstack/puppet-gnocchi,master,I92b4563f94677093dbd6e573df914653c72cf664,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-22 20:41:31.000000000,2018-03-22 20:41:31.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/gnocchi_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/df030f936aed77c581702d89c248dbfb44e2b129', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I92b4563f94677093dbd6e573df914653c72cf664\n'}]",0,554775,df030f936aed77c581702d89c248dbfb44e2b129,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I92b4563f94677093dbd6e573df914653c72cf664
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/75/554775/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_api_spec.rb'],1,df030f936aed77c581702d89c248dbfb44e2b129,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('gnocchi_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) it { is_expected.to contain_oslo__middleware('gnocchi_config').with( :enable_proxy_headers_parsing => true, )}", is_expected.to contain_gnocchi_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_gnocchi_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },6,2
openstack%2Fopenstack-ansible-plugins~master~Id0bba86629a33ce74528c0bd51b11183f5315d86,openstack/openstack-ansible-plugins,master,Id0bba86629a33ce74528c0bd51b11183f5315d86,Retain the ordering when using with MultiStringOp,MERGED,2018-03-21 20:48:33.000000000,2018-03-22 20:39:18.000000000,2018-03-22 20:38:35.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 20:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fc1cfb6fa72d6ea174702a31145c812a7fbfc8c1', 'message': 'Retain the ordering when using with MultiStringOp\n\nWhen using config_template with a MultiStringOp the order was subject to\nchange because of the use of set theory. This change converts the use of\nsets to tuples which allow us to retain the ability to override options\nwithout losing the ordering of keys.\n\nChange-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-21 22:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/61431621e6a119b34fad79791f3f17b315518a66', 'message': 'Retain the ordering when using with MultiStringOp\n\nWhen using config_template with a MultiStringOp the order was subject to\nchange because of the use of set theory. This change converts the use of\nsets to tuples which allow us to retain the ability to override options\nwithout losing the ordering of keys.\n\nChange-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-21 22:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/368e01bddc5d4a4aa0e088560edec2f752e1fbfb', 'message': 'Retain the ordering when using with MultiStringOp\n\nWhen using config_template with a MultiStringOp the order was subject to\nchange because of the use of set theory. This change converts the use of\nsets to tuples which allow us to retain the ability to override options\nwithout losing the ordering of keys.\n\nChange-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-03-22 14:35:10.000000000', 'files': ['action/config_template.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/662a2805c0dce43a1efec31a85e09056207ec3d2', 'message': 'Retain the ordering when using with MultiStringOp\n\nWhen using config_template with a MultiStringOp the order was subject to\nchange because of the use of set theory. This change converts the use of\nsets to tuples which allow us to retain the ability to override options\nwithout losing the ordering of keys.\n\nChange-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",6,555047,662a2805c0dce43a1efec31a85e09056207ec3d2,19,5,4,7353,,,0,"Retain the ordering when using with MultiStringOp

When using config_template with a MultiStringOp the order was subject to
change because of the use of set theory. This change converts the use of
sets to tuples which allow us to retain the ability to override options
without losing the ordering of keys.

Change-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/47/555047/4 && git format-patch -1 --stdout FETCH_HEAD,['action/config_template.py'],1,fc1cfb6fa72d6ea174702a31145c812a7fbfc8c1,multistropts-ordering," ... {'a': tuple(['1', '2']), 'c': {'a': 1}, 'b': ['a', 'b', 'c']} if isinstance(self[key], tuple): items += tuple([str(value)]) super(MultiKeyDict, self).__setitem__( key, tuple([str(self[key]), str(value)]) ) if isinstance(value, tuple): if isinstance(cursect[optname], tuple): if not any(list(value.values())): value = tuple(value.keys()) if isinstance(value, tuple):"," ... {'a': set(['1', '2']), 'c': {'a': 1}, 'b': ['a', 'b', 'c']} if isinstance(self[key], set): items.add(str(value)) items = [str(value), str(self[key])] super(MultiKeyDict, self).__setitem__(key, set(items)) if isinstance(value, set): if isinstance(cursect[optname], set): if not any(i for i in value.values()): value = set(value) if isinstance(value, set):",12,11
openstack%2Freleases~master~Iaeb5403e64443620c37b8f6d13bc21bb75650b48,openstack/releases,master,Iaeb5403e64443620c37b8f6d13bc21bb75650b48,Release python-zunclient 1.3.0,MERGED,2018-03-22 20:18:12.000000000,2018-03-22 20:36:26.000000000,2018-03-22 20:36:26.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-22 20:18:12.000000000', 'files': ['deliverables/rocky/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4b45b2bb31cb79c36e0e683ba62303f830e255b8', 'message': 'Release python-zunclient 1.3.0\n\nChange-Id: Iaeb5403e64443620c37b8f6d13bc21bb75650b48\n'}]",0,555439,4b45b2bb31cb79c36e0e683ba62303f830e255b8,6,3,1,11536,,,0,"Release python-zunclient 1.3.0

Change-Id: Iaeb5403e64443620c37b8f6d13bc21bb75650b48
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/555439/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-zunclient.yaml'],1,4b45b2bb31cb79c36e0e683ba62303f830e255b8,, - version: 1.3.0 projects: - repo: openstack/python-zunclient hash: f100f94f64a56fa25c99fc8f5689647dc49cd7f9,,4,0
openstack%2Fcinder~master~If82043b93054eb8d15f68d8d6a368905fdb50c2a,openstack/cinder,master,If82043b93054eb8d15f68d8d6a368905fdb50c2a,Update LUN description after migration for Huawei array,ABANDONED,2017-04-11 00:37:18.000000000,2018-03-22 20:29:58.000000000,,"[{'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16203}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-04-11 00:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/879bf463e464ba892568b9b4de996690da71f837', 'message': ""Update LUN description after migration for Huawei array\n\nThis patch updates the migrated LUN's description to the original\nLUN's name, which keeps the migrated LUN having the same info as\nthe original LUN.\n\nChange-Id: If82043b93054eb8d15f68d8d6a368905fdb50c2a\n""}, {'number': 2, 'created': '2017-04-17 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8de75d974bbe4e66dc8c245dc2578619e4a719f6', 'message': ""Update LUN description after migration for Huawei array\n\nThis patch updates the migrated LUN's description to the original\nLUN's name, which keeps the migrated LUN having the same info as\nthe original LUN.\n\nChange-Id: If82043b93054eb8d15f68d8d6a368905fdb50c2a\n""}, {'number': 3, 'created': '2017-04-18 01:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81fd44f62b5f83077676e8137e7d7bd829df8061', 'message': ""Update LUN description after migration for Huawei array\n\nThis patch updates the migrated LUN's description to the original\nLUN's name, which keeps the migrated LUN having the same info as\nthe original LUN.\n\nChange-Id: If82043b93054eb8d15f68d8d6a368905fdb50c2a\n""}, {'number': 4, 'created': '2017-06-16 10:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e43b55cfff67716d966d06af46ac15cfd820c618', 'message': ""Update LUN description after migration for Huawei array\n\nThis patch updates the migrated LUN's description to the original\nLUN's name, which keeps the migrated LUN having the same info as\nthe original LUN.\n\nChange-Id: If82043b93054eb8d15f68d8d6a368905fdb50c2a\n""}, {'number': 5, 'created': '2017-06-20 11:30:57.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5b4726fbd143d7735c7a543eeacefb9a2d1c777', 'message': ""Update LUN description after migration for Huawei array\n\nThis patch updates the migrated LUN's description to the original\nLUN's name, which keeps the migrated LUN having the same info as\nthe original LUN.\n\nChange-Id: If82043b93054eb8d15f68d8d6a368905fdb50c2a\n""}]",3,455481,c5b4726fbd143d7735c7a543eeacefb9a2d1c777,144,51,5,16203,,,0,"Update LUN description after migration for Huawei array

This patch updates the migrated LUN's description to the original
LUN's name, which keeps the migrated LUN having the same info as
the original LUN.

Change-Id: If82043b93054eb8d15f68d8d6a368905fdb50c2a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/455481/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/huawei_driver.py'],1,879bf463e464ba892568b9b4de996690da71f837,update-description-after-migration," description = volume['name'] try: self.client.rename_lun(lun_id, original_name, description=description)"," try: self.client.rename_lun(lun_id, original_name)",5,1
openstack%2Fbandit~master~Ifb4030c25ebc3342da15c8c903d8fd22fe743586,openstack/bandit,master,Ifb4030c25ebc3342da15c8c903d8fd22fe743586,add lower-constraints job,MERGED,2018-03-22 13:06:16.000000000,2018-03-22 20:21:39.000000000,2018-03-22 20:21:39.000000000,"[{'_account_id': 2472}, {'_account_id': 17893}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:06:16.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bandit/commit/5b781f8b7a5fc43cb5df5435374005c05a6c5abc', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ifb4030c25ebc3342da15c8c903d8fd22fe743586\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555293,5b781f8b7a5fc43cb5df5435374005c05a6c5abc,11,4,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: Ifb4030c25ebc3342da15c8c903d8fd22fe743586
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/bandit refs/changes/93/555293/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,5b781f8b7a5fc43cb5df5435374005c05a6c5abc,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,47,0
openstack%2Freleases~master~I995a43f422f30ae701699f0a60eb447c658355ac,openstack/releases,master,I995a43f422f30ae701699f0a60eb447c658355ac,Release 12.4.0 for puppet-tempest in queens,MERGED,2018-03-22 09:38:52.000000000,2018-03-22 20:20:39.000000000,2018-03-22 20:20:38.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 09:38:52.000000000', 'files': ['deliverables/queens/puppet-tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b346d4e4c4a57c1ade68ff556dc67a52b458e04', 'message': 'Release 12.4.0 for puppet-tempest in queens\n\nDepends-On: I86513711451abc202cb40f51d0ddecc9d011eaef\nChange-Id: I995a43f422f30ae701699f0a60eb447c658355ac\n'}]",0,555218,6b346d4e4c4a57c1ade68ff556dc67a52b458e04,10,6,1,16312,,,0,"Release 12.4.0 for puppet-tempest in queens

Depends-On: I86513711451abc202cb40f51d0ddecc9d011eaef
Change-Id: I995a43f422f30ae701699f0a60eb447c658355ac
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/555218/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/puppet-tempest.yaml'],1,6b346d4e4c4a57c1ade68ff556dc67a52b458e04,, - projects: - hash: c0d16d4999464771495e629ef897b64a663ba3c9 repo: openstack/puppet-tempest version: 12.4.0,,4,0
openstack%2Fpuppet-cinder~master~Ia5c6ec041119606001746d08583f0fb7b5dc73e7,openstack/puppet-cinder,master,Ia5c6ec041119606001746d08583f0fb7b5dc73e7,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:50.000000000,2018-03-22 20:19:19.000000000,2018-03-22 20:19:19.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:50.000000000', 'files': ['spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/29c570134d08b4bed12bd8679790b42577ec669d', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: Ia5c6ec041119606001746d08583f0fb7b5dc73e7\n'}]",0,554781,29c570134d08b4bed12bd8679790b42577ec669d,8,4,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: Ia5c6ec041119606001746d08583f0fb7b5dc73e7
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/81/554781/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_api_spec.rb'],1,29c570134d08b4bed12bd8679790b42577ec669d,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('cinder_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', )", is_expected.to contain_cinder_config('oslo_middleware/enable_proxy_headers_parsing').with('value' => '<SERVICE DEFAULT>'),3,1
openstack%2Fneutron-dynamic-routing~master~Icea1e085102e78c8bdf0e61d0b4f3f7b5ea209e2,openstack/neutron-dynamic-routing,master,Icea1e085102e78c8bdf0e61d0b4f3f7b5ea209e2,"Adding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""",MERGED,2018-01-25 06:56:33.000000000,2018-03-22 20:12:04.000000000,2018-03-22 20:12:04.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-25 06:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/837149206d5d2f94e76f60d54f564d61b7dc657e', 'message': 'Adding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""\n\nAdding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""\nAfter Installing neutron-dynamic-routing,we need to set service_plugins for\n""neutron_dynamic_routing.services.bgp.bgp_plugin.BgpPlugin"" in neutron.conf.\nIt is more reasonable to add neutron.service_plugins for ""entry_points""\nin file ""setup.cfg"",and set ""bgp"" for\n""neutron_dynamic_routing.services.bgp.bgp_plugin:BgpPlugin"".\n\nChange-Id: Icea1e085102e78c8bdf0e61d0b4f3f7b5ea209e2\n'}, {'number': 2, 'created': '2018-01-25 09:02:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/388f2b20600c97ee0c9ed0df66f55d2a10d7d967', 'message': 'Adding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""\n\nAdding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""\nAfter Installing neutron-dynamic-routing,we need to set service_plugins for\n""neutron_dynamic_routing.services.bgp.bgp_plugin.BgpPlugin"" in neutron.conf.\nIt is more reasonable to add neutron.service_plugins for ""entry_points""\nin file ""setup.cfg"",and set ""bgp"" for\n""neutron_dynamic_routing.services.bgp.bgp_plugin:BgpPlugin"".\n\nChange-Id: Icea1e085102e78c8bdf0e61d0b4f3f7b5ea209e2\n'}]",0,537767,388f2b20600c97ee0c9ed0df66f55d2a10d7d967,9,3,2,26018,,,0,"Adding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""

Adding neutron.service_plugins for ""entry_points"" in file ""setup.cfg""
After Installing neutron-dynamic-routing,we need to set service_plugins for
""neutron_dynamic_routing.services.bgp.bgp_plugin.BgpPlugin"" in neutron.conf.
It is more reasonable to add neutron.service_plugins for ""entry_points""
in file ""setup.cfg"",and set ""bgp"" for
""neutron_dynamic_routing.services.bgp.bgp_plugin:BgpPlugin"".

Change-Id: Icea1e085102e78c8bdf0e61d0b4f3f7b5ea209e2
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/67/537767/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,837149206d5d2f94e76f60d54f564d61b7dc657e,,neutron.service_plugins = neutron_dynamic_routing.services.bgp.bgp_plugin:BgpPlugin,,2,0
openstack%2Frally~master~I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f,openstack/rally,master,I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f,[db] Remove oslo.db engine,NEW,2018-02-21 10:12:25.000000000,2018-03-22 20:08:01.000000000,,"[{'_account_id': 9545}, {'_account_id': 11816}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 10:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d26a84a1f869e2d2dd13628325d6310f8280e9df', 'message': 'WIP: Refactor DB part\n\n- Completly remove oslo.db from Rally\n\nTODO:\n\n- Cleanup config options\n- Init properly engine\n- Replace oslo.db exceptions\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}, {'number': 2, 'created': '2018-03-07 18:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bd2990b8951072909844098feac499c51b8db29b', 'message': 'Remove oslo.db engine\n\nTODO:\n\n- Cleanup config options\n- Init properly engine\n- Replace oslo.db exceptions\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}, {'number': 3, 'created': '2018-03-11 11:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/042c78e7b32967ade43041567fccc4202c6f1c60', 'message': 'Remove oslo.db engine\n\nTODO:\n\n- Cleanup config options\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}, {'number': 4, 'created': '2018-03-11 20:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/885f24a961790113c9d1a7183d899fb556fa866c', 'message': '[db] Remove oslo.db engine\n\nTODO:\n\n- Cleanup config options\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}, {'number': 5, 'created': '2018-03-11 23:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/17bc1ee050d7036fcee925b9a07b11e9a505f0e2', 'message': '[db] Remove oslo.db engine\n\nTODO:\n\n- Cleanup config options\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}, {'number': 6, 'created': '2018-03-12 03:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/de781a4faf572810a3b6eb9618b403afae3fee91', 'message': '[db] Remove oslo.db engine\n\nTODO:\n\n- Cleanup config options\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}, {'number': 7, 'created': '2018-03-18 10:42:46.000000000', 'files': ['rally/common/db/__init__.py', 'rally/common/db/api.py', 'tests/unit/test_api.py', 'tests/unit/common/db/test_migrations.py', 'rally/common/db/migrations/env.py', 'tests/unit/test.py', 'rally/common/db/exc_filters.py', 'rally/common/opts.py', 'rally/exceptions.py', 'tests/unit/common/db/test_api.py', 'rally/api.py', 'rally/common/db/opts.py', 'rally/common/db/schema.py', 'rally/cli/commands/deployment.py', 'rally/common/db/migrations/versions/2016_01_ca3626f62937_init_migration.py', 'rally/common/db/engine.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/6daa4e73bf5b8b2b036d712c264fbf2964ea7bc0', 'message': '[db] Remove oslo.db engine\n\nTODO:\n\n- Cleanup config options\n- Cleanup exc_filters\n- Remove oslod.db from migration testing\n\nChange-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f\n'}]",3,546556,6daa4e73bf5b8b2b036d712c264fbf2964ea7bc0,17,4,7,6172,,,0,"[db] Remove oslo.db engine

TODO:

- Cleanup config options
- Cleanup exc_filters
- Remove oslod.db from migration testing

Change-Id: I43b509b0442d77f3bc5ded787dfeaaa0e952dd2f
",git fetch https://review.opendev.org/openstack/rally refs/changes/56/546556/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally/common/db/migrations/exc_filters.py', 'rally/common/opts.py', 'rally/common/db/api.py', 'rally/common/db/opts.py', 'rally/common/db/engine.py']",5,d26a84a1f869e2d2dd13628325d6310f8280e9df,refactor_db_api,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Core SQLAlchemy connectivity routines. """""" import collections import itertools import logging import time import six import sqlalchemy import sqlalchemy.orm from sqlalchemy import event from sqlalchemy import pool from sqlalchemy.sql.expression import select from rally.common.db import exc_filters from oslo_db import exception LOG = logging.getLogger(__name__) _ENGINE = None def get_engine(): global _ENGINE if not _ENGINE: # TODO(boris-42): Pass arugments properly _ENGINE = create_engine() def get_session(**kwargs): session = sqlalchemy.orm.sessionmaker() session.configure(bind=get_engine()) return session() def engine_reset(): global _ENGINE _ENGINE = None def _create_engine(sql_connection, sqlite_fk=False, mysql_sql_mode=None, connection_recycle_time=3600, connection_debug=0, max_pool_size=None, max_overflow=None, pool_timeout=None, sqlite_synchronous=True, connection_trace=False, max_retries=10, retry_interval=10, thread_checkin=True, logging_name=None, json_serializer=None, json_deserializer=None, connection_parameters=None): """"""Return a new SQLAlchemy engine."""""" url = sqlalchemy.engine.url.make_url(sql_connection) if connection_parameters: _extend_url_parameters(url, connection_parameters) _vet_url(url) engine_args = { ""pool_recycle"": connection_recycle_time, 'convert_unicode': True, 'connect_args': {}, 'logging_name': logging_name } pool_class = url.get_dialect().get_pool_class(url) if issubclass(pool_class, pool.QueuePool): if max_pool_size is not None: engine_args['pool_size'] = max_pool_size if max_overflow is not None: engine_args['max_overflow'] = max_overflow if pool_timeout is not None: engine_args['pool_timeout'] = pool_timeout _setup_logging(connection_debug) engine = sqlalchemy.create_engine(url, **engine_args) # register alternate exception handler exc_filters.register_engine(engine) # register engine connect handler event.listen(engine, ""engine_connect"", _connect_ping_listener) return engine def _test_connection(engine, max_retries, retry_interval): if max_retries == -1: attempts = itertools.count() else: attempts = six.moves.range(max_retries) # See: http://legacy.python.org/dev/peps/pep-3110/#semantic-changes for # why we are not using 'de' directly (it can be removed from the local # scope). de_ref = None for attempt in attempts: try: return engine.connect() except exception.DBConnectionError as de: msg = 'SQL connection failed. %s attempts left.' LOG.warning(msg, max_retries - attempt) time.sleep(retry_interval) de_ref = de else: if de_ref is not None: six.reraise(type(de_ref), de_ref) def _connect_ping_listener(connection, branch): """"""Ping the server at connection startup. Ping the server at transaction begin and transparently reconnect if a disconnect exception occurs. """""" if branch: return # turn off ""close with result"". This can also be accomplished # by branching the connection, however just setting the flag is # more performant and also doesn't get involved with some # connection-invalidation awkardness that occurs (see # https://bitbucket.org/zzzeek/sqlalchemy/issue/3215/) save_should_close_with_result = connection.should_close_with_result connection.should_close_with_result = False try: # run a SELECT 1. use a core select() so that # any details like that needed by Oracle, DB2 etc. are handled. connection.scalar(select([1])) except exception.DBConnectionError: # catch DBConnectionError, which is raised by the filter # system. # disconnect detected. The connection is now # ""invalid"", but the pool should be ready to return # new connections assuming they are good now. # run the select again to re-validate the Connection. LOG.exception( 'Database connection was found disconnected; reconnecting') connection.scalar(select([1])) finally: connection.should_close_with_result = save_should_close_with_result def _setup_logging(connection_debug=0): """"""setup_logging function maps SQL debug level to Python log level. Connection_debug is a verbosity of SQL debugging information. 0=None(default value), 1=Processed only messages with WARNING level or higher 50=Processed only messages with INFO level or higher 100=Processed only messages with DEBUG level """""" if connection_debug >= 0: logger = logging.getLogger('sqlalchemy.engine') if connection_debug == 100: logger.setLevel(logging.DEBUG) elif connection_debug >= 50: logger.setLevel(logging.INFO) else: logger.setLevel(logging.WARNING) def _to_list(x, default=None): if x is None: return default if (not isinstance(x, collections.Iterable) or isinstance(x, six.string_types)): return [x] elif isinstance(x, list): return x else: return list(x) def _extend_url_parameters(url, connection_parameters): for key, value in six.moves.urllib.parse.parse_qs( connection_parameters).items(): if key in url.query: existing = url.query[key] if not isinstance(existing, list): url.query[key] = existing = _to_list(existing) existing.extend(value) value = existing else: url.query[key] = value if len(value) == 1: url.query[key] = value[0] def _vet_url(url): if ""+"" not in url.drivername and not url.drivername.startswith(""sqlite""): if url.drivername.startswith(""mysql""): LOG.warning( ""URL %r does not contain a '+drivername' portion, "" ""and will make use of a default driver. "" ""A full dbname+drivername:// protocol is recommended. "" ""For MySQL, it is strongly recommended that mysql+pymysql:// "" ""be specified for maximum service compatibility"", url ) else: LOG.warning( ""URL %r does not contain a '+drivername' portion, "" ""and will make use of a default driver. "" ""A full dbname+drivername:// protocol is recommended."", url ) ",,877,55
openstack%2Fpython-glanceclient~master~I4e46e78525fe5c00e031a98c47cacc17e5693d53,openstack/python-glanceclient,master,I4e46e78525fe5c00e031a98c47cacc17e5693d53,Update properties URL,MERGED,2018-03-22 02:30:31.000000000,2018-03-22 19:42:16.000000000,2018-03-22 19:14:59.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 02:30:31.000000000', 'files': ['glanceclient/v2/image_schema.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0661da1ee903da930b326daaa7d5deb5707d7ca3', 'message': ""Update properties URL\n\nHelp text for some image properties (architecture, os_distro) is\npulled from the glanceclient's local version of the image schema.\nThe URL for those property definitions has gotten out of sync with\nGlance.  This patch updates the URL to be the same as that given\nin the Glance image-schema response.\n\nChange-Id: I4e46e78525fe5c00e031a98c47cacc17e5693d53\nCloses-bug: #1757918\n""}]",0,555113,0661da1ee903da930b326daaa7d5deb5707d7ca3,9,4,1,5314,,,0,"Update properties URL

Help text for some image properties (architecture, os_distro) is
pulled from the glanceclient's local version of the image schema.
The URL for those property definitions has gotten out of sync with
Glance.  This patch updates the URL to be the same as that given
in the Glance image-schema response.

Change-Id: I4e46e78525fe5c00e031a98c47cacc17e5693d53
Closes-bug: #1757918
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/13/555113/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v2/image_schema.py'],1,0661da1ee903da930b326daaa7d5deb5707d7ca3,bug/1757918,"_doc_url = ""https://docs.openstack.org/python-glanceclient/latest/cli/property-keys.html"" # noqa","_doc_url = ""http://docs.openstack.org/user-guide/common/cli-manage-images.html"" # noqa",1,1
openstack%2Fgovernance~master~Ib14d0d6e0cd6889909d67a23f9f7398a528b7d27,openstack/governance,master,Ib14d0d6e0cd6889909d67a23f9f7398a528b7d27,Update Trademark test locations,ABANDONED,2018-03-08 15:11:31.000000000,2018-03-22 19:41:34.000000000,,"[{'_account_id': 4257}, {'_account_id': 11564}, {'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 15:11:31.000000000', 'files': ['resolutions/20180305-trademark-program-test-location.rst', 'resolutions/superseded/20160504-defcore-test-location.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/5fbcdc0e2d037ccee71a248281c104b5b8089ff6', 'message': 'Update Trademark test locations\n\nChange-Id: Ib14d0d6e0cd6889909d67a23f9f7398a528b7d27\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\n'}]",0,550863,5fbcdc0e2d037ccee71a248281c104b5b8089ff6,7,4,1,8099,,,0,"Update Trademark test locations

Change-Id: Ib14d0d6e0cd6889909d67a23f9f7398a528b7d27
Co-Authored-By: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/550863/1 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20180305-trademark-program-test-location.rst', 'resolutions/superseded/20160504-defcore-test-location.rst']",2,5fbcdc0e2d037ccee71a248281c104b5b8089ff6,formal-vote,.. _20160504_defcore_test_location: .. note:: This resolution has been superseded by :ref:`201180305_interop_test_location` ,,27,0
openstack%2Fgovernance~master~I91315c3c42b8a329d1763f9de80aa3d0270ac044,openstack/governance,master,I91315c3c42b8a329d1763f9de80aa3d0270ac044,Clarify testing for interop programs,ABANDONED,2017-11-20 17:35:42.000000000,2018-03-22 19:40:18.000000000,,"[{'_account_id': 308}, {'_account_id': 782}, {'_account_id': 1921}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 6754}, {'_account_id': 7822}, {'_account_id': 8099}, {'_account_id': 8434}, {'_account_id': 8556}, {'_account_id': 11139}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13629}, {'_account_id': 16353}, {'_account_id': 17716}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-20 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/44701f182090d43b34399a16efb73bf5866a6ec9', 'message': 'Clarify testing for interop programs\n\nThis proposes two options, we should decide, then update this\ncommit message\n\nChange-Id: I91315c3c42b8a329d1763f9de80aa3d0270ac044\n'}, {'number': 2, 'created': '2017-11-20 19:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/9a845c7a872d9f8f361c6842984cf50858f7d6c4', 'message': 'Clarify testing for interop programs\n\nThis proposes two options, we should decide, then update this\ncommit message\n\nChange-Id: I91315c3c42b8a329d1763f9de80aa3d0270ac044\n'}, {'number': 3, 'created': '2018-03-05 22:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8d156924bb19bd3c2305750a86a4cf35280d9aa7', 'message': 'Clarify testing for interop programs\n\nThis resolution updates the location of tests\nbased on feedback from QA, InterOp WG, and the TC\nat the Rocky PTG\n\nChange-Id: I91315c3c42b8a329d1763f9de80aa3d0270ac044\n'}, {'number': 4, 'created': '2018-03-06 22:56:42.000000000', 'files': ['resolutions/20180305-trademark-program-test-location.rst', 'resolutions/superseded/20160504-defcore-test-location.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/db3d0611d84c92a8f50842a5d72370c043c9ee4c', 'message': 'Clarify testing for interop programs\n\nThis resolution updates the location of tests\nbased on feedback from QA, InterOp WG, and the TC\nat the Rocky PTG\n\nChange-Id: I91315c3c42b8a329d1763f9de80aa3d0270ac044\n'}]",33,521602,db3d0611d84c92a8f50842a5d72370c043c9ee4c,63,20,4,8099,,,0,"Clarify testing for interop programs

This resolution updates the location of tests
based on feedback from QA, InterOp WG, and the TC
at the Rocky PTG

Change-Id: I91315c3c42b8a329d1763f9de80aa3d0270ac044
",git fetch https://review.opendev.org/openstack/governance refs/changes/02/521602/1 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20171120-interop-addon-test-location.rst', 'resolutions/20160504-defcore-test-location.rst']",2,44701f182090d43b34399a16efb73bf5866a6ec9,formal-vote,.. _20160504_defcore_test_location: ,,45,0
openstack%2Fnetworking-bagpipe~master~I7e6c332a6886b51e9d57a0142b872a321ef8d8df,openstack/networking-bagpipe,master,I7e6c332a6886b51e9d57a0142b872a321ef8d8df,Updated from global requirements,MERGED,2018-03-22 10:47:04.000000000,2018-03-22 19:37:20.000000000,2018-03-22 19:37:20.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 10:47:04.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/dce4f2f7483f300f0afe620f75237bde051c9207', 'message': 'Updated from global requirements\n\nChange-Id: I7e6c332a6886b51e9d57a0142b872a321ef8d8df\n'}]",0,555246,dce4f2f7483f300f0afe620f75237bde051c9207,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7e6c332a6886b51e9d57a0142b872a321ef8d8df
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/46/555246/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,dce4f2f7483f300f0afe620f75237bde051c9207,openstack/requirements,networking-bgpvpn>=8.0.0 # Apache-2.0 networking-sfc>=6.0.0 # Apache-2.0,networking-bgpvpn>=8.0.0 # Apache-2.0 networking-sfc>=6.0.0 # Apache-2.0,2,2
openstack%2Frally~master~I6e6170c7dabc97a089d030ee6b05fc07993e8c32,openstack/rally,master,I6e6170c7dabc97a089d030ee6b05fc07993e8c32,get rid of oslo.utils,MERGED,2018-03-16 17:44:22.000000000,2018-03-22 19:36:07.000000000,2018-03-22 19:36:06.000000000,"[{'_account_id': 6172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 17:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/60b6ed90e94e2da3fa28f1bb35c2f9d46d8b7492', 'message': 'WIP: get rid of oslo.utils\n\nTODO: add tests for new methods\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}, {'number': 2, 'created': '2018-03-18 09:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a4c01ee6dae3ff6902cd3e357c6acfe77539490b', 'message': 'WIP: get rid of oslo.utils\n\nTODO: add tests for new methods\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}, {'number': 3, 'created': '2018-03-19 04:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f3e917540133dfc2b90c6155def4e03face41531', 'message': 'WIP: get rid of oslo.utils\n\nTODO: add tests for new methods\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}, {'number': 4, 'created': '2018-03-19 12:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/920df3d46615482c3fa6168bafdf23a47783a42f', 'message': 'WIP: get rid of oslo.utils\n\nTODO: add tests for new methods\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}, {'number': 5, 'created': '2018-03-21 21:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b6994d8373dad359ca1f6a4753e3257945385353', 'message': 'get rid of oslo.utils\n\nwe are using just several simple methods from oslo.utils which requires\na lot of other dependecies.\n\nTo make rally a lightweight framework, we need to abandon usage of such\nthings\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}, {'number': 6, 'created': '2018-03-22 07:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/28c12d5cd890e8f60317b420a737f4a9499595f4', 'message': 'get rid of oslo.utils\n\nwe are using just several simple methods from oslo.utils which requires\na lot of other dependecies.\n\nTo make rally a lightweight framework, we need to abandon usage of such\nthings\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}, {'number': 7, 'created': '2018-03-22 10:34:57.000000000', 'files': ['rally/common/db/migrations/versions/2016_11_484cd9413e66_new_db_schema_for_verification_component.py', 'rally/utils/encodeutils.py', 'tests/functional/utils.py', 'rally/common/io/subunit_v2.py', 'rally/task/engine.py', 'requirements.txt', 'tests/unit/common/test_utils.py', 'rally/plugins/common/sla/performance_degradation.py', 'tests/unit/utils/__init__.py', 'rally/common/utils.py', 'rally/plugins/openstack/scenarios/sahara/utils.py', 'tests/unit/utils/test_encodeutils.py', 'tests/unit/plugins/openstack/scenarios/sahara/test_utils.py', 'rally/utils/strutils.py', 'rally/cli/envutils.py', 'rally/cli/cliutils.py', 'tests/unit/test_resources.py', 'rally/cli/commands/task.py', 'tests/unit/utils/test_strutils.py', 'rally/common/db/migrations/versions/2018_02_bc908ac9a1fc_move_deployment_to_env_2.py', 'rally/verification/utils.py', 'rally/plugins/common/exporters/json_exporter.py', 'rally/utils/__init__.py', 'tests/unit/plugins/common/exporters/test_json_exporter.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/57200e0fa6ba86273a77db4e6d542067a59a87c7', 'message': 'get rid of oslo.utils\n\nwe are using just several simple methods from oslo.utils which requires\na lot of other dependecies.\n\nTo make rally a lightweight framework, we need to abandon usage of such\nthings\n\nChange-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32\n'}]",0,553867,57200e0fa6ba86273a77db4e6d542067a59a87c7,18,2,7,9545,,,0,"get rid of oslo.utils

we are using just several simple methods from oslo.utils which requires
a lot of other dependecies.

To make rally a lightweight framework, we need to abandon usage of such
things

Change-Id: I6e6170c7dabc97a089d030ee6b05fc07993e8c32
",git fetch https://review.opendev.org/openstack/rally refs/changes/67/553867/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally/common/db/migrations/versions/2016_11_484cd9413e66_new_db_schema_for_verification_component.py', 'tests/unit/plugins/openstack/scenarios/sahara/test_utils.py', 'rally/utils/strutils.py', 'rally/cli/envutils.py', 'rally/utils/encodeutils.py', 'tests/functional/utils.py', 'rally/common/io/subunit_v2.py', 'rally/cli/cliutils.py', 'tests/unit/test_resources.py', 'rally/cli/commands/task.py', 'requirements.txt', 'rally/common/db/migrations/versions/2018_02_bc908ac9a1fc_move_deployment_to_env_2.py', 'rally/verification/utils.py', 'rally/plugins/common/exporters/json_exporter.py', 'rally/utils/__init__.py', 'rally/plugins/openstack/scenarios/sahara/utils.py', 'tests/unit/plugins/common/exporters/test_json_exporter.py']",17,60b6ed90e94e2da3fa28f1bb35c2f9d46d8b7492,oslo_utils," @mock.patch(""%s.dt.datetime.utcnow"" % PATH, return_value=dt.datetime.utcnow())","from oslo_utils import timeutils @mock.patch(""%s.timeutils.utcnow"" % PATH, return_value=timeutils.utcnow())",208,29
openstack%2Fopenstack-ansible~stable%2Fqueens~If7c00cbfe3bd50a3702f86e7348de206b9fa3b95,openstack/openstack-ansible,stable/queens,If7c00cbfe3bd50a3702f86e7348de206b9fa3b95,Fix typo and misleading task name for nova-consoleauth,MERGED,2018-03-16 15:01:55.000000000,2018-03-22 19:31:22.000000000,2018-03-22 19:31:22.000000000,"[{'_account_id': 1004}, {'_account_id': 7414}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-16 15:01:55.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f60acc47e405e337c51b152b4568f88125e9440', 'message': ""Fix typo and misleading task name for nova-consoleauth\n\nThe services for console are installed in the 'Install nova\nconsole/metadata services' task, however, the scheduler\ninstall task misleadingly is named to mention that it installs\nconsoleauth and tries to run on the nova_consoleauth group\nwhich does not exist.\n\nChange-Id: If7c00cbfe3bd50a3702f86e7348de206b9fa3b95\n(cherry picked from commit 581e6e5b8eb7c5f8d269f0d3154adaf12d66dbde)\n""}]",0,553811,8f60acc47e405e337c51b152b4568f88125e9440,8,5,1,6816,,,0,"Fix typo and misleading task name for nova-consoleauth

The services for console are installed in the 'Install nova
console/metadata services' task, however, the scheduler
install task misleadingly is named to mention that it installs
consoleauth and tries to run on the nova_consoleauth group
which does not exist.

Change-Id: If7c00cbfe3bd50a3702f86e7348de206b9fa3b95
(cherry picked from commit 581e6e5b8eb7c5f8d269f0d3154adaf12d66dbde)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/553811/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,8f60acc47e405e337c51b152b4568f88125e9440,fix-typo-stable/queens,"- name: Install nova-scheduler services nova_hosts: ""nova_scheduler:!nova_conductor""","- name: Install nova-scheduler/nova-consoleauth services nova_hosts: ""nova_scheduler:nova_consoleauth:!nova_conductor""",2,2
openstack%2Fmanila~master~I1336c8a4d11762cc355ce5a48899d62646563e28,openstack/manila,master,I1336c8a4d11762cc355ce5a48899d62646563e28,Add manila-tempest-plugin as a requirement in rally job definitions,MERGED,2018-03-21 14:32:08.000000000,2018-03-22 19:27:51.000000000,2018-03-22 19:27:51.000000000,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 17780}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-03-21 14:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/958ab11b53f89406fd5b5caa727c5da61cbfaa2d', 'message': 'Update $PROJECTS in rally job definitions\n\nDepends-On: I0844cdb48b9d415bd341c4687620412178be871b\nChange-Id: I1336c8a4d11762cc355ce5a48899d62646563e28\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 2, 'created': '2018-03-22 05:10:16.000000000', 'files': ['playbooks/legacy/rally-dsvm-manila-multibackend/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend-no-ss/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/bda0b965d7aa962bf309f1263ce99fb085876db0', 'message': 'Add manila-tempest-plugin as a requirement in rally job definitions\n\nDepends-On: I0844cdb48b9d415bd341c4687620412178be871b\nChange-Id: I1336c8a4d11762cc355ce5a48899d62646563e28\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}]",0,554936,bda0b965d7aa962bf309f1263ce99fb085876db0,25,14,2,27697,,,0,"Add manila-tempest-plugin as a requirement in rally job definitions

Depends-On: I0844cdb48b9d415bd341c4687620412178be871b
Change-Id: I1336c8a4d11762cc355ce5a48899d62646563e28
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/554936/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/rally-dsvm-manila-multibackend/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend-no-ss/run.yaml']",2,958ab11b53f89406fd5b5caa727c5da61cbfaa2d,install-manila-tempest-plugin-system-wide," export PROJECTS=""openstack/rally openstack/manila-tempest-plugin $PROJECTS"""," export PROJECTS=""openstack/rally $PROJECTS""",2,2
openstack%2Freleases~master~Ic20fb20870bdae2cae126f316c9bd0fb2487d0a1,openstack/releases,master,Ic20fb20870bdae2cae126f316c9bd0fb2487d0a1,Base ladder content for CONTRIBUTING.rst,MERGED,2018-03-22 15:11:31.000000000,2018-03-22 19:21:13.000000000,2018-03-22 19:21:13.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 15:11:31.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/9536edb1fcc23c2df4d4886c1b1bbb354bb8c121', 'message': 'Base ladder content for CONTRIBUTING.rst\n\nPost base ladder content in our CONTRIBUTING.rst file,\na baby step in getting more people involved with release\nmanagement.\n\nChange-Id: Ic20fb20870bdae2cae126f316c9bd0fb2487d0a1\n'}]",3,555335,9536edb1fcc23c2df4d4886c1b1bbb354bb8c121,7,3,1,308,,,0,"Base ladder content for CONTRIBUTING.rst

Post base ladder content in our CONTRIBUTING.rst file,
a baby step in getting more people involved with release
management.

Change-Id: Ic20fb20870bdae2cae126f316c9bd0fb2487d0a1
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/555335/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,9536edb1fcc23c2df4d4886c1b1bbb354bb8c121,ladder,"====================================== Release management contribution ladder ====================================== Getting involved with release management can feel a bit overwhelming. To set expectations reasonably, we define 4 levels of engagement. Stage 0 - Review release requests ================================= This stage does not require any special rights. You should just review release requests (modifications of files in deliverables/ directory in the releases repository), apply the release review rules and vote. Release review guidelines ------------------------- Three test jobs run for every release request: * openstack-tox-validate checks for proper yaml format and schema validation and checks for things like proper job types and valid release note links * releases-tox-list-changes finds included commits, lists PTL and release liaison, requirements changes, and open reviews for docs and release notes * build-openstack-sphinx-docs performs a build of the releases website and checks for errors. You should: * check that the version bump matches semver rules. In particular, a .Z bump means only bugfixes should be listed in list-changes. * check the output of the test jobs. * Place your vote based on whether you think the request should be accepted as-is or not. Stage 1 - Approving release requests ==================================== At this stage you will be trusted with CodeReview+2 and Workflow+1 votes on the releases repository, giving you the ability to trigger releases. You will need a base understanding of the release machinery, and know to refrain from approving when unsure. Release infrastructure primer ----------------------------- What happens when a release is approved? Release infrastructure is divided into two steps, triggered by different, but related events. The first step is triggered by the release request being merged into the releases repository, starting a series of jobs in the ""post"" pipeline of the releases repository: Release request merged | +-------v-----------------------+ Post pipeline (releases repo) +---+-----------------------+---+ | | v v +-------+-------+ +-------+-------+ | tag | | publish-docs | | | | | | (pushes tags | | (to releases | | to each repo) | | website) | | | | | +-------+-------+ +---------------+ The second step is triggered by the creation of the tag, creating a series of jobs in the ""release"" pipeline (or ""pre-release"" pipeline, in case of beta versions) of the repository the tag landed in: Tag is created | +----v------------------------------------+ Release pipeline (each repo) +----+---------------+---------------+----+ | | | v v v +-----+-----+ +-----+-----+ +-----+-----+ | release | | announce | | propose | | | | | |constraints| |(builds | | (sends | | update | | tarball | | email) | | | | & uploads | | | +-----------+ | it) | +-----------+ +-----------+ Note that a single release request can create multiple tags in different repositories, triggering that second stage in multiple repositories. Jobs in step 2 need information from the release request (like series name, or whether to upload to pypi). We use metadata in the git tag itself to pass that information: the ""tag"" job in step 1 records the information in the tag, and the jobs in step 2 retrieve that information directly from the tag. Checklist before approving a release ------------------------------------- * You should only approve release requests. * You should check that release is approved by PTL or release liaison * You should check that infrastructure is not currently experiencing issues * You should check that we are not in any freeze period * If unsure, it is better to wait for a second opinion that to press Workflow+1 directly. Stage 2 - Knowing the release cycle process =========================================== At this stage you will be able to help drive the release cycle process, send reminder emails and answer questions from release liaisons. Stage 3 - Understanding the Release Automation Infrastructure ============================================================= At this stage you will be able to debug complex release infrastructure failures, and review/approve release tooling changes. ","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored.",121,8
openstack%2Fkuryr-kubernetes~stable%2Fqueens~I27a719a326dc37f97c46b88d0c171d0f12ded605,openstack/kuryr-kubernetes,stable/queens,I27a719a326dc37f97c46b88d0c171d0f12ded605,Watcher restarts watching resources in failure,MERGED,2018-03-21 08:06:49.000000000,2018-03-22 19:17:22.000000000,2018-03-22 19:17:22.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 27824}]","[{'number': 1, 'created': '2018-03-21 08:06:49.000000000', 'files': ['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/handlers/retry.py', 'kuryr_kubernetes/utils.py', 'releasenotes/notes/fault-tolerable-watcher-24c51dbccabf5f17.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/138c25338bb704cd659718a667b462e86769aafb', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nRelated-Bug: 1705429\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n(cherry picked from commit 58e6b1914c516ec87e04cfc935f33352887d1926)\n'}]",0,554826,138c25338bb704cd659718a667b462e86769aafb,15,5,1,23567,,,0,"Watcher restarts watching resources in failure

kuryr-kubernetes watcher watches k8s resources and trigger registered
pipeline.

This patch handles restarting watching when watch thread has failed.

Change-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605
Closes-Bug: 1739776
Related-Bug: 1705429
Signed-off-by: Eunsoo Park <esevan.park@gmail.com>
(cherry picked from commit 58e6b1914c516ec87e04cfc935f33352887d1926)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/26/554826/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/handlers/retry.py', 'kuryr_kubernetes/utils.py', 'releasenotes/notes/fault-tolerable-watcher-24c51dbccabf5f17.yaml']",6,138c25338bb704cd659718a667b462e86769aafb,bug/1739776,"--- upgrade: - | For the kuryr kubernetes watcher, a new option 'watch_retry_timeout' has been added. The following should be modified at kuryr.conf:: [kubernetes] # 'watch_retry_timeout' field is optional, # default = 60 if not set. watch_retry_timeout = <Time in seconds> fixes: - | K8s api server is often temporarily down and restored soon in production environment. Since kuryr-kubernetes watches k8s resources by connecting k8s api server, watcher fails to watch the resources if k8s api server is down. In order to fix it, we made watcher retry connecting to k8s api server for specific time duration when an exception is raised. ",,144,41
openstack%2Fcongress~stable%2Fpike~Ieee3ce37403ce63e332178cc15f13cf9905b684e,openstack/congress,stable/pike,Ieee3ce37403ce63e332178cc15f13cf9905b684e,Zuul: Remove project name,MERGED,2018-02-09 12:30:56.000000000,2018-03-22 19:10:50.000000000,2018-03-22 19:10:49.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-09 12:30:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/congress/commit/6a7bc328ad1b65276ebe564b5d7c68279edda405', 'message': 'Zuul: Remove project name\n\nZuul no longer requires the project-name for in-repo configuration.\nOmitting it makes forking or renaming projects easier.\n\nChange-Id: Ieee3ce37403ce63e332178cc15f13cf9905b684e\n'}]",0,542793,6a7bc328ad1b65276ebe564b5d7c68279edda405,9,3,1,1,,,0,"Zuul: Remove project name

Zuul no longer requires the project-name for in-repo configuration.
Omitting it makes forking or renaming projects easier.

Change-Id: Ieee3ce37403ce63e332178cc15f13cf9905b684e
",git fetch https://review.opendev.org/openstack/congress refs/changes/93/542793/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6a7bc328ad1b65276ebe564b5d7c68279edda405,zuulv3-projects, database: postgresql, database: postgresql name: openstack/congress,1,2
openstack%2Fopenstack-zuul-jobs~master~I22db2c313bf1e9a685e8ace2d98fb1adc81da84c,openstack/openstack-zuul-jobs,master,I22db2c313bf1e9a685e8ace2d98fb1adc81da84c,Remove legacy-brick-cinderclient-ext-dsvm-functional,MERGED,2018-03-22 18:20:48.000000000,2018-03-22 19:04:14.000000000,2018-03-22 19:04:14.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 18:20:48.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/brick-cinderclient-ext-dsvm-functional/run.yaml', 'playbooks/legacy/brick-cinderclient-ext-dsvm-functional/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8f3db9a7f56fa0990fe352119d6ac1838db5e327', 'message': 'Remove legacy-brick-cinderclient-ext-dsvm-functional\n\nThis job has now been converted over to an updated in-repo test\nand can be removed.\n\nChange-Id: I22db2c313bf1e9a685e8ace2d98fb1adc81da84c\n'}]",0,555401,8f3db9a7f56fa0990fe352119d6ac1838db5e327,9,4,1,11904,,,0,"Remove legacy-brick-cinderclient-ext-dsvm-functional

This job has now been converted over to an updated in-repo test
and can be removed.

Change-Id: I22db2c313bf1e9a685e8ace2d98fb1adc81da84c
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/01/555401/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/brick-cinderclient-ext-dsvm-functional/run.yaml', 'playbooks/legacy/brick-cinderclient-ext-dsvm-functional/post.yaml']",3,8f3db9a7f56fa0990fe352119d6ac1838db5e327,brick-cinderclient,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,139
openstack%2Fbarbican-tempest-plugin~master~I5032c71a3a0230df7352a415b5b77f37fafc29a7,openstack/barbican-tempest-plugin,master,I5032c71a3a0230df7352a415b5b77f37fafc29a7,Verify instance snapshots when using signed images,MERGED,2017-12-11 12:52:14.000000000,2018-03-22 18:55:17.000000000,2018-03-22 18:55:17.000000000,"[{'_account_id': 3}, {'_account_id': 9914}, {'_account_id': 10135}, {'_account_id': 20675}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 24711}, {'_account_id': 27245}]","[{'number': 1, 'created': '2017-12-11 12:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2c081d70a25236e3fdcf87ca40a765f5cf495ffa', 'message': 'Verify instance snapshots when using signed images\n\nCloses-bug: #1737513\nDepends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\nChange-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7\n'}, {'number': 2, 'created': '2017-12-14 14:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2fb19bbb52a80f6680c501fa476c8077f7a2780c', 'message': 'Verify instance snapshots when using signed images\n\nCloses-bug: #1737513\nDepends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\nChange-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7\n'}, {'number': 3, 'created': '2017-12-14 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/9a960b72343be728301da85282597432deb9016e', 'message': 'Verify instance snapshots when using signed images\n\nCloses-bug: #1737513\nDepends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\nChange-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7\n'}, {'number': 4, 'created': '2017-12-14 20:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/51350503d31577b69a74f01f41579ddd87f5414f', 'message': 'Verify instance snapshots when using signed images\n\nCloses-bug: #1737513\nDepends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\nChange-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7\n'}, {'number': 5, 'created': '2017-12-14 20:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/be5001550b2c7612f1cfc43bbebb9fef51e58e8e', 'message': 'Verify instance snapshots when using signed images\n\nCloses-bug: #1737513\nDepends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\nChange-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7\n'}, {'number': 6, 'created': '2018-03-19 16:16:21.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_image_signing.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/78f3327364345164a52ac6bbf0c7df0fa1ae8951', 'message': 'Verify instance snapshots when using signed images\n\nCloses-bug: #1737513\nDepends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\nChange-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7\n'}]",7,527079,78f3327364345164a52ac6bbf0c7df0fa1ae8951,35,8,6,10135,,,0,"Verify instance snapshots when using signed images

Closes-bug: #1737513
Depends-On: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e
Change-Id: I5032c71a3a0230df7352a415b5b77f37fafc29a7
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/79/527079/6 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/scenario/test_image_signing.py', 'barbican_tempest_plugin/tests/scenario/manager.py']",2,2c081d70a25236e3fdcf87ca40a765f5cf495ffa,bug/1737513," def create_image_from_server(self, server_id, **kwargs): """"""Wrapper utility that returns an image created from the server."""""" name = kwargs.pop('name', data_utils.rand_name(""-image"")) wait_until = kwargs.pop('wait_until', None) wait_for_server = kwargs.pop('wait_for_server', True) image = self.compute_images_client.create_image(server_id, name=name, **kwargs) image_id = data_utils.parse_image_id(image.response['location']) if wait_until is not None: try: waiters.wait_for_image_status(self.compute_images_client, image_id, wait_until) except lib_exc.NotFound: if wait_until.upper() == 'ACTIVE': # If the image is not found after create_image returned # that means the snapshot failed in nova-compute and nova # deleted the image. There should be a compute fault # recorded with the server in that case, so get the server # and dump some details. server = ( self.servers_client.show_server(server_id)['server']) if 'fault' in server: raise exceptions.SnapshotNotFoundException( server['fault'], image_id=image_id) else: raise exceptions.SnapshotNotFoundException( image_id=image_id) else: raise image = self.compute_images_client.show_image(image_id)['image'] if wait_until.upper() == 'ACTIVE': if wait_for_server: waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') return image",,55,0
openstack%2Frelease-tools~master~I5a29d5527e9051d1ca7fb1c984b3a4ba6e9abf34,openstack/release-tools,master,I5a29d5527e9051d1ca7fb1c984b3a4ba6e9abf34,import the old onboarding presentation,MERGED,2018-02-15 17:37:20.000000000,2018-03-22 18:54:08.000000000,2018-03-22 18:54:08.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-15 17:37:20.000000000', 'files': ['presentations/onboarding/plugin/zoom-js/zoom.js', 'presentations/onboarding/css/font-awesome.css', 'presentations/onboarding/package-lock.json', 'presentations/onboarding/css/theme/source/serif.scss', 'presentations/onboarding/plugin/markdown/example.md', 'presentations/onboarding/css/theme/source/sky.scss', 'presentations/onboarding/css/theme/template/theme.scss', 'presentations/onboarding/plugin/multiplex/index.js', 'presentations/onboarding/css/theme/sky.css', 'presentations/onboarding/plugin/search/search.js', 'presentations/onboarding/css/theme/beige.css', 'presentations/onboarding/fonts/fontawesome-webfont.eot', 'presentations/onboarding/PROCESS.rst', 'presentations/onboarding/plugin/markdown/markdown.js', 'presentations/onboarding/css/theme/serif.css', 'presentations/onboarding/plugin/notes-server/client.js', 'presentations/onboarding/plugin/math/math.js', 'presentations/onboarding/css/theme/source/moon.scss', 'presentations/onboarding/fonts/fontawesome-webfont.woff2', 'presentations/onboarding/img/cc-by-88x31.png', 'presentations/onboarding/plugin/highlight/highlight.js', 'presentations/onboarding/css/theme/league.css', 'presentations/onboarding/README.rst', 'presentations/onboarding/css/theme/source/white.scss', 'presentations/onboarding/plugin/notes/notes.js', 'presentations/onboarding/css/reveal.scss', 'presentations/onboarding/.gitignore', 'presentations/onboarding/index.html', 'presentations/onboarding/plugin/notes-server/index.js', 'presentations/onboarding/plugin/multiplex/package.json', 'presentations/onboarding/css/theme/template/settings.scss', 'presentations/onboarding/css/reveal.css', 'presentations/onboarding/css/custom.css', 'presentations/onboarding/css/theme/source/blood.scss', 'presentations/onboarding/css/theme/dhellmann.css', 'presentations/onboarding/css/theme/moon.css', 'presentations/onboarding/css/theme/source/black.scss', 'presentations/onboarding/js/jquery-3.1.1.js', 'presentations/onboarding/tools/output.py', 'presentations/onboarding/css/theme/source/solarized.scss', 'presentations/onboarding/js/lineselect.js', 'presentations/onboarding/plugin/multiplex/client.js', 'presentations/onboarding/plugin/multiplex/master.js', 'presentations/onboarding/css/theme/solarized.css', 'presentations/onboarding/fonts/FontAwesome.otf', 'presentations/onboarding/Gruntfile.js', 'presentations/onboarding/css/theme/white.css', 'presentations/onboarding/css/theme/source/beige.scss', 'presentations/onboarding/css/theme/source/league.scss', 'presentations/onboarding/css/theme/README.md', 'presentations/onboarding/bower.json', 'presentations/onboarding/plugin/notes-server/notes.html', 'presentations/onboarding/css/print/paper.css', 'presentations/onboarding/js/reveal.min.js', 'presentations/onboarding/css/print/pdf.css', 'presentations/onboarding/css/theme/blood.css', 'presentations/onboarding/css/theme/source/simple.scss', 'presentations/onboarding/js/reveal.js', 'presentations/onboarding/css/theme/source/dhellmann.scss', 'presentations/onboarding/css/theme/template/mixins.scss', 'presentations/onboarding/plugin/markdown/marked.js', 'presentations/onboarding/requirements.txt', 'presentations/onboarding/tools/showcode.py', 'presentations/onboarding/plugin/notes/notes.html', 'presentations/onboarding/css/theme/simple.css', 'presentations/onboarding/css/theme/night.css', 'presentations/onboarding/fonts/fontawesome-webfont.ttf', 'presentations/onboarding/css/theme/black.css', 'presentations/onboarding/fonts/fontawesome-webfont.woff', 'presentations/onboarding/fonts/fontawesome-webfont.svg', 'presentations/onboarding/css/reveal.min.css', 'presentations/onboarding/css/theme/source/night.scss', 'presentations/onboarding/css/font-awesome.min.css', 'presentations/onboarding/plugin/markdown/example.html', 'presentations/onboarding/plugin/print-pdf/print-pdf.js', 'presentations/onboarding/package.json'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/e7ffdb6d553178a7ae025df0356ee6385e77fbee', 'message': 'import the old onboarding presentation\n\nThis presentation originally lived at\nhttps://github.com/dhellmann/presentation-openstack-release-team-onboarding\n\nChange-Id: I5a29d5527e9051d1ca7fb1c984b3a4ba6e9abf34\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,545058,e7ffdb6d553178a7ae025df0356ee6385e77fbee,10,4,1,2472,,,0,"import the old onboarding presentation

This presentation originally lived at
https://github.com/dhellmann/presentation-openstack-release-team-onboarding

Change-Id: I5a29d5527e9051d1ca7fb1c984b3a4ba6e9abf34
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/58/545058/1 && git format-patch -1 --stdout FETCH_HEAD,"['presentations/onboarding/plugin/zoom-js/zoom.js', 'presentations/onboarding/css/font-awesome.css', 'presentations/onboarding/package-lock.json', 'presentations/onboarding/css/theme/source/serif.scss', 'presentations/onboarding/plugin/markdown/example.md', 'presentations/onboarding/css/theme/source/sky.scss', 'presentations/onboarding/css/theme/template/theme.scss', 'presentations/onboarding/plugin/multiplex/index.js', 'presentations/onboarding/css/theme/sky.css', 'presentations/onboarding/plugin/search/search.js', 'presentations/onboarding/css/theme/beige.css', 'presentations/onboarding/fonts/fontawesome-webfont.eot', 'presentations/onboarding/PROCESS.rst', 'presentations/onboarding/plugin/markdown/markdown.js', 'presentations/onboarding/css/theme/serif.css', 'presentations/onboarding/plugin/notes-server/client.js', 'presentations/onboarding/plugin/math/math.js', 'presentations/onboarding/css/theme/source/moon.scss', 'presentations/onboarding/fonts/fontawesome-webfont.woff2', 'presentations/onboarding/img/cc-by-88x31.png', 'presentations/onboarding/plugin/highlight/highlight.js', 'presentations/onboarding/css/theme/league.css', 'presentations/onboarding/README.rst', 'presentations/onboarding/css/theme/source/white.scss', 'presentations/onboarding/plugin/notes/notes.js', 'presentations/onboarding/css/reveal.scss', 'presentations/onboarding/.gitignore', 'presentations/onboarding/index.html', 'presentations/onboarding/plugin/notes-server/index.js', 'presentations/onboarding/plugin/multiplex/package.json', 'presentations/onboarding/css/theme/template/settings.scss', 'presentations/onboarding/css/reveal.css', 'presentations/onboarding/css/custom.css', 'presentations/onboarding/css/theme/source/blood.scss', 'presentations/onboarding/css/theme/dhellmann.css', 'presentations/onboarding/css/theme/moon.css', 'presentations/onboarding/css/theme/source/black.scss', 'presentations/onboarding/js/jquery-3.1.1.js', 'presentations/onboarding/tools/output.py', 'presentations/onboarding/css/theme/source/solarized.scss', 'presentations/onboarding/js/lineselect.js', 'presentations/onboarding/plugin/multiplex/client.js', 'presentations/onboarding/plugin/multiplex/master.js', 'presentations/onboarding/css/theme/solarized.css', 'presentations/onboarding/fonts/FontAwesome.otf', 'presentations/onboarding/Gruntfile.js', 'presentations/onboarding/css/theme/white.css', 'presentations/onboarding/css/theme/source/beige.scss', 'presentations/onboarding/css/theme/source/league.scss', 'presentations/onboarding/css/theme/README.md', 'presentations/onboarding/bower.json', 'presentations/onboarding/plugin/notes-server/notes.html', 'presentations/onboarding/css/print/paper.css', 'presentations/onboarding/js/reveal.min.js', 'presentations/onboarding/css/print/pdf.css', 'presentations/onboarding/css/theme/blood.css', 'presentations/onboarding/css/theme/source/simple.scss', 'presentations/onboarding/js/reveal.js', 'presentations/onboarding/css/theme/source/dhellmann.scss', 'presentations/onboarding/css/theme/template/mixins.scss', 'presentations/onboarding/plugin/markdown/marked.js', 'presentations/onboarding/requirements.txt', 'presentations/onboarding/tools/showcode.py', 'presentations/onboarding/plugin/notes/notes.html', 'presentations/onboarding/css/theme/simple.css', 'presentations/onboarding/css/theme/night.css', 'presentations/onboarding/fonts/fontawesome-webfont.ttf', 'presentations/onboarding/css/theme/black.css', 'presentations/onboarding/fonts/fontawesome-webfont.woff', 'presentations/onboarding/fonts/fontawesome-webfont.svg', 'presentations/onboarding/css/reveal.min.css', 'presentations/onboarding/css/theme/source/night.scss', 'presentations/onboarding/css/font-awesome.min.css', 'presentations/onboarding/plugin/markdown/example.html', 'presentations/onboarding/plugin/print-pdf/print-pdf.js', 'presentations/onboarding/package.json']",76,e7ffdb6d553178a7ae025df0356ee6385e77fbee,onboarding-presentation,"{ ""name"": ""reveal.js"", ""version"": ""3.4.0"", ""description"": ""The HTML Presentation Framework"", ""homepage"": ""http://lab.hakim.se/reveal-js"", ""subdomain"": ""revealjs"", ""main"": ""js/reveal.js"", ""scripts"": { ""test"": ""grunt test"", ""start"": ""grunt serve"" }, ""author"": { ""name"": ""Hakim El Hattab"", ""email"": ""hakim.elhattab@gmail.com"", ""web"": ""http://hakim.se"" }, ""repository"": { ""type"": ""git"", ""url"": ""git://github.com/hakimel/reveal.js.git"" }, ""engines"": { ""node"": "">=4.0.0"" }, ""dependencies"": { ""express"": ""~4.14.0"", ""grunt-cli"": ""~1.2.0"", ""grunt-exec"": ""~1.0.0"", ""mustache"": ""~2.2.1"", ""socket.io"": ""^1.4.8"" }, ""devDependencies"": { ""grunt"": ""~1.0.1"", ""grunt-autoprefixer"": ""~3.0.3"", ""grunt-contrib-connect"": ""~0.11.2"", ""grunt-contrib-cssmin"": ""~0.14.0"", ""grunt-contrib-jshint"": ""~0.11.3"", ""grunt-contrib-qunit"": ""~1.2.0"", ""grunt-contrib-uglify"": ""~0.9.2"", ""grunt-contrib-watch"": ""~1.0.0"", ""grunt-sass"": ""~1.2.0"", ""grunt-retire"": ""~0.3.10"", ""grunt-zip"": ""~0.17.1"", ""node-sass"": ""~3.13.0"" }, ""license"": ""MIT"" } ",,36244,0
openstack%2Fopenstack-zuul-jobs~master~I9bdfac1fce99b7bebe38c53d0a1ae2ff16fac10d,openstack/openstack-zuul-jobs,master,I9bdfac1fce99b7bebe38c53d0a1ae2ff16fac10d,Add opensuse-tumbleweed testing to ozj,MERGED,2018-02-22 02:55:07.000000000,2018-03-22 18:49:26.000000000,2018-03-22 18:49:26.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 02:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/60a2f5fb88f6660765fac785469200eac4d11868', 'message': 'Add opensuse-tumbleweed testing to ozj\n\nNow that opensuse-tumbleweed is online, start test coverage for ozj.\n\nChange-Id: I9bdfac1fce99b7bebe38c53d0a1ae2ff16fac10d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-02-22 02:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1d8530aac0e009510963d0f49b914f64f6fb9a93', 'message': 'Add opensuse-tumbleweed testing to ozj\n\nNow that opensuse-tumbleweed is online, start test coverage for ozj.\n\nChange-Id: I9bdfac1fce99b7bebe38c53d0a1ae2ff16fac10d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2018-03-11 16:25:41.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8ae022a8ea54fe7cc8a9dc9ac2bd81114eef02b2', 'message': 'Add opensuse-tumbleweed testing to ozj\n\nNow that opensuse-tumbleweed is online, start test coverage for ozj.\n\nChange-Id: I9bdfac1fce99b7bebe38c53d0a1ae2ff16fac10d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,546844,8ae022a8ea54fe7cc8a9dc9ac2bd81114eef02b2,19,5,3,4162,,,0,"Add opensuse-tumbleweed testing to ozj

Now that opensuse-tumbleweed is online, start test coverage for ozj.

Change-Id: I9bdfac1fce99b7bebe38c53d0a1ae2ff16fac10d
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/44/546844/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",3,60a2f5fb88f6660765fac785469200eac4d11868,546844, name: openstack-infra-base-integration-opensuse423 parent: openstack-infra-base-integration nodeset: opensuse-tumbleweed - job: name: openstack-infra-multinode-integration-opensuse-tumbleweed parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: opensuse-tumbleweed - name: secondary label: opensuse-tumbleweed groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job:,,32,0
openstack%2Fpython-zunclient~master~Ic6518d2c5ad3764d2c21999a616dc9c9625ada6e,openstack/python-zunclient,master,Ic6518d2c5ad3764d2c21999a616dc9c9625ada6e,Add oslo.log into requirements.txt,MERGED,2018-03-22 17:23:23.000000000,2018-03-22 18:47:16.000000000,2018-03-22 18:46:11.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 17:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/de3ecb0f0120b82a31814d7164ee776b630fd3be', 'message': 'Add oslo.log into requirements.txt\n\nThe missing of oslo.log causes failure of zun-ui gate.\n\nChange-Id: Ic6518d2c5ad3764d2c21999a616dc9c9625ada6e\n'}, {'number': 2, 'created': '2018-03-22 17:28:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/f100f94f64a56fa25c99fc8f5689647dc49cd7f9', 'message': ""Add oslo.log into requirements.txt\n\nWe are recently switching to oslo.log [1] but didn't add it to the\nrequirements. The missing of oslo.log causes failure of zun-ui gate.\n\n[1] https://review.openstack.org/#/c/540222/\n\nChange-Id: Ic6518d2c5ad3764d2c21999a616dc9c9625ada6e\n""}]",0,555382,f100f94f64a56fa25c99fc8f5689647dc49cd7f9,8,2,2,11536,,,0,"Add oslo.log into requirements.txt

We are recently switching to oslo.log [1] but didn't add it to the
requirements. The missing of oslo.log causes failure of zun-ui gate.

[1] https://review.openstack.org/#/c/540222/

Change-Id: Ic6518d2c5ad3764d2c21999a616dc9c9625ada6e
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/82/555382/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,de3ecb0f0120b82a31814d7164ee776b630fd3be,,oslo.log>=3.36.0 # Apache-2.0,,1,0
openstack%2Fmanila~master~I4543d7170164bee4703cc4418991a03f7289dda9,openstack/manila,master,I4543d7170164bee4703cc4418991a03f7289dda9,Update docs since manila_tempest_tests are installed system-wide,MERGED,2018-02-08 16:46:37.000000000,2018-03-22 18:28:40.000000000,2018-03-22 18:28:40.000000000,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17780}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-02-08 16:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b7108ce1597269d0913bbed6a2ba6264747d1920', 'message': 'update docs since manila_tempest_tests are installed system-wide\n\nSince manila_tempest_tests are now installed system-wide, update the\ncommands in the docs that show how to run tempest tests.\n\nDepends-On: I0844cdb48b9d415bd341c4687620412178be871b\nChange-Id: I4543d7170164bee4703cc4418991a03f7289dda9\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 2, 'created': '2018-02-08 16:55:17.000000000', 'files': ['doc/source/contributor/tempest_tests.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/dab53dbc9cc78c18556cf4e26f0bee2df720210a', 'message': 'Update docs since manila_tempest_tests are installed system-wide\n\nSince manila_tempest_tests are now installed system-wide, update the\ncommands in the docs that show how to run tempest tests.\n\nDepends-On: I0844cdb48b9d415bd341c4687620412178be871b\nChange-Id: I4543d7170164bee4703cc4418991a03f7289dda9\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}]",0,542309,dab53dbc9cc78c18556cf4e26f0bee2df720210a,19,16,2,27697,,,0,"Update docs since manila_tempest_tests are installed system-wide

Since manila_tempest_tests are now installed system-wide, update the
commands in the docs that show how to run tempest tests.

Depends-On: I0844cdb48b9d415bd341c4687620412178be871b
Change-Id: I4543d7170164bee4703cc4418991a03f7289dda9
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/542309/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/tempest_tests.rst'],1,b7108ce1597269d0913bbed6a2ba6264747d1920,install-manila-tempest-plugin-system-wide, $ tempest run -r manila_tempest_tests.tests.api $ tempest run -r manila_tempest_tests.tests.scenario $ tempest run -r manila_tempest_tests.tests.api.admin $ tempest run -r manila_tempest_tests.tests.api.admin.test_admin_actions $ tempest run -r manila_tempest_tests.tests.api.admin.test_admin_actions.AdminActionsTest $ tempest run -r manila_tempest_tests.tests.api.admin.test_admin_actions.AdminActionsTest.test_reset_share_state $ tempest run -r \ $ tempest run -r \ $ tempest run -r \ $ tempest run -r \ $ tempest run -r \ $ tempest run -r \, $ tox -e all-plugin -- manila_tempest_tests.tests.api $ tox -e all-plugin -- manila_tempest_tests.tests.scenario $ tox -e all-plugin -- manila_tempest_tests.tests.api.admin $ tox -e all-plugin -- manila_tempest_tests.tests.api.admin.test_admin_actions $ tox -e all-plugin -- manila_tempest_tests.tests.api.admin.test_admin_actions.AdminActionsTest $ tox -e all-plugin -- manila_tempest_tests.tests.api.admin.test_admin_actions.AdminActionsTest.test_reset_share_state $ tox -e all-plugin -- \ $ tox -e all-plugin -- \ $ tox -e all-plugin -- \ $ tox -e all-plugin -- \ $ tox -e all-plugin -- \ $ tox -e all-plugin -- \,12,12
openstack%2Fproject-config~master~I5fd40b7482f71be33fcb4fd605decabf0e5ff77c,openstack/project-config,master,I5fd40b7482f71be33fcb4fd605decabf0e5ff77c,Remove python-brick-cinderclient-ext functional test,MERGED,2018-03-22 16:20:42.000000000,2018-03-22 18:23:22.000000000,2018-03-22 18:23:22.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 16:20:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/acff36d78e09fc2f21ee79ee4995a18e1006a0ae', 'message': 'Remove python-brick-cinderclient-ext functional test\n\nRemoval of legacy test to be updated and included in the\nproject repo itself.\n\nChange-Id: I5fd40b7482f71be33fcb4fd605decabf0e5ff77c\n'}]",0,555365,acff36d78e09fc2f21ee79ee4995a18e1006a0ae,10,4,1,11904,,,0,"Remove python-brick-cinderclient-ext functional test

Removal of legacy test to be updated and included in the
project repo itself.

Change-Id: I5fd40b7482f71be33fcb4fd605decabf0e5ff77c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/555365/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,acff36d78e09fc2f21ee79ee4995a18e1006a0ae,brick-cinderclient,, check: jobs: - legacy-brick-cinderclient-ext-dsvm-functional gate: jobs: - legacy-brick-cinderclient-ext-dsvm-functional,0,6
openstack%2Fkeystone~master~I8f970af482fb3b54c55f2fdb251263949b3922d6,openstack/keystone,master,I8f970af482fb3b54c55f2fdb251263949b3922d6,Cast division product to int when inflating auth,ABANDONED,2018-03-22 15:40:01.000000000,2018-03-22 18:17:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 15:40:01.000000000', 'files': ['keystone/auth/plugins/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d224591b8db8264e719516be6ab6b838f57ceb57', 'message': 'Cast division product to int when inflating auth\n\nThis makes the re-inflation logic for tokens behave the same,\nregardless of running on python3 or python2.\n\nChange-Id: I8f970af482fb3b54c55f2fdb251263949b3922d6\n'}]",0,555340,d224591b8db8264e719516be6ab6b838f57ceb57,3,1,1,5046,,,0,"Cast division product to int when inflating auth

This makes the re-inflation logic for tokens behave the same,
regardless of running on python3 or python2.

Change-Id: I8f970af482fb3b54c55f2fdb251263949b3922d6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/555340/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/auth/plugins/core.py'],1,d224591b8db8264e719516be6ab6b838f57ceb57,, result = int(method_int / m_int) if result == 1:, if (method_int / m_int) == 1:,2,1
openstack%2Fopenstack-helm~master~Ifd09d7effe7d382074ca9e6678df36bdd4bce0af,openstack/openstack-helm,master,Ifd09d7effe7d382074ca9e6678df36bdd4bce0af,MariaDB: Update to 10.2.13; patching wsrep_sst_xtrabackup-v2,MERGED,2018-03-21 21:16:15.000000000,2018-03-22 18:14:41.000000000,2018-03-22 18:14:41.000000000,"[{'_account_id': 8898}, {'_account_id': 14119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-21 21:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6c2176c14db4106ca564134c306f18c2fa0643b', 'message': 'MariaDB: Update to version 10.2.13 - and patch broken script\n\nRecent versions of MariaDB (10.1.31, 10.2.13) have a regression that\nbreaks clustering.  See https://github.com/MariaDB/server/pull/457 and\nhttps://github.com/MariaDB/server/commit/4e6dab94d0931eafba502f5a91da29a54e75bb33\nfor an in depth explanation.\n\nWe need 10.2.13+ for Barbican to function correctly (see bug #1734329)\nbut we also need the fix above to support MariaDB clustering.\n\nThis work-around can be removed later on when MariaDB 10.2.x releases\ncontain the needed script fix.\n\nThanks to Sam Yample <sam@yaple.net> for helping track this down.\n\nChange-Id: Ifd09d7effe7d382074ca9e6678df36bdd4bce0af\n'}, {'number': 2, 'created': '2018-03-21 21:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8aa1f25bbd6e44dcbd13091ed1434b0d6156e020', 'message': 'MariaDB: Update to version 10.2.13 - and patch broken script\n\nRecent versions of MariaDB (10.1.31, 10.2.13) have a regression that\nbreaks clustering.  See https://github.com/MariaDB/server/pull/457 and\nhttps://github.com/MariaDB/server/commit/4e6dab94d0931eafba502f5a91da29a54e75bb33\nfor an in depth explanation.\n\nWe need 10.2.13+ for Barbican to function correctly (see bug #1734329)\nbut we also need the fix above to support MariaDB clustering.\n\nThis work-around can be removed later on when MariaDB 10.2.x releases\ncontain the needed script fix.\n\nThanks to Sam Yample <sam@yaple.net> for helping track this down.\n\nChange-Id: Ifd09d7effe7d382074ca9e6678df36bdd4bce0af\n'}, {'number': 3, 'created': '2018-03-21 21:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe6f4a16b672a463231fd017daf56bb7df959ad8', 'message': ""MariaDB: Fix clustering by patching 'wsrep_sst_xtrabackup-v2'\n\nRecent versions of MariaDB (10.1.31, 10.2.13) have a regression that\nbreaks clustering.  See https://github.com/MariaDB/server/pull/457 and\nhttps://github.com/MariaDB/server/commit/4e6dab94d0931eafba502f5a91da29a54e75bb33\nfor an in depth explanation.\n\nWe need 10.2.13+ for Barbican to function correctly (see bug #1734329)\nbut we also need the fix above to support MariaDB clustering.\n\nThis work-around can be removed later on when MariaDB 10.2.x releases\ncontain the needed script fix.\n\nThanks to Sam Yample <sam@yaple.net> for helping track this down.\n\nChange-Id: Ifd09d7effe7d382074ca9e6678df36bdd4bce0af\n""}, {'number': 4, 'created': '2018-03-21 22:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e143ba7b20a460eec96894e048eedb05b875db62', 'message': ""MariaDB: Fix clustering by patching 'wsrep_sst_xtrabackup-v2'\n\nRecent versions of MariaDB (10.1.31, 10.2.13) have a regression that\nbreaks clustering.  See https://github.com/MariaDB/server/pull/457 and\nhttps://github.com/MariaDB/server/commit/4e6dab94d0931eafba502f5a91da29a54e75bb33\nfor an in depth explanation.\n\nWe need 10.2.13+ for Barbican to function correctly (see bug #1734329)\nbut we also need the fix above to support MariaDB clustering.\n\nThis work-around can be removed later on when MariaDB 10.2.x releases\ncontain the needed script fix.\n\nThanks to Sam Yample <sam@yaple.net> for helping track this down.\n\nChange-Id: Ifd09d7effe7d382074ca9e6678df36bdd4bce0af\n""}, {'number': 5, 'created': '2018-03-22 02:37:11.000000000', 'files': ['mariadb/values.yaml', 'mariadb/templates/bin/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/626d7d6ef6cf79452e0309c744b0e294fb11ae76', 'message': 'MariaDB: Update to 10.2.13; patching wsrep_sst_xtrabackup-v2\n\nRecent versions of MariaDB (10.1.31, 10.2.13) have a regression that\nbreaks clustering.  See https://github.com/MariaDB/server/pull/457 and\nhttps://github.com/MariaDB/server/commit/4e6dab94d0931eafba502f5a91da29a54e75bb33\nfor an in depth explanation.\n\nWe need 10.2.13+ for Barbican to function correctly (see bug #1734329)\nbut we also need the fix above to support MariaDB clustering.\n\nThis work-around can be removed later on when MariaDB 10.2.x releases\ncontain the needed script fix.\n\nThanks to Sam Yample <sam@yaple.net> for helping track this down.\n\nChange-Id: Ifd09d7effe7d382074ca9e6678df36bdd4bce0af\n'}]",2,555061,626d7d6ef6cf79452e0309c744b0e294fb11ae76,18,7,5,8898,,,0,"MariaDB: Update to 10.2.13; patching wsrep_sst_xtrabackup-v2

Recent versions of MariaDB (10.1.31, 10.2.13) have a regression that
breaks clustering.  See https://github.com/MariaDB/server/pull/457 and
https://github.com/MariaDB/server/commit/4e6dab94d0931eafba502f5a91da29a54e75bb33
for an in depth explanation.

We need 10.2.13+ for Barbican to function correctly (see bug #1734329)
but we also need the fix above to support MariaDB clustering.

This work-around can be removed later on when MariaDB 10.2.x releases
contain the needed script fix.

Thanks to Sam Yample <sam@yaple.net> for helping track this down.

Change-Id: Ifd09d7effe7d382074ca9e6678df36bdd4bce0af
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/555061/5 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_wsrep_sst_xtrabackup-v2.tpl', 'mariadb/templates/statefulset.yaml']",3,c6c2176c14db4106ca564134c306f18c2fa0643b,bug/1734329, # post mariadb:10.2.13 this can probably be removed - name: mariadb-bin mountPath: /usr/bin/wsrep_sst_xtrabackup-v2 subPath: wsrep-lsof-wr,,1218,0
openstack%2Felection~master~Ia81ec4abc1e601c23234ebf1fd54766035d71e24,openstack/election,master,Ia81ec4abc1e601c23234ebf1fd54766035d71e24,Prepare Rocky TC Election,MERGED,2018-03-09 22:53:28.000000000,2018-03-22 18:07:42.000000000,2018-03-22 18:07:41.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 6088}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 22:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/d3e1b45e65c63fd9d164de2a0e174ea2fe26b29c', 'message': 'Prepare Rocky TC Election\n\nChange-Id: Ia81ec4abc1e601c23234ebf1fd54766035d71e24\n'}, {'number': 2, 'created': '2018-03-09 23:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/11d4d4847e9c611adbf40ce98121d9683b3a430f', 'message': 'Prepare Rocky TC Election\n\nStory: 2001611\nTask: 6582\n\nChange-Id: Ia81ec4abc1e601c23234ebf1fd54766035d71e24\n'}, {'number': 3, 'created': '2018-03-19 22:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/3d1eaed7742e276d42ead50432aa1e83e13a7dfd', 'message': 'Prepare Rocky TC Election\n\nStory: 2001611\nTask: 6582\n\nChange-Id: Ia81ec4abc1e601c23234ebf1fd54766035d71e24\n'}, {'number': 4, 'created': '2018-03-21 21:53:17.000000000', 'files': ['configuration.yaml', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/8b2c8226a862b44366e0772df3890ec48099139c', 'message': 'Prepare Rocky TC Election\n\nStory: 2001611\nTask: 6582\n\nChange-Id: Ia81ec4abc1e601c23234ebf1fd54766035d71e24\n'}]",7,551404,8b2c8226a862b44366e0772df3890ec48099139c,24,6,4,16708,,,0,"Prepare Rocky TC Election

Story: 2001611
Task: 6582

Change-Id: Ia81ec4abc1e601c23234ebf1fd54766035d71e24
",git fetch https://review.opendev.org/openstack/election refs/changes/04/551404/2 && git format-patch -1 --stdout FETCH_HEAD,"['configuration.yaml', 'doc/source/index.rst']",2,d3e1b45e65c63fd9d164de2a0e174ea2fe26b29c,prepare_rocky_tc,.. TODO: Change from tc.rst to ptl.rst when PTL rounds starts .. .. include:: tc.rst,.. TODO: Change from ptl.rst to tc.rst when TC rounds starts .. .. include:: ptl.rst,15,12
openstack%2Fnova~stable%2Fpike~Ib3f10706a7191c58909ec1938042ce338df4d499,openstack/nova,stable/pike,Ib3f10706a7191c58909ec1938042ce338df4d499,"Revert ""Refine waiting for vif plug events during _hard_reboot""",MERGED,2018-03-16 15:08:45.000000000,2018-03-22 18:02:12.000000000,2018-03-22 18:02:12.000000000,"[{'_account_id': 1004}, {'_account_id': 6854}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-16 15:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6c71d6e3ca84625db207726811a00ddec1aad6e', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4\nwhich was meant to address an issue introduced\nby Id188d48609f3d22d14e16c7f6114291d547a8986.\n\nSo we essentially had three changes:\n\n1. Hard reboot would blow away volumes and vifs and then wait for the\n   vifs to be plugged; this caused a problem for some vif types (\n   linuxbridge was reported) because the event never came and we\n   timed out.\n\n2. To workaround that, a second change was made to simply not wait for\n   vif plugging events.\n\n3. Since #2 was a bit heavy-handed for a problem that didn\'t impact\n   openvswitch, another change was made to only wait for non-bridge vif\n   types, so we\'d wait for OVS.\n\nBut it turns out that opendaylight is an OVS vif type and doesn\'t send\nevents for plugging the vif, only for binding the port (and we don\'t\nre-bind the port during reboot). There is also a report of this being a\nproblem for other types of ports, see\nIf209f77cff2de00f694b01b2507c633ec3882c82.\n\nSo rather than try to special-case every possible vif type that could\nbe impacted by this, we are simply reverting the change so we no longer\nwait for vif plugged events during hard reboot.\n\nNote that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986\nand tweaked that to not unplug/plug the vifs we wouldn\'t have this\nproblem either, and that change was really meant to deal with an\nencrypted volume issue on reboot. But changing that logic is out of the\nscope of this change. Alternatively, we could re-bind the port during\nreboot but that could have other implications, or neutron could put\nsomething into the port details telling us which vifs will send events\nand which won\'t, but again that\'s all outside of the scope of this\npatch.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n'}, {'number': 2, 'created': '2018-03-19 18:31:02.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b5cdd7ac006a6d5f575a93aae76e3dc35bfabbe', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis reverts commit e06ad602f3ef98c505e49078dd225dde2a79e2a1.\n\nThis gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4\nwhich was meant to address an issue introduced\nby Id188d48609f3d22d14e16c7f6114291d547a8986.\n\nSo we essentially had three changes:\n\n1. Hard reboot would blow away volumes and vifs and then wait for the\n   vifs to be plugged; this caused a problem for some vif types (\n   linuxbridge was reported) because the event never came and we\n   timed out.\n\n2. To workaround that, a second change was made to simply not wait for\n   vif plugging events.\n\n3. Since #2 was a bit heavy-handed for a problem that didn\'t impact\n   openvswitch, another change was made to only wait for non-bridge vif\n   types, so we\'d wait for OVS.\n\nBut it turns out that opendaylight is an OVS vif type and doesn\'t send\nevents for plugging the vif, only for binding the port (and we don\'t\nre-bind the port during reboot). There is also a report of this being a\nproblem for other types of ports, see\nIf209f77cff2de00f694b01b2507c633ec3882c82.\n\nSo rather than try to special-case every possible vif type that could\nbe impacted by this, we are simply reverting the change so we no longer\nwait for vif plugged events during hard reboot.\n\nNote that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986\nand tweaked that to not unplug/plug the vifs we wouldn\'t have this\nproblem either, and that change was really meant to deal with an\nencrypted volume issue on reboot. But changing that logic is out of the\nscope of this change. Alternatively, we could re-bind the port during\nreboot but that could have other implications, or neutron could put\nsomething into the port details telling us which vifs will send events\nand which won\'t, but again that\'s all outside of the scope of this\npatch.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n'}]",5,553818,7b5cdd7ac006a6d5f575a93aae76e3dc35bfabbe,29,11,2,10135,,,0,"Revert ""Refine waiting for vif plug events during _hard_reboot""

This reverts commit e06ad602f3ef98c505e49078dd225dde2a79e2a1.

This gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4
which was meant to address an issue introduced
by Id188d48609f3d22d14e16c7f6114291d547a8986.

So we essentially had three changes:

1. Hard reboot would blow away volumes and vifs and then wait for the
   vifs to be plugged; this caused a problem for some vif types (
   linuxbridge was reported) because the event never came and we
   timed out.

2. To workaround that, a second change was made to simply not wait for
   vif plugging events.

3. Since #2 was a bit heavy-handed for a problem that didn't impact
   openvswitch, another change was made to only wait for non-bridge vif
   types, so we'd wait for OVS.

But it turns out that opendaylight is an OVS vif type and doesn't send
events for plugging the vif, only for binding the port (and we don't
re-bind the port during reboot). There is also a report of this being a
problem for other types of ports, see
If209f77cff2de00f694b01b2507c633ec3882c82.

So rather than try to special-case every possible vif type that could
be impacted by this, we are simply reverting the change so we no longer
wait for vif plugged events during hard reboot.

Note that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986
and tweaked that to not unplug/plug the vifs we wouldn't have this
problem either, and that change was really meant to deal with an
encrypted volume issue on reboot. But changing that logic is out of the
scope of this change. Alternatively, we could re-bind the port during
reboot but that could have other implications, or neutron could put
something into the port details telling us which vifs will send events
and which won't, but again that's all outside of the scope of this
patch.

Change-Id: Ib3f10706a7191c58909ec1938042ce338df4d499
Closes-Bug: #1755890
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/553818/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,d6c71d6e3ca84625db207726811a00ddec1aad6e,bug/1755890," block_device_info=block_device_info, vifs_already_plugged=True)"," @mock.patch('nova.virt.libvirt.LibvirtDriver._get_neutron_events') @mock.patch('nova.virt.libvirt.LibvirtDriver.plug_vifs') @mock.patch('nova.virt.libvirt.LibvirtDriver._lxc_disk_handler') @mock.patch('nova.virt.libvirt.LibvirtDriver._create_domain') def test_create_domain_and_network_reboot(self, mock_create, mock_handler, mock_plug, mock_events): # Verify that we call get_neutron_events with reboot=True if # create_domain_and_network was called with reboot=True drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance = objects.Instance(**self.test_instance) network_info = _fake_network_info(self, 1) @mock.patch.object(drvr.firewall_driver, 'setup_basic_filtering') @mock.patch.object(drvr.firewall_driver, 'prepare_instance_filter') @mock.patch.object(drvr.firewall_driver, 'apply_instance_filter') def _do_create(mock_apply, mock_prepare, mock_setup): drvr._create_domain_and_network(self.context, mock.sentinel.xml, instance, network_info, reboot=True) _do_create() mock_events.assert_called_once_with(network_info, reboot=True) block_device_info=block_device_info, reboot=True) def test_get_neutron_events_reboot(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) bridge = network_model.VIF_TYPE_BRIDGE ovs = network_model.VIF_TYPE_OVS network_info = [network_model.VIF(id='1'), network_model.VIF(id='2', active=True), network_model.VIF(id='3', type=bridge), network_model.VIF(id='4', type=ovs)] events = drvr._get_neutron_events(network_info, reboot=True) self.assertEqual([('network-vif-plugged', '1'), ('network-vif-plugged', '2'), ('network-vif-plugged', '4')], events) ",19,80
openstack%2Foctavia-dashboard~stable%2Fqueens~I7ddc8b7b32e64f3a0c95fef74450b15fb29ba952,openstack/octavia-dashboard,stable/queens,I7ddc8b7b32e64f3a0c95fef74450b15fb29ba952,Imported Translations from Zanata,MERGED,2018-03-22 07:24:50.000000000,2018-03-22 17:59:19.000000000,2018-03-22 17:59:19.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 07:24:50.000000000', 'files': ['octavia_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/e68da46f599d1f8a76e7fd9ebec69548a5c49880', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7ddc8b7b32e64f3a0c95fef74450b15fb29ba952\n'}]",0,555178,e68da46f599d1f8a76e7fd9ebec69548a5c49880,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7ddc8b7b32e64f3a0c95fef74450b15fb29ba952
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/78/555178/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/locale/pt_BR/LC_MESSAGES/django.po'],1,e68da46f599d1f8a76e7fd9ebec69548a5c49880,zanata/translations,"# Fernando Pimenta <fernando.c.pimenta@gmail.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: octavia-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2018-03-13 23:51+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-03-21 10:29+0000\n"" ""Last-Translator: Fernando Pimenta <fernando.c.pimenta@gmail.com>\n"" ""Language-Team: Portuguese (Brazil)\n"" ""Language: pt_BR\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Load Balancers"" msgstr ""Balanceadores de Carga"" ",,18,0
openstack%2Foctavia-dashboard~master~Ie307dd9fef04e85e30b9399196f997c655f1ad7a,openstack/octavia-dashboard,master,Ie307dd9fef04e85e30b9399196f997c655f1ad7a,Imported Translations from Zanata,MERGED,2018-03-22 07:24:49.000000000,2018-03-22 17:58:05.000000000,2018-03-22 17:58:05.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 07:24:49.000000000', 'files': ['octavia_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/b2b415c082971459f406a3cdeccba7ce24adbefa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie307dd9fef04e85e30b9399196f997c655f1ad7a\n'}]",0,555177,b2b415c082971459f406a3cdeccba7ce24adbefa,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie307dd9fef04e85e30b9399196f997c655f1ad7a
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/77/555177/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/locale/pt_BR/LC_MESSAGES/django.po'],1,b2b415c082971459f406a3cdeccba7ce24adbefa,zanata/translations,"# Fernando Pimenta <fernando.c.pimenta@gmail.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: octavia-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2018-03-17 18:17+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-03-21 10:36+0000\n"" ""Last-Translator: Fernando Pimenta <fernando.c.pimenta@gmail.com>\n"" ""Language-Team: Portuguese (Brazil)\n"" ""Language: pt_BR\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Load Balancers"" msgstr ""Balanceadores de Carga"" ",,18,0
openstack%2Fpython-glanceclient~master~Ic5c81916823ff32f2dbddd32b40e825de0697dc9,openstack/python-glanceclient,master,Ic5c81916823ff32f2dbddd32b40e825de0697dc9,"Check for container,disk_format on web-download",MERGED,2018-03-22 05:16:31.000000000,2018-03-22 17:50:32.000000000,2018-03-22 13:57:41.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 20146}, {'_account_id': 22348}, {'_account_id': 27245}]","[{'number': 1, 'created': '2018-03-22 05:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/315c952628b6a133344754739bf342a6ff543c55', 'message': ""Check for container,disk_format on web-download\n\nFail image-create-via-import requests for the web-download import\nmethod that don't include values for container_format or disk_format.\n\nChange-Id: Ic5c81916823ff32f2dbddd32b40e825de0697dc9\n""}, {'number': 2, 'created': '2018-03-22 05:17:02.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/6cd537e2748fa636aa3061812b257d549a6d603f', 'message': ""Check for container,disk_format on web-download\n\nFail image-create-via-import requests for the web-download import\nmethod that don't include values for container_format or disk_format.\n\nCloses-bug: #1757927\n\nChange-Id: Ic5c81916823ff32f2dbddd32b40e825de0697dc9\n""}]",0,555148,6cd537e2748fa636aa3061812b257d549a6d603f,11,5,2,5314,,,0,"Check for container,disk_format on web-download

Fail image-create-via-import requests for the web-download import
method that don't include values for container_format or disk_format.

Closes-bug: #1757927

Change-Id: Ic5c81916823ff32f2dbddd32b40e825de0697dc9
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/48/555148/2 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py']",2,315c952628b6a133344754739bf342a6ff543c55,bug/1757927,"DATA_FIELDS = ('location', 'copy_from', 'file', 'uri')","DATA_FIELDS = ('location', 'copy_from', 'file')",41,1
openstack%2Fosc-placement~master~Iac625137386de071d0f95f94bd37a3884ebe1eaf,openstack/osc-placement,master,Iac625137386de071d0f95f94bd37a3884ebe1eaf,Resolve nits from I552688b9ee32b719a576a7a9ed5e4d5aa31d7b3f,MERGED,2018-01-25 17:03:30.000000000,2018-03-22 17:49:24.000000000,2018-03-22 17:49:24.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20722}, {'_account_id': 21813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-25 17:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8261904c2ebfa96976ce1c7b60516df7bfbe09a2', 'message': 'Resolve nits from I552688b9ee32b719a576a7a9ed5e4d5aa31d7b3f\n\nMake liberal use of literals and hide the less important options.\n\nChange-Id: Iac625137386de071d0f95f94bd37a3884ebe1eaf\n'}, {'number': 2, 'created': '2018-01-25 17:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fe979d0bc9fe499844c43a604257eaae5806799b', 'message': 'Resolve nits from I552688b9ee32b719a576a7a9ed5e4d5aa31d7b3f\n\nSome of the options are just noise. Hide them.\n\nChange-Id: Iac625137386de071d0f95f94bd37a3884ebe1eaf\n'}, {'number': 3, 'created': '2018-03-13 16:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/65e034943010780ae0cbd74e065517993d4bd750', 'message': 'Resolve nits from I552688b9ee32b719a576a7a9ed5e4d5aa31d7b3f\n\nSome of the options are just noise. Hide them.\n\nChange-Id: Iac625137386de071d0f95f94bd37a3884ebe1eaf\n'}, {'number': 4, 'created': '2018-03-22 16:34:43.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/cc0dd67651b2a6a7d0b4f6c4d8d3f0be313e5ed4', 'message': 'Resolve nits from I552688b9ee32b719a576a7a9ed5e4d5aa31d7b3f\n\nSome of the options are just noise. Hide them.\n\nChange-Id: Iac625137386de071d0f95f94bd37a3884ebe1eaf\n'}]",1,537971,cc0dd67651b2a6a7d0b4f6c4d8d3f0be313e5ed4,24,7,4,15334,,,0,"Resolve nits from I552688b9ee32b719a576a7a9ed5e4d5aa31d7b3f

Some of the options are just noise. Hide them.

Change-Id: Iac625137386de071d0f95f94bd37a3884ebe1eaf
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/71/537971/3 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/resources/aggregate.py', 'osc_placement/resources/resource_class.py', 'doc/source/conf.py']",3,8261904c2ebfa96976ce1c7b60516df7bfbe09a2,bp/placement-osc-plugin," autoprogram_cliff_ignored = [ '--help', '--format', '--column', '--max-width', '--fit-width', '--print-empty', '--prefix', '--noindent', '--quote']",,10,6
openstack%2Frally-openstack~master~If566e89fc7444d72d6f4c1c39e376e3f0dce60f9,openstack/rally-openstack,master,If566e89fc7444d72d6f4c1c39e376e3f0dce60f9,[docs] Add changelog file,MERGED,2018-03-22 17:25:50.000000000,2018-03-22 17:48:53.000000000,2018-03-22 17:48:53.000000000,"[{'_account_id': 6172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 17:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0b37f6cb83663d60b38d6a368314001084f94383', 'message': ""[docs] Add changelog file\n\nWhen Rally repo included both framework and all available plugins,\nrelease notes for each release were huge and required a lot of different\nsections. It is something which cannot be applied to this repo and we\ncan simplify release notes.\n\nLet's use CHANGELOG.rst file to store notes for all releases.\n\nAlso, this patch removes original release notes of Rally project.\n\nChange-Id: If566e89fc7444d72d6f4c1c39e376e3f0dce60f9\n""}, {'number': 2, 'created': '2018-03-22 17:26:36.000000000', 'files': ['doc/release_notes/archive/v0.8.1.rst', 'doc/release_notes/archive.rst', 'doc/release_notes/archive/v0.1.1.rst', 'doc/release_notes/archive/v0.11.0.rst', 'doc/release_notes/archive/v0.3.1.rst', 'doc/release_notes/archive/v0.5.0.rst', 'doc/release_notes/archive/v0.1.2.rst', 'doc/release_notes/archive/v0.0.3.rst', 'doc/release_notes/archive/v0.8.0.rst', 'doc/release_notes/archive/v0.9.2.rst', 'doc/release_notes/latest.rst', 'doc/release_notes/archive/v0.3.0.rst', 'CHANGELOG.rst', 'doc/release_notes/archive/v0.0.4.rst', 'doc/release_notes/archive/v0.3.3.rst', 'doc/release_notes/archive/v0.6.0.rst', 'doc/release_notes/archive/v0.0.1.rst', 'doc/release_notes/archive/v0.10.1.rst', 'doc/release_notes/archive/v0.9.1.rst', 'doc/release_notes/archive/v0.2.0.rst', 'doc/release_notes/archive/v0.1.0.rst', 'doc/release_notes/archive/v0.7.0.rst', 'doc/release_notes/archive/v0.3.2.rst', 'doc/release_notes/archive/v0.9.0.rst', 'doc/release_notes/archive/v0.0.2.rst', 'doc/release_notes/archive/v0.10.0.rst', 'doc/release_notes/archive/v0.4.0.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0a41ab6c50bfec6cf46d677fded37e16d1fa5d27', 'message': ""[docs] Add changelog file\n\nWhen Rally repo included both framework and all available plugins,\nrelease notes for each release were huge and required a lot of different\nsections. It is something which cannot be applied to this repo and we\ncan simplify release notes.\n\nLet's use CHANGELOG.rst file to store notes for all releases.\n\nAlso, this patch removes original release notes of Rally project.\n\nChange-Id: If566e89fc7444d72d6f4c1c39e376e3f0dce60f9\n""}]",0,555383,0a41ab6c50bfec6cf46d677fded37e16d1fa5d27,7,2,2,9545,,,0,"[docs] Add changelog file

When Rally repo included both framework and all available plugins,
release notes for each release were huge and required a lot of different
sections. It is something which cannot be applied to this repo and we
can simplify release notes.

Let's use CHANGELOG.rst file to store notes for all releases.

Also, this patch removes original release notes of Rally project.

Change-Id: If566e89fc7444d72d6f4c1c39e376e3f0dce60f9
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/83/555383/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/release_notes/archive/v0.8.1.rst', 'doc/release_notes/archive.rst', 'doc/release_notes/archive/v0.1.1.rst', 'doc/release_notes/archive/v0.11.0.rst', 'doc/release_notes/archive/v0.3.1.rst', 'doc/release_notes/archive/v0.5.0.rst', 'doc/release_notes/archive/v0.1.2.rst', 'doc/release_notes/archive/v0.0.3.rst', 'doc/release_notes/archive/v0.8.0.rst', 'doc/release_notes/archive/v0.9.2.rst', 'doc/release_notes/latest.rst', 'doc/release_notes/archive/v0.3.0.rst', 'CHANGELOG.rst', 'doc/release_notes/archive/v0.0.4.rst', 'doc/release_notes/archive/v0.3.3.rst', 'doc/release_notes/archive/v0.6.0.rst', 'doc/release_notes/archive/v0.0.1.rst', 'doc/release_notes/archive/v0.10.1.rst', 'doc/release_notes/archive/v0.9.1.rst', 'doc/release_notes/archive/v0.2.0.rst', 'doc/release_notes/archive/v0.1.0.rst', 'doc/release_notes/archive/v0.7.0.rst', 'doc/release_notes/archive/v0.3.2.rst', 'doc/release_notes/archive/v0.9.0.rst', 'doc/release_notes/archive/v0.0.2.rst', 'doc/release_notes/archive/v0.10.0.rst', 'doc/release_notes/archive/v0.4.0.rst']",27,0b37f6cb83663d60b38d6a368314001084f94383,release-notes,,"============ Rally v0.4.0 ============ Information ----------- +------------------+-----------------------+ | Commits | **76** | +------------------+-----------------------+ | Bug fixes | **12** | +------------------+-----------------------+ | Dev cycle | **28 days** | +------------------+-----------------------+ | Release date | **4/18/2016** | +------------------+-----------------------+ Details ------- .. warning:: Rally DB schema was changed since previous release. See `HOWTO <http://rally.readthedocs.org/en/latest/db_migrations.html>`_ about updating your database. CLI changes ~~~~~~~~~~~ * Add status messages of db migration process * Display task errors in human-friendly form * Support OS_PROJECT_NAME as well as OS_TENANT_NAME Messages ~~~~~~~~ * Removed deprecation warning in case of transmitted ""name"" attribute while creation neutron resources. .. warning:: Deprecated code was deleted. * Suppress warning insecure URL messages Do not spam end users by insecure URL messages because it is quite valid case in testing process Database ~~~~~~~~ While preparing for deployment refactoring: * db schema was changed; * migration with new column `credentials` to deployment model was added; * columns `users` and `admin` were dropped. Rally Task ~~~~~~~~~~ * Remove deprecated scenario output mechanism via returing value .. warning:: Deprecated code was deleted. * Friendlier error message with empty task file This is particularly useful when a Jinja2 template results in an empty task. The current error message isn't very helpful: Task config is invalid: `'NoneType' object has no attribute 'get'` * Add Heat template validator Plugins ~~~~~~~ **Scenarios**: * Extend VM bind actions with ""pause_unpause"", ""suspend_resume"", ""lock_unlock"", ""shelve_unshelve"". * Add exact error message into `VMTasks.runcommand_heat scenario`__ __ http://rally.readthedocs.org/en/0.4.0/plugin/plugin_reference.html#vmtasks-runcommand-heat-scenario * Add heat scenarios: output-show, output-list Current patch contains 4 scenarios from heat repo: - `output-show for old algorithm <http://rally.readthedocs.org/en/0.4.0/plugin/plugin_reference.html#heatstacks-create-stack-and-list-output-via-api-scenario>`_ - `output-show for new algorithm <http://rally.readthedocs.org/en/0.4.0/plugin/plugin_reference.html#heatstacks-create-stack-and-show-output-scenario>`_ - `output-list for old algorithm <http://rally.readthedocs.org/en/0.4.0/plugin/plugin_reference.html#heatstacks-create-stack-and-list-output-via-api-scenario>`_ - `output-list for new algorithm <http://rally.readthedocs.org/en/0.4.0/plugin/plugin_reference.html#heatstacks-create-stack-and-list-output-scenario>`_ **Contexts**: * Reduce default speed of users creation in users context from 30 to 20 by default. **SLAs**: * *NEW!!* MaxAverageDurationPerAtomic : Maximum average duration of one iterations atomic actions in seconds. `Plugin Reference <http://rally.readthedocs.org/en/0.4.0/plugin/plugin_reference.html#max-avg-duration-per-atomic-sla>`_ **Reports**: * Improve results calculation in charts.Table * Use int instead of float for Y axis. It's number of parallel iterations and it can't be float. * Remove accuracy that makes no sense, and creates a lot of noise on this graph * Include failed iterations as well, otherwise we will calculate load incorrectly * Graph should start from 0 (begging of experiment) * Add 2 points at the end of graph to get at the end of graph 0 iterations in parallel **Task Exporter**: In previous release we introduced new mechanism to export results in various external systems and various formats. In this release, we added first plugin for this stuff - `file_exporter` **Services**: Remove hardcoded timeout from heat service **Utils**: Make glance web uploads streamable Without this change entire file get's downloaded into memory and can cause issues. Rally Verify ~~~~~~~~~~~~ * Set time precision to 3 digits (instead of 5) after dot. * Don't use ""--parallel"" flag when concurrency == 1 If concurrency equals to 1, it means that we use only one thread to run Tempest tests and the ""--parallel"" flag is not needed. Plugin for DevStack ~~~~~~~~~~~~~~~~~~~ * Support to be enabled with different plugin name Allow rally to be installed by devstack through a different plugin name, e.g: .. code-block:: bash enable_plugin test-rally http://github.com/rally/rally.git master * Removed uncalled code Devstack won't ""source plugin.sh source"" any more. Bug fixes ~~~~~~~~~ **12 bugs were fixed**: * X-Fail mechanism did not work for TestCase which failed on setUp step If Tempest fails in a test's setUpClass(), there is only one subunit event for each TestCase. In this case, Rally did not check partial test with x-fail list and marked test as ""fail"" insted of ""x-fail"". `Launchpad bug-report #1568133 <https://bugs.launchpad.net/rally/+bug/1568133>`_ * Weak isolation of scenario arguments between iterations Input arguments for sub-task were shared between all iterations. Rally team found one scenario which modified mutable input variable. Affected scenario: NeutronNetworks.create_and_update_ports * Incompatible filters between V1 and V2 for Glance images listing Glance V1 and V2 have different filters. For example, ""owner"" is a separate kwarg in V1, not a generic filter. Also, visibility has different labels in different APIs. We modified our Glance wrapper to support Glance V2 format of filters for both V1 and V2 * Wrong way to store validation errors Results of failed task validations saved in incorrect format. It broke and made un-userfriendly `rally task detailed` command. `Launchpad bug-report #1562713 <https://bugs.launchpad.net/rally/+bug/1562713>`_ * Hardcoded task's status in `rally task results` If there are no results for task, `rally task results` printed message that task has failed status, but it can be not true(tasks in running state do not have results). `Launchpad bug-report #1539096 <https://bugs.launchpad.net/rally/+bug/1539096>`_ * Tempest context failed to create network resources While we merged improvement for keystoneclient, we used wrong way to obtain tenant id in TempestContext. `Launchpad bug-report #1550848 <https://bugs.launchpad.net/rally/+bug/1550848>`_ * Tasks based on Tempest failed to parse execution time. There is an ability in Rally to launch tasks based on Tempest. Since launch of Tempest is just subprocess, it is needed to parse subunit to set correct atomic actions. There was an issue while converting task execution time. `Launchpad bug-report #1566712 <https://bugs.launchpad.net/rally/+bug/1566712>`_ * JSONSchema huge impact on task performance Before runner sent data to engine we were checking jsonschema. This operation is very expensive and in some cases it can take a lot of time. Here are test results, with Dummy.dummy_output scenario, sleep 0.5s (added manually), 8000 iterations, 400 in parallel: * on master branch before the fix: Load duration: 117.659588099 Full duration: 227.451056004 * on master before the fix but remove jsonschema validation in scenario: Load duration: 12.5437350273 Full duration: 128.942219973 * on this patch before the fix (pure python validation): Load duration: 11.5991640091 Full duration: 22.7199981213 * Wrong Calculation of running iterations in parallel Load profile chart was calculated wrongly. It showed more running iterations in parallel than actually are running. * Rally did not show ""missing argument"" error raised by argparse while parsing cli args `Launchpad bug-report #1562916 <https://bugs.launchpad.net/rally/+bug/1562916>`_ * Issue while checking required arguments in CLI There was a possible issue in case of several required arguments `Launchpad bug-report #1555764 <https://bugs.launchpad.net/rally/+bug/1555764>`_ * Prepare step of verification did not check visibility of obtained image When we request a list of images to choose one of them for tests, we should make sure all images are active and they are PUBLIC. If images are not public, we will have failures of Tempest tests as described in the bug. `Launchpad bug-report #1564431 <https://bugs.launchpad.net/rally/+bug/1564431>`_ Thanks ~~~~~~ 2 Everybody! ",67,4609
openstack%2Fmonasca-notification~master~Ie30ae1c7eec8493726239d533771e2e407f51ba9,openstack/monasca-notification,master,Ie30ae1c7eec8493726239d533771e2e407f51ba9,pypy is not checked at gate,NEW,2018-03-21 13:16:44.000000000,2018-03-22 17:45:24.000000000,,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 16367}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 13:16:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f06679ca61add063a2091d3f932632485ecd40f7', 'message': 'pypy is not checked at gate\n\nChange-Id: Ie30ae1c7eec8493726239d533771e2e407f51ba9\n'}]",0,554918,f06679ca61add063a2091d3f932632485ecd40f7,4,5,1,16367,,,0,"pypy is not checked at gate

Change-Id: Ie30ae1c7eec8493726239d533771e2e407f51ba9
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/18/554918/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f06679ca61add063a2091d3f932632485ecd40f7,,,[testenv:pypy] description = Runs unit test using pypy basepython = pypy commands = {[testenv]commands} ostestr {posargs} ,0,7
openstack%2Foctavia~master~Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff,openstack/octavia,master,Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff,Adding exabgp-speaker element to amphora image,NEW,2017-08-02 19:12:59.000000000,2018-03-22 17:42:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 20226}, {'_account_id': 20279}, {'_account_id': 22348}, {'_account_id': 22730}, {'_account_id': 23327}, {'_account_id': 23889}, {'_account_id': 27256}, {'_account_id': 27686}]","[{'number': 1, 'created': '2017-08-02 19:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc85571d409f6ae1d57a755a248cb86e304e3702', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 2, 'created': '2017-08-02 20:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bf26399aa3179a86ca72c4aa8bc2170ad0dbb956', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 3, 'created': '2017-08-02 20:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/44eaf7add1c4f75580ed0e82b281328367c88ab4', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 4, 'created': '2017-08-03 05:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dc7bd7cb05e7a4420743caf7126f83cc4c886522', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 5, 'created': '2017-09-04 04:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c4670851a4aab5cbd0c69346ec0051ca13322ac7', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 6, 'created': '2017-09-05 14:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27317a1921feb141e6bae1a9851315858a435a88', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 7, 'created': '2017-09-05 16:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2ea4b770c287e129d96a38db501037425bedce8', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 8, 'created': '2017-09-14 10:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/75fc7769ea429498d2bbbc8f9b85fc1cfd810525', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 9, 'created': '2017-09-14 14:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1fdf3680895bd37a62af7055f9248f0b1f417fe', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 10, 'created': '2017-09-14 15:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e29677ea70f3eb540596de7fbeb13d7d6b1b348', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 11, 'created': '2017-09-25 14:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/98f8ab1258e878fde6e8e03e6f804f93761cbde3', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 12, 'created': '2017-09-25 17:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ac01be11bf348d36307186339965b0262ca87300', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 13, 'created': '2017-09-28 16:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b1476fe7bbbd749b8cfd3220937a5fbffc1f5288', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 14, 'created': '2017-09-29 06:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/25a78dcf2f84626de5917a804748f79eb19543c7', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 15, 'created': '2017-10-29 05:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5b85c94825ae0ccfd8d9a01034665b70c2223ab8', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 16, 'created': '2017-11-08 15:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f01fc85ac6771a848b36ed48f02e4931a9a57dd', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 17, 'created': '2017-11-20 18:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35e548b418b2a8a275f9c6cb6ee74bc53e31c23c', 'message': '[WIP] Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 18, 'created': '2017-11-29 04:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/138b6708b29cb6bd66f8ccd5fb50e6c2eb433fba', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 19, 'created': '2017-11-29 04:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/896d025cfc4fc6619afb31bbba9c492530c3102f', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 20, 'created': '2017-11-29 17:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b858ec82a83abc78687fdf02cb8a2a5853cf9f45', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 21, 'created': '2017-12-06 09:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fad74cca870142fbd4b6bcbacded02aa16b04b63', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 22, 'created': '2017-12-12 18:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56e20efd564555e0c47608590cb0756274f2955d', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 23, 'created': '2017-12-13 10:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/09cbc434a7d0da79c6440d57a01fac2edb5ce279', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 24, 'created': '2017-12-13 12:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/65599a2049d11d22d6ed4958cd835f0923243c75', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 25, 'created': '2017-12-14 09:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a18fc6c5e70f14e777826258e1e1843b6372b067', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 26, 'created': '2017-12-14 13:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7aad8d18ce5130fc22318deb823ae50442f9f610', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 27, 'created': '2018-01-24 05:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e67440b1822d30c7f0bad88e5ed486c9a5a82ca6', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 28, 'created': '2018-02-02 11:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ebc5052b9fad312e32324018b66a0f4cdbb5b760', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 29, 'created': '2018-02-04 07:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0145017447f7c81a2d942b3540eefa254c51d1dd', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}, {'number': 30, 'created': '2018-03-15 06:23:12.000000000', 'files': ['elements/exabgp-speaker/README.rst', 'requirements.txt', 'elements/exabgp-speaker/post-install.d/77-exabgp', 'diskimage-create/diskimage-create.sh', 'elements/exabgp-speaker/package-installs.yaml', 'elements/exabgp-speaker/static/var/lib/octavia/exabgp/exabgp.env', 'elements/exabgp-speaker/element-deps'], 'web_link': 'https://opendev.org/openstack/octavia/commit/818ddfcfe40f24bd1d63549070536ba4435e32c1', 'message': 'Adding exabgp-speaker element to amphora image\n\nChange-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff\nPartiallly-Implements: bp l3-active-active\n'}]",66,490164,818ddfcfe40f24bd1d63549070536ba4435e32c1,137,13,30,23889,,,0,"Adding exabgp-speaker element to amphora image

Change-Id: Ia27a07b988f5b5166ac3b15a86b88e60cbd15aff
Partiallly-Implements: bp l3-active-active
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/490164/30 && git format-patch -1 --stdout FETCH_HEAD,"['elements/exabgp-speaker/README.rst', 'elements/exabgp-speaker/post-install.d/77-exabgp', 'elements/exabgp-speaker/static/tmp/show-rib-in.sh', 'diskimage-create/diskimage-create.sh', 'elements/exabgp-speaker/static/tmp/exabgp.conf', 'elements/exabgp-speaker/static/tmp/exacmd.sh', 'elements/exabgp-speaker/static/etc/systemd/system/exabgp.service', 'elements/exabgp-speaker/static/tmp/show-rib.sh', 'elements/exabgp-speaker/static/tmp/withdraw.sh', 'elements/exabgp-speaker/static/tmp/announce.sh', 'elements/exabgp-speaker/static/tmp/exabgp.env', 'elements/exabgp-speaker/static/tmp/show-rib-out.sh', 'elements/exabgp-speaker/static/tmp/watchdog-withdraw.sh', 'elements/exabgp-speaker/static/tmp/watchdog-announce.sh', 'elements/exabgp-speaker/element-deps', 'elements/exabgp-speaker/static/tmp/show-neighbor.sh']",16,bc85571d409f6ae1d57a755a248cb86e304e3702,bp/l3-active-active,"#!/bin/sh echo 'show neighbor summary' > /etc/exabgp/run/exabgp.in /usr/bin/socat stdout pipe:/etc/exabgp/run/exabgp.out,nonblock=1,rdonly=1 ",,158,0
openstack%2Fproject-config~master~Ia23f8784873a165ff171dce2cb61fff6694bf13b,openstack/project-config,master,Ia23f8784873a165ff171dce2cb61fff6694bf13b,Add publish-zuul-docs job,MERGED,2018-03-22 17:05:50.000000000,2018-03-22 17:31:57.000000000,2018-03-22 17:31:57.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 17:05:50.000000000', 'files': ['playbooks/publish/zuul-afs.yaml', 'zuul.d/zuul-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b2f2ded5c630f637a0af942347342f2c1d1b97e', 'message': 'Add publish-zuul-docs job\n\nThis publishes zuul-related project documentation to zuul-ci.org.\n\nChange-Id: Ia23f8784873a165ff171dce2cb61fff6694bf13b\n'}]",0,555377,9b2f2ded5c630f637a0af942347342f2c1d1b97e,7,3,1,1,,,0,"Add publish-zuul-docs job

This publishes zuul-related project documentation to zuul-ci.org.

Change-Id: Ia23f8784873a165ff171dce2cb61fff6694bf13b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/555377/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/publish/zuul-afs.yaml', 'zuul.d/zuul-jobs.yaml']",2,9b2f2ded5c630f637a0af942347342f2c1d1b97e,," # Set final to avoid override of afs_subpath variable. final: True - job: name: publish-zuul-docs description: | Publish the results of a sphink build to /afs/.openstack.org/project/zuul-ci.org/www/docs/{{ zuul.project.short_name }} Builds the docs using Sphinx with Python3. # Set final to avoid override of afs_subpath variable. final: true allowed-projects: - openstack-infra/nodepool - openstack-infra/zuul - openstack-infra/zuul-jobs - openstack-infra/zuul-base-jobs - openstack-infra/zuul-sphinx pre-run: playbooks/sphinx/pre.yaml run: playbooks/sphinx/run.yaml post-run: - playbooks/sphinx/post-infra.yaml - playbooks/publish/zuul-afs.yaml roles: - zuul: openstack-infra/zuul-jobs - zuul: openstack-infra/openstack-zuul-jobs secrets: - secret: afsdocs_secret name: afs vars: afs_subpath: ""/docs/{{ zuul.project.short_name }}"" sphinx_python: python3",,33,1
openstack%2Frpm-packaging~stable%2Fnewton~I7c9e4671a128fc860163feeb29711c48898b1cb8,openstack/rpm-packaging,stable/newton,I7c9e4671a128fc860163feeb29711c48898b1cb8,os-vif: Add 0001-Check-if-interface-belongs-to-a-Linux-Bridge-before-removing.patch,MERGED,2018-03-22 17:12:14.000000000,2018-03-22 17:30:23.000000000,2018-03-22 17:30:23.000000000,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 17:12:14.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2', 'openstack/os-vif/0001-Check-if-interface-belongs-to-a-Linux-Bridge-before-removing.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3b7d0c5bd99f0e67d6665f02159118fac0cb412e', 'message': 'os-vif: Add 0001-Check-if-interface-belongs-to-a-Linux-Bridge-before-removing.patch\n\nPatch is from https://review.openstack.org/#/c/554523/ but refreshed, so\nthat it applies without fuzz.\n\nRelated-Bug: #1736727\nChange-Id: I7c9e4671a128fc860163feeb29711c48898b1cb8\n'}]",0,555378,3b7d0c5bd99f0e67d6665f02159118fac0cb412e,9,5,1,12907,,,0,"os-vif: Add 0001-Check-if-interface-belongs-to-a-Linux-Bridge-before-removing.patch

Patch is from https://review.openstack.org/#/c/554523/ but refreshed, so
that it applies without fuzz.

Related-Bug: #1736727
Change-Id: I7c9e4671a128fc860163feeb29711c48898b1cb8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/78/555378/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-vif/os-vif.spec.j2', 'openstack/os-vif/0001-Check-if-interface-belongs-to-a-Linux-Bridge-before-removing.patch']",2,3b7d0c5bd99f0e67d6665f02159118fac0cb412e,,"From ff0f33a3fa65e71815f204a9ade3f5532a5ffb7a Mon Sep 17 00:00:00 2001 From: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com> Date: Wed, 06 Dec 2017 14:05:15 +0000 Subject: [PATCH] Check if interface belongs to a Linux Bridge before removing Checks if an interface belongs to a Linux Bridge before deleting the interface and the bridge. Change-Id: I03145681e0634ec52663a1ec4f54021e3325a6b1 Closes-Bug: #1736727 (cherry picked from commit 72b27d0e8664e3b4055dcf5d2fc191c94b696681) --- diff --git a/vif_plug_ovs/linux_net.py b/vif_plug_ovs/linux_net.py index 2749d7a..8fb18db 100644 --- a/vif_plug_ovs/linux_net.py +++ b/vif_plug_ovs/linux_net.py @@ -94,6 +94,12 @@ return os.path.exists('/sys/class/net/%s' % device) +def interface_in_bridge(bridge, device): + """"""Check if an ethernet device belongs to a Linux Bridge."""""" + return os.path.exists('/sys/class/net/%(bridge)s/brif/%(device)s' % + {'bridge': bridge, 'device': device}) + + def _delete_net_dev(dev): """"""Delete a network device only if it exists."""""" if device_exists(dev): @@ -149,7 +155,8 @@ @privsep.vif_plug.entrypoint def delete_bridge(bridge, dev): if device_exists(bridge): - processutils.execute('brctl', 'delif', bridge, dev) + if interface_in_bridge(bridge, dev): + processutils.execute('brctl', 'delif', bridge, dev) processutils.execute('ip', 'link', 'set', bridge, 'down') processutils.execute('brctl', 'delbr', bridge) diff --git a/vif_plug_ovs/tests/test_linux_net.py b/vif_plug_ovs/tests/test_linux_net.py index 5afacfc..d885c21 100644 --- a/vif_plug_ovs/tests/test_linux_net.py +++ b/vif_plug_ovs/tests/test_linux_net.py @@ -88,17 +88,22 @@ @mock.patch.object(processutils, ""execute"") @mock.patch.object(linux_net, ""device_exists"", return_value=False) - def test_delete_bridge_none(self, mock_dev_exists, mock_execute): + @mock.patch.object(linux_net, ""interface_in_bridge"", return_value=False) + def test_delete_bridge_none(self, mock_interface_br, mock_dev_exists, + mock_execute): linux_net.delete_bridge(""br0"", ""vnet1"") self.assertEqual(mock_execute.mock_calls, []) self.assertEqual(mock_dev_exists.mock_calls, [ mock.call(""br0"") ]) + mock_interface_br.assert_not_called() @mock.patch.object(processutils, ""execute"") @mock.patch.object(linux_net, ""device_exists"", return_value=True) - def test_delete_bridge_exists(self, mock_dev_exists, mock_execute): + @mock.patch.object(linux_net, ""interface_in_bridge"", return_value=True) + def test_delete_bridge_exists(self, mock_interface_br, mock_dev_exists, + mock_execute): linux_net.delete_bridge(""br0"", ""vnet1"") self.assertEqual(mock_execute.mock_calls, [ @@ -109,6 +114,21 @@ self.assertEqual(mock_dev_exists.mock_calls, [ mock.call(""br0"") ]) + mock_interface_br.assert_called_once_with(""br0"", ""vnet1"") + + @mock.patch.object(processutils, ""execute"") + @mock.patch.object(linux_net, ""device_exists"", return_value=True) + @mock.patch.object(linux_net, ""interface_in_bridge"", return_value=False) + def test_delete_interface_not_present(self, mock_interface_br, + mock_dev_exists, mock_execute): + linux_net.delete_bridge(""br0"", ""vnet1"") + + calls = [ + mock.call('ip', 'link', 'set', 'br0', 'down'), + mock.call('brctl', 'delbr', 'br0')] + mock_execute.assert_has_calls(calls) + mock_dev_exists.assert_has_calls([mock.call(""br0"")]) + mock_interface_br.assert_called_once_with(""br0"", ""vnet1"") @mock.patch.object(processutils, ""execute"") def test_add_bridge_port(self, mock_execute): ",,94,0
openstack%2Ftripleo-heat-templates~master~Id727a514610816c8223aa0dcd49a70caec29a21d,openstack/tripleo-heat-templates,master,Id727a514610816c8223aa0dcd49a70caec29a21d,Configure qemu group setting as hugetlbfs for ovs-dpdk,MERGED,2018-01-05 07:07:49.000000000,2018-03-22 17:28:04.000000000,2018-03-22 14:50:17.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 18575}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-05 07:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb2dd7dd4c13c5a0e0cf0c096a5a2344df55cbcf', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 2, 'created': '2018-01-29 08:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebe2e16dadce033d81ed389e20ae840e45325c6d', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 3, 'created': '2018-01-30 10:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8d5def0c42907eb6d173ad4e18878dbce64d848', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\nDepends-On: Id07705a4b29d9372b06f1f245caa6899b559da6a\n'}, {'number': 4, 'created': '2018-01-31 08:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52480d6fecf496f13577aca7c0541732482724f6', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\nDepends-On: Id07705a4b29d9372b06f1f245caa6899b559da6a\n'}, {'number': 5, 'created': '2018-02-07 06:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/328ff10e3f2be3839f547c0e4aed9e3c3eaf809f', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\nDepends-On: Id07705a4b29d9372b06f1f245caa6899b559da6a\n'}, {'number': 6, 'created': '2018-02-22 05:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4dde4d303bfa4642a98e07802f370338ef74841d', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 7, 'created': '2018-02-26 08:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9ad44072e37e4e477d46db771c413664a66fa6b', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 8, 'created': '2018-02-26 08:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5375d490cace3fd5ce4fdaef6a2e66401173b7c', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 9, 'created': '2018-02-26 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb6eaf12a4e761f180a72d23a5525089922945a3', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 10, 'created': '2018-02-27 08:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39125a03348149523688e26dc8128eda728d3824', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nDepends-On: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3\nPatch-url: https://review.openstack.org/#/c/547961/\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 11, 'created': '2018-03-01 05:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e709e5a32e321f66d7db288e111d6c7b83e8402c', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nDepends-On: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3\nPatch-url: https://review.openstack.org/#/c/547961/\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 12, 'created': '2018-03-08 05:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c48edea6e43f3059bf3b8b73f575cece20dfa6ef', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nDepends-On: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3\nPatch-url: https://review.openstack.org/#/c/547961/\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}, {'number': 13, 'created': '2018-03-14 16:44:55.000000000', 'files': ['environments/ovs-dpdk-permissions.yaml', 'puppet/services/opendaylight-ovs.yaml', 'puppet/services/neutron-ovs-dpdk-agent.yaml', 'releasenotes/notes/ovs-dpdk-permissions-50c5b33334ff4711.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/825bd7d9e13ccbdf552e3bb01718d043d83487c6', 'message': 'Configure qemu group setting as hugetlbfs for ovs-dpdk\n\nTill now, the ovs service file and ovs-ctl command files\nare patched to allow ovs to run with qemu group. In order\nto remove this workarounds, a new group hugetlbfs is created\nwhich will be shared between ovs and qemu. This patch contains\nthe changes required for applying these changes.\n\nVhostuser Socket Directory is changed from\n""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid\nmodifying the directory access by packaged scripts.\n\nDepends-On: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3\nPatch-url: https://review.openstack.org/#/c/547961/\n\nChange-Id: Id727a514610816c8223aa0dcd49a70caec29a21d\n'}]",36,531322,825bd7d9e13ccbdf552e3bb01718d043d83487c6,92,9,13,20866,,,0,"Configure qemu group setting as hugetlbfs for ovs-dpdk

Till now, the ovs service file and ovs-ctl command files
are patched to allow ovs to run with qemu group. In order
to remove this workarounds, a new group hugetlbfs is created
which will be shared between ovs and qemu. This patch contains
the changes required for applying these changes.

Vhostuser Socket Directory is changed from
""/var/run/openvswitch"" to ""/var/lib/vhost_sockets"" to avoid
modifying the directory access by packaged scripts.

Depends-On: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3
Patch-url: https://review.openstack.org/#/c/547961/

Change-Id: Id727a514610816c8223aa0dcd49a70caec29a21d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/531322/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-opendaylight-dpdk.yaml', 'puppet/services/opendaylight-ovs.yaml']",2,eb2dd7dd4c13c5a0e0cf0c096a5a2344df55cbcf,531322," VhostuserSocketGroup: default: """" description: The vhost-user socket directory group name type: string tags: - role_specific VhostuserSocketUser: default: """" description: The vhost-user socket directory user name type: string tags: - role_specific neutron::plugins::ovs::opendaylight::vhostuser_socket_group: VhostuserSocketGroup neutron::plugins::ovs::opendaylight::vhostuser_socket_user: VhostuserSocketUser VhostuserSocketGroup: {get_param: VhostuserSocketGroup} VhostuserSocketUser: {get_param: VhostuserSocketUser} service_config_settings: nova_libvirt: nova::compute::libvirt::qemu::group: {get_attr: [RoleParametersValue, value, VhostuserSocketGroup]}",,28,0
openstack%2Fironic~master~I335c6539244c3d4f839f5af522c68c84161a4b23,openstack/ironic,master,I335c6539244c3d4f839f5af522c68c84161a4b23,Contributer Docs for switching to hardware types,ABANDONED,2017-12-30 03:58:16.000000000,2018-03-22 17:25:36.000000000,,"[{'_account_id': 6637}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11878}, {'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-30 03:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffd67a93ce15b3bf7c1f9b82c99881be6027a4eb', 'message': 'Contributer Docs for switching to hardware types\n\nThis commit entails writing contributer docs for switching\nfrom classic drivers to hardware types.\n\nChange-Id: I335c6539244c3d4f839f5af522c68c84161a4b23\n'}, {'number': 2, 'created': '2017-12-30 04:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9f855bdb18d99463ea7159c57531ef5fb8e1cbbd', 'message': 'Contributer Docs for switching to hardware types\n\nThis commit entails writing contributer docs for switching\nfrom classic drivers to hardware types.\n\nChange-Id: I335c6539244c3d4f839f5af522c68c84161a4b23\n'}, {'number': 3, 'created': '2018-01-05 21:14:17.000000000', 'files': ['doc/source/contributor/drivers.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3cf5de3a6df6533629a6f32fba48cb4fb5ebd29', 'message': 'Contributer Docs for switching to hardware types\n\nThis commit entails writing contributer docs for switching\nfrom classic drivers to hardware types.\n\nChange-Id: I335c6539244c3d4f839f5af522c68c84161a4b23\n'}]",6,530526,d3cf5de3a6df6533629a6f32fba48cb4fb5ebd29,14,7,3,11878,,,0,"Contributer Docs for switching to hardware types

This commit entails writing contributer docs for switching
from classic drivers to hardware types.

Change-Id: I335c6539244c3d4f839f5af522c68c84161a4b23
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/530526/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/drivers.rst'],1,ffd67a93ce15b3bf7c1f9b82c99881be6027a4eb,," Switch to Hardware Types ------------------------ With Ironic's deprecation of Classic Drivers in Queens and removal in Rocky, Hardware types is the only way for Vendors to connect to the Ironic Service. Hardware types are loaded by the ironic-conductor service during initialization, by enumerating the python entrypoint ""ironic.hardware.types"" and attempting to load all hardware types specified in the ""enabled_hardware_types"" configuration option. A complete list of hardware types available on the system may be found by enumerating this entrypoint by running the following python script:: #!/usr/bin/env python import pkg_resources as pkg print [p.name for p in pkg.iter_entry_points(""ironic.hardware_types"") if not p.name.startswith(""fake"")] A list of hardware types enabled in a running Ironic service may be found by issuing the following command against that API end point:: openstack baremetal driver list Supported Hardware Types ------------------------ For a list of supported hardware types (those that are continuously tested on every upstream commit) please consult the wiki page:: https://wiki.openstack.org/wiki/Ironic/Drivers",,34,0
openstack%2Fblazar-tempest-plugin~master~I71e63d92728a50727f29dadf71fae3085f519ee7,openstack/blazar-tempest-plugin,master,I71e63d92728a50727f29dadf71fae3085f519ee7,add lower-constraints job,ABANDONED,2018-03-22 16:06:11.000000000,2018-03-22 17:23:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 16:06:11.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/e535a43ea9131df0af2fdd96b2c83a0b6ac37aaf', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I71e63d92728a50727f29dadf71fae3085f519ee7\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555356,e535a43ea9131df0af2fdd96b2c83a0b6ac37aaf,3,1,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: I71e63d92728a50727f29dadf71fae3085f519ee7
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/56/555356/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,e535a43ea9131df0af2fdd96b2c83a0b6ac37aaf,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,81,0
openstack%2Fbarbican-tempest-plugin~master~Ic1b9387220068b394f8325e40002c3ba10ab85ea,openstack/barbican-tempest-plugin,master,Ic1b9387220068b394f8325e40002c3ba10ab85ea,add lower-constraints job,ABANDONED,2018-03-22 16:05:00.000000000,2018-03-22 17:23:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 16:05:00.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f1243e1d3e5853b1e0a5432f914f4792ae8ba2b0', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic1b9387220068b394f8325e40002c3ba10ab85ea\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555350,f1243e1d3e5853b1e0a5432f914f4792ae8ba2b0,3,1,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: Ic1b9387220068b394f8325e40002c3ba10ab85ea
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/50/555350/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,f1243e1d3e5853b1e0a5432f914f4792ae8ba2b0,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,88,0
openstack%2Fopenstack-helm~master~I3284c0f8f8946a36a63871dc57e287fbe7260490,openstack/openstack-helm,master,I3284c0f8f8946a36a63871dc57e287fbe7260490,Detect and enable hugepage support for QEMU,MERGED,2018-03-21 18:47:18.000000000,2018-03-22 17:22:18.000000000,2018-03-22 17:22:18.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24049}]","[{'number': 1, 'created': '2018-03-21 18:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8262ad9c996b48a7b438f28ff936b10aaab04bf1', 'message': 'Detect and enable hugepage support for QEMU\n\nChange-Id: I3284c0f8f8946a36a63871dc57e287fbe7260490\n'}, {'number': 2, 'created': '2018-03-21 19:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/260568007b103b7360378bbeae63f92b81dadbf3', 'message': 'Detect and enable hugepage support for QEMU\n\nChange-Id: I3284c0f8f8946a36a63871dc57e287fbe7260490\n'}, {'number': 3, 'created': '2018-03-21 19:15:04.000000000', 'files': ['libvirt/templates/bin/_libvirt.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/059453c40cc068ac3e0b11e54575ab1cba3d5c71', 'message': 'Detect and enable hugepage support for QEMU\n\nChange-Id: I3284c0f8f8946a36a63871dc57e287fbe7260490\n'}]",1,555019,059453c40cc068ac3e0b11e54575ab1cba3d5c71,16,6,3,26686,,,0,"Detect and enable hugepage support for QEMU

Change-Id: I3284c0f8f8946a36a63871dc57e287fbe7260490
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/555019/2 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/templates/bin/_libvirt.sh.tpl'],1,8262ad9c996b48a7b438f28ff936b10aaab04bf1,,if [ -d /sys/kernel/mm/hugepages ]; then sed -i 's/KVM_HUGEPAGES=0/KVM_HUGEPAGES=1/g' /etc/default/qemu-kvm fi ,,4,0
openstack%2Fsenlin-tempest-plugin~master~I7e9a8219fb9e6ea8ff20a7540a6a995f1a9dd9be,openstack/senlin-tempest-plugin,master,I7e9a8219fb9e6ea8ff20a7540a6a995f1a9dd9be,Check valid values for start_time and end_time,MERGED,2018-03-19 23:34:46.000000000,2018-03-22 17:21:06.000000000,2018-03-22 17:21:06.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-19 23:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/499f9fe3381ca459c6cbc824e40cd992a0ac073d', 'message': '[WIP] Check valid values for start_time and end_time\n\nThis patch is expected to fail because of bug #1746123\n\nChange-Id: I7e9a8219fb9e6ea8ff20a7540a6a995f1a9dd9be\n'}, {'number': 2, 'created': '2018-03-20 00:17:40.000000000', 'files': ['senlin_tempest_plugin/tests/api/actions/test_action_show.py', 'senlin_tempest_plugin/tests/functional/test_deletion_policy.py'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/efd449fd6ff57aa7cab7d4363561d5e66d183cbd', 'message': 'Check valid values for start_time and end_time\n\n* Add test to check values stored for action start_time and end_time\n* Enable test case after fixing bug #1746123\n\nDepends-On: https://review.openstack.org/#/c/554385/\nChange-Id: I7e9a8219fb9e6ea8ff20a7540a6a995f1a9dd9be\n'}]",0,554382,efd449fd6ff57aa7cab7d4363561d5e66d183cbd,13,4,2,27224,,,0,"Check valid values for start_time and end_time

* Add test to check values stored for action start_time and end_time
* Enable test case after fixing bug #1746123

Depends-On: https://review.openstack.org/#/c/554385/
Change-Id: I7e9a8219fb9e6ea8ff20a7540a6a995f1a9dd9be
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/82/554382/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin_tempest_plugin/tests/api/actions/test_action_show.py', 'senlin_tempest_plugin/tests/functional/test_deletion_policy.py']",2,499f9fe3381ca459c6cbc824e40cd992a0ac073d,bug/1746123,," @decorators.skip_because(bug=""1746123"")",12,1
openstack%2Fsenlin~master~Ia6c1f0a0379695edfbb9e6f32a1e799927f05fc3,openstack/senlin,master,Ia6c1f0a0379695edfbb9e6f32a1e799927f05fc3,Use decimal type for start_time and end_time,MERGED,2018-03-20 00:03:58.000000000,2018-03-22 17:21:05.000000000,2018-03-22 17:21:04.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-20 00:03:58.000000000', 'files': ['senlin/db/sqlalchemy/migrate_repo/versions/013_action_starttime_endtime_type.py', 'senlin/db/sqlalchemy/models.py', 'senlin/tests/unit/db/test_action_api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3f1b2b68b0c1bfa12ed3c3eac8e59fc99e53b8b0', 'message': 'Use decimal type for start_time and end_time\n\n* Change start_time and end_time type in action model\n* Add db migration script for start_time and end_time type change\n\nUsing float type for start_time and end_time caused inaccurate\ntimestamps to be stored [1].  This change uses decimal type for\nstart_time and end_time.\n\n[1] https://dev.mysql.com/doc/refman/5.7/en/problems-with-float.html\n\nChange-Id: Ia6c1f0a0379695edfbb9e6f32a1e799927f05fc3\nCloses-Bug: #1746123\n'}]",1,554385,3f1b2b68b0c1bfa12ed3c3eac8e59fc99e53b8b0,10,5,1,27224,,,0,"Use decimal type for start_time and end_time

* Change start_time and end_time type in action model
* Add db migration script for start_time and end_time type change

Using float type for start_time and end_time caused inaccurate
timestamps to be stored [1].  This change uses decimal type for
start_time and end_time.

[1] https://dev.mysql.com/doc/refman/5.7/en/problems-with-float.html

Change-Id: Ia6c1f0a0379695edfbb9e6f32a1e799927f05fc3
Closes-Bug: #1746123
",git fetch https://review.opendev.org/openstack/senlin refs/changes/85/554385/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/db/sqlalchemy/migrate_repo/versions/013_action_starttime_endtime_type.py', 'senlin/db/sqlalchemy/models.py', 'senlin/tests/unit/db/test_action_api.py']",3,3f1b2b68b0c1bfa12ed3c3eac8e59fc99e53b8b0,bug/1746123," self.assertEqual(timestamp, float(action.start_time)) self.assertEqual(round(timestamp, 6), float(action1.end_time)) self.assertEqual(round(timestamp, 6), float(action.end_time)) self.assertEqual(round(timestamp, 6), float(action.end_time)) self.assertEqual(round(timestamp, 6), float(action.end_time)) self.assertIsNone(action.end_time) self.assertIsNone(action.end_time) self.assertEqual(round(timestamp, 6), float(action_d.end_time)) self.assertEqual(round(timestamp, 6), float(action.end_time)) self.assertEqual(round(timestamp, 6), float(action.end_time)) self.assertEqual(round(timestamp, 6), float(action.end_time))"," self.assertEqual(timestamp, action.start_time) self.assertEqual(timestamp, action1.end_time) self.assertEqual(timestamp, action.end_time) self.assertEqual(timestamp, action.end_time) self.assertEqual(timestamp, action.end_time) self.assertNotEqual(timestamp, action.end_time) self.assertNotEqual(timestamp, action.end_time) self.assertEqual(timestamp, action_d.end_time) self.assertEqual(timestamp, action.end_time) self.assertEqual(timestamp, action.end_time) self.assertEqual(timestamp, action.end_time)",36,15
openstack%2Fpuppet-nova~master~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,master,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-03-21 22:00:42.000000000,2018-03-22 17:12:34.000000000,2018-03-22 17:12:34.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 22:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/991e025f33cf36122187c92576b377ab7209f822', 'message': 'WIP: expose reserved_huge_pages param\n\nChange-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6\n'}, {'number': 2, 'created': '2018-03-21 22:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6c24f094b359bc134fff0b2e9995dad277f125ef', 'message': 'Expose reserved_huge_pages param\n\nAdds the ability to set reserved_huge_pages on nova-computes via a string or\na list of strings.\n\nChange-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6\n'}, {'number': 3, 'created': '2018-03-22 00:59:02.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d7a6b423097d27e74430d2021e3b9cc64f3197ba', 'message': 'Expose reserved_huge_pages param\n\nAdds the ability to set reserved_huge_pages on nova-computes via a string or\na list of strings.\n\nChange-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6\n'}]",0,555076,d7a6b423097d27e74430d2021e3b9cc64f3197ba,12,6,3,23811,,,0,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/76/555076/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb']",2,991e025f33cf36122187c92576b377ab7209f822,," it { is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with_value('<SERVICE DEFAULT>') } context 'with reserved_huge_pages string' do let :params do { :reserved_huge_pages => ""foo"" } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => 'foo' ) end end context 'with reserved_huge_pages array' do let :params do { :reserved_huge_pages => [""foo"", ""bar""] } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => ['foo','bar'] ) end end ",,45,0
openstack%2Fpython-glanceclient~master~Ic3815e22faa7b9319191a2f38ab10b118170f6e2,openstack/python-glanceclient,master,Ic3815e22faa7b9319191a2f38ab10b118170f6e2,Follow the new PTI for document build,ABANDONED,2018-03-20 21:58:13.000000000,2018-03-22 17:10:12.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-20 21:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/d56d5109ae2f21f3626619483840549dc9a6b533', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ic3815e22faa7b9319191a2f38ab10b118170f6e2\n'}, {'number': 2, 'created': '2018-03-21 13:03:36.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/869422701b23307c7e8ad817bd40e0b85bed4e46', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ic3815e22faa7b9319191a2f38ab10b118170f6e2\n'}]",3,554720,869422701b23307c7e8ad817bd40e0b85bed4e46,9,3,2,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Ic3815e22faa7b9319191a2f38ab10b118170f6e2
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/20/554720/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,d56d5109ae2f21f3626619483840549dc9a6b533,update-pti,deps = -r{toxinidir}/doc/requirements.txt phinx-build -W -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,6,4
openstack%2Fopenstack-ansible~stable%2Fpike~If7c00cbfe3bd50a3702f86e7348de206b9fa3b95,openstack/openstack-ansible,stable/pike,If7c00cbfe3bd50a3702f86e7348de206b9fa3b95,Fix typo and misleading task name for nova-consoleauth,MERGED,2018-03-16 15:02:05.000000000,2018-03-22 17:03:04.000000000,2018-03-22 17:03:04.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-16 15:02:05.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c156baec281af98c993676ffbbbfba3535512ed4', 'message': ""Fix typo and misleading task name for nova-consoleauth\n\nThe services for console are installed in the 'Install nova\nconsole/metadata services' task, however, the scheduler\ninstall task misleadingly is named to mention that it installs\nconsoleauth and tries to run on the nova_consoleauth group\nwhich does not exist.\n\nChange-Id: If7c00cbfe3bd50a3702f86e7348de206b9fa3b95\n(cherry picked from commit 581e6e5b8eb7c5f8d269f0d3154adaf12d66dbde)\n""}]",0,553812,c156baec281af98c993676ffbbbfba3535512ed4,11,7,1,6816,,,0,"Fix typo and misleading task name for nova-consoleauth

The services for console are installed in the 'Install nova
console/metadata services' task, however, the scheduler
install task misleadingly is named to mention that it installs
consoleauth and tries to run on the nova_consoleauth group
which does not exist.

Change-Id: If7c00cbfe3bd50a3702f86e7348de206b9fa3b95
(cherry picked from commit 581e6e5b8eb7c5f8d269f0d3154adaf12d66dbde)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/553812/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,c156baec281af98c993676ffbbbfba3535512ed4,fix-typo-stable/pike,"- name: Install nova-scheduler services nova_hosts: ""nova_scheduler:!nova_conductor""","- name: Install nova-scheduler/nova-consoleauth services nova_hosts: ""nova_scheduler:nova_consoleauth:!nova_conductor""",2,2
openstack%2Fcinder~stable%2Fqueens~If65780000fa8f59f663b00b88584cf289effa590,openstack/cinder,stable/queens,If65780000fa8f59f663b00b88584cf289effa590,Dell EMC SC: ISCSI initialize_connection fixes.,MERGED,2018-03-20 15:37:29.000000000,2018-03-22 17:01:07.000000000,2018-03-20 21:07:34.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-20 15:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52d375fddf7c37f5ad9a957614ca1ea2351e82b5', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n'}, {'number': 2, 'created': '2018-03-20 16:14:28.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/96b77e0aa62790320d16f7229aaeeb650fa875b6', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n(cherry picked from commit f8980ea128dd6698a1cb3a283d98b47371b854f6)\n'}]",0,554592,96b77e0aa62790320d16f7229aaeeb650fa875b6,29,21,2,12112,,,0,"Dell EMC SC: ISCSI initialize_connection fixes.

Driver was not honoring the server in ISCSI and returning connection
information for all servers (IQNs) connected to a volume.

If multiple servers are mapped to a volume the driver was only returning
the first server for a given portal.

Closes-Bug: #1756914
Change-Id: If65780000fa8f59f663b00b88584cf289effa590
(cherry picked from commit f8980ea128dd6698a1cb3a283d98b47371b854f6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/554592/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml']",4,52d375fddf7c37f5ad9a957614ca1ea2351e82b5,bug/1756914,--- fixes: - Dell EMC SC driver correctly returns initialize_connection data when more than one IQN is attached to a volume. This fixes some random Nova Live Migration failures where the connection information being returned was for an IQN other than the one for which it was being requested. ,,93,19
openstack%2Fpython-ironic-inspector-client~master~I6cfe991689bbb296985e26aa2c80034a835829de,openstack/python-ironic-inspector-client,master,I6cfe991689bbb296985e26aa2c80034a835829de,Use the regular inspector tests in the CI,MERGED,2018-03-22 13:06:45.000000000,2018-03-22 17:01:02.000000000,2018-03-22 16:53:13.000000000,"[{'_account_id': 6637}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:06:45.000000000', 'files': ['playbooks/legacy/python-ironic-inspector-client-tempest-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/ac3bbb2bec946c9de67020ce524493f13b18b998', 'message': 'Use the regular inspector tests in the CI\n\nThe smoke test was removed in favor of them.\n\nChange-Id: I6cfe991689bbb296985e26aa2c80034a835829de\n'}]",0,555295,ac3bbb2bec946c9de67020ce524493f13b18b998,10,3,1,10239,,,0,"Use the regular inspector tests in the CI

The smoke test was removed in favor of them.

Change-Id: I6cfe991689bbb296985e26aa2c80034a835829de
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/95/555295/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/python-ironic-inspector-client-tempest-dsvm/run.yaml'],1,ac3bbb2bec946c9de67020ce524493f13b18b998,gate," export DEVSTACK_GATE_TEMPEST_REGEX=""InspectorBasicTest"""," export DEVSTACK_GATE_TEMPEST_REGEX=""InspectorSmokeTest""",1,1
openstack%2Fopenstack-ansible~master~I1f5da9acaa677b2cd752cda30c33eba846a96eb4,openstack/openstack-ansible,master,I1f5da9acaa677b2cd752cda30c33eba846a96eb4,[Docs] Simplify overview page,MERGED,2018-03-12 18:14:54.000000000,2018-03-22 16:54:13.000000000,2018-03-22 10:23:52.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-12 18:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63321372c531eef8ad9bca7648170c4825afac66', 'message': '[Docs] Simplify overview page\n\nThis modifies the overview section to be one page instead of\n4 long sections. We just refer to the architecture reference\nfor details about the architecture.\n\nChange-Id: I1f5da9acaa677b2cd752cda30c33eba846a96eb4\n'}, {'number': 2, 'created': '2018-03-20 11:45:00.000000000', 'files': ['doc/source/reference/architecture/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'doc/source/reference/architecture/storage-arch.rst', 'deploy-guide/source/overview-requirements.rst', 'doc/source/reference/architecture/container-networking.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/architecture/service-arch.rst', 'deploy-guide/source/targethosts-networkconfig.rst', 'deploy-guide/source/overview.rst', 'deploy-guide/source/overview-network-arch.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8bfc32399e0ed5e0af55e65a318819234b709911', 'message': '[Docs] Simplify overview page\n\nThis modifies the overview section to be one page instead of\n4 long sections. We just refer to the architecture reference\nfor details about the architecture.\n\nChange-Id: I1f5da9acaa677b2cd752cda30c33eba846a96eb4\n'}]",2,552103,8bfc32399e0ed5e0af55e65a318819234b709911,14,4,2,17068,,,0,"[Docs] Simplify overview page

This modifies the overview section to be one page instead of
4 long sections. We just refer to the architecture reference
for details about the architecture.

Change-Id: I1f5da9acaa677b2cd752cda30c33eba846a96eb4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/552103/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/architecture/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'doc/source/reference/architecture/storage-arch.rst', 'deploy-guide/source/overview-requirements.rst', 'doc/source/reference/architecture/container-networking.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/architecture/service-arch.rst', 'deploy-guide/source/targethosts-networkconfig.rst', 'deploy-guide/source/overview.rst', 'deploy-guide/source/overview-network-arch.rst']",10,63321372c531eef8ad9bca7648170c4825afac66,bp/docs-improvements,,".. _network-architecture: ==================== Network architecture ==================== Although Ansible automates most deployment operations, networking on target hosts requires manual configuration because it varies from one use case to another. This section describes the network configuration that must be implemented on all target hosts. For more information about how networking works, see the :dev_docs:`OpenStack-Ansible Reference Architecture, section Container Networking <reference/architecture/index.html>`. Host network bridges ~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible uses bridges to connect physical and logical network interfaces on the host to virtual network interfaces within containers. Target hosts are configured with the following network bridges. * LXC internal: ``lxcbr0`` The ``lxcbr0`` bridge is **required**, but OpenStack-Ansible configures it automatically. It provides external (typically Internet) connectivity to containers. This bridge does not directly attach to any physical or logical interfaces on the host because iptables handles connectivity. It attaches to ``eth0`` in each container. The container network that the bridge attaches to is configurable in the ``openstack_user_config.yml`` file in the ``provider_networks`` dictionary. * Container management: ``br-mgmt`` The ``br-mgmt`` bridge is **required**. It provides management of and communication between the infrastructure and OpenStack services. The bridge attaches to a physical or logical interface, typically a ``bond0`` VLAN subinterface. It also attaches to ``eth1`` in each container. The container network interface that the bridge attaches to is configurable in the ``openstack_user_config.yml`` file. * Storage:``br-storage`` The ``br-storage`` bridge is **optional**, but recommended for production environments. It provides segregated access to Block Storage devices between OpenStack services and Block Storage devices. The bridge attaches to a physical or logical interface, typically a ``bond0`` VLAN subinterface. It also attaches to ``eth2`` in each associated container. The container network interface that the bridge attaches to is configurable in the ``openstack_user_config.yml`` file. * OpenStack Networking tunnel: ``br-vxlan`` The ``br-vxlan`` bridge is **required** if the environment is configured to allow projects to create virtual networks. It provides the interface for virtual (VXLAN) tunnel networks. The bridge attaches to a physical or logical interface, typically a ``bond1`` VLAN subinterface. It also attaches to ``eth10`` in each associated container. The container network interface it attaches to is configurable in the ``openstack_user_config.yml`` file. * OpenStack Networking provider: ``br-vlan`` The ``br-vlan`` bridge is **required**. It provides infrastructure for VLAN tagged or flat (no VLAN tag) networks. The bridge attaches to a physical or logical interface, typically ``bond1``. It attaches to ``eth11`` for VLAN type networks in each associated container. It is not assigned an IP address because it handles only layer 2 connectivity. The container network interface that the bridge attaches to is configurable in the ``openstack_user_config.yml`` file. ",159,210
openstack%2Fpython-ironic-inspector-client~master~I80c72564c31a6bea07b13f8bac13d1cba4a0845d,openstack/python-ironic-inspector-client,master,I80c72564c31a6bea07b13f8bac13d1cba4a0845d,Switch the CI to hardware types and clean up playbook,MERGED,2018-03-13 15:10:26.000000000,2018-03-22 16:53:14.000000000,2018-03-22 16:53:14.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 15:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/bcc6a9e3be2c565ba0deae4084d9c3223a4788ad', 'message': ""Switch the CI to hardware types and clean up playbook\n\nThis change modifies the playbook to use the 'ipmi' hardware type.\nIt also removes redundant conditions. The job name is not changed\nto simplify the patch.\n\nChange-Id: I80c72564c31a6bea07b13f8bac13d1cba4a0845d\n""}, {'number': 2, 'created': '2018-03-22 13:07:25.000000000', 'files': ['playbooks/legacy/python-ironic-inspector-client-tempest-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/cf69bade1ab250d66878622a78d76887268accb1', 'message': ""Switch the CI to hardware types and clean up playbook\n\nThis change modifies the playbook to use the 'ipmi' hardware type.\nIt also removes redundant conditions. The job name is not changed\nto simplify the patch.\n\nChange-Id: I80c72564c31a6bea07b13f8bac13d1cba4a0845d\n""}]",0,552546,cf69bade1ab250d66878622a78d76887268accb1,12,4,2,10239,,,0,"Switch the CI to hardware types and clean up playbook

This change modifies the playbook to use the 'ipmi' hardware type.
It also removes redundant conditions. The job name is not changed
to simplify the patch.

Change-Id: I80c72564c31a6bea07b13f8bac13d1cba4a0845d
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/46/552546/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/python-ironic-inspector-client-tempest-dsvm/run.yaml'],1,bcc6a9e3be2c565ba0deae4084d9c3223a4788ad,hw-types," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEFAULT_DEPLOY_INTERFACE=direct"" # direct deploy requires Swift temporary URLs export DEVSTACK_LOCAL_CONFIG+=$'\n'""SWIFT_ENABLE_TEMPURLS=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""SWIFT_TEMPURL_KEY=secretkey"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" "," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEPLOY_DRIVER_ISCSI_WITH_IPA=True"" # Standardize VM size for each supported ramdisk case ""tinyipa"" in 'tinyipa') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'tinyipa256') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=256"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'coreos') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=1280"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=coreos"" ;; # if using a ramdisk without a known good value, use the devstack # default by not exporting any value for IRONIC_VM_SPECS_RAM esac export IRONIC_INSPECTOR_AUTO_DISCOVERY=0 if [ ""$IRONIC_INSPECTOR_AUTO_DISCOVERY"" == ""1"" ]; then # discovery test requires sudo for iptables and virsh export DEVSTACK_GATE_REMOVE_STACK_SUDO=0 # enable enroll hook export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_NODE_NOT_FOUND_HOOK=enroll"" # we are deleting node from ironic for simulate node discovery, # so inspector has to sync cache asap export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_CLEAN_UP_PERIOD=5"" fi # Make IPXE configuration consistent between Mitaka and Master export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_IPXE_ENABLED=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_RAMDISK_ELEMENT=ironic-agent"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_MANAGE_FIREWALL=True"" export DEVSTACK_GATE_IRONIC_DRIVER=agent_ipmitool if [ ""agent_ipmitool"" == ""pxe_snmp"" ] ; then # explicitly enable pxe_snmp driver export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake,pxe_snmp"" fi if [ ""agent_ipmitool"" == ""redfish"" ] ; then # When deploying with redfish we need to enable the ""redfish"" # hardware type export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_HARDWARE_TYPES=redfish"" fi if [ ""wholedisk"" == ""wholedisk"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" else export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" fi if [ -n """" ] ; then export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" else export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" fi if [ ""bios"" == ""uefi"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_BOOT_MODE=uefi"" fi export DEVSTACK_PROJECT_FROM_GIT=""""",12,67
openstack%2Ftripleo-heat-templates~master~If1fecbf4914929d87cfecacd88b96a31c65dddc3,openstack/tripleo-heat-templates,master,If1fecbf4914929d87cfecacd88b96a31c65dddc3,DO NOT MEREGE: testing scenario001 without CephClient,ABANDONED,2018-03-21 11:43:22.000000000,2018-03-22 16:45:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 11:43:22.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fcbab15280f88b08a4806d9d55bbf5bae859db6', 'message': 'DO NOT MEREGE: testing scenario001 without CephClient\n\nChange-Id: If1fecbf4914929d87cfecacd88b96a31c65dddc3\n'}]",0,554884,4fcbab15280f88b08a4806d9d55bbf5bae859db6,4,2,1,18002,,,0,"DO NOT MEREGE: testing scenario001 without CephClient

Change-Id: If1fecbf4914929d87cfecacd88b96a31c65dddc3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/554884/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-multinode-containers.yaml'],1,4fcbab15280f88b08a4806d9d55bbf5bae859db6,,, OS::TripleO::Services::CephClient: ../../docker/services/ceph-ansible/ceph-client.yaml - OS::TripleO::Services::CephClient,0,2
openstack%2Fnova~master~I45c82aef96898826f70a8e7fbf334c3657fc85f8,openstack/nova,master,I45c82aef96898826f70a8e7fbf334c3657fc85f8,DNM: testing live migration back and forth,ABANDONED,2017-02-15 09:54:27.000000000,2018-03-22 16:44:31.000000000,,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-15 09:54:27.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a238e033dde1b02d380b70dc03094683690ba0be', 'message': 'DNM: testing live migration back and forth\n\nChange-Id: I45c82aef96898826f70a8e7fbf334c3657fc85f8\nDepends-On: I0ce6b2cf6f7b040889a26e674834f3fd9f8033af\n'}]",0,434186,a238e033dde1b02d380b70dc03094683690ba0be,33,13,1,8556,,,0,"DNM: testing live migration back and forth

Change-Id: I45c82aef96898826f70a8e7fbf334c3657fc85f8
Depends-On: I0ce6b2cf6f7b040889a26e674834f3fd9f8033af
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/434186/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,a238e033dde1b02d380b70dc03094683690ba0be,,,,1,0
openstack%2Fcinder-tempest-plugin~master~Ifcd69742e82eedc7f63857a3221cc382c1d58ee5,openstack/cinder-tempest-plugin,master,Ifcd69742e82eedc7f63857a3221cc382c1d58ee5,add lower-constraints job,ABANDONED,2018-03-22 16:07:09.000000000,2018-03-22 16:30:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 16:07:09.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/716c14866ba960de267cee82163d292f257e79ab', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ifcd69742e82eedc7f63857a3221cc382c1d58ee5\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555360,716c14866ba960de267cee82163d292f257e79ab,3,1,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: Ifcd69742e82eedc7f63857a3221cc382c1d58ee5
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/60/555360/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,716c14866ba960de267cee82163d292f257e79ab,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,59,0
openstack%2Fsolum~master~I42be6767748fb1d3cc03f94a174a393095c335e4,openstack/solum,master,I42be6767748fb1d3cc03f94a174a393095c335e4,Follow the new PTI for document build,ABANDONED,2018-03-12 02:49:08.000000000,2018-03-22 16:26:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-12 02:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/79b120d0f596ba72bf5dcdb5e2856d00abe1ab78', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I42be6767748fb1d3cc03f94a174a393095c335e4\n'}, {'number': 2, 'created': '2018-03-12 03:08:05.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/e451b1ca46cb96495ded751dd2996e4717be2601', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I42be6767748fb1d3cc03f94a174a393095c335e4\n'}]",0,551827,e451b1ca46cb96495ded751dd2996e4717be2601,4,1,2,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I42be6767748fb1d3cc03f94a174a393095c335e4
",git fetch https://review.opendev.org/openstack/solum refs/changes/27/551827/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,79b120d0f596ba72bf5dcdb5e2856d00abe1ab78,update-pti,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. # this is required for the docs build jobs sphinx!=1.6.6,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0 reno>=2.5.0 # Apache-2.0 ",,8,3
openstack%2Fopenstack-zuul-jobs~master~I8ad36dfd2ce6d0ab18340c58bd78d234c0d568e6,openstack/openstack-zuul-jobs,master,I8ad36dfd2ce6d0ab18340c58bd78d234c0d568e6,add openstack-tox-lower-constraints,MERGED,2018-03-21 19:54:43.000000000,2018-03-22 16:24:29.000000000,2018-03-22 16:24:29.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 19:54:43.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b316ef6444d302b0276d8d427c7b52e454832935', 'message': ""add openstack-tox-lower-constraints\n\nAdd a job for running tests for projects using their lower-constraints\nlist.\n\nThese settings are currently based on the ones from the py35 job\nbecause we expect the tox environment to be configured to use python3\nwherever that is possible.\n\nWe don't set this up as part of the check-requirements job template in\nproject-config because projects opt-in to running the tests.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\n\nChange-Id: I8ad36dfd2ce6d0ab18340c58bd78d234c0d568e6\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,555034,b316ef6444d302b0276d8d427c7b52e454832935,8,4,1,2472,,,0,"add openstack-tox-lower-constraints

Add a job for running tests for projects using their lower-constraints
list.

These settings are currently based on the ones from the py35 job
because we expect the tox environment to be configured to use python3
wherever that is possible.

We don't set this up as part of the check-requirements job template in
project-config because projects opt-in to running the tests.

http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html

Change-Id: I8ad36dfd2ce6d0ab18340c58bd78d234c0d568e6
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/34/555034/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,b316ef6444d302b0276d8d427c7b52e454832935,requirements-stop-syncing," name: openstack-tox-lower-constraints parent: openstack-tox branches: ^(?!driverfixes/).*$ timeout: 2400 description: | Run unit tests using the lower constraints. Uses tox with the ``lower-constraints`` environment, which should be configured to use Python 3 by default unless the project does not support Python 3. irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^releasenotes/.*$ vars: tox_envlist: lower-constraints bindep_profile: test py35 - job:",,20,0
openstack%2Ftripleo-quickstart~master~I9355db759c8de0cbddfbfb281d32e40517a591ff,openstack/tripleo-quickstart,master,I9355db759c8de0cbddfbfb281d32e40517a591ff,duplicate fs20 for libvirt,ABANDONED,2018-03-21 17:03:46.000000000,2018-03-22 16:22:27.000000000,,"[{'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-21 17:03:46.000000000', 'files': ['config/general_config/featureset050.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ccbea25888476f4252eeb8658fe77ff54e6504eb', 'message': 'duplicate fs20 for libvirt\n\nAt this time running single-nic-vlan with ovb has\nnot been confirmed as working.  Duplicating fs20\nfor libvirt use case.\n\nRelated-Bug: #554528\nChange-Id: I9355db759c8de0cbddfbfb281d32e40517a591ff\n'}]",0,554991,ccbea25888476f4252eeb8658fe77ff54e6504eb,6,2,1,9592,,,0,"duplicate fs20 for libvirt

At this time running single-nic-vlan with ovb has
not been confirmed as working.  Duplicating fs20
for libvirt use case.

Related-Bug: #554528
Change-Id: I9355db759c8de0cbddfbfb281d32e40517a591ff
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/91/554991/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset050.yml'],1,ccbea25888476f4252eeb8658fe77ff54e6504eb,bug/1757111,"# Summary of the feature set. # This is featureset020 with single-nic-vlan network isolation instead # multinic ( in fs20 ). This featureset is libvirt only # Deploy an non-ha Openstack environment, without SSL, introspect, use network # isolation and ready to execute tempest tests. # Example of usage: # ./quickstart.sh -t all --retain-inventory -e \ # @config/general_config/featureset050.yml -R tripleo-ci/consistent-master \ # -T all $VIRTHOST # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: true ssl_overcloud: false overcloud_templates_path: /usr/share/openstack-tripleo-heat-templates step_introspect: true # This enables container deployements after Pike containerized_overcloud: >- {% if release in ['newton', 'ocata', 'pike'] -%} false {%- else -%} true {%- endif -%} delete_docker_cache: true # Tell tripleo about our environment enable_pacemaker: false network_isolation: true network_isolation_type: ""single-nic-vlans"" extra_args: >- --ntp-server pool.ntp.org # Tempest run_tempest: true test_regex: '.*' test_ping: false # For full tempest run we need to make sure concurrency is not too high tempest_workers: 2 # keep the doc gen settings at the bottom of the config file. # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - overcloud-custom-tht-script - ""{% if release not in ['newton', 'ocata', 'pike'] -%}overcloud-prep-containers{%- endif -%}"" - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-install - overcloud-custom-tht-script - ""{% if release not in ['newton', 'ocata', 'pike'] -%}overcloud-prep-containers{%- endif -%}"" - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate ",,69,0
openstack%2Fopenstack-helm~master~Iebd87e30014d6cac2127c7e1a14259b10d74fbf8,openstack/openstack-helm,master,Iebd87e30014d6cac2127c7e1a14259b10d74fbf8,Neutron: agent host targetting,MERGED,2018-03-21 18:28:06.000000000,2018-03-22 16:01:53.000000000,2018-03-22 16:01:53.000000000,"[{'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 18:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ff1c04477716ae53a36efd059f9f2af434f9aa9', 'message': 'WIP: Neutron agent host targetting\n\nChange-Id: Iebd87e30014d6cac2127c7e1a14259b10d74fbf8\n'}, {'number': 2, 'created': '2018-03-21 21:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79e5cc327f8a439a8cbb97c93abe90918c5d7c02', 'message': 'WIP: Neutron agent host targetting\n\nChange-Id: Iebd87e30014d6cac2127c7e1a14259b10d74fbf8\n'}, {'number': 3, 'created': '2018-03-21 21:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ded6c06824f77d306c6d71bb515a679894ed387', 'message': 'Neutron: agent host targetting\n\nThis PS adds the ablity to target different configs to different\nhosts for the nutron agents, in the same manner as nova-compute.\n\nChange-Id: Iebd87e30014d6cac2127c7e1a14259b10d74fbf8\n'}, {'number': 4, 'created': '2018-03-21 21:47:35.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7193c37d4566ac53e1e139f1b5aa47380deb279', 'message': 'Neutron: agent host targetting\n\nThis PS adds the ablity to target different configs to different\nhosts for the nutron agents, in the same manner as nova-compute.\n\nChange-Id: Iebd87e30014d6cac2127c7e1a14259b10d74fbf8\n'}]",1,555014,a7193c37d4566ac53e1e139f1b5aa47380deb279,12,4,4,23928,,,0,"Neutron: agent host targetting

This PS adds the ablity to target different configs to different
hosts for the nutron agents, in the same manner as nova-compute.

Change-Id: Iebd87e30014d6cac2127c7e1a14259b10d74fbf8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/555014/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/configmap-etc.yaml']",2,7ff1c04477716ae53a36efd059f9f2af434f9aa9,neutron/ds,"{{- define ""neutron.configmap.etc"" }} {{- $configMapName := index . 0 }} {{- $envAll := index . 1 }} {{- with $envAll }}{{- end }} {{- if .Values.manifests.configmap_etc }} {{- list ""neutron-etc"" . | include ""neutron.configmap.etc"" }} {{- end }}",{{- if .Values.manifests.configmap_etc }} {{- $envAll := . }},33,10
openstack%2Fopenstack-helm~master~If176617d37efc19925c2dc5a65d992086442fd70,openstack/openstack-helm,master,If176617d37efc19925c2dc5a65d992086442fd70,Horizon enable v3 keystone support.,MERGED,2018-03-20 21:49:33.000000000,2018-03-22 16:01:51.000000000,2018-03-22 16:01:51.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1aaa416e4ab5a88081c3c00098950ada1862c4ba', 'message': 'Horizon enable v3 keystone support.\n\nThis PS enables v3 kesytone support in horizon.\n\nChange-Id: If176617d37efc19925c2dc5a65d992086442fd70\n'}, {'number': 2, 'created': '2018-03-20 22:01:28.000000000', 'files': ['horizon/templates/etc/_local_settings.tpl', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7a89be23bad1205ad1079b9fa2d866b1532e3d3', 'message': 'Horizon enable v3 keystone support.\n\nThis PS enables v3 kesytone support in horizon.\n\nChange-Id: If176617d37efc19925c2dc5a65d992086442fd70\n'}]",0,554715,c7a89be23bad1205ad1079b9fa2d866b1532e3d3,8,3,2,23928,,,0,"Horizon enable v3 keystone support.

This PS enables v3 kesytone support in horizon.

Change-Id: If176617d37efc19925c2dc5a65d992086442fd70
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/554715/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/etc/_local_settings.tpl'],1,1aaa416e4ab5a88081c3c00098950ada1862c4ba,horizon/v2support,OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True,#OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = False,1,1
openstack%2Fnetworking-bgpvpn~master~I27e465649f6b46b6cbfe45683d8779c59db8f99c,openstack/networking-bgpvpn,master,I27e465649f6b46b6cbfe45683d8779c59db8f99c,Updated from global requirements,MERGED,2018-03-16 03:29:27.000000000,2018-03-22 15:59:16.000000000,2018-03-22 15:59:15.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 03:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3aba877c2784b40887ebe077d65fd54110f882df', 'message': 'Updated from global requirements\n\nChange-Id: I27e465649f6b46b6cbfe45683d8779c59db8f99c\n'}, {'number': 2, 'created': '2018-03-22 09:46:07.000000000', 'files': ['requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/fd5678a6e579d9d080cf529c92ec72b4b4c3907d', 'message': 'Updated from global requirements\n\nChange-Id: I27e465649f6b46b6cbfe45683d8779c59db8f99c\n'}]",0,553671,fd5678a6e579d9d080cf529c92ec72b4b4c3907d,12,2,2,11131,,,0,"Updated from global requirements

Change-Id: I27e465649f6b46b6cbfe45683d8779c59db8f99c
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/71/553671/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3aba877c2784b40887ebe077d65fd54110f882df,openstack/requirements,neutron>=12.0.0 # Apache-2.0 horizon>=13.0.0 # Apache-2.0,neutron>=12.0.0 # Apache-2.0 horizon>=13.0.0 # Apache-2.0,2,2
openstack%2Fpuppet-tempest~stable%2Fqueens~I86513711451abc202cb40f51d0ddecc9d011eaef,openstack/puppet-tempest,stable/queens,I86513711451abc202cb40f51d0ddecc9d011eaef,Prepare new version 12.4.0 in queens,MERGED,2018-03-22 09:34:49.000000000,2018-03-22 15:49:11.000000000,2018-03-22 15:49:11.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 09:34:49.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/c0d16d4999464771495e629ef897b64a663ba3c9', 'message': 'Prepare new version 12.4.0 in queens\n\nIt includes https://review.openstack.org/#/c/555176/ which adds\na new parameter disable_dashboard_ssl_validation .\n\nChange-Id: I86513711451abc202cb40f51d0ddecc9d011eaef\n'}]",0,555215,c0d16d4999464771495e629ef897b64a663ba3c9,7,5,1,16312,,,0,"Prepare new version 12.4.0 in queens

It includes https://review.openstack.org/#/c/555176/ which adds
a new parameter disable_dashboard_ssl_validation .

Change-Id: I86513711451abc202cb40f51d0ddecc9d011eaef
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/15/555215/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,c0d16d4999464771495e629ef897b64a663ba3c9,555176," ""version"": ""12.4.0"" } "," ""version"": ""12.3.0"" }",2,2
openstack%2Fpuppet-tempest~stable%2Fqueens~Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5,openstack/puppet-tempest,stable/queens,Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5,Add disable_ssl_certificate_validation to dashboard plugin,MERGED,2018-03-22 07:18:20.000000000,2018-03-22 15:49:10.000000000,2018-03-22 15:49:10.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 07:18:20.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/bd2f9077d39fe77791f7b04c1cc558c685709a1b', 'message': 'Add disable_ssl_certificate_validation to dashboard plugin\n\ndisable_ssl_certificate_validation in dashboard allows to disable\nSSL certificate validation in horizon tempest plugin in cases where\nvalidation is possible as IPv6 deployments when accessing using ip\ninstead of a dns name.\n\nChange-Id: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5\n(cherry picked from commit 2e998fddf4d8eddce379d72ea625c79bc8bb6cfe)\n'}]",0,555176,bd2f9077d39fe77791f7b04c1cc558c685709a1b,7,5,1,16312,,,0,"Add disable_ssl_certificate_validation to dashboard plugin

disable_ssl_certificate_validation in dashboard allows to disable
SSL certificate validation in horizon tempest plugin in cases where
validation is possible as IPv6 deployments when accessing using ip
instead of a dns name.

Change-Id: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5
(cherry picked from commit 2e998fddf4d8eddce379d72ea625c79bc8bb6cfe)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/76/555176/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,bd2f9077d39fe77791f7b04c1cc558c685709a1b,,"# [*disable_dashboard_ssl_validation*] # Defaults to undef $package_ensure = 'present', $tempest_workspace = '/var/lib/tempest', $install_from_source = true, $git_clone = true, $tempest_config_file = '/var/lib/tempest/etc/tempest.conf', $tempest_repo_uri = 'git://github.com/openstack/tempest.git', $tempest_repo_revision = undef, $tempest_clone_path = '/var/lib/tempest', $tempest_clone_owner = 'root', $setup_venv = false, $configure_images = true, $image_name = undef, $image_name_alt = undef, $glance_v1 = true, $glance_v2 = true, $configure_networks = true, $public_network_name = undef, $neutron_api_extensions = undef, $login_url = undef, $dashboard_url = undef, $disable_dashboard_ssl_validation = undef, $identity_uri = undef, $identity_uri_v3 = undef, $cli_dir = undef, $lock_path = '/var/lib/tempest', $log_file = $::os_service_default, $debug = false, $use_stderr = true, $use_syslog = false, $logging_context_format_string = $::os_service_default, $attach_encrypted_volume = false, $username = undef, $password = undef, $project_name = undef, $alt_username = undef, $alt_password = undef, $alt_project_name = undef, $admin_username = undef, $admin_password = undef, $admin_project_name = undef, $admin_role = undef, $admin_domain_name = undef, $tempest_roles = $::os_service_default, $image_ref = undef, $image_ref_alt = undef, $image_ssh_user = undef, $image_alt_ssh_user = undef, $flavor_ref = undef, $flavor_ref_alt = undef, $compute_build_interval = undef, $run_ssh = false, $whitebox_db_uri = undef, $resize_available = false, $change_password_available = undef, $use_dynamic_credentials = undef, $l2gw_switch = undef, $public_network_id = undef, $public_router_id = '', $sahara_plugins = undef, $db_flavor_ref = $::os_service_default, $cinder_available = true, $cinder_backup_available = false, $glance_available = true, $heat_available = false, $ceilometer_available = false, $aodh_available = false, $gnocchi_available = false, $panko_available = false, $designate_available = false, $horizon_available = true, $neutron_available = false, $neutron_bgpvpn_available = false, $neutron_fwaas_available = true, $neutron_lbaas_available = true, $neutron_l2gw_available = false, $neutron_vpnaas_available = false, $nova_available = true, $murano_available = false, $sahara_available = false, $swift_available = false, $trove_available = false, $ironic_available = false, $watcher_available = false, $zaqar_available = false, $ec2api_available = false, $mistral_available = false, $vitrage_available = false, $congress_available = false, $octavia_available = false, $barbican_available = false, $keystone_v2 = false, $keystone_v3 = true, $auth_version = 'v3', $run_service_broker_tests = false, $ca_certificates_file = undef, $disable_ssl_validation = undef, $manage_tests_packages = false, $img_dir = '/var/lib/tempest', $img_file = 'cirros-0.4.0-x86_64-disk.img', $designate_nameservers = undef, $tenant_name = undef, $alt_tenant_name = undef, $admin_tenant_name = undef, $allow_tenant_isolation = undef, $ensure_package = 'present', 'dashboard/disable_ssl_certificate_validation': value => $disable_dashboard_ssl_validation;"," $package_ensure = 'present', $tempest_workspace = '/var/lib/tempest', $install_from_source = true, $git_clone = true, $tempest_config_file = '/var/lib/tempest/etc/tempest.conf', $tempest_repo_uri = 'git://github.com/openstack/tempest.git', $tempest_repo_revision = undef, $tempest_clone_path = '/var/lib/tempest', $tempest_clone_owner = 'root', $setup_venv = false, $configure_images = true, $image_name = undef, $image_name_alt = undef, $glance_v1 = true, $glance_v2 = true, $configure_networks = true, $public_network_name = undef, $neutron_api_extensions = undef, $login_url = undef, $dashboard_url = undef, $identity_uri = undef, $identity_uri_v3 = undef, $cli_dir = undef, $lock_path = '/var/lib/tempest', $log_file = $::os_service_default, $debug = false, $use_stderr = true, $use_syslog = false, $logging_context_format_string = $::os_service_default, $attach_encrypted_volume = false, $username = undef, $password = undef, $project_name = undef, $alt_username = undef, $alt_password = undef, $alt_project_name = undef, $admin_username = undef, $admin_password = undef, $admin_project_name = undef, $admin_role = undef, $admin_domain_name = undef, $tempest_roles = $::os_service_default, $image_ref = undef, $image_ref_alt = undef, $image_ssh_user = undef, $image_alt_ssh_user = undef, $flavor_ref = undef, $flavor_ref_alt = undef, $compute_build_interval = undef, $run_ssh = false, $whitebox_db_uri = undef, $resize_available = false, $change_password_available = undef, $use_dynamic_credentials = undef, $l2gw_switch = undef, $public_network_id = undef, $public_router_id = '', $sahara_plugins = undef, $db_flavor_ref = $::os_service_default, $cinder_available = true, $cinder_backup_available = false, $glance_available = true, $heat_available = false, $ceilometer_available = false, $aodh_available = false, $gnocchi_available = false, $panko_available = false, $designate_available = false, $horizon_available = true, $neutron_available = false, $neutron_bgpvpn_available = false, $neutron_fwaas_available = true, $neutron_lbaas_available = true, $neutron_l2gw_available = false, $neutron_vpnaas_available = false, $nova_available = true, $murano_available = false, $sahara_available = false, $swift_available = false, $trove_available = false, $ironic_available = false, $watcher_available = false, $zaqar_available = false, $ec2api_available = false, $mistral_available = false, $vitrage_available = false, $congress_available = false, $octavia_available = false, $barbican_available = false, $keystone_v2 = false, $keystone_v3 = true, $auth_version = 'v3', $run_service_broker_tests = false, $ca_certificates_file = undef, $disable_ssl_validation = undef, $manage_tests_packages = false, $img_dir = '/var/lib/tempest', $img_file = 'cirros-0.4.0-x86_64-disk.img', $designate_nameservers = undef, $tenant_name = undef, $alt_tenant_name = undef, $admin_tenant_name = undef, $allow_tenant_isolation = undef, $ensure_package = 'present',",108,104
openstack%2Fbandit~master~Icbbd666f35ec4fc3251015c3f773b8585c5e8b78,openstack/bandit,master,Icbbd666f35ec4fc3251015c3f773b8585c5e8b78,Typo in the name of the YAML formatter test,MERGED,2018-03-14 02:04:59.000000000,2018-03-22 15:44:15.000000000,2018-03-22 15:44:15.000000000,"[{'_account_id': 17893}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 02:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/7dbcad34dc52ef414fe4c0538b92796a3d39c672', 'message': 'Typo in the name of the YAML formatter test\n\nThe yaml test class was misnamed as JsonFormatterTests and not\nproperly as YamlFormatterTests.\n\nChange-Id: Icbbd666f35ec4fc3251015c3f773b8585c5e8b78\n'}, {'number': 2, 'created': '2018-03-14 02:32:33.000000000', 'files': ['tests/unit/formatters/test_yaml.py'], 'web_link': 'https://opendev.org/openstack/bandit/commit/2fc2732721e563e2ce13d0fbcc1e40bb55e28c51', 'message': 'Typo in the name of the YAML formatter test\n\nThe yaml test class was misnamed as JsonFormatterTests and not\nproperly as YamlFormatterTests.\n\nChange-Id: Icbbd666f35ec4fc3251015c3f773b8585c5e8b78\n'}]",0,552725,2fc2732721e563e2ce13d0fbcc1e40bb55e28c51,9,3,2,8119,,,0,"Typo in the name of the YAML formatter test

The yaml test class was misnamed as JsonFormatterTests and not
properly as YamlFormatterTests.

Change-Id: Icbbd666f35ec4fc3251015c3f773b8585c5e8b78
",git fetch https://review.opendev.org/openstack/bandit refs/changes/25/552725/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/formatters/test_yaml.py'],1,7dbcad34dc52ef414fe4c0538b92796a3d39c672,typo,class YamlFormatterTests(testtools.TestCase):,class JsonFormatterTests(testtools.TestCase):,1,1
openstack%2Fkolla~master~I8a21f60a37ba038e46c29d0bcff9ffbd2457a257,openstack/kolla,master,I8a21f60a37ba038e46c29d0bcff9ffbd2457a257,Support push kolla tag image to hub.docker.com site,MERGED,2018-03-20 06:47:19.000000000,2018-03-22 15:42:31.000000000,2018-03-22 15:14:48.000000000,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-03-20 06:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/563153c9e41b1213c53ba542427ce5d7fdf04310', 'message': 'Support push kolla tag image to hub.docker.com site\n\nChange-Id: I8a21f60a37ba038e46c29d0bcff9ffbd2457a257\n'}, {'number': 2, 'created': '2018-03-21 08:53:41.000000000', 'files': ['.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/abc61c012ce7ae6b282fa9280516138a4d031302', 'message': 'Support push kolla tag image to hub.docker.com site\n\nChange-Id: I8a21f60a37ba038e46c29d0bcff9ffbd2457a257\n'}]",3,554429,abc61c012ce7ae6b282fa9280516138a4d031302,15,4,2,7488,,,0,"Support push kolla tag image to hub.docker.com site

Change-Id: I8a21f60a37ba038e46c29d0bcff9ffbd2457a257
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/554429/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml']",4,563153c9e41b1213c53ba542427ce5d7fdf04310,, release: jobs: - kolla-publish-centos-source - kolla-publish-centos-binary,,13,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I919fe8386c313246721e0e8193b3b11ae986a5e9,openstack/tripleo-upgrade,stable/queens,I919fe8386c313246721e0e8193b3b11ae986a5e9,Set osd_scenario and journals during ceph params conversion,MERGED,2018-03-21 22:08:34.000000000,2018-03-22 15:37:10.000000000,2018-03-22 15:37:10.000000000,"[{'_account_id': 8297}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 22:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/984c68d1a1fb719f21f809d5dc52163b0091d6ee', 'message': 'Set osd_scenario and journals during ceph params conversion\n\nThis change adjust the ceph paramters conversion from puppet to\nceph-ansible to convert journals for non-collocated scenario and\nalways set the osd_scenario parameter.\n\nChange-Id: I919fe8386c313246721e0e8193b3b11ae986a5e9\n'}, {'number': 2, 'created': '2018-03-22 07:46:00.000000000', 'files': ['tasks/common/convert_ceph_params.yaml', 'templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/caf87819c649bb692602d10b2c6e98610ca97942', 'message': 'Set osd_scenario and journals during ceph params conversion\n\nThis change adjust the ceph paramters conversion from puppet to\nceph-ansible to convert journals for non-collocated scenario and\nalways set the osd_scenario parameter.\n\nChange-Id: I919fe8386c313246721e0e8193b3b11ae986a5e9\n(cherry picked from commit 29ba7d1bcaf43e4c605de00371d9694fba69b331)\n'}]",0,555079,caf87819c649bb692602d10b2c6e98610ca97942,8,3,2,18851,,,0,"Set osd_scenario and journals during ceph params conversion

This change adjust the ceph paramters conversion from puppet to
ceph-ansible to convert journals for non-collocated scenario and
always set the osd_scenario parameter.

Change-Id: I919fe8386c313246721e0e8193b3b11ae986a5e9
(cherry picked from commit 29ba7d1bcaf43e4c605de00371d9694fba69b331)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/555079/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_ceph_params.yaml', 'templates/cephosd.yaml.j2']",2,984c68d1a1fb719f21f809d5dc52163b0091d6ee,ceph_collocated-stable/queens,"{% if ceph_osds_non_collocated|default(false) %} dedicated_devices: {% for key, value in ceph_osds.iteritems()|sort %} - '{{ value.journal }}' {% endfor %} osd_scenario: non-collocated {% else %} osd_scenario: collocated {% endif %}",,18,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d,openstack/puppet-tripleo,stable/queens,Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d,Replace perl with awk,MERGED,2018-03-20 15:48:45.000000000,2018-03-22 15:37:09.000000000,2018-03-22 15:37:09.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-20 15:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/674fded0800044c93e1bc0aaba5bd6542c5c0b3b', 'message': 'Replace perl with awk\n\nPerl is missing in kolla containers. Replace it with\nawk.\nbz: #1553077\n\nCloses-Bug: #1756343\n\nChange-Id: Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit cc82b62f44641233c515e5b2920c87dda6c4f21e)\n'}, {'number': 2, 'created': '2018-03-20 19:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/77fb440e3a320d844ae020375ea7301b7ce690b3', 'message': 'Replace perl with awk\n\nPerl is missing in kolla containers. Replace it with\nawk.\nbz: #1553077\n\nCloses-Bug: #1756343\n\nChange-Id: Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit cc82b62f44641233c515e5b2920c87dda6c4f21e)\n'}, {'number': 3, 'created': '2018-03-21 17:12:04.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4105d44f53af826f09f2df5ce8e4302128b0280c', 'message': 'Replace perl with awk\n\nPerl is missing in kolla containers. Replace it with\nawk.\nbz: #1553077\n\nCloses-Bug: #1756343\n\nChange-Id: Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit cc82b62f44641233c515e5b2920c87dda6c4f21e)\n'}]",0,554599,4105d44f53af826f09f2df5ce8e4302128b0280c,17,6,3,14985,,,0,"Replace perl with awk

Perl is missing in kolla containers. Replace it with
awk.
bz: #1553077

Closes-Bug: #1756343

Change-Id: Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit cc82b62f44641233c515e5b2920c87dda6c4f21e)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/554599/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/logrotate/containers_logrotate.conf.erb'],1,674fded0800044c93e1bc0aaba5bd6542c5c0b3b,bug/1756343, awk '/\S+\s+[0-9]+\s.*\/var\/log\/.*\(deleted\)/ {print $2}' |\," /bin/perl -ne '/\S+\s+(\d+).*\/var\/log\/.*\(deleted\)/ && print ""$1\n""' |\",1,1
openstack%2Fceilometer-powervm~stable%2Fqueens~I8822db17ee8f96fb09db2b15f56ec088432b7823,openstack/ceilometer-powervm,stable/queens,I8822db17ee8f96fb09db2b15f56ec088432b7823,tox needs to pull from stable/queens,MERGED,2018-03-21 21:57:42.000000000,2018-03-22 15:31:39.000000000,2018-03-22 15:31:39.000000000,"[{'_account_id': 14070}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:57:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/11c72396ab61f94505178213619c0f79cb06be21', 'message': ""tox needs to pull from stable/queens\n\nUpdates the tox.ini to pull from ceilometer's stable/queens branch\ninstead of master. This should have been done when we first\nbranched queens here, but was missed.\n\nChange-Id: I8822db17ee8f96fb09db2b15f56ec088432b7823\n""}]",0,555075,11c72396ab61f94505178213619c0f79cb06be21,8,3,1,10608,,,0,"tox needs to pull from stable/queens

Updates the tox.ini to pull from ceilometer's stable/queens branch
instead of master. This should have been done when we first
branched queens here, but was missed.

Change-Id: I8822db17ee8f96fb09db2b15f56ec088432b7823
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/75/555075/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,11c72396ab61f94505178213619c0f79cb06be21,pull_queens, -egit+https://github.com/openstack/ceilometer@stable/queens#egg=ceilometer, -egit+https://github.com/openstack/ceilometer#egg=ceilometer,1,1
openstack%2Fkayobe~master~I13eec08dcd5aabec5d75525fe82b5c970fd9d18c,openstack/kayobe,master,I13eec08dcd5aabec5d75525fe82b5c970fd9d18c,Fix variable name - disable_selinux_reboot_timeout,MERGED,2018-03-22 13:06:10.000000000,2018-03-22 15:27:02.000000000,2018-03-22 15:27:02.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:06:10.000000000', 'files': ['ansible/roles/disable-selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37fca8b724651ad8b53dbcb0849e5dac4f326a33', 'message': 'Fix variable name - disable_selinux_reboot_timeout\n\nChange-Id: I13eec08dcd5aabec5d75525fe82b5c970fd9d18c\nStory: 2001719\nTask: 8714\n'}]",0,555292,37fca8b724651ad8b53dbcb0849e5dac4f326a33,7,3,1,14826,,,0,"Fix variable name - disable_selinux_reboot_timeout

Change-Id: I13eec08dcd5aabec5d75525fe82b5c970fd9d18c
Story: 2001719
Task: 8714
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/92/555292/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/disable-selinux/tasks/main.yml'],1,37fca8b724651ad8b53dbcb0849e5dac4f326a33,seed-deploy-job," timeout: ""{{ disable_selinux_reboot_timeout }}"""," timeout: ""{{ disable_selinux_do_reboot_timeout }}""",1,1
openstack%2Fswift~feature%2Fdeep~Iaab1fb9b8383090e2af77f3d8ef952815114bd5f,openstack/swift,feature/deep,Iaab1fb9b8383090e2af77f3d8ef952815114bd5f,Handle Timeouts in _put_container,MERGED,2018-03-22 12:29:53.000000000,2018-03-22 15:26:01.000000000,2018-03-22 15:26:01.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 12:29:53.000000000', 'files': ['swift/common/direct_client.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6bfb7c7b118731db4842fcbb84f1d0910076a854', 'message': 'Handle Timeouts in _put_container\n\n...or wait forever :/\n\nChange-Id: Iaab1fb9b8383090e2af77f3d8ef952815114bd5f\n'}]",0,555280,6bfb7c7b118731db4842fcbb84f1d0910076a854,6,2,1,7847,,,0,"Handle Timeouts in _put_container

...or wait forever :/

Change-Id: Iaab1fb9b8383090e2af77f3d8ef952815114bd5f
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/555280/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/direct_client.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,6bfb7c7b118731db4842fcbb84f1d0910076a854,p-sharding-epoch-in-shard-range," except (Exception, Timeout) as err:", except Exception as err:,55,4
openstack%2Fglance~master~Ib23f608723c616812f0e2397aa3373207ba92dfe,openstack/glance,master,Ib23f608723c616812f0e2397aa3373207ba92dfe,Follow the new PTI for document build,ABANDONED,2018-03-22 14:39:28.000000000,2018-03-22 15:14:40.000000000,,[],"[{'number': 1, 'created': '2018-03-22 14:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/642a489ce86d91dc9b2dfc5b72ef926a3a144618', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nNote - there is still an issue with the use of autodoc_index_modules\nbeing used to generate the module documentation. That is being worked\non separately. This at least fixes the docs jobs and gets things inline\nwith the current expected way to build docs.\n\nChange-Id: Ib23f608723c616812f0e2397aa3373207ba92dfe\n'}, {'number': 2, 'created': '2018-03-22 14:51:25.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/ea5ecb6ad28ed72b11006ea3d894350e8ce164a9', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nNote - there is still an issue with the use of autodoc_index_modules\nbeing used to generate the module documentation. That is being worked\non separately. This at least fixes the docs jobs and gets things inline\nwith the current expected way to build docs.\n\nChange-Id: Ib23f608723c616812f0e2397aa3373207ba92dfe\n'}]",0,555322,ea5ecb6ad28ed72b11006ea3d894350e8ce164a9,3,0,2,11904,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Note - there is still an issue with the use of autodoc_index_modules
being used to generate the module documentation. That is being worked
on separately. This at least fixes the docs jobs and gets things inline
with the current expected way to build docs.

Change-Id: Ib23f608723c616812f0e2397aa3373207ba92dfe
",git fetch https://review.opendev.org/openstack/glance refs/changes/22/555322/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,642a489ce86d91dc9b2dfc5b72ef926a3a144618,updated-pti,deps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,15,12
openstack%2Fopenstack-chef-repo~master~I397bf5e61d13d217206e07351b0dbb91125c3212,openstack/openstack-chef-repo,master,I397bf5e61d13d217206e07351b0dbb91125c3212,"Remove dedicated network node for multinode, remove cloudwatch",MERGED,2018-03-13 06:20:38.000000000,2018-03-22 15:06:54.000000000,2018-03-22 13:30:42.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 06:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/3d92ab85eda7d0eaa301a1ede64a11fc3eb138bc', 'message': 'Remove dedicated network node for multinode, remove cloudwatch\n\n* cloudwatch has been deprecated since Havana, removed in Queens\n* chef pinning is relaxed to major versions\n* remove dedicated network node for multinode testing\n\nChange-Id: I397bf5e61d13d217206e07351b0dbb91125c3212\n'}, {'number': 2, 'created': '2018-03-14 00:18:46.000000000', 'files': ['roles/multinode-controller.json', '.kitchen.dokken.yml', '.kitchen.multi.yml', 'environments/multinode.json', '.kitchen.yml'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/81935808386dfa04585bcd608596f85dc4785c6a', 'message': 'Remove dedicated network node for multinode, remove cloudwatch\n\n* cloudwatch has been deprecated since Havana, removed in Queens\n* chef pinning is relaxed to major versions\n* remove dedicated network node for multinode testing\n\nChange-Id: I397bf5e61d13d217206e07351b0dbb91125c3212\n'}]",0,552301,81935808386dfa04585bcd608596f85dc4785c6a,10,3,2,14790,,,0,"Remove dedicated network node for multinode, remove cloudwatch

* cloudwatch has been deprecated since Havana, removed in Queens
* chef pinning is relaxed to major versions
* remove dedicated network node for multinode testing

Change-Id: I397bf5e61d13d217206e07351b0dbb91125c3212
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/01/552301/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/multinode-controller.json', '.kitchen.dokken.yml', '.kitchen.multi.yml', 'environments/multinode.json', '.kitchen.yml']",5,3d92ab85eda7d0eaa301a1ede64a11fc3eb138bc,queens_updates, cpus: 4 memory: 8192 require_chef_omnibus: 13 - recipe[openstack-identity::api] - recipe[openstack-compute::api], memory: 12000 require_chef_omnibus: '13.6.4' # workaround for chef/chef#6784 - recipe[openstack-identity::server-apache] - recipe[openstack-compute::api-os-compute] - recipe[openstack-orchestration::api-cloudwatch],67,92
openstack%2Fnetworking-ovn~master~Ibf0b95d7ce62abab1a937b22052db1e3057b30f5,openstack/networking-ovn,master,Ibf0b95d7ce62abab1a937b22052db1e3057b30f5,DNM: Run only tempest network tests,ABANDONED,2017-11-27 12:01:36.000000000,2018-03-22 15:03:46.000000000,,"[{'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-11-27 12:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/af3a7ab594e5485f9f397b9f39a4a2189033e38e', 'message': ""DNM: Run only tempest network tests\n\nWe've observed several tests failing when trying to ping/ssh a FIP.\nThis patch aims to exercise those tests and find the root cause.\n\nChange-Id: Ibf0b95d7ce62abab1a937b22052db1e3057b30f5\n""}, {'number': 2, 'created': '2017-11-27 13:16:18.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/321f29c6cabbbb32e865a851efe31c0aa8726637', 'message': ""DNM: Run only tempest network tests\n\nWe've observed several tests failing when trying to ping/ssh a FIP.\nThis patch aims to exercise those tests and find the root cause.\n\nChange-Id: Ibf0b95d7ce62abab1a937b22052db1e3057b30f5\n""}]",2,523097,321f29c6cabbbb32e865a851efe31c0aa8726637,6,3,2,23804,,,0,"DNM: Run only tempest network tests

We've observed several tests failing when trying to ping/ssh a FIP.
This patch aims to exercise those tests and find the root cause.

Change-Id: Ibf0b95d7ce62abab1a937b22052db1e3057b30f5
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/97/523097/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,af3a7ab594e5485f9f397b9f39a4a2189033e38e,tempest_failures," r=""$r(tempest\.scenario\.(test_network_basic_ops|test_network_advanced_ops)).*$"""," r=""$r(tempest\.(api|scenario|thirdparty)).*$""",1,1
openstack%2Fnetworking-ovn~master~Id8e7a5d0020be1ca1e175bc2b771273a695c7b6c,openstack/networking-ovn,master,Id8e7a5d0020be1ca1e175bc2b771273a695c7b6c,Disable tripleo jobs voting,ABANDONED,2017-12-14 17:26:50.000000000,2018-03-22 15:03:08.000000000,,"[{'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8788}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-14 17:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e642f988a0c07de987640e8bbb07c2d1b496ba37', 'message': 'Disable tripleo jobs voting\n\nFor the patches chained after this one we need to include new\nbinaries, and that breaks the tripleo rpm building system\nwhich needs changes to the rpm spec files to include\nthose new binaries.\n\nWe can enable them back once the ovn migration agent patch\nis merged.\n\nChange-Id: Id8e7a5d0020be1ca1e175bc2b771273a695c7b6c\n'}, {'number': 2, 'created': '2017-12-14 17:31:58.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/390591d6ef6722ea44490f6375d719d8a4c68971', 'message': 'Disable tripleo jobs voting\n\nFor the patches chained after this one we need to include new\nbinaries, and that breaks the tripleo rpm building system\nwhich needs changes to the rpm spec files to include\nthose new binaries.\n\nWe can enable them back once the ovn migration agent patch\nis merged.\n\nChange-Id: Id8e7a5d0020be1ca1e175bc2b771273a695c7b6c\n'}]",5,528016,390591d6ef6722ea44490f6375d719d8a4c68971,10,4,2,8788,,,0,"Disable tripleo jobs voting

For the patches chained after this one we need to include new
binaries, and that breaks the tripleo rpm building system
which needs changes to the rpm spec files to include
those new binaries.

We can enable them back once the ovn migration agent patch
is merged.

Change-Id: Id8e7a5d0020be1ca1e175bc2b771273a695c7b6c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/16/528016/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e642f988a0c07de987640e8bbb07c2d1b496ba37,ovn_migration, voting: false voting: false voting: false voting: false,,4,0
openstack%2Ftripleo-upgrade~master~I919fe8386c313246721e0e8193b3b11ae986a5e9,openstack/tripleo-upgrade,master,I919fe8386c313246721e0e8193b3b11ae986a5e9,Set osd_scenario and journals during ceph params conversion,MERGED,2018-03-20 21:45:00.000000000,2018-03-22 14:50:21.000000000,2018-03-22 14:50:20.000000000,"[{'_account_id': 6796}, {'_account_id': 8297}, {'_account_id': 9600}, {'_account_id': 18002}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-03-20 21:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a74f99904274b4f8e0dbbdfbba6fe092b32dbdf8', 'message': 'WIP: set osd_scenario during ceph params conversion\n\nChange-Id: I919fe8386c313246721e0e8193b3b11ae986a5e9\n'}, {'number': 2, 'created': '2018-03-20 22:21:30.000000000', 'files': ['tasks/common/convert_ceph_params.yaml', 'templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/29ba7d1bcaf43e4c605de00371d9694fba69b331', 'message': 'Set osd_scenario and journals during ceph params conversion\n\nThis change adjust the ceph paramters conversion from puppet to\nceph-ansible to convert journals for non-collocated scenario and\nalways set the osd_scenario parameter.\n\nChange-Id: I919fe8386c313246721e0e8193b3b11ae986a5e9\n'}]",1,554711,29ba7d1bcaf43e4c605de00371d9694fba69b331,12,8,2,18851,,,0,"Set osd_scenario and journals during ceph params conversion

This change adjust the ceph paramters conversion from puppet to
ceph-ansible to convert journals for non-collocated scenario and
always set the osd_scenario parameter.

Change-Id: I919fe8386c313246721e0e8193b3b11ae986a5e9
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/11/554711/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/cephosd.yaml.j2'],1,a74f99904274b4f8e0dbbdfbba6fe092b32dbdf8,ceph_collocated, osd_scenario: collocated,,1,0
openstack%2Frpm-packaging~stable%2Fpike~I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991,openstack/rpm-packaging,stable/pike,I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991,monasca-api: include Cassandra schema,MERGED,2018-03-21 11:05:58.000000000,2018-03-22 14:37:48.000000000,2018-03-22 14:37:48.000000000,"[{'_account_id': 6593}, {'_account_id': 12542}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 11:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/027c4f5fd3d60a64320272d1ee3e1db449339874', 'message': 'monasca-api: include Cassandra schema\n\nChange-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991\n(cherry picked from commit 631f5ab996755a0d858e9047fff78ffeea469f20)\n(cherry picked from commit 5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7)\n'}, {'number': 2, 'created': '2018-03-21 13:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f21d6299a12a56fd9f50821f0810caa7e6be0dc6', 'message': 'monasca-api: include Cassandra schema\n\nChange-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991\n(cherry picked from commit 5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7)\n'}, {'number': 3, 'created': '2018-03-22 14:04:21.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d7a4120808e3785afb35e1f1034701416f5108b1', 'message': 'monasca-api: include Cassandra schema\n\nChange-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991\n(cherry picked from commit 5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7)\n'}]",0,554879,d7a4120808e3785afb35e1f1034701416f5108b1,20,6,3,12542,,,0,"monasca-api: include Cassandra schema

Change-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991
(cherry picked from commit 5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/554879/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,027c4f5fd3d60a64320272d1ee3e1db449339874,include-cassandra-schema-pike,install -D -m 640 devstack/files/cassandra/monasca_schema.cql %{buildroot}%{_usr}/share/%{component}/schema/,,1,0
openstack%2Frpm-packaging~master~I3fb3169b0341a2ad45e4e5788116edb9dbb0ed0e,openstack/rpm-packaging,master,I3fb3169b0341a2ad45e4e5788116edb9dbb0ed0e,networking-vsphere: Drop 0001-fix-dvs-agent-config.patch,MERGED,2018-03-22 13:10:59.000000000,2018-03-22 14:32:54.000000000,2018-03-22 14:32:54.000000000,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 13:10:59.000000000', 'files': ['openstack/networking-vsphere/networking-vsphere.spec.j2', 'openstack/networking-vsphere/0001-fix-dvs-agent-config.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fa69c76f67b8b76e612b25207c7e9b76f098a153', 'message': 'networking-vsphere: Drop 0001-fix-dvs-agent-config.patch\n\nThe patch can no longer be merged and was not yet accepted upstream.\n\nChange-Id: I3fb3169b0341a2ad45e4e5788116edb9dbb0ed0e\n'}]",0,555300,fa69c76f67b8b76e612b25207c7e9b76f098a153,9,5,1,7102,,,0,"networking-vsphere: Drop 0001-fix-dvs-agent-config.patch

The patch can no longer be merged and was not yet accepted upstream.

Change-Id: I3fb3169b0341a2ad45e4e5788116edb9dbb0ed0e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/555300/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/networking-vsphere/networking-vsphere.spec.j2', 'openstack/networking-vsphere/0001-fix-dvs-agent-config.patch']",2,fa69c76f67b8b76e612b25207c7e9b76f098a153,,,"From dc05248e2f2b0bef998d6c9643da50158f47ef0f Mon Sep 17 00:00:00 2001 From: Stefan Nica <snica@suse.com> Date: Mon, 29 May 2017 12:23:36 +0200 Subject: [PATCH] Fix neutron-dvs-agent startup errors The DVS agent complains about missing L2_AGENT_TOPIC constant and report_interval configuration option during startup. This changeset corrects these problems. Closes-Bug: 1694239 Change-Id: I055bb7057e7ee67ea7dd1d30f4e1fc136b196e61 --- diff --git a/networking_vsphere/agent/dvs_neutron_agent.py b/networking_vsphere/agent/dvs_neutron_agent.py index fda76f9..a8c365f 100644 --- a/networking_vsphere/agent/dvs_neutron_agent.py +++ b/networking_vsphere/agent/dvs_neutron_agent.py @@ -24,6 +24,7 @@ import oslo_messaging from oslo_service import loopingcall +from neutron_lib import constants as n_const from neutron_lib import context from neutron_lib.utils import helpers @@ -31,7 +32,6 @@ from neutron.agent import rpc as agent_rpc from neutron.agent import securitygroups_rpc as sg_rpc from neutron.common import config as common_config -from neutron.common import constants as n_const from neutron.common import topics from neutron.common import utils diff --git a/networking_vsphere/common/vmware_conf.py b/networking_vsphere/common/vmware_conf.py index e8aaa69..ceb208d 100644 --- a/networking_vsphere/common/vmware_conf.py +++ b/networking_vsphere/common/vmware_conf.py @@ -28,6 +28,9 @@ cfg.IntOpt('polling_interval', default=2, help=_(""The number of seconds the agent will wait between "" ""polling for local device changes."")), + cfg.IntOpt('report_interval', + default=30, + help='Seconds between agents reporting state to server.'), ] vmware_opts = [ ",0,51
openstack%2Frequestsexceptions~master~I27b09081f7e8dad7209d91f431cf09fc30749e1d,openstack/requestsexceptions,master,I27b09081f7e8dad7209d91f431cf09fc30749e1d,add lower-constraints job,ABANDONED,2018-03-22 13:07:22.000000000,2018-03-22 14:21:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 13:07:22.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requestsexceptions/commit/76d156803b82d0fc6e5bbdcec06432a3ff4a7e03', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I27b09081f7e8dad7209d91f431cf09fc30749e1d\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555298,76d156803b82d0fc6e5bbdcec06432a3ff4a7e03,3,1,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: I27b09081f7e8dad7209d91f431cf09fc30749e1d
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requestsexceptions refs/changes/98/555298/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,76d156803b82d0fc6e5bbdcec06432a3ff4a7e03,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt ,,21,0
openstack%2Fvitrage-tempest-plugin~master~I9ea871b5cc8e77b094b7f050d4e8adabe97df533,openstack/vitrage-tempest-plugin,master,I9ea871b5cc8e77b094b7f050d4e8adabe97df533,sort the test list before printing,MERGED,2018-03-21 14:43:14.000000000,2018-03-22 14:19:45.000000000,2018-03-22 14:19:45.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:43:14.000000000', 'files': ['devstack/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/cc7547df67f6b1c6137d4e18ae5777661be35194', 'message': 'sort the test list before printing\n\nChange-Id: I9ea871b5cc8e77b094b7f050d4e8adabe97df533\n'}]",0,554938,cc7547df67f6b1c6137d4e18ae5777661be35194,7,3,1,19134,,,0,"sort the test list before printing

Change-Id: I9ea871b5cc8e77b094b7f050d4e8adabe97df533
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/38/554938/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/post_test_hook.sh'],1,cc7547df67f6b1c6137d4e18ae5777661be35194,eyalb/devstack,"sudo -E stestr list vitrage_tempest_plugin | grep -E ""$TESTS"" | sort | tee /tmp/vitrage_tempest_tests.list","sudo -E stestr list vitrage_tempest_plugin | grep -E ""$TESTS"" | tee /tmp/vitrage_tempest_tests.list",1,1
openstack%2Fzun~master~I1d17958ed80308e5c911c08c713461e1935cafd3,openstack/zun,master,I1d17958ed80308e5c911c08c713461e1935cafd3,Add a step to configure state_path,MERGED,2018-03-17 21:58:11.000000000,2018-03-22 14:13:09.000000000,2018-03-22 09:10:45.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27245}]","[{'number': 1, 'created': '2018-03-17 21:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9224f654ae7fd8e659066ff489f3b7fc9b4400d3', 'message': 'Add a step to configure state_path\n\nChange-Id: I1d17958ed80308e5c911c08c713461e1935cafd3\nRelated-Bug: #1756514\n'}, {'number': 2, 'created': '2018-03-21 01:10:34.000000000', 'files': ['doc/source/install/compute-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/086c04b9202df8587370cab89331b903212079eb', 'message': 'Add a step to configure state_path\n\nChange-Id: I1d17958ed80308e5c911c08c713461e1935cafd3\nRelated-Bug: #1756514\n'}]",0,554012,086c04b9202df8587370cab89331b903212079eb,11,4,2,11536,,,0,"Add a step to configure state_path

Change-Id: I1d17958ed80308e5c911c08c713461e1935cafd3
Related-Bug: #1756514
",git fetch https://review.opendev.org/openstack/zun refs/changes/12/554012/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install-ubuntu.rst'],1,9224f654ae7fd8e659066ff489f3b7fc9b4400d3,bug/1756514," * In the ``[DEFAULT]`` section, configure the path that is used by Zun to store the states: .. code-block:: ini [DEFAULT] ... state_path = /var/lib/zun ",,9,0
openstack%2Fmistral~master~I2923c1af1ec2dfcd6a671cf52c9db08c58839c20,openstack/mistral,master,I2923c1af1ec2dfcd6a671cf52c9db08c58839c20,Fix initializers of standard actions,MERGED,2018-03-15 09:38:26.000000000,2018-03-22 13:48:20.000000000,2018-03-22 13:48:20.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 11391}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27349}]","[{'number': 1, 'created': '2018-03-15 09:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3801919fb434972eaef6dbf9995a062eb001647b', 'message': 'Fix initializers of standard actions\n\n* Base action class now has an initializer so all subclusses\n  must call it in their own initializers.\n\nChange-Id: I2923c1af1ec2dfcd6a671cf52c9db08c58839c20\n'}, {'number': 2, 'created': '2018-03-16 07:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2362dfd4708a150deaabf503f1b64cdb25016482', 'message': 'Fix initializers of standard actions\n\n* Base action class now has an initializer so all subclusses\n  must call it in their own initializers.\n\nChange-Id: I2923c1af1ec2dfcd6a671cf52c9db08c58839c20\n'}, {'number': 3, 'created': '2018-03-16 07:54:27.000000000', 'files': ['mistral/actions/std_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/23abbc1ae58d5dfaac070c6aa7fb1f259f4c4811', 'message': 'Fix initializers of standard actions\n\n* Base action class now has an initializer so all subclusses\n  must call it in their own initializers.\n\nChange-Id: I2923c1af1ec2dfcd6a671cf52c9db08c58839c20\n'}]",2,553298,23abbc1ae58d5dfaac070c6aa7fb1f259f4c4811,19,6,3,8731,,,0,"Fix initializers of standard actions

* Base action class now has an initializer so all subclusses
  must call it in their own initializers.

Change-Id: I2923c1af1ec2dfcd6a671cf52c9db08c58839c20
",git fetch https://review.opendev.org/openstack/mistral refs/changes/98/553298/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/std_actions.py'],1,3801919fb434972eaef6dbf9995a062eb001647b,fix_actions, super(EchoAction).__init__() super(FailAction).__init__() super(HTTPAction).__init__() super(SendEmailAction).__init__() super(SSHAction).__init__() super(JavaScriptAction).__init__() super(SleepAction).__init__() super(TestDictAction).__init__() , def __init__(self): pass ,13,3
openstack%2Fnova~master~I0392a0676195a6ff778a3789870e4443e14aea91,openstack/nova,master,I0392a0676195a6ff778a3789870e4443e14aea91,WIP - populate alloc cands for trees,ABANDONED,2018-01-17 23:09:27.000000000,2018-03-22 13:47:44.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-17 23:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f05de6b7e8a4d95b68b55d57fb825796e876ba88', 'message': 'WIP - populate alloc cands for trees\n\nPopulates allocation candidates from matching provider trees.\n\nDO NOT MERGE\n\nChange-Id: I0392a0676195a6ff778a3789870e4443e14aea91\nblueprint: nested-resource-providers\n'}, {'number': 2, 'created': '2018-01-22 17:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50eb5237d2411502fbf868d99deade9be86c2c2f', 'message': 'WIP - populate alloc cands for trees\n\nPopulates allocation candidates from matching provider trees.\n\nDO NOT MERGE\n\nChange-Id: I0392a0676195a6ff778a3789870e4443e14aea91\nblueprint: nested-resource-providers\n'}, {'number': 3, 'created': '2018-01-29 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bd10f639535e74acde285479d2617c8c3e58755', 'message': 'WIP - populate alloc cands for trees\n\nPopulates allocation candidates from matching provider trees.\n\nDO NOT MERGE\n\nChange-Id: I0392a0676195a6ff778a3789870e4443e14aea91\nblueprint: nested-resource-providers\n'}, {'number': 4, 'created': '2018-03-19 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ed6592a7e476cbc5ba65a69ebac79977fa311f5', 'message': 'WIP - populate alloc cands for trees\n\nPopulates allocation candidates from matching provider trees.\n\nDO NOT MERGE\n\nChange-Id: I0392a0676195a6ff778a3789870e4443e14aea91\nblueprint: nested-resource-providers\n'}, {'number': 5, 'created': '2018-03-19 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/848bb2b5a206663b255f69a69857181c4c094ab1', 'message': 'WIP - populate alloc cands for trees\n\nPopulates allocation candidates from matching provider trees.\n\nDO NOT MERGE\n\nChange-Id: I0392a0676195a6ff778a3789870e4443e14aea91\nblueprint: nested-resource-providers\n'}, {'number': 6, 'created': '2018-03-19 15:47:05.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b5698a7779be9fc68a5540fb96864705676ff0e', 'message': 'WIP - populate alloc cands for trees\n\nPopulates allocation candidates from matching provider trees.\n\nDO NOT MERGE\n\nChange-Id: I0392a0676195a6ff778a3789870e4443e14aea91\nblueprint: nested-resource-providers\n'}]",1,534968,7b5698a7779be9fc68a5540fb96864705676ff0e,48,14,6,7,,,0,"WIP - populate alloc cands for trees

Populates allocation candidates from matching provider trees.

DO NOT MERGE

Change-Id: I0392a0676195a6ff778a3789870e4443e14aea91
blueprint: nested-resource-providers
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/534968/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,f05de6b7e8a4d95b68b55d57fb825796e876ba88,bp/nested-resource-providers,"def _get_provider_ids_having_any_trait_in_trees(ctx, traits, trees): """"""Returns a list of resource provider internal IDs that have ANY of the supplied traits. :param ctx: Session context to use :param traits: A map, keyed by trait string name, of trait internal IDs, at least one of which each provider must have associated with it. :param trees: Provider trees to filter results by :raise ValueError: If traits or trees is empty or None. """""" if not traits or not trees: raise ValueError(_('traits must not be empty')) rpt = sa.alias(_RP_TBL, name=""rp"") rptt = sa.alias(_RP_TRAIT_TBL, name=""rpt"") rp_to_rptt_join = sa.join(rp, rptt, rp.c.id == rptt.c.resource_provider_id) sel = sa.select([rptt.c.resource_provider_id]).select_from(rp_to_rptt_join) sel = sel.where(sa.and_( rp.c.root_provider_id.in_(trees), rptt.c.trait_id.in_(traits.values()))) sel = sel.group_by(rptt.c.resource_provider_id) return [r[0] for r in ctx.session.execute(sel)] @db_api.api_context_manager.readerdef _alloc_candidates_no_shared_from_trees(ctx, requested_resources, required_traits, trees): """"""Returns a tuple of (allocation requests, provider summaries) for a supplied set of requested resource amounts, required traits, and provider trees. The supplied provider trees have capacity to COLLECTIVELY satisfy the resources in the requested resources that were requested by the user. This function will examine the required traits and, when constructing the allocation requests, ensure that resources are only able to be consumed from child providers that contribute to satisfying the required traits constraints. :param ctx: nova.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param required_traits: A map, keyed by trait string name, of required trait internal IDs that each provider must have associated with it :param trees: List of root provider IDs for provider trees that matched the requested resources """""" trait_rps = None if required_traits: trait_rps = _get_provider_ids_having_any_trait_in_trees( ctx, required_traits, trees) if not trait_rps: return [], [] # TODO)jaypipes): Get the resource provider IDs of all resource providers # in any of the trees we are processing rp_ids = _get_provider_ids_in_trees(ctx, trees) # Grab usage summaries for each provider in the filtered provider trees and # resource classes requested requested_rc_ids = list(requested_resources) usages = _get_usages_from_trees(ctx, trees, requested_rc_ids) # Get a dict, keyed by resource provider internal ID, of trait string names # that provider has associated with it prov_traits = _provider_traits(ctx, rp_ids) # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(ctx, usages, prov_traits) # Next, build up a list of allocation requests. These allocation requests # are AllocationRequest objects, containing resource provider UUIDs, # resource class names and amounts to consume from that resource provider alloc_requests = [] for rp_id in rp_ids: rp_summary = summaries[rp_id] rp_uuid = rp_summary.resource_provider.uuid req_obj = _allocation_request_for_provider(ctx, requested_resources, rp_uuid) alloc_requests.append(req_obj) return alloc_requests, list(summaries.values()) has_provider_trees = _has_provider_trees(context) if not have_sharing and not has_provider_trees: if not has_provider_trees: # No nested providers, follow the most efficient happy path rp_ids = _get_provider_ids_matching_all(context, resources, trait_map) alloc_request_objs, summary_objs = _alloc_candidates_no_shared( context, resources, rp_ids) else: # We've got nested providers. So, we grab all the root provider # IDs of all trees that can meet the request for resources. We # then construct the allocation requests and provider summaries # for the resource providers in these trees. Any required # traits constrain the creation of allocation requests within # the _alloc_candidates_no_shared_from_roots() function trees = _get_trees_matching_all_resources(context, resources) if not trees: return [], [] acs = _alloc_candidates_no_shared_from_trees(context, resources, trait_map, trees) alloc_request_objs, summary_objs = acs"," if not have_sharing: # NOTE(jaypipes): When we start handling nested providers, we may # add new code paths or modify this code path to return root # provider IDs of provider trees instead of the resource provider # IDs. rp_ids = _get_provider_ids_matching_all(context, resources, trait_map) alloc_request_objs, summary_objs = _alloc_candidates_no_shared( context, resources, rp_ids)",107,9
openstack%2Fnova~master~I108f4ab8328fb3c35f30286a3511ac99266e0eeb,openstack/nova,master,I108f4ab8328fb3c35f30286a3511ac99266e0eeb,_get_trees_matching_all_resources() sum children,ABANDONED,2018-01-17 18:08:07.000000000,2018-03-22 13:47:28.000000000,,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-17 18:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52892a911f0834e8415d9c204f8ce7d211b58466', 'message': 'fix _get_trees_matching_all() when sum children\n\nThe SQL generated for _get_trees_matching_all() was failing to aggregate\ninventory amounts for the tree itself and comparing individual\ninventories for {resource provider, resource class} combinations to the\nindividual allocations for those {resource_provider, resource_class}\ncombinations. This was incorrect. Instead, we need to GROUP BY the\nroot_provider_id both when grabbing inventories information as well as\nallocation amounts and then join the derived queries together by\nroot_provider_id.\n\nNote that when grouping inventory information for resource classes\nwithin a provider tree, I needed to do a MIN(min_unit), MIN(max_unit),\nMIN(step_size) and MIN(allocation_ratio) on the various providers within\nthat tree. This means that if, for some odd reason, different providers\nof the same resource class within a single provider tree end up with\ndifferent step_size or min_unit values, we make the filter calculation\nin the WHERE clause using the minimum value of those inventory fields.\nThis is the only safe way to perform this constraint.\n\nChange-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb\nblueprint: nested-resource-providers\n'}, {'number': 2, 'created': '2018-01-17 23:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9801cf86ebf945173e6e5d2a5992e4d32b2cdb31', 'message': '_get_trees_matching_all_resources() sum children\n\nThe SQL generated for _get_trees_matching_all_resources() was failing to\naggregate inventory amounts for the tree itself and comparing individual\ninventories for {resource provider, resource class} combinations to the\nindividual allocations for those {resource_provider, resource_class}\ncombinations. This was incorrect. Instead, we need to GROUP BY the\nroot_provider_id both when grabbing inventories information as well as\nallocation amounts and then join the derived queries together by\nroot_provider_id.\n\nNote that when grouping inventory information for resource classes\nwithin a provider tree, I needed to do a MIN(min_unit), MIN(max_unit),\nMIN(step_size) and MIN(allocation_ratio) on the various providers within\nthat tree. This means that if, for some odd reason, different providers\nof the same resource class within a single provider tree end up with\ndifferent step_size or min_unit values, we make the filter calculation\nin the WHERE clause using the minimum value of those inventory fields.\nThis is the only safe way to perform this constraint.\n\nChange-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb\nblueprint: nested-resource-providers\n'}, {'number': 3, 'created': '2018-01-22 17:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e229a2712598e0c51a26c2e2b831a303055b98d7', 'message': '_get_trees_matching_all_resources() sum children\n\nThe SQL generated for _get_trees_matching_all_resources() was failing to\naggregate inventory amounts for the tree itself and comparing individual\ninventories for {resource provider, resource class} combinations to the\nindividual allocations for those {resource_provider, resource_class}\ncombinations. This was incorrect. Instead, we need to GROUP BY the\nroot_provider_id both when grabbing inventories information as well as\nallocation amounts and then join the derived queries together by\nroot_provider_id.\n\nNote that when grouping inventory information for resource classes\nwithin a provider tree, I needed to do a MIN(min_unit), MIN(max_unit),\nMIN(step_size) and MIN(allocation_ratio) on the various providers within\nthat tree. This means that if, for some odd reason, different providers\nof the same resource class within a single provider tree end up with\ndifferent step_size or min_unit values, we make the filter calculation\nin the WHERE clause using the minimum value of those inventory fields.\nThis is the only safe way to perform this constraint.\n\nChange-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb\nblueprint: nested-resource-providers\n'}, {'number': 4, 'created': '2018-01-29 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a99769560990c93180e51b0ffdb032ff18db9d0', 'message': ""_get_trees_matching_all_resources() sum children\n\nThe SQL generated for _get_trees_matching_all_resources() was failing to\naggregate inventory amounts for the tree itself and comparing individual\ninventories for {resource provider, resource class} combinations to the\nindividual allocations for those {resource_provider, resource_class}\ncombinations. This was incorrect. Instead, we need to GROUP BY the\nroot_provider_id both when grabbing inventories information as well as\nallocation amounts and then join the derived queries together by\nroot_provider_id.\n\nNote that when grouping inventory information for resource classes\nwithin a provider tree, I needed to do a MAX(min_unit), MIN(max_unit),\nMIN(step_size) and MIN(allocation_ratio) on the various providers within\nthat tree. This means that if, for some odd reason, different providers\nof the same resource class within a single provider tree end up with\ndifferent step_size or min_unit values, we make the filter calculation\nin the WHERE clause using the minimum value of those inventory fields.\n\nThis is the only safe way to perform this constraint, however it does\nintroduce the potential for compute nodes to NOT be returned when in\nfact the compute node could end up satsifying the request.\n\nFor example, consider the following scenario:\n\n                  compute node (cn)\n                 /                 \\\n                /                   \\\n           numa cell 0         numa cell 1\n           (mem: 2048,         (mem: 512,\n            max_unit: 2048)     max_unit: 512)\n\nIf we request 1024 of memory, the compute node would not be returned by\nthe _get_trees_matching_all_resources() function since 1024 > (min(2048,\n512)).\n\nSimilarly, consider the following scenario which contains an analogous\nsituation, but with the min_unit values:\n\n                  compute node (cn)\n                 /                 \\\n                /                   \\\n           numa cell 0         numa cell 1\n           (mem: 2048,         (mem: 1024,\n            min_unit: 2048)     min_unit: 512)\n\nIf we request 512 memory, we *should* be able to consume the 512 from\nthe numa cell 1 provider, however because 512 < max(2048, 512), the\ncompute node won't be returned.\n\nThis is the price of safety, however. We will only be able to get around\nsuch scenarios by the introduction of the granular resource requests,\nwhere we can ask for a two providers within a potential provider tree\nthat have specific amounts of memory or other resource classes.\n\nChange-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb\nblueprint: nested-resource-providers\n""}, {'number': 5, 'created': '2018-03-19 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fe58d49621d400b2e76f78ac37ae2e5ab4e339e', 'message': ""_get_trees_matching_all_resources() sum children\n\nThe SQL generated for _get_trees_matching_all_resources() was failing to\naggregate inventory amounts for the tree itself and comparing individual\ninventories for {resource provider, resource class} combinations to the\nindividual allocations for those {resource_provider, resource_class}\ncombinations. This was incorrect. Instead, we need to GROUP BY the\nroot_provider_id both when grabbing inventories information as well as\nallocation amounts and then join the derived queries together by\nroot_provider_id.\n\nNote that when grouping inventory information for resource classes\nwithin a provider tree, I needed to do a MAX(min_unit), MIN(max_unit),\nMIN(step_size) and MIN(allocation_ratio) on the various providers within\nthat tree. This means that if, for some odd reason, different providers\nof the same resource class within a single provider tree end up with\ndifferent step_size or min_unit values, we make the filter calculation\nin the WHERE clause using the minimum value of those inventory fields.\n\nThis is the only safe way to perform this constraint, however it does\nintroduce the potential for compute nodes to NOT be returned when in\nfact the compute node could end up satsifying the request.\n\nFor example, consider the following scenario:\n\n                  compute node (cn)\n                 /                 \\\n                /                   \\\n           numa cell 0         numa cell 1\n           (mem: 2048,         (mem: 512,\n            max_unit: 2048)     max_unit: 512)\n\nIf we request 1024 of memory, the compute node would not be returned by\nthe _get_trees_matching_all_resources() function since 1024 > (min(2048,\n512)).\n\nSimilarly, consider the following scenario which contains an analogous\nsituation, but with the min_unit values:\n\n                  compute node (cn)\n                 /                 \\\n                /                   \\\n           numa cell 0         numa cell 1\n           (mem: 2048,         (mem: 1024,\n            min_unit: 2048)     min_unit: 512)\n\nIf we request 512 memory, we *should* be able to consume the 512 from\nthe numa cell 1 provider, however because 512 < max(2048, 512), the\ncompute node won't be returned.\n\nThis is the price of safety, however. We will only be able to get around\nsuch scenarios by the introduction of the granular resource requests,\nwhere we can ask for a two providers within a potential provider tree\nthat have specific amounts of memory or other resource classes.\n\nChange-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb\nblueprint: nested-resource-providers\n""}, {'number': 6, 'created': '2018-03-19 14:20:53.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca66dbf6247de12af6d2519effc2fc3483768bf5', 'message': ""_get_trees_matching_all_resources() sum children\n\nThe SQL generated for _get_trees_matching_all_resources() was failing to\naggregate inventory amounts for the tree itself and comparing individual\ninventories for {resource provider, resource class} combinations to the\nindividual allocations for those {resource_provider, resource_class}\ncombinations. This was incorrect. Instead, we need to GROUP BY the\nroot_provider_id both when grabbing inventories information as well as\nallocation amounts and then join the derived queries together by\nroot_provider_id.\n\nNote that when grouping inventory information for resource classes\nwithin a provider tree, I needed to do a MAX(min_unit), MIN(max_unit),\nMIN(step_size) and MIN(allocation_ratio) on the various providers within\nthat tree. This means that if, for some odd reason, different providers\nof the same resource class within a single provider tree end up with\ndifferent step_size or min_unit values, we make the filter calculation\nin the WHERE clause using the minimum value of those inventory fields.\n\nThis is the only safe way to perform this constraint, however it does\nintroduce the potential for compute nodes to NOT be returned when in\nfact the compute node could end up satsifying the request.\n\nFor example, consider the following scenario:\n\n                  compute node (cn)\n                 /                 \\\n                /                   \\\n           numa cell 0         numa cell 1\n           (mem: 2048,         (mem: 512,\n            max_unit: 2048)     max_unit: 512)\n\nIf we request 1024 of memory, the compute node would not be returned by\nthe _get_trees_matching_all_resources() function since 1024 > (min(2048,\n512)).\n\nSimilarly, consider the following scenario which contains an analogous\nsituation, but with the min_unit values:\n\n                  compute node (cn)\n                 /                 \\\n                /                   \\\n           numa cell 0         numa cell 1\n           (mem: 2048,         (mem: 1024,\n            min_unit: 2048)     min_unit: 512)\n\nIf we request 512 memory, we *should* be able to consume the 512 from\nthe numa cell 1 provider, however because 512 < max(2048, 512), the\ncompute node won't be returned.\n\nThis is the price of safety, however. We will only be able to get around\nsuch scenarios by the introduction of the granular resource requests,\nwhere we can ask for a two providers within a potential provider tree\nthat have specific amounts of memory or other resource classes.\n\nChange-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb\nblueprint: nested-resource-providers\n""}]",22,534866,ca66dbf6247de12af6d2519effc2fc3483768bf5,76,19,6,7,,,0,"_get_trees_matching_all_resources() sum children

The SQL generated for _get_trees_matching_all_resources() was failing to
aggregate inventory amounts for the tree itself and comparing individual
inventories for {resource provider, resource class} combinations to the
individual allocations for those {resource_provider, resource_class}
combinations. This was incorrect. Instead, we need to GROUP BY the
root_provider_id both when grabbing inventories information as well as
allocation amounts and then join the derived queries together by
root_provider_id.

Note that when grouping inventory information for resource classes
within a provider tree, I needed to do a MAX(min_unit), MIN(max_unit),
MIN(step_size) and MIN(allocation_ratio) on the various providers within
that tree. This means that if, for some odd reason, different providers
of the same resource class within a single provider tree end up with
different step_size or min_unit values, we make the filter calculation
in the WHERE clause using the minimum value of those inventory fields.

This is the only safe way to perform this constraint, however it does
introduce the potential for compute nodes to NOT be returned when in
fact the compute node could end up satsifying the request.

For example, consider the following scenario:

                  compute node (cn)
                 /                 \
                /                   \
           numa cell 0         numa cell 1
           (mem: 2048,         (mem: 512,
            max_unit: 2048)     max_unit: 512)

If we request 1024 of memory, the compute node would not be returned by
the _get_trees_matching_all_resources() function since 1024 > (min(2048,
512)).

Similarly, consider the following scenario which contains an analogous
situation, but with the min_unit values:

                  compute node (cn)
                 /                 \
                /                   \
           numa cell 0         numa cell 1
           (mem: 2048,         (mem: 1024,
            min_unit: 2048)     min_unit: 512)

If we request 512 memory, we *should* be able to consume the 512 from
the numa cell 1 provider, however because 512 < max(2048, 512), the
compute node won't be returned.

This is the price of safety, however. We will only be able to get around
such scenarios by the introduction of the granular resource requests,
where we can ask for a two providers within a potential provider tree
that have specific amounts of memory or other resource classes.

Change-Id: I108f4ab8328fb3c35f30286a3511ac99266e0eeb
blueprint: nested-resource-providers
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/534866/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_allocation_candidates.py']",2,52892a911f0834e8415d9c204f8ce7d211b58466,bp/nested-resource-providers," self.assertEqual(1, len(trees))"," # TODO(jaypipes): _get_trees_matching_all() is not working properly for # this assumption. Need to fix it, but for now, mark this assertion as # needing fixed. # self.assertEqual(1, len(trees)) self.assertEqual(0, len(trees))",75,29
openstack%2Fnova~master~Ifd51fc2aacb3608828476896142177922496b07d,openstack/nova,master,Ifd51fc2aacb3608828476896142177922496b07d,add test for scenario with sum of child resources,ABANDONED,2018-01-16 15:11:54.000000000,2018-03-22 13:47:22.000000000,,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-16 15:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce4b31815eaaa93b78748eab1527318c0cc7c71a', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all() because it collectively has 2 VFs\navailable for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all() is broken for this scenario.\nInstead of returning the compute node provider tree, it fails to\nconsider the scenario when the SUM() of resources for child providers is\nequal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}, {'number': 2, 'created': '2018-01-16 18:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2387df867215c2d45307fb27331319cb03a4fb8c', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all() because it collectively has 2 VFs\navailable for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all() is broken for this scenario.\nInstead of returning the compute node provider tree, it fails to\nconsider the scenario when the SUM() of resources for child providers is\nequal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}, {'number': 3, 'created': '2018-01-17 23:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/697078af9a66fbce2065eb22812cb4dddd46273b', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all_resources() because it collectively has 2\nVFs available for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all_resources() is broken for this\nscenario.  Instead of returning the compute node provider tree, it fails\nto consider the scenario when the SUM() of resources for child providers\nis equal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}, {'number': 4, 'created': '2018-01-22 17:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/001517ccdcaafaad58f85585f2d30f1cd327f10f', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all_resources() because it collectively has 2\nVFs available for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all_resources() is broken for this\nscenario.  Instead of returning the compute node provider tree, it fails\nto consider the scenario when the SUM() of resources for child providers\nis equal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}, {'number': 5, 'created': '2018-01-29 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49444a14d2efddb614c8d148e087dba71caa490b', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all_resources() because it collectively has 2\nVFs available for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all_resources() is broken for this\nscenario.  Instead of returning the compute node provider tree, it fails\nto consider the scenario when the SUM() of resources for child providers\nis equal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nAdds an additional functional test for the scenario where NUMA node\nchild providers have different total, min_unit, and max_unit amounts for\nMEMORY_MB resources and depending on the amount of requested MEMORY_MB,\nthe compute node should be returned by _get_trees_matching_all().\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}, {'number': 6, 'created': '2018-03-19 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de9698015bfbbab13abab24c8f28b3fe89308a30', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all_resources() because it collectively has 2\nVFs available for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all_resources() is broken for this\nscenario.  Instead of returning the compute node provider tree, it fails\nto consider the scenario when the SUM() of resources for child providers\nis equal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nAdds an additional functional test for the scenario where NUMA node\nchild providers have different total, min_unit, and max_unit amounts for\nMEMORY_MB resources and depending on the amount of requested MEMORY_MB,\nthe compute node should be returned by _get_trees_matching_all().\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}, {'number': 7, 'created': '2018-03-19 14:20:53.000000000', 'files': ['nova/tests/functional/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33cbe4e31e437edebea7b7e074fae68483950bce', 'message': ""add test for scenario with sum of child resources\n\nAdds a test of the scenario when we have a single compute node with\nchild providers of SRIOV_NET_VF resources. Consume all but 1 VF from\neach child provider and then make a request for 2 SRIOV_NET_VF\nresources. The tree representing the compute node should be returned\nfrom _get_trees_matching_all_resources() because it collectively has 2\nVFs available for consumption and we're not asking for granular request\ngroups.\n\nUnfortunately, _get_trees_matching_all_resources() is broken for this\nscenario.  Instead of returning the compute node provider tree, it fails\nto consider the scenario when the SUM() of resources for child providers\nis equal to or greater than the amount requested. So, I've marked the\nassertion in the test case and will fix the scenario in a following\npatch.\n\nAdds an additional functional test for the scenario where NUMA node\nchild providers have different total, min_unit, and max_unit amounts for\nMEMORY_MB resources and depending on the amount of requested MEMORY_MB,\nthe compute node should be returned by _get_trees_matching_all().\n\nChange-Id: Ifd51fc2aacb3608828476896142177922496b07d\nblueprint: nested-resource-providers\n""}]",11,534339,33cbe4e31e437edebea7b7e074fae68483950bce,84,16,7,7,,,0,"add test for scenario with sum of child resources

Adds a test of the scenario when we have a single compute node with
child providers of SRIOV_NET_VF resources. Consume all but 1 VF from
each child provider and then make a request for 2 SRIOV_NET_VF
resources. The tree representing the compute node should be returned
from _get_trees_matching_all_resources() because it collectively has 2
VFs available for consumption and we're not asking for granular request
groups.

Unfortunately, _get_trees_matching_all_resources() is broken for this
scenario.  Instead of returning the compute node provider tree, it fails
to consider the scenario when the SUM() of resources for child providers
is equal to or greater than the amount requested. So, I've marked the
assertion in the test case and will fix the scenario in a following
patch.

Adds an additional functional test for the scenario where NUMA node
child providers have different total, min_unit, and max_unit amounts for
MEMORY_MB resources and depending on the amount of requested MEMORY_MB,
the compute node should be returned by _get_trees_matching_all().

Change-Id: Ifd51fc2aacb3608828476896142177922496b07d
blueprint: nested-resource-providers
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/534339/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_allocation_candidates.py'],1,ce4b31815eaaa93b78748eab1527318c0cc7c71a,bp/nested-resource-providers," def test_trees_matching_all_sum_children(self): """"""Test the scenario when we have a single compute node with child providers of SRIOV_NET_VF resources. Consume all but 1 VF from each child provider and then make a request for 2 SRIOV_NET_VF resources. The tree representing the compute node should be returned (because it collectively has 2 VFs available for consumption) and we're not using granular request grouping. """""" # We are setting up a single tree that looks like this: # # compute node (cn) # / \ # / \ # numa cell 0 numa cell 1 # | | # | | # pf 0 pf 1 # # We'll give each PF an inventory of 2 SRIOV_NET_VF resources and then # consume 1 VF from each of them. cn = self._create_provider('cn') _add_inventory(cn, fields.ResourceClass.VCPU, 16) _add_inventory(cn, fields.ResourceClass.MEMORY_MB, 32768) numa_cell0 = self._create_provider('cn_numa0', parent=cn.uuid) numa_cell1 = self._create_provider('cn_numa1', parent=cn.uuid) pf0 = self._create_provider('cn_numa0_pf0', parent=numa_cell0.uuid) _add_inventory(pf0, fields.ResourceClass.SRIOV_NET_VF, 2) pf1 = self._create_provider('cn_numa1_pf1', parent=numa_cell1.uuid) _add_inventory(pf1, fields.ResourceClass.SRIOV_NET_VF, 2) # NOTE(jaypipes): _get_trees_matching_all() expects a dict of resource # class internal identifiers, not string names resources = { fields.ResourceClass.STANDARD.index( fields.ResourceClass.VCPU): 2, fields.ResourceClass.STANDARD.index( fields.ResourceClass.MEMORY_MB): 256, fields.ResourceClass.STANDARD.index( fields.ResourceClass.SRIOV_NET_VF): 2, } traits = {} trees = rp_obj._get_trees_matching_all(self.ctx, resources, traits) self.assertEqual(1, len(trees)) # OK, now consume one VF on each of the PF providers alloc = rp_obj.Allocation( resource_provider=pf0, resource_class=fields.ResourceClass.SRIOV_NET_VF, consumer_id=uuids.instance1, used=1) alloc_list = rp_obj.AllocationList(self.ctx, objects=[alloc]) alloc_list.create_all() alloc = rp_obj.Allocation( resource_provider=pf1, resource_class=fields.ResourceClass.SRIOV_NET_VF, consumer_id=uuids.instance2, used=1) alloc_list = rp_obj.AllocationList(self.ctx, objects=[alloc]) alloc_list.create_all() # We should still get the tree returned trees = rp_obj._get_trees_matching_all(self.ctx, resources, traits) # TODO(jaypipes): _get_trees_matching_all() is not working properly for # this assumption. Need to fix it, but for now, mark this assertion as # needing fixed. # self.assertEqual(1, len(trees)) self.assertEqual(0, len(trees)) # And now consume one VF on the first PF provider and verify the tree # representing the compute node no longer is returned by # _get_trees_matching_all() since there are no longer 2 VF resources # available. alloc = rp_obj.Allocation( resource_provider=pf0, resource_class=fields.ResourceClass.SRIOV_NET_VF, consumer_id=uuids.instance3, used=1) alloc_list = rp_obj.AllocationList(self.ctx, objects=[alloc]) alloc_list.create_all() trees = rp_obj._get_trees_matching_all(self.ctx, resources, traits) self.assertEqual(0, len(trees)) ",,88,0
openstack%2Fkuryr-kubernetes~master~I0ea135ebada394b59f7a6b73a87f3baf5758ab20,openstack/kuryr-kubernetes,master,I0ea135ebada394b59f7a6b73a87f3baf5758ab20,Add host interface to access service subnet in devstack,ABANDONED,2018-01-13 08:01:04.000000000,2018-03-22 13:47:02.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21041}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26222}]","[{'number': 1, 'created': '2018-01-13 08:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0916f5a0d30257960bb3f758680fe9869bae803c', 'message': 'Add host interface to access service subnet in devstack\n\nCurrently, we can not access to the service subnet directly. This\npatch create host interface to access service object in service\nsubnet in devstack.\n\nChange-Id: I0ea135ebada394b59f7a6b73a87f3baf5758ab20\nCloses-Bug: #1743081\nSigned-off-by: Cong Phuoc Hoang <hoangphuocbk2.07@gmail.com>\n'}, {'number': 2, 'created': '2018-01-21 15:17:33.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f1756a4a63c130d7337bf0707d0bdaee1237242', 'message': 'Add host interface to access service subnet in devstack\n\nCurrently, we can not access to the service subnet directly. This\npatch create host interface to access service object in service\nsubnet in devstack.\n\nChange-Id: I0ea135ebada394b59f7a6b73a87f3baf5758ab20\nCloses-Bug: #1743081\nSigned-off-by: Cong Phuoc Hoang <hoangphuocbk2.07@gmail.com>\n'}]",2,533343,5f1756a4a63c130d7337bf0707d0bdaee1237242,37,9,2,26222,,,0,"Add host interface to access service subnet in devstack

Currently, we can not access to the service subnet directly. This
patch create host interface to access service object in service
subnet in devstack.

Change-Id: I0ea135ebada394b59f7a6b73a87f3baf5758ab20
Closes-Bug: #1743081
Signed-off-by: Cong Phuoc Hoang <hoangphuocbk2.07@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/43/533343/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes']",2,0916f5a0d30257960bb3f758680fe9869bae803c,bug/1743081," network=""$2"" port_name=""$3"" --network ""$network"" \ ""$port_name"")"," --network ""${KURYR_NEUTRON_DEFAULT_POD_NET}"" \ kubelet-""${HOSTNAME}"")",6,3
openstack%2Ftripleo-heat-templates~stable%2Fpike~If26f87e3384e242ae637650adce7c5dba1611cdf,openstack/tripleo-heat-templates,stable/pike,If26f87e3384e242ae637650adce7c5dba1611cdf,Add parameter ExtraHostFileEntries,ABANDONED,2018-03-22 11:39:27.000000000,2018-03-22 13:42:40.000000000,,[{'_account_id': 4328}],"[{'number': 1, 'created': '2018-03-22 11:39:27.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69b27fb5e35b8538325234398f96f37041c8dca1', 'message': 'Add parameter ExtraHostFileEntries\n\nThis allows passing hosts entries from an external stack, or\nthat references other external nodes.  This is useful in the\ncase where you want to split e.g controlplane nodes from compute\nor similar.\n\nAs an example you could do something like this to generate an\nenvironment file:\n\nopenstack stack output show controlplane HostsEntry | grep controller\\\n | sed ""s/|//g"" | sed ""s/^ */    - /"" \\\n | sed ""1s/^/parameter_defaults:\\n  ExtraHostFileEntries:\\n/""\n\nRelated-bug: #1758034\nChange-Id: If26f87e3384e242ae637650adce7c5dba1611cdf\n(cherry picked from commit f2915552b9457b7b59feb572fba93d1cb57c8efc)\n'}]",0,555265,69b27fb5e35b8538325234398f96f37041c8dca1,2,1,1,23811,,,0,"Add parameter ExtraHostFileEntries

This allows passing hosts entries from an external stack, or
that references other external nodes.  This is useful in the
case where you want to split e.g controlplane nodes from compute
or similar.

As an example you could do something like this to generate an
environment file:

openstack stack output show controlplane HostsEntry | grep controller\
 | sed ""s/|//g"" | sed ""s/^ */    - /"" \
 | sed ""1s/^/parameter_defaults:\n  ExtraHostFileEntries:\n/""

Related-bug: #1758034
Change-Id: If26f87e3384e242ae637650adce7c5dba1611cdf
(cherry picked from commit f2915552b9457b7b59feb572fba93d1cb57c8efc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/555265/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,69b27fb5e35b8538325234398f96f37041c8dca1,bug/1758034, ExtraHostFileEntries: default: [] description: List of extra hosts entries to be appended to /etc/hosts type: comma_delimited_list - {get_param: ExtraHostFileEntries},,5,0
openstack%2Ftripleo-heat-templates~stable%2Focata~If26f87e3384e242ae637650adce7c5dba1611cdf,openstack/tripleo-heat-templates,stable/ocata,If26f87e3384e242ae637650adce7c5dba1611cdf,Add parameter ExtraHostFileEntries,ABANDONED,2018-03-22 11:55:37.000000000,2018-03-22 13:42:32.000000000,,[{'_account_id': 4328}],"[{'number': 1, 'created': '2018-03-22 11:55:37.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd3ff57a18590967e627be2f5927798aa339595a', 'message': 'Add parameter ExtraHostFileEntries\n\nThis allows passing hosts entries from an external stack, or\nthat references other external nodes.  This is useful in the\ncase where you want to split e.g controlplane nodes from compute\nor similar.\n\nAs an example you could do something like this to generate an\nenvironment file:\n\nopenstack stack output show controlplane HostsEntry | grep controller\\\n | sed ""s/|//g"" | sed ""s/^ */    - /"" \\\n | sed ""1s/^/parameter_defaults:\\n  ExtraHostFileEntries:\\n/""\n\nRelated-bug: #1758034\nChange-Id: If26f87e3384e242ae637650adce7c5dba1611cdf\n(cherry picked from commit f2915552b9457b7b59feb572fba93d1cb57c8efc)\n(cherry picked from commit 69b27fb5e35b8538325234398f96f37041c8dca1)\n'}]",0,555273,cd3ff57a18590967e627be2f5927798aa339595a,2,1,1,23811,,,0,"Add parameter ExtraHostFileEntries

This allows passing hosts entries from an external stack, or
that references other external nodes.  This is useful in the
case where you want to split e.g controlplane nodes from compute
or similar.

As an example you could do something like this to generate an
environment file:

openstack stack output show controlplane HostsEntry | grep controller\
 | sed ""s/|//g"" | sed ""s/^ */    - /"" \
 | sed ""1s/^/parameter_defaults:\n  ExtraHostFileEntries:\n/""

Related-bug: #1758034
Change-Id: If26f87e3384e242ae637650adce7c5dba1611cdf
(cherry picked from commit f2915552b9457b7b59feb572fba93d1cb57c8efc)
(cherry picked from commit 69b27fb5e35b8538325234398f96f37041c8dca1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/555273/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,cd3ff57a18590967e627be2f5927798aa339595a,bug/1758034, ExtraHostFileEntries: default: [] description: List of extra hosts entries to be appended to /etc/hosts type: comma_delimited_list - {get_param: ExtraHostFileEntries},,5,0
openstack%2Fanchor~master~I44cd94f816ca380d5a5ff6ca98c3984cf58c7544,openstack/anchor,master,I44cd94f816ca380d5a5ff6ca98c3984cf58c7544,add lower-constraints job,ABANDONED,2018-03-22 13:05:08.000000000,2018-03-22 13:25:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 13:05:08.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/anchor/commit/b79bde40f9c638cd1967ec0039972d67cff3fab6', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I44cd94f816ca380d5a5ff6ca98c3984cf58c7544\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555289,b79bde40f9c638cd1967ec0039972d67cff3fab6,3,1,1,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: I44cd94f816ca380d5a5ff6ca98c3984cf58c7544
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/anchor refs/changes/89/555289/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,b79bde40f9c638cd1967ec0039972d67cff3fab6,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,113,0
openstack%2Fironic-lib~master~I0d5a22b97a34ba3368f8d17da2a4f0097b64eef9,openstack/ironic-lib,master,I0d5a22b97a34ba3368f8d17da2a4f0097b64eef9,Switch the CI to hardware types and clean up playbooks,MERGED,2018-03-13 14:55:15.000000000,2018-03-22 13:22:30.000000000,2018-03-22 13:22:30.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 14:55:15.000000000', 'files': ['playbooks/legacy/ironic-lib-tempest-wholedisk-agent_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-agent_ipmitool/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/2428577ece1acc02ba7f5122117b1b9830864c17', 'message': ""Switch the CI to hardware types and clean up playbooks\n\nThis change modifies the playbooks to use the 'ipmi' hardware type.\nIt also removes redundant conditions. The job names are not changed\nto simplify the patch.\n\nChange-Id: I0d5a22b97a34ba3368f8d17da2a4f0097b64eef9\n""}]",0,552537,2428577ece1acc02ba7f5122117b1b9830864c17,7,3,1,10239,,,0,"Switch the CI to hardware types and clean up playbooks

This change modifies the playbooks to use the 'ipmi' hardware type.
It also removes redundant conditions. The job names are not changed
to simplify the patch.

Change-Id: I0d5a22b97a34ba3368f8d17da2a4f0097b64eef9
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/37/552537/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ironic-lib-tempest-wholedisk-agent_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-agent_ipmitool/run.yaml']",4,2428577ece1acc02ba7f5122117b1b9830864c17,hw-types," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEFAULT_DEPLOY_INTERFACE=direct"" # direct deploy requires Swift temporary URLs export DEVSTACK_LOCAL_CONFIG+=$'\n'""SWIFT_ENABLE_TEMPURLS=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""SWIFT_TEMPURL_KEY=secretkey"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"""," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEPLOY_DRIVER_ISCSI_WITH_IPA=True"" # Standardize VM size for each supported ramdisk case ""tinyipa"" in 'tinyipa') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'tinyipa256') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=256"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'coreos') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=1280"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=coreos"" ;; # if using a ramdisk without a known good value, use the devstack # default by not exporting any value for IRONIC_VM_SPECS_RAM esac export DEVSTACK_GATE_IRONIC_DRIVER=agent_ipmitool if [ ""agent_ipmitool"" == ""pxe_snmp"" ] ; then # explicitly enable pxe_snmp driver export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake,pxe_snmp"" fi if [ ""agent_ipmitool"" == ""redfish"" ] ; then # When deploying with redfish we need to enable the ""redfish"" # hardware type export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_HARDWARE_TYPES=redfish"" fi if [ ""partition"" == ""wholedisk"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" else export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" fi if [ -n ""yes"" ] ; then export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" else export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" fi if [ ""bios"" == ""uefi"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_BOOT_MODE=uefi"" fi export DEVSTACK_PROJECT_FROM_GIT=""""",42,188
openstack%2Fironic-python-agent~master~Ie7609ab4cceb5c01806a7a0728a4087f790a590e,openstack/ironic-python-agent,master,Ie7609ab4cceb5c01806a7a0728a4087f790a590e,Switch the CI to hardware types and clean up playbooks,MERGED,2018-03-15 15:16:48.000000000,2018-03-22 13:22:28.000000000,2018-03-22 13:22:27.000000000,"[{'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 13689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 15:16:48.000000000', 'files': ['playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-agent_ipmitool-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-pxe_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-agent_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-agent_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-pxe_ipmitool-tinyipa256-src/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-agent_ipmitool-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-pxe_ipmitool-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-pxe_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-pxe_ipmitool-tinyipa-python3/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-pxe_ipmitool-coreos-src/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e08726142e38afdc65e09f67dfd74570a4a0ca73', 'message': ""Switch the CI to hardware types and clean up playbooks\n\nThis change modifies the playbooks to use the 'ipmi' hardware type.\nIt also removes redundant conditions. The job names are not changed\nto simplify the patch.\n\nChange-Id: Ie7609ab4cceb5c01806a7a0728a4087f790a590e\n""}]",7,553431,e08726142e38afdc65e09f67dfd74570a4a0ca73,9,4,1,10239,,,0,"Switch the CI to hardware types and clean up playbooks

This change modifies the playbooks to use the 'ipmi' hardware type.
It also removes redundant conditions. The job names are not changed
to simplify the patch.

Change-Id: Ie7609ab4cceb5c01806a7a0728a4087f790a590e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/31/553431/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-agent_ipmitool-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-pxe_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-agent_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-agent_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-pxe_ipmitool-tinyipa256-src/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-agent_ipmitool-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-pxe_ipmitool-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-pxe_ipmitool-tinyipa-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-pxe_ipmitool-tinyipa-python3/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-pxe_ipmitool-coreos-src/run.yaml']",11,e08726142e38afdc65e09f67dfd74570a4a0ca73,hw-types," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=1280"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=coreos"" export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" "," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEPLOY_DRIVER_ISCSI_WITH_IPA=True"" # Standardize VM size for each supported ramdisk case ""coreos"" in 'tinyipa') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'tinyipa256') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=256"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'coreos') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=1280"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=coreos"" ;; # if using a ramdisk without a known good value, use the devstack # default by not exporting any value for IRONIC_VM_SPECS_RAM esac export DEVSTACK_GATE_IRONIC_DRIVER=pxe_ipmitool export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi if [ ""pxe_ipmitool"" == ""pxe_snmp"" ] ; then # explicitly enable pxe_snmp driver export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake,pxe_snmp"" fi if [ ""pxe_ipmitool"" == ""redfish"" ] ; then # When deploying with redfish we need to enable the ""redfish"" # hardware type export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_HARDWARE_TYPES=redfish"" fi if [ ""wholedisk"" == ""wholedisk"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" else export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" fi if [ -n ""-src"" ] ; then export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" else export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" fi if [ ""bios"" == ""uefi"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_BOOT_MODE=uefi"" fi export DEVSTACK_PROJECT_FROM_GIT=""""",108,621
openstack%2Fopenstack-ansible~stable%2Fqueens~I4b39f2a9f33eff7d0433a98a085cf4fd05cef75e,openstack/openstack-ansible,stable/queens,I4b39f2a9f33eff7d0433a98a085cf4fd05cef75e,[Docs] Backport Master structure,MERGED,2018-03-20 11:47:37.000000000,2018-03-22 13:03:02.000000000,2018-03-22 13:03:02.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-20 11:47:37.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'doc/source/reference/inventory/configure-inventory.rst', 'deploy-guide/source/app-advanced-config-options.rst', 'doc/source/user/limited-connectivity/index.rst', 'README.rst', 'doc/source/reference/configuration/using-overrides.rst', 'doc/source/user/aio/scenario-table-gen.html', 'deploy-guide/source/app.rst', 'doc/source/reference/figures/networkcomponents.png', 'deploy-guide/source/conf.py', 'deploy-guide/source/next-steps.rst', 'doc/source/user/security/index.rst', 'doc/source/admin/upgrades/major-upgrades-manual-upgrade.rst', 'doc/source/user/figures/arch-layout-production.png', 'doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/user/figures/arch-layout-production-ceph.svg', 'doc/source/contributor/scenario-table-gen.html', 'doc/source/reference/inventory/inventory.rst', 'doc/source/reference/inventory/understanding-inventory.rst', 'doc/source/user/index.rst', 'deploy-guide/source/app-advanced-config-override.rst', 'doc/source/user/ceph/full-deploy.rst', 'doc/source/admin/scale-environment.rst', 'doc/source/user/figures/arch-layout-test.png', 'doc/source/user/security/hardening.rst', 'deploy-guide/source/index.rst', 'doc/source/reference/figures/networking-compute.png', 'doc/source/user/test/example.rst', 'deploy-guide/source/verify-operation.rst', 'doc/source/contributor/scripts.rst', 'doc/source/user/prod/example.rst', 'doc/source/user/security/ssl-certificates.rst', 'doc/source/admin/monitoring-systems.rst', 'doc/source/reference/architecture/container-networking.rst', 'doc/source/reference/figures/networkarch-container-external-example.png', 'deploy-guide/source/overview-network-arch.rst', 'doc/source/reference/inventory/generate-inventory.rst', 'deploy-guide/source/configure.rst', 'doc/source/admin/index.rst', 'doc/source/admin/backup-restore.rst', 'deploy-guide/source/app-custom-layouts.rst', 'doc/source/reference/figures/networkarch-bare-external.png', 'deploy-guide/source/app-resources.rst', 'doc/source/user/l3pods/example.rst', 'deploy-guide/source/targethosts-networkconfig.rst', 'doc/source/user/figures/arch-layout-production-ceph.png', 'doc/source/reference/figures/networkarch-container-external.png', 'doc/source/user/figures/arch-layout-test.svg', 'doc/source/contributor/index.rst', 'doc/source/user/figures/arch-layout-production.svg', 'doc/source/reference/architecture/security.rst', 'doc/source/admin/maintenance-tasks/galera.rst', 'doc/source/admin/upgrades/minor-updates.rst', 'doc/source/reference/architecture/index.rst', 'doc/source/reference/index.rst', 'doc/source/admin/upgrades/major-upgrades-with-script.rst', 'doc/source/user/figures/arch-layout.graffle', 'doc/source/reference/figures/networkarch-bare-external-example.png', 'doc/source/conf.py', 'deploy-guide/source/app-ceph.rst', 'deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/app-advanced-config-affinity.rst', 'doc/source/admin/monitor-environment.rst', 'doc/source/reference/figures/networking-neutronagents.png'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3eca1b5b77330f075343c88d85370e4586c302a5', 'message': '[Docs] Backport Master structure\n\nThis is backport combining the documentation changes applied master\naccording to the queens blueprint ""docs-improvements"":\n\n* [Docs] Flatten out monitoring\n(cherry picked from commit ebdd5759b1be7323126845be7f3af99af8bc149d)\n* [Docs] Move upgrade guides into ops\n(cherry picked from commit 56194bcb5abb4fda39d5d69f21ca4ca935241d05)\n* [Docs] Merge advanced configuration into reference\n(cherry picked from commit ba7e064ef99bd528e7348d3b12b004736928945e)\n* [Docs] Uniform landing text\n(cherry picked from commit 134ec81016382006493c227bedda70d0f62d1a3d)\n* [Docs] Move AIO to first scenario\n(cherry picked from commit dc8d6256ceede391952375ffd896f4420e1f1937)\n* [Docs] Include test scenario as a new user story\n(cherry picked from commit 3d76d5e2e2cb0d1fa903fd9c373bda7ed610de29)\n* [Docs] Fix references\n(cherry picked from commit 1d4702891120a9872660eecfff0d3538c7058acd)\n* [Docs] Move more examples to user guide\n(cherry picked from commit 73c45a810847d7c852b7198ea54b105755579a15)\n* [Docs] Move Ceph example to user guides\n(cherry picked from commit d27e329a5ac56796a52e3568d5fe1d2ef6a3792f)\n* [Docs] Move network architecture into reference\n(cherry picked from commit 99ca16e85e5b81fa111c152f0fae56bd05a5d814)\n* [Docs] Centralize Inventory documentation\n(cherry picked from commit eb89fa513a5e4335d7df051320eef33f9a5a3bc2)\n* [Docs] Move limited connectivity to user guide\n(cherry picked from commit b6eb92becaa0cb0d4315a1d7f799adbb7abe65ea)\n* [Docs] Migrate security into user guide\n(cherry picked from commit f1a7525570f8a30cc9e335f00fb3007a52ed6344)\n* [Docs] Guide users more\n(cherry picked from commit 99f4f17751a4ccb5a6d7b57475f02eca70392c76)\n* [Docs] Add explicit warnings on common mistake\n(cherry picked from commit 41bd98385b351026edfe223760367613e6d17d9e)\n\nChange-Id: I4b39f2a9f33eff7d0433a98a085cf4fd05cef75e\n'}]",0,554510,3eca1b5b77330f075343c88d85370e4586c302a5,7,3,1,17068,,,0,"[Docs] Backport Master structure

This is backport combining the documentation changes applied master
according to the queens blueprint ""docs-improvements"":

* [Docs] Flatten out monitoring
(cherry picked from commit ebdd5759b1be7323126845be7f3af99af8bc149d)
* [Docs] Move upgrade guides into ops
(cherry picked from commit 56194bcb5abb4fda39d5d69f21ca4ca935241d05)
* [Docs] Merge advanced configuration into reference
(cherry picked from commit ba7e064ef99bd528e7348d3b12b004736928945e)
* [Docs] Uniform landing text
(cherry picked from commit 134ec81016382006493c227bedda70d0f62d1a3d)
* [Docs] Move AIO to first scenario
(cherry picked from commit dc8d6256ceede391952375ffd896f4420e1f1937)
* [Docs] Include test scenario as a new user story
(cherry picked from commit 3d76d5e2e2cb0d1fa903fd9c373bda7ed610de29)
* [Docs] Fix references
(cherry picked from commit 1d4702891120a9872660eecfff0d3538c7058acd)
* [Docs] Move more examples to user guide
(cherry picked from commit 73c45a810847d7c852b7198ea54b105755579a15)
* [Docs] Move Ceph example to user guides
(cherry picked from commit d27e329a5ac56796a52e3568d5fe1d2ef6a3792f)
* [Docs] Move network architecture into reference
(cherry picked from commit 99ca16e85e5b81fa111c152f0fae56bd05a5d814)
* [Docs] Centralize Inventory documentation
(cherry picked from commit eb89fa513a5e4335d7df051320eef33f9a5a3bc2)
* [Docs] Move limited connectivity to user guide
(cherry picked from commit b6eb92becaa0cb0d4315a1d7f799adbb7abe65ea)
* [Docs] Migrate security into user guide
(cherry picked from commit f1a7525570f8a30cc9e335f00fb3007a52ed6344)
* [Docs] Guide users more
(cherry picked from commit 99f4f17751a4ccb5a6d7b57475f02eca70392c76)
* [Docs] Add explicit warnings on common mistake
(cherry picked from commit 41bd98385b351026edfe223760367613e6d17d9e)

Change-Id: I4b39f2a9f33eff7d0433a98a085cf4fd05cef75e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/554510/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'doc/source/reference/inventory/configure-inventory.rst', 'deploy-guide/source/app-advanced-config-options.rst', 'doc/source/user/limited-connectivity/index.rst', 'README.rst', 'doc/source/reference/configuration/using-overrides.rst', 'doc/source/user/aio/scenario-table-gen.html', 'deploy-guide/source/app.rst', 'doc/source/reference/figures/networkcomponents.png', 'deploy-guide/source/conf.py', 'deploy-guide/source/next-steps.rst', 'doc/source/user/security/index.rst', 'doc/source/admin/upgrades/major-upgrades-manual-upgrade.rst', 'doc/source/user/figures/arch-layout-production.png', 'doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/user/figures/arch-layout-production-ceph.svg', 'doc/source/contributor/scenario-table-gen.html', 'doc/source/reference/inventory/inventory.rst', 'doc/source/reference/inventory/understanding-inventory.rst', 'doc/source/user/index.rst', 'deploy-guide/source/app-advanced-config-override.rst', 'doc/source/user/ceph/full-deploy.rst', 'doc/source/admin/scale-environment.rst', 'doc/source/user/figures/arch-layout-test.png', 'doc/source/user/security/hardening.rst', 'deploy-guide/source/index.rst', 'doc/source/reference/figures/networking-compute.png', 'doc/source/user/test/example.rst', 'deploy-guide/source/verify-operation.rst', 'doc/source/contributor/scripts.rst', 'doc/source/user/prod/example.rst', 'doc/source/user/security/ssl-certificates.rst', 'doc/source/admin/monitoring-systems.rst', 'doc/source/reference/architecture/container-networking.rst', 'doc/source/reference/figures/networkarch-container-external-example.png', 'deploy-guide/source/overview-network-arch.rst', 'doc/source/reference/inventory/generate-inventory.rst', 'deploy-guide/source/configure.rst', 'doc/source/admin/index.rst', 'doc/source/admin/backup-restore.rst', 'deploy-guide/source/app-custom-layouts.rst', 'doc/source/reference/figures/networkarch-bare-external.png', 'deploy-guide/source/app-resources.rst', 'doc/source/user/l3pods/example.rst', 'deploy-guide/source/targethosts-networkconfig.rst', 'doc/source/user/figures/arch-layout-production-ceph.png', 'doc/source/reference/figures/networkarch-container-external.png', 'doc/source/user/figures/arch-layout-test.svg', 'doc/source/contributor/index.rst', 'doc/source/user/figures/arch-layout-production.svg', 'doc/source/reference/architecture/security.rst', 'doc/source/admin/maintenance-tasks/galera.rst', 'doc/source/admin/upgrades/minor-updates.rst', 'doc/source/reference/architecture/index.rst', 'doc/source/reference/index.rst', 'doc/source/admin/upgrades/major-upgrades-with-script.rst', 'doc/source/user/figures/arch-layout.graffle', 'doc/source/reference/figures/networkarch-bare-external-example.png', 'doc/source/conf.py', 'deploy-guide/source/app-ceph.rst', 'deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/app-advanced-config-affinity.rst', 'doc/source/admin/monitor-environment.rst', 'doc/source/reference/figures/networking-neutronagents.png']",64,3eca1b5b77330f075343c88d85370e4586c302a5,bp/docs-improvements-stable/queens,,,869,810
openstack%2Ftripleo-quickstart~master~Ifabb95ca514a333d34ed1e83ad7a36b9cf509e9f,openstack/tripleo-quickstart,master,Ifabb95ca514a333d34ed1e83ad7a36b9cf509e9f,[DNM] Enable network isolation for Queens+ releases in FS020,ABANDONED,2018-03-20 12:58:12.000000000,2018-03-22 13:02:21.000000000,,"[{'_account_id': 1955}, {'_account_id': 9592}, {'_account_id': 12398}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-20 12:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eed695e1f8199e7557b4d9c835cc990713d14792', 'message': '[DNM] Enable network isolation for Queens+ releases in FS020\n\nWe can remove [DNM], if we actually do not support running\nwithout network isolation anymore. Currently, using this to\ntest whether lack of network isolation is leading to the\nbehaviors in the related bug.\n\nRelated-Bug: #1757111\n\nChange-Id: Ifabb95ca514a333d34ed1e83ad7a36b9cf509e9f\n'}, {'number': 2, 'created': '2018-03-21 04:00:08.000000000', 'files': ['config/general_config/featureset020.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b0bc88a6f220a0e861184f4bd36d6634a6623c6a', 'message': '[DNM] Enable network isolation for Queens+ releases in FS020\n\nWe can remove [DNM], if we actually do not support running\nwithout network isolation anymore. Currently, using this to\ntest whether lack of network isolation is leading to the\nbehaviors in the related bug.\n\nRelated-Bug: #1757111\n\nChange-Id: Ifabb95ca514a333d34ed1e83ad7a36b9cf509e9f\n'}]",2,554528,b0bc88a6f220a0e861184f4bd36d6634a6623c6a,24,9,2,12715,,,0,"[DNM] Enable network isolation for Queens+ releases in FS020

We can remove [DNM], if we actually do not support running
without network isolation anymore. Currently, using this to
test whether lack of network isolation is leading to the
behaviors in the related bug.

Related-Bug: #1757111

Change-Id: Ifabb95ca514a333d34ed1e83ad7a36b9cf509e9f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/28/554528/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset020.yml'],1,eed695e1f8199e7557b4d9c835cc990713d14792,bug/1757111,"network_isolation: >- {% if release in ['newton', 'ocata', 'pike'] -%} false {%- else -%} true {%- endif -%}",network_isolation: false,6,1
openstack%2Ftripleo-common~master~I88cf92a8c9a06eb492bdd2729754da4ff9d86d74,openstack/tripleo-common,master,I88cf92a8c9a06eb492bdd2729754da4ff9d86d74,Fail introspect_manageable_nodes if no nodes are manageable,MERGED,2018-03-19 12:31:50.000000000,2018-03-22 12:57:15.000000000,2018-03-22 12:55:44.000000000,"[{'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-19 12:31:50.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/405c6b2b83336d5432e9e47df3f182902a632530', 'message': 'Fail introspect_manageable_nodes if no nodes are manageable\n\nOperators running this workflow usually expect it to do something,\nwhile currently we report success if nothing is done.\n\nAlso include node count in the success message and remove its duplicate.\n\nCloses-Bug: #1756855\nChange-Id: I88cf92a8c9a06eb492bdd2729754da4ff9d86d74\n'}]",2,554213,405c6b2b83336d5432e9e47df3f182902a632530,24,6,1,10239,,,0,"Fail introspect_manageable_nodes if no nodes are manageable

Operators running this workflow usually expect it to do something,
while currently we report success if nothing is done.

Also include node count in the success message and remove its duplicate.

Closes-Bug: #1756855
Change-Id: I88cf92a8c9a06eb492bdd2729754da4ff9d86d74
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/554213/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,405c6b2b83336d5432e9e47df3f182902a632530,bug/1756855, message: Successfully introspected <% $.introspected_nodes.len() %> node(s). on-success: validate_nodes validate_nodes: on-success: - introspect_manageable: <% $.managed_nodes.len() > 0 %> - set_status_failed_no_nodes: <% $.managed_nodes.len() = 0 %> set_status_failed_no_nodes: on-success: send_message publish: status: FAILED message: No manageable nodes to introspect. Check node states and maintenance. , message: 'Successfully introspected nodes.' on-success: introspect_manageable message: 'Nodes introspected successfully.',13,3
openstack%2Fpython-neutronclient~master~Ib03776bdddf06df60f1fcd4d059e5048f9cff2a8,openstack/python-neutronclient,master,Ib03776bdddf06df60f1fcd4d059e5048f9cff2a8,Fix some reST field lists in docstrings,ABANDONED,2018-03-16 15:15:32.000000000,2018-03-22 12:55:46.000000000,,"[{'_account_id': 841}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 15:15:32.000000000', 'files': ['neutronclient/v2_0/client.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/0602d2ce25ca13d12eef9e53e42cac440b6ef7ec', 'message': 'Fix some reST field lists in docstrings\n\nProbably the most common format for documenting arguments is reST field\nlists [1]. This change updates some docstrings to comply with the field\nlists syntax.\n\n[1] http://sphinx-doc.org/domains.html#info-field-lists\n\nChange-Id: Ib03776bdddf06df60f1fcd4d059e5048f9cff2a8\n'}]",0,553821,0602d2ce25ca13d12eef9e53e42cac440b6ef7ec,6,3,1,21486,,,0,"Fix some reST field lists in docstrings

Probably the most common format for documenting arguments is reST field
lists [1]. This change updates some docstrings to comply with the field
lists syntax.

[1] http://sphinx-doc.org/domains.html#info-field-lists

Change-Id: Ib03776bdddf06df60f1fcd4d059e5048f9cff2a8
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/21/553821/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/v2_0/client.py'],1,0602d2ce25ca13d12eef9e53e42cac440b6ef7ec,, :raises ConnectionFailed: if the maximum # of retries is exceeded, :raises: ConnectionFailed if the maximum # of retries is exceeded,1,1
openstack%2Fnetworking-calico~master~I32c9bc3ea26e748d996ca015a5e9c00d0680b48d,openstack/networking-calico,master,I32c9bc3ea26e748d996ca015a5e9c00d0680b48d,Don't log warnings when it is expected for watch to timeout,MERGED,2018-03-22 11:26:03.000000000,2018-03-22 12:55:17.000000000,2018-03-22 12:55:17.000000000,"[{'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 11:26:03.000000000', 'files': ['networking_calico/etcdutils.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ebfbf267ab12271ca68412e22a41b2c8e9c49e40', 'message': ""Don't log warnings when it is expected for watch to timeout\n\nChange-Id: I32c9bc3ea26e748d996ca015a5e9c00d0680b48d\n""}]",0,555261,ebfbf267ab12271ca68412e22a41b2c8e9c49e40,6,2,1,13734,,,0,"Don't log warnings when it is expected for watch to timeout

Change-Id: I32c9bc3ea26e748d996ca015a5e9c00d0680b48d
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/61/555261/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_calico/etcdutils.py'],1,ebfbf267ab12271ca68412e22a41b2c8e9c49e40,," # event, break out of this loop. If we are also writing a # of a recent compaction. Whatever the reason, we need to if self.round_trip_suffix is not None: LOG.warning(""Watch is not working"") else: LOG.debug(""Watch timed out"")"," # event, break out of this loop. As we are also writing a # of a recent compaction; and in either case we need to LOG.warning(""Watch is not working"")",6,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c,openstack/tripleo-heat-templates,stable/queens,Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c,Add check for old-style nic config files,MERGED,2018-03-20 12:19:16.000000000,2018-03-22 12:51:26.000000000,2018-03-22 12:51:26.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 12:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03391fc370f288c38a1651c41ff0f4816af96b34', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\nor Rocky (the format changed in Ocata), add a check in yaml-validate\nto detect that old-style files are in use and list conversion script\nthat can be used.\n\nMade some changes to the script to ask before overwriting the nic\nconfig file and save a datestamped copy as backup.  In addition,\nthe script now takes an optional parameter to define location\nof run-os-net-config.sh.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n(cherry picked from commit 0017b64560074032b09b18b349c2ba1d8b71196b)\n'}, {'number': 2, 'created': '2018-03-20 12:26:18.000000000', 'files': ['tools/yaml-nic-config-2-script.py', 'releasenotes/notes/check-old-style-nic-config-4624a60e3303411b.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af3f7f61e71a46e762decd9c698d8fde46e14b6a', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\nor Rocky (the format changed in Ocata), add a check in yaml-validate\nto detect that old-style files are in use and list conversion script\nthat can be used.\n\nMade some changes to the script to ask before overwriting the nic\nconfig file and save a datestamped copy as backup.  In addition,\nthe script now takes an optional parameter to define location\nof run-os-net-config.sh.\n\nNote: With cherry pick to stable/queens the template version is\nnow ""queens"".\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n(cherry picked from commit 0017b64560074032b09b18b349c2ba1d8b71196b)\n'}]",0,554521,af3f7f61e71a46e762decd9c698d8fde46e14b6a,9,4,2,21909,,,0,"Add check for old-style nic config files

Since old-style nic config files can no longer be used in Queens
or Rocky (the format changed in Ocata), add a check in yaml-validate
to detect that old-style files are in use and list conversion script
that can be used.

Made some changes to the script to ask before overwriting the nic
config file and save a datestamped copy as backup.  In addition,
the script now takes an optional parameter to define location
of run-os-net-config.sh.

Note: With cherry pick to stable/queens the template version is
now ""queens"".

Change-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c
Closes-Bug: 1753812
(cherry picked from commit 0017b64560074032b09b18b349c2ba1d8b71196b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/554521/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/yaml-nic-config-2-script.py', 'releasenotes/notes/check-old-style-nic-config-4624a60e3303411b.yaml', 'tools/yaml-validate.py']",3,03391fc370f288c38a1651c41ff0f4816af96b34,bug/1753812," if retval == 0 and is_heat_template: # check for old style nic config files retval = validate_nic_config_file(filename, tpl) def validate_nic_config_file(filename, tpl): try: if isinstance(tpl.get('resources', {}), dict): for r in (tpl.get('resources', {})).items(): if (r[1].get('type') == 'OS::Heat::StructuredConfig' and r[1].get('properties', {}).get('group') == 'os-apply-config' and r[1].get('properties', {}).get('config', {}).get('os_net_config')): print('ERROR: Using old format of nic configuration file: %s' % filename) print('tools/yaml-nic-config-2-script.py can be used to convert to new format') return 1 except Exception: print(traceback.format_exc()) return 1 return 0 ",,105,35
openstack%2Ftacker-horizon~master~I9c964aa4bc9afc0281b7a0133a78896c1f922091,openstack/tacker-horizon,master,I9c964aa4bc9afc0281b7a0133a78896c1f922091,Update tacker-horizon README,ABANDONED,2018-03-20 04:46:51.000000000,2018-03-22 12:46:54.000000000,,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-20 04:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/0792951269bf3240f2c69bca5c42b28f77aa73a5', 'message': 'Update tacker-horizon README\n\nChange-Id: I9c964aa4bc9afc0281b7a0133a78896c1f922091\n'}, {'number': 2, 'created': '2018-03-20 06:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/b2eb17cf3985ca9b3e89cb0806e0f084e545d51e', 'message': 'Update tacker-horizon README\n\nChange-Id: I9c964aa4bc9afc0281b7a0133a78896c1f922091\n'}, {'number': 3, 'created': '2018-03-20 11:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/66e170629a48e5b11b08e91a5651144b133a840d', 'message': 'Update tacker-horizon README\n\nChange-Id: I9c964aa4bc9afc0281b7a0133a78896c1f922091\n'}, {'number': 4, 'created': '2018-03-21 03:24:56.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/0a4a7d85b264288dfb817192d368e6abc3c02a33', 'message': 'Update tacker-horizon README\n\nChange-Id: I9c964aa4bc9afc0281b7a0133a78896c1f922091\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\n'}]",2,554411,0a4a7d85b264288dfb817192d368e6abc3c02a33,16,4,4,27068,,,0,"Update tacker-horizon README

Change-Id: I9c964aa4bc9afc0281b7a0133a78896c1f922091
Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/11/554411/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0792951269bf3240f2c69bca5c42b28f77aa73a5,,"4. Collect and compress static files. :: ./manage.py collectstatic --noinput echo yes | ./manage.py compress 5. Restart Apache server.**Note:** if your server is using Systemd instead of Upstart (e.g Ubuntu 15.10 and above), use the following command instead: :: sudo systemctl restart apache2 ",4. Restart Apache server.,17,1
openstack%2Fpython-ironicclient~master~I83f8e037d3ede683281b59681ccdf725d3659958,openstack/python-ironicclient,master,I83f8e037d3ede683281b59681ccdf725d3659958,Switch the CI to hardware types and clean up playbook,MERGED,2018-03-13 15:06:43.000000000,2018-03-22 12:43:47.000000000,2018-03-22 12:43:47.000000000,"[{'_account_id': 6637}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 15:06:43.000000000', 'files': ['playbooks/legacy/ironicclient-tempest-dsvm-src/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4d14e8006298513abe412b7e59a57eb52e43a4e9', 'message': ""Switch the CI to hardware types and clean up playbook\n\nThis change modifies the playbook to use the 'ipmi' hardware type.\nIt also removes redundant conditions. The job name is not changed\nto simplify the patch.\n\nChange-Id: I83f8e037d3ede683281b59681ccdf725d3659958\n""}]",0,552543,4d14e8006298513abe412b7e59a57eb52e43a4e9,8,3,1,10239,,,0,"Switch the CI to hardware types and clean up playbook

This change modifies the playbook to use the 'ipmi' hardware type.
It also removes redundant conditions. The job name is not changed
to simplify the patch.

Change-Id: I83f8e037d3ede683281b59681ccdf725d3659958
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/43/552543/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/ironicclient-tempest-dsvm-src/run.yaml'],1,4d14e8006298513abe412b7e59a57eb52e43a4e9,hw-types," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"""," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEPLOY_DRIVER_ISCSI_WITH_IPA=True"" # Standardize VM size for each supported ramdisk case ""tinyipa"" in 'tinyipa') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'tinyipa256') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=256"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'coreos') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=1280"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=coreos"" ;; # if using a ramdisk without a known good value, use the devstack # default by not exporting any value for IRONIC_VM_SPECS_RAM esac export DEVSTACK_GATE_IRONIC_DRIVER=pxe_ipmitool if [ ""pxe_ipmitool"" == ""pxe_snmp"" ] ; then # explicitly enable pxe_snmp driver export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake,pxe_snmp"" fi if [ ""pxe_ipmitool"" == ""redfish"" ] ; then # When deploying with redfish we need to enable the ""redfish"" # hardware type export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_HARDWARE_TYPES=redfish"" fi if [ ""partition"" == ""wholedisk"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" else export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" fi if [ -n """" ] ; then export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" else export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" fi if [ ""bios"" == ""uefi"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_BOOT_MODE=uefi"" fi export DEVSTACK_PROJECT_FROM_GIT=""""",7,53
openstack%2Fopenstack-ansible-os_keystone~master~I9006dbb15837178cee7de869372c901040095e2b,openstack/openstack-ansible-os_keystone,master,I9006dbb15837178cee7de869372c901040095e2b,Add ability to configure NGINX to show correct IP in logs,MERGED,2018-03-10 18:19:11.000000000,2018-03-22 12:38:29.000000000,2018-03-22 12:38:29.000000000,"[{'_account_id': 6816}, {'_account_id': 9414}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-10 18:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/bf01054c9a16afbf4db240efc00a0abd6d785cb8', 'message': 'Add ability to configure NGINX to show correct IP in logs\n\nAt the moment, NGINX will be using the IP which initiated the\nconnection in the logs which could be misleading if you are using\nit behind a load balancer.\n\nThis patch adds the ability to be able to configure the hosts\nwhich can send the semi-standard X-Forwarded-For header in\norder to show the right IP in the logs.\n\nChange-Id: I9006dbb15837178cee7de869372c901040095e2b\n'}, {'number': 2, 'created': '2018-03-11 00:06:44.000000000', 'files': ['templates/keystone_nginx.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5173d0f1fcfb78bfeb43229858474d587b1ca309', 'message': 'Add ability to configure NGINX to show correct IP in logs\n\nAt the moment, NGINX will be using the IP which initiated the\nconnection in the logs which could be misleading if you are using\nit behind a load balancer.\n\nThis patch adds the ability to be able to configure the hosts\nwhich can send the semi-standard X-Forwarded-For header in\norder to show the right IP in the logs.\n\nChange-Id: I9006dbb15837178cee7de869372c901040095e2b\n'}]",1,551698,5173d0f1fcfb78bfeb43229858474d587b1ca309,11,5,2,1004,,,0,"Add ability to configure NGINX to show correct IP in logs

At the moment, NGINX will be using the IP which initiated the
connection in the logs which could be misleading if you are using
it behind a load balancer.

This patch adds the ability to be able to configure the hosts
which can send the semi-standard X-Forwarded-For header in
order to show the right IP in the logs.

Change-Id: I9006dbb15837178cee7de869372c901040095e2b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/98/551698/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone_nginx.conf.j2'],1,bf01054c9a16afbf4db240efc00a0abd6d785cb8,add-forwared-for, real_ip_header X-Forwarded-For; {% for ip in keystone_set_real_ip_from %} set_real_ip_from {{ ip }}; {%- endfor %} ,,5,0
openstack%2Fpython-manilaclient~stable%2Fqueens~I7a0a756c95d9878c3f6ba9f2d9a481eec8c5d48d,openstack/python-manilaclient,stable/queens,I7a0a756c95d9878c3f6ba9f2d9a481eec8c5d48d,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-01 17:43:43.000000000,2018-03-22 12:37:08.000000000,2018-03-22 12:37:08.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 17:43:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/adc37fc1f13c499a9991829e04da399225e8fcc3', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/queens\n\nChange-Id: I7a0a756c95d9878c3f6ba9f2d9a481eec8c5d48d\n'}]",0,540060,adc37fc1f13c499a9991829e04da399225e8fcc3,13,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/queens

Change-Id: I7a0a756c95d9878c3f6ba9f2d9a481eec8c5d48d
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/60/540060/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,adc37fc1f13c499a9991829e04da399225e8fcc3,create-queens, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fironic-specs~master~Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175,openstack/ironic-specs,master,Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175,Support power fault recovery,MERGED,2018-03-15 09:47:52.000000000,2018-03-22 12:26:19.000000000,2018-03-22 12:26:18.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-03-15 09:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2e407f84acffbb1a13d032eaa0cea9a8aa91ee00', 'message': 'Support power fault recovery\n\nThis spec proposes adding a new node field to differentiate different\nmaintenance types. And, if possible, recover node from maintenance\nstate if the node is in maintenance due to power sync failure, and power\nsync is succeed.\n\nChange-Id: Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175\nRelated-Bug: #1596107\n'}, {'number': 2, 'created': '2018-03-20 05:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b118359de4c50d7b63f8c203c797652308e0740a', 'message': 'Support power fault recovery\n\nThis spec proposes adding a new node field to differentiate different\nmaintenance types. And, if possible, recover node from maintenance\nstate if the node is in maintenance due to power sync failure, and power\nsync is succeed.\n\nChange-Id: Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175\nRelated-Bug: #1596107\n'}, {'number': 3, 'created': '2018-03-21 01:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b527e646e029644421b4ecebdfccd1b68f71724a', 'message': 'Support power fault recovery\n\nThis spec proposes adding a new node field to differentiate different\nmaintenance types. And, if possible, recover node from maintenance\nstate if the node is in maintenance due to power sync failure, and power\nsync is succeed.\n\nChange-Id: Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175\nRelated-Bug: #1596107\n'}, {'number': 4, 'created': '2018-03-22 02:50:28.000000000', 'files': ['specs/approved/power-fault-recovery.rst', 'specs/not-implemented/power-fault-recovery.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c20caae1f7c8fb08d0157f8391eb29977bb0a52f', 'message': 'Support power fault recovery\n\nThis spec proposes adding a new node field to differentiate different\nmaintenance types. And, if possible, recover node from maintenance\nstate if the node is in maintenance due to power sync failure, and power\nsync is succeed.\n\nChange-Id: Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175\nRelated-Bug: #1596107\n'}]",22,553308,c20caae1f7c8fb08d0157f8391eb29977bb0a52f,24,5,4,24828,,,0,"Support power fault recovery

This spec proposes adding a new node field to differentiate different
maintenance types. And, if possible, recover node from maintenance
state if the node is in maintenance due to power sync failure, and power
sync is succeed.

Change-Id: Ief33a1f8ac751f51279ad9ec2ef39ed5a363a175
Related-Bug: #1596107
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/08/553308/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/power-fault-recovery.rst', 'specs/not-implemented/power-fault-recovery.rst']",2,2e407f84acffbb1a13d032eaa0cea9a8aa91ee00,bug/1596107,../approved/power-fault-recovery.rst,,222,0
openstack%2Ftripleo-heat-templates~master~Ie099390c977fb0cefd7f966f5b592c72b32d768f,openstack/tripleo-heat-templates,master,Ie099390c977fb0cefd7f966f5b592c72b32d768f,WIP: explictly set expected fqdn in nova/ceilo/neutron.conf,ABANDONED,2018-01-29 22:23:14.000000000,2018-03-22 12:25:19.000000000,,"[{'_account_id': 4328}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-01-29 22:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1810ed68d5db8a4298e6f6727670b5dae859b6fa', 'message': 'WIP: explictly set expected fqdn in nova/ceilo/neurton.conf\n\nChange-Id: Ie099390c977fb0cefd7f966f5b592c72b32d768f\n'}, {'number': 2, 'created': '2018-01-30 09:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c21ee8744a1925360578f2a6fb6424763a3cc8a7', 'message': 'WIP: explictly set expected fqdn in nova/ceilo/neurton.conf\n\nChange-Id: Ie099390c977fb0cefd7f966f5b592c72b32d768f\n'}, {'number': 3, 'created': '2018-01-30 09:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f838606e4b5cf8c81278a75c4f48562ce97e410', 'message': 'WIP: explictly set expected fqdn in nova/ceilo/neurton.conf\n\nChange-Id: Ie099390c977fb0cefd7f966f5b592c72b32d768f\n'}, {'number': 4, 'created': '2018-01-30 09:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f92efa32065f896d9edbbcddea64a12e945868ba', 'message': 'WIP: explictly set expected fqdn in nova/ceilo/neutron.conf\n\nChange-Id: Ie099390c977fb0cefd7f966f5b592c72b32d768f\n'}, {'number': 5, 'created': '2018-02-01 11:51:25.000000000', 'files': ['puppet/services/nova-base.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d56c39d823239974127cc4639a3a9505b60d3ac', 'message': 'WIP: explictly set expected fqdn in nova/ceilo/neutron.conf\n\nChange-Id: Ie099390c977fb0cefd7f966f5b592c72b32d768f\n'}]",4,539030,7d56c39d823239974127cc4639a3a9505b60d3ac,16,4,5,23811,,,0,"WIP: explictly set expected fqdn in nova/ceilo/neutron.conf

Change-Id: Ie099390c977fb0cefd7f966f5b592c72b32d768f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/539030/3 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-base.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/neutron-base.yaml']",3,1810ed68d5db8a4298e6f6727670b5dae859b6fa,," neutron::host: ""%{hiera('fqdn_canonical')}""", neutron::host: '%{::fqdn}',3,3
openstack%2Fos-client-config~master~I9aa2f3770610570166fc7004df1e05da9c5e0d4a,openstack/os-client-config,master,I9aa2f3770610570166fc7004df1e05da9c5e0d4a,pypy is not checked at gate,MERGED,2018-03-21 15:45:51.000000000,2018-03-22 12:23:06.000000000,2018-03-22 12:23:06.000000000,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 25983}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-21 15:45:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/e86641fd0b45b76a40bd459fff7d977cfa59004e', 'message': 'pypy is not checked at gate\n\nChange-Id: I9aa2f3770610570166fc7004df1e05da9c5e0d4a\n'}]",0,554955,e86641fd0b45b76a40bd459fff7d977cfa59004e,9,5,1,25983,,,0,"pypy is not checked at gate

Change-Id: I9aa2f3770610570166fc7004df1e05da9c5e0d4a
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/55/554955/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e86641fd0b45b76a40bd459fff7d977cfa59004e,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fpython-manilaclient~stable%2Fqueens~I92504ead0812fb2ad3462d79f778e042511f9982,openstack/python-manilaclient,stable/queens,I92504ead0812fb2ad3462d79f778e042511f9982,Update .gitreview for stable/queens,MERGED,2018-02-01 17:43:36.000000000,2018-03-22 12:14:58.000000000,2018-03-22 12:14:58.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 17:43:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3a3df845737f10f908d620a3d9f7d9f3bbba847a', 'message': 'Update .gitreview for stable/queens\n\nChange-Id: I92504ead0812fb2ad3462d79f778e042511f9982\n'}]",0,540059,3a3df845737f10f908d620a3d9f7d9f3bbba847a,12,2,1,22816,,,0,"Update .gitreview for stable/queens

Change-Id: I92504ead0812fb2ad3462d79f778e042511f9982
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/59/540059/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3a3df845737f10f908d620a3d9f7d9f3bbba847a,create-queens,defaultbranch=stable/queens,,1,0
openstack%2Fnova~master~I57ab5562f11370f8f69f2b886617d9b9b5ead770,openstack/nova,master,I57ab5562f11370f8f69f2b886617d9b9b5ead770,t,ABANDONED,2018-03-22 11:39:48.000000000,2018-03-22 12:14:14.000000000,,"[{'_account_id': 14595}, {'_account_id': 15751}]","[{'number': 1, 'created': '2018-03-22 11:39:48.000000000', 'files': ['nova/api/openstack/api_version_request.py', 'nova/conductor/manager.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/compute/api.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e49a78330685e8153e77662f0a2c31060a4fbf79', 'message': 't\n\nChange-Id: I57ab5562f11370f8f69f2b886617d9b9b5ead770\n'}]",0,555267,e49a78330685e8153e77662f0a2c31060a4fbf79,4,2,1,20722,,,0,"t

Change-Id: I57ab5562f11370f8f69f2b886617d9b9b5ead770
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/555267/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/api_version_request.py', 'nova/conductor/manager.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/compute/api.py', 'nova/compute/utils.py']",5,e49a78330685e8153e77662f0a2c31060a4fbf79,bp/add-host-to-instance-action-events," def __init__(self, context, event_name, host, *instance_uuids): self.host = host self.context, uuid, self.event_name, want_result=False, host=self.host) with EventReporter(context, event_name, self.host, instance_uuid):"," def __init__(self, context, event_name, *instance_uuids): self.context, uuid, self.event_name, want_result=False) with EventReporter(context, event_name, instance_uuid):",31,12
openstack%2Fcharm-nova-cloud-controller~stable%2F18.02~I4806580f58e2a2feba82c74d9d5ff29dfb220c9e,openstack/charm-nova-cloud-controller,stable/18.02,I4806580f58e2a2feba82c74d9d5ff29dfb220c9e,Ensure only the leader can add hosts to cell,MERGED,2018-03-21 17:37:27.000000000,2018-03-22 12:04:30.000000000,2018-03-22 12:04:30.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 17:37:27.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9d3fb0f6cf1fef03feffd5e602081269b5dc83b0', 'message': 'Ensure only the leader can add hosts to cell\n\nEnsure that only the elected leader can add compute hosts to the\ncell in cloud-compute-relation-changed as database commands should\nonly be run by the elected leader.\n\nChange-Id: I4806580f58e2a2feba82c74d9d5ff29dfb220c9e\nCloses-Bug: #1752402\n'}]",0,554999,9d3fb0f6cf1fef03feffd5e602081269b5dc83b0,11,6,1,11805,,,0,"Ensure only the leader can add hosts to cell

Ensure that only the elected leader can add compute hosts to the
cell in cloud-compute-relation-changed as database commands should
only be run by the elected leader.

Change-Id: I4806580f58e2a2feba82c74d9d5ff29dfb220c9e
Closes-Bug: #1752402
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/99/554999/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,9d3fb0f6cf1fef03feffd5e602081269b5dc83b0,bug/1752402-stable/18.02, if is_leader() and is_cellv2_init_ready() and is_db_initialised():, if is_cellv2_init_ready() and is_db_initialised():,33,1
openstack%2Fnova~master~I1c87f994974b6bdaf93ce546af4a9ccfb304fec6,openstack/nova,master,I1c87f994974b6bdaf93ce546af4a9ccfb304fec6,libvirt: move vpu_realtime_scheduler in designer,MERGED,2018-03-21 09:47:13.000000000,2018-03-22 11:59:19.000000000,2018-03-22 01:07:38.000000000,"[{'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-21 09:47:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/designer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/620e4c101b158e93665d7ea9ec76949f75b03866', 'message': 'libvirt: move vpu_realtime_scheduler in designer\n\nChange-Id: I1c87f994974b6bdaf93ce546af4a9ccfb304fec6\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n'}]",1,554851,620e4c101b158e93665d7ea9ec76949f75b03866,20,16,1,7730,,,0,"libvirt: move vpu_realtime_scheduler in designer

Change-Id: I1c87f994974b6bdaf93ce546af4a9ccfb304fec6
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/554851/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/designer.py']",2,620e4c101b158e93665d7ea9ec76949f75b03866,designer," def set_vcpu_realtime_scheduler(conf, vcpus_rt, priority): """"""Prepares realtime config for the guest."""""" conf.vcpus = vcpus_rt conf.scheduler = ""fifo"" conf.priority = priority",,11,11
openstack%2Fnova~master~Ibeddcb9a93c180f74727431b0579308c400436db,openstack/nova,master,Ibeddcb9a93c180f74727431b0579308c400436db,Add disabled column to cell_mappings table.,MERGED,2018-03-13 12:40:12.000000000,2018-03-22 11:58:32.000000000,2018-03-22 01:07:03.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-13 12:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95ec4816d82d43feed997f841d97d31a556f84c0', 'message': '[WIP] Add disabled column to cell_mappings table.\n\nRelated to blueprint cell-disable\n\nChange-Id: Ibeddcb9a93c180f74727431b0579308c400436db\n'}, {'number': 2, 'created': '2018-03-14 22:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/243557d4e42d8dfe795ca3929cf1599164e3d959', 'message': 'Add disabled column to cell_mappings table.\n\nRelated to blueprint cell-disable\n\nChange-Id: Ibeddcb9a93c180f74727431b0579308c400436db\n'}, {'number': 3, 'created': '2018-03-15 11:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac9b45546c6b3ef8071480dcfdaecdb0f1ec3b73', 'message': 'Add disabled column to cell_mappings table.\n\nThis column has been added to the cell_mappings table since it is\nrequired to represent if a cell is enabled or disabled as a part of the\ncell-disable spec.\n\n\nRelated to blueprint cell-disable\n\nChange-Id: Ibeddcb9a93c180f74727431b0579308c400436db\n'}, {'number': 4, 'created': '2018-03-17 21:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8980e1c28105fddbe89ff57fb640149a819a80c6', 'message': 'Add disabled column to cell_mappings table.\n\nThis column has been added to the cell_mappings table since it is\nrequired to represent if a cell is enabled or disabled as a part of the\ncell-disable spec.\n\n\nRelated to blueprint cell-disable\n\nChange-Id: Ibeddcb9a93c180f74727431b0579308c400436db\n'}, {'number': 5, 'created': '2018-03-17 22:18:27.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/058_cell_mapping_add_disabled.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9743f0c2aab2679c41e3961af44de42d2adc623', 'message': 'Add disabled column to cell_mappings table.\n\nThis column has been added to the cell_mappings table since it is\nrequired to represent if a cell is enabled or disabled as a part of the\ncell-disable spec.\n\nRelated to blueprint cell-disable\n\nChange-Id: Ibeddcb9a93c180f74727431b0579308c400436db\n'}]",0,552505,f9743f0c2aab2679c41e3961af44de42d2adc623,63,16,5,26936,,,0,"Add disabled column to cell_mappings table.

This column has been added to the cell_mappings table since it is
required to represent if a cell is enabled or disabled as a part of the
cell-disable spec.

Related to blueprint cell-disable

Change-Id: Ibeddcb9a93c180f74727431b0579308c400436db
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/552505/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_models.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/053_cell_mapping_add_disabled.py', 'nova/tests/functional/db/api/test_migrations.py']",3,95ec4816d82d43feed997f841d97d31a556f84c0,bp/cell-disable," def _check_053(self, engine, data): self.assertColumnExists(engine, 'cell_mappings', 'disabled') ",,30,0
openstack%2Fnova~master~Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5,openstack/nova,master,Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5,Unmap compute nodes when deleting host mappings in delete cell operation,MERGED,2018-02-09 18:00:48.000000000,2018-03-22 11:58:20.000000000,2018-03-18 01:52:26.000000000,"[{'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 26936}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-02-09 18:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e8ff1a818e0cae6e65dd1910165f6f68e6ed371', 'message': 'Unmap compute nodes when deleting host mappings during delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its mapped\nfield set to 1. Due to this, if we delete a cell, and later create a new cell,\nthe discover_hosts command will not work and the compute node will not get\nmapped to the new cell. This patch fixes this issue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n'}, {'number': 2, 'created': '2018-02-09 18:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b052a21857775acd14a4f6b6b899b67c0f826a2b', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n'}, {'number': 3, 'created': '2018-02-20 15:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4259c84c17b7b0cd20fa2615046b7e3a473cc95', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n'}, {'number': 4, 'created': '2018-02-20 15:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/775de9ce688d8fb3e0f396d274679e38aeb31657', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n'}, {'number': 5, 'created': '2018-02-21 12:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2db015777d38fe382d6c3f58763cfb9c1bb8572d', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n'}, {'number': 6, 'created': '2018-03-15 16:41:06.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc2d15129d1a86a841e3dc1ccab250c30d34c540', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n'}]",3,542964,dc2d15129d1a86a841e3dc1ccab250c30d34c540,71,20,6,26936,,,0,"Unmap compute nodes when deleting host mappings in delete cell operation

Presently when a host_mapping is deleted during the nova-manage cell_v2
delete_cell operation, the compute node record still remains with its
mapped field set to 1. Due to this, if we delete a cell, and later
create a new cell, the discover_hosts command will not work and the
compute node will not get mapped to the new cell. This patch fixes this
issue by setting it back to 0.

Change-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5
Closes-Bug: #1747936
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/542964/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",3,0e8ff1a818e0cae6e65dd1910165f6f68e6ed371,bug/1747936," nodes = [] if host_mappings: if not force: print(_('There are existing hosts mapped to cell with uuid ' '%s.') % cell_uuid) return 2 # We query for the compute nodes in the cell, # so that they can be unmapped. with context.target_cell(ctxt, cell_mapping) as cctxt: nodes = objects.ComputeNodeList.get_all(cctxt) # Unmap the compute nodes so that they can be discovered # again in future, if needed. for node in nodes: node.mapped = 0 node.save() ", if host_mappings and not force: print(_('There are existing hosts mapped to cell with uuid %s.') % cell_uuid) return 2,53,6
openstack%2Fopenstacksdk~master~I97e345e0270bcbd8f3467defd41dd2cadfc80f0f,openstack/openstacksdk,master,I97e345e0270bcbd8f3467defd41dd2cadfc80f0f,Fix TypeError in case of FloatingIP add and remove,MERGED,2018-03-12 18:35:32.000000000,2018-03-22 11:57:40.000000000,2018-03-22 11:57:39.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 18:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a9a9379e58093ab72d046645f47174a617eb2168', 'message': 'Fix TypeError in case of FloatingIP add and remove\n\nChange-Id: I97e345e0270bcbd8f3467defd41dd2cadfc80f0f\nCloses-Bug: #1747275\n'}, {'number': 2, 'created': '2018-03-13 07:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3a1f7ced03bece0b481e518a271926563948ebbf', 'message': 'Fix TypeError in case of FloatingIP add and remove\n\nChange-Id: I97e345e0270bcbd8f3467defd41dd2cadfc80f0f\nCloses-Bug: #1747275\n'}, {'number': 3, 'created': '2018-03-20 07:25:14.000000000', 'files': ['openstack/network/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8143b28e852ba4c6552f5555dfffe912fd607edd', 'message': 'Fix TypeError in case of FloatingIP add and remove\n\nChange-Id: I97e345e0270bcbd8f3467defd41dd2cadfc80f0f\nCloses-Bug: #1747275\n'}]",0,552112,8143b28e852ba4c6552f5555dfffe912fd607edd,10,2,3,27746,,,0,"Fix TypeError in case of FloatingIP add and remove

Change-Id: I97e345e0270bcbd8f3467defd41dd2cadfc80f0f
Closes-Bug: #1747275
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/12/552112/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/_proxy.py'],1,a9a9379e58093ab72d046645f47174a617eb2168,bug/1747275, ip.port_id = port.id ip.port_id = None, ip['port_id'] = port.id ip['port_id'] = None,2,2
openstack%2Fnova~master~I9bf1491df46d112b523769ab632897c7b9be5a20,openstack/nova,master,I9bf1491df46d112b523769ab632897c7b9be5a20,Report client: Remove version discovery comment,MERGED,2018-03-19 15:06:29.000000000,2018-03-22 11:57:15.000000000,2018-03-20 00:04:52.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-19 15:06:29.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd6ba7c76d023806a25325c32001bc2cb710f21f', 'message': 'Report client: Remove version discovery comment\n\nThere was a long-standing comment in the report client about performing\nversion discovery on the placement API.  It was unclear what said\ndiscovery would be used for.  Some thought it should be to allow us to\navoid doing per-API negotiation like:\n\nresp = self.get(..., version=HIGHER)\nif resp.status_code == 406:\n    resp = self.get(..., version=LOWER)\n\nSo a spec [1] and patch [2] were started.  But upon discussion [3] it\nwas decided that the 406-based negotiation was fine.  So this change set\nsimply removes the comment.\n\n[1] https://review.openstack.org/549184\n[2] https://review.openstack.org/548983\n[3] http://eavesdrop.openstack.org/meetings/nova_scheduler/2018/nova_scheduler.2018-03-19-14.00.log.html#l-209\n\nChange-Id: I9bf1491df46d112b523769ab632897c7b9be5a20\n'}]",0,554253,dd6ba7c76d023806a25325c32001bc2cb710f21f,22,15,1,14070,,,0,"Report client: Remove version discovery comment

There was a long-standing comment in the report client about performing
version discovery on the placement API.  It was unclear what said
discovery would be used for.  Some thought it should be to allow us to
avoid doing per-API negotiation like:

resp = self.get(..., version=HIGHER)
if resp.status_code == 406:
    resp = self.get(..., version=LOWER)

So a spec [1] and patch [2] were started.  But upon discussion [3] it
was decided that the 406-based negotiation was fine.  So this change set
simply removes the comment.

[1] https://review.openstack.org/549184
[2] https://review.openstack.org/548983
[3] http://eavesdrop.openstack.org/meetings/nova_scheduler/2018/nova_scheduler.2018-03-19-14.00.log.html#l-209

Change-Id: I9bf1491df46d112b523769ab632897c7b9be5a20
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/554253/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,dd6ba7c76d023806a25325c32001bc2cb710f21f,remove_version_discovery_comment,, # TODO(mriedem): Perform some version discovery at some point.,0,1
openstack%2Fnova~master~I0971b810e1c3f356c25e9b5ca29795895c38322b,openstack/nova,master,I0971b810e1c3f356c25e9b5ca29795895c38322b,[libvirt] Add _get_numa_memnode(),MERGED,2017-12-23 05:42:07.000000000,2018-03-22 11:57:01.000000000,2018-03-19 20:50:06.000000000,"[{'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2017-12-23 05:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a31e54c20305e629271342613506cc7e970bad43', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 2, 'created': '2017-12-29 09:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/917289b98bea91c5f1391689f3aedd36e88d7fac', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 3, 'created': '2018-01-30 11:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac52958ebe5d030d0b36d5459cacbeef727d466', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 4, 'created': '2018-02-01 02:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfdc1d0c5110e62ca0a7db57fa92f9d9f5b063be', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 5, 'created': '2018-02-15 02:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd07d3b2f0f3ca73134f89768e9e7037bed9528e', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 6, 'created': '2018-02-15 05:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23d21a20a26df12c26537d2a57921a4a589dd515', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 7, 'created': '2018-02-16 08:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b67401f58829c08c1fd6196293e1231eb97c726e', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}, {'number': 8, 'created': '2018-03-19 03:47:13.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7abd28954a178f32367fea7ce9411e6be064d672', 'message': '[libvirt] Add _get_numa_memnode()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_memnode() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b\n'}]",6,529906,7abd28954a178f32367fea7ce9411e6be064d672,105,21,8,25625,,,0,"[libvirt] Add _get_numa_memnode()

This patch pulls out a method to prepare numa memory configuration
for libvirt to _get_numa_memnode() function.

This is a part of refactoring the construction of guest numa
configuration for libvirt.

Change-Id: I0971b810e1c3f356c25e9b5ca29795895c38322b
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/529906/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,a31e54c20305e629271342613506cc7e970bad43,bp/libvirt-qemu-numa-support," def _get_numa_memnode(self, guest_node_id, host_cell_id): """"""Returns the config object of LibvirtConfigGuestNUMATuneMemNode. Prepares numa memory node config for the guest. """""" node = vconfig.LibvirtConfigGuestNUMATuneMemNode() node.cellid = guest_node_id node.nodeset = [host_cell_id] node.mode = ""strict"" return node # Init NUMATune configuration guest_numa_tune = vconfig.LibvirtConfigGuestNUMATune() guest_numa_tune.memory = ( vconfig.LibvirtConfigGuestNUMATuneMemory()) guest_numa_tune.memnodes = ( [vconfig.LibvirtConfigGuestNUMATuneMemNode() for _ in guest_cpu_numa_config.cells]) guest_numa_tune.memnodes[guest_node_id] = ( self._get_numa_memnode(guest_node_id, host_cell.id)) guest_numa_tune.memory.nodeset.append( host_cell.id)"," guest_numa_tune = vconfig.LibvirtConfigGuestNUMATune() numa_mem = vconfig.LibvirtConfigGuestNUMATuneMemory() numa_memnodes = [vconfig.LibvirtConfigGuestNUMATuneMemNode() for _ in guest_cpu_numa_config.cells] node = numa_memnodes[guest_node_id] node.cellid = guest_node_id node.nodeset = [host_cell.id] node.mode = ""strict"" numa_mem.nodeset.append(host_cell.id) guest_numa_tune.memory = numa_mem guest_numa_tune.memnodes = numa_memnodes ",22,13
openstack%2Fnova~master~I3d8b3d783c2ab37e1c907f7e6802ac00152d8439,openstack/nova,master,I3d8b3d783c2ab37e1c907f7e6802ac00152d8439,Updated from global requirements,MERGED,2018-03-17 00:18:15.000000000,2018-03-22 11:56:57.000000000,2018-03-17 12:21:37.000000000,"[{'_account_id': 679}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-17 00:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/250e5ef1c9db8c802d977bc3efdb4bcabf68ac4e', 'message': 'Updated from global requirements\n\nChange-Id: I3d8b3d783c2ab37e1c907f7e6802ac00152d8439\n'}, {'number': 2, 'created': '2018-03-17 08:48:20.000000000', 'files': ['requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/38f7b68a64121569890fec3f3933b408a2e447a8', 'message': 'Updated from global requirements\n\nChange-Id: I3d8b3d783c2ab37e1c907f7e6802ac00152d8439\n'}]",0,553918,38f7b68a64121569890fec3f3933b408a2e447a8,19,10,2,11131,,,0,"Updated from global requirements

Change-Id: I3d8b3d783c2ab37e1c907f7e6802ac00152d8439
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/553918/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,250e5ef1c9db8c802d977bc3efdb4bcabf68ac4e,openstack/requirements,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.",,3,0
openstack%2Fnova~master~I0c7b802a453aa423c7273ab724ce78eac0cfed4c,openstack/nova,master,I0c7b802a453aa423c7273ab724ce78eac0cfed4c,Make archive_deleted_rows handle a missing CONF.api_database.connection,MERGED,2018-03-08 18:07:01.000000000,2018-03-22 11:56:24.000000000,2018-03-18 02:16:29.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-08 18:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41139bcba8145d629e6815fb220fa754688fb924', 'message': 'Make archive_deleted_rows handle a missing CONF.api_database.connection\n\nThis change https://review.openstack.org/#/c/515034/ (added in queens)\nmakes the archive_deleted_rows CLI remove instance mappings and request\nspecs from the API database if there are instances archived from the\nmain nova/cell database. However for this to work, the api database\nconnection should be set in the config file. So in the case that the\nAPI database is not configured in the nova.conf being used to run the\nCLI, we should gracefully handle the condition and continue archiving.\nThis patch fixes the graceful handling.\n\nChange-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c\nCloses-Bug: #1753833\n'}, {'number': 2, 'created': '2018-03-08 23:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/220d7b632d87c0f67740560c0df497f4228127ee', 'message': 'Make archive_deleted_rows handle a missing CONF.api_database.connection\n\nThis change https://review.openstack.org/#/c/515034/ (added in queens)\nmakes the archive_deleted_rows CLI remove instance mappings and request\nspecs from the API database if there are instances archived from the\nmain nova/cell database. However for this to work, the api database\nconnection should be set in the config file. So in the case that the\nAPI database is not configured in the nova.conf being used to run the\nCLI, we should gracefully handle the condition and continue archiving.\nThis patch fixes the graceful handling.\n\nChange-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c\nCloses-Bug: #1753833\n'}, {'number': 3, 'created': '2018-03-09 00:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdc18644f394b9c4cc7eda9119d2dc8a85847b5d', 'message': 'Make archive_deleted_rows handle a missing CONF.api_database.connection\n\nThis change https://review.openstack.org/#/c/515034/ (added in queens)\nmakes the archive_deleted_rows CLI remove instance mappings and request\nspecs from the API database if there are instances archived from the\nmain nova/cell database. However for this to work, the api database\nconnection should be set in the config file. So in the case that the\nAPI database is not configured in the nova.conf being used to run the\nCLI, we should gracefully handle the condition and continue archiving.\nThis patch fixes the graceful handling.\n\nChange-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c\nCloses-Bug: #1753833\n'}, {'number': 4, 'created': '2018-03-13 17:54:53.000000000', 'files': ['doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8da6831e6375d013f0235a542b6b91580a43f61f', 'message': 'Make archive_deleted_rows handle a missing CONF.api_database.connection\n\nThis change https://review.openstack.org/#/c/515034/ (added in queens)\nmakes the archive_deleted_rows CLI remove instance mappings and request\nspecs from the API database if there are instances archived from the\nmain nova/cell database. However for this to work, the api database\nconnection should be set in the config file. So in the case that the\nAPI database is not configured in the config file being used to run the\nCLI, we should gracefully handle the condition and and stop archiving thus\nprompting the user to set the api_db config and try the archival operation\nagain. This patch fixes the graceful handling.\n\nChange-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c\nCloses-Bug: #1753833\n'}]",17,550967,8da6831e6375d013f0235a542b6b91580a43f61f,83,16,4,26936,,,0,"Make archive_deleted_rows handle a missing CONF.api_database.connection

This change https://review.openstack.org/#/c/515034/ (added in queens)
makes the archive_deleted_rows CLI remove instance mappings and request
specs from the API database if there are instances archived from the
main nova/cell database. However for this to work, the api database
connection should be set in the config file. So in the case that the
API database is not configured in the config file being used to run the
CLI, we should gracefully handle the condition and and stop archiving thus
prompting the user to set the api_db config and try the archival operation
again. This patch fixes the graceful handling.

Change-Id: I0c7b802a453aa423c7273ab724ce78eac0cfed4c
Closes-Bug: #1753833
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/550967/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",3,41139bcba8145d629e6815fb220fa754688fb924,bug/1753833," try: table_to_rows_archived.setdefault('instance_mappings', 0) table_to_rows_archived.setdefault('request_specs', 0) ctxt = context.get_admin_context() deleted_ims = objects.InstanceMappingList.destroy_bulk( table_to_rows_archived['instance_mappings'] += deleted_ims deleted_specs = objects.RequestSpec.destroy_bulk( table_to_rows_archived['request_specs'] += deleted_specs except db_exc.CantStartEngineError: print(_('Failed to connect to API DB due to which the ' 'instance_mappings and request_specs of the ' 'deleted instances were not purged. Please check ' 'your config file to make sure that ' 'CONF.api_database.connection is set.')) pass"," table_to_rows_archived.setdefault('instance_mappings', 0) table_to_rows_archived.setdefault('request_specs', 0) ctxt = context.get_admin_context() deleted_mappings = objects.InstanceMappingList.destroy_bulk( table_to_rows_archived['instance_mappings'] += deleted_mappings deleted_specs = objects.RequestSpec.destroy_bulk( table_to_rows_archived['request_specs'] += deleted_specs",43,8
openstack%2Fnova~master~Ic4aaed95649f199346733224cd2eb32436d621e0,openstack/nova,master,Ic4aaed95649f199346733224cd2eb32436d621e0,libvirt: move get_numa_memnode in designer module,MERGED,2018-03-21 09:47:13.000000000,2018-03-22 11:55:06.000000000,2018-03-22 01:07:24.000000000,"[{'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-21 09:47:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/designer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a4fcfbd93370cbf01589559a98558059e86580b0', 'message': 'libvirt: move get_numa_memnode in designer module\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\nChange-Id: Ic4aaed95649f199346733224cd2eb32436d621e0\n'}]",0,554850,a4fcfbd93370cbf01589559a98558059e86580b0,21,15,1,7730,,,0,"libvirt: move get_numa_memnode in designer module

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
Change-Id: Ic4aaed95649f199346733224cd2eb32436d621e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/554850/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/designer.py']",2,a4fcfbd93370cbf01589559a98558059e86580b0,designer," def set_numa_memnode(conf, guest_node_id, host_cell_id): """"""Prepares numa memory node config for the guest. """""" conf.cellid = guest_node_id conf.nodeset = [host_cell_id] conf.mode = ""strict""",,14,12
openstack%2Fmurano~stable%2Fpike~Ib97b384f543563d13e292c7f3dbe6518cf67ffd6,openstack/murano,stable/pike,Ib97b384f543563d13e292c7f3dbe6518cf67ffd6,Enable mutable config in Heat,ABANDONED,2018-03-22 11:54:01.000000000,2018-03-22 11:54:45.000000000,,[],"[{'number': 1, 'created': '2018-03-22 11:54:01.000000000', 'files': ['murano/cmd/engine.py', 'murano/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/659131fe2aec63609d6b78906917492877be7a39', 'message': ""Enable mutable config in Heat\n\nNew releases of oslo.config support a 'mutable' parameter to Opts.\nThis is only respected when the new method mutate_config_files is\ncalled instead of reload_config_files. Heat delegates making this call\nto oslo.service, so how do we switch?\nIcec3e664f3fe72614e373b2938e8dee53cf8bc5e allows services to tell\noslo.service they want mutate_config_files to be called by passing a\nparameter, which this patch does.\n\nThis allows Murano to benefit from\nI1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option\n(owned by oslo.log) is made mutable. We should be able to turn debug\nlogging on and off by changing the config and sending SIGHUP.\n\nChange-Id: Ib97b384f543563d13e292c7f3dbe6518cf67ffd6\nStory: 2001545\n""}]",0,555272,659131fe2aec63609d6b78906917492877be7a39,2,0,1,14107,,,0,"Enable mutable config in Heat

New releases of oslo.config support a 'mutable' parameter to Opts.
This is only respected when the new method mutate_config_files is
called instead of reload_config_files. Heat delegates making this call
to oslo.service, so how do we switch?
Icec3e664f3fe72614e373b2938e8dee53cf8bc5e allows services to tell
oslo.service they want mutate_config_files to be called by passing a
parameter, which this patch does.

This allows Murano to benefit from
I1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option
(owned by oslo.log) is made mutable. We should be able to turn debug
logging on and off by changing the config and sending SIGHUP.

Change-Id: Ib97b384f543563d13e292c7f3dbe6518cf67ffd6
Story: 2001545
",git fetch https://review.opendev.org/openstack/murano refs/changes/72/555272/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/cmd/engine.py', 'murano/cmd/api.py']",2,659131fe2aec63609d6b78906917492877be7a39,," launcher = service.launch( CONF, server.ApiService(), workers=workers, restart_method='mutate')"," launcher = service.launch(CONF, server.ApiService(), workers=workers)",6,3
openstack%2Fnova~master~I3079c5ae4bd60de44f04e0136978a67d13e7a809,openstack/nova,master,I3079c5ae4bd60de44f04e0136978a67d13e7a809,Remove useless run_periodic_tasks call in ClientRouter,MERGED,2018-03-19 23:31:45.000000000,2018-03-22 11:54:38.000000000,2018-03-21 21:42:50.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-19 23:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3394e43b87b602657a798766a22ffa55d5b6928', 'message': ""Remove useless run_periodic_tasks call in ClientRouter\n\nThe ClientRouter periodic task was removed in change\nI10f374adca672576058c4dbab708c040d166df47 and this isn't the correct\nway to run periodic tasks repeatedly anyway (this will only run them\nonce upon ClientRouter.__init__), so remove the useless call.\n\nChange-Id: I3079c5ae4bd60de44f04e0136978a67d13e7a809\n""}, {'number': 2, 'created': '2018-03-20 23:59:35.000000000', 'files': ['nova/rpc.py', 'nova/tests/functional/regressions/test_bug_1627838.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f7df9417bd79c00deb7acbd9febc1b730c3301a', 'message': ""Remove useless run_periodic_tasks call in ClientRouter\n\nThe only periodic task (_remove_stale_clients) in ClientRouter was\nremoved in change I10f374adca672576058c4dbab708c040d166df47 and this\nisn't the correct way to run periodic tasks repeatedly anyway (this\nwill only run them once upon ClientRouter.__init__), so remove the\nuseless call.\n\nThis also removes a functional regression test which was testing only\nthis specific code path, where the intended periodic task ran only\nonce upon init of the compute service. All other periodic tasks in\ncompute are disabled by default in functional tests.\n\nRelated-Bug: #1627838\n\nChange-Id: I3079c5ae4bd60de44f04e0136978a67d13e7a809\n""}]",2,554381,2f7df9417bd79c00deb7acbd9febc1b730c3301a,34,16,2,4690,,,0,"Remove useless run_periodic_tasks call in ClientRouter

The only periodic task (_remove_stale_clients) in ClientRouter was
removed in change I10f374adca672576058c4dbab708c040d166df47 and this
isn't the correct way to run periodic tasks repeatedly anyway (this
will only run them once upon ClientRouter.__init__), so remove the
useless call.

This also removes a functional regression test which was testing only
this specific code path, where the intended periodic task ran only
once upon init of the compute service. All other periodic tasks in
compute are disabled by default in functional tests.

Related-Bug: #1627838

Change-Id: I3079c5ae4bd60de44f04e0136978a67d13e7a809
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/554381/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/rpc.py'],1,a3394e43b87b602657a798766a22ffa55d5b6928,bug/1627838,, # Prevent this empty context from overwriting the thread local copy self.run_periodic_tasks(nova.context.RequestContext(overwrite=False)),0,2
openstack%2Fnova~stable%2Fqueens~Ib3f10706a7191c58909ec1938042ce338df4d499,openstack/nova,stable/queens,Ib3f10706a7191c58909ec1938042ce338df4d499,"Revert ""Refine waiting for vif plug events during _hard_reboot""",MERGED,2018-03-16 15:07:57.000000000,2018-03-22 11:53:05.000000000,2018-03-20 21:39:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6854}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 19684}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-16 15:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef7fd2cb446a4cf017f9e55753a70c2457612920', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4\nwhich was meant to address an issue introduced\nby Id188d48609f3d22d14e16c7f6114291d547a8986.\n\nSo we essentially had three changes:\n\n1. Hard reboot would blow away volumes and vifs and then wait for the\n   vifs to be plugged; this caused a problem for some vif types (\n   linuxbridge was reported) because the event never came and we\n   timed out.\n\n2. To workaround that, a second change was made to simply not wait for\n   vif plugging events.\n\n3. Since #2 was a bit heavy-handed for a problem that didn\'t impact\n   openvswitch, another change was made to only wait for non-bridge vif\n   types, so we\'d wait for OVS.\n\nBut it turns out that opendaylight is an OVS vif type and doesn\'t send\nevents for plugging the vif, only for binding the port (and we don\'t\nre-bind the port during reboot). There is also a report of this being a\nproblem for other types of ports, see\nIf209f77cff2de00f694b01b2507c633ec3882c82.\n\nSo rather than try to special-case every possible vif type that could\nbe impacted by this, we are simply reverting the change so we no longer\nwait for vif plugged events during hard reboot.\n\nNote that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986\nand tweaked that to not unplug/plug the vifs we wouldn\'t have this\nproblem either, and that change was really meant to deal with an\nencrypted volume issue on reboot. But changing that logic is out of the\nscope of this change. Alternatively, we could re-bind the port during\nreboot but that could have other implications, or neutron could put\nsomething into the port details telling us which vifs will send events\nand which won\'t, but again that\'s all outside of the scope of this\npatch.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n'}, {'number': 2, 'created': '2018-03-19 18:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1983002c0b55b31c31099e3ca15884a7d3615507', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis reverts commit aaf37a26d6caa124f0cc6c3fe21bfdf58ccb8517.\n\nThis gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4\nwhich was meant to address an issue introduced\nby Id188d48609f3d22d14e16c7f6114291d547a8986.\n\nSo we essentially had three changes:\n\n1. Hard reboot would blow away volumes and vifs and then wait for the\n   vifs to be plugged; this caused a problem for some vif types (\n   linuxbridge was reported) because the event never came and we\n   timed out.\n\n2. To workaround that, a second change was made to simply not wait for\n   vif plugging events.\n\n3. Since #2 was a bit heavy-handed for a problem that didn\'t impact\n   openvswitch, another change was made to only wait for non-bridge vif\n   types, so we\'d wait for OVS.\n\nBut it turns out that opendaylight is an OVS vif type and doesn\'t send\nevents for plugging the vif, only for binding the port (and we don\'t\nre-bind the port during reboot). There is also a report of this being a\nproblem for other types of ports, see\nIf209f77cff2de00f694b01b2507c633ec3882c82.\n\nSo rather than try to special-case every possible vif type that could\nbe impacted by this, we are simply reverting the change so we no longer\nwait for vif plugged events during hard reboot.\n\nNote that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986\nand tweaked that to not unplug/plug the vifs we wouldn\'t have this\nproblem either, and that change was really meant to deal with an\nencrypted volume issue on reboot. But changing that logic is out of the\nscope of this change. Alternatively, we could re-bind the port during\nreboot but that could have other implications, or neutron could put\nsomething into the port details telling us which vifs will send events\nand which won\'t, but again that\'s all outside of the scope of this\npatch.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n(cherry picked from commit ed3e27afb4ca7b36baab3b8008a727caa43e1e3b)\n'}, {'number': 3, 'created': '2018-03-19 18:10:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e03eae67d7977be2318dfb89be9890fa4ceb440', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis reverts commit 5a10047f9dd4383f6ec9046d392f26c93f8420d4.\n\nThis gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4\nwhich was meant to address an issue introduced\nby Id188d48609f3d22d14e16c7f6114291d547a8986.\n\nSo we essentially had three changes:\n\n1. Hard reboot would blow away volumes and vifs and then wait for the\n   vifs to be plugged; this caused a problem for some vif types (\n   linuxbridge was reported) because the event never came and we\n   timed out.\n\n2. To workaround that, a second change was made to simply not wait for\n   vif plugging events.\n\n3. Since #2 was a bit heavy-handed for a problem that didn\'t impact\n   openvswitch, another change was made to only wait for non-bridge vif\n   types, so we\'d wait for OVS.\n\nBut it turns out that opendaylight is an OVS vif type and doesn\'t send\nevents for plugging the vif, only for binding the port (and we don\'t\nre-bind the port during reboot). There is also a report of this being a\nproblem for other types of ports, see\nIf209f77cff2de00f694b01b2507c633ec3882c82.\n\nSo rather than try to special-case every possible vif type that could\nbe impacted by this, we are simply reverting the change so we no longer\nwait for vif plugged events during hard reboot.\n\nNote that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986\nand tweaked that to not unplug/plug the vifs we wouldn\'t have this\nproblem either, and that change was really meant to deal with an\nencrypted volume issue on reboot. But changing that logic is out of the\nscope of this change. Alternatively, we could re-bind the port during\nreboot but that could have other implications, or neutron could put\nsomething into the port details telling us which vifs will send events\nand which won\'t, but again that\'s all outside of the scope of this\npatch.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n'}]",4,553817,2e03eae67d7977be2318dfb89be9890fa4ceb440,31,11,3,10135,,,0,"Revert ""Refine waiting for vif plug events during _hard_reboot""

This reverts commit 5a10047f9dd4383f6ec9046d392f26c93f8420d4.

This gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4
which was meant to address an issue introduced
by Id188d48609f3d22d14e16c7f6114291d547a8986.

So we essentially had three changes:

1. Hard reboot would blow away volumes and vifs and then wait for the
   vifs to be plugged; this caused a problem for some vif types (
   linuxbridge was reported) because the event never came and we
   timed out.

2. To workaround that, a second change was made to simply not wait for
   vif plugging events.

3. Since #2 was a bit heavy-handed for a problem that didn't impact
   openvswitch, another change was made to only wait for non-bridge vif
   types, so we'd wait for OVS.

But it turns out that opendaylight is an OVS vif type and doesn't send
events for plugging the vif, only for binding the port (and we don't
re-bind the port during reboot). There is also a report of this being a
problem for other types of ports, see
If209f77cff2de00f694b01b2507c633ec3882c82.

So rather than try to special-case every possible vif type that could
be impacted by this, we are simply reverting the change so we no longer
wait for vif plugged events during hard reboot.

Note that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986
and tweaked that to not unplug/plug the vifs we wouldn't have this
problem either, and that change was really meant to deal with an
encrypted volume issue on reboot. But changing that logic is out of the
scope of this change. Alternatively, we could re-bind the port during
reboot but that could have other implications, or neutron could put
something into the port details telling us which vifs will send events
and which won't, but again that's all outside of the scope of this
patch.

Change-Id: Ib3f10706a7191c58909ec1938042ce338df4d499
Closes-Bug: #1755890
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/553817/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ef7fd2cb446a4cf017f9e55753a70c2457612920,bug/1755890," block_device_info=block_device_info, vifs_already_plugged=True)"," @mock.patch('nova.virt.libvirt.LibvirtDriver._get_neutron_events') @mock.patch('nova.virt.libvirt.LibvirtDriver.plug_vifs') @mock.patch('nova.virt.libvirt.LibvirtDriver._lxc_disk_handler') @mock.patch('nova.virt.libvirt.LibvirtDriver._create_domain') def test_create_domain_and_network_reboot(self, mock_create, mock_handler, mock_plug, mock_events): # Verify that we call get_neutron_events with reboot=True if # create_domain_and_network was called with reboot=True drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance = objects.Instance(**self.test_instance) network_info = _fake_network_info(self, 1) @mock.patch.object(drvr.firewall_driver, 'setup_basic_filtering') @mock.patch.object(drvr.firewall_driver, 'prepare_instance_filter') @mock.patch.object(drvr.firewall_driver, 'apply_instance_filter') def _do_create(mock_apply, mock_prepare, mock_setup): drvr._create_domain_and_network(self.context, mock.sentinel.xml, instance, network_info, reboot=True) _do_create() mock_events.assert_called_once_with(network_info, reboot=True) block_device_info=block_device_info, reboot=True) def test_get_neutron_events_reboot(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) bridge = network_model.VIF_TYPE_BRIDGE ovs = network_model.VIF_TYPE_OVS network_info = [network_model.VIF(id='1'), network_model.VIF(id='2', active=True), network_model.VIF(id='3', type=bridge), network_model.VIF(id='4', type=ovs)] events = drvr._get_neutron_events(network_info, reboot=True) self.assertEqual([('network-vif-plugged', '1'), ('network-vif-plugged', '2'), ('network-vif-plugged', '4')], events) ",19,79
openstack%2Fdevstack~stable%2Fpike~I0fecb027e5be6f4d7bb0bf34e59a43543a421f38,openstack/devstack,stable/pike,I0fecb027e5be6f4d7bb0bf34e59a43543a421f38,Backport 'Check that generate-subunit exists',MERGED,2017-12-26 17:58:35.000000000,2018-03-22 11:52:04.000000000,2018-03-21 05:27:54.000000000,"[{'_account_id': 2}, {'_account_id': 5314}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-26 17:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d74364028c55747ab1854d746441b17d0df8c022', 'message': 'Backport \'Check that generate-subunit exists\'\n\nThe python-glanceclient functional tests in stable/pike have run into\na devstack issue [0] that was fixed in master, so backporting the fix\nand a followup correction:\nCheck that generate-subunit exists before using it\n(cherry picked from commit cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae)\nFix comment wording nit\n(cherry picked from commit 03ae3c485e497296146a102f89853fd4063a20db)\n\n[0] Log extract from https://review.openstack.org/#/c/529834/\n2017-12-22 19:16:02.880 | Error on exit\n2017-12-22 19:16:02.881 | ./stack.sh: line 540: generate-subunit:\n                            command not found\nERROR\n{\n  ""delta"": ""0:00:03.150918"",\n  ""end"": ""2017-12-22 19:16:02.898596"",\n  ""failed"": true,\n  ""rc"": 127,\n  ""start"": ""2017-12-22 19:15:59.747678""\n}\n\nChange-Id: I0fecb027e5be6f4d7bb0bf34e59a43543a421f38\nNeeded-by: Idaa2f4b920e131320499c9e460ade74df1d5a264\n'}, {'number': 2, 'created': '2017-12-26 18:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a07b1f37057bd5c69b07fa2a7f67df8ff2a93709', 'message': 'Backport \'Check that generate-subunit exists\'\n\nThe python-glanceclient functional tests in stable/pike have run into\na devstack issue [0] that was fixed in master, so backporting the fix\nand a followup correction:\nCheck that generate-subunit exists before using it\n(cherry picked from commit cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae)\nFix comment wording nit\n(cherry picked from commit 03ae3c485e497296146a102f89853fd4063a20db)\n\n[0] Log extract from https://review.openstack.org/#/c/529834/\n2017-12-22 19:16:02.880 | Error on exit\n2017-12-22 19:16:02.881 | ./stack.sh: line 540: generate-subunit:\n                            command not found\nERROR\n{\n  ""delta"": ""0:00:03.150918"",\n  ""end"": ""2017-12-22 19:16:02.898596"",\n  ""failed"": true,\n  ""rc"": 127,\n  ""start"": ""2017-12-22 19:15:59.747678""\n}\n\nChange-Id: I0fecb027e5be6f4d7bb0bf34e59a43543a421f38\nNeeded-by: Idaa2f4b920e131320499c9e460ade74df1d5a264\nDepends-On: I84de60181cb88574e341ff83cd4857cce241f2dd\n'}, {'number': 3, 'created': '2018-01-10 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9940a6abdf47c0f05df2b54f300a7e0defe6c6c0', 'message': 'Backport \'Check that generate-subunit exists\'\n\nThe python-glanceclient functional tests in stable/pike have run into\na devstack issue [0] that was fixed in master, so backporting the fix\nand a followup correction:\nCheck that generate-subunit exists before using it\n(cherry picked from commit cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae)\nFix comment wording nit\n(cherry picked from commit 03ae3c485e497296146a102f89853fd4063a20db)\n\n[0] Log extract from https://review.openstack.org/#/c/529834/\n2017-12-22 19:16:02.880 | Error on exit\n2017-12-22 19:16:02.881 | ./stack.sh: line 540: generate-subunit:\n                            command not found\nERROR\n{\n  ""delta"": ""0:00:03.150918"",\n  ""end"": ""2017-12-22 19:16:02.898596"",\n  ""failed"": true,\n  ""rc"": 127,\n  ""start"": ""2017-12-22 19:15:59.747678""\n}\n\nChange-Id: I0fecb027e5be6f4d7bb0bf34e59a43543a421f38\nNeeded-by: Idaa2f4b920e131320499c9e460ade74df1d5a264\n'}, {'number': 4, 'created': '2018-03-19 05:15:18.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b7113968050cb9eb37315060aee060fe35e06efb', 'message': 'Backport \'Check that generate-subunit exists\'\n\nThe python-glanceclient functional tests in stable/pike have run into\na devstack issue [0] that was fixed in master, so backporting the fix\nand a followup correction:\nCheck that generate-subunit exists before using it\n(cherry picked from commit cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae)\nFix comment wording nit\n(cherry picked from commit 03ae3c485e497296146a102f89853fd4063a20db)\n\n[0] Log extract from https://review.openstack.org/#/c/529834/\n2017-12-22 19:16:02.880 | Error on exit\n2017-12-22 19:16:02.881 | ./stack.sh: line 540: generate-subunit:\n                            command not found\nERROR\n{\n  ""delta"": ""0:00:03.150918"",\n  ""end"": ""2017-12-22 19:16:02.898596"",\n  ""failed"": true,\n  ""rc"": 127,\n  ""start"": ""2017-12-22 19:15:59.747678""\n}\n\nChange-Id: I0fecb027e5be6f4d7bb0bf34e59a43543a421f38\nNeeded-by: Idaa2f4b920e131320499c9e460ade74df1d5a264\n'}]",0,530138,b7113968050cb9eb37315060aee060fe35e06efb,39,8,4,5314,,,0,"Backport 'Check that generate-subunit exists'

The python-glanceclient functional tests in stable/pike have run into
a devstack issue [0] that was fixed in master, so backporting the fix
and a followup correction:
Check that generate-subunit exists before using it
(cherry picked from commit cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae)
Fix comment wording nit
(cherry picked from commit 03ae3c485e497296146a102f89853fd4063a20db)

[0] Log extract from https://review.openstack.org/#/c/529834/
2017-12-22 19:16:02.880 | Error on exit
2017-12-22 19:16:02.881 | ./stack.sh: line 540: generate-subunit:
                            command not found
ERROR
{
  ""delta"": ""0:00:03.150918"",
  ""end"": ""2017-12-22 19:16:02.898596"",
  ""failed"": true,
  ""rc"": 127,
  ""start"": ""2017-12-22 19:15:59.747678""
}

Change-Id: I0fecb027e5be6f4d7bb0bf34e59a43543a421f38
Needed-by: Idaa2f4b920e131320499c9e460ade74df1d5a264
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/530138/4 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,d74364028c55747ab1854d746441b17d0df8c022,gen-subunit-fix," # If we error before we've installed os-testr, this will fail. if type -p generate-subunit > /dev/null; then generate-subunit $DEVSTACK_START_TIME $SECONDS 'fail' >> ${SUBUNIT_OUTPUT} fi # If we error before we've installed os-testr, this will fail. if type -p generate-subunit > /dev/null; then generate-subunit $DEVSTACK_START_TIME $SECONDS >> ${SUBUNIT_OUTPUT} fi", generate-subunit $DEVSTACK_START_TIME $SECONDS 'fail' >> ${SUBUNIT_OUTPUT} generate-subunit $DEVSTACK_START_TIME $SECONDS >> ${SUBUNIT_OUTPUT},8,2
openstack%2Fnova~master~Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb,openstack/nova,master,Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb,[libvirt] Add _get_XXXpin_cpuset(),MERGED,2017-12-13 08:40:12.000000000,2018-03-22 11:51:41.000000000,2018-03-20 19:47:49.000000000,"[{'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-13 08:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/438b9bf4e662235821817f4f5e40087628e50f61', 'message': 'Add _set_vcpu_pinning() and _set_numa_memory()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _set_vcpu_pinning() function. This patch also pulls\nout a method to prepare numa memory configuration for libvirt to\n_set_numa_memory() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 2, 'created': '2017-12-13 09:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8eec9d154eca1ea96058e0081389cba9974c631', 'message': 'Add _set_vcpu_pinning() and _set_numa_memory()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _set_vcpu_pinning() function. This patch also pulls\nout a method to prepare numa memory configuration for libvirt to\n_set_numa_memory() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 3, 'created': '2017-12-23 04:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72770f102b1d86656a128869b24cf41ac7dda6b0', 'message': '[libvirt] Add _get_numa_node_memory()\n\nThis patch pulls out a method to prepare numa memory configuration\nfor libvirt to _get_numa_node_memory() function.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 4, 'created': '2017-12-23 05:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87f8b05c6e193f7064f0c24e10d2b348c20cb5fc', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 5, 'created': '2017-12-27 03:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d343da4afea64538f4f51144a4d67c2d8e0821bf', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 6, 'created': '2017-12-29 09:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/110047f58825b92742356ba0382ba38a8149372d', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 7, 'created': '2018-01-04 01:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f523a8d1fc092832d1c86872955fe5639e265990', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 8, 'created': '2018-01-30 11:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ace4e94d039a05c0bf9b5d75a182052ff8babd87', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 9, 'created': '2018-02-01 02:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/791cae80177558afbb89743bc203bb50746a2028', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 10, 'created': '2018-02-15 02:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/736c2df96322e46bddac1e04144c7219e59ac065', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 11, 'created': '2018-02-15 05:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d4cb17a7ee36e06bcb43bcc5e71c5d26182d622', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 12, 'created': '2018-02-15 05:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc717314b7e2bd7f98cc5db1c4b79a42405ca549', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 13, 'created': '2018-02-16 08:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d6963965f2386ea7b4f02be1e6b3f0555b5b577', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 14, 'created': '2018-02-17 05:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87ce71a80b91f1387146cfc530e2907224910bd7', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 15, 'created': '2018-02-17 05:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcc5d776319bf78d6019e520459a6ebd00f83a5d', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}, {'number': 16, 'created': '2018-03-19 03:47:13.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0620a01dee1cd98685ec04b3bdef09765cdff61', 'message': '[libvirt] Add _get_XXXpin_cpuset()\n\nThis patch pulls out a method to prepare cpu pinning configuration\nfor libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()\nfunction.\n\nThis is a part of refactoring the construction of guest numa\nconfiguration for libvirt.\n\nChange-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb\n'}]",18,527631,f0620a01dee1cd98685ec04b3bdef09765cdff61,138,19,16,25625,,,0,"[libvirt] Add _get_XXXpin_cpuset()

This patch pulls out a method to prepare cpu pinning configuration
for libvirt to _get_pin_cpuset() and to _get_emulatorpin_cpuset()
function.

This is a part of refactoring the construction of guest numa
configuration for libvirt.

Change-Id: Ib9fb5d81bfccb4b8a3e6d913f423ccd4a4b07abb
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/527631/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,438b9bf4e662235821817f4f5e40087628e50f61,bp/libvirt-qemu-numa-support," def _set_vcpu_pinning(self, guest_cpu_tune, guest_config_cell, object_numa_cell, host_cell, vcpus_rt, emulator_threads_isolated, wants_realtime): """"""Prepare cpu tune config for libvirt."""""" for cpu in guest_config_cell.cpus: pin_cpuset = ( vconfig.LibvirtConfigGuestCPUTuneVCPUPin()) pin_cpuset.id = cpu # If there is pinning information in the cell # we pin to individual CPUs, otherwise we float # over the whole host NUMA node if (object_numa_cell.cpu_pinning and self._has_cpu_policy_support()): pcpu = object_numa_cell.cpu_pinning[cpu] pin_cpuset.cpuset = set([pcpu]) else: pin_cpuset.cpuset = host_cell.cpuset if emulator_threads_isolated: guest_cpu_tune.emulatorpin.cpuset |= set( object_numa_cell.cpuset_reserved) elif not wants_realtime or cpu not in vcpus_rt: # - If realtime IS NOT enabled, the # emulator threads are allowed to float # across all the pCPUs associated with # the guest vCPUs (""not wants_realtime"" # is true, so we add all pcpus) # - If realtime IS enabled, then at least # 1 vCPU is required to be set aside for # non-realtime usage. The emulator # threads are allowed to float acros the # pCPUs that are associated with the # non-realtime VCPUs (the ""cpu not in # vcpu_rt"" check deals with this # filtering) guest_cpu_tune.emulatorpin.cpuset |= set( pin_cpuset.cpuset) guest_cpu_tune.vcpupin.append(pin_cpuset) return guest_cpu_tune def _set_numa_memory(self, guest_numa_tune, guest_node_id, host_cell): """"""Prepare numa tune config for libvirt."""""" node = guest_numa_tune.memnodes[guest_node_id] node.cellid = guest_node_id node.nodeset = [host_cell.id] node.mode = ""strict"" guest_numa_tune.memory.nodeset.append(host_cell.id) return guest_numa_tune guest_cpu_tune.emulatorpin = ( vconfig.LibvirtConfigGuestCPUTuneEmulatorPin()) guest_cpu_tune.emulatorpin.cpuset = set([]) guest_numa_tune = vconfig.LibvirtConfigGuestNUMATune() guest_numa_tune.memory = ( vconfig.LibvirtConfigGuestNUMATuneMemory()) guest_numa_tune.memnodes = ( [vconfig.LibvirtConfigGuestNUMATuneMemNode() for _ in guest_cpu_numa_config.cells]) guest_numa_tune = self._set_numa_memory( guest_numa_tune, guest_node_id, host_cell) ) guest_cpu_tune = ( self._set_vcpu_pinning( guest_cpu_tune, guest_config_cell, object_numa_cell, host_cell, vcpus_rt, emulator_threads_isolated, wants_realtime))"," guest_numa_tune = vconfig.LibvirtConfigGuestNUMATune() emupcpus = [] numa_mem = vconfig.LibvirtConfigGuestNUMATuneMemory() numa_memnodes = [vconfig.LibvirtConfigGuestNUMATuneMemNode() for _ in guest_cpu_numa_config.cells] node = numa_memnodes[guest_node_id] node.cellid = guest_node_id node.nodeset = [host_cell.id] node.mode = ""strict"" numa_mem.nodeset.append(host_cell.id) ) for cpu in guest_config_cell.cpus: pin_cpuset = ( vconfig.LibvirtConfigGuestCPUTuneVCPUPin()) pin_cpuset.id = cpu # If there is pinning information in the cell # we pin to individual CPUs, otherwise we float # over the whole host NUMA node if (object_numa_cell.cpu_pinning and self._has_cpu_policy_support()): pcpu = object_numa_cell.cpu_pinning[cpu] pin_cpuset.cpuset = set([pcpu]) else: pin_cpuset.cpuset = host_cell.cpuset if emulator_threads_isolated: emupcpus.extend( object_numa_cell.cpuset_reserved) elif not wants_realtime or cpu not in vcpus_rt: # - If realtime IS NOT enabled, the # emulator threads are allowed to float # across all the pCPUs associated with # the guest vCPUs (""not wants_realtime"" # is true, so we add all pcpus) # - If realtime IS enabled, then at least # 1 vCPU is required to be set aside for # non-realtime usage. The emulator # threads are allowed to float acros the # pCPUs that are associated with the # non-realtime VCPUs (the ""cpu not in # vcpu_rt"" check deals with this # filtering) emupcpus.extend(pin_cpuset.cpuset) guest_cpu_tune.vcpupin.append(pin_cpuset) emulatorpin = vconfig.LibvirtConfigGuestCPUTuneEmulatorPin() emulatorpin.cpuset = set(emupcpus) guest_cpu_tune.emulatorpin = emulatorpin guest_numa_tune.memory = numa_mem guest_numa_tune.memnodes = numa_memnodes ",68,50
openstack%2Fdevstack~master~Id017b169f25a7589da3eca509c28f5d867fd5962,openstack/devstack,master,Id017b169f25a7589da3eca509c28f5d867fd5962,Fix devstack job: the dict name is devstack_local_conf,MERGED,2018-03-18 17:05:42.000000000,2018-03-22 11:51:37.000000000,2018-03-18 20:44:01.000000000,"[{'_account_id': 1921}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-18 17:05:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/34e09dd3a90e7782a96c5a500368cad04f553e1c', 'message': 'Fix devstack job: the dict name is devstack_local_conf\n\nIt looks like a typo.\n\nChange-Id: Id017b169f25a7589da3eca509c28f5d867fd5962\n'}]",0,554061,34e09dd3a90e7782a96c5a500368cad04f553e1c,11,7,1,10459,,,0,"Fix devstack job: the dict name is devstack_local_conf

It looks like a typo.

Change-Id: Id017b169f25a7589da3eca509c28f5d867fd5962
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/554061/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,34e09dd3a90e7782a96c5a500368cad04f553e1c,fix_devstack_local_conf, devstack_local_conf:, devstack_localconf:,1,1
openstack%2Fnova~master~Idf18f189ecc5c99c1a5b19a308764378a1b82447,openstack/nova,master,Idf18f189ecc5c99c1a5b19a308764378a1b82447,Add placeholder migrations for Queens backports,MERGED,2018-03-16 15:49:25.000000000,2018-03-22 11:51:35.000000000,2018-03-20 04:28:48.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24711}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-16 15:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/549fa996d94bece4c32cb2c1c0be7d38a460a4a2', 'message': 'Add placeholder migrations for Queens backports\n\nChange-Id: Idf18f189ecc5c99c1a5b19a308764378a1b82447\n'}, {'number': 2, 'created': '2018-03-16 15:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/345e15a0c95fb7beae6963d12820d6a1102f99a4', 'message': 'Add placeholder migrations for Queens backports\n\nChange-Id: Idf18f189ecc5c99c1a5b19a308764378a1b82447\n'}, {'number': 3, 'created': '2018-03-17 22:18:27.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/383_placeholder.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/380_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/056_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/379_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/386_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/054_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/388_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/053_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/384_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/382_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/381_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/385_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/057_placeholder.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/387_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/055_placeholder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9e745f401e990b9826d9136239b94c426f137c71', 'message': 'Add placeholder migrations for Queens backports\n\nChange-Id: Idf18f189ecc5c99c1a5b19a308764378a1b82447\n'}]",0,553831,9e745f401e990b9826d9136239b94c426f137c71,51,19,3,4393,,,0,"Add placeholder migrations for Queens backports

Change-Id: Idf18f189ecc5c99c1a5b19a308764378a1b82447
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/553831/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migrate_repo/versions/383_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/380_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/056_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/379_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/386_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/054_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/388_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/053_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/384_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/382_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/381_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/385_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/057_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/387_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/055_placeholder.py']",15,549fa996d94bece4c32cb2c1c0be7d38a460a4a2,queens-placeholders,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for backports. # Do not use this number for new work. New work starts after # all the placeholders. # # See this for more information: # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass ",,330,0
openstack%2Fnova~master~Ie9f064cb9caf6dcba2414acb24d12b825df45fab,openstack/nova,master,Ie9f064cb9caf6dcba2414acb24d12b825df45fab,Add --by-service to discover_hosts,MERGED,2018-03-13 21:43:41.000000000,2018-03-22 11:51:30.000000000,2018-03-19 05:07:52.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23811}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-13 21:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f138daaba01bac2a10519ec0accca3d8e7fe5285', 'message': '[WIP] Add --by-service to discover_hosts\n\nThis allows us to discover and map compute hosts by service instead of\nby compute node, which will solve a major deployment ordering problem for\npeople using ironic. This also allows closing a really nasty race when\ndoing HA of nova-compute/ironic.\n\nChange-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab\nCloses-Bug: #1755602\n'}, {'number': 2, 'created': '2018-03-14 14:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca931d06dad08a39f98e511aee425fcf1237e63c', 'message': 'Add --by-service to discover_hosts\n\nThis allows us to discover and map compute hosts by service instead of\nby compute node, which will solve a major deployment ordering problem for\npeople using ironic. This also allows closing a really nasty race when\ndoing HA of nova-compute/ironic.\n\nChange-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab\nCloses-Bug: #1755602\n'}, {'number': 3, 'created': '2018-03-14 16:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70b3da905eeeecb28e3e0611c74c78921ec1f442', 'message': 'Add --by-service to discover_hosts\n\nThis allows us to discover and map compute hosts by service instead of\nby compute node, which will solve a major deployment ordering problem for\npeople using ironic. This also allows closing a really nasty race when\ndoing HA of nova-compute/ironic.\n\nChange-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab\nCloses-Bug: #1755602\n'}, {'number': 4, 'created': '2018-03-16 22:55:31.000000000', 'files': ['nova/tests/unit/objects/test_host_mapping.py', 'nova/objects/host_mapping.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'releasenotes/notes/discover-hosts-by-service-06ee20365b895127.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/005a66d7e0bb716e32d29a6b5c9d9f24192596e2', 'message': 'Add --by-service to discover_hosts\n\nThis allows us to discover and map compute hosts by service instead of\nby compute node, which will solve a major deployment ordering problem for\npeople using ironic. This also allows closing a really nasty race when\ndoing HA of nova-compute/ironic.\n\nChange-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab\nCloses-Bug: #1755602\n'}]",11,552691,005a66d7e0bb716e32d29a6b5c9d9f24192596e2,74,19,4,4393,,,0,"Add --by-service to discover_hosts

This allows us to discover and map compute hosts by service instead of
by compute node, which will solve a major deployment ordering problem for
people using ironic. This also allows closing a really nasty race when
doing HA of nova-compute/ironic.

Change-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab
Closes-Bug: #1755602
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/552691/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/host_mapping.py', 'nova/cmd/manage.py']",2,f138daaba01bac2a10519ec0accca3d8e7fe5285,bug/1755602," @args('--by-service', action='store_true', default=False, dest='by_host', help=_('Discover hosts by service instead of compute node')) def discover_hosts(self, cell_uuid=None, verbose=False, strict=False, by_service=False): if by_service: hosts = host_mapping_obj.discover_services(ctxt, cell_uuid, status_fn) else: hosts = host_mapping_obj.discover_hosts(ctxt, cell_uuid, status_fn)"," def discover_hosts(self, cell_uuid=None, verbose=False, strict=False): hosts = host_mapping_obj.discover_hosts(ctxt, cell_uuid, status_fn)",63,2
openstack%2Fnova~master~I518860c51e6b19def5efc3f624dceb9350cb9494,openstack/nova,master,I518860c51e6b19def5efc3f624dceb9350cb9494,Updated from global requirements,MERGED,2018-03-15 07:26:29.000000000,2018-03-22 11:50:58.000000000,2018-03-16 14:19:31.000000000,"[{'_account_id': 679}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-15 07:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/133c22e97bdd8d8a3d0883fd29e4e62571a923fe', 'message': 'Updated from global requirements\n\nChange-Id: I518860c51e6b19def5efc3f624dceb9350cb9494\n'}, {'number': 2, 'created': '2018-03-16 07:34:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/0896a0ae2848ee851d1824ee531efaa6c026235b', 'message': 'Updated from global requirements\n\nChange-Id: I518860c51e6b19def5efc3f624dceb9350cb9494\n'}]",0,553211,0896a0ae2848ee851d1824ee531efaa6c026235b,30,11,2,11131,,,0,"Updated from global requirements

Change-Id: I518860c51e6b19def5efc3f624dceb9350cb9494
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/553211/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,133c22e97bdd8d8a3d0883fd29e4e62571a923fe,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fnova~master~I8e0a37100b0876916db50b08f95f427cb0456616,openstack/nova,master,I8e0a37100b0876916db50b08f95f427cb0456616,Stop assuming initial provider generation is 0,MERGED,2018-03-01 15:46:02.000000000,2018-03-22 11:50:52.000000000,2018-03-17 18:03:09.000000000,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-01 15:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b15c143acb236fbb7ea25b72478cc239596a75f6', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}, {'number': 2, 'created': '2018-03-13 18:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f29e156dbceaef2594f07d4a0d5784c738492473', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}, {'number': 3, 'created': '2018-03-14 13:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/726f5b88f3d3dbb5fa8c826e7b5dad524be3d421', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}, {'number': 4, 'created': '2018-03-14 21:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d92990c54d80c41c21617a46ec2d18827806cca', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}, {'number': 5, 'created': '2018-03-14 22:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a91141a3653ab47d63640e39e448843f487f879a', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}, {'number': 6, 'created': '2018-03-15 13:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af0a52c27566a82f7e7591f1b1ff41f6c88304fb', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}, {'number': 7, 'created': '2018-03-15 23:20:05.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/60c62f7267e578365720f85e4fd068b8d9b290df', 'message': 'Stop assuming initial provider generation is 0\n\nSchedulerReportClient._create_resource_provider used to assume the\ngeneration of a freshly-created resource provider is zero, and store\nthat value in the provider tree cache.  This violates the opacity of the\ngeneration in the API.\n\nThe fix implemented herein is two-pronged.  We exploit the\nimplementation of the related blueprint, returning the payload of the\nPOST /resource_providers response if available.  Otherwise (if the\navailable placement microversion is older), rather than assuming\nanything about the new provider, we perform a GET\n/resource_providers/{uuid} and return the result (which contains the\ngeneration).\n\nChange-Id: I8e0a37100b0876916db50b08f95f427cb0456616\nCloses-Bug: #1746075\nRelated-Blueprint: generation-from-create-provider\n'}]",7,548975,60c62f7267e578365720f85e4fd068b8d9b290df,98,18,7,14070,,,0,"Stop assuming initial provider generation is 0

SchedulerReportClient._create_resource_provider used to assume the
generation of a freshly-created resource provider is zero, and store
that value in the provider tree cache.  This violates the opacity of the
generation in the API.

The fix implemented herein is two-pronged.  We exploit the
implementation of the related blueprint, returning the payload of the
POST /resource_providers response if available.  Otherwise (if the
available placement microversion is older), rather than assuming
anything about the new provider, we perform a GET
/resource_providers/{uuid} and return the result (which contains the
generation).

Change-Id: I8e0a37100b0876916db50b08f95f427cb0456616
Closes-Bug: #1746075
Related-Blueprint: generation-from-create-provider
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/548975/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,b15c143acb236fbb7ea25b72478cc239596a75f6,bp/generation-from-create-provider," # NOTE(efried): To resolve bug #1746075, use the latest microversion. # If it's late enough to return the new provider's payload, return that # payload. Otherwise, retrieve the newly-created provider via GET. resp = self.post(url, payload, version='latest', if resp: if resp.status_code == 200: return resp.json() else: # TODO(efried): Remove this branch when minimum placement # version always returns new provider payload. return self._get_resource_provider(context, uuid)"," resp = self.post(url, payload, version=NESTED_PROVIDER_API_VERSION, if resp.status_code == 201: return dict( uuid=uuid, name=name, generation=0, parent_provider_uuid=parent_provider_uuid, )",67,36
openstack%2Fdevstack~master~Ic5bbe36b5d44880d0a3a602f653b4f61fd89e9c8,openstack/devstack,master,Ic5bbe36b5d44880d0a3a602f653b4f61fd89e9c8,Mention test-config phase in config docs,MERGED,2018-03-15 00:10:11.000000000,2018-03-22 11:49:59.000000000,2018-03-15 02:19:42.000000000,"[{'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 00:10:11.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/18abffb72b514e0b364f54459df62c2ebc12d4bf', 'message': ""Mention test-config phase in config docs\n\nI had to dig into the stack.sh code to figure out why\nmy tempest.conf post-config wasn't work, and it's because\npost-config isn't the thing to use to configure tempest,\ntest-config is.\n\nChange-Id: Ic5bbe36b5d44880d0a3a602f653b4f61fd89e9c8\nRelated-Bug: #1755947\n""}]",0,553105,18abffb72b514e0b364f54459df62c2ebc12d4bf,11,7,1,6873,,,0,"Mention test-config phase in config docs

I had to dig into the stack.sh code to figure out why
my tempest.conf post-config wasn't work, and it's because
post-config isn't the thing to use to configure tempest,
test-config is.

Change-Id: Ic5bbe36b5d44880d0a3a602f653b4f61fd89e9c8
Related-Bug: #1755947
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/553105/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,18abffb72b514e0b364f54459df62c2ebc12d4bf,bug/1755947,- **test-config** - runs after tempest (and plugins) are configured,,1,0
openstack%2Fnova~master~Ia5d86d20f80bd0ec9765863f6d0a001633d0fc72,openstack/nova,master,Ia5d86d20f80bd0ec9765863f6d0a001633d0fc72,"Revert ""Make the InstanceMapping marker UUID-like""",MERGED,2018-03-14 15:58:16.000000000,2018-03-22 11:49:56.000000000,2018-03-14 20:36:26.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-14 15:58:16.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9038738d0134c0a1d59757ed3205d84f76416869', 'message': 'Revert ""Make the InstanceMapping marker UUID-like""\n\nThis reverts commit a563d1fdd318ad206755e58fa9bb5da629aef209.\n\nThe problems with this that I see are:\n\n1. You can\'t rotate one uuid in a given namespace (i.e the one on the\n   marker) and expect to not have collisions.\n2. This breaks the format of the thing we store in the database, which\n   would cause people in the middle of an FFU to be unable to continue\n   or clean their database properly.\n3. Obfuscating the uuid like this makes it nearly impossible for a\n   regular operator or developer to examine the state of the database\n   during debugging and figure out what the marker is referring to.\n\nAll of this to avoid UUID format warnings in a unit test adds up to\na bad thing, IMHO.\n\nChange-Id: Ia5d86d20f80bd0ec9765863f6d0a001633d0fc72\n'}]",0,552937,9038738d0134c0a1d59757ed3205d84f76416869,18,13,1,4393,,,0,"Revert ""Make the InstanceMapping marker UUID-like""

This reverts commit a563d1fdd318ad206755e58fa9bb5da629aef209.

The problems with this that I see are:

1. You can't rotate one uuid in a given namespace (i.e the one on the
   marker) and expect to not have collisions.
2. This breaks the format of the thing we store in the database, which
   would cause people in the middle of an FFU to be unable to continue
   or clean their database properly.
3. Obfuscating the uuid like this makes it nearly impossible for a
   regular operator or developer to examine the state of the database
   during debugging and figure out what the marker is referring to.

All of this to avoid UUID format warnings in a unit test adds up to
a bad thing, IMHO.

Change-Id: Ia5d86d20f80bd0ec9765863f6d0a001633d0fc72
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/552937/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",2,9038738d0134c0a1d59757ed3205d84f76416869,revert-bug/1742760," marker = marker_mapping[0].instance_uuid.replace(' ', '-') next_marker = next_marker.replace('-', ' ')","def _uuid_shift(uuid): """"""We need a way to non-destructively modify UUIDs so that we can store a marker without having duplicate InstanceMapping entries. This accomplishes this by applying a ROT8 mapping to the non-dash characters in a UUID. Calling _uuid_shift twice returns the value to the original UUID. """""" mapper = {""0"": ""8"", ""1"": ""9"", ""2"": ""a"", ""3"": ""b"", ""4"": ""c"", ""5"": ""d"", ""6"": ""e"", ""7"": ""f"", ""8"": ""0"", ""9"": ""1"", ""a"": ""2"", ""b"": ""3"", ""c"": ""4"", ""d"": ""5"", ""e"": ""6"", ""f"": ""7"", ""-"": ""-""} return """".join([mapper[char] for char in uuid]) # Since shifting twice returns you to the original, we can alias. _uuid_unshift = _uuid_shift marker = _uuid_unshift(marker_mapping[0].instance_uuid) next_marker = _uuid_shift(next_marker)",3,28
openstack%2Fnova~master~Ifa8cd445927573ff70f69148b36da37469470cf4,openstack/nova,master,Ifa8cd445927573ff70f69148b36da37469470cf4,Reparent placement objects to oslo_versionedobjects,MERGED,2018-03-10 13:26:25.000000000,2018-03-22 11:49:47.000000000,2018-03-14 02:23:49.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20252}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-10 13:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d12cc034646545a2eb2fb8e04fb09dbdd58ee130', 'message': 'Reparent placement objects to oslo_versionedobjects\n\nThe versioned objects used by placement can inherit directly from\noslo_versionedobjects, so this change reparents them. This helps make\nsure that placement is independent from nova and will ease the eventual\nextraction of placement to its own repo.\n\nExisting functional tests cover this change.\n\nChange-Id: Ifa8cd445927573ff70f69148b36da37469470cf4\n'}, {'number': 2, 'created': '2018-03-10 15:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11e9095f2b6a3935fe37da9c684668affe9d6342', 'message': 'Reparent placement objects to oslo_versionedobjects\n\nThe versioned objects used by placement can inherit directly from\noslo_versionedobjects, so this change reparents them. This helps make\nsure that placement is independent from nova and will ease the eventual\nextraction of placement to its own repo.\n\nExisting functional tests cover this change.\n\nChange-Id: Ifa8cd445927573ff70f69148b36da37469470cf4\n'}, {'number': 3, 'created': '2018-03-10 18:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c343f8b6348af63239897858027e3557c7c8bf3', 'message': 'Reparent placement objects to oslo_versionedobjects\n\nThe versioned objects used by placement can inherit directly from\noslo_versionedobjects, so this change reparents them. This helps make\nsure that placement is independent from nova and will ease the eventual\nextraction of placement to its own repo.\n\nExisting functional tests cover this change.\n\nChange-Id: Ifa8cd445927573ff70f69148b36da37469470cf4\n'}, {'number': 4, 'created': '2018-03-12 17:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70059af146a66ff944073acd3d8116c7c593f80b', 'message': 'Reparent placement objects to oslo_versionedobjects\n\nThe versioned objects used by placement can inherit directly from\noslo_versionedobjects, so this change reparents them. This helps make\nsure that placement is independent from nova and will ease the eventual\nextraction of placement to its own repo.\n\nExisting functional tests cover this change.\n\nChange-Id: Ifa8cd445927573ff70f69148b36da37469470cf4\n'}, {'number': 5, 'created': '2018-03-13 09:03:00.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/07d861f346266c6db4f45186f8560c2093f7bdd0', 'message': 'Reparent placement objects to oslo_versionedobjects\n\nThe versioned objects used by placement can inherit directly from\noslo_versionedobjects, so this change reparents them. This helps make\nsure that placement is independent from nova and will ease the eventual\nextraction of placement to its own repo.\n\nExisting functional tests cover this change.\n\nChange-Id: Ifa8cd445927573ff70f69148b36da37469470cf4\n'}]",0,551529,07d861f346266c6db4f45186f8560c2093f7bdd0,78,17,5,11564,,,0,"Reparent placement objects to oslo_versionedobjects

The versioned objects used by placement can inherit directly from
oslo_versionedobjects, so this change reparents them. This helps make
sure that placement is independent from nova and will ease the eventual
extraction of placement to its own repo.

Existing functional tests cover this change.

Change-Id: Ifa8cd445927573ff70f69148b36da37469470cf4
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/551529/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/objects/resource_provider.py'],1,d12cc034646545a2eb2fb8e04fb09dbdd58ee130,cd/placement-objects,"from oslo_versionedobjects import base from oslo_versionedobjects import fields@base.VersionedObjectRegistry.register_if(False) class ResourceProvider(base.VersionedObject, base.TimestampedObject):@base.VersionedObjectRegistry.register_if(False) class ResourceProviderList(base.ObjectListBase, base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class Inventory(base.VersionedObject, base.TimestampedObject):@base.VersionedObjectRegistry.register_if(False) class InventoryList(base.ObjectListBase, base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class Allocation(base.VersionedObject, base.TimestampedObject):@base.VersionedObjectRegistry.register_if(False) class AllocationList(base.ObjectListBase, base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class Usage(base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class UsageList(base.ObjectListBase, base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class ResourceClass(base.VersionedObject, base.TimestampedObject):@base.VersionedObjectRegistry.register_if(False) class ResourceClassList(base.ObjectListBase, base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class Trait(base.VersionedObject, base.TimestampedObject):@base.VersionedObjectRegistry.register_if(False) class TraitList(base.ObjectListBase, base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class AllocationRequestResource(base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class AllocationRequest(base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class ProviderSummaryResource(base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class ProviderSummary(base.VersionedObject):@base.VersionedObjectRegistry.register_if(False) class AllocationCandidates(base.VersionedObject):","from nova.objects import base from nova.objects import fields@base.NovaObjectRegistry.register_if(False) class ResourceProvider(base.NovaObject, base.NovaTimestampObject):@base.NovaObjectRegistry.register_if(False) class ResourceProviderList(base.ObjectListBase, base.NovaObject):@base.NovaObjectRegistry.register_if(False) class Inventory(base.NovaObject, base.NovaTimestampObject):@base.NovaObjectRegistry.register_if(False) class InventoryList(base.ObjectListBase, base.NovaObject):@base.NovaObjectRegistry.register_if(False) class Allocation(base.NovaObject, base.NovaTimestampObject):@base.NovaObjectRegistry.register_if(False) class AllocationList(base.ObjectListBase, base.NovaObject):@base.NovaObjectRegistry.register_if(False) class Usage(base.NovaObject):@base.NovaObjectRegistry.register_if(False) class UsageList(base.ObjectListBase, base.NovaObject):@base.NovaObjectRegistry.register_if(False) class ResourceClass(base.NovaObject, base.NovaTimestampObject):@base.NovaObjectRegistry.register_if(False) class ResourceClassList(base.ObjectListBase, base.NovaObject):@base.NovaObjectRegistry.register_if(False) class Trait(base.NovaObject, base.NovaTimestampObject):@base.NovaObjectRegistry.register_if(False) class TraitList(base.ObjectListBase, base.NovaObject):@base.NovaObjectRegistry.register_if(False) class AllocationRequestResource(base.NovaObject):@base.NovaObjectRegistry.register_if(False) class AllocationRequest(base.NovaObject):@base.NovaObjectRegistry.register_if(False) class ProviderSummaryResource(base.NovaObject):@base.NovaObjectRegistry.register_if(False) class ProviderSummary(base.NovaObject):@base.NovaObjectRegistry.register_if(False) class AllocationCandidates(base.NovaObject):",36,36
openstack%2Fnova~master~I3e5144217c194f2571526311ddae6661cfed2ea9,openstack/nova,master,I3e5144217c194f2571526311ddae6661cfed2ea9,Move resource provider objects into placement hierarchy,MERGED,2018-03-10 13:26:25.000000000,2018-03-22 11:49:42.000000000,2018-03-13 19:14:29.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-10 13:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb54d6224d38a458074fc0b3797cb615c2e9d969', 'message': ""Move resource provider objects into placement hierarchy\n\nThis is so we don't have all the other objects imported into the\nthe placement process, which happens by virtue of being in the\nnova.objects package. It also eases the eventual extraction of\nplacement.\n\nThat extraction will involve lifting and shifting the\nnova/api/openstack/placement directory (plus any tests) to a new\nrepository. .../placement will become the roo placement directory\nin the repo, since a) placement is (for now) only an API, b) it\neases extraction. Subsequent patches will do things like move\nexceptions and the wsgi application.\n\nChange-Id: I3e5144217c194f2571526311ddae6661cfed2ea9\n""}, {'number': 2, 'created': '2018-03-10 15:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd57bbb1f6068070ccfa69c6202ecf6785adedfc', 'message': ""Move resource provider objects into placement hierarchy\n\nThis is so we don't have all the other objects imported into the\nthe placement process, which happens by virtue of being in the\nnova.objects package. It also eases the eventual extraction of\nplacement.\n\nThat extraction will involve lifting and shifting the\nnova/api/openstack/placement directory (plus any tests) to a new\nrepository. .../placement will become the roo placement directory\nin the repo, since a) placement is (for now) only an API, b) it\neases extraction. Subsequent patches will do things like move\nexceptions and the wsgi application.\n\nChange-Id: I3e5144217c194f2571526311ddae6661cfed2ea9\n""}, {'number': 3, 'created': '2018-03-10 18:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8c7fb0b29e3c08973471b51acaebca1c6bdcc41', 'message': ""Move resource provider objects into placement hierarchy\n\nThis is so we don't have all the other objects imported into the\nthe placement process, which happens by virtue of being in the\nnova.objects package. It also eases the eventual extraction of\nplacement.\n\nThat extraction will involve lifting and shifting the\nnova/api/openstack/placement directory (plus any tests) to a new\nrepository. .../placement will become the roo placement directory\nin the repo, since a) placement is (for now) only an API, b) it\neases extraction. Subsequent patches will do things like move\nexceptions and the wsgi application.\n\nChange-Id: I3e5144217c194f2571526311ddae6661cfed2ea9\n""}, {'number': 4, 'created': '2018-03-12 17:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf30b57306fddfd300064df9adfc76a103c43188', 'message': ""Move resource provider objects into placement hierarchy\n\nThis is so we don't have all the other objects imported into the\nthe placement process, which happens by virtue of being in the\nnova.objects package. It also eases the eventual extraction of\nplacement.\n\nThat extraction will involve lifting and shifting the\nnova/api/openstack/placement directory (plus any tests) to a new\nrepository. .../placement will become the roo placement directory\nin the repo, since a) placement is (for now) only an API, b) it\neases extraction. Subsequent patches will do things like move\nexceptions and the wsgi application.\n\nChange-Id: I3e5144217c194f2571526311ddae6661cfed2ea9\n""}, {'number': 5, 'created': '2018-03-13 09:03:00.000000000', 'files': ['nova/tests/functional/db/test_allocation_candidates.py', 'nova/tests/unit/api/openstack/placement/test_util.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/handlers/trait.py', 'nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py', 'nova/api/openstack/placement/deploy.py', 'nova/api/openstack/placement/handlers/resource_class.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/unit/cmd/test_status.py', 'nova/api/openstack/placement/handlers/aggregate.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/tests/functional/api/openstack/placement/fixtures.py', 'nova/api/openstack/placement/handlers/usage.py', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/test.py', 'nova/tests/unit/api/openstack/placement/objects/__init__.py', 'nova/api/openstack/placement/objects/__init__.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b19d5b7355cc10832fa1492fb46aa0e1b647c17', 'message': ""Move resource provider objects into placement hierarchy\n\nThis is so we don't have all the other objects imported into the\nthe placement process, which happens by virtue of being in the\nnova.objects package. It also eases the eventual extraction of\nplacement.\n\nThat extraction will involve lifting and shifting the\nnova/api/openstack/placement directory (plus any tests) to a new\nrepository. .../placement will become the roo placement directory\nin the repo, since a) placement is (for now) only an API, b) it\neases extraction. Subsequent patches will do things like move\nexceptions and the wsgi application.\n\nChange-Id: I3e5144217c194f2571526311ddae6661cfed2ea9\n""}]",2,551528,8b19d5b7355cc10832fa1492fb46aa0e1b647c17,68,16,5,11564,,,0,"Move resource provider objects into placement hierarchy

This is so we don't have all the other objects imported into the
the placement process, which happens by virtue of being in the
nova.objects package. It also eases the eventual extraction of
placement.

That extraction will involve lifting and shifting the
nova/api/openstack/placement directory (plus any tests) to a new
repository. .../placement will become the roo placement directory
in the repo, since a) placement is (for now) only an API, b) it
eases extraction. Subsequent patches will do things like move
exceptions and the wsgi application.

Change-Id: I3e5144217c194f2571526311ddae6661cfed2ea9
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/551528/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_allocation_candidates.py', 'nova/tests/unit/api/openstack/placement/test_util.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/handlers/trait.py', 'nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py', 'nova/api/openstack/placement/deploy.py', 'nova/api/openstack/placement/handlers/resource_class.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/unit/cmd/test_status.py', 'nova/api/openstack/placement/handlers/aggregate.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/tests/functional/api/openstack/placement/fixtures.py', 'nova/api/openstack/placement/handlers/usage.py', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/test.py', 'nova/tests/unit/api/openstack/placement/objects/__init__.py', 'nova/api/openstack/placement/objects/__init__.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py']",19,fb54d6224d38a458074fc0b3797cb615c2e9d969,cd/placement-objects,"from nova.api.openstack.placement.objects import resource_provider as rp_obj with mock.patch('nova.api.openstack.placement.objects.' 'resource_provider._set_root_provider_id'): @mock.patch('nova.api.openstack.placement.objects.resource_provider.LOG') @mock.patch('nova.api.openstack.placement.objects.resource_provider.LOG') @mock.patch.object( nova.api.openstack.placement.objects.resource_provider.ResourceClass, ""_get_next_id"") @mock.patch.object( nova.api.openstack.placement.objects.resource_provider.ResourceClass, ""_get_next_id"")"," with mock.patch('nova.objects.resource_provider.' '_set_root_provider_id'): @mock.patch('nova.objects.resource_provider.LOG') @mock.patch('nova.objects.resource_provider.LOG') @mock.patch.object(nova.objects.resource_provider.ResourceClass, ""_get_next_id"") @mock.patch.object(nova.objects.resource_provider.ResourceClass, ""_get_next_id"")",60,55
openstack%2Fnova~master~If9342c8ea757b1735f2488db751008984fb33baf,openstack/nova,master,If9342c8ea757b1735f2488db751008984fb33baf,Follow the new PTI for document build,MERGED,2018-03-16 10:57:27.000000000,2018-03-22 11:48:39.000000000,2018-03-16 23:08:58.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-16 10:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bd32322deba9fa8d41276da0ffd5f2974704f00', 'message': ""Follow the new PTI for document build\n\nThe Project Testing Interface [1] asks that we list requirements in\n'doc/requirements.txt' and build docs by calling 'sphinx-build' directly\ninstead of via the 'build_sphinx' setuptool/distutils wrapper. Start\ndoing this.\n\n[1] https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If9342c8ea757b1735f2488db751008984fb33baf\n""}, {'number': 2, 'created': '2018-03-16 14:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54072ffa7a44ba17bb15c33702cfe455ca21e9ed', 'message': ""Follow the new PTI for document build\n\nThe Project Testing Interface [1] asks that we list requirements in\n'doc/requirements.txt' and build docs by calling 'sphinx-build' directly\ninstead of via the 'build_sphinx' setuptool/distutils wrapper. Start\ndoing this.\n\n[1] https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If9342c8ea757b1735f2488db751008984fb33baf\n""}, {'number': 3, 'created': '2018-03-16 14:39:49.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/c21ab6b1344294278a321636c40c8579a1aefee7', 'message': ""Follow the new PTI for document build\n\nThe Project Testing Interface [1] asks that we list requirements in\n'doc/requirements.txt' and build docs by calling 'sphinx-build' directly\ninstead of via the 'build_sphinx' setuptool/distutils wrapper. Start\ndoing this.\n\n[1] https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If9342c8ea757b1735f2488db751008984fb33baf\n""}]",3,553751,c21ab6b1344294278a321636c40c8579a1aefee7,32,14,3,15334,,,0,"Follow the new PTI for document build

The Project Testing Interface [1] asks that we list requirements in
'doc/requirements.txt' and build docs by calling 'sphinx-build' directly
instead of via the 'build_sphinx' setuptool/distutils wrapper. Start
doing this.

[1] https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: If9342c8ea757b1735f2488db751008984fb33baf
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/553751/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,2bd32322deba9fa8d41276da0ffd5f2974704f00,bug/1755783,deps = -r{toxinidir}/doc/requirements.txt # Build docs sphinx-build -W -b html doc/source doc/build/html # Test the redirects. This must run after the main docs build whereto doc/build/html/.htaccess doc/test/redirect-tests.txtdeps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx # Test the redirects whereto doc/build/html/.htaccess doc/test/redirect-tests.txt,20,21
openstack%2Fnova~master~I86416e35da1798cdf039b42c9ed7629f0f9c75fc,openstack/nova,master,I86416e35da1798cdf039b42c9ed7629f0f9c75fc,placement: generation in provider aggregate APIs,MERGED,2018-02-27 12:29:52.000000000,2018-03-22 11:48:29.000000000,2018-03-16 06:15:55.000000000,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-02-27 12:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a1d62e1f1e890e25a8b70934b7d5db8ddacb53', 'message': 'WIP: placement: generation in RP agg APIs\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}, {'number': 2, 'created': '2018-02-28 16:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61defbdbb4ca84bb7348b92583e901b9d04cda03', 'message': 'placement: generation in provider aggregate APIs\n\nPlacement API microversion 1.19 enhances the payloads for the `GET\n/resource_providers/{uuid}/aggregates` response and the `PUT\n/resource_providers/{uuid}/aggregates` request and response to be\nidentical, and to include the ``resource_provider_generation``. As with\nother generation-aware APIs, if the ``resource_provider_generation``\nspecified in the `PUT` request does not match the generation known by\nthe server, a 409 Conflict error is returned.\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}, {'number': 3, 'created': '2018-02-28 22:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5f3eb170f178b96e6ff5c27bc8c5371e769f8b9', 'message': 'placement: generation in provider aggregate APIs\n\nPlacement API microversion 1.19 enhances the payloads for the `GET\n/resource_providers/{uuid}/aggregates` response and the `PUT\n/resource_providers/{uuid}/aggregates` request and response to be\nidentical, and to include the ``resource_provider_generation``. As with\nother generation-aware APIs, if the ``resource_provider_generation``\nspecified in the `PUT` request does not match the generation known by\nthe server, a 409 Conflict error is returned.\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}, {'number': 4, 'created': '2018-03-01 09:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a8f93d218d23b60920a07358a43b70f35feb352', 'message': 'placement: generation in provider aggregate APIs\n\nPlacement API microversion 1.19 enhances the payloads for the `GET\n/resource_providers/{uuid}/aggregates` response and the `PUT\n/resource_providers/{uuid}/aggregates` request and response to be\nidentical, and to include the ``resource_provider_generation``. As with\nother generation-aware APIs, if the ``resource_provider_generation``\nspecified in the `PUT` request does not match the generation known by\nthe server, a 409 Conflict error is returned.\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}, {'number': 5, 'created': '2018-03-13 18:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/465d5ecbb9a9979fc8eb4d47855a49040dc394c9', 'message': 'placement: generation in provider aggregate APIs\n\nPlacement API microversion 1.19 enhances the payloads for the `GET\n/resource_providers/{uuid}/aggregates` response and the `PUT\n/resource_providers/{uuid}/aggregates` request and response to be\nidentical, and to include the ``resource_provider_generation``. As with\nother generation-aware APIs, if the ``resource_provider_generation``\nspecified in the `PUT` request does not match the generation known by\nthe server, a 409 Conflict error is returned.\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}, {'number': 6, 'created': '2018-03-14 13:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b066f693a37dbb82b3fc9030dcb55a02be5912f', 'message': 'placement: generation in provider aggregate APIs\n\nPlacement API microversion 1.19 enhances the payloads for the `GET\n/resource_providers/{uuid}/aggregates` response and the `PUT\n/resource_providers/{uuid}/aggregates` request and response to be\nidentical, and to include the ``resource_provider_generation``. As with\nother generation-aware APIs, if the ``resource_provider_generation``\nspecified in the `PUT` request does not match the generation known by\nthe server, a 409 Conflict error is returned.\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}, {'number': 7, 'created': '2018-03-14 22:09:00.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/shared-resources.yaml', 'nova/tests/functional/api/openstack/placement/gabbits/aggregate.yaml', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider-resources-query.yaml', 'nova/api/openstack/placement/microversion.py', 'placement-api-ref/source/samples/aggregates/update-aggregates-request-1.19.json', 'placement-api-ref/source/samples/aggregates/get-aggregates-1.19.json', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/rest_api_version_history.rst', 'nova/api/openstack/placement/handlers/aggregate.py', 'placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/samples/aggregates/update-aggregates-1.19.json', 'releasenotes/notes/placement-aggregate-generation-9dad79fb0356fcc0.yaml', 'nova/api/openstack/placement/schemas/aggregate.py', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider-aggregates.yaml', 'placement-api-ref/source/aggregates.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/3216f078d481d2b48b90b63c2d93082c86b9809d', 'message': 'placement: generation in provider aggregate APIs\n\nPlacement API microversion 1.19 enhances the payloads for the `GET\n/resource_providers/{uuid}/aggregates` response and the `PUT\n/resource_providers/{uuid}/aggregates` request and response to be\nidentical, and to include the ``resource_provider_generation``. As with\nother generation-aware APIs, if the ``resource_provider_generation``\nspecified in the `PUT` request does not match the generation known by\nthe server, a 409 Conflict error is returned.\n\nChange-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc\nblueprint: placement-aggregate-generation\n'}]",23,548249,3216f078d481d2b48b90b63c2d93082c86b9809d,148,19,7,14070,,,0,"placement: generation in provider aggregate APIs

Placement API microversion 1.19 enhances the payloads for the `GET
/resource_providers/{uuid}/aggregates` response and the `PUT
/resource_providers/{uuid}/aggregates` request and response to be
identical, and to include the ``resource_provider_generation``. As with
other generation-aware APIs, if the ``resource_provider_generation``
specified in the `PUT` request does not match the generation known by
the server, a 409 Conflict error is returned.

Change-Id: I86416e35da1798cdf039b42c9ed7629f0f9c75fc
blueprint: placement-aggregate-generation
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/548249/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/rest_api_version_history.rst', 'nova/api/openstack/placement/handlers/aggregate.py', 'placement-api-ref/source/parameters.yaml', 'releasenotes/notes/placement-aggregate-generation-9dad79fb0356fcc0.yaml', 'nova/api/openstack/placement/schemas/aggregate.py', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/api/openstack/placement/microversion.py', 'placement-api-ref/source/aggregates.inc', 'placement-api-ref/source/samples/aggregates/get-aggregates-1.19.json']",9,65a1d62e1f1e890e25a8b70934b7d5db8ddacb53,bp/placement-aggregate-generation,"{ ""aggregates"": [ ""42896e0d-205d-4fe3-bd1e-100924931787"", ""5e08ea53-c4c6-448e-9334-ac4953de3cfa"" ], ""resource_provider_generation"": 8 } ",,104,14
openstack%2Fnova~master~Idaf1bdadf561fda7287bce34d9972fdd74fa75ae,openstack/nova,master,Idaf1bdadf561fda7287bce34d9972fdd74fa75ae,Updated from global requirements,MERGED,2018-03-14 05:46:41.000000000,2018-03-22 11:48:25.000000000,2018-03-14 15:40:34.000000000,"[{'_account_id': 679}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-14 05:46:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0a7990af7968147ce41f967fb818fb37ccac877', 'message': 'Updated from global requirements\n\nChange-Id: Idaf1bdadf561fda7287bce34d9972fdd74fa75ae\n'}]",0,552774,f0a7990af7968147ce41f967fb818fb37ccac877,15,11,1,11131,,,0,"Updated from global requirements

Change-Id: Idaf1bdadf561fda7287bce34d9972fdd74fa75ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/552774/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f0a7990af7968147ce41f967fb818fb37ccac877,openstack/requirements,oslo.config>=5.2.0 # Apache-2.0,oslo.config>=5.1.0 # Apache-2.0,1,1
openstack%2Fdevstack~master~Id6de87211d6c4ea8fd14aa9203d8d5b17e9e2f04,openstack/devstack,master,Id6de87211d6c4ea8fd14aa9203d8d5b17e9e2f04,Revert to using neutron-legacy based services,MERGED,2018-03-13 12:32:19.000000000,2018-03-22 11:48:17.000000000,2018-03-13 17:40:13.000000000,"[{'_account_id': 1921}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 12:32:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e6faf84ec347470b32362098e69fe2b1844d3fed', 'message': 'Revert to using neutron-legacy based services\n\nThe patch to remove the use of the test-matrix [0] also switched from\nusing the neutron-legacy based service names (q-*) to the new neutron-*\nnames. However it turns out that the new implementation is not yet working\nproperly for most neutron-consuming projects, so we switch back to the\nprevious situation for now.\n\n[0] https://review.openstack.org/546765\n\nChange-Id: Id6de87211d6c4ea8fd14aa9203d8d5b17e9e2f04\n'}]",0,552503,e6faf84ec347470b32362098e69fe2b1844d3fed,11,7,1,13252,,,0,"Revert to using neutron-legacy based services

The patch to remove the use of the test-matrix [0] also switched from
using the neutron-legacy based service names (q-*) to the new neutron-*
names. However it turns out that the new implementation is not yet working
properly for most neutron-consuming projects, so we switch back to the
previous situation for now.

[0] https://review.openstack.org/546765

Change-Id: Id6de87211d6c4ea8fd14aa9203d8d5b17e9e2f04
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/552503/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e6faf84ec347470b32362098e69fe2b1844d3fed,use-neutron-legacy, # We need to keep using the neutron-legacy based services for # now until all issues with the new lib/neutron code are solved q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true # neutron-api: true # neutron-agent: true # neutron-dhcp: true # neutron-l3: true # neutron-metadata-agent: true # neutron-metering: true, neutron-api: true neutron-agent: true neutron-dhcp: true neutron-l3: true neutron-metadata-agent: true neutron-metering: true,14,6
openstack%2Fnova~master~Ie23a9c922776b028da0720c939846cba233ac472,openstack/nova,master,Ie23a9c922776b028da0720c939846cba233ac472,Handle EndpointNotFound when building image_ref_url in notifications,MERGED,2018-03-20 21:23:11.000000000,2018-03-22 11:46:00.000000000,2018-03-21 14:47:32.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-03-20 21:23:11.000000000', 'files': ['nova/notifications/base.py', 'nova/tests/unit/notifications/test_base.py', 'releasenotes/notes/bug-1753550-image-ref-url-notifications-42df5911a46b7de7.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6482165bb1f44f5c98d9361153d737c22c92112d', 'message': 'Handle EndpointNotFound when building image_ref_url in notifications\n\nChange I4e755b9c66ec8bc3af0393e81cffd91c56064717 made the\n[glance]/api_servers option optional. If not set, we attempt\nto get the image service endpoint via keystoneauth adapter and\nthe service catalog via the request context.\n\nPeriodic tasks run without an actual token so there is no way\nto get the service catalog and the KSA adapter code to get the\nendpoint raises EndpointNotFound when trying to build the\n""image_ref_url"" entry in the legacy instance notification payload.\n\nThis change simply handles the EndpointNotFound and sets the\nimage_ref_url to the instance.image_ref, which for non-volume-backed\ninstances is the image id (for volume-backed instances it\'s an empty\nstring).\n\nThis doesn\'t affect versioned notifications since those don\'t use the\n""image_ref_url"" entry in the payload that is created, they just have\nan ""image_uuid"" entry in the versioned notification payload which is\npopulated via instance.image_ref.\n\nAn upgrade impact release note is added in the case that some consuming\nservice is actually relying on that legacy notification field being\na URL and parsing it as such. The thinking here, however, is this is\nbetter than not sending the field at all, or setting it to None.\n\nLong-term this code all gets replaced with versioned notifications.\n\nChange-Id: Ie23a9c922776b028da0720c939846cba233ac472\nCloses-Bug: #1753550\n'}]",15,554703,6482165bb1f44f5c98d9361153d737c22c92112d,27,17,1,6873,,,0,"Handle EndpointNotFound when building image_ref_url in notifications

Change I4e755b9c66ec8bc3af0393e81cffd91c56064717 made the
[glance]/api_servers option optional. If not set, we attempt
to get the image service endpoint via keystoneauth adapter and
the service catalog via the request context.

Periodic tasks run without an actual token so there is no way
to get the service catalog and the KSA adapter code to get the
endpoint raises EndpointNotFound when trying to build the
""image_ref_url"" entry in the legacy instance notification payload.

This change simply handles the EndpointNotFound and sets the
image_ref_url to the instance.image_ref, which for non-volume-backed
instances is the image id (for volume-backed instances it's an empty
string).

This doesn't affect versioned notifications since those don't use the
""image_ref_url"" entry in the payload that is created, they just have
an ""image_uuid"" entry in the versioned notification payload which is
populated via instance.image_ref.

An upgrade impact release note is added in the case that some consuming
service is actually relying on that legacy notification field being
a URL and parsing it as such. The thinking here, however, is this is
better than not sending the field at all, or setting it to None.

Long-term this code all gets replaced with versioned notifications.

Change-Id: Ie23a9c922776b028da0720c939846cba233ac472
Closes-Bug: #1753550
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/554703/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/base.py', 'nova/tests/unit/notifications/test_base.py', 'releasenotes/notes/bug-1753550-image-ref-url-notifications-42df5911a46b7de7.yaml']",3,6482165bb1f44f5c98d9361153d737c22c92112d,bug/1753550,--- upgrade: - | The ``image_ref_url`` entry in legacy instance notification payloads will be just the instance image id if ``[glance]/api_servers`` is not set and the notification is being sent from a periodic task. In this case the periodic task does not have a token to get the image service endpoint URL from the identity service so only the image id is in the payload. This does not affect versioned notifications. ,,61,2
openstack%2Fnova~master~Iaee13478212cc04e6d1a1249f33822369d94d41d,openstack/nova,master,Iaee13478212cc04e6d1a1249f33822369d94d41d,Preserve multiattach flag when refreshing connection_info,MERGED,2018-03-20 19:13:26.000000000,2018-03-22 11:45:51.000000000,2018-03-22 04:28:05.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17386}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-20 19:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81263244e539416b0df591f80050ef5d49aa939f', 'message': 'Preserve multiattach flag when refreshing connection_info\n\nWhen we attach a multiattach-capable volume, we do something\ndirty and stash a ""multiattach"" boolean flag in the\nBlockDeviceMapping.connection_info dict. This is used by the\nvirt driver to determine how to connect the volume (for the\nlibvirt driver, it sets the ""shareable"" element on the disk\nconfig xml).\n\nWhen resizing an instance, ComputeManager._finish_resize on\nthe destination host refreshing the block device mapping list\nalong with the connection_info for each BDM. Because of this,\nit would overwrite the BDM.connection_info along with the stashed\n""multiattach"" flag which is later used to connect the volumes\non the destination host via the virt driver.finish_migration\nmethod. This leads to failures with multiattach volumes because\nthe disk config is wrong.\n\nTo fix this, when refreshing BDM connection_info, we preserve\nthe multiattach flag in the connection_info, similar to the\nserial (volume ID) and multipath_id.\n\nInterestingly enough, the nova-multiattach job does not fail\nthe volume multiattach resize test with libvirt 1.3.1 and qemu\n2.5. This failure was only noticed once the nova-multiattach\njob was tested with libvirt 4.0.0 and qemu 2.11.1. So maybe there\nwas something in the older package versions that masked this\nobvious bug in the nova code.\n\nChange-Id: Iaee13478212cc04e6d1a1249f33822369d94d41d\nCloses-Bug: #1757190\n'}, {'number': 2, 'created': '2018-03-20 19:16:58.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3cca205581d45d92714ce1a909d4394b7812ff', 'message': 'Preserve multiattach flag when refreshing connection_info\n\nWhen we attach a multiattach-capable volume, we do something\ndirty and stash a ""multiattach"" boolean flag in the\nBlockDeviceMapping.connection_info dict. This is used by the\nvirt driver to determine how to connect the volume (for the\nlibvirt driver, it sets the ""shareable"" element on the disk\nconfig xml).\n\nWhen resizing an instance, ComputeManager._finish_resize on\nthe destination host refreshes the block device mapping list\nalong with the connection_info for each BDM. Because of this,\nit would overwrite the BDM.connection_info along with the stashed\n""multiattach"" flag which is later used to connect the volumes\non the destination host via the virt driver.finish_migration\nmethod. This leads to failures with multiattach volumes because\nthe disk config is wrong.\n\nTo fix this, when refreshing BDM connection_info, we preserve\nthe multiattach flag in the connection_info, similar to the\nserial (volume ID) and multipath_id.\n\nInterestingly enough, the nova-multiattach job does not fail\nthe volume multiattach resize test with libvirt 1.3.1 and qemu\n2.5. This failure was only noticed once the nova-multiattach\njob was tested with libvirt 4.0.0 and qemu 2.11.1. So maybe there\nwas something in the older package versions that masked this\nobvious bug in the nova code.\n\nChange-Id: Iaee13478212cc04e6d1a1249f33822369d94d41d\nCloses-Bug: #1757190\n'}]",4,554667,5f3cca205581d45d92714ce1a909d4394b7812ff,35,18,2,6873,,,0,"Preserve multiattach flag when refreshing connection_info

When we attach a multiattach-capable volume, we do something
dirty and stash a ""multiattach"" boolean flag in the
BlockDeviceMapping.connection_info dict. This is used by the
virt driver to determine how to connect the volume (for the
libvirt driver, it sets the ""shareable"" element on the disk
config xml).

When resizing an instance, ComputeManager._finish_resize on
the destination host refreshes the block device mapping list
along with the connection_info for each BDM. Because of this,
it would overwrite the BDM.connection_info along with the stashed
""multiattach"" flag which is later used to connect the volumes
on the destination host via the virt driver.finish_migration
method. This leads to failures with multiattach volumes because
the disk config is wrong.

To fix this, when refreshing BDM connection_info, we preserve
the multiattach flag in the connection_info, similar to the
serial (volume ID) and multipath_id.

Interestingly enough, the nova-multiattach job does not fail
the volume multiattach resize test with libvirt 1.3.1 and qemu
2.5. This failure was only noticed once the nova-multiattach
job was tested with libvirt 4.0.0 and qemu 2.11.1. So maybe there
was something in the older package versions that masked this
obvious bug in the nova code.

Change-Id: Iaee13478212cc04e6d1a1249f33822369d94d41d
Closes-Bug: #1757190
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/554667/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,81263244e539416b0df591f80050ef5d49aa939f,bug/1757190," # The _volume_attach method stashes a 'multiattach' flag in the # BlockDeviceMapping.connection_info which is not persisted back # in cinder so before we overwrite the BDM.connection_info (via # the update_db decorator on this method), we need to make sure # and preserve the multiattach flag if it's set. Note that this # is safe to do across refreshes because the multiattach capability # of a volume cannot be changed while the volume is in-use. multiattach = self['connection_info'].get('multiattach', False) if multiattach: connection_info['multiattach'] = True",,43,0
openstack%2Fnova~master~I2b94945a0963d6a61af931505b69afe2d4733759,openstack/nova,master,I2b94945a0963d6a61af931505b69afe2d4733759,Move placement exceptions into the placement package,MERGED,2018-03-05 19:58:30.000000000,2018-03-22 11:45:07.000000000,2018-03-19 21:17:46.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-05 19:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34f1066546f34875d40dc9883a9038a2cc31a87b', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 2, 'created': '2018-03-06 22:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/525dd6044962390e3400ee3b91f9cbcd19307576', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 3, 'created': '2018-03-07 09:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3530c0970984e6d02925796ae2cddd6a629edda8', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 4, 'created': '2018-03-10 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0592964929722bbb6f36f52bec256664f9406071', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 5, 'created': '2018-03-10 15:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249f8feb5b20f95e8f71ba79ad2f857d3c1464f3', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 6, 'created': '2018-03-10 18:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe4e921f724fcc124f9a7bdd8723539672eaa481', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 7, 'created': '2018-03-12 17:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc51bd03bd934695832e5af77d1ac6a17968b7a4', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 8, 'created': '2018-03-13 09:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfa2b887cc9040eb52330c17c447f5094aecfe84', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 9, 'created': '2018-03-14 09:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/291c82c73a0b7bb75a46c713c6dbc8fbedb0d4c0', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 10, 'created': '2018-03-14 09:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63d21560f13450afbd58009553df99be58d96986', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 11, 'created': '2018-03-14 18:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67643323cda5de1d4b2a6a255532ebf5a315c4cf', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 12, 'created': '2018-03-16 09:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c828620fc2425f190424d0991915ac10b29975de', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nNote that this change is intentionally a child of\nIea182341f9419cb514a044f76864d6bec60a3683 so that the source of many\nexceptions (the objects) are within the same hierarchy as the\nexceptions.\n\nAlso, this change helps to highlight that functional.db tests related to\nplacement (nova/tests/functional/db/test_allocation_candidates.py,\nnova/tests/functional/db/test_resource_class_cache.py,\nnova/tests/functional/db/test_resource_provider.py) should probably be\nmoved at some point.\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 13, 'created': '2018-03-16 17:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a123ed1c59acca8caf6a80f17a49959a304edf2', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nblueprint placement-extract\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 14, 'created': '2018-03-17 10:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2d9ea6f958ddf388e7690d88738f9e4985c42ea', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nblueprint placement-extract\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 15, 'created': '2018-03-18 12:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a4291824ea7da01145d711fe59a8c03fe7dd625', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nblueprint placement-extract\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 16, 'created': '2018-03-19 14:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84317b290b74d530d38181257f3713ebe5f1b4e4', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is an imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nblueprint placement-extract\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}, {'number': 17, 'created': '2018-03-19 15:29:36.000000000', 'files': ['nova/tests/functional/db/test_allocation_candidates.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/handlers/trait.py', 'nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py', 'nova/api/openstack/placement/handlers/resource_class.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/exception.py', 'nova/api/openstack/placement/exception.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/api/openstack/placement/handlers/usage.py', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/db/sqlalchemy/resource_class_cache.py', 'nova/api/openstack/placement/handler.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py', 'nova/tests/functional/db/test_resource_class_cache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a072eab339bef29a0a07bb3ab431ef682a9d4c0', 'message': ""Move placement exceptions into the placement package\n\nThis change moves the exceptions raised within the placement service\ninto the nova.api.openstack.placement package. This is part of the\nprocess of unifying all placement code into one subdirectory so that\na future lift and shift is easier and cleaner.\n\nThis is mostly a straightforward change of imports and a moving of\nexisting exceptions in the placements handlers and objects with a few\ncaveats:\n\n* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not\n  yet been accomplished, so it remains where it is and imports\n  exceptions from the placement hierarchy. A TODO indicating some of the\n  options is left for future work.\n* Exceptions with the name ResourceProviderInUse and InventoryInUse are\n  used on both sides of the nova/placement interaction. This is\n  noted with comments in both nova/exception.py and\n  placement/exception.py.\n* test_report_client.py has had a TODO added to make it clear that the\n  exceptions it uses are nova-side, and perhaps the test file should be\n  moved.\n* The base class of the original exceptions, NoveException, does a bit\n  more than is required on the placement side so a new private class\n  _BaseException is created which removes support for handling 'code'.\n  This is not required because all exceptions in placement are supposed\n  to be manually caught in handlers and explicitly transformed into http\n  exceptions.\n\nblueprint placement-extract\n\nChange-Id: I2b94945a0963d6a61af931505b69afe2d4733759\n""}]",5,549862,1a072eab339bef29a0a07bb3ab431ef682a9d4c0,224,19,17,11564,,,0,"Move placement exceptions into the placement package

This change moves the exceptions raised within the placement service
into the nova.api.openstack.placement package. This is part of the
process of unifying all placement code into one subdirectory so that
a future lift and shift is easier and cleaner.

This is mostly a straightforward change of imports and a moving of
existing exceptions in the placements handlers and objects with a few
caveats:

* Dealing with nova/db/sqlalchemy/resource_class_cache.py has not
  yet been accomplished, so it remains where it is and imports
  exceptions from the placement hierarchy. A TODO indicating some of the
  options is left for future work.
* Exceptions with the name ResourceProviderInUse and InventoryInUse are
  used on both sides of the nova/placement interaction. This is
  noted with comments in both nova/exception.py and
  placement/exception.py.
* test_report_client.py has had a TODO added to make it clear that the
  exceptions it uses are nova-side, and perhaps the test file should be
  moved.
* The base class of the original exceptions, NoveException, does a bit
  more than is required on the placement side so a new private class
  _BaseException is created which removes support for handling 'code'.
  This is not required because all exceptions in placement are supposed
  to be manually caught in handlers and explicitly transformed into http
  exceptions.

blueprint placement-extract

Change-Id: I2b94945a0963d6a61af931505b69afe2d4733759
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/549862/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_allocation_candidates.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/handlers/trait.py', 'nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py', 'nova/api/openstack/placement/handlers/resource_class.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/exception.py', 'nova/api/openstack/placement/exception.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/api/openstack/placement/handlers/usage.py', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/db/sqlalchemy/resource_class_cache.py', 'nova/api/openstack/placement/handler.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py', 'nova/tests/functional/db/test_resource_class_cache.py']",17,34f1066546f34875d40dc9883a9038a2cc31a87b,bp/placement-extract,from nova.api.openstack.placement import exception,from nova import exception,192,88
openstack%2Fnova~stable%2Fqueens~Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5,openstack/nova,stable/queens,Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5,Unmap compute nodes when deleting host mappings in delete cell operation,MERGED,2018-03-15 17:16:18.000000000,2018-03-22 11:44:50.000000000,2018-03-21 14:48:02.000000000,"[{'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27707}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-03-15 17:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a059d52951b1e9b709baaefd3c70c901381c208', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n(cherry picked from commit dc2d15129d1a86a841e3dc1ccab250c30d34c540)\n'}, {'number': 2, 'created': '2018-03-16 09:40:19.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6401d1e3c8966f5c9b9106d2e3918c766ce8b48a', 'message': 'Unmap compute nodes when deleting host mappings in delete cell operation\n\nPresently when a host_mapping is deleted during the nova-manage cell_v2\ndelete_cell operation, the compute node record still remains with its\nmapped field set to 1. Due to this, if we delete a cell, and later\ncreate a new cell, the discover_hosts command will not work and the\ncompute node will not get mapped to the new cell. This patch fixes this\nissue by setting it back to 0.\n\nConflicts:\n    nova/tests/unit/test_nova_manage.py\n\nNOTE(tssurya): The conflict is due to not having the change\nIbefa0465224bec9a22431c7d3b5c8f5d91fc7732 in Queens.\n\nChange-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5\nCloses-Bug: #1747936\n(cherry picked from commit dc2d15129d1a86a841e3dc1ccab250c30d34c540)\n'}]",0,553496,6401d1e3c8966f5c9b9106d2e3918c766ce8b48a,36,13,2,26936,,,0,"Unmap compute nodes when deleting host mappings in delete cell operation

Presently when a host_mapping is deleted during the nova-manage cell_v2
delete_cell operation, the compute node record still remains with its
mapped field set to 1. Due to this, if we delete a cell, and later
create a new cell, the discover_hosts command will not work and the
compute node will not get mapped to the new cell. This patch fixes this
issue by setting it back to 0.

Conflicts:
    nova/tests/unit/test_nova_manage.py

NOTE(tssurya): The conflict is due to not having the change
Ibefa0465224bec9a22431c7d3b5c8f5d91fc7732 in Queens.

Change-Id: Iaf13f11bcd0bb25f673fc28f252cb9391409b9b5
Closes-Bug: #1747936
(cherry picked from commit dc2d15129d1a86a841e3dc1ccab250c30d34c540)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/553496/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",3,8a059d52951b1e9b709baaefd3c70c901381c208,bug/1747936," nodes = [] if host_mappings: if not force: print(_('There are existing hosts mapped to cell with uuid ' '%s.') % cell_uuid) return 2 # We query for the compute nodes in the cell, # so that they can be unmapped. with context.target_cell(ctxt, cell_mapping) as cctxt: nodes = objects.ComputeNodeList.get_all(cctxt) # Unmap the compute nodes so that they can be discovered # again in future, if needed. for node in nodes: node.mapped = 0 node.save() ", if host_mappings and not force: print(_('There are existing hosts mapped to cell with uuid %s.') % cell_uuid) return 2,54,7
openstack%2Fcharm-interface-hacluster~master~I80ca19fa5f1d573827ea9cd7fe0f18c575518c8c,openstack/charm-interface-hacluster,master,I80ca19fa5f1d573827ea9cd7fe0f18c575518c8c,py3: sort CRM group members,MERGED,2018-03-22 11:15:54.000000000,2018-03-22 11:44:17.000000000,2018-03-22 11:44:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 11:15:54.000000000', 'files': ['requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/8c72945ead3542480f286098cdb02439460760ae', 'message': 'py3: sort CRM group members\n\nEnsure that CRM group members are sorted to avoid continual\ndata mutation on ha relations to the hacluster charm, which\ncauses restarts of services and vips.\n\nChange-Id: I80ca19fa5f1d573827ea9cd7fe0f18c575518c8c\nCloses-Bug: 1754149\n'}]",0,555256,8c72945ead3542480f286098cdb02439460760ae,7,3,1,935,,,0,"py3: sort CRM group members

Ensure that CRM group members are sorted to avoid continual
data mutation on ha relations to the hacluster charm, which
causes restarts of services and vips.

Change-Id: I80ca19fa5f1d573827ea9cd7fe0f18c575518c8c
Closes-Bug: 1754149
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/56/555256/1 && git format-patch -1 --stdout FETCH_HEAD,['requires.py'],1,8c72945ead3542480f286098cdb02439460760ae,bug/1754149," resources.group(group, *sorted(vip_res_group_members)) resources.group(group, *sorted(dns_res_group_members))"," resources.group(group, *vip_res_group_members) resources.group(group, *dns_res_group_members)",4,2
openstack%2Fnova~master~Ib3f10706a7191c58909ec1938042ce338df4d499,openstack/nova,master,Ib3f10706a7191c58909ec1938042ce338df4d499,"Revert ""Refine waiting for vif plug events during _hard_reboot""",MERGED,2018-03-14 20:03:47.000000000,2018-03-22 11:44:13.000000000,2018-03-19 16:34:41.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6854}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9414}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-03-14 20:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c91e1462a0ffad3ba3f9a21a2cb85e1ef024fb15', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis reverts commit aaf37a26d6caa124f0cc6c3fe21bfdf58ccb8517.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n'}, {'number': 2, 'created': '2018-03-14 21:07:21.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed3e27afb4ca7b36baab3b8008a727caa43e1e3b', 'message': 'Revert ""Refine waiting for vif plug events during _hard_reboot""\n\nThis reverts commit aaf37a26d6caa124f0cc6c3fe21bfdf58ccb8517.\n\nThis gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4\nwhich was meant to address an issue introduced\nby Id188d48609f3d22d14e16c7f6114291d547a8986.\n\nSo we essentially had three changes:\n\n1. Hard reboot would blow away volumes and vifs and then wait for the\n   vifs to be plugged; this caused a problem for some vif types (\n   linuxbridge was reported) because the event never came and we\n   timed out.\n\n2. To workaround that, a second change was made to simply not wait for\n   vif plugging events.\n\n3. Since #2 was a bit heavy-handed for a problem that didn\'t impact\n   openvswitch, another change was made to only wait for non-bridge vif\n   types, so we\'d wait for OVS.\n\nBut it turns out that opendaylight is an OVS vif type and doesn\'t send\nevents for plugging the vif, only for binding the port (and we don\'t\nre-bind the port during reboot). There is also a report of this being a\nproblem for other types of ports, see\nIf209f77cff2de00f694b01b2507c633ec3882c82.\n\nSo rather than try to special-case every possible vif type that could\nbe impacted by this, we are simply reverting the change so we no longer\nwait for vif plugged events during hard reboot.\n\nNote that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986\nand tweaked that to not unplug/plug the vifs we wouldn\'t have this\nproblem either, and that change was really meant to deal with an\nencrypted volume issue on reboot. But changing that logic is out of the\nscope of this change. Alternatively, we could re-bind the port during\nreboot but that could have other implications, or neutron could put\nsomething into the port details telling us which vifs will send events\nand which won\'t, but again that\'s all outside of the scope of this\npatch.\n\nChange-Id: Ib3f10706a7191c58909ec1938042ce338df4d499\nCloses-Bug: #1755890\n'}]",2,553035,ed3e27afb4ca7b36baab3b8008a727caa43e1e3b,59,22,2,1004,,,0,"Revert ""Refine waiting for vif plug events during _hard_reboot""

This reverts commit aaf37a26d6caa124f0cc6c3fe21bfdf58ccb8517.

This gets us back to Ib0cf5d55750f13d0499a570f14024dca551ed4d4
which was meant to address an issue introduced
by Id188d48609f3d22d14e16c7f6114291d547a8986.

So we essentially had three changes:

1. Hard reboot would blow away volumes and vifs and then wait for the
   vifs to be plugged; this caused a problem for some vif types (
   linuxbridge was reported) because the event never came and we
   timed out.

2. To workaround that, a second change was made to simply not wait for
   vif plugging events.

3. Since #2 was a bit heavy-handed for a problem that didn't impact
   openvswitch, another change was made to only wait for non-bridge vif
   types, so we'd wait for OVS.

But it turns out that opendaylight is an OVS vif type and doesn't send
events for plugging the vif, only for binding the port (and we don't
re-bind the port during reboot). There is also a report of this being a
problem for other types of ports, see
If209f77cff2de00f694b01b2507c633ec3882c82.

So rather than try to special-case every possible vif type that could
be impacted by this, we are simply reverting the change so we no longer
wait for vif plugged events during hard reboot.

Note that if we went back to Id188d48609f3d22d14e16c7f6114291d547a8986
and tweaked that to not unplug/plug the vifs we wouldn't have this
problem either, and that change was really meant to deal with an
encrypted volume issue on reboot. But changing that logic is out of the
scope of this change. Alternatively, we could re-bind the port during
reboot but that could have other implications, or neutron could put
something into the port details telling us which vifs will send events
and which won't, but again that's all outside of the scope of this
patch.

Change-Id: Ib3f10706a7191c58909ec1938042ce338df4d499
Closes-Bug: #1755890
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/553035/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c91e1462a0ffad3ba3f9a21a2cb85e1ef024fb15,bug/1744361," block_device_info=block_device_info, vifs_already_plugged=True)"," @mock.patch('nova.virt.libvirt.LibvirtDriver._get_neutron_events') @mock.patch('nova.virt.libvirt.LibvirtDriver.plug_vifs') @mock.patch('nova.virt.libvirt.LibvirtDriver._lxc_disk_handler') @mock.patch('nova.virt.libvirt.LibvirtDriver._create_domain') def test_create_domain_and_network_reboot(self, mock_create, mock_handler, mock_plug, mock_events): # Verify that we call get_neutron_events with reboot=True if # create_domain_and_network was called with reboot=True drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance = objects.Instance(**self.test_instance) network_info = _fake_network_info(self, 1) @mock.patch.object(drvr.firewall_driver, 'setup_basic_filtering') @mock.patch.object(drvr.firewall_driver, 'prepare_instance_filter') @mock.patch.object(drvr.firewall_driver, 'apply_instance_filter') def _do_create(mock_apply, mock_prepare, mock_setup): drvr._create_domain_and_network(self.context, mock.sentinel.xml, instance, network_info, reboot=True) _do_create() mock_events.assert_called_once_with(network_info, reboot=True) block_device_info=block_device_info, reboot=True) def test_get_neutron_events_reboot(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) bridge = network_model.VIF_TYPE_BRIDGE ovs = network_model.VIF_TYPE_OVS network_info = [network_model.VIF(id='1'), network_model.VIF(id='2', active=True), network_model.VIF(id='3', type=bridge), network_model.VIF(id='4', type=ovs)] events = drvr._get_neutron_events(network_info, reboot=True) self.assertEqual([('network-vif-plugged', '1'), ('network-vif-plugged', '2'), ('network-vif-plugged', '4')], events) ",19,79
openstack%2Foslo.config~master~I46a861f88166b3b2de0a532cc88beef1ef91ab89,openstack/oslo.config,master,I46a861f88166b3b2de0a532cc88beef1ef91ab89,Follow the new PTI for document build,MERGED,2018-03-21 20:35:19.000000000,2018-03-22 11:43:58.000000000,2018-03-22 11:43:58.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-21 20:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d89ff1256f88f756b09b0f00f67474b19a0f0e24', 'message': 'Remove sphinx settings from setup.cfg\n\nThis removes some settings from setup.cfg that cause docs jobs\nto identify and treat doc runs differently. This fixes the ability\nto run ""tox -e docs"" locally.\n\nChange-Id: I46a861f88166b3b2de0a532cc88beef1ef91ab89\n'}, {'number': 2, 'created': '2018-03-21 20:59:25.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/7d250abe0403b0bde7f61becc8f7c7f6f52ca1af', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I46a861f88166b3b2de0a532cc88beef1ef91ab89\n'}]",1,555039,7d250abe0403b0bde7f61becc8f7c7f6f52ca1af,11,4,2,11904,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I46a861f88166b3b2de0a532cc88beef1ef91ab89
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/39/555039/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d89ff1256f88f756b09b0f00f67474b19a0f0e24,updated-pti,,[build_sphinx] all-files = 1 warning-is-error = 1 source-dir = doc/source build-dir = doc/build [upload_sphinx] upload-dir = doc/build/html ,0,9
openstack%2Fnova~master~I510136a7eb0a832dfe469cb68d06d1b9472d9ae4,openstack/nova,master,I510136a7eb0a832dfe469cb68d06d1b9472d9ae4,Transform live_migration.post.dest notifications,MERGED,2017-06-01 07:20:27.000000000,2018-03-22 11:43:54.000000000,2018-03-13 16:10:31.000000000,"[{'_account_id': 3}, {'_account_id': 6125}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 27609}]","[{'number': 1, 'created': '2017-06-01 07:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd9dc81362c04e94827644f9ec41fcc155409f2c', 'message': 'Transform live_migration_post_dest notification\n\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 2, 'created': '2017-06-01 07:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/354184c3edc5a16358fda96f2f31cf56a0ff1b33', 'message': '[WIP] Transform live_migration_post_dest notification\n\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 3, 'created': '2017-06-29 07:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38b46ea1729e420fb504a3e9b6309f65394eed09', 'message': '[WIP] Transform live_migration_post_dest notification\n\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 4, 'created': '2017-07-04 09:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcdb0921753c3cea3e01f333704e7871d65ff802', 'message': 'Transform live_migration_post_dest notification\n\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 5, 'created': '2017-07-04 11:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69df5cbdaebe3d49424a9e31d092fe821fb32568', 'message': 'Transform live_migration_post_dest notification\n\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 6, 'created': '2018-01-30 14:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3260d14fbdf55eab1df4b5ab92eda7d9c9be68d', 'message': 'Transform live_migration_post_dest notification\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 7, 'created': '2018-01-31 00:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc966b61668688f66807c5c0b880efdc2b8c5449', 'message': 'Transform live_migration_post_dest notification\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 8, 'created': '2018-02-06 21:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe228b2e6a94ece3d85913622a1252065840c244', 'message': 'Transform live_migration_post_dest notification\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 9, 'created': '2018-02-13 00:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1c28af402800e0e0eefc9f5464474d8028e6b75', 'message': 'Transform live_migration_post_dest notification\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 10, 'created': '2018-02-15 21:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/504245cb77096114b81ca22e0a8a08a5abfcd605', 'message': 'Transform live_migration_post_dest notification\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 11, 'created': '2018-02-21 22:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f14ca7062a50076ba97a1791f1fd0702c47c69d', 'message': 'Transform live_migration_post_dest notification\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 12, 'created': '2018-02-27 09:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dec2bde8ce7374ec2a772aff402026beb5d43ab2', 'message': 'Transform live_migration.post.dest notifications\n\nThe following notifications has been transformed to\nthe versioned notification framework.\n\n* live_migration.post.dest.start\n* live_migration.post.dest.end\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 13, 'created': '2018-02-27 09:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7161fa1f6219badfe7450570f11aff08dfd6db20', 'message': 'Transform live_migration.post.dest notifications\n\nThe following notifications has been transformed to\nthe versioned notification framework.\n\n* live_migration.post.dest.start\n* live_migration.post.dest.end\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 14, 'created': '2018-03-06 22:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f96cf7604b1daab4c45c841874fbde9b9a209e38', 'message': 'Transform live_migration.post.dest notifications\n\nThe following notifications has been transformed to\nthe versioned notification framework.\n\n* live_migration.post.dest.start\n* live_migration.post.dest.end\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}, {'number': 15, 'created': '2018-03-13 11:19:44.000000000', 'files': ['doc/notification_samples/instance-live_migration_post_dest-start.json', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/fake.py', 'nova/notifications/objects/instance.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/instance-live_migration_post_dest-end.json', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67f1c98898406d2c663f46e6380762d81f38aff9', 'message': 'Transform live_migration.post.dest notifications\n\nThe following notifications has been transformed to\nthe versioned notification framework.\n\n* live_migration.post.dest.start\n* live_migration.post.dest.end\n\nCo-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>\nChange-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4\nImplements: bp versioned-notification-transformation-rocky\n'}]",3,469784,67f1c98898406d2c663f46e6380762d81f38aff9,177,27,15,18603,,,0,"Transform live_migration.post.dest notifications

The following notifications has been transformed to
the versioned notification framework.

* live_migration.post.dest.start
* live_migration.post.dest.end

Co-Authored-By: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>
Change-Id: I510136a7eb0a832dfe469cb68d06d1b9472d9ae4
Implements: bp versioned-notification-transformation-rocky
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/469784/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/notifications/objects/instance.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/compute/manager.py']",4,cd9dc81362c04e94827644f9ec41fcc155409f2c,bp/versioned-notification-transformation-rocky," compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.LIVE_MIGRATION_POST_DEST, phase=fields.NotificationPhase.START) compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.LIVE_MIGRATION_POST_DEST, phase=fields.NotificationPhase.END)",,32,6
openstack%2Fneutron~master~Ibef48e7842a276fe77c901403d67760871f2b7e0,openstack/neutron,master,Ibef48e7842a276fe77c901403d67760871f2b7e0,Try to enable L3 agent extension `fip_qos`,MERGED,2018-02-23 06:12:54.000000000,2018-03-22 11:37:41.000000000,2018-03-07 04:14:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7715}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 06:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65597d378e9bd2d7170e3739dd5b04fb4926b8ba', 'message': 'Try to enable L3 agent extension `fip_qos`\n\nAdds devstack configs to try to enable the L3 agent\nextension `fip_qos` by checking the API service\nextension router, agent and QoS.\n\nOnce this L3 agent extension works during the devstack\nzuul job installation, we can continue to run the\nneutron-tempest-plugin tests for floating IP QoS.\n\nPartially-Implements blueprint: floating-ip-rate-limit\n\nChange-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0\n'}, {'number': 2, 'created': '2018-02-23 07:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a130ce9f850058cdfbd5d2104edf6c9ef1d960b', 'message': 'Try to enable L3 agent extension `fip_qos`\n\nAdds devstack configs to try to enable the L3 agent\nextension `fip_qos` by checking the API service\nextension router, agent and QoS.\n\nOnce this L3 agent extension works during the devstack\nzuul job installation, we can continue to run the\nneutron-tempest-plugin tests for floating IP QoS.\n\nPartially-Implements blueprint: floating-ip-rate-limit\n\nChange-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0\n'}, {'number': 3, 'created': '2018-02-23 09:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c55a00656316781befde3e9629a90b5a81995dfa', 'message': 'Try to enable L3 agent extension `fip_qos`\n\nAdds devstack configs to try to enable the L3 agent\nextension `fip_qos` by checking the API service\nextension router, agent and QoS.\n\nOnce this L3 agent extension works during the devstack\nzuul job installation, we can continue to run the\nneutron-tempest-plugin tests for floating IP QoS.\n\nPartially-Implements blueprint: floating-ip-rate-limit\n\nChange-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0\n'}, {'number': 4, 'created': '2018-02-26 09:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10a1600afda7ec419bd540cae3931cf60494da8a', 'message': 'Try to enable L3 agent extension `fip_qos`\n\nAdds devstack configs to try to enable the L3 agent\nextension `fip_qos` by checking the API service\nextension router, agent and QoS.\n\nOnce this L3 agent extension works during the devstack\nzuul job installation, we can continue to run the\nneutron-tempest-plugin tests for floating IP QoS.\n\nPartially-Implements blueprint: floating-ip-rate-limit\n\nChange-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0\n'}, {'number': 5, 'created': '2018-02-27 08:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6cc77635b4fdd731a205bfff612b13bfaf8fa04', 'message': 'Try to enable L3 agent extension `fip_qos`\n\nAdds devstack configs to try to enable the L3 agent\nextension `fip_qos` by checking the API service\nextension router, agent and QoS.\n\nOnce this L3 agent extension works during the devstack\nzuul job installation, we can continue to run the\nneutron-tempest-plugin tests for floating IP QoS.\n\nPartially-Implements blueprint: floating-ip-rate-limit\n\nChange-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0\n'}, {'number': 6, 'created': '2018-03-01 08:42:50.000000000', 'files': ['devstack/lib/l3_agent', 'devstack/lib/qos', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e50a77fc7412b2d0f5c6cf36c147d649cfb16a9', 'message': 'Try to enable L3 agent extension `fip_qos`\n\nAdds devstack configs to try to enable the L3 agent\nextension `fip_qos` by checking the API service\nextension router, agent and QoS.\n\nOnce this L3 agent extension works during the devstack\nzuul job installation, we can continue to run the\nneutron-tempest-plugin tests for floating IP QoS.\n\nPartially-Implements blueprint: floating-ip-rate-limit\n\nChange-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0\n'}]",18,547286,6e50a77fc7412b2d0f5c6cf36c147d649cfb16a9,61,9,6,9531,,,0,"Try to enable L3 agent extension `fip_qos`

Adds devstack configs to try to enable the L3 agent
extension `fip_qos` by checking the API service
extension router, agent and QoS.

Once this L3 agent extension works during the devstack
zuul job installation, we can continue to run the
neutron-tempest-plugin tests for floating IP QoS.

Partially-Implements blueprint: floating-ip-rate-limit

Change-Id: Ibef48e7842a276fe77c901403d67760871f2b7e0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/547286/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/l3_agent', 'devstack/plugin.sh', 'devstack/settings']",3,65597d378e9bd2d7170e3739dd5b04fb4926b8ba,bp/floating-ip-rate-limit,L3_AGENT_EXTENSIONS=${L3_AGENT_EXTENSIONS:-},,24,0
openstack%2Fkuryr-kubernetes~master~I27a719a326dc37f97c46b88d0c171d0f12ded605,openstack/kuryr-kubernetes,master,I27a719a326dc37f97c46b88d0c171d0f12ded605,Watcher restarts watching resources in failure,MERGED,2017-12-22 14:01:06.000000000,2018-03-22 11:37:24.000000000,2018-03-20 16:24:37.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14852}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 26131}, {'_account_id': 27032}, {'_account_id': 27068}, {'_account_id': 27824}]","[{'number': 1, 'created': '2017-12-22 14:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/226912e6990a3d962e880698d1d1e31e2a2f051a', 'message': 'fix watching thread exits if exception occurs\n\nif watch or handler raise an exception such as connection error\nas a result of api-server restarting, and the watch will stop,\nfinally, thread exits.\n\nfix this adding forever retry with interval when catching all exceptions\n\nCloses-Bug: 1739776\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\n'}, {'number': 2, 'created': '2017-12-25 07:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6155f13a72f4f7e46e86fe525ca1527de07d66f7', 'message': 'fix watching thread exits if exception occurs\n\nif watch or handler raise an exception such as connection error\nas a result of api-server restarting, and the watch will stop,\nfinally, thread exits.\n\nfix this adding forever retry with interval when catching all exceptions\n\nCloses-Bug: 1739776\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\n'}, {'number': 3, 'created': '2018-01-03 02:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c3c8d95cd80a073f7cdd42d5702e8054c903028c', 'message': 'fix watching thread exits if exception occurs\n\nif watch or handler raise an exception such as connection error\nas a result of api-server restarting, and the watch will stop,\nfinally, thread exits.\n\nfix this adding forever retry with interval when catching all exceptions\n\nCloses-Bug: 1739776\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\n'}, {'number': 4, 'created': '2018-01-13 14:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9f1fc9e466cdb30425e24541e18f0c683a1318cb', 'message': 'fix watching thread exits if exception occurs\n\nif watch or handler raise an exception such as connection error\nas a result of api-server restarting, and the watch will stop,\nfinally, thread exits.\n\nfix this adding forever retry with interval when catching all exceptions\n\nCloses-Bug: 1739776\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\n'}, {'number': 5, 'created': '2018-01-15 06:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d777d589cbee537b7afd162740ca43a152b0306a', 'message': 'fix watching thread exits if exception occurs\n\nif watch or handler raise an exception such as connection error\nas a result of api-server restarting, and the watch will stop,\nfinally, thread exits.\n\nfix this adding forever retry with interval when catching all exceptions\n\nCloses-Bug: 1739776\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\n'}, {'number': 6, 'created': '2018-01-18 10:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/efdbacdbb00921c7dcfb8df61b02da8f9d941486', 'message': 'fix watching thread exits if exception occurs\n\nif watch or handler raise an exception such as connection error\nas a result of api-server restarting, and the watch will stop,\nfinally, thread exits.\n\nfix this adding forever retry with interval when catching all exceptions\n\nCloses-Bug: 1739776\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\n'}, {'number': 7, 'created': '2018-02-23 07:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0d921d214b072f21f32ebcd6bd5c8134e30e6c7a', 'message': 'Watcher restarts watching fixed resources\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 8, 'created': '2018-02-23 07:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a26a805adcf7d68027bbf25aecec98da5700c30', 'message': 'Watcher restarts watching fixed resources\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 9, 'created': '2018-03-05 04:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fc41a7007fb8fd9315f5b594628b4b268fb4c990', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 10, 'created': '2018-03-05 09:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f06ca03d54cd4206fafed1ab576a7ac833e8774a', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 11, 'created': '2018-03-05 11:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/268e385026b649d8596fcd799f3c09b0a46ece78', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 12, 'created': '2018-03-06 01:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4ff1a582594918f87e9a2fc20856842e7cea350e', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 13, 'created': '2018-03-07 04:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/700b1079839591010f3c71dcf83aeeb8c5a3a9eb', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 14, 'created': '2018-03-07 04:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ca6f1ade4cb8b273032a57fa393e0e81ff478cd8', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 15, 'created': '2018-03-07 07:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/323b65643f097b34bd2d0485cfb223b4d3572cbb', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 16, 'created': '2018-03-15 02:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8c734b334090ad714475175f7558b04941e3e83d', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 17, 'created': '2018-03-19 06:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3757825a7f1d45889ecb720b6b7e1b43f500c84e', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 18, 'created': '2018-03-19 07:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/677f5f13470c0c38f9648e610b6bb2dd923024d5', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nRelated-Bug: 1705429\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 19, 'created': '2018-03-19 08:17:16.000000000', 'files': ['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/handlers/retry.py', 'kuryr_kubernetes/utils.py', 'releasenotes/notes/fault-tolerable-watcher-24c51dbccabf5f17.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/58e6b1914c516ec87e04cfc935f33352887d1926', 'message': 'Watcher restarts watching resources in failure\n\nkuryr-kubernetes watcher watches k8s resources and trigger registered\npipeline.\n\nThis patch handles restarting watching when watch thread has failed.\n\nChange-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605\nCloses-Bug: 1739776\nRelated-Bug: 1705429\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}]",60,529832,58e6b1914c516ec87e04cfc935f33352887d1926,86,12,19,14852,,,0,"Watcher restarts watching resources in failure

kuryr-kubernetes watcher watches k8s resources and trigger registered
pipeline.

This patch handles restarting watching when watch thread has failed.

Change-Id: I27a719a326dc37f97c46b88d0c171d0f12ded605
Closes-Bug: 1739776
Related-Bug: 1705429
Signed-off-by: Eunsoo Park <esevan.park@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/32/529832/18 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/tests/unit/test_watcher.py']",2,226912e6990a3d962e880698d1d1e31e2a2f051a,bug/1739776, if event['e'] == 2: watcher_obj._running = False,"from eventlet import greenlet def test_watch_interrupted(self): path = '/test' events = [{'e': i} for i in range(3)] def handler(event): self.assertFalse(watcher_obj._idle[path]) raise greenlet.GreenletExit() m_handler = mock.Mock() m_handler.side_effect = handler watcher_obj = self._test_watch_create_watcher(path, m_handler) self._test_watch_mock_events(watcher_obj, events) self.assertRaises(greenlet.GreenletExit, watcher_obj._watch, path) m_handler.assert_called_once_with(events[0]) self.assertNotIn(path, watcher_obj._idle) self.assertNotIn(path, watcher_obj._watching)",23,33
openstack%2Ftripleo-validations~master~I58e8da19ee7d83921b2eb63024bb37df6e501be3,openstack/tripleo-validations,master,I58e8da19ee7d83921b2eb63024bb37df6e501be3,Fix MySQL Open Files Limit validation,MERGED,2018-03-21 12:15:46.000000000,2018-03-22 11:22:09.000000000,2018-03-21 19:34:07.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:15:46.000000000', 'files': ['validations/mysql-open-files-limit.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/21e6ba6cb73b61bd4063cc34bbf8cbeda287d7d5', 'message': 'Fix MySQL Open Files Limit validation\n\nThe MySQL Open Files Limit validation still checks the mysql config path that\nwas used before the service was containerized, which is making the validation\nfail. This patch adds the correct path to the validation.\n\nChange-Id: I58e8da19ee7d83921b2eb63024bb37df6e501be3\nCloses-Bug: #1757409\n'}]",0,554888,21e6ba6cb73b61bd4063cc34bbf8cbeda287d7d5,9,3,1,17888,,,0,"Fix MySQL Open Files Limit validation

The MySQL Open Files Limit validation still checks the mysql config path that
was used before the service was containerized, which is making the validation
fail. This patch adds the correct path to the validation.

Change-Id: I58e8da19ee7d83921b2eb63024bb37df6e501be3
Closes-Bug: #1757409
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/554888/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/mysql-open-files-limit.yaml'],1,21e6ba6cb73b61bd4063cc34bbf8cbeda287d7d5,bug/1757409, mysql_variables: variable=open_files_limit config_file=/var/lib/config-data/mysql/root/.my.cnf, mysql_variables: variable=open_files_limit,1,1
openstack%2Fkuryr-kubernetes~master~I0e42209c6947bc3ec3ccd0f66da7a42c0cb53164,openstack/kuryr-kubernetes,master,I0e42209c6947bc3ec3ccd0f66da7a42c0cb53164,"Revert ""Watcher restarts watching resources in failure""",ABANDONED,2018-03-22 09:44:08.000000000,2018-03-22 11:13:36.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14852}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 26131}, {'_account_id': 27032}, {'_account_id': 27068}, {'_account_id': 27824}]","[{'number': 1, 'created': '2018-03-22 09:44:08.000000000', 'files': ['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/handlers/retry.py', 'kuryr_kubernetes/utils.py', 'releasenotes/notes/fault-tolerable-watcher-24c51dbccabf5f17.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e688a5b10541da5f1ebb30cc5d2e1b00c39b3c6e', 'message': 'Revert ""Watcher restarts watching resources in failure""\n\nThis commit most likely broke containerized deployments.\n\nThis reverts commit 58e6b1914c516ec87e04cfc935f33352887d1926.\n\nChange-Id: I0e42209c6947bc3ec3ccd0f66da7a42c0cb53164\n'}]",0,555221,e688a5b10541da5f1ebb30cc5d2e1b00c39b3c6e,6,12,1,11600,,,0,"Revert ""Watcher restarts watching resources in failure""

This commit most likely broke containerized deployments.

This reverts commit 58e6b1914c516ec87e04cfc935f33352887d1926.

Change-Id: I0e42209c6947bc3ec3ccd0f66da7a42c0cb53164
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/21/555221/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/handlers/retry.py', 'kuryr_kubernetes/utils.py', 'releasenotes/notes/fault-tolerable-watcher-24c51dbccabf5f17.yaml']",6,e688a5b10541da5f1ebb30cc5d2e1b00c39b3c6e,bug/1739776,,"--- upgrade: - | For the kuryr kubernetes watcher, a new option 'watch_retry_timeout' has been added. The following should be modified at kuryr.conf:: [kubernetes] # 'watch_retry_timeout' field is optional, # default = 60 if not set. watch_retry_timeout = <Time in seconds> fixes: - | K8s api server is often temporarily down and restored soon in production environment. Since kuryr-kubernetes watches k8s resources by connecting k8s api server, watcher fails to watch the resources if k8s api server is down. In order to fix it, we made watcher retry connecting to k8s api server for specific time duration when an exception is raised. ",41,143
openstack%2Fcookbook-openstack-orchestration~master~I4cd53d7aed179787d192d6342ec44fea9332fb66,openstack/cookbook-openstack-orchestration,master,I4cd53d7aed179787d192d6342ec44fea9332fb66,Remove deprecated cloudwatch recipe,MERGED,2018-03-08 17:31:02.000000000,2018-03-22 11:09:45.000000000,2018-03-22 11:09:45.000000000,"[{'_account_id': 11109}, {'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 17:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/2541743b9bf009edccff3498d40268b2a3f150fd', 'message': 'Remove deprecated cloudwatch recipe\n\n* Queens removed cloudwatch outright, which has been deprecated since Havana.\n\nChange-Id: I4cd53d7aed179787d192d6342ec44fea9332fb66\n'}, {'number': 2, 'created': '2018-03-13 14:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/2d625f7f1e3e5eaa526b646c614432579d4645ea', 'message': 'Remove deprecated cloudwatch recipe\n\n* Queens removed cloudwatch outright[0], which has been deprecated since Havana.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-October/123104.html\n\nChange-Id: I4cd53d7aed179787d192d6342ec44fea9332fb66\n'}, {'number': 3, 'created': '2018-03-13 14:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/75d9f50248537fbabaa30cea050a2ce6e4f2d4f7', 'message': 'Remove deprecated cloudwatch recipe\n\n* Queens removed cloudwatch outright[0], which has been deprecated since\n  Havana.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-October/123104.html\n\nChange-Id: I4cd53d7aed179787d192d6342ec44fea9332fb66\n'}, {'number': 4, 'created': '2018-03-13 15:52:33.000000000', 'files': ['spec/spec_helper.rb', 'attributes/default.rb', 'templates/default/default.yaml.erb', 'recipes/common.rb', 'recipes/identity_registration.rb', 'README.md', 'recipes/api-cloudwatch.rb', 'spec/api-cloudwatch-redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/5b2632d052c4fb4aa79a02f73c7f0d3a032f3acb', 'message': 'Remove deprecated cloudwatch recipe\n\n* Queens removed cloudwatch outright[0], which has been deprecated since\n  Havana.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-October/123104.html\n\nChange-Id: I4cd53d7aed179787d192d6342ec44fea9332fb66\n'}]",0,550963,5b2632d052c4fb4aa79a02f73c7f0d3a032f3acb,13,4,4,14790,,,0,"Remove deprecated cloudwatch recipe

* Queens removed cloudwatch outright[0], which has been deprecated since
  Havana.

[0] http://lists.openstack.org/pipermail/openstack-dev/2017-October/123104.html

Change-Id: I4cd53d7aed179787d192d6342ec44fea9332fb66
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/63/550963/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/spec_helper.rb', 'attributes/default.rb', 'recipes/common.rb', 'recipes/identity_registration.rb', 'README.md', 'recipes/api-cloudwatch.rb', 'spec/api-cloudwatch-redhat_spec.rb']",7,2541743b9bf009edccff3498d40268b2a3f150fd,remove_cloudwatch,,# encoding: UTF-8 require_relative 'spec_helper' describe 'openstack-orchestration::api-cloudwatch' do describe 'redhat' do let(:runner) { ChefSpec::SoloRunner.new(REDHAT_OPTS) } let(:node) { runner.node } let(:chef_run) { runner.converge(described_recipe) } include_context 'orchestration_stubs' include_examples 'expect runs openstack orchestration common recipe' it 'installs heat cloudwatch packages' do expect(chef_run).to upgrade_package 'openstack-heat-api-cloudwatch' end it 'starts heat api-cloudwatch on boot' do expect(chef_run).to enable_service('openstack-heat-api-cloudwatch') end end end ,0,97
openstack%2Fmistral~master~I1c533802342f964e36d4a8c5326c6a9c735d0952,openstack/mistral,master,I1c533802342f964e36d4a8c5326c6a9c735d0952,"Fix std.ssh ""password"" parameter",ABANDONED,2018-03-22 08:29:28.000000000,2018-03-22 11:08:01.000000000,,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 27349}]","[{'number': 1, 'created': '2018-03-22 08:29:28.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'mistral/tests/unit/actions/test_std_ssh_action.py', 'mistral/actions/std_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d118b84631414108a658feaacbe2d68da9479610', 'message': 'Fix std.ssh ""password"" parameter\n\nFixes the bug where calling std.ssh action without ""password"" input was resulting in error.\nCloses-bug: #1731100\n\nChange-Id: I1c533802342f964e36d4a8c5326c6a9c735d0952\n'}]",1,555190,d118b84631414108a658feaacbe2d68da9479610,5,3,1,27349,,,0,"Fix std.ssh ""password"" parameter

Fixes the bug where calling std.ssh action without ""password"" input was resulting in error.
Closes-bug: #1731100

Change-Id: I1c533802342f964e36d4a8c5326c6a9c735d0952
",git fetch https://review.opendev.org/openstack/mistral refs/changes/90/555190/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/wf_lang_v2.rst', 'mistral/tests/unit/actions/test_std_ssh_action.py', 'mistral/actions/std_actions.py']",3,d118b84631414108a658feaacbe2d68da9479610,bug/1731100," password="""", private_key_filename=None): output = json.dumps(self.params) return 0, output, ''"," password=None, private_key_filename=None): # TODO(rakhmerov): Implement. return None",39,4
openstack%2Fswift~master~I2d6d569789ddbe0bbba900d784b7430442d91e05,openstack/swift,master,I2d6d569789ddbe0bbba900d784b7430442d91e05,A slightly different pipeline simplification approach,NEW,2017-12-14 00:37:01.000000000,2018-03-22 11:06:51.000000000,,"[{'_account_id': 13052}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-14 00:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c4d53b3c39f0e6157cdc7728a7c156672d3d4765', 'message': 'A slightly different pipeline simplification approach\n\nThis patch is a patch ontop of Sams, as another possible\nway of simplifying the pipeline. Using the same idea,\nonly having it completely defined by the config.\n\nAlthough having it all in the config could be _more_\nconfusing.\n\nThis patch takes advantage of a composite_filter to build\nup a pipeline. This is just version 1 to see if it works.\n\nChange-Id: I2d6d569789ddbe0bbba900d784b7430442d91e05\n'}, {'number': 2, 'created': '2017-12-14 01:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/457a0d6eaf0fb8463da7f9ed24b7868d9c61fd1b', 'message': 'A slightly different pipeline simplification approach\n\nThis patch is a patch ontop of Sams, as another possible\nway of simplifying the pipeline. Using the same idea,\nonly having it completely defined by the config.\n\nAlthough having it all in the config could be _more_\nconfusing.\n\nThis patch takes advantage of a composite_filter to build\nup a pipeline. This is just version 1 to see if it works.\n\nChange-Id: I2d6d569789ddbe0bbba900d784b7430442d91e05\n'}, {'number': 3, 'created': '2018-03-22 09:36:34.000000000', 'files': ['doc/saio/swift/proxy-server.conf', 'swift/common/pipeline.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/19f98be15c35b295d733c2b448cad5b95b71b35b', 'message': ""A slightly different pipeline simplification approach\n\nThis patch is similar to Sam's approach except all\ndefined inside the config itself.\n\nThis patch takes advantage of a composite_filter to build\nup a pipeline. If it finds an item in the pipeline that\nis itself a variable in the local config, it'll replace\nit with the value of the variable. So you can break down\nthe pipeline anyway you want.\n\nSee the saio proxy.conf as an example.\n\nNOTE: Currently it doesn't recurse, though that wouldn't\nbe hard to do.\n\nChange-Id: I2d6d569789ddbe0bbba900d784b7430442d91e05\n""}]",0,527818,19f98be15c35b295d733c2b448cad5b95b71b35b,7,2,3,7233,,,0,"A slightly different pipeline simplification approach

This patch is similar to Sam's approach except all
defined inside the config itself.

This patch takes advantage of a composite_filter to build
up a pipeline. If it finds an item in the pipeline that
is itself a variable in the local config, it'll replace
it with the value of the variable. So you can break down
the pipeline anyway you want.

See the saio proxy.conf as an example.

NOTE: Currently it doesn't recurse, though that wouldn't
be hard to do.

Change-Id: I2d6d569789ddbe0bbba900d784b7430442d91e05
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/527818/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/proxy-server.conf', 'swift/common/pipeline.py', 'setup.cfg']",3,c4d53b3c39f0e6157cdc7728a7c156672d3d4765,another_pipline_simplification,paste.composite_factory = pipeline_factory = swift.common.pipeline:pipeline_factory , standard_before_auth = swift.common.pipeline:standard_before_auth standard_after_auth = swift.common.pipeline:standard_after_auth,70,104
openstack%2Ftripleo-heat-templates~master~I618e316978cd50967730af80765c9337115733ff,openstack/tripleo-heat-templates,master,I618e316978cd50967730af80765c9337115733ff,Fix queries for already installed packages,ABANDONED,2018-03-20 10:36:26.000000000,2018-03-22 11:04:56.000000000,,"[{'_account_id': 6133}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 11391}, {'_account_id': 21151}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 10:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/026e41c805e8eb1071fbd89e14fd15526f6527be', 'message': 'Fix queries for already installed packages\n\nWhen executing these rpm queries, it is assuming that the\nused locale is english. But it will fail when using another\nlocales because the output string will change. Forcing to use\nenglish for that queries to ensure that we get the right\nresult.\n\nChange-Id: I618e316978cd50967730af80765c9337115733ff\n'}, {'number': 2, 'created': '2018-03-20 10:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f5a818dda322384a28352e9f14c2444a5660966', 'message': 'Fix queries for already installed packages\n\nWhen executing these rpm queries, it is assuming that the\nused locale is english. But it will fail when using another\nlocales because the output string will change. Forcing to use\nenglish for that queries to ensure that we get the right\nresult.\n\nChange-Id: I618e316978cd50967730af80765c9337115733ff\n'}, {'number': 3, 'created': '2018-03-20 17:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/518cc29a517d6dca0d52bd7d3457211ad48ba6c9', 'message': 'Fix queries for already installed packages\n\nWhen executing these rpm queries, it is assuming that the\nused locale is english. But it will fail when using another\nlocales because the output string will change. Forcing to use\nenglish for that queries to ensure that we get the right\nresult.\n\nChange-Id: I618e316978cd50967730af80765c9337115733ff\n'}, {'number': 4, 'created': '2018-03-21 10:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76aa0d8caf38e823dc5884bb89a4883e6044b1af', 'message': 'Fix queries for already installed packages\n\nWhen executing these rpm queries, it is assuming that the\nused locale is english. But it will fail when using another\nlocales because the output string will change. Forcing to use\nenglish for that queries to ensure that we get the right\nresult.\n\nChange-Id: I618e316978cd50967730af80765c9337115733ff\n'}, {'number': 5, 'created': '2018-03-21 12:53:13.000000000', 'files': ['extraconfig/tasks/pacemaker_common_functions.sh', 'puppet/services/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81b99d86814c8779e9423a136d67f7e3202070a4', 'message': 'Fix queries for already installed packages\n\nWhen executing these rpm queries, it is assuming that the\nused locale is english. But it will fail when using another\nlocales because the output string will change. Forcing to use\nenglish for that queries to ensure that we get the right\nresult.\n\nChange-Id: I618e316978cd50967730af80765c9337115733ff\n'}]",13,554499,81b99d86814c8779e9423a136d67f7e3202070a4,27,7,5,6133,,,0,"Fix queries for already installed packages

When executing these rpm queries, it is assuming that the
used locale is english. But it will fail when using another
locales because the output string will change. Forcing to use
english for that queries to ensure that we get the right
result.

Change-Id: I618e316978cd50967730af80765c9337115733ff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/554499/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/tasks/pacemaker_common_functions.sh', 'puppet/services/openvswitch.yaml']",2,026e41c805e8eb1071fbd89e14fd15526f6527be,," LANG=en_US.UTF-8 rpm -U --test {{item}} 2>&1 | grep ""already installed"" || \"," rpm -U --test {{item}} 2>&1 | grep ""already installed"" || \",2,1
openstack%2Fqinling~master~I18728d1a845203f2e178829d2f99cb2641785273,openstack/qinling,master,I18728d1a845203f2e178829d2f99cb2641785273,Updated from global requirements,MERGED,2018-03-22 10:09:38.000000000,2018-03-22 10:59:47.000000000,2018-03-22 10:59:47.000000000,"[{'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 10:09:38.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/qinling/commit/d11172e66b3682019e296d0c54b13b450df52bb0', 'message': 'Updated from global requirements\n\nChange-Id: I18728d1a845203f2e178829d2f99cb2641785273\n'}]",0,555236,d11172e66b3682019e296d0c54b13b450df52bb0,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I18728d1a845203f2e178829d2f99cb2641785273
",git fetch https://review.opendev.org/openstack/qinling refs/changes/36/555236/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,d11172e66b3682019e296d0c54b13b450df52bb0,openstack/requirements,kubernetes>=5.0.0 # Apache-2.0,kubernetes>=4.0.0 # Apache-2.0,2,2
openstack%2Fshade~master~Iddd98c752cf5d007f3686bfd7c5ab74cc212680a,openstack/shade,master,Iddd98c752cf5d007f3686bfd7c5ab74cc212680a,Updated from global requirements,MERGED,2018-03-13 06:46:26.000000000,2018-03-22 10:59:43.000000000,2018-03-22 10:59:43.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 06:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1f40f4d0e9ee4c1e3193920e63aef723a0a4fa01', 'message': 'Updated from global requirements\n\nChange-Id: Iddd98c752cf5d007f3686bfd7c5ab74cc212680a\n'}, {'number': 2, 'created': '2018-03-15 06:44:05.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/shade/commit/76a19e3d26556a6aac41588b6207849a6629cf0d', 'message': 'Updated from global requirements\n\nChange-Id: Iddd98c752cf5d007f3686bfd7c5ab74cc212680a\n'}]",0,552305,76a19e3d26556a6aac41588b6207849a6629cf0d,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: Iddd98c752cf5d007f3686bfd7c5ab74cc212680a
",git fetch https://review.opendev.org/openstack/shade refs/changes/05/552305/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,1f40f4d0e9ee4c1e3193920e63aef723a0a4fa01,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD","sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD",1,1
openstack%2Foslo.middleware~master~I6d677d3d160c5730e7e2d8b00211eac22fe1a918,openstack/oslo.middleware,master,I6d677d3d160c5730e7e2d8b00211eac22fe1a918,Updated from global requirements,MERGED,2018-03-06 13:05:24.000000000,2018-03-22 10:55:24.000000000,2018-03-22 10:55:24.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-06 13:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/7d941b12d7075fe3027efbc459b9d198e3518ba7', 'message': 'Updated from global requirements\n\nChange-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918\n'}, {'number': 2, 'created': '2018-03-10 13:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/8abb3232dd208b790e6a9fe50fc3851da3c403d8', 'message': 'Updated from global requirements\n\nChange-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918\n'}, {'number': 3, 'created': '2018-03-13 07:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/966743675bfe82cda5a6aa1e64c221001bc2d6eb', 'message': 'Updated from global requirements\n\nChange-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918\n'}, {'number': 4, 'created': '2018-03-14 05:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/4274035f64317ea7bc807f7c42680d9a3028ce44', 'message': 'Updated from global requirements\n\nChange-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918\n'}, {'number': 5, 'created': '2018-03-15 07:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/390fd1968cb6dc412135c02d70a026c5ba0e3776', 'message': 'Updated from global requirements\n\nChange-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918\n'}, {'number': 6, 'created': '2018-03-21 08:56:08.000000000', 'files': ['requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/1c50f5e0bfdd4ee3f2b7a5a3e97f0609b522c21b', 'message': 'Updated from global requirements\n\nChange-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918\n'}]",0,550062,1c50f5e0bfdd4ee3f2b7a5a3e97f0609b522c21b,21,4,6,11131,,,0,"Updated from global requirements

Change-Id: I6d677d3d160c5730e7e2d8b00211eac22fe1a918
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/62/550062/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7d941b12d7075fe3027efbc459b9d198e3518ba7,openstack/requirements,Jinja2>=2.10 # BSD License (3 clause),"Jinja2!=2.9.0,!=2.9.1,!=2.9.2,!=2.9.3,!=2.9.4,>=2.8 # BSD License (3 clause)",1,1
openstack%2Foslo.config~master~Id6ae40311f967e172e45bcb0e61812365a72618b,openstack/oslo.config,master,Id6ae40311f967e172e45bcb0e61812365a72618b,Remove MultiConfigParser,MERGED,2018-03-20 16:38:53.000000000,2018-03-22 10:51:03.000000000,2018-03-22 10:51:03.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-20 16:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/9bd6fa114182b8c0403eaab80151c9d473f77853', 'message': ""Remove MultiConfigParser\n\nThis has been deprecated for quite a while and some of the upcoming\nwork to be done in oslo.config will be easier if we don't have to\ndeal with this unused parser too.\n\nThe class is still in use in networking-cisco, but in the\ndependency change we are moving it into that project since it's the\nonly project using it.\n\nChange-Id: Id6ae40311f967e172e45bcb0e61812365a72618b\nDepends-On: https://review.openstack.org/554617\n""}, {'number': 2, 'created': '2018-03-21 14:58:02.000000000', 'files': ['oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py', 'doc/source/reference/parser.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3a9d653b098650eff2c9e34ec170c434a42ce1c3', 'message': ""Remove MultiConfigParser\n\nThis has been deprecated for quite a while and some of the upcoming\nwork to be done in oslo.config will be easier if we don't have to\ndeal with this unused parser too.\n\nThe class is still currently in use in networking-cisco, but in\nchange https://review.openstack.org/554617 we have provided a fix\nthat removes their reliance on it.  They are planning to remove it\nentirely in Rocky and are only testing against a capped version in\nQueens so we are not going to wait on them.\n\nChange-Id: Id6ae40311f967e172e45bcb0e61812365a72618b\n""}]",1,554618,3a9d653b098650eff2c9e34ec170c434a42ce1c3,13,5,2,6928,,,0,"Remove MultiConfigParser

This has been deprecated for quite a while and some of the upcoming
work to be done in oslo.config will be easier if we don't have to
deal with this unused parser too.

The class is still currently in use in networking-cisco, but in
change https://review.openstack.org/554617 we have provided a fix
that removes their reliance on it.  They are planning to remove it
entirely in Rocky and are only testing against a capped version in
Queens so we are not going to wait on them.

Change-Id: Id6ae40311f967e172e45bcb0e61812365a72618b
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/18/554618/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py', 'doc/source/reference/parser.rst']",3,9bd6fa114182b8c0403eaab80151c9d473f77853,remove-multiconfigparser,," .. autoclass:: oslo_config.cfg.MultiConfigParser :members: read, get",7,200
openstack%2Fnetworking-bagpipe~master~Ibb55a12557a3f44305f4aaf082b4f3c5f2289aab,openstack/networking-bagpipe,master,Ibb55a12557a3f44305f4aaf082b4f3c5f2289aab,Avoid tox_install.sh,MERGED,2018-03-22 07:29:09.000000000,2018-03-22 10:43:42.000000000,2018-03-22 10:43:42.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-22 07:29:09.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/093fe3d5fee350b63bc608ddae34a25ce5b15dab', 'message': 'Avoid tox_install.sh\n\nSince neutron and networkinf-* are now in\nglobal-requirements, we can remove the installation from\ntools/tox_install.sh.\n\nRemove tox_install completely and update\ntox.ini for this.\n\nAdd requirements to requirements.txt instead.\n\nChange-Id: Ibb55a12557a3f44305f4aaf082b4f3c5f2289aab\n'}]",0,555181,093fe3d5fee350b63bc608ddae34a25ce5b15dab,7,3,1,6547,,,0,"Avoid tox_install.sh

Since neutron and networkinf-* are now in
global-requirements, we can remove the installation from
tools/tox_install.sh.

Remove tox_install completely and update
tox.ini for this.

Add requirements to requirements.txt instead.

Change-Id: Ibb55a12557a3f44305f4aaf082b4f3c5f2289aab
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/81/555181/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'tox.ini']",3,093fe3d5fee350b63bc608ddae34a25ce5b15dab,tox-siblings,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/requirements.txt,4,75
openstack%2Fmistral~master~I4d969d2a3b1c51dd1f2b55bf4d678e09c33e85f7,openstack/mistral,master,I4d969d2a3b1c51dd1f2b55bf4d678e09c33e85f7,Fixed the Mistral Docker build job,MERGED,2018-03-21 16:52:11.000000000,2018-03-22 10:42:46.000000000,2018-03-22 10:39:45.000000000,"[{'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-21 16:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/03f76ae9ce7fa03f374bfb7f591e427e4c2cb91d', 'message': 'Fixed the Mistral build job\n\nChange-Id: I4d969d2a3b1c51dd1f2b55bf4d678e09c33e85f7\n'}, {'number': 2, 'created': '2018-03-21 16:56:12.000000000', 'files': ['docker_image_build.sh', 'playbooks/docker-buildimage/run.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e3918a1efdb895cf728adc9b95cd41096d0619f2', 'message': 'Fixed the Mistral Docker build job\n\nChange-Id: I4d969d2a3b1c51dd1f2b55bf4d678e09c33e85f7\n'}]",0,554987,e3918a1efdb895cf728adc9b95cd41096d0619f2,14,6,2,27008,,,0,"Fixed the Mistral Docker build job

Change-Id: I4d969d2a3b1c51dd1f2b55bf4d678e09c33e85f7
",git fetch https://review.opendev.org/openstack/mistral refs/changes/87/554987/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker_image_build.sh', 'playbooks/docker-buildimage/run.yaml']",2,03f76ae9ce7fa03f374bfb7f591e427e4c2cb91d,fix/build_docker_image, vars: work_dir: '{{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }}' tasks: - name: Install Docker shell: curl -fsSL https://get.docker.com/ | sh args: chdir: '{{ work_dir }}' - name: Restart Docker service service: name: docker state: restarted - name: Build and archive a Mistral image docker_image: name: mistral path: '{{ work_dir }}' dockerfile: '{{ work_dir }}/tools/docker/Dockerfile' archive_path: '{{ work_dir}}}/mistral-docker.tar.gz', tasks: - shell: cmd: | ./docker_image_build.sh chdir: '{{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }}',18,20
openstack%2Fopenstack-ansible-repo_build~master~If675da5158de223972cdafe58c60147358bc79b7,openstack/openstack-ansible-repo_build,master,If675da5158de223972cdafe58c60147358bc79b7,change python-libguestfs to python-guestfs and libguestfs-tools for ubuntu,MERGED,2018-03-15 06:48:18.000000000,2018-03-22 10:39:58.000000000,2018-03-22 10:39:58.000000000,"[{'_account_id': 6816}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 06:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/053590443553ba4e817728cac1e08764d578b13e', 'message': 'change python-libguestfs to python-guestfs for ubuntu\n\nChange-Id: If675da5158de223972cdafe58c60147358bc79b7\n'}, {'number': 2, 'created': '2018-03-15 14:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/5dffdbda277e19d0e50226557af9abb38887cce9', 'message': 'change python-libguestfs to python-guestfs for ubuntu\n\nChange-Id: If675da5158de223972cdafe58c60147358bc79b7\n'}, {'number': 3, 'created': '2018-03-21 13:52:16.000000000', 'files': ['tests/test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/8dce3bdb1082e9d1853849b26db1651170763992', 'message': 'change python-libguestfs to python-guestfs and libguestfs-tools for ubuntu\n\nChange-Id: If675da5158de223972cdafe58c60147358bc79b7\n'}]",0,553169,8dce3bdb1082e9d1853849b26db1651170763992,18,3,3,21486,,,0,"change python-libguestfs to python-guestfs and libguestfs-tools for ubuntu

Change-Id: If675da5158de223972cdafe58c60147358bc79b7
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/69/553169/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-vars.yml'],1,053590443553ba4e817728cac1e08764d578b13e,, - python-guestfs - python-guestfs - python-guestfs, - python-libguestfs - python-libguestfs - python-libguestfs,3,3
openstack%2Ftacker-horizon~master~I25ee0c832d3024d99acab1558149ee73f94fb468,openstack/tacker-horizon,master,I25ee0c832d3024d99acab1558149ee73f94fb468,Fix Vnffgmanager panel wrong classname,MERGED,2018-03-21 10:25:34.000000000,2018-03-22 10:38:23.000000000,2018-03-22 10:38:22.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 10:25:34.000000000', 'files': ['tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/panel.py'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/8449b5d7e8bddf923de3919417bc83b9b76884de', 'message': 'Fix Vnffgmanager panel wrong classname\n\nChange-Id: I25ee0c832d3024d99acab1558149ee73f94fb468\nCloses-bug: #1757395\n'}]",0,554867,8449b5d7e8bddf923de3919417bc83b9b76884de,6,2,1,27068,,,0,"Fix Vnffgmanager panel wrong classname

Change-Id: I25ee0c832d3024d99acab1558149ee73f94fb468
Closes-bug: #1757395
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/67/554867/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/panel.py'],1,8449b5d7e8bddf923de3919417bc83b9b76884de,bug/1757395,class Vnffgmanager(horizon.Panel):dashboard.Nfv.register(Vnffgmanager),class Vnfmanager(horizon.Panel):dashboard.Nfv.register(Vnfmanager),2,2
openstack%2Frequirements~master~I4f2584493df6c17ba4d485fc75b4d42470ac0f17,openstack/requirements,master,I4f2584493df6c17ba4d485fc75b4d42470ac0f17,update constraint for openstackdocstheme to new release 1.20.0,MERGED,2018-03-20 20:39:20.000000000,2018-03-22 10:32:33.000000000,2018-03-22 10:32:33.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 20:39:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7b0efd60b970b94730b4fd78cf431af1901c7af4', 'message': 'update constraint for openstackdocstheme to new release 1.20.0\n\nChange-Id: I4f2584493df6c17ba4d485fc75b4d42470ac0f17\nmeta:version: 1.20.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Change-Id: Ie9e2e8dbaf677fd47e4d169eec0220d2c22d2d74\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Petr Kovar <pkovar@redhat.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,554689,7b0efd60b970b94730b4fd78cf431af1901c7af4,13,5,1,11131,,,0,"update constraint for openstackdocstheme to new release 1.20.0

Change-Id: I4f2584493df6c17ba4d485fc75b4d42470ac0f17
meta:version: 1.20.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Stephen Finucane <sfinucan@redhat.com>
meta:release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta:release:Change-Id: Ie9e2e8dbaf677fd47e4d169eec0220d2c22d2d74
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Petr Kovar <pkovar@redhat.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/554689/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7b0efd60b970b94730b4fd78cf431af1901c7af4,new-release,openstackdocstheme===1.20.0,openstackdocstheme===1.19.0,1,1
openstack%2Fvitrage~master~I759159748c4769aff54f6d009fdf0fad79ff3f08,openstack/vitrage,master,I759159748c4769aff54f6d009fdf0fad79ff3f08,ignore - testing,ABANDONED,2018-03-15 12:11:01.000000000,2018-03-22 10:26:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-15 12:11:01.000000000', 'files': ['vitrage/datasources/listener_service.py', 'vitrage/entity_graph/vitrage_init.py', 'vitrage/cli/collector.py', 'vitrage/tests/functional/datasources/listener_service/test_listener_service.py', 'vitrage/entity_graph/processor/processor.py', 'vitrage/datasources/rpc_service.py', 'vitrage/entity_graph/utils.py', 'devstack/plugin.sh', 'vitrage/datasources/utils.py', 'vitrage/entity_graph/processor/base.py', 'vitrage/datasources/collector_notifier.py', 'vitrage/datasources/services.py', 'requirements.txt', 'vitrage/datasources/launcher.py', 'vitrage/rpc.py', 'vitrage/tests/unit/entity_graph/base.py', 'vitrage/entity_graph/service.py', 'vitrage/tests/functional/entity_graph/consistency/test_consistency.py', 'vitrage/tests/unit/datasources/test_datasource_update_method.py', 'vitrage/tests/unit/entity_graph/test_processor_service.py', 'vitrage/evaluator/scenario_evaluator.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/054b880a28a925da9dbaee8ff2e6c170c4bc4b9c', 'message': 'ignore - testing\n\nChange-Id: I759159748c4769aff54f6d009fdf0fad79ff3f08\n'}]",0,553370,054b880a28a925da9dbaee8ff2e6c170c4bc4b9c,3,1,1,19184,,,0,"ignore - testing

Change-Id: I759159748c4769aff54f6d009fdf0fad79ff3f08
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/70/553370/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/listener_service.py', 'vitrage/entity_graph/vitrage_init.py', 'vitrage/cli/collector.py', 'vitrage/tests/functional/datasources/listener_service/test_listener_service.py', 'vitrage/entity_graph/processor/processor.py', 'vitrage/datasources/rpc_service.py', 'vitrage/entity_graph/utils.py', 'devstack/plugin.sh', 'vitrage/datasources/utils.py', 'vitrage/entity_graph/processor/base.py', 'vitrage/datasources/collector_notifier.py', 'vitrage/datasources/services.py', 'requirements.txt', 'vitrage/datasources/launcher.py', 'vitrage/rpc.py', 'vitrage/tests/unit/entity_graph/base.py', 'vitrage/entity_graph/service.py', 'vitrage/tests/functional/entity_graph/consistency/test_consistency.py', 'vitrage/tests/unit/datasources/test_datasource_update_method.py', 'vitrage/tests/unit/entity_graph/test_processor_service.py', 'vitrage/evaluator/scenario_evaluator.py']",21,054b880a28a925da9dbaee8ff2e6c170c4bc4b9c,idan_hefetz/rpc_collector_try2,from collections import defaultdict,from vitrage.datasources.listener_service import defaultdict,318,424
openstack%2Fvitrage~master~I8d0a4e263816e1a1dcba138905e6cbd0576d2807,openstack/vitrage,master,I8d0a4e263816e1a1dcba138905e6cbd0576d2807,ignore - trying the sleep before processes start,ABANDONED,2018-03-20 14:59:32.000000000,2018-03-22 10:25:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-20 14:59:32.000000000', 'files': ['devstack/plugin.sh', 'vitrage/evaluator/evaluator_service.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a7b04960bd7bdc2dacdf55f32187365049e0f0a3', 'message': 'ignore - trying the sleep before processes start\n\nChange-Id: I8d0a4e263816e1a1dcba138905e6cbd0576d2807\n'}]",0,554579,a7b04960bd7bdc2dacdf55f32187365049e0f0a3,3,1,1,19184,,,0,"ignore - trying the sleep before processes start

Change-Id: I8d0a4e263816e1a1dcba138905e6cbd0576d2807
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/79/554579/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'vitrage/evaluator/evaluator_service.py']",2,a7b04960bd7bdc2dacdf55f32187365049e0f0a3,rpc_collector,, workers_num = workers_num/2,1,1
openstack%2Fheat~master~I97892e205e2d31f99e511e83c4ff608543dc7531,openstack/heat,master,I97892e205e2d31f99e511e83c4ff608543dc7531,Remove mox from test_neutron_vpnservice,MERGED,2018-03-09 20:09:29.000000000,2018-03-22 10:13:21.000000000,2018-03-22 10:13:20.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 20:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7b8331af312e06c0414088547d00457a65fdeec3', 'message': 'Remove mox from test_neutron_vpnservice\n\nChange-Id: I97892e205e2d31f99e511e83c4ff608543dc7531\n'}, {'number': 2, 'created': '2018-03-09 20:29:33.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_vpnservice.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ff92a82fcea9419bdd825d679da80d3252659396', 'message': 'Remove mox from test_neutron_vpnservice\n\nChange-Id: I97892e205e2d31f99e511e83c4ff608543dc7531\n'}]",0,551363,ff92a82fcea9419bdd825d679da80d3252659396,9,3,2,4257,,,0,"Remove mox from test_neutron_vpnservice

Change-Id: I97892e205e2d31f99e511e83c4ff608543dc7531
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/551363/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_vpnservice.py'],1,7b8331af312e06c0414088547d00457a65fdeec3,mox-removal,"import mock import six self.mockclient = mock.Mock(spec=neutronclient.Client) self.patchobject(neutronclient, 'Client', return_value=self.mockclient) def lookup(client, lookup_type, name, cmd_resource): return name self.patchobject(neutronV20, 'find_resourceid_by_name_or_id', side_effect=lookup) self.mockclient.create_vpnservice.return_value = { 'vpnservice': {'id': 'vpn123'} } self.mockclient.show_vpnservice.return_value = { 'vpnservice': {'status': 'ACTIVE'} } self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_once_with('vpn123') self.mockclient.show_vpnservice.side_effect = [ {'vpnservice': {'status': 'PENDING_CREATE'}}, {'vpnservice': {'status': 'ERROR'}}, ] self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_with('vpn123') self.mockclient.create_vpnservice.side_effect = ( exceptions.NeutronClientException) self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.side_effect = [ {'vpnservice': {'status': 'ACTIVE'}}, exceptions.NeutronClientException(status_code=404), ] self.mockclient.delete_vpnservice.return_value = None self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.delete_vpnservice.assert_called_once_with( 'vpn123') self.mockclient.show_vpnservice.assert_called_with('vpn123') self.assertEqual(2, self.mockclient.show_vpnservice.call_count) self.mockclient.show_vpnservice.return_value = { 'vpnservice': {'status': 'ACTIVE'} } self.mockclient.delete_vpnservice.side_effect = ( exceptions.NeutronClientException(status_code=404)) self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_once_with('vpn123') self.mockclient.delete_vpnservice.assert_called_once_with( 'vpn123') self.mockclient.show_vpnservice.return_value = { 'vpnservice': {'status': 'ACTIVE'} } self.mockclient.delete_vpnservice.side_effect = ( exceptions.NeutronClientException(status_code=400)) self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_once_with('vpn123') self.mockclient.delete_vpnservice.assert_called_once_with( 'vpn123') self.mockclient.show_vpnservice.return_value = { 'vpnservice': {'status': 'ACTIVE'} } self.mockclient.show_vpnservice.return_value = self.VPN_SERVICE_CONF self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_with('vpn123') self.mockclient.show_vpnservice.return_value = { 'vpnservice': {'status': 'ACTIVE'} } self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_once_with('vpn123') self.mockclient.show_vpnservice.return_value = { 'vpnservice': {'status': 'ACTIVE'} } self.mockclient.update_vpnservice.return_value = None rsrc.physical_resource_name = mock.Mock(return_value='VPNService') self.mockclient.create_vpnservice.assert_called_once_with( self.VPN_SERVICE_CONF) self.mockclient.show_vpnservice.assert_called_once_with('vpn123') upd_dict = {'vpnservice': {'name': 'VPNService', 'admin_state_up': False}} self.mockclient.update_vpnservice.assert_called_with('vpn123', upd_dict) self.mockclient = mock.Mock(spec=neutronclient.Client) self.patchobject(neutronclient, 'Client', return_value=self.mockclient) self.mockclient.create_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'id': 'con123'} } self.mockclient.show_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'status': 'ACTIVE'} } self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_once_with( 'con123') self.mockclient.create_ipsec_site_connection.side_effect = ( exceptions.NeutronClientException) self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.side_effect = [ {'ipsec_site_connection': {'status': 'PENDING_CREATE'}}, {'ipsec_site_connection': {'status': 'ERROR'}}, ] self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_with('con123') self.mockclient.show_ipsec_site_connection.side_effect = [ {'ipsec_site_connection': {'status': 'ACTIVE'}}, exceptions.NeutronClientException(status_code=404), ] self.mockclient.delete_ipsec_site_connection.return_value = None self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.delete_ipsec_site_connection.assert_called_once_with( 'con123') self.mockclient.show_ipsec_site_connection.assert_called_with('con123') self.assertEqual(2, self.mockclient.show_ipsec_site_connection.call_count) self.mockclient.show_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'status': 'ACTIVE'} } self.mockclient.delete_ipsec_site_connection.side_effect = ( self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_once_with( 'con123') self.mockclient.delete_ipsec_site_connection.assert_called_once_with( 'con123') self.mockclient.show_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'status': 'ACTIVE'} } self.mockclient.delete_ipsec_site_connection.side_effect = ( self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_once_with( 'con123') self.mockclient.delete_ipsec_site_connection.assert_called_once_with( 'con123') self.mockclient.show_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'status': 'ACTIVE'} } self.mockclient.show_ipsec_site_connection.return_value = ( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_with('con123') self.mockclient.show_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'status': 'ACTIVE'} } self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_with('con123') self.mockclient.show_ipsec_site_connection.return_value = { 'ipsec_site_connection': {'status': 'ACTIVE'} } self.mockclient.update_ipsec_site_connection.return_value = None self.mockclient.create_ipsec_site_connection.assert_called_once_with( self.IPSEC_SITE_CONNECTION_CONF) self.mockclient.show_ipsec_site_connection.assert_called_with('con123') update = self.mockclient.update_ipsec_site_connection update.assert_called_once_with('con123', { 'ipsec_site_connection': {'admin_state_up': False} }) self.mockclient = mock.Mock(spec=neutronclient.Client) self.patchobject(neutronclient, 'Client', return_value=self.mockclient) self.mockclient.create_ikepolicy.return_value = { 'ikepolicy': {'id': 'ike123'} } self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.create_ikepolicy.side_effect = ( exceptions.NeutronClientException) self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.delete_ikepolicy.return_value = None self.mockclient.show_ikepolicy.side_effect = ( exceptions.NeutronClientException(status_code=404)) self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.delete_ikepolicy.assert_called_once_with('ike123') self.mockclient.show_ikepolicy.assert_called_once_with('ike123') self.mockclient.delete_ikepolicy.side_effect = ( exceptions.NeutronClientException(status_code=404)) self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.delete_ikepolicy.assert_called_once_with('ike123') self.mockclient.show_ikepolicy.assert_not_called() self.mockclient.delete_ikepolicy.side_effect = ( exceptions.NeutronClientException(status_code=400)) self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.delete_ikepolicy.assert_called_once_with('ike123') self.mockclient.show_ikepolicy.assert_not_called() self.mockclient.show_ikepolicy.return_value = self.IKE_POLICY_CONF self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.show_ikepolicy.assert_called_with('ike123') self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) self.mockclient.show_ikepolicy.assert_not_called() self.mockclient.update_ikepolicy.return_value = None self.mockclient.create_ikepolicy.assert_called_once_with( self.IKE_POLICY_CONF) update_body = { 'ikepolicy': { 'name': 'New IKEPolicy', 'auth_algorithm': 'sha512' } } self.mockclient.update_ikepolicy.assert_called_once_with( 'ike123', update_body) self.mockclient = mock.Mock(spec=neutronclient.Client) self.patchobject(neutronclient, 'Client', return_value=self.mockclient) self.mockclient.create_ipsecpolicy.return_value = { 'ipsecpolicy': {'id': 'ips123'} } self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.create_ipsecpolicy.side_effect = ( exceptions.NeutronClientException) self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.delete_ipsecpolicy.return_value = None self.mockclient.show_ipsecpolicy.side_effect = ( exceptions.NeutronClientException(status_code=404)) self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.delete_ipsecpolicy.assert_called_once_with('ips123') self.mockclient.show_ipsecpolicy.assert_called_once_with('ips123') self.mockclient.delete_ipsecpolicy.side_effect = ( exceptions.NeutronClientException(status_code=404)) self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.delete_ipsecpolicy.assert_called_once_with('ips123') self.mockclient.show_ipsecpolicy.assert_not_called() self.mockclient.delete_ipsecpolicy.side_effect = ( exceptions.NeutronClientException(status_code=400)) self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.delete_ipsecpolicy.assert_called_once_with('ips123') self.mockclient.show_ipsecpolicy.assert_not_called() self.mockclient.show_ipsecpolicy.return_value = self.IPSEC_POLICY_CONF self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.show_ipsecpolicy.assert_called_with('ips123') self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.show_ipsecpolicy.assert_not_called() self.mockclient.update_ipsecpolicy.return_value = None self.mockclient.create_ipsecpolicy.assert_called_once_with( self.IPSEC_POLICY_CONF) self.mockclient.update_ipsecpolicy.assert_called_once_with( 'ips123', {'ipsecpolicy': {'name': 'New IPsecPolicy'}}) self.mockclient.show_ipsecpolicy.assert_not_called()"," import moximport six self.m.StubOutWithMock(neutronclient.Client, 'create_vpnservice') self.m.StubOutWithMock(neutronclient.Client, 'delete_vpnservice') self.m.StubOutWithMock(neutronclient.Client, 'show_vpnservice') self.m.StubOutWithMock(neutronclient.Client, 'update_vpnservice') self.m.StubOutWithMock(neutronV20, 'find_resourceid_by_name_or_id') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'router', 'rou123', cmd_resource=None, ).MultipleTimes().AndReturn('rou123') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_vpnservice( self.VPN_SERVICE_CONF).AndReturn({'vpnservice': {'id': 'vpn123'}}) neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'PENDING_CREATE'}}) neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ERROR'}}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'router', 'rou123', cmd_resource=None, ).MultipleTimes().AndReturn('rou123') neutronclient.Client.create_vpnservice(self.VPN_SERVICE_CONF).AndRaise( exceptions.NeutronClientException()) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) neutronclient.Client.delete_vpnservice('vpn123') neutronclient.Client.show_vpnservice('vpn123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) neutronclient.Client.delete_vpnservice('vpn123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) neutronclient.Client.delete_vpnservice('vpn123').AndRaise( exceptions.NeutronClientException(status_code=400)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) neutronclient.Client.show_vpnservice('vpn123').MultipleTimes( ).AndReturn(self.VPN_SERVICE_CONF) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vpnservice('vpn123').AndReturn( {'vpnservice': {'status': 'ACTIVE'}}) self.patchobject(rsrc, 'physical_resource_name', return_value='VPNService') upd_dict = {'vpnservice': {'name': 'VPNService', 'admin_state_up': False}} neutronclient.Client.update_vpnservice( 'vpn123', upd_dict).MultipleTimes().AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(neutronclient.Client, 'create_ipsec_site_connection') self.m.StubOutWithMock(neutronclient.Client, 'delete_ipsec_site_connection') self.m.StubOutWithMock(neutronclient.Client, 'show_ipsec_site_connection') self.m.StubOutWithMock(neutronclient.Client, 'update_ipsec_site_connection') neutronclient.Client.create_ipsec_site_connection( self.IPSEC_SITE_CONNECTION_CONF).AndReturn( {'ipsec_site_connection': {'id': 'con123'}}) neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.create_ipsec_site_connection( self.IPSEC_SITE_CONNECTION_CONF).AndRaise( exceptions.NeutronClientException()) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'PENDING_CREATE'}}) neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ERROR'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) neutronclient.Client.delete_ipsec_site_connection('con123') neutronclient.Client.show_ipsec_site_connection('con123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) neutronclient.Client.delete_ipsec_site_connection('con123').AndRaise( self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) neutronclient.Client.delete_ipsec_site_connection('con123').AndRaise( self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) neutronclient.Client.show_ipsec_site_connection( 'con123').MultipleTimes().AndReturn( self.IPSEC_SITE_CONNECTION_CONF) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ipsec_site_connection('con123').AndReturn( {'ipsec_site_connection': {'status': 'ACTIVE'}}) neutronclient.Client.update_ipsec_site_connection( 'con123', {'ipsec_site_connection': {'admin_state_up': False}}) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(neutronclient.Client, 'create_ikepolicy') self.m.StubOutWithMock(neutronclient.Client, 'delete_ikepolicy') self.m.StubOutWithMock(neutronclient.Client, 'show_ikepolicy') self.m.StubOutWithMock(neutronclient.Client, 'update_ikepolicy') neutronclient.Client.create_ikepolicy( self.IKE_POLICY_CONF).AndReturn( {'ikepolicy': {'id': 'ike123'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.create_ikepolicy( self.IKE_POLICY_CONF).AndRaise( exceptions.NeutronClientException()) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_ikepolicy('ike123') neutronclient.Client.show_ikepolicy('ike123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_ikepolicy('ike123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_ikepolicy('ike123').AndRaise( exceptions.NeutronClientException(status_code=400)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_ikepolicy( 'ike123').MultipleTimes().AndReturn(self.IKE_POLICY_CONF) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() update_body = { 'ikepolicy': { 'name': 'New IKEPolicy', 'auth_algorithm': 'sha512' } } neutronclient.Client.update_ikepolicy('ike123', update_body) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(neutronclient.Client, 'create_ipsecpolicy') self.m.StubOutWithMock(neutronclient.Client, 'delete_ipsecpolicy') self.m.StubOutWithMock(neutronclient.Client, 'show_ipsecpolicy') self.m.StubOutWithMock(neutronclient.Client, 'update_ipsecpolicy') neutronclient.Client.create_ipsecpolicy( self.IPSEC_POLICY_CONF).AndReturn( {'ipsecpolicy': {'id': 'ips123'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.create_ipsecpolicy( self.IPSEC_POLICY_CONF).AndRaise( exceptions.NeutronClientException()) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_ipsecpolicy('ips123') neutronclient.Client.show_ipsecpolicy('ips123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_ipsecpolicy('ips123').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_ipsecpolicy('ips123').AndRaise( exceptions.NeutronClientException(status_code=400)) self.m.VerifyAll() neutronclient.Client.show_ipsecpolicy( 'ips123').MultipleTimes().AndReturn(self.IPSEC_POLICY_CONF) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.update_ipsecpolicy( 'ips123', {'ipsecpolicy': {'name': 'New IPsecPolicy'}}) self.m.ReplayAll() self.m.VerifyAll()",328,226
openstack%2Fcinder~master~I595932276088d25abd464025c99dce33a2cc502b,openstack/cinder,master,I595932276088d25abd464025c99dce33a2cc502b,Support cross AZ backups,MERGED,2018-02-12 14:03:09.000000000,2018-03-22 10:05:43.000000000,2018-03-18 01:26:19.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27496}]","[{'number': 1, 'created': '2018-02-12 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dec4c35951ec7ab6422645c91eade2ee57798dca', 'message': 'Support cross AZ backups\n\nWe currently limit backups to the same AZ of the volume while allowing\nvolume restoration to any AZ.\n\nWhen having multiple AZs it is ideal to store your backups in a\ndifferent AZ than the one where the source volumes are stored.\n\nThis patch adds microversion 3.51 where we allow requesting the AZ where\nwe want to store backups which will allow us to have as many backup AZs\nas volume AZs and do cross AZ backups for increased security, this\nfeature also supports having an additional AZ just for backups or the\nless desirable solution where you store all your backups in a single AZ\nshared with some of the volumes.\n\nChange-Id: I595932276088d25abd464025c99dce33a2cc502b\n'}, {'number': 2, 'created': '2018-02-22 15:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a51a548642c3a13b62064d9bf19f40ad814828b', 'message': 'Support cross AZ backups\n\nWe currently limit backups to the same AZ of the volume while allowing\nvolume restoration to any AZ.\n\nWhen having multiple AZs it is ideal to store your backups in a\ndifferent AZ than the one where the source volumes are stored.\n\nThis patch adds microversion 3.51 where we allow requesting the AZ where\nwe want to store backups which will allow us to have as many backup AZs\nas volume AZs and do cross AZ backups for increased security, this\nfeature also supports having an additional AZ just for backups or the\nless desirable solution where you store all your backups in a single AZ\nshared with some of the volumes.\n\nChange-Id: I595932276088d25abd464025c99dce33a2cc502b\n'}, {'number': 3, 'created': '2018-02-23 10:36:11.000000000', 'files': ['cinder/backup/api.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/contrib/backups.py', 'releasenotes/notes/feature-cross-az-backups-6b68c4c4456f2fd7.yaml', 'api-ref/source/v3/samples/backup-create-request.json', 'cinder/api/microversions.py', 'cinder/api/schemas/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5feaf74ccf10148859e206ce21bfd54dec2c1c16', 'message': 'Support cross AZ backups\n\nWe currently limit backups to the same AZ of the volume while allowing\nvolume restoration to any AZ.\n\nWhen having multiple AZs it is ideal to store your backups in a\ndifferent AZ than the one where the source volumes are stored.\n\nThis patch adds microversion 3.51 where we allow requesting the AZ where\nwe want to store backups which will allow us to have as many backup AZs\nas volume AZs and do cross AZ backups for increased security, this\nfeature also supports having an additional AZ just for backups or the\nless desirable solution where you store all your backups in a single AZ\nshared with some of the volumes.\n\nChange-Id: I595932276088d25abd464025c99dce33a2cc502b\n'}]",0,543463,5feaf74ccf10148859e206ce21bfd54dec2c1c16,105,45,3,9535,,,0,"Support cross AZ backups

We currently limit backups to the same AZ of the volume while allowing
volume restoration to any AZ.

When having multiple AZs it is ideal to store your backups in a
different AZ than the one where the source volumes are stored.

This patch adds microversion 3.51 where we allow requesting the AZ where
we want to store backups which will allow us to have as many backup AZs
as volume AZs and do cross AZ backups for increased security, this
feature also supports having an additional AZ just for backups or the
less desirable solution where you store all your backups in a single AZ
shared with some of the volumes.

Change-Id: I595932276088d25abd464025c99dce33a2cc502b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/543463/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/api/validation/parameter_types.py', 'cinder/backup/api.py', 'cinder/api/contrib/backups.py', 'releasenotes/notes/feature-cross-az-backups-6b68c4c4456f2fd7.yaml', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/microversions.py', 'cinder/api/schemas/backups.py']",9,dec4c35951ec7ab6422645c91eade2ee57798dca,feature/cross-az-backup,create_backup_v351 = copy.deepcopy(create_backup_v343) create_backup_v351['properties']['backup']['properties'][ 'availability_zone'] = parameter_types.nullable_string ,,73,8
openstack%2Fansible-config_template~master~I59f2cd5b5ee7f7a24adb1c1e7dcad2af1e303cc8,openstack/ansible-config_template,master,I59f2cd5b5ee7f7a24adb1c1e7dcad2af1e303cc8,Add testing on config_template,MERGED,2018-03-21 16:06:22.000000000,2018-03-22 10:00:46.000000000,2018-03-22 10:00:45.000000000,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-21 16:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/8c39be3adec864469a79e99f1e4d4696d0b1a6cf', 'message': 'Add testing on config_template\n\nThis reinstores the first jobs for config_template.\n\nChange-Id: I59f2cd5b5ee7f7a24adb1c1e7dcad2af1e303cc8\n'}, {'number': 2, 'created': '2018-03-21 18:30:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/e4c63074c699c0a58d496c7ed7eec880a1aaee3d', 'message': 'Add testing on config_template\n\nThis reinstores the first jobs for config_template.\n\nChange-Id: I59f2cd5b5ee7f7a24adb1c1e7dcad2af1e303cc8\n'}]",0,554974,e4c63074c699c0a58d496c7ed7eec880a1aaee3d,10,4,2,17068,,,0,"Add testing on config_template

This reinstores the first jobs for config_template.

Change-Id: I59f2cd5b5ee7f7a24adb1c1e7dcad2af1e303cc8
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/74/554974/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8c39be3adec864469a79e99f1e4d4696d0b1a6cf,add_zuul_jobs,"# Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial - openstack-ansible-python3-ubuntu-xenial-nv experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial ",,31,0
openstack%2Fpython-neutronclient~master~I783260f6853a7ba6f911f718ce759b292595da4f,openstack/python-neutronclient,master,I783260f6853a7ba6f911f718ce759b292595da4f,Remove mox/mox3 usage from test_cli20_subnet.py,MERGED,2018-03-15 18:17:00.000000000,2018-03-22 09:34:52.000000000,2018-03-22 09:34:51.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-03-15 18:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/55a7d4e4c6c4088fe009b0a60b6cefe5aca536be', 'message': 'Remove mox/mox3 usage from test_cli20_subnet.py\n\nChange-Id: I783260f6853a7ba6f911f718ce759b292595da4f\nPartial-Bug: #1753504\n'}, {'number': 2, 'created': '2018-03-16 15:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/345cc0f371978ee1f059ed83a092153ebe9b6694', 'message': 'Remove mox/mox3 usage from test_cli20_subnet.py\n\nChange-Id: I783260f6853a7ba6f911f718ce759b292595da4f\nPartial-Bug: #1753504\n'}, {'number': 3, 'created': '2018-03-16 17:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b975765adbce0192d04266767899f26ce7cbc493', 'message': 'Remove mox/mox3 usage from test_cli20_subnet.py\n\nChange-Id: I783260f6853a7ba6f911f718ce759b292595da4f\nPartial-Bug: #1753504\n'}, {'number': 4, 'created': '2018-03-19 18:14:22.000000000', 'files': ['neutronclient/tests/unit/test_cli20_subnet.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/02b6e6f841dcc262fb42e88d5ead06025edb0190', 'message': 'Remove mox/mox3 usage from test_cli20_subnet.py\n\nChange-Id: I783260f6853a7ba6f911f718ce759b292595da4f\nPartial-Bug: #1753504\n'}]",2,553573,02b6e6f841dcc262fb42e88d5ead06025edb0190,16,4,4,27654,,,0,"Remove mox/mox3 usage from test_cli20_subnet.py

Change-Id: I783260f6853a7ba6f911f718ce759b292595da4f
Partial-Bug: #1753504
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/73/553573/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/test_cli20_subnet.py'],1,55a7d4e4c6c4088fe009b0a60b6cefe5aca536be,bug/1753504,"import mock with mock.patch.object(cmd.log, 'warning') as mock_warning: self._test_create_resource(resource, cmd, name, myid, args, position_names, position_values) mock_warning.assert_called_once_with(mock.ANY, {'ip': 4, 'cidr': '/32'}) @mock.patch.object(neutronV20, 'find_resource_by_name_or_id') def test_create_subnet_with_subnetpool_ipv6_and_ip_ver_ignored( self, mock_find_resource): mock_find_resource.return_value = { 'id': 'subnetpool_id', 'ip_version': 6} mock_find_resource.assert_called_once_with( self.client, 'subnetpool', 'subnetpool_id') @mock.patch.object(neutronV20, 'find_resource_by_name_or_id') def test_create_subnet_with_subnetpool_ipv4_with_cidr_wildcard( self, mock_find_resource): mock_find_resource.return_value = { 'id': 'subnetpool_id', 'ip_version': 4} mock_find_resource.assert_called_once_with( self.client, 'subnetpool', 'subnetpool_id') @mock.patch.object(neutronV20, 'find_resource_by_name_or_id') def test_create_subnet_with_subnetpool_ipv4_with_prefixlen( self, mock_find_resource): mock_find_resource.return_value = { 'id': 'subnetpool_id', 'ip_version': 4} mock_find_resource.assert_called_once_with( self.client, 'subnetpool', 'subnetpool_id')","from mox3 import mox self.mox.StubOutWithMock(cmd.log, 'warning') cmd.log.warning(mox.IgnoreArg(), {'ip': 4, 'cidr': '/32'}) self._test_create_resource(resource, cmd, name, myid, args, position_names, position_values) self.mox.VerifyAll() self.mox.UnsetStubs() def test_create_subnet_with_subnetpool_ipv6_and_ip_ver_ignored(self): self.mox.StubOutWithMock(neutronV20, 'find_resource_by_name_or_id') neutronV20.find_resource_by_name_or_id( self.client, 'subnetpool', 'subnetpool_id').AndReturn({'id': 'subnetpool_id', 'ip_version': 6}) def test_create_subnet_with_subnetpool_ipv4_with_cidr_wildcard(self): self.mox.StubOutWithMock(neutronV20, 'find_resource_by_name_or_id') neutronV20.find_resource_by_name_or_id( self.client, 'subnetpool', 'subnetpool_id').AndReturn({'id': 'subnetpool_id', 'ip_version': 4}) def test_create_subnet_with_subnetpool_ipv4_with_prefixlen(self): self.mox.StubOutWithMock(neutronV20, 'find_resource_by_name_or_id') neutronV20.find_resource_by_name_or_id( self.client, 'subnetpool', 'subnetpool_id').AndReturn({'id': 'subnetpool_id', 'ip_version': 4})",27,28
openstack%2Fpython-neutronclient~master~I26e15e051a9754f61d9ba04a59f62bc979e52fb1,openstack/python-neutronclient,master,I26e15e051a9754f61d9ba04a59f62bc979e52fb1,Remove mox/mox3 usage from test_cli20_subnetpool.py,MERGED,2018-03-15 17:59:58.000000000,2018-03-22 09:34:51.000000000,2018-03-22 09:34:50.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-03-15 17:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3944a231b63a33e0565ab7ed54330a689adb7e24', 'message': 'Remove mox/mox3 usage from test_cli20_subnetpool.py\n\nChange-Id: I26e15e051a9754f61d9ba04a59f62bc979e52fb1\nPartial-Bug: #1753504\n'}, {'number': 2, 'created': '2018-03-16 15:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2f68c0d1c967eb8b1129c5bd7637e0b5d581fb49', 'message': 'Remove mox/mox3 usage from test_cli20_subnetpool.py\n\nChange-Id: I26e15e051a9754f61d9ba04a59f62bc979e52fb1\nPartial-Bug: #1753504\n'}, {'number': 3, 'created': '2018-03-19 18:14:22.000000000', 'files': ['neutronclient/tests/unit/test_cli20_subnetpool.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/93e4ef2e7de95aa16e13331df14b2d157c9a24a5', 'message': 'Remove mox/mox3 usage from test_cli20_subnetpool.py\n\nChange-Id: I26e15e051a9754f61d9ba04a59f62bc979e52fb1\nPartial-Bug: #1753504\n'}]",2,553540,93e4ef2e7de95aa16e13331df14b2d157c9a24a5,15,4,3,27654,,,0,"Remove mox/mox3 usage from test_cli20_subnetpool.py

Change-Id: I26e15e051a9754f61d9ba04a59f62bc979e52fb1
Partial-Bug: #1753504
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/40/553540/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/test_cli20.py', 'neutronclient/tests/unit/test_cli20_subnetpool.py']",2,3944a231b63a33e0565ab7ed54330a689adb7e24,bug/1753504,"import mock @mock.patch.object(subnetpool.ListSubnetPool, ""extend_list"") def test_list_subnetpool_pagination(self, mock_extend_list): mock_extend_list.assert_called_once_with(test_cli20.IsA(list), mock.ANY)","from mox3 import mox def test_list_subnetpool_pagination(self): self.mox.StubOutWithMock(subnetpool.ListSubnetPool, ""extend_list"") subnetpool.ListSubnetPool.extend_list(mox.IsA(list), mox.IgnoreArg()) self.mox.VerifyAll() self.mox.UnsetStubs()",22,6
openstack%2Fpython-neutronclient~master~I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3,openstack/python-neutronclient,master,I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3,Remove mox/mox3 usage from test_cli20_network.py,MERGED,2018-03-09 00:18:58.000000000,2018-03-22 09:34:49.000000000,2018-03-22 09:34:48.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-03-09 00:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/370aaf1438c3d14edde84bf200a6e18206d1ef4d', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 2, 'created': '2018-03-09 21:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/4067e38fcc4ce83808cac80df582acd7049cffbf', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 3, 'created': '2018-03-12 19:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/4d72489f081527983a831c5a90a8038f8bf829e4', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 4, 'created': '2018-03-13 20:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/23b807f7b651fce522007346b2ecad83c5718739', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 5, 'created': '2018-03-14 22:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/297b2041cebe416d3d66841b0dacfa7c2f34b96c', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 6, 'created': '2018-03-15 16:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/da8f3264a4ac02fbb8e5acb35a958cc451d0cec1', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 7, 'created': '2018-03-16 15:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3de9dafd7c97a256fd8a64f82696d83cf8314279', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}, {'number': 8, 'created': '2018-03-19 18:14:22.000000000', 'files': ['neutronclient/tests/unit/test_cli20.py', 'neutronclient/tests/unit/test_cli20_network.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c50b1267710fdc0585a8618c6f9513bd0f3a6161', 'message': 'Remove mox/mox3 usage from test_cli20_network.py\n\nChange-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3\nPartial-Bug: #1753504\n'}]",13,551037,c50b1267710fdc0585a8618c6f9513bd0f3a6161,26,4,8,27654,,,0,"Remove mox/mox3 usage from test_cli20_network.py

Change-Id: I3c9f53e57ef7fc38b0d4b2eb3138902004cff2b3
Partial-Bug: #1753504
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/37/551037/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/test_cli20_network.py'],1,370aaf1438c3d14edde84bf200a6e18206d1ef4d,bug/1753504,"import mock resp = (test_cli20.MyResp(200), resstr) with mock.patch.object(cmd, ""get_client"", return_value=self.client) as mock_get_client, \ mock.patch.object(self.client.httpclient, ""request"", return_value=resp) as mock_request, \ mock.patch.object(network.ListNetwork, ""extend_list"") as mock_extend_list: cmd_parser = cmd.get_parser(""list_"" + resources) shell.run_command(cmd, cmd_parser, args) mock_get_client.assert_called_once_with() mock_request.assert_called_once_with( test_cli20.MyUrlComparator(test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mock.ANY) self.assertEqual( test_cli20.TOKEN, mock_request.call_args[1]['headers']['X-Auth-Token']) self.assertIsInstance(mock_extend_list.call_args[0][0], list) with mock.patch.object(network.ListNetwork, ""extend_list"") as mock_extend_list: self._test_list_resources(resources, cmd, detail, tags, fields_1, fields_2, page_size=page_size, sort_key=sort_key, sort_dir=sort_dir, base_args=base_args, query=query) self.assertIsInstance(mock_extend_list.call_args[0][0], list) with mock.patch.object(network.ListNetwork, ""extend_list"") as mock_extend_list: self._test_list_resources_with_pagination(""networks"", cmd) self.assertIsInstance(mock_extend_list.call_args[0][0], list) nets_path = getattr(self.client, 'networks_path') subnets_path = getattr(self.client, 'subnets_path') nets_query = '' subnets_query = 'fields=id&fields=cidr' + filters with mock.patch.object(cmd, 'get_client', return_value=self.client) as mock_get_client, \ mock.patch.object(self.client.httpclient, ""request"") as mock_request: resp1 = (test_cli20.MyResp(200), self.client.serialize({'networks': data})) resp2 = (test_cli20.MyResp(200), self.client.serialize({'subnets': [ {'id': 'mysubid1', 'cidr': '192.168.1.0/24'}, {'id': 'mysubid3', 'cidr': '10.1.1.0/24'}]})) mock_request.side_effect = [resp1, resp2] args = [] cmd_parser = cmd.get_parser('list_networks') parsed_args = cmd_parser.parse_args(args) result = cmd.take_action(parsed_args) mock_get_client.assert_called_with() mock_request.assert_has_calls([ mock.call( test_cli20.MyUrlComparator( test_cli20.end_url(nets_path, nets_query), self.client), 'GET', body=None, headers=mock.ANY), mock.call( test_cli20.MyUrlComparator( test_cli20.end_url(subnets_path, subnets_query), self.client), 'GET', body=None, headers=mock.ANY)]) for call_args in mock_request.call_args_list: self.assertEqual(test_cli20.TOKEN, call_args[1]['headers']['X-Auth-Token']) with mock.patch.object(network.ListNetwork, ""extend_list"") as mock_extend_list: self._test_list_columns(cmd, resources, returned_body, args=args) self.assertIsInstance(mock_extend_list.call_args[0][0], list) resp = (test_cli20.MyResp(200), resstr) with mock.patch.object(cmd, ""get_client"", return_value=self.client) as mock_get_client, \ mock.patch.object(self.client.httpclient, ""request"", return_value=resp) as mock_request, \ mock.patch.object(network.ListNetwork, ""extend_list"") as mock_extend_list: cmd_parser = cmd.get_parser(""list_"" + resources) shell.run_command(cmd, cmd_parser, args) mock_get_client.assert_called_once_with() mock_request.assert_called_once_with( test_cli20.MyUrlComparator( test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mock.ANY) self.assertEqual( test_cli20.TOKEN, mock_request.call_args[1]['headers']['X-Auth-Token']) self.assertIsInstance(mock_extend_list.call_args[0][0], list) resp = (test_cli20.MyResp(200), resstr) with mock.patch.object(cmd, ""get_client"", return_value=self.client) as mock_get_client, \ mock.patch.object(self.client.httpclient, ""request"", return_value=resp) as mock_request, \ mock.patch.object(network.ListNetwork, ""extend_list"") as mock_extend_list: cmd_parser = cmd.get_parser(""list_"" + resources) shell.run_command(cmd, cmd_parser, args) mock_get_client.assert_called_once_with() mock_request.assert_called_once_with( test_cli20.MyUrlComparator( test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mock.ANY) self.assertEqual( test_cli20.TOKEN, mock_request.call_args[1]['headers']['X-Auth-Token']) self.assertIsInstance(mock_extend_list.call_args[0][0], list) data = [{'id': 'netid%d' % i, 'name': 'net%d' % i, 'subnets': ['mysubid%d' % i]} for i in range(10)] filters, response = self._build_test_data(data) path = getattr(self.client, 'subnets_path') cmd = network.ListNetwork(test_cli20.MyApp(sys.stdout), None) with mock.patch.object(cmd, ""get_client"", return_value=self.client) as mock_get_client, \ mock.patch.object(self.client.httpclient, ""request"", return_value=response) as mock_request: known_args, _vs = cmd.get_parser('create_subnets')\ .parse_known_args() cmd.extend_list(data, known_args) mock_get_client.assert_called_once_with() mock_request.assert_called_once_with( headers=mock.ANY) self.assertEqual( test_cli20.TOKEN, mock_request.call_args[1]['headers']['X-Auth-Token']) data = [{'id': 'netid%d' % i, 'name': 'net%d' % i, 'subnets': ['mysubid%d' % i]} for i in range(10)] filters1, response1 = self._build_test_data(data[:len(data) - 1]) filters2, response2 = self._build_test_data(data[len(data) - 1:]) path = getattr(self.client, 'subnets_path') cmd = network.ListNetwork(test_cli20.MyApp(sys.stdout), None) with mock.patch.object(cmd, ""get_client"", return_value=self.client) as mock_get_client, \ mock.patch.object(self.client.httpclient, ""request"") as mock_request, \ mock.patch.object(self.client.httpclient, ""_check_uri_length"", return_value=None) as mock_check_uri_length: mock_check_uri_length.side_effect = [ exceptions.RequestURITooLong(excess=1), None, None] mock_request.side_effect = [response1, response2] known_args, _vs = cmd.get_parser('create_subnets')\ .parse_known_args() cmd.extend_list(data, known_args) mock_get_client.assert_called_with() mock_request.assert_has_calls([ mock.call( path, 'fields=id&fields=cidr%s' % filters1), headers=mock.ANY), mock.call( test_cli20.MyUrlComparator( test_cli20.end_url( path, 'fields=id&fields=cidr%s' % filters2), self.client), 'GET', body=None, headers=mock.ANY)]) for call_args in mock_request.call_args_list: self.assertEqual(test_cli20.TOKEN, call_args[1]['headers']['X-Auth-Token'])","from mox3 import mox self.mox.StubOutWithMock(cmd, ""get_client"") self.mox.StubOutWithMock(self.client.httpclient, ""request"") self.mox.StubOutWithMock(network.ListNetwork, ""extend_list"") network.ListNetwork.extend_list(mox.IsA(list), mox.IgnoreArg()) cmd.get_client().MultipleTimes().AndReturn(self.client) self.client.httpclient.request( test_cli20.MyUrlComparator(test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mox.ContainsKeyValue( 'X-Auth-Token', test_cli20.TOKEN)).AndReturn( (test_cli20.MyResp(200), resstr)) self.mox.ReplayAll() cmd_parser = cmd.get_parser(""list_"" + resources) shell.run_command(cmd, cmd_parser, args) self.mox.VerifyAll() self.mox.UnsetStubs() self.mox.StubOutWithMock(network.ListNetwork, ""extend_list"") network.ListNetwork.extend_list(mox.IsA(list), mox.IgnoreArg()) self._test_list_resources(resources, cmd, detail, tags, fields_1, fields_2, page_size=page_size, sort_key=sort_key, sort_dir=sort_dir, base_args=base_args, query=query) self.mox.StubOutWithMock(network.ListNetwork, ""extend_list"") network.ListNetwork.extend_list(mox.IsA(list), mox.IgnoreArg()) self._test_list_resources_with_pagination(""networks"", cmd) def setup_list_stub(resources, data, query): reses = {resources: data} resstr = self.client.serialize(reses) resp = (test_cli20.MyResp(200), resstr) path = getattr(self.client, resources + '_path') self.client.httpclient.request( test_cli20.MyUrlComparator( test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mox.ContainsKeyValue( 'X-Auth-Token', test_cli20.TOKEN)).AndReturn(resp) self.mox.StubOutWithMock(cmd, 'get_client') self.mox.StubOutWithMock(self.client.httpclient, 'request') cmd.get_client().MultipleTimes().AndReturn(self.client) setup_list_stub('networks', data, '') setup_list_stub('subnets', [{'id': 'mysubid1', 'cidr': '192.168.1.0/24'}, {'id': 'mysubid3', 'cidr': '10.1.1.0/24'}], query='fields=id&fields=cidr' + filters) self.mox.ReplayAll() args = [] cmd_parser = cmd.get_parser('list_networks') parsed_args = cmd_parser.parse_args(args) result = cmd.take_action(parsed_args) self.mox.VerifyAll() self.mox.UnsetStubs() self.mox.StubOutWithMock(network.ListNetwork, ""extend_list"") network.ListNetwork.extend_list(mox.IsA(list), mox.IgnoreArg()) self._test_list_columns(cmd, resources, returned_body, args=args) self.mox.StubOutWithMock(cmd, ""get_client"") self.mox.StubOutWithMock(self.client.httpclient, ""request"") self.mox.StubOutWithMock(network.ListNetwork, ""extend_list"") network.ListNetwork.extend_list(mox.IsA(list), mox.IgnoreArg()) cmd.get_client().MultipleTimes().AndReturn(self.client) self.client.httpclient.request( test_cli20.MyUrlComparator( test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mox.ContainsKeyValue( 'X-Auth-Token', test_cli20.TOKEN)).AndReturn( (test_cli20.MyResp(200), resstr)) self.mox.ReplayAll() cmd_parser = cmd.get_parser(""list_"" + resources) shell.run_command(cmd, cmd_parser, args) self.mox.VerifyAll() self.mox.UnsetStubs() self.mox.StubOutWithMock(cmd, ""get_client"") self.mox.StubOutWithMock(self.client.httpclient, ""request"") self.mox.StubOutWithMock(network.ListNetwork, ""extend_list"") network.ListNetwork.extend_list(mox.IsA(list), mox.IgnoreArg()) cmd.get_client().MultipleTimes().AndReturn(self.client) self.client.httpclient.request( test_cli20.MyUrlComparator( test_cli20.end_url(path, query), self.client), 'GET', body=None, headers=mox.ContainsKeyValue('X-Auth-Token', test_cli20.TOKEN) ).AndReturn((test_cli20.MyResp(200), resstr)) self.mox.ReplayAll() cmd_parser = cmd.get_parser(""list_"" + resources) shell.run_command(cmd, cmd_parser, args) self.mox.VerifyAll() self.mox.UnsetStubs() def mox_calls(path, data): filters, response = self._build_test_data(data) self.client.httpclient.request( headers=mox.ContainsKeyValue( 'X-Auth-Token', test_cli20.TOKEN)).AndReturn(response) self._test_extend_list(mox_calls) def mox_calls(path, data): sub_data_lists = [data[:len(data) - 1], data[len(data) - 1:]] filters, response = self._build_test_data(data) self.mox.StubOutWithMock(self.client.httpclient, ""_check_uri_length"") self.client.httpclient._check_uri_length(mox.IgnoreArg()).AndRaise( exceptions.RequestURITooLong(excess=1)) for data in sub_data_lists: filters, response = self._build_test_data(data) self.client.httpclient._check_uri_length( mox.IgnoreArg()).AndReturn(None) self.client.httpclient.request( path, 'fields=id&fields=cidr%s' % filters), headers=mox.ContainsKeyValue( 'X-Auth-Token', test_cli20.TOKEN)).AndReturn(response) self._test_extend_list(mox_calls)",171,122
openstack%2Fheat-dashboard~master~I506f1c30d68b1506613797a08ba8b307be9aa01b,openstack/heat-dashboard,master,I506f1c30d68b1506613797a08ba8b307be9aa01b,Imported Translations from Zanata,MERGED,2018-03-22 06:50:07.000000000,2018-03-22 09:33:32.000000000,2018-03-22 09:33:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-03-22 06:50:07.000000000', 'files': ['releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/388c155b68ec8c1ff9e3084a491ab4ae933e2d99', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I506f1c30d68b1506613797a08ba8b307be9aa01b\n'}]",0,555170,388c155b68ec8c1ff9e3084a491ab4ae933e2d99,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I506f1c30d68b1506613797a08ba8b307be9aa01b
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/70/555170/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po'],1,388c155b68ec8c1ff9e3084a491ab4ae933e2d99,zanata/translations,"""POT-Creation-Date: 2018-03-21 13:30+0000\n""""PO-Revision-Date: 2018-03-21 09:37+0000\n""msgid ""1.0.2-27"" msgstr ""1.0.2-27"" ","""POT-Creation-Date: 2018-03-19 05:30+0000\n""""PO-Revision-Date: 2018-03-14 08:11+0000\n""",5,2
openstack%2Frequirements~master~I219c0da149f2eeaa597594c6eeaf176ffe8084e6,openstack/requirements,master,I219c0da149f2eeaa597594c6eeaf176ffe8084e6,Update kubernetes to 5.0.0,MERGED,2018-03-21 07:58:27.000000000,2018-03-22 09:25:52.000000000,2018-03-22 09:25:52.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 07:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9b0f0a82335a0c0d036bd88161f4a63d7546745d', 'message': 'Update kubernetes to 5.0.0\n\nChange-Id: I219c0da149f2eeaa597594c6eeaf176ffe8084e6\n'}, {'number': 2, 'created': '2018-03-21 14:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8c69ce019fc4e41d3b1e308c05ba7fb6795965fb', 'message': 'Update kubernetes to 5.0.0\n\nChange-Id: I219c0da149f2eeaa597594c6eeaf176ffe8084e6\n'}, {'number': 3, 'created': '2018-03-21 16:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d57b465d508a385070d1fcda6e56fa6f1796994', 'message': 'Update kubernetes to 5.0.0\n\nChange-Id: I219c0da149f2eeaa597594c6eeaf176ffe8084e6\n'}, {'number': 4, 'created': '2018-03-21 18:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/02bf6cf1b130673a6a39e7c0e2b39caab9d6ff2d', 'message': 'Update kubernetes to 5.0.0\n\nChange-Id: I219c0da149f2eeaa597594c6eeaf176ffe8084e6\n'}, {'number': 5, 'created': '2018-03-21 20:45:56.000000000', 'files': ['global-requirements.txt', 'lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8d17440fd48cf42865a408c4af1833148ea6e622', 'message': 'Update kubernetes to 5.0.0\n\nChange-Id: I219c0da149f2eeaa597594c6eeaf176ffe8084e6\n'}]",0,554825,8d17440fd48cf42865a408c4af1833148ea6e622,16,4,5,6593,,,0,"Update kubernetes to 5.0.0

Change-Id: I219c0da149f2eeaa597594c6eeaf176ffe8084e6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/554825/4 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'lower-constraints.txt', 'upper-constraints.txt']",3,9b0f0a82335a0c0d036bd88161f4a63d7546745d,,kubernetes===5.0.0,kubernetes===4.0.0,4,4
openstack%2Fmistral~master~I409ebdf8dd1f1dec2db7a07f104cdb66fbed9b81,openstack/mistral,master,I409ebdf8dd1f1dec2db7a07f104cdb66fbed9b81,Ensure a queue exists before claiming messages,ABANDONED,2018-03-09 13:28:02.000000000,2018-03-22 09:18:20.000000000,,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 13:28:02.000000000', 'files': ['mistral/actions/openstack/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3e562d4524cb7ec89c2e9df267f7a0ff7157a84b', 'message': 'Ensure a queue exists before claiming messages\n\nAttempting to claim messages from a non-existent queue results in a 503\nerror from Zaqar.\n\nChange-Id: I409ebdf8dd1f1dec2db7a07f104cdb66fbed9b81\nCloses-Bug: 1754061\n'}]",1,551278,3e562d4524cb7ec89c2e9df267f7a0ff7157a84b,5,2,1,20970,,,0,"Ensure a queue exists before claiming messages

Attempting to claim messages from a non-existent queue results in a 503
error from Zaqar.

Change-Id: I409ebdf8dd1f1dec2db7a07f104cdb66fbed9b81
Closes-Bug: 1754061
",git fetch https://review.opendev.org/openstack/mistral refs/changes/78/551278/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/actions.py'],1,3e562d4524cb7ec89c2e9df267f7a0ff7157a84b,bug/1754061, queue.ensure_exists(force_create=True),,1,0
openstack%2Fdjango_openstack_auth~master~I03f53dc45ec5c425863ac7278f2fb1a0d9a298f2,openstack/django_openstack_auth,master,I03f53dc45ec5c425863ac7278f2fb1a0d9a298f2,"Revert ""Prepare transitional DOA package""",MERGED,2018-03-22 09:14:41.000000000,2018-03-22 09:18:06.000000000,2018-03-22 09:18:06.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 09:14:41.000000000', 'files': ['.gitignore', '.gitreview', 'README.rst', 'setup.py', 'setup.cfg', 'LICENSE'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/1134f57e1f20af9108fe6db2fabb9de767f5d6d9', 'message': 'Revert ""Prepare transitional DOA package""\n\nThis reverts commit aa06f462a6f74312289705f0da41ac5c2a549693.\n\nWe finally did not release the transitional package,\nso the previous commit has no meaning.\n\nChange-Id: I03f53dc45ec5c425863ac7278f2fb1a0d9a298f2\n'}]",0,555210,1134f57e1f20af9108fe6db2fabb9de767f5d6d9,6,2,1,841,,,0,"Revert ""Prepare transitional DOA package""

This reverts commit aa06f462a6f74312289705f0da41ac5c2a549693.

We finally did not release the transitional package,
so the previous commit has no meaning.

Change-Id: I03f53dc45ec5c425863ac7278f2fb1a0d9a298f2
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/10/555210/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.gitreview', 'README.rst', 'setup.py', 'setup.cfg', 'LICENSE']",6,1134f57e1f20af9108fe6db2fabb9de767f5d6d9,,," Apache License Version 2.0, January 2004 http://www.apache.org/licenses/ TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION 1. Definitions. ""License"" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document. ""Licensor"" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License. ""Legal Entity"" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, ""control"" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity. ""You"" (or ""Your"") shall mean an individual or Legal Entity exercising permissions granted by this License. ""Source"" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files. ""Object"" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types. ""Work"" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below). ""Derivative Works"" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof. ""Contribution"" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, ""submitted"" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as ""Not a Contribution."" ""Contributor"" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work. 2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form. 3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed. 4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions: (a) You must give any other recipients of the Work or Derivative Works a copy of this License; and (b) You must cause any modified files to carry prominent notices stating that You changed the files; and (c) You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and (d) If the Work includes a ""NOTICE"" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License. You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License. 5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions. 6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file. 7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License. 8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages. 9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability. ",2,241
openstack%2Frpm-packaging~stable%2Fpike~Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798,openstack/rpm-packaging,stable/pike,Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798,Add monasca tempest plugin package,MERGED,2018-03-15 20:50:58.000000000,2018-03-22 09:13:09.000000000,2018-03-22 09:13:09.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24580}, {'_account_id': 27999}]","[{'number': 1, 'created': '2018-03-15 20:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/443e02588e9f4291791949cb89797ee3f47c756b', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}, {'number': 2, 'created': '2018-03-15 22:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0729071d1913f443f0b495e5c93741f3bc95e5c1', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}, {'number': 3, 'created': '2018-03-19 17:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7861d5355abbd50ffe4c56fc28df5d07c0032406', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}, {'number': 4, 'created': '2018-03-19 21:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7485a64a1fd81243cb2fc0b5be4fdb52954de4f7', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}, {'number': 5, 'created': '2018-03-19 21:31:52.000000000', 'files': ['openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aac9680172750b78eae3f67704ecc4d9cc18526c', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}]",0,553610,aac9680172750b78eae3f67704ecc4d9cc18526c,52,7,5,24580,,,0,"Add monasca tempest plugin package

This patch add monasca tempest plugin package spec template.

Change-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798
Co-Authored-By: Scott Grasley <sgrasley@suse.com>
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/10/553610/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2'],1,443e02588e9f4291791949cb89797ee3f47c756b,monasca-tempest-plugin-stable/pike,"{% set pypi_name = 'monasca-tempest-plugin' %} {% set source=fetch_source('http://tarballs.openstack.org/monasca-tempest-plugin/monasca-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname monasca_tempest_plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the monasca project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('monasca-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the monaca project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('oslotest') }} Requires: {{ py2pkg('mock') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for monasca tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the monasca tempest tests. %endif %prep %autosetup -n {{ pypi_name }}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/monasca_tempest_tests %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,79,0
openstack%2Fzun~master~I8b8908d2950bdd670686d5ca14e5555bf0cd0bda,openstack/zun,master,I8b8908d2950bdd670686d5ca14e5555bf0cd0bda,Check image ambiguity on validation,MERGED,2018-03-17 21:26:15.000000000,2018-03-22 09:10:44.000000000,2018-03-22 09:10:44.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27245}]","[{'number': 1, 'created': '2018-03-17 21:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/0ab5c6ed61e0f60ccdeb8cde162ba108d9dfec8d', 'message': '[WIP] Check image ambiguity on validation\n\nChange-Id: I8b8908d2950bdd670686d5ca14e5555bf0cd0bda\n'}, {'number': 2, 'created': '2018-03-17 21:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/228b659480365103cea0b9ae525f9a9e8aea5ba9', 'message': '[WIP] Check image ambiguity on validation\n\nRelated-Bug: #1756236\nChange-Id: I8b8908d2950bdd670686d5ca14e5555bf0cd0bda\n'}, {'number': 3, 'created': '2018-03-21 01:27:12.000000000', 'files': ['zun/compute/api.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/4605f230846c7bedfe499840afc1ca5a622a239f', 'message': 'Check image ambiguity on validation\n\nRelated-Bug: #1756236\nChange-Id: I8b8908d2950bdd670686d5ca14e5555bf0cd0bda\n'}]",0,554011,4605f230846c7bedfe499840afc1ca5a622a239f,12,4,3,11536,,,0,"Check image ambiguity on validation

Related-Bug: #1756236
Change-Id: I8b8908d2950bdd670686d5ca14e5555bf0cd0bda
",git fetch https://review.opendev.org/openstack/zun refs/changes/11/554011/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/api.py'],1,0ab5c6ed61e0f60ccdeb8cde162ba108d9dfec8d,bug/1756236, if len(images) > 1: raise exception.Conflict('Multiple images exist with same ' 'name. Please use the container ' 'uuid instead.'),,4,0
openstack%2Fmonasca-agent~stable%2Fqueens~I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90,openstack/monasca-agent,stable/queens,I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90,Update supervisor version lower bound,MERGED,2018-03-14 14:20:59.000000000,2018-03-22 09:08:48.000000000,2018-03-22 09:08:48.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-03-14 14:20:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/0f8ae565bd0fa68b86fe66eadf6dff4bab6f3946', 'message': 'Update supervisor version lower bound\n\nSupervisor has XML-RPC security vulenalbility. Upgrade to 3.3.3.\nRefer to https://nvd.nist.gov/vuln/detail/CVE-2017-11610.\n\nStory: 2001648\nTask: 6667\n\nChange-Id: I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90\n'}]",0,552912,0f8ae565bd0fa68b86fe66eadf6dff4bab6f3946,9,5,1,24580,,,0,"Update supervisor version lower bound

Supervisor has XML-RPC security vulenalbility. Upgrade to 3.3.3.
Refer to https://nvd.nist.gov/vuln/detail/CVE-2017-11610.

Story: 2001648
Task: 6667

Change-Id: I1f0e2c3436a0bbeeaf8beebcf15b066de5df7c90
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/12/552912/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0f8ae565bd0fa68b86fe66eadf6dff4bab6f3946,550615-stable/queens,"supervisor>=3.3.3,<3.4 # BSD-derived","supervisor>=3.1.3,<3.4 # BSD-derived",1,1
openstack%2Fcongress~master~I7c5c4a752beea3e6172d20e92ac4183ae4423e4b,openstack/congress,master,I7c5c4a752beea3e6172d20e92ac4183ae4423e4b,Add a step to install tox,MERGED,2018-03-12 13:06:34.000000000,2018-03-22 09:06:31.000000000,2018-03-22 09:06:31.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 13:06:34.000000000', 'files': ['doc/source/admin/deployment.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/5b61228523c1ffdd7ab472d58dee530c470865d5', 'message': 'Add a step to install tox\n\nBefore use tox, we need install it.\n\nChange-Id: I7c5c4a752beea3e6172d20e92ac4183ae4423e4b\n'}]",0,552008,5b61228523c1ffdd7ab472d58dee530c470865d5,7,3,1,21486,,,0,"Add a step to install tox

Before use tox, we need install it.

Change-Id: I7c5c4a752beea3e6172d20e92ac4183ae4423e4b
",git fetch https://review.opendev.org/openstack/congress refs/changes/08/552008/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/deployment.rst'],1,5b61228523c1ffdd7ab472d58dee530c470865d5,, Install tox:: $ pip install tox Generate config:: config-datasource , config-datasource,8,1
openstack%2Fzun~master~Id17115703fcc2c03ccf05506870f81229efa7d09,openstack/zun,master,Id17115703fcc2c03ccf05506870f81229efa7d09,Pull/Search image from default driver,MERGED,2018-03-19 00:48:26.000000000,2018-03-22 09:06:25.000000000,2018-03-22 09:06:24.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-19 00:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f174a9c75bcf8aada1a3a90e84caac2f84efdf5e', 'message': 'Pull/Search image from default driver\n\nIf users create a container with an image without specifying the\nimage driver, we pull/search the image from default driver.\nThis allows cloud administrators to configure the default location\nof the image (DockerHub or Glance).\n\nChange-Id: Id17115703fcc2c03ccf05506870f81229efa7d09\n'}, {'number': 2, 'created': '2018-03-20 01:40:02.000000000', 'files': ['zun/image/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/79af7c56a67d5e797a4cb5bc9730b151046ecc68', 'message': 'Pull/Search image from default driver\n\nIf users create a container with an image without specifying the\nimage driver, we pull/search the image from default driver.\nThis allows cloud administrators to configure the default location\nof the image (DockerHub or Glance).\n\nChange-Id: Id17115703fcc2c03ccf05506870f81229efa7d09\n'}]",0,554077,79af7c56a67d5e797a4cb5bc9730b151046ecc68,9,3,2,11536,,,0,"Pull/Search image from default driver

If users create a container with an image without specifying the
image driver, we pull/search the image from default driver.
This allows cloud administrators to configure the default location
of the image (DockerHub or Glance).

Change-Id: Id17115703fcc2c03ccf05506870f81229efa7d09
",git fetch https://review.opendev.org/openstack/zun refs/changes/77/554077/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/image/driver.py'],1,f174a9c75bcf8aada1a3a90e84caac2f84efdf5e,," driver_name=None): if driver_name is None: driver_name = CONF.default_image_driver try: image_driver = load_image_driver(driver_name) image, image_loaded = image_driver.pull_image( context, repo, tag, image_pull_policy) if image: image['driver'] = driver_name.split('.')[0] except exception.ImageNotFound: image = None except Exception as e: LOG.exception('Unknown exception occurred while loading ' 'image: %s', six.text_type(e)) raise exception.ZunException(six.text_type(e)) def search_image(context, repo, tag, driver_name, exact_match): try: image_driver = load_image_driver(driver_name) return image_driver.search_image(context, repo, tag, exact_match) except Exception as e: LOG.exception('Unknown exception occurred while searching ' 'for image: %s', six.text_type(e)) raise exception.ZunException(six.text_type(e))"," image_driver=None): if image_driver: image_driver_list = [image_driver.lower()] else: image_driver_list = CONF.image_driver_list for driver in image_driver_list: try: image_driver = load_image_driver(driver) image, image_loaded = image_driver.pull_image( context, repo, tag, image_pull_policy) if image: image['driver'] = driver.split('.')[0] break except exception.ImageNotFound: image = None except Exception as e: LOG.exception('Unknown exception occurred while loading ' 'image: %s', six.text_type(e)) raise exception.ZunException(six.text_type(e))def search_image(context, repo, tag, image_driver, exact_match): images = [] if image_driver: image_driver_list = [image_driver.lower()] else: image_driver_list = CONF.image_driver_list for driver in image_driver_list: try: image_driver = load_image_driver(driver) imgs = image_driver.search_image(context, repo, tag, exact_match) images.extend(imgs) except Exception as e: LOG.exception('Unknown exception occurred while searching ' 'for image: %s', six.text_type(e)) raise exception.ZunException(six.text_type(e)) return images",25,36
openstack%2Fkuryr-tempest-plugin~master~Iadf0f37118ab1bee2265abfbfab2ab8ce462ac87,openstack/kuryr-tempest-plugin,master,Iadf0f37118ab1bee2265abfbfab2ab8ce462ac87,demo container: Include ssl certificates,MERGED,2018-03-21 15:01:04.000000000,2018-03-22 09:05:34.000000000,2018-03-22 09:05:33.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-03-21 15:01:04.000000000', 'files': ['test_container/Dockerfile.builder', 'test_container/mkrootfs.sh', 'test_container/rootfs.tar.xz'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/20222a02002052724084af00e4cbac98cd7a0e7c', 'message': 'demo container: Include ssl certificates\n\nWithout this patch, curl would complain that the path where it expects\nthe ca certificate bundle is empty.\n\nChange-Id: Iadf0f37118ab1bee2265abfbfab2ab8ce462ac87\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",0,554945,20222a02002052724084af00e4cbac98cd7a0e7c,11,6,1,14352,,,0,"demo container: Include ssl certificates

Without this patch, curl would complain that the path where it expects
the ca certificate bundle is empty.

Change-Id: Iadf0f37118ab1bee2265abfbfab2ab8ce462ac87
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/45/554945/1 && git format-patch -1 --stdout FETCH_HEAD,"['test_container/Dockerfile.builder', 'test_container/mkrootfs.sh', 'test_container/rootfs.tar.xz']",3,20222a02002052724084af00e4cbac98cd7a0e7c,demo_container_curl_https_ca,,,4,0
openstack%2Frpm-packaging~stable%2Fpike~Icae77057fb9413c26e7ee068a15df75807bf8c0e,openstack/rpm-packaging,stable/pike,Icae77057fb9413c26e7ee068a15df75807bf8c0e,django_openstack_auth: Add patch,MERGED,2018-03-22 07:01:04.000000000,2018-03-22 09:02:04.000000000,2018-03-22 09:02:04.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 07:01:04.000000000', 'files': ['openstack/django_openstack_auth/django_openstack_auth.spec.j2', 'openstack/django_openstack_auth/0001-Don-t-add-required-attribute-to-html-form-fields.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a757152329d229cfd786ecdec601e9db906ab0ed', 'message': 'django_openstack_auth: Add patch\n\nAdd 0001-Don-t-add-required-attribute-to-html-form-fields.patch for\nlp#1703109 .\n\nChange-Id: Icae77057fb9413c26e7ee068a15df75807bf8c0e\n'}]",0,555172,a757152329d229cfd786ecdec601e9db906ab0ed,13,6,1,7102,,,0,"django_openstack_auth: Add patch

Add 0001-Don-t-add-required-attribute-to-html-form-fields.patch for
lp#1703109 .

Change-Id: Icae77057fb9413c26e7ee068a15df75807bf8c0e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/555172/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/django_openstack_auth/django_openstack_auth.spec.j2', 'openstack/django_openstack_auth/0001-Don-t-add-required-attribute-to-html-form-fields.patch']",2,a757152329d229cfd786ecdec601e9db906ab0ed,bug/1703109,"From 04491deed11022c29e24a02e69d750e981a7ac7a Mon Sep 17 00:00:00 2001 From: Colleen Murphy <colleen@gazlene.net> Date: Thu, 2 Nov 2017 18:19:09 +0100 Subject: [PATCH] Don't add required attribute to html form fields In Django 1.10 a new Form property was introduced, defaulting to True, which enabled HTML form validation for fields marked ""required"" in Django. This changed old behavior, which was that required fields were only validated server-side. This patch restores old behavior by setting use_required_attribute to False for the inherited AuthenticationForm. This problem arose because when WebSSO is enabled and a non-keystone-credentials authentication method is selected from the dropdown list, the now-hidden username and password fields are still marked ""required"" and still validated client-side, even though they are invisible to the user and cannot be filled in. It would be nice to fix the javascript to properly turn the ""required"" attribute on or off depending on what authentication method is selected and whether the ""required"" fields are even visible, but for now this just restores the behavior we had before Djanto 1.10. Change-Id: I3e798a2288d9c33396b40a86b07ea8c163d3b525 Closes-bug: #1703109 (cherry picked from commit 1fa9ae26cc6006f8ee94fabddb7fea171adee55d) --- openstack_auth/forms.py | 1 + 1 file changed, 1 insertion(+) diff --git a/openstack_auth/forms.py b/openstack_auth/forms.py index c7d0c51..107fb19 100644 --- a/openstack_auth/forms.py +++ b/openstack_auth/forms.py @@ -47,6 +47,7 @@ class Login(django_auth_forms.AuthenticationForm): Inherits from the base ``django.contrib.auth.forms.AuthenticationForm`` class for added security features. """""" + use_required_attribute = False region = forms.ChoiceField(label=_(""Region""), required=False) username = forms.CharField( label=_(""User Name""), -- 2.16.2 ",,45,0
openstack%2Fhorizon~master~Ibc6e8f7e18080afabd23472383fa3d63dc1bda00,openstack/horizon,master,Ibc6e8f7e18080afabd23472383fa3d63dc1bda00,Imported Translations from Zanata,MERGED,2018-03-22 07:30:23.000000000,2018-03-22 08:54:01.000000000,2018-03-22 08:54:01.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 07:30:23.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/352f536dfc4b3a82a68ade9f9fcd5aec4872675a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc6e8f7e18080afabd23472383fa3d63dc1bda00\n'}]",0,555182,352f536dfc4b3a82a68ade9f9fcd5aec4872675a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibc6e8f7e18080afabd23472383fa3d63dc1bda00
",git fetch https://review.opendev.org/openstack/horizon refs/changes/82/555182/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po']",3,352f536dfc4b3a82a68ade9f9fcd5aec4872675a,zanata/translations,"""POT-Creation-Date: 2018-03-21 12:53+0000\n""""PO-Revision-Date: 2018-03-21 09:57+0000\n"" ""Last-Translator: Fernando Pimenta <fernando.c.pimenta@gmail.com>\n""msgid ""Affinity"" msgstr ""Afinidade"" msgid ""Anti Affinity"" msgstr ""Anti Afinidade"" msgid ""Confirm Delete Server Group"" msgid_plural ""Confirm Delete Server Groups"" msgstr[0] ""Confirmar a Exclusão de Grupo de Servidores"" msgstr[1] ""Confirmar a Exclusão de Grupos de Servidores"" msgid ""Confirm Password"" msgstr ""Confirmar Senha"" msgid ""Copy"" msgstr ""Copiar"" msgid ""Copy Object"" msgstr ""Copiar Objeto"" msgid ""Copy Object: {$ ctrl.model.container $}/{$ ctrl.model.path $}"" msgstr ""Copiar Objeto: {$ ctrl.model.container $}/{$ ctrl.model.path $}"" msgid ""Copying"" msgstr ""Copiando"" msgid ""Create Server Group"" msgstr ""Criar Grupo de Servidores"" msgid ""Delete Server Group"" msgid_plural ""Delete Server Groups"" msgstr[0] ""Excluir Grupo de Servidores"" msgstr[1] ""Excluir Grupos de Servidores"" msgid ""Delete Server Groups"" msgstr ""Excluir Grupos de Servidores"" msgid ""Deleted Server Group: %s."" msgid_plural ""Deleted Server Groups: %s."" msgstr[0] ""Grupo de Servidores Excluído: %s."" msgstr[1] ""Grupos de Servidores Excluídos: %s"" #, python-formatmsgid ""Destination Container"" msgstr ""Contêiner de Destino"" msgid ""Destination Object"" msgstr ""Objeto de Destino"" msgid ""Instance ID"" msgstr ""ID da Instância"" #, python-format msgid ""Object %(path)s has copied."" msgstr ""O objeto %(path)s foi copiado."" msgid ""Server Group"" msgstr ""Grupo de Servidores"" #, python-format msgid ""Server Group %s was successfully created."" msgstr ""O Grupo de servidores %s foi criado com sucesso."" msgid ""Soft Affinity"" msgstr ""Afinidade Suave"" msgid ""Soft Anti Affinity"" msgstr ""Anti Afinidade Suave"" msgid ""This container does not exist."" msgstr ""Este contêiner não existe."" msgid ""This field is required."" msgstr ""Este campo é obrigatório."" msgid ""Unable to create the server group."" msgstr ""Não é possível criar o grupo de servidores."" msgid ""Unable to delete Server Group: %s."" msgid_plural ""Unable to delete Server Groups: %s."" msgstr[0] ""Não é possível excluir o Grupo de Servidores: %s."" msgstr[1] ""Não é possível excluir os Grupos de Servidores: %s."" #, python-formatmsgid ""Unable to delete the server group with id %(id)s"" msgstr ""Não é possível excluir o grupo de servidores com id %(id)s"" #, python-formatmsgid ""Unable to retrieve the server group."" msgstr ""Não é possível obter o grupo de servidores."" ""You can copy objects. You have to create destination container prior to copy."" msgstr """" ""Você pode copiar objetos. Você tem que criar o contêiner de destino antes da "" ""cópia."" msgid """"""You can specify folder by using '/' at destination object field.\n"" "" For example, if you want to copy object under the folder named "" ""'folder1', you need to specify destination object like 'folder1/[your object "" ""name]'."" msgstr """" ""Você pode especificar a pasta usando '/' no campo de objeto de destino.\n"" "" Por exemplo, se você quer copiar um objeto abaixo da pasta chamada "" ""'pasta1', você precisa especificar o objeto de destino como 'pasta1/[o nome "" ""do seu objeto]'."" msgid """"msgid ""You have selected \""%s\"". Deleted Server Group is not recoverable."" msgid_plural """" ""You have selected \""%s\"". Deleted Server Groups are not recoverable."" msgstr[0] """" ""Você selecionou \""%s\"". Grupo de Servidores excluído não é recuperável."" msgstr[1] """" ""Você selecionou \""%s\"". Grupos de Servidores excluídos não são recuperáveis."" #, python-format","""POT-Creation-Date: 2018-03-01 14:57+0000\n""""PO-Revision-Date: 2018-02-01 03:52+0000\n"" ""Last-Translator: Rodrigo Loures <rmoraesloures@gmail.com>\n""",163,7
openstack%2Fzun~master~Iab1fc6ffa8093d74354a541a9900201b24120456,openstack/zun,master,Iab1fc6ffa8093d74354a541a9900201b24120456,Introduce a config for default image driver,MERGED,2018-03-18 21:56:27.000000000,2018-03-22 08:49:37.000000000,2018-03-22 08:49:37.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27245}]","[{'number': 1, 'created': '2018-03-18 21:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7783901e02046a7abe3ff48618c168f095b8f469', 'message': 'Introduce a config for default image driver\n\nThis allows caller to load an image driver without specifying\na specific driver. If the image driver is not provided by caller,\nthe default image driver will be loaded.\n\nChange-Id: Iab1fc6ffa8093d74354a541a9900201b24120456\n'}, {'number': 2, 'created': '2018-03-18 23:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/34ab6753bf4b793d98ed5b972481480f1b58ee4a', 'message': '[WIP] Introduce a config for default image driver\n\nThis allows caller to load an image driver without specifying\na specific driver. If the image driver is not provided by caller,\nthe default image driver will be loaded.\n\nChange-Id: Iab1fc6ffa8093d74354a541a9900201b24120456\n'}, {'number': 3, 'created': '2018-03-18 23:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a3fbb7af4e37206b247eefcb2541c4edeb8a4334', 'message': 'Introduce a config for default image driver\n\nThis allows caller to load an image driver without specifying\na specific driver. If the image driver is not provided by caller,\nthe default image driver will be loaded.\n\nChange-Id: Iab1fc6ffa8093d74354a541a9900201b24120456\n'}, {'number': 4, 'created': '2018-03-19 00:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/490022540f5fe77f0f7756ead54bf300e2693131', 'message': 'Introduce a config for default image driver\n\nThis allows caller to load an image driver without specifying\na specific driver. If the image driver is not provided by caller,\nthe default image driver will be loaded.\n\nChange-Id: Iab1fc6ffa8093d74354a541a9900201b24120456\n'}, {'number': 5, 'created': '2018-03-20 01:40:02.000000000', 'files': ['zun/image/driver.py', 'zun/conf/image_driver.py', 'zun/tests/unit/image/test_driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/6a2d628d47f3ac75f132acea0ee837b5871ae5b1', 'message': 'Introduce a config for default image driver\n\nThis allows caller to load an image driver without specifying\na specific driver. If the image driver is not provided by caller,\nthe default image driver will be loaded.\n\nChange-Id: Iab1fc6ffa8093d74354a541a9900201b24120456\n'}]",0,554069,6a2d628d47f3ac75f132acea0ee837b5871ae5b1,15,4,5,11536,,,0,"Introduce a config for default image driver

This allows caller to load an image driver without specifying
a specific driver. If the image driver is not provided by caller,
the default image driver will be loaded.

Change-Id: Iab1fc6ffa8093d74354a541a9900201b24120456
",git fetch https://review.opendev.org/openstack/zun refs/changes/69/554069/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/image/driver.py', 'zun/conf/image_driver.py']",2,7783901e02046a7abe3ff48618c168f095b8f469,,"""""""), cfg.StrOpt( 'default_image_driver', default='docker', help='The default container image driver to use.'),",""""""")",7,1
openstack%2Fzun~master~I2c78fc32f9c2ca7fe6f521b7cf8a44bc4db36c41,openstack/zun,master,I2c78fc32f9c2ca7fe6f521b7cf8a44bc4db36c41,Move parse_image_name to compute manager,MERGED,2018-03-18 23:30:22.000000000,2018-03-22 08:49:30.000000000,2018-03-22 08:49:30.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27245}]","[{'number': 1, 'created': '2018-03-18 23:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a1e4573cfa88412aed0e4d3610a5efc5120274b7', 'message': 'Move parse_image_name to compute manager\n\nThis makes the code consistent because compute manager was always\nused to parse the image name.\n\nChange-Id: I2c78fc32f9c2ca7fe6f521b7cf8a44bc4db36c41\n'}, {'number': 2, 'created': '2018-03-20 01:40:02.000000000', 'files': ['zun/image/driver.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/69d9ba2f693a6be85fc6d674dafec7f7d8ceba6d', 'message': 'Move parse_image_name to compute manager\n\nThis makes the code consistent because compute manager was always\nused to parse the image name.\n\nChange-Id: I2c78fc32f9c2ca7fe6f521b7cf8a44bc4db36c41\n'}]",0,554074,69d9ba2f693a6be85fc6d674dafec7f7d8ceba6d,10,4,2,11536,,,0,"Move parse_image_name to compute manager

This makes the code consistent because compute manager was always
used to parse the image name.

Change-Id: I2c78fc32f9c2ca7fe6f521b7cf8a44bc4db36c41
",git fetch https://review.opendev.org/openstack/zun refs/changes/74/554074/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/compute/manager.py', 'zun/image/driver.py']",2,a1e4573cfa88412aed0e4d3610a5efc5120274b7,,"def search_image(context, repo, tag, image_driver, exact_match):","from zun.common.utils import parse_image_namedef search_image(context, image_name, image_driver, exact_match): repo, tag = parse_image_name(image_name)",3,4
openstack%2Ftempest~master~I6eef7231742d873a0e727c300a9ae7f5958ac4f8,openstack/tempest,master,I6eef7231742d873a0e727c300a9ae7f5958ac4f8,Fix expected response code of show_image_file,MERGED,2018-03-16 07:20:28.000000000,2018-03-22 08:24:44.000000000,2018-03-22 08:24:44.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27245}]","[{'number': 1, 'created': '2018-03-16 07:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ec780244b28486b2795e1521d4c4b7bd12d7d9a', 'message': 'Fix expected response code of show_image_file\n\nAccording to https://developer.openstack.org/api-ref/image/v2/#download-binary-image-data,\nnormal response codes of interface show_image_file should\nbe [200, 204, 206], this is to fix it.\n\nChange-Id: I6eef7231742d873a0e727c300a9ae7f5958ac4f8\nCloses-Bug: #1756264\n'}, {'number': 2, 'created': '2018-03-21 01:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6412fdb6bd9f102fdf2fd5e6400ec56da03b5fff', 'message': 'Fix expected response code of show_image_file\n\nAccording to https://developer.openstack.org/api-ref/image/v2/#download-binary-image-data,\nnormal response codes of interface show_image_file should\nbe [200, 204, 206], this is to fix it.\n\nChange-Id: I6eef7231742d873a0e727c300a9ae7f5958ac4f8\nCloses-Bug: #1756264\n'}, {'number': 3, 'created': '2018-03-21 17:58:24.000000000', 'files': ['tempest/lib/services/image/v2/images_client.py', 'releasenotes/notes/fix-show-image-file-expected-code-92d97342d0f6d60e.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd5a14b7383ac49ad4ffbef6ddcc8509222c030d', 'message': 'Fix expected response code of show_image_file\n\nAccording to https://developer.openstack.org/api-ref/image/v2/#download-binary-image-data,\nnormal response codes of interface show_image_file should\nbe [200, 204, 206], this is to fix it.\n\nChange-Id: I6eef7231742d873a0e727c300a9ae7f5958ac4f8\nCloses-Bug: #1756264\n'}]",0,553705,fd5a14b7383ac49ad4ffbef6ddcc8509222c030d,40,9,3,20190,,,0,"Fix expected response code of show_image_file

According to https://developer.openstack.org/api-ref/image/v2/#download-binary-image-data,
normal response codes of interface show_image_file should
be [200, 204, 206], this is to fix it.

Change-Id: I6eef7231742d873a0e727c300a9ae7f5958ac4f8
Closes-Bug: #1756264
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/553705/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/image/v2/images_client.py'],1,5ec780244b28486b2795e1521d4c4b7bd12d7d9a,bug/1756264," self.expected_success([200, 204, 206], resp.status)"," self.expected_success(200, resp.status)",1,1
openstack%2Fec2-api~master~I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94,openstack/ec2-api,master,I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94,Remove intree ec2-api tempest tests,MERGED,2018-01-30 07:35:49.000000000,2018-03-22 08:13:56.000000000,2018-03-22 08:13:56.000000000,"[{'_account_id': 8556}, {'_account_id': 10234}, {'_account_id': 11278}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-01-30 07:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8af353a743af705a5120d33105f032add528ab9a', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api tempest plugin has been created for ec2-api tests, so\nwe can remove the intree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 2, 'created': '2018-02-02 09:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/dbaa7cc7007bd1fc4bb2e80d29385510900c115d', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api tempest plugin has been created for ec2-api tests, so\nwe can remove the intree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 3, 'created': '2018-02-02 09:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c7b8e3be443729bfed9609d5685acafb9a208c38', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 4, 'created': '2018-02-02 09:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/30aad18a782a633fe7de81c5d3dedd0e8edb681b', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 5, 'created': '2018-02-02 09:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/efaca6aad2ab42df0a79b841c06bf259525856b8', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 6, 'created': '2018-02-02 10:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e197c5840a4f2114d0a07fc722c636b7ef1ee018', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 7, 'created': '2018-02-07 13:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5efecf6d769bdd03026d7b6a1ca0e24ebbc0b2a7', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 8, 'created': '2018-02-07 13:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/57dd86927d40ab82a3cb9565cc7322a92dcb4de2', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 9, 'created': '2018-02-16 08:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9ade09112846cee66a1d01b6482f197b4a563ec3', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 10, 'created': '2018-02-19 03:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/eee1ab428f8a4ac779c2088cdee26644b12396de', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 11, 'created': '2018-02-26 12:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4a4f552f5fd50459b8c2b1b121f13bc806319629', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}, {'number': 12, 'created': '2018-03-18 03:27:03.000000000', 'files': ['ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_benchmark.py', 'ec2api/tests/functional/base.py', 'ec2api/tests/functional/api/test_snapshots.py', 'ec2api/tests/functional/__init__.py', 'ec2api/tests/functional/api/test_dhcp_options.py', 'ec2api/tests/functional/api/test_vpcs.py', 'ec2api/tests/functional/api/test_security_groups.py', 'ec2api/tests/functional/scenario/base.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_ec2_volume_benchmark.py', 'ec2api/tests/functional/config_opts.py', 'ec2api/tests/functional/api/test_network_interfaces.py', 'ec2api/tests/functional/api/test_regions.py', 'ec2api/tests/functional/plugin.py', 'ec2api/tests/functional/obsolete/base.py', 'ec2api/tests/functional/api/test_addresses.py', 'ec2api/tests/functional/api/test_subnets.py', 'ec2api/tests/functional/scenario/test_instance_restart.py', 'ec2api/tests/functional/api/test_vpn_gateways.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_ec2_unixbench.py', 'ec2api/tests/functional/api/test_instance_attributes.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_scenario.py', 'ec2api/tests/botocoreclient.py', 'ec2api/tests/functional/api/test_instances_ebs.py', 'setup.cfg', 'tox.ini', 'ec2api/tests/functional/api/test_customer_gateways.py', 'ec2api/tests/functional/api/test_images.py', 'ec2api/tests/functional/api/__init__.py', 'ec2api/tests/functional/api/test_instances.py', 'ec2api/tests/functional/api/test_instances_vpc.py', 'ec2api/tests/functional/api/test_internet_gateways.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_nat_scenario.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_behavior.py', 'ec2api/tests/functional/api/test_volumes.py', 'ec2api/tests/functional/api/test_tags.py', 'rally-scenarios/plugins/context_plugin_ec2_objects.py', 'ec2api/tests/functional/scenario/test_ebs_instances.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_ec2_instance_mysql.py', 'ec2api/tests/functional/scenario/test_vpc_addresses.py', 'ec2api/tests/functional/obsolete/utils.py', 'ec2api/tests/functional/scenario/test_instances_in_vpc.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/base.py', 'ec2api/tests/functional/scenario/test_paging.py', 'ec2api/tests/functional/api/test_vpn_connections.py', 'ec2api/tests/functional/scenario/__init__.py', 'ec2api/tests/functional/config.py', 'rally-scenarios/plugins/context_plugin_images.py', 'ec2api/tests/functional/scenario/test_vpn.py', 'ec2api/tests/functional/scenario/test_instances.py', 'ec2api/tests/functional/api/test_key_pairs.py', 'ec2api/tests/functional/api/test_routes.py', 'rally-scenarios/plugins/ec2api_plugin.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f5983d7cdc54375e33aa3c4311e94410b9288626', 'message': 'Remove intree ec2-api tempest tests\n\nec2-api jobs have been switched to use\nec2api-tempest-plugin for ec2-api tests, so\nwe can remove the in-tree tempest tests now.\n\nChange-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94\n'}]",2,539122,f5983d7cdc54375e33aa3c4311e94410b9288626,67,6,12,8556,,,0,"Remove intree ec2-api tempest tests

ec2-api jobs have been switched to use
ec2api-tempest-plugin for ec2-api tests, so
we can remove the in-tree tempest tests now.

Change-Id: I82ace9ebd1ca5216c2e3fc3d75f07146417ebf94
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/22/539122/3 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_benchmark.py', 'ec2api/tests/functional/base.py', 'ec2api/tests/functional/botocoreclient.py', 'ec2api/tests/functional/api/test_snapshots.py', 'ec2api/tests/functional/__init__.py', 'ec2api/tests/functional/api/test_dhcp_options.py', 'ec2api/tests/functional/api/test_vpcs.py', 'ec2api/tests/functional/api/test_security_groups.py', 'ec2api/tests/functional/scenario/base.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_ec2_volume_benchmark.py', 'ec2api/tests/functional/config_opts.py', 'ec2api/tests/functional/api/test_network_interfaces.py', 'ec2api/tests/functional/api/test_regions.py', 'ec2api/tests/functional/plugin.py', 'ec2api/tests/functional/obsolete/base.py', 'ec2api/tests/functional/api/test_addresses.py', 'ec2api/tests/functional/api/test_subnets.py', 'ec2api/tests/functional/scenario/test_instance_restart.py', 'ec2api/tests/functional/api/test_vpn_gateways.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_ec2_unixbench.py', 'ec2api/tests/functional/api/test_instance_attributes.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_scenario.py', 'ec2api/tests/functional/api/test_instances_ebs.py', 'setup.cfg', 'ec2api/tests/functional/api/test_customer_gateways.py', 'ec2api/tests/functional/api/test_images.py', 'ec2api/tests/functional/api/__init__.py', 'ec2api/tests/functional/api/test_instances.py', 'ec2api/tests/functional/api/test_instances_vpc.py', 'ec2api/tests/functional/api/test_internet_gateways.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_nat_scenario.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_vpc_behavior.py', 'ec2api/tests/functional/api/test_volumes.py', 'ec2api/tests/functional/api/test_tags.py', 'ec2api/tests/functional/scenario/test_ebs_instances.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/test_ec2_instance_mysql.py', 'ec2api/tests/functional/scenario/test_vpc_addresses.py', 'ec2api/tests/functional/obsolete/utils.py', 'ec2api/tests/functional/scenario/test_instances_in_vpc.py', 'ec2api/tests/functional/obsolete/thirdparty/scenario/aws_compat/base.py', 'ec2api/tests/functional/scenario/test_paging.py', 'ec2api/tests/functional/api/test_vpn_connections.py', 'ec2api/tests/functional/scenario/__init__.py', 'ec2api/tests/functional/config.py', 'ec2api/tests/functional/scenario/test_vpn.py', 'ec2api/tests/functional/scenario/test_instances.py', 'ec2api/tests/functional/api/test_key_pairs.py', 'ec2api/tests/functional/api/test_routes.py']",48,8af353a743af705a5120d33105f032add528ab9a,switch-to-temepst-plugin,,"# Copyright 2014 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from tempest.lib import decorators from ec2api.tests.functional import base from ec2api.tests.functional import config CONF = config.CONF LOG = log.getLogger(__name__) class RouteTest(base.EC2TestCase): VPC_CIDR = '10.14.0.0/20' SUBNET_CIDR = '10.14.0.0/24' vpc_id = None @classmethod @base.safe_setup def setUpClass(cls): super(RouteTest, cls).setUpClass() if not base.TesterStateHolder().get_vpc_enabled(): raise cls.skipException('VPC is disabled') data = cls.client.create_vpc(CidrBlock=cls.VPC_CIDR) cls.vpc_id = data['Vpc']['VpcId'] cls.addResourceCleanUpStatic(cls.client.delete_vpc, VpcId=cls.vpc_id) cls.get_vpc_waiter().wait_available(cls.vpc_id) @decorators.idempotent_id('69c04d14-5603-4a98-9331-739821b98b10') def test_create_delete_route_table(self): data = self.client.create_route_table(VpcId=self.vpc_id) rt_id = data['RouteTable']['RouteTableId'] res_clean = self.addResourceCleanUp(self.client.delete_route_table, RouteTableId=rt_id) rt = data['RouteTable'] self.assertEqual(self.vpc_id, rt['VpcId']) self.assertEqual(1, len(rt['Routes'])) route = rt['Routes'][0] self.assertEqual(self.VPC_CIDR, route['DestinationCidrBlock']) self.assertEqual('active', route['State']) data = self.client.delete_route_table(RouteTableId=rt_id) self.cancelResourceCleanUp(res_clean) self.assertRaises('InvalidRouteTableID.NotFound', self.client.describe_route_tables, RouteTableIds=[rt_id]) self.assertRaises('InvalidRouteTableID.NotFound', self.client.delete_route_table, RouteTableId=rt_id) @decorators.idempotent_id('d8051b30-eb70-4c4b-988b-56078a125af3') def test_describe_route_tables_base(self): data = self.client.create_route_table(VpcId=self.vpc_id) rt_id = data['RouteTable']['RouteTableId'] res_clean = self.addResourceCleanUp(self.client.delete_route_table, RouteTableId=rt_id) # NOTE(andrey-mp): by real id data = self.client.describe_route_tables(RouteTableIds=[rt_id]) self.assertEqual(1, len(data['RouteTables'])) # NOTE(andrey-mp): by fake id self.assertRaises('InvalidRouteTableID.NotFound', self.client.describe_route_tables, RouteTableIds=['rtb-0']) data = self.client.delete_route_table(RouteTableId=rt_id) self.cancelResourceCleanUp(res_clean) @decorators.idempotent_id('77a53f3e-437a-45ed-b3b5-e6b7ab2c9407') def test_describe_route_tables_filters(self): data = self.client.create_route_table(VpcId=self.vpc_id) rt_id = data['RouteTable']['RouteTableId'] self.addResourceCleanUp(self.client.delete_route_table, RouteTableId=rt_id) data = self.client.create_subnet(VpcId=self.vpc_id, CidrBlock=self.SUBNET_CIDR) subnet_id = data['Subnet']['SubnetId'] self.addResourceCleanUp(self.client.delete_subnet, SubnetId=subnet_id) self.get_subnet_waiter().wait_available(subnet_id) data = self.client.associate_route_table(RouteTableId=rt_id, SubnetId=subnet_id) assoc_id = data['AssociationId'] self.addResourceCleanUp(self.client.disassociate_route_table, AssociationId=assoc_id) # NOTE(andrey-mp): by association_id data = self.client.describe_route_tables( Filters=[{'Name': 'association.route-table-association-id', 'Values': [assoc_id]}]) self.assertEqual(1, len(data['RouteTables'])) # NOTE(andrey-mp): by route table id data = self.client.describe_route_tables( Filters=[{'Name': 'association.route-table-id', 'Values': [rt_id]}]) self.assertEqual(1, len(data['RouteTables'])) # NOTE(andrey-mp): by subnet id data = self.client.describe_route_tables( Filters=[{'Name': 'association.subnet-id', 'Values': [subnet_id]}]) self.assertEqual(1, len(data['RouteTables'])) # NOTE(andrey-mp): by filter real vpc data = self.client.describe_route_tables( Filters=[{'Name': 'vpc-id', 'Values': [self.vpc_id]}]) self.assertLess(0, len(data['RouteTables'])) # NOTE(andrey-mp): by filter fake vpc data = self.client.describe_route_tables( Filters=[{'Name': 'vpc-id', 'Values': ['vpc-0']}]) self.assertEqual(0, len(data['RouteTables'])) # NOTE(andrey-mp): by fake filter self.assertRaises('InvalidParameterValue', self.client.describe_route_tables, Filters=[{'Name': 'fake', 'Values': ['fake']}]) @decorators.idempotent_id('55361f57-331a-43b8-8729-efee2d1c0dc9') def test_associate_disassociate_route_table(self): data = self.client.create_route_table(VpcId=self.vpc_id) rt_id = data['RouteTable']['RouteTableId'] res_clean_rt = self.addResourceCleanUp(self.client.delete_route_table, RouteTableId=rt_id) data = self.client.create_subnet(VpcId=self.vpc_id, CidrBlock=self.SUBNET_CIDR) subnet_id = data['Subnet']['SubnetId'] res_clean_subnet = self.addResourceCleanUp(self.client.delete_subnet, SubnetId=subnet_id) self.get_subnet_waiter().wait_available(subnet_id) data = self.client.associate_route_table(RouteTableId=rt_id, SubnetId=subnet_id) assoc_id = data['AssociationId'] res_clean = self.addResourceCleanUp( self.client.disassociate_route_table, AssociationId=assoc_id) data = self.client.disassociate_route_table(AssociationId=assoc_id) self.cancelResourceCleanUp(res_clean) data = self.client.delete_subnet(SubnetId=subnet_id) self.cancelResourceCleanUp(res_clean_subnet) self.get_subnet_waiter().wait_delete(subnet_id) data = self.client.delete_route_table(RouteTableId=rt_id) self.cancelResourceCleanUp(res_clean_rt) @decorators.idempotent_id('b1a07211-6e9a-41db-8017-47e7c4b9c043') def test_replace_route_table(self): data = self.client.create_subnet(VpcId=self.vpc_id, CidrBlock=self.SUBNET_CIDR) subnet_id = data['Subnet']['SubnetId'] res_clean_subnet = self.addResourceCleanUp(self.client.delete_subnet, SubnetId=subnet_id) self.get_subnet_waiter().wait_available(subnet_id) # NOTE(andrey-mp): by vpc id data = self.client.describe_route_tables( Filters=[{'Name': 'vpc-id', 'Values': [self.vpc_id]}]) self.assertEqual(1, len(data['RouteTables'])) self.assertEqual(1, len(data['RouteTables'][0]['Associations'])) default_rt_id = data['RouteTables'][0]['RouteTableId'] main_assoc = data['RouteTables'][0]['Associations'][0] self.assertTrue(main_assoc['Main']) main_assoc_id = main_assoc['RouteTableAssociationId'] data = self.client.create_route_table(VpcId=self.vpc_id) rt_id = data['RouteTable']['RouteTableId'] res_clean_rt = self.addResourceCleanUp(self.client.delete_route_table, RouteTableId=rt_id) data = self.client.replace_route_table_association( RouteTableId=rt_id, AssociationId=main_assoc_id) assoc_id = data['NewAssociationId'] res_clean = self.addResourceCleanUp( self.client.replace_route_table_association, RouteTableId=default_rt_id, AssociationId=assoc_id) # NOTE(andrey-mp): by vpc id data = self.client.describe_route_tables( Filters=[{'Name': 'vpc-id', 'Values': [self.vpc_id]}]) self.assertEqual(2, len(data['RouteTables'])) for rt in data['RouteTables']: if rt['RouteTableId'] == rt_id: self.assertEqual(1, len(rt['Associations'])) self.assertTrue(rt['Associations'][0]['Main']) else: self.assertEmpty(rt.get('Associations', [])) self.assertRaises('DependencyViolation', self.client.delete_route_table, RouteTableId=rt_id) self.assertRaises('InvalidParameterValue', self.client.disassociate_route_table, AssociationId=assoc_id) data = self.client.replace_route_table_association( RouteTableId=default_rt_id, AssociationId=assoc_id) self.cancelResourceCleanUp(res_clean) data = self.client.delete_route_table(RouteTableId=rt_id) self.cancelResourceCleanUp(res_clean_rt) data = self.client.delete_subnet(SubnetId=subnet_id) self.cancelResourceCleanUp(res_clean_subnet) self.get_subnet_waiter().wait_delete(subnet_id) @decorators.idempotent_id('c112ecdb-dce3-4497-b11b-5349a2d89336') def test_create_delete_route(self): data = self.client.create_subnet(VpcId=self.vpc_id, CidrBlock=self.SUBNET_CIDR) subnet_id = data['Subnet']['SubnetId'] res_clean_subnet = self.addResourceCleanUp(self.client.delete_subnet, SubnetId=subnet_id) self.get_subnet_waiter().wait_available(subnet_id) kwargs = { 'SubnetId': subnet_id, } data = self.client.create_network_interface(*[], **kwargs) ni_id = data['NetworkInterface']['NetworkInterfaceId'] res_clean_ni = self.addResourceCleanUp( self.client.delete_network_interface, NetworkInterfaceId=ni_id) data = self.client.create_route_table(VpcId=self.vpc_id) rt_id = data['RouteTable']['RouteTableId'] res_clean_rt = self.addResourceCleanUp(self.client.delete_route_table, RouteTableId=rt_id) kwargs = { 'DestinationCidrBlock': self.VPC_CIDR, 'RouteTableId': rt_id, 'NetworkInterfaceId': ni_id } self.assertRaises('InvalidParameterValue', self.client.create_route, **kwargs) # can create wider route kwargs = { 'DestinationCidrBlock': '10.14.0.0/19', 'RouteTableId': rt_id, 'NetworkInterfaceId': ni_id } data = self.client.create_route(*[], **kwargs) # can create to another vpc kwargs = { 'DestinationCidrBlock': '10.15.0.0/20', 'RouteTableId': rt_id, 'NetworkInterfaceId': ni_id } data = self.client.create_route(*[], **kwargs) data = self.client.describe_route_tables(RouteTableIds=[rt_id]) self.assertEqual(1, len(data['RouteTables'])) self.assertEqual(3, len(data['RouteTables'][0]['Routes'])) kwargs = { 'DestinationCidrBlock': '10.15.0.0/24', 'RouteTableId': rt_id, } self.assertRaises('InvalidRoute.NotFound', self.client.delete_route, **kwargs) kwargs = { 'DestinationCidrBlock': self.VPC_CIDR, 'RouteTableId': rt_id, } self.assertRaises('InvalidParameterValue', self.client.delete_route, **kwargs) kwargs = { 'DestinationCidrBlock': self.SUBNET_CIDR, 'RouteTableId': rt_id, } self.assertRaises('InvalidRoute.NotFound', self.client.delete_route, **kwargs) kwargs = { 'DestinationCidrBlock': '10.16.0.0/24', 'RouteTableId': rt_id, } self.assertRaises('InvalidRoute.NotFound', self.client.delete_route, **kwargs) kwargs = { 'DestinationCidrBlock': '10.15.0.0/20', 'RouteTableId': rt_id, } data = self.client.delete_route(*[], **kwargs) kwargs = { 'DestinationCidrBlock': '10.14.0.0/19', 'RouteTableId': rt_id, } data = self.client.delete_route(*[], **kwargs) data = self.client.delete_route_table(RouteTableId=rt_id) self.cancelResourceCleanUp(res_clean_rt) data = self.client.delete_network_interface( NetworkInterfaceId=ni_id) self.cancelResourceCleanUp(res_clean_ni) self.get_network_interface_waiter().wait_delete(ni_id) data = self.client.delete_subnet(SubnetId=subnet_id) self.cancelResourceCleanUp(res_clean_subnet) self.get_subnet_waiter().wait_delete(subnet_id) ",0,10915
openstack%2Fheat-tempest-plugin~master~Ia9f08f9148934e80af6ba827e71e110a89a89859,openstack/heat-tempest-plugin,master,Ia9f08f9148934e80af6ba827e71e110a89a89859,Add decorator to skip tests for a required resource type,MERGED,2018-03-08 06:24:22.000000000,2018-03-22 07:40:22.000000000,2018-03-22 07:40:22.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 06:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/130c8a556d91f989a2f710d7b3fef048dd8b4f2d', 'message': 'Add decorator to skip tests for a required resource type\n\nSkip tests if a resource type is unavailable. This would\nhelp us add tests for new resource plugins that would be\nskipped for earlier releases.\n\nChange-Id: Ia9f08f9148934e80af6ba827e71e110a89a89859\n'}, {'number': 2, 'created': '2018-03-09 04:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/51e4df4ec1c2ec48b9bdbcb418801d7d0eef019f', 'message': 'Add decorator to skip tests for a required resource type\n\nSkip tests if a resource type is unavailable. This would\nhelp us add tests for new resource plugins that would be\nskipped for earlier releases.\n\nChange-Id: Ia9f08f9148934e80af6ba827e71e110a89a89859\n'}, {'number': 3, 'created': '2018-03-09 06:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/10839bd0d339c871c32a44c579c8cf414db3c586', 'message': 'Add decorator to skip tests for a required resource type\n\nSkip tests if a resource type is unavailable. This would\nhelp us add tests for new resource plugins that would be\nskipped for earlier releases.\n\nChange-Id: Ia9f08f9148934e80af6ba827e71e110a89a89859\n'}, {'number': 4, 'created': '2018-03-12 02:05:10.000000000', 'files': ['heat_tempest_plugin/tests/functional/test_create_update_neutron_trunk.py', 'heat_tempest_plugin/common/test.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/82b7128f872fa470e5589cc25816d3fb70f21b5f', 'message': 'Add decorator to skip tests for a required resource type\n\nSkip tests if a resource type is unavailable. This would\nhelp us add tests for new resource plugins that would be\nskipped for earlier releases.\n\nChange-Id: Ia9f08f9148934e80af6ba827e71e110a89a89859\n'}]",9,550708,82b7128f872fa470e5589cc25816d3fb70f21b5f,26,4,4,8833,,,0,"Add decorator to skip tests for a required resource type

Skip tests if a resource type is unavailable. This would
help us add tests for new resource plugins that would be
skipped for earlier releases.

Change-Id: Ia9f08f9148934e80af6ba827e71e110a89a89859
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/08/550708/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/tests/functional/test_create_update_neutron_trunk.py', 'heat_tempest_plugin/common/test.py']",2,130c8a556d91f989a2f710d7b3fef048dd8b4f2d,branchless_plugin,"def requires_resource_type(resource_type): '''Decorator for tests requiring a resource type. The decorated test will be skipped when the resource type is not available. ''' def decorator(test_method): conf = getattr(config.CONF, 'heat_plugin', None) if not conf: return test_method manager = clients.ClientManager(conf) resource_types = manager.orchestration_client.resource_types.list() rtype_available = (resource_type and resource_type in list( t.resource_type for t in resource_types)) skipper = testtools.skipUnless( rtype_available, ""%s resource type not available, skipping test."" % resource_type) return skipper(test_method) return decorator ",,27,0
openstack%2Ftripleo-quickstart~master~I26ff52aa4d4a4dc96fae75d10e8bcda13d92c37b,openstack/tripleo-quickstart,master,I26ff52aa4d4a4dc96fae75d10e8bcda13d92c37b,Remove yum update from repo_cmd_after.,ABANDONED,2018-03-21 15:37:43.000000000,2018-03-22 07:34:03.000000000,,"[{'_account_id': 8297}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-21 15:37:43.000000000', 'files': ['roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/21e90f4d351b3572d59d576d9f0fae2746aa938d', 'message': ""Remove yum update from repo_cmd_after.\n\nA new variable 'remove_yum_update' has\nbeen added to replace any appearence\nof the command 'sudo yum update -y' by\nan empty string. This way, we can avoid\nrunning a yum update when invoking the\nrepo-setup role. This is useful for\nupgrades jobs, in which the yum update\nis performed in the workflow itself, not\nwhen setting the new repository.\n\nChange-Id: I26ff52aa4d4a4dc96fae75d10e8bcda13d92c37b\n""}]",0,554951,21e90f4d351b3572d59d576d9f0fae2746aa938d,6,6,1,26343,,,0,"Remove yum update from repo_cmd_after.

A new variable 'remove_yum_update' has
been added to replace any appearence
of the command 'sudo yum update -y' by
an empty string. This way, we can avoid
running a yum update when invoking the
repo-setup role. This is useful for
upgrades jobs, in which the yum update
is performed in the workflow itself, not
when setting the new repository.

Change-Id: I26ff52aa4d4a4dc96fae75d10e8bcda13d92c37b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/51/554951/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/defaults/main.yml']",2,21e90f4d351b3572d59d576d9f0fae2746aa938d,553850,"# In upgrades job mostly, it's not desired # to run yum update in repo_cmd_after. # This variable removes any appearence of # ""sudo yum update -y"" when set to true. remove_yum_update: true",,10,0
openstack%2Fnova~master~I7daabc172518ac94f9c4c960534975a0d99fe541,openstack/nova,master,I7daabc172518ac94f9c4c960534975a0d99fe541,Add unit tests for EmulatorThreadsTestCase,MERGED,2018-01-29 00:04:18.000000000,2018-03-22 07:26:58.000000000,2018-03-22 07:26:58.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27245}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-01-29 00:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7a07f9b247dd742561d37bdc8cec45d228e24d8', 'message': 'Add unit tests for EmulatorThreadsTestCase\n\nIn EmulatorThreadsTestCase, isolate CPUEmulatorThreadsPolicy cases are\nonly tested with default(prefer) CPUThreadAllocationPolicy.\n\nThis patch adds the cases with isolate CPUThreadAllocationPolicy.\n\nChange-Id: I7daabc172518ac94f9c4c960534975a0d99fe541\n'}, {'number': 2, 'created': '2018-01-30 10:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d1dddc895706c8ac1e80bf8f6e26c23eea41f5', 'message': 'Add unit tests for EmulatorThreadsTestCase\n\nIn EmulatorThreadsTestCase, isolate CPUEmulatorThreadsPolicy cases are\nonly tested with default(prefer) CPUThreadAllocationPolicy.\n\nThis patch adds the cases with isolate CPUThreadAllocationPolicy.\n\nChange-Id: I7daabc172518ac94f9c4c960534975a0d99fe541\n'}, {'number': 3, 'created': '2018-01-31 02:58:30.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7b333379389d4fb2459913c29a52eb49c84e797', 'message': 'Add unit tests for EmulatorThreadsTestCase\n\nIn EmulatorThreadsTestCase, isolate CPUEmulatorThreadsPolicy cases are\nonly tested with default(prefer) CPUThreadAllocationPolicy.\n\nThis patch adds the cases with isolate CPUThreadAllocationPolicy.\n\nChange-Id: I7daabc172518ac94f9c4c960534975a0d99fe541\nRelated-Bug: #1746393\n'}]",0,538699,e7b333379389d4fb2459913c29a52eb49c84e797,50,12,3,25625,,,0,"Add unit tests for EmulatorThreadsTestCase

In EmulatorThreadsTestCase, isolate CPUEmulatorThreadsPolicy cases are
only tested with default(prefer) CPUThreadAllocationPolicy.

This patch adds the cases with isolate CPUThreadAllocationPolicy.

Change-Id: I7daabc172518ac94f9c4c960534975a0d99fe541
Related-Bug: #1746393
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/538699/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/test_hardware.py'],1,a7a07f9b247dd742561d37bdc8cec45d228e24d8,bug/1746393," def test_isolate_w_isolate_thread_alloc(self): host_topo = objects.NUMATopology( cells=[objects.NUMACell(id=0, cpuset=set([0, 1, 2, 3, 4, 5]), memory=2048, cpu_usage=0, memory_usage=0, siblings=[set([0, 1]), set([2, 3]), set([4, 5])], mempages=[], pinned_cpus=set([]))]) inst_topo = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.ISOLATE), cells=[objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=2048, cpu_policy=fields.CPUAllocationPolicy.DEDICATED, cpu_thread_policy=fields.CPUThreadAllocationPolicy.ISOLATE )]) inst_topo = hw.numa_fit_instance_to_host(host_topo, inst_topo) self.assertEqual({0: 0, 1: 2}, inst_topo.cells[0].cpu_pinning) self.assertEqual(set([4]), inst_topo.cells[0].cpuset_reserved) def test_isolate_w_isolate_thread_alloc_usage(self): host_topo = objects.NUMATopology( cells=[objects.NUMACell(id=0, cpuset=set([0, 1, 2, 3, 4, 5]), memory=2048, cpu_usage=0, memory_usage=0, siblings=[set([0, 1]), set([2, 3]), set([4, 5])], mempages=[], pinned_cpus=set([0]))]) inst_topo = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.ISOLATE), cells=[objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=2048, cpu_policy=fields.CPUAllocationPolicy.DEDICATED, cpu_thread_policy=fields.CPUThreadAllocationPolicy.ISOLATE )]) inst_topo = hw.numa_fit_instance_to_host(host_topo, inst_topo) # NOTE(tetsuro): Ideally, we'd like to allow getting a reserved cpu # ignoring sibling-ness in contrast to pinning cpus for vcpu. # Uncomment this when it is supported. # self.assertEqual({0: 2, 1: 4}, inst_topo.cells[0].cpu_pinning) # self.assertEqual(set([1]), inst_topo.cells[0].cpuset_reserved) self.assertIsNone(inst_topo) def test_asymmetric_host_w_isolate_thread_alloc(self): host_topo = objects.NUMATopology( cells=[objects.NUMACell(id=0, cpuset=set([1, 2, 3, 4, 5]), memory=2048, cpu_usage=0, memory_usage=0, siblings=[set([1]), set([2, 3]), set([4, 5])], mempages=[], pinned_cpus=set())]) inst_topo = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.ISOLATE), cells=[objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=2048, cpu_policy=fields.CPUAllocationPolicy.DEDICATED, cpu_thread_policy=fields.CPUThreadAllocationPolicy.ISOLATE )]) inst_topo = hw.numa_fit_instance_to_host(host_topo, inst_topo) # NOTE(tetsuro): Ideally, we'd like to allow getting a reserved cpu # ignoring sibling-ness in contrast to pinning cpus for vcpu. # Uncomment this when it is supported. # self.assertEqual({0: 2, 1: 4}, inst_topo.cells[0].cpu_pinning) # self.assertEqual(set([1]), inst_topo.cells[0].cpuset_reserved) self.assertIsNone(inst_topo)",,76,0
openstack%2Fpuppet-tempest~master~Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5,openstack/puppet-tempest,master,Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5,Add disable_ssl_certificate_validation to dashboard plugin,MERGED,2018-03-20 19:01:36.000000000,2018-03-22 07:18:20.000000000,2018-03-22 00:32:44.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 19:01:36.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/2e998fddf4d8eddce379d72ea625c79bc8bb6cfe', 'message': 'Add disable_ssl_certificate_validation to dashboard plugin\n\ndisable_ssl_certificate_validation in dashboard allows to disable\nSSL certificate validation in horizon tempest plugin in cases where\nvalidation is possible as IPv6 deployments when accessing using ip\ninstead of a dns name.\n\nChange-Id: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5\n'}]",0,554664,2e998fddf4d8eddce379d72ea625c79bc8bb6cfe,24,5,1,16312,,,0,"Add disable_ssl_certificate_validation to dashboard plugin

disable_ssl_certificate_validation in dashboard allows to disable
SSL certificate validation in horizon tempest plugin in cases where
validation is possible as IPv6 deployments when accessing using ip
instead of a dns name.

Change-Id: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/64/554664/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,2e998fddf4d8eddce379d72ea625c79bc8bb6cfe,,"# [*disable_dashboard_ssl_validation*] # Defaults to undef $package_ensure = 'present', $tempest_workspace = '/var/lib/tempest', $install_from_source = true, $git_clone = true, $tempest_config_file = '/var/lib/tempest/etc/tempest.conf', $tempest_repo_uri = 'git://github.com/openstack/tempest.git', $tempest_repo_revision = undef, $tempest_clone_path = '/var/lib/tempest', $tempest_clone_owner = 'root', $setup_venv = false, $configure_images = true, $image_name = undef, $image_name_alt = undef, $glance_v1 = true, $glance_v2 = true, $configure_networks = true, $public_network_name = undef, $neutron_api_extensions = undef, $login_url = undef, $dashboard_url = undef, $disable_dashboard_ssl_validation = undef, $identity_uri = undef, $identity_uri_v3 = undef, $cli_dir = undef, $lock_path = '/var/lib/tempest', $log_file = $::os_service_default, $debug = false, $use_stderr = true, $use_syslog = false, $logging_context_format_string = $::os_service_default, $attach_encrypted_volume = false, $username = undef, $password = undef, $project_name = undef, $alt_username = undef, $alt_password = undef, $alt_project_name = undef, $admin_username = undef, $admin_password = undef, $admin_project_name = undef, $admin_role = undef, $admin_domain_name = undef, $tempest_roles = $::os_service_default, $image_ref = undef, $image_ref_alt = undef, $image_ssh_user = undef, $image_alt_ssh_user = undef, $flavor_ref = undef, $flavor_ref_alt = undef, $compute_build_interval = undef, $run_ssh = false, $whitebox_db_uri = undef, $resize_available = false, $change_password_available = undef, $use_dynamic_credentials = undef, $l2gw_switch = undef, $public_network_id = undef, $public_router_id = '', $sahara_plugins = undef, $db_flavor_ref = $::os_service_default, $cinder_available = true, $cinder_backup_available = false, $glance_available = true, $heat_available = false, $ceilometer_available = false, $aodh_available = false, $gnocchi_available = false, $panko_available = false, $designate_available = false, $horizon_available = true, $neutron_available = false, $neutron_bgpvpn_available = false, $neutron_fwaas_available = true, $neutron_lbaas_available = true, $neutron_l2gw_available = false, $neutron_vpnaas_available = false, $nova_available = true, $murano_available = false, $sahara_available = false, $swift_available = false, $trove_available = false, $ironic_available = false, $watcher_available = false, $zaqar_available = false, $ec2api_available = false, $mistral_available = false, $vitrage_available = false, $congress_available = false, $octavia_available = false, $barbican_available = false, $keystone_v2 = false, $keystone_v3 = true, $auth_version = 'v3', $run_service_broker_tests = false, $ca_certificates_file = undef, $disable_ssl_validation = undef, $manage_tests_packages = false, $img_dir = '/var/lib/tempest', $img_file = 'cirros-0.4.0-x86_64-disk.img', $designate_nameservers = undef, $tenant_name = undef, $alt_tenant_name = undef, $admin_tenant_name = undef, $allow_tenant_isolation = undef, $ensure_package = 'present', 'dashboard/disable_ssl_certificate_validation': value => $disable_dashboard_ssl_validation;"," $package_ensure = 'present', $tempest_workspace = '/var/lib/tempest', $install_from_source = true, $git_clone = true, $tempest_config_file = '/var/lib/tempest/etc/tempest.conf', $tempest_repo_uri = 'git://github.com/openstack/tempest.git', $tempest_repo_revision = undef, $tempest_clone_path = '/var/lib/tempest', $tempest_clone_owner = 'root', $setup_venv = false, $configure_images = true, $image_name = undef, $image_name_alt = undef, $glance_v1 = true, $glance_v2 = true, $configure_networks = true, $public_network_name = undef, $neutron_api_extensions = undef, $login_url = undef, $dashboard_url = undef, $identity_uri = undef, $identity_uri_v3 = undef, $cli_dir = undef, $lock_path = '/var/lib/tempest', $log_file = $::os_service_default, $debug = false, $use_stderr = true, $use_syslog = false, $logging_context_format_string = $::os_service_default, $attach_encrypted_volume = false, $username = undef, $password = undef, $project_name = undef, $alt_username = undef, $alt_password = undef, $alt_project_name = undef, $admin_username = undef, $admin_password = undef, $admin_project_name = undef, $admin_role = undef, $admin_domain_name = undef, $tempest_roles = $::os_service_default, $image_ref = undef, $image_ref_alt = undef, $image_ssh_user = undef, $image_alt_ssh_user = undef, $flavor_ref = undef, $flavor_ref_alt = undef, $compute_build_interval = undef, $run_ssh = false, $whitebox_db_uri = undef, $resize_available = false, $change_password_available = undef, $use_dynamic_credentials = undef, $l2gw_switch = undef, $public_network_id = undef, $public_router_id = '', $sahara_plugins = undef, $db_flavor_ref = $::os_service_default, $cinder_available = true, $cinder_backup_available = false, $glance_available = true, $heat_available = false, $ceilometer_available = false, $aodh_available = false, $gnocchi_available = false, $panko_available = false, $designate_available = false, $horizon_available = true, $neutron_available = false, $neutron_bgpvpn_available = false, $neutron_fwaas_available = true, $neutron_lbaas_available = true, $neutron_l2gw_available = false, $neutron_vpnaas_available = false, $nova_available = true, $murano_available = false, $sahara_available = false, $swift_available = false, $trove_available = false, $ironic_available = false, $watcher_available = false, $zaqar_available = false, $ec2api_available = false, $mistral_available = false, $vitrage_available = false, $congress_available = false, $octavia_available = false, $barbican_available = false, $keystone_v2 = false, $keystone_v3 = true, $auth_version = 'v3', $run_service_broker_tests = false, $ca_certificates_file = undef, $disable_ssl_validation = undef, $manage_tests_packages = false, $img_dir = '/var/lib/tempest', $img_file = 'cirros-0.4.0-x86_64-disk.img', $designate_nameservers = undef, $tenant_name = undef, $alt_tenant_name = undef, $admin_tenant_name = undef, $allow_tenant_isolation = undef, $ensure_package = 'present',",108,104
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ia1b73711eea573bf9c73c71e9e7c81bd79d0debe,openstack/tripleo-heat-templates,stable/pike,Ia1b73711eea573bf9c73c71e9e7c81bd79d0debe,DNM: Test undercloud upgrades P->Q.,ABANDONED,2018-03-21 17:29:18.000000000,2018-03-22 07:17:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 17:29:18.000000000', 'files': ['roles_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/485d80497c03a087f8f3d4c362ddfb09a40b6735', 'message': 'DNM: Test undercloud upgrades P->Q.\n\nChange-Id: Ia1b73711eea573bf9c73c71e9e7c81bd79d0debe\nDepends-On: Iaed38c620f39b66b0b560ae561580dce21ea199b\n'}]",0,554996,485d80497c03a087f8f3d4c362ddfb09a40b6735,4,2,1,26343,,,0,"DNM: Test undercloud upgrades P->Q.

Change-Id: Ia1b73711eea573bf9c73c71e9e7c81bd79d0debe
Depends-On: Iaed38c620f39b66b0b560ae561580dce21ea199b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/554996/1 && git format-patch -1 --stdout FETCH_HEAD,['roles_data.yaml'],1,485d80497c03a087f8f3d4c362ddfb09a40b6735,,################################################################################,###############################################################################,1,1
openstack%2Fpython-aodhclient~master~Ic454831a80f799c2be5ba3089001f31f68c39f85,openstack/python-aodhclient,master,Ic454831a80f799c2be5ba3089001f31f68c39f85,Fix doc builds,MERGED,2018-01-15 13:44:31.000000000,2018-03-22 07:09:38.000000000,2018-01-15 22:51:46.000000000,"[{'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-15 13:44:31.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/7bae6bdbab4f2fd938bab81c32a72819ae58b5ea', 'message': 'Fix doc builds\n\nThe updated releasenote and requirements jobs expect requirements for\ndocs in one of the requirements files. Move requirements from setup.cfg\nto doc/requirements.txt file.\n\nSee also\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Ic454831a80f799c2be5ba3089001f31f68c39f85\n'}]",0,533643,7bae6bdbab4f2fd938bab81c32a72819ae58b5ea,8,3,1,6537,,,0,"Fix doc builds

The updated releasenote and requirements jobs expect requirements for
docs in one of the requirements files. Move requirements from setup.cfg
to doc/requirements.txt file.

See also
https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation

Change-Id: Ic454831a80f799c2be5ba3089001f31f68c39f85
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/43/533643/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg', 'tox.ini']",3,7bae6bdbab4f2fd938bab81c32a72819ae58b5ea,fix-docs,deps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt,deps = .[doc]deps = .[doc],4,5
openstack%2Fsearchlight~master~I5e1fc0f63a0e3dea5185180f9469dd0c131b78fc,openstack/searchlight,master,I5e1fc0f63a0e3dea5185180f9469dd0c131b78fc,Remove policy.json from devstack,MERGED,2018-02-27 03:41:22.000000000,2018-03-22 07:06:34.000000000,2018-03-22 07:06:34.000000000,"[{'_account_id': 4428}, {'_account_id': 7665}, {'_account_id': 9414}, {'_account_id': 16150}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-27 03:41:22.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/0f28ed6af04b9d525b214267d44119ffbe9c0dda', 'message': 'Remove policy.json from devstack\n\nSince policy is now default in code, no need to copy using devstack.\n\nChange-Id: I5e1fc0f63a0e3dea5185180f9469dd0c131b78fc\nCloses-bug: #1751976\n'}]",0,548137,0f28ed6af04b9d525b214267d44119ffbe9c0dda,13,5,1,4428,,,0,"Remove policy.json from devstack

Since policy is now default in code, no need to copy using devstack.

Change-Id: I5e1fc0f63a0e3dea5185180f9469dd0c131b78fc
Closes-bug: #1751976
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/37/548137/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0f28ed6af04b9d525b214267d44119ffbe9c0dda,bug/1751976,, # Install the policy file for the API server cp $SEARCHLIGHT_DIR/etc/policy.json $SEARCHLIGHT_CONF_DIR/policy.json iniset $SEARCHLIGHT_CONF oslo_policy policy_file $SEARCHLIGHT_CONF_DIR/policy.json ,0,4
openstack%2Fkolla-ansible~master~I065ceb2f4d455412efeb502e7073e2cb7bc96996,openstack/kolla-ansible,master,I065ceb2f4d455412efeb502e7073e2cb7bc96996,Upgrade the rst convention of the Contributor Guide,MERGED,2017-12-19 13:53:07.000000000,2018-03-22 06:58:35.000000000,2018-03-22 06:58:35.000000000,"[{'_account_id': 7488}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-12-19 13:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cac9dcd1a54e7a157f678a8a416947de47c86e4d', 'message': 'Upgrade the rst convention of the Contributor Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide/\n\nChange-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 2, 'created': '2018-01-25 07:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a020e90608f8b22b92839c8334bdf20256b2adc4', 'message': 'Upgrade the rst convention of the Contributor Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide/\n\nChange-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 3, 'created': '2018-01-31 01:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae7edc06c7c3c8064313b7b3fbb65d324a15173c', 'message': 'Upgrade the rst convention of the Contributor Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide/\n\nChange-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 4, 'created': '2018-01-31 11:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/370af66ac7138e84a4dacf80cb3253d53505ff2f', 'message': 'Upgrade the rst convention of the Contributor Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide/\n\nChange-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 5, 'created': '2018-02-01 14:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a96b97f9362c06876622609644c5c204811d3413', 'message': 'Upgrade the rst convention of the Contributor Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide/\n\nChange-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 6, 'created': '2018-02-08 11:44:26.000000000', 'files': ['doc/source/contributor/kolla-for-openstack-development.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/running-tests.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e471549e7714e483f8bdc1825c39bb624a710c5f', 'message': 'Upgrade the rst convention of the Contributor Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide/\n\nChange-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996\nPartially-Implements: blueprint optimize-the-documentation-format\n'}]",9,529069,e471549e7714e483f8bdc1825c39bb624a710c5f,25,5,6,19779,,,0,"Upgrade the rst convention of the Contributor Guide

We upgrade the rst convention by following Documentation Contributor
Guide[1].

[1] https://docs.openstack.org/doc-contrib-guide/

Change-Id: I065ceb2f4d455412efeb502e7073e2cb7bc96996
Partially-Implements: blueprint optimize-the-documentation-format
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/529069/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/kolla-for-openstack-development.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/running-tests.rst']",4,cac9dcd1a54e7a157f678a8a416947de47c86e4d,bp/optimize-the-documentation-format,"Any proposed code change in gerrit is automatically rejected by the `OpenStack Jenkins server <https://docs.openstack.org/infra/system-config/jjb.html>`__ if the change causes test failures. pip install tox .. end For more information, see `the unit testing section of the Testing wiki page <https://wiki.openstack.org/wiki/Testing#Unit_Tests>`_. For example: tox -e py27 .. end tox -e pep8 .. end tox -e py27,py34,pep8 .. end tox -e py27 kolla-ansible.tests .. end``kolla-ansible/tests/test_kolla_docker.py``: tox -e py27 test_kolla_docker .. end tox -e py27 test_kolla_docker.ModuleArgsTest .. end tox -e py27 test_kolla_docker.ModuleArgsTest.test_module_args .. end-------------------- import pdb; pdb.set_trace() .. end Then run ``tox`` with the debug environment as one of the following: .. code-block:: console tox -e debug tox -e debug test_file_name.TestClass.test_name .. end For more information, see the `oslotest documentation","Any proposed code change in gerrit is automatically rejected by the OpenStack Jenkins server [#f1]_ if the change causes test failures. $ pip install tox See `the unit testing section of the Testing wiki page`_ for more information. Following are some simple examples. $ tox -e py27 $ tox -e pep8 $ tox -e py27,py34,pep8 .. _the unit testing section of the Testing wiki page: https://wiki.openstack.org/wiki/Testing#Unit_Tests $ tox -e py27 kolla-ansible.testssay ``kolla-ansible/tests/test_kolla_docker.py``: $ tox -e py27 test_kolla_docker $ tox -e py27 test_kolla_docker.ModuleArgsTest $ tox -e py27 test_kolla_docker.ModuleArgsTest.test_module_args------------------------ import pdb; pdb.set_trace() Then run ``tox`` with the debug environment as one of the following:: tox -e debug tox -e debug test_file_name.TestClass.test_name For more information see the `oslotest documentation .. rubric:: Footnotes .. [#f1] See https://docs.openstack.org/infra/system-config/jjb.html",249,132
openstack%2Fkolla-ansible~master~I89e437b83b0e6a7c1bbfbf4a02a530be072eca91,openstack/kolla-ansible,master,I89e437b83b0e6a7c1bbfbf4a02a530be072eca91,Upgrade the rst convention of the Admin Guide,MERGED,2018-01-26 04:16:39.000000000,2018-03-22 06:58:33.000000000,2018-03-22 06:58:33.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2018-01-26 04:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e8a58db88087ac4b40324fba37402d97ca9996b', 'message': 'Upgrade the rst convention of the Admin Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: I89e437b83b0e6a7c1bbfbf4a02a530be072eca91\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 2, 'created': '2018-01-26 11:35:05.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/production-architecture-guide.rst', 'doc/source/admin/advanced-configuration.rst', 'doc/source/admin/deployment-philosophy.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73f2bce5525bb9bf683e09c5630b23a11016ab0d', 'message': 'Upgrade the rst convention of the Admin Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: I89e437b83b0e6a7c1bbfbf4a02a530be072eca91\nPartially-Implements: blueprint optimize-the-documentation-format\n'}]",1,538142,73f2bce5525bb9bf683e09c5630b23a11016ab0d,13,5,2,19779,,,0,"Upgrade the rst convention of the Admin Guide

We upgrade the rst convention by following Documentation Contributor
Guide[1].

[1] https://docs.openstack.org/doc-contrib-guide

Change-Id: I89e437b83b0e6a7c1bbfbf4a02a530be072eca91
Partially-Implements: blueprint optimize-the-documentation-format
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/538142/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/production-architecture-guide.rst', 'doc/source/admin/advanced-configuration.rst', 'doc/source/admin/deployment-philosophy.rst']",4,8e8a58db88087ac4b40324fba37402d97ca9996b,bp/optimize-the-documentation-format,"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~result, simply :command:`mkdir -p /etc/kolla/config` and modify the file `/etc/kolla/config/nova.conf` with the contents .. path /etc/kolla/config/nova.conf .. code-block:: ini [libvirt] virt_type=qemu .. end","========================================================================result, simply `mkdir -p /etc/kolla/config` and modify the file `/etc/kolla/config/nova.conf` with the contents:: [libvirt] virt_type=qemu",156,109
openstack%2Fpython-zunclient~master~I078955693d8075236cc60b661468e1936f503e92,openstack/python-zunclient,master,I078955693d8075236cc60b661468e1936f503e92,Minor changes in docs,MERGED,2018-03-19 11:25:00.000000000,2018-03-22 06:54:40.000000000,2018-03-22 06:54:40.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 23365}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-19 11:25:00.000000000', 'files': ['doc/source/index.rst', 'doc/source/install/index.rst', 'test-requirements.txt', 'doc/source/readme.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/c09fbba89b4510363c013851328106e701890d0e', 'message': 'Minor changes in docs\n\nChange-Id: I078955693d8075236cc60b661468e1936f503e92\n'}]",0,554199,c09fbba89b4510363c013851328106e701890d0e,12,5,1,27153,,,0,"Minor changes in docs

Change-Id: I078955693d8075236cc60b661468e1936f503e92
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/99/554199/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/install/index.rst', 'test-requirements.txt', 'doc/source/readme.rst', 'tox.ini']",5,c09fbba89b4510363c013851328106e701890d0e,, sphinx-build -W -b html doc/source doc/build/html, sphinx-build -b html doc/source doc/build/html,10,6
openstack%2Fnova~master~Id2f7d70308943a616d88c0f5f165dd1b5b408416,openstack/nova,master,Id2f7d70308943a616d88c0f5f165dd1b5b408416,Remove quota reserve/commit/rollback,ABANDONED,2017-11-20 09:54:10.000000000,2018-03-22 06:47:14.000000000,,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 23295}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-20 09:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5c1109d51b82dcade2d4b7e414d2bbb6558ab0f', 'message': 'WIP: Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 2, 'created': '2017-11-21 05:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adc42f9bdc431ee5abb85aa0b7e9845de1aa4573', 'message': 'WIP: Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 3, 'created': '2017-11-21 11:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3202d73f43efd1756f775e97996be1e72f8da515', 'message': 'WIP: Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 4, 'created': '2017-11-22 05:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbec447da2de540b0568baefc98a07c18cdc23e7', 'message': 'WIP: Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 5, 'created': '2017-11-22 08:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b592187d8b1ba6dbd0b3604dd11b8bf02b5b567c', 'message': 'WIP: Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 6, 'created': '2017-12-04 05:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad104d1695a358e2aa3105f7afb27e4406cd9f72', 'message': 'WIP: Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 7, 'created': '2018-02-05 08:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c695465d4477526064e5b469c96d3fda611b29', 'message': 'Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}, {'number': 8, 'created': '2018-03-21 06:59:06.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/network/test_manager.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ebafed2ee4e77ab22907aec2352bd1ebaedfe45f', 'message': 'Remove quota reserve/commit/rollback\n\nChange-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416\n'}]",9,521470,ebafed2ee4e77ab22907aec2352bd1ebaedfe45f,92,19,8,6062,,,0,"Remove quota reserve/commit/rollback

Change-Id: Id2f7d70308943a616d88c0f5f165dd1b5b408416
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/521470/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_quotas.py', 'nova/objects/quotas.py', 'nova/quota.py']",3,a5c1109d51b82dcade2d4b7e414d2bbb6558ab0f,remove_quota_2,," def reserve(self, context, resources, deltas, expire=None, project_id=None, user_id=None): """"""Check quotas and reserve resources. For counting quotas--those quotas for which there is a usage synchronization function--this method checks quotas against current usage and the desired deltas. This method will raise a QuotaResourceUnknown exception if a given resource is unknown or if it does not have a usage synchronization function. If any of the proposed values is over the defined quota, an OverQuota exception will be raised with the sorted list of the resources which are too high. Otherwise, the method returns a list of reservation UUIDs which were created. :param context: The request context, for access checks. :param resources: A dictionary of the registered resources. :param deltas: A dictionary of the proposed delta changes. :param expire: An optional parameter specifying an expiration time for the reservations. If it is a simple number, it is interpreted as a number of seconds and added to the current time; if it is a datetime.timedelta object, it will also be added to the current time. A datetime.datetime object will be interpreted as the absolute expiration time. If None is specified, the default expiration time set by --default-reservation-expire will be used (this value will be treated as a number of seconds). :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. :param user_id: Specify the user_id if current context is admin and admin wants to impact on common user. """""" _valid_method_call_check_resources(deltas, 'reserve', resources) # Set up the reservation expiration if expire is None: expire = CONF.quota.reservation_expire if isinstance(expire, six.integer_types): expire = datetime.timedelta(seconds=expire) if isinstance(expire, datetime.timedelta): expire = timeutils.utcnow() + expire if not isinstance(expire, datetime.datetime): raise exception.InvalidReservationExpiration(expire=expire) # If project_id is None, then we use the project_id in context if project_id is None: project_id = context.project_id LOG.debug('Reserving resources using context.project_id: %s', project_id) # If user_id is None, then we use the project_id in context if user_id is None: user_id = context.user_id LOG.debug('Reserving resources using context.user_id: %s', user_id) LOG.debug('Attempting to reserve resources for project %(project_id)s ' 'and user %(user_id)s. Deltas: %(deltas)s', {'project_id': project_id, 'user_id': user_id, 'deltas': deltas}) # Get the applicable quotas. # NOTE(Vek): We're not worried about races at this point. # Yes, the admin may be in the process of reducing # quotas, but that's a pretty rare thing. project_quotas = objects.Quotas.get_all_by_project(context, project_id) LOG.debug('Quota limits for project %(project_id)s: ' '%(project_quotas)s', {'project_id': project_id, 'project_quotas': project_quotas}) quotas = self._get_quotas(context, resources, deltas.keys(), project_id=project_id, project_quotas=project_quotas) LOG.debug('Quotas for project %(project_id)s after resource sync: ' '%(quotas)s', {'project_id': project_id, 'quotas': quotas}) user_quotas = self._get_quotas(context, resources, deltas.keys(), project_id=project_id, user_id=user_id, project_quotas=project_quotas) LOG.debug('Quotas for project %(project_id)s and user %(user_id)s ' 'after resource sync: %(quotas)s', {'project_id': project_id, 'user_id': user_id, 'quotas': user_quotas}) # NOTE(Vek): Most of the work here has to be done in the DB # API, because we have to do it in a transaction, # which means access to the session. Since the # session isn't available outside the DBAPI, we # have to do the work there. return db.quota_reserve(context, resources, quotas, user_quotas, deltas, expire, CONF.quota.until_refresh, CONF.quota.max_age, project_id=project_id, user_id=user_id) def commit(self, context, reservations, project_id=None, user_id=None): """"""Commit reservations. :param context: The request context, for access checks. :param reservations: A list of the reservation UUIDs, as returned by the reserve() method. :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. :param user_id: Specify the user_id if current context is admin and admin wants to impact on common user. """""" # If project_id is None, then we use the project_id in context if project_id is None: project_id = context.project_id # If user_id is None, then we use the user_id in context if user_id is None: user_id = context.user_id db.reservation_commit(context, reservations, project_id=project_id, user_id=user_id) def rollback(self, context, reservations, project_id=None, user_id=None): """"""Roll back reservations. :param context: The request context, for access checks. :param reservations: A list of the reservation UUIDs, as returned by the reserve() method. :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. :param user_id: Specify the user_id if current context is admin and admin wants to impact on common user. """""" # If project_id is None, then we use the project_id in context if project_id is None: project_id = context.project_id # If user_id is None, then we use the user_id in context if user_id is None: user_id = context.user_id db.reservation_rollback(context, reservations, project_id=project_id, user_id=user_id) def reserve(self, context, resources, deltas, expire=None, project_id=None, user_id=None): """"""Check quotas and reserve resources. For counting quotas--those quotas for which there is a usage synchronization function--this method checks quotas against current usage and the desired deltas. This method will raise a QuotaResourceUnknown exception if a given resource is unknown or if it does not have a usage synchronization function. If any of the proposed values is over the defined quota, an OverQuota exception will be raised with the sorted list of the resources which are too high. Otherwise, the method returns a list of reservation UUIDs which were created. :param context: The request context, for access checks. :param resources: A dictionary of the registered resources. :param deltas: A dictionary of the proposed delta changes. :param expire: An optional parameter specifying an expiration time for the reservations. If it is a simple number, it is interpreted as a number of seconds and added to the current time; if it is a datetime.timedelta object, it will also be added to the current time. A datetime.datetime object will be interpreted as the absolute expiration time. If None is specified, the default expiration time set by --default-reservation-expire will be used (this value will be treated as a number of seconds). :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. :param user_id: Specify the user_id if current context is admin and admin wants to impact on common user. """""" return [] def commit(self, context, reservations, project_id=None, user_id=None): """"""Commit reservations. :param context: The request context, for access checks. :param reservations: A list of the reservation UUIDs, as returned by the reserve() method. :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. :param user_id: Specify the user_id if current context is admin and admin wants to impact on common user. """""" pass def rollback(self, context, reservations, project_id=None, user_id=None): """"""Roll back reservations. :param context: The request context, for access checks. :param reservations: A list of the reservation UUIDs, as returned by the reserve() method. :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. :param user_id: Specify the user_id if current context is admin and admin wants to impact on common user. """""" pass class ReservableResource(BaseResource): """"""Describe a reservable resource."""""" valid_method = 'reserve' def __init__(self, name, sync, flag=None): """"""Initializes a ReservableResource. Reservable resources are those resources which directly correspond to objects in the database, i.e., instances, cores, etc. Usage synchronization function must be associated with each object. This function will be called to determine the current counts of one or more resources. This association is done in database backend. The usage synchronization function will be passed three arguments: an admin context, the project ID, and an opaque session object, which should in turn be passed to the underlying database function. Synchronization functions should return a dictionary mapping resource names to the current in_use count for those resources; more than one resource and resource count may be returned. Note that synchronization functions may be associated with more than one ReservableResource. :param name: The name of the resource, i.e., ""volumes"". :param sync: A dbapi methods name which returns a dictionary to resynchronize the in_use count for one or more resources, as described above. :param flag: The name of the flag or configuration option which specifies the default value of the quota for this resource. """""" super(ReservableResource, self).__init__(name, flag=flag) self.sync = sync def reserve(self, context, expire=None, project_id=None, user_id=None, **deltas): """"""Check quotas and reserve resources. For counting quotas--those quotas for which there is a usage synchronization function--this method checks quotas against current usage and the desired deltas. The deltas are given as keyword arguments, and current usage and other reservations are factored into the quota check. This method will raise a QuotaResourceUnknown exception if a given resource is unknown or if it does not have a usage synchronization function. If any of the proposed values is over the defined quota, an OverQuota exception will be raised with the sorted list of the resources which are too high. Otherwise, the method returns a list of reservation UUIDs which were created. :param context: The request context, for access checks. :param expire: An optional parameter specifying an expiration time for the reservations. If it is a simple number, it is interpreted as a number of seconds and added to the current time; if it is a datetime.timedelta object, it will also be added to the current time. A datetime.datetime object will be interpreted as the absolute expiration time. If None is specified, the default expiration time set by --default-reservation-expire will be used (this value will be treated as a number of seconds). :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. """""" reservations = self._driver.reserve(context, self._resources, deltas, expire=expire, project_id=project_id, user_id=user_id) LOG.debug(""Created reservations %s"", reservations) return reservations def commit(self, context, reservations, project_id=None, user_id=None): """"""Commit reservations. :param context: The request context, for access checks. :param reservations: A list of the reservation UUIDs, as returned by the reserve() method. :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. """""" try: self._driver.commit(context, reservations, project_id=project_id, user_id=user_id) except Exception: # NOTE(Vek): Ignoring exceptions here is safe, because the # usage resynchronization and the reservation expiration # mechanisms will resolve the issue. The exception is # logged, however, because this is less than optimal. LOG.exception(_LE(""Failed to commit reservations %s""), reservations) return LOG.debug(""Committed reservations %s"", reservations) def rollback(self, context, reservations, project_id=None, user_id=None): """"""Roll back reservations. :param context: The request context, for access checks. :param reservations: A list of the reservation UUIDs, as returned by the reserve() method. :param project_id: Specify the project_id if current context is admin and admin wants to impact on common user's tenant. """""" try: self._driver.rollback(context, reservations, project_id=project_id, user_id=user_id) except Exception: # NOTE(Vek): Ignoring exceptions here is safe, because the # usage resynchronization and the reservation expiration # mechanisms will resolve the issue. The exception is # logged, however, because this is less than optimal. LOG.exception(_LE(""Failed to roll back reservations %s""), reservations) return LOG.debug(""Rolled back reservations %s"", reservations) ",0,445
openstack%2Fneutron-dynamic-routing~master~I668397be4a531ba5c0628eb23df9a84d0de8c28c,openstack/neutron-dynamic-routing,master,I668397be4a531ba5c0628eb23df9a84d0de8c28c,Fix failure when adding a speaker to an agent,MERGED,2018-02-19 09:56:23.000000000,2018-03-22 06:39:11.000000000,2018-03-22 06:39:11.000000000,"[{'_account_id': 748}, {'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 09:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f68a48730b29f45a90b0bd6d01cfc5c6192a3db6', 'message': 'WIP: Fix failure when adding a speaker to an agent\n\nWhen the peer has no auth_type set, we need to add it.\n\nAlso add a test that shows the broken behaviour.\n\nChange-Id: I668397be4a531ba5c0628eb23df9a84d0de8c28c\nCloses-Bug: 1750121\n'}, {'number': 2, 'created': '2018-02-20 11:04:36.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/test_basic.py', 'neutron_dynamic_routing/services/bgp/agent/bgp_dragent.py', 'neutron_dynamic_routing/tests/tempest/bgp_client.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/fd497a491afec89d4a15cf061b5d5610fb7ad6d2', 'message': 'Fix failure when adding a speaker to an agent\n\nWhen get_bgp_speaker_with_advertised_routes() collects the data for BGP\npeers, it needs to include the auth_type field, otherwise adding the\nspeaker to an agent will fail.\n\nChange-Id: I668397be4a531ba5c0628eb23df9a84d0de8c28c\nCloses-Bug: 1750121\n'}]",0,545783,fd497a491afec89d4a15cf061b5d5610fb7ad6d2,10,3,2,13252,,,0,"Fix failure when adding a speaker to an agent

When get_bgp_speaker_with_advertised_routes() collects the data for BGP
peers, it needs to include the auth_type field, otherwise adding the
speaker to an agent will fail.

Change-Id: I668397be4a531ba5c0628eb23df9a84d0de8c28c
Closes-Bug: 1750121
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/83/545783/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/tests/tempest/scenario/basic/test_basic.py', 'neutron_dynamic_routing/services/bgp/agent/bgp_dragent.py', 'neutron_dynamic_routing/tests/tempest/bgp_client.py']",3,f68a48730b29f45a90b0bd6d01cfc5c6192a3db6,bug/1750121," def list_dragents_for_bgp_speaker(self, bgp_speaker_id): uri = 'v2.0/bgp-speakers/%s/bgp-dragents' % bgp_speaker_id resp, body = self.get(uri) self.expected_success(200, resp.status) body = jsonutils.loads(body) return rest_client.ResponseBody(resp, body) def remove_bgp_speaker_from_dragent(self, agent_id, bgp_speaker_id): uri = 'v2.0/agents/%s/bgp-drinstances/%s' % (agent_id, bgp_speaker_id) resp, body = self.delete(uri) self.expected_success(204, resp.status) return rest_client.ResponseBody(resp, body)",,48,0
openstack%2Fnova~stable%2Fqueens~I585b7b03753ed1d28a313ce443e6918687d76a8b,openstack/nova,stable/queens,I585b7b03753ed1d28a313ce443e6918687d76a8b,Handle not found error on taking snapshot,MERGED,2018-03-08 01:39:48.000000000,2018-03-22 06:30:46.000000000,2018-03-22 06:30:46.000000000,"[{'_account_id': 6062}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11536}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27732}]","[{'number': 1, 'created': '2018-03-08 01:39:48.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71375a941d14108b14583a963a22febe32c5a2f0', 'message': 'Handle not found error on taking snapshot\n\nIf there is a request to create a snapshot of an instance and\nanother request to delete the instance at the same time, the\nsnapshot task might fail with libvirt error and this error\nis not handled correctly by compute manager. As a result,\ntracestack was printed in the compute log.\n\nThis patch fixes it by handling libvirt exception during live\nsnapshot and raise instance not found exception if the libvirt\nexception is raised due to domain not found.\n\nChange-Id: I585b7b03753ed1d28a313ce443e6918687d76a8b\nCloses-Bug: #1722571\n(cherry picked from commit 9ef56fa86639f97f63d853dbb2213415dcd5691b)\n'}]",0,550660,71375a941d14108b14583a963a22febe32c5a2f0,24,12,1,6062,,,0,"Handle not found error on taking snapshot

If there is a request to create a snapshot of an instance and
another request to delete the instance at the same time, the
snapshot task might fail with libvirt error and this error
is not handled correctly by compute manager. As a result,
tracestack was printed in the compute log.

This patch fixes it by handling libvirt exception during live
snapshot and raise instance not found exception if the libvirt
exception is raised due to domain not found.

Change-Id: I585b7b03753ed1d28a313ce443e6918687d76a8b
Closes-Bug: #1722571
(cherry picked from commit 9ef56fa86639f97f63d853dbb2213415dcd5691b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/550660/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,71375a941d14108b14583a963a22febe32c5a2f0,bug/1722571-stable/queens," @mock.patch.object(host.Host, 'get_guest') @mock.patch.object(host.Host, 'write_instance_config') def test_failing_domain_not_found(self, mock_write_config, mock_get_guest): self.flags(disable_libvirt_livesnapshot=False, group='workarounds') mock_dev = mock.Mock(spec=libvirt_guest.BlockDevice) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_guest.get_block_device.return_value = mock_dev mock_guest._domain = mock.Mock() mock_get_guest.return_value = mock_guest ex = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, ""No such domain"", error_code=fakelibvirt.VIR_ERR_NO_DOMAIN) mock_dev.rebase.side_effect = ex self.assertRaises(exception.InstanceNotFound, self._test_snapshot, disk_format='qcow2') ",,32,0
openstack%2Fswift~master~Ida92ba0a5e1e486a4f7132c6539460b38c34ec87,openstack/swift,master,Ida92ba0a5e1e486a4f7132c6539460b38c34ec87,Change object_audit_location_generator() to yield for a single policy.,MERGED,2018-02-28 13:17:33.000000000,2018-03-22 06:18:19.000000000,2018-03-22 06:18:19.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2018-02-28 13:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c4b2cb40b33d0d56c3d18505ca9693c67117f63a', 'message': 'WIP - Change object_audit_location_generator() to yield for a single policy.\n\nauditor.py currently relies on POLICY[0]\nobject_audit_location_generator() to yield an AuditLocation for all\npolicies on the object-server.\n\nThe changes in this patch are :\n  - object_audit_location_generator() yields AuditLocation only for the\n  requested policy\n  - audit_all_objects() calls object_audit_location_generator() for each\n    policy\n\nChange-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87\n'}, {'number': 2, 'created': '2018-03-14 13:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0722adcce64017cc01c9fce94f2ed400d118361', 'message': 'Change object_audit_location_generator() to yield for a single policy.\n\nauditor.py currently relies on POLICY[0] object_audit_location_generator()\nto yield an AuditLocation for all policies on the object-server.\n\nThe changes in this patch are :\n  - object_audit_location_generator() yields AuditLocation only for the\n  requested policy\n  - audit_all_objects() calls object_audit_location_generator() for each\n    policy\n\nChange-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87\n'}, {'number': 3, 'created': '2018-03-14 16:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e9a3fde4bb4b5f9c4ed9010ce5c4ab2a6df93656', 'message': 'Change object_audit_location_generator() to yield for a single policy.\n\nauditor.py currently relies on POLICY[0] object_audit_location_generator()\nto yield an AuditLocation for all policies on the object-server.\n\nThe changes in this patch are :\n  - object_audit_location_generator() yields AuditLocation only for the\n  requested policy\n  - audit_all_objects() calls object_audit_location_generator() for each\n    policy\n\nChange-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87\n'}, {'number': 4, 'created': '2018-03-15 15:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f5362d8248bd2917580774cfc09f92cb6eb81ce', 'message': 'Change object_audit_location_generator() to yield for a single policy.\n\nauditor.py currently relies on POLICY[0] object_audit_location_generator()\nto yield an AuditLocation for all policies on the object-server.\n\nThe changes in this patch are :\n  - object_audit_location_generator() yields AuditLocation only for the\n  requested policy\n  - audit_all_objects() calls object_audit_location_generator() for each\n    policy\n\nChange-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87\n'}, {'number': 5, 'created': '2018-03-20 15:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77a1954be879681d8adf4cae5e2cf30704da34f0', 'message': 'Change object_audit_location_generator() to yield for a single policy.\n\nauditor.py currently relies on POLICY[0] object_audit_location_generator()\nto yield an AuditLocation for all policies on the object-server.\n\nThe changes in this patch are :\n  - object_audit_location_generator() yields AuditLocation only for the\n  requested policy\n  - audit_all_objects() calls object_audit_location_generator() for each\n    policy\n\nChange-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87\n'}, {'number': 6, 'created': '2018-03-22 03:02:55.000000000', 'files': ['test/unit/obj/test_auditor.py', 'swift/obj/auditor.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8d7e245eb599b54d2bcc3c7a652b85987fdb36e1', 'message': 'Change object_audit_location_generator() to yield for a single policy.\n\nauditor.py currently relies on POLICY[0] object_audit_location_generator()\nto yield an AuditLocation for all policies on the object-server.\n\nThe changes in this patch are :\n  - object_audit_location_generator() yields AuditLocation only for the\n  requested policy\n  - audit_all_objects() calls object_audit_location_generator() for each\n    policy\n\nCloses-Bug: 1534212\nChange-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87\n'}]",18,548589,8d7e245eb599b54d2bcc3c7a652b85987fdb36e1,24,5,6,25251,,,0,"Change object_audit_location_generator() to yield for a single policy.

auditor.py currently relies on POLICY[0] object_audit_location_generator()
to yield an AuditLocation for all policies on the object-server.

The changes in this patch are :
  - object_audit_location_generator() yields AuditLocation only for the
  requested policy
  - audit_all_objects() calls object_audit_location_generator() for each
    policy

Closes-Bug: 1534212
Change-Id: Ida92ba0a5e1e486a4f7132c6539460b38c34ec87
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/548589/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/auditor.py', 'swift/obj/diskfile.py']",2,c4b2cb40b33d0d56c3d18505ca9693c67117f63a,feature/auditor_policy_yield,"def object_audit_location_generator(devices, policy, mount_check=True, logger=None, device_dirs=None, auditor_type=""ALL""): dir_ = get_data_dir(policy) datadir_path = os.path.join(devices, device, dir_) if not os.path.exists(datadir_path): partitions = get_auditor_status(datadir_path, logger, auditor_type) for pos, partition in enumerate(partitions): update_auditor_status(datadir_path, logger, partitions[pos:], auditor_type) part_path = os.path.join(datadir_path, partition) try: suffixes = listdir(part_path) except OSError as e: if e.errno != errno.ENOTDIR: raise for asuffix in suffixes: suff_path = os.path.join(part_path, asuffix) try: hashes = listdir(suff_path) for hsh in hashes: hsh_path = os.path.join(suff_path, hsh) yield AuditLocation(hsh_path, device, partition, policy) update_auditor_status(datadir_path, logger, [], auditor_type)def clear_auditor_status(devices, policy, auditor_type=""ALL""): device_dirs = listdir(devices) for device in device_dirs: dir_ = get_data_dir(policy) def clear_auditor_status(self, policy, auditor_type=""ALL""): clear_auditor_status(self.devices, policy, auditor_type) def object_audit_location_generator(self, policy, device_dirs=None, return object_audit_location_generator(self.devices, policy, self.mount_check,","def object_audit_location_generator(devices, mount_check=True, logger=None, device_dirs=None, auditor_type=""ALL""): # loop through object dirs for all policies device_dir = os.path.join(devices, device) try: dirs = os.listdir(device_dir) except OSError as e: if logger: logger.debug( _('Skipping %(dir)s: %(err)s') % {'dir': device_dir, 'err': e.strerror}) for dir_ in dirs: if not dir_.startswith(DATADIR_BASE): continue try: base, policy = split_policy_string(dir_) except PolicyError as e: if logger: logger.warning(_('Directory %(directory)r does not map ' 'to a valid policy (%(error)s)') % { 'directory': dir_, 'error': e}) datadir_path = os.path.join(devices, device, dir_) partitions = get_auditor_status(datadir_path, logger, auditor_type) for pos, partition in enumerate(partitions): update_auditor_status(datadir_path, logger, partitions[pos:], auditor_type) part_path = os.path.join(datadir_path, partition) try: suffixes = listdir(part_path) for asuffix in suffixes: suff_path = os.path.join(part_path, asuffix) try: hashes = listdir(suff_path) except OSError as e: if e.errno != errno.ENOTDIR: raise continue for hsh in hashes: hsh_path = os.path.join(suff_path, hsh) yield AuditLocation(hsh_path, device, partition, policy) update_auditor_status(datadir_path, logger, [], auditor_type)def clear_auditor_status(devices, auditor_type=""ALL""): for device in os.listdir(devices): for dir_ in os.listdir(os.path.join(devices, device)): if not dir_.startswith(""objects""): continue def object_audit_location_generator(self, device_dirs=None, return object_audit_location_generator(self.devices, self.mount_check,",51,61
openstack%2Fpuppet-openstack-integration~master~Ib519d222e07e26d3683b24359e2f67728cdd8029,openstack/puppet-openstack-integration,master,Ib519d222e07e26d3683b24359e2f67728cdd8029,Fix ipv6 certificate to make it compliant with IDNA,MERGED,2018-03-15 15:39:56.000000000,2018-03-22 06:14:41.000000000,2018-03-22 05:48:49.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 15:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e011858fc18a1280e71cfbb8ae22560cd00e1f2c', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 2, 'created': '2018-03-15 15:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/567e0ee604c1e854feafd0b8de78aa0efa238865', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 3, 'created': '2018-03-15 15:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ed1a3a52b17ecd93fbe0f06cc69489a8fa6abb9', 'message': 'Fix ipv6 and ipv4 certificates to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 4, 'created': '2018-03-15 17:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/452f60d2554202647b807dad9d3c4833592beba5', 'message': 'Fix ipv6 and ipv4 certificates to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 5, 'created': '2018-03-19 16:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b07f39542d40a33e24052a2960cdd1abef54ead9', 'message': 'Fix ipv6 and ipv4 certificates to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 6, 'created': '2018-03-20 16:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ba3a098f962eb8857bde954d09b0655c81f57fc6', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nNote that horizont tempest plugin does not support ipaddress SANs based\ncertificate validation so I\'m disablint certificate validation for\ndashboard in this patch.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 7, 'created': '2018-03-20 17:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8a04c40a2d7d79e91be0f25354dbf6ce26a8672f', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nNote that horizont tempest plugin does not support ipaddress SANs based\ncertificate validation so I\'m disablint certificate validation for\ndashboard in this patch.\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 8, 'created': '2018-03-20 19:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ddbcbb9b58580cfaaf5d17b4dd119a0a44ea02e7', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nNote that horizont tempest plugin does not support ipaddress SANs based\ncertificate validation so I\'m disablint certificate validation for\ndashboard in this patch.\n\nDepends-On: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}, {'number': 9, 'created': '2018-03-20 21:38:24.000000000', 'files': ['files/ipv6.crt', 'contrib/ssl-ipv4.conf', 'files/ipv4.key', 'contrib/ssl-ipv6.conf', 'manifests/tempest.pp', 'files/ipv6.key', 'files/ipv4.crt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e40e6d934bb01e0ff1881b3fee92d97d17437179', 'message': 'Fix ipv6 certificate to make it compliant with IDNA\n\nCurrently we are setting ""DNS.0 = ::1"", but ::1 is not a valid\nA-Label for IDNA so the certificate is not correct.\n\nAdditionally, we are setting wrong value for DNS.0 = 127.0.0.1\nin the ipv4 certificate.\n\nFinally, removing issuerAltName from both ipv4 and ipv6 certificates\nas they are not needed for the jobs.\n\nNew versions of python-cryptography are more strict to check\ncertificates content and does not allow to have not compliant\nDNS names so we need to fix the certificate to bump python-cryptography.\n\nNote that horizont tempest plugin does not support ipaddress SANs based\ncertificate validation so I\'m disablint certificate validation for\ndashboard in this patch.\n\nDepends-On: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5\n\nChange-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029\n'}]",1,553436,e40e6d934bb01e0ff1881b3fee92d97d17437179,36,6,9,16312,,,0,"Fix ipv6 certificate to make it compliant with IDNA

Currently we are setting ""DNS.0 = ::1"", but ::1 is not a valid
A-Label for IDNA so the certificate is not correct.

Additionally, we are setting wrong value for DNS.0 = 127.0.0.1
in the ipv4 certificate.

Finally, removing issuerAltName from both ipv4 and ipv6 certificates
as they are not needed for the jobs.

New versions of python-cryptography are more strict to check
certificates content and does not allow to have not compliant
DNS names so we need to fix the certificate to bump python-cryptography.

Note that horizont tempest plugin does not support ipaddress SANs based
certificate validation so I'm disablint certificate validation for
dashboard in this patch.

Depends-On: Iea7a4b85ac64572fac0f0ad871649a79fbc1c0f5

Change-Id: Ib519d222e07e26d3683b24359e2f67728cdd8029
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/36/553436/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/ipv6.crt', 'contrib/ssl-ipv6.conf', 'files/ipv6.key']",3,e011858fc18a1280e71cfbb8ae22560cd00e1f2c,bump-cryptography,MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDJnX1gBMn3wYQ5 67Bz5qBjLikXvZzTtgJVQbd8Go4fqaaICdmoxnF9Uvc9QuY54UUioHAm1X8S9cfu LoQ/pL9ArH3fJ0vJxt2uf3UijF9iY1qk53l17Wwq/BbaVGRuXqmYtFyZLLZgNQWe cIg818/0hSA5AC7cWMIam6CtdWP2Yvx/1psFklxIiob4awreC40e5GVnTpw1XOzB QjmNE9cW4Dd14L8w0LrpVce4QldqsK++YzJmiUsStwVT7lktSAbm+ru3SQOnhwjy JdSgwww+ANBdJlkVIQugHMdHKo7mWRG93qzqDKvjsDLOne0y6VeP6P1YSQqNur42 V9MaNR4TAgMBAAECggEBAJr+/1bk95wH4q5gmkvP/nehEihVNg6we0St+/BlveNr mkI1SGbvAGq3cKlhF/thSrQfIXlJYqLh3u0mR7dh4UJIGZCH9kTOJLi09gk0X1QV S6dA6OiXOTQmjy8T+A29qqZh6lo7vI1j1ckDfElCJHY4LhiEIoJ1neu0vyb6+3l7 LBRxpvZgrZiydJeB+RtfHD8rv6Gu4gDzNkDsTpoV3vt0RsQa7oS5the18VEW1Xeu r9w3RF1jonLF2/JZtTz4hcYYSWxfzfYRxh33KsXcB4Cbv7tXzypiNqcjYus6XgQX ebCMiJCiRDJLX3CW2axFwQHMMHfqwMoMbA35AHv2taECgYEA73mCaPXdzMDpapKq MXW1WGI1QqQ70kpuomuWfpgtzo+wBylvQq1Cv8aMyRNWF6hl0E2WeP55sPIkNHQB kmlNy7jNj0ZAvClQBo2f5Ks+9f3rZyLoBxJ9ADRj21xtA4glB6tx3077+HDn54zZ dPR83Lnh49AyxVrbE2W9RHK6fYMCgYEA14cqhLr4USXB4JkzkmHrEXz49bS04b+x 4BQU1wR272fTlbrxbL50DFAXyrxbJAn+8YjrP5gtw6Cexes4zoQMbYVEDl+ZFpvN qEVZbazKnuCWrAXda+2MHM/A25+3gcCTV1b+N8ynAAmm6FVk6eGtOLVE3nqPXoDl zf6Gt+hdCDECgYAKauvMax26AY5l73lt62P3M1aDzqc3j7teX3XNjgs4GDIdLaVE bksgEqAfQzMUlmPPewCXxOJAW1hN29oRp3kV6rUujWzVgqqTjmetR/HWO7SY6QDV Be3gK2dIrK2lYK/TtJagk0wM08SS4yK2nsgrxf5Yrb73rOso3d0s9By+xwKBgQC7 f7V3nwij38sYz27ULCdKIYScjMbHlfLy08WFgTbO825Y1jdtuQpQI+Vu1AoeAiwu iETQIF2/0J4P5KCY2LvPE56vOm9+AbEacKpqBWaIbS3nHXsRh6ja78oBxqLoWFZW JzIl7P5jxAHWIWQXK+N8cAYn3kuXlV9Wo9UjbRxyIQKBgEcjWcOBNfynHjDkrupe RZgpiJElvn06vag3btoeSj8eb2Wf2v6xmE3D4SCMOztp3PDLObrk+1Vd/7n/zclx XWvlofvs17lig6fN9keVzoKAWjTazL6Gp6WI4Js4IotDGG33TVHYqBnL0QWd1E3q xnU7+IKIRnymcZAHN/MYYnJc,MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDUiJnOYDDt1UEY L+XAUl19JycCivkdoKItJq0OvF/e+HTt4cdSENeNQkc6lHR7LQXBJ0sqvM/wkUaC RqWaDesXBDkBnOM7NNA/D68IoWrKfdb0P5vUCmLG/LPyepvf/+u4Hfc/1yjuAJ11 wl9DXYsRAk+7m8V29PEUKvTUwKFZm0UqLz3biFVy+YOk//itZ0YKsUnxrWGzpcsp aKFgd97l4mQQ4VJFl3fzmn8DVnOEOEE+lwyz1UzV0YsqkU5BjUZZsPuGaipWSPZr cj0X0joRpgj8NZWuwbWfQ51JNoDb4UvMI5h38X+/N8VvG1Q/csBtNF1UZnp52DOB FcP0FiQRAgMBAAECggEBAKTGS0ifdw/NOCyCZgPXV7gCNNJZ4I3BzjpnM+Cq10FN K4qKczgC6rsP2Z1nH2+oFkAMMNCvlh+S4jF6iEWJ6OvtUC0Z72olphZeGHv+eYcI TTEMZ8nbS32uyeyCdnsSNTSHtvt92rO7MljsG2NlEL5dJmfzewKhII9cRnjz56RJ vBUZAMYmlcfHvBFm7nhjngCWlN1bXW+KvPB8Riy9c6CjhFOYuU2gZA+EZFoup5mL xkLVsT54PJRhIB2FSraL7gSCrZjPTV9WPXoz8/zAis/MUtkXQ1S2H9E1PynnrD2d XpAQW7Xc3fywU6QCyF8syxED59kEux80FeIjW1Wb4AECgYEA/vcUWX9acXDG6yjy hwydL5GuEgaP79DQpjCnp3GemkG1G9nff4GoFnUMtD18p7llUDtjpuhZMX7BxdYZ qxlCML9vRu3w9Tl9iv4vK0Ky+0mQwCe+6arJpRUWgg5GIxIO6JBj2sdPVWvG5ggB GDJ02xpXymYcuc9M9dU5s74twwECgYEA1WVu15ZGZc4xpjF9U6Sg0k1q5qO9fXCF X9gRm3AqZO1CAU8n44VwycJOxc/sJZ2P9lR4VROjEX3zBPOKwHOLFDrbQ70OwXVU uK7dUt1Ff7G/UQFQjKgh1xXf/0WBVwU3WIO7kgGRKqaP/4QCtBNA72vq6KjBbGeZ EiDnrKW5MRECgYEAk0NouIyrU4xdCGR9OG2buGb/UKADsPM+IE9H9pnUjqpXDgAY bBAaYuY2cUB2aHXXw7CZzUS0h7b7+uW/q6iKJ5fakPBL1YfgMFDCM81xjVyfQ61x QouHrlbwyiuubQE4JTGIy0uFUgRPPHvxDeXOwuKDRH8YJmZKwE7o5h15VwECgYBE YORLoJOeO5wdLO6DxtThjn0auo0VjOCv/YRm0mJDRONJmBuoBDJH9ENZj26T/xEK VbbZTBmMmVct1vw2/s8qBFIOOp5nzzj+lMnGq7CBYmtzgYBWEeoGCbRlD9iKEdnS OyP3fRkPGaA6uApFuYWtMl9rfee83NVnwbN61v+ogQKBgHUCFnGSryJU0Is2PnQD uAipiNWLqsphF9qtVCi8WTYN9flqNaD5n2WAx78r51YIftTz9lx0kG5ZZE+jHjTk L8DRx8iy1QBlnoJOVPY38wB3y5IA93s8D//V4jtg75oa4ggAwLxu8uPdrw6s56tO 49fgOJbBvVCZqds9wlgUIP2A,52,53
openstack%2Fpuppet-cloudkitty~master~I0aa8ee78019017fb49795f9aeee94e38f5d7d127,openstack/puppet-cloudkitty,master,I0aa8ee78019017fb49795f9aeee94e38f5d7d127,Error when using ceilometer collector,ABANDONED,2018-03-22 06:00:59.000000000,2018-03-22 06:02:38.000000000,,[],"[{'number': 1, 'created': '2018-03-22 06:00:59.000000000', 'files': ['releasenotes/notes/change_default_value_collector-19a896a02ad1f0c1.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/65d5d037cb2784f2799c13c369397479e5f14833', 'message': 'Error when using ceilometer collector\n\ncloudkitty-processor service error[1] when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[2].\n\n[1]http://logs.openstack.org/21/555121/1/check/puppet-openstack-beaker-centos-7/404b6ea/logs/cloudkitty/processor.txt.gz#_2018-03-22_04_39_53_481\n[2]https://review.openstack.org/#/c/548630/\n\nChange-Id: I0aa8ee78019017fb49795f9aeee94e38f5d7d127\nCloses-Bug: #1757945\n'}]",0,555156,65d5d037cb2784f2799c13c369397479e5f14833,2,0,1,9414,,,0,"Error when using ceilometer collector

cloudkitty-processor service error[1] when using ceilometer collector.
Because the ceilometer collector has been removed in cloudkitty repo[2].

[1]http://logs.openstack.org/21/555121/1/check/puppet-openstack-beaker-centos-7/404b6ea/logs/cloudkitty/processor.txt.gz#_2018-03-22_04_39_53_481
[2]https://review.openstack.org/#/c/548630/

Change-Id: I0aa8ee78019017fb49795f9aeee94e38f5d7d127
Closes-Bug: #1757945
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/56/555156/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/change_default_value_collector-19a896a02ad1f0c1.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp']",3,65d5d037cb2784f2799c13c369397479e5f14833,bug/1757945,# Defaults to 'gnocchi'. if $collector != 'gnocchi' { warning('Valid value of the collector option is gnocchi') $collector = 'gnocchi' 'collect/collector': value => $collector; 'gnocchi_collector/auth_type': value => $auth_type; 'gnocchi_collector/auth_section': value => $auth_section,# Defaults to 'ceilometer'. if $collector == 'ceilometer' { cloudkitty_config{ 'ceilometer_collector/auth_type': value => $auth_type; 'ceilometer_collector/auth_section': value => $auth_section } cloudkitty_config { 'gnocchi_collector/auth_type': ensure => absent; 'gnocchi_collector/auth_section': ensure => absent; } $collector_real = $collector } else{ warning('Valid values of the collector option are ceilometer and gnocchi') cloudkitty_config{ 'gnocchi_collector/auth_type': value => $auth_type; 'gnocchi_collector/auth_section': value => $auth_section; } cloudkitty_config { 'ceilometer_collector/auth_type': ensure => absent; 'ceilometer_collector/auth_section': ensure => absent; } $collector_real = 'gnocchi' 'collect/collector': value => $collector_real;,16,31
openstack%2Fpuppet-cloudkitty~master~Ide5c9373258b055038c41a802c95b9094119eb7d,openstack/puppet-cloudkitty,master,Ide5c9373258b055038c41a802c95b9094119eb7d,test,ABANDONED,2018-03-22 03:54:21.000000000,2018-03-22 06:01:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-22 03:54:21.000000000', 'files': ['manifests/processor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/c8df3d10f6742972aef9d3cdd2a4cb3509f4f742', 'message': 'test\n\nChange-Id: Ide5c9373258b055038c41a802c95b9094119eb7d\n'}]",0,555144,c8df3d10f6742972aef9d3cdd2a4cb3509f4f742,3,1,1,9414,,,0,"test

Change-Id: Ide5c9373258b055038c41a802c95b9094119eb7d
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/44/555144/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/processor.pp'],1,c8df3d10f6742972aef9d3cdd2a4cb3509f4f742,test," $collector = 'gnocchi',"," $collector = 'ceilometer',",1,1
openstack%2Ftripleo-quickstart-extras~master~I80e7f0affd1fa58d30d3e21d71ce8797253543fe,openstack/tripleo-quickstart-extras,master,I80e7f0affd1fa58d30d3e21d71ce8797253543fe,Remove addition of docker.yaml in overcloud deploy for rocky,MERGED,2018-03-05 11:57:34.000000000,2018-03-22 05:53:13.000000000,2018-03-22 05:53:13.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8652}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-05 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24b3954e518874cd707106d0fcd25d593081d7f4', 'message': 'Remove addition of docker.yaml in overcloud deploy for rocky\n\nIt is now the default, so no need to add it for rocky.\n\nChange-Id: I80e7f0affd1fa58d30d3e21d71ce8797253543fe\nDepends-On: I373fef6581dfbfa365479f88d7b967cfbed446e4\n'}, {'number': 2, 'created': '2018-03-19 13:47:29.000000000', 'files': ['roles/overcloud-deploy/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/089ff3bccc09a6f04aa3a519f8cf5a9f7c821d5a', 'message': 'Remove addition of docker.yaml in overcloud deploy for rocky\n\nIt is now the default, so no need to add it for rocky.\n\nChange-Id: I80e7f0affd1fa58d30d3e21d71ce8797253543fe\nDepends-On: I373fef6581dfbfa365479f88d7b967cfbed446e4\n'}]",1,549746,089ff3bccc09a6f04aa3a519f8cf5a9f7c821d5a,28,9,2,10873,,,0,"Remove addition of docker.yaml in overcloud deploy for rocky

It is now the default, so no need to add it for rocky.

Change-Id: I80e7f0affd1fa58d30d3e21d71ce8797253543fe
Depends-On: I373fef6581dfbfa365479f88d7b967cfbed446e4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/549746/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/pre-deploy.yml'],1,24b3954e518874cd707106d0fcd25d593081d7f4,containers-default," {% if release in ['newton','ocata','pike','queens'] %} {% endif %}",,2,0
openstack%2Fdiskimage-builder~master~Ib43038d2d740fbe01a21a13dd56367f7bc97f869,openstack/diskimage-builder,master,Ib43038d2d740fbe01a21a13dd56367f7bc97f869,Fix default partition type,MERGED,2018-03-21 03:22:41.000000000,2018-03-22 05:50:14.000000000,2018-03-22 01:30:12.000000000,"[{'_account_id': 4146}, {'_account_id': 6816}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 03:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fd56fef85239aad87fd7852c05d82d3513ff73f1', 'message': 'Fix default partition type\n\nThere was a typo in I6b819a8071389e7e4eb4874ff7750bd192695ff2 that\nmodified this default partition type from ""0x83"" to just 83.  We are\nnow seeing failures relating to this as sfdisk checks for a ""disk\nmanager"" when it see Id 0x53 (== 83)\n\n     Device Boot      Start         End      Blocks   Id  System\n  /dev/vda1   *        2048    26664575    13331264   53  OnTrack DM6 Aux3\n\nRestore to 0x83\n\nChange-Id: Ib43038d2d740fbe01a21a13dd56367f7bc97f869\n'}, {'number': 2, 'created': '2018-03-21 23:11:02.000000000', 'files': ['diskimage_builder/block_device/level1/partition.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f3f671cf103c6642a91ea63a8a3eb54f2edcf893', 'message': 'Fix default partition type\n\nThere was a typo in I6b819a8071389e7e4eb4874ff7750bd192695ff2 that\nmodified this default partition type from ""0x83"" to just 83.  We are\nnow seeing failures relating to this as sfdisk checks for a ""disk\nmanager"" when it see Id 0x53 (== 83)\n\n     Device Boot      Start         End      Blocks   Id  System\n  /dev/vda1   *        2048    26664575    13331264   53  OnTrack DM6 Aux3\n\nRestore to 0x83\n\nChange-Id: Ib43038d2d740fbe01a21a13dd56367f7bc97f869\n'}]",0,554771,f3f671cf103c6642a91ea63a8a3eb54f2edcf893,16,8,2,7118,,,0,"Fix default partition type

There was a typo in I6b819a8071389e7e4eb4874ff7750bd192695ff2 that
modified this default partition type from ""0x83"" to just 83.  We are
now seeing failures relating to this as sfdisk checks for a ""disk
manager"" when it see Id 0x53 (== 83)

     Device Boot      Start         End      Blocks   Id  System
  /dev/vda1   *        2048    26664575    13331264   53  OnTrack DM6 Aux3

Restore to 0x83

Change-Id: Ib43038d2d740fbe01a21a13dd56367f7bc97f869
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/71/554771/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/block_device/level1/partition.py'],1,fd56fef85239aad87fd7852c05d82d3513ff73f1,tripleo-jobs," self.ptype = int(config['type'], 16) if 'type' in config else 0x83"," self.ptype = int(config['type'], 16) if 'type' in config else 83",1,1
openstack%2Fkolla-ansible~master~I7a31315754cbb46257d3d98379daa39d32205480,openstack/kolla-ansible,master,I7a31315754cbb46257d3d98379daa39d32205480,Swift configuration misses quotas to pass DefCore,MERGED,2018-03-21 14:45:07.000000000,2018-03-22 05:23:10.000000000,2018-03-22 05:23:10.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8d7400c34e938134c79464032f65cabc8484428', 'message': ""Swift configuration misses quotas to pass DefCore\n\nSwift configuration needs container and account quotas to\npass 'OpenStack Powered' certification test suite\n\nChange-Id: I7a31315754cbb46257d3d98379daa39d32205480\nCloses-Bug: #1757451\n""}, {'number': 2, 'created': '2018-03-21 14:47:04.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5fd744409f05e92837554b8c2222ded82189c6b', 'message': ""Swift configuration misses quotas to pass DefCore\n\nSwift configuration needs container and account quotas to\npass 'OpenStack Powered' certification test suite\n\nCo-Authored-By: Alexander Reunov <alexander.reunov@oracle.com>\nChange-Id: I7a31315754cbb46257d3d98379daa39d32205480\nCloses-Bug: #1757451\n""}]",0,554939,d5fd744409f05e92837554b8c2222ded82189c6b,10,5,2,13671,,,0,"Swift configuration misses quotas to pass DefCore

Swift configuration needs container and account quotas to
pass 'OpenStack Powered' certification test suite

Co-Authored-By: Alexander Reunov <alexander.reunov@oracle.com>
Change-Id: I7a31315754cbb46257d3d98379daa39d32205480
Closes-Bug: #1757451
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/554939/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/proxy-server.conf.j2'],1,f8d7400c34e938134c79464032f65cabc8484428,bug/1757451,pipeline = catch_errors gatekeeper healthcheck cache container_sync bulk tempurl ratelimit authtoken keystoneauth container_quotas account_quotas slo dlo {% if enable_ceilometer | bool %}ceilometer {% endif %}proxy-server[filter:account_quotas] use = egg:swift#account_quotas [filter:container_quotas] use = egg:swift#container_quotas ,pipeline = catch_errors gatekeeper healthcheck cache container_sync bulk tempurl ratelimit authtoken keystoneauth slo dlo {% if enable_ceilometer | bool %}ceilometer {% endif %}proxy-server,7,1
openstack%2Fproject-config~master~Id6482b22a3a1699ecfccb2e1bf8731f13a7b12c3,openstack/project-config,master,Id6482b22a3a1699ecfccb2e1bf8731f13a7b12c3,Unpause all builds for dib 2.12.1,MERGED,2018-03-22 01:19:27.000000000,2018-03-22 04:52:41.000000000,2018-03-22 04:52:41.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 01:19:27.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1018a69b4d4ce5835b3b4dabc725a183300d98f5', 'message': 'Unpause all builds for dib 2.12.1\n\nThis is the final revert of 8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46\n\nChange-Id: Id6482b22a3a1699ecfccb2e1bf8731f13a7b12c3\n'}]",0,555107,1018a69b4d4ce5835b3b4dabc725a183300d98f5,6,2,1,7118,,,0,"Unpause all builds for dib 2.12.1

This is the final revert of 8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46

Change-Id: Id6482b22a3a1699ecfccb2e1bf8731f13a7b12c3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/555107/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,1018a69b4d4ce5835b3b4dabc725a183300d98f5,pause-dib-partition-error, pause: false pause: false pause: false pause: false pause: false pause: false pause: false pause: false pause: false, pause: true pause: true pause: true pause: true pause: true pause: true pause: true pause: true pause: true,9,9
openstack%2Fansible-role-systemd_service~master~Icae36f970178b1cc79d069a94321afb1732a8c5c,openstack/ansible-role-systemd_service,master,Icae36f970178b1cc79d069a94321afb1732a8c5c,Add tests to the service role,MERGED,2018-03-21 17:41:13.000000000,2018-03-22 04:49:31.000000000,2018-03-22 04:49:30.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 17:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/bc0f70dae18d96e8b63efcc16289b2bb02e74795', 'message': ""Add tests to the service role\n\n* Document the optionality in the defaults\n* validate the input in the tasks before it's templated\n* Standardize on the exec(starts,stops,reloads} interface\n* Update the readme\n* Add functional test\n\nChange-Id: Icae36f970178b1cc79d069a94321afb1732a8c5c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-03-21 18:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/7f3858e018e6a876fafbd928ff34ca9360ca572d', 'message': ""Add tests to the service role\n\n* Document the optionality in the defaults\n* validate the input in the tasks before it's templated\n* Standardize on the exec(starts,stops,reloads} interface\n* Update the readme\n* Add functional test\n\nChange-Id: Icae36f970178b1cc79d069a94321afb1732a8c5c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-03-21 18:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/8a0c3c576181f435b38915ee8099f53d676ab2e5', 'message': ""Add tests to the service role\n\n* Document the optionality in the defaults\n* validate the input in the tasks before it's templated\n* Standardize on the exec(starts,stops,reloads} interface\n* Update the readme\n* Add functional test\n\nChange-Id: Icae36f970178b1cc79d069a94321afb1732a8c5c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2018-03-21 22:47:30.000000000', 'files': ['tasks/main.yml', 'templates/systemd-tmpfiles-lock.j2', 'examples/playbook.yml', 'templates/systemd-tmpfiles.j2', 'templates/systemd-service.j2', 'tests/test.yml', 'html-docs/index.html', 'defaults/main.yml', 'vars/main.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/7745439f35426c60b9e53eae377c0e38e2ec4cb2', 'message': ""Add tests to the service role\n\n* Document the optionality in the defaults\n* validate the input in the tasks before it's templated\n* Standardize on the exec(starts,stops,reloads} interface\n* Update the readme\n* Add functional test\n\nChange-Id: Icae36f970178b1cc79d069a94321afb1732a8c5c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",2,555002,7745439f35426c60b9e53eae377c0e38e2ec4cb2,14,3,4,7353,,,0,"Add tests to the service role

* Document the optionality in the defaults
* validate the input in the tasks before it's templated
* Standardize on the exec(starts,stops,reloads} interface
* Update the readme
* Add functional test

Change-Id: Icae36f970178b1cc79d069a94321afb1732a8c5c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/02/555002/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/systemd-tmpfiles-lock.j2', 'examples/playbook.yml', 'templates/systemd-tmpfiles.j2', 'templates/systemd-service.j2', 'tests/test.yml', 'html-docs/index.html', 'defaults/main.yml', 'vars/main.yml', 'README.md']",10,bc0f70dae18d96e8b63efcc16289b2bb02e74795,, - service_name: ServiceX execstarts: - /path/ServiceX --flag1,"###### Defaults (See actual role for more details) ``` yaml # This is the default path for a given service. Set this for general service lookups or # define ""program_override"" option in the systemd_services dictionary. systemd_bin_path: /usr/local/bin systemd_user_name: root systemd_group_name: root systemd_slice_name: system systemd_lock_path: /var/lock # This is the prefix used for all temp files of a given type. systemd_tempd_prefix: tempd # Give a reasonable amount of time for the server to start up/shut down systemd_TimeoutSec: 120 systemd_Restart: on-failure systemd_RestartSec: 2 # Accounting options systemd_CPUAccounting: true systemd_BlockIOAccounting: true systemd_MemoryAccounting: true systemd_TasksAccounting: true # Sandboxing options systemd_PrivateTmp: true systemd_PrivateDevices: false systemd_PrivateNetwork: true systemd_PrivateUsers: true # Start service after a given target. This is here because we want to define common # after targets used on most services. This can be overridden or agumented using # the ""systemd_services"" dictionary option ""init_config_overrides"". systemd_after_targets: - syslog.target - network.target # Set the service enabled state. Valid options are: [yes, no] systemd_service_enabled: yes # Set global service overrides used within the service unit file. systemd_service_config_overrides: {} # The systemd services dictionary is a set of services that will be created. The dictionary # can contain the following options: # `service_name` -- (required) used to define the name of the service. This is typically the name of the executable. # `init_config_overrides` -- (optional) This allows any section or key=value pair to be set within the systemd unit file. # `program_config_options` -- (optional) Provides the ability to pass in flags to a given service for execution. # `program_override` -- (optional) sets the full path to the executable that will be run by the service file. # `enabled` -- (optional) Set the enabled state of the service. # `state` -- (optional) Set the running state of the service. # Examples: # systemd_services: # ServiceW: # service_name: ServiceW # init_config_overrides: {} # This is used to add in arbitratry unit file options # ServiceX: # service_name: ServiceX # init_config_overrides: {} # This is used to add in arbitratry unit file options # program_config_options: '--flag1 things --flag2 other' # ServiceY: # service_name: ServiceY # init_config_overrides: {} # This is used to add in arbitratry unit file options # program_override: '/usr/bin/ServiceY' # ServiceZ: # service_name: ServiceZ # init_config_overrides: {} # This is used to add in arbitratry unit file options # enabled: no # state: stopped systemd_services: {} ``` ---- service_name: ServiceX init_config_overrides: {} program_config_options: '--flag1 things --flag2 other'",139,165
openstack%2Fironic~master~I86c55ec8a2f2445616dbae44a4a9f0723eaffb0f,openstack/ironic,master,I86c55ec8a2f2445616dbae44a4a9f0723eaffb0f,Follow-up patch for rescue mode devstack change,MERGED,2018-03-16 09:55:58.000000000,2018-03-22 04:38:56.000000000,2018-03-22 04:38:56.000000000,"[{'_account_id': 10118}, {'_account_id': 12356}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 18320}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 09:55:58.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f55422dcdae61c7b5358a66e265b01eb2c9d3fe', 'message': 'Follow-up patch for rescue mode devstack change\n\nThis patch addresses an issue from the PS30 of\nI332223f187783fc06e19e62a886a8a7378c62cf2\n\nChange-Id: I86c55ec8a2f2445616dbae44a4a9f0723eaffb0f\n'}]",0,553734,5f55422dcdae61c7b5358a66e265b01eb2c9d3fe,27,9,1,18320,,,0,"Follow-up patch for rescue mode devstack change

This patch addresses an issue from the PS30 of
I332223f187783fc06e19e62a886a8a7378c62cf2

Change-Id: I86c55ec8a2f2445616dbae44a4a9f0723eaffb0f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/553734/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,5f55422dcdae61c7b5358a66e265b01eb2c9d3fe,," common_node_options=""\ --driver-info deploy_kernel=$IRONIC_DEPLOY_KERNEL_ID \ --driver-info deploy_ramdisk=$IRONIC_DEPLOY_RAMDISK_ID \ --driver-info rescue_kernel=$IRONIC_DEPLOY_KERNEL_ID \ --driver-info rescue_ramdisk=$IRONIC_DEPLOY_RAMDISK_ID"" node_options+="" $common_node_options"" local node_options=""$common_node_options"""," node_options=""\ $node_options \ --driver-info deploy_kernel=$IRONIC_DEPLOY_KERNEL_ID \ --driver-info deploy_ramdisk=$IRONIC_DEPLOY_RAMDISK_ID \ --driver-info rescue_kernel=$IRONIC_DEPLOY_KERNEL_ID \ --driver-info rescue_ramdisk=$IRONIC_DEPLOY_RAMDISK_ID"" local node_options=""--driver-info deploy_kernel=$IRONIC_DEPLOY_KERNEL_ID"" node_options+="" --driver-info deploy_ramdisk=$IRONIC_DEPLOY_RAMDISK_ID"" node_options+="" --driver-info rescue_kernel=$IRONIC_DEPLOY_KERNEL_ID"" node_options+="" --driver-info rescue_ramdisk=$IRONIC_DEPLOY_RAMDISK_ID""",8,10
openstack%2Fneutron-vpnaas~master~Ieef7032525380ba55ab7ead1584f00e1a7272501,openstack/neutron-vpnaas,master,Ieef7032525380ba55ab7ead1584f00e1a7272501,Updated from global requirements,MERGED,2018-03-20 14:07:29.000000000,2018-03-22 04:12:52.000000000,2018-03-22 04:12:52.000000000,"[{'_account_id': 841}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 14:07:29.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7afbde584aec3b0401b0431d358ae3e1ad359da9', 'message': 'Updated from global requirements\n\nChange-Id: Ieef7032525380ba55ab7ead1584f00e1a7272501\n'}]",0,554553,7afbde584aec3b0401b0431d358ae3e1ad359da9,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ieef7032525380ba55ab7ead1584f00e1a7272501
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/53/554553/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7afbde584aec3b0401b0431d358ae3e1ad359da9,openstack/requirements,neutron>=12.0.0 # Apache-2.0,neutron>=12.0.0 # Apache-2.0,1,1
openstack%2Fzun~master~I735783aa57925c7593c52a63d590fe93cf22d7c4,openstack/zun,master,I735783aa57925c7593c52a63d590fe93cf22d7c4,Adds image delete to server side,MERGED,2018-03-08 09:41:29.000000000,2018-03-22 04:03:02.000000000,2018-03-22 04:03:02.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23317}, {'_account_id': 23365}, {'_account_id': 23829}, {'_account_id': 26297}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-08 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/af85110ed87486279999404fa69e3c9e3b5838a8', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 2, 'created': '2018-03-09 06:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4235235a1c13c0a591697a2b7ea695a1d323fb2a', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 3, 'created': '2018-03-12 08:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f85035e4bab83457875c00e12e5d0f0746a33098', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 4, 'created': '2018-03-12 08:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/137a3b488d9f862ca0f854ab413351f790ef1b42', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 5, 'created': '2018-03-13 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6f61ee76fee27f9714d2714d4374cc62a97e2dac', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 6, 'created': '2018-03-13 14:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f8f277f32ba39d3805572ad13ef0db97cab2b5ac', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nImplements: blueprint support-image-delete\n\nhttps://blueprints.launchpad.net/zun/+spec/support-image-delete\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 7, 'created': '2018-03-19 02:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/331d5a727caef624c1f35aad054cc73e3d75c196', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nImplements: blueprint support-image-delete\n\nhttps://blueprints.launchpad.net/zun/+spec/support-image-delete\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 8, 'created': '2018-03-20 06:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fa552dbbb7b4e195ca0bdc8b2f41ffdc15e1afe8', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nImplements: blueprint support-image-delete\n\nhttps://blueprints.launchpad.net/zun/+spec/support-image-delete\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}, {'number': 9, 'created': '2018-03-20 07:17:51.000000000', 'files': ['zun/compute/api.py', 'zun/db/api.py', 'zun/db/sqlalchemy/api.py', 'zun/image/driver.py', 'zun/api/controllers/v1/images.py', 'zun/tests/unit/objects/test_objects.py', 'zun/compute/rpcapi.py', 'zun/image/docker/driver.py', 'zun/objects/image.py', 'zun/compute/manager.py', 'zun/db/etcd/api.py', 'zun/common/policies/image.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/be92134f2c1dfbcfd6dc54af1e46c10244e129c0', 'message': 'Adds image delete to server side\n\nThis patch adds image delete to server side for deleting\npulled image in docker img or glance image.\n\nImplements: blueprint support-image-delete\n\nhttps://blueprints.launchpad.net/zun/+spec/support-image-delete\n\nChange-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4\n'}]",20,550762,be92134f2c1dfbcfd6dc54af1e46c10244e129c0,46,10,9,27577,,,0,"Adds image delete to server side

This patch adds image delete to server side for deleting
pulled image in docker img or glance image.

Implements: blueprint support-image-delete

https://blueprints.launchpad.net/zun/+spec/support-image-delete

Change-Id: I735783aa57925c7593c52a63d590fe93cf22d7c4
",git fetch https://review.opendev.org/openstack/zun refs/changes/62/550762/8 && git format-patch -1 --stdout FETCH_HEAD,"['zun/compute/api.py', 'zun/compute/rpcapi.py', 'zun/image/docker/driver.py', 'zun/db/api.py', 'zun/objects/image.py', 'zun/compute/manager.py', 'zun/db/sqlalchemy/api.py', 'zun/api/controllers/v1/images.py']",8,af85110ed87486279999404fa69e3c9e3b5838a8,bp/support-image-delete," @validation.validate_query_param(pecan.request, schema.query_param_search) def delete(self, image_id): context = pecan.request.context image = utils.get_image(image_id) return pecan.request.compute_api.image_delete(context, image) @pecan.expose('json') @exception.wrap_pecan_controller_exception",,64,0
openstack%2Fkeystone~stable%2Fqueens~Ifaf8681333a807c7c8ed1c8e2ba1eab1e6faf81c,openstack/keystone,stable/queens,Ifaf8681333a807c7c8ed1c8e2ba1eab1e6faf81c,Imported Translations from Zanata,MERGED,2018-03-01 06:32:32.000000000,2018-03-22 03:49:42.000000000,2018-03-22 03:49:42.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 06:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/37cdc69d09691f88cd8cb490d9793685b3c9b435', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifaf8681333a807c7c8ed1c8e2ba1eab1e6faf81c\n'}, {'number': 2, 'created': '2018-03-14 06:35:18.000000000', 'files': ['keystone/locale/tr_TR/LC_MESSAGES/keystone.po', 'keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c1d81ef77db72910f2a900816223367e008750ac', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifaf8681333a807c7c8ed1c8e2ba1eab1e6faf81c\n'}]",0,548788,c1d81ef77db72910f2a900816223367e008750ac,29,5,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifaf8681333a807c7c8ed1c8e2ba1eab1e6faf81c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/88/548788/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/locale/tr_TR/LC_MESSAGES/keystone.po', 'keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone.po']",6,37cdc69d09691f88cd8cb490d9793685b3c9b435,zanata/translations,"""POT-Creation-Date: 2018-02-22 22:45+0000\n""""Language: zh_CN\n""""X-Generator: Zanata 4.3.3\n""","""POT-Creation-Date: 2018-02-08 23:48+0000\n""""Language: zh-CN\n""""X-Generator: Zanata 3.9.6\n""",18,18
openstack%2Fswift~feature%2Fs3api~I6ce117678cfac455c16abb15cf7e7cab199680e6,openstack/swift,feature/s3api,I6ce117678cfac455c16abb15cf7e7cab199680e6,Avoid global CONF instance,MERGED,2018-03-09 12:57:37.000000000,2018-03-22 03:49:31.000000000,2018-03-22 03:49:31.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 12:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/67e71808a033d7f442ae4c71dd11ba3deba10612', 'message': 'WIP: avoid global CONF instance\n\nStill WIP\n\nChange-Id: I6ce117678cfac455c16abb15cf7e7cab199680e6\n'}, {'number': 2, 'created': '2018-03-09 14:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/465634a3193172b3a2a75e7a4c49f8a2dd9669b6', 'message': 'Avoid global CONF instance\n\nChange-Id: I6ce117678cfac455c16abb15cf7e7cab199680e6\n'}, {'number': 3, 'created': '2018-03-09 16:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5a5f5e2d7dfcb6ef7d1f51659f3c0419d7ca7221', 'message': 'Avoid global CONF instance\n\nChange-Id: I6ce117678cfac455c16abb15cf7e7cab199680e6\n'}, {'number': 4, 'created': '2018-03-12 06:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/25a0ac0dfc2bc3a313e2dfbc221b155ec71c5eb1', 'message': 'Avoid global CONF instance\n\nChange-Id: I6ce117678cfac455c16abb15cf7e7cab199680e6\n'}, {'number': 5, 'created': '2018-03-14 10:48:01.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_utils.py', 'swift/common/middleware/s3api/subresource.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_subresource.py', 'test/unit/common/middleware/s3api/test_cfg.py', 'test/unit/common/middleware/s3api/test_service.py', 'swift/common/middleware/s3api/acl_handlers.py', 'swift/common/middleware/s3api/controllers/location.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/s3api/request.py', 'test/unit/common/middleware/s3api/test_location.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/helpers.py', 'test/unit/common/middleware/s3api/test_multi_delete.py', 'swift/common/middleware/s3api/controllers/service.py', 'swift/common/middleware/s3api/controllers/bucket.py', 'swift/common/middleware/s3api/controllers/multi_delete.py', 'test/unit/common/middleware/s3api/test_request.py', 'swift/common/middleware/s3api/cfg.py', 'test/unit/common/middleware/s3api/test_s3_acl.py', 'test/unit/common/middleware/s3api/__init__.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/utils.py', 'test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_presigned.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4d9fbb14cb3f3c31419027fe6b994aef987c8179', 'message': 'Avoid global CONF instance\n\nChange-Id: I6ce117678cfac455c16abb15cf7e7cab199680e6\n'}]",9,551273,4d9fbb14cb3f3c31419027fe6b994aef987c8179,17,3,5,4608,,,0,"Avoid global CONF instance

Change-Id: I6ce117678cfac455c16abb15cf7e7cab199680e6
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/551273/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_multi_delete.py', 'test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/controllers/service.py', 'test/unit/common/middleware/s3api/test_utils.py', 'swift/common/middleware/s3api/subresource.py', 'swift/common/middleware/s3api/controllers/bucket.py', 'swift/common/middleware/s3api/controllers/multi_delete.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_request.py', 'swift/common/middleware/s3api/cfg.py', 'test/unit/common/middleware/s3api/test_s3_acl.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_subresource.py', 'test/unit/common/middleware/s3api/test_cfg.py', 'test/unit/common/middleware/s3api/test_service.py', 'swift/common/middleware/s3api/controllers/location.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/s3api/utils.py', 'swift/common/middleware/s3api/request.py', 'test/unit/common/middleware/s3api/test_location.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/helpers.py']",23,67e71808a033d7f442ae4c71dd11ba3deba10612,config," def __init__(self, s3_acl=False): self.s3_acl = s3_acl print authorization if self.s3_acl:",from swift.common.middleware.s3api.cfg import CONF def __init__(self): if CONF.s3_acl:,362,331
openstack%2Ftaskflow~master~I1a94030aff5963af305048dc555b04dd3d389035,openstack/taskflow,master,I1a94030aff5963af305048dc555b04dd3d389035,Allow gathering + continutation of successive REVERT_FAILURES,ABANDONED,2017-04-18 18:40:20.000000000,2018-03-22 03:45:04.000000000,,[{'_account_id': 9796}],"[{'number': 1, 'created': '2017-04-18 18:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f1c7081c0655d2ce4622e50590e8fe7f0493cbe0', 'message': 'Allow gathering + continutation of successive REVERT_FAILURES\n\nChange-Id: I1a94030aff5963af305048dc555b04dd3d389035\n'}, {'number': 2, 'created': '2017-04-18 18:50:59.000000000', 'files': ['taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/selector.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7f2037f6484fec113abb6b12eb7721ddceb945ea', 'message': 'Allow gathering + continutation of successive REVERT_FAILURES\n\nChange-Id: I1a94030aff5963af305048dc555b04dd3d389035\n'}]",0,457764,7f2037f6484fec113abb6b12eb7721ddceb945ea,7,1,2,1297,,,0,"Allow gathering + continutation of successive REVERT_FAILURES

Change-Id: I1a94030aff5963af305048dc555b04dd3d389035
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/64/457764/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/selector.py', 'taskflow/engines/action_engine/completer.py']",3,f1c7081c0655d2ce4622e50590e8fe7f0493cbe0,," """"""Performs post-execution completion of a nodes failure."""""""," """"""Performs post-execution completion of a nodes failure. Returns whether the result should be saved into an accumulator of failures or whether this should not be done. """""" # We resolved something, carry on... return False else: # Reverting failed (or resolving was turned off), always # retain the failure... return True",17,30
openstack%2Ftaskflow~master~I9c9c26e09478439f3f2df6a5b379ffdc4fb2ec82,openstack/taskflow,master,I9c9c26e09478439f3f2df6a5b379ffdc4fb2ec82,WIP of a stack/register machine for de/re/compiling a workflow,ABANDONED,2017-02-07 05:17:44.000000000,2018-03-22 03:44:57.000000000,,[],"[{'number': 1, 'created': '2017-02-07 05:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/73e5cb7bc090b8f6a6c965304361252bd5c62901', 'message': 'WIP of a stack/register machine for de/re/compiling a workflow\n\nChange-Id: I9c9c26e09478439f3f2df6a5b379ffdc4fb2ec82\n'}, {'number': 2, 'created': '2017-02-20 02:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/859d8259842e2353dbcd7df98af2f35910b56ed6', 'message': 'WIP of a stack/register machine for de/re/compiling a workflow\n\nThis removes the usage of the function call stack allowing\nfor much larger workflows to be deconsructed.\n\nChange-Id: I9c9c26e09478439f3f2df6a5b379ffdc4fb2ec82\n'}, {'number': 3, 'created': '2017-03-13 04:27:07.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/compiler.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2ab583320179889a9609e7c11736096920a488eb', 'message': 'WIP of a stack/register machine for de/re/compiling a workflow\n\nThis removes the usage of the function call stack allowing\nfor much larger workflows to be deconsructed.\n\nChange-Id: I9c9c26e09478439f3f2df6a5b379ffdc4fb2ec82\n'}]",0,430065,2ab583320179889a9609e7c11736096920a488eb,8,0,3,1297,,,0,"WIP of a stack/register machine for de/re/compiling a workflow

This removes the usage of the function call stack allowing
for much larger workflows to be deconsructed.

Change-Id: I9c9c26e09478439f3f2df6a5b379ffdc4fb2ec82
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/65/430065/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/compiler.py']",2,73e5cb7bc090b8f6a6c965304361252bd5c62901,430065,"from six.moves import range as compat_range from taskflow import exceptions as excclass Compiler(object): """"""Compiles a flow pattern (or task) into a compilation unit."""""" def __init__(self, root): stack = [(""identify"", 1)] memory = [self._root] while stack: op, memory_pops = stack.pop() operands = [] for _i in compat_range(0, memory_pops): operands.append(memory.pop()) LOG.trace(""Processing compilation machine op '%s' with"" "" %s operands"", op, len(operands)) if op == 'identify': operand = operands[0] if isinstance(operand, flow.Flow): stack.append((""reconnect_flow"", 1)) memory.append(operand) stack.append((""explode_flow"", 1)) memory.append(operand) elif isinstance(operand, task.Task): stack.append((""explode_task"", 1)) memory.append(operand) else: raise TypeError(""Unknown object '%s' (%s) requested"" "" to compile"" % (operand, type(operand))) elif op == 'explode_flow': pass elif op == 'reconnect_flow': pass elif op == 'explode_task': t = operands[0] g = gr.DiGraph(name=t.name) g.add_node(t, kind=TASK) memory.append((g, tr.Node(t, kind=TASK))) else: raise exc.CompilationFailure( ""Compilation machine encountered"" "" unsupported operand '%s'"" % op) try: execution_graph, hierarchy = memory[-1] except (ValueError, IndexError): raise exc.CompilationFailure(""Something went wrong during"" "" compilation (no result was"" "" produced)"") else: return Compilation(execution_graph, hierarchy)","class PatternCompiler(object): """"""Compiles a flow pattern (or task) into a compilation unit. Let's dive into the basic idea for how this works: The compiler here is provided a 'root' object via its __init__ method, this object could be a task, or a flow (one of the supported patterns), the end-goal is to produce a :py:class:`.Compilation` object as the result with the needed components. If this is not possible a :py:class:`~.taskflow.exceptions.CompilationFailure` will be raised. In the case where a **unknown** type is being requested to compile a ``TypeError`` will be raised and when a duplicate object (one that has **already** been compiled) is encountered a ``ValueError`` is raised. The complexity of this comes into play when the 'root' is a flow that contains itself other nested flows (and so-on); to compile this object and its contained objects into a graph that *preserves* the constraints the pattern mandates we have to go through a recursive algorithm that creates subgraphs for each nesting level, and then on the way back up through the recursion (now with a decomposed mapping from contained patterns or atoms to there corresponding subgraph) we have to then connect the subgraphs (and the atom(s) there-in) that were decomposed for a pattern correctly into a new graph and then ensure the pattern mandated constraints are retained. Finally we then return to the caller (and they will do the same thing up until the root node, which by that point one graph is created with all contained atoms in the pattern/nested patterns mandated ordering). Also maintained in the :py:class:`.Compilation` object is a hierarchy of the nesting of items (which is also built up during the above mentioned recusion, via a much simpler algorithm); this is typically used later to determine the prior atoms of a given atom when looking up values that can be provided to that atom for execution (see the scopes.py file for how this works). Note that although you *could* think that the graph itself could be used for this, which in some ways it can (for limited usage) the hierarchy retains the nested structure (which is useful for scoping analysis/lookup) to be able to provide back a iterator that gives back the scopes visible at each level (the graph does not have this information once flattened). Let's take an example: Given the pattern ``f(a(b, c), d)`` where ``f`` is a :py:class:`~taskflow.patterns.linear_flow.Flow` with items ``a(b, c)`` where ``a`` is a :py:class:`~taskflow.patterns.linear_flow.Flow` composed of tasks ``(b, c)`` and task ``d``. The algorithm that will be performed (mirroring the above described logic) will go through the following steps (the tree hierarchy building is left out as that is more obvious):: Compiling f - Decomposing flow f with no parent (must be the root) - Compiling a - Decomposing flow a with parent f - Compiling b - Decomposing task b with parent a - Decomposed b into: Name: b Nodes: 1 - b Edges: 0 - Compiling c - Decomposing task c with parent a - Decomposed c into: Name: c Nodes: 1 - c Edges: 0 - Relinking decomposed b -> decomposed c - Decomposed a into: Name: a Nodes: 2 - b - c Edges: 1 b -> c ({'invariant': True}) - Compiling d - Decomposing task d with parent f - Decomposed d into: Name: d Nodes: 1 - d Edges: 0 - Relinking decomposed a -> decomposed d - Decomposed f into: Name: f Nodes: 3 - c - b - d Edges: 2 c -> d ({'invariant': True}) b -> c ({'invariant': True}) """""" def __init__(self, root, freeze=True): self._history = set() self._freeze = freeze self._lock = threading.Lock() self._compilation = None self._matchers = [ (flow.Flow, FlowCompiler(self._compile)), (task.Task, TaskCompiler()), ] self._level = 0 def _compile(self, item, parent=None): """"""Compiles a item (pattern, task) into a graph + tree node."""""" item_compiler = misc.match_type(item, self._matchers) if item_compiler is not None: self._pre_item_compile(item) graph, node = item_compiler.compile(item, parent=parent) self._post_item_compile(item, graph, node) return graph, node else: raise TypeError(""Unknown object '%s' (%s) requested to compile"" % (item, type(item))) def _pre_item_compile(self, item): """"""Called before a item is compiled; any pre-compilation actions."""""" if item in self._history: raise ValueError(""Already compiled item '%s' (%s), duplicate"" "" and/or recursive compiling is not"" "" supported"" % (item, type(item))) self._history.add(item) if LOG.isEnabledFor(logging.TRACE): LOG.trace(""%sCompiling '%s'"", "" "" * self._level, item) self._level += 1 def _post_item_compile(self, item, graph, node): """"""Called after a item is compiled; doing post-compilation actions."""""" self._level -= 1 if LOG.isEnabledFor(logging.TRACE): prefix = ' ' * self._level LOG.trace(""%sDecomposed '%s' into:"", prefix, item) prefix = ' ' * (self._level + 1) LOG.trace(""%sGraph:"", prefix) for line in graph.pformat().splitlines(): LOG.trace(""%s %s"", prefix, line) LOG.trace(""%sHierarchy:"", prefix) for line in node.pformat().splitlines(): LOG.trace(""%s %s"", prefix, line) def _pre_compile(self): """"""Called before the compilation of the root starts."""""" self._history.clear() self._level = 0 def _post_compile(self, graph, node): """"""Called after the compilation of the root finishes successfully."""""" self._history.clear() self._level = 0 @fasteners.locked if self._compilation is None: self._pre_compile() try: graph, node = self._compile(self._root, parent=None) except Exception: with excutils.save_and_reraise_exception(): # Always clear the history, to avoid retaining junk # in memory that isn't needed to be in memory if # compilation fails... self._history.clear() else: self._post_compile(graph, node) if self._freeze: graph.freeze() node.freeze() self._compilation = Compilation(graph, node) return self._compilation",48,169
openstack%2Ftaskflow~master~I3b3276aa57f017d499f8a09a4675b7af51703355,openstack/taskflow,master,I3b3276aa57f017d499f8a09a4675b7af51703355,Make it easier to restart/resume a prior reverted flow,ABANDONED,2016-04-05 21:50:35.000000000,2018-03-22 03:44:48.000000000,,"[{'_account_id': 1297}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-04-05 21:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/17c059a8fd59dc352535bbb43a9dfb714fd844b4', 'message': 'Make it easier to restart/resume a prior reverted flow\n\nWhen a prior flow has been reverted, the default behavior\nis to revert all the things in that flow and start as if\nit is new but in the case where instead the partial work\ncompleted previously still can be used it is only useful to\nreset the REVERTED nodes instead and start those back up\ninstead.\n\nChange-Id: I3b3276aa57f017d499f8a09a4675b7af51703355\n'}, {'number': 2, 'created': '2016-04-05 21:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/83d3b2b8c9a75749b647b2b3549d4cf0b2dd764b', 'message': 'Make it easier to restart/resume a prior reverted flow\n\nWhen a prior flow has been reverted, the default behavior\nis to revert all the things in that flow and start as if\nit is new but in the case where instead the partial work\ncompleted previously still can be used it is only useful to\nreset the REVERTED nodes instead and start those back up\ninstead.\n\nChange-Id: I3b3276aa57f017d499f8a09a4675b7af51703355\n'}, {'number': 3, 'created': '2016-04-05 21:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/da7efae1b206aa0df7cee139060cb72bd278d5c1', 'message': 'Make it easier to restart/resume a prior reverted flow\n\nWhen a prior flow has been reverted, the default behavior\nis to revert all the things in that flow and start as if\nit is new but in the case where instead the partial work\ncompleted previously still can be used it is only useful to\nreset the REVERTED nodes instead and start those back up\ninstead.\n\nChange-Id: I3b3276aa57f017d499f8a09a4675b7af51703355\n'}, {'number': 4, 'created': '2016-04-07 05:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9afdd21b593f07687afc9fe24439e8d17f38ee33', 'message': 'Make it easier to restart/resume a prior reverted flow\n\nWhen a prior flow has been reverted, the default behavior\nis to revert all the things in that flow and start as if\nit is new but in the case where instead the partial work\ncompleted previously still can be used it is only useful to\nreset the REVERTED nodes instead and start those back up\ninstead.\n\nChange-Id: I3b3276aa57f017d499f8a09a4675b7af51703355\n'}, {'number': 5, 'created': '2016-05-23 23:35:51.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/runtime.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0eae559482f552b81f30b4261c584eb1ff6bed95', 'message': 'Make it easier to restart/resume a prior reverted flow\n\nWhen a prior flow has been reverted, the default behavior\nis to revert all the things in that flow and start as if\nit is new but in the case where instead the partial work\ncompleted previously still can be used it is only useful to\nreset the REVERTED nodes instead and start those back up\ninstead.\n\nChange-Id: I3b3276aa57f017d499f8a09a4675b7af51703355\n'}]",2,301939,0eae559482f552b81f30b4261c584eb1ff6bed95,16,2,5,1297,,,0,"Make it easier to restart/resume a prior reverted flow

When a prior flow has been reverted, the default behavior
is to revert all the things in that flow and start as if
it is new but in the case where instead the partial work
completed previously still can be used it is only useful to
reset the REVERTED nodes instead and start those back up
instead.

Change-Id: I3b3276aa57f017d499f8a09a4675b7af51703355
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/39/301939/4 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/runtime.py']",2,17c059a8fd59dc352535bbb43a9dfb714fd844b4,301939," def reset_atoms_to(self, atoms_states_intentions_to_alter): """"""Resets triplet of (atom, state, intention) to given state + intention."""""" for atom, state, intention in atoms_states_intentions_to_alter: def reset_atoms(self, atoms, state=st.PENDING, intention=st.EXECUTE): """"""Resets all the provided atoms to the given state and intention."""""" return self.reset_atoms_to((atom, state, intention) for atom in atoms)"," def reset_atoms(self, atoms, state=st.PENDING, intention=st.EXECUTE): """"""Resets all the provided atoms to the given state and intention."""""" for atom in atoms: def reset_all(self, state=st.PENDING, intention=st.EXECUTE): """"""Resets all atoms to the given state and intention."""""" return self.reset_atoms(self.analyzer.iterate_nodes(com.ATOMS), state=state, intention=intention)",19,14
openstack%2Ftaskflow~master~Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b,openstack/taskflow,master,Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b,Start work on dynamic task/flow insertion (WIP),ABANDONED,2016-09-03 21:02:40.000000000,2018-03-22 03:44:24.000000000,,[{'_account_id': 1297}],"[{'number': 1, 'created': '2016-09-03 21:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a184329a9e13a20b8d38752eebc78e6ce2694af2', 'message': 'Start work on dynamic task/flow insertion (WIP\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}, {'number': 2, 'created': '2016-09-03 21:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0b679cd735978e9054aefd326d8039d4f282836f', 'message': 'Start work on dynamic task/flow insertion (WIP)\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}, {'number': 3, 'created': '2016-09-06 05:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c8b7ae7cbc2b7511e722833446e7238c7363fd35', 'message': 'Start work on dynamic task/flow insertion (WIP)\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}, {'number': 4, 'created': '2016-09-08 05:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6e19b2bf456f677ddcf39f0db61e1ae3b478eb79', 'message': 'Start work on dynamic task/flow insertion (WIP)\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}, {'number': 5, 'created': '2016-09-08 05:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fea0a7604c8bf2c0783faa642c6abcf77dc51859', 'message': 'Start work on dynamic task/flow insertion (WIP)\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}, {'number': 6, 'created': '2016-09-08 05:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3cb8e88483c5a30c69faff9ba3a279fe54b1b56e', 'message': 'Start work on dynamic task/flow insertion (WIP)\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}, {'number': 7, 'created': '2016-09-08 05:42:39.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/actions/base.py', 'taskflow/task.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/engines/action_engine/compiler.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9fa6908a56ae5ed73c140892e3b9b3e402b1477d', 'message': 'Start work on dynamic task/flow insertion (WIP)\n\nChange-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b\n'}]",0,365289,9fa6908a56ae5ed73c140892e3b9b3e402b1477d,13,1,7,1297,,,0,"Start work on dynamic task/flow insertion (WIP)

Change-Id: Iffc9c3df9695c7cad7d0441fdc77accaa4b9332b
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/89/365289/7 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/task.py', 'taskflow/engines/action_engine/actions/task.py']",2,a184329a9e13a20b8d38752eebc78e6ce2694af2,dynamic-next," expansion = task.next(result) if expansion: # Ok, it may get tricky here, we have to figure out how # to insert the expansion at the location in the graph # and then re-run a mini[prepare,compile,validate] to ensure # that the new addition(s) won't violate the runtime # structure. pass",,29,0
openstack%2Ftaskflow~master~I2a5188188b43289a7b8eab1c34d587daded3efe4,openstack/taskflow,master,I2a5188188b43289a7b8eab1c34d587daded3efe4,Initial POC/experimental builder code (for the general good),ABANDONED,2016-02-20 01:01:07.000000000,2018-03-22 03:44:10.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-02-20 01:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6dbfab583595dbeda38c7d89047f029604dc535e', 'message': 'Initial POC/experimental builder code (for the general good)\n\nChange-Id: I2a5188188b43289a7b8eab1c34d587daded3efe4\n'}, {'number': 2, 'created': '2016-02-20 03:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/efed9fd70538a774a692d2e3e0169fd95290b708', 'message': 'Initial POC/experimental builder code (for the general good)\n\nChange-Id: I2a5188188b43289a7b8eab1c34d587daded3efe4\n'}, {'number': 3, 'created': '2016-02-20 17:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/eb2cba3af2490f6dc124b4005fc9f2d15a60cdd7', 'message': 'Initial POC/experimental builder code (for the general good)\n\nChange-Id: I2a5188188b43289a7b8eab1c34d587daded3efe4\n'}, {'number': 4, 'created': '2016-02-24 00:11:45.000000000', 'files': ['taskflow/builder.py', 'taskflow/tests/unit/test_builder.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2e85fd78f0532f3a6c58afa062717220de0f301a', 'message': 'Initial POC/experimental builder code (for the general good)\n\nChange-Id: I2a5188188b43289a7b8eab1c34d587daded3efe4\n'}]",0,282584,2e85fd78f0532f3a6c58afa062717220de0f301a,15,3,4,1297,,,0,"Initial POC/experimental builder code (for the general good)

Change-Id: I2a5188188b43289a7b8eab1c34d587daded3efe4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/84/282584/4 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/builder.py'],1,6dbfab583595dbeda38c7d89047f029604dc535e,builder,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from taskflow.patterns import linear_flow as lf from taskflow import task from taskflow.patterns import unordered_flow as uf class BuildError(Exception): """"""Error related to building a workflow activities."""""" class _Builder(object): """"""A helper that can make building composed flows easier. Similar to jquery and/or other similar projects that offer similar kind of mini-DSL like syntax for working with there APIs and objects. """""" DEFAULT_ROOT_NAME = 'root' SUB_ROOT_NAME_TPL = 'sub-%s' def __init__(self, name_generator=None): self._flows = [] self._name_generator = name_generator @property def flow(self): if self._flows: return self._flows[0] else: return None def begin(self): if self._flows: raise BuildError(""Can only begin building a flow once"") if self._name_generator is not None: name = self._name_generator(0) else: name = self.DEFAULT_ROOT_NAME self._flows.append(lf.Flow(name)) return self def do(self, thing): if not self._flows: raise BuildError(""Builder 'begin' must be called before 'do'"") f = self._flows[-1] if isinstance(thing, task.Task): f.add(thing) elif six.callable(thing): f.add(task.FunctorTask(thing)) else: raise TypeError(""Unknown how to add '%s' as a thing"" "" to be done"" % (type(thing).__name__)) return self def then(self): curr_am = len(self._flows) if not curr_am: raise BuildError(""Builder 'begin' must be called before 'then'"") if self._name_generator is not None: name = self._name_generator(curr_am) else: name = self.SUB_ROOT_NAME_TPL % (curr_am) self._flows.append(lf.Flow(name)) return self def then_parallel(self): curr_am = len(self._flows) if not curr_am: raise BuildError(""Builder 'begin' must be called"" "" before 'then_parallel'"") if self._name_generator is not None: name = self._name_generator(curr_am) else: name = self.SUB_ROOT_NAME_TPL % (curr_am) self._flows.append(uf.Flow(name)) return self def b(name_generator=None): """"""Creates a new builder instance (and returns it)."""""" return _Builder(name_generator=name_generator) ",,96,0
openstack%2Ftaskflow~master~I8b51bc34b4a697d595bbac43402630aaab7e8218,openstack/taskflow,master,I8b51bc34b4a697d595bbac43402630aaab7e8218,"Remove some of the silly import renames (task_atom, retry_atom)",ABANDONED,2016-02-19 03:56:19.000000000,2018-03-22 03:44:10.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-02-19 03:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4205ce2b1621a19f9e3ab2787d5a050d825150e1', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 2, 'created': '2016-02-19 04:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/da989e684b1337a68bc36519eb0fd8af141d2599', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 3, 'created': '2016-02-23 06:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9ca44d7ee4dc8428c573db26966bc1a6fe0b8add', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 4, 'created': '2016-02-23 18:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/30c86cf4f7e7bfab43732c59069ebf002c99207a', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 5, 'created': '2016-05-03 17:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8aa50a4c5c89f1611a0572ae2798442f31034723', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 6, 'created': '2016-05-11 23:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dc9c9340054eeafc801e450603598a24a283daec', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 7, 'created': '2016-05-27 21:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bedbb5204a1cd5fb3dbcd34181e0296baa46375d', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}, {'number': 8, 'created': '2016-07-22 02:00:07.000000000', 'files': ['taskflow/flow.py', 'taskflow/task.py', 'taskflow/constants.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/process_executor.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/retry.py', 'taskflow/engines/action_engine/executor.py', 'taskflow/engines/action_engine/completer.py', 'taskflow/engines/worker_based/worker.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e5b45ddefc6e52463483ff23fe3f73687f6d2a39', 'message': 'Remove some of the silly import renames (task_atom, retry_atom)\n\nInstead of doing these somewhat silly import aliases just import\nfrom these modules directly what is needed (typically constants\nor class objects) and use those directly instead. This makes a\nfew less silly imports needed/used and makes the world happier by\ndoing that.\n\nChange-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218\n'}]",9,282158,e5b45ddefc6e52463483ff23fe3f73687f6d2a39,28,3,8,1297,,,0,"Remove some of the silly import renames (task_atom, retry_atom)

Instead of doing these somewhat silly import aliases just import
from these modules directly what is needed (typically constants
or class objects) and use those directly instead. This makes a
few less silly imports needed/used and makes the world happier by
doing that.

Change-Id: I8b51bc34b4a697d595bbac43402630aaab7e8218
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/58/282158/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/executor.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/engines/action_engine/executor.py', 'taskflow/engines/action_engine/completer.py', 'taskflow/engines/worker_based/worker.py']",6,4205ce2b1621a19f9e3ab2787d5a050d825150e1,bp/seperate-revert-args,"from taskflow.task import Task # noqa return [endpoint.Endpoint(task) for task in misc.find_subclasses(tasks, Task)]","from taskflow import task as t_task derived_tasks = misc.find_subclasses(tasks, t_task.Task) return [endpoint.Endpoint(task) for task in derived_tasks]",34,32
openstack%2Ftaskflow~master~I7861925ff55816a6dfa15ceda14a08e96f1baab3,openstack/taskflow,master,I7861925ff55816a6dfa15ceda14a08e96f1baab3,Add metrics to workers so that selection functions can be smarter,ABANDONED,2016-02-18 03:22:49.000000000,2018-03-22 03:44:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2016-02-18 03:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/698a271a7ba23c2672ac4b85e474984254a6af93', 'message': 'Add metrics to workers so that selection functions can be smarter\n\nStart to add metrics to each worker (and perform some identity cleanup\nat the same time) so that worker selection functions can make better\ndecisions about which worker to pick.\n\nChange-Id: I7861925ff55816a6dfa15ceda14a08e96f1baab3\n'}, {'number': 2, 'created': '2016-02-18 03:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/37ea0207b79b10e843172f04d476f4964a799e1c', 'message': 'Add metrics to workers so that selection functions can be smarter\n\nStart to add metrics to each worker (and perform some identity cleanup\nat the same time) so that worker selection functions can make better\ndecisions about which worker to pick.\n\nChange-Id: I7861925ff55816a6dfa15ceda14a08e96f1baab3\n'}, {'number': 3, 'created': '2016-02-18 21:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0311aec758c0017e2fa7f8e85a995d4f8e6d8511', 'message': 'Add metrics to workers so that selection functions can be smarter\n\nStart to add metrics to each worker (and perform some identity cleanup\nat the same time) so that worker selection functions can make better\ndecisions about which worker to pick.\n\nChange-Id: I7861925ff55816a6dfa15ceda14a08e96f1baab3\n'}, {'number': 4, 'created': '2016-02-18 22:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2c98baf5e377724ea3501a56de4bc4b8d4efd70f', 'message': 'Add metrics to workers so that selection functions can be smarter\n\nStart to add metrics to each worker (and perform some identity cleanup\nat the same time) so that worker selection functions can make better\ndecisions about which worker to pick.\n\nChange-Id: I7861925ff55816a6dfa15ceda14a08e96f1baab3\n'}, {'number': 5, 'created': '2016-02-19 03:09:36.000000000', 'files': ['taskflow/engines/worker_based/executor.py', 'taskflow/engines/worker_based/types.py', 'taskflow/tests/unit/worker_based/test_executor.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/tests/unit/worker_based/test_types.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f4bbed0b1a625a9be457c53799e1ab029aa10af6', 'message': 'Add metrics to workers so that selection functions can be smarter\n\nStart to add metrics to each worker (and perform some identity cleanup\nat the same time) so that worker selection functions can make better\ndecisions about which worker to pick.\n\nChange-Id: I7861925ff55816a6dfa15ceda14a08e96f1baab3\n'}]",0,281617,f4bbed0b1a625a9be457c53799e1ab029aa10af6,11,2,5,1297,,,0,"Add metrics to workers so that selection functions can be smarter

Start to add metrics to each worker (and perform some identity cleanup
at the same time) so that worker selection functions can make better
decisions about which worker to pick.

Change-Id: I7861925ff55816a6dfa15ceda14a08e96f1baab3
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/17/281617/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/engines/worker_based/types.py'],1,698a271a7ba23c2672ac4b85e474984254a6af93,wbe-cleanups," """"""A (mostly read-only) worker and its relevant information."""""" def __init__(self, topic, tasks): self.metrics = { 'notify_responses': 0, } return True r = ""<TopicWorker object at 0x%x "" % id(self) r += ""tasks=%s, topic=%s, "" % (self.tasks, self.topic) r += ""last_seen=%s, metrics=%s"" % (self.last_seen, self.metrics) r += "">"" new_worker = TopicWorker(topic, tasks) try: existing_worker = self._workers[topic] if existing_worker == new_worker: return (existing_worker, False) # active worker object that already exists that we just use # the new one; so that the existing object doesn't get # affected (workers objects are supposed to be immutable, except # for there metrics that they carry). except KeyError: self._seen_workers += 1 self._workers[topic] = new_worker return (new_worker, True) LOG.debug(""Updated (or added) worker '%s' (%s total workers"" "" are currently known)"", worker, self.total_workers) worker.metrics['notify_responses'] += 1"," """"""A (read-only) worker and its relevant information + useful methods."""""" _NO_IDENTITY = object() def __init__(self, topic, tasks, identity=_NO_IDENTITY): self.identity = identity # If one of the identity equals _NO_IDENTITY, then allow it to match... if self._NO_IDENTITY in (self.identity, other.identity): return True else: return other.identity == self.identity r = reflection.get_class_name(self, fully_qualified=False) if self.identity is not self._NO_IDENTITY: r += ""(identity=%s, tasks=%s, topic=%s)"" % (self.identity, self.tasks, self.topic) else: r += ""(identity=*, tasks=%s, topic=%s)"" % (self.tasks, self.topic) def _next_worker(self, topic, tasks, temporary=False): if not temporary: w = TopicWorker(topic, tasks, identity=self._seen_workers) self._seen_workers += 1 return w else: return TopicWorker(topic, tasks) try: worker = self._workers[topic] if worker == self._next_worker(topic, tasks, temporary=True): return (worker, False) # active worker object that already exists that we just create # a new one; so that the existing object doesn't get # affected (workers objects are supposed to be immutable). except KeyError: pass worker = self._next_worker(topic, tasks) self._workers[topic] = worker return (worker, True) LOG.debug(""Updated worker '%s' (%s total workers are"" "" currently known)"", worker, self.total_workers)",24,36
openstack%2Ftaskflow~master~Ib8d671f9dfcb50e239a98f0f37e6c4a51a834b27,openstack/taskflow,master,Ib8d671f9dfcb50e239a98f0f37e6c4a51a834b27,Make it easier to switch out the WBE worker selector,ABANDONED,2016-02-15 03:58:23.000000000,2018-03-22 03:43:58.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6486}]","[{'number': 1, 'created': '2016-02-15 03:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fa646dee53b7553032b31ff81f5acedf5e541182', 'message': 'Make it easier to switch out the WBE worker selector\n\nChange-Id: Ib8d671f9dfcb50e239a98f0f37e6c4a51a834b27\n'}, {'number': 2, 'created': '2016-02-18 00:06:23.000000000', 'files': ['taskflow/engines/worker_based/engine.py', 'taskflow/engines/worker_based/executor.py', 'taskflow/engines/worker_based/types.py', 'taskflow/tests/unit/worker_based/test_creation.py', 'taskflow/tests/unit/worker_based/test_types.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/11d1191e83b74806c90a5fb6a4fb2e582b550ac3', 'message': 'Make it easier to switch out the WBE worker selector\n\nAllow for providing a custom function that users can\ngive to the engine and that function will be expected\nto return one of the workers that can best perform the\ngiven task (if any).\n\nChange-Id: Ib8d671f9dfcb50e239a98f0f37e6c4a51a834b27\n'}]",0,280056,11d1191e83b74806c90a5fb6a4fb2e582b550ac3,9,3,2,1297,,,0,"Make it easier to switch out the WBE worker selector

Allow for providing a custom function that users can
give to the engine and that function will be expected
to return one of the workers that can best perform the
given task (if any).

Change-Id: Ib8d671f9dfcb50e239a98f0f37e6c4a51a834b27
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/56/280056/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/types.py', 'taskflow/tests/unit/worker_based/test_types.py']",2,fa646dee53b7553032b31ff81f5acedf5e541182,wbe-cleanups," def test_failed_match_worker(self): finder = worker_types.ProxyWorkerFinder('me', mock.MagicMock(), []) self.assertIsNone(finder.get_worker_for_task(utils.DummyTask())) ",,17,17
openstack%2Ftaskflow~master~I4e9d2b4819549e3d84a1157b1f9968a61ed68b8e,openstack/taskflow,master,I4e9d2b4819549e3d84a1157b1f9968a61ed68b8e,Protect state machine storage access better,ABANDONED,2016-02-02 22:47:23.000000000,2018-03-22 03:43:43.000000000,,[{'_account_id': 6486}],"[{'number': 1, 'created': '2016-02-02 22:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3250325f53d37bdd7e4bdff48c92b0545d3e0ce5', 'message': 'Protect state machine storage access better\n\nPut guards on the state-machine reaction functions\nso that they can be better protected from any externally\ntriggered storage changes.\n\nChange-Id: I4e9d2b4819549e3d84a1157b1f9968a61ed68b8e\n'}, {'number': 2, 'created': '2016-02-02 23:36:14.000000000', 'files': ['taskflow/storage.py', 'taskflow/tests/unit/action_engine/test_builder.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/builder.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4197d68ea9ca8c5892805c664df948dc46b55fe2', 'message': 'Protect state machine storage access better\n\nPut guards on the state-machine reaction functions\nso that they can be better protected from any externally\ntriggered storage changes.\n\nChange-Id: I4e9d2b4819549e3d84a1157b1f9968a61ed68b8e\n'}]",0,275430,4197d68ea9ca8c5892805c664df948dc46b55fe2,8,1,2,1297,,,0,"Protect state machine storage access better

Put guards on the state-machine reaction functions
so that they can be better protected from any externally
triggered storage changes.

Change-Id: I4e9d2b4819549e3d84a1157b1f9968a61ed68b8e
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/30/275430/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/storage.py', 'taskflow/engines/action_engine/builder.py']",2,3250325f53d37bdd7e4bdff48c92b0545d3e0ce5,fixed-reject,"import sixdef _guard(storage, acquire_write_lock): if acquire_write_lock: guard_cm = storage.lock.write_lock else: guard_cm = storage.lock.read_lock def decorator(func): @six.wraps(func) def wrapper(*args, **kwargs): with guard_cm(): return func(*args, **kwargs) return wrapper return decorator @_guard(self._storage, # Since this may activate deciders it needs to be write # since deciders will mutate things (and resuming may # also trigger retry strategies to be applied which will # also mutate things). True) @_guard(self._storage, # Everything done here should be read-only as no deciders # are activated and all contained calls should be read and # check... False) @_guard(self._storage, # Scheduling alters states in the underlying storage, # so protect said state changes with a write-guard, # the scheduling code also does quite a few reads, but # in the normal (and expected) case it will do at least # one write. True) # NOTE(harlowja): no guard needed (already guarded by its caller). # NOTE(harlowja): no guard needed, does not touch storage... just # waits for things to finish to then be analyzed and saved and # next work to be found.... @_guard(self._storage, # Needs a write (and read) guard since it saves atoms # results into storage and also finds further atoms which # may activate deciders and retry strategy resolutions (all # which can mutate storage). True)",,57,0
openstack%2Ftaskflow~master~I4f8acc4419644f4c867827e1b4da8e9d6da41305,openstack/taskflow,master,I4f8acc4419644f4c867827e1b4da8e9d6da41305,Split off completion state-changing from '_safe_change_state',ABANDONED,2016-02-02 20:09:50.000000000,2018-03-22 03:43:40.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 10584}]","[{'number': 1, 'created': '2016-02-02 20:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a5bd5ceef752447415672e7d2f7fcbd89ed64491', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}, {'number': 2, 'created': '2016-02-02 20:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/75c7b8737150f04a943c800b07207de6d4a39fb2', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}, {'number': 3, 'created': '2016-02-02 23:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1cb8139d4aec805df061425f226cbaebf2c5d838', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}, {'number': 4, 'created': '2016-02-03 17:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2c7fc93365dc58112afc2de933d93edd95800f6c', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}, {'number': 5, 'created': '2016-02-03 23:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/20b686305b03375a2af5ad0d0ad341004d446a78', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}, {'number': 6, 'created': '2016-02-04 01:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9862fa7efe0f7019f8d83e6606dccc15bf8a7e08', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}, {'number': 7, 'created': '2016-02-04 01:53:05.000000000', 'files': ['taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/86e7784ed03cdeb7fd725f888d1812613b04f844', 'message': ""Split off completion state-changing from '_safe_change_state'\n\nThe '_safe_change_state' complexity and code is not needed\nfor completion of atoms, so avoid going through the same code\npath. This makes the code less confusing and easier to understand\nand read/follow.\n\nChange-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305\n""}]",2,275393,86e7784ed03cdeb7fd725f888d1812613b04f844,19,3,7,1297,,,0,"Split off completion state-changing from '_safe_change_state'

The '_safe_change_state' complexity and code is not needed
for completion of atoms, so avoid going through the same code
path. This makes the code less confusing and easier to understand
and read/follow.

Change-Id: I4f8acc4419644f4c867827e1b4da8e9d6da41305
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/93/275393/3 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py']",2,a5bd5ceef752447415672e7d2f7fcbd89ed64491,fixed-reject," def change_state(self, retry, to_state): with self._try_change_state(retry, to_state): def _complete(self, retry, to_state, result=base.Action.NO_RESULT): was_changed = False if result is not self.NO_RESULT: self._storage.save(retry.name, result, to_state) was_changed = True # TODO(harlowja): combine this with the save to avoid a call # back into the persistence layer... if to_state == states.REVERTED: self._storage.cleanup_retry_history(retry.name, to_state) was_changed = True if was_changed: old_state = self._storage.get_atom_state(retry.name) if result is not self.NO_RESULT: self.notify(retry, to_state, old_state, result=result) else: self.notify(retry, to_state, old_state) def _try_change_state(self, retry, to_state, old_state=None): if to_state != old_state: self._storage.set_atom_state(retry.name, to_state) state_changed = False event_id = None event_id = self.notify(retry, to_state, old_state) self.notify(retry, to_state, old_state) with self._try_change_state(retry, states.RUNNING, old_state=work.state): with self._try_change_state(retry, states.REVERTING, old_state=work.state): self._complete(retry, to_state, result=result) self._complete(retry, to_state, result=result)"," def change_state(self, retry, to_state, result=base.Action.NO_RESULT): with self._safe_change_state(retry, to_state, result=result): def _safe_change_state(self, retry, to_state, result=base.Action.NO_RESULT, old_state=None): if to_state in self.SAVE_RESULT_STATES: if result is not self.NO_RESULT: self._storage.save(retry.name, result, to_state) # TODO(harlowja): combine this with the save to avoid a call # back into the persistence layer... if to_state == states.REVERTED: self._storage.cleanup_retry_history(retry.name, to_state) if to_state != old_state: self._storage.set_atom_state(retry.name, to_state) state_changed = True else: state_changed = False if result is not self.NO_RESULT: event_id = self.notify(retry, to_state, old_state, result=result) else: event_id = self.notify(retry, to_state, old_state) if result is not self.NO_RESULT: self.notify(retry, to_state, old_state, result=result) else: self.notify(retry, to_state, old_state) with self._safe_change_state(retry, states.RUNNING, old_state=work.state): with self._safe_change_state(retry, states.REVERTING, old_state=work.state): self.change_state(retry, to_state, result=result) self.change_state(retry, to_state, result=result)",66,78
openstack%2Ftaskflow~master~I5581d3a055945317fe0930842db3c8c14656a8ba,openstack/taskflow,master,I5581d3a055945317fe0930842db3c8c14656a8ba,Handle rejected execution submission exceptions better,ABANDONED,2016-01-28 20:12:56.000000000,2018-03-22 03:43:31.000000000,,"[{'_account_id': 6486}, {'_account_id': 10584}]","[{'number': 1, 'created': '2016-01-28 20:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b555930f831604661895db6c01e52c0465fa6740', 'message': 'Handle futurist rejected execution submission exceptions\n\nFuturist executors (which derive from the ones taskflow\nuses) support rejecting submitted work due to various policies\nso handle when one of these exceptions is thrown instead of\njust aborting the engine.\n\nThis allows for those policies to correctly be handled when\nthey are raised by the executor that the engine was provided\nwith.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 2, 'created': '2016-01-29 02:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/782c4f4b4e94b4570dcfbf2d8f733fac7b53654a', 'message': 'Handle futurist rejected execution submission exceptions (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine.\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 3, 'created': '2016-01-29 08:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f47a300913f2ffb41affdec6221819e9b4bc84a2', 'message': 'Handle futurist rejected execution submission exceptions (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine.\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 4, 'created': '2016-01-29 17:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/00299128972f20576bc4246d8a358cbb4299092d', 'message': 'Handle futurist rejected execution submission exceptions (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine.\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 5, 'created': '2016-01-29 19:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a9701f814f21f6ace85200db3834a4d69b2b1dd3', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 6, 'created': '2016-01-29 19:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/82df3da15c3a952fcc1ae19f726f49c725d0da9c', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 7, 'created': '2016-01-30 02:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b20ec9c4c3c249704c4dfb09242f41bd9f6498c3', 'message': 'Handle rejected execution submission exceptions better (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 8, 'created': '2016-01-31 06:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1f34dd35e3f4b73ca53618f8458fa822f69d0d0a', 'message': 'Handle rejected execution submission exceptions better (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 9, 'created': '2016-02-01 03:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/63c464091bebb7ad7f278d9c01214904140e6d2b', 'message': 'Handle rejected execution submission exceptions better (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 10, 'created': '2016-02-01 04:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/29f9a7f0828e8dc0b9e6c104be87e285c56ec0e2', 'message': 'Handle rejected execution submission exceptions better (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 11, 'created': '2016-02-01 06:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a6d07e64fd7a772ce20191211dbda096b089cd3c', 'message': 'Handle rejected execution submission exceptions better (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 12, 'created': '2016-02-01 16:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/512796dd83c44e6676234f420c027abdac31c4d2', 'message': 'Handle rejected execution submission exceptions better (WIP)\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 13, 'created': '2016-02-02 01:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c5ed12ef7cae34df539fc75f9ac3b463a996f9aa', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 14, 'created': '2016-02-02 01:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/47811967b01344b58439958efce882ffbb5d319f', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 15, 'created': '2016-02-02 02:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/56f723155365b4a9f11fdcd498f99066412e1851', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 16, 'created': '2016-02-02 06:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f0ae9d6e7f9da15d251b3b2b3d5b3193a95aa653', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 17, 'created': '2016-02-02 06:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ea9032b695680e5d81ae7b7e25ab7345ae77cb3e', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 18, 'created': '2016-02-02 07:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/535450ee6877d2f57206482d537f2359c992d9b0', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 19, 'created': '2016-02-02 07:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/134aa4f49b77062f1098381691c6d24ae527f484', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 20, 'created': '2016-02-02 08:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/242edba7bfcad7e3dff0328ce22a41861b61d767', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 21, 'created': '2016-02-02 18:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8749a592c0edf2b5cb2a193df7c670ee4052848a', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 22, 'created': '2016-02-02 21:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/29c3ccfce5f2cfb6a849e0b688d1f609cf2ef8c3', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 23, 'created': '2016-02-02 22:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3ffaf8655dc1155bcda416c5650f722aff910d4f', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 24, 'created': '2016-02-03 00:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0aa62e47347bd60b273d87d1e86b75be25184564', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}, {'number': 25, 'created': '2016-02-03 22:34:17.000000000', 'files': ['taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/actions/base.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/types/notifier.py', 'taskflow/engines/action_engine/executor.py', 'taskflow/tests/unit/test_retries.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/scheduler.py', 'taskflow/engines/action_engine/work.py', 'taskflow/test.py', 'taskflow/tests/unit/action_engine/test_builder.py', 'taskflow/engines/worker_based/executor.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/tests/utils.py', 'taskflow/exceptions.py', 'taskflow/engines/action_engine/completer.py', 'taskflow/tests/unit/worker_based/test_server.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bf3f8bde5c36660fbbee89ffbedc3f1d86abedfa', 'message': 'Handle rejected execution submission exceptions better\n\nFuturist executors (which derive from the ones taskflow uses) support\nrejecting submitted work due to various policies so handle when one\nof these exceptions is thrown instead of just aborting the engine. Also\nconcurrent.futures executors can throw runtime error if they have been\nshutdown during engine usage (such a thing can happen if a user provides\na executor and they are using it for other out of engine activity).\n\nThis allows for those policies to correctly be handled when they are\nraised by the executor that the engine was provided with.\n\nCloses-Bug: #1540549\n\nChange-Id: I5581d3a055945317fe0930842db3c8c14656a8ba\n'}]",0,273731,bf3f8bde5c36660fbbee89ffbedc3f1d86abedfa,46,2,25,1297,,,0,"Handle rejected execution submission exceptions better

Futurist executors (which derive from the ones taskflow uses) support
rejecting submitted work due to various policies so handle when one
of these exceptions is thrown instead of just aborting the engine. Also
concurrent.futures executors can throw runtime error if they have been
shutdown during engine usage (such a thing can happen if a user provides
a executor and they are using it for other out of engine activity).

This allows for those policies to correctly be handled when they are
raised by the executor that the engine was provided with.

Closes-Bug: #1540549

Change-Id: I5581d3a055945317fe0930842db3c8c14656a8ba
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/31/273731/25 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/executor.py', 'taskflow/engines/action_engine/scheduler.py']",3,b555930f831604661895db6c01e52c0465fa6740,fixed-reject,"import futurist purposes). It should return a triplet of futures scheduled, failure objects that represent scheduling failures, atoms which where not scheduled (perhaps due to the executor having rate-limiting, or other execution restricting policies). not_scheduled = set() failures = [] just_save_as_not_scheduled = False for atom in atoms: if just_save_as_not_scheduled: not_scheduled.add(atom) else: scheduler = self._runtime.fetch_scheduler(atom) try: futures.add(scheduler.schedule(atom)) except futurist.RejectedSubmission: not_scheduled.add(atom) except Exception: # Immediately stop scheduling future work so that we can # exit execution early (rather than later) if a single atom # fails to schedule correctly. failures.append(failure.Failure()) not_scheduled.add(atom) just_save_as_not_scheduled = True return (futures, failures, not_scheduled)"," purposes). It should also return any failure objects that represented scheduling failures that may have occurred during this scheduling process. for atom in atoms: scheduler = self._runtime.fetch_scheduler(atom) try: futures.add(scheduler.schedule(atom)) except Exception: # Immediately stop scheduling future work so that we can # exit execution early (rather than later) if a single atom # fails to schedule correctly. return (futures, [failure.Failure()]) return (futures, [])",31,15
openstack%2Ftaskflow~master~I06a8e2a8e2cef27b31c380b2641c3dff59977a8f,openstack/taskflow,master,I06a8e2a8e2cef27b31c380b2641c3dff59977a8f,Make the completer resume() function easier to understand,ABANDONED,2016-01-23 18:34:31.000000000,2018-03-22 03:43:26.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-01-23 18:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d1a7e2fb0a664509e4cb4a04e0d0314345cf250f', 'message': 'Make the completer resume() function easier to understand (WIP)\n\nChange-Id: I06a8e2a8e2cef27b31c380b2641c3dff59977a8f\n'}, {'number': 2, 'created': '2016-01-24 21:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9340b8fa4b534d16f933627a88915595136ccf87', 'message': 'Make the completer resume() function easier to understand\n\nThis also makes it be able to handle resuming in a more\niterative manner (vs one that has to grab all the atoms states\nat once).\n\nIt also adds more trace logging around the resumption\nactivities.\n\nChange-Id: I06a8e2a8e2cef27b31c380b2641c3dff59977a8f\n'}, {'number': 3, 'created': '2016-01-25 00:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/03029803bf76bfbd569ff5551aa30bd786cf7f5c', 'message': ""Make the completer resume() function easier to understand\n\nThis also makes it be able to handle resuming in a more\niterative manner (vs one that has to grab all the atoms states\nat once).\n\nIt also adds more trace logging around the resumption\nactivities which is useful for figuring out what is or isn't\nhappening.\n\nChange-Id: I06a8e2a8e2cef27b31c380b2641c3dff59977a8f\n""}, {'number': 4, 'created': '2016-01-25 18:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bc6df53fd4dc8e6c24dae67c57e9c273d4cc1ef1', 'message': ""Make the completer resume() function easier to understand\n\nThis also makes it be able to handle resuming in a more\niterative manner (vs one that has to grab all the atoms states\nat once).\n\nIt also adds more trace logging around the resumption\nactivities which is useful for figuring out what is or isn't\nhappening.\n\nChange-Id: I06a8e2a8e2cef27b31c380b2641c3dff59977a8f\n""}, {'number': 5, 'created': '2016-05-03 18:27:45.000000000', 'files': ['taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dbbfca85046001a691f1e1927071e13feec563c9', 'message': ""Make the completer resume() function easier to understand\n\nThis also makes it be able to handle resuming in a more\niterative manner (vs one that has to grab all the atoms states\nat once).\n\nIt also adds more trace logging around the resumption\nactivities which is useful for figuring out what is or isn't\nhappening.\n\nChange-Id: I06a8e2a8e2cef27b31c380b2641c3dff59977a8f\n""}]",2,271715,dbbfca85046001a691f1e1927071e13feec563c9,17,2,5,1297,,,0,"Make the completer resume() function easier to understand

This also makes it be able to handle resuming in a more
iterative manner (vs one that has to grab all the atoms states
at once).

It also adds more trace logging around the resumption
activities which is useful for figuring out what is or isn't
happening.

Change-Id: I06a8e2a8e2cef27b31c380b2641c3dff59977a8f
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/15/271715/5 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/completer.py']",2,d1a7e2fb0a664509e4cb4a04e0d0314345cf250f,270446," for atom in self._analyzer.iterate_nodes(co.ATOMS): atom_states = self._storage.get_atoms_states([atom.name]) atom_state, atom_intention = atom_states[atom.name] if atom_state == st.FAILURE: LOG.trace(""Processing atom '%s' failure since it was left"" "" in state %s (with intention %s)"", atom, atom_state, atom_intention) for retry in self._analyzer.iterate_nodes((co.RETRY,)): atom_states = self._storage.get_atoms_states([retry.name]) atom_state, atom_intention = atom_states[retry.name] if atom_state == st.RETRYING: LOG.trace(""Processing retry '%s' partial completion since it"" "" was left in state %s (with intention %s)"", retry, atom_state, atom_intention) self._runtime.retry_subflow(retry) for atom in self._analyzer.iterate_nodes(co.ATOMS): atom_states = self._storage.get_atoms_states([atom.name]) atom_state, atom_intention = atom_states[atom.name] "" state %s (with intention %s)"", atom, atom_state, atom_intention) LOG.trace(""Resumption found %s incomplete atoms"", len(unfinished_atoms))"," atoms = list(self._analyzer.iterate_nodes(co.ATOMS)) atom_states = self._storage.get_atoms_states(atom.name for atom in atoms) for atom in atoms: atom_state, _atom_intention = atom_states[atom.name] if atom_state == st.FAILURE: for retry in self._analyzer.iterate_retries(st.RETRYING): for atom, state, intention in self._runtime.retry_subflow(retry): if state: atom_states[atom.name] = (state, intention) for atom in atoms: atom_state, _atom_intention = atom_states[atom.name] "" state %s"", atom, atom_state)",21,27
openstack%2Ftaskflow~master~I718a11fd5e65365d5423045e51e657708781878c,openstack/taskflow,master,I718a11fd5e65365d5423045e51e657708781878c,Add task 'critical' attribute,ABANDONED,2016-01-22 01:50:55.000000000,2018-03-22 03:43:18.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 8895}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-01-22 01:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/763d628521032affeae3f55ad7383266eaef6bad', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 2, 'created': '2016-01-22 01:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/675717ed1650bff8c8c2bacd76752aaeba83ca9b', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 3, 'created': '2016-01-22 02:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/34c7d9328c9cea4d39fa09b2b35b1a888abb892e', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 4, 'created': '2016-01-22 19:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c35f6600063bd2a8bd72734db75d58d375f8a5e7', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 5, 'created': '2016-01-22 19:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5af301d0762e3b7cde54afcf499f78fd962f6c01', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 6, 'created': '2016-01-22 19:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0a8eb73a329284c6f6e740baf6c874116f88baae', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 7, 'created': '2016-01-22 22:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d4e81319ab1750e2d3111f8c09a3df3272186790', 'message': ""Add task 'critical' attribute (WIP)\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 8, 'created': '2016-01-22 23:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e50c40deb517aca18bd2e5dcf442207eece55a4a', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 9, 'created': '2016-01-25 20:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/33068ed4edee5c1343955e1ea8a5aad86425b85b', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 10, 'created': '2016-02-28 04:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2adb181829700e81d1f44dbb06faafc9b90bffc5', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 11, 'created': '2016-05-03 18:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/36cc0bdf5edd777e176e1fc45669bddf5af8bfbd', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 12, 'created': '2016-05-03 20:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3a5e4b4109d7861bc649e1cdedff4934f2feafee', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 13, 'created': '2016-05-03 23:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ae4d88de1028dceb415b39751fe84b87eff26883', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 14, 'created': '2016-05-27 21:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cc46e3ba3832eb9bb9bd982dfa0aed566fd5aa51', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}, {'number': 15, 'created': '2016-07-27 00:27:38.000000000', 'files': ['taskflow/engines/action_engine/builder.py', 'taskflow/task.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/tests/utils.py', 'taskflow/tests/unit/test_retries.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b7038381be0b735be55ac4a078aa708723334af5', 'message': ""Add task 'critical' attribute\n\nGlance has a task subclass they are using that makes tasks\nnot critical but it has limitations in that such task has\nto wrap exceptions that are triggered and not raise them for\nthe taskflow engine to continue on.\n\nTo make this pattern more 'standard' have a attribute on\ntasks that allows a task to denote whether it is critical or\nwhether it is not (default to critical to retain the existing\nbehavior). When a task is marked as not critical it will be\nable to fail and not trigger the engine itself to stop scheduling\nfurther work.\n\nCode from glance that inspired this change is at:\n\nhttps://github.com/openstack/glance/blob/stable/liberty/\\\n        glance/async/utils.py\n\nChange-Id: I718a11fd5e65365d5423045e51e657708781878c\n""}]",10,271116,b7038381be0b735be55ac4a078aa708723334af5,40,4,15,1297,,,0,"Add task 'critical' attribute

Glance has a task subclass they are using that makes tasks
not critical but it has limitations in that such task has
to wrap exceptions that are triggered and not raise them for
the taskflow engine to continue on.

To make this pattern more 'standard' have a attribute on
tasks that allows a task to denote whether it is critical or
whether it is not (default to critical to retain the existing
behavior). When a task is marked as not critical it will be
able to fail and not trigger the engine itself to stop scheduling
further work.

Code from glance that inspired this change is at:

https://github.com/openstack/glance/blob/stable/liberty/\
        glance/async/utils.py

Change-Id: I718a11fd5e65365d5423045e51e657708781878c
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/16/271116/6 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/builder.py', 'taskflow/task.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/completer.py']",4,763d628521032affeae3f55ad7383266eaef6bad,270446,"class NoopStrategy(Strategy): """"""Strategy that does nothing."""""" def apply(self): return [] self._noop_resolver = NoopStrategy(self._runtime) def complete_failure(self, atom, outcome, failure): failures or whether this should not be done and whether the failure was critical to engine operation. return (False, self._process_atom_failure(atom, failure)) else: # Reverting failed, always retain the (critical) failure... return (True, True) def complete(self, atom, outcome, result): """"""Performs post-execution completion of a atom result."""""" handler = self._runtime.fetch_action(atom) if outcome == ex.EXECUTED: handler.complete_execution(atom, result) else: handler.complete_reversion(atom, result) if getattr(atom, 'critical', True): return self._undefined_resolver else: return self._noop_resolver return resolver is self._noop_resolver"," def complete_failure(self, node, outcome, failure): failures or whether this should not be done. self._process_atom_failure(node, failure) return False else: # Reverting failed, always retain the failure... return True def complete(self, node, outcome, result): """"""Performs post-execution completion of a node result."""""" handler = self._runtime.fetch_action(node) if outcome == ex.EXECUTED: handler.complete_execution(node, result) else: handler.complete_reversion(node, result) return self._undefined_resolver",55,16
openstack%2Ftaskflow~master~I28f684cd9e3c4efe84421c737067a626cb2d81ec,openstack/taskflow,master,I28f684cd9e3c4efe84421c737067a626cb2d81ec,Add new complete finished atoms state/reaction handler,ABANDONED,2016-01-21 20:25:44.000000000,2018-03-22 03:43:12.000000000,,[{'_account_id': 6486}],"[{'number': 1, 'created': '2016-01-21 20:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9bd3f510b5eac0d70624e0b651e346880fe54a04', 'message': 'Add new complete finished atoms state/reaction handler\n\nInstead of having the analyze function complete atoms\nhave a new state that is responsible for completing finished\natoms that were finished in the waiting state; this new\ncompletion function then once it has finished up then transitions\nthe machine into the analysis state (which then finds follow-up\nwork and so-on).\n\nChange-Id: I28f684cd9e3c4efe84421c737067a626cb2d81ec\n'}, {'number': 2, 'created': '2016-05-03 18:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/55414f1d67046097be032dca4bc542e68cb9afb3', 'message': 'Add new complete finished atoms state/reaction handler\n\nInstead of having the analyze function complete atoms\nhave a new state that is responsible for completing finished\natoms that were finished in the waiting state; this new\ncompletion function then once it has finished up then transitions\nthe machine into the analysis state (which then finds follow-up\nwork and so-on).\n\nChange-Id: I28f684cd9e3c4efe84421c737067a626cb2d81ec\n'}, {'number': 3, 'created': '2016-05-23 23:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/24a565a76d2911c4726721e6467c6bdc1ebb71a9', 'message': 'Add new complete finished atoms state/reaction handler\n\nInstead of having the analyze function complete atoms\nhave a new state that is responsible for completing finished\natoms that were finished in the waiting state; this new\ncompletion function then once it has finished up then transitions\nthe machine into the analysis state (which then finds follow-up\nwork and so-on).\n\nChange-Id: I28f684cd9e3c4efe84421c737067a626cb2d81ec\n'}, {'number': 4, 'created': '2016-05-24 23:33:41.000000000', 'files': ['taskflow/tests/unit/action_engine/test_builder.py', 'taskflow/engines/action_engine/builder.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/72a765117d319ec7d6161a744920b3f660ac54b3', 'message': 'Add new complete finished atoms state/reaction handler\n\nInstead of having the analyze function complete atoms\nhave a new state that is responsible for completing finished\natoms that were finished in the waiting state; this new\ncompletion function then once it has finished up then transitions\nthe machine into the analysis state (which then finds follow-up\nwork and so-on).\n\nChange-Id: I28f684cd9e3c4efe84421c737067a626cb2d81ec\n'}]",0,271025,72a765117d319ec7d6161a744920b3f660ac54b3,15,1,4,1297,,,0,"Add new complete finished atoms state/reaction handler

Instead of having the analyze function complete atoms
have a new state that is responsible for completing finished
atoms that were finished in the waiting state; this new
completion function then once it has finished up then transitions
the machine into the analysis state (which then finds follow-up
work and so-on).

Change-Id: I28f684cd9e3c4efe84421c737067a626cb2d81ec
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/25/271025/4 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/tests/unit/action_engine/test_builder.py', 'taskflow/engines/action_engine/builder.py']",2,9bd3f510b5eac0d70624e0b651e346880fe54a04,270446,"from six.moves import map as compat_mapCOMPLETE_ME = 'COMPLETE_ME' META_STATES = (GAME_OVER, UNDEFINED, COMPLETE_ME)COMPLETE_ATOMS = 'complete_atoms' +--------------+------------------+-------------+----------+---------+ | Start | Event | End | On Enter | On Exit | +--------------+------------------+-------------+----------+---------+ | ANALYZING | completed | GAME_OVER | . | . | | ANALYZING | schedule_next | SCHEDULING | . | . | | ANALYZING | wait_finished | WAITING | . | . | | COMPLETE_ME | examine_finished | ANALYZING | . | . | | FAILURE[$] | . | . | . | . | | GAME_OVER | failed | FAILURE | . | . | | GAME_OVER | reverted | REVERTED | . | . | | GAME_OVER | success | SUCCESS | . | . | | GAME_OVER | suspended | SUSPENDED | . | . | | RESUMING | schedule_next | SCHEDULING | . | . | | REVERTED[$] | . | . | . | . | | SCHEDULING | wait_finished | WAITING | . | . | | SUCCESS[$] | . | . | . | . | | SUSPENDED[$] | . | . | . | . | | UNDEFINED[^] | start | RESUMING | . | . | | WAITING | complete_atoms | COMPLETE_ME | . | . | +--------------+------------------+-------------+----------+---------+ def complete_atoms(old_state, new_state, event): # This completes any done atoms. am_completed = iter_utils.count( compat_map(complete_an_atom, memory.done)) LOG.trace(""Completed %s atoms"", am_completed) return ANALYZE return COMPLETE_ATOMS m.add_state(COMPLETE_ME, **watchers) m.add_transition(st.WAITING, COMPLETE_ME, COMPLETE_ATOMS) m.add_transition(COMPLETE_ME, st.ANALYZING, ANALYZE) m.add_reaction(COMPLETE_ME, COMPLETE_ATOMS, complete_atoms)","META_STATES = (GAME_OVER, UNDEFINED) +--------------+------------------+------------+----------+---------+ | Start | Event | End | On Enter | On Exit | +--------------+------------------+------------+----------+---------+ | ANALYZING | completed | GAME_OVER | . | . | | ANALYZING | schedule_next | SCHEDULING | . | . | | ANALYZING | wait_finished | WAITING | . | . | | FAILURE[$] | . | . | . | . | | GAME_OVER | failed | FAILURE | . | . | | GAME_OVER | reverted | REVERTED | . | . | | GAME_OVER | success | SUCCESS | . | . | | GAME_OVER | suspended | SUSPENDED | . | . | | RESUMING | schedule_next | SCHEDULING | . | . | | REVERTED[$] | . | . | . | . | | SCHEDULING | wait_finished | WAITING | . | . | | SUCCESS[$] | . | . | . | . | | SUSPENDED[$] | . | . | . | . | | UNDEFINED[^] | start | RESUMING | . | . | | WAITING | examine_finished | ANALYZING | . | . | +--------------+------------------+------------+----------+---------+ return ANALYZE # Force it to be completed so that we can ensure that # before we iterate over any successors or predecessors # that we know it has been completed and saved and so on... complete_an_atom(fut) m.add_transition(st.WAITING, st.ANALYZING, ANALYZE)",54,27
openstack%2Ftaskflow~master~Ibdf5437c8981099c9c9929bbca05c5bee6d017b9,openstack/taskflow,master,Ibdf5437c8981099c9c9929bbca05c5bee6d017b9,POC of a different atom internal format,ABANDONED,2016-01-15 21:25:35.000000000,2018-03-22 03:42:58.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-01-15 21:25:35.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/compiler.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dc5fc5286fa147e4658f72b0082ec9bd7c41798c', 'message': 'POC of a different atom internal format\n\nThis internal format can allow for different atom\nexternal formats/versions by having a conversion\nfunction and internal object format that can stay\nthe same (even if the external format/version changes).\n\nDoes not work yet (but WIP)...\n\nChange-Id: Ibdf5437c8981099c9c9929bbca05c5bee6d017b9\n'}]",1,268338,dc5fc5286fa147e4658f72b0082ec9bd7c41798c,8,3,1,1297,,,0,"POC of a different atom internal format

This internal format can allow for different atom
external formats/versions by having a conversion
function and internal object format that can stay
the same (even if the external format/version changes).

Does not work yet (but WIP)...

Change-Id: Ibdf5437c8981099c9c9929bbca05c5bee6d017b9
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/38/268338/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/compiler.py']",2,dc5fc5286fa147e4658f72b0082ec9bd7c41798c,,"class WorkUnit(object): """"""Compiled atom internal class."""""" def __init__(self, atom, kind): self._atom = atom self._compiled_atom = { 'provides': atom.provides, 'requires': atom.requires, 'revert': atom.revert, 'execute': atom.execute, 'name': atom.name, 'rebind': atom.rebind, 'optional': atom.optional, 'kind': kind, } @property def kind(self): return self._compiled_atom['kind'] @property def optional(self): return self._compiled_atom['optional'] @property def rebind(self): return self._compiled_atom['rebind'] @classmethod def compile(cls, atom, kind): """"""Handles compiling different atom bases into the internal format."""""" # Currently doesn't do much, but may at a future time. return cls(atom, kind) @property def name(self): return self._compiled_atom['name'] @property def atom(self): """"""The atom which this represents the compiled version of."""""" return self._atom def __str__(self): return ""%s[c]"" % (self._atom,) task_node = WorkUnit.compile(task, TASK) graph.add_node(task_node, kind=TASK) node = tr.Node(task_node, kind=TASK) retry_node = WorkUnit.compile(flow.retry, RETRY) else: retry_node = None if retry_node is not None: graph.add_node(retry_node, kind=RETRY) _add_update_edges(graph, [flow], [retry_node], if node is not retry_node and node is not flow: graph.node[node].setdefault(RETRY, retry_node) from_nodes = [retry_node]"," graph.add_node(task, kind=TASK) node = tr.Node(task, kind=TASK) if flow.retry is not None: graph.add_node(flow.retry, kind=RETRY) _add_update_edges(graph, [flow], [flow.retry], if node is not flow.retry and node is not flow: graph.node[node].setdefault(RETRY, flow.retry) from_nodes = [flow.retry]",72,12
openstack%2Ftaskflow~master~I382aef9c9533c8a684de3841fea09af1ed2f4052,openstack/taskflow,master,I382aef9c9533c8a684de3841fea09af1ed2f4052,Atom initiated suspension,ABANDONED,2016-01-13 01:29:39.000000000,2018-03-22 03:42:50.000000000,,[{'_account_id': 6486}],"[{'number': 1, 'created': '2016-01-13 01:29:39.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/exceptions.py', 'taskflow/states.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3f38360bafcd59f01a24bf98e3fa9f5564043eda', 'message': 'Atom initiated suspension\n\nAllow atoms that are running inside an engine\nto request that the engine suspend itself when\nthe engine is able to do so.\n\nPart of fixes for bug #1527678\n\nChange-Id: I382aef9c9533c8a684de3841fea09af1ed2f4052\n'}]",0,266626,3f38360bafcd59f01a24bf98e3fa9f5564043eda,6,1,1,1297,,,0,"Atom initiated suspension

Allow atoms that are running inside an engine
to request that the engine suspend itself when
the engine is able to do so.

Part of fixes for bug #1527678

Change-Id: I382aef9c9533c8a684de3841fea09af1ed2f4052
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/26/266626/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/exceptions.py', 'taskflow/states.py', 'taskflow/engines/action_engine/completer.py']",5,3f38360bafcd59f01a24bf98e3fa9f5564043eda,266078,"from taskflow import exceptions as excpclass SuspendResolver(object): """"""Resolver that handles a atom suspension request."""""" def __init__(self, runtime): self._runtime = weakref.proxy(runtime) def __call__(self, atom, failure): self._runtime.reset_atoms([atom], state=st.PENDING, intention=None) self._runtime.on_suspend_request() return False self._suspend_resolver = SuspendResolver(runtime) def complete_failure(self, atom, outcome, failure): if failure.check(excp.PleaseSuspend): resolver = self._suspend_resolver else: # Complete it (even if it failed); so that under crash we know # that the atom failed and that we may have to resume it and # resolve it at a future point... self.complete(atom, outcome, failure) resolver = self._failure_resolvers[outcome] return resolver(atom, failure)"," def complete_failure(self, atom, outcome, result): # Complete it (even if it failed); so that under crash we know # that the atom failed and that we may have to resume it and # resolve it at a future point... self.complete(atom, outcome, result) resolver = self._failure_resolvers[outcome] return resolver(atom, result)",37,14
openstack%2Ftaskflow~master~Ia3cfdf225252456cced65babe1431b7b437fd7a3,openstack/taskflow,master,Ia3cfdf225252456cced65babe1431b7b437fd7a3,Remove need for local failure storage cache,ABANDONED,2016-01-08 01:53:31.000000000,2018-03-22 03:42:45.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2016-01-08 01:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dddb4424496bdec980e263f2deea870dd222e1ff', 'message': ""Remove need for local failure storage cache\n\nAtom details already retain the failure that\nincludes the traceback (unless they are reloaded\nfrom there backing storage) so we don't need\nto double cache them in storage.\n\nChange-Id: Ia3cfdf225252456cced65babe1431b7b437fd7a3\n""}, {'number': 2, 'created': '2016-01-08 23:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3bdc4d634cb3fa35da897f3027a707efbe8e7c16', 'message': ""Remove need for local failure storage cache\n\nAtom details already retain the failure that\nincludes the traceback (unless they are reloaded\nfrom there backing storage) so we don't need\nto double cache them in storage.\n\nChange-Id: Ia3cfdf225252456cced65babe1431b7b437fd7a3\n""}, {'number': 3, 'created': '2016-01-08 23:07:29.000000000', 'files': ['taskflow/storage.py', 'taskflow/tests/unit/test_storage.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/335aabc5af5cde3ce4cfa57931f9ee21ce399a73', 'message': ""Remove need for local failure storage cache\n\nAtom details already retain the failure that\nincludes the traceback (unless they are reloaded\nfrom there backing storage) so we don't need\nto double cache them in storage.\n\nChange-Id: Ia3cfdf225252456cced65babe1431b7b437fd7a3\n""}]",0,265039,335aabc5af5cde3ce4cfa57931f9ee21ce399a73,8,2,3,1297,,,0,"Remove need for local failure storage cache

Atom details already retain the failure that
includes the traceback (unless they are reloaded
from there backing storage) so we don't need
to double cache them in storage.

Change-Id: Ia3cfdf225252456cced65babe1431b7b437fd7a3
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/39/265039/3 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/storage.py'],1,dddb4424496bdec980e263f2deea870dd222e1ff,265039," def __init__(self, flow_detail, backend=None, scope_fetcher=None): def _get_failures(self, fail_attr_name): for ad in self._flowdetail: fail = getattr(ad, fail_attr_name) if fail is not None: failures[ad.name] = fail return self._get_failures('failure') return self._get_failures('revert_failure') for ad in self._flowdetail: if any([ad.revert_failure, ad.failure]): return retry.History(ad.results, failure=ad.failure) return retry.History(source.results, failure=source.failure) retry.History(ad.results, failure=ad.failure)))"," def __init__(self, flow_detail, backend=None, scope_fetcher=None): # NOTE(imelnikov): failure serialization looses information, # so we cache failures here, in atom name -> failure mapping. self._failures = {} for ad in self._flowdetail: fail_cache = {} if ad.failure is not None: fail_cache[states.EXECUTE] = ad.failure if ad.revert_failure is not None: fail_cache[states.REVERT] = ad.revert_failure self._failures[ad.name] = fail_cache self._failures.setdefault(atom_name, {}) # We need to somehow place more of this responsibility on the atom # detail class itself, vs doing it here; since it ties those two # together (which is bad)... if state in (states.FAILURE, states.REVERT_FAILURE): # NOTE(imelnikov): failure serialization looses information, # so we cache failures here, in atom name -> failure mapping so # that we can later use the better version on fetch/get. if clone.intention in _SAVE_FAILURE_INTENTIONS: fail_cache = self._failures[clone.name] fail_cache[clone.intention] = result fail_cache = self._failures[atom_name] try: fail = fail_cache[fail_cache_key] if failure.matches(fail): # Try to give the version back that should have the # backtrace instead of one that has it # stripped (since backtraces are not serializable). failure = fail except KeyError: pass def _get_failures(self, fail_cache_key): for atom_name, fail_cache in six.iteritems(self._failures): try: failures[atom_name] = fail_cache[fail_cache_key] except KeyError: pass return self._get_failures(states.EXECUTE) return self._get_failures(states.REVERT) for fail_cache in six.itervalues(self._failures): if fail_cache: self._failures[clone.name].clear() failure = None if ad.failure is not None: # NOTE(harlowja): Try to use our local cache to get a more # complete failure object that has a traceback (instead of the # one that is saved which will *typically* not have one)... failure = ad.failure fail_cache = self._failures[ad.name] try: fail = fail_cache[states.EXECUTE] if failure.matches(fail): failure = fail except KeyError: pass return retry.History(ad.results, failure=failure) return self._translate_into_history(source) self._translate_into_history(ad)))",15,61
openstack%2Ftaskflow~master~I3eb8745a057844815912c458ad302e091bed0df4,openstack/taskflow,master,I3eb8745a057844815912c458ad302e091bed0df4,Differentiate failures (internal vs external),ABANDONED,2016-01-04 20:39:20.000000000,2018-03-22 03:42:29.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2016-01-04 20:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0dcb07084782d205d0f18627fac76f90842dd778', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 2, 'created': '2016-01-05 00:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fbb0ef2d0b672578d45536db32b27e61a687010a', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 3, 'created': '2016-01-10 21:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ab01576c12bc9711c6832d890b54f0c918ad42d6', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 4, 'created': '2016-01-13 17:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8b3633c5ea545cc89cdb0a57d6ec6b8880ec8d83', 'message': 'Differentiate failures (internal vs external) [WIP]\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 5, 'created': '2016-01-13 23:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f3848ae4f24d80719aa3199be57d82a5f41291ab', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 6, 'created': '2016-01-14 00:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/51a1675db0240fdeee139b1ca4ce7ba5f9d03c6a', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 7, 'created': '2016-01-14 00:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/058cd8d2f00b67fcf8eefd70cf85ff5a598a8ba0', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 8, 'created': '2016-02-02 01:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b40a49b9343a0ea0d5ee10dc5dbebe66997fe488', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 9, 'created': '2016-02-04 17:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2679415b37ce2f0fba57ac6843ae61fa28123685', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 10, 'created': '2016-02-14 20:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/866b08651de62198b175770a48b6ef047374369b', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}, {'number': 11, 'created': '2016-05-12 04:52:32.000000000', 'files': ['taskflow/tests/unit/action_engine/test_builder.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/builder.py', 'taskflow/types/failure.py', 'taskflow/tests/unit/test_failure.py', 'taskflow/engines/action_engine/scheduler.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7f9aa3f4290b4a4a9341af4290dd13cb0360c20c', 'message': 'Differentiate failures (internal vs external)\n\nChange-Id: I3eb8745a057844815912c458ad302e091bed0df4\n'}]",4,263417,7f9aa3f4290b4a4a9341af4290dd13cb0360c20c,42,3,11,1297,,,0,"Differentiate failures (internal vs external)

Change-Id: I3eb8745a057844815912c458ad302e091bed0df4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/17/263417/7 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/builder.py']",2,0dcb07084782d205d0f18627fac76f90842dd778,263417," # Atom (external and/or user) triggered failures. self.external_failures = [] # Engine, storage, scheduling, completion ... triggered failures. self.internal_failures = [] def has_failures(self): """"""If any internal or external failures have been accumulated."""""" return any([self.internal_failures, self.external_failures]) # # If it fails (for some reason, storage issues, other), well then # it will directly raise, and no further engine activity will # happen. if memory.has_failures(): # Scheduling of some next up atoms failed somehow. memory.internal_failures.extend(failures) memory.external_failures.append(result) # Completion failed (somehow). memory.internal_failures.append(failure.Failure()) # Next up selection/finding failed somehow. memory.internal_failures.append(failure.Failure()) if is_runnable() and next_up and not memory.has_failures():", self.failures = [] if memory.failures: memory.failures.extend(failures) memory.failures.append(result) memory.failures.append(failure.Failure()) memory.failures.append(failure.Failure()) if is_runnable() and next_up and not memory.failures:,26,10
openstack%2Ftaskflow~master~I68930bf96b5d44ea67b85f1b353a6d7d5aa78fc1,openstack/taskflow,master,I68930bf96b5d44ea67b85f1b353a6d7d5aa78fc1,Ensure redis claimed jobs are correctly extended when heartbeat called,ABANDONED,2015-12-21 20:43:07.000000000,2018-03-22 03:42:21.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-12-21 20:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/91e0392296e2db334b3ec57905df5afbc753a320', 'message': 'Ensure redis claimed jobs are correctly extended when heartbeat called\n\nChange-Id: I68930bf96b5d44ea67b85f1b353a6d7d5aa78fc1\n'}, {'number': 2, 'created': '2015-12-21 21:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ef38b47a1b47ae10a33a97697abea14dd3d7997c', 'message': 'Ensure redis claimed jobs are correctly extended when heartbeat called\n\nChange-Id: I68930bf96b5d44ea67b85f1b353a6d7d5aa78fc1\n'}, {'number': 3, 'created': '2015-12-21 21:08:38.000000000', 'files': ['taskflow/jobs/base.py', 'taskflow/jobs/backends/impl_redis.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b25b5f463c6c23d66b41c9b94209b2eedbad5461', 'message': 'Ensure redis claimed jobs are correctly extended when heartbeat called\n\nChange-Id: I68930bf96b5d44ea67b85f1b353a6d7d5aa78fc1\n'}]",0,260210,b25b5f463c6c23d66b41c9b94209b2eedbad5461,7,2,3,1297,,,0,"Ensure redis claimed jobs are correctly extended when heartbeat called

Change-Id: I68930bf96b5d44ea67b85f1b353a6d7d5aa78fc1
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/10/260210/3 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/jobs/base.py', 'taskflow/jobs/backends/impl_redis.py']",2,91e0392296e2db334b3ec57905df5afbc753a320,," 'beat_job': """""" -- Extract *all* the variables (so we can easily know what they are)... local owner_key = KEYS[1] local listings_key = KEYS[2] local expected_owner = ARGV[1] local job_key = ARGV[2] local expire_ms_addon = ARGV[3] local result = {} if redis.call(""hexists"", listings_key, job_key) == 1 then if redis.call(""exists"", owner_key) == 1 then local owner = redis.call(""get"", owner_key) if owner ~= expected_owner then result[""status""] = ""${error}"" result[""reason""] = ""${not_expected_owner}"" result[""owner""] = owner else local expires_in_ms = redis.call(""pttl"", owner_key) result[""status""] = ""${ok}"" if expires_in_ms >= 0 then -- Ok it expires, make it not expire by updating -- it to not expiry for another set number of seconds... expires_in_ms = expires_in_ms + expire_ms_addon if redis.call(""pexpire"", owner_key, expires_in_ms) == 0 then result[""status""] = ""${error}"" reason = ""could not update owner key to expire in %s ms"" result[""reason""] = string.format(reason, expires_in_ms) end end end else result[""status""] = ""${error}"" result[""reason""] = ""${unknown_owner}"" end else result[""status""] = ""${error}"" result[""reason""] = ""${unknown_job}"" end """""", requires_beating = True """""" This driver **may** require beating (especially if jobs claimed are done so with a claim expiry). """""" # All known and claimed jobs... self._claimed = set() def heartbeat(self, extend_claims_by=30): if extend_claims_by < 0: raise ValueError(""Can not extend expiry of jobs with"" "" a negative extension of %s"" % extend_claims_by) script = self._get_script('beat_job') # We use the pttl/pexpire internally, which work in milliseconds # so ensure we have this in milliseconds to... extend_claims_by = int(extend_claims_by * 1000.0) for (job, who) in self._claimed: raw_who = self._encode_owner(who) try: raw_result = script(keys=[job.owner_key, self.listings_key], args=[raw_who, job.key, extend_claims_by]) except redis_exceptions.RedisError: LOG.warn(""Unable to heartbeat job %s, internal"" "" error"", job.uuid, exc_info=True) else: result = self._loads(raw_result) if result['status'] != self.SCRIPT_STATUS_OK: reason = result.get('reason') if reason == self.SCRIPT_UNKNOWN_JOB: LOG.warn(""Job %s not found to heartbeat"", job.uuid) elif reason == self.SCRIPT_UNKNOWN_OWNER: LOG.warn(""Can not heartbeat job %s which we can not"" "" determine the owner of"", job.uuid) elif reason == self.SCRIPT_NOT_EXPECTED_OWNER: raw_owner = result.get('owner') if raw_owner: owner = self._decode_owner(raw_owner) LOG.warn(""Can not heartbeat job %s which is not"" "" owned by %s (it is actively owned"" "" by %s)"", job.uuid, who, owner) else: LOG.warn(""Can not heartbeat job %s which is not"" "" owned by %s"", job.uuid, who) else: LOG.warn(""Unable to heartbeat job %s, internal"" "" error %s"", job.uuid, reason) self._claimed.clear() else: self._claimed.discard((job, who)) else: self._claimed.add((job, who)) else: self._claimed.discard((job, who)) else: self._claimed.discard((job, who))",,113,0
openstack%2Ftaskflow~master~Ia145e0e89df3196ec55136b2970c599e84e556f2,openstack/taskflow,master,Ia145e0e89df3196ec55136b2970c599e84e556f2,Disallow and raise on duplicate conductor run calls,ABANDONED,2015-12-15 01:31:01.000000000,2018-03-22 03:42:12.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 6928}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-12-15 01:31:01.000000000', 'files': ['taskflow/conductors/backends/impl_executor.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/38966fe776113eb7032ab01eebc9d7cc400d1ce2', 'message': 'Disallow and raise on duplicate conductor run calls\n\nIt is not recommended to have conductor run being called\ntwice from various endpoints (two threads for example)\nso proactively enforce that by raising an exception if that\nsituation is encountered.\n\nChange-Id: Ia145e0e89df3196ec55136b2970c599e84e556f2\n'}]",2,257641,38966fe776113eb7032ab01eebc9d7cc400d1ce2,7,4,1,1297,,,0,"Disallow and raise on duplicate conductor run calls

It is not recommended to have conductor run being called
twice from various endpoints (two threads for example)
so proactively enforce that by raising an exception if that
situation is encountered.

Change-Id: Ia145e0e89df3196ec55136b2970c599e84e556f2
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/41/257641/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/conductors/backends/impl_executor.py'],1,38966fe776113eb7032ab01eebc9d7cc400d1ce2,," self._dead.set() if not self._dead.is_set(): raise excp.ConductorFailure( ""Stop and wait must be called before run can be"" "" called again (simultaneous run calls are not"" "" currently supported)"")",,6,0
openstack%2Fdiskimage-builder~master~I1267cc05700ee28c45a331de7f571b9ee075c6b5,openstack/diskimage-builder,master,I1267cc05700ee28c45a331de7f571b9ee075c6b5,remove portage git directory,MERGED,2018-03-16 23:30:49.000000000,2018-03-22 03:32:44.000000000,2018-03-22 03:32:44.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 21728}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-16 23:30:49.000000000', 'files': ['diskimage_builder/elements/gentoo/finalise.d/99-cleanup'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5e2f3646ad0c38afac8620d74a96ba66227c4629', 'message': 'remove portage git directory\n\nthis shrinks thinks by ~50%, from 722M to 352M\n\nChange-Id: I1267cc05700ee28c45a331de7f571b9ee075c6b5\n'}]",2,553914,5e2f3646ad0c38afac8620d74a96ba66227c4629,21,6,1,14288,,,0,"remove portage git directory

this shrinks thinks by ~50%, from 722M to 352M

Change-Id: I1267cc05700ee28c45a331de7f571b9ee075c6b5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/14/553914/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/finalise.d/99-cleanup'],1,5e2f3646ad0c38afac8620d74a96ba66227c4629,clean-up-gentoo-portage-git, rm -Rf /usr/portage/* /usr/portage/.git /var/cache/portage/distfiles, rm -Rf /usr/portage/* /var/cache/portage/distfiles,1,1
openstack%2Fpython-manilaclient~master~I541544b894cea28b68a9365eb6608d9c8c406597,openstack/python-manilaclient,master,I541544b894cea28b68a9365eb6608d9c8c406597,Drop unused test-requirement,MERGED,2018-03-06 16:14:58.000000000,2018-03-22 03:07:32.000000000,2018-03-22 03:07:31.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 13984}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 16:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/aa2bf3a82efc502e4d1728a229071bba55a3ab8b', 'message': 'Drop unused test-requirements\n\npython-openstackclient and oslotest are both not used so drop them.\n\nChange-Id: I541544b894cea28b68a9365eb6608d9c8c406597\n'}, {'number': 2, 'created': '2018-03-21 18:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0bdc6105484a8822a621488e9febf113f6081251', 'message': 'Drop unused test-requirements\n\npython-openstackclient and oslotest are both not used so drop them.\n\nChange-Id: I541544b894cea28b68a9365eb6608d9c8c406597\n'}, {'number': 3, 'created': '2018-03-21 19:36:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a4dadb8bfd367985934536847c68479b98ee4ddd', 'message': 'Drop unused test-requirement\n\noslotest is unused so drop it.\n\nChange-Id: I541544b894cea28b68a9365eb6608d9c8c406597\n'}]",1,550143,a4dadb8bfd367985934536847c68479b98ee4ddd,20,6,3,7102,,,0,"Drop unused test-requirement

oslotest is unused so drop it.

Change-Id: I541544b894cea28b68a9365eb6608d9c8c406597
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/43/550143/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,aa2bf3a82efc502e4d1728a229071bba55a3ab8b,,,oslotest>=3.2.0 # Apache-2.0python-openstackclient>=3.12.0 # Apache-2.0,0,2
openstack%2Fzun~stable%2Fqueens~I3ca5d853588b3705cb6cb2410df16e16a621c030,openstack/zun,stable/queens,I3ca5d853588b3705cb6cb2410df16e16a621c030,Introduce rootwrap and filter,MERGED,2018-03-20 13:59:48.000000000,2018-03-22 02:59:20.000000000,2018-03-22 02:59:20.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-20 13:59:48.000000000', 'files': ['zun/common/utils.py', 'zun/cmd/compute.py', 'devstack/lib/zun', 'zun/conf/__init__.py', 'etc/zun/rootwrap.d/zun.filters', 'setup.cfg', 'zun/conf/utils.py', 'etc/zun/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/zun/commit/d9098aab26b82a0f78c8c5e72f76da600279e6b9', 'message': 'Introduce rootwrap and filter\n\nIf the zun-compute process is owned by a user who doesn\'t have\npasswordless sudo privilege, zun-compute will fail to run\nprivileged command (e.g. sudo privsep-helper ...).\n\nA native solution is to grant passwordless sudo to the user\nwho owns the zun process, but the best practice is to leverage\nRootwrap [1], which can restrict the privilege escalation.\n\nThis patch make Zun leverage Rootwrap. In particular, it does\nthe following:\n* Setup Rootwrap in the Zun devstack plugin\n* Introduce a sample rootwrap config file\n* Introduce sample rootwrap filters for executing privsep-helper\n* Introduce a root helper which basically adds ""sudo zun-rootwrap""\n  to the beginning of the command to be execute.\n* Initialize privsep to use the Zun\'s root helper\n\n[1] https://wiki.openstack.org/wiki/Rootwrap\n\nCloses-Bug: #1749342\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n(cherry picked from commit d412de7100058f4a362cf58bd11f88b31b500f77)\n'}]",0,554551,d9098aab26b82a0f78c8c5e72f76da600279e6b9,11,5,1,11536,,,0,"Introduce rootwrap and filter

If the zun-compute process is owned by a user who doesn't have
passwordless sudo privilege, zun-compute will fail to run
privileged command (e.g. sudo privsep-helper ...).

A native solution is to grant passwordless sudo to the user
who owns the zun process, but the best practice is to leverage
Rootwrap [1], which can restrict the privilege escalation.

This patch make Zun leverage Rootwrap. In particular, it does
the following:
* Setup Rootwrap in the Zun devstack plugin
* Introduce a sample rootwrap config file
* Introduce sample rootwrap filters for executing privsep-helper
* Introduce a root helper which basically adds ""sudo zun-rootwrap""
  to the beginning of the command to be execute.
* Initialize privsep to use the Zun's root helper

[1] https://wiki.openstack.org/wiki/Rootwrap

Closes-Bug: #1749342
Needed-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7
Change-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030
(cherry picked from commit d412de7100058f4a362cf58bd11f88b31b500f77)
",git fetch https://review.opendev.org/openstack/zun refs/changes/51/554551/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'zun/cmd/compute.py', 'devstack/lib/zun', 'zun/conf/__init__.py', 'etc/zun/rootwrap.d/zun.filters', 'setup.cfg', 'zun/conf/utils.py', 'etc/zun/rootwrap.conf']",8,d9098aab26b82a0f78c8c5e72f76da600279e6b9,bug/1749342,"# Configuration for zun-rootwrap # This file should be owned by (and only-writable by) the root user [DEFAULT] # List of directories to load filter definitions from (separated by ','). # These directories MUST all be only writable by root ! filters_path=/etc/zun/rootwrap.d # List of directories to search executables in, in case filters do not # explicitely specify a full path (separated by ',') # If not specified, defaults to system PATH environment variable. # These directories MUST all be only writable by root ! exec_dirs=/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin # Enable logging to syslog # Default value is False use_syslog=False # Which syslog facility to use. # Valid values include auth, authpriv, syslog, local0, local1... # Default value is 'syslog' syslog_log_facility=syslog # Which messages to log. # INFO means log all usage # ERROR means only log unsuccessful attempts syslog_log_level=ERROR ",,79,0
openstack%2Fpython-zunclient~master~I59f1fc63989796a1623ebc62c0dfae8e2dd33be8,openstack/python-zunclient,master,I59f1fc63989796a1623ebc62c0dfae8e2dd33be8,Add network-list to zunclient,MERGED,2018-03-15 10:12:04.000000000,2018-03-22 02:26:21.000000000,2018-03-22 02:26:20.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-15 10:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/d6dce6b678cc746223df16ac53e8d442670f16d8', 'message': 'Add network-list to zunclient\n\nThis change adds network list support to the python-zunclient project\nfor the network-list command.\n\nThe zun command network-list is now:\n    zun network-list <container>\n\nChange-Id: I59f1fc63989796a1623ebc62c0dfae8e2dd33be8\n'}, {'number': 2, 'created': '2018-03-15 13:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/fa97df1a741b150271544f051225dd84b6addcad', 'message': 'Add network-list to zunclient\n\nThis change adds network list support to the python-zunclient project\nfor the network-list command.\n\nThe zun command network-list is now:\n    zun network-list <container>\n\nChange-Id: I59f1fc63989796a1623ebc62c0dfae8e2dd33be8\n'}, {'number': 3, 'created': '2018-03-16 03:45:19.000000000', 'files': ['zunclient/v1/containers_shell.py', 'zunclient/tests/unit/test_shell.py', 'zunclient/api_versions.py', 'zunclient/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/6dcca2ee42d4cd5b57f1bd02a21f4223bbbc4695', 'message': 'Add network-list to zunclient\n\nThis change adds network list support to the python-zunclient project\nfor the network-list command.\n\nThe zun command network-list is now:\n    zun network-list <container>\n\nChange-Id: I59f1fc63989796a1623ebc62c0dfae8e2dd33be8\n'}]",3,553314,6dcca2ee42d4cd5b57f1bd02a21f4223bbbc4695,14,5,3,27577,,,0,"Add network-list to zunclient

This change adds network list support to the python-zunclient project
for the network-list command.

The zun command network-list is now:
    zun network-list <container>

Change-Id: I59f1fc63989796a1623ebc62c0dfae8e2dd33be8
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/14/553314/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/containers_shell.py', 'zunclient/api_versions.py', 'zunclient/v1/containers.py']",3,d6dce6b678cc746223df16ac53e8d442670f16d8,network-list," def network_list(self, container): return self._action(container, '/network_list', method='GET')[1] ",,18,1
openstack%2Fpython-zunclient~master~Ic186499798dbe7935626f37ef92493fe87922605,openstack/python-zunclient,master,Ic186499798dbe7935626f37ef92493fe87922605,zun rebuild on local node,MERGED,2018-02-14 08:35:24.000000000,2018-03-22 02:26:07.000000000,2018-03-22 02:26:07.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-02-14 08:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/ecc48a5bcd1585e36b2411457b965fdd895c4c64', 'message': 'zun rebuild on local node\n\nProvide reconstruction function, if the container A is damaged,\nusers can use this function to recreate a container B.\nThe container B and A use the same resources, such as network, CPU, etc.\n\nadd an interface\n\nChange-Id: Ic186499798dbe7935626f37ef92493fe87922605\nImplements:blueprint zun-rebuild-on-local-node\n'}, {'number': 2, 'created': '2018-03-18 17:54:39.000000000', 'files': ['zunclient/v1/containers_shell.py', 'setup.cfg', 'zunclient/tests/unit/v1/test_containers.py', 'zunclient/osc/v1/containers.py', 'zunclient/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/2d4c228ecc8f3f6aca2397bba7e26c4a74ccd91e', 'message': 'zun rebuild on local node\n\nProvide reconstruction function, if the container A is damaged,\nusers can use this function to recreate a container B.\nThe container B and A use the same resources, such as network, CPU, etc.\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nChange-Id: Ic186499798dbe7935626f37ef92493fe87922605\nImplements:blueprint zun-rebuild-on-local-node\n'}]",0,544210,2d4c228ecc8f3f6aca2397bba7e26c4a74ccd91e,10,3,2,21428,,,0,"zun rebuild on local node

Provide reconstruction function, if the container A is damaged,
users can use this function to recreate a container B.
The container B and A use the same resources, such as network, CPU, etc.

Co-Authored-By: Hongbin Lu <hongbin034@gmail.com>

Change-Id: Ic186499798dbe7935626f37ef92493fe87922605
Implements:blueprint zun-rebuild-on-local-node
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/10/544210/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/containers_shell.py', 'zunclient/v1/containers.py']",2,ecc48a5bcd1585e36b2411457b965fdd895c4c64,bp/zun-rebuild-on-local-node," def rebuild(self, id): return self._action(id, '/rebuild') ",,19,0
