id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible-ops~master~I5dd9d3ac9dc6871e14568c1591f3de475cba33e2,openstack/openstack-ansible-ops,master,I5dd9d3ac9dc6871e14568c1591f3de475cba33e2,Change filebeat to only execute on hosts,MERGED,2018-04-27 17:28:51.000000000,2018-04-29 01:48:01.000000000,2018-04-29 01:48:01.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 17:28:51.000000000', 'files': ['elk_metrics_6x/templates/filebeat.yml.j2', 'elk_metrics_6x/installFilebeat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/26dd0b7a2e7b6bf657d0c1ac977a135e833ce705', 'message': 'Change filebeat to only execute on hosts\n\nFilebeat has everything it needs to function on the physical host\nmachines. This change ensures that filebeat is only ever installed and\nsetup on the physical hosts which will save a lot of IO, and greatly\nshorten playbook runtimes.\n\nChange-Id: I5dd9d3ac9dc6871e14568c1591f3de475cba33e2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,564849,26dd0b7a2e7b6bf657d0c1ac977a135e833ce705,7,3,1,7353,,,0,"Change filebeat to only execute on hosts

Filebeat has everything it needs to function on the physical host
machines. This change ensures that filebeat is only ever installed and
setup on the physical hosts which will save a lot of IO, and greatly
shorten playbook runtimes.

Change-Id: I5dd9d3ac9dc6871e14568c1591f3de475cba33e2
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/49/564849/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/templates/filebeat.yml.j2', 'elk_metrics_6x/installFilebeat.yml']",2,26dd0b7a2e7b6bf657d0c1ac977a135e833ce705,," hosts: hosts mysql_enabled: ""{{ (mysql.stat.exists | bool) or (inventory_hostname in groups['galera_all'] | default([])) }}"" ceph_enabled: ""{{ (ceph.stat.exists | bool) or (inventory_hostname in groups['ceph_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*ceph.*') | list | length) > 0) }}"" cinder_enabled: ""{{ (cinder.stat.exists | bool) or (inventory_hostname in groups['cinder_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*cinder.*') | list | length) > 0) }}"" glance_enabled: ""{{ (glance.stat.exists | bool) or (inventory_hostname in groups['glance_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*glance.*') | list | length) > 0) }}"" heat_enabled: ""{{ (heat.stat.exists | bool) or (inventory_hostname in groups['heat_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*heat.*') | list | length) > 0) }}"" horizon_enabled: ""{{ (horizon.stat.exists | bool) or (inventory_hostname in groups['horizon_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*horizon.*') | list | length) > 0) }}"" keystone_enabled: ""{{ (keystone.stat.exists | bool) or (inventory_hostname in groups['keystone_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*keystone.*') | list | length) > 0) }}"" neutron_enabled: ""{{ (neutron.stat.exists | bool) or (inventory_hostname in groups['neutron_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*neutron.*') | list | length) > 0) }}"" nova_enabled: ""{{ (nova.stat.exists | bool) or (inventory_hostname in groups['nova_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*nova.*') | list | length) > 0) }}"" octavia_enabled: ""{{ (octavia.stat.exists | bool) or (inventory_hostname in groups['octavia_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*octavia.*') | list | length) > 0) }}"" swift_enabled: ""{{ (swift.stat.exists | bool) or (inventory_hostname in groups['swift_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*swift.*') | list | length) > 0) }}"" rabbitmq_enabled: ""{{ (rabbitmq.stat.exists | bool) or (inventory_hostname in groups['rabbitmq_all'] | default([])) or (((groups[inventory_hostname + '-host_containers'] | default([])) | select('match', '.*rabbit.*') | list | length) > 0) }}"" hosts: hosts[0]"," hosts: all mysql_enabled: ""{{ mysql.stat.exists | bool }}"" cinder_enabled: ""{{ cinder.stat.exists | bool }}"" glance_enabled: ""{{ glance.stat.exists | bool }}"" heat_enabled: ""{{ heat.stat.exists | bool }}"" horizon_enabled: ""{{ horizon.stat.exists | bool }}"" keystone_enabled: ""{{ keystone.stat.exists | bool }}"" neutron_enabled: ""{{ neutron.stat.exists | bool }}"" nova_enabled: ""{{ nova.stat.exists | bool }}"" octavia_enabled: ""{{ octavia.stat.exists | bool }}"" swift_enabled: ""{{ swift.stat.exists | bool }}"" rabbitmq_enabled: ""{{ rabbitmq.stat.exists | bool }}"" ceph_enabled: ""{{ ceph.stat.exists | bool }}"" hosts: all[0]",63,16
openstack%2Fopenstack-ansible-ops~master~Icd070259db5b19d289d10033b1f055125f56e18c,openstack/openstack-ansible-ops,master,Icd070259db5b19d289d10033b1f055125f56e18c,Update rollback plan and configs,MERGED,2018-04-26 18:31:38.000000000,2018-04-29 01:48:00.000000000,2018-04-29 01:48:00.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 18:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8424fe53d5438110a0ed3bbb2cfc606cb6d436cf', 'message': 'Update rollback plan and configs\n\n* Added options for the rollback plan so that if a rollback is executed\n  all beat packages will be removed.\n\n* additional updates to streamline elk and fix container bindmounts,\n  the  use of group information for metric and heartbeat information.\n\nChange-Id: Icd070259db5b19d289d10033b1f055125f56e18c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-04-26 18:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/adbd0dc119933dda6684eba0bff213522db55c50', 'message': 'Update rollback plan and configs\n\n* Added options for the rollback plan so that if a rollback is executed\n  all beat packages will be removed.\n\n* additional updates to streamline elk and fix container bindmounts,\n  the  use of group information for metric and heartbeat information.\n\nChange-Id: Icd070259db5b19d289d10033b1f055125f56e18c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-04-26 19:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3c1bd696408cc67077f6f0874782bcbf436e916a', 'message': 'Update rollback plan and configs\n\n* Added options for the rollback plan so that if a rollback is executed\n  all beat packages will be removed.\n\n* additional updates to streamline elk and fix container bindmounts,\n  the  use of group information for metric and heartbeat information.\n\nChange-Id: Icd070259db5b19d289d10033b1f055125f56e18c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-04-26 21:42:28.000000000', 'files': ['elk_metrics_6x/readme.rst', 'elk_metrics_6x/installHeartbeat.yml', 'elk_metrics_6x/vars/variables.yml', 'elk_metrics_6x/installElastic.yml', 'elk_metrics_6x/common_task_install_elk_repo.yml', 'elk_metrics_6x/templates/heartbeat.yml.j2', 'elk_metrics_6x/site.yml', 'elk_metrics_6x/installAuditbeat.yml', 'elk_metrics_6x/installLogstash.yml', 'elk_metrics_6x/installFilebeat.yml', 'grafana/readme.rst', 'elk_metrics_6x/installPacketbeat.yml', 'elk_metrics_6x/installMetricbeat.yml', 'elk_metrics_6x/templates/packetbeat.yml.j2', 'elk_metrics_6x/installAPMserver.yml', 'elk_metrics_6x/templates/metricbeat.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ac286b0ac3b946576587004d2999a7468d412aad', 'message': 'Update rollback plan and configs\n\n* Added options for the rollback plan so that if a rollback is executed\n  all beat packages will be removed.\n\n* additional updates to streamline elk and fix container bindmounts,\n  the  use of group information for metric and heartbeat information.\n\n* Readme information has been fixed\n\nChange-Id: Icd070259db5b19d289d10033b1f055125f56e18c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",3,564575,ac286b0ac3b946576587004d2999a7468d412aad,15,3,4,7353,,,0,"Update rollback plan and configs

* Added options for the rollback plan so that if a rollback is executed
  all beat packages will be removed.

* additional updates to streamline elk and fix container bindmounts,
  the  use of group information for metric and heartbeat information.

* Readme information has been fixed

Change-Id: Icd070259db5b19d289d10033b1f055125f56e18c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/75/564575/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/readme.rst', 'elk_metrics_6x/installHeartbeat.yml', 'elk_metrics_6x/vars/variables.yml', 'elk_metrics_6x/installElastic.yml', 'elk_metrics_6x/common_task_install_elk_repo.yml', 'elk_metrics_6x/templates/heartbeat.yml.j2', 'elk_metrics_6x/installAuditbeat.yml', 'elk_metrics_6x/installLogstash.yml', 'elk_metrics_6x/installFilebeat.yml', 'elk_metrics_6x/installPacketbeat.yml', 'elk_metrics_6x/installMetricbeat.yml', 'elk_metrics_6x/installAPMserver.yml', 'elk_metrics_6x/templates/metricbeat.yml.j2']",13,8424fe53d5438110a0ed3bbb2cfc606cb6d436cf,,"{% for item in heartbeat_services %} {% if inventory_hostname in item.group | default([]) %} {% if item.type == 'http' %} {% for port in item.ports | default([]) %} {% for backend in item.group | default([]) %} host: ""{{ hostvars[backend]['ansible_host'] }}"" method: ""{{ item.method }}"" path: ""{{ item.path }}"" {% endfor %} {% endfor %} {% endif %} {% endif %} {% endfor %} hosts: [""localhost:5672"", ""localhost:5671"", ""localhost:15672"", ""localhost:15671""]","{% if inventory_hostname in groups['utility_all'] | default([]) %} {% set haproxy_host = hostvars[groups['haproxy_all'][0]] %} {% for item in haproxy_host['haproxy_default_services'] + haproxy_extra_services | default([]) %} {% set item_service = item['service'] %} {% for backend in item_service['haproxy_backend_nodes'] + item_service['haproxy_backup_nodes'] | default([]) %} {% set backend_host = hostvars[backend]['ansible_host'] %} {% set port = item_service['haproxy_check_port'] | default(item_service['haproxy_port']) %} {% if not '{{' in backend_host and not '{{' in (port | string) %} host: ""{{ backend_host }}"" method: ""{{ (item_service['haproxy_backend_options'] | default(['check', 'HEAD', '/']))[0].split()[1] | default('GET') }}"" path: ""{{ (item_service['haproxy_backend_options'] | default(['check', 'HEAD', '/']))[0].split()[2] | default('/') }}"" {% endif %} {% endfor %} {% endfor %} {% endif %} # hosts: [""localhost:5672"", ""localhost:5671""] #",341,56
openstack%2Fpuppet-ironic~master~I2a903f402b8f9e2cdf585d6cb40c93e998984dd4,openstack/puppet-ironic,master,I2a903f402b8f9e2cdf585d6cb40c93e998984dd4,Update links and fix error url,ABANDONED,2018-04-28 08:40:40.000000000,2018-04-29 01:02:06.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:40:40.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/78effc490ab1d8a0c3f5cb04467e71ac953b7747', 'message': 'Update links and fix error url\n\nChange-Id: I2a903f402b8f9e2cdf585d6cb40c93e998984dd4\n'}]",0,564994,78effc490ab1d8a0c3f5cb04467e71ac953b7747,5,2,1,26297,,,0,"Update links and fix error url

Change-Id: I2a903f402b8f9e2cdf585d6cb40c93e998984dd4
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/94/564994/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,78effc490ab1d8a0c3f5cb04467e71ac953b7747,,To utilize the ironic module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed. We recommend that you consult and understand the [core openstack](https://docs.openstack.org/queens/) documentation to assist you in understanding the available deployment options.# and install Ironic in a stand-alone fashion (for more information visit https://git.openstack.org/cgit/openstack/bifrost/),To utilize the ironic module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed. We recommend that you consult and understand the [core openstack](http://docs.openstack.org) documentation to assist you in understanding the available deployment options.# and install Ironic in a stand-alone fashion (for more information visit http://git.openstack.org/openstack/bifrost),2,2
openstack%2Fpuppet-magnum~master~I7557d7f86c04a4a1e5d435afa574d0725f123dc0,openstack/puppet-magnum,master,I7557d7f86c04a4a1e5d435afa574d0725f123dc0,Update links in README,ABANDONED,2018-04-28 08:49:55.000000000,2018-04-29 01:00:04.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:49:55.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/10464f54e16c3a6e633fc67dc4892f6b8bafc69e', 'message': 'Update links in README\n\nChange-Id: I7557d7f86c04a4a1e5d435afa574d0725f123dc0\n'}]",0,564996,10464f54e16c3a6e633fc67dc4892f6b8bafc69e,5,2,1,26297,,,0,"Update links in README

Change-Id: I7557d7f86c04a4a1e5d435afa574d0725f123dc0
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/96/564996/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,10464f54e16c3a6e633fc67dc4892f6b8bafc69e,,"To utilize the magnum module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core openstack](https://docs.openstack.org/queens/) documentation.","To utilize the magnum module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core openstack](http://docs.openstack.org) documentation.",1,1
openstack%2Fpuppet-mistral~master~I377f8d00866744cbb4b8150289e6ab11c13ba31e,openstack/puppet-mistral,master,I377f8d00866744cbb4b8150289e6ab11c13ba31e,Update links in README,ABANDONED,2018-04-28 08:57:30.000000000,2018-04-29 00:59:48.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:57:30.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/b5288afc625263b1f70987514b1e44fc1391257a', 'message': 'Update links in README\n\nChange-Id: I377f8d00866744cbb4b8150289e6ab11c13ba31e\n'}]",0,564997,b5288afc625263b1f70987514b1e44fc1391257a,5,2,1,26297,,,0,"Update links in README

Change-Id: I377f8d00866744cbb4b8150289e6ab11c13ba31e
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/97/564997/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b5288afc625263b1f70987514b1e44fc1391257a,,[core of openstack](https://docs.openstack.org/queens/) documentation.,[core of openstack](http://docs.openstack.org) documentation.,1,1
openstack%2Fpuppet-keystone~master~I242927e1b0fbbad006606846205663d1059c41ee,openstack/puppet-keystone,master,I242927e1b0fbbad006606846205663d1059c41ee,Update links in README,ABANDONED,2018-04-28 08:46:22.000000000,2018-04-29 00:59:32.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:46:22.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/73ce04e4b69e15870d7216f918a709650f896293', 'message': 'Update links in README\n\nChange-Id: I242927e1b0fbbad006606846205663d1059c41ee\n'}]",0,564995,73ce04e4b69e15870d7216f918a709650f896293,5,2,1,26297,,,0,"Update links in README

Change-Id: I242927e1b0fbbad006606846205663d1059c41ee
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/95/564995/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,73ce04e4b69e15870d7216f918a709650f896293,,"To utilize the keystone module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core openstack](https://docs.openstack.org/queens/) documentation.","To utilize the keystone module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core openstack](http://docs.openstack.org) documentation.",1,1
openstack%2Fpuppet-horizon~master~I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef,openstack/puppet-horizon,master,I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef,Update links in README,ABANDONED,2018-04-28 08:35:03.000000000,2018-04-29 00:58:33.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:35:03.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/9cfdab09426b6ece98f83af9b932cf03b7c744f5', 'message': 'Update links in README\n\nChange-Id: I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef\n'}]",0,564992,9cfdab09426b6ece98f83af9b932cf03b7c744f5,4,2,1,26297,,,0,"Update links in README

Change-Id: I11a3fbc69b2cf17b5608d5bdb0a20ad46b6378ef
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/92/564992/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,9cfdab09426b6ece98f83af9b932cf03b7c744f5,,To utilize the horizon module's functionality you will need to declare multiple resources but you'll find that doing so is much less complicated than the other OpenStack component modules. We recommend you consult and understand the [core openstack](https://docs.openstack.org/queens/) documentation.,To utilize the horizon module's functionality you will need to declare multiple resources but you'll find that doing so is much less complicated than the other OpenStack component modules. We recommend you consult and understand the [core openstack](http://docs.openstack.org) documentation.,1,1
openstack%2Fpuppet-heat~master~I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee,openstack/puppet-heat,master,I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee,Update links in README,ABANDONED,2018-04-28 08:32:15.000000000,2018-04-29 00:58:07.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:32:15.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/063f0cde95ccf095f7bda40b7b0b319d3cddade4', 'message': 'Update links in README\n\nChange-Id: I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee\n'}]",0,564991,063f0cde95ccf095f7bda40b7b0b319d3cddade4,5,2,1,26297,,,0,"Update links in README

Change-Id: I89fecce1b03a8b7bb8af1310be0e45d9da68e3ee
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/91/564991/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,063f0cde95ccf095f7bda40b7b0b319d3cddade4,,[openstack module](https://github.com/stackforge/puppet-openstack) and the [core openstack](https://docs.openstack.org/queens/),[openstack module](https://github.com/stackforge/puppet-openstack) and the [core openstack](http://docs.openstack.org),1,1
openstack%2Fpuppet-glance~master~I426ebb8f73ac266bb114ba81fd10e881197cb90f,openstack/puppet-glance,master,I426ebb8f73ac266bb114ba81fd10e881197cb90f,Update links in README,ABANDONED,2018-04-28 08:13:50.000000000,2018-04-29 00:57:16.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:13:50.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/654c1146ed615e8969b529b4ed7e8da360ae5758', 'message': 'Update links in README\n\nChange-Id: I426ebb8f73ac266bb114ba81fd10e881197cb90f\n'}]",0,564988,654c1146ed615e8969b529b4ed7e8da360ae5758,5,2,1,26297,,,0,"Update links in README

Change-Id: I426ebb8f73ac266bb114ba81fd10e881197cb90f
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/88/564988/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,654c1146ed615e8969b529b4ed7e8da360ae5758,,"To utilize the glance module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core openstack](https://docs.openstack.org/queens/) documentation.","To utilize the glance module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core openstack](https://docs.openstack.org) documentation.",1,1
openstack%2Fpuppet-cinder~master~Idd8744ee38d08bf8cab5d5c1138401788334fe4a,openstack/puppet-cinder,master,Idd8744ee38d08bf8cab5d5c1138401788334fe4a,Update links in README,ABANDONED,2018-04-28 07:57:00.000000000,2018-04-29 00:56:46.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 07:57:00.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7a3d206d3e8d7d6730f3291339b2c5c4caef1795', 'message': 'Update links in README\n\nChange-Id: Idd8744ee38d08bf8cab5d5c1138401788334fe4a\n'}]",0,564986,7a3d206d3e8d7d6730f3291339b2c5c4caef1795,4,2,1,26297,,,0,"Update links in README

Change-Id: Idd8744ee38d08bf8cab5d5c1138401788334fe4a
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/86/564986/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,7a3d206d3e8d7d6730f3291339b2c5c4caef1795,,[core OpenStack](https://docs.openstack.org/queens/) documentation.,[core OpenStack](https://docs.openstack.org) documentation.,1,1
openstack%2Fpuppet-ceilometer~master~I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7,openstack/puppet-ceilometer,master,I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7,Update links in README,ABANDONED,2018-04-28 07:51:18.000000000,2018-04-29 00:56:08.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 07:51:18.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3076e548e3d84ecdca95483df8dab90b624175b4', 'message': 'Update links in README\n\nChange-Id: I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7\n'}]",0,564983,3076e548e3d84ecdca95483df8dab90b624175b4,4,2,1,26297,,,0,"Update links in README

Change-Id: I4e2aca2f8f6b6e7b33e2c9796549b07b3e688ff7
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/83/564983/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,3076e548e3d84ecdca95483df8dab90b624175b4,,"* [Ceilometer](https://wiki.openstack.org/wiki/Telemetry), the metering service for OpenStackTo utilize the ceilometer module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed. We recommend that you consult and understand the [core openstack](https://docs.openstack.org/queens/) documentation to assist you in understanding the available deployment options.","* [Ceilometer](https://wiki.openstack.org/wiki/Ceilometer), the metering service for OpenStackTo utilize the ceilometer module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed. We recommend that you consult and understand the [core openstack](https://docs.openstack.org) documentation to assist you in understanding the available deployment options.",2,2
openstack%2Fpuppet-aodh~master~Ib881f29b47a84bae935a94a8a57c416f83e803fb,openstack/puppet-aodh,master,Ib881f29b47a84bae935a94a8a57c416f83e803fb,Update links in README,ABANDONED,2018-04-28 07:31:56.000000000,2018-04-29 00:55:40.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 07:31:56.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2983ea850e0b79f6807230826310976886cb0bfd', 'message': 'Update links in README\n\nChange-Id: Ib881f29b47a84bae935a94a8a57c416f83e803fb\n'}]",0,564980,2983ea850e0b79f6807230826310976886cb0bfd,4,2,1,26297,,,0,"Update links in README

Change-Id: Ib881f29b47a84bae935a94a8a57c416f83e803fb
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/80/564980/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,2983ea850e0b79f6807230826310976886cb0bfd,,"To utilize the AODH module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core OpenStack](https://docs.openstack.org/queens/) documentation.","To utilize the AODH module's functionality you will need to declare multiple resources. This is not an exhaustive list of all the components needed, we recommend you consult and understand the [core OpenStack](https://docs.openstack.org) documentation.",1,1
openstack%2Foctavia~master~I2037af21772578f509c3cf73082863a758a74214,openstack/octavia,master,I2037af21772578f509c3cf73082863a758a74214,Trivial: Update pypi url to new url,ABANDONED,2018-04-23 09:54:19.000000000,2018-04-29 00:54:54.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 09:54:19.000000000', 'files': ['README.rst', 'specs/version1.1/enable-provider-driver.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3cd949ab9de73658b86556c736e9ba8f31499b66', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I2037af21772578f509c3cf73082863a758a74214\n'}]",0,563553,3cd949ab9de73658b86556c736e9ba8f31499b66,6,4,1,26297,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I2037af21772578f509c3cf73082863a758a74214
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/563553/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'specs/version1.1/enable-provider-driver.rst']",2,3cd949ab9de73658b86556c736e9ba8f31499b66,,`voluptuous <https://pypi.org/project/voluptuous/>`_ to validate the,`voluptuous <https://pypi.python.org/pypi/voluptuous>`_ to validate the,2,2
openstack%2Ftrove~master~Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009,openstack/trove,master,Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009,Trivial: Update pypi url to new url,ABANDONED,2018-04-23 09:44:25.000000000,2018-04-29 00:54:33.000000000,,"[{'_account_id': 17130}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 09:44:25.000000000', 'files': ['doc/source/admin/building_guest_images.rst', 'doc/source/install/manual_install.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/7f5856a638da30c8559a940a618d3d13e88defa1', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009\n'}]",0,563551,7f5856a638da30c8559a940a618d3d13e88defa1,5,3,1,26297,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ifc4e75291d44f32ce10528d9f46d2d6cbaa10009
",git fetch https://review.opendev.org/openstack/trove refs/changes/51/563551/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/building_guest_images.rst', 'doc/source/install/manual_install.rst']",2,7f5856a638da30c8559a940a618d3d13e88defa1,,".. _setuptools repo: https://pypi.org/project/setuptools/.. _pip repo: https://pypi.org/project/pip/Go https://pypi.org/project/setuptools/, download the latest source setuptools, and move it under ~Go https://pypi.org/project/pip/, download the latest source pip, and move it under ~",".. _setuptools repo: https://pypi.python.org/pypi/setuptools/.. _pip repo: https://pypi.python.org/pypi/pip/Go https://pypi.python.org/pypi/setuptools, download the latest source setuptools, and move it under ~Go https://pypi.python.org/pypi/pip, download the latest source pip, and move it under ~",5,5
openstack%2Ftripleo-quickstart-extras~master~I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8,openstack/tripleo-quickstart-extras,master,I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8,Add a libvirt option to the reproducer script,MERGED,2018-04-20 21:25:36.000000000,2018-04-28 23:51:22.000000000,2018-04-28 23:51:22.000000000,"[{'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 21:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b5a6ca9544dd554791490647c6acaa9159f1cd8', 'message': 'WIP: Add libvirt option to reproducer script\n\nDNM - under design dicussion and test\nThe libvirt option should be valid ofr multinode jobs\nthat can run with 2 nodes.\n\nChange-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8\n'}, {'number': 2, 'created': '2018-04-23 19:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/de717a668d0ce8e70b273c2bfb89eba9cf5e43e5', 'message': 'WIP: Add libvirt option to reproducer script\n\nThe libvirt option should be valid for multinode jobs\nthat can run with 2 nodes.\n\nDepends-On: Ib62f155f349a8db5ed0ef8b107418ce29a658c30\nChange-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8\n'}, {'number': 3, 'created': '2018-04-24 17:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fa75714fe153efa3b4605438d8481176de8bb95e', 'message': 'Add libvirt option to reproducer script\n\nThe libvirt option should be valid for multinode jobs\nthat can run with 2 nodes.\n\nDepends-On: Ib62f155f349a8db5ed0ef8b107418ce29a658c30\nChange-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8\n'}, {'number': 4, 'created': '2018-04-24 18:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24fbd8ae9f4a17957158cbfcb3dffa2077d08570', 'message': 'Add a libvirt option to the reproducer script\n\nThe libvirt option should be valid for multinode jobs\nthat can run with 2 nodes - and singlenode jobs.\nDocumentation is added to the libvirt option.\n\nDepends-On: Ib62f155f349a8db5ed0ef8b107418ce29a658c30\nChange-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8\n'}, {'number': 5, 'created': '2018-04-26 17:28:32.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5338db0ffaca130e5f8efa088ce5337859966d8b', 'message': 'Add a libvirt option to the reproducer script\n\nThe libvirt option should be valid for multinode jobs\nthat can run with 2 nodes - and singlenode jobs.\nDocumentation is added to the libvirt option.\n\nChange-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8\n'}]",7,563319,5338db0ffaca130e5f8efa088ce5337859966d8b,42,7,5,9976,,,0,"Add a libvirt option to the reproducer script

The libvirt option should be valid for multinode jobs
that can run with 2 nodes - and singlenode jobs.
Documentation is added to the libvirt option.

Change-Id: I1c543a9669d6cbfba4cb852e2c4257d6c44db1b8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/563319/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'],1,0b5a6ca9544dd554791490647c6acaa9159f1cd8,reproducer-libvirt,": ${LIBVIRT:=0} echo "" -l, --libvirt"" echo "" Runs a multinode job on a single virthost using libvirt.""if [[ (! -v OS_TENANT_NAME) && (""$LIBVIRT"" != ""1"") ]]; then --libvirt|-l) LIBVIRT=1 ;; # Exit of the user request a Libvirt reproducer for an OVB job if [[ ""$TOCI_JOBTYPE"" == *""ovb""* && ""$LIBVIRT"" == ""1"" ]]; then echo "" The Libvirt reproducer option is only valid for Multinode jobs."" exit 1; fi if [[ ""LIBVIRT"" == ""1""]]; then echo ""Running a libvirt reproducer ..."" # Run from the Virthost export VIRTHOST=127.0.0.2 echo -e ""[virthost]\n$VIRTHOST"" > $WORKSPACE/virthost ansible-playbook $WORKSPACE/tripleo-quickstart/playbooks/libvirt-fake-noodpool.yml \ -i $WORKSPACE/virthost \ -e local_working_dir=$WORKSPACE \ -e working_dir=$WORKSPACE HOSTS_FILE=""hosts"" # Calculate subnode_count if [[ -z ""$NODES_FILE"" ]]; then SUBNODE_COUNT=1 else SUBNODE_COUNT=$(( $( awk '/node_count: / {print $2}' $WORKSPACE/tripleo-quickstart/$NODES_FILE ) +1 )) fi ansible-playbook $WORKSPACE/tripleo-quickstart-extras/playbooks/provision_multinodes.yml \ -e local_working_dir=$WORKSPACE \ -e subnode_count=$SUBNODE_COUNT \ -e ansible_python_interpreter=""/usr/bin/python"" \ -e prefix=$NODESTACK_PREFIX HOSTS_FILE=""multinode_hosts""ansible-playbook -i $WORKSPACE/$HOSTS_FILE $WORKSPACE/tripleo-quickstart-extras/playbooks/nodepool-setup.ymlexport $(awk '/subnode-0/ {print $2}' $WORKSPACE/$HOSTS_FILE)if [[ ""$LIBVIRT"" == ""1"" ]]; then cat >>""{{ env_vars_to_source_file }}"" <<EOF # Uncomment this if you have established docker proxy on virthost # export NODEPOOL_DOCKER_REGISTRY_PROXY=$NODEPOOL_DOCKER_REGISTRY_PROXY export NODEPOOL_CENTOS_MIRROR=$NODEPOOL_CENTOS_MIRROR export NODEPOOL_MIRROR_HOST=mirror.mtl01.inap.openstack.org EOF fi ","if [[ ! -v OS_TENANT_NAME ]]; then# Calculate subnode_count if [[ -z ""$NODES_FILE"" ]]; then SUBNODE_COUNT=1 SUBNODE_COUNT=$(( $( awk '/node_count: / {print $2}' $WORKSPACE/tripleo-quickstart/$NODES_FILE ) +1 ))ansible-playbook $WORKSPACE/tripleo-quickstart-extras/playbooks/provision_multinodes.yml \ -e local_working_dir=$WORKSPACE \ -e subnode_count=$SUBNODE_COUNT \ -e ansible_python_interpreter=""/usr/bin/python"" \ -e prefix=$NODESTACK_PREFIX ansible-playbook -i $WORKSPACE/multinode_hosts $WORKSPACE/tripleo-quickstart-extras/playbooks/nodepool-setup.ymlexport $(awk '/subnode-0/ {print $2}' multinode_hosts)",55,13
openstack%2Fcinder~master~I625fb96229001c326ed2400155e2d067279a400e,openstack/cinder,master,I625fb96229001c326ed2400155e2d067279a400e,Add config table sphinx directive,MERGED,2018-04-24 21:33:40.000000000,2018-04-28 21:11:46.000000000,2018-04-27 00:06:21.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-24 21:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96742158f96b8e3dbf596274e5f8fb6cbefd61a7', 'message': 'Add config table sphinx directive\n\nIn the past we had used an openstack-manuals tool to manually generate\nconfig option tables that would then be included into driver config\ndocumentation.\n\nWith the move of documentation in-tree and the deprecation and removal\nof that tool, we have ended up with options that are no longer being\nupdated when drivers change, or maintainers are left manually updating\nthe existing tables.\n\nThis addes a sphinx extension to use a new config-table directive to\nautomatically pull in config options from the source so we no longer\nneed to perform any manual action to pick up changes.\n\nChange-Id: I625fb96229001c326ed2400155e2d067279a400e\n'}, {'number': 2, 'created': '2018-04-24 21:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50608b63cf1c0f65128faa2c02553544952bf02e', 'message': 'Add config table sphinx directive\n\nIn the past we had used an openstack-manuals tool to manually generate\nconfig option tables that would then be included into driver config\ndocumentation.\n\nWith the move of documentation in-tree and the deprecation and removal\nof that tool, we have ended up with options that are no longer being\nupdated when drivers change, or maintainers are left manually updating\nthe existing tables.\n\nThis addes a sphinx extension to use a new config-table directive to\nautomatically pull in config options from the source so we no longer\nneed to perform any manual action to pick up changes.\n\nChange-Id: I625fb96229001c326ed2400155e2d067279a400e\n'}, {'number': 3, 'created': '2018-04-24 22:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c5dec18de40e537def1f95e4b91472517706ffe', 'message': 'Add config table sphinx directive\n\nIn the past we had used an openstack-manuals tool to manually generate\nconfig option tables that would then be included into driver config\ndocumentation.\n\nWith the move of documentation in-tree and the deprecation and removal\nof that tool, we have ended up with options that are no longer being\nupdated when drivers change, or maintainers are left manually updating\nthe existing tables.\n\nThis addes a sphinx extension to use a new config-table directive to\nautomatically pull in config options from the source so we no longer\nneed to perform any manual action to pick up changes.\n\nChange-Id: I625fb96229001c326ed2400155e2d067279a400e\n'}, {'number': 4, 'created': '2018-04-25 15:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8165cb46bd505a8454305f7ff3beb1859323535f', 'message': 'Add config table sphinx directive\n\nIn the past we had used an openstack-manuals tool to manually generate\nconfig option tables that would then be included into driver config\ndocumentation.\n\nWith the move of documentation in-tree and the deprecation and removal\nof that tool, we have ended up with options that are no longer being\nupdated when drivers change, or maintainers are left manually updating\nthe existing tables.\n\nThis addes a sphinx extension to use a new config-table directive to\nautomatically pull in config options from the source so we no longer\nneed to perform any manual action to pick up changes.\n\nChange-Id: I625fb96229001c326ed2400155e2d067279a400e\n'}, {'number': 5, 'created': '2018-04-26 16:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebd343c18d5ee41ec1252267dca24e509407bbde', 'message': 'Add config table sphinx directive\n\nIn the past we had used an openstack-manuals tool to manually generate\nconfig option tables that would then be included into driver config\ndocumentation.\n\nWith the move of documentation in-tree and the deprecation and removal\nof that tool, we have ended up with options that are no longer being\nupdated when drivers change, or maintainers are left manually updating\nthe existing tables.\n\nThis addes a sphinx extension to use a new config-table directive to\nautomatically pull in config options from the source so we no longer\nneed to perform any manual action to pick up changes.\n\nChange-Id: I625fb96229001c326ed2400155e2d067279a400e\n'}, {'number': 6, 'created': '2018-04-26 18:47:55.000000000', 'files': ['doc/source/configuration/tables/cinder-storage_ceph.inc', 'cinder/volume/drivers/rbd.py', 'doc/source/configuration/tables/cinder-lvm.inc', 'doc/source/configuration/block-storage/drivers/nfs-volume-driver.rst', 'doc/ext/driver_opts.py', 'doc/source/configuration/block-storage/drivers/lvm-volume-driver.rst', 'doc/source/conf.py', 'doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst', 'doc/source/configuration/tables/cinder-storage_nfs.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c87da917571aa2795863f78486ba5d1d6c19fce1', 'message': 'Add config table sphinx directive\n\nIn the past we had used an openstack-manuals tool to manually generate\nconfig option tables that would then be included into driver config\ndocumentation.\n\nWith the move of documentation in-tree and the deprecation and removal\nof that tool, we have ended up with options that are no longer being\nupdated when drivers change, or maintainers are left manually updating\nthe existing tables.\n\nThis addes a sphinx extension to use a new config-table directive to\nautomatically pull in config options from the source so we no longer\nneed to perform any manual action to pick up changes.\n\nChange-Id: I625fb96229001c326ed2400155e2d067279a400e\n'}]",5,564068,c87da917571aa2795863f78486ba5d1d6c19fce1,139,38,6,11904,,,0,"Add config table sphinx directive

In the past we had used an openstack-manuals tool to manually generate
config option tables that would then be included into driver config
documentation.

With the move of documentation in-tree and the deprecation and removal
of that tool, we have ended up with options that are no longer being
updated when drivers change, or maintainers are left manually updating
the existing tables.

This addes a sphinx extension to use a new config-table directive to
automatically pull in config options from the source so we no longer
need to perform any manual action to pick up changes.

Change-Id: I625fb96229001c326ed2400155e2d067279a400e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/564068/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-storage_ceph.inc', 'cinder/volume/drivers/rbd.py', 'doc/source/configuration/tables/cinder-lvm.inc', 'doc/source/configuration/block-storage/drivers/nfs-volume-driver.rst', 'doc/ext/driver_opts.py', 'doc/source/configuration/block-storage/drivers/lvm-volume-driver.rst', 'doc/source/conf.py', 'doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst', 'doc/source/configuration/tables/cinder-storage_nfs.inc']",9,96742158f96b8e3dbf596274e5f8fb6cbefd61a7,config-table,,".. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. .. _cinder-storage_nfs: .. list-table:: Description of NFS storage configuration options :header-rows: 1 :class: config-ref-table * - Configuration option = Default value - Description * - **[DEFAULT]** - * - ``nfs_mount_attempts`` = ``3`` - (Integer) The number of attempts to mount NFS shares before raising an error. At least one attempt will be made to mount an NFS share, regardless of the value specified. * - ``nfs_mount_options`` = ``None`` - (String) Mount options passed to the NFS client. See section of the NFS man page for details. * - ``nfs_mount_point_base`` = ``$state_path/mnt`` - (String) Base dir containing mount points for NFS shares. * - ``nfs_qcow2_volumes`` = ``False`` - (Boolean) Create volumes as QCOW2 files rather than raw files. * - ``nfs_shares_config`` = ``/etc/cinder/nfs_shares`` - (String) File with the list of available NFS shares. * - ``nfs_snapshot_support`` = ``False`` - (Boolean) Enable support for snapshots on the NFS driver. Platforms using libvirt <1.2.7 will encounter issues with this feature. * - ``nfs_sparsed_volumes`` = ``True`` - (Boolean) Create volumes as sparsed files which take no space. If set to False volume is created as regular file. In such case volume creation takes a lot of time. ",145,114
openstack%2Fopenstack-zuul-jobs~master~Ib66f16e7e498fe199c4005b7de96dd01ca577365,openstack/openstack-zuul-jobs,master,Ib66f16e7e498fe199c4005b7de96dd01ca577365,Fix nova hacking integration job,ABANDONED,2018-04-27 07:49:34.000000000,2018-04-28 21:09:38.000000000,,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 07:49:34.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2ad24d25f908b9b95548f7afdccc1ce933ebc4b3', 'message': 'Fix nova hacking integration job\n\nThis legacy job needs nova as required project, see\n\nhttp://logs.openstack.org/29/561129/5/check/legacy-hacking-integration-nova/c89e8a5/job-output.txt.gz#_2018-04-27_02_34_21_114629\n\nChange-Id: Ib66f16e7e498fe199c4005b7de96dd01ca577365\n'}]",0,564691,2ad24d25f908b9b95548f7afdccc1ce933ebc4b3,5,3,1,13252,,,0,"Fix nova hacking integration job

This legacy job needs nova as required project, see

http://logs.openstack.org/29/561129/5/check/legacy-hacking-integration-nova/c89e8a5/job-output.txt.gz#_2018-04-27_02_34_21_114629

Change-Id: Ib66f16e7e498fe199c4005b7de96dd01ca577365
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/91/564691/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,2ad24d25f908b9b95548f7afdccc1ce933ebc4b3,fix-hacking-nova, required-projects: - openstack/nova,,2,0
openstack%2Fcinder~master~I1e873d66138b88745bdb325f124b6bd781c7d621,openstack/cinder,master,I1e873d66138b88745bdb325f124b6bd781c7d621,Add missing VolumeAttachStatus enum field,MERGED,2018-04-22 04:05:47.000000000,2018-04-28 19:04:38.000000000,2018-04-25 07:43:36.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23871}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-22 04:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39d06c682b53a069f53eb302598914af684c8e10', 'message': 'Add missing VolumeAttachStatus enum field\n\nVolumeAttachStatus have been defined already, This change\njust replace the missing string volume attach status with\nvolume attach enum field.\n\nChange-Id: I1e873d66138b88745bdb325f124b6bd781c7d621\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 2, 'created': '2018-04-22 06:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69fa0c29a2a3fe8b3d92f8bf29938954bc0bdbf6', 'message': 'Add missing VolumeAttachStatus enum field\n\nVolumeAttachStatus have been defined already, This change\njust replace the missing string volume attach status with\nvolume attach enum field.\n\nChange-Id: I1e873d66138b88745bdb325f124b6bd781c7d621\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 3, 'created': '2018-04-23 01:37:28.000000000', 'files': ['cinder/volume/manager.py', 'cinder/api/v3/attachments.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f01ae575da949af53734645839c9fda2f67a10b2', 'message': 'Add missing VolumeAttachStatus enum field\n\nVolumeAttachStatus has been defined already, This change\njust replace the missing string volume attach status with\nvolume attach enum field.\n\nChange-Id: I1e873d66138b88745bdb325f124b6bd781c7d621\nPartial-Implements: bp cinder-object-fields\n'}]",2,563444,f01ae575da949af53734645839c9fda2f67a10b2,128,37,3,25456,,,0,"Add missing VolumeAttachStatus enum field

VolumeAttachStatus has been defined already, This change
just replace the missing string volume attach status with
volume attach enum field.

Change-Id: I1e873d66138b88745bdb325f124b6bd781c7d621
Partial-Implements: bp cinder-object-fields
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/563444/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/api/v3/attachments.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py']",4,39d06c682b53a069f53eb302598914af684c8e10,bp/cinder-object-fields, if attachment.attach_status == fields.VolumeAttachStatus.RESERVED:, if attachment.attach_status == 'reserved':,5,4
openstack%2Fcinder~master~I7d3d006b023ca4b7963c4c684e4c036399d1295c,openstack/cinder,master,I7d3d006b023ca4b7963c4c684e4c036399d1295c,RBD: Handle ImageNotFound exception in _get_usage_info correctly,MERGED,2018-04-20 21:08:16.000000000,2018-04-28 19:04:37.000000000,2018-04-25 20:24:57.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9542}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-20 21:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f188c2961df9c2a2a12e09c8f386c82ce8c17cf', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes raise condition between volume deletion and\n_get_usage_info calls.\n\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}, {'number': 2, 'created': '2018-04-21 17:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c271a4963522967684977efedc5b3b113b86206', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nDepends-On: https://review.openstack.org/563238\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}, {'number': 3, 'created': '2018-04-21 17:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38c1d8f0a5c81efe6cec5504ac056892557c3093', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nDepends-On: https://review.openstack.org/563238\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}, {'number': 4, 'created': '2018-04-23 18:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60fdc68a2acd55ab69724a8cc20c57ad6540ca01', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nDepends-On: https://review.openstack.org/563238\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}, {'number': 5, 'created': '2018-04-24 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb23a5f49a223728f97dc4697b9c322ffe6ae067', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nDepends-On: https://review.openstack.org/563238\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}, {'number': 6, 'created': '2018-04-24 18:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cbd667eaba65b82e6f4362db597ee8fc4f13eb3', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nDepends-On: https://review.openstack.org/563238\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}, {'number': 7, 'created': '2018-04-24 20:56:51.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3cc8cbdee7c98e1fcf41bb27d81e34fef3a2d032', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n'}]",7,563313,3cc8cbdee7c98e1fcf41bb27d81e34fef3a2d032,164,42,7,1736,,,0,"RBD: Handle ImageNotFound exception in _get_usage_info correctly

Change https://review.openstack.org/#/c/486734 moved try-except
statement to the wrong place. We need to open image in Ceph inside
try-except block.

This patch also fixes race condition between volume deletion and
_get_usage_info calls.

Closed-Bug: #1765845
Change-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c
Co-Authored-By: Melanie Witt <melwittt@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/563313/7 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,4f188c2961df9c2a2a12e09c8f386c82ce8c17cf,bug/1765845," try: with RBDVolumeProxy(self, t, read_only=True, client=client.cluster, ioctx=client.ioctx) as v: except self.rbd.ImageNotFound: LOG.debug(""Image %s is not found."", t) else: total_provisioned += size"," with RBDVolumeProxy(self, t, read_only=True, client=client.cluster, ioctx=client.ioctx) as v: try: except self.rbd.ImageNotFound: LOG.debug(""Image %s is not found."", t) else: total_provisioned += size",8,8
openstack%2Fcinder~stable%2Focata~I0e21cbcb6effa1e72999580564099976511ca4a9,openstack/cinder,stable/ocata,I0e21cbcb6effa1e72999580564099976511ca4a9,NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI,MERGED,2018-04-19 15:08:14.000000000,2018-04-28 19:03:58.000000000,2018-04-26 16:11:07.000000000,"[{'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-19 15:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46f6cef254746f048226611df2756219ec5c4e99', 'message': 'NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI\n\nWhen a cinder volume is created the ontap backend fits the LUN to the\nbest geometry. It makes the image uploaded from a volume larger than\nexpected and a volume of larger size must be created from that image.\nUsing the use-exact-size parameter the backend does not fit to best\ngeometry, the image uploaded from that volume has the same size and a\nvolume of the same size may be created from that image.\n\nNevertheless this parameter is available only in Data ONTAP 9.1 (ontapi\nversion 1.110) and later.\n\nCloses-Bug: #1731474\nChange-Id: I0e21cbcb6effa1e72999580564099976511ca4a9\n'}, {'number': 2, 'created': '2018-04-20 12:10:29.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'releasenotes/notes/netapp-ontap-use_exact_size-d03c90efbb8a30ac.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/013d6183c434ec05a11115e603f02cf6e57a85b1', 'message': 'NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI\n\nWhen a cinder volume is created the ontap backend fits the LUN to the\nbest geometry. It makes the image uploaded from a volume larger than\nexpected and a volume of larger size must be created from that image.\nUsing the use-exact-size parameter the backend does not fit to best\ngeometry, the image uploaded from that volume has the same size and a\nvolume of the same size may be created from that image.\n\nNevertheless this parameter is available only in Data ONTAP 9.1 (ontapi\nversion 1.110) and later.\n\nCloses-Bug: #1731474\nChange-Id: I0e21cbcb6effa1e72999580564099976511ca4a9\n(cherry picked from commit 67391f1f0f30172190882e7d3f4a4ddc271dfa00)\n'}]",0,562669,013d6183c434ec05a11115e603f02cf6e57a85b1,56,19,2,25186,,,0,"NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI

When a cinder volume is created the ontap backend fits the LUN to the
best geometry. It makes the image uploaded from a volume larger than
expected and a volume of larger size must be created from that image.
Using the use-exact-size parameter the backend does not fit to best
geometry, the image uploaded from that volume has the same size and a
volume of the same size may be created from that image.

Nevertheless this parameter is available only in Data ONTAP 9.1 (ontapi
version 1.110) and later.

Closes-Bug: #1731474
Change-Id: I0e21cbcb6effa1e72999580564099976511ca4a9
(cherry picked from commit 67391f1f0f30172190882e7d3f4a4ddc271dfa00)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/562669/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'releasenotes/notes/netapp-ontap-use_exact_size-d03c90efbb8a30ac.yaml']",3,46f6cef254746f048226611df2756219ec5c4e99,bug/1731474,--- fixes: - | Fixed bug #1731474 on NetApp Data ONTAP driver that was causing LUNs to be created with larger size than requested. This fix requires version 9.1 of ONTAP or later.,,36,4
openstack%2Fcinder~stable%2Fqueens~If389788f06a3cee75b30485e90e05745d559e2ed,openstack/cinder,stable/queens,If389788f06a3cee75b30485e90e05745d559e2ed,Add Keystone v3 domain information to context,MERGED,2018-04-25 18:12:14.000000000,2018-04-28 19:03:39.000000000,2018-04-27 01:04:26.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-25 18:12:14.000000000', 'files': ['cinder/api/middleware/auth.py', 'cinder/context.py', 'cinder/tests/unit/api/middleware/test_auth.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/76a6fd098783489ab87343fe8eba49c7f12fca20', 'message': 'Add Keystone v3 domain information to context\n\nKeystone v3 requires domain info to be supplied when\nmaking calls to Keystone.  Not providing this means\nthat Cinder can\'t work with deployments that only\nsupport Keystone v3.\n\n(Specifically, this fails when trying to communicate\nwith Keystone/Barbican from Cinder.)\n\nThe domain information is retrieved from HTTP headers\nprovided by Keystone and stored in our context object.\n\nThis includes both ""<x>_domain"" and ""<x>_domain_id""\nin our context object, since castellan depends on\nproject_domain_id, but oslo.context has deprecated\nproject_domain and user_domain.\n\nCloses-Bug: #1765766\nChange-Id: If389788f06a3cee75b30485e90e05745d559e2ed\n(cherry picked from commit 6ddd7d8b75307f89e4dd870a6122ccfd98a65c25)\n'}]",0,564307,76a6fd098783489ab87343fe8eba49c7f12fca20,26,18,1,4523,,,0,"Add Keystone v3 domain information to context

Keystone v3 requires domain info to be supplied when
making calls to Keystone.  Not providing this means
that Cinder can't work with deployments that only
support Keystone v3.

(Specifically, this fails when trying to communicate
with Keystone/Barbican from Cinder.)

The domain information is retrieved from HTTP headers
provided by Keystone and stored in our context object.

This includes both ""<x>_domain"" and ""<x>_domain_id""
in our context object, since castellan depends on
project_domain_id, but oslo.context has deprecated
project_domain and user_domain.

Closes-Bug: #1765766
Change-Id: If389788f06a3cee75b30485e90e05745d559e2ed
(cherry picked from commit 6ddd7d8b75307f89e4dd870a6122ccfd98a65c25)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/564307/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/middleware/auth.py', 'cinder/context.py', 'cinder/tests/unit/api/middleware/test_auth.py']",3,76a6fd098783489ab87343fe8eba49c7f12fca20,bug/1765766-stable/queens," def test_request_project_domain_id(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_PROJECT_DOMAIN_ID'] = 'domain1' self.request.get_response(self.middleware) self.assertEqual('domain1', self.context.project_domain) def test_request_project_domain_name(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_PROJECT_DOMAIN_NAME'] = 'mydomain' self.request.get_response(self.middleware) self.assertEqual('mydomain', self.context.project_domain_name) def test_request_user_domain_id(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_USER_DOMAIN_ID'] = 'domain2' self.request.get_response(self.middleware) self.assertEqual('domain2', self.context.user_domain) def test_request_user_domain_name(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_USER_DOMAIN_NAME'] = 'mydomain2' self.request.get_response(self.middleware) self.assertEqual('mydomain2', self.context.user_domain_name)",,49,2
openstack%2Fcinder~stable%2Focata~I6407c4b056922227b66f2231d1e1506cd6b7a36f,openstack/cinder,stable/ocata,I6407c4b056922227b66f2231d1e1506cd6b7a36f,OVO: Fix VolumeType create not bound to a Session,MERGED,2018-04-23 13:51:54.000000000,2018-04-28 19:03:36.000000000,2018-04-26 00:06:56.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-23 13:51:54.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/72d12fe1fb11f2d824d8d9f257d638e8080ae26f', 'message': 'OVO: Fix VolumeType create not bound to a Session\n\nWe have detected a spurious failure on unittest\nQuotaIntegrationTestCase.test_too_many_volumes_of_type that presented as\na ""not bound to a Session; lazy load operation"" error for the ""projects""\nattribute of a Volume Type.\n\nThis is not an error on the tests but an error on the OVO-ORM mechanism\nwe have to create a VolumeType instance.\n\nWhen we create a VolumeType we return created volume type as we have\nsent it to the DB (not actually reading from the DB the current values)\nso we don\'t have the ""projects"" field loaded in the ORM instance, which\nmeans that SQLAlchemy will try to lazy load it when we get the project\nvalue on the ""_from_db_object"".\n\nThere are 3 possible solutions to the problem:\n\n- Read from the DB the VolumeType with the project list\n\n- Change the way we do the db_type.get so we check against the\ndictionary instead of the ORM object so we don\'t trigger the lazy\nloading: `vars(db_type).get(\'projects\', [])`\n\n- On the ""volume_type_create"" method in the DB return the projects field\nwith the right values.\n\nThis patch implements the last approach which fixes the VolumeType\ncreation issue.\n\nIn another patch we could address other potential cases where we could\nbe missing the project field as well, as mentioned in the second\napproach, and that would require changing our fakes to use actual ORM\ninstances instead of dictionaries, and probably also adapting some\ncinder code and additional tests.\n\nChange-Id: I6407c4b056922227b66f2231d1e1506cd6b7a36f\nCloses-Bug: #1693090\n(cherry picked from commit d4496c807279a310bd149256c467de73eb25fe34)\n'}]",0,563628,72d12fe1fb11f2d824d8d9f257d638e8080ae26f,39,22,1,11904,,,0,"OVO: Fix VolumeType create not bound to a Session

We have detected a spurious failure on unittest
QuotaIntegrationTestCase.test_too_many_volumes_of_type that presented as
a ""not bound to a Session; lazy load operation"" error for the ""projects""
attribute of a Volume Type.

This is not an error on the tests but an error on the OVO-ORM mechanism
we have to create a VolumeType instance.

When we create a VolumeType we return created volume type as we have
sent it to the DB (not actually reading from the DB the current values)
so we don't have the ""projects"" field loaded in the ORM instance, which
means that SQLAlchemy will try to lazy load it when we get the project
value on the ""_from_db_object"".

There are 3 possible solutions to the problem:

- Read from the DB the VolumeType with the project list

- Change the way we do the db_type.get so we check against the
dictionary instead of the ORM object so we don't trigger the lazy
loading: `vars(db_type).get('projects', [])`

- On the ""volume_type_create"" method in the DB return the projects field
with the right values.

This patch implements the last approach which fixes the VolumeType
creation issue.

In another patch we could address other potential cases where we could
be missing the project field as well, as mentioned in the second
approach, and that would require changing our fakes to use actual ORM
instances instead of dictionaries, and probably also adapting some
cinder code and additional tests.

Change-Id: I6407c4b056922227b66f2231d1e1506cd6b7a36f
Closes-Bug: #1693090
(cherry picked from commit d4496c807279a310bd149256c467de73eb25fe34)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/563628/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,72d12fe1fb11f2d824d8d9f257d638e8080ae26f,bug/1693090-stable/ocata, orm_projects = [] orm_projects.append(access_ref) volume_type_ref.projects = orm_projects return volume_type_ref, return volume_type_ref,4,1
openstack%2Fcinder~master~I7581b7eeb3508a12342d42cdd955b55a440483b6,openstack/cinder,master,I7581b7eeb3508a12342d42cdd955b55a440483b6,Dell EMC SC: Removed space from debug statement,MERGED,2018-04-23 15:48:57.000000000,2018-04-28 19:03:32.000000000,2018-04-23 19:52:10.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15011}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-23 15:48:57.000000000', 'files': ['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5183a2ac95c039063d33c0b9d2e4a959c48c1c1a', 'message': ""Dell EMC SC: Removed space from debug statement\n\nA space didn't belong where it was found. I killed it and I'm glad.\n\nChange-Id: I7581b7eeb3508a12342d42cdd955b55a440483b6\n""}]",0,563678,5183a2ac95c039063d33c0b9d2e4a959c48c1c1a,35,31,1,12112,,,0,"Dell EMC SC: Removed space from debug statement

A space didn't belong where it was found. I killed it and I'm glad.

Change-Id: I7581b7eeb3508a12342d42cdd955b55a440483b6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/563678/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py'],1,5183a2ac95c039063d33c0b9d2e4a959c48c1c1a,dellemc/spacebad, LOG.info('initialize_connection: %(vol)s:%(pid)s:', LOG.info('initialize_ connection: %(vol)s:%(pid)s:',1,1
openstack%2Fcinder~master~I06102ca7cfd8bbf887f8778aa8963aba233f530c,openstack/cinder,master,I06102ca7cfd8bbf887f8778aa8963aba233f530c,Imported Translations from Zanata,MERGED,2018-04-26 06:21:01.000000000,2018-04-28 19:03:16.000000000,2018-04-26 13:58:58.000000000,"[{'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16258}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28154}]","[{'number': 1, 'created': '2018-04-26 06:21:01.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0464a26bc1c3d4fee300f3bfcddf6b3c3769b75b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I06102ca7cfd8bbf887f8778aa8963aba233f530c\n'}]",0,564395,0464a26bc1c3d4fee300f3bfcddf6b3c3769b75b,35,26,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I06102ca7cfd8bbf887f8778aa8963aba233f530c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/564395/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,0464a26bc1c3d4fee300f3bfcddf6b3c3769b75b,zanata/translations,"""POT-Creation-Date: 2018-04-25 20:33+0000\n""""PO-Revision-Date: 2018-04-25 08:03+0000\n""msgid ""10.0.6-16"" msgstr ""10.0.6-16""msgid ""11.1.0-20"" msgstr ""11.1.0-20""msgid ""12.0.1"" msgstr ""12.0.1"" msgid ""12.0.1-13"" msgstr ""12.0.1-13"" msgid ""13.0.0.0b1"" msgstr ""13.0.0.0b1""msgid ""Fixed QNAP driver failures to create volume and snapshot in some cases."" msgstr """" ""Fixed QNAP driver failures to create volume and snapshot in some cases."" ""NetApp E-series (bug 1718739):The NetApp E-series driver has been fixed to "" ""correctly report the \""provisioned_capacity_gb\"". Now it sums the capacity "" ""of all the volumes in the configured backend to get the correct value. This "" ""bug fix affects all the protocols supported by the driver (FC and iSCSI)."" msgstr """" ""NetApp E-series (bug 1718739):The NetApp E-series driver has been fixed to "" ""correctly report the \""provisioned_capacity_gb\"". Now it sums the capacity "" ""of all the volumes in the configured backend to get the correct value. This "" ""bug fix affects all the protocols supported by the driver (FC and iSCSI)."" msgid """" ""NetApp ONTAP (bug 1762424): Fix ONTAP NetApp driver not being able to extend "" ""a volume to a size greater than the corresponding LUN max geometry."" msgstr """" ""NetApp ONTAP (bug 1762424): Fix ONTAP NetApp driver not being able to extend "" ""a volume to a size greater than the corresponding LUN max geometry."" msgid """" ""NetApp ONTAP NFS (bug 1690954): Fix wrong usage of export path as volume "" ""name when deleting volumes and snapshots."" msgstr """" ""NetApp ONTAP NFS (bug 1690954): Fix wrong usage of export path as volume "" ""name when deleting volumes and snapshots."" msgid """"","""POT-Creation-Date: 2018-04-17 01:11+0000\n""""PO-Revision-Date: 2018-04-15 04:29+0000\n""msgid ""10.0.6-9"" msgstr ""10.0.6-9""msgid ""11.1.0-15"" msgstr ""11.1.0-15""msgid ""12.0.0-25"" msgstr ""12.0.0-25""",43,8
openstack%2Fcinder~master~Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274,openstack/cinder,master,Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274,TrivialFix: Move the location of import in get_volume_type_reservation(),ABANDONED,2018-04-26 06:35:39.000000000,2018-04-28 19:03:14.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25388}, {'_account_id': 27615}]","[{'number': 1, 'created': '2018-04-26 06:35:39.000000000', 'files': ['cinder/quota_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/41810a9ed631da566b904a2ee3ecd59fe05d444b', 'message': 'TrivialFix: Move the location of import in get_volume_type_reservation()\n\nChange-Id: Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274\n'}]",2,564399,41810a9ed631da566b904a2ee3ecd59fe05d444b,22,18,1,25388,,,0,"TrivialFix: Move the location of import in get_volume_type_reservation()

Change-Id: Ia7ecfe975f0ecf13875e8f3dea222f7f8563d274
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/564399/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/quota_utils.py'],1,41810a9ed631da566b904a2ee3ecd59fe05d444b,mova_import,from cinder import quota, from cinder import quota,1,1
openstack%2Fcinder~master~I516fc5ef4b174bda54da306a2135aa4eb30e5ea1,openstack/cinder,master,I516fc5ef4b174bda54da306a2135aa4eb30e5ea1,V3 json schema validation: volume manage,MERGED,2018-03-23 09:39:45.000000000,2018-04-28 19:03:04.000000000,2018-04-26 15:16:48.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26541}]","[{'number': 1, 'created': '2018-03-23 09:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff4bc34a2fad149b7b38501f1c5133a747cbe5ce', 'message': 'V3 json schema validation: volume manage\n\nThis patch adds jsonschema validation for below volume_manage API\n* POST /v3/{project_id}/manageable_volumes\n\nChange-Id: I516fc5ef4b174bda54da306a2135aa4eb30e5ea1\nPartial-Implements: bp json-schema-validation\n'}, {'number': 2, 'created': '2018-04-06 09:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5ffb757c06331e36295f82c27370e87e27304f3', 'message': 'V3 json schema validation: volume manage\n\nThis patch adds jsonschema validation for below volume_manage API\n* POST /v3/{project_id}/manageable_volumes\n\nChange-Id: I516fc5ef4b174bda54da306a2135aa4eb30e5ea1\nPartial-Implements: bp json-schema-validation\n'}, {'number': 3, 'created': '2018-04-11 07:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2488c9e93672745517b3da0d10e6d08a229e6d9a', 'message': 'V3 json schema validation: volume manage\n\nThis patch adds jsonschema validation for below volume_manage API\n* POST /v3/{project_id}/manageable_volumes\n\nChange-Id: I516fc5ef4b174bda54da306a2135aa4eb30e5ea1\nPartial-Implements: bp json-schema-validation\n'}, {'number': 4, 'created': '2018-04-16 04:27:07.000000000', 'files': ['cinder/api/contrib/volume_manage.py', 'cinder/api/v3/volume_manage.py', 'cinder/api/schemas/volume_manage.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1201515997002c3472f0cc74a0a92736414f3633', 'message': 'V3 json schema validation: volume manage\n\nThis patch adds jsonschema validation for below volume_manage API\n* POST /v3/{project_id}/manageable_volumes\n\nChange-Id: I516fc5ef4b174bda54da306a2135aa4eb30e5ea1\nPartial-Implements: bp json-schema-validation\n'}]",1,555717,1201515997002c3472f0cc74a0a92736414f3633,187,47,4,26541,,,0,"V3 json schema validation: volume manage

This patch adds jsonschema validation for below volume_manage API
* POST /v3/{project_id}/manageable_volumes

Change-Id: I516fc5ef4b174bda54da306a2135aa4eb30e5ea1
Partial-Implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/555717/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'cinder/api/contrib/volume_manage.py', 'cinder/api/v3/volume_manage.py', 'cinder/api/schemas/volume_manage.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py']",5,ff4bc34a2fad149b7b38501f1c5133a747cbe5ce,bp/json-schema-validation," def test_manage_volume_ok(self, mock_api_manage): res = self.controller.create(req, body=body) def test_manage_volume_ok_cluster(self, mock_api_manage): def test_manage_volume_fail_host_cluster(self): def test_manage_volume_volume_type_by_uuid(self): def test_manage_volume_volume_type_by_name(self): @ddt.data({'volume': {}}, None) def test_manage_volume_with_invalid_body(self, body): res = self._get_resp_post(body) self.assertEqual(http_client.BAD_REQUEST, res.status_int)"," @ddt.data(False, True) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_manage_volume_ok(self, cluster, mock_validate, mock_api_manage): # This will be ignored if cluster: body['volume']['cluster'] = 'cluster' self.assertIsNone(args[2]) # Cluster argument self.assertTrue(mock_validate.called) res = self.controller.create(req, body) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_manage_volume_ok_cluster(self, mock_validate, mock_api_manage): self.assertTrue(mock_validate.called) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_manage_volume_fail_host_cluster(self, mock_validate): @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_manage_volume_volume_type_by_uuid(self, mock_validate): self.assertTrue(mock_validate.called) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_manage_volume_volume_type_by_name(self, mock_validate): self.assertTrue(mock_validate.called)",87,38
openstack%2Fcinder~master~I4eab4d0aa254d9ce7dcb9e15077779fa508cad41,openstack/cinder,master,I4eab4d0aa254d9ce7dcb9e15077779fa508cad41,V3 json schema validation: workers,MERGED,2017-12-18 05:47:17.000000000,2018-04-28 19:03:03.000000000,2018-04-26 10:33:11.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26541}]","[{'number': 1, 'created': '2017-12-18 05:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ee7a4bb179a25f65c02598d7d10926b63e27a6a', 'message': 'V3 json schema validation: workers\n\nThis patch adds jsonschema validation for below workers API\n* POST v3/{project_id}/workers/cleanup\n\nChange-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41\nPartial-Implements: bp json-schema-validation\n'}, {'number': 2, 'created': '2018-03-14 10:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f519ca5fcb7c3f784c7e25bafe2739ef4c92b5d', 'message': 'V3 json schema validation: workers\n\nThis patch adds jsonschema validation for below workers API\n* POST v3/{project_id}/workers/cleanup\n\nChange-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41\nPartial-Implements: bp json-schema-validation\n'}, {'number': 3, 'created': '2018-03-23 07:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3162cc336f48526f0a8ea4107a987524c90c9550', 'message': 'V3 json schema validation: workers\n\nThis patch adds jsonschema validation for below workers API\n* POST v3/{project_id}/workers/cleanup\n\nChange-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41\nPartial-Implements: bp json-schema-validation\n'}, {'number': 4, 'created': '2018-04-06 08:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20ead7f2b89b74a2dece1bd8420301621edb8362', 'message': 'V3 json schema validation: workers\n\nThis patch adds jsonschema validation for below workers API\n* POST v3/{project_id}/workers/cleanup\n\nChange-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41\nPartial-Implements: bp json-schema-validation\n'}, {'number': 5, 'created': '2018-04-11 07:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d51a790b055a89829f259fe22a69c8aef58225d9', 'message': 'V3 json schema validation: workers\n\nThis patch adds jsonschema validation for below workers API\n* POST v3/{project_id}/workers/cleanup\n\nChange-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41\nPartial-Implements: bp json-schema-validation\n'}, {'number': 6, 'created': '2018-04-16 04:24:45.000000000', 'files': ['cinder/api/v3/workers.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/schemas/workers.py', 'cinder/tests/unit/api/v3/test_workers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ae5811625cb50af6d60249244eaaa64a38671b0', 'message': 'V3 json schema validation: workers\n\nThis patch adds jsonschema validation for below workers API\n* POST v3/{project_id}/workers/cleanup\n\nChange-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41\nPartial-Implements: bp json-schema-validation\n'}]",6,528633,9ae5811625cb50af6d60249244eaaa64a38671b0,271,50,6,26541,,,0,"V3 json schema validation: workers

This patch adds jsonschema validation for below workers API
* POST v3/{project_id}/workers/cleanup

Change-Id: I4eab4d0aa254d9ce7dcb9e15077779fa508cad41
Partial-Implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/528633/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/workers.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/schemas/workers.py', 'cinder/tests/unit/api/v3/test_workers.py']",4,2ee7a4bb179a25f65c02598d7d10926b63e27a6a,bp/json-schema-validation," @ddt.data({'binary': 'nova-scheduler'}, expected = 'Invalid input' self.assertIn(expected, res.json['badRequest']['message']) rpc_mock.assert_not_called() @ddt.data({'fake_key': 'value'}) @mock.patch('cinder.scheduler.rpcapi.SchedulerAPI.work_cleanup') def test_cleanup_with_additional_properties(self, body, rpc_mock): res = self._get_resp_post(body) self.assertEqual(http_client.BAD_REQUEST, res.status_code) expected = 'Additional properties are not allowed'"," @ddt.data({'fake_key': 'value'}, {'binary': 'nova-scheduler'}, if 'disabled' in body or 'is_up' in body: expected = 'is not a boolean' else: expected = 'Invalid input'",81,26
openstack%2Fcinder~stable%2Focata~Id5122dd9be973000831598fddc9e6f084ec2b7db,openstack/cinder,stable/ocata,Id5122dd9be973000831598fddc9e6f084ec2b7db,Fix a compatibility issue after Huawei driver upgrade,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:02:47.000000000,2018-04-26 18:30:25.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 16203}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': ['cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed7527145adbf598dfaadc987df79e599003ab93', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)\n""}]",0,560603,ed7527145adbf598dfaadc987df79e599003ab93,40,18,1,11904,,,0,"Fix a compatibility issue after Huawei driver upgrade

Previously Huawei driver changed the storing place for it's private
data, if upgrade to this new version driver, and there's already an
existing volume created by old driver, there's a compatibility issue
of getting hypermetro_id property, which will result deleting volume
failed while there's no hypermetro configuration exist.

This patch fixes this issue.

Change-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db
(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)
(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/560603/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/huawei_driver.py'],1,ed7527145adbf598dfaadc987df79e599003ab93,driverfixes_sync, if metadata.get('hypermetro_id'): hypermetro_lun = metadata.get('hypermetro_id') is not None if metadata.get('hypermetro_id'):, if 'hypermetro_id' in metadata: hypermetro_lun = 'hypermetro_id' in metadata if 'hypermetro_id' in metadata:,3,3
openstack%2Fcinder~stable%2Focata~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,stable/ocata,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-17 16:20:26.000000000,2018-04-28 19:02:05.000000000,2018-04-26 19:00:41.000000000,"[{'_account_id': 1736}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-17 16:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/208ebaeaba2dab3a4ded32b9a11b0da4c216e03a', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 2, 'created': '2017-10-17 16:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b99f70f4175377152f5b5cbfcca3f2c144eab4d', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 3, 'created': '2018-04-11 19:50:36.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/047c3f87b590ea2d627692d05347fcb49c060bab', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}]",0,512684,047c3f87b590ea2d627692d05347fcb49c060bab,53,23,3,10379,,,0,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/512684/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml']",2,208ebaeaba2dab3a4ded32b9a11b0da4c216e03a,driverfixes_sync,--- fixes: - Dell EMC PS Series Driver code reporting volume stats is now optimized to return the information earlier and accelerate the process. This change fixes bug 1661154. ,,25,1
openstack%2Fcinder~stable%2Focata~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,stable/ocata,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-17 16:25:22.000000000,2018-04-28 19:02:03.000000000,2018-04-26 19:00:43.000000000,"[{'_account_id': 1736}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-17 16:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc45d0fcd97382a96e21a551ece09bdce50f1242', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 2, 'created': '2017-10-17 16:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/085904c1f448e17a04658a83075009ce10c2f26d', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 3, 'created': '2018-04-11 19:50:36.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/09b1b1351901b5cf042b2a59624751451707c87a', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}]",0,512698,09b1b1351901b5cf042b2a59624751451707c87a,56,24,3,10379,,,0,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/512698/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml']",2,fc45d0fcd97382a96e21a551ece09bdce50f1242,driverfixes_sync,--- fixes: - Dell EMC PS Series Driver was creating unmanaged snapshots when extending volumes. Fixed it by adding the missing no-snap parameter. This changes fixes bug 1720454. ,,10,4
openstack%2Fcinder~stable%2Focata~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,stable/ocata,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:02:01.000000000,2018-04-27 01:04:28.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1232cdde8a8c15070215f9377d97a5e5afd185c', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)\n'}]",0,560604,b1232cdde8a8c15070215f9377d97a5e5afd185c,46,19,1,11904,,,0,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/560604/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,b1232cdde8a8c15070215f9377d97a5e5afd185c,driverfixes_sync," self.assertGreater(len(fake_data), len(result[1]))"," self.assertGreater(len(fake_data), len(result))",3,3
openstack%2Fcinder~stable%2Focata~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,stable/ocata,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:01:59.000000000,2018-04-27 01:04:30.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/173d4d0a4686a409f9578538018aa808bb437ca9', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greenthreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Blåudd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)\n(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)\n'}]",0,560605,173d4d0a4686a409f9578538018aa808bb437ca9,43,20,1,11904,,,0,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Blåudd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/560605/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",4,173d4d0a4686a409f9578538018aa808bb437ca9,driverfixes_sync," # Execute compression in native thread so it doesn't prevent # cooperative greenthread switching. compressed_data = eventlet.tpool.execute(self.compressor.compress, data)", compressed_data = self.compressor.compress(data),49,4
openstack%2Fcinder~stable%2Focata~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,stable/ocata,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:01:57.000000000,2018-04-27 02:24:42.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c96512aab0ee00201e26b0efa9c87c7f62fd463e', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)\n'}]",0,560606,c96512aab0ee00201e26b0efa9c87c7f62fd463e,55,19,1,11904,,,0,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/560606/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",3,c96512aab0ee00201e26b0efa9c87c7f62fd463e,driverfixes_sync," self.fake_access_id = '1' def test_get_access_record(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = self.access_record_output data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertEqual(self.fake_access_id, data) def test_get_access_record_negative(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = [] data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertIsNone(data) ",,45,10
openstack%2Fcinder~stable%2Fqueens~I7d3d006b023ca4b7963c4c684e4c036399d1295c,openstack/cinder,stable/queens,I7d3d006b023ca4b7963c4c684e4c036399d1295c,RBD: Handle ImageNotFound exception in _get_usage_info correctly,MERGED,2018-04-26 20:12:59.000000000,2018-04-28 19:01:49.000000000,2018-04-27 22:31:48.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-26 20:12:59.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c935eb8305f21745480abb49e1e380f1c9053d9a', 'message': 'RBD: Handle ImageNotFound exception in _get_usage_info correctly\n\nChange https://review.openstack.org/#/c/486734 moved try-except\nstatement to the wrong place. We need to open image in Ceph inside\ntry-except block.\n\nThis patch also fixes race condition between volume deletion and\n_get_usage_info calls.\n\nClosed-Bug: #1765845\nChange-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c\nCo-Authored-By: Melanie Witt <melwittt@gmail.com>\n(cherry picked from commit 3cc8cbdee7c98e1fcf41bb27d81e34fef3a2d032)\n'}]",0,564615,c935eb8305f21745480abb49e1e380f1c9053d9a,23,16,1,4690,,,0,"RBD: Handle ImageNotFound exception in _get_usage_info correctly

Change https://review.openstack.org/#/c/486734 moved try-except
statement to the wrong place. We need to open image in Ceph inside
try-except block.

This patch also fixes race condition between volume deletion and
_get_usage_info calls.

Closed-Bug: #1765845
Change-Id: I7d3d006b023ca4b7963c4c684e4c036399d1295c
Co-Authored-By: Melanie Witt <melwittt@gmail.com>
(cherry picked from commit 3cc8cbdee7c98e1fcf41bb27d81e34fef3a2d032)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/564615/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,c935eb8305f21745480abb49e1e380f1c9053d9a,bug/1765845," def FakeVolProxy(size_or_exc): return mock.Mock(return_value=mock.Mock( size=mock.Mock(side_effect=(size_or_exc,)))) with mock.patch.object(self.driver, 'rbd', ImageNotFound=MockImageNotFoundException): volproxy_mock.side_effect = [ mock.MagicMock(**{'__enter__': FakeVolProxy(s)}) for s in (1.0 * units.Gi, self.driver.rbd.ImageNotFound, 2.0 * units.Gi) ] expected_volproxy_calls = [ mock.call(self.driver, v, read_only=True, client=client.cluster, ioctx=client.ioctx) for v in volumes] self.assertEqual(expected_volproxy_calls, volproxy_mock.mock_calls)"," def FakeVolProxy(size): if size == -1: size_mock = mock.Mock(side_effect=MockImageNotFoundException) else: size_mock = mock.Mock(return_value=size * units.Gi) return mock.Mock(return_value=mock.Mock(size=size_mock)) volproxy_mock.side_effect = [ mock.Mock(**{'__enter__': FakeVolProxy(1.0), '__exit__': mock.Mock()}), mock.Mock(**{'__enter__': FakeVolProxy(-1), '__exit__': mock.Mock()}), mock.Mock(**{'__enter__': FakeVolProxy(2.0), '__exit__': mock.Mock()}) ] with mock.patch.object(self.driver, 'rbd') as mock_rbd: mock_rbd.ImageNotFound = MockImageNotFoundException volproxy_mock.assert_has_calls([ mock.call(self.driver, volumes[0], read_only=True, client=client.cluster, ioctx=client.ioctx), mock.call(self.driver, volumes[1], read_only=True, client=client.cluster, ioctx=client.ioctx), ])",26,31
openstack%2Fcinder~driverfixes%2Fnewton~I0e21cbcb6effa1e72999580564099976511ca4a9,openstack/cinder,driverfixes/newton,I0e21cbcb6effa1e72999580564099976511ca4a9,NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI,MERGED,2018-04-17 14:13:43.000000000,2018-04-28 19:01:28.000000000,2018-04-26 20:42:13.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25186}]","[{'number': 1, 'created': '2018-04-17 14:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1236e091cdd0d0a2214c7759f27403e52e43d44b', 'message': 'NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI\n\nWhen a cinder volume is created the ontap backend fits the LUN to the\nbest geometry. It makes the image uploaded from a volume larger than\nexpected and a volume of larger size must be created from that image.\nUsing the use-exact-size parameter the backend does not fit to best\ngeometry, the image uploaded from that volume has the same size and a\nvolume of the same size may be created from that image.\n\nNevertheless this parameter is available only in Data ONTAP 9.1 (ontapi\nversion 1.110) and later.\n\nCloses-Bug: #1731474\nChange-Id: I0e21cbcb6effa1e72999580564099976511ca4a9\n'}, {'number': 2, 'created': '2018-04-17 19:22:31.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'releasenotes/notes/netapp-ontap-use_exact_size-d03c90efbb8a30ac.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ec5908c39d3c2453a219a457930651dde91349d', 'message': 'NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI\n\nWhen a cinder volume is created the ontap backend fits the LUN to the\nbest geometry. It makes the image uploaded from a volume larger than\nexpected and a volume of larger size must be created from that image.\nUsing the use-exact-size parameter the backend does not fit to best\ngeometry, the image uploaded from that volume has the same size and a\nvolume of the same size may be created from that image.\n\nNevertheless this parameter is available only in Data ONTAP 9.1 (ontapi\nversion 1.110) and later.\n\nCloses-Bug: #1731474\nChange-Id: I0e21cbcb6effa1e72999580564099976511ca4a9\n(cherry picked from commit 67391f1f0f30172190882e7d3f4a4ddc271dfa00)\n'}]",0,561955,8ec5908c39d3c2453a219a457930651dde91349d,31,12,2,18058,,,0,"NetApp: Add use-exact-size parameter when creating a LUN on ONTAP iSCSI

When a cinder volume is created the ontap backend fits the LUN to the
best geometry. It makes the image uploaded from a volume larger than
expected and a volume of larger size must be created from that image.
Using the use-exact-size parameter the backend does not fit to best
geometry, the image uploaded from that volume has the same size and a
volume of the same size may be created from that image.

Nevertheless this parameter is available only in Data ONTAP 9.1 (ontapi
version 1.110) and later.

Closes-Bug: #1731474
Change-Id: I0e21cbcb6effa1e72999580564099976511ca4a9
(cherry picked from commit 67391f1f0f30172190882e7d3f4a4ddc271dfa00)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/561955/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'releasenotes/notes/netapp-ontap-use_exact_size-d03c90efbb8a30ac.yaml']",3,1236e091cdd0d0a2214c7759f27403e52e43d44b,bug/1731474,--- fixes: - | Fixed bug #1731474 on NetApp Data ONTAP driver that was causing LUNs to be created with larger size than requested. This fix requires version 9.1 of ONTAP or later.,,36,4
openstack%2Fcinder~master~I344da50112af8e559408b5b7c8532c659a97c7c2,openstack/cinder,master,I344da50112af8e559408b5b7c8532c659a97c7c2,Adding abstract class NVMeOF,MERGED,2017-09-18 13:39:13.000000000,2018-04-28 19:01:26.000000000,2018-04-26 20:42:15.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7485}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10439}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12171}, {'_account_id': 12369}, {'_account_id': 12597}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13629}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16690}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21683}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22948}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26682}, {'_account_id': 28050}]","[{'number': 1, 'created': '2017-09-18 13:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46916fa5d35e17ed8c8ededd965c64b671d84f60', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick’s NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 2, 'created': '2017-09-19 13:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7abd6d0b01babd10d9aa20a954bc0f061308293', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick’s NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 3, 'created': '2017-09-20 08:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/abd9adc4ba1cac22439a5772c94094df44703de9', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick’s NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 4, 'created': '2017-09-20 09:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0021630cb8eed9aba9bcba1685f6c48a28c41e5', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick’s NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 5, 'created': '2017-10-01 08:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28993bbe28f42f95b480bdecb48fc59889137459', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick’s NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 6, 'created': '2017-10-01 12:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5484c912e1e2927a398aad1783ab188f7c6bc600', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 7, 'created': '2017-10-30 14:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0022d69b865027f30723433f4ad1ada3e8b5767', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 8, 'created': '2017-11-07 12:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3eac95e6f4f34921b4feeb5f0c3954f8b1ae7dc', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 9, 'created': '2017-11-23 08:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d36d628fe1937e1c4d2f317c3eaf9dc7714311b', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 10, 'created': '2017-11-23 11:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/851c6527f28bbfee16797d720610102ba8359d3a', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing iscsi_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from iscsi_ip_address\nand iscsi_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 11, 'created': '2017-12-17 14:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57a0aa92af6dee7aa35e56c4299cbf173213d433', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing target_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from target_ip_address\nand target_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 12, 'created': '2017-12-18 11:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f948a4aa911a3b0122c80411bf05f39be412b5af', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing target_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from target_ip_address\nand target_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 13, 'created': '2017-12-24 12:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b5c3d6164ef5782a4f65aedea2f38f2a7a26518', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing target_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from target_ip_address\nand target_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 14, 'created': '2017-12-27 10:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a24d00eeaa44717884cb4499289dd9fd83f09df', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nBy choosing target_helper as nvmet, other parameters can be configured\ntoo in cinder.conf like nvmet_port_id, nvmet_ns_id (for namespace) and\nnvmet_subsystem_name. The target IP and port, that will be used by\nnvmecli OS-brick NVMe connector, are taken from target_ip_address\nand target_port in cinder.conf for now.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 15, 'created': '2017-12-28 12:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0392fc66b3f273e77c3dbe596c48e407612cb9c', 'message': 'Adding NVMeOF for LVM driver\n\nAdded changes to LVM driver to support NVMeOF operations.\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 16, 'created': '2018-01-10 07:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/513451c59395aebd1aed6da511d0b8f6d4576c9f', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 17, 'created': '2018-01-17 11:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/414f353095c6bb95847126dda76a786237f58929', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 18, 'created': '2018-02-11 14:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c7132363def171b2d785de5904906291bf95d76', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 19, 'created': '2018-02-18 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d82a69e1bffefb19975d87d933bd60026e0dca26', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 20, 'created': '2018-02-19 13:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d4223a9b204122a265e44af90cc5a8cdb2e4032', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 21, 'created': '2018-02-22 10:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3fc8b1a3b6a0d73e1c03ddc2a571e49ea798d70', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 22, 'created': '2018-02-22 15:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea8083432015722e991418279bfb918ab4ff3d31', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 23, 'created': '2018-02-26 11:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76d0becf5d59f6b8af5e23ff547fc09a3a94d2df', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 24, 'created': '2018-02-26 11:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b95e81122658f4c7ad2c6ec725036a2b3aabecb1', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 25, 'created': '2018-03-13 15:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93b8272e452f9ce7a535c9f2d4758c58f8004bf2', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 26, 'created': '2018-04-17 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e9a1790e168080c27e7a2087ca828dc0c9dafa2', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}, {'number': 27, 'created': '2018-04-17 12:53:42.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/targets/test_nvmeof_driver.py', 'cinder/volume/driver.py', 'cinder/exception.py', 'cinder/volume/targets/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/10c801c1d588ef49a9f30c4edfd5ba248a84fef1', 'message': 'Adding abstract class NVMeOF\n\nA new driver is added, and allows Targets to implement\ncreate_nvmeof_target, delete_nvmeof_target methods.\n\nNVMeOF is an abstract class to be implemented by NVMeOF\nhelpers.\n\nImplements: blueprint nvme-target-cli\nChange-Id: I344da50112af8e559408b5b7c8532c659a97c7c2\n'}]",62,504944,10c801c1d588ef49a9f30c4edfd5ba248a84fef1,630,67,27,22948,,,0,"Adding abstract class NVMeOF

A new driver is added, and allows Targets to implement
create_nvmeof_target, delete_nvmeof_target methods.

NVMeOF is an abstract class to be implemented by NVMeOF
helpers.

Implements: blueprint nvme-target-cli
Change-Id: I344da50112af8e559408b5b7c8532c659a97c7c2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/504944/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/targets/test_nvmeof_driver.py', 'cinder/volume/targets/nvmeof.py']",2,46916fa5d35e17ed8c8ededd965c64b671d84f60,bp/nvme-target-cli,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from cinder import exception from cinder.i18n import _ from cinder.volume import configuration from cinder.volume.targets import driver from oslo_config import cfg from oslo_log import log as logging nvmet_opts = [ cfg.StrOpt('target_ip', help='The NVMe target IP address.'), cfg.PortOpt('target_port', default=1, help='The NVMe target port.'), cfg.PortOpt('nvmet_port_id', default=1, help='The port that the NVMe target is listening on.'), cfg.IntOpt('nvmet_ns_id', default=10, help='The namespace id associated with the subsystem ' 'that will be created with the path for the LVM volume.'), cfg.StrOpt('target_prefix', default='default_subsys', help='The prefix for the NVMe subsystem that will be created.'), cfg.StrOpt('nvme_transport_type', default='rdma', choices=['rdma'], help='Network fabric being used for an NVMe-over-Fabrics ' 'network.'), ] CONF = cfg.CONF CONF.register_opts(nvmet_opts, group=configuration.SHARED_CONF_GROUP) CONF.register_opts(nvmet_opts) LOG = logging.getLogger(__name__) class NVMeOF(driver.Target): """"""Target object for block storage devices with RDMA transport."""""" PROTOCOL = 'nvmeof' def __init__(self, *args, **kwargs): """"""Reads NVMeOF configurations."""""" super(NVMeOF, self).__init__(*args, **kwargs) self.configuration.append_config_values(nvmet_opts) self.target_ip = self.configuration.iscsi_ip_address self.target_port = self.configuration.iscsi_port self.nvmet_port_id = self.configuration.nvmet_port_id self.nvmet_ns_id = self.configuration.nvmet_ns_id self.nvmet_subsystem_name = self.configuration.target_prefix self.nvme_transport_type = self.configuration.nvme_transport_type def initialize_connection(self, volume, connector): """"""Returns the connection info. In NVMeOF driver, :driver_volume_type: is set to 'nvmeof', :data: is the driver data that has the value of _get_connection_properties """""" return { 'driver_volume_type': self.PROTOCOL, 'data': self._get_connection_properties(volume) } @staticmethod def _get_connection_properties(volume): """""" Gets NVMeOF connection configuration. :return: dictionary of the following keys: :target_portal: NVMe target IP address :target_port: NVMe target port :nqn: NQN of the NVMe target :nvme_transport_type: Network fabric being used for an NVMe-over-Fabrics network :nvmet_ns_id: namespace id associated with the subsystem """""" location = volume['provider_location'] target_portal = location.split(' ')[0].split(':')[0] target_port = location.split(' ')[0].split(':')[1] nvme_transport_type = location.split(' ')[1] nqn = location.split(' ')[2] nvmet_ns_id = location.split(' ')[3] return { 'target_portal': target_portal, 'target_port': target_port, 'nqn': nqn, 'nvme_transport_type': nvme_transport_type, 'nvmet_ns_id': nvmet_ns_id } @staticmethod def _get_export_location_info( nqn, target_ip, target_port, nvme_transport_type, nvmet_ns_id): """"""Serialize driver data into single line string."""""" return ""%(ip)s:%(port)s %(transport)s %(nqn)s %(ns_id)s"" % ( {'ip': target_ip, 'port': target_port, 'transport': nvme_transport_type, 'nqn': nqn, 'ns_id': nvmet_ns_id}) def terminate_connection(self, volume, connector, **kwargs): if volume['provider_location'] is None: LOG.debug('No provider_location for volume %s.', volume['id']) return def create_export(self, context, volume, volume_path): """"""Creates export data for a logical volume."""""" # target_name=nqn.subsystem-volume-123456 target_name = ""nqn.%s-%s"" % ( self.configuration.target_prefix, volume['id']) return self.create_nvmeof_target( target_name, self.target_ip, self.target_port, self.nvme_transport_type, self.nvmet_ns_id, volume_path) def ensure_export(self, context, volume, volume_path): pass def remove_export(self, context, volume): self.delete_nvmeof_target(volume) @staticmethod def validate_connector(connector): if 'initiator' not in connector: err_msg = (_('The volume driver requires the NVMe initiator ' 'name in the connector.')) LOG.error(err_msg) raise exception.InvalidConnectorException( missing='initiator') return True def attach_volume(self): pass def detach_volume(self): pass @abc.abstractmethod def create_nvmeof_target( self, target_name, target_ip, target_port, transport_type, ns_id, volume_path): pass @abc.abstractmethod def delete_nvmeof_target(self, target_name): pass ",,289,0
openstack%2Fcinder~master~Ieb524d9b192e2a222f7d25a0df80cf52f1423e81,openstack/cinder,master,Ieb524d9b192e2a222f7d25a0df80cf52f1423e81,QNAP: driver fails to create volume and snapshot in some case,MERGED,2018-04-23 06:47:49.000000000,2018-04-28 19:01:18.000000000,2018-04-24 19:50:02.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26134}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-23 06:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/159f6067fe61a9259916df7c235b59db5afc29cd', 'message': 'QNAP: driver fails to create volume and snapshot in some case\n\nWhen NAS is busy or network delay, the volume or snapshot would\nfail to created. We fixed the logic of waiting NAS to creating\nLUN or snapshot.\n\nChange-Id: Ieb524d9b192e2a222f7d25a0df80cf52f1423e81\nCloses-Bug: #1765610\n'}, {'number': 2, 'created': '2018-04-23 08:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3adb1ebb9fbbf7f8337675a602db4dfb0bb93511', 'message': 'QNAP: driver fails to create volume and snapshot in some case\n\nWhen NAS is busy or network delay, the volume or snapshot would\nfail to created. We fixed the logic of waiting NAS to creating\nLUN or snapshot.\n\nChange-Id: Ieb524d9b192e2a222f7d25a0df80cf52f1423e81\nCloses-Bug: #1765610\n'}, {'number': 3, 'created': '2018-04-24 02:03:03.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'releasenotes/notes/bug-1765610-qnap-fix-volume-snapshot-create-fail-2bb785eafdb87fb6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/880ff557ca3d6569464b9667ac25825cf5e3c7fd', 'message': 'QNAP: driver fails to create volume and snapshot in some case\n\nWhen NAS is busy or network delay, the volume or snapshot would\nfail to created. We fixed the logic of waiting NAS to creating\nLUN or snapshot.\n\nChange-Id: Ieb524d9b192e2a222f7d25a0df80cf52f1423e81\nCloses-Bug: #1765610\n'}]",4,563497,880ff557ca3d6569464b9667ac25825cf5e3c7fd,93,35,3,26134,,,0,"QNAP: driver fails to create volume and snapshot in some case

When NAS is busy or network delay, the volume or snapshot would
fail to created. We fixed the logic of waiting NAS to creating
LUN or snapshot.

Change-Id: Ieb524d9b192e2a222f7d25a0df80cf52f1423e81
Closes-Bug: #1765610
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/563497/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/qnap.py'],1,159f6067fe61a9259916df7c235b59db5afc29cd,bug/1765610," if (created_lun is not None and created_lun.find('LUNNAA').text is not None): if(try_times > max_wait_sec or lun_naa != """"): if (created_lun is not None and created_lun.find('LUNNAA') is not None): if(try_times > max_wait_sec or lun_naa != """"): if (created_snapshot is not None and created_snapshot.find('snapshot_id').text is not None): if(try_times > max_wait_sec or snapshot_id != """"): if (created_lun is not None and created_lun.find('LUNNAA') is not None): LOG.debug('LUNNAA: %s', lun_naa) if(try_times > max_wait_sec or lun_naa != """"):", if created_lun.find('LUNNAA') is not None: if(try_times > max_wait_sec or lun_naa is not None): if created_lun.find('LUNNAA') is not None: if(try_times > max_wait_sec or lun_naa is not None): if created_snapshot is not None: if(try_times > max_wait_sec or created_snapshot is not None): if created_lun.find('LUNNAA') is not None: if(try_times > max_wait_sec or lun_naa is not None):,13,8
openstack%2Fcinder~stable%2Focata~Id3576a52e253ed242685999e96d638e98ce605bf,openstack/cinder,stable/ocata,Id3576a52e253ed242685999e96d638e98ce605bf,Fix wrong usage of rbd.list_snaps return value,MERGED,2017-10-11 13:06:12.000000000,2018-04-28 19:01:06.000000000,2018-04-27 03:03:33.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-11 13:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a89eecd879f2fd5841a2bfcb1239fed7fa22cd9f', 'message': 'Fix wrong usage of rbd.list_snaps return value\n\nthe return value of rbd.list_snaps is a generator with dict.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Id3576a52e253ed242685999e96d638e98ce605bf\nCloses-Bug: #1681895\n(cherry picked from commit 3e2a593ae9eb80d9753cd118e59008a77a315c11)\n'}, {'number': 2, 'created': '2018-04-20 18:08:48.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/197f33bcd09821d5bfa38b8e9837675bc48a29b5', 'message': 'Fix wrong usage of rbd.list_snaps return value\n\nthe return value of rbd.list_snaps is a generator with dict.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Id3576a52e253ed242685999e96d638e98ce605bf\nCloses-Bug: #1681895\n(cherry picked from commit 3e2a593ae9eb80d9753cd118e59008a77a315c11)\n'}]",0,511230,197f33bcd09821d5bfa38b8e9837675bc48a29b5,83,30,2,27056,,,0,"Fix wrong usage of rbd.list_snaps return value

the return value of rbd.list_snaps is a generator with dict.

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: Id3576a52e253ed242685999e96d638e98ce605bf
Closes-Bug: #1681895
(cherry picked from commit 3e2a593ae9eb80d9753cd118e59008a77a315c11)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/511230/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py']",2,a89eecd879f2fd5841a2bfcb1239fed7fa22cd9f,bug/1681895-stable/ocata, if snap['name'] == snap_name:, if snap.name == snap_name:,16,1
openstack%2Fcinder~stable%2Focata~I894f7c48129ba503e01e8216ebb90a50fad97e98,openstack/cinder,stable/ocata,I894f7c48129ba503e01e8216ebb90a50fad97e98,Tests: Fix unit test failures due to space check,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:00:04.000000000,2018-04-27 05:11:27.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8e1c9972c8c9570624646db742d7e1ead77c210', 'message': 'Tests: Fix unit test failures due to space check\n\nThese tests can fail depending on the available space\nwhere the unit tests are run.\n\nThis was fixed by bc52ae4219 in Pike.\n\nChange-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cc454f9ba45546abd00ea7b6978774fb3b32d2f', 'message': 'Tests: Fix unit test failures due to space check\n\nThese tests can fail depending on the available space\nwhere the unit tests are run.\n\nThis was fixed by bc52ae4219 in Pike.\n\nChange-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98\n'}]",0,560608,9cc454f9ba45546abd00ea7b6978774fb3b32d2f,43,20,2,11904,,,0,"Tests: Fix unit test failures due to space check

These tests can fail depending on the available space
where the unit tests are run.

This was fixed by bc52ae4219 in Pike.

Change-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/560608/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/flows/test_create_volume_flow.py'],1,f8e1c9972c8c9570624646db742d7e1ead77c210,driverfixes_sync," @mock.patch('cinder.image.image_utils.check_available_space') self, mock_check_space, mock_get_internal_context, mock_create_from_img_dl, mock_create_from_src, mock_handle_bootable, mock_fetch_img): self.assertTrue(mock_check_space.called) @mock.patch('cinder.image.image_utils.check_available_space') self, mock_check_space, mock_qemu_info, mock_get_internal_context, self.assertTrue(mock_check_space.called) @mock.patch('cinder.image.image_utils.check_available_space') self, mock_check_space, mock_qemu_info, mock_get_internal_context, self.assertTrue(mock_check_space.called) "," self, mock_get_internal_context, mock_create_from_img_dl, mock_create_from_src, mock_handle_bootable, mock_fetch_img): self, mock_qemu_info, mock_get_internal_context, self, mock_qemu_info, mock_get_internal_context,",14,4
openstack%2Fcinder~stable%2Focata~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,stable/ocata,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-12-06 18:41:17.000000000,2018-04-28 19:00:02.000000000,2018-04-27 05:34:42.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-06 18:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7b57b1fe3a13724323ebe78ac372800cd56e11f', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)\n""}, {'number': 2, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e10195049a731d31bac71576bf9abd0228f9f1cf', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)\n""}, {'number': 3, 'created': '2018-04-12 12:43:36.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de0a6be2ab765af0035d225df2c9d4880fdf2d75', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)\n""}]",0,526146,de0a6be2ab765af0035d225df2c9d4880fdf2d75,73,24,3,16668,,,0,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/526146/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py']",2,a7b57b1fe3a13724323ebe78ac372800cd56e11f,driverfixes_sync," 'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes'})) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( NIMBLE_SAN_LOGIN, NIMBLE_SAN_PASS, NIMBLE_MANAGEMENT_IP, 'default', '*')) def test_create_volume_with_unicode(self): self.mock_client_service.get_vol_info.return_value = ( FAKE_GET_VOL_INFO_RESPONSE) self.mock_client_service.get_netconfig.return_value = ( FAKE_POSITIVE_NETCONFIG_RESPONSE) self.assertEqual({ 'provider_location': '172.18.108.21:3260 iqn.test', 'provider_auth': None}, self.driver.create_volume({'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''})) self.mock_client_service.create_vol.assert_called_once_with( {'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''}, 'default', False, 'iSCSI', False) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @mock.patch.object(volume_types, 'get_volume_type_extra_specs', mock.Mock(type_id=FAKE_TYPE_ID, return_value={",,57,3
openstack%2Fcinder~stable%2Focata~I21511e5c4db62563c61815c1671e8bb44ad3f427,openstack/cinder,stable/ocata,I21511e5c4db62563c61815c1671e8bb44ad3f427,FlashSystems: permit snapshot/clone volumes larger than source,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 19:00:00.000000000,2018-04-27 05:34:44.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27059}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54cb1a11b2f2e0ac8e5809d2f6f0cbde7e98c032', 'message': 'FlashSystems: permit snapshot/clone volumes larger than source\n\nPermit clone volumes and volumes created from snapshots to\nbe larger than their source volumes; implemented in response\nto failures in the following CI tests:\n  * VolumesSnapshotTestJSON.test_volume_from_snapshot\n  * VolumesCloneTest.test_create_from_volume\n\nChange-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427\nCloses-Bug: #1560655\n(cherry picked from commit 927367cd9af6adf260bea4da4dcc5cc94eaa7b13)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': ['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/06d77dbc1e8326124fa5a0607a006055c6c874c9', 'message': 'FlashSystems: permit snapshot/clone volumes larger than source\n\nPermit clone volumes and volumes created from snapshots to\nbe larger than their source volumes; implemented in response\nto failures in the following CI tests:\n  * VolumesSnapshotTestJSON.test_volume_from_snapshot\n  * VolumesCloneTest.test_create_from_volume\n\nChange-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427\nCloses-Bug: #1560655\n(cherry picked from commit 927367cd9af6adf260bea4da4dcc5cc94eaa7b13)\n'}]",0,560609,06d77dbc1e8326124fa5a0607a006055c6c874c9,50,22,2,11904,,,0,"FlashSystems: permit snapshot/clone volumes larger than source

Permit clone volumes and volumes created from snapshots to
be larger than their source volumes; implemented in response
to failures in the following CI tests:
  * VolumesSnapshotTestJSON.test_volume_from_snapshot
  * VolumesCloneTest.test_create_from_volume

Change-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427
Closes-Bug: #1560655
(cherry picked from commit 927367cd9af6adf260bea4da4dcc5cc94eaa7b13)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/560609/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py']",2,54cb1a11b2f2e0ac8e5809d2f6f0cbde7e98c032,driverfixes_sync," # case 2: destination larger than source self.driver.create_cloned_volume(vol2, vol1) # case 3: destination smaller than source vol1, vol2)"," # case 2: when size does not match vol2, vol1)",36,24
openstack%2Fcinder~stable%2Focata~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,stable/ocata,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 18:59:58.000000000,2018-04-27 05:38:42.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fb102d98abbaeb22560aaf1deaccf45572e90fa', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': ['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/caceaa52a7070548b7b42df877e23bc4d3845def', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)\n'}]",0,560610,caceaa52a7070548b7b42df877e23bc4d3845def,48,21,2,11904,,,0,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/560610/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py']",3,7fb102d98abbaeb22560aaf1deaccf45572e90fa,driverfixes_sync," ""on setting this option as True.""), cfg.BoolOpt('unique_fqdn_network', default=True, help=""Whether or not our private network has unique FQDN on "" ""each initiator or not. For example networks with QA "" ""systems usually have multiple servers/VMs with the same "" ""FQDN. When true this will create host entries on K2 "" ""using the FQDN, when false it will use the reversed "" ""IQN/WWNN.""), ] """"""Return the initiator host name or unique ID. Unique ID when configuration's unique_fqdn_network is false will be the reversed IQN/WWPNS. name = connector.get('initiator', connector.get('wwnns', [''])[0])[::-1] if self.configuration.unique_fqdn_network: name = connector.get('host', name) return re.sub('[^0-9a-zA-Z-_]', '_', name[:32])"," ""on setting this option as True."")] """"""Return the initiator host name. return re.sub('[^0-9a-zA-Z-_]', '_', connector.get('host', ''))[:32]",46,3
openstack%2Fcinder~stable%2Focata~I4b8d99966f387f51c1125ba72c1ce149229a8bc0,openstack/cinder,stable/ocata,I4b8d99966f387f51c1125ba72c1ce149229a8bc0,FlashSystem: Add CMMVC6045E CLI error for multi-host mapping,MERGED,2018-04-11 19:50:36.000000000,2018-04-28 18:59:57.000000000,2018-04-27 16:15:05.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27059}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b8b0203a1c3cdc873aac8c13dc3ca22ca1e7cb2', 'message': ""FlashSystem: Add CMMVC6045E CLI error for multi-host mapping\n\nAdd CMMVC6045E to list of CLI error codes indicating a multi-host\nmap was attempted without the '-force' parameter. Re-raise on\nmatch failure to avert spurious success when an unexcepted CLI\nerror is emitted. Add good and bad-path testing for multi-host\nmap to test_flashsystem_map_vdisk_to_host\n\nChange-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0\nCloses-Bug: #1723188\n(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)\n""}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': ['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5503c0f4d204efb141cf39a183d0bcadf7892505', 'message': ""FlashSystem: Add CMMVC6045E CLI error for multi-host mapping\n\nAdd CMMVC6045E to list of CLI error codes indicating a multi-host\nmap was attempted without the '-force' parameter. Re-raise on\nmatch failure to avert spurious success when an unexcepted CLI\nerror is emitted. Add good and bad-path testing for multi-host\nmap to test_flashsystem_map_vdisk_to_host\n\nChange-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0\nCloses-Bug: #1723188\n(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)\n""}]",0,560611,5503c0f4d204efb141cf39a183d0bcadf7892505,57,21,2,11904,,,0,"FlashSystem: Add CMMVC6045E CLI error for multi-host mapping

Add CMMVC6045E to list of CLI error codes indicating a multi-host
map was attempted without the '-force' parameter. Re-raise on
match failure to avert spurious success when an unexcepted CLI
error is emitted. Add good and bad-path testing for multi-host
map to test_flashsystem_map_vdisk_to_host

Change-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0
Closes-Bug: #1723188
(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/560611/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py']",2,7b8b0203a1c3cdc873aac8c13dc3ca22ca1e7cb2,driverfixes_sync," 'successfully.'), 'CMMVC6045E': ('', 'CMMVC6045E The action failed, as the ' '-force flag was not entered.'), 'CMMVC6071E': ('', 'CMMVC6071E The VDisk-to-host mapping ' 'was not created because the VDisk is ' 'already mapped to a host.') } self._multi_host_map_error = None self._multi_host_map_errors = ['CMMVC6045E', 'CMMVC6071E'] for i in range(2, len(arg_list)): for v in self._mappings_list.values(): if (v['vol'] == mapping_info['vol']) and ('force' not in kwargs): return self._errors[self._multi_host_map_error or 'CMMVC50000'] self.alt_connector = { 'host': 'other', 'wwnns': ['0123456789fedcba', '0123456789badcfe'], 'wwpns': ['dcba000000000001', 'dcba000000000002'], 'initiator': 'iqn.654321' } # case 4: multi-host mapping, good path for error in self.sim._multi_host_map_errors: self.sim._multi_host_map_error = error self.assertEqual( 1, self.driver._map_vdisk_to_host( vol1['name'], self.alt_connector ) ) self.driver._unmap_vdisk_from_host( vol1['name'], self.alt_connector ) self.sim._multi_host_map_error = None # case 5: multi-host mapping, bad path self.assertRaises( exception.VolumeBackendAPIException, self.driver._map_vdisk_to_host, vol1['name'], self.alt_connector) "," 'successfully.') } arg_list.pop(0) for i in range(1, len(arg_list)): if mapping_info['vol'] in self._mappings_list: return self._errors['CMMVC50000'] for v in self._mappings_list.values(): for v in self._mappings_list.values():",72,13
openstack%2Fcinder~stable%2Focata~I623d6114db866a465955f8a5ae7f40b69c781622,openstack/cinder,stable/ocata,I623d6114db866a465955f8a5ae7f40b69c781622,HPE3PAR: Create FC vlun as host sees,MERGED,2017-11-29 18:20:39.000000000,2018-04-28 18:52:03.000000000,2018-04-27 05:38:44.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21517}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22623}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24921}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25465}, {'_account_id': 26297}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-29 18:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86d8ad94ffd800976b537d430abf14c55d8d3329', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}, {'number': 2, 'created': '2017-12-04 18:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71109989e336e3c3989c516ab9fc31119e519283', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}, {'number': 3, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95c009f03ed82b42d14d889249a8ad71bd43e355', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}, {'number': 4, 'created': '2018-04-12 12:43:36.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9a4c2110c63d3ccfad75cd863fd85f62be11026', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}]",0,523954,e9a4c2110c63d3ccfad75cd863fd85f62be11026,118,30,4,24952,,,0,"HPE3PAR: Create FC vlun as host sees

Host sees VLUN template allows host connected
to any port to see a vv. so, only one vlun
template will be created per host irrespective
of number of FC ports available.

Change-Id: I623d6114db866a465955f8a5ae7f40b69c781622
Closes-Bug: #1734505
(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/523954/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,86d8ad94ffd800976b537d430abf14c55d8d3329,driverfixes_sync," {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None), 'remoteName': self.wwn[1]}], {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None),"," 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'portPos': {'node': 7, 'slot': 1, 'cardPort': 1}, 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}), 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'remoteName': self.wwn[1], 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}}], 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}),",17,92
openstack%2Fswift~feature%2Fdeep~I6221228acc1b60cc96a5b33541083fd7b1e39d05,openstack/swift,feature/deep,I6221228acc1b60cc96a5b33541083fd7b1e39d05,Fix unicode errors with non-ascii object names,MERGED,2018-04-20 11:06:18.000000000,2018-04-28 18:21:51.000000000,2018-04-28 18:21:51.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b5657839ea6c473280e68e99d00d0b04c4c33323', 'message': 'Fix unicode errors with non-ascii object names\n\nEncode ShardRange upper and lower bound values as they are set.\n\nEncode CleavingContext cursor value as it is set.\n\nAlso refactor probe tests to allow selected tests to be run with and\nwithout non-ascii container and object names.\n\nChange-Id: I6221228acc1b60cc96a5b33541083fd7b1e39d05\n'}, {'number': 2, 'created': '2018-04-24 20:14:04.000000000', 'files': ['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/dca5dfed2203a25b54d35677c59136bd07f68f0e', 'message': 'Fix unicode errors with non-ascii object names\n\nEncode ShardRange upper and lower bound values as they are set.\n\nEncode CleavingContext cursor value as it is set.\n\nAlso refactor probe tests to allow selected tests to be run with and\nwithout non-ascii container and object names.\n\nChange-Id: I6221228acc1b60cc96a5b33541083fd7b1e39d05\n'}]",9,563076,dca5dfed2203a25b54d35677c59136bd07f68f0e,16,3,2,7847,,,0,"Fix unicode errors with non-ascii object names

Encode ShardRange upper and lower bound values as they are set.

Encode CleavingContext cursor value as it is set.

Also refactor probe tests to allow selected tests to be run with and
without non-ascii container and object names.

Change-Id: I6221228acc1b60cc96a5b33541083fd7b1e39d05
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/563076/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/proxy/controllers/container.py', 'test/unit/common/test_utils.py']",6,b5657839ea6c473280e68e99d00d0b04c4c33323,p-sharding-utf8," def test_utf8(self): lower = u'\u00e4' upper = u'\u00fb' sr = utils.ShardRange('a/%s-%s' % (lower, upper), utils.Timestamp.now(), lower, upper) self.assertEqual(u'a/\u00e4-\u00fb'.encode('utf8'), sr.name) self.assertEqual(u'\u00e4'.encode('utf8'), str(sr.lower)) self.assertEqual(u'\u00fb'.encode('utf8'), str(sr.upper)) self.assertEqual(u'\u00fb\x00'.encode('utf8'), str(sr.end_marker)) ",,102,35
openstack%2Ftripleo-upgrade~master~Iedf1d67748115c05c210c9e4fcd5dc4f52575a55,openstack/tripleo-upgrade,master,Iedf1d67748115c05c210c9e4fcd5dc4f52575a55,"Revert ""undercloud: workaround for containers""",MERGED,2018-04-27 14:55:08.000000000,2018-04-28 17:51:13.000000000,2018-04-28 17:51:13.000000000,"[{'_account_id': 3153}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-27 14:55:08.000000000', 'files': ['templates/undercloud_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9f6dbb04db7dd2d578c075422f070ed7a6e59578', 'message': 'Revert ""undercloud: workaround for containers""\n\nWe had a promotion on master, we shouldn\'t need this revert anymore.\nThis reverts commit 0fa75583aeaf11414675fb3bd9f4c15c4702ce25.\n\nChange-Id: Iedf1d67748115c05c210c9e4fcd5dc4f52575a55\n'}]",0,564791,9f6dbb04db7dd2d578c075422f070ed7a6e59578,9,4,1,3153,,,0,"Revert ""undercloud: workaround for containers""

We had a promotion on master, we shouldn't need this revert anymore.
This reverts commit 0fa75583aeaf11414675fb3bd9f4c15c4702ce25.

Change-Id: Iedf1d67748115c05c210c9e4fcd5dc4f52575a55
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/564791/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/undercloud_upgrade.sh.j2'],1,9f6dbb04db7dd2d578c075422f070ed7a6e59578,revert,,# can be removed when https://review.rdoproject.org/r/#/c/13508/ is merged sudo yum update -y openstack-heat-agents,0,2
openstack%2Fos-net-config~stable%2Fpike~Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e,openstack/os-net-config,stable/pike,Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e,ifcfg: don't restart ovs if --no-activate is specified,MERGED,2018-04-27 02:58:49.000000000,2018-04-28 17:45:13.000000000,2018-04-28 17:45:13.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-27 02:58:49.000000000', 'files': ['os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e401e784c8f9523a9b2ee3e47e5676e976bd43c5', 'message': ""ifcfg: don't restart ovs if --no-activate is specified\n\nWhen --no-activate is specified, there is a chance that\nopenvswitch service will still be restarted if dpdk port\nconfiguration file is changed. This adds a condition to\ncheck activate and restart openvswitch only if activate\nis true.\n\nChange-Id: Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e\nCloses-Bug: #1751955\n(cherry picked from commit 9e3436262d14fd90c19c271ae66474ea5eef4ec1)\n""}]",0,564662,e401e784c8f9523a9b2ee3e47e5676e976bd43c5,10,5,1,21151,,,0,"ifcfg: don't restart ovs if --no-activate is specified

When --no-activate is specified, there is a chance that
openvswitch service will still be restarted if dpdk port
configuration file is changed. This adds a condition to
check activate and restart openvswitch only if activate
is true.

Change-Id: Ia5a6d04eb26cc3a6e10caacb8256d6e2d183239e
Closes-Bug: #1751955
(cherry picked from commit 9e3436262d14fd90c19c271ae66474ea5eef4ec1)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/62/564662/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/impl_ifcfg.py'],1,e401e784c8f9523a9b2ee3e47e5676e976bd43c5,bug/1751955," # DPDK initialization is done before running os-net-config, to make # the DPDK ports available when enabled. DPDK Hotplug support is # supported only in OvS 2.7 version. Until then, OvS needs to be # restarted after adding a DPDK port. This change will be removed # on migration to OvS 2.7 where DPDK Hotplug support is available. if ovs_needs_restart: msg = ""Restart openvswitch"" self.execute(msg, '/usr/bin/systemctl', 'restart', 'openvswitch')"," # DPDK initialization is done before running os-net-config, to make # the DPDK ports available when enabled. DPDK Hotplug support is # supported only in OvS 2.7 version. Until then, OvS needs to be # restarted after adding a DPDK port. This change will be removed on # migration to OvS 2.7 where DPDK Hotplug support is available. if ovs_needs_restart: msg = ""Restart openvswitch"" self.execute(msg, '/usr/bin/systemctl', 'restart', 'openvswitch')",9,9
openstack%2Ftripleo-common~stable%2Fqueens~Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,openstack/tripleo-common,stable/queens,Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,Fix missing docker package in neutron L3 agent container,MERGED,2018-04-26 12:32:58.000000000,2018-04-28 17:45:12.000000000,2018-04-28 17:45:11.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 12:32:58.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5d3a943bc8f7b5ea95d5ef8e3ecfd4765563c05', 'message': 'Fix missing docker package in neutron L3 agent container\n\nWe need to use the append macro to add the docker package to the L3 agent\ncontainer.\n\nNote: the dhcp image should really be doing the same thing, but requires\na change to the kolla repo and will be addressed in follow-up patches.\n(See https://bugs.launchpad.net/kolla/+bug/1766863)\n\nChange-Id: Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7\nRelated-Bug: #1749209\n(cherry picked from commit 86117a7ce86ac2a2f0ae74bd907abac292d4d751)\n'}]",0,564483,c5d3a943bc8f7b5ea95d5ef8e3ecfd4765563c05,8,3,1,6681,,,0,"Fix missing docker package in neutron L3 agent container

We need to use the append macro to add the docker package to the L3 agent
container.

Note: the dhcp image should really be doing the same thing, but requires
a change to the kolla repo and will be addressed in follow-up patches.
(See https://bugs.launchpad.net/kolla/+bug/1766863)

Change-Id: Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7
Related-Bug: #1749209
(cherry picked from commit 86117a7ce86ac2a2f0ae74bd907abac292d4d751)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/564483/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,c5d3a943bc8f7b5ea95d5ef8e3ecfd4765563c05,bug/1749209,{% set neutron_l3_agent_packages_append = ['docker'] %} # Kolla doesn't currently neutron_dhcp_agent_packages on CentOS so the append # isn't valid here.,{% set neutron_l3_agent_packages = ['docker'] %},3,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5c5786aa8bca96257a752714ecf870ba9066a0d7,openstack/tripleo-heat-templates,stable/queens,I5c5786aa8bca96257a752714ecf870ba9066a0d7,Removing the deprecated environment files for hw offloading in queens,MERGED,2018-04-26 08:46:51.000000000,2018-04-28 17:45:12.000000000,2018-04-28 17:45:12.000000000,"[{'_account_id': 3153}, {'_account_id': 12171}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26682}]","[{'number': 1, 'created': '2018-04-26 08:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c63fb7956866b7e440f317db6a902d6cf42d7a95', 'message': 'Removing the deprecated environment files for hw offloading in queens\n\nFor deploying with hw offloading, we should use the\n""environments/ovs-hw-offload.yaml"" file beside neutron, opendaylight\nor ovn environments files.\n\nChange-Id: I5c5786aa8bca96257a752714ecf870ba9066a0d7\n'}, {'number': 2, 'created': '2018-04-27 08:15:51.000000000', 'files': ['environments/services-docker/neutron-ovs-hw-offload.yaml', 'environments/ovs-hw-offload.yaml', 'environments/services-docker/neutron-opendaylight-hw-offload.yaml', 'environments/neutron-opendaylight-hw-offload.yaml', 'environments/neutron-ml2-ovn-hw-offload.yaml', 'environments/services-docker/neutron-ovn-hw-offload.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b52e6121c87c53b8b86afe1a0103485b8077287', 'message': 'Removing the deprecated environment files for hw offloading in queens\n\nFor deploying with hw offloading, we should use the\n""environments/ovs-hw-offload.yaml"" file beside neutron, opendaylight\nor ovn environments files.\n\nChange-Id: I5c5786aa8bca96257a752714ecf870ba9066a0d7\n'}]",0,564426,5b52e6121c87c53b8b86afe1a0103485b8077287,13,6,2,25241,,,0,"Removing the deprecated environment files for hw offloading in queens

For deploying with hw offloading, we should use the
""environments/ovs-hw-offload.yaml"" file beside neutron, opendaylight
or ovn environments files.

Change-Id: I5c5786aa8bca96257a752714ecf870ba9066a0d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/564426/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-docker/neutron-ovs-hw-offload.yaml', 'environments/ovs-hw-offload.yaml', 'environments/services-docker/neutron-opendaylight-hw-offload.yaml', 'environments/neutron-opendaylight-hw-offload.yaml', 'environments/neutron-ml2-ovn-hw-offload.yaml', 'environments/services-docker/neutron-ovn-hw-offload.yaml']",6,c63fb7956866b7e440f317db6a902d6cf42d7a95,,,"# A Heat environment that can be used to deploy OVN services with non HA OVN DB servers. resource_registry: OS::TripleO::Docker::NeutronMl2PluginBase: ../../puppet/services/neutron-plugin-ml2-ovn.yaml OS::TripleO::Services::OVNController: ../../docker/services/ovn-controller.yaml OS::TripleO::Services::OVNDBs: ../../docker/services/ovn-dbs.yaml OS::TripleO::Services::OVNMetadataAgent: ../../docker/services/ovn-metadata.yaml OS::TripleO::Services::NeutronSriovHostConfig: ../../puppet/services/neutron-sriov-host-config.yaml # Disabling Neutron services that overlap with OVN OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None OS::TripleO::Services::NeutronL3Agent: OS::Heat::None OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::NeutronDhcpAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronCorePlugin: OS::Heat::None parameter_defaults: NeutronMechanismDrivers: ovn OVNVifType: ovs OVNNeutronSyncMode: log OVNQosDriver: ovn-qos OVNTunnelEncapType: geneve NeutronEnableDHCPAgent: false NeutronTypeDrivers: 'geneve,vlan,flat' NeutronNetworkType: 'geneve' NeutronServicePlugins: 'qos,ovn-router,trunk' NeutronVniRanges: ['1:65536', ] NeutronPluginExtensions: ""qos,port_security,dns"" ComputeParameters: NeutronBridgeMappings: """" ControllerParameters: OVNCMSOptions: ""enable-chassis-as-gw"" ComputeSriovParameters: KernelArgs: ""intel_iommu=on iommu=pt"" OvsHwOffload: True # Number of VFs that needs to be configured for a physical interface #NeutronSriovNumVFs: [""enp2s0f0:4:switchdev""] # Mapping of SR-IOV PF interface to neutron physical_network. # In case of GENEVE physical_network should be null. # In case of flat/vlan the physical_network should as configured in neutron. #NovaPCIPassthrough: # - devname: ""enp2s0f0"" # physical_network: ""datacentre"" ",0,170
openstack%2Ftripleo-heat-templates~stable%2Fpike~I723237ae7285f3babd6eceb1ce7da4e2734d1e4f,openstack/tripleo-heat-templates,stable/pike,I723237ae7285f3babd6eceb1ce7da4e2734d1e4f,Improve nova-ironic cellv2 discovery,MERGED,2018-04-26 13:09:28.000000000,2018-04-28 17:45:10.000000000,2018-04-28 17:45:10.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-04-26 13:09:28.000000000', 'files': ['docker/services/nova-ironic.yaml', 'environments/services/ironic.yaml', 'docker/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56491c13b6da425f70d23f77cae2cf80630c2f4e', 'message': 'Improve nova-ironic cellv2 discovery\n\nUse the existing nova-compute cellv2 discovery logic for nova-ironic too, now\nthat we have the --by-service flag.\nThe nova_api_discover_hosts.sh script will now wait (up to 10 minutes) for all\nnova-compute and nova-ironic services to register, then run host discovery\nwith --by-service to create host mappings for all services. We no longer need\nironic nodes to be deployed on the nova-ironic services for discovery to work.\nWe also no longer need to enable the priodic job.\n\nRelated nova change Ie9f064cb9caf6dcba2414acb24d12b825df45fab\n\nConflicts:\n\tenvironments/services/ironic.yaml\n\nRelated-Bug: #1755602\nChange-Id: I723237ae7285f3babd6eceb1ce7da4e2734d1e4f\n(cherry picked from commit 9d61779a231924588d5a67d85d006fa4111215a8)\n'}]",0,564497,56491c13b6da425f70d23f77cae2cf80630c2f4e,10,5,1,10239,,,0,"Improve nova-ironic cellv2 discovery

Use the existing nova-compute cellv2 discovery logic for nova-ironic too, now
that we have the --by-service flag.
The nova_api_discover_hosts.sh script will now wait (up to 10 minutes) for all
nova-compute and nova-ironic services to register, then run host discovery
with --by-service to create host mappings for all services. We no longer need
ironic nodes to be deployed on the nova-ironic services for discovery to work.
We also no longer need to enable the priodic job.

Related nova change Ie9f064cb9caf6dcba2414acb24d12b825df45fab

Conflicts:
	environments/services/ironic.yaml

Related-Bug: #1755602
Change-Id: I723237ae7285f3babd6eceb1ce7da4e2734d1e4f
(cherry picked from commit 9d61779a231924588d5a67d85d006fa4111215a8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/564497/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-ironic.yaml', 'environments/services/ironic.yaml', 'docker/services/nova-api.yaml']",3,56491c13b6da425f70d23f77cae2cf80630c2f4e,bug/1755602," su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 discover_hosts --by-service --verbose"" "," su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 discover_hosts --verbose""",3,3
openstack%2Fopenstack-helm-infra~master~I4e58e1626c059247928167c9e45c44a49e26bd8d,openstack/openstack-helm-infra,master,I4e58e1626c059247928167c9e45c44a49e26bd8d,calico: yaml indentation fixes,MERGED,2018-04-11 21:48:37.000000000,2018-04-28 17:41:38.000000000,2018-04-28 17:41:38.000000000,"[{'_account_id': 7769}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}]","[{'number': 1, 'created': '2018-04-11 21:48:37.000000000', 'files': ['calico/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa916870bd4ba5f72b67f3cc90ec72957bcc7599', 'message': 'calico: yaml indentation fixes\n\nChange-Id: I4e58e1626c059247928167c9e45c44a49e26bd8d\n'}]",0,560665,aa916870bd4ba5f72b67f3cc90ec72957bcc7599,8,6,1,8898,,,0,"calico: yaml indentation fixes

Change-Id: I4e58e1626c059247928167c9e45c44a49e26bd8d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/560665/1 && git format-patch -1 --stdout FETCH_HEAD,['calico/values.yaml'],1,aa916870bd4ba5f72b67f3cc90ec72957bcc7599,yaml-fix-calico," requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_node: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_cni: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_ctl: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_etcd: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" default: ' ' # space required to provide a truly empty path # NOTE(portdirect): this should be the physical MTU, the appropriate MTU"," requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_node: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_cni: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_ctl: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" calico_etcd: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" default: ' ' # space required to provide a truly empty path #NOTE(portdirect): this should be the physical MTU, the appropriate MTU",32,32
openstack%2Fopenstack-helm-infra~master~I2bed45c554b19e6cd8373d88325e33ef4777b0c7,openstack/openstack-helm-infra,master,I2bed45c554b19e6cd8373d88325e33ef4777b0c7,prometheus-alertmanager: yaml indentation fixes,MERGED,2018-04-11 21:48:50.000000000,2018-04-28 17:41:30.000000000,2018-04-28 17:41:30.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-11 21:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8191a0752dc6788af023202b8cff9e15f257af1', 'message': '[RFC] prometheus-alertmanager: yaml indentation fixes\n\ni think this is right, but because of the size of things it really needs careful review\n\nChange-Id: I2bed45c554b19e6cd8373d88325e33ef4777b0c7\n'}, {'number': 2, 'created': '2018-04-13 16:01:47.000000000', 'files': ['prometheus-alertmanager/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb73a54b94751416767c0b70ed051bb7522c8985', 'message': 'prometheus-alertmanager: yaml indentation fixes\n\nChange-Id: I2bed45c554b19e6cd8373d88325e33ef4777b0c7\n'}]",0,560669,fb73a54b94751416767c0b70ed051bb7522c8985,9,5,2,8898,,,0,"prometheus-alertmanager: yaml indentation fixes

Change-Id: I2bed45c554b19e6cd8373d88325e33ef4777b0c7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/560669/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-alertmanager/values.yaml'],1,b8191a0752dc6788af023202b8cff9e15f257af1,yaml-fix-prom-alert," - '/etc/alertmanager/template/*.tmpl' # This routes performs a regular expression match on alert # labels to catch alerts that are related to a list of # services. - match_re: service: ^(foo1|foo2|baz)$ receiver: team-X-mails # The service has a sub-route for critical alerts, any alerts # that do not match, i.e. severity != critical, fall-back to the # parent node and are sent to 'team-X-mails' routes: - match: severity: critical receiver: team-X-pager - match: service: files receiver: team-Y-mails routes: - match: severity: critical receiver: team-Y-pager # This route handles all alerts coming from a database service. If there's # no team to handle it, it defaults to the DB team. - match: service: database receiver: team-DB-pager # Also group alerts by affected database. group_by: - alertname - cluster - database routes: - match: owner: team-X receiver: team-X-pager - match: owner: team-Y receiver: team-Y-pager - source_match: severity: 'critical' target_match: severity: 'warning' # Apply inhibition if the alertname is the same. equal: - alertname - cluster - service receivers: - name: 'team-X-mails' email_configs: - to: 'team-X+alerts@example.org' - name: 'team-X-pager' email_configs: - to: 'team-X+alerts-critical@example.org' pagerduty_configs: - service_key: <team-X-key> - name: 'team-Y-mails' email_configs: - to: 'team-Y+alerts@example.org' - name: 'team-Y-pager' pagerduty_configs: - service_key: <team-Y-key> - name: 'team-DB-pager' pagerduty_configs: - service_key: <team-DB-key> - name: 'team-X-hipchat' hipchat_configs: - auth_token: <auth_token> room_id: 85 message_format: html notify: true"," - '/etc/alertmanager/template/*.tmpl' # This routes performs a regular expression match on alert labels to # catch alerts that are related to a list of services. - match_re: service: ^(foo1|foo2|baz)$ receiver: team-X-mails # The service has a sub-route for critical alerts, any alerts # that do not match, i.e. severity != critical, fall-back to the # parent node and are sent to 'team-X-mails' routes: - match: severity: critical receiver: team-X-pager - match: service: files receiver: team-Y-mails routes: - match: severity: critical receiver: team-Y-pager # This route handles all alerts coming from a database service. If there's # no team to handle it, it defaults to the DB team. - match: service: database receiver: team-DB-pager # Also group alerts by affected database. group_by: - alertname - cluster - database routes: - match: owner: team-X receiver: team-X-pager - match: owner: team-Y receiver: team-Y-pager - source_match: severity: 'critical' target_match: severity: 'warning' # Apply inhibition if the alertname is the same. equal: - alertname - cluster - service receivers: - name: 'team-X-mails' email_configs: - to: 'team-X+alerts@example.org' - name: 'team-X-pager' email_configs: - to: 'team-X+alerts-critical@example.org' pagerduty_configs: - service_key: <team-X-key> - name: 'team-Y-mails' email_configs: - to: 'team-Y+alerts@example.org' - name: 'team-Y-pager' pagerduty_configs: - service_key: <team-Y-key> - name: 'team-DB-pager' pagerduty_configs: - service_key: <team-DB-key> - name: 'team-X-hipchat' hipchat_configs: - auth_token: <auth_token> room_id: 85 message_format: html notify: true",68,67
openstack%2Fneutron-tempest-plugin~master~I1523ecec61110a4398a2c32e08116610e485a47f,openstack/neutron-tempest-plugin,master,I1523ecec61110a4398a2c32e08116610e485a47f,Add tests for floatingip port_details,MERGED,2018-04-16 20:50:54.000000000,2018-04-28 17:07:08.000000000,2018-04-28 17:07:08.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-04-16 20:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d4a4b319feaebd2b1317d141767fda542bd3c129', 'message': 'Add tests for floatingip port_details\n\nDepends-On: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nChange-Id: I1523ecec61110a4398a2c32e08116610e485a47f\nRelated-Bug: #1723026\n'}, {'number': 2, 'created': '2018-04-25 18:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/89cfde3819abb2f83dd4361c64247366cdb9cf63', 'message': 'Add tests for floatingip port_details\n\nDepends-On: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nChange-Id: I1523ecec61110a4398a2c32e08116610e485a47f\nRelated-Bug: #1723026\n'}, {'number': 3, 'created': '2018-04-25 22:35:17.000000000', 'files': ['neutron_tempest_plugin/api/test_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/658a81f99353634081b6811a9efb4941ae3a78b0', 'message': 'Add tests for floatingip port_details\n\nDepends-On: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nChange-Id: I1523ecec61110a4398a2c32e08116610e485a47f\nRelated-Bug: #1723026\n'}]",5,561710,658a81f99353634081b6811a9efb4941ae3a78b0,18,5,3,27654,,,0,"Add tests for floatingip port_details

Depends-On: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa
Change-Id: I1523ecec61110a4398a2c32e08116610e485a47f
Related-Bug: #1723026
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/10/561710/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_floating_ips.py'],1,d4a4b319feaebd2b1317d141767fda542bd3c129,bug/1723026," @decorators.idempotent_id('cecae820-ebaa-4f96-b386-6a9fbf25c552') @utils.requires_ext(extension=""standard-attr-description"", service=""network"") @utils.requires_ext(extension=""fip-port-details"", service=""network"") def test_create_update_floatingip_port_details(self): body = self.client.create_floatingip( floating_network_id=self.ext_net_id, port_id=self.ports[0]['id'], description='d1' )['floatingip'] self.floating_ips.append(body) self._assert_port_details(self.ports[0], body['port_details']) body = self.client.show_floatingip(body['id'])['floatingip'] self._assert_port_details(self.ports[0], body['port_details']) body = self.client.update_floatingip(body['id'], description='d2') self._assert_port_details(self.ports[0], body['floatingip']['port_details']) # disassociate body = self.client.update_floatingip(body['floatingip']['id'], port_id=None) self.assertIsNone(body['floatingip']['port_details']) def _assert_port_details(self, port, port_details): port['name'] = port_details['name'] port['network_id'] = port_details['network_id'] port['mac_address'] = port_details['mac_address'] port['admin_state_up'] = port_details['admin_state_up'] port['status'] = port_details['status'] port['device_id'] = port_details['device_id'] port['device_owner'] = port_details['device_owner']",,32,0
openstack%2Fneutron~master~I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa,openstack/neutron,master,I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa,Add port_details to Floating IP,MERGED,2018-01-12 23:53:20.000000000,2018-04-28 17:07:07.000000000,2018-04-28 17:07:07.000000000,"[{'_account_id': 2}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-01-12 23:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6343dc918693ad78a05100efd6c99230415f3cf9', 'message': '[WIP] Add device_id to Floating IP\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 2, 'created': '2018-01-15 21:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4041a6ea221eb47098b0af2f8b382c9e7936516', 'message': '[WIP] Add device_id to Floating IP\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 3, 'created': '2018-01-15 23:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72610a91e0ab80875e706d82ef83d281044c83ba', 'message': '[WIP] Add device_id to Floating IP\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 4, 'created': '2018-01-17 00:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb0d2fc4f69b48587d38885b3bb7c6bb4f797683', 'message': '[WIP] Add device_id to Floating IP\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 5, 'created': '2018-01-17 19:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab33870ec5c0fc9e6d427ac18317dc2a0c43f32', 'message': '[WIP] Add device_id to Floating IP\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 6, 'created': '2018-01-17 19:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/678d68866fc21b10238b16edec74d768d417d349', 'message': 'Add device_id to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill be the ID of the nova instance. This allows users to filter\nthe floating IPs used by a specific instance.\n\nAPIImpact\nAPI-ref: I568d07a778609cfd2a0ff72057be3f47a9aa8a0a\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 7, 'created': '2018-04-09 20:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab90a6a95521780e41b047ba070248a29ac0c86', 'message': '[WIP] Add port_detail to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport if any.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 8, 'created': '2018-04-10 21:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3116da4432b7443d7843d180857d80c13ba3e3e', 'message': '[WIP] Add port_detail to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport if any.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 9, 'created': '2018-04-11 21:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a74c969599c91cb273b4036c1007f82ca812ce61', 'message': 'Add port_detail to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport if any.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 10, 'created': '2018-04-13 22:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07809c97c060c1ac0489dc2b8a450983e8a67086', 'message': 'Add port_detail to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport if any.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 11, 'created': '2018-04-16 19:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3fe6c77e17f7eef0c112d7a48df676c575162ff', 'message': 'Add port_details to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport (if any) in one API call.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 12, 'created': '2018-04-17 20:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72d6a28046df0ebe47d86cf9e07df9fa334ee236', 'message': 'Add port_details to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport (if any) in one API call.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n* tempest-plugin: https://review.openstack.org/#/c/561710/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 13, 'created': '2018-04-20 23:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10cbf23ef250bd908b52afbe05bc1871d7de8198', 'message': 'Add port_details to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport (if any) in one API call.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n* tempest-plugin: https://review.openstack.org/#/c/561710/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 14, 'created': '2018-04-25 17:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81882b63a047a227c1362ab1589206961c70e674', 'message': 'Add port_details to Floating IP\n\nIf the floating IP is associated with a nova instance, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport (if any) in one API call.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n* tempest-plugin: https://review.openstack.org/#/c/561710/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}, {'number': 15, 'created': '2018-04-25 17:16:21.000000000', 'files': ['neutron/tests/unit/extensions/test_fip_port_details.py', 'neutron/db/l3_fip_port_details.py', 'neutron/extensions/fip_port_details.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/db/models/l3.py', 'neutron/extensions/_fip_port_details_lib.py', 'releasenotes/notes/add-port_details-to-floatingip-fefceab2c740e482.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c760d4f26f4b4753c80269437d2cd0b8f63dbc7c', 'message': 'Add port_details to Floating IP\n\nIf the floating IP is associated with a port, this attribute\nwill contain detailed information of the associated port. This allows\nusers to retrieve the floating IPs with information of its associated\nport (if any) in one API call.\n\nOther related patches:\n* neutron-lib: https://review.openstack.org/#/c/534882/\n* osc: https://review.openstack.org/#/c/533809/\n* sdk: https://review.openstack.org/#/c/533811/\n* tempest-plugin: https://review.openstack.org/#/c/561710/\n\nAPIImpact the API reference needs to be updated\n\nChange-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa\nPartial-Bug: #1723026\n'}]",19,533327,c760d4f26f4b4753c80269437d2cd0b8f63dbc7c,90,12,15,11536,,,0,"Add port_details to Floating IP

If the floating IP is associated with a port, this attribute
will contain detailed information of the associated port. This allows
users to retrieve the floating IPs with information of its associated
port (if any) in one API call.

Other related patches:
* neutron-lib: https://review.openstack.org/#/c/534882/
* osc: https://review.openstack.org/#/c/533809/
* sdk: https://review.openstack.org/#/c/533811/
* tempest-plugin: https://review.openstack.org/#/c/561710/

APIImpact the API reference needs to be updated

Change-Id: I31e940d2986278d2fbee6fdfea4ff15f7c07ebaa
Partial-Bug: #1723026
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/533327/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/fip_device_id.py', 'neutron/db/l3_fip_device_id.py', 'neutron/extensions/fip_device_id_lib.py', 'neutron/services/l3_router/l3_router_plugin.py']",4,6343dc918693ad78a05100efd6c99230415f3cf9,bug/1723026,"from neutron.db import l3_fip_device_id l3_fip_qos.FloatingQoSDbMixin, l3_fip_device_id.FloatingDeviceIdDbMixin): ""l3-flavors"", ""qos-fip"", ""fip-device-id""]"," l3_fip_qos.FloatingQoSDbMixin): ""l3-flavors"", ""qos-fip""]",129,2
openstack%2Foctavia-tempest-plugin~master~I524c5a3534914e6c130dd4c5bed2be77d7e38c74,openstack/octavia-tempest-plugin,master,I524c5a3534914e6c130dd4c5bed2be77d7e38c74,Fix tests for Octavia API compat changes,MERGED,2018-04-23 19:11:54.000000000,2018-04-28 16:43:46.000000000,2018-04-28 16:43:46.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 19:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/11b6ab1bd04dcb144fe3168145b5348f207ee04b', 'message': 'WIP: Test against upcoming Octavia changes\n\nChange-Id: I524c5a3534914e6c130dd4c5bed2be77d7e38c74\nDepends-On: https://review.openstack.org/#/c/563341/\n'}, {'number': 2, 'created': '2018-04-23 19:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/932309af4b8809e7c0c9ca41d650131a577e103a', 'message': 'WIP: Fix tests for upcoming Octavia changes\n\nChange-Id: I524c5a3534914e6c130dd4c5bed2be77d7e38c74\nDepends-On: https://review.openstack.org/#/c/563341/\n'}, {'number': 3, 'created': '2018-04-27 23:27:03.000000000', 'files': ['.gitignore', 'octavia_tempest_plugin/tests/waiters.py', 'octavia_tempest_plugin/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a795ae6ffcf2c95b58dfb43d8cf51d97d570f0f1', 'message': 'Fix tests for Octavia API compat changes\n\nChange-Id: I524c5a3534914e6c130dd4c5bed2be77d7e38c74\nDepends-On: https://review.openstack.org/#/c/563341/\n'}]",0,563737,a795ae6ffcf2c95b58dfb43d8cf51d97d570f0f1,12,4,3,10273,,,0,"Fix tests for Octavia API compat changes

Change-Id: I524c5a3534914e6c130dd4c5bed2be77d7e38c74
Depends-On: https://review.openstack.org/#/c/563341/
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/37/563737/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,11b6ab1bd04dcb144fe3168145b5348f207ee04b,, # PyCharm IDE .idea,,3,0
openstack%2Fopenstack-ansible-ops~master~I63e59e249329ececf0598552b95329b38b4ed32c,openstack/openstack-ansible-ops,master,I63e59e249329ececf0598552b95329b38b4ed32c,Add Graylog Central Logging,MERGED,2018-04-24 21:36:36.000000000,2018-04-28 16:28:09.000000000,2018-04-28 16:28:09.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-24 21:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/eeff8023dc8fbf11edd53bcd31a18da42a5bf58d', 'message': 'Add Graylog Central Logging\n\nThis adds a central logging using graylog2 with little to no\ncode.\n\nChange-Id: I63e59e249329ececf0598552b95329b38b4ed32c\n'}, {'number': 2, 'created': '2018-04-24 21:43:12.000000000', 'files': ['graylog/graylog2-install.yml', 'graylog/ansible-role-requirements.yml', 'graylog/ansible.cfg', 'graylog/graylog-forward-logs.yml', 'graylog/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/afca2222b295326cd758f9e3cb31f241b6cc2e46', 'message': 'Add Graylog Central Logging\n\nThis adds a central logging using graylog2 with little to no\ncode.\n\nChange-Id: I63e59e249329ececf0598552b95329b38b4ed32c\n'}]",1,564070,afca2222b295326cd758f9e3cb31f241b6cc2e46,10,4,2,17068,,,0,"Add Graylog Central Logging

This adds a central logging using graylog2 with little to no
code.

Change-Id: I63e59e249329ececf0598552b95329b38b4ed32c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/70/564070/1 && git format-patch -1 --stdout FETCH_HEAD,"['graylog/graylog2-install.yml', 'graylog/ansible-role-requirements.yml', 'graylog/ansible.cfg', 'graylog/graylog-forward-logs.yml', 'graylog/README.rst']",5,eeff8023dc8fbf11edd53bcd31a18da42a5bf58d,graylog2,"Central Logging with Graylog2 ============================= Introduction ------------ This part of the ops repo is in charge of: * Setting up Graylog2 into the ``graylog_hosts`` group * Shipping all your hosts logs into Graylog2 using graylog native format (GELF) * Configuring haproxy for Graylog2 Current limitations ------------------- The upstream Graylog2 ansible role doesn't currently support deploying in a cluster setup, and therefore the deploy needs to be restricted to one backend for now: https://github.com/Graylog2/graylog-ansible-role/issues/89. It is all due to the fact the authentication sessions have to be shared on a mongoDB cluster, and no role is available to build the mongo cluster. Patches welcomed! Fetching the roles ------------------ To install Graylog2 you need to make sure all the necessary roles are in your environment, if you don't have them already. You can re-use the bootstrap-ansible script with this ansible-role-requirement file (see the OpenStack-Ansible reference documentation), or, simply run:: ansible-galaxy install -r ansible-role-requirements.yml Installing Graylog2 on graylog_hosts ------------------------------------ Add a file in /etc/openstack_deploy/user_graylog.yml, with the following content:: graylog_password_secret: """" # The output of `pwgen -N 1 -s 96` graylog_root_username: ""admin"" graylog_root_password_sha2: """" # The output of `echo -n yourpassword | shasum -a 256` haproxy_extra_services: - service: haproxy_service_name: graylog haproxy_backend_nodes: ""{{ [groups['graylog_hosts'][0]] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_port: 9000 haproxy_balance_type: http See more Graylog2 deploy variables in https://github.com/Graylog2/graylog-ansible-role/blob/e1159ec2712199f2da5768187cee84d1359bbd55/defaults/main.yml If you want the ``graylog_hosts`` group to match the existing ``log_hosts`` group, add the following in your ``/etc/openstack_deploy/inventory.ini``:: [graylog_hosts:children] log_hosts To deploy Graylog2, simply run the install playbook:: openstack-ansible graylog2-install.yml To point haproxy to your new Graylog2 instance, re-run the ``haproxy-install.yml`` playbook. Note: If running Graylog2 on the same host as the load balancer, you'll hit an issue with an already taken port. In that case, either don't configure haproxy, or configure it to run on an interface not yet bound. For example, you can use the following line in your ``user_graylog.yml`` haproxy service section to bind only on the external lb vip address:: haproxy_bind: ""{{ [external_lb_vip_address] }}"" Note: You can optionally add a series of headers in your haproxy to help on the web interface redirection, if you have a specific network configuration. http-request set-header X-Graylog-Server-URL https://{{ external_lb_vip_address }}:9000/api Configuration of Graylog2 ------------------------- Connect as the interface on your loadbalancer address, port 9000, with the user ``admin``, and the previously defined password whose shasum was given into ``graylog_root_password_sha2``. In the web interface, add the inputs you need. If you want to configure your your nodes with the provided playbook, you will need to create a new GELF UDP input on at least one of your Graylog2 nodes (select ``global`` if you want to listen on all the nodes). For the exercise, we are defining the port to listen to as UDP 12201. Sending logs to Graylog2 ------------------------ Graylog2 can receive data with different protocols, but there is an efficient native format for it, GELF. All of this is configured in a single playbook: ``graylog-forward-logs.yml``. There are many packages to forward the journal into Graylog2, like the official `journal2gelf`_. The ``graylog-ship-logs.yml`` playbook uses a fork of `journal2gelf` using `gelfclient`_. It's lightweight and easy to install. This script needs to know where to forward to, and depends on how you configured Graylog2 at the previous step. In the example above, the following variables need to be set in ``/etc/openstack_deploy/user_graylog.yml``:: graylog_targets: - ""{{ groups['graylog_hosts'][0] }}:12201"" If you are shipping journals directly from containers to the host, there is no need to run this playbook on the full list of nodes. Instead, use the ansible ``--limit`` directive to restrict on which host this playbook should run. That's all folks! .. _journal2gelf: https://github.com/systemd/journal2gelf .. _gelfclient: https://github.com/nailgun/journal2gelf ",,257,0
openstack%2Fopenstacksdk~master~I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3,openstack/openstacksdk,master,I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3,Flavor: added is_public query parameter and description property,MERGED,2018-04-27 15:57:54.000000000,2018-04-28 16:04:20.000000000,2018-04-28 16:04:20.000000000,"[{'_account_id': 2}, {'_account_id': 8246}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 15:57:54.000000000', 'files': ['openstack/compute/v2/flavor.py', 'openstack/tests/unit/compute/v2/test_flavor.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b17faa7b73c3630ae2dc14421b6339a9b2ff6c41', 'message': 'Flavor: added is_public query parameter and description property\n\nChange-Id: I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3\n'}]",0,564817,b17faa7b73c3630ae2dc14421b6339a9b2ff6c41,8,3,1,10338,,,0,"Flavor: added is_public query parameter and description property

Change-Id: I882eb9a6fde2e687f687a55aa450ea4b34fa5ab3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/17/564817/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/flavor.py', 'openstack/tests/unit/compute/v2/test_flavor.py']",2,b17faa7b73c3630ae2dc14421b6339a9b2ff6c41,flavor-params," 'description': 'Testing flavor', ""marker"": ""marker"", ""is_public"": ""is_public""}, self.assertEqual(BASIC_EXAMPLE['description'], sot.description)"," ""marker"": ""marker""},",7,2
openstack%2Fqinling~master~If2186013c3c49f1d99ab0ca9b623a339f01680f6,openstack/qinling,master,If2186013c3c49f1d99ab0ca9b623a339f01680f6,Functional test for creating execution with function version,MERGED,2018-04-27 10:51:23.000000000,2018-04-28 15:02:25.000000000,2018-04-28 15:02:25.000000000,"[{'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 10:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/e4f3f016847828f6a50042d88bf116152120dc42', 'message': 'Functional test for creating execution with function version\n\nChange-Id: If2186013c3c49f1d99ab0ca9b623a339f01680f6\nStory: 2001829\nTask: 14456\n'}, {'number': 2, 'created': '2018-04-27 11:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/53ac58a86d3afd7a08c010a1ac9c67eab69c7945', 'message': 'Functional test for creating execution with function version\n\nChange-Id: If2186013c3c49f1d99ab0ca9b623a339f01680f6\nStory: 2001829\nTask: 14456\n'}, {'number': 3, 'created': '2018-04-27 12:17:15.000000000', 'files': ['qinling_tempest_plugin/services/qinling_client.py', '.zuul.yaml', 'qinling_tempest_plugin/tests/api/test_executions.py', 'devstack/plugin.sh', 'qinling_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/6ee16cee269a3bf33b5687c76785106b8ae15ea2', 'message': 'Functional test for creating execution with function version\n\nOther changes in order to make this patch pass CI jobs:\n- Incease default runtime replicas to 5\n- Decrease tempest concurrency number to 2\n\nChange-Id: If2186013c3c49f1d99ab0ca9b623a339f01680f6\nStory: 2001829\nTask: 14456\n'}]",0,564730,6ee16cee269a3bf33b5687c76785106b8ae15ea2,11,2,3,6732,,,0,"Functional test for creating execution with function version

Other changes in order to make this patch pass CI jobs:
- Incease default runtime replicas to 5
- Decrease tempest concurrency number to 2

Change-Id: If2186013c3c49f1d99ab0ca9b623a339f01680f6
Story: 2001829
Task: 14456
",git fetch https://review.opendev.org/openstack/qinling refs/changes/30/564730/3 && git format-patch -1 --stdout FETCH_HEAD,"['qinling_tempest_plugin/services/qinling_client.py', 'qinling_tempest_plugin/tests/api/test_executions.py', 'qinling_tempest_plugin/tests/base.py']",3,e4f3f016847828f6a50042d88bf116152120dc42,test-function-version-execution," def create_execution(self, function_id, version=0, input=None): resp, body = self.client.create_execution(function_id, version=version, input=input) self.assertEqual(201, resp.status) execution_id = body['id'] self.addCleanup(self.client.delete_resource, 'executions', execution_id, ignore_notfound=True) self.assertEqual('success', body['status']) return execution_id",,43,2
openstack%2Fnova~master~I762dc4a70613056f1bd9ba7bf11c3a4588bdac70,openstack/nova,master,I762dc4a70613056f1bd9ba7bf11c3a4588bdac70,Address issues raised in adding member_of to GET /a-c,MERGED,2018-03-19 20:51:55.000000000,2018-04-28 14:44:08.000000000,2018-04-25 17:43:38.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-19 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb94f4cff92ba836cd26387d92c0b186f656b031', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}, {'number': 2, 'created': '2018-03-19 22:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/395ffca5c27e8f7134ebf8a137ad87ccfea63951', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}, {'number': 3, 'created': '2018-03-20 13:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7da868c7f29f1f1beef84a8e7909aee7e3526662', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}, {'number': 4, 'created': '2018-03-20 14:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7da6d9494cbf2dc6e716aa4b18fa847819004d3c', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}, {'number': 5, 'created': '2018-03-28 16:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5aab9b10d513a1c889b956bd3edaf24d63fa036', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}, {'number': 6, 'created': '2018-03-28 21:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ab53174971c4d33d7b11c4515ca8d78c408bb93', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}, {'number': 7, 'created': '2018-04-24 17:04:18.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/rest_api_version_history.rst', 'placement-api-ref/source/allocation_candidates.inc', 'nova/api/openstack/placement/util.py', 'placement-api-ref/source/parameters.yaml', 'nova/tests/functional/api/openstack/placement/gabbits/allocation-candidates-member-of.yaml', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider-aggregates.yaml', 'nova/api/openstack/placement/microversion.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77d3fc3838dcd8efcb41a1e30c879f7bf12d4d20', 'message': 'Address issues raised in adding member_of to GET /a-c\n\nIn an earlier patch [0], there were some valid criticisms noted. They\nwere not critical enough to require holding off on that patch, so they\nare being addressed here in a follow-up patch.\n\n[0] I5857e927a830914c96e040936804e322baccc24c\n\nBlueprint: alloc-candidates-member-of\n\nChange-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70\n'}]",24,554357,77d3fc3838dcd8efcb41a1e30c879f7bf12d4d20,102,20,7,1063,,,0,"Address issues raised in adding member_of to GET /a-c

In an earlier patch [0], there were some valid criticisms noted. They
were not critical enough to require holding off on that patch, so they
are being addressed here in a follow-up patch.

[0] I5857e927a830914c96e040936804e322baccc24c

Blueprint: alloc-candidates-member-of

Change-Id: I762dc4a70613056f1bd9ba7bf11c3a4588bdac70
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/554357/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/util.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocation-candidates-member-of.yaml']",3,bb94f4cff92ba836cd26387d92c0b186f656b031,bp/alloc-candidates-member-of," - Invalid uuid value - Invalid uuid value - name: get current compute node 1 state GET: /resource_providers/$ENVIRON['CN1_UUID'] - name: now associate the first compute node with both aggA and aggC PUT: /resource_providers/$ENVIRON['CN1_UUID']/aggregates data: aggregates: - $ENVIRON['AGGA_UUID'] - $ENVIRON['AGGC_UUID'] resource_provider_generation: $HISTORY['get current compute node 1 state'].$RESPONSE['$.generation'] - name: verify that the member_of call for aggs A and B still returns 2 allocation_candidates GET: /allocation_candidates?resources=VCPU:1,MEMORY_MB:1024,DISK_GB:100&member_of=in:$ENVIRON['AGGA_UUID'],$ENVIRON['AGGB_UUID'] status: 200 response_json_paths: $.allocation_requests.`len`: 2 status: 200", - Invalid query string parameters - Expected 'member_of' parameter to contain valid UUID(s) - Invalid query string parameters - Expected 'member_of' parameter to contain valid UUID(s),48,31
openstack%2Fmistral~stable%2Fpike~Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99,openstack/mistral,stable/pike,Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99,Do not copy workflow environment into subworkflows,MERGED,2018-04-28 10:08:51.000000000,2018-04-28 14:16:43.000000000,2018-04-28 14:16:43.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 10:08:51.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/tests/unit/engine/test_environment.py', 'mistral/engine/actions.py', 'mistral/tests/unit/engine/test_subworkflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7ec98b457cb83087241fbe5153467946c90af099', 'message': ""Do not copy workflow environment into subworkflows\n\n* We previously always copied a workflow environment of a parent\n  workflow into a subworkflow when starting it. However, this is\n  redundant because we now have 'root_execution_id' field in the\n  the workflow execution model so that we can always get an\n  environment of a subworkflow just by accessing the root execution.\n  It saves a lot of space in DB and increases performance in cases\n  when we have a large workflow environment and many subworkflows.\n\nChange-Id: Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99\nRelated-Bug: #1757966\n""}]",0,565004,7ec98b457cb83087241fbe5153467946c90af099,6,2,1,8731,,,0,"Do not copy workflow environment into subworkflows

* We previously always copied a workflow environment of a parent
  workflow into a subworkflow when starting it. However, this is
  redundant because we now have 'root_execution_id' field in the
  the workflow execution model so that we can always get an
  environment of a subworkflow just by accessing the root execution.
  It saves a lot of space in DB and increases performance in cases
  when we have a large workflow environment and many subworkflows.

Change-Id: Id8f5e917b45fedf09ecf2d28798a6949cf5f5c99
Related-Bug: #1757966
",git fetch https://review.opendev.org/openstack/mistral refs/changes/04/565004/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/engine/actions.py', 'mistral/tests/unit/engine/test_environment.py', 'mistral/tests/unit/engine/test_subworkflows.py']",4,7ec98b457cb83087241fbe5153467946c90af099,bug/1757966," self.assertDictContainsSubset({}, wf1_ex.params)"," expected_start_params = { 'task_name': 'task2', 'task_execution_id': wf1_ex.task_execution_id, 'env': env } self.assertDictContainsSubset(expected_start_params, wf1_ex.params)",13,16
openstack%2Ftripleo-quickstart~master~Ia0c70b49bfcabea49b673d605c1bf1775ce007e5,openstack/tripleo-quickstart,master,Ia0c70b49bfcabea49b673d605c1bf1775ce007e5,"Tag ""Add the virthost to the inventory"" as teardown-",MERGED,2018-04-27 09:28:44.000000000,2018-04-28 13:54:22.000000000,2018-04-28 13:54:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-27 09:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/81e7021be61cb702492c687b7c540b07c99393e6', 'message': 'Tag ""Add the virthost to the inventory"" as teardown-\n\nTo run only the teardown-all with -t teardown-all doesn\'t work, virthost is missing in the\nansible memory inventary.\n\nChange-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5\n'}, {'number': 2, 'created': '2018-04-27 09:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/514c1b960cd3812dceab3f4159f21a2c74d75250', 'message': 'Tag ""Add the virthost to the inventory"" as teardown-\n\nTo run only the teardown-all with -t teardown-all doesn\'t work, virthost is missing in the\nansible memory inventary.\n\nRelated-Bug: 1766326\n\nChange-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5\n'}, {'number': 3, 'created': '2018-04-27 13:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03fe0da835b1bc62a753b8516daae1d84d2b97de', 'message': 'Tag ""Add the virthost to the inventory"" as teardown-\n\nTo run only the teardown-all with -t teardown-all doesn\'t work, virthost is missing in the\nansible memory inventary.\n\nClose-Bug: 1766326\n\nChange-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5\n'}, {'number': 4, 'created': '2018-04-27 13:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7692954b6b614d65ae360c1e3a2ad496220544a5', 'message': 'Tag ""Add the virthost to the inventory"" as teardown-\n\nTo run only the teardown-all with -t teardown-all doesn\'t work, \nvirthost is missing in the ansible memory inventory.\n\nClose-Bug: 1766326\n\nChange-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5\n'}, {'number': 5, 'created': '2018-04-27 13:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/244eda77959216e86ae4be4ff12740dba87d08d0', 'message': 'Tag ""Add the virthost to the inventory"" as teardown-\n\nTo run only the teardown-all with -t teardown-all doesn\'t work, \nvirthost is missing in the ansible memory inventory.\n\nCloses-Bug: 1766326\n\nChange-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5\n'}, {'number': 6, 'created': '2018-04-27 13:37:55.000000000', 'files': ['playbooks/quickstart.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/69e473985a720d06ca924ceef09dd065bfa3f086', 'message': 'Tag ""Add the virthost to the inventory"" as teardown-\n\nTo run only the teardown-all with -t teardown-all doesn\'t work, \nvirthost is missing in the ansible memory inventory.\n\nCloses-Bug: 1766326\n\nChange-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5\n'}]",7,564712,69e473985a720d06ca924ceef09dd065bfa3f086,28,14,6,27898,,,0,"Tag ""Add the virthost to the inventory"" as teardown-

To run only the teardown-all with -t teardown-all doesn't work, 
virthost is missing in the ansible memory inventory.

Closes-Bug: 1766326

Change-Id: Ia0c70b49bfcabea49b673d605c1bf1775ce007e5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/12/564712/6 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/quickstart.yml'],1,81e7021be61cb702492c687b7c540b07c99393e6,bug/1766326, - teardown-all - teardown-nodes - teardown-provision - teardown-environment,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,openstack/tripleo-heat-templates,stable/queens,Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,Add OVNCMSOptions in dvr environment files,MERGED,2018-04-27 10:13:03.000000000,2018-04-28 13:54:21.000000000,2018-04-28 13:54:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-27 10:13:03.000000000', 'files': ['environments/services-docker/neutron-ovn-dvr-ha.yaml', 'environments/services-docker/neutron-ovn-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/052b3330a07a6b5c35ec2b8d9488e74270e3a41b', 'message': 'Add OVNCMSOptions in dvr environment files\n\nThis option must be enabled in a controller to be selected for hosting\na gateway router. But it is missing in DVR environment files. So when\nthese files are used for the deployment, vms were not able to reach\nexternal network. So adding this option for DVR files.\n\nChange-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b\nCloses-Bug: 1766183\n(cherry picked from commit 39ef030553e65ed80326afcf339029ed0f2ae8e4)\n'}]",0,564720,052b3330a07a6b5c35ec2b8d9488e74270e3a41b,11,10,1,10267,,,0,"Add OVNCMSOptions in dvr environment files

This option must be enabled in a controller to be selected for hosting
a gateway router. But it is missing in DVR environment files. So when
these files are used for the deployment, vms were not able to reach
external network. So adding this option for DVR files.

Change-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b
Closes-Bug: 1766183
(cherry picked from commit 39ef030553e65ed80326afcf339029ed0f2ae8e4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/564720/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-docker/neutron-ovn-dvr-ha.yaml', 'environments/services-docker/neutron-ovn-dvr.yaml']",2,052b3330a07a6b5c35ec2b8d9488e74270e3a41b,bug/1766183," ControllerParameters: OVNCMSOptions: ""enable-chassis-as-gw""",,4,0
openstack%2Ftripleo-heat-templates~master~I683bb9e96eef73a014d5967a5930ef519ac34430,openstack/tripleo-heat-templates,master,I683bb9e96eef73a014d5967a5930ef519ac34430,Add DeployIdentifier to Swift set_swift_secret container,MERGED,2018-04-27 15:03:29.000000000,2018-04-28 13:54:19.000000000,2018-04-28 13:54:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-27 15:03:29.000000000', 'files': ['docker/services/swift-proxy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fd8757c5f01dfc6b7449edd845ade625ffb0b6e', 'message': ""Add DeployIdentifier to Swift set_swift_secret container\n\nResolves an issue during scale out where the Swift set_swift_secret\ncontainer that sets the required Barbican key ID wasn't executing on a\nHeat stack update if the container name and configs all stayed the same.\n\nCloses-bug: 1767395\nChange-Id: I683bb9e96eef73a014d5967a5930ef519ac34430\n""}]",0,564798,5fd8757c5f01dfc6b7449edd845ade625ffb0b6e,11,5,1,6968,,,0,"Add DeployIdentifier to Swift set_swift_secret container

Resolves an issue during scale out where the Swift set_swift_secret
container that sets the required Barbican key ID wasn't executing on a
Heat stack update if the container name and configs all stayed the same.

Closes-bug: 1767395
Change-Id: I683bb9e96eef73a014d5967a5930ef519ac34430
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/564798/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/swift-proxy.yaml'],1,5fd8757c5f01dfc6b7449edd845ade625ffb0b6e,bug/1767395," DeployIdentifier: default: '' type: string description: > Setting this to a unique value will re-run any deployment tasks which perform configuration on a Heat stack-update. environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) - list_join: - '' - - 'TRIPLEO_DEPLOY_IDENTIFIER=' - {get_param: DeployIdentifier}",,13,0
openstack%2Ftripleo-heat-templates~master~If76475f359a020bf8eab55df7e3f5f674ea2e85d,openstack/tripleo-heat-templates,master,If76475f359a020bf8eab55df7e3f5f674ea2e85d,Make novajoin vendordata timeout configurable,MERGED,2018-04-27 15:15:53.000000000,2018-04-28 13:54:18.000000000,2018-04-28 13:54:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-27 15:15:53.000000000', 'files': ['docker/services/novajoin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52d4eb503dfe667f1393e1c8dd5aecfd9723f386', 'message': 'Make novajoin vendordata timeout configurable\n\nIt exposes the timeout as a parameter, sets the default to 30, and\nmakes it configurable.\n\nChange-Id: If76475f359a020bf8eab55df7e3f5f674ea2e85d\nRelated-Bug: #1760118\n'}]",0,564803,52d4eb503dfe667f1393e1c8dd5aecfd9723f386,11,6,1,10873,,,0,"Make novajoin vendordata timeout configurable

It exposes the timeout as a parameter, sets the default to 30, and
makes it configurable.

Change-Id: If76475f359a020bf8eab55df7e3f5f674ea2e85d
Related-Bug: #1760118
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/564803/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/novajoin.yaml'],1,52d4eb503dfe667f1393e1c8dd5aecfd9723f386,bug/1760118, NovajoinVendordataTimeout: default: 30 description: The timeout for both the vendordata dynamic connect and read values. type: number nova::api::vendordata_dynamic_connect_timeout: {get_param: NovajoinVendordataTimeout} nova::api::vendordata_dynamic_read_timeout: {get_param: NovajoinVendordataTimeout},,7,0
openstack%2Fnova~master~I6b19da4fef46eb8c81d8f14a8be25093f4feb745,openstack/nova,master,I6b19da4fef46eb8c81d8f14a8be25093f4feb745,Update eventlet,ABANDONED,2018-04-12 12:11:40.000000000,2018-04-28 12:23:45.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-12 12:11:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/daefb6e438b33905194ab8e0dc5886a758f2ff1d', 'message': 'Update eventlet\n\nWe will manage the eventlet version using constraints now. See the\nthread starting at\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-April/129096.html\nfor more details.\n\nChange-Id: I6b19da4fef46eb8c81d8f14a8be25093f4feb745\n'}]",0,560876,daefb6e438b33905194ab8e0dc5886a758f2ff1d,14,12,1,26297,,,0,"Update eventlet

We will manage the eventlet version using constraints now. See the
thread starting at
http://lists.openstack.org/pipermail/openstack-dev/2018-April/129096.html
for more details.

Change-Id: I6b19da4fef46eb8c81d8f14a8be25093f4feb745
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/560876/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,daefb6e438b33905194ab8e0dc5886a758f2ff1d,,"eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT","eventlet!=0.18.3,!=0.20.1,<0.21.0,>=0.18.2 # MIT",1,1
openstack%2Fironic~master~I355f531d2aab94ef92dd15904d57599b251c4279,openstack/ironic,master,I355f531d2aab94ef92dd15904d57599b251c4279,uncap eventlet,ABANDONED,2018-04-12 11:43:38.000000000,2018-04-28 12:23:33.000000000,,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 11:43:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b58de18ce7db11ced1b2086262195cff3b6be598', 'message': 'uncap eventlet\n\nWe will manage the eventlet version using constraints now. See the\nthread starting at\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-April/129096.html\nfor more details.\n\nChange-Id: I355f531d2aab94ef92dd15904d57599b251c4279\n'}]",0,560871,b58de18ce7db11ced1b2086262195cff3b6be598,9,7,1,26297,,,0,"uncap eventlet

We will manage the eventlet version using constraints now. See the
thread starting at
http://lists.openstack.org/pipermail/openstack-dev/2018-April/129096.html
for more details.

Change-Id: I355f531d2aab94ef92dd15904d57599b251c4279
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/560871/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b58de18ce7db11ced1b2086262195cff3b6be598,,"eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT","eventlet!=0.18.3,!=0.20.1,<0.21.0,>=0.18.2 # MIT",1,1
openstack%2Fironic~master~I25a7a569654e528fe6e4c15aea7d10c26a0422f0,openstack/ironic,master,I25a7a569654e528fe6e4c15aea7d10c26a0422f0,Trivial: Update pypi url to new url,ABANDONED,2018-04-23 09:29:30.000000000,2018-04-28 12:23:23.000000000,,"[{'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17130}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 09:29:30.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'doc/source/admin/drivers/ucs.rst', 'doc/source/admin/drivers/oneview.rst', 'doc/source/admin/drivers/irmc.rst', 'releasenotes/notes/add-tooz-dep-85c56c74733a222d.yaml', 'doc/source/contributor/dev-quickstart.rst', 'ironic/drivers/modules/inspector.py', 'doc/source/admin/inspection.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b71b868928fcc3db6bb5c2f3329627166a1e466', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I25a7a569654e528fe6e4c15aea7d10c26a0422f0\n'}]",0,563545,1b71b868928fcc3db6bb5c2f3329627166a1e466,10,8,1,26297,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I25a7a569654e528fe6e4c15aea7d10c26a0422f0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/563545/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'doc/source/admin/drivers/ucs.rst', 'doc/source/admin/drivers/oneview.rst', 'doc/source/admin/drivers/irmc.rst', 'releasenotes/notes/add-tooz-dep-85c56c74733a222d.yaml', 'doc/source/contributor/dev-quickstart.rst', 'ironic/drivers/modules/inspector.py', 'doc/source/admin/inspection.rst']",8,1b71b868928fcc3db6bb5c2f3329627166a1e466,,.. _ironic-inspector: https://pypi.org/project/ironic-inspector/ .. _python-ironic-inspector-client: https://pypi.org/project/python-ironic-inspector-client/ .. _python-ironicclient: https://pypi.org/project/python-ironicclient/,.. _ironic-inspector: https://pypi.python.org/pypi/ironic-inspector .. _python-ironic-inspector-client: https://pypi.python.org/pypi/python-ironic-inspector-client .. _python-ironicclient: https://pypi.python.org/pypi/python-ironicclient,16,16
openstack%2Frally~master~Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c,openstack/rally,master,Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c,Updated from global requirements,ABANDONED,2018-03-23 13:38:39.000000000,2018-04-28 12:23:09.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:38:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/32c02659f25b6b45d423e79cefc04889a4cf6c89', 'message': 'Updated from global requirements\n\nChange-Id: Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c\n'}]",0,555777,32c02659f25b6b45d423e79cefc04889a4cf6c89,4,2,1,26297,,,0,"Updated from global requirements

Change-Id: Ia8c4dc66a6fe00233b53c5cc018720f43e591d1c
",git fetch https://review.opendev.org/openstack/rally refs/changes/77/555777/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,32c02659f25b6b45d423e79cefc04889a4cf6c89,,oslo.db>=4.35.0 # Apache Software License,oslo.db>=4.34.0 # Apache Software License,1,1
openstack%2Frally~master~I5250c219200d218087865e10dc73f79de715862f,openstack/rally,master,I5250c219200d218087865e10dc73f79de715862f,Updated from global requirements,ABANDONED,2018-03-23 09:55:57.000000000,2018-04-28 12:23:00.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 09:55:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/d20f3045f6744ca8f0262493ad87458bceff0b69', 'message': 'Updated from global requirements\n\nChange-Id: I5250c219200d218087865e10dc73f79de715862f\n'}]",0,555721,d20f3045f6744ca8f0262493ad87458bceff0b69,4,2,1,26297,,,0,"Updated from global requirements

Change-Id: I5250c219200d218087865e10dc73f79de715862f
",git fetch https://review.opendev.org/openstack/rally refs/changes/21/555721/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d20f3045f6744ca8f0262493ad87458bceff0b69,,oslo.db>=4.34.0 # Apache Software License oslo.log>=3.37.0 # Apache Software Licensepython-ironicclient>=2.3.0 # Apache Software License,oslo.db>=4.27.0 # Apache Software License oslo.log>=3.36.0 # Apache Software Licensepython-ironicclient>=2.2.0 # Apache Software License,3,3
openstack%2Fopenstack-ansible-os_tempest~master~I05f88153e522b55e619b4d2e2cdfd311ab8228d8,openstack/openstack-ansible-os_tempest,master,I05f88153e522b55e619b4d2e2cdfd311ab8228d8,Comment tempest_git_repo role default,MERGED,2018-04-27 13:50:48.000000000,2018-04-28 12:22:26.000000000,2018-04-28 12:22:26.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 13:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f674fac566a2711f2099cff5e8feed8b63e2578a', 'message': ""Comment tempest_git_repo role default\n\nThis commit comments out the default for tempest_git_repo so that we\ncan build tempest from PyPi, but with constraints applied. This was\nattempted in [1] but wasn't enough to achieve this outcome. Note that\nthis change also requires an update to the repo_build role [2] for it\nto fully work.\n\n[1] https://review.openstack.org/#/q/I014201129b4d6b47ec45ff6239287623123a1595\n[2] https://review.openstack.org/#/q/I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n\nChange-Id: I05f88153e522b55e619b4d2e2cdfd311ab8228d8\n""}, {'number': 2, 'created': '2018-04-27 14:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f53b7b22862a2011d3b8c18d0071adfa7bfcc335', 'message': ""Comment tempest_git_repo role default\n\nThis commit comments out the default for tempest_git_repo so that we\ncan build tempest from PyPi, but with constraints applied. This was\nattempted in [1] but wasn't enough to achieve this outcome. Note that\nthis change also requires an update to the repo_build role [2] for it\nto fully work.\n\n[1] I014201129b4d6b47ec45ff6239287623123a1595\n[2] I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n\nChange-Id: I05f88153e522b55e619b4d2e2cdfd311ab8228d8\n""}, {'number': 3, 'created': '2018-04-27 14:08:24.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/db6a3e0af6748951a47faacdd976bcf09c058ce6', 'message': ""Comment tempest_git_repo role default\n\nThis commit comments out the default for tempest_git_repo so that we\ncan install tempest from PyPi, but with constraints applied. This was\nattempted in [1] but wasn't enough to achieve this outcome. Note that\nthis change also requires an update to the repo_build role [2] for it\nto fully work.\n\n[1] I014201129b4d6b47ec45ff6239287623123a1595\n[2] I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n\nChange-Id: I05f88153e522b55e619b4d2e2cdfd311ab8228d8\n""}]",0,564764,db6a3e0af6748951a47faacdd976bcf09c058ce6,13,3,3,7307,,,0,"Comment tempest_git_repo role default

This commit comments out the default for tempest_git_repo so that we
can install tempest from PyPi, but with constraints applied. This was
attempted in [1] but wasn't enough to achieve this outcome. Note that
this change also requires an update to the repo_build role [2] for it
to fully work.

[1] I014201129b4d6b47ec45ff6239287623123a1595
[2] I4468092eb5c86d6346a793ba1e2bfc6e772de3bb

Change-Id: I05f88153e522b55e619b4d2e2cdfd311ab8228d8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/64/564764/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f674fac566a2711f2099cff5e8feed8b63e2578a,do_not_build_from_sha,"# We comment `tempest_git_repo` so that the repo_build role does not attempt to # build the wheel from this repo/branch. Instead, we want tempest to get built # from the stable release defined in global requirements. #tempest_git_repo: https://git.openstack.org/openstack/tempest",tempest_git_repo: https://git.openstack.org/openstack/tempest,4,1
openstack%2Frpm-packaging~master~I2f99904dad28d075b1d74612b7c81a850239098b,openstack/rpm-packaging,master,I2f99904dad28d075b1d74612b7c81a850239098b,Updated tripleo-common to 8.5.0,ABANDONED,2018-03-03 14:06:04.000000000,2018-04-28 11:44:52.000000000,,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-03 14:06:04.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/26b6196f630b71f3153a179701e1af41fe0f7eb7', 'message': 'Updated tripleo-common to 8.5.0\n\nChange-Id: I2f99904dad28d075b1d74612b7c81a850239098b\n'}]",0,549468,26b6196f630b71f3153a179701e1af41fe0f7eb7,8,6,1,26297,,,0,"Updated tripleo-common to 8.5.0

Change-Id: I2f99904dad28d075b1d74612b7c81a850239098b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/549468/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,26b6196f630b71f3153a179701e1af41fe0f7eb7,tripleo-common,%global sversion 8.5.0Version: 8.5.0,%global sversion 8.4.0Version: 8.4.0,2,2
openstack%2Fmanila-specs~master~Ibcdba4fe820193b1594f36cef6c31c24005bd464,openstack/manila-specs,master,Ibcdba4fe820193b1594f36cef6c31c24005bd464,Switch to openstackdocstheme,MERGED,2018-04-27 20:27:41.000000000,2018-04-28 11:21:29.000000000,2018-04-28 11:21:29.000000000,"[{'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 20:27:41.000000000', 'files': ['requirements.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/d3e3d1b8a92dfdc4517942b7addaefdac45a63c2', 'message': 'Switch to openstackdocstheme\n\nProvides consistency across other specifications\non specs.openstack.org.\n\nChange-Id: Ibcdba4fe820193b1594f36cef6c31c24005bd464\n'}]",0,564877,d3e3d1b8a92dfdc4517942b7addaefdac45a63c2,7,3,1,16643,,,0,"Switch to openstackdocstheme

Provides consistency across other specifications
on specs.openstack.org.

Change-Id: Ibcdba4fe820193b1594f36cef6c31c24005bd464
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/77/564877/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py', 'tox.ini']",3,d3e3d1b8a92dfdc4517942b7addaefdac45a63c2,, sphinx-build -b html doc/source doc/build/html, python setup.py build_sphinx,12,4
openstack%2Ftripleo-heat-templates~master~I99ccea35edb39ed98b537eb7f7947f1c957d79f9,openstack/tripleo-heat-templates,master,I99ccea35edb39ed98b537eb7f7947f1c957d79f9,Fixes chowning neutron cert/key perms,MERGED,2018-04-26 20:04:50.000000000,2018-04-28 11:20:39.000000000,2018-04-28 10:23:12.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 20:04:50.000000000', 'files': ['docker/services/neutron-dhcp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/542ec3590fb8e5dac44c3efb05f40706cedd0079', 'message': 'Fixes chowning neutron cert/key perms\n\nModifyign the certificate and key permissions for neutron was failing\nduring kolla start because the files were mounted as read only in the\ncontainer.\n\nRelated-Bug: 1759049\n\nChange-Id: I99ccea35edb39ed98b537eb7f7947f1c957d79f9\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}]",1,564614,542ec3590fb8e5dac44c3efb05f40706cedd0079,14,7,1,17280,,,0,"Fixes chowning neutron cert/key perms

Modifyign the certificate and key permissions for neutron was failing
during kolla start because the files were mounted as read only in the
container.

Related-Bug: 1759049

Change-Id: I99ccea35edb39ed98b537eb7f7947f1c957d79f9
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/564614/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-dhcp.yaml'],1,542ec3590fb8e5dac44c3efb05f40706cedd0079,bug/1759049, - - /etc/pki/tls/certs/neutron.crt:/etc/pki/tls/certs/neutron.crt - /etc/pki/tls/private/neutron.key:/etc/pki/tls/private/neutron.key, - - /etc/pki/tls/certs/neutron.crt:/etc/pki/tls/certs/neutron.crt:ro - /etc/pki/tls/private/neutron.key:/etc/pki/tls/private/neutron.key:ro,2,2
openstack%2Fmanila-specs~master~I5757dd63ef03ae01b643069b0018821ae7f2752f,openstack/manila-specs,master,I5757dd63ef03ae01b643069b0018821ae7f2752f,Remove non-spec file,MERGED,2018-04-27 19:36:34.000000000,2018-04-28 11:18:55.000000000,2018-04-28 11:18:55.000000000,"[{'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 19:36:34.000000000', 'files': ['specs/rocky/README.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/9a4908a4cfe022116f2174db80d48ac836eb863d', 'message': 'Remove non-spec file\n\nTrivialFix\n\nChange-Id: I5757dd63ef03ae01b643069b0018821ae7f2752f\n'}]",0,564869,9a4908a4cfe022116f2174db80d48ac836eb863d,7,3,1,16643,,,0,"Remove non-spec file

TrivialFix

Change-Id: I5757dd63ef03ae01b643069b0018821ae7f2752f
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/69/564869/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/README.rst'],1,9a4908a4cfe022116f2174db80d48ac836eb863d,,,Add Rocky release specs in this folder ======================================= ,0,2
openstack%2Fsahara~master~If776be271bec56b9934459bc70c998376705ecb2,openstack/sahara,master,If776be271bec56b9934459bc70c998376705ecb2,Replace Chinese punctuation with English punctuation,ABANDONED,2018-04-28 11:04:22.000000000,2018-04-28 11:07:06.000000000,,[],"[{'number': 1, 'created': '2018-04-28 11:04:22.000000000', 'files': ['doc/source/reference/plugin-spi.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/bb9c7e3be142aa233b9a1393c1ef02e2b4678ac4', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input method.\nWhen read from english context, it makes some confusion.\n\nChange-Id: If776be271bec56b9934459bc70c998376705ecb2\n'}]",0,565007,bb9c7e3be142aa233b9a1393c1ef02e2b4678ac4,2,0,1,27565,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: If776be271bec56b9934459bc70c998376705ecb2
",git fetch https://review.opendev.org/openstack/sahara refs/changes/07/565007/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/plugin-spi.rst'],1,bb9c7e3be142aa233b9a1393c1ef02e2b4678ac4,fix_punctuation,"*Example return value*: [""1.2.1â"", ""2.3.0â"", ""2.4.1â""]*Example return value*: ((""JobTracker heap sizeâ"", ""JobTracker heap size, in MB"", ""int"", ""512â"", ""mapreducem"", ""node"", True, 1))plugin for both cluster creation and scaling. The ""Cluster Lifecycleâ"" section","*Example return value*: [“1.2.1”, “2.3.0”, “2.4.1”]*Example return value*: ((“JobTracker heap size”, ""JobTracker heap size, in MB"", ""int"", “512”, `“mapreduce”`, ""node"", True, 1))plugin for both cluster creation and scaling. The “Cluster Lifecycle” section",4,4
openstack%2Fironic-inspector~master~I38955fe9dbfd339df2a10dcbb55e996bf515034a,openstack/ironic-inspector,master,I38955fe9dbfd339df2a10dcbb55e996bf515034a,Support reload configuration on SIGHUP,MERGED,2018-04-11 02:39:51.000000000,2018-04-28 10:51:18.000000000,2018-04-28 10:51:18.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-04-11 02:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/431f8f563231c660e2da13950991374ca87dddbd', 'message': ""Support reload configuration on SIGHUP\n\nThis adds signal handler to reload mutable configuration options\non SIGHUP.\n\nIt has to be done manually, because ironic-inspector doesn't use\noslo.service.\n\nChange-Id: I38955fe9dbfd339df2a10dcbb55e996bf515034a\nStory: #1585595\nTask: #12543\n""}, {'number': 2, 'created': '2018-04-17 08:35:53.000000000', 'files': ['ironic_inspector/wsgi_service.py', 'releasenotes/notes/sighup-support-e6eaec034d963108.yaml', 'ironic_inspector/test/unit/test_wsgi_service.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/76898b73824104486c243a8a6ac61c43a463184e', 'message': ""Support reload configuration on SIGHUP\n\nThis adds signal handler to reload mutable configuration options\non SIGHUP.\n\nIt has to be done manually, because ironic-inspector doesn't use\noslo.service.\n\nChange-Id: I38955fe9dbfd339df2a10dcbb55e996bf515034a\nStory: #1585595\nTask: #12543\n""}]",0,560243,76898b73824104486c243a8a6ac61c43a463184e,26,6,2,24828,,,0,"Support reload configuration on SIGHUP

This adds signal handler to reload mutable configuration options
on SIGHUP.

It has to be done manually, because ironic-inspector doesn't use
oslo.service.

Change-Id: I38955fe9dbfd339df2a10dcbb55e996bf515034a
Story: #1585595
Task: #12543
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/43/560243/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/wsgi_service.py', 'ironic_inspector/test/unit/test_wsgi_service.py']",2,431f8f563231c660e2da13950991374ca87dddbd,sighup-manual," class TestWSGIServiceOnSigHup(BaseWSGITest): def setUp(self): super(TestWSGIServiceOnSigHup, self).setUp() self.mock_spawn = self.useFixture(fixtures.MockPatchObject( wsgi_service.eventlet, 'spawn')).mock self.mock_mutate_conf = self.useFixture(fixtures.MockPatchObject( wsgi_service.CONF, 'mutate_config_files')).mock def test_on_sighup(self): self.service._handle_sighup() self.mock_spawn.assert_called_once_with(self.service._handle_sighup_bg) def test_on_sighup_bg(self): self.service._handle_sighup_bg() self.mock_mutate_conf.assert_called_once_with()",,26,0
openstack%2Fheat~master~If7e0e8fd46b1b06a29cdd89743635ed32a9392e7,openstack/heat,master,If7e0e8fd46b1b06a29cdd89743635ed32a9392e7,Ignore property errors in implicit dependencies,MERGED,2017-08-02 18:57:09.000000000,2018-04-28 10:27:31.000000000,2018-04-28 10:27:31.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-08-02 18:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/91719a8611983da63d993026ca9ae979d0d862a0', 'message': 'Ignore property errors in implicit dependencies\n\nImplicit dependencies are calculated before resources are validated.\nTherefore, any error getting a property that occurs during processing on\nimplicit dependencies will be raised without any of the context of which\nresource is in error. By ignoring such property errors in implicit\ndependency calculations, we can defer the error handling until the\nactual resource validation and thus give the user an error message they\ncan actually use.\n\nChange-Id: If7e0e8fd46b1b06a29cdd89743635ed32a9392e7\nCloses-Bug: #1708209\n'}, {'number': 2, 'created': '2017-09-19 15:31:11.000000000', 'files': ['heat/engine/resources/aws/ec2/internet_gateway.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/openstack/neutron/floatingip.py', 'heat/engine/resources/openstack/neutron/extraroute.py', 'heat/engine/resources/openstack/neutron/port.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b50df6b1fc460c7427dacb13ee9e6e41ec63eb22', 'message': 'Ignore property errors in implicit dependencies\n\nImplicit dependencies are calculated before resources are validated.\nTherefore, any error getting a property that occurs during processing on\nimplicit dependencies will be raised without any of the context of which\nresource is in error. By ignoring such property errors in implicit\ndependency calculations, we can defer the error handling until the\nactual resource validation and thus give the user an error message they\ncan actually use.\n\nChange-Id: If7e0e8fd46b1b06a29cdd89743635ed32a9392e7\nCloses-Bug: #1708209\n'}]",0,490149,b50df6b1fc460c7427dacb13ee9e6e41ec63eb22,16,8,2,4257,,,0,"Ignore property errors in implicit dependencies

Implicit dependencies are calculated before resources are validated.
Therefore, any error getting a property that occurs during processing on
implicit dependencies will be raised without any of the context of which
resource is in error. By ignoring such property errors in implicit
dependency calculations, we can defer the error handling until the
actual resource validation and thus give the user an error message they
can actually use.

Change-Id: If7e0e8fd46b1b06a29cdd89743635ed32a9392e7
Closes-Bug: #1708209
",git fetch https://review.opendev.org/openstack/heat refs/changes/49/490149/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/ec2/internet_gateway.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/neutron/floatingip.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/openstack/neutron/extraroute.py', 'heat/engine/resources/openstack/neutron/port.py']",6,91719a8611983da63d993026ca9ae979d0d862a0,bug/1708209," try: dep_network = res.properties.get(subnet.Subnet.NETWORK) network = self.properties[self.NETWORK] except (ValueError, TypeError): # Properties errors will be caught later in validation, # where we can report them in their proper context. continue", dep_network = res.properties.get(subnet.Subnet.NETWORK) network = self.properties[self.NETWORK],127,37
openstack%2Fcyborg~master~I130bad097ffa2ef6594c5979f536b76a9350939f,openstack/cyborg,master,I130bad097ffa2ef6594c5979f536b76a9350939f,Fix remote call conductor error,MERGED,2018-04-28 02:28:57.000000000,2018-04-28 10:27:17.000000000,2018-04-28 10:27:17.000000000,"[{'_account_id': 13629}, {'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 25254}, {'_account_id': 25847}, {'_account_id': 27458}]","[{'number': 1, 'created': '2018-04-28 02:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f9d96f5d0b8e53970b1fee6e135a518e6bedc99c', 'message': 'Fix remote call conductor error\n\nChange-Id: I130bad097ffa2ef6594c5979f536b76a9350939f\nCloses-bug: #1719357\n'}, {'number': 2, 'created': '2018-04-28 07:40:34.000000000', 'files': ['cyborg/conductor/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/801aad10a488ff79a56e31a73d9df12cd44b983d', 'message': 'Fix remote call conductor error\n\nChange-Id: I130bad097ffa2ef6594c5979f536b76a9350939f\nStory: 2001928\nTask: 14457\n'}]",0,564962,801aad10a488ff79a56e31a73d9df12cd44b983d,11,7,2,17813,,,0,"Fix remote call conductor error

Change-Id: I130bad097ffa2ef6594c5979f536b76a9350939f
Story: 2001928
Task: 14457
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/62/564962/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/conductor/rpcapi.py'],1,f9d96f5d0b8e53970b1fee6e135a518e6bedc99c,bug/14457, cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic) cctxt = self.client.prepare(topic=self.topic)," cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host) cctxt = self.client.prepare(topic=self.topic, server=CONF.host)",11,11
openstack%2Ftripleo-common~stable%2Fqueens~I80163c8df15377dd3b5a44b5439a23223d8cccee,openstack/tripleo-common,stable/queens,I80163c8df15377dd3b5a44b5439a23223d8cccee,Allow uploading big files to swift (5GB),MERGED,2018-04-24 14:17:31.000000000,2018-04-28 10:15:19.000000000,2018-04-28 10:15:19.000000000,"[{'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 14:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1525cfd215598d4e1d01875671a54444e940ca48', 'message': 'Allow uploading big files to swift (5GB)\n\nThis patch enables the swift upload for big files (+5GB)\nin TripleO.\nAlso, adds support to the undercloud backup CLI to upload\nbig backups to swift.\n\nChange-Id: I80163c8df15377dd3b5a44b5439a23223d8cccee\nDepends-On: Iff73833f1d470750862873f70a4a9aaba50bd164\nCloses-Bug: 1761412\n(cherry picked from commit: Change-Id: I80163c8df15377dd3b5a44b5439a23223d8cccee)\n'}, {'number': 2, 'created': '2018-04-24 14:19:11.000000000', 'files': ['tripleo_common/actions/base.py', 'tripleo_common/tests/actions/test_plan.py', 'tripleo_common/actions/undercloud.py', 'releasenotes/notes/allow-upload-big-files-f67ff35fcd166612.yaml', 'tripleo_common/tests/actions/test_logging_to_swift.py', 'tripleo_common/actions/plan.py', 'tripleo_common/utils/swift.py', 'tripleo_common/actions/logging_to_swift.py', 'tripleo_common/tests/actions/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba013510b25eef75776cf453cd31d5a1da3a0f80', 'message': 'Allow uploading big files to swift (5GB)\n\nThis patch enables the swift upload for big files (+5GB)\nin TripleO.\nAlso, adds support to the undercloud backup CLI to upload\nbig backups to swift.\n\nChange-Id: I80163c8df15377dd3b5a44b5439a23223d8cccee\nDepends-On: Iff73833f1d470750862873f70a4a9aaba50bd164\nCloses-Bug: 1761412\n(cherry picked from commit: I80163c8df15377dd3b5a44b5439a23223d8cccee)\n'}]",0,563977,ba013510b25eef75776cf453cd31d5a1da3a0f80,24,5,2,20775,,,0,"Allow uploading big files to swift (5GB)

This patch enables the swift upload for big files (+5GB)
in TripleO.
Also, adds support to the undercloud backup CLI to upload
big backups to swift.

Change-Id: I80163c8df15377dd3b5a44b5439a23223d8cccee
Depends-On: Iff73833f1d470750862873f70a4a9aaba50bd164
Closes-Bug: 1761412
(cherry picked from commit: I80163c8df15377dd3b5a44b5439a23223d8cccee)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/563977/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/base.py', 'tripleo_common/tests/actions/test_plan.py', 'tripleo_common/actions/undercloud.py', 'releasenotes/notes/allow-upload-big-files-f67ff35fcd166612.yaml', 'tripleo_common/tests/actions/test_logging_to_swift.py', 'tripleo_common/actions/plan.py', 'tripleo_common/utils/swift.py', 'tripleo_common/actions/logging_to_swift.py', 'tripleo_common/tests/actions/test_undercloud.py']",9,1525cfd215598d4e1d01875671a54444e940ca48,bug/1761412," @mock.patch('tripleo_common.actions.base.TripleOAction.get_object_service') def test_upload_to_swift_success(self, mock_create_tarball, mock_get_obj_service): swift_service = mock.MagicMock() swift_service.delete.return_value = ([ {'success': True}, ]) mock_get_obj_service.return_value = swift_service swift_service.upload.has_calls() options = {'use_slo': True, 'changed': None, 'meta': [], 'fail_fast': True, 'leave_segments': False, 'header': ['X-Delete-After: 86400'], 'skip_identical': False, 'segment_size': 1048576000, 'segment_container': None, 'dir_marker': False} swift_service.upload.assert_called_once_with( options=options"," def test_simple_success(self, mock_create_tarball): self.swift.put_object.assert_called_once_with( action.tarball_name, headers={'X-Delete-After': 86400}",183,29
openstack%2Fapi-site~master~I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96,openstack/api-site,master,I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96,fix misspelling,ABANDONED,2018-04-28 08:19:45.000000000,2018-04-28 10:05:03.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 08:19:45.000000000', 'files': ['api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po'], 'web_link': 'https://opendev.org/openstack/api-site/commit/05dd50e68365b827b4aad58e8994e18fccada85e', 'message': 'fix misspelling\n\nChange-Id: I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96\n'}]",0,564989,05dd50e68365b827b4aad58e8994e18fccada85e,4,2,1,27565,,,0,"fix misspelling

Change-Id: I76ce6f08d4e7b1ed45202e4849bcf5590fde0c96
",git fetch https://review.opendev.org/openstack/api-site refs/changes/89/564989/1 && git format-patch -1 --stdout FETCH_HEAD,['api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po'],1,05dd50e68365b827b4aad58e8994e18fccada85e,fix_misspelling,"msgstr ""OpenStack komand-liniaj klientoj""""Uzu ``pip`` por instali la OpenStack klientoj en Mac OS X aŭ Linukso ""","msgstr ""OpenStak komand-liniaj klientoj""""Uzu ``pip`` por instali la OpenStak klientoj en Mac OS X aŭ Linukso """,2,2
openstack%2Fneutron-lib~master~I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a,openstack/neutron-lib,master,I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a,api-ref: document sorting for resource management,MERGED,2018-04-16 17:54:59.000000000,2018-04-28 10:03:04.000000000,2018-04-28 10:03:04.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27546}]","[{'number': 1, 'created': '2018-04-16 17:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/944712532e509b2bb9972dc922f6d0e095226b40', 'message': ""api-ref: document sorting for resource management\n\nAPI users can use the 'sort_key' and 'sort_dir' to do the sorting\non list result. This patch add documentation of these two parameters\nfor resource management endpoints, including flavor, service_profile,\nmetering label and metering label rule.\n\nPartial-Bug: #1749024\nChange-Id: I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a\n""}, {'number': 2, 'created': '2018-04-27 19:06:27.000000000', 'files': ['api-ref/source/v2/flavors.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/metering.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/341f8a18c93c0157b933e53d9ec309b62ae0c0fa', 'message': ""api-ref: document sorting for resource management\n\nAPI users can use the 'sort_key' and 'sort_dir' to do the sorting\non list result. This patch add documentation of these two parameters\nfor resource management endpoints, including flavor, service_profile,\nmetering label and metering label rule.\n\nPartial-Bug: #1749024\nChange-Id: I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a\n""}]",0,561682,341f8a18c93c0157b933e53d9ec309b62ae0c0fa,12,5,2,27654,,,0,"api-ref: document sorting for resource management

API users can use the 'sort_key' and 'sort_dir' to do the sorting
on list result. This patch add documentation of these two parameters
for resource management endpoints, including flavor, service_profile,
metering label and metering label rule.

Partial-Bug: #1749024
Change-Id: I2acf7fd11acd25b94cdeaf185a2be4ef5d51916a
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/82/561682/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/flavors.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/metering.inc']",3,944712532e509b2bb9972dc922f6d0e095226b40,bug/1749024, - sort_dir: sort_dir - sort_key: metering_label-sort_key - sort_dir: sort_dir - sort_key: metering_label_rule-sort_key,,63,0
openstack%2Fmistral~stable%2Fpike~Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,openstack/mistral,stable/pike,Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,Release note for workflow environment optimizations,MERGED,2018-04-28 07:54:26.000000000,2018-04-28 09:53:14.000000000,2018-04-28 09:53:14.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 07:54:26.000000000', 'files': ['releasenotes/notes/workflow_environment_optimizations-deb8868df3f0dc36.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3eeb561c1ccc5e0ff0f6f225a7f0388b40ca1f74', 'message': 'Release note for workflow environment optimizations\n\nChange-Id: Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e\nRelated-Bug: #1757966\n'}]",0,564985,3eeb561c1ccc5e0ff0f6f225a7f0388b40ca1f74,6,2,1,8731,,,0,"Release note for workflow environment optimizations

Change-Id: Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e
Related-Bug: #1757966
",git fetch https://review.opendev.org/openstack/mistral refs/changes/85/564985/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/workflow_environment_optimizations-deb8868df3f0dc36.yaml'],1,3eeb561c1ccc5e0ff0f6f225a7f0388b40ca1f74,bug/1757966-stable/pike,"--- fixes: - Mistral was storing, in fact, two copies of a workflow environment, one in workflow parameters (the 'params' field) and another one in a context (the 'context' field). Now it's stored only in workflow parameters. It saves space in DB and increases performance in case of big workflow environments. - Mistral was copying a workflow environment into all of their sub workflows. In case of a big workflow environment and a big number of sub workflows it caused serious problems, used additional space in DB and used a lot of RAM (e.g. when the 'on-success' clause has a lot of tasks where each one of them is a subworkflow). Now it is fixed by evaluating a workflow environment through the root execution reference. ",,16,0
openstack%2Fmistral~stable%2Fqueens~Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,openstack/mistral,stable/queens,Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e,Release note for workflow environment optimizations,MERGED,2018-04-28 07:53:51.000000000,2018-04-28 09:53:13.000000000,2018-04-28 09:53:13.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 07:53:51.000000000', 'files': ['releasenotes/notes/workflow_environment_optimizations-deb8868df3f0dc36.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6c5d56cc781dbd1f5e7c6d5d73c4f42ba26d35a5', 'message': 'Release note for workflow environment optimizations\n\nChange-Id: Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e\nRelated-Bug: #1757966\n'}]",0,564984,6c5d56cc781dbd1f5e7c6d5d73c4f42ba26d35a5,6,2,1,8731,,,0,"Release note for workflow environment optimizations

Change-Id: Ieff4887384a4f8fa0eb52a6255f3e4402dbf1d8e
Related-Bug: #1757966
",git fetch https://review.opendev.org/openstack/mistral refs/changes/84/564984/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/workflow_environment_optimizations-deb8868df3f0dc36.yaml'],1,6c5d56cc781dbd1f5e7c6d5d73c4f42ba26d35a5,bug/1757966-stable/queens,"--- fixes: - Mistral was storing, in fact, two copies of a workflow environment, one in workflow parameters (the 'params' field) and another one in a context (the 'context' field). Now it's stored only in workflow parameters. It saves space in DB and increases performance in case of big workflow environments. - Mistral was copying a workflow environment into all of their sub workflows. In case of a big workflow environment and a big number of sub workflows it caused serious problems, used additional space in DB and used a lot of RAM (e.g. when the 'on-success' clause has a lot of tasks where each one of them is a subworkflow). Now it is fixed by evaluating a workflow environment through the root execution reference. ",,16,0
openstack%2Fmistral~stable%2Fpike~I1204b082794b376787d126136a79dd204ec3af07,openstack/mistral,stable/pike,I1204b082794b376787d126136a79dd204ec3af07,Get rid of a extra copy of workflow environment,MERGED,2018-04-28 02:54:25.000000000,2018-04-28 09:53:13.000000000,2018-04-28 09:53:13.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 02:54:25.000000000', 'files': ['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun.py', 'mistral/tests/unit/engine/test_environment.py', 'mistral/tests/unit/engine/test_workflow_resume.py', 'mistral/engine/base.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/engine/test_action_defaults.py', 'mistral/tests/unit/workflow/test_direct_workflow.py', 'mistral/workflow/direct_workflow.py', 'mistral/services/workflows.py', 'mistral/engine/tasks.py', 'mistral/workflow/data_flow.py', 'mistral/tests/unit/engine/test_reverse_workflow.py', 'mistral/engine/actions.py', 'mistral/tests/unit/engine/test_policies.py', 'mistral/tests/unit/engine/test_subworkflows.py', 'mistral/tests/unit/engine/test_yaql_functions.py', 'mistral/tests/unit/services/test_workflow_service.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5e56a28608d9b3a37a26a89c4d4bf2a78cfb1683', 'message': ""Get rid of a extra copy of workflow environment\n\n* Previously, we had two copies of the workflow environment\n  passed by a user: one was in the 'params' fields under ke 'env'\n  key and another one was copied into the 'context' field under\n  the '__env' key so that we can evaluate expressions involving\n  the env() function (YAQL or Jinja).\n  This patch removes the copy from the 'context' field in favor\n  of using an ad-hoc ContextView structure where we now also\n  weave in the environment dictionary under the same key '__env'.\n\nRelated-Bug: #1757966\nChange-Id: I1204b082794b376787d126136a79dd204ec3af07\n""}]",0,564966,5e56a28608d9b3a37a26a89c4d4bf2a78cfb1683,6,2,1,8731,,,0,"Get rid of a extra copy of workflow environment

* Previously, we had two copies of the workflow environment
  passed by a user: one was in the 'params' fields under ke 'env'
  key and another one was copied into the 'context' field under
  the '__env' key so that we can evaluate expressions involving
  the env() function (YAQL or Jinja).
  This patch removes the copy from the 'context' field in favor
  of using an ad-hoc ContextView structure where we now also
  weave in the environment dictionary under the same key '__env'.

Related-Bug: #1757966
Change-Id: I1204b082794b376787d126136a79dd204ec3af07
",git fetch https://review.opendev.org/openstack/mistral refs/changes/66/564966/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun.py', 'mistral/tests/unit/engine/test_environment.py', 'mistral/tests/unit/engine/test_workflow_resume.py', 'mistral/engine/base.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/engine/test_action_defaults.py', 'mistral/tests/unit/workflow/test_direct_workflow.py', 'mistral/workflow/direct_workflow.py', 'mistral/services/workflows.py', 'mistral/engine/tasks.py', 'mistral/workflow/data_flow.py', 'mistral/tests/unit/engine/test_reverse_workflow.py', 'mistral/engine/actions.py', 'mistral/tests/unit/engine/test_policies.py', 'mistral/tests/unit/engine/test_subworkflows.py', 'mistral/tests/unit/engine/test_yaql_functions.py', 'mistral/tests/unit/services/test_workflow_service.py']",18,5e56a28608d9b3a37a26a89c4d4bf2a78cfb1683,bug/1757966-stable/pike,," self.assertDictEqual(update_env, updated.context['__env'])",199,76
openstack%2Fmonasca-api~master~Ib85c477e17b5bbb181f53384165cddc79bee1f20,openstack/monasca-api,master,Ib85c477e17b5bbb181f53384165cddc79bee1f20,Update github links in pom.xml,ABANDONED,2018-01-16 07:13:22.000000000,2018-04-28 09:22:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-16 07:13:22.000000000', 'files': ['java/pom.xml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/97edfb7c3fce567e81961806d789bcb6a9d46b4a', 'message': 'Update github links in pom.xml\n\nUse https instead of http for github links\n\nChange-Id: Ib85c477e17b5bbb181f53384165cddc79bee1f20\n'}]",0,534136,97edfb7c3fce567e81961806d789bcb6a9d46b4a,3,1,1,27565,,,0,"Update github links in pom.xml

Use https instead of http for github links

Change-Id: Ib85c477e17b5bbb181f53384165cddc79bee1f20
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/36/534136/1 && git format-patch -1 --stdout FETCH_HEAD,['java/pom.xml'],1,97edfb7c3fce567e81961806d789bcb6a9d46b4a,modify_pom_link, <url>https://github.com/openstack/monasca-api</url>, <url>http://github.com/openstack/monasca-api</url>,1,1
openstack%2Fmonasca-persister~master~Idae0236be7b9b6bfda1d1390844c0540b6fe745a,openstack/monasca-persister,master,Idae0236be7b9b6bfda1d1390844c0540b6fe745a,Update github links in pom.xml,ABANDONED,2018-01-16 07:05:14.000000000,2018-04-28 09:22:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-01-16 07:05:14.000000000', 'files': ['common/pom.xml', 'java/pom.xml', 'pom.xml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/f21faa991f086d1abb50d9d201b12395260471d1', 'message': 'Update github links in pom.xml\n\nUse https instead of http for github links\n\nChange-Id: Idae0236be7b9b6bfda1d1390844c0540b6fe745a\n'}]",0,534133,f21faa991f086d1abb50d9d201b12395260471d1,4,2,1,27565,,,0,"Update github links in pom.xml

Use https instead of http for github links

Change-Id: Idae0236be7b9b6bfda1d1390844c0540b6fe745a
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/33/534133/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/pom.xml', 'java/pom.xml', 'pom.xml']",3,f21faa991f086d1abb50d9d201b12395260471d1,modify_http, <url>https://github.com/openstack/monasca-persister</url>, <url>http://github.com/openstack/monasca-persister</url>,3,3
openstack%2Fopenstack-ansible-os_heat~stable%2Fqueens~I9f5923e22a55f01067dcb53eaa86ad068a1ba215,openstack/openstack-ansible-os_heat,stable/queens,I9f5923e22a55f01067dcb53eaa86ad068a1ba215,"[New files - needs update] Update paste, policy and rootwrap configurations 2018-03-31",ABANDONED,2018-03-31 21:18:13.000000000,2018-04-28 08:53:08.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 21:18:13.000000000', 'files': ['templates/api-paste.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/060cbfb64a35742f3ac22d8c10dd728829afc559', 'message': '[New files - needs update] Update paste, policy and rootwrap configurations 2018-03-31\n\nChange-Id: I9f5923e22a55f01067dcb53eaa86ad068a1ba215\n'}]",0,558085,060cbfb64a35742f3ac22d8c10dd728829afc559,6,3,1,17068,,,0,"[New files - needs update] Update paste, policy and rootwrap configurations 2018-03-31

Change-Id: I9f5923e22a55f01067dcb53eaa86ad068a1ba215
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/85/558085/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/api-paste.ini.j2'],1,060cbfb64a35742f3ac22d8c10dd728829afc559,sha-update,[filter:cwversionnegotiation] paste.filter_factory = heat.common.wsgi:filter_factory ,,3,0
openstack%2Fpython-tripleoclient~master~I10ba861ce7bbb4206a9bc8b75a2144b4b301046b,openstack/python-tripleoclient,master,I10ba861ce7bbb4206a9bc8b75a2144b4b301046b,Containerized undercloud completion messages,MERGED,2018-04-12 16:58:04.000000000,2018-04-28 08:45:34.000000000,2018-04-28 08:45:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-04-12 16:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/96f03d9f8d0967772e832633f25697404056cd45', 'message': 'WIP - Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 2, 'created': '2018-04-13 19:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a94cb67d888a6e4e06bd2e92a05c5c2c74f40f2', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 3, 'created': '2018-04-16 13:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8970feea93eed2603446e191c4db64b9f1f1e58', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 4, 'created': '2018-04-16 16:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/199fe273895f0228e9be01158a2ab22e4a8ea91f', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 5, 'created': '2018-04-16 18:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6af489901b504fc24d5bc8ff12523ef9f082cde0', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 6, 'created': '2018-04-16 19:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28216000e4d36bffabc7ba9454337212ab67bbea', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 7, 'created': '2018-04-16 21:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e97e63d785df138c088ff4fe1acbc2e2110b999', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 8, 'created': '2018-04-17 13:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a135aae092e9c00be8da66cb2274ed9efe0b4023', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 9, 'created': '2018-04-17 17:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7801ef7f7bd84017a910daafafe2f1456156b95c', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 10, 'created': '2018-04-24 16:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8dff5ec506db173f42cdee93722cc96f6d1ae052', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 11, 'created': '2018-04-25 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/874ec2cc8b3215f2cf0580e52d64f60705f11ecf', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 12, 'created': '2018-04-25 18:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1d91fb25302b86145ea3f6cf2b1e38a1f7e7915', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 13, 'created': '2018-04-25 20:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2eff3e33e41d5e5d07433baf9e90ef099dfbb9b0', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}, {'number': 14, 'created': '2018-04-26 20:06:42.000000000', 'files': ['tripleoclient/v1/undercloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/525871e28c19b8e2d8ce97090868f1d8417b4771', 'message': 'Containerized undercloud completion messages\n\nThis patch adds failure or success completion messages to the end of the\ncontainerized undercloud deployment as per LP1761836\n\nChange-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b\nRelated-Bug: 1761836\n'}]",7,560973,525871e28c19b8e2d8ce97090868f1d8417b4771,67,8,14,27427,,,0,"Containerized undercloud completion messages

This patch adds failure or success completion messages to the end of the
containerized undercloud deployment as per LP1761836

Change-Id: I10ba861ce7bbb4206a9bc8b75a2144b4b301046b
Related-Bug: 1761836
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/73/560973/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_deploy.py'],1,96f03d9f8d0967772e832633f25697404056cd45,bp/containerized-undercloud,"COMPLETION_MESSAGE = """""" ############################################################################# Undercloud %(undercloud_operation)s complete. The file containing this installation's passwords is at %(password_path)s. There is also a stackrc file at %(stackrc_path)s. These files are needed to interact with the OpenStack services, and should be secured. ############################################################################# """""" FAILURE_MESSAGE = """""" ############################################################################# Undercloud %(undercloud_operation)s failed. Reason: %(exception)s See the previous output for details about what went wrong. The full install log can be found at %(log_file)s. ############################################################################# """""" LOG.error(FAILURE_MESSAGE, {'undercloud_operation': undercloud_operation, 'exception': six.text_type(e), 'log_file': PATHS.LOG_FILE}) else: LOG.info(COMPLETION_MESSAGE, {'undercloud_operation': undercloud_operation, 'password_path': PATHS.PASSWORD_PATH, 'stackrc_path': os.path.expanduser('~/stackrc')})",,35,0
openstack%2Fpuppet-nova~stable%2Fnewton~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,stable/newton,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-04-25 13:37:25.000000000,2018-04-28 08:23:17.000000000,2018-04-28 08:23:17.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 13:37:25.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c6c86b0c6df9e182b6e524ac908780f7d7047450', 'message': 'Expose reserved_huge_pages param\n\nAdds the ability to set reserved_huge_pages on nova-computes via a string or\na list of strings.\n\nChange-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6\n(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)\n(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)\n(cherry picked from commit 40eb56cbb777ba1eb11610fa15fefc442ef36a75)\n(cherry picked from commit 55dee4d1d5378fe6f0182620494bf7d656ffdd5d)\n'}]",0,564218,c6c86b0c6df9e182b6e524ac908780f7d7047450,7,3,1,23811,,,0,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)
(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)
(cherry picked from commit 40eb56cbb777ba1eb11610fa15fefc442ef36a75)
(cherry picked from commit 55dee4d1d5378fe6f0182620494bf7d656ffdd5d)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/18/564218/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb']",3,c6c86b0c6df9e182b6e524ac908780f7d7047450,," it { is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with_value('<SERVICE DEFAULT>') } context 'with reserved_huge_pages string' do let :params do { :reserved_huge_pages => ""foo"" } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => 'foo' ) end end context 'with reserved_huge_pages array' do let :params do { :reserved_huge_pages => [""foo"", ""bar""] } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => ['foo','bar'] ) end end ",,50,0
openstack%2Fpuppet-nova~stable%2Focata~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,stable/ocata,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-04-25 13:32:12.000000000,2018-04-28 08:23:16.000000000,2018-04-28 08:23:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 13:32:12.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/55dee4d1d5378fe6f0182620494bf7d656ffdd5d', 'message': 'Expose reserved_huge_pages param\n\nAdds the ability to set reserved_huge_pages on nova-computes via a string or\na list of strings.\n\nChange-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6\n(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)\n(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)\n(cherry picked from commit 40eb56cbb777ba1eb11610fa15fefc442ef36a75)\n'}]",0,564216,55dee4d1d5378fe6f0182620494bf7d656ffdd5d,7,3,1,23811,,,0,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)
(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)
(cherry picked from commit 40eb56cbb777ba1eb11610fa15fefc442ef36a75)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/16/564216/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb']",3,55dee4d1d5378fe6f0182620494bf7d656ffdd5d,," it { is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with_value('<SERVICE DEFAULT>') } context 'with reserved_huge_pages string' do let :params do { :reserved_huge_pages => ""foo"" } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => 'foo' ) end end context 'with reserved_huge_pages array' do let :params do { :reserved_huge_pages => [""foo"", ""bar""] } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => ['foo','bar'] ) end end ",,50,0
openstack%2Fpuppet-nova~stable%2Fpike~I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,openstack/puppet-nova,stable/pike,I50cc58f8039377362e3ec24a1eef16af6ff2f0f6,Expose reserved_huge_pages param,MERGED,2018-04-25 13:26:34.000000000,2018-04-28 08:23:16.000000000,2018-04-28 08:23:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 13:26:34.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/40eb56cbb777ba1eb11610fa15fefc442ef36a75', 'message': 'Expose reserved_huge_pages param\n\nAdds the ability to set reserved_huge_pages on nova-computes via a string or\na list of strings.\n\nChange-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6\n(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)\n(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)\n'}]",0,564210,40eb56cbb777ba1eb11610fa15fefc442ef36a75,7,3,1,23811,,,0,"Expose reserved_huge_pages param

Adds the ability to set reserved_huge_pages on nova-computes via a string or
a list of strings.

Change-Id: I50cc58f8039377362e3ec24a1eef16af6ff2f0f6
(cherry picked from commit d7a6b423097d27e74430d2021e3b9cc64f3197ba)
(cherry picked from commit 33bb6cca3921aea3ae8d42af5b2c65550b690d98)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/10/564210/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/add_reserved_huge_pages-883f6feb4e274814.yaml', 'spec/classes/nova_compute_spec.rb']",3,40eb56cbb777ba1eb11610fa15fefc442ef36a75,," it { is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with_value('<SERVICE DEFAULT>') } context 'with reserved_huge_pages string' do let :params do { :reserved_huge_pages => ""foo"" } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => 'foo' ) end end context 'with reserved_huge_pages array' do let :params do { :reserved_huge_pages => [""foo"", ""bar""] } end it 'configures nova reserved_huge_pages entries' do is_expected.to contain_nova_config('DEFAULT/reserved_huge_pages').with( 'value' => ['foo','bar'] ) end end ",,50,0
openstack%2Fcyborg~master~I7bf2799592be2551853e5327e433f83ba25598da,openstack/cyborg,master,I7bf2799592be2551853e5327e433f83ba25598da,Fix package import error,ABANDONED,2018-04-20 07:03:01.000000000,2018-04-28 07:35:13.000000000,,"[{'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 07:03:01.000000000', 'files': ['cyborg/accelerator/drivers/generic_driver.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b1e26f618f4386a4ed2a62ce74fe4a580c7f3078', 'message': 'Fix package import error\n\nAdd full path to import module, so that the reference can be\nresolved.\n\nChange-Id: I7bf2799592be2551853e5327e433f83ba25598da\nStory: 2001887\nTask: 14368\n'}]",0,562954,b1e26f618f4386a4ed2a62ce74fe4a580c7f3078,4,2,1,25547,,,0,"Fix package import error

Add full path to import module, so that the reference can be
resolved.

Change-Id: I7bf2799592be2551853e5327e433f83ba25598da
Story: 2001887
Task: 14368
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/54/562954/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/generic_driver.py'],1,b1e26f618f4386a4ed2a62ce74fe4a580c7f3078,story/2001887,from cyborg.accelerator.drivers.modules import generic,from modules import generic,1,1
openstack%2Freno~master~I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5,openstack/reno,master,I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5,preserve the order of tags when reading the cache file,MERGED,2018-04-27 19:49:38.000000000,2018-04-28 07:15:01.000000000,2018-04-28 07:15:01.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 19:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/e45be54fa6deddf1b6a5c53b84af9cc34322e221', 'message': 'preserve the order of tags when reading the cache file\n\nUse an OrderedDict to preserve the order of tags when reading the\ncache file because the Loader assumes the scanner and cache manage the\norder of values. Without this change building the release notes with\nthe cache in place results in random ordering of the output.\n\nStory: #2001934\nTask: #14464\nChange-Id: I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-27 20:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/b6f40975c881626c9b205653176b891b0928a365', 'message': 'preserve the order of tags when reading the cache file\n\nUse an OrderedDict to preserve the order of tags when reading the\ncache file because the Loader assumes the scanner and cache manage the\norder of values. Without this change building the release notes with\nthe cache in place results in random ordering of the output.\n\nStory: #2001934\nTask: #14464\nChange-Id: I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-04-27 23:12:22.000000000', 'files': ['releasenotes/notes/cache-ordering-6c743f68e3f7107f.yaml', 'reno/loader.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/c18078355b0d0817d86762b0ee6f7f948b536f14', 'message': 'preserve the order of tags when reading the cache file\n\nUse an OrderedDict to preserve the order of tags when reading the\ncache file because the Loader assumes the scanner and cache manage the\norder of values. Without this change building the release notes with\nthe cache in place results in random ordering of the output.\n\nStory: #2001934\nTask: #14464\nChange-Id: I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564873,c18078355b0d0817d86762b0ee6f7f948b536f14,18,6,3,2472,,,0,"preserve the order of tags when reading the cache file

Use an OrderedDict to preserve the order of tags when reading the
cache file because the Loader assumes the scanner and cache manage the
order of values. Without this change building the release notes with
the cache in place results in random ordering of the output.

Story: #2001934
Task: #14464
Change-Id: I07d73e2e0c2f8bb2fd66f26fcbc088ef9a2a23a5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/reno refs/changes/73/564873/1 && git format-patch -1 --stdout FETCH_HEAD,['reno/loader.py'],1,e45be54fa6deddf1b6a5c53b84af9cc34322e221,story/2001934,import collections self._scanner_output = collections.OrderedDict( ), self._scanner_output = { },3,2
openstack%2Fproject-config~master~Id4840b0d0e6432e70b6af72a7d572bf11e694883,openstack/project-config,master,Id4840b0d0e6432e70b6af72a7d572bf11e694883,Normalize projects.yaml,MERGED,2018-04-28 06:14:17.000000000,2018-04-28 07:13:52.000000000,2018-04-28 07:13:52.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-28 06:14:17.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a23e1acf05362d9b6618228b4b99c5e26776fc6d', 'message': 'Normalize projects.yaml\n\nChange-Id: Id4840b0d0e6432e70b6af72a7d572bf11e694883\n'}]",0,564974,a23e1acf05362d9b6618228b4b99c5e26776fc6d,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Id4840b0d0e6432e70b6af72a7d572bf11e694883
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/564974/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,a23e1acf05362d9b6618228b4b99c5e26776fc6d,project-yaml-normalization, description: A tool that helps grabbing existing reviews on gerrit and layering on a new patch to fix nits, description: A tool that helps grabbing existing reviews on gerrit and layering on a new patch to fix nits upstream: https://github.com/dhellmann/git-nit.git upstream: https://github.com/emonty/shiny-octo-computing-machine,2,3
openstack%2Ftripleo-common~master~I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da,openstack/tripleo-common,master,I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da,Add workflow to generate fencing parameters,MERGED,2018-02-27 14:00:10.000000000,2018-04-28 06:52:08.000000000,2018-04-28 06:52:08.000000000,"[{'_account_id': 7065}, {'_account_id': 8449}, {'_account_id': 8532}, {'_account_id': 9414}, {'_account_id': 9712}, {'_account_id': 11391}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-27 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c0443ce9530d5e8c9d4f70a6455d58ab39e3fa65', 'message': 'Add workflow to generate fencing parameters\n\nCreate a workflow to supplant the need for a direct action call to\ngenerate fencing parameters.\n\nChange-Id: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}, {'number': 2, 'created': '2018-03-29 21:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3abf56f3b1ecb0836c7228848a9a3f6621a742d6', 'message': 'Add workflow to generate fencing parameters\n\nCreate a workflow to supplant the need for a direct action call to\ngenerate fencing parameters.\n\nChange-Id: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}, {'number': 3, 'created': '2018-04-24 13:03:19.000000000', 'files': ['releasenotes/notes/adds-generate-fencing-parameters-e2ea121247779db3.yaml', 'workbooks/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c7fb29c163d4db111becc086b9e9d09ae99d0f5', 'message': 'Add workflow to generate fencing parameters\n\nCreate a workflow to supplant the need for a direct action call to\ngenerate fencing parameters.\n\nChange-Id: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}]",6,548283,2c7fb29c163d4db111becc086b9e9d09ae99d0f5,25,8,3,7065,,,0,"Add workflow to generate fencing parameters

Create a workflow to supplant the need for a direct action call to
generate fencing parameters.

Change-Id: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da
Partial-Bug: #1640436
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/548283/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/adds-generate-fencing-parameters-e2ea121247779db3.yaml', 'workbooks/parameters.yaml']",2,c0443ce9530d5e8c9d4f70a6455d58ab39e3fa65,bug/1640436,"--- version: '2.0' name: tripleo.parameters.v1 description: TripleO Parameter-related Workflows workflows: generate_fencing_parameters: input: - nodes_json - os_auth - fence_action - delay - ipmi_level - ipmi_cipher - ipmi_lanplus - queue_name: tripleo tags: - tripleo-common-managed output: fencing_parameters: <% $.get('fencing_parameters', {}) %> tasks: generate_fencing_params: action: tripleo.parameters.generate_fencing input: nodes_json: <% $.nodes_json %> os_auth: <% $.os_auth %> fence_action: <% $.fence_action %> delay: <% $.delay %> ipmi_level: <% $.ipmi_level %> ipmi_cipher: <% $.ipmi_cipher %> ipmi_lanplus: <% $.ipmi_lanplus %> on-complete: notify_zaqar publish: fencing_parameters: <% task().result %> status: SUCCESS message: 'Fencing parameters successfully generated' publish-on-error: status: FAILED message: <% task().result %> notify_zaqar: action: zaqar.queue_post input: queue_name: <% $.queue_name %> messages: body: type: tripleo.parameters.v1.generate_fencing_parameters payload: status: <% $.status %> message: <% $.get('message', '') %> execution: <% execution() %> fencing_parameters: <% $.get('fencing_parameters', {}) on-success: - fail: <% $.get('status') = ""FAILED"" %> ",,62,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed,openstack/tripleo-upgrade,stable/queens,I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed,Lint directory instead of files and match exclude from oooq-extra.,MERGED,2018-04-23 11:18:48.000000000,2018-04-28 04:55:12.000000000,2018-04-28 04:55:12.000000000,"[{'_account_id': 8297}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-04-23 11:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4d11d97ab11f5bd5376516c173f1f2abcfef371c', 'message': 'Lint directory instead of files and match exclude from oooq-extra.\n\nLinting the directory leads to different result, with a lot more\nerrors caught.\n\nAs a corollary adjust the lint exclude list to match the oooq extra\nexclude list.\n\nChange-Id: I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed\nRelated-Bug: #1764454\n(cherry picked from commit 3693144631a4a29f252ec2e4a82ebc6ad3c2009f)\n'}, {'number': 2, 'created': '2018-04-26 07:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1c784624784c548e0701fe0d5fda25464ea900f1', 'message': 'Lint directory instead of files and match exclude from oooq-extra.\n\nLinting the directory leads to different result, with a lot more\nerrors caught.\n\nAs a corollary adjust the lint exclude list to match the oooq extra\nexclude list.\n\nChange-Id: I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed\nRelated-Bug: #1764454\n(cherry picked from commit 3693144631a4a29f252ec2e4a82ebc6ad3c2009f)\n'}, {'number': 3, 'created': '2018-04-26 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/052452631bc38d7aec55610f8053e804c151abbc', 'message': 'Lint directory instead of files and match exclude from oooq-extra.\n\nLinting the directory leads to different result, with a lot more\nerrors caught.\n\nAs a corollary adjust the lint exclude list to match the oooq extra\nexclude list.\n\nChange-Id: I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed\nRelated-Bug: #1764454\n(cherry picked from commit 3693144631a4a29f252ec2e4a82ebc6ad3c2009f)\n'}, {'number': 4, 'created': '2018-04-26 11:46:21.000000000', 'files': ['ci-scripts/ansible-lint.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/012c222182f8c3dcfebd6d24fe2e9c1942439405', 'message': 'Lint directory instead of files and match exclude from oooq-extra.\n\nLinting the directory leads to different result, with a lot more\nerrors caught.\n\nAs a corollary adjust the lint exclude list to match the oooq extra\nexclude list.\n\nChange-Id: I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed\nRelated-Bug: #1764454\n(cherry picked from commit 3693144631a4a29f252ec2e4a82ebc6ad3c2009f)\n'}]",1,563574,012c222182f8c3dcfebd6d24fe2e9c1942439405,22,6,4,8297,,,0,"Lint directory instead of files and match exclude from oooq-extra.

Linting the directory leads to different result, with a lot more
errors caught.

As a corollary adjust the lint exclude list to match the oooq extra
exclude list.

Change-Id: I4846fb4f4bda29d991e4e36de38dc10f02bcd4ed
Related-Bug: #1764454
(cherry picked from commit 3693144631a4a29f252ec2e4a82ebc6ad3c2009f)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/74/563574/1 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/ansible-lint.sh'],1,4d11d97ab11f5bd5376516c173f1f2abcfef371c,bug/1764454-stable/queens,"# ANSIBLE0007: Using command rather than an argument to e.g file # we have a lot of 'rm' command and we should use file module instead # ANSIBLE0010: Package installs should not use latest. # Sometimes we need to update some packages. # ANSIBLE0012: Commands should not change things if nothing needs doing # ANSIBLE0013: Use Shell only when shell functionality is requiredSKIPLIST=""ANSIBLE0006,ANSIBLE0007,ANSIBLE0010,ANSIBLE0012,ANSIBLE0013,ANSIBLE0016"" # Lin the role. ansible-lint -vvv -x $SKIPLIST ./ || lint_error=1","# ANSIBLE0012: Commands should not change things if nothing needs doing # this requires refactoring roles, skipping for now SKIPLIST=""ANSIBLE0006,ANSIBLE0016,ANSIBLE0012"" # lint the playbooks separately to avoid linting the roles multiple times for DIR in tasks playbooks; do if [ -d ""$DIR"" ]; then pushd $DIR for playbook in `find . -type f -regex '.*\.y[a]?ml'`; do ansible-lint -vvv -x $SKIPLIST $playbook || lint_error=1 done popd fi done # lint all the possible roles # Due to https://github.com/willthames/ansible-lint/issues/210, the roles # directories need to contain a trailing slash at the end of the path. if [ -d ./roles ]; then for rolesdir in `find ./roles -maxdepth 1 -type d`; do ansible-lint -vvv -x $SKIPLIST $rolesdir/ || lint_error=1 done fi",9,22
openstack%2Ftripleo-heat-templates~master~I60feb19bf65aef82cfa56822e8ef79f13f70913d,openstack/tripleo-heat-templates,master,I60feb19bf65aef82cfa56822e8ef79f13f70913d,Parameterizing Puppet Tags,MERGED,2018-03-29 05:30:28.000000000,2018-04-28 04:55:10.000000000,2018-04-28 04:55:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18343}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27069}]","[{'number': 1, 'created': '2018-03-29 05:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7816ca332dedf38be37452567cf54fade3929f87', 'message': 'Parameterizing Puppet Tags\n\nThis commit will also provide third party vendors an option\nto pass all the puppet tags that will configure the files needed\nto enable their plugin.\n\nChange-Id: I60feb19bf65aef82cfa56822e8ef79f13f70913d\n'}, {'number': 2, 'created': '2018-04-02 23:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05890417ce818ecea042ca7226ebf4609f61f57b', 'message': 'Parameterizing Puppet Tags\n\nThis commit will also provide third party vendors an option\nto pass all the puppet tags that will configure the files needed\nto enable their plugin.\n\nChange-Id: I60feb19bf65aef82cfa56822e8ef79f13f70913d\n'}, {'number': 3, 'created': '2018-04-11 15:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42dab3bcae85ed990a16216e88255c6816e59d3b', 'message': 'Parameterizing Puppet Tags\n\nThis commit will also provide third party vendors an option\nto pass all the puppet tags that will configure the files needed\nto enable their plugin.\n\nChange-Id: I60feb19bf65aef82cfa56822e8ef79f13f70913d\n'}, {'number': 4, 'created': '2018-04-24 01:37:48.000000000', 'files': ['docker/services/neutron-plugin-ml2.yaml', 'environments/neutron-nuage-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa3c8222f42728eb68647762e2735365ae39474b', 'message': 'Parameterizing Puppet Tags\n\nThis commit will also provide third party vendors an option\nto pass all the puppet tags that will configure the files needed\nto enable their plugin.\n\nChange-Id: I60feb19bf65aef82cfa56822e8ef79f13f70913d\n'}]",0,557598,fa3c8222f42728eb68647762e2735365ae39474b,50,8,4,27069,,,0,"Parameterizing Puppet Tags

This commit will also provide third party vendors an option
to pass all the puppet tags that will configure the files needed
to enable their plugin.

Change-Id: I60feb19bf65aef82cfa56822e8ef79f13f70913d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/557598/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-plugin-ml2.yaml'],1,7816ca332dedf38be37452567cf54fade3929f87,557598, NeutronPluginMl2PuppetTags: default: 'neutron_plugin_ml2' description: Puppet resource tag names that are used to generate config files with puppet type: string puppet_tags: {get_param: NeutronPluginMl2PuppetTags}, puppet_tags: neutron_plugin_ml2,5,1
openstack%2Ftripleo-quickstart-extras~master~Iaf47568d3106979942cffebe5b62a866035b8711,openstack/tripleo-quickstart-extras,master,Iaf47568d3106979942cffebe5b62a866035b8711,Add configurable cloud and update to nodepool role,MERGED,2018-04-22 07:45:23.000000000,2018-04-28 04:55:09.000000000,2018-04-28 04:55:08.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-22 07:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7899c9124661e4f520c55bb102dc7198106af522', 'message': ""Add configurable cloud and update to nodepool role\n\nFor reproducing jobs we use nodepool-setup role to mimic nodepool\nimage on bare CentOS. Let's make cloud configurable instead of\nhardcoding it to rdo-cloud. Also add configurable option to update\nVMs after deploy or not.\nUse list of packages for faster installation.\n\nChange-Id: Iaf47568d3106979942cffebe5b62a866035b8711\n""}, {'number': 2, 'created': '2018-04-26 08:22:21.000000000', 'files': ['roles/nodepool-setup/tasks/main.yml', 'roles/nodepool-setup/tasks/etc-nodepool.yml', 'roles/nodepool-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f535c3f590453766710a333c7841173d4bc1e233', 'message': ""Add configurable cloud and update to nodepool role\n\nFor reproducing jobs we use nodepool-setup role to mimic nodepool\nimage on bare CentOS. Let's make cloud configurable instead of\nhardcoding it to rdo-cloud. Also add configurable option to update\nVMs after deploy or not.\nUse list of packages for faster installation.\n\nChange-Id: Iaf47568d3106979942cffebe5b62a866035b8711\n""}]",0,563455,f535c3f590453766710a333c7841173d4bc1e233,33,10,2,10969,,,0,"Add configurable cloud and update to nodepool role

For reproducing jobs we use nodepool-setup role to mimic nodepool
image on bare CentOS. Let's make cloud configurable instead of
hardcoding it to rdo-cloud. Also add configurable option to update
VMs after deploy or not.
Use list of packages for faster installation.

Change-Id: Iaf47568d3106979942cffebe5b62a866035b8711
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/55/563455/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/nodepool-setup/tasks/main.yml', 'roles/nodepool-setup/tasks/etc-nodepool.yml', 'roles/nodepool-setup/defaults/main.yml']",3,7899c9124661e4f520c55bb102dc7198106af522,nodepoolrole,update_subnodes: true rdo_cloud_provider: true packages_list: - git - unbound - screen - vim - wget,,28,23
openstack%2Ftripleo-quickstart-extras~master~If0af2608d1d07eb3931ce480501d0fa789ca4248,openstack/tripleo-quickstart-extras,master,If0af2608d1d07eb3931ce480501d0fa789ca4248,Setup iptables in nodepool-setup,MERGED,2018-04-24 19:03:49.000000000,2018-04-28 04:55:08.000000000,2018-04-28 04:55:08.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 19:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/589245917db55b49c93ead146f759b371f07f302', 'message': 'Setup iptables in nodepool-setup\n\nThe keystone-only deployment does not complete on our reproducer\nenvironments setup using the nodepool-setup role. This is because\nthere is no default rule allowing the subnodes to communicate.\nWhen iptables i brought up during deploy, we lose all network\nconnectivity on the vxlan tunnel as a result.\n\nThis patch resolves this issue by adding rules to the iptables\nconfiguration which allow all traffic on the nodes private IPs.\nThe iptables setup during the deploy does not overwrite these rules,\nso this allows the keystone-only deployment to succeed in our\nreproducer environments.\n\nChange-Id: If0af2608d1d07eb3931ce480501d0fa789ca4248\n'}, {'number': 2, 'created': '2018-04-26 08:22:21.000000000', 'files': ['roles/nodepool-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/da6810a2d9479f98c9d679b99c1b92150a8b2d05', 'message': 'Setup iptables in nodepool-setup\n\nThe keystone-only deployment does not complete on our reproducer\nenvironments setup using the nodepool-setup role. This is because\nthere is no default rule allowing the subnodes to communicate.\nWhen iptables i brought up during deploy, we lose all network\nconnectivity on the vxlan tunnel as a result.\n\nThis patch resolves this issue by adding rules to the iptables\nconfiguration which allow all traffic on the nodes private IPs.\nThe iptables setup during the deploy does not overwrite these rules,\nso this allows the keystone-only deployment to succeed in our\nreproducer environments.\n\nChange-Id: If0af2608d1d07eb3931ce480501d0fa789ca4248\n'}]",0,564050,da6810a2d9479f98c9d679b99c1b92150a8b2d05,34,9,2,12715,,,0,"Setup iptables in nodepool-setup

The keystone-only deployment does not complete on our reproducer
environments setup using the nodepool-setup role. This is because
there is no default rule allowing the subnodes to communicate.
When iptables i brought up during deploy, we lose all network
connectivity on the vxlan tunnel as a result.

This patch resolves this issue by adding rules to the iptables
configuration which allow all traffic on the nodes private IPs.
The iptables setup during the deploy does not overwrite these rules,
so this allows the keystone-only deployment to succeed in our
reproducer environments.

Change-Id: If0af2608d1d07eb3931ce480501d0fa789ca4248
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/564050/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/nodepool-setup/tasks/main.yml'],1,589245917db55b49c93ead146f759b371f07f302,nodepoolrole," - iptables-services- name: start unbound service- name: start iptables service service: name: iptables state: started enabled: true become: true - name: Add iptables rules for subnodes iptables: chain: INPUT source: ""{{ hostvars[item].subnode_private_ip }}"" jump: ACCEPT action: insert with_inventory_hostnames: - subnodes become: true - name: Save the iptables rules shell: iptables-save > /etc/sysconfig/iptables become: true ",- name: start services,24,1
openstack%2Foctavia~master~Ida424233a3a7fbb372a837ba3f484abd089d38aa,openstack/octavia,master,Ida424233a3a7fbb372a837ba3f484abd089d38aa,Remove PluggedVIPNotFound references,MERGED,2018-04-26 20:16:16.000000000,2018-04-28 04:28:14.000000000,2018-04-28 04:28:14.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 20:16:16.000000000', 'files': ['specs/version0.5/network-driver-interface.rst', 'octavia/network/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b4632d7fe9595f8f65d84ef5d6d9f40fa9261d5e', 'message': 'Remove PluggedVIPNotFound references\n\nThe PluggedVIPNotFound exception is no longer being raised anywhere\nso we can drop any references to it.\n\nChange-Id: Ida424233a3a7fbb372a837ba3f484abd089d38aa\n'}]",0,564616,b4632d7fe9595f8f65d84ef5d6d9f40fa9261d5e,7,3,1,1004,,,0,"Remove PluggedVIPNotFound references

The PluggedVIPNotFound exception is no longer being raised anywhere
so we can drop any references to it.

Change-Id: Ida424233a3a7fbb372a837ba3f484abd089d38aa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/564616/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/version0.5/network-driver-interface.rst', 'octavia/network/base.py']",2,b4632d7fe9595f8f65d84ef5d6d9f40fa9261d5e,remove-unused-exception,,class VIPConfigurationNotFound(NetworkException): pass ,1,6
openstack%2Ftripleo-upgrade~stable%2Fqueens~I8dc672d3b909afc781c3f62a77c16aa1445bec40,openstack/tripleo-upgrade,stable/queens,I8dc672d3b909afc781c3f62a77c16aa1445bec40,Adjust roles-data file for P->Q upgrade.,MERGED,2018-04-12 08:59:12.000000000,2018-04-28 03:47:58.000000000,2018-04-17 17:33:52.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-04-12 08:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/16efd62af3f5111742743cabf0c98a3f7473e589', 'message': 'Adjust roles-data file for P->Q upgrade.\n\nAs described in rhbz-1540546 and rhbz-1541382 services available\n during P deployment got renamed/removed in Q.\nThis change modifies custom roles-data file wrt aforementioned\n changes.\n\nPartial-Bug: 1708680\nPartial-Bug: 1746493\n\nChange-Id: I8dc672d3b909afc781c3f62a77c16aa1445bec40\n'}, {'number': 2, 'created': '2018-04-13 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9bdfcc73622a62afb0e2215e024fc1ff054cbb80', 'message': 'Adjust roles-data file for P->Q upgrade.\n\nAs described in rhbz-1540546 and rhbz-1541382 services available\n during P deployment got renamed/removed in Q.\nThis change modifies custom roles-data file wrt aforementioned\n changes.\n\nPartial-Bug: 1708680\nPartial-Bug: 1746493\n\nDepends-On: I9b488d84fa6e86ed9ce03c7b5fda5d42f713724d\nChange-Id: I8dc672d3b909afc781c3f62a77c16aa1445bec40\n'}, {'number': 3, 'created': '2018-04-16 07:21:25.000000000', 'files': ['tasks/common/auxilary-facts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/upgrade/adjust-roles-data.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/67aa778890f5f3e203f9278f5bf71172c2931ca0', 'message': 'Adjust roles-data file for P->Q upgrade.\n\nAs described in rhbz-1540546 and rhbz-1541382 services available\n during P deployment got renamed/removed in Q.\nThis change modifies custom roles-data file wrt aforementioned\n changes.\n\nPartial-Bug: 1708680\nPartial-Bug: 1746493\n\nDepends-On: I9b488d84fa6e86ed9ce03c7b5fda5d42f713724d\nChange-Id: I8dc672d3b909afc781c3f62a77c16aa1445bec40\n'}]",6,560835,67aa778890f5f3e203f9278f5bf71172c2931ca0,26,8,3,21537,,,0,"Adjust roles-data file for P->Q upgrade.

As described in rhbz-1540546 and rhbz-1541382 services available
 during P deployment got renamed/removed in Q.
This change modifies custom roles-data file wrt aforementioned
 changes.

Partial-Bug: 1708680
Partial-Bug: 1746493

Depends-On: I9b488d84fa6e86ed9ce03c7b5fda5d42f713724d
Change-Id: I8dc672d3b909afc781c3f62a77c16aa1445bec40
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/35/560835/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/upgrade/adjust-roles-data.yaml']",2,16efd62af3f5111742743cabf0c98a3f7473e589,bug/1708680,"--- - name: rename FluentdClient to Fluentd # https://bugzilla.redhat.com/show_bug.cgi?id=1540546 replace: path: ""{{ roles_data }}"" regexp: '(\s+)- OS::TripleO::Services::FluentdClient$' replace: '\1- OS::TripleO::Services::Fluentd' - name: remove ManilaBackendGeneric resource # https://bugzilla.redhat.com/show_bug.cgi?id=1541382 replace: path: ""{{ roles_data }}"" regexp: '(\s+)- OS::TripleO::Services::ManilaBackendGeneric$' replace: '' ",,17,0
openstack%2Fsenlin~master~I7e762ee55d77459ad99186bde0916068ea657029,openstack/senlin,master,I7e762ee55d77459ad99186bde0916068ea657029,separate '_delete_nodes' to different functionalities,MERGED,2018-04-23 17:54:36.000000000,2018-04-28 03:07:02.000000000,2018-04-28 03:07:02.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23401}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-04-23 17:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2b8c813dfb289c5fce25556381d87cbc660e42f0', 'message': ""separate '_delete_nodes' to different functionalities\n\nseparate the '_delete_nodes' functionality so that will be\neasier to manage and improve it later.\n\nChange-Id: I7e762ee55d77459ad99186bde0916068ea657029\n""}, {'number': 2, 'created': '2018-04-24 14:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a32abe25630b947303c36202013b58bf799863c5', 'message': ""separate '_delete_nodes' to different functionalities\n\nseparate the '_delete_nodes' functionality so that will be\neasier to manage and improve it later.\n\nChange-Id: I7e762ee55d77459ad99186bde0916068ea657029\n""}, {'number': 3, 'created': '2018-04-25 18:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8b4ddefe501884858234efc646ae072c1c673c4e', 'message': ""separate '_delete_nodes' to different functionalities\n\nseparate the '_delete_nodes' functionality so that will be\neasier to manage and improve it later.\n\nChange-Id: I7e762ee55d77459ad99186bde0916068ea657029\n""}, {'number': 4, 'created': '2018-04-25 18:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c585ca2f81a6ed8c69a7dbcd9c711e0b4b47f5f5', 'message': ""separate '_delete_nodes' to different functionalities\n\nseparate the '_delete_nodes' functionality so that will be\neasier to manage and improve it later.\n\nChange-Id: I7e762ee55d77459ad99186bde0916068ea657029\n""}, {'number': 5, 'created': '2018-04-25 18:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/943ac8f072fac9fecea6952a2defb46abea847d0', 'message': ""separate '_delete_nodes' to different functionalities\n\nseparate the '_delete_nodes' functionality so that will be\neasier to manage and improve it later.\n\nChange-Id: I7e762ee55d77459ad99186bde0916068ea657029\n""}, {'number': 6, 'created': '2018-04-27 16:09:20.000000000', 'files': ['senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_delete.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b1b5460925bb0ce47f9368d916fd1c27636644f7', 'message': ""separate '_delete_nodes' to different functionalities\n\nseparate the '_delete_nodes' functionality so that will be\neasier to manage and improve it later.\n\nChange-Id: I7e762ee55d77459ad99186bde0916068ea657029\n""}]",2,563723,b1b5460925bb0ce47f9368d916fd1c27636644f7,29,5,6,23401,,,0,"separate '_delete_nodes' to different functionalities

separate the '_delete_nodes' functionality so that will be
easier to manage and improve it later.

Change-Id: I7e762ee55d77459ad99186bde0916068ea657029
",git fetch https://review.opendev.org/openstack/senlin refs/changes/23/563723/5 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_delete.py']",2,2b8c813dfb289c5fce25556381d87cbc660e42f0,separate-delete-nodes," self.assertEqual(""Failed in deleting nodes:Lifecycle hook type "" ""'unknown_type' is not implemented"", res_msg) self.assertEqual(""Failed in deleting nodes:Lifecycle hook type "" ""'webhook' is not implemented"", res_msg) self.assertEqual('Failed in deleting nodes:Timeout!', res_msg) @mock.patch.object(ao.Action, 'update') @mock.patch.object(ab.Action, 'create') @mock.patch.object(dobj.Dependency, 'create') @mock.patch.object(dispatcher, 'start_action') @mock.patch.object(ca.ClusterAction, '_wait_for_dependents') def test__delete_nodes_normally(self, mock_wait, mock_start, mock_dep, mock_action, mock_update, mock_load): # prepare mocks cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) mock_load.return_value = cluster # cluster action is real action = ca.ClusterAction(cluster.id, 'CLUSTER_ACTION', self.ctx) action.id = 'CLUSTER_ACTION_ID' action.inputs = {'destroy_after_deletion': False} mock_wait.return_value = (action.RES_OK, 'All dependents completed') mock_action.side_effect = ['NODE_ACTION_1', 'NODE_ACTION_2'] # do it res_code, res_msg = action._delete_nodes_normally('NODE_REMOVE', ['NODE_1', 'NODE_2']) # assertions self.assertEqual(action.RES_OK, res_code) self.assertEqual('All dependents completed', res_msg) self.assertEqual(2, mock_action.call_count) update_calls = [ mock.call(action.context, 'NODE_ACTION_1', {'status': 'READY'}), mock.call(action.context, 'NODE_ACTION_2', {'status': 'READY'}) ] mock_update.assert_has_calls(update_calls) self.assertEqual(1, mock_dep.call_count) mock_start.assert_called_once_with() mock_wait.assert_called_once_with() @mock.patch.object(ao.Action, 'update') @mock.patch.object(ab.Action, 'create') @mock.patch.object(no.Node, 'get') @mock.patch.object(dobj.Dependency, 'create') @mock.patch.object(msg.Message, 'post_lifecycle_hook_message') @mock.patch.object(dispatcher, 'start_action') @mock.patch.object(ca.ClusterAction, '_wait_for_dependents') def test__delete_nodes_with_hook(self, mock_wait, mock_start, mock_post, mock_dep, mock_node_get, mock_action, mock_update, mock_load): # prepare mocks cluster = mock.Mock(id='CLUSTER_ID', desired_capacity=100) mock_load.return_value = cluster # cluster action is real action = ca.ClusterAction(cluster.id, 'CLUSTER_DELETE', self.ctx) action.id = 'CLUSTER_ACTION_ID' action.data = { 'hooks': { 'timeout': 10, 'type': 'zaqar', 'params': { 'queue': 'myqueue' } } } mock_wait.return_value = (action.RES_OK, 'All dependents completed') mock_action.return_value = 'NODE_ACTION_ID' mock_node_get.return_value = mock.Mock(status=consts.NS_ACTIVE) # do it res_code, res_msg = action._delete_nodes_with_hook( 'NODE_DELETE', ['NODE_ID'], action.data['hooks']) # assertions (other assertions are skipped) self.assertEqual(action.RES_OK, res_code) self.assertEqual('All dependents completed', res_msg) self.assertEqual(1, mock_dep.call_count) mock_action.assert_called_once_with( action.context, 'NODE_ID', 'NODE_DELETE', name='node_delete_NODE_ID', cause='Derived Action with ' 'Lifecycle Hook') update_calls = [ mock.call(action.context, 'NODE_ACTION_ID', {'status': 'WAITING_LIFECYCLE_COMPLETION'}), ] mock_update.assert_has_calls(update_calls) mock_post.assert_called_once_with('NODE_ACTION_ID', 'NODE_ID', consts.LIFECYCLE_NODE_TERMINATION) mock_start.assert_called_once_with() mock_wait.assert_called_once_with(action.data['hooks']['timeout']) "," self.assertEqual( ""Lifecycle hook type 'unknown_type' is not implemented"", res_msg) self.assertEqual( ""Lifecycle hook type \'webhook\' is not implemented"", res_msg) self.assertEqual('Failed in deleting nodes.', res_msg)",169,65
openstack%2Fzun~master~I2d6da4739e409f99db33395f0bb5c15bf78f87d9,openstack/zun,master,I2d6da4739e409f99db33395f0bb5c15bf78f87d9,Handle exception when rebuild container without port,MERGED,2018-04-09 12:35:10.000000000,2018-04-28 03:04:04.000000000,2018-04-28 03:04:04.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 23829}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-04-09 12:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c8eb44dd749c7ad8a5bc8cddcaf3e09f6f7b0d5a', 'message': ""Set error when rebuild container without port\n\nWhen rebuild a container, if we can't get the container's port,\nthe container's status is always Rebuilding.\n\nChange-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9\n""}, {'number': 2, 'created': '2018-04-14 06:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c95e5203597cb002aff7b58eef170d21c76bbffa', 'message': ""Handle exception when rebuild container without port\n\nWhen rebuild a container, if we can't get the container's port,\nthe container's status is always Rebuilding.\n\nCloses-bug: #1763625\n\nChange-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9\n""}, {'number': 3, 'created': '2018-04-17 02:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e17c94c8f254253e1383bad1afee65b08c5c8a28', 'message': ""Handle exception when rebuild container without port\n\nWhen rebuild a container, if we can't get the container's port,\nthe container's status is always Rebuilding.\n\nCloses-bug: #1763625\n\nChange-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9\n""}, {'number': 4, 'created': '2018-04-18 01:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7c4f67a7c5f8454afab038c58410cd8534454c5e', 'message': ""Handle exception when rebuild container without port\n\nWhen rebuild a container, if we can't get the container's port,\nthe container's status is always Rebuilding.\n\nCloses-bug: #1763625\n\nChange-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9\n""}, {'number': 5, 'created': '2018-04-27 01:22:09.000000000', 'files': ['zun/tests/unit/compute/test_compute_manager.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/9e3b97ff7ecdc65ea4efd31c39742f1c60690023', 'message': ""Handle exception when rebuild container without port\n\nWhen rebuild a container, if we can't get the container's port,\nthe container's status is always Rebuilding.\n\nCloses-bug: #1763625\n\nChange-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9\n""}]",14,559720,9e3b97ff7ecdc65ea4efd31c39742f1c60690023,33,9,5,23829,,,0,"Handle exception when rebuild container without port

When rebuild a container, if we can't get the container's port,
the container's status is always Rebuilding.

Closes-bug: #1763625

Change-Id: I2d6da4739e409f99db33395f0bb5c15bf78f87d9
",git fetch https://review.opendev.org/openstack/zun refs/changes/20/559720/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,c8eb44dd749c7ad8a5bc8cddcaf3e09f6f7b0d5a,bug/1763625," try: network_info = self._get_network_info(context, container) vol_info = self._get_vol_info(context, container) except Exception as e: with excutils.save_and_reraise_exception(reraise=True): LOG.error(""Rebuild container:%s failed, "" ""reason of failure is:%s"", container.uuid, six.text_type(e)) self._fail_container(context, container, six.text_type(e))"," network_info = self._get_network_info(context, container) vol_info = self._get_vol_info(context, container)",10,2
openstack%2Fmasakari~master~I7c7046e9e52a2c7af0400986e705ac842b4efc89,openstack/masakari,master,I7c7046e9e52a2c7af0400986e705ac842b4efc89,Changed default value of 'wait_period_after_power_off',MERGED,2018-02-26 17:16:43.000000000,2018-04-28 02:42:33.000000000,2018-04-28 02:42:33.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 3085}, {'_account_id': 8556}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 9303}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 23226}, {'_account_id': 23317}, {'_account_id': 25267}, {'_account_id': 26991}]","[{'number': 1, 'created': '2018-02-26 17:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3260bf33df9f700f58cec32008c9f2411e1f7948', 'message': 'In instance recovery task, periodic call, loopingcall.FixedIntervalLoopingCall, is used to confirm instance is stopped during recovery.\n\nIn a constrained VM or stressed situation, VM could frequently take longer than 60 seconds to be stopped.\n\nIncreased the default value to 3 minutes, same as wait_period_after_service_update or duplicate_notification_detection_interval.\n\nChange-Id: I7c7046e9e52a2c7af0400986e705ac842b4efc89\nCloses-Bug: #1751832\n'}, {'number': 2, 'created': '2018-02-26 20:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/957f613690289a932a08d5ac60b88fe97b7eaf08', 'message': 'In instance recovery task, periodic call,\nloopingcall.FixedIntervalLoopingCall, is used to confirm instance\nis stopped during recovery.\n\nIn a constrained VM or stressed situation, VM could frequently take\nlonger than 60 seconds to be stopped.\n\nIncreased the default value to 3 minutes, same as\nwait_period_after_service_update or\nduplicate_notification_detection_interval.\n\nChange-Id: I7c7046e9e52a2c7af0400986e705ac842b4efc89\nCloses-Bug: #1751832\n'}, {'number': 3, 'created': '2018-03-08 15:36:52.000000000', 'files': ['masakari/conf/engine.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/02bf0d3ed792c27b60b9a559366fba95547bf6da', 'message': ""Changed default value of 'wait_period_after_power_off'\n\nIn instance recovery task, periodic call,\nloopingcall.FixedIntervalLoopingCall, is used to confirm instance\nis stopped during recovery.\n\nIn a constrained VM or stressed situation, VM could frequently take\nlonger than 60 seconds to be stopped.\n\nIncreased the default value to 3 minutes, same as\nwait_period_after_service_update or\nduplicate_notification_detection_interval.\n\nChange-Id: I7c7046e9e52a2c7af0400986e705ac842b4efc89\nCloses-Bug: #1751832\n""}]",3,548072,02bf0d3ed792c27b60b9a559366fba95547bf6da,20,13,3,26991,,,0,"Changed default value of 'wait_period_after_power_off'

In instance recovery task, periodic call,
loopingcall.FixedIntervalLoopingCall, is used to confirm instance
is stopped during recovery.

In a constrained VM or stressed situation, VM could frequently take
longer than 60 seconds to be stopped.

Increased the default value to 3 minutes, same as
wait_period_after_service_update or
duplicate_notification_detection_interval.

Change-Id: I7c7046e9e52a2c7af0400986e705ac842b4efc89
Closes-Bug: #1751832
",git fetch https://review.opendev.org/openstack/masakari refs/changes/72/548072/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/conf/engine.py'],1,3260bf33df9f700f58cec32008c9f2411e1f7948,bug/1751832," default=180,"," default=60,",1,1
openstack%2Fmasakari~master~I961933cd15faf000437a434e08de2a10b2875eec,openstack/masakari,master,I961933cd15faf000437a434e08de2a10b2875eec,Fix stable branch releasenotes,MERGED,2018-04-17 03:56:19.000000000,2018-04-28 02:42:32.000000000,2018-04-28 02:42:32.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26991}, {'_account_id': 28032}]","[{'number': 1, 'created': '2018-04-17 03:56:19.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b173adca1bea76a8d6515dd80f9038786956a2d4', 'message': 'Fix stable branch releasenotes\n\nThis patch fixes stable branch releasenotes by adding respective source\nfiles.\n\nChange-Id: I961933cd15faf000437a434e08de2a10b2875eec\nCloses-Bug: #1762962\n'}]",0,561779,b173adca1bea76a8d6515dd80f9038786956a2d4,10,7,1,20191,,,0,"Fix stable branch releasenotes

This patch fixes stable branch releasenotes by adding respective source
files.

Change-Id: I961933cd15faf000437a434e08de2a10b2875eec
Closes-Bug: #1762962
",git fetch https://review.opendev.org/openstack/masakari refs/changes/79/561779/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",4,b173adca1bea76a8d6515dd80f9038786956a2d4,bug/1762962,Welcome to Masakari Release Notes documentation! ================================================ Contents ======== queens pike ocata ,============================================ masakari Release Notes ============================================,30,3
openstack%2Fneutron-lib~master~Id5aea04553b78dd17fca85de88cf076b42d24140,openstack/neutron-lib,master,Id5aea04553b78dd17fca85de88cf076b42d24140,'sfc' and 'flowclassifier' API extension definitions (networking-sfc),MERGED,2016-12-15 16:44:47.000000000,2018-04-28 02:12:48.000000000,2018-04-28 02:12:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7715}, {'_account_id': 7776}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-12-15 16:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7c58dcd81485618d5c1fea6e65c8fbac2977e433', 'message': ""WIP: Add API definition for networking-sfc subproject\n\nThis commit is currently an exact copy of\nhttps://review.openstack.org/#/c/389385/6/neutron_lib/api/definitions/sfc.py\nwith none of the comments addressed. I'm splitting it out as a separate\ncommit from the API reference documentation and will address the\ncomments in a subsequent patch set.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 2, 'created': '2017-03-23 20:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8e1c2e0d9a9bac6d8a3ccb1766868a683e19c57f', 'message': 'WIP: Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 3, 'created': '2017-03-27 20:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e2c5eeac8a26e2a4fb3531c8e2910b1efe9bfba3', 'message': 'WIP: Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 4, 'created': '2017-03-30 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/caa99378b934e91ed3539dcf403599a255dc0e72', 'message': 'WIP: Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 5, 'created': '2017-04-13 14:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7f9ac94e1e33ced32d4530a06143b9b27b007ee7', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 6, 'created': '2017-04-27 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/46b65df53c2d531d188fd1b054e497ede2ae4a73', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 7, 'created': '2017-04-27 12:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/86663072a99234e8b14e83cc5f614544cd88796c', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 8, 'created': '2017-06-08 17:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b1a957a1014f03e378f0baf867e1132bb73c7f57', 'message': ""[WIP] Add API definition for networking-sfc subproject\n\nTHIS DOESN'T WORK AT ALL YET. IT IMPORTS FROM BOTH networking-sfc AND\nneutron. I NEED TO DISENTANGLE THE IMPORTS BEFORE THIS CAN POSSIBLY WORK.\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 9, 'created': '2017-07-13 16:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/037bf77b283e565638917a4b893e393de132ef0f', 'message': '[WIP] Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 10, 'created': '2017-08-03 18:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8358e5bac7e9d389c6a879f8a0d710c463d8149d', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 11, 'created': '2018-02-27 14:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b57fb5d2caa2b80b84cafe49db1e7caca060f2c3', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 12, 'created': '2018-03-01 09:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/792f91f122184d04a53e58814dbc5bfce6be4be6', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 13, 'created': '2018-03-01 11:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0d3566af7da057e17ee8d34ec7e17347e5de2c2d', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 14, 'created': '2018-03-16 13:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/26b0b697fe25cf66308ead95dfe20f957b1f0c1d', 'message': 'Add API definition for networking-sfc subproject\n\nAdds API definition for networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n'}, {'number': 15, 'created': '2018-03-22 13:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/834ebf41cf5ec0f445ee696928e73626258c6383', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 16, 'created': '2018-03-22 21:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/80d89528ba514a4e143d57d585ad816a6a974687', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 17, 'created': '2018-03-27 16:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b516cbd12601ca25410931482d6691388dd51888', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 18, 'created': '2018-03-28 07:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ce72fa80540d8444523c1f73b9547590750e5daa', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 19, 'created': '2018-03-28 07:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/28c047c3f9d346c8e89f488a9ed889241c4202c3', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 20, 'created': '2018-03-28 12:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e58a4e9a28bea633eaa730ff4417f1696af22e0b', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 21, 'created': '2018-03-29 10:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e9a1e54a6c560256a6179b8a7e0b09f6657483e8', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 22, 'created': '2018-03-29 11:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a67761b7ad8a7bd37e2fa7fe3a35a86c11e537e0', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 23, 'created': '2018-03-29 12:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e03694ae45608fad9b732f5ad8ddf8f2ccdca190', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 24, 'created': '2018-03-29 14:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/02bf64ab739f9bfe36ceb108ce05d0f7832392ad', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 25, 'created': '2018-03-30 08:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a8140fe8b96c48c4f891bbdc24bcce0240e1f570', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 26, 'created': '2018-03-30 14:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/942cd8a54b03dd123c7ef662e24d1d689d520e94', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 27, 'created': '2018-04-05 20:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/df780871710b4c2e272b0e2f8998919532d00db0', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 28, 'created': '2018-04-13 08:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ae1d7d44c632eb31ae4f297a290ceb1c477e0852', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 29, 'created': '2018-04-13 09:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7df2e3ae768d06fcf83a986b65ccdbec6ba078cb', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 30, 'created': '2018-04-17 15:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d55bf637f3605af6bebb9e0ac229c2fbc925a36c', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 31, 'created': '2018-04-24 07:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/db6771e1c30c21f3a15e762ffbe01a7cb757783c', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}, {'number': 32, 'created': '2018-04-27 09:00:26.000000000', 'files': ['neutron_lib/tests/unit/api/validators/test_validators.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_sfc.py', 'neutron_lib/api/definitions/sfc.py', 'neutron_lib/tests/unit/api/definitions/test_flowclassifier.py', 'neutron_lib/api/validators/__init__.py', 'neutron_lib/api/definitions/flowclassifier.py', 'neutron_lib/constants.py', 'neutron_lib/api/converters.py', 'releasenotes/notes/sfc-api-def-4f46632eadfe895a.yaml', 'neutron_lib/tests/unit/api/test_conversions.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a508fa127c070b25070535e8c26a18f14165f611', 'message': ""'sfc' and 'flowclassifier' API extension definitions (networking-sfc)\n\nAdds the API definitions for the 'sfc' and 'flow_classifier' API\nextensions from networking-sfc.\n\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nNeeded-By: I4958fb7b47050a76618183ab4f938622d95c8a0c\nChange-Id: Id5aea04553b78dd17fca85de88cf076b42d24140\n""}]",107,411409,a508fa127c070b25070535e8c26a18f14165f611,136,14,32,7776,,,0,"'sfc' and 'flowclassifier' API extension definitions (networking-sfc)

Adds the API definitions for the 'sfc' and 'flow_classifier' API
extensions from networking-sfc.

Co-Authored-By: Thomas Morin <thomas.morin@orange.com>

Needed-By: I4958fb7b47050a76618183ab4f938622d95c8a0c
Change-Id: Id5aea04553b78dd17fca85de88cf076b42d24140
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/09/411409/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/sfc.py'],1,7c58dcd81485618d5c1fea6e65c8fbac2977e433,neutron-lib-sfc-api,"# All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import converters as lib_converters from neutron_lib.api import validators as lib_validators from neutron_lib.db import constants as db_const from neutron_lib import exceptions as neutron_exc # The alias of the extension. ALIAS = 'sfc' # Whether or not this extension is simply signaling behavior to the user # or it actively modifies the attribute map. IS_SHIM_EXTENSION = False # Whether the extension is marking the adoption of standardattr model for # legacy resources, or introducing new standardattr attributes. False or # None if the standardattr model is adopted since the introduction of # resource extension. # If this is True, the alias for the extension should be prefixed with # 'standard-attr-'. IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'Service Function Chaining' # The description of the extension. DESCRIPTION = ""Provides support for service function chaining"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2015-10-05T10:00:00-00:00"" # The specific resources and/or attributes for the extension (optional). SFC = 'SFC' PORT_PAIRS = 'port_pairs' PORT_PAIR_GROUPS = 'port_pair_groups' PORT_CHAINS = 'port_chains' MAX_CHAIN_ID = 65535 DEFAULT_CHAIN_PARAMETERS = {'correlation': 'mpls', 'symmetric': False} DEFAULT_SF_PARAMETERS = {'correlation': None, 'weight': 1} DEFAULT_PPG_PARAMETERS = {'lb_fields': []} SUPPORTED_LB_FIELDS = [ ""eth_src"", ""eth_dst"", ""ip_src"", ""ip_dst"", ""tcp_src"", ""tcp_dst"", ""udp_src"", ""udp_dst"" ] def validate_list_of_allowed_values(data, allowed_values=None): if not isinstance(data, list): msg = _(""'%s' is not a list"") % data return msg illegal_values = set(data) - set(allowed_values) if illegal_values: msg = _(""Illegal values in a list: %s"") % ', '.join(illegal_values) return msg lib_validators.validators['type:list_of_allowed_values'] = \ validate_list_of_allowed_values # Port Chain Exceptions class PortChainNotFound(neutron_exc.NotFound): message = _(""Port Chain %(id)s not found."") class PortChainUnavailableChainId(neutron_exc.InvalidInput): message = _(""Port Chain %(id)s no available chain id."") class PortChainFlowClassifierInConflict(neutron_exc.InvalidInput): message = _(""Flow Classifier %(fc_id)s conflicts with "" ""Flow Classifier %(pc_fc_id)s in port chain %(pc_id)s."") class PortChainChainIdInConflict(neutron_exc.InvalidInput): message = _(""Chain id %(chain_id)s conflicts with "" ""Chain id in port chain %(pc_id)s."") # Port Pair Group Exceptions class PortPairGroupNotSpecified(neutron_exc.InvalidInput): message = _(""Port Pair Group is not specified in Port Chain."") class InvalidPortPairGroups(neutron_exc.InUse): message = _(""Port Pair Group(s) %(port_pair_groups)s in use by "" ""Port Chain %(port_chain)s."") class PortPairGroupNotFound(neutron_exc.NotFound): message = _(""Port Pair Group %(id)s not found."") class PortPairGroupInUse(neutron_exc.InUse): message = _(""Port Pair Group %(id)s in use."") # Port Pair Exceptions class PortPairPortNotFound(neutron_exc.NotFound): message = _(""Port Pair port %(id)s not found."") class PortPairIngressEgressDifferentHost(neutron_exc.InvalidInput): message = _(""Port Pair ingress port %(ingress)s and"" ""egress port %(egress)s not in the same host."") class PortPairIngressNoHost(neutron_exc.InvalidInput): message = _(""Port Pair ingress port %(ingress)s does not "" ""belong to a host."") class PortPairEgressNoHost(neutron_exc.InvalidInput): message = _(""Port Pair egress port %(egress)s does not "" ""belong to a host."") class PortPairIngressEgressInUse(neutron_exc.InvalidInput): message = _(""Port Pair with ingress port %(ingress)s "" ""and egress port %(egress)s is already used by "" ""another Port Pair %(id)s."") class PortPairNotFound(neutron_exc.NotFound): message = _(""Port Pair %(id)s not found."") class PortPairInUse(neutron_exc.InUse): message = _(""Port Pair %(id)s in use."") def normalize_port_pair_groups(port_pair_groups): port_pair_groups = lib_converters.convert_to_list(port_pair_groups) if not port_pair_groups: raise PortPairGroupNotSpecified() return port_pair_groups def normalize_chain_parameters(parameters): return parameters if parameters else DEFAULT_CHAIN_PARAMETERS def normalize_sf_parameters(parameters): return parameters if parameters else DEFAULT_SF_PARAMETERS def normalize_ppg_parameters(parameters): return parameters if parameters else DEFAULT_PPG_PARAMETERS # The resource attribute map for the extension. RESOURCE_ATTRIBUTE_MAP = { 'port_pairs': { 'id': { 'allow_post': False, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None}, 'primary_key': True }, 'name': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, }, 'description': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': db_const.DESCRIPTION_FIELD_SIZE}, }, 'tenant_id': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True }, 'ingress': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None} }, 'egress': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None} }, 'service_function_parameters': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': { 'type:dict': { 'correlation': { 'default': DEFAULT_SF_PARAMETERS['correlation'], 'type:values': [None] }, 'weight': { 'default': DEFAULT_SF_PARAMETERS['weight'], 'type:non_negative': None, 'convert_to': lib_converters.convert_to_int } } }, 'convert_to': normalize_sf_parameters } }, 'port_chains': { 'id': { 'allow_post': False, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None}, 'primary_key': True }, 'chain_id': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': 0, 'validate': {'type:range': (0, MAX_CHAIN_ID)}, 'convert_to': lib_converters.convert_to_int }, 'name': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, }, 'description': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': db_const.DESCRIPTION_FIELD_SIZE}, }, 'tenant_id': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True }, 'port_pair_groups': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'validate': {'type:uuid_list': None}, 'convert_to': normalize_port_pair_groups }, 'flow_classifiers': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:uuid_list': None}, 'convert_to': lib_converters.convert_to_list }, 'chain_parameters': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': { 'type:dict': { 'correlation': { 'default': DEFAULT_CHAIN_PARAMETERS['correlation'], 'type:values': ['mpls'] }, 'symmetric': { 'default': DEFAULT_CHAIN_PARAMETERS['symmetric'], 'convert_to': lib_converters.convert_to_boolean } } }, 'convert_to': normalize_chain_parameters } }, 'port_pair_groups': { 'id': { 'allow_post': False, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None}, 'primary_key': True}, 'group_id': { 'allow_post': False, 'allow_put': False, 'is_visible': True }, 'name': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, }, 'description': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': db_const.DESCRIPTION_FIELD_SIZE}, }, 'tenant_id': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True }, 'port_pairs': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:uuid_list': None}, 'convert_to': lib_converters.convert_none_to_empty_list }, 'port_pair_group_parameters': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': { 'type:dict': { 'lb_fields': { 'default': DEFAULT_PPG_PARAMETERS['lb_fields'], 'type:list_of_allowed_values': SUPPORTED_LB_FIELDS } } }, 'convert_to': normalize_ppg_parameters } } } # The action map. ACTION_MAP = { SFC: { # FIXME: Copied from trunk.py need 'add_subports': 'PUT', # to determine if sfc.py should use 'remove_subports': 'PUT', # ACTION_MAP and if so, how. 'get_subports': 'GET' } } # The list of required extensions. REQUIRED_EXTENSIONS = [ ""binding"", ] # The list of optional extensions. OPTIONAL_EXTENSIONS = None # TODO(armax): add support for modeling custom queries ",,342,0
openstack%2Foslo.i18n~stable%2Fpike~If8e078e69ce74b4da020702c8ed790dd2318d155,openstack/oslo.i18n,stable/pike,If8e078e69ce74b4da020702c8ed790dd2318d155,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 16:50:38.000000000,2018-04-28 02:05:18.000000000,2018-04-28 02:05:18.000000000,"[{'_account_id': 6928}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 16:50:38.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/c4b6104b84879f93ae99dfd8b1f788b7deae87f7', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: If8e078e69ce74b4da020702c8ed790dd2318d155\n'}]",0,564840,c4b6104b84879f93ae99dfd8b1f788b7deae87f7,8,3,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: If8e078e69ce74b4da020702c8ed790dd2318d155
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/40/564840/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,c4b6104b84879f93ae99dfd8b1f788b7deae87f7,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fpython-tripleoclient~master~Ibb04145905c0103f271f85282df161cc43e6c9ee,openstack/python-tripleoclient,master,Ibb04145905c0103f271f85282df161cc43e6c9ee,Capture external process output,MERGED,2018-04-25 04:02:56.000000000,2018-04-28 01:58:07.000000000,2018-04-28 01:58:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-04-25 04:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/85f96a854d6774c09a0d88eb777e83dc13b2eec2', 'message': 'Capture external process output\n\nThis change implements a function that can be used to run external\ncommand and log their out. It also switches out the execvp that we used\nfor running ansible for a subprocess call so that we can properly\ncapture the output from the ansible run. Additionally because\nthe execvp never returned, we were unable to do any cleanup actions\nafter ansible ran. This change switches out the output to use the logger\nrather than print statements so that in the future we can properly\nleverage the logger for writing out installation logs.\n\nChange-Id: Ibb04145905c0103f271f85282df161cc43e6c9ee\nRelated-Blueprint: containerized-undercloud\n'}, {'number': 2, 'created': '2018-04-25 13:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf29a0c834a3ee08f72add8c60b0d1257b7e5a48', 'message': 'Capture external process output\n\nThis change implements a function that can be used to run external\ncommand and log their out. It also switches out the execvp that we used\nfor running ansible for a subprocess call so that we can properly\ncapture the output from the ansible run. Additionally because\nthe execvp never returned, we were unable to do any cleanup actions\nafter ansible ran. This change switches out the output to use the logger\nrather than print statements so that in the future we can properly\nleverage the logger for writing out installation logs.\n\nChange-Id: Ibb04145905c0103f271f85282df161cc43e6c9ee\nRelated-Blueprint: containerized-undercloud\n'}, {'number': 3, 'created': '2018-04-26 20:06:26.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud_deploy.py', 'tripleoclient/v1/undercloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50d52c3d23f0dddd38dc5973f25a6ed3be5c8a4a', 'message': 'Capture external process output\n\nThis change implements a function that can be used to run external\ncommand and log their out. It also switches out the execvp that we used\nfor running ansible for a subprocess call so that we can properly\ncapture the output from the ansible run. Additionally because\nthe execvp never returned, we were unable to do any cleanup actions\nafter ansible ran. This change switches out the output to use the logger\nrather than print statements so that in the future we can properly\nleverage the logger for writing out installation logs.\n\nChange-Id: Ibb04145905c0103f271f85282df161cc43e6c9ee\nRelated-Blueprint: containerized-undercloud\n'}]",9,564094,50d52c3d23f0dddd38dc5973f25a6ed3be5c8a4a,26,6,3,14985,,,0,"Capture external process output

This change implements a function that can be used to run external
command and log their out. It also switches out the execvp that we used
for running ansible for a subprocess call so that we can properly
capture the output from the ansible run. Additionally because
the execvp never returned, we were unable to do any cleanup actions
after ansible ran. This change switches out the output to use the logger
rather than print statements so that in the future we can properly
leverage the logger for writing out installation logs.

Change-Id: Ibb04145905c0103f271f85282df161cc43e6c9ee
Related-Blueprint: containerized-undercloud
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/564094/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud_deploy.py', 'tripleoclient/v1/undercloud_deploy.py']",2,85f96a854d6774c09a0d88eb777e83dc13b2eec2,bp/containerized-undercloud," self.log.info('Configuring puppet modules symlinks ...') def _run_and_log_output(self, cmd, cwd=None): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, shell=False, bufsize=1, cwd=cwd) for line in iter(proc.stdout.readline, b''): # TODO(aschultz): this should probably goto a log file self.log.warning(line.rstrip()) proc.stdout.close() return proc.wait() self.tmp_env_file_name = None if self._run_and_log_output(args, cwd=self.tht_render) != 0: # TODO(aschultz): improve error messaging raise exceptions.DeploymentError(""Problems generating templates."") self.log.info(""Deploying templates in the directory {0}"".format( os.path.abspath(self.tht_render))) self.log.warning(""** Creating Environment file **"") self.log.warning(""** Performing Heat stack create.. **"") self.log.warning('** Downloading undercloud ansible.. **') self.log.info('** Downloaded undercloud ansible to %s **' % ansible_dir) self.log.warning('** Running ansible.. **') self.log.debug('Running Ansible: %s' % (' '.join(cmd))) return self._run_and_log_output(cmd) self.log.error('Please set --local-ip to the correct ' 'ipaddress/cidr for this machine.') rc = 1 rc = self._launch_ansible(ansible_dir) except Exception as e: self.log.error(""Exception: %s"" % e) self.log.error(traceback.format_exception(*sys.exc_info())) if not parsed_args.output_only and rc != 0: self.log.error('ERROR: Heat log files: %s' % (self.heat_launch.install_tmp)) return rc"," print('Configuring puppet modules symlinks ...') subprocess.check_call(args, cwd=self.tht_render) print(""Deploying templates in the directory {0}"".format( os.path.abspath(self.tht_render))) self.log.debug(""Creating Environment file"") self.log.info(""Performing Heat stack create"") print('** Downloading undercloud ansible.. **') print('** Downloaded undercloud ansible to %s **' % ansible_dir) print('Running Ansible: %s' % (' '.join(cmd))) # execvp() doesn't return. os.execvp(cmd[0], cmd) print('Please set --local-ip to the correct ipaddress/cidr ' 'for this machine.') self._launch_ansible(ansible_dir) except Exception as e: print(""Exception: %s"" % e) print(traceback.format_exception(*sys.exc_info())) if not parsed_args.output_only: print('ERROR: Heat log files: %s' % (self.heat_launch.install_tmp)) return 1 else: return 0",48,26
openstack%2Fopenstack-manuals~master~I75f2fc210b1568d1b200fd940b6c4807f6cc479b,openstack/openstack-manuals,master,I75f2fc210b1568d1b200fd940b6c4807f6cc479b,Update the rabbitmq cluster configuration,MERGED,2018-04-27 12:34:17.000000000,2018-04-28 01:38:14.000000000,2018-04-28 01:38:14.000000000,"[{'_account_id': 13252}, {'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 12:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2a5e1e2ac140cf69b2a479c2d9de638305075892', 'message': 'Update the rabbitmq cluster configuration\n\nChange-Id: I75f2fc210b1568d1b200fd940b6c4807f6cc479b\nCloses-Bug: bug/1744647\n'}, {'number': 2, 'created': '2018-04-27 15:05:52.000000000', 'files': ['doc/ha-guide/source/shared-messaging.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8ac0164516dcd9587801a884b1352a792bf125c0', 'message': 'Update the rabbitmq cluster configuration\n\nChange-Id: I75f2fc210b1568d1b200fd940b6c4807f6cc479b\nCloses-Bug: 1744647\n'}]",2,564744,8ac0164516dcd9587801a884b1352a792bf125c0,12,4,2,16523,,,0,"Update the rabbitmq cluster configuration

Change-Id: I75f2fc210b1568d1b200fd940b6c4807f6cc479b
Closes-Bug: 1744647
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/44/564744/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/ha-guide/source/shared-messaging.rst'],1,2a5e1e2ac140cf69b2a479c2d9de638305075892,bug/1744647," # rabbitmqctl join_cluster rabbit@rabbit1 join the cluster as disc nodes. Also, nodes can join the cluster as RAM nodes. For more details about this feature, check `Clusters with RAM nodes <https://www.rabbitmq.com/clustering.html#ram-nodes>`_.", # rabbitmqctl join_cluster --ram rabbit@rabbit1 join the cluster as RAM nodes.,4,2
openstack%2Fheat~master~Ic7c567b6f949bdec9b3cface4fa07748fbe585eb,openstack/heat,master,Ic7c567b6f949bdec9b3cface4fa07748fbe585eb,Log traversal ID when beginning,MERGED,2018-04-18 00:39:12.000000000,2018-04-28 01:33:06.000000000,2018-04-28 01:33:06.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-18 00:39:12.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6f1e6458cf535ced9f1966b25c09a5ce30109a72', 'message': 'Log traversal ID when beginning\n\nAt the beginning of a convergence traversal, log the traversal ID along\nwith the dependency graph for the traversal. This could be useful in\ndebugging. Also, log it at the DEBUG, not INFO level.\n\nChange-Id: Ic7c567b6f949bdec9b3cface4fa07748fbe585eb\n'}]",0,562085,6f1e6458cf535ced9f1966b25c09a5ce30109a72,16,3,1,4257,,,0,"Log traversal ID when beginning

At the beginning of a convergence traversal, log the traversal ID along
with the dependency graph for the traversal. This could be useful in
debugging. Also, log it at the DEBUG, not INFO level.

Change-Id: Ic7c567b6f949bdec9b3cface4fa07748fbe585eb
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/562085/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,6f1e6458cf535ced9f1966b25c09a5ce30109a72,," LOG.debug('Starting traversal %s with dependencies: %s', self.current_traversal, self.convergence_dependencies)"," LOG.info('convergence_dependencies: %s', self.convergence_dependencies)",2,2
openstack%2Ftripleo-ci~master~Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5,openstack/tripleo-ci,master,Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5,Properly export zuul variables,MERGED,2018-04-26 09:24:56.000000000,2018-04-28 01:25:35.000000000,2018-04-28 01:25:35.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-26 09:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0dd4d2ff64d67119050ad58e4bd6aad011e59cf3', 'message': ""Properly export zuul variables\n\nThe JOB_NAME variable is being exported as 'workspace' and\nLOT_PATH isn't being exported at all, and these variables are required\nfor tempest-sendmail tool work properly\n\nChange-Id: Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5\n""}, {'number': 2, 'created': '2018-04-26 10:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a067b80ba72c3413f23ec75d5769dcddacdc12b8', 'message': ""Properly export zuul variables\n\nThe JOB_NAME variable is being exported as 'workspace' and\nLOT_PATH isn't being exported at all, and these variables are required\nfor tempest-sendmail tool work properly\n\nChange-Id: Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5\n""}, {'number': 3, 'created': '2018-04-26 10:16:08.000000000', 'files': ['playbooks/tripleo-ci/run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e60a6bc2b010f68ace891991e872803ced7d742d', 'message': ""Properly export zuul variables\n\nThe JOB_NAME variable is being exported as 'workspace' and\nLOT_PATH isn't being exported at all, and these variables are required\nfor tempest-sendmail tool work properly\n\nChange-Id: Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5\n""}]",1,564429,e60a6bc2b010f68ace891991e872803ced7d742d,18,11,3,8367,,,0,"Properly export zuul variables

The JOB_NAME variable is being exported as 'workspace' and
LOT_PATH isn't being exported at all, and these variables are required
for tempest-sendmail tool work properly

Change-Id: Iaa5a85e8d15e0ea9ff9d53dd60bbd08a400d71b5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/29/564429/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/run.yaml'],1,0dd4d2ff64d67119050ad58e4bd6aad011e59cf3,jobname, # Compatibility with zuul v3 variables export JOB_NAME={{ zuul.job }} export LOG_PATH={{ zuul_log_url }}/{{ zuul_log_path }} ,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibcd9d716351f4dc6f2c720f132a124536a01f8dd,openstack/tripleo-heat-templates,stable/queens,Ibcd9d716351f4dc6f2c720f132a124536a01f8dd,Remove redundant config bond-with-vlans/compute-dpdk.j2.yaml,ABANDONED,2018-04-28 01:12:53.000000000,2018-04-28 01:20:09.000000000,,[],"[{'number': 1, 'created': '2018-04-28 01:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e906f063655d8ea2800958c09f4f6e2ae45cbd2d', 'message': 'Remove redundant config bond-with-vlans/compute-dpdk.j2.yaml\n\nThe compute-dpdk.j2.yaml template was originally present because\nthe NIC config file name generated was compute-ovs-dpdk.yaml.\nWe added deprecated_nic_config_name to network_data.yaml so\nthis file is automatically generated by role.role.j2.yaml, but\nnever removed this file.\n\nDepends-On: I68b6e674d6aa86aa7d60efa3eb7b3cb874171e63\nChange-Id: Ibcd9d716351f4dc6f2c720f132a124536a01f8dd\n'}, {'number': 2, 'created': '2018-04-28 01:19:19.000000000', 'files': ['network/config/bond-with-vlans/compute-dpdk.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a1113025fac6e5d86308a6ec1d3e23a1ff657cf', 'message': 'Remove redundant config bond-with-vlans/compute-dpdk.j2.yaml\n\nThe compute-dpdk.j2.yaml template was originally present because\nthe NIC config file name generated was compute-ovs-dpdk.yaml.\nWe added deprecated_nic_config_name to network_data.yaml so\nthis file is automatically generated by role.role.j2.yaml, but\nnever removed this file.\n\nDepends-On: I68b6e674d6aa86aa7d60efa3eb7b3cb874171e63\nChange-Id: Ibcd9d716351f4dc6f2c720f132a124536a01f8dc\n'}]",0,564958,1a1113025fac6e5d86308a6ec1d3e23a1ff657cf,3,0,2,12398,,,0,"Remove redundant config bond-with-vlans/compute-dpdk.j2.yaml

The compute-dpdk.j2.yaml template was originally present because
the NIC config file name generated was compute-ovs-dpdk.yaml.
We added deprecated_nic_config_name to network_data.yaml so
this file is automatically generated by role.role.j2.yaml, but
never removed this file.

Depends-On: I68b6e674d6aa86aa7d60efa3eb7b3cb874171e63
Change-Id: Ibcd9d716351f4dc6f2c720f132a124536a01f8dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/564958/2 && git format-patch -1 --stdout FETCH_HEAD,['network/config/bond-with-vlans/compute-dpdk.j2.yaml'],1,e906f063655d8ea2800958c09f4f6e2ae45cbd2d,remove_redundant_nic_config-stable/queens,,"# NOTE: This legacy template configures the Compute role for using OVS DPDK. # This template is included for upgrades that originally used this file. # If you are deploying a new installation, you should enable the ComputeOvsDpdk # role and use compute-ovs-dpdk.yaml instead. heat_template_version: queens description: > Software Config to drive os-net-config to configure VLANs for the compute role with DPDK. parameters: ControlPlaneIp: default: '' description: IP address/subnet on the ctlplane network type: string {%- for network in networks %} {{network.name}}IpSubnet: default: '' description: IP address/subnet on the {{network.name_lower}} network type: string {%- endfor %} {%- for network in networks %} {{network.name}}NetworkVlanID: default: {{network.vlan}} description: Vlan ID for the {{network.name_lower}} network traffic. type: number {%- endfor %} ControlPlaneSubnetCidr: # Override this via parameter_defaults default: '24' description: The subnet CIDR of the control plane network. type: string ControlPlaneDefaultRoute: # Override this via parameter_defaults description: The default route of the control plane network. type: string {%- for network in networks %} {%- if network.ipv6|default(false) and network.gateway_ipv6|default(false) %} {{network.name}}InterfaceDefaultRoute: default: '{{network.gateway_ipv6}}' description: default route for the {{network.name_lower}} network type: string {%- elif network.gateway_ip|default(false) %} {{network.name}}InterfaceDefaultRoute: default: '{{network.gateway_ip}}' description: default route for the {{network.name_lower}} network type: string {%- endif %} {%- endfor %} DnsServers: # Override this via parameter_defaults default: [] description: A list of DNS servers (2 max for some implementations) that will be added to resolv.conf. type: comma_delimited_list EC2MetadataIp: # Override this via parameter_defaults description: The IP address of the EC2 metadata server. type: string NumDpdkInterfaceRxQueues: description: Number of Rx Queues required for DPDK bond or DPDK ports default: 1 type: number resources: OsNetConfigImpl: type: OS::Heat::SoftwareConfig properties: group: script config: str_replace: template: get_file: ../../scripts/run-os-net-config.sh params: $network_config: network_config: - type: interface name: nic1 use_dhcp: false dns_servers: get_param: DnsServers addresses: - ip_netmask: list_join: - / - - get_param: ControlPlaneIp - get_param: ControlPlaneSubnetCidr routes: - ip_netmask: 169.254.169.254/32 next_hop: get_param: EC2MetadataIp - default: true next_hop: get_param: ControlPlaneDefaultRoute - type: linux_bond name: bond_api bonding_options: get_param: BondInterfaceOvsOptions use_dhcp: false dns_servers: get_param: DnsServers members: - type: interface name: nic2 primary: true - type: interface name: nic3 - type: vlan device: bond_api vlan_id: get_param: InternalApiNetworkVlanID addresses: - ip_netmask: get_param: InternalApiIpSubnet - type: vlan device: bond_api vlan_id: get_param: StorageNetworkVlanID addresses: - ip_netmask: get_param: StorageIpSubnet - type: vlan device: bond_api vlan_id: get_param: TenantNetworkVlanID addresses: - ip_netmask: get_param: TenantIpSubnet # Uncomment when including environments/network-management.yaml # If setting default route on the Management interface, comment # out the default route on the Control Plane. #- # type: vlan # device: bond_api # vlan_id: # get_param: ManagementNetworkVlanID # addresses: # - # ip_netmask: # get_param: ManagementIpSubnet # routes: # - # default: true # next_hop: # get_param: ManagementInterfaceDefaultRoute # Used as a provider network with external DHCP - type: ovs_user_bridge name: br-dpdk0 members: - type: ovs_dpdk_bond name: dpdkbond0 rx_queue: get_param: NumDpdkInterfaceRxQueues members: - type: ovs_dpdk_port name: dpdk0 members: - type: interface name: nic4 - type: ovs_dpdk_port name: dpdk1 members: - type: interface name: nic5 outputs: OS::stack_id: description: The OsNetConfigImpl resource. value: get_resource: OsNetConfigImpl ",0,162
openstack%2Fpython-tripleoclient~master~I9de6ad9e93508b2f506b623022967127616edaa5,openstack/python-tripleoclient,master,I9de6ad9e93508b2f506b623022967127616edaa5,Add installation log for containerized undercloud,MERGED,2018-04-25 23:48:50.000000000,2018-04-28 01:15:02.000000000,2018-04-28 01:15:02.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-04-25 23:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e797c8b6d3d55bca470aa1df5aff47ab84b32f1', 'message': ""WIP - Add installation log for containerized undercloud\n\nAdding 'install-undercloud.log' in current working directory\nfor containerized undercloud install.\n\nDO NOT MERGE - still need to figure out test for this to work.\n\nChange-Id: I9de6ad9e93508b2f506b623022967127616edaa5\n""}, {'number': 2, 'created': '2018-04-26 16:07:36.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f17e6e76407da00cd3ce9a371582c77f7d997aab', 'message': ""Add installation log for containerized undercloud\n\nAdding 'install-undercloud.log' in current working directory\nfor containerized undercloud install.\n\nWorking directory is obtained through the traditiona os.getcwd() call;\nit is assumed at this point the logfile will be useful there.\n\nChange-Id: I9de6ad9e93508b2f506b623022967127616edaa5\n""}]",0,564370,f17e6e76407da00cd3ce9a371582c77f7d997aab,17,6,2,27427,,,0,"Add installation log for containerized undercloud

Adding 'install-undercloud.log' in current working directory
for containerized undercloud install.

Working directory is obtained through the traditiona os.getcwd() call;
it is assumed at this point the logfile will be useful there.

Change-Id: I9de6ad9e93508b2f506b623022967127616edaa5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/564370/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,3e797c8b6d3d55bca470aa1df5aff47ab84b32f1,install-log, LOG_FILE = os.path.join(os.getcwd() + '/install-undercloud.log') deploy_args.append('--log-file=' + LOG_FILE) ,,3,0
openstack%2Fnova~master~Ie9731d0df8cf52acdc7a442316a35798a4fed4cb,openstack/nova,master,Ie9731d0df8cf52acdc7a442316a35798a4fed4cb,Use an independent transaction for _trait_sync,MERGED,2018-03-31 16:48:22.000000000,2018-04-28 00:53:00.000000000,2018-04-25 02:17:35.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-31 16:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/714afc371c08dec43e988799f16ce1f10111f998', 'message': ""Don't declare traits synced if they ain't\n\nProvides a fix for the referenced bug by unsetting the global\n_TRAITS_SYNCED flag if Trait.get_by_name raises an exception.\n\nNOTE: I don't think this is a good (or at least a complete) fix.  First,\nit mucks with the _TRAITS_SYNCED variable outside of its natural\nhabitat, which should really be restricted to the _ensure_trait_sync\nmethod (and tests).  Second, it only accounts for one of the (currently)\nfour places _ensure_trait_sync is called.  (Only one of the others\nobviously runs in a writer context; not sure about the rest.)\n\nNo, I think the right solution is to make _ensure_traits_synced run in\nits own transaction / commit itself when done.  But I don't know how to\ndo that.\n\nChange-Id: Ie9731d0df8cf52acdc7a442316a35798a4fed4cb\nCloses-Bug: 1760322\n""}, {'number': 2, 'created': '2018-04-02 15:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1154d87e2f91e8b3f31d2310196987b2a4397ced', 'message': ""Don't declare traits synced if they ain't\n\nProvides a fix for the referenced bug by unsetting the global\n_TRAITS_SYNCED flag if Trait.get_by_name raises an exception.\n\nNOTE: I don't think this is a good (or at least a complete) fix.  First,\nit mucks with the _TRAITS_SYNCED variable outside of its natural\nhabitat, which should really be restricted to the _ensure_trait_sync\nmethod (and tests).  Second, it only accounts for one of the (currently)\nfour places _ensure_trait_sync is called.  (Only one of the others\nobviously runs in a writer context; not sure about the rest.)\n\nNo, I think the right solution is to make _ensure_traits_synced run in\nits own transaction / commit itself when done.  But I don't know how to\ndo that.\n\nChange-Id: Ie9731d0df8cf52acdc7a442316a35798a4fed4cb\nCloses-Bug: 1760322\n""}, {'number': 3, 'created': '2018-04-02 16:02:44.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2924ba2379adc19e7ebd07ead8efd5e9c8e367d', 'message': 'Use an independent transaction for _trait_sync\n\nProvides a fix for the referenced bug by using an independent\ntransaction for the _trait_sync method, meaning it gets committed right\naway regardless of what happens in the calling scope.\n\nChange-Id: Ie9731d0df8cf52acdc7a442316a35798a4fed4cb\nCloses-Bug: 1760322\n'}]",5,558068,e2924ba2379adc19e7ebd07ead8efd5e9c8e367d,64,24,3,14070,,,0,"Use an independent transaction for _trait_sync

Provides a fix for the referenced bug by using an independent
transaction for the _trait_sync method, meaning it gets committed right
away regardless of what happens in the calling scope.

Change-Id: Ie9731d0df8cf52acdc7a442316a35798a4fed4cb
Closes-Bug: 1760322
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/558068/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py']",2,714afc371c08dec43e988799f16ce1f10111f998,bug/1760322," # sync transaction rolls back and the table stays empty. Under bug # #1760322, _TRAITS_SYNCED got set to True anyway, so it didn't resync # next time. # Under bug #1760322, this raises TraitNotFound. rp_obj.Trait.get_by_name(self.ctx, os_traits.HW_CPU_X86_AVX2)"," # sync transaction rolls back and the table stays empty. But # _TRAITS_SYNCED got set to True, so it doesn't resync next time. # TODO(efried): Raises TraitNotFound until bug #1760322 is fixed. # rp_obj.Trait.get_by_name(self.ctx, os_traits.HW_CPU_X86_AVX2)",16,5
openstack%2Foslo.concurrency~stable%2Fpike~Ic011be44d4852a293d7adc0ef25b7e498e4b5d20,openstack/oslo.concurrency,stable/pike,Ic011be44d4852a293d7adc0ef25b7e498e4b5d20,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 13:18:26.000000000,2018-04-28 00:29:56.000000000,2018-04-28 00:29:56.000000000,"[{'_account_id': 6928}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 13:18:26.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/a009e7c86901473ac2273cb9ba604dc2a6b579d3', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: Ic011be44d4852a293d7adc0ef25b7e498e4b5d20\n'}]",0,564756,a009e7c86901473ac2273cb9ba604dc2a6b579d3,11,3,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: Ic011be44d4852a293d7adc0ef25b7e498e4b5d20
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/56/564756/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,a009e7c86901473ac2273cb9ba604dc2a6b579d3,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fswift~master~Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8,openstack/swift,master,Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8,Handful of formpost cleanups,MERGED,2018-04-12 21:29:54.000000000,2018-04-28 00:16:33.000000000,2018-04-28 00:16:33.000000000,"[{'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 21:29:54.000000000', 'files': ['swift/common/middleware/formpost.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/83ca4f1bb0a4ada06353b0ac16ff654c49441fe3', 'message': ""Handful of formpost cleanups\n\n- Drop an unnecessary return value from _perform_subrequest\n- Stop checking for a CONTENT_TYPE that will never be set\n- Use reiterate\n- Close the response iter when we're done with it\n\nChange-Id: Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8\n""}]",6,561051,83ca4f1bb0a4ada06353b0ac16ff654c49441fe3,9,4,1,15343,,,0,"Handful of formpost cleanups

- Drop an unnecessary return value from _perform_subrequest
- Stop checking for a CONTENT_TYPE that will never be set
- Use reiterate
- Close the response iter when we're done with it

Change-Id: Ib8cc7cd42b230197844f275d7caf9eb7b3c204f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/561051/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/formpost.py'],1,83ca4f1bb0a4ada06353b0ac16ff654c49441fe3,," iter_multipart_mime_documents, reiterate, close_if_possible status, subheaders = \ :returns: (status_line, headers_list) # reiterate to ensure the response started, # but drop any data on the floor close_if_possible(reiterate(self.app(subenv, _start_response))) return substatus[0], subheaders[0]"," iter_multipart_mime_documents status, subheaders, message = \ :returns: (status_line, headers_list, message) elif 'CONTENT_TYPE' in subenv: del subenv['CONTENT_TYPE'] i = iter(self.app(subenv, _start_response)) try: next(i) except StopIteration: pass return substatus[0], subheaders[0], ''",7,11
openstack%2Foslo.tools~master~I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b,openstack/oslo.tools,master,I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b,Fix command error in filter,MERGED,2018-04-27 22:25:49.000000000,2018-04-28 00:08:32.000000000,2018-04-28 00:08:32.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 22:25:49.000000000', 'files': ['filter_git_history.sh'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/5c0df7ef136732ba7051d0fb7af92f097c482796', 'message': 'Fix command error in filter\n\nAn apparently missing space in an if condition causes a command not\nfound error.\n\nChange-Id: I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b\n'}]",0,564902,5c0df7ef136732ba7051d0fb7af92f097c482796,6,2,1,970,,,0,"Fix command error in filter

An apparently missing space in an if condition causes a command not
found error.

Change-Id: I40e2ea3dbe6f2ce507e9aaa7a563054d009f9c0b
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/02/564902/1 && git format-patch -1 --stdout FETCH_HEAD,['filter_git_history.sh'],1,5c0df7ef136732ba7051d0fb7af92f097c482796,fix-cmd-error, elif ! git merge-base --is-ancestor $file_root $root; then, elif !git merge-base --is-ancestor $file_root $root; then,1,1
openstack%2Fcinder~stable%2Fqueens~Ice78889573a36ff5e8873a0d316ddcf180d0263f,openstack/cinder,stable/queens,Ice78889573a36ff5e8873a0d316ddcf180d0263f,NetApp ONTAP: Fix export path used as volume name,MERGED,2018-04-20 15:08:55.000000000,2018-04-27 23:23:07.000000000,2018-04-26 16:11:05.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 17097}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-20 15:08:55.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/bug-1690954-40fc21683977e996.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/64df0693991bd3815acc8e445da912a499198f7e', 'message': 'NetApp ONTAP: Fix export path used as volume name\n\nOn ONTAP NFS driver, the export path was being used as the volume\nname. If the export path is different than the volume name, the\nAPI call to delete files would fail and the driver would invoke\na fallback method that deletes the files manually. This patch fixes\nthat by finding the correct volume name.\n\n(cherry-picked from commit 4d75cbf3c35a8aa917d3970beac99d612f13eed3)\nChange-Id: Ice78889573a36ff5e8873a0d316ddcf180d0263f\nCloses-bug: #1690954\n'}]",0,563150,64df0693991bd3815acc8e445da912a499198f7e,31,20,1,17097,,,0,"NetApp ONTAP: Fix export path used as volume name

On ONTAP NFS driver, the export path was being used as the volume
name. If the export path is different than the volume name, the
API call to delete files would fail and the driver would invoke
a fallback method that deletes the files manually. This patch fixes
that by finding the correct volume name.

(cherry-picked from commit 4d75cbf3c35a8aa917d3970beac99d612f13eed3)
Change-Id: Ice78889573a36ff5e8873a0d316ddcf180d0263f
Closes-bug: #1690954
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/563150/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/bug-1690954-40fc21683977e996.yaml']",3,64df0693991bd3815acc8e445da912a499198f7e,bug/1690954,--- fixes: - | NetApp ONTAP NFS (bug 1690954): Fix wrong usage of export path as volume name when deleting volumes and snapshots. ,,20,3
openstack%2Ftripleo-upgrade~master~Id87a40c3f41ca6da2d449e891b1f05d2705d3909,openstack/tripleo-upgrade,master,Id87a40c3f41ca6da2d449e891b1f05d2705d3909,FFU: We need to be root to install ansible-pacemaker package.,MERGED,2018-03-21 12:10:26.000000000,2018-04-27 23:21:46.000000000,2018-03-21 15:31:41.000000000,"[{'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7afa42bedd1379d81e7ad5584e34605af555da79', 'message': ""We need to be root to install package.\n\nThe ansible-pacemaker installation fails because we are not root when\nrunning that playbook.\n\nThat change was made only on the queens branch (and was lost by last\ncheck pick)[1]\n\nSo make sure it's on master as well.\n\n[1] https://review.openstack.org/#/c/554236/3..4/tasks/fast-forward-upgrade/main.yml\n\nChange-Id: Id87a40c3f41ca6da2d449e891b1f05d2705d3909\n""}, {'number': 2, 'created': '2018-03-21 12:10:50.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/22dcdf654fc66be9d25404d11fe398eac26edbc8', 'message': ""FFU: We need to be root to install ansible-pacemaker package.\n\nThe ansible-pacemaker installation fails because we are not root when\nrunning that playbook.\n\nThat change was made only on the queens branch (and was lost by last\ncheck pick)[1]\n\nSo make sure it's on master as well.\n\n[1] https://review.openstack.org/#/c/554236/3..4/tasks/fast-forward-upgrade/main.yml\n\nChange-Id: Id87a40c3f41ca6da2d449e891b1f05d2705d3909\n""}]",0,554887,22dcdf654fc66be9d25404d11fe398eac26edbc8,9,3,2,8297,,,0,"FFU: We need to be root to install ansible-pacemaker package.

The ansible-pacemaker installation fails because we are not root when
running that playbook.

That change was made only on the queens branch (and was lost by last
check pick)[1]

So make sure it's on master as well.

[1] https://review.openstack.org/#/c/554236/3..4/tasks/fast-forward-upgrade/main.yml

Change-Id: Id87a40c3f41ca6da2d449e891b1f05d2705d3909
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/87/554887/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,7afa42bedd1379d81e7ad5584e34605af555da79,, become: true,,1,0
openstack%2Fcinder~stable%2Fqueens~I1b58c637f6b2187a78c9c00a6c4933335439ad6f,openstack/cinder,stable/queens,I1b58c637f6b2187a78c9c00a6c4933335439ad6f,Avoid second restart on offline upgrades,MERGED,2018-04-11 09:45:14.000000000,2018-04-27 23:20:57.000000000,2018-04-24 18:05:04.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 16515}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23871}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 09:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e951a04be4dbae5625c3dd685961dd39dc5ea0a0', 'message': 'Avoid second restart on offline upgrades\n\nOn offline upgrades, due to the rolling upgrade mechanism we need to\nrestart the cinder services twice to complete the upgrade, just like in\nthe rolling upgrade case.\n\nThe current offline upgrade process is:\n\n- Stop cinder services\n- Upgrade the cinder nodes\n- Sync your DB\n- Start the cinder services\n- Restart all the cinder services\n\nThis second restart creates a bad user experience and it should not be\nnecessary on an offline upgrade, so this patch adds a new optional\nparameter -called ""--bump-versions""- to the cinder-manage db sync\ncommand that allows us to skip the restart of the services.\n\nCloses-Bug: #1756321\nChange-Id: I1b58c637f6b2187a78c9c00a6c4933335439ad6f\n(cherry picked from commit 3cd2ebd3759c76fdf5a292e612127094c7aa2b17)\n'}, {'number': 2, 'created': '2018-04-18 06:51:34.000000000', 'files': ['doc/source/man/cinder-manage.rst', 'cinder/cmd/manage.py', 'releasenotes/notes/sync-bump-versions-a1e6f6359173892e.yaml', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25c737d6b8e19a1932696554e47dd262ae651592', 'message': 'Avoid second restart on offline upgrades\n\nOn offline upgrades, due to the rolling upgrade mechanism we need to\nrestart the cinder services twice to complete the upgrade, just like in\nthe rolling upgrade case.\n\nThe current offline upgrade process is:\n\n- Stop cinder services\n- Upgrade the cinder nodes\n- Sync your DB\n- Start the cinder services\n- Restart all the cinder services\n\nThis second restart creates a bad user experience and it should not be\nnecessary on an offline upgrade, so this patch adds a new optional\nparameter -called ""--bump-versions""- to the cinder-manage db sync\ncommand that allows us to skip the restart of the services.\n\nCloses-Bug: #1756321\nChange-Id: I1b58c637f6b2187a78c9c00a6c4933335439ad6f\n(cherry picked from commit 3cd2ebd3759c76fdf5a292e612127094c7aa2b17)\n'}]",2,560335,25c737d6b8e19a1932696554e47dd262ae651592,47,27,2,9535,,,0,"Avoid second restart on offline upgrades

On offline upgrades, due to the rolling upgrade mechanism we need to
restart the cinder services twice to complete the upgrade, just like in
the rolling upgrade case.

The current offline upgrade process is:

- Stop cinder services
- Upgrade the cinder nodes
- Sync your DB
- Start the cinder services
- Restart all the cinder services

This second restart creates a bad user experience and it should not be
necessary on an offline upgrade, so this patch adds a new optional
parameter -called ""--bump-versions""- to the cinder-manage db sync
command that allows us to skip the restart of the services.

Closes-Bug: #1756321
Change-Id: I1b58c637f6b2187a78c9c00a6c4933335439ad6f
(cherry picked from commit 3cd2ebd3759c76fdf5a292e612127094c7aa2b17)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/560335/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/man/cinder-manage.rst', 'cinder/cmd/manage.py', 'releasenotes/notes/sync-bump-versions-a1e6f6359173892e.yaml', 'cinder/tests/unit/test_cmd.py']",4,e951a04be4dbae5625c3dd685961dd39dc5ea0a0,bug/1756321," @mock.patch('cinder.objects.ServiceList.get_all') def test_db_commands_sync(self, db_sync, service_get_mock): service_get_mock.assert_not_called() @mock.patch('cinder.objects.Service.save') @mock.patch('cinder.objects.ServiceList.get_all') @mock.patch('cinder.db.migration.db_sync') def test_db_commands_sync_bump_versions(self, db_sync, service_get_mock, service_save): ctxt = context.get_admin_context() services = [fake_service.fake_service_obj(ctxt, binary='cinder-' + binary, rpc_current_version='0.1', object_current_version='0.2') for binary in ('volume', 'scheduler', 'backup')] service_get_mock.return_value = services version = 11 db_cmds = cinder_manage.DbCommands() db_cmds.sync(version=version, bump_versions=True) db_sync.assert_called_once_with(version) self.assertEqual(3, service_save.call_count) for service in services: self.assertEqual(cinder_manage.RPC_VERSIONS[service.binary], service.rpc_current_version) self.assertEqual(cinder_manage.OVO_VERSION, service.object_current_version)"," def test_db_commands_sync(self, db_sync):",89,4
openstack%2Fcinder~master~Ib3d1b29dbfe20afeab4756673e772b597fd63fdc,openstack/cinder,master,Ib3d1b29dbfe20afeab4756673e772b597fd63fdc,Trivial: Update pypi url to new url,MERGED,2018-04-20 09:50:40.000000000,2018-04-27 23:20:07.000000000,2018-04-25 02:17:39.000000000,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-20 09:50:40.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12b4432cb6f16b7c2f2ec51079971e29a9b9e0b1', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ib3d1b29dbfe20afeab4756673e772b597fd63fdc\n'}]",0,563013,12b4432cb6f16b7c2f2ec51079971e29a9b9e0b1,35,27,1,23630,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ib3d1b29dbfe20afeab4756673e772b597fd63fdc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/563013/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,12b4432cb6f16b7c2f2ec51079971e29a9b9e0b1,update-pypi-url,`storops <https://pypi.org/project/storops>`_.,`storops <https://pypi.python.org/pypi/storops>`_.,1,1
openstack%2Fneutron-specs~master~I5f94b89d2e11734385b58e5e5edf55d149b9f38a,openstack/neutron-specs,master,I5f94b89d2e11734385b58e5e5edf55d149b9f38a,Spec for VPN service support Qos,MERGED,2018-01-04 05:05:03.000000000,2018-04-27 23:19:34.000000000,2018-04-27 22:45:02.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11536}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15309}, {'_account_id': 17776}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-04 05:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c98b161c5237478b217739e3eb146af67ef9a018', 'message': 'Spec for VPN service support Qos\n\nThis is the spec for the VPN Qos.\n\nChange-Id: I5f94b89d2e11734385b58e5e5edf55d149b9f38a\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\n'}, {'number': 2, 'created': '2018-01-08 04:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c478e621e0bf654be046bd5c72ff92c250ab6339', 'message': 'Spec for VPN service support Qos\n\nThis is the spec for the VPN Qos.\n\nChange-Id: I5f94b89d2e11734385b58e5e5edf55d149b9f38a\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\n'}, {'number': 3, 'created': '2018-01-31 08:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/47882e171df9a193fcb4a99194271eec508d0ae5', 'message': 'Spec for VPN service support Qos\n\nThis is the spec for the VPN Qos.\n\nParitial-Bug: #1727578\nChange-Id: I5f94b89d2e11734385b58e5e5edf55d149b9f38a\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\n'}, {'number': 4, 'created': '2018-03-27 08:32:19.000000000', 'files': ['specs/rocky/vpn-services-support-qos.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cc8b3ec9eeb2f76c5fd4f6cc8ec5f480fabee098', 'message': 'Spec for VPN service support Qos\n\nThis is the spec for the VPN Qos.\n\nParitial-Bug: #1727578\nChange-Id: I5f94b89d2e11734385b58e5e5edf55d149b9f38a\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\n'}]",165,531074,cc8b3ec9eeb2f76c5fd4f6cc8ec5f480fabee098,29,10,4,15309,,,0,"Spec for VPN service support Qos

This is the spec for the VPN Qos.

Paritial-Bug: #1727578
Change-Id: I5f94b89d2e11734385b58e5e5edf55d149b9f38a
Depends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/74/531074/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/vpn-services-support-qos.rst'],1,c98b161c5237478b217739e3eb146af67ef9a018,bug/1727578,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== VPN Services Support QoS ======================== https://bugs.launchpad.net/neutron/+bug/1727578 There is no way to set VPN services's bandwidth. And currently, Neutron QoS policy can not application on Router's gateway port if using openvswitch-agent. So need a way or ability to set the VPN services's bandwidth limit. Problem Description =================== Currently, Neutron VPNaaS provides site to site VPN services, we need to limit the bandwidth of the VPN services, as the VPN tunnel will cost the bandwidth from the outside public bandwidth provided by the ISP or other organizations. That means it is not free. The openstack provider or users should pay for the limited bandwidth. So it is necessary for saving the resources. For OpenStack environment, we have no power to change the outside physical devices configuration, but we can shape the outgoing traffic. For the VPN services provide the security guarantee, but we can't abuse the bandwidth of underlay network for affect other normal traffics. Use Case -------- In a real data center which deployed a OpenStack public cloud, and there is a cloud user who is a enterprise user have a requirement that want to connect its private network 20.0.0.0/24, but for other traffics still use the original network functionality provided by OpenStack. The network topology diagram is shown below:: + +--------------------+ + |DataCenter |VM1 | | |external network |nic IP: 10.0.0.11 | | +-------------------------------+ | +----+ |default via 10.0.0.1+---+ |Default Router | | | | | | +-----------------+Interface: 10.0.0.1 +------+ | | +--------------------+ | |gw: 172.24.4.11 | | | | OpenStack | |route: 20.0.0.0/24 via 10.0.0.5| | | | private . | | | | | | network . | +-------------------------------+ | | | | | | | subnet: 10.0.0.0/24 | | | | +--------------------+ | | | | |VM2 | | +--------+ |Internet |nic IP: 10.0.0.12 | | | | | |default via 10.0.0.1+---+ | | | | | | | | | +--------------------+ | | | | | | | | . | +--------------------------------+ | | | +-------------------------------+ . | |VPN Router | | | | |Vendor GW Router | | |Interface: 10.0.0.5 | | | | |peer vpn service running | +-----------------+gw: 172.24.4.12 +-----+ | +-------+hold private subnet 20.0.0.0/24| +--------------------+ | |VPN service running | | | | | | |VMX | | | | | | | | | |nic IP: 10.0.0.13 | | +--------------------------------+ | +----+ +-------------------------------+ |default via 10.0.0.1+---+ | | | | | +--------------------+ | | | | + + As this diagram shows, the enterprise user owned many VMs in the private network and the IPs are located from the private subnet 10.0.0.0/24. And there are two Routers connected, ``Default Router`` is used for the normal network function, such as NAT, Floating IP, Routing and etc. ``VPN Router`` is used for VPN traffic process, also contains NAT. Both of the Routers attached the external network which is the physical underlay network in real data center. Then the VPN Router in OpenStack and Vendor GW Router in other site maintain a VPN peer relationship cross the Internet. There are two scenarios towards the VM outgoing traffic: 1. VMs in the OpenStack private network access the normal websites, first send the network packets to its gateway which locates on the ``Default Router``. Then send to the Internet by the data center devices 2. VMs in the OpenStack private network access the other site private network 20.0.0.0/24, still first send the network packets to its gateway 10.0.0.1, then check the route tables, the nexthop of 20.0.0.0/24 is 10.0.0.5 which locates on ``VPN Router``. The network traffic will be sent based on the existing VPN tunnel to Vendor private site. Like the diagram shows, the QoS Policy should be set on the qg-XX port for limit the outgoing VPN traffic. This spec focus on the VPN outgoing traffic QoS, so for neutron-vpnaas, will focus on the Router related with VPN services. And for the normal usage, we will only introduce the QoS support on tunnel type VPN services. Proposed Change =============== We propose the ``VPN Service`` resource accepts the Neutron QoS Policy. Once the ``ipsec site connection`` created, the QoS Policy will be applied on the Router qg-XX port, as the ESP encapsulation will use the qg-XX port's IP to access other sites. So there are two parts need to work on: 1. Add a new column ``qos_policy_id`` into the ``vpnservices`` table. 2. Extend the API to accept the Neutron QoS Policy. 3. Extend the ability to process the QoS Policy installation in the Router reference implementation. Alternatives ------------ * We accept the QoS parameters and implement the QoS function on our own. * Apply QoS Policy on the Router interface directly, but this would affect the west-east traffic. Data model impact ----------------- In this spec, the QoS data model and function will be provided by Neutron, so ``vpnservices`` table need to maintain the relationship with Neutron QoS Policy. * ``vpnservices`` table - `qos_policy_id`: associate QoS policy id with ``vpn service``. REST API impact --------------- Proposed attribute:: EXTEND_FIELDS = { 'qos_policy_id':{'allow_post': True, 'allow_put': True, 'validate': {'type:uuid': None}, 'is_visible': True, 'default': None} } Some samples in ``VPN service`` creation/update. Users allow pass ``qos_policy_id``. Create/Update ``VPN service`` Request:: POST /v2.0/vpn/vpnservices { ""vpnservice"": { ""subnet_id"": null, ""qos_policy_id"": ""a36c20d0-18e9-42ce-88fd-82a35977ee8c"", ""router_id"": ""66e3b16c-8ce5-40fb-bb49-ab6d8dc3f2aa"", ""name"": ""myservice"", ""admin_state_up"": true } } Response: { ""vpnservice"": { ""router_id"": ""66e3b16c-8ce5-40fb-bb49-ab6d8dc3f2aa"", ""status"": ""PENDING_CREATE"", ""name"": ""myservice"", ""external_v6_ip"": ""2001:db8::1"", ""admin_state_up"": true, ""subnet_id"": null, ""project_id"": ""10039663455a446d8ba2cbb058b0f578"", ""tenant_id"": ""10039663455a446d8ba2cbb058b0f578"", ""external_v4_ip"": ""172.32.1.11"", ""id"": ""5c561d9d-eaea-45f6-ae3e-08d1a7080828"", ""description"": """", ""qos_policy_id"": ""a36c20d0-18e9-42ce-88fd-82a35977ee8c"" } } PUT /v2.0/vpn/vpnservices/{service_id} { ""vpnservice"": { ""name"": ""NEW VPN SERVICE NAME"", ""description"": ""Updated description"", ""qos_policy_id"": ""a36c20d0-18e9-42ce-88fd-82a35977ee8c"" } } Response: { ""vpnservice"": { ""router_id"": ""881b7b30-4efb-407e-a162-5630a7af3595"", ""status"": ""ACTIVE"", ""name"": ""NEW VPN SERVICE NAME"", ""admin_state_up"": true, ""subnet_id"": null, ""project_id"": ""26de9cd6cae94c8cb9f79d660d628e1f"", ""tenant_id"": ""26de9cd6cae94c8cb9f79d660d628e1f"", ""id"": ""41bfef97-af4e-4f6b-a5d3-4678859d2485"", ""description"": ""Updated description"", ""qos_policy_id"": ""a36c20d0-18e9-42ce-88fd-82a35977ee8c"" } } QoS Policy Application Details ------------------------------ Currently, Neutron had provided the QoS function but not for some interest streams. Here will focus on the VPN traffic. For this function, we will combine the ``iptables`` and ``tc`` together. The reason for choosing them is that, ``iptables`` could mark the VPN interest stream by the ipsec VPN transform protocols(such as esp, ah-esp protocols), the interface that the packets will outgoing and the local encapsulated IP if running in tunnel mode. Also we need to shape the vpn traffic before send out to the underlay network, so there are some new ``iptables`` rules will be installed on mangle table in the Router namespace. And we will introduce a new ``tc`` wrapper which is used ``htb`` and it will provides classification algorithm. Then developers can easily implement other complex traffic control. That means we will extend the current tc_lib in Neutron repo. Just like above description, the all thing need to extend a new L3 agent like fip_qos done. We suggest it named ``vip_qos``, it will install the appropriate ``iptables`` rules in the Router namespace which binding with ``VPN service``. Then users or managers could use the QoS function in the default Router and not affect other network streams. Security impact --------------- None Notifications impact -------------------- No expected change. Other end user impact --------------------- Users will be able to specify qos_policy to create/update ``VPN service``. Performance Impact ------------------ It will save the bandwidth of the underlay network in data center. Other deployer impact --------------------- None Developer impact ---------------- TBD. Implementation ============== Assignee(s) ----------- zhaobo Work Items ---------- * Add the DB model and extend the table column. * Extending VPN API to accept QoS policy. * Extending new tc wrapper which support classification algorithm. * Extending new L3 agent extension ``vip_qos``. * Add API validation code to validate access/existence of the qos_policy which created in Neutron. * Add UTs to Neutron-vpnaas. * Add API tests. * Update CLI to accept QoS fields. * Documentation work. Dependencies ============ None Testing ======= Unit tests, Functional tests, API tests and Scenario tests are necessary. Documentation Impact ==================== The Neutron API reference will need to be updated. References ========== ",,285,0
openstack%2Fswift~feature%2Fdeep~Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7,openstack/swift,feature/deep,Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7,Don't repeat merges when re-cleaving to existing shard db,MERGED,2018-04-27 14:56:24.000000000,2018-04-27 22:31:47.000000000,2018-04-27 22:31:47.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 14:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9dbd5700710970edf9c0e64b80fab4e36d8049d5', 'message': ""Don't repeat merges when re-cleaving to existing shard db\n\nPreviously, if a shard db was cleaved but failed to replicate, the\ncleaving would be repeated i.e. all rows in the shard range would be\nmerged from the retiring source db to the shard db. This is\nunnecessary, and inefficient, if the shard db is still intact from the\nprevious attempt to cleave and replicate.\n\nNow, once rows have been cleaved, a sync point is stored in the shard\ndb under the retiring source db id. This sync point is checked before\nrows are merged. If the shard db was re-created or replaced by another\nout-of-sync copy, the sync point will not be found and all rows will\nbe merged. If the shard db is unchanged, or is a copy to which the\noriginal shard db has been replicated, the sync point will be found\nand no rows will be merged.\n\nChange-Id: Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7\n""}, {'number': 2, 'created': '2018-04-27 17:38:46.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a6ad703406b3eb5ffbf801f29eb574c4a0bbea26', 'message': ""Don't repeat merges when re-cleaving to existing shard db\n\nPreviously, if a shard db was cleaved but failed to replicate, the\ncleaving would be repeated i.e. all rows in the shard range would be\nmerged from the retiring source db to the shard db. This is\nunnecessary, and inefficient, if the shard db is still intact from the\nprevious attempt to cleave and replicate.\n\nNow, once rows have been cleaved, a sync point is stored in the shard\ndb under the retiring source db id. This sync point is checked before\nrows are merged. If the shard db was re-created or replaced by another\nout-of-sync copy, the sync point will not be found and all rows will\nbe merged. If the shard db is unchanged, or is a copy to which the\noriginal shard db has been replicated, the sync point will be found\nand no rows will be merged.\n\nChange-Id: Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7\n""}]",1,564792,a6ad703406b3eb5ffbf801f29eb574c4a0bbea26,11,2,2,7847,,,0,"Don't repeat merges when re-cleaving to existing shard db

Previously, if a shard db was cleaved but failed to replicate, the
cleaving would be repeated i.e. all rows in the shard range would be
merged from the retiring source db to the shard db. This is
unnecessary, and inefficient, if the shard db is still intact from the
previous attempt to cleave and replicate.

Now, once rows have been cleaved, a sync point is stored in the shard
db under the retiring source db id. This sync point is checked before
rows are merged. If the shard db was re-created or replaced by another
out-of-sync copy, the sync point will not be found and all rows will
be merged. If the shard db is unchanged, or is a copy to which the
original shard db has been replicated, the sync point will be found
and no rows will be merged.

Change-Id: Ic9a5e525afcbc265b06d30c8897f7ffa5b3f95a7
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/564792/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,9dbd5700710970edf9c0e64b80fab4e36d8049d5,p-sharding-repeat-cleave," # only cleave from the retiring db - misplaced objects handler will # deal with any objects in the fresh db source_broker = broker.get_brokers()[0] with shard_broker.sharding_lock(): # if this range has been cleaved before but replication # failed then the shard db may still exist and it may not be # necessary to merge all the rows again source_db_id = source_broker.get_info()['id'] source_max_row = source_broker.get_max_row() sync_point = shard_broker.get_sync(source_db_id) if sync_point < source_max_row: sync_from_row = max(cleaving_context.last_cleave_to_row, sync_point) since_row=sync_from_row): else: self.logger.debug(""Cleaving '%s': %r - already in sync"", broker.path, shard_range) shard_broker.merge_syncs([{'sync_point': source_max_row, 'remote_id': source_db_id}])", brokers = broker.get_brokers() with shard_broker.sharding_lock(): for source_broker in brokers: since_row=cleaving_context.last_cleave_to_row):,260,96
openstack%2Fpython-mistralclient~master~I3408d758bd94038acf2bb9601d4bf2895040f931,openstack/python-mistralclient,master,I3408d758bd94038acf2bb9601d4bf2895040f931,Add the force parameter to delete executions,MERGED,2018-04-13 08:40:57.000000000,2018-04-27 22:30:17.000000000,2018-04-27 22:30:17.000000000,"[{'_account_id': 8532}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-13 08:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/ab797f668cd41605d29d881471de943fd87a3fd5', 'message': 'WIP force delete executions\n\nChange-Id: I3408d758bd94038acf2bb9601d4bf2895040f931\nRelated-Bug: #1598135\n'}, {'number': 2, 'created': '2018-04-16 23:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/0d00767b77ef3efe759195085addd93507f8d861', 'message': 'Add the force parameter to delete executions\n\nOn a related mistral change the force parameter was included to delete\nnon finished executions, this change add that option to the cli\n\nChange-Id: I3408d758bd94038acf2bb9601d4bf2895040f931\nRelated-Bug: #1598135\n'}, {'number': 3, 'created': '2018-04-17 11:03:42.000000000', 'files': ['mistralclient/commands/v2/executions.py', 'mistralclient/tests/unit/v2/test_executions.py', 'mistralclient/api/v2/executions.py', 'mistralclient/tests/unit/v2/test_cli_executions.py', 'releasenotes/notes/force-delete-executions-d08ce88a5deb3291.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/e400bed6b0888247eafc90ff338165cfe01e037f', 'message': 'Add the force parameter to delete executions\n\nOn a related mistral change the force parameter was included to delete\nnon finished executions, this change add that option to the cli\n\nChange-Id: I3408d758bd94038acf2bb9601d4bf2895040f931\nDepends-On: I19d822800a1ee056682daeaa7ddf0f400392525d\nRelated-Bug: #1598135\n'}]",3,561159,e400bed6b0888247eafc90ff338165cfe01e037f,18,5,3,15895,,,0,"Add the force parameter to delete executions

On a related mistral change the force parameter was included to delete
non finished executions, this change add that option to the cli

Change-Id: I3408d758bd94038acf2bb9601d4bf2895040f931
Depends-On: I19d822800a1ee056682daeaa7ddf0f400392525d
Related-Bug: #1598135
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/59/561159/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/commands/v2/executions.py', 'mistralclient/tests/unit/v2/test_executions.py', 'mistralclient/api/v2/executions.py', 'mistralclient/tests/unit/v2/test_cli_executions.py']",4,ab797f668cd41605d29d881471de943fd87a3fd5,bug/1598135," self.client.executions.delete.assert_called_once_with('id', force=None) def test_delete_with_force(self): self.call(execution_cmd.Delete, app_args=['id', '--force']) self.client.executions.delete.assert_called_once_with('id', force=True) [mock.call('id1', force=None), mock.call('id2', force=None)],"," self.client.executions.delete.assert_called_once_with('id') [mock.call('id1'), mock.call('id2')],",33,6
openstack%2Fproject-config~master~Iad0da92c64b35c00bcf66d6d0e617575d5467825,openstack/project-config,master,Iad0da92c64b35c00bcf66d6d0e617575d5467825,Add new project pbrx,MERGED,2018-04-27 21:42:26.000000000,2018-04-27 22:22:35.000000000,2018-04-27 22:22:35.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 21:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8c0744e50d9991f7b62bafd996a67bff1fa2bbb2', 'message': ""Add new project pbrx\n\nThere keep being helper utilities that would be useful to put into pbr,\nbut we (rightly) want to keep pbr small.\n\nMake a new repo called pbrx that provides a new CLI tool that can do\nuseful things with pbr repos.\n\nThis is not attached to governance anywhere yet on purpose. We can\nfigure out if it's a good idea before doing that.\n\nChange-Id: Iad0da92c64b35c00bcf66d6d0e617575d5467825\n""}, {'number': 2, 'created': '2018-04-27 22:02:15.000000000', 'files': ['gerrit/acls/openstack/pbrx.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1c8fe8ee69013c2d8d55138545339c2e46099eca', 'message': ""Add new project pbrx\n\nThere keep being helper utilities that would be useful to put into pbr,\nbut we (rightly) want to keep pbr small.\n\nMake a new repo called pbrx that provides a new CLI tool that can do\nuseful things with pbr repos.\n\nThis is not attached to governance anywhere yet on purpose. We can\nfigure out if it's a good idea before doing that.\n\nChange-Id: Iad0da92c64b35c00bcf66d6d0e617575d5467825\n""}]",0,564896,1c8fe8ee69013c2d8d55138545339c2e46099eca,9,4,2,2,,,0,"Add new project pbrx

There keep being helper utilities that would be useful to put into pbr,
but we (rightly) want to keep pbr small.

Make a new repo called pbrx that provides a new CLI tool that can do
useful things with pbr repos.

This is not attached to governance anywhere yet on purpose. We can
figure out if it's a good idea before doing that.

Change-Id: Iad0da92c64b35c00bcf66d6d0e617575d5467825
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/564896/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,8c0744e50d9991f7b62bafd996a67bff1fa2bbb2,new-project, - openstack/pbrx,,5,0
openstack%2Fnetworking-odl~master~Iefb78907db87300b7da1354f659b235f99fa95a5,openstack/networking-odl,master,Iefb78907db87300b7da1354f659b235f99fa95a5,DNM test neutron fix,ABANDONED,2018-04-23 22:32:35.000000000,2018-04-27 21:48:17.000000000,,"[{'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-04-23 22:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/14590e1a99ab5ca7993dd17f7222d65c076ac335', 'message': 'DNM test neutron fix\n\nDepends-On: If4b28110f460f6ac77ace1bbb02967ea986d4cab\nChange-Id: Iefb78907db87300b7da1354f659b235f99fa95a5\n'}, {'number': 2, 'created': '2018-04-24 22:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eb9354c5c041b4ea2fa7d6149666a80b91003a24', 'message': 'DNM test neutron fix\n\nDepends-On: https://review.openstack.org/#/c/563736/\nChange-Id: Iefb78907db87300b7da1354f659b235f99fa95a5\n'}, {'number': 3, 'created': '2018-04-25 13:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/41a746c22b4dda45dab1d375be143ca5ff6a5891', 'message': 'DNM test neutron fix\n\nDepends-On: https://review.openstack.org/#/c/563736/\nChange-Id: Iefb78907db87300b7da1354f659b235f99fa95a5\n'}, {'number': 4, 'created': '2018-04-25 16:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dee0306203e43f814af15d93ea7632992dbb1108', 'message': 'DNM test neutron fix\n\nDepends-On: https://review.openstack.org/#/c/563736/\nChange-Id: Iefb78907db87300b7da1354f659b235f99fa95a5\n'}, {'number': 5, 'created': '2018-04-25 21:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/584776a2f6f10b20e3742de0dd280e5b76fe185b', 'message': 'DNM test neutron fix\n\nDepends-On: https://review.openstack.org/#/c/563736/\nChange-Id: Iefb78907db87300b7da1354f659b235f99fa95a5\n'}, {'number': 6, 'created': '2018-04-27 16:21:43.000000000', 'files': ['networking_odl/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f9e767c8da44e91b18d6891ab229e3d6bdce733b', 'message': 'DNM test neutron fix\n\nDepends-On: https://review.openstack.org/#/c/563736/\nChange-Id: Iefb78907db87300b7da1354f659b235f99fa95a5\n'}]",0,563786,f9e767c8da44e91b18d6891ab229e3d6bdce733b,13,3,6,9656,,,0,"DNM test neutron fix

Depends-On: https://review.openstack.org/#/c/563736/
Change-Id: Iefb78907db87300b7da1354f659b235f99fa95a5
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/86/563786/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/__init__.py'],1,14590e1a99ab5ca7993dd17f7222d65c076ac335,fix/loopingcall_intervals_in_tests,# Copyright 2011 OpenStack Foundation ,# Copyright 2011 OpenStack Foundation,1,1
openstack%2Fopenstack-helm~master~Ie87bd393612fdfff5d27fe588a75aed1528df76c,openstack/openstack-helm,master,Ie87bd393612fdfff5d27fe588a75aed1528df76c,Add image build for kubernetes-entrypoint,MERGED,2018-04-03 20:46:29.000000000,2018-04-27 21:44:27.000000000,2018-04-27 21:44:27.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-04-03 20:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/defb9790249cc87ecab0d301dde5146f4e96c236', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposes configuration for where to download the\nbinary from and where to push the image to, among other things.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}, {'number': 2, 'created': '2018-04-04 15:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/25389fc40eed5988e4443361c697a38056c4e1b3', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposes configuration for where to download the\nbinary from and where to push the image to, among other things.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}, {'number': 3, 'created': '2018-04-04 18:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8fb1a1ce6456e880a012741162452d6462b9515', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposes configuration for where to download the\nbinary from and where to push the image to, among other things.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}, {'number': 4, 'created': '2018-04-09 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dfe87ed9648fae733554a3ef5cef0dd4b5c1bcac', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposed configuration includes where to get the\nsource code from and where to push the built image to.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}, {'number': 5, 'created': '2018-04-10 14:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ae8a047c99f56fb29068b3075426c9391f84e82', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposed configuration includes where to get the\nsource code from and where to push the built image to.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}, {'number': 6, 'created': '2018-04-10 15:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abd15637bf208385434c86cb77e6812264b8c1e2', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposed configuration includes where to get the\nsource code from and where to push the built image to.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}, {'number': 7, 'created': '2018-04-11 03:11:06.000000000', 'files': ['tools/images/kubernetes-entrypoint/.gitignore', 'tools/images/kubernetes-entrypoint/Dockerfile', 'tools/images/kubernetes-entrypoint/README.rst', 'tools/images/kubernetes-entrypoint/Makefile'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e55fafa1b01aacd692e1136c576880b7237e86c3', 'message': 'Add image build for kubernetes-entrypoint\n\nThis adds a Dockerfile and Makefile for building an image for\nkubernetes-entrypoint. Exposed configuration includes where to get the\nsource code from and where to push the built image to.\n\nChange-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c\n'}]",15,558622,e55fafa1b01aacd692e1136c576880b7237e86c3,43,7,7,27715,,,0,"Add image build for kubernetes-entrypoint

This adds a Dockerfile and Makefile for building an image for
kubernetes-entrypoint. Exposed configuration includes where to get the
source code from and where to push the built image to.

Change-Id: Ie87bd393612fdfff5d27fe588a75aed1528df76c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/558622/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubernetes-entrypoint/Dockerfile', 'tools/images/kubernetes-entrypoint/README.rst', 'tools/images/kubernetes-entrypoint/Makefile']",3,defb9790249cc87ecab0d301dde5146f4e96c236,558622,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # It's necessary to set this because some environments don't link sh -> bash. SHELL := /bin/bash # Image args IMAGE_REGISTRY ?= docker.io IMAGE_NAME ?= kubernetes-entrypoint IMAGE_PREFIX ?= openstackhelm IMAGE_TAG ?= IMAGE_LABELS ?= IMAGE := ${IMAGE_REGISTRY}/${IMAGE_PREFIX}/${IMAGE_NAME}$(if $(IMAGE_TAG),:$(IMAGE_TAG),) # Build args BINARY_DOWNLOAD_URL ?= BINARY_INSTALL_PATH ?= # Extra args to pass to Docker build DOCKER_BUILD_OPTS ?= # Internal variables _BINARY_DOWNLOAD_URL_ARG := $(if $(BINARY_DOWNLOAD_URL),--build-arg BINARY_DOWNLOAD_URL=""${BINARY_DOWNLOAD_URL}"" ,) _BINARY_INSTALL_PATH_ARG := $(if $(BINARY_INSTALL_PATH),--build-arg BINARY_INSTALL_PATH=""${BINARY_INSTALL_PATH}"" ,) _IMAGE_LABELS_ARG := $(if $(IMAGE_LABELS),--label=""${IMAGE_LABELS}"" ,) # Build image .PHONY: all all: docker build\ $(_BINARY_DOWNLOAD_URL_ARG)\ $(_BINARY_INSTALL_PATH_ARG)\ $(_IMAGE_LABELS_ARG)\ -t $(IMAGE)\ $(DOCKER_BUILD_OPTS)\ . # Push image .PHONY: push push: docker push $(IMAGE) ",,94,0
openstack%2Ftripleo-quickstart-extras~master~Iaa4313d9f476b9b5481245e8556db2244789ca1f,openstack/tripleo-quickstart-extras,master,Iaa4313d9f476b9b5481245e8556db2244789ca1f,Increase ssh timeout after reboot in nodepool setup,ABANDONED,2018-04-20 12:59:21.000000000,2018-04-27 20:39:00.000000000,,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 12:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d22fc72c19d43a4ff30157a9b819eecfd0cb299f', 'message': 'Increase ssh timeout after reboot in nodepool setup\n\nFor libvirt VMs, the reboot and restart time after reboot\ntakes longer than than the originally specified 180s.\nWatching the VMM console for these VMs, they do reboot\nsuccessfully and are available for ssh connection\nafter a longer wait time.\n\nChange-Id: Iaa4313d9f476b9b5481245e8556db2244789ca1f\n'}, {'number': 2, 'created': '2018-04-23 19:58:08.000000000', 'files': ['roles/nodepool-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c61676f498b10fcd287aee53822592e2df268076', 'message': 'Increase ssh timeout after reboot in nodepool setup\n\nFor libvirt VMs, the reboot and restart time after reboot\ntakes longer than than the originally specified 180s.\nWatching the VMM console for these VMs, they do reboot\nsuccessfully and are available for ssh connection\nafter a longer wait time.\n\nChange-Id: Iaa4313d9f476b9b5481245e8556db2244789ca1f\n'}]",0,563102,c61676f498b10fcd287aee53822592e2df268076,11,6,2,9976,,,0,"Increase ssh timeout after reboot in nodepool setup

For libvirt VMs, the reboot and restart time after reboot
takes longer than than the originally specified 180s.
Watching the VMM console for these VMs, they do reboot
successfully and are available for ssh connection
after a longer wait time.

Change-Id: Iaa4313d9f476b9b5481245e8556db2244789ca1f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/563102/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/nodepool-setup/tasks/main.yml'],1,d22fc72c19d43a4ff30157a9b819eecfd0cb299f,increase-nodepool-setup-timeout," local_action: wait_for host=""{{ hostvars[inventory_hostname].subnode_public_ip }}"" port=22 delay=5 state=started connect_timeout=10 timeout=360"," local_action: wait_for host=""{{ hostvars[inventory_hostname].subnode_public_ip }}"" port=22 delay=5 state=started connect_timeout=10 timeout=180",1,1
openstack%2Fbarbican~master~I216f887875b1306604dd370301ac463cccbb2fa9,openstack/barbican,master,I216f887875b1306604dd370301ac463cccbb2fa9,Fix Dogtag mode on key generation,MERGED,2017-10-17 15:23:34.000000000,2018-04-27 20:37:20.000000000,2017-11-30 09:28:24.000000000,"[{'_account_id': 8623}, {'_account_id': 10873}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-17 15:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2fdfadfb55d5e2ddfcaee01630cd2929549dee3c', 'message': ""Fix Dogtag mode on key generation\n\nDogtag doesn't actually need the mode parameter to be\nstored in metadata.  We remove it from the generation case\nbecause passing back a None value for the metadata breaks\nmetadata validation.\n\nChange-Id: I216f887875b1306604dd370301ac463cccbb2fa9\n""}, {'number': 2, 'created': '2017-10-30 20:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0a5ccaa635ece6fe9aa477423323be26d3d08fc3', 'message': ""Fix Dogtag mode on key generation\n\nDogtag doesn't actually need the mode parameter to be\nstored in metadata.  We remove it from the generation case\nbecause passing back a None value for the metadata breaks\nmetadata validation.\n\nAdded a functional test for None passed into the order for\nthe mode.\n\nChange-Id: I216f887875b1306604dd370301ac463cccbb2fa9\n""}, {'number': 3, 'created': '2017-11-13 07:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d953c2ad107ad9953f3c8e101f7c35c75b0ce57', 'message': ""Fix Dogtag mode on key generation\n\nDogtag doesn't actually need the mode parameter to be\nstored in metadata.  We remove it from the generation case\nbecause passing back a None value for the metadata breaks\nmetadata validation.\n\nAdded a functional test for None passed into the order for\nthe mode.\n\nChange-Id: I216f887875b1306604dd370301ac463cccbb2fa9\n""}, {'number': 4, 'created': '2017-11-28 21:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/18f74d8a96432bef7d22e83b56ec908f95b30a12', 'message': ""Fix Dogtag mode on key generation\n\nDogtag doesn't actually need the mode parameter to be\nstored in metadata.  We remove it from the generation case\nbecause passing back a None value for the metadata breaks\nmetadata validation.\n\nAdded a functional test for None passed into the order for\nthe mode.\n\nChange-Id: I216f887875b1306604dd370301ac463cccbb2fa9\n""}, {'number': 5, 'created': '2017-11-29 19:22:44.000000000', 'files': ['functionaltests/api/v1/functional/test_orders.py', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0861657fc1ea2d04faad2b7180fae0d0e59fb09c', 'message': ""Fix Dogtag mode on key generation\n\nDogtag doesn't actually need the mode parameter to be\nstored in metadata.  We remove it from the generation case\nbecause passing back a None value for the metadata breaks\nmetadata validation.\n\nAdded a functional test for no value passed in for the mode\nin the order request.\n\nChange-Id: I216f887875b1306604dd370301ac463cccbb2fa9\n""}]",0,512668,0861657fc1ea2d04faad2b7180fae0d0e59fb09c,18,4,5,9914,,,0,"Fix Dogtag mode on key generation

Dogtag doesn't actually need the mode parameter to be
stored in metadata.  We remove it from the generation case
because passing back a None value for the metadata breaks
metadata validation.

Added a functional test for no value passed in for the mode
in the order request.

Change-Id: I216f887875b1306604dd370301ac463cccbb2fa9
",git fetch https://review.opendev.org/openstack/barbican refs/changes/68/512668/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/dogtag.py'],1,2fdfadfb55d5e2ddfcaee01630cd2929549dee3c,fix-dogtag-mode,," DogtagKRAPlugin.SECRET_MODE: key_spec.mode,",0,1
openstack%2Fnova~master~I5136564475177b038227f799f0286887ed8ae545,openstack/nova,master,I5136564475177b038227f799f0286887ed8ae545,Ironic: Lock the instance if early vif plug,ABANDONED,2018-04-23 17:42:30.000000000,2018-04-27 20:15:09.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 17:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/948afc17b2e80ee7d215f6dc56b8857a4f75306a', 'message': 'DNM: Test: Ironic: Lock the instance if plug vifs\n\nChange-Id: I5136564475177b038227f799f0286887ed8ae545\nCloses-Bug: #1766301\n'}, {'number': 2, 'created': '2018-04-23 21:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd9199b77a6e0f2887f92ea88137f4971f4e97e0', 'message': 'DNM: Test: Ironic: Lock the instance if plug vifs\n\nChange-Id: I5136564475177b038227f799f0286887ed8ae545\nCloses-Bug: #1766301\n'}, {'number': 3, 'created': '2018-04-24 04:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02969a362868d8a478806c35b1c6da3ea8cb8a25', 'message': 'Ironic: Lock the instance if early vif plug\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nThis is prevelent with the need for block device mapping when\nbooting from a remote volume, to have actual initiator information\nwhich also means attaching VIFs upfront, which now takes place as\na separate step before the baremetal node is ""reserved"" by the act\nof adding an ""instance_uuid"" field.\n\nIt makes sense, due to the way ironic API interaction is across\nmultiple steps, to assert an ""instance_uuid"" field to the ironic API\nwhen performing a VIF pluggin action to indicate that the node is\nnow in use, if one is not presently set.\n\nOutside of initial deployment, the instance_uuid should already be\nset due to where the node is in the ironic state machine.\n\nChange-Id: I5136564475177b038227f799f0286887ed8ae545\nCloses-Bug: #1766301\n'}, {'number': 4, 'created': '2018-04-24 13:42:35.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2fe215bc63ac50f8b59d573d084f447e98bc050', 'message': 'Ironic: Lock the instance if early vif plug\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nThis is prevelent with the need for block device mapping when\nbooting from a remote volume, to have actual initiator information\nwhich also means attaching VIFs upfront, which now takes place as\na separate step before the baremetal node is ""reserved"" by the act\nof adding an ""instance_uuid"" field.\n\nIt makes sense, due to the way ironic API interaction is across\nmultiple steps, to assert an ""instance_uuid"" field to the ironic API\nwhen performing a VIF pluggin action to indicate that the node is\nnow in use, if one is not presently set.\n\nOutside of initial deployment, the instance_uuid should already be\nset due to where the node is in the ironic state machine.\n\nChange-Id: I5136564475177b038227f799f0286887ed8ae545\nCloses-Bug: #1766301\n'}]",2,563714,d2fe215bc63ac50f8b59d573d084f447e98bc050,41,12,4,11655,,,0,"Ironic: Lock the instance if early vif plug

In the baremetal use case, it is necessary to allow a remote
source of truth assert information about a physical node,
as opposed to a client asserting desired configuration.

This is prevelent with the need for block device mapping when
booting from a remote volume, to have actual initiator information
which also means attaching VIFs upfront, which now takes place as
a separate step before the baremetal node is ""reserved"" by the act
of adding an ""instance_uuid"" field.

It makes sense, due to the way ironic API interaction is across
multiple steps, to assert an ""instance_uuid"" field to the ironic API
when performing a VIF pluggin action to indicate that the node is
now in use, if one is not presently set.

Outside of initial deployment, the instance_uuid should already be
set due to where the node is in the ironic state machine.

Change-Id: I5136564475177b038227f799f0286887ed8ae545
Closes-Bug: #1766301
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/563714/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,948afc17b2e80ee7d215f6dc56b8857a4f75306a,bug/1766301," if not node.instance_uuid: patch.append({'path': '/instance_uuid', 'op': 'add', 'value': instance.uuid}) node = self.ironicclient.call(""node.get"", instance.node) # NOTE(TheJulia): If the instance_uuid is not present, we're likely # just being told to start the process of taking possession of the # node for a deployment. In this case, we should go ahead and apply # the VIF to claim ownership of the node. if not node.instance_uuid: patch = {'path': '/instance_uuid', 'op': 'add', 'value': instance.uuid} try: # NOTE(TheJulia): Assert an instance UUID to lock the node # from other deployment attempts while configuration is # being set. self.ironicclient.call('node.update', node.uuid, patch, retry_on_conflict=False) except ironic.exc.BadRequest: msg = (_(""Failed to reserve node %(node)s for VIF plugging"" ""when provisioning the instance %(instance)s"") % {'node': node.uuid, 'instance': instance.uuid}) LOG.error(msg) raise exception.InstanceDeployFailure(msg) "," patch.append({'path': '/instance_uuid', 'op': 'add', 'value': instance.uuid})",24,2
openstack%2Fpuppet-openstack_extras~master~Ie687a1386e09a2db86caab57cde938224f79777e,openstack/puppet-openstack_extras,master,Ie687a1386e09a2db86caab57cde938224f79777e,Prepare repos to rocky,MERGED,2018-04-09 09:40:06.000000000,2018-04-27 20:00:18.000000000,2018-04-27 20:00:18.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-09 09:40:06.000000000', 'files': ['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb', 'manifests/repo/debian/debian.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/64706978394eac4459019e66b30e605b65120302', 'message': ""Prepare repos to rocky\n\nMake default use rocky, just a preparation\nto so it's not forgotten when its released.\n\nWe still pin version in p-o-i so we should be fine.\n\nChange-Id: Ie687a1386e09a2db86caab57cde938224f79777e\n""}]",0,559677,64706978394eac4459019e66b30e605b65120302,7,4,1,16137,,,0,"Prepare repos to rocky

Make default use rocky, just a preparation
to so it's not forgotten when its released.

We still pin version in p-o-i so we should be fine.

Change-Id: Ie687a1386e09a2db86caab57cde938224f79777e
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/77/559677/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb', 'manifests/repo/debian/debian.pp']",6,64706978394eac4459019e66b30e605b65120302,,# Defaults to $::openstack_extras::repo::debian::params::release,# Defaults to 'queens',16,16
openstack%2Fopenstack-helm~master~I76815685f31627dadd7d7b45f1527e051d9cbb89,openstack/openstack-helm,master,I76815685f31627dadd7d7b45f1527e051d9cbb89,neutron: default to OVSHybridIptablesFirewallDriver firewall driver,MERGED,2018-04-26 19:03:01.000000000,2018-04-27 20:00:17.000000000,2018-04-27 20:00:17.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-26 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d03603d86fd8bab09d168477cacde79f4d44e26', 'message': '[RFC] neutron: default to OVSHybridIptablesFirewallDriver firewall driver\n\nDefault to using the hybrid iptables driver as the openvswitch\nfirewall driver is considered experimental and less well tested.\n\nChange-Id: I76815685f31627dadd7d7b45f1527e051d9cbb89\n'}, {'number': 2, 'created': '2018-04-27 01:39:32.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f0383eed135a3fc2f4b239367da16ec629ff318', 'message': 'neutron: default to OVSHybridIptablesFirewallDriver firewall driver\n\nDefault to using the hybrid iptables driver as the openvswitch\nfirewall driver is considered experimental and less well tested.\n\nhttps://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html\n\nChange-Id: I76815685f31627dadd7d7b45f1527e051d9cbb89\n'}]",0,564588,2f0383eed135a3fc2f4b239367da16ec629ff318,15,6,2,8898,,,0,"neutron: default to OVSHybridIptablesFirewallDriver firewall driver

Default to using the hybrid iptables driver as the openvswitch
firewall driver is considered experimental and less well tested.

https://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html

Change-Id: I76815685f31627dadd7d7b45f1527e051d9cbb89
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/564588/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,6d03603d86fd8bab09d168477cacde79f4d44e26,rfc-ovs-firewall, firewall_driver: neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver, firewall_driver: openvswitch,1,1
openstack%2Frally~master~If1afba72527deef0fc4c8577478d306141e0ac52,openstack/rally,master,If1afba72527deef0fc4c8577478d306141e0ac52,[version] Import rally.common.db.schema when necessary,MERGED,2018-04-27 17:32:26.000000000,2018-04-27 19:52:43.000000000,2018-04-27 19:52:43.000000000,"[{'_account_id': 6172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 17:32:26.000000000', 'files': ['rally/common/version.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/0d0e06ed9da80a48f27e74933f092f86ffa0ab84', 'message': '[version] Import rally.common.db.schema when necessary\n\nRally version is quite important thing which can be used from CLI\nor from python. It can be pretty useful while writting externatl plugins\nwhich want to be compatible with several rally versions.\n\nrally.common.version module should not import db stuff in the root\nlevel, since it requires importing sqlalchemy, alembic and other heavy\nlibraries.\n\nChange-Id: If1afba72527deef0fc4c8577478d306141e0ac52\n'}]",0,564851,0d0e06ed9da80a48f27e74933f092f86ffa0ab84,6,2,1,9545,,,0,"[version] Import rally.common.db.schema when necessary

Rally version is quite important thing which can be used from CLI
or from python. It can be pretty useful while writting externatl plugins
which want to be compatible with several rally versions.

rally.common.version module should not import db stuff in the root
level, since it requires importing sqlalchemy, alembic and other heavy
libraries.

Change-Id: If1afba72527deef0fc4c8577478d306141e0ac52
",git fetch https://review.opendev.org/openstack/rally refs/changes/51/564851/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/common/version.py'],1,0d0e06ed9da80a48f27e74933f092f86ffa0ab84,db_version, from rally.common.db import schema ,from rally.common.db import schema ,2,2
openstack%2Foslo.log~master~I400d4acf93ab634683cd9c4b05db7c79a51810be,openstack/oslo.log,master,I400d4acf93ab634683cd9c4b05db7c79a51810be,Fix sphinx-docs job,MERGED,2018-04-27 17:01:52.000000000,2018-04-27 19:46:42.000000000,2018-04-27 19:46:42.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 17:01:52.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/74277db9aaadeb7cde1ded0b097bbaace193c1cd', 'message': 'Fix sphinx-docs job\n\nbuild-openstack-sphinx-docs jobs fail on all branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I400d4acf93ab634683cd9c4b05db7c79a51810be\n'}]",0,564843,74277db9aaadeb7cde1ded0b097bbaace193c1cd,6,2,1,17685,,,0,"Fix sphinx-docs job

build-openstack-sphinx-docs jobs fail on all branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I400d4acf93ab634683cd9c4b05db7c79a51810be
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/43/564843/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,74277db9aaadeb7cde1ded0b097bbaace193c1cd,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fproject-config~master~Ib7c331af7ca588998080a67d631b59464c4d6e11,openstack/project-config,master,Ib7c331af7ca588998080a67d631b59464c4d6e11,Add Barbican to StoryBoard,MERGED,2018-04-24 18:51:31.000000000,2018-04-27 19:46:31.000000000,2018-04-27 19:46:31.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6928}, {'_account_id': 9914}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 18:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e823f75bf25bde61270303320adf02137bc1c10e', 'message': ""Add Barbican to StoryBoard\n\nThis patch adds all the barbican repos to the group: 'barbican'\nand enables use-storyboard: true for all of the repos as well.\n\nChange-Id: Ib7c331af7ca588998080a67d631b59464c4d6e11\n""}, {'number': 2, 'created': '2018-04-24 18:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/06e0d0db58f9640e8dcc4674a854e3f83394d3cb', 'message': ""Add Barbican to StoryBoard\n\nThis patch adds all the barbican repos to the group: 'barbican'\nand enables use-storyboard: true for all of the repos as well.\n\nChange-Id: Ib7c331af7ca588998080a67d631b59464c4d6e11\n""}, {'number': 3, 'created': '2018-04-24 19:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/898e8aaa92eb3cb1116a0daa1c25e2a3e448b44b', 'message': ""Add Barbican to StoryBoard\n\nThis patch adds all the barbican repos to the group: 'barbican'\nand enables use-storyboard: true for all of the repos as well.\n\nChange-Id: Ib7c331af7ca588998080a67d631b59464c4d6e11\n""}, {'number': 4, 'created': '2018-04-24 20:59:27.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e913f4802fc416f86f1bb223004463434b46912a', 'message': ""Add Barbican to StoryBoard\n\nThis patch adds all the barbican repos to the group: 'barbican'\nand enables use-storyboard: true for all of the repos as well.\n\nChange-Id: Ib7c331af7ca588998080a67d631b59464c4d6e11\n""}]",6,564047,e913f4802fc416f86f1bb223004463434b46912a,18,6,4,16708,,,0,"Add Barbican to StoryBoard

This patch adds all the barbican repos to the group: 'barbican'
and enables use-storyboard: true for all of the repos as well.

Change-Id: Ib7c331af7ca588998080a67d631b59464c4d6e11
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/564047/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e823f75bf25bde61270303320adf02137bc1c10e,Barbican_SB, use-storyboard: true groups: - barbican use-storyboard: true groups: - barbican use-storyboard: true groups: - barbican use-storyboard: true groups: - barbican use-storyboard: true groups: - barbican use-storyboard: true groups: - barbican,,18,0
openstack%2Fautomaton~stable%2Fpike~I5febb87f90a309db2131a2d169e29281afad81c2,openstack/automaton,stable/pike,I5febb87f90a309db2131a2d169e29281afad81c2,Fix sphinx-docs job for stable branch,MERGED,2018-04-24 17:44:23.000000000,2018-04-27 19:42:06.000000000,2018-04-27 19:42:06.000000000,"[{'_account_id': 6928}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 17:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/27178f06435a20ad49ba01de5e4c9ff18a90e777', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I5febb87f90a309db2131a2d169e29281afad81c2\n'}, {'number': 2, 'created': '2018-04-25 15:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/8dd2588d6090486c9ae0968242c665aca7c3b0b0', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I5febb87f90a309db2131a2d169e29281afad81c2\n'}, {'number': 3, 'created': '2018-04-25 16:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/20a96ee1f3d7b7ee3f66bca025b92832e17b1afe', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I5febb87f90a309db2131a2d169e29281afad81c2\n'}, {'number': 4, 'created': '2018-04-27 16:34:43.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/automaton/commit/de81692f305591d01002ec3c75f8ad6f73ec7b32', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I5febb87f90a309db2131a2d169e29281afad81c2\n'}]",2,564036,de81692f305591d01002ec3c75f8ad6f73ec7b32,13,3,4,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I5febb87f90a309db2131a2d169e29281afad81c2
",git fetch https://review.opendev.org/openstack/automaton refs/changes/36/564036/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,27178f06435a20ad49ba01de5e4c9ff18a90e777,pip10-stable-fix,"if [ -n ""$@"" ]; then pip install -c""$localfile"" -U ""$@"" fi ","pip install -c""$localfile"" -U ""$@""",4,1
openstack%2Fneutron~master~Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae,openstack/neutron,master,Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae,fullstack: Migration from iptables_hybrid to openvswitch,MERGED,2018-04-20 15:43:48.000000000,2018-04-27 19:28:28.000000000,2018-04-27 19:28:28.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 15:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfcb39ecf4b808d41c009b1f19e67c20b97d809a', 'message': 'fullstack: Migration from iptables_hybrid to openvswitch\n\nAdd test validating migration from iptables_hybrid firewall driver to\nopenvswitch. The test creates simple environment with a single node then\nspawns two vms, each has its own security group. Then firewall is\nswichted and OVS agent is restarted. Connectivity is then validated\nagain, security groups are removed, tested no traffic is allowed and\nthen security groups are added back to make sure new firewall driver\nworks with updates.\n\nChange-Id: Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae\n'}, {'number': 2, 'created': '2018-04-24 13:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb7ea77c23d14b8e8b860076064b3d8a09773245', 'message': 'fullstack: Migration from iptables_hybrid to openvswitch\n\nAdd test validating migration from iptables_hybrid firewall driver to\nopenvswitch. The test creates simple environment with a single node then\nspawns two vms, each has its own security group. Then firewall is\nswichted and OVS agent is restarted. Connectivity is then validated\nagain, security groups are removed, tested no traffic is allowed and\nthen security groups are added back to make sure new firewall driver\nworks with updates.\n\nChange-Id: Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae\n'}, {'number': 3, 'created': '2018-04-26 08:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/817e4c792dada8543e37c40168ae13da7e1af7b4', 'message': 'fullstack: Migration from iptables_hybrid to openvswitch\n\nAdd test validating migration from iptables_hybrid firewall driver to\nopenvswitch. The test creates simple environment with a single node then\nspawns two vms, each has its own security group. Then firewall is\nswichted and OVS agent is restarted. Connectivity is then validated\nagain, security groups are removed, tested no traffic is allowed and\nthen security groups are added back to make sure new firewall driver\nworks with updates.\n\nChange-Id: Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae\n'}, {'number': 4, 'created': '2018-04-26 16:44:38.000000000', 'files': ['neutron/tests/common/config_fixtures.py', 'neutron/tests/fullstack/test_firewall.py', 'neutron/tests/fullstack/resources/machine.py', 'neutron/agent/linux/openvswitch_firewall/iptables.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75d28cbc737c136c84fb24962e56931f7a51eb7e', 'message': 'fullstack: Migration from iptables_hybrid to openvswitch\n\nAdd test validating migration from iptables_hybrid firewall driver to\nopenvswitch. The test creates simple environment with a single node then\nspawns two vms, each has its own security group. Then firewall is\nswitched and OVS agent is restarted. Connectivity is then validated\nagain, security groups are removed, tested no traffic is allowed and\nthen security groups are added back to make sure new firewall driver\nworks with updates.\n\nChange-Id: Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae\n'}]",14,563159,75d28cbc737c136c84fb24962e56931f7a51eb7e,44,9,4,8655,,,0,"fullstack: Migration from iptables_hybrid to openvswitch

Add test validating migration from iptables_hybrid firewall driver to
openvswitch. The test creates simple environment with a single node then
spawns two vms, each has its own security group. Then firewall is
switched and OVS agent is restarted. Connectivity is then validated
again, security groups are removed, tested no traffic is allowed and
then security groups are added back to make sure new firewall driver
works with updates.

Change-Id: Idef80c76c1b82be9f1007f17ea661c9ccdc2b1ae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/563159/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/common/config_fixtures.py', 'neutron/tests/fullstack/test_firewall.py', 'neutron/tests/fullstack/resources/machine.py']",3,dfcb39ecf4b808d41c009b1f19e67c20b97d809a,fullstack-firewall-migration-test," # itertools.permutations(range(3), 2) results in: # ((0, 1), (0, 2), (1, 0), (1, 2), (2, 0), (2, 1)) for vm_1, vm_2 in itertools.permutations(self, 2):"," # itertools.combinations(range(3), 2) results in: # ((0, 1), (0, 2), (1, 2)) for vm_1, vm_2 in itertools.combinations(self, 2):",131,3
openstack%2Foslo.db~stable%2Fqueens~Idf418fb327475ddf167db8a85d6eff6456ca8c9b,openstack/oslo.db,stable/queens,Idf418fb327475ddf167db8a85d6eff6456ca8c9b,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 16:30:41.000000000,2018-04-27 19:15:38.000000000,2018-04-27 19:15:38.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 16:30:41.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9c0e9dc315b1b3a56222d613d60593403865ee26', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: Idf418fb327475ddf167db8a85d6eff6456ca8c9b\n'}]",0,564834,9c0e9dc315b1b3a56222d613d60593403865ee26,6,2,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: Idf418fb327475ddf167db8a85d6eff6456ca8c9b
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/34/564834/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,9c0e9dc315b1b3a56222d613d60593403865ee26,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~Idf17e3f817708d9e7dd7241063434ce56b6be052,openstack/python-tripleoclient,stable/queens,Idf17e3f817708d9e7dd7241063434ce56b6be052,Composable role and service fails workflow,MERGED,2018-04-27 07:49:54.000000000,2018-04-27 19:05:31.000000000,2018-04-27 19:05:31.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22323}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-27 07:49:54.000000000', 'files': ['releasenotes/notes/bug-1743575-dcacfa668eaf51a6.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b1565d88c1d3dc2ca3f718bb3f40dbb5ef8ad5a', 'message': 'Composable role and service fails workflow\n\nWhen defining a resource_registry for a composable service, the workflow fails\nbecause it validates before the user-environment is added.\nThis patch moves the workflow invocation after the creation of the user-\nenvironment.\nThis is caused by https://review.openstack.org/#/c/511249/ which changes the\nbehaviour of the action in tripleo-common.\n\nChange-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052\nCloses-Bug: 1743575\n(cherry picked from commit 7c0ad1df5e49358299cea3cd15ccdd6d2c54271d)\n'}]",0,564692,0b1565d88c1d3dc2ca3f718bb3f40dbb5ef8ad5a,7,8,1,22865,,,0,"Composable role and service fails workflow

When defining a resource_registry for a composable service, the workflow fails
because it validates before the user-environment is added.
This patch moves the workflow invocation after the creation of the user-
environment.
This is caused by https://review.openstack.org/#/c/511249/ which changes the
behaviour of the action in tripleo-common.

Change-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052
Closes-Bug: 1743575
(cherry picked from commit 7c0ad1df5e49358299cea3cd15ccdd6d2c54271d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/564692/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1743575-dcacfa668eaf51a6.yaml', 'tripleoclient/v1/overcloud_deploy.py']",2,0b1565d88c1d3dc2ca3f718bb3f40dbb5ef8ad5a,bug/1743575-stable/queens," # Parameters are removed from the environment params = env.pop('parameter_defaults', None) # Parameters are sent to the update parameters action, this stores them # in the plan environment and means the UI can find them. if params: workflow_params.update_parameters( self.workflow_client, container=container_name, parameters=params) "," # Parameters are removed from the environment and sent to the update # parameters action, this stores them in the plan environment and # means the UI can find them. if 'parameter_defaults' in env: params = env.pop('parameter_defaults') workflow_params.update_parameters( self.workflow_client, container=container_name, parameters=params)",15,8
openstack%2Ftripleo-common~master~I1ffb9e058ab1dbab8718a75ce1bc015633c69327,openstack/tripleo-common,master,I1ffb9e058ab1dbab8718a75ce1bc015633c69327,Bump Ceph container image from 3.0.1 to 3.0.3,MERGED,2018-04-20 09:49:40.000000000,2018-04-27 19:05:30.000000000,2018-04-27 19:05:30.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 09:49:40.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/074d4d780750242bbb7c3e7350ea51f847bf200f', 'message': ""Bump Ceph container image from 3.0.1 to 3.0.3\n\nCeph contaimer image version 3.0.3 added support for RHEL. This change\nbumps the version we're testing in CI (CentOS) from 3.0.1 to 3.0.3.\n\nThe new image was tested via I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n\nChange-Id: I1ffb9e058ab1dbab8718a75ce1bc015633c69327\n""}]",0,563012,074d4d780750242bbb7c3e7350ea51f847bf200f,23,4,1,6796,,,0,"Bump Ceph container image from 3.0.1 to 3.0.3

Ceph contaimer image version 3.0.3 added support for RHEL. This change
bumps the version we're testing in CI (CentOS) from 3.0.1 to 3.0.3.

The new image was tested via I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c

Change-Id: I1ffb9e058ab1dbab8718a75ce1bc015633c69327
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/563012/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,074d4d780750242bbb7c3e7350ea51f847bf200f,," 'ceph_tag': 'v3.0.3-stable-3.0-luminous-centos-7-x86_64',"," 'ceph_tag': 'v3.0.1-stable-3.0-luminous-centos-7-x86_64',",3,3
openstack%2Fpuppet-keystone~master~I337249e64bb5c3379db60f71608fb2d39b600294,openstack/puppet-keystone,master,I337249e64bb5c3379db60f71608fb2d39b600294,Remove deprecated rabbit params,MERGED,2018-04-27 07:53:22.000000000,2018-04-27 19:04:44.000000000,2018-04-27 19:04:44.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 07:53:22.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove-deprecated-rabbit-params-471257fa22f85280.yaml', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a0b03c521dcb2ea8944600ed83eabfec83f4858b', 'message': 'Remove deprecated rabbit params\n\nRemove the deprecated rabbit params which has\nbeen deprecated for two years. The default_transport_url\nhas been present for a while now and should be used.\n\nChange-Id: I337249e64bb5c3379db60f71608fb2d39b600294\n'}]",0,564693,a0b03c521dcb2ea8944600ed83eabfec83f4858b,7,3,1,16137,,,0,"Remove deprecated rabbit params

Remove the deprecated rabbit params which has
been deprecated for two years. The default_transport_url
has been present for a while now and should be used.

Change-Id: I337249e64bb5c3379db60f71608fb2d39b600294
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/93/564693/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove-deprecated-rabbit-params-471257fa22f85280.yaml', 'spec/classes/keystone_init_spec.rb']",3,a0b03c521dcb2ea8944600ed83eabfec83f4858b,deprecate,," 'rabbit_host' => '<SERVICE DEFAULT>', 'rabbit_password' => '<SERVICE DEFAULT>', 'rabbit_userid' => '<SERVICE DEFAULT>', 'rabbit_host' => '127.0.0.1', 'rabbit_password' => 'openstack', 'rabbit_userid' => 'admin', it 'should contain correct rabbit_password' do is_expected.to contain_keystone_config('oslo_messaging_rabbit/rabbit_password').with_value(param_hash['rabbit_password']).with_secret(true) end ",6,57
openstack%2Fcinder~stable%2Focata~I0edda1fa23aed0b3d25691d5f4440a7234decc9a,openstack/cinder,stable/ocata,I0edda1fa23aed0b3d25691d5f4440a7234decc9a,Cinder Tempest plugin tests: Switch to stable interface,MERGED,2018-04-20 18:08:48.000000000,2018-04-27 19:01:21.000000000,2018-04-27 17:12:31.000000000,"[{'_account_id': 4690}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-20 18:08:48.000000000', 'files': ['cinder/tests/tempest/api/volume/test_consistencygroups.py', 'cinder/tests/tempest/api/volume/test_volume_backup.py', 'cinder/tests/tempest/api/volume/base.py', 'cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ca58419dfa565f8cd26080e864edcb47a2bb701', 'message': 'Cinder Tempest plugin tests: Switch to stable interface\n\nAll the cinder tempest plugin tests are inherited from tempest/api/volume/base.py\nwhich is not stable class and can be changed anytime by tempest.\n\nOne recent case where some changes in base class on tempest side could\nhave break the cinder tests-\n http://logs.openstack.org/07/522707/3/check/legacy-tempest-dsvm-full-devstack-plugin-ceph/a92cd60/logs/testr_results.html.gz\n\nThis commit switch cinder tests to use test.py which is stable interface\nfor plugin and create a base class with commonly used function & variable.\n\nCloses-Bug: #1734821\n\n Conflicts:\n\tcinder/tests/tempest/api/volume/test_volume_backup.py\n\tcinder/tests/tempest/api/volume/test_volume_revert.py\n\nNOTE(melwitt): The conflicts are because test_volume_revert.py does not\nexist in Ocata and test_volume_backup.py has a snapshot_backup_opt\nconfig option that does not exist in Pike.\n\nChange-Id: I0edda1fa23aed0b3d25691d5f4440a7234decc9a\n(cherry picked from commit dae4b6df5f354355cf56eee2547314b2282670f4)\n(cherry picked from commit b52b4533c802e5143588d37cf2e854a31f5fbc13)\n'}]",0,563209,9ca58419dfa565f8cd26080e864edcb47a2bb701,53,22,1,4690,,,0,"Cinder Tempest plugin tests: Switch to stable interface

All the cinder tempest plugin tests are inherited from tempest/api/volume/base.py
which is not stable class and can be changed anytime by tempest.

One recent case where some changes in base class on tempest side could
have break the cinder tests-
 http://logs.openstack.org/07/522707/3/check/legacy-tempest-dsvm-full-devstack-plugin-ceph/a92cd60/logs/testr_results.html.gz

This commit switch cinder tests to use test.py which is stable interface
for plugin and create a base class with commonly used function & variable.

Closes-Bug: #1734821

 Conflicts:
	cinder/tests/tempest/api/volume/test_volume_backup.py
	cinder/tests/tempest/api/volume/test_volume_revert.py

NOTE(melwitt): The conflicts are because test_volume_revert.py does not
exist in Ocata and test_volume_backup.py has a snapshot_backup_opt
config option that does not exist in Pike.

Change-Id: I0edda1fa23aed0b3d25691d5f4440a7234decc9a
(cherry picked from commit dae4b6df5f354355cf56eee2547314b2282670f4)
(cherry picked from commit b52b4533c802e5143588d37cf2e854a31f5fbc13)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/563209/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/tempest/api/volume/test_consistencygroups.py', 'cinder/tests/tempest/api/volume/test_volume_backup.py', 'cinder/tests/tempest/api/volume/base.py', 'cinder/tests/tempest/api/volume/test_volume_unicode.py']",4,9ca58419dfa565f8cd26080e864edcb47a2bb701,bug/1681895-stable/ocata,"from tempest.lib.common.utils import test_utils from cinder.tests.tempest.api.volume import baseclass CinderUnicodeTest(base.BaseVolumeTest): cls.addClassResourceCleanup( cls.volumes_client.wait_for_resource_deletion, volume['id']) cls.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, cls.volumes_client.delete_volume, volume['id']) result = self.volumes_client.show_volume(self.volume['id'])",from tempest.api.volume import base as volume_baseclass CinderUnicodeTest(volume_base.BaseVolumeTest): cls.volumes.append(volume) result = self.volumes_client.show_volume(self.volumes[0]['id']),198,19
openstack%2Fswift~feature%2Fdeep~I7a473e164c8c14b26b195db9a91fea1d2cd5b267,openstack/swift,feature/deep,I7a473e164c8c14b26b195db9a91fea1d2cd5b267,Improve test coverage for metadata reclaim,MERGED,2018-04-27 09:20:45.000000000,2018-04-27 18:49:37.000000000,2018-04-27 18:49:37.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 09:20:45.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d967c31cb1d21feb17aee3d506b8851d8e8dcb9', 'message': 'Improve test coverage for metadata reclaim\n\nActually test that the reclaim method does reclaim metadata.\n\nReplace class invocation of _reclaim_metadata() with instance\ninvocation.\n\nFix reclaim() docstring.\n\nChange-Id: I7a473e164c8c14b26b195db9a91fea1d2cd5b267\nRelated-Change: Ied1373362c38bbe7bab84fe4958888b0145e68ba\n'}]",0,564710,0d967c31cb1d21feb17aee3d506b8851d8e8dcb9,6,2,1,7847,,,0,"Improve test coverage for metadata reclaim

Actually test that the reclaim method does reclaim metadata.

Replace class invocation of _reclaim_metadata() with instance
invocation.

Fix reclaim() docstring.

Change-Id: I7a473e164c8c14b26b195db9a91fea1d2cd5b267
Related-Change: Ied1373362c38bbe7bab84fe4958888b0145e68ba
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/564710/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py']",3,0d967c31cb1d21feb17aee3d506b8851d8e8dcb9,564540, AND name != ?, AND name!= ?,13,10
openstack%2Fneutron-fwaas-dashboard~stable%2Fqueens~I4f46a5fcec93de71fed35451e2d1dec9cc3015cb,openstack/neutron-fwaas-dashboard,stable/queens,I4f46a5fcec93de71fed35451e2d1dec9cc3015cb,Imported Translations from Zanata,MERGED,2018-04-26 06:15:38.000000000,2018-04-27 18:48:48.000000000,2018-04-27 18:48:48.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 06:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/b276069d63edc50e2324be2f0e10f06cd852466c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4f46a5fcec93de71fed35451e2d1dec9cc3015cb\n'}, {'number': 2, 'created': '2018-04-27 18:30:53.000000000', 'files': ['neutron_fwaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/80a23ecf0523d99595a1dd652554d63e8469bad1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4f46a5fcec93de71fed35451e2d1dec9cc3015cb\n'}]",0,564394,80a23ecf0523d99595a1dd652554d63e8469bad1,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f46a5fcec93de71fed35451e2d1dec9cc3015cb
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/94/564394/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,b276069d63edc50e2324be2f0e10f06cd852466c,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2018. #zanata""POT-Creation-Date: 2018-03-21 23:33+0000\n""""PO-Revision-Date: 2018-04-25 10:51+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n""msgid ""Added Firewall Group\""%s\""."" msgstr ""방화벽 그룹 \""%s\""를 추가하였습니다."" #, python-formatmsgid ""Create Firewall Group"" msgstr ""방화벽 그룹 생성"" msgid ""Create a Firewall Group with selected ports."" msgstr ""선택한 포트와 함께 방화벽 그룹을 생성합니다."" msgid ""Delete Firewall Group"" msgid_plural ""Delete Firewall Groups"" msgstr[0] ""방화벽 그룹 삭제"" msgid ""Edit Firewall Group"" msgstr ""방화벽 그룹 편집"" msgid ""Egress Policy"" msgstr ""Egress 정책"" msgid ""Failed to retrieve port list of the firewall group."" msgstr ""방화벽 그룹에 대한 포트 목록을 가져올 수 없습니다."" msgid ""Failed to update firewallgroup %(name)s: %(reason)s"" msgstr ""방화벽그룹 %(name)s 을(를) 업데이트하지 못하였습니다.: %(reason)s"" #, python-formatmsgid ""Firewall Groups"" msgstr ""방화벽 그룹"" #, python-format msgid ""FirewallGroup %s was successfully updated."" msgstr ""방화벽그룹 %s 을(를) 성공적으로 업데이트 하였습니다."" msgid ""Ingress Policy"" msgstr ""Ingress 정책"" msgid ""Remove port from FirewallGroup {{ name }}"" msgstr ""방화벽 그룹 {{ name }} 에서 포트 제거"" msgid ""Scheduled deletion of Firewall Group"" msgid_plural ""Scheduled deletion of Firewall Groups"" msgstr[0] ""방화벽 그룹에 대한 예약된 삭제"" msgid ""Select ports for your firewall group."" msgstr ""방화벽 그룹에 대한 포트를 선택합니다."" msgid ""Unable to add Firewall Group \""%s\""."" msgstr ""방화벽 그룹 \""%s\""를 추가할 수 없습니다."" #, python-formatmsgid ""Unable to retrieve firewallgroup details."" msgstr ""방화벽 그룹 세부 사항을 가져올 수 없습니다."" #, python-format msgid ""Unable to retrieve policy list (%s)."" msgstr ""정책 목록 (%s) 을(를) 가져올 수 없습니다."" msgid ""Unable to retrieve port list."" msgstr ""포트 목록을 가져올 수 없습니다."" #, python-format msgid ""Unable to retrieve ports (%s)."" msgstr ""포트 (%s) 을(를) 가져올 수 없습니다."" #, python-format msgid ""Unable to retrieve rules (%s)."" msgstr ""규칙 (%s) 을(를) 가져올 수 없습니다."" ","""POT-Creation-Date: 2018-02-22 06:53+0000\n""""PO-Revision-Date: 2018-02-12 10:17+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""",73,3
openstack%2Fdebtcollector~stable%2Fpike~I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a,openstack/debtcollector,stable/pike,I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a,Fix sphinx-docs job for stable branch,MERGED,2018-04-26 12:30:29.000000000,2018-04-27 18:47:27.000000000,2018-04-27 18:47:27.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 12:30:29.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/c67ad6c39ea10c6a06d44964cf3f39f7e44a0ece', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a\n'}]",0,564481,c67ad6c39ea10c6a06d44964cf3f39f7e44a0ece,7,2,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I880b39b88dfb0a22c77c6cc3fcbdf8096e50b39a
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/81/564481/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,c67ad6c39ea10c6a06d44964cf3f39f7e44a0ece,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I2acdab13ba2afe18656cdc66037af6b731058836,openstack/openstack-ansible-openstack_hosts,master,I2acdab13ba2afe18656cdc66037af6b731058836,Adjust how pip distro packages are implemented,MERGED,2018-04-27 16:28:11.000000000,2018-04-27 18:31:57.000000000,2018-04-27 17:22:23.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 16:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8bb65cd6ba674ec08c0a452c45baf45bf4db82ad', 'message': 'Adjust how pip distro packages are implemented\n\nUnfortunately the py_pkgs lookup is incapable of interpreting\njinja. It also assumes that any variable named _pip_packages\nhas python packages in it, and processes them.\n\nThis renames the variable so that it conforms with other distro\npackage lists using _distro_packages instead. It also adjusts\nthe way the packages are installed a little.\n\nChange-Id: I2acdab13ba2afe18656cdc66037af6b731058836\n'}, {'number': 2, 'created': '2018-04-27 16:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c59646189825bf7f0e06c49e2d92e61950a37bbb', 'message': 'Adjust how pip distro packages are implemented\n\nUnfortunately the py_pkgs lookup is incapable of interpreting\njinja. It also assumes that any variable named _pip_packages\nhas python packages in it, and processes them.\n\nThis renames the variable so that it conforms with other distro\npackage lists using _distro_packages instead.\n\nIt also adjusts the way the packages are installed a little so\nthat the var name is overridable, and the variables are nearer\ntheir physical host siblings.\n\nChange-Id: I2acdab13ba2afe18656cdc66037af6b731058836\n'}, {'number': 3, 'created': '2018-04-27 16:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4a7369d9ea7d82f441ed5a57e484da7141402c22', 'message': 'Adjust how pip distro packages are implemented\n\nUnfortunately the py_pkgs lookup is incapable of interpreting\njinja. It also assumes that any variable named _pip_packages\nhas python packages in it, and processes them.\n\nThis renames the variable so that it conforms with other distro\npackage lists using _distro_packages instead.\n\nIt also adjusts the way the packages are installed a little so\nthat the var name is overridable, and the variables are nearer\ntheir physical host siblings.\n\nChange-Id: I2acdab13ba2afe18656cdc66037af6b731058836\n'}, {'number': 4, 'created': '2018-04-27 16:35:42.000000000', 'files': ['tasks/main.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d99cf0f0b19668bee57fe118b788b4432ac38749', 'message': 'Adjust how pip distro packages are implemented\n\nUnfortunately the change in [1] broke the integrated build.\nThe py_pkgs lookup is incapable of interpreting jinja. It\nalso assumes that any variable named _pip_packages has\npython packages in it, and processes them.\n\nThis renames the variable so that it conforms with other distro\npackage lists using _distro_packages instead.\n\nIt also adjusts the way the packages are installed a little so\nthat the var name is overridable, and the variables are nearer\ntheir physical host siblings.\n\n[1] https://review.openstack.org/563684\nChange-Id: I2acdab13ba2afe18656cdc66037af6b731058836\n'}]",0,564832,d99cf0f0b19668bee57fe118b788b4432ac38749,14,4,4,6816,,,0,"Adjust how pip distro packages are implemented

Unfortunately the change in [1] broke the integrated build.
The py_pkgs lookup is incapable of interpreting jinja. It
also assumes that any variable named _pip_packages has
python packages in it, and processes them.

This renames the variable so that it conforms with other distro
package lists using _distro_packages instead.

It also adjusts the way the packages are installed a little so
that the var name is overridable, and the variables are nearer
their physical host siblings.

[1] https://review.openstack.org/563684
Change-Id: I2acdab13ba2afe18656cdc66037af6b731058836
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/32/564832/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",5,8bb65cd6ba674ec08c0a452c45baf45bf4db82ad,bp/openstack-distribution-packages,"# Overridable set of packages to install on all hosts and containers. openstack_host_distro_packages: ""{{ _openstack_host_distro_packages }}"" ","# Distribution packages required for using pip on the host openstack_host_pip_packages: ""{{ _openstack_host_pip_packages | default([]) }}"" ",27,20
openstack%2Fneutron~master~I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e,openstack/neutron,master,I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e,Remove deprecated IVS interface driver,MERGED,2018-04-25 19:47:09.000000000,2018-04-27 18:28:58.000000000,2018-04-27 18:28:58.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 19:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd988568eb1d170d0389329783f1271b4acd9301', 'message': 'Remove deprecated IVS interface driver\n\nThis was marked deprecated in Queens for removal in Rocky,\nhttps://review.openstack.org/#/c/505401/\n\nChange-Id: I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e\n'}, {'number': 2, 'created': '2018-04-26 19:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93a47a607c30381f4ecfbe03c95668019ab85bfb', 'message': 'Remove deprecated IVS interface driver\n\nThis was marked deprecated in Queens for removal in Rocky,\nhttps://review.openstack.org/#/c/505401/\n\nChange-Id: I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e\n'}, {'number': 3, 'created': '2018-04-26 20:15:48.000000000', 'files': ['etc/neutron/rootwrap.d/dhcp.filters', 'neutron/agent/linux/interface.py', 'releasenotes/notes/ivs-interfacedriver-removal-a9cce87310028b99.yaml', 'setup.cfg', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ad91f61f2d40d788764d64b1870d509069aad0a', 'message': 'Remove deprecated IVS interface driver\n\nThis was marked deprecated in Queens for removal in Rocky,\nhttps://review.openstack.org/#/c/505401/\n\nChange-Id: I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e\n'}]",0,564330,3ad91f61f2d40d788764d64b1870d509069aad0a,25,8,3,1131,,,0,"Remove deprecated IVS interface driver

This was marked deprecated in Queens for removal in Rocky,
https://review.openstack.org/#/c/505401/

Change-Id: I77fa59ae1819e87ab8ccc1fa5f0db86de3b90e2e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/564330/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/dhcp.filters', 'neutron/agent/linux/interface.py', 'setup.cfg', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/tests/unit/agent/linux/test_interface.py']",5,fd988568eb1d170d0389329783f1271b4acd9301,remove-ivs-interface-driver,,"from neutron.agent.linux import utils class TestIVSInterfaceDriver(TestBase): def test_get_device_name(self): br = interface.IVSInterfaceDriver(self.conf) device_name = br.get_device_name(FakePort()) self.assertEqual('ns-abcdef01-12', device_name) def test_plug_with_prefix(self): self._test_plug(devname='qr-0', prefix='qr-') def _test_plug(self, devname=None, namespace=None, prefix=None): if not devname: devname = 'ns-0' def device_exists(dev, namespace=None): return dev == 'indigo' ivs = interface.IVSInterfaceDriver(self.conf) self.device_exists.side_effect = device_exists root_dev = mock.Mock() _ns_dev = mock.Mock() ns_dev = mock.Mock() self.ip().add_veth = mock.Mock(return_value=(root_dev, _ns_dev)) self.ip().device = mock.Mock(return_value=(ns_dev)) expected = [mock.call(), mock.call().add_veth('tap0', devname), mock.call().device(devname)] ivsctl_cmd = ['ivs-ctl', 'add-port', 'tap0'] with mock.patch.object(utils, 'execute') as execute: ivs.plug('01234567-1234-1234-99', 'port-1234', devname, 'aa:bb:cc:dd:ee:ff', namespace=namespace, prefix=prefix, mtu=9000) execute.assert_called_once_with(ivsctl_cmd, run_as_root=True) ns_dev.assert_has_calls( [mock.call.link.set_address('aa:bb:cc:dd:ee:ff')]) ns_dev.assert_has_calls([mock.call.link.set_mtu(9000)]) root_dev.assert_has_calls([mock.call.link.set_mtu(9000)]) if namespace: expected.extend( [mock.call().ensure_namespace(namespace), mock.call().ensure_namespace().add_device_to_namespace( mock.ANY)]) self.ip.assert_has_calls(expected) root_dev.assert_has_calls([mock.call.link.set_up()]) ns_dev.assert_has_calls([mock.call.link.set_up()]) def test_plug_namespace(self): self._test_plug(namespace='mynamespace') def test_unplug(self): ivs = interface.IVSInterfaceDriver(self.conf) ivsctl_cmd = ['ivs-ctl', 'del-port', 'tap0'] with mock.patch.object(utils, 'execute') as execute: ivs.unplug('ns-0') execute.assert_called_once_with(ivsctl_cmd, run_as_root=True) self.ip_dev.assert_has_calls([mock.call('ns-0', namespace=None), mock.call().link.delete()])",0,141
openstack%2Fopenstack-ansible-os_swift~master~Icb7ca523cb19c560de5c84b0d60a06305029192c,openstack/openstack-ansible-os_swift,master,Icb7ca523cb19c560de5c84b0d60a06305029192c,Convert role to use a common systemd service role,MERGED,2018-03-31 02:46:37.000000000,2018-04-27 18:26:42.000000000,2018-04-27 18:26:42.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 02:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/e4fe9b26693cd2546d533549d5d3b612111838a3', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: Icb7ca523cb19c560de5c84b0d60a06305029192c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-31 03:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/e0a75f9cef81bad9fb9831f24f6b17a179022673', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: Icb7ca523cb19c560de5c84b0d60a06305029192c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-31 04:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/485f9814db951a3c40574a36a8ad49b5c426ba2c', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: Icb7ca523cb19c560de5c84b0d60a06305029192c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-04-22 14:00:27.000000000', 'files': ['tasks/main.yml', 'templates/swift-systemd-tmpfiles.j2', 'tasks/swift_init_systemd.yml', 'handlers/main.yml', 'templates/swift-systemd-init.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/8f1cb4dde58c2d09061d3d7fb29b9f54ccaff450', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: Icb7ca523cb19c560de5c84b0d60a06305029192c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,558020,8f1cb4dde58c2d09061d3d7fb29b9f54ccaff450,38,4,4,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

Change-Id: Icb7ca523cb19c560de5c84b0d60a06305029192c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/20/558020/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/swift-systemd-tmpfiles.j2', 'tasks/swift_init_systemd.yml', 'templates/swift-systemd-init.j2', 'defaults/main.yml', 'vars/main.yml']",6,e4fe9b26693cd2546d533549d5d3b612111838a3,common-systemd-service, {{ services | sort(attribute='start_order') }}, {{ services }},157,207
openstack%2Fhorizon~master~I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e,openstack/horizon,master,I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e,Correct the wrong set network quota behavior,ABANDONED,2016-07-21 04:55:38.000000000,2018-04-27 18:25:58.000000000,,"[{'_account_id': 841}, {'_account_id': 6763}, {'_account_id': 9155}, {'_account_id': 14107}, {'_account_id': 14151}, {'_account_id': 16628}, {'_account_id': 17172}, {'_account_id': 21226}, {'_account_id': 25434}]","[{'number': 1, 'created': '2016-07-21 04:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2bc7ee53a76548ccda43bd4db71f59d0c86e1212', 'message': 'Correct the wrong set networks quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}, {'number': 2, 'created': '2016-07-21 07:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2d0cd3f42cc3825f5c6c9b16d6bda929a319fc2', 'message': 'Correct the wrong set networks quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}, {'number': 3, 'created': '2016-07-28 00:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b546d9107e833c3ae4e2b925615a2f74da9589ae', 'message': 'Correct the wrong set network quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}, {'number': 4, 'created': '2016-08-04 06:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3375ac3838f5ef68a8692421ef47be314d6da357', 'message': 'Correct the wrong set network quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}, {'number': 5, 'created': '2016-08-04 06:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4a6e9b7c18ce6d33df71636b46bd3df082168a1a', 'message': 'Correct the wrong set network quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}, {'number': 6, 'created': '2016-08-05 04:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a9d00f83dfecc1c963bcdb9fa5fbf7827085f141', 'message': 'Correct the wrong set network quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}, {'number': 7, 'created': '2017-03-01 14:57:18.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/tables.py', 'openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/usage/quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a182d85315335a11d9f1c1354abf8c883c8bf68b', 'message': 'Correct the wrong set network quota behavior\n\nReproduce:\nPrecondition: There have two networks under the ""demo"" user,\nthe \'demo\' user belong to ""demo"" project.\n\n1, Open \'Identity/Project/\' page, click ""Modify Quotas"" in the tables actions\n2, Set the ""Networks"" quota field value 1.\n\nExpected result:\n    Cast error: Quota value(s) cannot be less than the current usage\n    value(s): 2 Networks used.\nActual result:\n    Update ""Network"" quota success\n\nThe reason is the key for usages and workflow field is not consistent.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e\nCloses-Bug: #1605054\n'}]",1,345163,a182d85315335a11d9f1c1354abf8c883c8bf68b,36,9,7,14151,,,0,"Correct the wrong set network quota behavior

Reproduce:
Precondition: There have two networks under the ""demo"" user,
the 'demo' user belong to ""demo"" project.

1, Open 'Identity/Project/' page, click ""Modify Quotas"" in the tables actions
2, Set the ""Networks"" quota field value 1.

Expected result:
    Cast error: Quota value(s) cannot be less than the current usage
    value(s): 2 Networks used.
Actual result:
    Update ""Network"" quota success

The reason is the key for usages and workflow field is not consistent.

Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
Change-Id: I6370b54225dc0746a4676c8b5af6b8dc6e6fce9e
Closes-Bug: #1605054
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/345163/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/projects/workflows.py'],1,2bc7ee53a76548ccda43bd4db71f59d0c86e1212,bug/1605054," networks = forms.IntegerField(min_value=-1, label=_(""Networks""))"," network = forms.IntegerField(min_value=-1, label=_(""Networks""))",1,1
openstack%2Fneutron-fwaas-dashboard~stable%2Fqueens~Ie2d9520800dbf06459a0628524146b12bc33fb92,openstack/neutron-fwaas-dashboard,stable/queens,Ie2d9520800dbf06459a0628524146b12bc33fb92,Fix gate errors,MERGED,2018-04-26 14:45:52.000000000,2018-04-27 18:25:13.000000000,2018-04-27 18:25:13.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 14:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/8ba0e47b8cd78e2d0e5f29c26aa1764993355111', 'message': 'Fix gate errors\n\n- Fix pep8 errors caused by recent pycodestyle upgrade\n- Skip pip install if no requirements is specified\n\nChange-Id: Ie2d9520800dbf06459a0628524146b12bc33fb92\n'}, {'number': 2, 'created': '2018-04-26 14:56:42.000000000', 'files': ['neutron_fwaas_dashboard/test/api_tests/fwaas_v2_tests.py', 'tools/tox_install.sh', 'doc/source/conf.py', 'neutron_fwaas_dashboard/test/settings.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tests.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/e6e9f24d31d09aaf48100e537da5e131de44618a', 'message': 'Fix gate errors\n\n- Fix pep8 errors caused by recent pycodestyle upgrade\n- Skip pip install if no requirements is specified\n\nChange-Id: Ie2d9520800dbf06459a0628524146b12bc33fb92\n'}]",1,564523,e6e9f24d31d09aaf48100e537da5e131de44618a,9,2,2,841,,,0,"Fix gate errors

- Fix pep8 errors caused by recent pycodestyle upgrade
- Skip pip install if no requirements is specified

Change-Id: Ie2d9520800dbf06459a0628524146b12bc33fb92
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/23/564523/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas_dashboard/test/api_tests/fwaas_v2_tests.py', 'tools/tox_install.sh', 'doc/source/conf.py', 'neutron_fwaas_dashboard/test/settings.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tests.py']",5,8ba0e47b8cd78e2d0e5f29c26aa1764993355111,fixes," api_fwaas_v2.policy_remove_rule( IsA(http.HttpRequest), policy.id, **data)\"," api_fwaas_v2.policy_remove_rule(IsA(http.HttpRequest), policy.id, **data)\",16,11
openstack%2Frequirements~master~I7cafbccf8e128558e51aa199c5a6df5f96c2db48,openstack/requirements,master,I7cafbccf8e128558e51aa199c5a6df5f96c2db48,update constraint for reno to new release 2.9.1,MERGED,2018-04-27 14:59:00.000000000,2018-04-27 18:05:25.000000000,2018-04-27 18:05:25.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 14:59:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b8eb3f6e8cc73b64c868998bdd05d9b4c5133434', 'message': 'update constraint for reno to new release 2.9.1\n\nChange-Id: I7cafbccf8e128558e51aa199c5a6df5f96c2db48\nmeta:version: 2.9.1\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Commit: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Change-Id: I7c17d739309297464d55ad5fef80cdf014bd5be7\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,564794,b8eb3f6e8cc73b64c868998bdd05d9b4c5133434,8,4,1,11131,,,0,"update constraint for reno to new release 2.9.1

Change-Id: I7cafbccf8e128558e51aa199c5a6df5f96c2db48
meta:version: 2.9.1
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: I7c17d739309297464d55ad5fef80cdf014bd5be7
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/564794/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b8eb3f6e8cc73b64c868998bdd05d9b4c5133434,new-release,reno===2.9.1,reno===2.9.0,1,1
openstack%2Frally-openstack~master~Ia0246114a51f9e4a4ad6c998a50ad13483be9f51,openstack/rally-openstack,master,Ia0246114a51f9e4a4ad6c998a50ad13483be9f51,Add __version__ and __version_tuple__ properties,MERGED,2018-04-27 11:08:59.000000000,2018-04-27 17:56:23.000000000,2018-04-27 17:56:23.000000000,"[{'_account_id': 6172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 11:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6c761a4314f5aae0c45e01d1d9ec87ba3fd4a846', 'message': 'Add __version__ property\n\nThis propertu should simplify integration with other plugins\n\nChange-Id: Ia0246114a51f9e4a4ad6c998a50ad13483be9f51\n'}, {'number': 2, 'created': '2018-04-27 11:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/469b9a92c929eb7eb4ed7974e8735195101545e9', 'message': 'Add __version__ and __version_tuple__ properties\n\nThese properties should simplify integration with other plugins\n\nChange-Id: Ia0246114a51f9e4a4ad6c998a50ad13483be9f51\n'}, {'number': 3, 'created': '2018-04-27 12:54:00.000000000', 'files': ['CHANGELOG.rst', 'rally_openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/77e207e90d19a7cfe0a317c4acacee055a9838dd', 'message': 'Add __version__ and __version_tuple__ properties\n\nThese properties should simplify integration with other plugins\n\nChange-Id: Ia0246114a51f9e4a4ad6c998a50ad13483be9f51\n'}]",0,564732,77e207e90d19a7cfe0a317c4acacee055a9838dd,9,2,3,9545,,,0,"Add __version__ and __version_tuple__ properties

These properties should simplify integration with other plugins

Change-Id: Ia0246114a51f9e4a4ad6c998a50ad13483be9f51
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/32/564732/1 && git format-patch -1 --stdout FETCH_HEAD,"['CHANGELOG.rst', 'rally_openstack/__init__.py']",2,6c761a4314f5aae0c45e01d1d9ec87ba3fd4a846,version,"import pbr.version_rally_version = _rally_version.version_info.semantic_version().version_tuple() if _rally_version < (0, 12): __version__ = pbr.version.VersionInfo(""rally-openstack"").version_string()","_version_tuple = _rally_version.version_info.semantic_version().version_tuple() if _version_tuple < (0, 12):",11,2
openstack%2Fopenstack-helm~master~I5177c9a3b3feb54268865a6dfffff406a7595c86,openstack/openstack-helm,master,I5177c9a3b3feb54268865a6dfffff406a7595c86,Add sample development certs,ABANDONED,2018-04-27 14:38:22.000000000,2018-04-27 17:50:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-27 14:38:22.000000000', 'files': ['tools/pki/README.rst', 'tools/pki/certs/api-ca-cert.pem', 'tools/pki/private/svc-key.pem', 'tools/pki/certs/public-ca-cert.pem', 'tools/pki/private/public-ca-key.pem', 'tools/pki/certs/svc.pem', 'tools/pki/private/api-ca-key.pem'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8f1ac937c858deb506ee775f96afd0f8c05c1e8', 'message': 'Add sample development certs\n\nThis patch set puts in some sample development certificates using cfssl\nfor future development.\n\nChange-Id: I5177c9a3b3feb54268865a6dfffff406a7595c86\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,564788,b8f1ac937c858deb506ee775f96afd0f8c05c1e8,4,2,1,20466,,,0,"Add sample development certs

This patch set puts in some sample development certificates using cfssl
for future development.

Change-Id: I5177c9a3b3feb54268865a6dfffff406a7595c86
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/564788/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/pki/README.rst', 'tools/pki/certs/api-ca-cert.pem', 'tools/pki/private/svc-key.pem', 'tools/pki/certs/public-ca-cert.pem', 'tools/pki/private/public-ca-key.pem', 'tools/pki/certs/svc.pem', 'tools/pki/private/api-ca-key.pem']",7,b8f1ac937c858deb506ee775f96afd0f8c05c1e8,add-example-certs,-----BEGIN EC PRIVATE KEY----- MHcCAQEEICmpDiVaPO159kp9vWwHsNDvUOSgrY43BPXSpPwCDiycoAoGCCqGSM49 AwEHoUQDQgAE59vh9zfVZY5DAgfcL0dKOJ1ouLZJYhFFBlCpkLiMUEKzfZCBKuwG oeddjRh69TRoffWP+HiJtwtb7VOMU7DBoQ== -----END EC PRIVATE KEY----- ,,79,0
openstack%2Fvitrage~master~I3e49b80214dd705f65e0908beb876cd2c609763c,openstack/vitrage,master,I3e49b80214dd705f65e0908beb876cd2c609763c,create rpc server fix.,MERGED,2018-04-26 11:53:48.000000000,2018-04-27 17:48:01.000000000,2018-04-27 17:48:01.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 11:53:48.000000000', 'files': ['vitrage/rpc.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5455510192252b69ae172e62e854e64f8cb7edaa', 'message': 'create rpc server fix.\n\nCreate rpc server may not work if ran before get_rpc_transport, as it changes the conf.\n\nChange-Id: I3e49b80214dd705f65e0908beb876cd2c609763c\n'}]",0,564471,5455510192252b69ae172e62e854e64f8cb7edaa,18,4,1,19184,,,0,"create rpc server fix.

Create rpc server may not work if ran before get_rpc_transport, as it changes the conf.

Change-Id: I3e49b80214dd705f65e0908beb876cd2c609763c
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/71/564471/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/rpc.py'],1,5455510192252b69ae172e62e854e64f8cb7edaa,," transport = messaging.get_rpc_transport(conf) return get_server(target, endpoints, transport)"," return get_server(target, endpoints, messaging.get_rpc_transport(conf))",2,1
openstack%2Fpython-novaclient~master~Iee7e1a3a22249c98873aa96694fd4885916cd097,openstack/python-novaclient,master,Iee7e1a3a22249c98873aa96694fd4885916cd097,Microversion 2.62 - Add host/hostId to instance action event,MERGED,2018-04-27 04:15:40.000000000,2018-04-27 17:41:58.000000000,2018-04-27 17:41:58.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 15834}, {'_account_id': 20722}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 04:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8cba11ed5a6cc52903759dd312e5d96ef3f708ac', 'message': 'Microversion 2.62 - Add host/hostId to instance action event\n\nAdds support for microversion 2.62 which adds ``host``\n(hostname) and ``hostId`` (an obfuscated hashed host id string)\nfields to the instance action\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API.\n\nThe event column is already included in the result of\n""nova instance-action <server> <request-id>"" command, therefore\ndoes not have any CLI or python API binding impacts in the\nclient.\n\nRelated nova API change: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: Iee7e1a3a22249c98873aa96694fd4885916cd097\n'}, {'number': 2, 'created': '2018-04-27 04:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6865a9176d682d72f1ba30f770d2a5ffdf5aff3b', 'message': 'Microversion 2.62 - Add host/hostId to instance action event\n\nAdds support for microversion 2.62 which adds ``host``\n(hostname) and ``hostId`` (an obfuscated hashed host id string)\nfields to the instance action\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API.\n\nThe event column is already included in the result of\n""nova instance-action <server> <request-id>"" command, therefore\ndoes not have any CLI or python API binding impacts in the\nclient.\n\nRelated nova API change: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: Iee7e1a3a22249c98873aa96694fd4885916cd097\n'}, {'number': 3, 'created': '2018-04-27 07:38:04.000000000', 'files': ['releasenotes/notes/microversion-v2_62-479a23f0d4307500.yaml', 'novaclient/__init__.py', 'novaclient/tests/functional/v2/test_instance_action.py', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/5483be7fe74a90e3a38428cfb436864ffeee4c54', 'message': 'Microversion 2.62 - Add host/hostId to instance action event\n\nAdds support for microversion 2.62 which adds ``host``\n(hostname) and ``hostId`` (an obfuscated hashed host id string)\nfields to the instance action\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API.\n\nThe event column is already included in the result of\n""nova instance-action <server> <request-id>"" command, therefore\ndoes not have any CLI or python API binding impacts in the\nclient.\n\nRelated nova API change: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: Iee7e1a3a22249c98873aa96694fd4885916cd097\n'}]",7,564667,5483be7fe74a90e3a38428cfb436864ffeee4c54,15,6,3,20722,,,0,"Microversion 2.62 - Add host/hostId to instance action event

Adds support for microversion 2.62 which adds ``host``
(hostname) and ``hostId`` (an obfuscated hashed host id string)
fields to the instance action
``GET /servers/{server_id}/os-instance-actions/{req_id}`` API.

The event column is already included in the result of
""nova instance-action <server> <request-id>"" command, therefore
does not have any CLI or python API binding impacts in the
client.

Related nova API change: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5

Part of blueprint: add-host-to-instance-action-events

Change-Id: Iee7e1a3a22249c98873aa96694fd4885916cd097
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/67/564667/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/microversion-v2_62-479a23f0d4307500.yaml', 'novaclient/__init__.py', 'novaclient/tests/functional/v2/test_instance_action.py', 'novaclient/tests/unit/v2/test_shell.py']",4,8cba11ed5a6cc52903759dd312e5d96ef3f708ac,bp/add-host-to-instance-action-events," 62, # There are no version-wrapped shell method changes for this.",,34,1
openstack%2Fopenstack-helm~master~Id4bb3447345719133e5862514dfd5bc5bac5677d,openstack/openstack-helm,master,Id4bb3447345719133e5862514dfd5bc5bac5677d,Add Tempest Chart,MERGED,2017-08-29 20:19:44.000000000,2018-04-27 17:38:15.000000000,2018-04-27 17:38:15.000000000,"[{'_account_id': 3}, {'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17887}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 21473}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 28003}, {'_account_id': 28007}]","[{'number': 1, 'created': '2017-08-29 20:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52fce950c7638a26414408c59e6ba42f3bb5654a', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 2, 'created': '2017-08-29 22:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/36e49597dc628f04a7ec203ac3f808c9635c0a7f', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 3, 'created': '2017-08-29 23:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/152173564120717de7e87a2a10a59673280f0088', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 4, 'created': '2017-08-31 18:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8017862f0c7aecad7afeb85df909524b7fb76a43', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 5, 'created': '2017-08-31 19:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/735f488895430f79882522cd43b94461543eb698', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 6, 'created': '2017-09-06 19:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4942d065097b33bd995264fe3d27759a306ac12e', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 7, 'created': '2017-09-06 19:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0f695bf2ce47e3da819cc1d4d653ba079d42e3f', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 8, 'created': '2017-09-07 15:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3192ce33b8835f781bd70213c1402d83295ae535', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 9, 'created': '2017-09-07 19:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f29bbc9b3574d5928fca541b3fc0f0a7454c195', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 10, 'created': '2017-09-11 16:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f89f3cac393fda65e1d4acbd9d3d808ffce05f45', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 11, 'created': '2017-09-11 16:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2217b43f00d1b312a6ea1f71b15fcd917f465bbb', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 12, 'created': '2017-09-11 19:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a5a006506a42921812f52fec2e82b87d902f026c', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 13, 'created': '2017-09-11 20:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7e4e32131a7c078875a851b9fb6018463c7991b', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 14, 'created': '2017-09-12 20:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24c519ad68c944186c78fc7edb593ee7f0abbbc9', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 15, 'created': '2017-09-12 22:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/437214e0e66f614f2ee0cece5a3850743bab86d2', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 16, 'created': '2017-09-13 16:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/834f83fadfe5297d72136231117d7a43114977ac', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 17, 'created': '2017-09-14 13:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/be1b475f3b93512497771bc156ab400ce6543942', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 18, 'created': '2017-09-14 15:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f70a6ad0f691ea2add43cb8c30c8c41df50f478c', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 19, 'created': '2017-09-28 18:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94629c142ba3b376208c5d6940257de6a8e6c4bb', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 20, 'created': '2017-09-28 20:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de75b77993c60ba89b8d5c73bf8bfe91270999a6', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 21, 'created': '2017-09-29 15:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d9370e5f3091eaeade0de79750843ff8541b558', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 22, 'created': '2017-10-02 16:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/641a76f9a4ae4a94b6daa1c4610089ce71d355d7', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 23, 'created': '2017-10-03 13:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab790c8be29e131b7e54e01302f1a6a6d465feb6', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 24, 'created': '2017-10-05 18:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d175c051d40ca3bea747eb5fa8b273bef19acd58', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 25, 'created': '2017-10-09 18:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86425d268418b7adad4326aceb08fe19ce6983e3', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 26, 'created': '2017-10-09 19:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb396ae27749a6feb22a6786b56c209ca73bb162', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 27, 'created': '2017-10-09 19:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e80319acc9b99acff2ca72ea99ed1fadd31a0bf', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 28, 'created': '2017-10-09 20:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3f010314a59d2fed1be8132869dd90a8b7fd127', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 29, 'created': '2017-10-11 14:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0b911f79f8cc80050ce5f732585fb2bc880e04a', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 30, 'created': '2017-10-11 14:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2bf09697a862d0807e30f188c5ce38a7a2dfdd89', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 31, 'created': '2017-10-11 15:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d4f7f4608bbf60c2c17c06729bdd2aee2b4f1c9f', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 32, 'created': '2017-10-11 15:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77977b97cde49631b06b157c96af4ad6c01c7094', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 33, 'created': '2017-10-11 17:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc0daeb0a8b81662f8ae171d28c443de3b7294d9', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 34, 'created': '2017-10-11 21:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/929c1731feea6bb075f20e88ae1f0016e3dfb05b', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 35, 'created': '2017-10-17 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac52d0110c6c91d2b979e9f86d8eedb69896a579', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 36, 'created': '2017-10-18 18:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/744a25e5cf0799dc517a9c9f39aba231d0799b9e', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 37, 'created': '2017-10-19 20:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/283d0fbdb212c59fe78fbe6c59390a19587c472d', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 38, 'created': '2017-10-23 21:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea63ff1bde80c5f5db5b593896c8f6180d1eb92e', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 39, 'created': '2017-10-24 14:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d977c136efe4a2e300ef99f2629f34dfc70cceea', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 40, 'created': '2017-10-24 16:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ea922c08b086cf5a1d8169fc4cd0b31b51b103d', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 41, 'created': '2017-10-24 19:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5dd5ac6377a49e783ece3993bec15c1969599ca', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 42, 'created': '2017-10-25 18:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/36007779c4036eff34ca1a168a1826613c43a212', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 43, 'created': '2017-12-27 16:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8a1dba8e0390188ea17964a76606940d3a1e3c2', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n\n[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 44, 'created': '2017-12-28 20:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34c7161a57ae2f89c7f67e0720ef36cb8dcd49ad', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 45, 'created': '2018-01-04 23:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa89a7eece9d72d8863d9e339a2b8ae42a772f3f', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 46, 'created': '2018-01-19 20:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e811f43de8150b003aaa0342deb908d38de99fc5', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 47, 'created': '2018-01-29 22:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/751f6ef96c1cd942021b1a3c39b1090d274de1a5', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 48, 'created': '2018-02-10 03:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35da806100b1cef8a872e84259a8b3d6180a3fff', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 49, 'created': '2018-02-12 03:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ffaf97608072f47fd70fa836780340086ceeb935', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 50, 'created': '2018-03-06 17:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d04d94a3a77971e101023fe5349ebf3c1455845', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 51, 'created': '2018-03-06 17:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73093720c1732c5c79507cceae1423ad7dc68efc', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 52, 'created': '2018-03-06 20:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66175ca3d9caad3623728b7bce39752adfd8cbf4', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 53, 'created': '2018-03-08 21:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/beffa7ce06f71f952dd2200e35f10cb058c256bf', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 54, 'created': '2018-03-08 22:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c265b889bff164360e0488ab74e948323f328423', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 55, 'created': '2018-03-08 22:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1d7090e994ca2f402dc3b4aef964522621eb983', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 56, 'created': '2018-03-09 16:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8ff3933e151542d5f574160b937e17d189fab01', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 57, 'created': '2018-03-09 17:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e2e6e676aab41035551da89ae2db9c7b45b7e8df', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 58, 'created': '2018-03-09 17:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/16639f3ba1e69e9c490fc89d3ac5e083f3893ba6', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 59, 'created': '2018-03-09 17:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a4b6bbf97d18723f09b0d7141e5e86683091094', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 60, 'created': '2018-03-10 04:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dff7bc6c77e6030b9f7154f403b33708d0e63a10', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 61, 'created': '2018-03-13 16:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e2d15195aae666b68aa93dbe56addb0e6765b6c', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 62, 'created': '2018-03-13 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3131013eee03aa64e949c008a53cea40fe03d696', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 63, 'created': '2018-03-13 21:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6bd74d66bc60bd009113be73de217c9dd2b97e86', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 64, 'created': '2018-03-13 21:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9a64ad65c42d2f2ad73193d014418fcfeb8da5f4', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 65, 'created': '2018-03-14 16:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1f95a7a250751c41ec1ea50540721dc9c0ec1a6', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 66, 'created': '2018-03-14 19:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/846a8b9260af88fc143463573190b55500a26017', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 67, 'created': '2018-03-15 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b046c8b6af04fe605dbbc7572a20d893e3f2c0be', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 68, 'created': '2018-03-15 15:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cf19d9e96b84c0b19e02ffb41027713db54dcfb', 'message': '[WIP] Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 69, 'created': '2018-03-15 21:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d8b7609638d273135eb1ede62916120b99f57fb', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 70, 'created': '2018-03-16 22:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d6532af25d396336295c18ea2830c5916d218a2f', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 71, 'created': '2018-03-19 16:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d17496c04ea320ea10cc03ce0cc32de88bcdd81', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 72, 'created': '2018-03-20 19:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c5058e80fa426cbd6f795dd98047fccd87d1887', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 73, 'created': '2018-03-22 12:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7aadfcd634d412e287dec320665fb06811b56b3a', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 74, 'created': '2018-03-22 15:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f114a087db9e4b56a3f115e7cfbb885072f2f7be', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 75, 'created': '2018-03-22 19:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21940ef5cefc261d1a6e35898d80d03a011424cc', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 76, 'created': '2018-03-26 22:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5228b517a46ecbfeca5d19bcefd38036a06ada0', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 77, 'created': '2018-03-27 17:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bba5de47f524f4dee7868a11878489b8cf234245', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 78, 'created': '2018-03-27 20:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4d260750574225d88f2fe7936c1e059bd7f0afc', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 79, 'created': '2018-03-27 20:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a869073641fe0a9d1e8e68f9139b485e1d0c3ea0', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 80, 'created': '2018-03-27 20:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1afa715a65f69ff7d203374fb1298f7d752cc643', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 81, 'created': '2018-03-27 21:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/afb1d4b77aab4a8bf74e0af3ba08352952a59ee1', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}, {'number': 82, 'created': '2018-04-25 21:22:55.000000000', 'files': ['tools/overrides/releases/newton/kolla.yaml', 'tempest/templates/_helpers.tpl', 'tempest/templates/secret-keystone.yaml', 'tools/deployment/multinode/900-tempest.sh', '.zuul.yaml', 'tools/gate/playbooks/multinode-tempest-deploy.yaml', 'tempest/templates/configmap-bin.yaml', 'tempest/templates/job-run-tests.yaml', 'tempest/requirements.yaml', 'tempest/templates/pvc-tempest.yaml', 'tools/overrides/releases/ocata/kolla.yaml', 'tempest/Chart.yaml', 'tempest/templates/bin/_run-tests.sh.tpl', 'tempest/values.yaml', 'tempest/templates/configmap-etc.yaml', 'tempest/templates/job-ks-user.yaml', 'tools/images/tempest/Dockerfile', 'tools/images/tempest/Makefile', 'tools/overrides/releases/ocata/loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bdfd78b4e79f6a5604f9bd0a7c7beb5f37ad3d6e', 'message': 'Add Tempest Chart\n\nAdd basic functioning tempest chart for testing of\nOpenStack services.  This also adds an experimental\ngate for running a multinode deployment with tempest\n\nChange-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d\n'}]",42,498929,bdfd78b4e79f6a5604f9bd0a7c7beb5f37ad3d6e,367,15,82,17589,,,0,"Add Tempest Chart

Add basic functioning tempest chart for testing of
OpenStack services.  This also adds an experimental
gate for running a multinode deployment with tempest

Change-Id: Id4bb3447345719133e5862514dfd5bc5bac5677d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/498929/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/templates/pdb-api.yaml', 'tempest/templates/job-bootstrap.yaml', 'tempest/templates/bin/_bootstrap.sh.tpl', 'tempest/templates/job-ks-service.yaml', 'tempest/templates/secret-keystone.yaml', 'tempest/templates/job-ks-endpoints.yaml', 'tempest/templates/job-db-init.yaml', 'tempest/templates/secret-db.yaml', 'tempest/templates/configmap-bin.yaml', 'tempest/templates/etc/_tempest.conf.tpl', 'tempest/requirements.yaml', 'tempest/templates/job-run-task.yaml', 'tempest/templates/service.yaml', 'tempest/Chart.yaml', 'tempest/values.yaml', 'tempest/templates/bin/_run-task.sh.tpl', 'tempest/templates/configmap-etc.yaml', 'tempest/templates/job-ks-user.yaml']",18,52fce950c7638a26414408c59e6ba42f3bb5654a,tempest,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- $envAll := . }} {{- $dependencies := .Values.dependencies.ks_user }} --- apiVersion: batch/v1 kind: Job metadata: name: tempest-ks-user spec: template: metadata: labels: {{ tuple $envAll ""tempest"" ""ks-user"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: restartPolicy: OnFailure nodeSelector: {{ .Values.labels.node_selector_key }}: {{ .Values.labels.node_selector_value }} initContainers: {{ tuple $envAll $dependencies ""[]"" | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: tempest-ks-user image: {{ .Values.images.ks_user }} imagePullPolicy: {{ .Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.ks_user | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/ks-user.sh volumeMounts: - name: ks-user-sh mountPath: /tmp/ks-user.sh subPath: ks-user.sh readOnly: true env: {{- with $env := dict ""ksUserSecret"" $envAll.Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }} - name: SERVICE_OS_SERVICE_NAME value: ""tempest"" {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.user }} {{- include ""helm-toolkit.snippets.keystone_user_create_env_vars"" $env | indent 12 }} {{- end }} - name: SERVICE_OS_ROLE value: {{ .Values.endpoints.identity.auth.user.role | quote }} volumes: - name: ks-user-sh configMap: name: tempest-bin defaultMode: 0555 ",,2504,0
openstack%2Fopenstack-helm~master~I49d2cea11fbe5c5919ae22a020b877ebbb285992,openstack/openstack-helm,master,I49d2cea11fbe5c5919ae22a020b877ebbb285992,Move to v0.3.1 of kubernetes-entrypoint,MERGED,2018-03-28 20:00:09.000000000,2018-04-27 17:13:46.000000000,2018-04-27 17:13:46.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27715}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-28 20:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eacd6bf34e9421b1488c2f7ff410bdab1330519d', 'message': 'DNM: Support job dependency labels\n\nDemonstrates changes that would be needed to support a breaking change\nto kubernetes-entrypoint where job dependencies now use JSON in order\nto support labels, while still supporting older versions of\nkubernetes-entrypoint at the same time.\n\nChange-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992\n'}, {'number': 2, 'created': '2018-04-06 18:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee563d54212358bb024217125e1fc3c6af9605fa', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2\nbreaking changes to pod dependencies, and also adds support for\ndepending on jobs via labels.\n\nChange-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992\n'}, {'number': 3, 'created': '2018-04-09 04:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88ff47d7a2302ef0c258b697190c9fa605323d4c', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2\nbreaking changes to pod dependencies, and also adds support for\ndepending on jobs via labels.\n\nChange-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992\n'}, {'number': 4, 'created': '2018-04-09 14:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02f1744e5cc93d6e4ff4b179bd8c830017f734b3', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2\nbreaking changes to pod dependencies, and also adds support for\ndepending on jobs via labels.\n\nChange-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992\n'}, {'number': 5, 'created': '2018-04-11 03:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae581f4bf09d65ee4080307a1428be37072f0889', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2\nbreaking changes to pod dependencies, and also adds support for\ndepending on jobs via labels.\n\nChange-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992\n'}, {'number': 6, 'created': '2018-04-25 18:24:33.000000000', 'files': ['mongodb/values.yaml', 'doc/source/devref/images.rst', 'libvirt/values.yaml', 'ceph/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'doc/source/devref/networking.rst', 'etcd/values.yaml', 'gnocchi/values.yaml', 'ldap/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl', 'rabbitmq/values.yaml', 'senlin/values.yaml', 'doc/source/specs/support-linux-bridge-on-neutron.rst', 'mistral/values.yaml', 'openvswitch/values.yaml', 'congress/values.yaml', 'memcached/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'mariadb/values.yaml', 'postgresql/values.yaml', 'nova/values.yaml', 'neutron/values.yaml', 'ingress/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/97ac197a6e1f319de47b4e4899701a8f35a9010b', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2\nbreaking changes to pod dependencies, and also adds support for\ndepending on jobs via labels.\n\nChange-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992\n'}]",3,557499,97ac197a6e1f319de47b4e4899701a8f35a9010b,26,8,6,27715,,,0,"Move to v0.3.1 of kubernetes-entrypoint

Move to v0.3.1 of kubernetes-entrypoint which has 2
breaking changes to pod dependencies, and also adds support for
depending on jobs via labels.

Change-Id: I49d2cea11fbe5c5919ae22a020b877ebbb285992
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/557499/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'],1,eacd6bf34e9421b1488c2f7ff410bdab1330519d,job_dependency_labels," value: {{ if kindIs ""string"" $deps.jobs -}} {{/* For kubernetes-entrypoint versions <= v0.3.0 */}} ""{{ include ""helm-toolkit.utils.joinListWithComma"" $deps.jobs }}"" {{- else if $deps.jobs -}} {{/* For kubernetes-entrypoint versions > v0.3.0 */}} {{- toJson $deps.jobs | quote -}} {{- else }} """" {{- end }}"," value: ""{{ include ""helm-toolkit.utils.joinListWithComma"" $deps.jobs }}""",9,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie651426241c0185afefa72e7c3f69e86c5244e78,openstack/openstack-ansible-openstack_hosts,master,Ie651426241c0185afefa72e7c3f69e86c5244e78,"Revert ""tasks: Use PIP distribution packages for openSUSE and Ubuntu""",ABANDONED,2018-04-27 15:34:07.000000000,2018-04-27 17:08:21.000000000,,"[{'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-27 15:34:07.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/use-pip-distro-packages-2505f6e630a94850.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/46d492823fcaa1d3d12109da2501868df0022513', 'message': 'Revert ""tasks: Use PIP distribution packages for openSUSE and Ubuntu""\n\nThis reverts commit 899e838419b9377f24e9f282ebd8fca889f24fe1.\n\nUnfortunately the py_pkgs lookup is incapable of interpreting\njinja, and thus causes a failure in the repo build process due to\nthe jinja used in the pip_packages variable here.\n\nWe\'re going to have to figure out a better way of doing this, or\na way of making sure that the lookup/repo_build can handle this\nchange.\n\nChange-Id: Ie651426241c0185afefa72e7c3f69e86c5244e78\n'}]",0,564812,46d492823fcaa1d3d12109da2501868df0022513,7,6,1,6816,,,0,"Revert ""tasks: Use PIP distribution packages for openSUSE and Ubuntu""

This reverts commit 899e838419b9377f24e9f282ebd8fca889f24fe1.

Unfortunately the py_pkgs lookup is incapable of interpreting
jinja, and thus causes a failure in the repo build process due to
the jinja used in the pip_packages variable here.

We're going to have to figure out a better way of doing this, or
a way of making sure that the lookup/repo_build can handle this
change.

Change-Id: Ie651426241c0185afefa72e7c3f69e86c5244e78
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/12/564812/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/use-pip-distro-packages-2505f6e630a94850.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",6,46d492823fcaa1d3d12109da2501868df0022513,bp/openstack-distribution-packages,,"# Distribution packages required for using pip on the host openstack_host_pip_packages: ""{{ _openstack_host_pip_packages | default([]) }}"" ",0,40
openstack%2Fironic-inspector~stable%2Fqueens~Ife51165742a8b762e84d5ac7ad807480669bfedb,openstack/ironic-inspector,stable/queens,Ife51165742a8b762e84d5ac7ad807480669bfedb,Switch documentation to hardware types,MERGED,2018-03-20 15:21:56.000000000,2018-04-27 17:04:32.000000000,2018-04-27 17:04:32.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 15:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6ed4b7917c23f37e94f2a70e037c3b05e6bccf0e', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n(cherry picked from commit faf9d3508b20a26e6df90ce818491500bc603f1e)\n'}, {'number': 2, 'created': '2018-04-13 16:54:19.000000000', 'files': ['ironic_inspector/test/base.py', 'doc/source/user/usage.rst', 'devstack/example.local.conf'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f01c6f39eea05214047e140be3ee7067c7673dd6', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n(cherry picked from commit faf9d3508b20a26e6df90ce818491500bc603f1e)\n'}]",0,554586,f01c6f39eea05214047e140be3ee7067c7673dd6,15,4,2,10239,,,0,"Switch documentation to hardware types

The devstack example configuration is synchronized with
https://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html

Also remove setting IRONIC_VM_LOGS_DIR from the example local.conf,
as it does not work, at least not on CentOS.

Change-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb
(cherry picked from commit faf9d3508b20a26e6df90ce818491500bc603f1e)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/86/554586/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/base.py', 'doc/source/user/usage.rst', 'devstack/example.local.conf']",3,6ed4b7917c23f37e94f2a70e037c3b05e6bccf0e,hw-types-stable/queens,"SWIFT_TEMPURL_KEY=$ADMIN_PASSWORD# Enable Swift for storing introspection data # Swift temp URL's are required for the direct deploy interface.# Create 3 virtual machines to pose as Ironic's baremetal nodes. IRONIC_VM_COUNT=3# Enable additional hardware types, if needed. #IRONIC_ENABLED_HARDWARE_TYPES=ipmi,fake-hardware # Don't forget that many hardware types require enabling of additional # interfaces, most often power and management: #IRONIC_ENABLED_MANAGEMENT_INTERFACES=ipmitool,fake #IRONIC_ENABLED_POWER_INTERFACES=ipmitool,fake # # The 'ipmi' hardware type's default deploy interface is 'iscsi'. # This would change the default to 'direct': #IRONIC_DEFAULT_DEPLOY_INTERFACE=direct # Enable inspection via ironic-inspector IRONIC_ENABLED_INSPECT_INTERFACES=inspector,no-inspect # Make it the default for all hardware types: IRONIC_DEFAULT_INSPECT_INTERFACE=inspectorIRONIC_DEPLOY_DRIVER=ipmi","# Enable Swift for agent_* driversdisable_service tempest # Swift temp URL's are required for agent_* drivers.# Create 2 virtual machines to pose as Ironic's baremetal nodes. IRONIC_VM_COUNT=2 IRONIC_VM_SPECS_RAM=1024 IRONIC_VM_SPECS_DISK=10# Enable Ironic drivers. IRONIC_ENABLED_DRIVERS=fake,agent_ipmitool,pxe_ipmitoolIRONIC_DEPLOY_DRIVER=agent_ipmitoolTEMPEST_ALLOW_TENANT_ISOLATION=False IRONIC_VM_LOG_DIR=$HOME/ironic-bm-logs",27,19
openstack%2Fopenstack-zuul-jobs~master~I22743c78e286c51067d38efe8c646021e68ca09b,openstack/openstack-zuul-jobs,master,I22743c78e286c51067d38efe8c646021e68ca09b,Further fix laravel branch/master publish jobs,MERGED,2018-04-27 16:14:43.000000000,2018-04-27 16:44:43.000000000,2018-04-27 16:44:43.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 16:14:43.000000000', 'files': ['playbooks/legacy/laravel-openstackid-release-branch/post.yaml', 'playbooks/legacy/laravel-openstackid-release-master/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/389f5c470fe7b4777966d44d9d5bc5751c998080', 'message': ""Further fix laravel branch/master publish jobs\n\nThe publish-artifacts-to-fileserver role includes the tree structure\nof under the artifacts dir, which we don't wish to preserve for the\ntarballs directory our legacy-laravel-openstackid-release-branch and\nlegacy-laravel-openstackid-release-master jobs create. Instead just\ncopy the contents of the tarballs directory to the artifacts\ndirectory (this also allows us to drop fancy filename pattern\nmatching and symlink preservation from our rsync options).\n\nChange-Id: I22743c78e286c51067d38efe8c646021e68ca09b\n""}]",0,564828,389f5c470fe7b4777966d44d9d5bc5751c998080,7,3,1,5263,,,0,"Further fix laravel branch/master publish jobs

The publish-artifacts-to-fileserver role includes the tree structure
of under the artifacts dir, which we don't wish to preserve for the
tarballs directory our legacy-laravel-openstackid-release-branch and
legacy-laravel-openstackid-release-master jobs create. Instead just
copy the contents of the tarballs directory to the artifacts
directory (this also allows us to drop fancy filename pattern
matching and symlink preservation from our rsync options).

Change-Id: I22743c78e286c51067d38efe8c646021e68ca09b
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/28/564828/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/laravel-openstackid-release-branch/post.yaml', 'playbooks/legacy/laravel-openstackid-release-master/post.yaml']",2,389f5c470fe7b4777966d44d9d5bc5751c998080,563645, src: '{{ ansible_user_dir }}/workspace/tarballs/', src: '{{ ansible_user_dir }}/workspace/' copy_links: true rsync_opts: - --include=/tarballs/*.tar.gz - --include=*/ - --exclude=* - --prune-empty-dirs,2,14
openstack%2Fcinder~master~I86f14aeeb198b0a89faf5b2d89449a8394edff1d,openstack/cinder,master,I86f14aeeb198b0a89faf5b2d89449a8394edff1d,Uncap eventlet,MERGED,2018-04-05 16:38:27.000000000,2018-04-27 16:34:20.000000000,2018-04-27 16:34:20.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-05 16:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e38afba274fc1da3cc7c4ea9989c45655a1bf79', 'message': 'DNM: Testing eventlet-0.22.1\n\nChange-Id: I86f14aeeb198b0a89faf5b2d89449a8394edff1d\nDepends-on: https://review.openstack.org/533021/\n'}, {'number': 2, 'created': '2018-04-11 15:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fee6112bff87096d42f6018b1ccc1f5f08dc426b', 'message': 'DNM: Testing eventlet-0.22.1\n\nChange-Id: I86f14aeeb198b0a89faf5b2d89449a8394edff1d\nDepends-on: https://review.openstack.org/533021/\n'}, {'number': 3, 'created': '2018-04-12 14:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b2fd1e6f645c347332a4c98bb809b50f3099c75', 'message': 'DNM: Testing eventlet-0.22.1\n\nChange-Id: I86f14aeeb198b0a89faf5b2d89449a8394edff1d\n'}, {'number': 4, 'created': '2018-04-12 14:25:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/24caebd28d715fb891b315f2d539843503103e38', 'message': 'Uncap eventlet\n\nChange-Id: I86f14aeeb198b0a89faf5b2d89449a8394edff1d\n'}]",0,559124,24caebd28d715fb891b315f2d539843503103e38,89,36,4,11904,,,0,"Uncap eventlet

Change-Id: I86f14aeeb198b0a89faf5b2d89449a8394edff1d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/559124/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4e38afba274fc1da3cc7c4ea9989c45655a1bf79,uncap-eventlet,"eventlet>=0.18.2,!=0.18.3,!=0.20.1 # MIT","eventlet!=0.18.3,!=0.20.1,<0.21.0,>=0.18.2 # MIT",1,1
openstack%2Fswift~feature%2Fdeep~I3f3d13cf1caa684260f2ddfdb731ca941336f319,openstack/swift,feature/deep,I3f3d13cf1caa684260f2ddfdb731ca941336f319,Always update shard brokers with their own range and sharding metadata,MERGED,2018-04-27 10:01:40.000000000,2018-04-27 16:17:32.000000000,2018-04-27 16:17:31.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 10:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73a2a723e465fecea5750cabf738d5ece5431651', 'message': ""Always update shard brokers with their own range and sharding metadata\n\nThere is no need to conditionally update shard brokers when they are\ncreated. The 'force' flag was a leftover from when own shard range\nstate was stored in sysmeta and the most recent writer of state would\ntake precedence.  We consequently needed to avoid updating the\nsharding meta-timestamp in sysmeta as a side-effect of getting the\nshard broker.\n\nSince [1] the meta-timestamp is managed by the shard range merging\nlogic so that the most recent time takes precedence rather than the\nmost recent writer.\n\n[1] Related-Change: Ie65cd4ce0abc98452163f6acdfad3cce5cdd216f\n\nChange-Id: I3f3d13cf1caa684260f2ddfdb731ca941336f319\n""}, {'number': 2, 'created': '2018-04-27 10:25:21.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/55bc15b873aab881c0940bc058408054e668cf84', 'message': ""Always update shard brokers with their own range and sharding metadata\n\nThere is no need to conditionally update shard brokers when they are\ncreated. The 'force' flag was a leftover from when own shard range\nstate was stored in sysmeta and the most recent writer of state would\ntake precedence.  We consequently needed to avoid updating the\nsharding meta-timestamp in sysmeta as a side-effect of getting the\nshard broker.\n\nSince [1] the meta-timestamp is managed by the shard range merging\nlogic so that the most recent time takes precedence rather than the\nmost recent writer.\n\n[1] Related-Change: Ie65cd4ce0abc98452163f6acdfad3cce5cdd216f\n\nChange-Id: I3f3d13cf1caa684260f2ddfdb731ca941336f319\n""}]",0,564716,55bc15b873aab881c0940bc058408054e668cf84,7,2,2,7847,,,0,"Always update shard brokers with their own range and sharding metadata

There is no need to conditionally update shard brokers when they are
created. The 'force' flag was a leftover from when own shard range
state was stored in sysmeta and the most recent writer of state would
take precedence.  We consequently needed to avoid updating the
sharding meta-timestamp in sysmeta as a side-effect of getting the
shard broker.

Since [1] the meta-timestamp is managed by the shard range merging
logic so that the most recent time takes precedence rather than the
most recent writer.

[1] Related-Change: Ie65cd4ce0abc98452163f6acdfad3cce5cdd216f

Change-Id: I3f3d13cf1caa684260f2ddfdb731ca941336f319
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/564716/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,73a2a723e465fecea5750cabf738d5ece5431651,p-sharding-parent-range," def _get_shard_broker(self, shard_range, root_path, policy_index): Get a broker for a container db for the given shard range. If one of the shard container's primary nodes is a local device then that will be chosen for the db, otherwise the first of the shard container's handoff nodes that is local will be chosen. :returns: a tuple of ``(part, broker, node_id)`` where ``part`` is the shard container's partition, ``broker`` is an instance of :class:`~swift.container.backend.ContainerBroker`, ``node_id`` is the id of the selected node. shard_broker.merge_shard_ranges(shard_range) shard_broker.update_sharding_info({'Root': root_path}) shard_broker.update_metadata({ 'X-Container-Sysmeta-Sharding': ('True', Timestamp.now().internal)}) shard_range, broker.root_path, policy_index)"," def _get_shard_broker(self, shard_range, root_path, policy_index, force=False): Get a container broker for given shard range. :param force: if True set the broker's sharding metadata even if sharding metadata already exists :returns: a shard container broker if not shard_broker.get_sharding_info('Root') or force: shard_broker.merge_shard_ranges(shard_range) shard_broker.update_sharding_info({'Root': root_path}) shard_broker.update_metadata({ 'X-Container-Sysmeta-Sharding': ('True', Timestamp.now().internal)}) # use force here because we may want to update existing shard # metadata timestamps shard_range, broker.root_path, policy_index, force=True)",15,16
openstack%2Fnova~master~I5fa5128bd05059bb75f38bd651e03b1cb074ebf6,openstack/nova,master,I5fa5128bd05059bb75f38bd651e03b1cb074ebf6,Remove explicit instance.info_cache.delete(),MERGED,2018-04-23 16:11:45.000000000,2018-04-27 16:15:01.000000000,2018-04-27 16:15:00.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 16:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15e2b40e2a4e7b1adfbad906d0669e69f96a0479', 'message': 'Remove explicit instance.info_cache.delete()\n\nThis removes the code from ComputeManager._delete_instance\nadded in change Ie0bba032615d3da06cdd95b221beb37a9b8a377d.\nThat change was really working around a problem where the\ninstance failed to lazy-load the info_cache field. However,\nthere is no reason that we need to explicitly delete the\ninfo_cache here, since the instance_destroy() method in the\nDB API already does it implicitly, which has been around since\nchange I0f0f4ba3de1310e1ff89239dab6ea8e24c85f2c8.\n\nNote that the related changes in the ""local delete"" API path\nfrom Ie0bba032615d3da06cdd95b221beb37a9b8a377d have already\nbeen removed, presumably because someone realized they were\nunnecessary for the same reasons.\n\nThe implicit instance.info_cache delete in instance_destroy()\nis already tested in\nnova.tests.unit.db.test_db_api.InstanceTestCase.test_instance_destroy.\n\nChange-Id: I5fa5128bd05059bb75f38bd651e03b1cb074ebf6\n'}, {'number': 2, 'created': '2018-04-26 12:02:09.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/24706c4ace357423c089e928ded8e7a58f0d9352', 'message': 'Remove explicit instance.info_cache.delete()\n\nThis removes the code from ComputeManager._delete_instance\nadded in change Ie0bba032615d3da06cdd95b221beb37a9b8a377d.\nThat change was really working around a problem where the\ninstance failed to lazy-load the info_cache field. However,\nthere is no reason that we need to explicitly delete the\ninfo_cache here, since the instance_destroy() method in the\nDB API already does it implicitly, which has been around since\nchange I0f0f4ba3de1310e1ff89239dab6ea8e24c85f2c8.\n\nNote that the related changes in the ""local delete"" API path\nfrom Ie0bba032615d3da06cdd95b221beb37a9b8a377d have already\nbeen removed, presumably because someone realized they were\nunnecessary for the same reasons.\n\nThe implicit instance.info_cache delete in instance_destroy()\nis already tested in\nnova.tests.unit.db.test_db_api.InstanceTestCase.test_instance_destroy.\n\nChange-Id: I5fa5128bd05059bb75f38bd651e03b1cb074ebf6\n'}]",0,563689,24706c4ace357423c089e928ded8e7a58f0d9352,42,19,2,6873,,,0,"Remove explicit instance.info_cache.delete()

This removes the code from ComputeManager._delete_instance
added in change Ie0bba032615d3da06cdd95b221beb37a9b8a377d.
That change was really working around a problem where the
instance failed to lazy-load the info_cache field. However,
there is no reason that we need to explicitly delete the
info_cache here, since the instance_destroy() method in the
DB API already does it implicitly, which has been around since
change I0f0f4ba3de1310e1ff89239dab6ea8e24c85f2c8.

Note that the related changes in the ""local delete"" API path
from Ie0bba032615d3da06cdd95b221beb37a9b8a377d have already
been removed, presumably because someone realized they were
unnecessary for the same reasons.

The implicit instance.info_cache delete in instance_destroy()
is already tested in
nova.tests.unit.db.test_db_api.InstanceTestCase.test_instance_destroy.

Change-Id: I5fa5128bd05059bb75f38bd651e03b1cb074ebf6
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/563689/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,15e2b40e2a4e7b1adfbad906d0669e69f96a0479,bug/1764390,," # NOTE(dims): instance.info_cache.delete() should be called after # _shutdown_instance in the compute manager as shutdown calls # deallocate_for_instance so the info_cache is still needed # at this point. if instance.info_cache is not None: instance.info_cache.delete() else: # NOTE(yoshimatsu): Avoid AttributeError if instance.info_cache # is None. When the root cause that instance.info_cache becomes # None is fixed, the log level should be reconsidered. LOG.warning(""Info cache for instance could not be found. "" ""Ignore."", instance=instance)",1,45
openstack%2Fmagnum~stable%2Fqueens~Ic0996ba36e335e970f3d2255840b24a8b4f738b8,openstack/magnum,stable/queens,Ic0996ba36e335e970f3d2255840b24a8b4f738b8,k8s_fedora: Add flannel to master nodes,MERGED,2018-04-25 12:59:09.000000000,2018-04-27 16:09:32.000000000,2018-04-27 16:09:32.000000000,"[{'_account_id': 13861}, {'_account_id': 17795}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 12:59:09.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/network-config-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1382e6f378eba6770588e331fb2b13ece4997e8d', 'message': 'k8s_fedora: Add flannel to master nodes\n\nTo allow ther api server access pods, we need\nflannel to be running on the master node.\n* Run flannel on the master node in a system\n  container.\n\nChange-Id: Ic0996ba36e335e970f3d2255840b24a8b4f738b8\nCloses-Bug: #1757936\n(cherry picked from commit 405b0c20288c170fd8e4dac8a3296602564db1c8)\n'}]",0,564199,1382e6f378eba6770588e331fb2b13ece4997e8d,8,4,1,20498,,,0,"k8s_fedora: Add flannel to master nodes

To allow ther api server access pods, we need
flannel to be running on the master node.
* Run flannel on the master node in a system
  container.

Change-Id: Ic0996ba36e335e970f3d2255840b24a8b4f738b8
Closes-Bug: #1757936
(cherry picked from commit 405b0c20288c170fd8e4dac8a3296602564db1c8)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/99/564199/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/network-config-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml']",5,1382e6f378eba6770588e331fb2b13ece4997e8d,bug/1757936-stable/queens," flannel_tag: type: string description: tag of the flannel system containers ""$FLANNEL_TAG"": {get_param: flannel_tag}",,15,0
openstack%2Fproject-config~master~I371fb39cd5dcc3842cb55f5139151cb13af3e808,openstack/project-config,master,I371fb39cd5dcc3842cb55f5139151cb13af3e808,add test jobs for openstack/git-nit repository,MERGED,2018-04-26 20:48:56.000000000,2018-04-27 15:55:17.000000000,2018-04-27 15:55:17.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-26 20:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/05fff4186faec8cf68806fc8b76c26ec3cb75103', 'message': 'add test jobs for openstack/git-nit repository\n\nChange-Id: I371fb39cd5dcc3842cb55f5139151cb13af3e808\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-26 22:01:16.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/44d8f615046c814abad9ffc91b356d620c1ae74f', 'message': 'add test jobs for openstack/git-nit repository\n\nChange-Id: I371fb39cd5dcc3842cb55f5139151cb13af3e808\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564625,44d8f615046c814abad9ffc91b356d620c1ae74f,13,4,2,2472,,,0,"add test jobs for openstack/git-nit repository

Change-Id: I371fb39cd5dcc3842cb55f5139151cb13af3e808
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/564625/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,05fff4186faec8cf68806fc8b76c26ec3cb75103,import-git-nit, name: openstack/git-nit templates: - system-required - openstack-python-jobs - openstack-python35-jobs - publish-to-pypi - project:,,8,0
openstack%2Fopenstack-helm~master~I15d6b6d93811bb560e4db26490b05024617ec665,openstack/openstack-helm,master,I15d6b6d93811bb560e4db26490b05024617ec665,Add LDAP pool options,MERGED,2018-04-10 21:06:53.000000000,2018-04-27 15:53:47.000000000,2018-04-27 15:53:47.000000000,"[{'_account_id': 20466}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-10 21:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9037041045a68ec639263a8b6e6a2116f2c77db1', 'message': 'Add LDAP pool options\n\nThis patch set adds the pool timeout to the LDAP configuration sample.\nAlso, puts the LDAP pool timeout to a sensible 60 seconds rather than\n-1 which can cause keystone to hang due to potential LDAP instability\nor unavailability.\n\nChange-Id: I15d6b6d93811bb560e4db26490b05024617ec665\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-04-11 02:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35e322644c458e1ef3bd52d68dab4cb18bf15618', 'message': 'Add LDAP pool options\n\nThis patch set adds the pool timeout to the LDAP configuration sample.\nAlso, puts the LDAP pool timeout to a sensible 60 seconds rather than\n-1 which can cause keystone to hang due to potential LDAP instability\nor unavailability.\n\nChange-Id: I15d6b6d93811bb560e4db26490b05024617ec665\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-04-11 18:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6da9f50d392a449a98202a11d0d2baa371f77490', 'message': 'Add LDAP pool options\n\nThis patch set adds the pool timeout to the LDAP configuration sample.\nAlso, puts the LDAP pool timeout to a sensible 60 seconds rather than\n-1 which can cause keystone to hang due to potential LDAP instability\nor unavailability.\n\nChange-Id: I15d6b6d93811bb560e4db26490b05024617ec665\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-04-11 23:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/365b83698957b1055be137da98450bf29243fc08', 'message': 'Add LDAP pool options\n\nThis patch set adds the pool timeout to the LDAP configuration sample.\nAlso, puts the LDAP pool timeout to a sensible 15 seconds rather than\n-1 which can cause keystone to hang due to potential LDAP instability\nor unavailability.\n\nChange-Id: I15d6b6d93811bb560e4db26490b05024617ec665\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2018-04-14 04:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edbe2e6d7ab39fcfd455caf265b9e5c6382d8fd9', 'message': 'Add LDAP pool options\n\nThis patch set adds the pool timeout to the LDAP configuration sample.\nAlso, puts the LDAP pool timeout to a sensible 15 seconds rather than\n-1 which can cause keystone to hang due to potential LDAP instability\nor unavailability.\n\nChange-Id: I15d6b6d93811bb560e4db26490b05024617ec665\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2018-04-26 15:38:34.000000000', 'files': ['tools/overrides/keystone/ldap_domain_config.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7cba1878846d46a74a4d6c0b819c7e9b1bc510d6', 'message': 'Add LDAP pool options\n\nThis patch set adds the pool timeout to the LDAP configuration sample.\nAlso, puts the LDAP pool timeout to a sensible 15 seconds rather than\n-1 which can cause keystone to hang due to potential LDAP instability\nor unavailability.\n\nChange-Id: I15d6b6d93811bb560e4db26490b05024617ec665\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,560151,7cba1878846d46a74a4d6c0b819c7e9b1bc510d6,22,5,6,20466,,,0,"Add LDAP pool options

This patch set adds the pool timeout to the LDAP configuration sample.
Also, puts the LDAP pool timeout to a sensible 15 seconds rather than
-1 which can cause keystone to hang due to potential LDAP instability
or unavailability.

Change-Id: I15d6b6d93811bb560e4db26490b05024617ec665
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/560151/6 && git format-patch -1 --stdout FETCH_HEAD,['tools/overrides/keystone/ldap_domain_config.yaml'],1,9037041045a68ec639263a8b6e6a2116f2c77db1,fix-example, use_pool: true pool_size: 27 pool_retry_max: 3 pool_retry_delay: 0.1 pool_connection_timeout: 60 pool_connection_lifetime: 600 use_auth_pool: true auth_pool_size: 100 auth_pool_connection_lifetime: 60,,9,0
openstack%2Fsahara~master~Icb3b44b93d7af0783991a67ff78225d5828a6a16,openstack/sahara,master,Icb3b44b93d7af0783991a67ff78225d5828a6a16,Fix the openstack endpoint create failed,ABANDONED,2018-04-27 15:27:01.000000000,2018-04-27 15:51:31.000000000,,"[{'_account_id': 10459}, {'_account_id': 22165}]","[{'number': 1, 'created': '2018-04-27 15:27:01.000000000', 'files': ['doc/source/install/dashboard-guide.rst', 'doc/source/install/installation-guide.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/3839697ed0629e88f81574057abcbf6e8bbeb590', 'message': 'Fix the openstack endpoint create failed\n\n1. Update the openstack command\n\nChange-Id: Icb3b44b93d7af0783991a67ff78225d5828a6a16\n'}]",1,564810,3839697ed0629e88f81574057abcbf6e8bbeb590,4,2,1,22165,,,0,"Fix the openstack endpoint create failed

1. Update the openstack command

Change-Id: Icb3b44b93d7af0783991a67ff78225d5828a6a16
",git fetch https://review.opendev.org/openstack/sahara refs/changes/10/564810/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/dashboard-guide.rst', 'doc/source/install/installation-guide.rst']",2,3839697ed0629e88f81574057abcbf6e8bbeb590,, data-processing public http://10.0.0.2:8386/v1.1/%\(project_id\)s $ openstack endpoint create --region RegionOne \ data-processing internal http://10.0.0.2:8386/v1.1/%\(project_id\)s $ openstack endpoint create --region RegionOne \ data-processing admin http://10.0.0.2:8386/v1.1/%\(project_id\)s, --publicurl http://10.0.0.2:8386/v1.1/%\(project_id\)s \ --adminurl http://10.0.0.2:8386/v1.1/%\(project_id\)s \ --internalurl http://10.0.0.2:8386/v1.1/%\(project_id\)s \ data-processing,15,8
openstack%2Fopenstack-helm~master~I5804eb730a55a192f3cd1518fbccf2416dddcefa,openstack/openstack-helm,master,I5804eb730a55a192f3cd1518fbccf2416dddcefa,Sync mongodb chart,MERGED,2018-04-26 16:22:57.000000000,2018-04-27 15:46:28.000000000,2018-04-27 15:46:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-26 16:22:57.000000000', 'files': ['mongodb/values.yaml', 'mongodb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5486403e04bc81742ce17b63f0d7462de06657ef', 'message': ""Sync mongodb chart\n\nThis patch set polishes and fixes the mongodb chart.\n\n* key and naming convention matches mariadb's convention;\n* fix indentation;\n* add in the ability to handle chown_on_start.\n\nChange-Id: I5804eb730a55a192f3cd1518fbccf2416dddcefa\nSigned-off-by: Tin Lam <tin@irrational.io>\n""}]",0,564548,5486403e04bc81742ce17b63f0d7462de06657ef,7,3,1,20466,,,0,"Sync mongodb chart

This patch set polishes and fixes the mongodb chart.

* key and naming convention matches mariadb's convention;
* fix indentation;
* add in the ability to handle chown_on_start.

Change-Id: I5804eb730a55a192f3cd1518fbccf2416dddcefa
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/564548/1 && git format-patch -1 --stdout FETCH_HEAD,"['mongodb/values.yaml', 'mongodb/templates/statefulset.yaml']",2,5486403e04bc81742ce17b63f0d7462de06657ef,mongodb-fixup,"{{- if $envAll.Values.volume.chown_on_start }} - name: mongodb-perms image: {{ $envAll.Values.images.tags.mongodb }} imagePullPolicy: {{ $envAll.Values.images.pull_policy }} securityContext: runAsUser: 0 command: - chown - -R - ""mongodb:"" - {{ $envAll.Values.volume.host.host_path }} volumeMounts: - name: mongodb-data mountPath: {{ $envAll.Values.volume.host.host_path }} {{- end }} containers: - name: mongodb image: {{ .Values.images.tags.mongodb }} imagePullPolicy: {{ .Values.images.pull_policy }} ports: - containerPort: {{ tuple ""mongodb"" ""internal"" ""mongodb"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} env: - name: ADMIN_PASS valueFrom: secretKeyRef: name: mongodb-root-creds key: MONGODB_ROOT_PASSWORD - name: ADMIN_USER valueFrom: secretKeyRef: name: mongodb-root-creds key: MONGODB_ROOT_USERNAME command: - /tmp/start.sh livenessProbe: exec: command: - mongo - --eval - ""db.adminCommand('ping')"" initialDelaySeconds: 20 timeoutSeconds: 5 readinessProbe: exec: command: - mongo - --eval - ""db.adminCommand('ping')"" initialDelaySeconds: 20 timeoutSeconds: 5 {{ tuple $envAll $envAll.Values.pod.resources.server | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} volumeMounts: - name: mongodb-bin mountPath: /tmp/start.sh subPath: start.sh readOnly: true - name: mongodb-bin mountPath: /tmp/setup_admin_user.sh subPath: setup_admin_user.sh readOnly: true - name: mongodb-data mountPath: /data/db{{- if not .Values.volume.enabled }} path: {{ .Values.volume.host_path }} {{ .Values.volume.class_path }}: {{ .Values.volume.class_name }} storage: {{ .Values.volume.size }}"," containers: - name: mongodb image: {{ .Values.images.tags.mongodb }} imagePullPolicy: {{ .Values.images.pull_policy }} ports: - containerPort: {{ tuple ""mongodb"" ""internal"" ""mongodb"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} env: - name: ADMIN_PASS valueFrom: secretKeyRef: name: mongodb-root-creds key: MONGODB_ROOT_PASSWORD - name: ADMIN_USER valueFrom: secretKeyRef: name: mongodb-root-creds key: MONGODB_ROOT_USERNAME command: - /tmp/start.sh livenessProbe: exec: command: - mongo - --eval - ""db.adminCommand('ping')"" initialDelaySeconds: 20 timeoutSeconds: 5 readinessProbe: exec: command: - mongo - --eval - ""db.adminCommand('ping')"" initialDelaySeconds: 20 timeoutSeconds: 5 volumeMounts: - name: mongodb-bin mountPath: /tmp/start.sh subPath: start.sh readOnly: true - name: mongodb-bin mountPath: /tmp/setup_admin_user.sh subPath: setup_admin_user.sh readOnly: true - name: mongodb-data mountPath: /data/db{{- if not .Values.storage.pvc.enabled }} path: {{ .Values.storage.host.host_path }} {{ .Values.storage.pvc.class_path }}: {{ .Values.storage.pvc.class_name }} storage: {{ .Values.storage.pvc.size }}",74,56
openstack%2Fmonasca-tempest-plugin~master~Ifdca09ca430415614956befc0744c52ad6b3a0a6,openstack/monasca-tempest-plugin,master,Ifdca09ca430415614956befc0744c52ad6b3a0a6,Remove test for log_api/v2 version,MERGED,2018-04-20 11:29:08.000000000,2018-04-27 15:45:13.000000000,2018-04-27 15:45:13.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-04-20 11:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/66e159d2503fc5777b4268d953546de8a747f245', 'message': 'Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\n\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n'}, {'number': 2, 'created': '2018-04-20 13:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/719d7c526ce2bfc1c09c27e98ed0eceb00531143', 'message': 'Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\n\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n'}, {'number': 3, 'created': '2018-04-20 14:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/a7ea099ad5c7c1ee339270865622313b266b3481', 'message': 'Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\n\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n'}, {'number': 4, 'created': '2018-04-24 12:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/dea241fe58156aab9fcb952de73b865ec96bf803', 'message': 'Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\n\nDepends-On: https://review.openstack.org/#/c/562143/\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n'}, {'number': 5, 'created': '2018-04-25 07:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/763f91992c7ceead95f5e26e5d01a1665f5b6f04', 'message': ""Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\nFix failing 'should_reject_if_body_is_empty' test\n\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n""}, {'number': 6, 'created': '2018-04-25 11:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/fb40e8cf7a782cdb3aee39316c0c34170f805919', 'message': ""Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\nFix failing 'should_reject_if_body_is_empty' test\n\nStory: 2001400\nTask: 14427\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n""}, {'number': 7, 'created': '2018-04-25 12:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/166c216b1b85eb2ee5b0908687800e4a95810da3', 'message': ""Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\nFix failing 'should_reject_if_body_is_empty' test\n\nStory: 2001400\nTask: 14427\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n""}, {'number': 8, 'created': '2018-04-26 09:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/e542f17d7ccb3b3bdb123b13c369335a49d007ab', 'message': ""Remove test for log_api/v2 version\n\nlog api v2 is no longer supported\nFix failing 'should_reject_if_body_is_empty' test\n\nStory: 2001400\nTask: 14427\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n""}, {'number': 9, 'created': '2018-04-27 11:44:51.000000000', 'files': ['monasca_tempest_tests/services/log_api_v2_client.py', 'monasca_tempest_tests/clients/log_api.py', 'monasca_tempest_tests/tests/log_api/test_unicode.py', 'monasca_tempest_tests/tests/log_api/test_constraints.py', 'monasca_tempest_tests/tests/log_api/base.py', 'monasca_tempest_tests/tests/log_api/test_single.py'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/f5ef89e62a6f4fdecca4dc57a0feac2626d4ae40', 'message': ""Remove test for log_api/v2 version\n\nLog api v2 is no longer supported.\nFix failing 'should_reject_if_body_is_empty' test.\n\nStory: 2001400\nTask: 14427\nChange-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6\n""}]",1,563087,f5ef89e62a6f4fdecca4dc57a0feac2626d4ae40,31,4,9,26141,,,0,"Remove test for log_api/v2 version

Log api v2 is no longer supported.
Fix failing 'should_reject_if_body_is_empty' test.

Story: 2001400
Task: 14427
Change-Id: Ifdca09ca430415614956befc0744c52ad6b3a0a6
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/87/563087/8 && git format-patch -1 --stdout FETCH_HEAD,['monasca_tempest_tests/clients/log_api.py'],1,66e159d2503fc5777b4268d953546de8a747f245,v2_test,," ""v2"": log_api_v2_client.LogApiV2Client( self.auth_provider, 'logs_v2', None ),",0,5
openstack%2Fopenstack-zuul-jobs~master~Iece862a4a66835e362cc1d67b7add8105fe61e6c,openstack/openstack-zuul-jobs,master,Iece862a4a66835e362cc1d67b7add8105fe61e6c,Yet more fix laravel branch/master publish jobs,MERGED,2018-04-27 15:09:33.000000000,2018-04-27 15:36:12.000000000,2018-04-27 15:36:12.000000000,"[{'_account_id': 1004}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 15:09:33.000000000', 'files': ['playbooks/legacy/laravel-openstackid-release-branch/post.yaml', 'playbooks/legacy/laravel-openstackid-release-master/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2d6221e052ed71197d87a78849ebcbc12d50fc31', 'message': 'Yet more fix laravel branch/master publish jobs\n\nThe publish-artifacts-to-fileserver role expects to find artifacts\nin zuul.executor.work_root instead of zuul.executor.log_root, so\ncreate that directory and put tarballs there in the\nlegacy-laravel-openstackid-release-branch and\nlegacy-laravel-openstackid-release-master jobs.\n\nChange-Id: Iece862a4a66835e362cc1d67b7add8105fe61e6c\n'}]",0,564799,2d6221e052ed71197d87a78849ebcbc12d50fc31,8,4,1,5263,,,0,"Yet more fix laravel branch/master publish jobs

The publish-artifacts-to-fileserver role expects to find artifacts
in zuul.executor.work_root instead of zuul.executor.log_root, so
create that directory and put tarballs there in the
legacy-laravel-openstackid-release-branch and
legacy-laravel-openstackid-release-master jobs.

Change-Id: Iece862a4a66835e362cc1d67b7add8105fe61e6c
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/99/564799/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/laravel-openstackid-release-branch/post.yaml', 'playbooks/legacy/laravel-openstackid-release-master/post.yaml']",2,2d6221e052ed71197d87a78849ebcbc12d50fc31,563645, path: '{{ zuul.executor.work_root }}/artifacts' dest: '{{ zuul.executor.work_root }}/artifacts/', path: '{{ zuul.executor.log_root }}/artifacts' dest: '{{ zuul.executor.log_root }}/artifacts/',4,4
openstack%2Foslo.config~stable%2Focata~I646fcc181d1129ca96d02a90036ee32b80d8f778,openstack/oslo.config,stable/ocata,I646fcc181d1129ca96d02a90036ee32b80d8f778,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 12:05:02.000000000,2018-04-27 15:34:36.000000000,2018-04-27 15:34:36.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 12:05:02.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/63ec59ebe54a1d6b6d09c742084f476551cc6a33', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fails on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778\n'}]",0,564741,63ec59ebe54a1d6b6d09c742084f476551cc6a33,6,2,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fails on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/41/564741/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,63ec59ebe54a1d6b6d09c742084f476551cc6a33,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fopenstack-helm-infra~master~I2bafc2153ddd46b3833b253a2e7950bccbccf8ed,openstack/openstack-helm-infra,master,I2bafc2153ddd46b3833b253a2e7950bccbccf8ed,Move to v0.3.1 of kubernetes-entrypoint,MERGED,2018-04-10 14:35:11.000000000,2018-04-27 15:34:18.000000000,2018-04-27 15:34:18.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 23981}]","[{'number': 1, 'created': '2018-04-10 14:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7abeb6a4aa991d3d488d36bb463ca7bddb982920', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2 breaking changes to\npod dependencies, and also adds support for depending on jobs via\nlabels.\n\nChange-Id: I2bafc2153ddd46b3833b253a2e7950bccbccf8ed\n'}, {'number': 2, 'created': '2018-04-25 18:24:58.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'grafana/values.yaml', 'registry/values.yaml', 'elasticsearch/values.yaml', 'nfs-provisioner/values.yaml', 'fluent-logging/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'flannel/values.yaml', 'prometheus-alertmanager/values.yaml', 'kibana/values.yaml', 'helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f402171e42356bc1e805782f1d7f090ce1f6ab17', 'message': 'Move to v0.3.1 of kubernetes-entrypoint\n\nMove to v0.3.1 of kubernetes-entrypoint which has 2 breaking changes to\npod dependencies, and also adds support for depending on jobs via\nlabels.\n\nChange-Id: I2bafc2153ddd46b3833b253a2e7950bccbccf8ed\n'}]",0,560041,f402171e42356bc1e805782f1d7f090ce1f6ab17,11,7,2,27715,,,0,"Move to v0.3.1 of kubernetes-entrypoint

Move to v0.3.1 of kubernetes-entrypoint which has 2 breaking changes to
pod dependencies, and also adds support for depending on jobs via
labels.

Change-Id: I2bafc2153ddd46b3833b253a2e7950bccbccf8ed
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/560041/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'grafana/values.yaml', 'registry/values.yaml', 'elasticsearch/values.yaml', 'nfs-provisioner/values.yaml', 'fluent-logging/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'flannel/values.yaml', 'prometheus-alertmanager/values.yaml', 'kibana/values.yaml', 'helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl']",17,7abeb6a4aa991d3d488d36bb463ca7bddb982920,entrypoint_v031,"{{- if $deps.jobs -}} {{- if kindIs ""string"" (index $deps.jobs 0) }} value: ""{{ include ""helm-toolkit.utils.joinListWithComma"" $deps.jobs }}"" {{- else }} - name: DEPENDENCY_JOBS_JSON value: {{- toJson $deps.jobs | quote -}} {{- end -}} {{- end }} - name: DEPENDENCY_POD_JSON"," value: ""{{ include ""helm-toolkit.utils.joinListWithComma"" $deps.jobs }}"" - name: DEPENDENCY_POD",26,19
openstack%2Fopenstack-ansible-openstack_hosts~master~I424ca9ca71253cc4e673065f35c9b939942eeda3,openstack/openstack-ansible-openstack_hosts,master,I424ca9ca71253cc4e673065f35c9b939942eeda3,tasks: Use PIP distribution packages for openSUSE and Ubuntu,MERGED,2018-04-23 15:55:33.000000000,2018-04-27 15:34:07.000000000,2018-04-27 10:18:43.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 15:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f9754dabc75acd8f82dd68205e8b52b62c99f327', 'message': 'tasks: Use PIP distribution packages for openSUSE and Ubuntu\n\nSupported openSUSE and Ubuntu distributions ship with relatively new\npip, setuptools, virtualenv and wheel packages so we can use that in\nfavor of the PIP ones. This also avoids running the pip_install role\non these hosts making the deployment somewhat faster.\n\nImplements: blueprint openstack-distribution-packages\nChange-Id: I424ca9ca71253cc4e673065f35c9b939942eeda3\n'}, {'number': 2, 'created': '2018-04-23 16:31:30.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/use-pip-distro-packages-2505f6e630a94850.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/899e838419b9377f24e9f282ebd8fca889f24fe1', 'message': 'tasks: Use PIP distribution packages for openSUSE and Ubuntu\n\nSupported openSUSE and Ubuntu distributions ship with relatively new\npip, setuptools, virtualenv and wheel packages so we can use that in\nfavor of the PIP ones. This also avoids running the pip_install role\non these hosts making the deployment somewhat faster.\n\nImplements: blueprint openstack-distribution-packages\nChange-Id: I424ca9ca71253cc4e673065f35c9b939942eeda3\n'}]",0,563684,899e838419b9377f24e9f282ebd8fca889f24fe1,10,3,2,23163,,,0,"tasks: Use PIP distribution packages for openSUSE and Ubuntu

Supported openSUSE and Ubuntu distributions ship with relatively new
pip, setuptools, virtualenv and wheel packages so we can use that in
favor of the PIP ones. This also avoids running the pip_install role
on these hosts making the deployment somewhat faster.

Implements: blueprint openstack-distribution-packages
Change-Id: I424ca9ca71253cc4e673065f35c9b939942eeda3
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/84/563684/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/use-pip-distro-packages-2505f6e630a94850.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",6,f9754dabc75acd8f82dd68205e8b52b62c99f327,bp/openstack-distribution-packages,"openstack_host_pip_distribution_packages: ""{{ _openstack_host_pip_packages | default([]) }}"" ",,39,0
openstack%2Fkolla~stable%2Fpike~Ie69fad3025b8d295e025b459d87237c52550633a,openstack/kolla,stable/pike,Ie69fad3025b8d295e025b459d87237c52550633a,Add designate-ui for horizon centos,MERGED,2018-04-18 11:09:14.000000000,2018-04-27 15:30:37.000000000,2018-04-27 15:30:37.000000000,"[{'_account_id': 18368}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 25945}]","[{'number': 1, 'created': '2018-04-18 11:09:14.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5111a81b46da359401231a36d0a451bb3fe371c8', 'message': 'Add designate-ui for horizon centos\n\nDesignate-dashboard has been release for RDO.\n\nChange-Id: Ie69fad3025b8d295e025b459d87237c52550633a\nCloses-bug: #1750757\n(cherry picked from commit b298c8d8d67e0026ccfaede251c82c904ec2295f)\n'}]",0,562242,5111a81b46da359401231a36d0a451bb3fe371c8,24,5,1,18368,,,0,"Add designate-ui for horizon centos

Designate-dashboard has been release for RDO.

Change-Id: Ie69fad3025b8d295e025b459d87237c52550633a
Closes-bug: #1750757
(cherry picked from commit b298c8d8d67e0026ccfaede251c82c904ec2295f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/562242/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,5111a81b46da359401231a36d0a451bb3fe371c8,bug/1750757," 'openstack-designate-ui',",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I14d5c72cf86423808e81f1d8406098d5fd635e66,openstack/tripleo-heat-templates,stable/newton,I14d5c72cf86423808e81f1d8406098d5fd635e66,Fix Heat condition for RHEL registration yum update,MERGED,2018-02-20 13:29:53.000000000,2018-04-27 15:27:37.000000000,2018-03-07 03:57:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 13:29:53.000000000', 'files': ['releasenotes/notes/fix-heat-condition-for-rhel-reg-311a3dce76cc0ec1.yaml', 'extraconfig/pre_deploy/rhel-registration/rhel-registration.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2735cfc17f3f31776b73f31f817b752b2c5dbb81', 'message': 'Fix Heat condition for RHEL registration yum update\n\nThere were 2 problems with this condition making the\nrhel-registration.yal template broken:\n\n""conditions"" should be ""condition""\n\nThe condition should refer to just a condition name defined in the\n""conditions:"" section of the template.\n\nWhen Id84d156cd28413309981d5943242292a3a6fa807 was backported to ocata\nand newton, it broke RHEL registration on those branches, and fails\nwith:\n\n===\nERROR: Failed to validate: Failed to validate: resources[0]: Failed to\nvalidate: resources.NodeExtraConfig: ""conditions"" is not a valid keyword\ninside a resource definition\'\n===\n\nI14d5c72cf86423808e81f1d8406098d5fd635e66 also needs to be backported to\nresolve the issue.\n\nChange-Id: I14d5c72cf86423808e81f1d8406098d5fd635e66\nCloses-Bug: #1709916\n(cherry picked from commit 589b18dafc5f9a79d39bfb0a1d8ecbc0d3d34627)\n'}]",0,546144,2735cfc17f3f31776b73f31f817b752b2c5dbb81,12,4,1,7144,,,0,"Fix Heat condition for RHEL registration yum update

There were 2 problems with this condition making the
rhel-registration.yal template broken:

""conditions"" should be ""condition""

The condition should refer to just a condition name defined in the
""conditions:"" section of the template.

When Id84d156cd28413309981d5943242292a3a6fa807 was backported to ocata
and newton, it broke RHEL registration on those branches, and fails
with:

===
ERROR: Failed to validate: Failed to validate: resources[0]: Failed to
validate: resources.NodeExtraConfig: ""conditions"" is not a valid keyword
inside a resource definition'
===

I14d5c72cf86423808e81f1d8406098d5fd635e66 also needs to be backported to
resolve the issue.

Change-Id: I14d5c72cf86423808e81f1d8406098d5fd635e66
Closes-Bug: #1709916
(cherry picked from commit 589b18dafc5f9a79d39bfb0a1d8ecbc0d3d34627)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/546144/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-heat-condition-for-rhel-reg-311a3dce76cc0ec1.yaml', 'extraconfig/pre_deploy/rhel-registration/rhel-registration.yaml']",2,2735cfc17f3f31776b73f31f817b752b2c5dbb81,bug/1709916-stable/newton,conditions: update_requested: equals: - {get_param: UpdateOnRHELRegistration} - true condition: update_requested, conditions: update_requested: {get_param: UpdateOnRHELRegistration},16,2
openstack%2Fopenstackdocstheme~master~I62ce0a93ca963fe412f17e56aab743ac9c3deb98,openstack/openstackdocstheme,master,I62ce0a93ca963fe412f17e56aab743ac9c3deb98,Relocate bug_tag in logABug generated URL,MERGED,2018-04-24 20:41:09.000000000,2018-04-27 15:24:20.000000000,2018-04-27 15:24:20.000000000,"[{'_account_id': 6547}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 20:41:09.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/js/docs.js'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/26553fa96a7b35d44f133087cfb0dc2bef146662', 'message': 'Relocate bug_tag in logABug generated URL\n\nThe content of field.comment may contain characters that confuse\nLaunchpad and block it from recognizing field.tags, so move the\nlocation of the tags specification to earlier in the URL.\n\nChange-Id: I62ce0a93ca963fe412f17e56aab743ac9c3deb98\nCloses-bug: #1766705\n'}]",0,564059,26553fa96a7b35d44f133087cfb0dc2bef146662,7,3,1,5314,,,0,"Relocate bug_tag in logABug generated URL

The content of field.comment may contain characters that confuse
Launchpad and block it from recognizing field.tags, so move the
location of the tags specification to earlier in the URL.

Change-Id: I62ce0a93ca963fe412f17e56aab743ac9c3deb98
Closes-bug: #1766705
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/59/564059/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/openstackdocs/static/js/docs.js'],1,26553fa96a7b35d44f133087cfb0dc2bef146662,bug/1766705," ""&field.tags="" + fieldTags + lineFeed + currentURL;"," lineFeed + currentURL + ""&field.tags="" + fieldTags;",2,2
openstack%2Ftooz~master~I8acb2f617f6044449fb3a91a9c3de73ef0061d36,openstack/tooz,master,I8acb2f617f6044449fb3a91a9c3de73ef0061d36,Implement group support for etcd3gw,MERGED,2018-02-28 21:08:59.000000000,2018-04-27 15:11:08.000000000,2018-04-27 15:11:08.000000000,"[{'_account_id': 1669}, {'_account_id': 7385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-28 21:08:59.000000000', 'files': ['tooz/drivers/etcd3gw.py', 'releasenotes/notes/etcd3gw-group-support-598832a8764a8aa6.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/6ab8c380c8d6a2e15611b225da7594e820cc773e', 'message': 'Implement group support for etcd3gw\n\nThis adds the various methods to support groups operations on the etc3gw\ndriver.\n\nChange-Id: I8acb2f617f6044449fb3a91a9c3de73ef0061d36\n'}]",6,548708,6ab8c380c8d6a2e15611b225da7594e820cc773e,10,3,1,7385,,,0,"Implement group support for etcd3gw

This adds the various methods to support groups operations on the etc3gw
driver.

Change-Id: I8acb2f617f6044449fb3a91a9c3de73ef0061d36
",git fetch https://review.opendev.org/openstack/tooz refs/changes/08/548708/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/etcd3gw.py', 'releasenotes/notes/etcd3gw-group-support-598832a8764a8aa6.yaml']",2,6ab8c380c8d6a2e15611b225da7594e820cc773e,etcd3gw-group,--- features: - | The etcd3gw driver now supports the group membership API. ,,210,3
openstack%2Fkuryr-kubernetes~master~I97303b54b900bc40f791309bd2589e617b61177a,openstack/kuryr-kubernetes,master,I97303b54b900bc40f791309bd2589e617b61177a,Fix octavia lb deleting_race with cascading,MERGED,2018-04-26 13:30:35.000000000,2018-04-27 15:09:30.000000000,2018-04-27 15:09:30.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-04-26 13:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d774a91c92d5c22cea8b73750e1f99d06702abec', 'message': 'Fix octavia lb deleting_race with cascading\n\nOctavia can cascade resource deletion by passing &cascade=True as a\nparameter to the HTTP request. This patch enables us to do that, fixing\nthe children deletion race and greatly simplifying the callstack of\nservice deletion\n\nCloses-Bug: #1767074\n\nChange-Id: I97303b54b900bc40f791309bd2589e617b61177a\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 2, 'created': '2018-04-26 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5e762afe79ab15e010f5860e198c54bbd43874fa', 'message': 'Fix octavia lb deleting_race with cascading\n\nOctavia can cascade resource deletion by passing &cascade=True as a\nparameter to the HTTP request. This patch enables us to do that, fixing\nthe children deletion race and greatly simplifying the callstack of\nservice deletion\n\nCloses-Bug: #1767074\n\nChange-Id: I97303b54b900bc40f791309bd2589e617b61177a\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 3, 'created': '2018-04-26 20:23:49.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/55973f25053727f747996c4308d9e7bf65f94b06', 'message': 'Fix octavia lb deleting_race with cascading\n\nOctavia can cascade resource deletion by passing &cascade=True as a\nparameter to the HTTP request. This patch enables us to do that, fixing\nthe children deletion race and greatly simplifying the callstack of\nservice deletion\n\nCloses-Bug: #1767074\nChange-Id: I97303b54b900bc40f791309bd2589e617b61177a\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",4,564504,55973f25053727f747996c4308d9e7bf65f94b06,19,6,3,14352,,,0,"Fix octavia lb deleting_race with cascading

Octavia can cascade resource deletion by passing &cascade=True as a
parameter to the HTTP request. This patch enables us to do that, fixing
the children deletion race and greatly simplifying the callstack of
service deletion

Closes-Bug: #1767074
Change-Id: I97303b54b900bc40f791309bd2589e617b61177a
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/564504/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py']",3,d774a91c92d5c22cea8b73750e1f99d06702abec,bug/1767074," @property def cascading_capable(self): lbaas = clients.get_loadbalancer_client() return lbaas.cascading_capable if lbaas.cascading_capable: self._release( loadbalancer, loadbalancer, lbaas.delete, lbaas.lbaas_loadbalancer_path % loadbalancer.id, params={'cascade': True}) else: self._release(loadbalancer, loadbalancer, lbaas.delete_loadbalancer, loadbalancer.id) sg_id = self._find_listeners_sg(loadbalancer) if sg_id: try: neutron.delete_security_group(sg_id) except n_exc.NeutronClientException: LOG.exception('Error when deleting loadbalancer security ' 'group. Leaving it orphaned.')"," self._release(loadbalancer, loadbalancer, lbaas.delete_loadbalancer, loadbalancer.id) sg_id = self._find_listeners_sg(loadbalancer) if sg_id: try: neutron.delete_security_group(sg_id) except n_exc.NeutronClientException: LOG.exception('Error when deleting loadbalancer security ' 'group. Leaving it orphaned.')",33,12
openstack%2Fopenstacksdk~master~Id10cbed6eaa02cafaf5d220032014b2a3f58ad82,openstack/openstacksdk,master,Id10cbed6eaa02cafaf5d220032014b2a3f58ad82,Remove DataCentred from list of vendors,MERGED,2018-04-27 10:49:42.000000000,2018-04-27 15:07:03.000000000,2018-04-27 15:07:03.000000000,"[{'_account_id': 2}, {'_account_id': 16984}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 10:49:42.000000000', 'files': ['openstack/config/vendors/datacentred.json', 'doc/source/user/config/vendor-support.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5c5cadfb375a51c7c0fefce59d5464679bde5454', 'message': ""Remove DataCentred from list of vendors\n\nDataCentred's cloud service was shut down late 2017, and so this vendor\nshould be removed from the list.\n\nChange-Id: Id10cbed6eaa02cafaf5d220032014b2a3f58ad82\nSigned-off-by: Nick Jones <nick@stackhpc.com>\n""}]",0,564727,5c5cadfb375a51c7c0fefce59d5464679bde5454,7,3,1,2,,,0,"Remove DataCentred from list of vendors

DataCentred's cloud service was shut down late 2017, and so this vendor
should be removed from the list.

Change-Id: Id10cbed6eaa02cafaf5d220032014b2a3f58ad82
Signed-off-by: Nick Jones <nick@stackhpc.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/564727/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/vendors/datacentred.json', 'doc/source/user/config/vendor-support.rst']",2,5c5cadfb375a51c7c0fefce59d5464679bde5454,cherry-pick,,"datacentred ----------- https://compute.datacentred.io:5000 ============== ================ Region Name Location ============== ================ sal01 Manchester, UK ============== ================ * Image API Version is 1 ",0,24
openstack%2Fopenstack-ansible-repo_build~stable%2Focata~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,stable/ocata,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-27 09:14:42.000000000,2018-04-27 15:06:19.000000000,2018-04-27 15:06:19.000000000,"[{'_account_id': 2799}, {'_account_id': 7307}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-27 09:14:42.000000000', 'files': ['templates/venv-build-options.txt.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/78991fc37a4ba2ec3cf2991955898420bd0e822d', 'message': 'Do not use an index for a venv with no git sources\n\nWhen building a venv with no git sources, currently the venv build\nexecutes without constraints as it uses the default pypi index.\n\nThis patch ensures that if there is no git source, then the --no-index\nsetting will still be applied.\n\nChange-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)\n'}]",0,564709,78991fc37a4ba2ec3cf2991955898420bd0e822d,8,4,1,6816,,,0,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/09/564709/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/venv-build-options.txt.j2'],1,78991fc37a4ba2ec3cf2991955898420bd0e822d,,"{% set venv_service_name = item['role_name'] | replace('os_', '') %}ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ venv_service_name }}""ROLE_VENV_FILE=""{{ venv_service_name }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% set remote_package_parts = local_packages.results.0.item.remote_package_parts %}{# We need to verify whether there are any git sources which apply to the #} {# role. If there are not, then we need not bother with any of this. #}{% set git_source_available = ((remote_package_parts | selectattr('name', 'equalto', venv_service_name)) | list) | length > 0 %} {% if git_source_available | bool %} {% for clone_item in remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %} {# #} {# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %} {# #} {# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{% endif %} {% else %} {# If not true, then venvwithindex is set to boolean false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{# If not set, then assume that venvwithindex is false #}{% endfor %} {% else %} {# If there is no git source available, then we should not be using any #} {# upstream indexes either. #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index"" {% endif %}","ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ item['role_name'] | replace('os_', '') }}""ROLE_VENV_FILE=""{{ item['role_name'] | replace('os_', '') }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% for clone_item in local_packages.results.0.item.remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %}{# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %}{# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{# If not true, then venvwithindex is set to boolean false #}{% else %} {# If not set, then assume that venvwithindex is false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{% endif %} {% endfor %}",35,22
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,stable/queens,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-27 08:51:31.000000000,2018-04-27 15:06:18.000000000,2018-04-27 15:06:18.000000000,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-27 08:51:31.000000000', 'files': ['templates/venv-build-options.txt.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/f84c5e7b5b2a421784c7b8eaeded421a592ce800', 'message': 'Do not use an index for a venv with no git sources\n\nWhen building a venv with no git sources, currently the venv build\nexecutes without constraints as it uses the default pypi index.\n\nThis patch ensures that if there is no git source, then the --no-index\nsetting will still be applied.\n\nChange-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)\n'}]",0,564704,f84c5e7b5b2a421784c7b8eaeded421a592ce800,11,5,1,6816,,,0,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/04/564704/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/venv-build-options.txt.j2'],1,f84c5e7b5b2a421784c7b8eaeded421a592ce800,,"{% set venv_service_name = item['role_name'] | replace('os_', '') %}ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ venv_service_name }}""ROLE_VENV_FILE=""{{ venv_service_name }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% set remote_package_parts = local_packages.results.0.item.remote_package_parts %}{# We need to verify whether there are any git sources which apply to the #} {# role. If there are not, then we need not bother with any of this. #}{% set git_source_available = ((remote_package_parts | selectattr('name', 'equalto', venv_service_name)) | list) | length > 0 %} {% if git_source_available | bool %} {% for clone_item in remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %} {# #} {# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %} {# #} {# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{% endif %} {% else %} {# If not true, then venvwithindex is set to boolean false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{# If not set, then assume that venvwithindex is false #}{% endfor %} {% else %} {# If there is no git source available, then we should not be using any #} {# upstream indexes either. #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index"" {% endif %}","ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ item['role_name'] | replace('os_', '') }}""ROLE_VENV_FILE=""{{ item['role_name'] | replace('os_', '') }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% for clone_item in local_packages.results.0.item.remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %}{# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %}{# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{# If not true, then venvwithindex is set to boolean false #}{% else %} {# If not set, then assume that venvwithindex is false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{% endif %} {% endfor %}",33,20
openstack%2Fopenstack-ansible-os_tempest~stable%2Fpike~I2496fccff1f51c586e999538232a4bcf0addbee5,openstack/openstack-ansible-os_tempest,stable/pike,I2496fccff1f51c586e999538232a4bcf0addbee5,Switch from testrepository to stestr,ABANDONED,2018-04-05 13:09:04.000000000,2018-04-27 15:05:18.000000000,,"[{'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-05 13:09:04.000000000', 'files': ['tasks/tempest_run.yml', 'tests/test-tempest-functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3723a43118e4bc280ce2b301209ef7d632730596', 'message': 'Switch from testrepository to stestr\n\nThis commit replaces the call to testr with stestr, and updates the\noutput files accordingly. This is necessary because tempest has moved\naway from testrepository [1], which is resulting in empty files being\ncreated.\n\nLastly, we update the functional tests to ensure the subunit results\nfiles exist and are not empty.\n\n[1] https://review.openstack.org/#/c/504345/\n\nDepends-On: https://review.openstack.org/#/c/557989/\nChange-Id: I2496fccff1f51c586e999538232a4bcf0addbee5\n(cherry picked from commit f8404f5eeb2a07382782d63e126fae54b9383439)\n'}]",0,559074,3723a43118e4bc280ce2b301209ef7d632730596,5,3,1,7307,,,0,"Switch from testrepository to stestr

This commit replaces the call to testr with stestr, and updates the
output files accordingly. This is necessary because tempest has moved
away from testrepository [1], which is resulting in empty files being
created.

Lastly, we update the functional tests to ensure the subunit results
files exist and are not empty.

[1] https://review.openstack.org/#/c/504345/

Depends-On: https://review.openstack.org/#/c/557989/
Change-Id: I2496fccff1f51c586e999538232a4bcf0addbee5
(cherry picked from commit f8404f5eeb2a07382782d63e126fae54b9383439)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/74/559074/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_run.yml', 'tests/test-tempest-functional.yml']",2,3723a43118e4bc280ce2b301209ef7d632730596,stestr-stable/pike," - name: Stat the tempest subunit result files stat: path: ""{{ tempest_log_dir }}/{{ item }}"" with_items: - ""stestr_results.html"" - ""tempest_results.xml"" - ""testrepository.subunit"" that: item.stat.exists and item.stat.size != 0 msg: ""{{ item.item }} must be present in {{ tempest_log_dir }} and not empty"" with_items: ""{{ _results_list.results }}"""," - name: List the contents of the tempest_result_path folder find: paths: ""{{ tempest_log_dir }}"" that: ""item in _results_list.files | map(attribute='path') | map('basename') | list"" msg: ""{{ item }} must be present in {{ tempest_log_dir }}"" with_items: - ""testr_results.html"" - ""tempest_results.xml"" - ""testrepository.subunit""",17,11
openstack%2Fproject-config~master~Ib131244c8390d6768c848639e76ec63f9a86e74f,openstack/project-config,master,Ib131244c8390d6768c848639e76ec63f9a86e74f,import the git-nit repository,MERGED,2018-04-26 20:40:21.000000000,2018-04-27 14:59:37.000000000,2018-04-27 14:49:17.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 20:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8771fdac92d6730d20f4cc44dd4292dcfe33b64', 'message': 'import the git-nit repository\n\nChange-Id: Ib131244c8390d6768c848639e76ec63f9a86e74f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-26 20:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9c533da7265a9c1aa8a8ce03b3c1202eff44499b', 'message': 'import the git-nit repository\n\nChange-Id: Ib131244c8390d6768c848639e76ec63f9a86e74f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-04-26 22:01:16.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/git-nit.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5d0b92633c135931c0037b305b93dd1f4b2acf77', 'message': 'import the git-nit repository\n\nChange-Id: Ib131244c8390d6768c848639e76ec63f9a86e74f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",5,564622,5d0b92633c135931c0037b305b93dd1f4b2acf77,19,5,3,2472,,,0,"import the git-nit repository

Change-Id: Ib131244c8390d6768c848639e76ec63f9a86e74f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/564622/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/git-nit.config']",4,c8771fdac92d6730d20f4cc44dd4292dcfe33b64,import-git-nit,"[access ""refs/heads/*""] abandon = group git-nit-core label-Code-Review = -2..+2 group git-nit-core label-Workflow = -1..+1 group git-nit-core [access ""refs/tags/*""] pushSignedTag = group git-nit-release [receive] requireChangeId = true [submit] mergeContent = true",,26,0
openstack%2Fopenstack-ansible-repo_build~stable%2Fpike~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,stable/pike,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-27 08:51:38.000000000,2018-04-27 14:57:45.000000000,2018-04-27 14:57:45.000000000,"[{'_account_id': 2799}, {'_account_id': 7307}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-27 08:51:38.000000000', 'files': ['templates/venv-build-options.txt.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/14b723ba4e89c65511f95ece030d9aef77844a20', 'message': 'Do not use an index for a venv with no git sources\n\nWhen building a venv with no git sources, currently the venv build\nexecutes without constraints as it uses the default pypi index.\n\nThis patch ensures that if there is no git source, then the --no-index\nsetting will still be applied.\n\nChange-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)\n'}]",0,564705,14b723ba4e89c65511f95ece030d9aef77844a20,8,4,1,6816,,,0,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
(cherry picked from commit 040ee2e1284586dcdf27538129ef3d3d1a4907b4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/05/564705/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/venv-build-options.txt.j2'],1,14b723ba4e89c65511f95ece030d9aef77844a20,,"{% set venv_service_name = item['role_name'] | replace('os_', '') %}ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ venv_service_name }}""ROLE_VENV_FILE=""{{ venv_service_name }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% set remote_package_parts = local_packages.results.0.item.remote_package_parts %}{# We need to verify whether there are any git sources which apply to the #} {# role. If there are not, then we need not bother with any of this. #}{% set git_source_available = ((remote_package_parts | selectattr('name', 'equalto', venv_service_name)) | list) | length > 0 %} {% if git_source_available | bool %} {% for clone_item in remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %} {# #} {# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %} {# #} {# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{% endif %} {% else %} {# If not true, then venvwithindex is set to boolean false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{# If not set, then assume that venvwithindex is false #}{% endfor %} {% else %} {# If there is no git source available, then we should not be using any #} {# upstream indexes either. #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index"" {% endif %}","ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ item['role_name'] | replace('os_', '') }}""ROLE_VENV_FILE=""{{ item['role_name'] | replace('os_', '') }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% for clone_item in local_packages.results.0.item.remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %}{# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %}{# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{# If not true, then venvwithindex is set to boolean false #}{% else %} {# If not set, then assume that venvwithindex is false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{% endif %} {% endfor %}",33,20
openstack%2Ffuturist~stable%2Fpike~I7358d1d2c911390f07ec17cca15be6fe03e84bbe,openstack/futurist,stable/pike,I7358d1d2c911390f07ec17cca15be6fe03e84bbe,Fix sphinx-docs job for stable branch,MERGED,2018-04-26 12:40:08.000000000,2018-04-27 14:54:10.000000000,2018-04-27 14:54:10.000000000,"[{'_account_id': 6928}, {'_account_id': 10239}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 12:40:08.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/futurist/commit/00d3645c69b2f0f7ccab20a031226047c9fafd45', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I7358d1d2c911390f07ec17cca15be6fe03e84bbe\n'}]",0,564486,00d3645c69b2f0f7ccab20a031226047c9fafd45,11,4,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I7358d1d2c911390f07ec17cca15be6fe03e84bbe
",git fetch https://review.opendev.org/openstack/futurist refs/changes/86/564486/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,00d3645c69b2f0f7ccab20a031226047c9fafd45,pip10-stable-fix,"if [ -z ""$@"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ic160669eed32bdd74c273c61c6a4152a9c5d3e67,openstack/tripleo-upgrade,stable/queens,Ic160669eed32bdd74c273c61c6a4152a9c5d3e67,DNM - removed replace.,ABANDONED,2018-04-26 11:13:14.000000000,2018-04-27 14:48:15.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 11:13:14.000000000', 'files': ['tasks/main.yml', 'tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f11ed216287b7b58a35651fdfd3a5f4d0c1af177', 'message': 'DNM - removed replace.\n\nDepends-On: I7c92f1ee2e416015a0426c5d4485b038d308b851\nChange-Id: Ic160669eed32bdd74c273c61c6a4152a9c5d3e67\n'}]",0,564465,f11ed216287b7b58a35651fdfd3a5f4d0c1af177,7,3,1,20775,,,0,"DNM - removed replace.

Depends-On: I7c92f1ee2e416015a0426c5d4485b038d308b851
Change-Id: Ic160669eed32bdd74c273c61c6a4152a9c5d3e67
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/65/564465/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/upgrade/main.yml']",2,f11ed216287b7b58a35651fdfd3a5f4d0c1af177,,,,0,8
openstack%2Ftripleo-quickstart-extras~master~I7c92f1ee2e416015a0426c5d4485b038d308b851,openstack/tripleo-quickstart-extras,master,I7c92f1ee2e416015a0426c5d4485b038d308b851,DNM - Test,ABANDONED,2018-04-26 11:03:42.000000000,2018-04-27 14:48:01.000000000,,"[{'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 11:03:42.000000000', 'files': ['roles/overcloud-deploy/tasks/deploy-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ca3334c0d289becd4a23f432692b24bba2f8c73a', 'message': 'DNM - Test\n\nChange-Id: I7c92f1ee2e416015a0426c5d4485b038d308b851\n'}]",0,564460,ca3334c0d289becd4a23f432692b24bba2f8c73a,7,4,1,20775,,,0,"DNM - Test

Change-Id: I7c92f1ee2e416015a0426c5d4485b038d308b851
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/564460/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/deploy-overcloud.yml'],1,ca3334c0d289becd4a23f432692b24bba2f8c73a,," deploy_args_used: ""{{ deploy_args }}"""," deploy_args_used: ""{{ deploy_args | replace('\n', ' ') }}""",1,1
openstack%2Fheat~master~If1bb64f042f38fadfb71dfd58aa854211ffe3d8a,openstack/heat,master,If1bb64f042f38fadfb71dfd58aa854211ffe3d8a,Docs: Make stack domain users docs visible,MERGED,2018-03-16 00:17:19.000000000,2018-04-27 14:47:46.000000000,2018-04-27 14:47:46.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 00:17:19.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/2361bd5a48ec1ac8c50bbad2b3146a7844aef571', 'message': 'Docs: Make stack domain users docs visible\n\nThis document was effectively hidden because of a misspelling in the\nindex.\n\nChange-Id: If1bb64f042f38fadfb71dfd58aa854211ffe3d8a\n'}]",0,553638,2361bd5a48ec1ac8c50bbad2b3146a7844aef571,8,3,1,4257,,,0,"Docs: Make stack domain users docs visible

This document was effectively hidden because of a misspelling in the
index.

Change-Id: If1bb64f042f38fadfb71dfd58aa854211ffe3d8a
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/553638/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,2361bd5a48ec1ac8c50bbad2b3146a7844aef571,docs, introduction auth-model stack-domain-users, introduction.rst auth-model.rst stack-domain.rst,3,3
openstack%2Ftripleo-upgrade~stable%2Fqueens~I41099391dcf9b0d5d1938afe1ca8154faba08b06,openstack/tripleo-upgrade,stable/queens,I41099391dcf9b0d5d1938afe1ca8154faba08b06,"DNM - Test, regexp",ABANDONED,2018-04-26 11:11:53.000000000,2018-04-27 14:47:42.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 11:11:53.000000000', 'files': ['tasks/main.yml', 'tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/13aa85a2bdc5433bad1c0b5638e24b977d8d70fe', 'message': 'DNM - Test, regexp\n\nDo not merge\n\nDepends-On: Idc7e825b6c25f5cca75c55296e9b26ed27b40de8\nChange-Id: I41099391dcf9b0d5d1938afe1ca8154faba08b06\n'}]",0,564464,13aa85a2bdc5433bad1c0b5638e24b977d8d70fe,14,3,1,20775,,,0,"DNM - Test, regexp

Do not merge

Depends-On: Idc7e825b6c25f5cca75c55296e9b26ed27b40de8
Change-Id: I41099391dcf9b0d5d1938afe1ca8154faba08b06
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/64/564464/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/upgrade/main.yml']",2,13aa85a2bdc5433bad1c0b5638e24b977d8d70fe,,,,0,13
openstack%2Fansible-role-container-registry~master~Iee045b0140522b5cbf168e24b6272a051a4996aa,openstack/ansible-role-container-registry,master,Iee045b0140522b5cbf168e24b6272a051a4996aa,Fix role path in setup.cfg,MERGED,2018-04-27 14:18:48.000000000,2018-04-27 14:46:43.000000000,2018-04-27 14:46:43.000000000,"[{'_account_id': 3153}, {'_account_id': 13294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 14:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/55ab3fbf09fe71f915c9c5013f7d92f83c1123a1', 'message': 'Fix role path in setup.cfg\n\nChange-Id: Iee045b0140522b5cbf168e24b6272a051a4996aa\n'}, {'number': 2, 'created': '2018-04-27 14:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/2d066c3ead3997919b8caad5cece90dc67ff483f', 'message': 'Fix role path in setup.cfg\n\nChange-Id: Iee045b0140522b5cbf168e24b6272a051a4996aa\n'}, {'number': 3, 'created': '2018-04-27 14:33:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/64371928c2cbee0e9e43851c0da5a361ac91653b', 'message': 'Fix role path in setup.cfg\n\nChange-Id: Iee045b0140522b5cbf168e24b6272a051a4996aa\n'}]",1,564780,64371928c2cbee0e9e43851c0da5a361ac91653b,12,3,3,3153,,,0,"Fix role path in setup.cfg

Change-Id: Iee045b0140522b5cbf168e24b6272a051a4996aa
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/80/564780/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,55ab3fbf09fe71f915c9c5013f7d92f83c1123a1,package, /usr/local/share/ansible/roles/container-registry/defaults = defaults/* /usr/local/share/ansible/roles/container-registry/handlers = handlers/* /usr/local/share/ansible/roles/container-registry/meta = meta/* /usr/local/share/ansible/roles/container-registry/tasks = tasks/* /usr/local/share/ansible/roles/container-registry/templates = templates/* /usr/local/share/ansible/roles/container-registry/tests = tests/* /usr/local/share/ansible/roles/container-registry/vars = vars/* /usr/local/share/ansible/roles/container-registry/files = files/*, usr/local/share/ansible/roles/container-registry/defaults = defaults/* usr/local/share/ansible/roles/container-registry/handlers = handlers/* usr/local/share/ansible/roles/container-registry/meta = meta/* usr/local/share/ansible/roles/container-registry/tasks = tasks/* usr/local/share/ansible/roles/container-registry/templates = templates/* usr/local/share/ansible/roles/container-registry/tests = tests/* usr/local/share/ansible/roles/container-registry/vars = vars/* usr/local/share/ansible/roles/container-registry/files = files/*,8,8
openstack%2Fmonasca-ui~stable%2Fqueens~I937507e9a65dbf4cd3962c0910180464378aed00,openstack/monasca-ui,stable/queens,I937507e9a65dbf4cd3962c0910180464378aed00,Change IntegerField to ChoiceField for notification period,MERGED,2018-04-26 06:29:31.000000000,2018-04-27 14:43:59.000000000,2018-04-27 14:43:59.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26639}]","[{'number': 1, 'created': '2018-04-26 06:29:31.000000000', 'files': ['monitoring/notifications/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/8c45c6e960c75e18c686cb93dd4c51a216054eaf', 'message': 'Change IntegerField to ChoiceField for notification period\n\nStory: 2001506\nTask: 6297\n\nChange-Id: I937507e9a65dbf4cd3962c0910180464378aed00\n(cherry picked from commit 37ecb3ca6619f73541fb63b800315563bdb43624)\n'}]",0,564396,8c45c6e960c75e18c686cb93dd4c51a216054eaf,8,3,1,16171,,,0,"Change IntegerField to ChoiceField for notification period

Story: 2001506
Task: 6297

Change-Id: I937507e9a65dbf4cd3962c0910180464378aed00
(cherry picked from commit 37ecb3ca6619f73541fb63b800315563bdb43624)
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/96/564396/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/notifications/forms.py'],1,8c45c6e960c75e18c686cb93dd4c51a216054eaf,," period_choices = [(0, '0'), (60, '60')] self.fields['period'] = forms.ChoiceField(label=_(""Period""), widget=selectWidget, choices=period_choices, initial=0, required=required, help_text=_(""The notification period."")) if data['type'] != constants.NotificationType.WEBHOOK and data['period'] != '0': period=int(data['period'])) kwargs['period'] = int(data['period'])"," self.fields['period'] = forms.IntegerField(label=_(""Period""), min_value=0, max_value=60, initial=0, required=required, help_text=_(""The notification period."")) if data['type'] != constants.NotificationType.WEBHOOK and data['period'] != 0: elif (data['type'] == constants.NotificationType.WEBHOOK and data['period'] not in [0, 60]): raise forms.ValidationError(_('Period must be 0 or 60.')) period=data['period']) kwargs['period'] = data['period']",10,12
openstack%2Fnetworking-ovn~master~I511da89787cdfd3f17401b1ac20ce282cc4a8f49,openstack/networking-ovn,master,I511da89787cdfd3f17401b1ac20ce282cc4a8f49,Make L3 plugin return the ha and distributed flags,ABANDONED,2018-04-20 13:41:05.000000000,2018-04-27 14:40:40.000000000,,"[{'_account_id': 8788}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 13:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5c50d6a1324043e7cbe79b9419162cccf77d901e', 'message': 'WIP: Make L3 plugin return the ha and distributed flags\n\nWhen an admin executes openstack router show or openstack router list\nhe will get the distributed and HA flags as ""False"" because\nthose fields are not provided in the dictionary.\n\nChange-Id: I511da89787cdfd3f17401b1ac20ce282cc4a8f49\nRelated-Bug: 1689510\nRelated-Bug: 1721010\n'}, {'number': 2, 'created': '2018-04-24 10:04:26.000000000', 'files': ['networking_ovn/common/extensions.py', 'devstack/override-defaults', 'networking_ovn/l3/l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/78c8dff9e61a47cd7dfaf98268815842abe55ff6', 'message': 'Make L3 plugin return the ha and distributed flags\n\nWhen an admin executes openstack router show or openstack router list\nhe will get the distributed and HA flags as ""False"" because\nthose fields are not provided in the dictionary.\n\nChange-Id: I511da89787cdfd3f17401b1ac20ce282cc4a8f49\nRelated-Bug: 1689510\nRelated-Bug: 1721010\n'}]",2,563115,78c8dff9e61a47cd7dfaf98268815842abe55ff6,10,2,2,8788,,,0,"Make L3 plugin return the ha and distributed flags

When an admin executes openstack router show or openstack router list
he will get the distributed and HA flags as ""False"" because
those fields are not provided in the dictionary.

Change-Id: I511da89787cdfd3f17401b1ac20ce282cc4a8f49
Related-Bug: 1689510
Related-Bug: 1721010
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/15/563115/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/extensions.py', 'networking_ovn/l3/l3_ovn.py']",2,5c50d6a1324043e7cbe79b9419162cccf77d901e,bug/1689510,"from networking_ovn.common import config @property def supported_extension_aliases(self): if not hasattr(self, '_aliases'): aliases = extensions.ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 self._disable_dvr_extension_by_config(aliases) self._aliases = aliases return self._aliases @staticmethod def _disable_dvr_extension_by_config(aliases): if not config.is_ovn_distributed_floating_ip(): LOG.info('Disabled DVR extension.') if 'dvr' in aliases: aliases.remove('dvr') self._set_distributed_and_ha(router) return self._set_distributed_and_ha(result) def get_router(self, context, id, fields=None): router = super(OVNL3RouterPlugin, self).get_router(context, id, fields) return self._set_distributed_and_ha(router) def get_routers(self, context, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): routers = super(OVNL3RouterPlugin, self).get_routers( context, filters, fields, sorts, limit, marker, page_reverse) return map(self._set_distributed_and_ha, routers) @staticmethod def _set_distributed_and_ha(router): router['ha'] = True router['distributed'] = config.is_ovn_distributed_floating_ip() return router", supported_extension_aliases = \ extensions.ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 return result,38,3
openstack%2Fkolla-ansible~stable%2Focata~I63e2b381c260265e5901ee88ca0a649d96952bda,openstack/kolla-ansible,stable/ocata,I63e2b381c260265e5901ee88ca0a649d96952bda,Barbican simple_crypto plugin broken - invalid key,MERGED,2017-08-06 15:45:02.000000000,2018-04-27 14:40:30.000000000,2018-04-27 14:40:30.000000000,"[{'_account_id': 3}, {'_account_id': 6488}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26556}, {'_account_id': 28003}]","[{'number': 1, 'created': '2017-08-06 15:45:02.000000000', 'files': ['releasenotes/notes/barbican-simple-crypto-key-f3cd3b8b210ab237.yaml', 'etc/kolla/passwords.yml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24b49ed83eb232f43de5a455a83f35f4cd67e443', 'message': 'Barbican simple_crypto plugin broken - invalid key\n\nWhen using the simple_crypto plugin, barbican expects the\n[simple_crypto_plugin] kek config value to be a base64-encoded 32 byte\nvalue. However, kolla-ansible is providing a standard autogenerated\npassword.\n\nThere are two relevant variables in kolla-ansible -\nbarbican_crypto_password (a standard password) and barbican_crypto_key\n(a HMAC-SHA256 key). There is no use of barbican_crypto_key other than\nwhen it is generated. barbican_crypto_password is used to set the\n[simple_crypto_plugin] kek config value but causes an error when the\nsimple_crypto plugin is used as the value is not in the expected format.\nUsing barbican_crypto_key instead resolves the error. Clearly there is a\nnaming issue here and we should be using barbican_crypto_key instead of\nbarbican_crypto_password.\n\nThis change removes the barbican_crypto_password variable and uses\nbarbican_crypto_key instead.\n\nChange-Id: I63e2b381c260265e5901ee88ca0a649d96952bda\nCloses-Bug: #1699014\nRelated-Bug: #1683216\nCo-Authored-By: Stig Telfer <stig@stackhpc.com>\n(cherry picked from commit 2e4359069e8a50f83fe0dca1103d935212dd2703)\n'}]",0,491251,24b49ed83eb232f43de5a455a83f35f4cd67e443,15,9,1,3185,,,0,"Barbican simple_crypto plugin broken - invalid key

When using the simple_crypto plugin, barbican expects the
[simple_crypto_plugin] kek config value to be a base64-encoded 32 byte
value. However, kolla-ansible is providing a standard autogenerated
password.

There are two relevant variables in kolla-ansible -
barbican_crypto_password (a standard password) and barbican_crypto_key
(a HMAC-SHA256 key). There is no use of barbican_crypto_key other than
when it is generated. barbican_crypto_password is used to set the
[simple_crypto_plugin] kek config value but causes an error when the
simple_crypto plugin is used as the value is not in the expected format.
Using barbican_crypto_key instead resolves the error. Clearly there is a
naming issue here and we should be using barbican_crypto_key instead of
barbican_crypto_password.

This change removes the barbican_crypto_password variable and uses
barbican_crypto_key instead.

Change-Id: I63e2b381c260265e5901ee88ca0a649d96952bda
Closes-Bug: #1699014
Related-Bug: #1683216
Co-Authored-By: Stig Telfer <stig@stackhpc.com>
(cherry picked from commit 2e4359069e8a50f83fe0dca1103d935212dd2703)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/491251/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican-simple-crypto-key-f3cd3b8b210ab237.yaml', 'etc/kolla/passwords.yml', 'ansible/roles/barbican/templates/barbican.conf.j2']",3,24b49ed83eb232f43de5a455a83f35f4cd67e443,bug/1699014,kek = '{{ barbican_crypto_key }}',kek = '{{ barbican_crypto_password }}',22,2
openstack%2Frpm-packaging~master~I30fbc61f119c67985b2351f22dba17f29dd09c03,openstack/rpm-packaging,master,I30fbc61f119c67985b2351f22dba17f29dd09c03,Updated karbor to 1.0.0,ABANDONED,2018-02-07 11:09:50.000000000,2018-04-27 14:39:23.000000000,,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-07 11:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09f4ca404b5eb712fb2671041256e8a0ca75c107', 'message': 'Updated karbor to 1.0.0\n\nChange-Id: I30fbc61f119c67985b2351f22dba17f29dd09c03\n'}, {'number': 2, 'created': '2018-02-22 15:57:45.000000000', 'files': ['openstack/karbor/karbor.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3ebfd0f3c2046b3a19f9fe73faf303adf33634f2', 'message': 'Updated karbor to 1.0.0\n\nChange-Id: I30fbc61f119c67985b2351f22dba17f29dd09c03\n'}]",0,541667,3ebfd0f3c2046b3a19f9fe73faf303adf33634f2,20,8,2,21691,,,0,"Updated karbor to 1.0.0

Change-Id: I30fbc61f119c67985b2351f22dba17f29dd09c03
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/67/541667/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/karbor/karbor.spec.j2'],1,09f4ca404b5eb712fb2671041256e8a0ca75c107,karbor,{% set upstream_version = '1.0.0' %},{% set upstream_version = '0.6.0' %},1,1
openstack%2Frpm-packaging~master~Ie9d421c644ec48895a509973824f4311926bf612,openstack/rpm-packaging,master,Ie9d421c644ec48895a509973824f4311926bf612,Updated python-tackerclient to 0.11.0,ABANDONED,2018-02-01 10:26:07.000000000,2018-04-27 14:39:10.000000000,,"[{'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-01 10:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/19d3edbfc0e9da81735880735d7cc6c8c451c42f', 'message': 'Updated python-tackerclient to 0.11.0\n\nChange-Id: Ie9d421c644ec48895a509973824f4311926bf612\n'}, {'number': 2, 'created': '2018-02-12 09:49:31.000000000', 'files': ['openstack/python-tackerclient/python-tackerclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d9742ad9684e52f883f84298fd191fbce22df291', 'message': 'Updated python-tackerclient to 0.11.0\n\nChange-Id: Ie9d421c644ec48895a509973824f4311926bf612\n'}]",0,539889,d9742ad9684e52f883f84298fd191fbce22df291,11,5,2,21691,,,0,"Updated python-tackerclient to 0.11.0

Change-Id: Ie9d421c644ec48895a509973824f4311926bf612
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/539889/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-tackerclient/python-tackerclient.spec.j2'],1,19d3edbfc0e9da81735880735d7cc6c8c451c42f,python-tackerclient,Version: 0.11.0,Version: 0.10.0,1,1
openstack%2Frpm-packaging~master~I37d2fb7356890c3212bcb714f32a801f4522970c,openstack/rpm-packaging,master,I37d2fb7356890c3212bcb714f32a801f4522970c,Updated os-apply-config to 8.2.0 and convert to singlespec,ABANDONED,2018-01-25 07:11:13.000000000,2018-04-27 14:38:49.000000000,,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-01-25 07:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/93e7f69847e40b120266a3ce01f7287ca84fa7de', 'message': 'Updated os-apply-config to 8.2.0\n\nChange-Id: I37d2fb7356890c3212bcb714f32a801f4522970c\n'}, {'number': 2, 'created': '2018-02-12 06:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/515066bf2d06177c85056b8e9f650193b4483ae5', 'message': 'Updated os-apply-config to 8.2.0 and convert to singlespec\n\n- Also drop -doc package. No doc provided in sdist tarball\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: I37d2fb7356890c3212bcb714f32a801f4522970c\n'}, {'number': 3, 'created': '2018-02-12 10:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ab8032586fee505fc60d538921c71475ccb6cde9', 'message': 'Updated os-apply-config to 8.2.0 and convert to singlespec\n\n- Also drop -doc package. No doc provided in sdist tarball\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: I37d2fb7356890c3212bcb714f32a801f4522970c\n'}, {'number': 4, 'created': '2018-02-13 10:17:23.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1ae224c49872b8943a064834435fd81d7b4dbdb0', 'message': 'Updated os-apply-config to 8.2.0 and convert to singlespec\n\n- Also drop -doc package. No doc provided in sdist tarball\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: I37d2fb7356890c3212bcb714f32a801f4522970c\n'}]",1,537773,1ae224c49872b8943a064834435fd81d7b4dbdb0,23,7,4,21691,,,0,"Updated os-apply-config to 8.2.0 and convert to singlespec

- Also drop -doc package. No doc provided in sdist tarball

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Change-Id: I37d2fb7356890c3212bcb714f32a801f4522970c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/537773/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-apply-config/os-apply-config.spec.j2'],1,93e7f69847e40b120266a3ce01f7287ca84fa7de,singlespec,Version: 8.2.0,Version: 8.1.0,1,1
openstack%2Frpm-packaging~master~Id3f0182c37fb6084e68de73040db144a4dcd7d0c,openstack/rpm-packaging,master,Id3f0182c37fb6084e68de73040db144a4dcd7d0c,Updated python-tripleoclient to 9.1.0,ABANDONED,2018-01-25 07:10:12.000000000,2018-04-27 14:38:38.000000000,,"[{'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-25 07:10:12.000000000', 'files': ['openstack/python-tripleoclient/python-tripleoclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c1c9599ab04bd18753bfed7133d883f67f5429cc', 'message': 'Updated python-tripleoclient to 9.1.0\n\nChange-Id: Id3f0182c37fb6084e68de73040db144a4dcd7d0c\n'}]",0,537771,c1c9599ab04bd18753bfed7133d883f67f5429cc,6,4,1,21691,,,0,"Updated python-tripleoclient to 9.1.0

Change-Id: Id3f0182c37fb6084e68de73040db144a4dcd7d0c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/71/537771/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-tripleoclient/python-tripleoclient.spec.j2'],1,c1c9599ab04bd18753bfed7133d883f67f5429cc,python-tripleoclient,Version: 9.1.0,Version: 9.0.0,1,1
openstack%2Freleases~master~I7c17d739309297464d55ad5fef80cdf014bd5be7,openstack/releases,master,I7c17d739309297464d55ad5fef80cdf014bd5be7,reno 2.9.1,MERGED,2018-04-27 14:18:56.000000000,2018-04-27 14:37:34.000000000,2018-04-27 14:37:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 14:18:56.000000000', 'files': ['deliverables/_independent/reno.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ef97862d4337b767e10630e3e761508c950dbea9', 'message': 'reno 2.9.1\n\nChange-Id: I7c17d739309297464d55ad5fef80cdf014bd5be7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564781,ef97862d4337b767e10630e3e761508c950dbea9,6,2,1,2472,,,0,"reno 2.9.1

Change-Id: I7c17d739309297464d55ad5fef80cdf014bd5be7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/564781/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/reno.yaml'],1,ef97862d4337b767e10630e3e761508c950dbea9,reno-2-9-1, - projects: - hash: 451d1ebcb9c9b3744c62f97bd4b63959e793de1b repo: openstack/reno version: 2.9.1,,4,0
openstack%2Fcastellan~stable%2Focata~I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,openstack/castellan,stable/ocata,I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,Fix sphinx-docs job for stable branch,MERGED,2018-04-27 05:17:32.000000000,2018-04-27 14:32:34.000000000,2018-04-27 14:32:34.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 05:17:32.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/castellan/commit/77e56e2b541803b6745cf66d8694ce95a5f07ed6', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I784bb4fbe3e33722f76e9ff063c456b84f1d8c97\n(cherry picked from commit b0ede4059ab7d3df138a462816b60a3922d3a2f0)\n'}]",0,564676,77e56e2b541803b6745cf66d8694ce95a5f07ed6,6,2,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I784bb4fbe3e33722f76e9ff063c456b84f1d8c97
(cherry picked from commit b0ede4059ab7d3df138a462816b60a3922d3a2f0)
",git fetch https://review.opendev.org/openstack/castellan refs/changes/76/564676/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,77e56e2b541803b6745cf66d8694ce95a5f07ed6,pip10-stable-fix-stable/ocata,"if [ -z ""$*"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fnetworking-baremetal~master~I2550b6ff553738507e3dd51942783e5c8e029f89,openstack/networking-baremetal,master,I2550b6ff553738507e3dd51942783e5c8e029f89,ML2 Agent: Handle SIGHUP mutable config options,MERGED,2018-04-13 15:26:21.000000000,2018-04-27 14:26:36.000000000,2018-04-27 14:26:36.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-04-13 15:26:21.000000000', 'files': ['networking_baremetal/agent/ironic_neutron_agent.py', 'releasenotes/notes/sighup-service-reloads-configs-11cd374cc33aac83.yaml'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/8554146d7147c2f7fd064ac77112e75d729106db', 'message': 'ML2 Agent: Handle SIGHUP mutable config options\n\nThis changes the networking-baremetal service to use\noslo_service.service to enable support for mutable\nconfiguration options. When a SIGHUP signal is issued, the\nservice is reloaded using the values of mutable configuration\noptions.\n\nThe mutable configuration options are indicated as such in the\nsample config by: ""# Note: This option can be changed without\nrestarting.""\nhttps://docs.openstack.org/networking-baremetal/latest/configuration/sample-config.html\n\nConfiguration options are mutable if their oslo.config Opt\'s\nmutable=True is set. This mutable setting is respected when\nthe oslo method mutate_config_files is called instead of\nreload_config_files. Icec3e664f3fe72614e373b2938e8dee53cf8bc5e\nallows services to tell oslo.service they want\nmutate_config_files to be called by specifying the\n\'restart_method=mutate\' parameter, which this patch does.\n\nStory: 1585595\nTask: 12612\nChange-Id: I2550b6ff553738507e3dd51942783e5c8e029f89\n'}]",5,561257,8554146d7147c2f7fd064ac77112e75d729106db,14,5,1,24245,,,0,"ML2 Agent: Handle SIGHUP mutable config options

This changes the networking-baremetal service to use
oslo_service.service to enable support for mutable
configuration options. When a SIGHUP signal is issued, the
service is reloaded using the values of mutable configuration
options.

The mutable configuration options are indicated as such in the
sample config by: ""# Note: This option can be changed without
restarting.""
https://docs.openstack.org/networking-baremetal/latest/configuration/sample-config.html

Configuration options are mutable if their oslo.config Opt's
mutable=True is set. This mutable setting is respected when
the oslo method mutate_config_files is called instead of
reload_config_files. Icec3e664f3fe72614e373b2938e8dee53cf8bc5e
allows services to tell oslo.service they want
mutate_config_files to be called by specifying the
'restart_method=mutate' parameter, which this patch does.

Story: 1585595
Task: 12612
Change-Id: I2550b6ff553738507e3dd51942783e5c8e029f89
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/57/561257/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_baremetal/agent/ironic_neutron_agent.py', 'releasenotes/notes/sighup-service-reloads-configs-11cd374cc33aac83.yaml']",2,8554146d7147c2f7fd064ac77112e75d729106db,story/1585595,--- features: - | Issuing a SIGHUP (e.g. ``pkill -HUP ironic-neutron-agent``) to the agent service will cause the service to reload and use any changed values for *mutable* configuration options. Mutable configuration options are indicated as such in the `sample configuration file <https://docs.openstack.org/networking-baremetal/latest/configuration/sample-config.html>`_ by ``Note: This option can be changed without restarting``. A warning is logged for any changes to immutable configuration options. ,,31,8
openstack%2Fhacking~master~Iffaae6a3acb890051fbe4768eef9f0b82428e81c,openstack/hacking,master,Iffaae6a3acb890051fbe4768eef9f0b82428e81c,Import integration test,MERGED,2018-02-24 16:34:58.000000000,2018-04-27 14:24:09.000000000,2018-04-27 14:24:09.000000000,"[{'_account_id': 1849}, {'_account_id': 1921}, {'_account_id': 2472}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2018-02-24 16:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/77a2e19570d25e6960eaf644f5ba79114ce828af', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 2, 'created': '2018-02-24 17:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/c353003f0059df217dfe935d8aeea460c486f33b', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 3, 'created': '2018-02-24 17:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/e916f1ac94dfd65c9b1c46635572302e5cf68cbe', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 4, 'created': '2018-02-24 17:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/9ff1f3895d657b5d00671f919e4b58a132cb5156', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 5, 'created': '2018-02-24 18:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/1f3b818460dc9112286e038b92aac69d1fa91988', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n* Setup nova properly to avoid ""ImportError:\n  nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 6, 'created': '2018-02-24 18:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/768c5e67b80a4f8f58202d4d44f0fcfd087a6360', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n* Setup nova properly to avoid ""ImportError:\n  nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 7, 'created': '2018-02-24 18:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/a16c9f84ee541b1ef9c2b4bfd37fd8addd0dfc63', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 8, 'created': '2018-02-24 18:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/0dab2fde4ae661e4150805c4d47c1e2288f76c32', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 9, 'created': '2018-02-24 19:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/81f398ed38685819f5ec15127fd761cbb06ac17e', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 10, 'created': '2018-02-24 19:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/536dd272873cb574e516e983f242094ac5710ce4', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 11, 'created': '2018-02-24 19:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/61549d9bee2a90e414bf80f744c33e4cc88fa0c2', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 12, 'created': '2018-02-24 19:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/ad86deb8ff2933ea953bc95b7e7b2665f5b9ae82', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 13, 'created': '2018-02-24 19:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/f2c8fcb882950ebc48f1b15d30ebc6777cd30b2a', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 14, 'created': '2018-02-24 19:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/e97cec10f05ab12066b444006eb5fb2c30f8a04f', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 15, 'created': '2018-02-24 20:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/5a60aea79b237791c1ca8820f08a388ef491b6aa', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 16, 'created': '2018-02-24 20:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/9c3ab1fe2caee16014dbf81fd6fe76cf29c71a61', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the tests work correctly:\n* give proper exit code, so that tox does not always succeed\n\nWith these changes both the legacy job and the new job fail with:\nImportError nova.hacking.checks.factory\n\nThis is not fixed and needs more investigation.\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 17, 'created': '2018-02-24 20:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/3d0c96ecc73059a1955dbe519ed6904b83f2472c', 'message': 'DNM: Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the test works:\n* Give proper exit code, so that tox does not always succeed\n* Import nova to avoid the error:\n  ""ImportError nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 18, 'created': '2018-02-24 20:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/cd5cbf91c266b3d55bcd1ea2e05bece19113bec9', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the test works:\n* Give proper exit code, so that tox does not always succeed\n* Import nova to avoid the error:\n  ""ImportError nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 19, 'created': '2018-02-24 20:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/ab1ce4fafc12aa8b4b0b1fc154e7ba56f0547845', 'message': 'DNM: Import integration test\n\nDNM since this still includes a fix for the legacy job for testing.\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the test works:\n* Give proper exit code, so that tox does not always succeed\n* Import nova to avoid the error:\n  ""ImportError nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 20, 'created': '2018-02-24 21:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/9c230c8eb108b0434dafbb734910a7cb4f8b0ac3', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the test works:\n* Give proper exit code, so that tox does not always succeed\n* Import nova to avoid the error:\n  ""ImportError nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 21, 'created': '2018-03-28 12:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/beeff2f9674495f14a387363714c7dcbdb5587f2', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the test works:\n* Give proper exit code, so that tox does not always succeed\n* Import nova to avoid the error:\n  ""ImportError nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}, {'number': 22, 'created': '2018-04-27 09:19:09.000000000', 'files': ['.zuul.yaml', 'integration-test/test.sh'], 'web_link': 'https://opendev.org/openstack/hacking/commit/19e5463e632d1ca786c1287b3bab2b74812a5325', 'message': 'Import integration test\n\nAdd the hacking-integration-nova test as Zuul v3 native test.\n\nNote that the legacy tests always fails due to missing\nrequired-projects with Zuul v3.\n\nFix also the following problems so that the test works:\n* Give proper exit code, so that tox does not always succeed\n* Import nova to avoid the error:\n  ""ImportError nova.hacking.checks.factory""\n\nChange-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c\n'}]",2,547765,19e5463e632d1ca786c1287b3bab2b74812a5325,48,11,22,6547,,,0,"Import integration test

Add the hacking-integration-nova test as Zuul v3 native test.

Note that the legacy tests always fails due to missing
required-projects with Zuul v3.

Fix also the following problems so that the test works:
* Give proper exit code, so that tox does not always succeed
* Import nova to avoid the error:
  ""ImportError nova.hacking.checks.factory""

Change-Id: Iffaae6a3acb890051fbe4768eef9f0b82428e81c
",git fetch https://review.opendev.org/openstack/hacking refs/changes/65/547765/16 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yalm'],1,77a2e19570d25e6960eaf644f5ba79114ce828af,native-integration,- job: name: hacking-integration-nova parent: openstack-tox description: | Run the integration job against nova with proposed hacking change. required-projects: - openstack/nova vars: tox_envlist: integration tox_extra_args: -vv openstack nova {{ zuul.projects['git.openstack.org/openstack/nova'].src_dir }} - project: check: jobs: - hacking-integration-nova: voting: false ,,16,0
openstack%2Fmistral~master~I19d822800a1ee056682daeaa7ddf0f400392525d,openstack/mistral,master,I19d822800a1ee056682daeaa7ddf0f400392525d,Only allow for deleting completed executions,MERGED,2018-04-12 07:06:00.000000000,2018-04-27 14:22:51.000000000,2018-04-27 14:22:51.000000000,"[{'_account_id': 8532}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 25167}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-04-12 07:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f501a609a42b5f3aac55fc3332f6a4caaa79bab8', 'message': 'Only allow for deleting completed executions\n\nA force parameter was added in case deleting a running execution is\nneeded but that will spew all kinds of errors afterwards\nThe default is force = False\n\nChange-Id: I19d822800a1ee056682daeaa7ddf0f400392525d\nCloses-bug: 1598135\n'}, {'number': 2, 'created': '2018-04-13 06:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/af3a8ff4d07c9cbeec4acf5bfbbfc96a50599060', 'message': 'Only allow for deleting completed executions\n\nA force parameter was added in case deleting a running execution is\nneeded but that will spew all kinds of errors afterwards\nThe default is force = False\n\nChange-Id: I19d822800a1ee056682daeaa7ddf0f400392525d\nCloses-bug: 1598135\n'}, {'number': 3, 'created': '2018-04-13 08:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d416a4c0a40d338b032264e8355449a7bdbc5409', 'message': 'Only allow for deleting completed executions\n\nA force parameter was added in case deleting a running execution is\nneeded but that will spew all kinds of errors afterwards\nThe default is force = False\n\nChange-Id: I19d822800a1ee056682daeaa7ddf0f400392525d\nCloses-bug: 1598135\n'}, {'number': 4, 'created': '2018-04-19 10:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/13a43cab738a0c2468ddfc07b5c92e8b70285b44', 'message': 'Only allow for deleting completed executions\n\nA force parameter was added in case deleting a running execution is\nneeded but that will spew all kinds of errors afterwards\nThe default is force = False\n\nChange-Id: I19d822800a1ee056682daeaa7ddf0f400392525d\nCloses-bug: 1598135\n'}, {'number': 5, 'created': '2018-04-25 14:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/524e9b4e6bb50d1127a7410fc66742b6971c32b4', 'message': 'Only allow for deleting completed executions\n\nA force parameter was added in case deleting a running execution is\nneeded but that will spew all kinds of errors afterwards\nThe default is force = False\n\nChange-Id: I19d822800a1ee056682daeaa7ddf0f400392525d\nCloses-bug: 1598135\nDepends-On: Id935265fcbe0a3072ba2d693edf54b892173fbdf\n'}, {'number': 6, 'created': '2018-04-26 09:37:18.000000000', 'files': ['mistral/api/controllers/v2/execution.py', 'mistral/tests/unit/api/v2/test_executions.py', 'releasenotes/notes/force-stop-executions-00cd67dbbc9b5483.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/af84fa9181ecfce9386387300a564b63f37211f4', 'message': 'Only allow for deleting completed executions\n\nA force parameter was added in case deleting a running execution is\nneeded but that will spew all kinds of errors afterwards\nThe default is force = False\n\nChange-Id: I19d822800a1ee056682daeaa7ddf0f400392525d\nCloses-bug: 1598135\nDepends-On: Id935265fcbe0a3072ba2d693edf54b892173fbdf\n'}]",9,560802,af84fa9181ecfce9386387300a564b63f37211f4,34,7,6,15895,,,0,"Only allow for deleting completed executions

A force parameter was added in case deleting a running execution is
needed but that will spew all kinds of errors afterwards
The default is force = False

Change-Id: I19d822800a1ee056682daeaa7ddf0f400392525d
Closes-bug: 1598135
Depends-On: Id935265fcbe0a3072ba2d693edf54b892173fbdf
",git fetch https://review.opendev.org/openstack/mistral refs/changes/02/560802/6 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/api/controllers/v2/execution.py', 'mistral/tests/unit/api/v2/test_executions.py']",2,f501a609a42b5f3aac55fc3332f6a4caaa79bab8,bug/1598135,"ERROR_WF_EX = copy.deepcopy(WF_EX) ERROR_WF_EX['state'] = states.ERROR MOCK_ERROR_WF_EX = mock.MagicMock(return_value=ERROR_WF_EX) SUCCESS_WF_EX = copy.deepcopy(WF_EX) SUCCESS_WF_EX['state'] = states.SUCCESS MOCK_SUCCESS_WF_EX = mock.MagicMock(return_value=SUCCESS_WF_EX) @mock.patch.object( db_api, 'get_workflow_execution', MOCK_WF_EX ) def test_delete_execution_not_complete(self): resp = self.app.delete('/v2/executions/123', expect_errors=True) self.assertEqual(403, resp.status_int) self.assertIn( ""Only completed executions can be deleted"", resp.body.decode() ) @mock.patch.object(db_api, 'get_workflow_execution', MOCK_ERROR_WF_EX) @mock.patch.object(db_api, 'delete_workflow_execution', MOCK_DELETE) def test_delete_error_exec(self): resp = self.app.delete('/v2/executions/123') self.assertEqual(204, resp.status_int) @mock.patch.object(db_api, 'get_workflow_execution', MOCK_SUCCESS_WF_EX) @mock.patch.object(db_api, 'delete_workflow_execution', MOCK_DELETE) def test_delete_success_exec(self):"," @mock.patch.object(db_api, 'delete_workflow_execution', MOCK_DELETE) def test_delete(self):",50,4
openstack%2Freno~master~I0b02e7eb319c95f885fc494977b356af71370970,openstack/reno,master,I0b02e7eb319c95f885fc494977b356af71370970,include the branch name in anchors to make them more unique,MERGED,2018-04-27 13:49:41.000000000,2018-04-27 14:17:43.000000000,2018-04-27 14:17:43.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 13:49:41.000000000', 'files': ['reno/sphinxext.py', 'reno/report.py', 'reno/formatter.py', 'reno/tests/test_formatter.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/451d1ebcb9c9b3744c62f97bd4b63959e793de1b', 'message': 'include the branch name in anchors to make them more unique\n\nIf the same version number appears in multiple output pages, sphinx\nreports a warning because the anchors generated by the formatter are\nthe same. This patch adds the branch name to the anchor to make it\nmore unique, since we should only be scanning a given branch one time\nin each release notes build.\n\nSee\nhttp://logs.openstack.org/05/564405/1/check/build-openstack-releasenotes/b5fad95/job-output.txt.gz#_2018-04-27_06_02_12_077967\nfor an example of a failed build.\n\nChange-Id: I0b02e7eb319c95f885fc494977b356af71370970\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564763,451d1ebcb9c9b3744c62f97bd4b63959e793de1b,8,4,1,2472,,,0,"include the branch name in anchors to make them more unique

If the same version number appears in multiple output pages, sphinx
reports a warning because the anchors generated by the formatter are
the same. This patch adds the branch name to the anchor to make it
more unique, since we should only be scanning a given branch one time
in each release notes build.

See
http://logs.openstack.org/05/564405/1/check/build-openstack-releasenotes/b5fad95/job-output.txt.gz#_2018-04-27_06_02_12_077967
for an example of a failed build.

Change-Id: I0b02e7eb319c95f885fc494977b356af71370970
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/reno refs/changes/63/564763/1 && git format-patch -1 --stdout FETCH_HEAD,"['reno/sphinxext.py', 'reno/report.py', 'reno/formatter.py', 'reno/tests/test_formatter.py']",4,451d1ebcb9c9b3744c62f97bd4b63959e793de1b,branch-name-in-tags," def test_with_branch_and_title(self): self.c.override(unreleased_version_title='Not Released') result = formatter.format_report( loader=self.ldr, config=self.c, versions_to_include=self.versions, title='This is the title', branch='stable/queens', ) self.assertIn('.. _This is the title_0.0.0_stable_queens:', result) self.assertIn('.. _This is the title_0.0.0_stable_queens_Prelude:', result) self.assertIn('.. _This is the title_1.0.0_stable_queens:', result) self.assertIn( '.. _This is the title_1.0.0_stable_queens_Known Issues:', result) def test_with_branch(self): result = formatter.format_report( loader=self.ldr, config=self.c, versions_to_include=self.versions, branch='stable/queens', ) self.assertIn('.. _relnotes_0.0.0_stable_queens:', result) self.assertIn('.. _relnotes_0.0.0_stable_queens_Prelude:', result) self.assertIn('.. _relnotes_1.0.0_stable_queens:', result) self.assertIn('.. _relnotes_1.0.0_stable_queens_Known Issues:', result)",,44,10
openstack%2Fnova~master~Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4,openstack/nova,master,Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4,Fix tox -e docs,MERGED,2018-04-26 21:31:43.000000000,2018-04-27 14:10:09.000000000,2018-04-27 14:10:09.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-26 21:31:43.000000000', 'files': ['doc/source/user/filter-scheduler.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3c95254b1cd0f41e1a1efaf125de1749cc19310c', 'message': 'Fix tox -e docs\n\nThis was missed in I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\npresumably because we no longer get warnings as errors, or\nsome such wickedness. Anyway, this fixes docs build using tox.\n\nChange-Id: Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4\nCloses-Bug: #1767192\n'}]",2,564631,3c95254b1cd0f41e1a1efaf125de1749cc19310c,15,11,1,6873,,,0,"Fix tox -e docs

This was missed in I90ee8a2081c2a0465441a8d81d161f4887b4e1fb
presumably because we no longer get warnings as errors, or
some such wickedness. Anyway, this fixes docs build using tox.

Change-Id: Ic8ec0c54a7c6502a0a4ea91d034fa9c1ae5e59d4
Closes-Bug: #1767192
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/564631/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/filter-scheduler.rst'],1,3c95254b1cd0f41e1a1efaf125de1749cc19310c,bug/1767192," :oslo.config:option:`filter_scheduler.ram_weight_multiplier`, is negative, the :oslo.config:option:`filter_scheduler.cpu_weight_multiplier`, is negative, the"," :oslo.config:opt:`filter_scheduler.ram_weight_multiplier`, is negative, the :oslo.config:opt:`filter_scheduler.cpu_weight_multiplier`, is negative, the",2,2
openstack%2Fnova~master~I343a0cb19f4037ddde5c5fc96d0a053f699f5257,openstack/nova,master,I343a0cb19f4037ddde5c5fc96d0a053f699f5257,placement: resource requests for nested providers,MERGED,2018-03-20 13:05:39.000000000,2018-04-27 14:09:55.000000000,2018-04-27 14:09:55.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17920}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-20 13:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4fac22462c9a769df3a25ed32bf7fe0d5a3929d', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that all resources in the request are met by a single provider\n(not summing inventories across the tree). For each resource in the\nrequest, we make a separate query to determine the provider and root\nprovider IDs of those resource providers which can satisfy that request\nfor a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we can further\nfilter for the providers in trees that **collectively** contain the\ntraits we require as well.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 2, 'created': '2018-03-23 18:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a12c0b70a450eb9f35a1165d64b339fc14f188e1', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that all resources in the request are met by a single provider\n(not summing inventories across the tree). For each resource in the\nrequest, we make a separate query to determine the provider and root\nprovider IDs of those resource providers which can satisfy that request\nfor a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 3, 'created': '2018-03-29 19:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c0dce3334edb9c3077fc1158123af0befde9ec5', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 4, 'created': '2018-04-12 14:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df8bf52adf34e6860dc2b22dbf4760bd80b24bc7', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 5, 'created': '2018-04-16 18:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56653525a99da1e880548b1a165c5de3430ac1b3', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 6, 'created': '2018-04-16 19:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e3def330e55d12e9d07a21974da35e5f884ef43', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 7, 'created': '2018-04-25 19:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc30fb203ab9d4f51eff3d2782183dec3a47c91a', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 8, 'created': '2018-04-25 20:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca91167fa950bb60787ea253d26a5ef759cfb9a4', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 9, 'created': '2018-04-26 18:45:31.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f70faffc9821ef824c014a2a4c5e805827203de', 'message': 'placement: resource requests for nested providers\n\nReworks the way that we solve requests for resource when nested resource\nproviders are present. When a granular request group is *not* sent, we\nensure that each separate resource class in the request is met by a\nsingle provider (not summing inventories across the tree). For each\nseparate resource class in the request, we make a separate query to\ndetermine the provider and root provider IDs of those resource providers\nwhich can satisfy that request for a particular resource.\n\nWe then filter out providers that are in trees that did *not* have all\nresources met by some provider in the tree. After that, we further\nfilter for the providers that are in trees that contain all required\ntraits and that the provider of those traits were the providers giving\ninventory to the request.\n\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@ericsson.com>\nChange-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257\nblueprint: nested-resource-providers-allocation-candidates\n'}]",97,554529,2f70faffc9821ef824c014a2a4c5e805827203de,149,20,9,7,,,0,"placement: resource requests for nested providers

Reworks the way that we solve requests for resource when nested resource
providers are present. When a granular request group is *not* sent, we
ensure that each separate resource class in the request is met by a
single provider (not summing inventories across the tree). For each
separate resource class in the request, we make a separate query to
determine the provider and root provider IDs of those resource providers
which can satisfy that request for a particular resource.

We then filter out providers that are in trees that did *not* have all
resources met by some provider in the tree. After that, we further
filter for the providers that are in trees that contain all required
traits and that the provider of those traits were the providers giving
inventory to the request.

Co-Authored-By: Balazs Gibizer <balazs.gibizer@ericsson.com>
Change-Id: I343a0cb19f4037ddde5c5fc96d0a053f699f5257
blueprint: nested-resource-providers-allocation-candidates
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/554529/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/db/test_allocation_candidates.py']",2,f4fac22462c9a769df3a25ed32bf7fe0d5a3929d,bp/nested-resource-providers-allocation-candidates,"import six self.assertEqual(set((rp.id, rp.id) for rp in expected), set(res)) rp_ids = [r[0] for r in res] self.assertEqual([incl_biginv_noalloc.id], rp_ids) names = map(six.text_type, names) def test_trees_matching_all(self): trees = rp_obj._get_trees_matching_all(self.ctx, resources, {}, None) # trees is a list of two-tuples of (provider ID, root provider ID) tree_root_ids = set(p[1] for p in trees) expect_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(expect_root_ids, tree_root_ids) trees = rp_obj._get_trees_matching_all(self.ctx, resources, {}, None) tree_root_ids = set(p[1] for p in trees) self.assertEqual(2, len(tree_root_ids)) expect_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(expect_root_ids, set(tree_root_ids))"," self.assertEqual(set(rp.id for rp in expected), set(res)) self.assertEqual([incl_biginv_noalloc.id], res) def test_trees_matching_all_resources(self): trees = rp_obj._get_trees_matching_all_resources(self.ctx, resources) self.assertEqual(3, len(trees)) # The returned results are the internal root_provider_id values of the # three compute node providers. Grab those values using a manual query # to double-check the results of _get_trees_matching_all() cn_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(cn_root_ids, set(trees)) trees = rp_obj._get_trees_matching_all_resources(self.ctx, resources) self.assertEqual(2, len(trees)) cn_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(cn_root_ids, set(trees))",152,122
openstack%2Ftripleo-heat-templates~master~Iade84cc85f61d73d4c3d53473cdc235f912187ad,openstack/tripleo-heat-templates,master,Iade84cc85f61d73d4c3d53473cdc235f912187ad,Add defaults into name property for config-download.,MERGED,2018-04-25 15:26:54.000000000,2018-04-27 14:05:23.000000000,2018-04-27 12:16:10.000000000,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-25 15:26:54.000000000', 'files': ['config-download-software.yaml', 'config-download-structured.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57c2c3d69849e73578c016d0a6fb5bb56f80b40a', 'message': ""Add defaults into name property for config-download.\n\nAs in FFU the SoftwareDeployment and StructuredDeployment\nresources are being overwritten by the\nconfig-download-software/structured resources, if the\nname property is not defined when using one of these\nresources a 'Property name not assigned' error will\nbe displayed.\n\nChange-Id: Iade84cc85f61d73d4c3d53473cdc235f912187ad\nCloses-Bug: #1766908\n""}]",0,564253,57c2c3d69849e73578c016d0a6fb5bb56f80b40a,9,8,1,26343,,,0,"Add defaults into name property for config-download.

As in FFU the SoftwareDeployment and StructuredDeployment
resources are being overwritten by the
config-download-software/structured resources, if the
name property is not defined when using one of these
resources a 'Property name not assigned' error will
be displayed.

Change-Id: Iade84cc85f61d73d4c3d53473cdc235f912187ad
Closes-Bug: #1766908
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/564253/1 && git format-patch -1 --stdout FETCH_HEAD,"['config-download-software.yaml', 'config-download-structured.yaml']",2,57c2c3d69849e73578c016d0a6fb5bb56f80b40a,bug/1766908," default: """"",,2,0
openstack%2Fneutron-vpnaas~master~Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3,openstack/neutron-vpnaas,master,Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3,Switch tempest zuul job to zuul v3 native,MERGED,2018-03-20 08:11:12.000000000,2018-04-27 14:03:38.000000000,2018-04-27 14:03:38.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 08:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7236f2a2222e6e0f459521ee39329024963c2888', 'message': 'Switch tempest job to zuul v3 native\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 2, 'created': '2018-03-20 08:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bb9871939102dde3a794aeda36f4442ccd5f425a', 'message': 'Switch tempest job to zuul v3 native\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 3, 'created': '2018-03-20 12:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/00130f9eb291dfe2be9b0fe2a999a27ce4de4d1b', 'message': 'Switch zuul jobs to zuul v3 native\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 4, 'created': '2018-03-21 02:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0bc5625c2c16a820e681f8e2ab9b5833b730945c', 'message': 'Switch zuul jobs to zuul v3 native\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 5, 'created': '2018-03-21 03:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2f951f9c99c464e0897771dff26d97e053ed13e9', 'message': 'Switch non-experimental zuul jobs to zuul v3 native\n\nCurrently the rally job is broken and unmaintained. And openstack/rally\nhas not defined a common set of jobs for neutron-vpnaas to reuse\ndirectly or via inheritance. So we just leave it alone.\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 6, 'created': '2018-04-02 07:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6ebb67e7250fdf2f6636f076751946e05f3218bc', 'message': 'Switch non-experimental zuul jobs to zuul v3 native\n\nCurrently the rally job is broken and unmaintained. And openstack/rally\nhas not defined a common set of jobs for neutron-vpnaas to reuse\ndirectly or via inheritance. So we just leave it alone.\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 7, 'created': '2018-04-27 05:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/4c9e44f1614bfd0e5aec765f2f1cc3311637b4a7', 'message': 'Switch non-experimental zuul jobs to zuul v3 native\n\nCurrently the rally job is broken and unmaintained. And openstack/rally\nhas not defined a common set of jobs for neutron-vpnaas to reuse\ndirectly or via inheritance. So we just leave it alone.\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}, {'number': 8, 'created': '2018-04-27 08:33:46.000000000', 'files': ['playbooks/legacy/neutron-vpnaas-dsvm-tempest/post.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-vpnaas-dsvm-tempest/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d8025671986c09d655eb0f79fdcf89110605be1b', 'message': 'Switch tempest zuul job to zuul v3 native\n\nChange-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3\n'}]",0,554445,d8025671986c09d655eb0f79fdcf89110605be1b,28,5,8,21781,,,0,"Switch tempest zuul job to zuul v3 native

Change-Id: Ifa5678c2dace916c5fa0937a1c3d541c537c3cf3
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/45/554445/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7236f2a2222e6e0f459521ee39329024963c2888,tempest-zuulv3, - neutron-vpnaas-tempest - neutron-vpnaas-tempest name: neutron-vpnaas-tempest parent: devstack-tempest vars: tempest_test_regex: '^neutron_vpnaas\.' tox_envlist: all-plugin devstack_plugins: neutron-vpnaas: https://git.openstack.org/openstack/neutron-vpnaas devstack_localrc: IPSEC_PACKAGE: strongswan, - neutron-vpnaas-dsvm-tempest - neutron-vpnaas-dsvm-tempest name: neutron-vpnaas-dsvm-tempest parent: legacy-dsvm-base run: playbooks/legacy/neutron-vpnaas-dsvm-tempest/run.yaml post-run: playbooks/legacy/neutron-vpnaas-dsvm-tempest/post.yaml,11,6
openstack%2Fopenstack-zuul-jobs~master~I941b986ee7bf200e2d5a810ab8cefc62567a5b6a,openstack/openstack-zuul-jobs,master,I941b986ee7bf200e2d5a810ab8cefc62567a5b6a,More fix laravel branch and master publish jobs,MERGED,2018-04-26 19:48:19.000000000,2018-04-27 13:52:54.000000000,2018-04-27 13:52:54.000000000,"[{'_account_id': 1004}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 19:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e6587ff11e21187aaeecfede7b99f72b7aca4489', 'message': 'More fix laravel branch and master publish jobs\n\nThe tarballs are now building and being copied to the executor\ncorrectly, but need to be published to the tarballs site. Reparent\nthe legacy-laravel-openstackid-release-branch and\nlegacy-laravel-openstackid-release-master jobs to\nlegacy-publish-openstack-artifacts instead of legacy-base so the\nadditional missing publication tasks will be added.\n\nChange-Id: I941b986ee7bf200e2d5a810ab8cefc62567a5b6a\n'}, {'number': 2, 'created': '2018-04-26 20:06:00.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/laravel-openstackid-release-branch/post.yaml', 'playbooks/legacy/laravel-openstackid-release-master/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5cb12a5d65a1aa1068868467a68f7a937f612825', 'message': 'More fix laravel branch and master publish jobs\n\nThe tarballs are now building and being copied to the executor\ncorrectly, but need to be published to the tarballs site. Reparent\nthe legacy-laravel-openstackid-release-branch and\nlegacy-laravel-openstackid-release-master jobs to\nlegacy-publish-openstack-artifacts instead of legacy-base so the\nadditional missing publication tasks will be added. Also update the\nartifact transit directory name on the executor to match what the\nuploader role will expect.\n\nChange-Id: I941b986ee7bf200e2d5a810ab8cefc62567a5b6a\n'}]",0,564608,5cb12a5d65a1aa1068868467a68f7a937f612825,9,3,2,5263,,,0,"More fix laravel branch and master publish jobs

The tarballs are now building and being copied to the executor
correctly, but need to be published to the tarballs site. Reparent
the legacy-laravel-openstackid-release-branch and
legacy-laravel-openstackid-release-master jobs to
legacy-publish-openstack-artifacts instead of legacy-base so the
additional missing publication tasks will be added. Also update the
artifact transit directory name on the executor to match what the
uploader role will expect.

Change-Id: I941b986ee7bf200e2d5a810ab8cefc62567a5b6a
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/564608/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,e6587ff11e21187aaeecfede7b99f72b7aca4489,563645, parent: legacy-publish-openstack-artifacts parent: legacy-publish-openstack-artifacts, parent: legacy-base parent: legacy-base,2,2
openstack%2Ftripleo-quickstart-extras~master~I37c96d8446cb222efbc6454934fa3eddfefe2d25,openstack/tripleo-quickstart-extras,master,I37c96d8446cb222efbc6454934fa3eddfefe2d25,Add test_segment_with_timestamp to skip list,MERGED,2018-04-20 02:22:49.000000000,2018-04-27 13:48:27.000000000,2018-04-20 17:40:08.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-20 02:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5762c9d061ebe4e0f1b4a9856c5a6d96f447b861', 'message': 'Add test_segment_with_timestamp to skip list\n\n[1] Added the test in neutron-tempest-plugin,\nlooks like it needs ""segments"" plugin and we don\'t\nhave it enabled in tripleo, so until it\'s fixed skip\nthe affected test.\n\n[1] https://review.openstack.org/#/c/558609/\n\nChange-Id: I37c96d8446cb222efbc6454934fa3eddfefe2d25\n'}, {'number': 2, 'created': '2018-04-20 02:23:42.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_queens.yml', 'roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d90770fcabcabb14aef92980aae0ea5cfa4f0b68', 'message': 'Add test_segment_with_timestamp to skip list\n\n[1] Added the test in neutron-tempest-plugin,\nlooks like it needs ""segments"" plugin and we don\'t\nhave it enabled in tripleo, so until it\'s fixed skip\nthe affected test.\n\n[1] https://review.openstack.org/#/c/558609/\n\nRelated-Bug: #1765008\nChange-Id: I37c96d8446cb222efbc6454934fa3eddfefe2d25\n'}]",0,562902,d90770fcabcabb14aef92980aae0ea5cfa4f0b68,15,17,2,13861,,,0,"Add test_segment_with_timestamp to skip list

[1] Added the test in neutron-tempest-plugin,
looks like it needs ""segments"" plugin and we don't
have it enabled in tripleo, so until it's fixed skip
the affected test.

[1] https://review.openstack.org/#/c/558609/

Related-Bug: #1765008
Change-Id: I37c96d8446cb222efbc6454934fa3eddfefe2d25
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/562902/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/vars/tempest_skip_queens.yml', 'roles/validate-tempest/vars/tempest_skip_master.yml']",2,5762c9d061ebe4e0f1b4a9856c5a6d96f447b861,bug/1765008, - test: 'neutron_tempest_plugin.api.test_timestamp.TestTimeStamp.test_segment_with_timestamp' reason: 'segments plugin not enabled' lp: 'https://bugs.launchpad.net/tripleo/+bug/1765008',,6,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I00e1b257067bb4bff955f65ca8256092470a5cdc,openstack/tripleo-heat-templates,stable/pike,I00e1b257067bb4bff955f65ca8256092470a5cdc,Fix Cinder's default db purge cron settings,MERGED,2018-04-24 16:48:00.000000000,2018-04-27 13:39:20.000000000,2018-04-27 08:14:39.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 16:48:00.000000000', 'files': ['puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a36a7dd8eede33cba6d25d91ce3ef98b401fdf2c', 'message': ""Fix Cinder's default db purge cron settings\n\nChange the CinderCronDbPurgeAge default value to 30 so that it matches\nthe default value in puppet-cinder.\n\nCloses-Bug: #1761749\nChange-Id: I00e1b257067bb4bff955f65ca8256092470a5cdc\n(cherry picked from commit d3bbadd012b33f937c1cc8155c13553f28614187)\n(cherry picked from commit f90134d886f3c416cc704c888e3fa0902ab9de7d)\n""}]",0,564029,a36a7dd8eede33cba6d25d91ce3ef98b401fdf2c,9,4,1,21129,,,0,"Fix Cinder's default db purge cron settings

Change the CinderCronDbPurgeAge default value to 30 so that it matches
the default value in puppet-cinder.

Closes-Bug: #1761749
Change-Id: I00e1b257067bb4bff955f65ca8256092470a5cdc
(cherry picked from commit d3bbadd012b33f937c1cc8155c13553f28614187)
(cherry picked from commit f90134d886f3c416cc704c888e3fa0902ab9de7d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/564029/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/cinder-base.yaml'],1,a36a7dd8eede33cba6d25d91ce3ef98b401fdf2c,bug/1761749-stable/queens-stable/pike, default: '30', default: '0',1,1
openstack%2Fneutron~master~Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d,openstack/neutron,master,Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d,Handle AgentNotFoundByTypeHost exception properly,MERGED,2018-03-30 08:32:43.000000000,2018-04-27 13:14:48.000000000,2018-04-09 20:57:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 08:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e11f41e90c66dcc97dff7463104807d94351f5e', 'message': 'Handle AgentNotFoundByTypeHost exception properly\n\nDuring listing router_ids on host it is possible that on some hosts\nthere are no L3 agents.\nIn such case AgentNotFoundByTypeHost exception is raised in\nneutron.db.agents_db module in _get_agent_by_type_and_host() method.\nNow this exception is properly handled during listing routers on host.\n\nChange-Id: Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d\nCloses-Bug: #1737917\n'}, {'number': 2, 'created': '2018-04-05 11:16:49.000000000', 'files': ['neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b0f6330d6f877f3d2093a64c2bca4c14334574c', 'message': 'Handle AgentNotFoundByTypeHost exception properly\n\nDuring listing router_ids on host it is possible that on some hosts\nthere are no L3 agents.\nIn such case AgentNotFoundByTypeHost exception is raised in\nneutron.db.agents_db module in _get_agent_by_type_and_host() method.\nNow this exception is properly handled during listing routers on host.\n\nChange-Id: Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d\nCloses-Bug: #1737917\n'}]",2,557908,7b0f6330d6f877f3d2093a64c2bca4c14334574c,32,9,2,11975,,,0,"Handle AgentNotFoundByTypeHost exception properly

During listing router_ids on host it is possible that on some hosts
there are no L3 agents.
In such case AgentNotFoundByTypeHost exception is raised in
neutron.db.agents_db module in _get_agent_by_type_and_host() method.
Now this exception is properly handled during listing routers on host.

Change-Id: Ia5ff1b57ef63c98b4ada4f2d46c45336e413be3d
Closes-Bug: #1737917
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/557908/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/db/l3_agentschedulers_db.py']",2,6e11f41e90c66dcc97dff7463104807d94351f5e,bug/1737917,"from neutron_lib.exceptions import agent as agent_exc try: agent = self._get_agent_by_type_and_host( context, constants.AGENT_TYPE_L3, host) except agent_exc.AgentNotFoundByTypeHost: LOG.debug(""L3 Agent not found on host %s"", host) return []"," agent = self._get_agent_by_type_and_host( context, constants.AGENT_TYPE_L3, host)",13,2
openstack%2Fshade~master~I8740a80c64e24c8339ee9b0992c2f81b1784e672,openstack/shade,master,I8740a80c64e24c8339ee9b0992c2f81b1784e672,add lower-constraints job,MERGED,2018-03-22 13:07:29.000000000,2018-04-27 13:14:04.000000000,2018-04-27 13:14:03.000000000,"[{'_account_id': 2}, {'_account_id': 9414}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-22 13:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/dc013faf747c6ac9bc3252b705eb1d6b5dd8479d', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-22 14:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/db132a15874e19d3ec7537d66308abdac1ed702d', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-03-22 16:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/be36656e097ae2e63c9542c6907518bc9b1e4327', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nFix the lower-bound for requests-mock, since 1.1.0 does not actually\nwork.\n\nChange-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-03-22 18:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/cf52a5a23538ad3399e8db8c01bc301d72206c63', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nFix the lower-bound for requests-mock, since 1.1.0 does not actually\nwork.\n\nChange-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672\nDepends-On: https://review.openstack.org/555034\nDepends-On: https://review.openstack.org/555402\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2018-04-05 20:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/7c113f3e6e24337698e50bb05a90ac48a0896199', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nFix the lower-bound for requests-mock, since 1.1.0 does not actually\nwork.\n\nChange-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672\nDepends-On: https://review.openstack.org/555034\nDepends-On: https://review.openstack.org/555402\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2018-04-06 05:27:22.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/shade/commit/8f99e6e3e9c5d5167e8424bc9f339d83fd2cd021', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nFix the lower-bound for requests-mock, since 1.1.0 does not actually\nwork.\n\nChange-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672\nDepends-On: https://review.openstack.org/555034\nDepends-On: https://review.openstack.org/555402\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,555299,8f99e6e3e9c5d5167e8424bc9f339d83fd2cd021,31,5,6,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Fix the lower-bound for requests-mock, since 1.1.0 does not actually
work.

Change-Id: I8740a80c64e24c8339ee9b0992c2f81b1784e672
Depends-On: https://review.openstack.org/555034
Depends-On: https://review.openstack.org/555402
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/99/555299/6 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,dc013faf747c6ac9bc3252b705eb1d6b5dd8479d,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,52,0
openstack%2Fshade~master~I54593bd8f6dd2124df854e923456c390e0d6a147,openstack/shade,master,I54593bd8f6dd2124df854e923456c390e0d6a147,Backport connect_as fix from openstacksdk,MERGED,2018-04-26 19:43:37.000000000,2018-04-27 12:56:11.000000000,2018-04-27 12:56:11.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 19:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/504c99a4aefce2ba836157edb4dd8a19ad123402', 'message': ""Backport connect_as fix from openstacksdk\n\nThe connect_as method tried overlaying things directly on top of the\n'defaults' cloud config, but things get all messed up and it's actually\nnever what you want.\n\nInstead, pull the existing CloudRegion from the local config object and\npass it in.\n\nChange-Id: I54593bd8f6dd2124df854e923456c390e0d6a147\n""}, {'number': 2, 'created': '2018-04-26 20:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2fba88633dd46783c051030dc64c3572eb35e2e0', 'message': ""Backport connect_as fix from openstacksdk\n\nThe connect_as method tried overlaying things directly on top of the\n'defaults' cloud config, but things get all messed up and it's actually\nnever what you want.\n\nInstead, pull the existing CloudRegion from the local config object and\npass it in.\n\nChange-Id: I54593bd8f6dd2124df854e923456c390e0d6a147\n""}, {'number': 3, 'created': '2018-04-26 20:05:44.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/94c1ac842d0a868bca255097d8bd16361c337794', 'message': ""Backport connect_as fix from openstacksdk\n\nThe connect_as method tried overlaying things directly on top of the\n'defaults' cloud config, but things get all messed up and it's actually\nnever what you want.\n\nInstead, pull the existing CloudRegion from the local config object and\npass it in.\n\nChange-Id: I54593bd8f6dd2124df854e923456c390e0d6a147\n""}]",0,564604,94c1ac842d0a868bca255097d8bd16361c337794,12,3,3,2,,,0,"Backport connect_as fix from openstacksdk

The connect_as method tried overlaying things directly on top of the
'defaults' cloud config, but things get all messed up and it's actually
never what you want.

Instead, pull the existing CloudRegion from the local config object and
pass it in.

Change-Id: I54593bd8f6dd2124df854e923456c390e0d6a147
",git fetch https://review.opendev.org/openstack/shade refs/changes/04/564604/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,504c99a4aefce2ba836157edb4dd8a19ad123402,," if self.config._openstack_config: config = self.config._openstack_config else: config = os_client_config.OpenStackConfig( app_name=self.cloud_config._app_name, app_version=self.cloud_config._app_version, load_yaml_config=False)"," config = os_client_config.OpenStackConfig( app_name=self.cloud_config._app_name, app_version=self.cloud_config._app_version, load_yaml_config=False) # Use cloud='defaults' so that we overlay settings properly cloud='defaults',",7,6
openstack%2Ftripleo-quickstart~master~I6f3a0f84fa0d802fa401e45066bdbb06330a6903,openstack/tripleo-quickstart,master,I6f3a0f84fa0d802fa401e45066bdbb06330a6903,Disable cloud-init for VMs in libvirt-fake-nodepool,MERGED,2018-04-23 21:07:37.000000000,2018-04-27 12:54:41.000000000,2018-04-27 12:54:40.000000000,"[{'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-23 21:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/19ad841dcdbf2d9b40adaa9549c1ace624a47411', 'message': 'WIP: Disable cloud-init\n\nTest to see if this results in quicker reboot\n\nChange-Id: I6f3a0f84fa0d802fa401e45066bdbb06330a6903\n'}, {'number': 2, 'created': '2018-04-24 18:38:13.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/fake_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4d1581ccfad6bb9645622bdba219bec3b6f6e771', 'message': 'Disable cloud-init for VMs in libvirt-fake-nodepool\n\nRemoving cloud-init on the images results in the\nVMs rebooting quicker and not failing the\nlast step of nodepool-setup.\n\nChange-Id: I6f3a0f84fa0d802fa401e45066bdbb06330a6903\n'}]",0,563763,4d1581ccfad6bb9645622bdba219bec3b6f6e771,15,5,2,9976,,,0,"Disable cloud-init for VMs in libvirt-fake-nodepool

Removing cloud-init on the images results in the
VMs rebooting quicker and not failing the
last step of nodepool-setup.

Change-Id: I6f3a0f84fa0d802fa401e45066bdbb06330a6903
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/63/563763/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/fake_nodepool.yml'],1,19ad841dcdbf2d9b40adaa9549c1ace624a47411,remove-cloud-init,"- name: Disable cloud-init command: > virt-customize -a {{ working_dir }}/undercloud.qcow2 --run-command ""grubby --update-kernel=ALL --args=\""cloud-init=disabled\"""" environment: LIBGUESTFS_BACKEND: direct LIBVIRT_DEFAULT_URI: ""{{ libvirt_uri }}"" ",,8,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4598d965f6f8d19344be041d71b2cf1637c9ebae,openstack/tripleo-upgrade,stable/queens,I4598d965f6f8d19344be041d71b2cf1637c9ebae,Fix release var in undercloud upgrade script,MERGED,2018-04-26 22:13:14.000000000,2018-04-27 12:54:39.000000000,2018-04-27 12:54:39.000000000,"[{'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 22:13:14.000000000', 'files': ['tasks/fast-forward-upgrade/undercloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e44a5ae1ceb9e1eb76d42aa86f5795405c01aba1', 'message': 'Fix release var in undercloud upgrade script\n\nSet the correct current_release var in the undercloud upgrade steps.\n\nChange-Id: I4598d965f6f8d19344be041d71b2cf1637c9ebae\n(cherry picked from commit 71c16f2aac49eb38c1b1b32e3dfe5694477702b1)\n'}]",0,564635,e44a5ae1ceb9e1eb76d42aa86f5795405c01aba1,7,3,1,18851,,,0,"Fix release var in undercloud upgrade script

Set the correct current_release var in the undercloud upgrade steps.

Change-Id: I4598d965f6f8d19344be041d71b2cf1637c9ebae
(cherry picked from commit 71c16f2aac49eb38c1b1b32e3dfe5694477702b1)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/35/564635/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/undercloud-upgrade.yml'],1,e44a5ae1ceb9e1eb76d42aa86f5795405c01aba1,release_var-stable/queens,- name: Run post undercloud {{ current_release }} upgrade workarounds,- name: Run post undercloud {{ release }} upgrade workarounds,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I1bc36c4533dcaadd81d7c93a194e9319217c69cd,openstack/tripleo-heat-templates,stable/queens,I1bc36c4533dcaadd81d7c93a194e9319217c69cd,"Add neutron ""segments"" plugin to the default list",MERGED,2018-04-26 00:59:13.000000000,2018-04-27 12:54:38.000000000,2018-04-27 12:54:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 00:59:13.000000000', 'files': ['releasenotes/notes/add_neutron_segments_plugin_to_default-8acb69b112d4b31c.yaml', 'puppet/services/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d746aa49f1eb17d6d709c6f350fa08507b1aaaf', 'message': 'Add neutron ""segments"" plugin to the default list\n\n[1] Added a tests which requires ""segments"" plugin but\nwe don\'t have it enabled in overcloud. It is enabled in\nneutron jobs from long[2]. This patch adds this plugin\nto the default enabled plugins.\n\n[1] https://review.openstack.org/#/c/558609/\n[2] https://review.openstack.org/#/c/459439/\n\nRelated-Bug: #1765008\nChange-Id: I1bc36c4533dcaadd81d7c93a194e9319217c69cd\n(cherry picked from commit bc3600b3628605436834d4712a745dfe9c43ddf4)\n'}]",0,564378,9d746aa49f1eb17d6d709c6f350fa08507b1aaaf,12,8,1,13861,,,0,"Add neutron ""segments"" plugin to the default list

[1] Added a tests which requires ""segments"" plugin but
we don't have it enabled in overcloud. It is enabled in
neutron jobs from long[2]. This patch adds this plugin
to the default enabled plugins.

[1] https://review.openstack.org/#/c/558609/
[2] https://review.openstack.org/#/c/459439/

Related-Bug: #1765008
Change-Id: I1bc36c4533dcaadd81d7c93a194e9319217c69cd
(cherry picked from commit bc3600b3628605436834d4712a745dfe9c43ddf4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/564378/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_neutron_segments_plugin_to_default-8acb69b112d4b31c.yaml', 'puppet/services/neutron-base.yaml']",2,9d746aa49f1eb17d6d709c6f350fa08507b1aaaf,bug/1765008-stable/queens," default: ""router,qos,segments,trunk"""," default: ""router,qos,trunk""",6,1
openstack%2Ftripleo-heat-templates~master~I10d4dffcd3802f62fc824c808728c0b5b4f1002c,openstack/tripleo-heat-templates,master,I10d4dffcd3802f62fc824c808728c0b5b4f1002c,Add dry-run mode for process templates,MERGED,2018-04-18 14:41:59.000000000,2018-04-27 12:54:36.000000000,2018-04-27 12:54:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-18 14:41:59.000000000', 'files': ['tools/process-templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7226efce608507f535f173761bc1f1247f4b89b1', 'message': 'Add dry-run mode for process templates\n\nSometimes it is nice to know which templates\nshould be rendered into which files. For example,\nif we need to define additional checks in the client.\n\nChange-Id: I10d4dffcd3802f62fc824c808728c0b5b4f1002c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,562299,7226efce608507f535f173761bc1f1247f4b89b1,14,5,1,6926,,,0,"Add dry-run mode for process templates

Sometimes it is nice to know which templates
should be rendered into which files. For example,
if we need to define additional checks in the client.

Change-Id: I10d4dffcd3802f62fc824c808728c0b5b4f1002c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/562299/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/process-templates.py'],1,7226efce608507f535f173761bc1f1247f4b89b1,bug/1762403," parser.add_argument('-d', '--dry-run', action='store_true', help=(""""""only output file names normally generated """""" """"""from j2 templates"""""")) overwrite=True, dry_run=False): if dry_run: amend = 'dry run processing' else: amend = 'rendering' print('%s j2 template to file: %s' % (amend, outfile_name)) if not dry_run: with open(outfile_name, 'w') as out_f: out_f.write(r_template) network_data_path, overwrite, dry_run): out_f_path, overwrite, dry_run) out_f_path, overwrite, dry_run) out_f_path, overwrite, dry_run) overwrite, dry_run) network_data_path, (not opts.safe), opts.dry_run)"," overwrite=True): print('rendering j2 template to file: %s' % outfile_name) with open(outfile_name, 'w') as out_f: out_f.write(r_template) network_data_path, overwrite): out_f_path, overwrite) out_f_path, overwrite) out_f_path) overwrite) network_data_path, (not opts.safe))",20,11
openstack%2Ftripleo-quickstart-extras~master~I8532aeca39f5f43c659bf2648c2ae3ca5743acd5,openstack/tripleo-quickstart-extras,master,I8532aeca39f5f43c659bf2648c2ae3ca5743acd5,Fix services docker tht path for tempest container,MERGED,2018-04-23 12:00:38.000000000,2018-04-27 12:54:35.000000000,2018-04-27 12:54:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-23 12:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b897733396d190afeeb2e5a13202b7a12731478', 'message': 'Fix services docker tht path for tempest container\n\nChange-Id: I8532aeca39f5f43c659bf2648c2ae3ca5743acd5\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-04-25 11:32:12.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/undercloud-deploy/templates/undercloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fab9704db4f69fbccf7b39bd8ebdb7b5ad729b61', 'message': 'Fix services docker tht path for tempest container\n\nChange-Id: I8532aeca39f5f43c659bf2648c2ae3ca5743acd5\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,563589,fab9704db4f69fbccf7b39bd8ebdb7b5ad729b61,23,9,2,6926,,,0,"Fix services docker tht path for tempest container

Change-Id: I8532aeca39f5f43c659bf2648c2ae3ca5743acd5
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/89/563589/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/undercloud-deploy/templates/undercloud-prep-containers.sh.j2']",2,0b897733396d190afeeb2e5a13202b7a12731478,containers-default, -e {{overcloud_templates_path}}/environments/{{env_files_path}}/tempest.yaml \, -e {{overcloud_templates_path}}/environments/services-docker/tempest.yaml \,2,2
openstack%2Frally~master~Ie43206317bbc9a9e7235e7a0e5220847c310b589,openstack/rally,master,Ie43206317bbc9a9e7235e7a0e5220847c310b589,[plugins] load config options from external plugins,MERGED,2018-04-25 14:04:41.000000000,2018-04-27 12:47:00.000000000,2018-04-27 12:47:00.000000000,"[{'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 14:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9619e00d7f9b54642daecdf92ee228a69d9591d3', 'message': 'WIP: load config options from external plugins\n\nChange-Id: Ie43206317bbc9a9e7235e7a0e5220847c310b589\n'}, {'number': 2, 'created': '2018-04-25 14:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8dfee6696aee6d4063817b2ad0dfdf850fc6c70b', 'message': 'WIP: load config options from external plugins\n\nChange-Id: Ie43206317bbc9a9e7235e7a0e5220847c310b589\n'}, {'number': 3, 'created': '2018-04-26 09:12:32.000000000', 'files': ['tests/unit/common/plugin/test_discover.py', 'rally/common/opts.py', 'rally/plugins/__init__.py', 'rally/common/plugin/discover.py', 'tests/unit/common/test_opts.py', 'tests/unit/test.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/6e146f7d7051d902f54da0a9534649918fe356ae', 'message': ""[plugins] load config options from external plugins\n\nExtend rally-plugins as python packages with a new feature: config\noptions. It is obvious that plugins can have some configurable options\nlike special timeouts and so on.\nAs for now, such plugins need to register their options by themselves\nwhich adds code-duplication and leads to possible overhead when we will\ntry to switch from oslo_config.\nLet's put all the requried code in rally framework.\nThe plugins itselves should extend entry-points of their packages to\nlook like:\n\n   rally_plugins:\n       path: <path_to_plugins_to_import>\n       options: <pythonic.path.to.method.which.list:all_options>\n\nChange-Id: Ie43206317bbc9a9e7235e7a0e5220847c310b589\n""}]",2,564230,6e146f7d7051d902f54da0a9534649918fe356ae,15,3,3,9545,,,0,"[plugins] load config options from external plugins

Extend rally-plugins as python packages with a new feature: config
options. It is obvious that plugins can have some configurable options
like special timeouts and so on.
As for now, such plugins need to register their options by themselves
which adds code-duplication and leads to possible overhead when we will
try to switch from oslo_config.
Let's put all the requried code in rally framework.
The plugins itselves should extend entry-points of their packages to
look like:

   rally_plugins:
       path: <path_to_plugins_to_import>
       options: <pythonic.path.to.method.which.list:all_options>

Change-Id: Ie43206317bbc9a9e7235e7a0e5220847c310b589
",git fetch https://review.opendev.org/openstack/rally refs/changes/30/564230/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally/common/opts.py', 'rally/plugins/__init__.py', 'rally/common/plugin/discover.py']",3,9619e00d7f9b54642daecdf92ee228a69d9591d3,loading_plugins," loaded_packages = [] for package in pkg_resources.working_set: entry_map = package.get_entry_map(""rally_plugins"") if not entry_map: # this package doesn't have rally_plugins entry-point continue package_info = {} if ""path"" in entry_map: ep = entry_map[""entry_map""] ""package"": ""%s %s"" % (package.project_name, package.version)}) else: package_info[""plugins_path""] = """" if ""options"" in entry_map: package_info[""options""] = entry_map[""options""].module_name if package_info: package_info.update( name=package.project_name, version=package.version) loaded_packages.append(package_info) return loaded_packages"," for ep in pkg_resources.iter_entry_points(""rally_plugins""): if ep.name == ""path"": ""package"": ""%s %s"" % (ep.dist.project_name, ep.dist.version)})",49,7
openstack%2Ftripleo-common~stable%2Fqueens~Idf6bd2446865df172ed8852ab5297fe671cebd07,openstack/tripleo-common,stable/queens,Idf6bd2446865df172ed8852ab5297fe671cebd07,Add healthcheck script for nova-metadata service,MERGED,2018-04-24 05:43:54.000000000,2018-04-27 12:43:15.000000000,2018-04-27 12:43:15.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-04-24 05:43:54.000000000', 'files': ['healthcheck/nova-metadata', 'container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e243152f3e53b81be8d9b903105278f7c7a65bb3', 'message': 'Add healthcheck script for nova-metadata service\n\nThis patch adds script for docker health check of nova-metadata\nservice. The script checks API service using curl.\n\nChange-Id: Idf6bd2446865df172ed8852ab5297fe671cebd07\n(cherry picked from commit 4563a68caf7b0ae46a33123ea42daf37b85b737a)\n'}]",0,563828,e243152f3e53b81be8d9b903105278f7c7a65bb3,18,9,1,20733,,,0,"Add healthcheck script for nova-metadata service

This patch adds script for docker health check of nova-metadata
service. The script checks API service using curl.

Change-Id: Idf6bd2446865df172ed8852ab5297fe671cebd07
(cherry picked from commit 4563a68caf7b0ae46a33123ea42daf37b85b737a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/563828/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/nova-metadata', 'container-images/tripleo_kolla_template_overrides.j2']",2,e243152f3e53b81be8d9b903105278f7c7a65bb3,nova-metadata-healthcheck-stable/queens,{% block nova_metadata_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-metadata /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} ,,12,0
openstack%2Fmonasca-agent~stable%2Fpike~If52b52efab6cc14a7df583b1dc2596b04e6813bc,openstack/monasca-agent,stable/pike,If52b52efab6cc14a7df583b1dc2596b04e6813bc,Allow Keystone config in init_config for http check,MERGED,2018-04-25 09:37:39.000000000,2018-04-27 12:28:40.000000000,2018-04-27 12:28:40.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-04-25 09:37:39.000000000', 'files': ['monasca_agent/collector/checks_d/http_check.py', 'conf.d/http_check.yaml.example', 'docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/4aa85ad362a804a5b890e1aca57ea64986313fb4', 'message': 'Allow Keystone config in init_config for http check\n\nNow the user will be able to configure one, default Keystone for all\nservices in `http_check.yml` instead of providing them one by one for\nevery instance.\n\nSetting Keystone config in every instance is marked as depreciated.\n\nStory: 2001843\nTask: 12610\n\nChange-Id: If52b52efab6cc14a7df583b1dc2596b04e6813bc\n(cherry picked from commit e13de8083e90170b9a90000b534bfd1c1cc88551)\n'}]",0,564149,4aa85ad362a804a5b890e1aca57ea64986313fb4,7,3,1,21922,,,0,"Allow Keystone config in init_config for http check

Now the user will be able to configure one, default Keystone for all
services in `http_check.yml` instead of providing them one by one for
every instance.

Setting Keystone config in every instance is marked as depreciated.

Story: 2001843
Task: 12610

Change-Id: If52b52efab6cc14a7df583b1dc2596b04e6813bc
(cherry picked from commit e13de8083e90170b9a90000b534bfd1c1cc88551)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/49/564149/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/http_check.py', 'conf.d/http_check.yaml.example', 'docs/Plugins.md']",3,4aa85ad362a804a5b890e1aca57ea64986313fb4,key_config,"Similar to other checks, the configuration is done in YAML, and consists of two keys: `init_config` and `instances`. In the former, you can provide Keystone configuration for checks to retrieve token for authentication that will be used for all checks. While the later contains one or more URLs to check, plus optional parameters like a timeout, username/password, pattern to match against the HTTP response body, whether or not to include the HTTP response in the metric (as a 'detail' dimension), whether or not to also record the response time, and more. If the endpoint being checked requires authentication, there are two options. First, a username and password supplied in the instance options will be used by the check for authentication. Alternately, the check can retrieve a keystone token for authentication. Specific keystone information can be provided for all checks in `init_config` section, or if it's not provided there, the information from the agent config will be used. DEPRECATED: providing Keystone configuration in each instance. keystone_config: keystone_url: http://endpoint.com/v3/ project_name: project username: user password: password url: http://192.168.0.254/healthcheck timeout: 1 include_content: true collect_response_time: true match_pattern: '.*OK.*OK.*OK.*OK.*OK'","Similar to other checks, the configuration is done in YAML, and consists of two keys: init_config and instances. The former is not used by http_check, while the later contains one or more URLs to check, plus optional parameters like a timeout, username/password, pattern to match against the HTTP response body, whether or not to include the HTTP response in the metric (as a 'detail' dimension), whether or not to also record the response time, and more. If the endpoint being checked requires authentication, there are two options. First, a username and password supplied in the instance options will be used by the check for authentication. Alternately, the check can retrieve a keystone token for authentication. Specific keystone information can be provided for each check, otherwise the information from the agent config will be used. url: http://192.168.0.254/healthcheck timeout: 1 include_content: true collect_response_time: true match_pattern: '.*OK.*OK.*OK.*OK.*OK'",45,18
openstack%2Ftripleo-ui~master~Ia89f5741b3852a7a17e33fa5347242708bf2246c,openstack/tripleo-ui,master,Ia89f5741b3852a7a17e33fa5347242708bf2246c,(Do not merge) Testing undercloud job,ABANDONED,2018-01-18 10:53:07.000000000,2018-04-27 12:21:00.000000000,,"[{'_account_id': 4978}, {'_account_id': 7509}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-18 10:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/d74d646988a85e64f18eb4945c8f5b784d991cdc', 'message': '(Do not merge) Testing undercloud job\n\nChange-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c\n'}, {'number': 2, 'created': '2018-01-18 13:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7b697e56f591c64cbc65eac43aea7233b49ae1a1', 'message': '(Do not merge) Testing undercloud job\n\nChange-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c\n'}, {'number': 3, 'created': '2018-01-29 11:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5fbcccaeabe80387648df9e96130b41cc3127f53', 'message': '(Do not merge) Testing undercloud job\n\nChange-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c\n'}, {'number': 4, 'created': '2018-02-20 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/2505b860785daa8e81b62834817e30b334541d94', 'message': '(Do not merge) Testing undercloud job\n\nChange-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c\n'}, {'number': 5, 'created': '2018-04-12 09:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/a143bd21969561acada96ee51b64f80935807a3c', 'message': '(Do not merge) Testing undercloud job\n\nChange-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c\n'}, {'number': 6, 'created': '2018-04-26 12:39:16.000000000', 'files': ['src/js/store.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7e677fa43fb3a9035ed2ef3f4bbfe65a2f9690a3', 'message': '(Do not merge) Testing undercloud job\n\nChange-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c\n'}]",0,535285,7e677fa43fb3a9035ed2ef3f4bbfe65a2f9690a3,19,4,6,4978,,,0,"(Do not merge) Testing undercloud job

Change-Id: Ia89f5741b3852a7a17e33fa5347242708bf2246c
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/85/535285/6 && git format-patch -1 --stdout FETCH_HEAD,['src/js/store.js'],1,d74d646988a85e64f18eb4945c8f5b784d991cdc,enable-undercloud-jobs,// test,,1,1
openstack%2Ftempest~master~I95badeda522f855242c4eff0dbc01fb84c3d4b21,openstack/tempest,master,I95badeda522f855242c4eff0dbc01fb84c3d4b21,Fix listing servers by invalid status after V2.38,MERGED,2018-03-29 09:03:06.000000000,2018-04-27 12:16:10.000000000,2018-04-27 11:12:19.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 09:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/016489d64bd394c7fa1528fad95e5c6fca1dc315', 'message': 'Fix test_list_servers_detailed_filter_by_invalid_status after V2.38\n\nWhen using list_servers with status as filter, up to microversion\n2.37, an empty list is returnd if an invalid status is specified,\nstarting from microversion 2.38, a 400 error is returned in that\ncase.\n\nRef: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-newton\n     https://developer.openstack.org/api-ref/compute/#list-servers-detailed\n\nImplements blueprint: clear-deprecated-api\n\nChange-Id: I95badeda522f855242c4eff0dbc01fb84c3d4b21\n'}, {'number': 2, 'created': '2018-03-29 09:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0742843c26afe900273f1aa26b5948976df83cc0', 'message': 'Fix listing servers by invalid status after V2.38\n\nWhen using list_servers with status as filter, up to microversion\n2.37, an empty list is returnd if an invalid status is specified,\nand starting from microversion 2.38, a 400 error is returned in\nthat case.\n\nRef: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-newton\n     https://developer.openstack.org/api-ref/compute/#list-servers-detailed\n\nImplements blueprint: clear-deprecated-api\n\nChange-Id: I95badeda522f855242c4eff0dbc01fb84c3d4b21\n'}, {'number': 3, 'created': '2018-03-30 09:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cad087f07f9669eb91abda47f3144de2559ba96e', 'message': 'Fix listing servers by invalid status after V2.38\n\nWhen using list_servers with status as filter, up to microversion\n2.37, an empty list is returnd if an invalid status is specified,\nand starting from microversion 2.38, a 400 error is returned in\nthat case.\n\nRef: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-newton\n     https://developer.openstack.org/api-ref/compute/#list-servers-detailed\n\nImplements blueprint: clear-deprecated-api\n\nChange-Id: I95badeda522f855242c4eff0dbc01fb84c3d4b21\n'}, {'number': 4, 'created': '2018-04-27 07:43:37.000000000', 'files': ['tempest/api/compute/servers/test_list_servers_negative.py', 'tempest/api/compute/admin/test_servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/34b5503592ae2e94bad656324d656335953c563f', 'message': 'Fix listing servers by invalid status after V2.38\n\nWhen using list_servers with status as filter, up to microversion\n2.37, an empty list is returnd if an invalid status is specified,\nand starting from microversion 2.38, a 400 error is returned in\nthat case.\n\nRef: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-newton\n     https://developer.openstack.org/api-ref/compute/#list-servers-detailed\n\nImplements blueprint: clear-deprecated-api\n\nChange-Id: I95badeda522f855242c4eff0dbc01fb84c3d4b21\n'}]",3,557654,34b5503592ae2e94bad656324d656335953c563f,25,8,4,20190,,,0,"Fix listing servers by invalid status after V2.38

When using list_servers with status as filter, up to microversion
2.37, an empty list is returnd if an invalid status is specified,
and starting from microversion 2.38, a 400 error is returned in
that case.

Ref: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-newton
     https://developer.openstack.org/api-ref/compute/#list-servers-detailed

Implements blueprint: clear-deprecated-api

Change-Id: I95badeda522f855242c4eff0dbc01fb84c3d4b21
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/557654/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_servers.py'],1,016489d64bd394c7fa1528fad95e5c6fca1dc315,bp/clear-deprecated-api,"from tempest.lib.common import api_version_requestfrom tempest.lib import exceptions as lib_exc request_version = api_version_request.APIVersionRequest( self.request_microversion) v2_37_version = api_version_request.APIVersionRequest('2.37') if request_version <= v2_37_version: body = self.client.list_servers(detail=True, **params) servers = body['servers'] self.assertEmpty(servers) else: self.assertRaises(lib_exc.BadRequest, self.client.list_servers, detail=True, **params)"," body = self.client.list_servers(detail=True, **params) servers = body['servers'] self.assertEmpty(servers)",12,3
openstack%2Fnetworking-ovn~stable%2Fqueens~I1ce87173731146e3f0078df99b7ba56f44b14497,openstack/networking-ovn,stable/queens,I1ce87173731146e3f0078df99b7ba56f44b14497,Fix UpdateLRouterPortCommand to work with OVS 2.8,MERGED,2018-03-27 13:54:13.000000000,2018-04-27 12:16:01.000000000,2018-04-27 12:16:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-03-27 13:54:13.000000000', 'files': ['networking_ovn/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/136d1e2e6250528642f0f92611c0687b67d09352', 'message': ""Fix UpdateLRouterPortCommand to work with OVS 2.8\n\nThe UpdateLRouterPortCommand was broken when used with OVS <= 2.8 due\nto the ipv6_ra_configs column not existing in the OVNDB schema.\n\nThis patch is adding a check on that command to ignore that column if\nit's not present. A TODO was left as a comment so we don't forget to\nremove this check once the support for older OVS versions are dropped.\n\n(cherry picked from 5ecaa0043bef240ede2c2184fce13923c782f56a)\nChange-Id: I1ce87173731146e3f0078df99b7ba56f44b14497\nCloses-Bug: #1757438\n""}]",0,556859,136d1e2e6250528642f0f92611c0687b67d09352,15,5,1,8788,,,0,"Fix UpdateLRouterPortCommand to work with OVS 2.8

The UpdateLRouterPortCommand was broken when used with OVS <= 2.8 due
to the ipv6_ra_configs column not existing in the OVNDB schema.

This patch is adding a check on that command to ignore that column if
it's not present. A TODO was left as a comment so we don't forget to
remove this check once the support for older OVS versions are dropped.

(cherry picked from 5ecaa0043bef240ede2c2184fce13923c782f56a)
Change-Id: I1ce87173731146e3f0078df99b7ba56f44b14497
Closes-Bug: #1757438
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/59/556859/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/commands.py'],1,136d1e2e6250528642f0f92611c0687b67d09352,bug/1757438-stable/queens," # TODO(lucasagomes): Remove this check once we drop the support # for OVS versions <= 2.8 ipv6_ra_configs_supported = self.api.is_col_present( 'Logical_Router_Port', 'ipv6_ra_configs') for col, val in self.columns.items(): if col == 'ipv6_ra_configs' and not ipv6_ra_configs_supported: continue if col == 'gateway_chassis': col, val = _add_gateway_chassis(self.api, txn, self.name, val) setattr(lrouter_port, col, val)"," if lrouter_port: for col, val in self.columns.items(): if col == 'gateway_chassis': col, val = _add_gateway_chassis(self.api, txn, self.name, val) setattr(lrouter_port, col, val) return",12,7
openstack%2Fshade~master~Id568d3ad408dd8976211c0576c45e8c9471d1849,openstack/shade,master,Id568d3ad408dd8976211c0576c45e8c9471d1849,Add get_volume_limits() support,MERGED,2018-04-25 15:11:52.000000000,2018-04-27 12:08:45.000000000,2018-04-27 12:08:45.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 15:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/63f5344a3d41a02979ca0503991b5af605c85244', 'message': 'Add get_volume_limits() support\n\nAdd the ability for a user (nodepool) to get the volume limits of a\ncloud.\n\nChange-Id: Id568d3ad408dd8976211c0576c45e8c9471d1849\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-04-25 16:38:53.000000000', 'files': ['shade/tests/functional/test_limits.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/f5e8ac20c72b395db091d51dd45d0db4e0bdefe3', 'message': 'Add get_volume_limits() support\n\nAdd the ability for a user (nodepool) to get the volume limits of a\ncloud.\n\nChange-Id: Id568d3ad408dd8976211c0576c45e8c9471d1849\nDepends-On: https://review.openstack.org/564279\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,564247,f5e8ac20c72b395db091d51dd45d0db4e0bdefe3,12,3,2,4162,,,0,"Add get_volume_limits() support

Add the ability for a user (nodepool) to get the volume limits of a
cloud.

Change-Id: Id568d3ad408dd8976211c0576c45e8c9471d1849
Depends-On: https://review.openstack.org/564279
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/47/564247/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/functional/test_limits.py', 'shade/openstackcloud.py']",2,63f5344a3d41a02979ca0503991b5af605c85244,," def get_volume_limits(self, name_or_id=None): """""" Get volume limits for a project :param name_or_id: (optional) project name or ID to get limits for if different from the current project :raises: OpenStackCloudException if it's not a valid project :returns: Munch object with the limits """""" params = {} project_id = None error_msg = ""Failed to get limits"" if name_or_id: proj = self.get_project(name_or_id) if not proj: raise OpenStackCloudException(""project does not exist"") project_id = proj.id params['tenant_id'] = project_id error_msg = ""{msg} for the project: {project} "".format( msg=error_msg, project=name_or_id) data = self._volume_client.get('/limits', params=params) limits = self._get_and_munchify('limits', data) return limits ",,39,2
openstack%2Fopenstack-ansible~stable%2Fqueens~I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92,openstack/openstack-ansible,stable/queens,I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92,Update role SHA's to resolve pip/python venv issues,MERGED,2018-04-26 12:50:07.000000000,2018-04-27 12:05:15.000000000,2018-04-27 12:05:15.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-26 12:50:07.000000000', 'files': ['releasenotes/notes/renamed_variable_python_ceph_package-9575466eb146e500.yaml', 'releasenotes/notes/image_download-754d13e7df9b7891.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/72c8be49071ae7ff09d0a5c0315429df2ecfde87', 'message': ""Update role SHA's to resolve pip/python venv issues\n\nWith the release of pip10 and the use of python3 as the\ndefault for the deploy host there were a bunch of patches\nneeded across all roles to ensure that the pinned versions\nof pip/setuptools/wheel were actually being used for hosts,\ncontainers and virtualenvs.\n\nThis patch updates the role SHA's to ensure that all these\nfixes are brought in for the next release.\n\nCloses-Bug: #1764470\nChange-Id: I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92\n""}]",0,564489,72c8be49071ae7ff09d0a5c0315429df2ecfde87,9,4,1,6816,,,0,"Update role SHA's to resolve pip/python venv issues

With the release of pip10 and the use of python3 as the
default for the deploy host there were a bunch of patches
needed across all roles to ensure that the pinned versions
of pip/setuptools/wheel were actually being used for hosts,
containers and virtualenvs.

This patch updates the role SHA's to ensure that all these
fixes are brought in for the next release.

Closes-Bug: #1764470
Change-Id: I5552fe62a9567f43c9f7c958cc30fe7ddfc16d92
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/564489/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/renamed_variable_python_ceph_package-9575466eb146e500.yaml', 'releasenotes/notes/image_download-754d13e7df9b7891.yaml', 'ansible-role-requirements.yml']",3,72c8be49071ae7ff09d0a5c0315429df2ecfde87,bug/1764470, version: b2eb75a326648e8c716b5f91296d3af435de621f version: bbfc86bd04e61d9707b1c49e0d4a56daa3bbf93a version: f703ba3bb56c8573f46538a643e0067b91f1043b version: c5c5cb7c62c1769bcbf1c6cb40ddac14a95cc309 version: 14d8a949ce50ac2a1975d57bbc2e396d2b5723b9 version: e98b5bb0c745d234f561a1177c9c098fc1345488 version: be874224aa1521949b7cc9e57340f647c9881707 version: 92089d9e80556c7be2da7cc9a930dc4a3479f61a version: 873ed38d6734e2aefd92ace53187effbd9ba681c version: 780d8d477cfcbe8c317dac4db68c2413b30dd0f1 version: 33b337d98654d48a96b3468f83bdb83e0ff50b8c version: 1d029c0105f04d4577f78daf1547c8f96000cc30 version: 8165eae06689175812ccc122c24b06b54456a343 version: dc82a584ec60cf30164a4e3e59b70085a09b04a4 version: 42b4c94aaf8a94f30a32b72aa93ffcc16b8fec12 version: 538a040319957c60435603bee1b82b2e294ea059 version: db4e934c17f95a73588156e49526fbe0a2755671 version: 313b15f9a6fa821fd85294b7411103f8452e902c version: 4d5d83d4905dc9e285154e15e6cb129446343dac version: de09274321f91a7ba42b4623667f2d895972c8ac version: 3307d4694bcef4f7e94949d89b75d1d8e4b9dff6 version: d162040d76a2048de0ecc7deb8999c16e0f97d06 version: 5f3076e3a8ef76e7d22c8d4fb61471ccd919179a version: 1943c1baebadb895faeb661f91a4a429595d26c7 version: 3c5b9d9f22c1abea3700ca4c679da3791347b92e version: e9132d780da29704da3a87107174428cc7c93c97 version: f747c271a71dca54c515b07d2e49dc09e3719aef version: 7dd064c392525c808634b9d72c913df2568e7630 version: fd718df71118ab96443c5cf0f4d1292a4218d391 version: 75a87bf49910b56942bb63419530199494bc2339 version: c75720f9208821855aac8d1a88d94c96114ed51b, version: 3f870c24f9bcd88ec1f1d7815c30cf2abfac39e5 version: 08bef3a2e444ff307b2b7c6aab8edd78c4fd9d97 version: d1dbac2ce9a0bf6aa96fa254bd612e9c3f4becfa version: 0731d67069b36cd1f630a98dfe44582413993041 version: 50ea8b644c0713d007f6f172cd7bbc850f44a55a version: 6b4a115ab0fba9dba8273691cb2c22bca926f7c4 version: 705f58fb0b3bd3599e3265a982d7d6235a2d2d8d version: 75c8a1f07c0b0f8e8baa68198be789efd453183e version: bd8b72cb68c2629f3d1c032f315eb9c25931920e version: c9b2115cf7c38a5861a8126d45eddef9ea03d1ad version: 948305aa6bfeeb2abdda7351aa0a8ff292810e56 version: b1a08cc7e897e5b600415a69280a64f8f61dd66c version: 9f2aa6478dadab3a4ec0cee6d23ffc86fa76a99b version: 5beb9ca451812959f09c9f9235eee529c42b3805 version: 7eff32af7fae96096694d582589389c66d10a8a3 version: ea9a27931e6d7f22df23ea02e1c0938ba576fada version: 8c33498070489e2ff645cc1286df535e2b16726b version: 06087d8d193f4985ed8c33e996b02fa717628c27 version: 5102381790218c390438011f64e763016d335c61 version: f1d0ec1070d20be73a8f27d56bfabb53d2ac7ea7 version: ad9bcb08150db26c09150f0ed5442522ad4de53b version: c85fb4cd6d0c84dae51eb398ed3c48fe1d44bdcf version: 083bbb8c1290506797d49c51ee91a344a481d25c version: 6882525b8f2871a99595d6d0ef5ae5e5c343a9d4 version: 8f2693552648736353ad00f745905e4ec86bdc7d version: d4acca1ce9ec3ce0c599a3424fa3c92ee318d270 version: a2d58a02edec79ea07229b963406968f4dd831f7 version: 6cd21b625d9f3da5c537e98064f67001173c9174 version: cecb9e78fe0b854334cf4e1e2e48abf17d8dddc9 version: 0e50a282b09f62670494ada2f7d42509c148067f version: 65f66308234bad2da0b1d091e685de98a9b28308,55,31
openstack%2Frequirements~master~Ib9bc7889add4652eb84a3a6e7c1b6118294a4515,openstack/requirements,master,Ib9bc7889add4652eb84a3a6e7c1b6118294a4515,Update Skydive uc to 0.4.5,MERGED,2018-04-25 08:01:21.000000000,2018-04-27 12:03:30.000000000,2018-04-27 12:03:30.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 17880}, {'_account_id': 20229}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 08:01:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ba6ff6dfb07c74c5c418e5c18c48c8851de075d3', 'message': 'Update Skydive uc to 0.4.5\n\nThis fixes the issue in patch https://review.openstack.org/560305/ that\nthough stated the update is to version 0.4.5, updated it only to 0.4.4\n\nChange-Id: Ib9bc7889add4652eb84a3a6e7c1b6118294a4515\n'}]",0,564125,ba6ff6dfb07c74c5c418e5c18c48c8851de075d3,9,5,1,17880,,,0,"Update Skydive uc to 0.4.5

This fixes the issue in patch https://review.openstack.org/560305/ that
though stated the update is to version 0.4.5, updated it only to 0.4.4

Change-Id: Ib9bc7889add4652eb84a3a6e7c1b6118294a4515
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/564125/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ba6ff6dfb07c74c5c418e5c18c48c8851de075d3,update_skydive_uc,skydive-client===0.4.5,skydive-client===0.4.4,1,1
openstack%2Fnetworking-ovn~stable%2Fqueens~Ie631cfebee98a2d2656c9e7f4430792c115ceda8,openstack/networking-ovn,stable/queens,Ie631cfebee98a2d2656c9e7f4430792c115ceda8,Run tempest release job and functional tests against OVS 2.9,MERGED,2018-02-22 15:53:15.000000000,2018-04-27 12:02:31.000000000,2018-04-27 12:02:31.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 15:53:15.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b57c59ea482b2605ab6b6c9ba36e3032d94cf897', 'message': 'Run tempest release job and functional tests against OVS 2.9\n\nThis patch makes both the functional tests and tempest release\njob to run against OVS 2.9 which is the latest release at the\ntime that stable/queens is going to be released.\n\nThis is also fixing the functional tests that currently run\nagainst OVS master branch and currently breaks those.\n\nCloses-bug: #1750599\n\nChange-Id: Ie631cfebee98a2d2656c9e7f4430792c115ceda8\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,547039,b57c59ea482b2605ab6b6c9ba36e3032d94cf897,17,5,1,23804,,,0,"Run tempest release job and functional tests against OVS 2.9

This patch makes both the functional tests and tempest release
job to run against OVS 2.9 which is the latest release at the
time that stable/queens is going to be released.

This is also fixing the functional tests that currently run
against OVS master branch and currently breaks those.

Closes-bug: #1750599

Change-Id: Ie631cfebee98a2d2656c9e7f4430792c115ceda8
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/547039/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/contrib/gate_hook.sh', 'devstack/devstackgaterc']",2,b57c59ea482b2605ab6b6c9ba36e3032d94cf897,bug/1750599," export DEVSTACK_LOCAL_CONFIG+=$'\n'""OVN_BRANCH=branch-2.9"""," export DEVSTACK_LOCAL_CONFIG+=$'\n'""OVN_BRANCH=branch-2.8""",2,1
openstack%2Fneutron-vpnaas-dashboard~stable%2Fqueens~I66bd33f915fed94236d5ca10487e61f3fb695c42,openstack/neutron-vpnaas-dashboard,stable/queens,I66bd33f915fed94236d5ca10487e61f3fb695c42,Imported Translations from Zanata,MERGED,2018-04-26 07:19:36.000000000,2018-04-27 11:47:31.000000000,2018-04-27 11:47:31.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-26 07:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/a4eba7a1f6d2c629af05d76d653b6f433095815d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I66bd33f915fed94236d5ca10487e61f3fb695c42\n'}, {'number': 2, 'created': '2018-04-27 10:39:19.000000000', 'files': ['neutron_vpnaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/32799994fc4a2a5226333e122f52d106473d3718', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I66bd33f915fed94236d5ca10487e61f3fb695c42\n'}]",0,564407,32799994fc4a2a5226333e122f52d106473d3718,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I66bd33f915fed94236d5ca10487e61f3fb695c42
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/07/564407/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,a4eba7a1f6d2c629af05d76d653b6f433095815d,zanata/translations,"""POT-Creation-Date: 2018-03-24 07:20+0000\n""""PO-Revision-Date: 2018-04-25 10:57+0000\n""msgid ""Add New Endpoint Groups"" msgstr ""새 엔드포인트 그룹 추가"" msgid ""Add New IPsec Policy"" msgstr ""새로운 IPsec 정책 추가"" msgid ""Added IKE policy \""%s\""."" msgstr ""IKE 정책 \""%s\""를 추가하였습니다."" #, python-format msgid ""Added IPsec policy \""%s\""."" msgstr ""IPsec 정책 \""%s\""를 추가하였습니다."" #, python-format#, python-format msgid ""Added endpoint group \""%s\""."" msgstr ""엔드포인트 그룹 \""%s\""를 추가하였습니다."" msgid ""Endpoint group for local subnet(s)"" msgstr ""로컬 서브넷용 엔드포인트 그룹"" #, python-format msgid ""Failed to update endpoint group %s"" msgstr ""엔드포인트 그룹 %s 업데이트가 실패했습니다."" msgid ""Local subnet(s). This field is valid if type is Subnet"" msgstr ""로컬 서브넷. 이 항목은 유형이 서브넷인 경우 유효합니다"" msgid ""Unable to add IKE policy \""%s\""."" msgstr ""IKE 정책 \""%s\""를 추가할 수 없습니다."" #, python-format msgid ""Unable to add IPsec policy \""%s\""."" msgstr ""IPsec 정책 \""%s\""를 추가할 수 없습니다."" #, python-formatmsgid ""Unable to add endpoint group \""%s\""."" msgstr ""엔드포인트 그룹 \""%s\""를 추가할 수 없습니다."" #, python-formatmsgid ""VPN service associated with this connection"" msgstr ""이 연결에 연동할 VPN 서비스 "" ","""POT-Creation-Date: 2018-03-12 02:30+0000\n""""PO-Revision-Date: 2018-02-18 02:44+0000\n""",45,2
openstack%2Fheat~master~I9e2f1e27ce2c119647c9fe228484228d2c15d943,openstack/heat,master,I9e2f1e27ce2c119647c9fe228484228d2c15d943,Avoid double-write when updating FAILED rsrc with no change,MERGED,2018-04-11 13:51:28.000000000,2018-04-27 11:36:20.000000000,2018-04-27 11:36:20.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-11 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/be9b85c7778f6337b5944502534ec053a6183e6f', 'message': 'Avoid double-write when updating FAILED rsrc with no change\n\nIn convergence, when a resource is traversed and left unchanged, we must\nstill update the current template for it in the database. In addition,\nif the resource was unchanged in the template but already in a FAILED\nstate and we elected not to replace it by returning False from\nneeds_replace_failed(), we must also update the status to COMPLETE.\n\nCurrently, we do those in two separate writes. This is an unnecessary\noverhead (albeit for a fairly rare case), and the two writes can be\ncombined into one in the case where both changes are required.\n\nIt is possible in theory that eliminating this extra write will prevent\nbug 1763021, which evidence suggests might be occurring in the case of\nsuch a double-write, although the actual mechanism of the bug is not\nknown.\n\nChange-Id: I9e2f1e27ce2c119647c9fe228484228d2c15d943\nPartial-Bug: #1763021\n'}, {'number': 2, 'created': '2018-04-25 20:32:45.000000000', 'files': ['heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4fc271da8e056e15d695a5331a1a1b091b6407c4', 'message': 'Avoid double-write when updating FAILED rsrc with no change\n\nIn convergence, when a resource is traversed and left unchanged, we must\nstill update the current template for it in the database. In addition,\nif the resource was unchanged in the template but already in a FAILED\nstate and we elected not to replace it by returning False from\nneeds_replace_failed(), we must also update the status to COMPLETE.\n\nCurrently, we do those in two separate writes. This is an unnecessary\noverhead (albeit for a fairly rare case), and the two writes can be\ncombined into one in the case where both changes are required.\n\nChange-Id: I9e2f1e27ce2c119647c9fe228484228d2c15d943\nRelated-Bug: #1763021\n'}]",0,560427,4fc271da8e056e15d695a5331a1a1b091b6407c4,9,4,2,4257,,,0,"Avoid double-write when updating FAILED rsrc with no change

In convergence, when a resource is traversed and left unchanged, we must
still update the current template for it in the database. In addition,
if the resource was unchanged in the template but already in a FAILED
state and we elected not to replace it by returning False from
needs_replace_failed(), we must also update the status to COMPLETE.

Currently, we do those in two separate writes. This is an unnecessary
overhead (albeit for a fairly rare case), and the two writes can be
combined into one in the case where both changes are required.

Change-Id: I9e2f1e27ce2c119647c9fe228484228d2c15d943
Related-Bug: #1763021
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/560427/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resource.py'],1,be9b85c7778f6337b5944502534ec053a6183e6f,, is_failed = self.status == self.FAILED if update_templ_func is not None: update_templ_func(persist=not is_failed) if is_failed:, if update_templ_func is not None: update_templ_func(persist=True) if self.status == self.FAILED:,3,2
openstack%2Fheat~master~I7c474dbf0b21f922b6625e31d6ae7df1e198b8de,openstack/heat,master,I7c474dbf0b21f922b6625e31d6ae7df1e198b8de,Docs: modernise links,MERGED,2017-08-18 08:53:15.000000000,2018-04-27 11:36:18.000000000,2018-04-27 11:36:18.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}, {'_account_id': 15685}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 23874}, {'_account_id': 25254}, {'_account_id': 26126}, {'_account_id': 26297}]","[{'number': 1, 'created': '2017-08-18 08:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e8823f6a0543b920ee27a7b5f9c8d1775024c453', 'message': 'Update links in README\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\n'}, {'number': 2, 'created': '2017-08-18 09:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/785b6ce123123898b1e87a5cde17ed645b7261fe', 'message': 'Update links in README and notes\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\n'}, {'number': 3, 'created': '2017-08-18 10:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2985e5f564083ba6fabcc73f7871b3dbab26856e', 'message': 'Update links in README and other notes\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\n'}, {'number': 4, 'created': '2017-09-27 08:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2f42a028198a594fe5d92eb38d2c278b2e0b1293', 'message': 'Update links in README and other notes\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\n'}, {'number': 5, 'created': '2017-09-27 08:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cbb3bc592e10f0bcff216061076f9173f54c55c5', 'message': 'Update links in README and other notes\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\n'}, {'number': 6, 'created': '2018-03-12 19:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b06bd84a4353e79e4e5ca335c4b757d97a666c85', 'message': 'Docs: modernise links\n\nSwitch to https, replace outdated URLs with canonical ones.\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\nCo-Authored-By: chenghuiyu <yuchenghui@unionpay.com>\nCo-Authored-By: Max Pavlukhin <pavlukhinm@gmail.com>\nCo-Authored-By: yfzhao <dsware@126.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}, {'number': 7, 'created': '2018-03-12 22:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b491b46141383238bbc4d44e0227fd049e1428c9', 'message': 'Docs: modernise links\n\nSwitch to https, replace outdated URLs with canonical ones.\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\nCo-Authored-By: chenghuiyu <yuchenghui@unionpay.com>\nCo-Authored-By: Max Pavlukhin <pavlukhinm@gmail.com>\nCo-Authored-By: yfzhao <dsware@126.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}, {'number': 8, 'created': '2018-03-27 04:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0114425870991d9ba469e2dc029283862a5565a0', 'message': 'Docs: modernise links\n\nSwitch to https, replace outdated URLs with canonical ones.\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\nCo-Authored-By: chenghuiyu <yuchenghui@unionpay.com>\nCo-Authored-By: Max Pavlukhin <pavlukhinm@gmail.com>\nCo-Authored-By: yfzhao <dsware@126.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}, {'number': 9, 'created': '2018-04-11 20:46:23.000000000', 'files': ['doc/source/operating_guides/httpd.rst', 'doc/source/getting_started/on_ubuntu.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/template_guide/existing_templates.rst', 'doc/source/install/index.rst', 'heat/engine/template.py', 'README.rst', 'contrib/heat_docker/setup.cfg', 'doc/source/developing_guides/architecture.rst', 'tools/README.rst', 'doc/source/getting_started/on_fedora.rst', 'doc/source/getting_started/on_devstack.rst', 'heat/common/i18n.py', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/install/next-steps.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst', 'setup.cfg', 'doc/source/contributing/blueprints.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/3f98c3d6fbe23999d34ad2eef0315a2f2b0a6637', 'message': 'Docs: modernise links\n\nSwitch to https, replace outdated URLs with canonical ones.\n\nChange-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de\nCo-Authored-By: chenghuiyu <yuchenghui@unionpay.com>\nCo-Authored-By: Max Pavlukhin <pavlukhinm@gmail.com>\nCo-Authored-By: yfzhao <dsware@126.com>\nCo-Authored-By: ricolin <rico.lin@easystack.cn>\n'}]",0,495124,3f98c3d6fbe23999d34ad2eef0315a2f2b0a6637,45,12,9,23874,,,0,"Docs: modernise links

Switch to https, replace outdated URLs with canonical ones.

Change-Id: I7c474dbf0b21f922b6625e31d6ae7df1e198b8de
Co-Authored-By: chenghuiyu <yuchenghui@unionpay.com>
Co-Authored-By: Max Pavlukhin <pavlukhinm@gmail.com>
Co-Authored-By: yfzhao <dsware@126.com>
Co-Authored-By: ricolin <rico.lin@easystack.cn>
",git fetch https://review.opendev.org/openstack/heat refs/changes/24/495124/9 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e8823f6a0543b920ee27a7b5f9c8d1775024c453,docs,.. image:: https://governance.openstack.org/tc/badges/heat.svg :target: https://governance.openstack.org/tc/reference/tags/index.html* Wiki: https://wiki.openstack.org/wiki/Heat * Developer docs: https://docs.openstack.org/heat/latest/#developing-heat,.. image:: http://governance.openstack.org/badges/heat.svg :target: http://governance.openstack.org/reference/tags/index.html* Wiki: http://wiki.openstack.org/Heat * Developer docs: http://docs.openstack.org/developer/heat,4,4
openstack%2Fironic-tempest-plugin~master~Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad,openstack/ironic-tempest-plugin,master,Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad,Rework the ironic-inspector auto-discovery test,MERGED,2018-03-28 10:52:32.000000000,2018-04-27 11:34:27.000000000,2018-04-27 11:34:27.000000000,"[{'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 10:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/601a81990f2351e06071d821ccd456ce9b7b4fb3', 'message': 'Rework the ironic-inspector auto-discovery test\n\nCurrently this test relies on changing the driver in introspection rules.\nThis is quite fragile, since for hardware types changing the driver may\ninvolve changing some or all of the interface fields. It\'s also absolutely\nunnecessary to verify the functioning of the discovery process.\nThis change removes it.\n\nInstead, the change starts verifying the ""auto_discovered"" flag in\nthe introspection data, as well as uses introspection rules to verify\nit indirectly.\n\nFinally, the discovery driver is checked. The expected value is provided\nby the new configuration option auto_discovery_default_driver.\n\nChange-Id: Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad\n'}, {'number': 2, 'created': '2018-03-28 13:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/bd0ac87c4485816f1f31eb4d37a6078a4af79d72', 'message': 'Rework the ironic-inspector auto-discovery test\n\nCurrently this test relies on changing the driver in introspection rules.\nThis is quite fragile, since for hardware types changing the driver may\ninvolve changing some or all of the interface fields. It\'s also absolutely\nunnecessary to verify the functioning of the discovery process.\nThis change removes it.\n\nInstead, the change starts verifying the ""auto_discovered"" flag in\nthe introspection data, as well as uses introspection rules to verify\nit indirectly.\n\nFinally, the discovery driver is checked. The expected value is provided\nby the new configuration option auto_discovery_default_driver.\n\nChange-Id: Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad\n'}, {'number': 3, 'created': '2018-03-28 15:30:54.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_introspection_discovery.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/39579c63af1b9ab13d4434ee1d9dd196b3c28257', 'message': 'Rework the ironic-inspector auto-discovery test\n\nCurrently this test relies on changing the driver in introspection rules.\nThis is quite fragile, since for hardware types changing the driver may\ninvolve changing some or all of the interface fields. It\'s also absolutely\nunnecessary to verify the functioning of the discovery process.\nThis change removes it.\n\nInstead, the change starts verifying the ""auto_discovered"" flag in\nthe introspection data, as well as uses introspection rules to verify\nit indirectly.\n\nFinally, the discovery driver is checked. The expected value is provided\nby the new configuration option auto_discovery_default_driver.\n\nChange-Id: Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad\n'}]",0,557295,39579c63af1b9ab13d4434ee1d9dd196b3c28257,21,4,3,10239,,,0,"Rework the ironic-inspector auto-discovery test

Currently this test relies on changing the driver in introspection rules.
This is quite fragile, since for hardware types changing the driver may
involve changing some or all of the interface fields. It's also absolutely
unnecessary to verify the functioning of the discovery process.
This change removes it.

Instead, the change starts verifying the ""auto_discovered"" flag in
the introspection data, as well as uses introspection rules to verify
it indirectly.

Finally, the discovery driver is checked. The expected value is provided
by the new configuration option auto_discovery_default_driver.

Change-Id: Ia0e95cbc1bb4dbd32793705b876ab8b474b753ad
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/95/557295/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_introspection_discovery.py']",2,601a81990f2351e06071d821ccd456ce9b7b4fb3,hw-types," rule = { ""description"": ""Auto-discovery rule"", # Set an attribute in case we cannot access the introspection data # to check the auto_discovered flag directly. ""actions"": [ {""action"": ""set-attribute"", ""path"": ""/extra/discovered"", ""value"": ""yes""}, ], # This flag must be automatically set by the auto-discovery process ""conditions"": [ {""op"": ""eq"", ""field"": ""data://auto_discovered"", ""value"": True} ] } self.assertTrue(data['auto_discovered']) * Start introspection via ironic-inspector API; * Delete the node from ironic; * Wating for node discovery; self.assertEqual(CONF.auto_discovery_default_driver, inspected_node['driver']) self.assertEqual('yes', inspected_node['extra']['discovered'])","import six rule = self._generate_discovery_rule(self.node_info) def _generate_discovery_rule(self, node): rule = dict() rule[""description""] = ""Node %s discovery rule"" % node['name'] rule[""actions""] = [ {""action"": ""set-attribute"", ""path"": ""/name"", ""value"": ""%s"" % node['name']}, {""action"": ""set-attribute"", ""path"": ""/driver"", ""value"": ""%s"" % node['driver']}, ] for key, value in node['driver_info'].items(): rule[""actions""].append( {""action"": ""set-attribute"", ""path"": ""/driver_info/%s"" % key, ""value"": ""%s"" % value}) rule[""conditions""] = [ {""op"": ""eq"", ""field"": ""data://auto_discovered"", ""value"": True} ] return rule def verify_node_driver_info(self, node_info, inspected_node): for key in node_info['driver_info']: self.assertEqual(six.text_type(node_info['driver_info'][key]), inspected_node['driver_info'].get(key)) * Delete discovered node from ironic; * Start baremetal vm via virsh; * Wating for node introspection; self.verify_node_driver_info(self.node_info, inspected_node)",29,31
openstack%2Fopenstack-zuul-jobs~master~I088d2a1e9e55a73b628bc6fc77e153734ec6f780,openstack/openstack-zuul-jobs,master,I088d2a1e9e55a73b628bc6fc77e153734ec6f780,Ignore errors from pip 10 in neutron-horizon-hack,ABANDONED,2018-04-16 11:52:56.000000000,2018-04-27 11:32:30.000000000,,"[{'_account_id': 4162}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-16 11:52:56.000000000', 'files': ['roles/neutron-horizon-hack/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8dd7f86525fdb244e55ddeaca3905ee243a79f43', 'message': 'Ignore errors from pip 10 in neutron-horizon-hack\n\nWe are calling tools/tox_install.sh with only a single argument, which\ncauses most versions of that script to generate a warning\n\nYou must give at least one requirement to install (see ""pip help\ninstall"")\n\nWith pip 10, this warning has been promoted to an error, causing jobs to\nfail in the pre-run phase.\n\nChange-Id: I088d2a1e9e55a73b628bc6fc77e153734ec6f780\n'}]",1,561593,8dd7f86525fdb244e55ddeaca3905ee243a79f43,4,3,1,13252,,,0,"Ignore errors from pip 10 in neutron-horizon-hack

We are calling tools/tox_install.sh with only a single argument, which
causes most versions of that script to generate a warning

You must give at least one requirement to install (see ""pip help
install"")

With pip 10, this warning has been promoted to an error, causing jobs to
fail in the pre-run phase.

Change-Id: I088d2a1e9e55a73b628bc6fc77e153734ec6f780
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/93/561593/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/neutron-horizon-hack/tasks/main.yaml'],1,8dd7f86525fdb244e55ddeaca3905ee243a79f43,pip10, failed_when: False,,1,0
openstack%2Ftripleo-heat-templates~master~Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9,openstack/tripleo-heat-templates,master,Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9,Switch remaining env files to containers defaults,MERGED,2018-04-11 16:24:02.000000000,2018-04-27 11:22:23.000000000,2018-04-27 11:22:22.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 9003}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 12898}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-04-11 16:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eca948cf1fba37825f3bfa6742427e42e3ed0f1f', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-04-19 11:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f641660dd01e9ed5d56faf82bc0e9ec9044ab82', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-04-19 11:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d1fa14fde20ed85df24cabb671f372b2ed89d42', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-04-19 12:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5749bf412036c4552ffbf3c531801494722d64ae', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-04-19 14:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7766720cf1a41c11ecd8f5bdfb99d435800a2a1c', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-04-20 07:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff1cd86c00ad6c0f68f52ec5d456bf67c09d4e69', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-04-23 07:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6e589f385e243261e413260bcdf3d50a6e13001', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-04-24 15:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdbb3c3d6812c62302707fcf268720ddc7b7dc93', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-04-24 15:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dce33398ba897566601bd9cb8a04852e2c4a2b2', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2018-04-25 07:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5bd19512b6d4be39f12033f5db170924cc6db41', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2018-04-26 23:45:01.000000000', 'files': ['environments/manila-netapp-config.yaml', 'environments/services/ptp.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/manila-cephfsnative-config.yaml', 'environments/enable-internal-tls.yaml', 'environments/docker.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/neutron-ml2-ovn.yaml', 'environments/neutron-sfc.yaml', 'environments/neutron-ml2-ovn-dvr-ha.yaml', 'environments/neutron-l2gw.yaml', 'environments/neutron-ml2-vpp.yaml', 'environments/compute-instanceha.yaml', 'environments/collectd-environment.yaml', 'environments/nonha-arch.yaml', 'environments/auditd.yaml', 'sample-env-generator/ssl.yaml', 'environments/manila-vnx-config.yaml', 'environments/neutron-sriov.yaml', 'environments/cinder-backup.yaml', 'environments/services/vpp.yaml', 'environments/manila-isilon-config.yaml', 'environments/manila-vmax-config.yaml', 'environments/manila-unity-config.yaml', 'environments/neutron-sfc-opendaylight.yaml', 'environments/veritas-hyperscale/veritas-hyperscale-config.yaml', 'environments/docker-ha.yaml', 'environments/neutron-ovs-dpdk.yaml', 'environments/neutron-opendaylight-sriov.yaml', 'environments/neutron-bgpvpn-bagpipe.yaml', 'environments/neutron-l2gw-opendaylight.yaml', 'environments/neutron-bgpvpn-opendaylight.yaml', 'environments/enable_tacker.yaml', 'environments/monitoring-environment.yaml', 'environments/neutron-ml2-ovn-ha.yaml', 'environments/services/neutron-opendaylight-hw-offload.yaml', 'environments/neutron-opendaylight.yaml', 'environments/neutron-linuxbridge.yaml', 'environments/neutron-ml2-ovn-hw-offload.yaml', 'environments/services/neutron-opendaylight.yaml', 'environments/enable_tempest.yaml', 'environments/docker-uc-light.yaml', 'environments/cavium-liquidio.yaml', 'environments/logging-environment.yaml', 'environments/neutron-opendaylight-hw-offload.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/enable_congress.yaml', 'environments/neutron-ovs-dvr.yaml', 'environments/neutron-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/041251d473a55567992adb463174103f9c6200c2', 'message': 'Switch remaining env files to containers defaults\n\nMark regular non-containerized services with FIXME\nto be switched, once it is containerized\n\nDo not mark yet an external/backend/plugin/host-config\nrelated puppet services templates with that FIXME\n\nMark puppet/services/ceph- related templates as TODO\nswitch it to containerized ceph-ansible eventually, maybe.\n\nChange-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",16,560559,041251d473a55567992adb463174103f9c6200c2,59,15,11,6926,,,0,"Switch remaining env files to containers defaults

Mark regular non-containerized services with FIXME
to be switched, once it is containerized

Do not mark yet an external/backend/plugin/host-config
related puppet services templates with that FIXME

Mark puppet/services/ceph- related templates as TODO
switch it to containerized ceph-ansible eventually, maybe.

Change-Id: Ib9fbad05eeb57dc641499fbf411cb5870da7a8e9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/560559/8 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/puppet-ceph-devel.yaml', 'environments/manila-netapp-config.yaml', 'environments/services/ptp.yaml', 'environments/services-baremetal/puppet-ceph.yaml', 'environments/neutron-ml2-ovn-dvr.yaml', 'environments/manila-cephfsnative-config.yaml', 'environments/enable-internal-tls.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/neutron-ml2-ovn.yaml', 'environments/neutron-sfc.yaml', 'environments/neutron-ml2-ovn-dvr-ha.yaml', 'environments/neutron-l2gw.yaml', 'environments/neutron-ml2-vpp.yaml', 'environments/compute-instanceha.yaml', 'environments/collectd-environment.yaml', 'environments/nonha-arch.yaml', 'environments/auditd.yaml', 'environments/manila-vnx-config.yaml', 'environments/services/neutron-lbaasv2.yaml', 'environments/neutron-sriov.yaml', 'environments/cinder-backup.yaml', 'environments/services-baremetal/neutron-plumgrid.yaml', 'environments/services/vpp.yaml', 'environments/manila-isilon-config.yaml', 'environments/manila-vmax-config.yaml', 'environments/manila-unity-config.yaml', 'environments/neutron-sfc-opendaylight.yaml', 'environments/ssl/enable-internal-tls.yaml', 'environments/veritas-hyperscale/veritas-hyperscale-config.yaml', 'environments/docker-ha.yaml', 'environments/neutron-ovs-dpdk.yaml', 'environments/services-baremetal/puppet-pacemaker.yaml', 'environments/neutron-opendaylight-sriov.yaml', 'environments/storage/external-ceph.yaml', 'environments/neutron-bgpvpn-bagpipe.yaml', 'environments/neutron-l2gw-opendaylight.yaml', 'environments/neutron-bgpvpn-opendaylight.yaml', 'environments/monitoring-environment.yaml', 'environments/neutron-ml2-ovn-ha.yaml', 'environments/storage/enable-ceph.yaml', 'environments/services/neutron-opendaylight-hw-offload.yaml', 'environments/neutron-opendaylight.yaml', 'environments/neutron-linuxbridge.yaml', 'environments/neutron-ml2-ovn-hw-offload.yaml', 'environments/services/neutron-opendaylight.yaml', 'environments/enable_tempest.yaml', 'environments/docker-uc-light.yaml', 'environments/cavium-liquidio.yaml', 'releasenotes/notes/containers-as-default-37bbe8afa0a60c2b.yaml', 'environments/logging-environment.yaml', 'environments/neutron-opendaylight-hw-offload.yaml', 'environments/computealt.yaml', 'environments/enable_congress.yaml', 'environments/neutron-ovs-dvr.yaml', 'environments/services-baremetal/puppet-ceph-external.yaml', 'environments/neutron-bgpvpn.yaml']",56,eca948cf1fba37825f3bfa6742427e42e3ed0f1f,containers-default, OS::TripleO::Services::NeutronBgpVpnApi: ../docker/services/neutron-bgpvpn-api.yaml, OS::TripleO::Services::NeutronBgpVpnApi: ../puppet/services/neutron-bgpvpn-api.yaml,128,86
openstack%2Fpython-tripleoclient~master~Ib84fafa2efc22148c06a7b9ab3484d87197cab27,openstack/python-tripleoclient,master,Ib84fafa2efc22148c06a7b9ab3484d87197cab27,Remove adding config-download-environment.yaml,MERGED,2018-04-04 21:05:52.000000000,2018-04-27 11:13:03.000000000,2018-04-27 11:13:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-04 21:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b295a718378bc32afbbafe0985d2215d7e64087d', 'message': 'Remove adding config-download-environment.yaml\n\nOnce https://review.openstack.org/#/c/558927/ lands, we can remove this\ncode that was forcibly adding the environment.\n\nChange-Id: Ib84fafa2efc22148c06a7b9ab3484d87197cab27\nimplements: blueprint config-download-default\nDepends-On: I8389a0c48e1aa610fdc6a8580516889340883034\n'}, {'number': 2, 'created': '2018-04-05 14:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06937dda93f5e3a357279db6f34a42b376039bce', 'message': 'Remove adding config-download-environment.yaml\n\nOnce https://review.openstack.org/#/c/558927/ lands, we can remove this\ncode that was forcibly adding the environment.\n\nChange-Id: Ib84fafa2efc22148c06a7b9ab3484d87197cab27\nimplements: blueprint config-download-default\nDepends-On: I8389a0c48e1aa610fdc6a8580516889340883034\n'}, {'number': 3, 'created': '2018-04-20 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/95ff0b50c2a8c86db9aeab5539b4656700f025b9', 'message': 'Remove adding config-download-environment.yaml\n\nOnce https://review.openstack.org/#/c/558927/ lands, we can remove this\ncode that was forcibly adding the environment.\n\nChange-Id: Ib84fafa2efc22148c06a7b9ab3484d87197cab27\nimplements: blueprint config-download-default\nDepends-On: I8389a0c48e1aa610fdc6a8580516889340883034\n'}, {'number': 4, 'created': '2018-04-20 14:22:24.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fe508e30b97e12b1bfb577b8368b18c07831bb0', 'message': 'Remove adding config-download-environment.yaml\n\nOnce https://review.openstack.org/#/c/558927/ lands, we can remove this\ncode that was forcibly adding the environment.\n\nChange-Id: Ib84fafa2efc22148c06a7b9ab3484d87197cab27\nimplements: blueprint config-download-default\nDepends-On: I8389a0c48e1aa610fdc6a8580516889340883034\n'}]",0,558931,1fe508e30b97e12b1bfb577b8368b18c07831bb0,32,6,4,7144,,,0,"Remove adding config-download-environment.yaml

Once https://review.openstack.org/#/c/558927/ lands, we can remove this
code that was forcibly adding the environment.

Change-Id: Ib84fafa2efc22148c06a7b9ab3484d87197cab27
implements: blueprint config-download-default
Depends-On: I8389a0c48e1aa610fdc6a8580516889340883034
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/558931/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,b295a718378bc32afbbafe0985d2215d7e64087d,bp/config-download-default,," # TODO(slagle): config-download-environment.yaml must be forcibly # injected since --config-download now defaults to True. Once # https://review.openstack.org/#/c/558927/ has landed, this can be # removed. if parsed_args.config_download: created_env_files.insert( 0, os.path.join( user_tht_root, 'environments/config-download-environment.yaml')) ",0,10
openstack%2Fheat~master~Iad15069ccee42c1d409915f79e0d8af8e124fe48,openstack/heat,master,Iad15069ccee42c1d409915f79e0d8af8e124fe48,Docs: Fix broken external links,MERGED,2018-03-12 19:26:46.000000000,2018-04-27 11:09:57.000000000,2018-04-27 11:09:57.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 19:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e099c476c1934b14f252c6bcd0df79e1cdb33839', 'message': 'Docs: Fix broken external links\n\nChange-Id: Iad15069ccee42c1d409915f79e0d8af8e124fe48\nCloses-Bug: #1710084\n'}, {'number': 2, 'created': '2018-04-11 20:46:23.000000000', 'files': ['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/template_guide/basic_resources.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/getting_started/on_other.rst', 'doc/source/glossary.rst', 'doc/source/getting_started/on_fedora.rst', 'doc/source/developing_guides/pluginguide.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/9e5d6b56c0b962473f18deb8fe4d1eca6e9646f4', 'message': 'Docs: Fix broken external links\n\nChange-Id: Iad15069ccee42c1d409915f79e0d8af8e124fe48\nCloses-Bug: #1710084\n'}]",0,552126,9e5d6b56c0b962473f18deb8fe4d1eca6e9646f4,10,4,2,4257,,,0,"Docs: Fix broken external links

Change-Id: Iad15069ccee42c1d409915f79e0d8af8e124fe48
Closes-Bug: #1710084
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/552126/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/template_guide/basic_resources.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/getting_started/on_other.rst', 'doc/source/glossary.rst', 'doc/source/getting_started/on_fedora.rst', 'doc/source/developing_guides/pluginguide.rst']",9,e099c476c1934b14f252c6bcd0df79e1cdb33839,docs,See :doc:`<../configuration/index>` for more information on configuring the orchestration service.,See one of the Installation Guides at http://docs.OpenStack.org/ for more information on configuring the orchestration service.,18,20
openstack%2Fheat~master~I107f40e23a757052da7f5179338f88369a4a72cb,openstack/heat,master,I107f40e23a757052da7f5179338f88369a4a72cb,Docs: use local references for internal links,MERGED,2018-03-12 19:26:46.000000000,2018-04-27 11:09:56.000000000,2018-04-27 11:09:56.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 19:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1822ea512c475994f9dd411fbc48b97752139366', 'message': 'Docs: use local references for internal links\n\nSome internal links in the documentation are broken after the\nre-organisation because they used absolute URLs. Use :ref:, or at least\n:doc: instead and let Sphinx take care of keeping the links up to date.\n\nAlso add a redirect for docs we know to have moved, since they may be\nlinked from other places externally.\n\nChange-Id: I107f40e23a757052da7f5179338f88369a4a72cb\nPartial-Bug: #1710084\n'}, {'number': 2, 'created': '2018-04-11 20:46:23.000000000', 'files': ['doc/source/install/launch-instance.rst', 'doc/source/install/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/template_guide/hello_world.rst', 'doc/source/install/next-steps.rst', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/heat/commit/b78e78d8bba0a30fd36de154dcf74c8ed96274a9', 'message': 'Docs: use local references for internal links\n\nSome internal links in the documentation are broken after the\nre-organisation because they used absolute URLs. Use :ref:, or at least\n:doc: instead and let Sphinx take care of keeping the links up to date.\n\nAlso add a redirect for docs we know to have moved, since they may be\nlinked from other places externally.\n\nChange-Id: I107f40e23a757052da7f5179338f88369a4a72cb\nPartial-Bug: #1710084\n'}]",0,552125,b78e78d8bba0a30fd36de154dcf74c8ed96274a9,10,4,2,4257,,,0,"Docs: use local references for internal links

Some internal links in the documentation are broken after the
re-organisation because they used absolute URLs. Use :ref:, or at least
:doc: instead and let Sphinx take care of keeping the links up to date.

Also add a redirect for docs we know to have moved, since they may be
linked from other places externally.

Change-Id: I107f40e23a757052da7f5179338f88369a4a72cb
Partial-Bug: #1710084
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/552125/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/launch-instance.rst', 'doc/source/install/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/template_guide/hello_world.rst', 'doc/source/install/next-steps.rst', 'doc/source/_extra/.htaccess']",6,1822ea512c475994f9dd411fbc48b97752139366,docs, redirectmatch 301 ^/heat/([^/]+)/(architecture|pluginguide|schedulerhints|gmr|supportstatus)\.html$ /heat/$1/developing_guides/$2.html redirectmatch 301 ^/heat/([^/]+)/(scale_deployment)\.html$ /heat/$1/operating_guides/$2.html,,18,21
openstack%2Fheat-tempest-plugin~master~If901077adee61df2273786283dcbdaef02dbe30a,openstack/heat-tempest-plugin,master,If901077adee61df2273786283dcbdaef02dbe30a,API tests: Don't depend on template versions >mitaka,MERGED,2018-03-08 02:24:19.000000000,2018-04-27 11:09:55.000000000,2018-04-27 11:09:55.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 02:24:19.000000000', 'files': ['heat_tempest_plugin/tests/api/gabbits/resourcetypes.yaml', 'heat_tempest_plugin/tests/api/gabbits/templates.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/4b9e2270341df3478878c130c2c269b30a11ad2f', 'message': ""API tests: Don't depend on template versions >mitaka\n\nThe trademark program interop tests run against clouds as old as the\nMitaka release, so don't depend on the presence of template plugin\nversions that are newer than that.\n\nChange-Id: If901077adee61df2273786283dcbdaef02dbe30a\n""}]",0,550667,4b9e2270341df3478878c130c2c269b30a11ad2f,7,4,1,4257,,,0,"API tests: Don't depend on template versions >mitaka

The trademark program interop tests run against clouds as old as the
Mitaka release, so don't depend on the presence of template plugin
versions that are newer than that.

Change-Id: If901077adee61df2273786283dcbdaef02dbe30a
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/67/550667/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/tests/api/gabbits/resourcetypes.yaml', 'heat_tempest_plugin/tests/api/gabbits/templates.yaml']",2,4b9e2270341df3478878c130c2c269b30a11ad2f,, $.template_versions[?(@.version='heat_template_version.2016-04-08')].type: hot GET: /template_versions/heat_template_version.2016-04-08/functions, $.template_versions[?(@.version='heat_template_version.2017-02-24')].type: hot GET: /template_versions/heat_template_version.2016-10-14/functions,3,3
openstack%2Fos-client-config~master~Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3,openstack/os-client-config,master,Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3,Defer plugin loading until it's needed,ABANDONED,2016-09-12 11:51:22.000000000,2018-04-27 10:57:13.000000000,,"[{'_account_id': 2}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-09-12 11:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/ab55a93160e8909fae1b407280e337774a07e982', 'message': ""Defer plugin loading until it's needed\n\nWe were always loaing the auth plugins so that we could know what\nparameters they needed so that we could copy the appropriate parameters\ninto the auth dict. However, that means a very early loading of auth\nparameters and has cause OSC to go through all sorts of contortions.\n\nWe know the 'main' auth parameters that need to be copied for the usual\nuse case, which is password - so special case them and then move calling\nload_auth_plugin to when an auth plugin is actually requested.\n\nChange-Id: Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3\n""}, {'number': 2, 'created': '2016-09-12 13:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/ae050a1dd6ade468c9f0dc3269b16decb3fca583', 'message': ""Defer plugin loading until it's needed\n\nWe were always loaing the auth plugins so that we could know what\nparameters they needed so that we could copy the appropriate parameters\ninto the auth dict. However, that means a very early loading of auth\nparameters and has cause OSC to go through all sorts of contortions.\n\nWe know the 'main' auth parameters that need to be copied for the usual\nuse case, which is password - so special case them and then move calling\nload_auth_plugin to when an auth plugin is actually requested.\n\nChange-Id: Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3\n""}, {'number': 3, 'created': '2016-09-13 11:48:56.000000000', 'files': ['os_client_config/config.py', 'os_client_config/tests/test_config.py', 'os_client_config/cloud_config.py', 'os_client_config/tests/test_environ.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/6ebdbca326c6254ff3b8cce94a5164c6fd54528a', 'message': ""Defer plugin loading until it's needed\n\nWe were always loaing the auth plugins so that we could know what\nparameters they needed so that we could copy the appropriate parameters\ninto the auth dict. However, that means a very early loading of auth\nparameters and has cause OSC to go through all sorts of contortions.\n\nWe know the 'main' auth parameters that need to be copied for the usual\nuse case, which is password - so special case them and then move calling\nload_auth_plugin to when an auth plugin is actually requested.\n\nChange-Id: Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3\n""}]",2,368779,6ebdbca326c6254ff3b8cce94a5164c6fd54528a,12,2,3,2,,,0,"Defer plugin loading until it's needed

We were always loaing the auth plugins so that we could know what
parameters they needed so that we could copy the appropriate parameters
into the auth dict. However, that means a very early loading of auth
parameters and has cause OSC to go through all sorts of contortions.

We know the 'main' auth parameters that need to be copied for the usual
use case, which is password - so special case them and then move calling
load_auth_plugin to when an auth plugin is actually requested.

Change-Id: Ic02eb10bf4b7a275c8e2e307e2ae651b03acdbf3
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/79/368779/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/config.py', 'os_client_config/tests/test_config.py', 'os_client_config/cloud_config.py', 'os_client_config/tests/test_environ.py']",4,ab55a93160e8909fae1b407280e337774a07e982,defer-auth-loading, cc = c.get_one_cloud('envvars') cc.get_auth)," c.get_one_cloud, 'envvars')",35,12
openstack%2Fos-client-config~master~I7587540b82b9befaf3a3fd6b22d3f7d704e9b848,openstack/os-client-config,master,I7587540b82b9befaf3a3fd6b22d3f7d704e9b848,Add support for k2k service provider auth,ABANDONED,2017-02-26 15:41:13.000000000,2018-04-27 10:57:04.000000000,,[],"[{'number': 1, 'created': '2017-02-26 15:41:13.000000000', 'files': ['os_client_config/cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/b3bff9c38a3c3bed52e2c430250d3404ed6a4153', 'message': 'Add support for k2k service provider auth\n\nosc_lib returns a Keystone2Keystone auth wrapper around the auth plugin\nif one is configured. There is nothing OSC specific about this, so add\nthe logic here. This will allow removing it from osc_lib and shrinking\ndivergence.\n\nChange-Id: I7587540b82b9befaf3a3fd6b22d3f7d704e9b848\n'}]",0,438270,b3bff9c38a3c3bed52e2c430250d3404ed6a4153,4,0,1,2,,,0,"Add support for k2k service provider auth

osc_lib returns a Keystone2Keystone auth wrapper around the auth plugin
if one is configured. There is nothing OSC specific about this, so add
the logic here. This will allow removing it from osc_lib and shrinking
divergence.

Change-Id: I7587540b82b9befaf3a3fd6b22d3f7d704e9b848
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/70/438270/1 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/cloud_config.py'],1,b3bff9c38a3c3bed52e2c430250d3404ed6a4153,unwind-osc-occ,"from keystoneauth1.identity.v3 import k2k if self.config['service_provider']: self._auth = self._get_keystone2keystone_auth() def _get_keystone2keystone_auth(): return k2k.Keystone2Keystone( self._auth, self.config['service_provider'], project_id=self.config['remote_project_id'], project_name=self.config['remote_project_name'], project_domain_id=self.config['remote_project_domain_id'], project_domain_name=self.config['remote_project_domain_name'], ) ",,13,0
openstack%2Fos-client-config~master~Icdbf28abe7eabcef522a34bff14b06311118fa3f,openstack/os-client-config,master,Icdbf28abe7eabcef522a34bff14b06311118fa3f,Remove now-unnecessary validate=False settings,ABANDONED,2017-02-25 18:17:06.000000000,2018-04-27 10:56:55.000000000,,[{'_account_id': 970}],"[{'number': 1, 'created': '2017-02-25 18:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/6dab6b8d7450d45548bd59c2829f9292c0e3dd52', 'message': ""Remove now-unnecessary validate=False settings\n\nvalidate=False was a hack to allow the unit tests to work without a\nfully accurate config in places where we didn't actually need such a\nthing. However, we do plugin loading late now, so it's a complete no-op.\n\nChange-Id: Icdbf28abe7eabcef522a34bff14b06311118fa3f\n""}, {'number': 2, 'created': '2017-02-25 22:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/b595b854497464767202d408c20ab95b38fad61f', 'message': ""Remove now-unnecessary validate=False settings\n\nvalidate=False was a hack to allow the unit tests to work without a\nfully accurate config in places where we didn't actually need such a\nthing. However, we do plugin loading late now, so it's a complete no-op.\n\nChange-Id: Icdbf28abe7eabcef522a34bff14b06311118fa3f\n""}, {'number': 3, 'created': '2017-02-26 15:18:21.000000000', 'files': ['os_client_config/tests/test_config.py', 'os_client_config/tests/test_init.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/11f626e4451c73f7bc64a2dafac394c2ca70a67f', 'message': ""Remove now-unnecessary validate=False settings\n\nvalidate=False was a hack to allow the unit tests to work without a\nfully accurate config in places where we didn't actually need such a\nthing. However, we do plugin loading late now, so it's a complete no-op.\n\nChange-Id: Icdbf28abe7eabcef522a34bff14b06311118fa3f\n""}]",0,438198,11f626e4451c73f7bc64a2dafac394c2ca70a67f,9,1,3,2,,,0,"Remove now-unnecessary validate=False settings

validate=False was a hack to allow the unit tests to work without a
fully accurate config in places where we didn't actually need such a
thing. However, we do plugin loading late now, so it's a complete no-op.

Change-Id: Icdbf28abe7eabcef522a34bff14b06311118fa3f
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/98/438198/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/tests/test_config.py', 'os_client_config/tests/test_init.py']",2,6dab6b8d7450d45548bd59c2829f9292c0e3dd52,unwind-osc-occ, cloud_config = os_client_config.get_config(options=None) options=argparse.ArgumentParser())," cloud_config = os_client_config.get_config( options=None, validate=False) options=argparse.ArgumentParser(), validate=False)",16,18
openstack%2Fos-client-config~master~I114622d759dee6e4e3490c6d16b342e000621979,openstack/os-client-config,master,I114622d759dee6e4e3490c6d16b342e000621979,Don't create auth plugin until get_session,ABANDONED,2017-02-25 18:10:40.000000000,2018-04-27 10:56:46.000000000,,[],"[{'number': 1, 'created': '2017-02-25 18:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/aae338c5bdb3457653bb76ced91929886f16263f', 'message': ""Don't create auth plugin until get_session\n\nThe reason we were loading the auth plugin at config read time was to\nget a list of plugin options so that we could pull them from the top\nlevel config and insert them into the auth dict. However, it's not\nactually reasonable to expect to do that for any options other than\nthose for password and token.\n\nHardcode the list of options we allow on the top level and then move\nauth plugin loading to be on-demand when someone requests an auth plugin\nor a session.\n\nChange-Id: I114622d759dee6e4e3490c6d16b342e000621979\n""}, {'number': 2, 'created': '2017-02-25 22:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/0b4764468b2761b41d3dc0fcad4fdc35eff878d1', 'message': ""Don't create auth plugin until get_session\n\nThe reason we were loading the auth plugin at config read time was to\nget a list of plugin options so that we could pull them from the top\nlevel config and insert them into the auth dict. However, it's not\nactually reasonable to expect to do that for any options other than\nthose for password and token.\n\nHardcode the list of options we allow on the top level and then move\nauth plugin loading to be on-demand when someone requests an auth plugin\nor a session.\n\nChange-Id: I114622d759dee6e4e3490c6d16b342e000621979\n""}, {'number': 3, 'created': '2017-02-26 15:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/f2050ceddcfdf67e9557cc2c264296fe54a6aeb8', 'message': ""Don't create auth plugin until get_session\n\nThe reason we were loading the auth plugin at config read time was to\nget a list of plugin options so that we could pull them from the top\nlevel config and insert them into the auth dict. However, it's not\nactually reasonable to expect to do that for any options other than\nthose for password and token.\n\nHardcode the list of options we allow on the top level and then move\nauth plugin loading to be on-demand when someone requests an auth plugin\nor a session.\n\nChange-Id: I114622d759dee6e4e3490c6d16b342e000621979\nDepends-On: I8d4dd9df0ea7364dec1a8de25d31e09d93dfa116\n""}, {'number': 4, 'created': '2017-03-07 15:40:45.000000000', 'files': ['os_client_config/config.py', 'os_client_config/tests/test_config.py', 'os_client_config/cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/c7b14a175179ebdf3bf99f85d944012d40e7b864', 'message': ""Don't create auth plugin until get_session\n\nThe reason we were loading the auth plugin at config read time was to\nget a list of plugin options so that we could pull them from the top\nlevel config and insert them into the auth dict. However, it's not\nactually reasonable to expect to do that for any options other than\nthose for password and token.\n\nHardcode the list of options we allow on the top level and then move\nauth plugin loading to be on-demand when someone requests an auth plugin\nor a session.\n\nChange-Id: I114622d759dee6e4e3490c6d16b342e000621979\nDepends-On: I8d4dd9df0ea7364dec1a8de25d31e09d93dfa116\n""}]",0,438196,c7b14a175179ebdf3bf99f85d944012d40e7b864,10,0,4,2,,,0,"Don't create auth plugin until get_session

The reason we were loading the auth plugin at config read time was to
get a list of plugin options so that we could pull them from the top
level config and insert them into the auth dict. However, it's not
actually reasonable to expect to do that for any options other than
those for password and token.

Hardcode the list of options we allow on the top level and then move
auth plugin loading to be on-demand when someone requests an auth plugin
or a session.

Change-Id: I114622d759dee6e4e3490c6d16b342e000621979
Depends-On: I8d4dd9df0ea7364dec1a8de25d31e09d93dfa116
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/96/438196/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/config.py', 'os_client_config/tests/test_config.py', 'os_client_config/cloud_config.py']",3,aae338c5bdb3457653bb76ced91929886f16263f,unwind-osc-occ,"import keystoneauth1.exceptions.auth_plugins as auth_plugin_excfrom keystoneauth1 import loading if not self._auth: loader = loading.get_plugin_loader(self.config['auth_type']) for p_opt in loader.get_options(): # See if this needs a prompting if self._openstack_config: self.config = self._openstack_config.option_prompt( self.config, p_opt) try: self._auth = loader.load_from_options(**self.config['auth']) except auth_plugin_exc.MissingRequiredOptions as e: # Normally wrapping exceptions is bad, but get_session # has historically thrown OpenStackConfigException and not # throwing it would be an API change. Also, the string of the # ksa exception contains the information needed for remediation raise exceptions.OpenStackConfigException(str(e)) auth=self.get_auth(),"," if not self._auth: raise exceptions.OpenStackConfigException( ""Problem with auth parameters"") auth=self._auth,",66,67
openstack%2Fos-client-config~master~I5ba8c1738aee3adaded404c265a26544493d6a33,openstack/os-client-config,master,I5ba8c1738aee3adaded404c265a26544493d6a33,Add helper factory functions for use in OpenStack services,ABANDONED,2017-02-28 19:18:52.000000000,2018-04-27 10:56:37.000000000,,"[{'_account_id': 2}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-02-28 19:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/99082db201a51e3fc674d2a4606c74bc904ffb59', 'message': 'Add helper factory functions for use in OpenStack services\n\nWe handle creating things correctly for end users, but for folks working\non intra-service communication inside of OpenStack, most of the logic in\nos_client_config.config - including reading env vars and clouds.yaml is\nnegatively useful.\n\nMake some simple one-hit factory functions similar to the ones in\nos_client_config/__init__.py that will just do the right thing, but\ntaking advantage of as much of the logic in CloudConfig as makes sense.\n\nChange-Id: I5ba8c1738aee3adaded404c265a26544493d6a33\n'}, {'number': 2, 'created': '2017-02-28 19:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/c0949c7ab9815d54404771068fd781e18ad0cbc3', 'message': 'Add helper factory functions for use in OpenStack services\n\nWe handle creating things correctly for end users, but for folks working\non intra-service communication inside of OpenStack, most of the logic in\nos_client_config.config - including reading env vars and clouds.yaml is\nnegatively useful.\n\nMake some simple one-hit factory functions similar to the ones in\nos_client_config/__init__.py that will just do the right thing, but\ntaking advantage of as much of the logic in CloudConfig as makes sense.\n\nChange-Id: I5ba8c1738aee3adaded404c265a26544493d6a33\n'}, {'number': 3, 'created': '2017-03-07 15:22:04.000000000', 'files': ['doc/source/index.rst', 'requirements.txt', 'doc/source/service-api.rst', 'os_client_config/exceptions.py', 'os_client_config/service.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/6d50c50b0862c523555d452154521e222062a4b7', 'message': 'Add helper factory functions for use in OpenStack services\n\nWe handle creating things correctly for end users, but for folks working\non intra-service communication inside of OpenStack, most of the logic in\nos_client_config.config - including reading env vars and clouds.yaml is\nnegatively useful.\n\nMake some simple one-hit factory functions similar to the ones in\nos_client_config/__init__.py that will just do the right thing, but\ntaking advantage of as much of the logic in CloudConfig as makes sense.\n\nChange-Id: I5ba8c1738aee3adaded404c265a26544493d6a33\n'}]",0,439120,6d50c50b0862c523555d452154521e222062a4b7,9,2,3,2,,,0,"Add helper factory functions for use in OpenStack services

We handle creating things correctly for end users, but for folks working
on intra-service communication inside of OpenStack, most of the logic in
os_client_config.config - including reading env vars and clouds.yaml is
negatively useful.

Make some simple one-hit factory functions similar to the ones in
os_client_config/__init__.py that will just do the right thing, but
taking advantage of as much of the logic in CloudConfig as makes sense.

Change-Id: I5ba8c1738aee3adaded404c265a26544493d6a33
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/20/439120/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'requirements.txt', 'doc/source/service-api.rst', 'os_client_config/exceptions.py', 'os_client_config/service.py']",5,99082db201a51e3fc674d2a4606c74bc904ffb59,occ-service-client,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from keystoneauth1 import loading from keystoneauth1 import service_token from positional import positional from os_client_config import cloud_config from os_client_config import exceptions def _get_plugin_cache(plugin_cache={}): # using {} in parameter on purpose for singleton reasons return plugin_cache def _get_session_cache(session_cache={}): # using {} in parameter on purpose for singleton reasons return session_cache def reset_cache(): # Function provided for testing to make sure global cache values are # not bleeding through. Auth plugins should be cached by key name, which # in production use should be fine. However, in tests, the same key name # might have different values in different tests. _get_plugin_cache().clear() _get_session_cache().clear() @positional(1) def get_rest_client( service_type, session=None, auth=None, conf=None, context=None, send_service_token=None, service_auth_key=None, conf_key_override=None, api_version=None, **kwargs): """"""Get REST client mounted on a service's endpoint from config entries The REST client returned is rooted on the entry in the service catalog. This means c = get_rest_client('compute', conf=CONF) should return an object set up to perform c.get('/servers') :param service_type: service_type for the service as found in the keystone catalog. Note - cinder should use 'volume' instead of volumev2 or volumev3 and should pass api_version instead. Same with mistral. :param session: Session, if one already exists that wants to be reused. If left as None, a Session will be created from the config values. :param auth: Auth plugin, if one already exists that wants to be reused. If left as None, an auth plugin will be created from the config values. If session is not None, auth will be ignored. :param conf: oslo.config CONF object :param context: A RequestContext from which to pull auth plugin. As of now, this is simply an object with a get_auth_plugin method. :param send_service_token: Whether or not to wrap user token with service user information. Defaults to unset. If service_auth_key is passed, will be set to True unless explicitly set to False. :param service_auth_key: Config group key for service auth information. Defaults to None, in which case the auth context will not be wrapped with a service user. A service user is needed to deal with token expirations when a user's auth context is being reused to make REST calls to other services and the token may expire. :param conf_key_override: Should never be needed. On the off chance that for some heinous reason the conf key used for the service config is not the same as the service_type, this is the get out of jail free card. However, its use indicates something is horribly horribly wrong with a design somewhere and someone should do something about it. :param api_version: A string containing the version of the API to be used. kwargs are passed into the underlying CloudConfig dict verbatim but are mostly there for a release valve. If it becomes necessary to use them, there is a larger design issue that should be addressed. :returns: A keystoneauth1.adapter.Adapter """""" cloud = _get_service_cloud_config( service_type, session=session, auth=auth, conf=conf, context=context, send_service_token=send_service_token, service_auth_key=service_auth_key, conf_key_override=conf_key_override, api_version=api_version, **kwargs) return cloud.get_session_client(service_type) @positional(1) def get_legacy_client( service_type, session=None, auth=None, conf=None, context=None, send_service_token=None, service_auth_key=None, conf_key_override=None, api_version=None, **kwargs): """"""Get python client Instance from client library for given service. Getting properly set up client objects is ... fun. c = get_legacy_client('compute', conf=CONF) should return a novaclient.client.Client object and 'networking' should likewise return a neutronclient.neutron.client.Client object. :param service_type: service_type for the service as found in the keystone catalog. Note - cinder should use 'volume' instead of volumev2 or volumev3 and should pass api_version instead. Same with mistral. :param session: Session, if one already exists that wants to be reused. If left as None, a Session will be created from the config values. :param auth: Auth plugin, if one already exists that wants to be reused. If left as None, an auth plugin will be created from the config values. If session is not None, auth will be ignored. :param conf: oslo.config CONF object :param context: A RequestContext from which to pull auth plugin. As of now, this is simply an object with a get_auth_plugin method. :param send_service_token: Whether or not to wrap user token with service user information. Defaults to unset. If service_auth_key is passed, will be set to True unless explicitly set to False. :param service_auth_key: Config group key for service auth information. Defaults to None, in which case the auth context will not be wrapped with a service user. A service user is needed to deal with token expirations when a user's auth context is being reused to make REST calls to other services and the token may expire. :param conf_key_override: Should never be needed. On the off chance that for some heinous reason the conf key used for the service config is not the same as the service_type, this is the get out of jail free card. However, its use indicates something is horribly horribly wrong with a design somewhere and someone should do something about it. :param api_version: A string containing the version of the API to be used. kwargs are passed into the underlying CloudConfig dict verbatim but are mostly there for a release valve. If it becomes necessary to use them, there is a larger design issue that should be addressed. :returns: A keystoneauth1.session.Session """""" cloud = _get_service_cloud_config( service_type, session=session, auth=auth, conf=conf, context=context, send_service_token=send_service_token, service_auth_key=service_auth_key, conf_key_override=conf_key_override, api_version=api_version, **kwargs) return cloud.get_legacy_client(service_type) @positional(1) def get_umounted_rest_client( conf_key, auth=None, conf=None, context=None, send_service_token=None, service_auth_key=None, missing_auth_ok=False): """"""Get Session setup with auth from CONF but not mounted on a service :param conf_key: Key name for the oslo.config section the auth and session config should come from. :param auth: Auth plugin, if one already exists that wants to be reused. If left as None, an auth plugin will be created from the config values. :param conf: oslo.config CONF object :param context: A RequestContext from which to pull auth plugin. As of now, this is simply an object with a get_auth_plugin method. :param send_service_token: Whether or not to wrap user token with service user information. Defaults to unset. If service_auth_key is passed, will be set to True unless explicitly set to False. :param service_auth_key: Config group key for service auth information. Defaults to None, in which case the auth context will not be wrapped with a service user. A service user is needed to deal with token expirations when a user's auth context is being reused to make REST calls to other services and the token may expire. :param missing_auth_ok: Whether to return an unauthenticated session if an auth context cannot be obtained. Defaults to False. :returns: A Session object created from the auth and session settings """""" return _get_session( conf_key=conf_key, auth=auth, conf=conf, context=context, send_service_token=send_service_token, service_auth_key=service_auth_key, raise_on_missing_auth=not missing_auth_ok) def _get_auth(conf, service_auth_key): if not conf: return None plugin_cache = _get_plugin_cache() auth = plugin_cache.get(service_auth_key) if not auth: auth = loading.load_auth_from_conf_options( conf, group=service_auth_key) plugin_cache[service_auth_key] = auth return auth def _get_session( conf_key, auth, conf, context=None, admin=True, send_service_token=None, service_auth_key=None, raise_on_missing_auth=True): if not service_auth_key and send_service_token: raise exceptions.OpenStackConfigAuthException( ""send_service_token was explicitly set to True, but no"" "" service_auth_key was provided."") elif send_service_token is None and service_auth_key: # service_auth_key being set and send_service_token being unset # implies send_service_token send_service_token = True session_cache_key = None if not auth: # Do not globally cache sessions based on contexts, since they # necessarily change over time. if context: if context.auth_token: auth = context.get_auth_plugin() if conf and send_service_token: user_auth = auth service_auth = _get_auth(conf, service_auth_key) auth = service_token.ServiceTokenAuthWrapper( user_auth=user_auth, service_auth=service_auth) if not auth and admin or (context and context.is_admin): # We're here either if there was no valid context in the first place, # or if the context did not have an auth_token so we fell through. # If we build the auth directly from config, it's ok to cache the # session too session_cache_key = conf_key auth = _get_auth(conf, conf_key) if not auth and raise_on_missing_auth: if not conf: raise exceptions.OpenStackConfigAuthException( ""User context did not have a token and no conf was passed"" "" in so it was not possible to authenticate"") if not admin: raise exceptions.OpenStackConfigAdminAuthException( ""User context did not have a token but admin is False so we"" "" cannot escalate to a configured admin auth context"") else: raise exceptions.OpenStackConfigAuthException( ""Could not create an auth plugin from context or config."") return _get_session_from_auth( conf, conf_key, auth=auth, session_cache_key=session_cache_key) def _get_session_from_auth(conf, conf_key, auth=None, session_cache_key=None): session = None if session_cache_key: session_cache = _get_session_cache() session = session.get(session_cache_key) if not session: session = loading.load_session_from_conf_options( conf, conf_key, auth=auth) if session_cache_key: session_cache[session_cache_key] = session return session def _get_service_cloud_config( service_type, session=None, auth=None, conf=None, context=None, send_service_token=send_service_token, service_auth_key=service_auth_key, conf_key_override=None, api_version=None, admin=False, **kwargs): conf_key = conf_key_override or service_type if not session: session = _get_session( conf_key=conf_key, auth=auth, conf=conf, send_service_token=send_service_token, service_auth_key=service_auth_key, context=context, admin=admin) region_name = kwargs.get( 'region_name', conf[conf_key].get('os_region_name', None)) interface = kwargs.get( 'interface', conf[conf_key].get('os_interface', None)) # We're not actually going through get_one_cloud or defaults here, # So we need to be able to, at times, pass through some additional # config. kwargs can be used for that. (like, image_api_version='3', for # instance config = kwargs.copy() config['interface'] = interface if api_version: version_key = '{service}_api_version'.format(service=service_type) config.setdefault(version_key, api_version) return cloud_config.CloudConfig( name='intraservice', region=region_name, config=config, auth_plugin=auth) ",,461,0
openstack%2Fnova~master~Iaeead2ee7747eb8612fa630553a5eaf63e392693,openstack/nova,master,Iaeead2ee7747eb8612fa630553a5eaf63e392693,DNM: Showing some strange behavior,ABANDONED,2018-04-26 15:57:36.000000000,2018-04-27 10:54:55.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-26 15:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5e7b3963f3587cac959e65a3a3878429bbe7868', 'message': 'DNM: Showing some strange behavior\n\nI think if a requested trait matches more than once in a selected\nRP tree then SQL using the match count to see if every trait is match\nbreaks.\n\n    #   WHERE rp.id IN ($RP_IDS_WITH_INV)\n    #   AND rptt.trait_id IN ($REQUIRED_TRAIT_IDS)\n    #   GROUP BY rp.root_provider_id\n    #   HAVING COUNT(*) == $NUM_REQUIRED_TRAITS\n\nChange-Id: Iaeead2ee7747eb8612fa630553a5eaf63e392693\n'}, {'number': 2, 'created': '2018-04-26 17:36:52.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a21e14963bf07583f453760ec79fec376398efd', 'message': 'DNM: Showing some strange behavior\n\nI think if a requested trait matches more than once in a selected\nRP tree then SQL using the match count to see if every trait is match\nbreaks.\n\n    #   WHERE rp.id IN ($RP_IDS_WITH_INV)\n    #   AND rptt.trait_id IN ($REQUIRED_TRAIT_IDS)\n    #   GROUP BY rp.root_provider_id\n    #   HAVING COUNT(*) == $NUM_REQUIRED_TRAITS\n\n...now with fix:\n\n    #   HAVING COUNT(DISTINCT(rptt.trait_id)) == $NUM_REQUIRED_TRAITS\n\nChange-Id: Iaeead2ee7747eb8612fa630553a5eaf63e392693\n'}]",0,564541,9a21e14963bf07583f453760ec79fec376398efd,17,12,2,9708,,,0,"DNM: Showing some strange behavior

I think if a requested trait matches more than once in a selected
RP tree then SQL using the match count to see if every trait is match
breaks.

    #   WHERE rp.id IN ($RP_IDS_WITH_INV)
    #   AND rptt.trait_id IN ($REQUIRED_TRAIT_IDS)
    #   GROUP BY rp.root_provider_id
    #   HAVING COUNT(*) == $NUM_REQUIRED_TRAITS

...now with fix:

    #   HAVING COUNT(DISTINCT(rptt.trait_id)) == $NUM_REQUIRED_TRAITS

Change-Id: Iaeead2ee7747eb8612fa630553a5eaf63e392693
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/564541/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'],1,f5e7b3963f3587cac959e65a3a3878429bbe7868,564541," # I know that it is not logical to have this specific trait # on the cn but I wanted to create a situation when a requested # trait is matched more than once in the given tree. _set_traits(cn, os_traits.HW_NIC_OFFLOAD_GENEVE) self.assertEqual(0, len(tree_root_ids)) #cn_names = ['cn3'] #expect_root_ids = self._get_root_ids_matching_names(cn_names) #self.assertEqual(expect_root_ids, set(tree_root_ids)) self.assertEqual(1, len(tree_root_ids)) cn_names = ['cn3'] expect_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(expect_root_ids, set(tree_root_ids)) self.assertEqual(0, len(tree_root_ids)) #cn_names = ['cn3'] #expect_root_ids = self._get_root_ids_matching_names(cn_names) #self.assertEqual(expect_root_ids, set(tree_root_ids))"," self.assertEqual(1, len(tree_root_ids)) cn_names = ['cn3'] expect_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(expect_root_ids, set(tree_root_ids)) self.assertEqual(0, len(tree_root_ids)) self.assertEqual(1, len(tree_root_ids)) cn_names = ['cn3'] expect_root_ids = self._get_root_ids_matching_names(cn_names) self.assertEqual(expect_root_ids, set(tree_root_ids))",17,9
openstack%2Fcinder~master~If389788f06a3cee75b30485e90e05745d559e2ed,openstack/cinder,master,If389788f06a3cee75b30485e90e05745d559e2ed,Add Keystone v3 domain information to context,MERGED,2018-04-20 16:26:03.000000000,2018-04-27 10:50:18.000000000,2018-04-25 18:06:08.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23871}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-20 16:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/429ec8a3748ae492e3dc6cda31405b383bed106d', 'message': 'Add Keystone v3 domain information to context\n\nKeystone v3 requires domain info to be supplied when\nmaking calls to Keystone.  Not providing this means\nthat Cinder can\'t work with deployments that only\nsupport Keystone v3.\n\n(Specifically, this fails when trying to communicate\nwith Keystone/Barbican from Cinder.)\n\nThe domain information is retrieved from HTTP headers\nprovided by Keystone and stored in our context object.\n\nThis standardizes on the terms ""user_domain"" and\n""project_domain"" instead of ""<x>_domain_id"" for our\nRequestContext object since oslo.context has deprecated\nthe latter.\n\nBut, it includes both in the dict serialization of the\ncontext, since castellan depends on project_domain_id.\n\nCloses-Bug: #1765766\nChange-Id: If389788f06a3cee75b30485e90e05745d559e2ed\n'}, {'number': 2, 'created': '2018-04-20 16:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d68e3f0b347af51e4d78f97acc9c2f8615c5656d', 'message': 'Add Keystone v3 domain information to context\n\nKeystone v3 requires domain info to be supplied when\nmaking calls to Keystone.  Not providing this means\nthat Cinder can\'t work with deployments that only\nsupport Keystone v3.\n\n(Specifically, this fails when trying to communicate\nwith Keystone/Barbican from Cinder.)\n\nThe domain information is retrieved from HTTP headers\nprovided by Keystone and stored in our context object.\n\nThis standardizes on the terms ""user_domain"" and\n""project_domain"" instead of ""<x>_domain_id"" for our\nRequestContext object since oslo.context has deprecated\nthe latter.\n\nBut, it includes both in the dict serialization of the\ncontext, since castellan depends on project_domain_id.\n\nCloses-Bug: #1765766\nChange-Id: If389788f06a3cee75b30485e90e05745d559e2ed\n'}, {'number': 3, 'created': '2018-04-25 13:38:29.000000000', 'files': ['cinder/api/middleware/auth.py', 'cinder/context.py', 'cinder/tests/unit/api/middleware/test_auth.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ddd7d8b75307f89e4dd870a6122ccfd98a65c25', 'message': 'Add Keystone v3 domain information to context\n\nKeystone v3 requires domain info to be supplied when\nmaking calls to Keystone.  Not providing this means\nthat Cinder can\'t work with deployments that only\nsupport Keystone v3.\n\n(Specifically, this fails when trying to communicate\nwith Keystone/Barbican from Cinder.)\n\nThe domain information is retrieved from HTTP headers\nprovided by Keystone and stored in our context object.\n\nThis includes both ""<x>_domain"" and ""<x>_domain_id""\nin our context object, since castellan depends on\nproject_domain_id, but oslo.context has deprecated\nproject_domain and user_domain.\n\nCloses-Bug: #1765766\nChange-Id: If389788f06a3cee75b30485e90e05745d559e2ed\n'}]",4,563181,6ddd7d8b75307f89e4dd870a6122ccfd98a65c25,69,38,3,4523,,,0,"Add Keystone v3 domain information to context

Keystone v3 requires domain info to be supplied when
making calls to Keystone.  Not providing this means
that Cinder can't work with deployments that only
support Keystone v3.

(Specifically, this fails when trying to communicate
with Keystone/Barbican from Cinder.)

The domain information is retrieved from HTTP headers
provided by Keystone and stored in our context object.

This includes both ""<x>_domain"" and ""<x>_domain_id""
in our context object, since castellan depends on
project_domain_id, but oslo.context has deprecated
project_domain and user_domain.

Closes-Bug: #1765766
Change-Id: If389788f06a3cee75b30485e90e05745d559e2ed
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/563181/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/middleware/auth.py', 'cinder/context.py', 'cinder/tests/unit/api/middleware/test_auth.py']",3,429ec8a3748ae492e3dc6cda31405b383bed106d,bug/1765766," def test_request_project_domain_id(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_PROJECT_DOMAIN_ID'] = 'domain1' self.request.get_response(self.middleware) self.assertEqual('domain1', self.context.project_domain) def test_request_project_domain_name(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_PROJECT_DOMAIN_NAME'] = 'mydomain' self.request.get_response(self.middleware) self.assertEqual('mydomain', self.context.project_domain_name) def test_request_user_domain_id(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_USER_DOMAIN_ID'] = 'domain2' self.request.get_response(self.middleware) self.assertEqual('domain2', self.context.user_domain) def test_request_project_domain_name(self): self.request.headers['X_USER_ID'] = 'testuserid' self.request.headers['X_USER_DOMAIN_NAME'] = 'mydomain2' self.request.get_response(self.middleware) self.assertEqual('mydomain2', self.context.user_domain_name)",,48,2
openstack%2Fnetworking-ovn~master~I05c5775d1d8bc9f264ed234dbdb84ab3c428c356,openstack/networking-ovn,master,I05c5775d1d8bc9f264ed234dbdb84ab3c428c356,Merge tempest tests on a single run,MERGED,2018-04-25 12:49:48.000000000,2018-04-27 10:35:20.000000000,2018-04-27 10:35:20.000000000,"[{'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-25 12:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/95b10ce388de82d1dfeca32453f0a7f7e6ebaddc', 'message': ""Merge tempest tests on a single run\n\nPrior to this patch in gate we had 3 tempest tests runs:\n\n* networking-ovn-tempest-dsvm-ovs-master\n* networking-ovn-tempest-dsvm-ovs-release\n* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release\n\nThe last one from the list was created as a separated job because many\nof it's tests were failing. Now, that job is voting already so I think\nwe could merge the API and Scenario tests into the normal tempest tests\nthat already existed in the gate.\n\nThis will minimize the use of resources from infra and also expand the\ncoverage of the API and Scenario tests by also running against master OVS\n(before it only ran against the released version of OVS).\n\nChange-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356\n""}, {'number': 2, 'created': '2018-04-25 13:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a4da4ebe7921f5e17643aca3175d28475f94dd3c', 'message': ""Merge tempest tests on a single run\n\nPrior to this patch in gate we had 3 tempest tests runs:\n\n* networking-ovn-tempest-dsvm-ovs-master\n* networking-ovn-tempest-dsvm-ovs-release\n* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release\n\nThe last one from the list was created as a separated job because many\nof it's tests were failing. Now, that job is voting already so I think\nwe could merge the API and Scenario tests into the normal tempest tests\nthat already existed in the gate.\n\nThis will minimize the use of resources from infra and also expand the\ncoverage of the API and Scenario tests by also running against master OVS\n(before it only ran against the released version of OVS).\n\nChange-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356\n""}, {'number': 3, 'created': '2018-04-25 14:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9d74c74943aaeb2605fc8901a5d0033cfafd0a0f', 'message': ""Merge tempest tests on a single run\n\nPrior to this patch in gate we had 3 tempest tests runs:\n\n* networking-ovn-tempest-dsvm-ovs-master\n* networking-ovn-tempest-dsvm-ovs-release\n* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release\n\nThe last one from the list was created as a separated job because many\nof it's tests were failing. Now, that job is voting already so I think\nwe could merge the API and Scenario tests into the normal tempest tests\nthat already existed in the gate.\n\nThis will minimize the use of resources from infra and also expand the\ncoverage of the API and Scenario tests by also running against master OVS\n(before it only ran against the released version of OVS).\n\nChange-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356\n""}, {'number': 4, 'created': '2018-04-25 14:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b0877bf4f5d4a843717c4c5e4af66dc50e3d499b', 'message': ""Merge tempest tests on a single run\n\nPrior to this patch in gate we had 3 tempest tests runs:\n\n* networking-ovn-tempest-dsvm-ovs-master\n* networking-ovn-tempest-dsvm-ovs-release\n* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release\n\nThe last one from the list was created as a separated job because many\nof it's tests were failing. Now, that job is voting already so I think\nwe could merge the API and Scenario tests into the normal tempest tests\nthat already existed in the gate.\n\nThis will minimize the use of resources from infra and also expand the\ncoverage of the API and Scenario tests by also running against master OVS\n(before it only ran against the released version of OVS).\n\nChange-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356\n""}, {'number': 5, 'created': '2018-04-26 08:26:36.000000000', 'files': ['devstack/devstackgaterc', 'playbooks/legacy/tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-master/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release/post.yaml', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-multinode/run.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-master-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-centos7/run.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/976d3d3cdb92abc06cab6c88c26a0d16dfc85f1d', 'message': ""Merge tempest tests on a single run\n\nPrior to this patch in gate we had 3 tempest tests runs:\n\n* networking-ovn-tempest-dsvm-ovs-master\n* networking-ovn-tempest-dsvm-ovs-release\n* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release\n\nThe last one from the list was created as a separated job because many\nof it's tests were failing. Now, that job is voting already so I think\nwe could merge the API and Scenario tests into the normal tempest tests\nthat already existed in the gate.\n\nThis will minimize the use of resources from infra and also expand the\ncoverage of the API and Scenario tests by also running against master OVS\n(before it only ran against the released version of OVS).\n\nChange-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356\n""}]",0,564196,976d3d3cdb92abc06cab6c88c26a0d16dfc85f1d,17,4,5,6773,,,0,"Merge tempest tests on a single run

Prior to this patch in gate we had 3 tempest tests runs:

* networking-ovn-tempest-dsvm-ovs-master
* networking-ovn-tempest-dsvm-ovs-release
* tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release

The last one from the list was created as a separated job because many
of it's tests were failing. Now, that job is voting already so I think
we could merge the API and Scenario tests into the normal tempest tests
that already existed in the gate.

This will minimize the use of resources from infra and also expand the
coverage of the API and Scenario tests by also running against master OVS
(before it only ran against the released version of OVS).

Change-Id: I05c5775d1d8bc9f264ed234dbdb84ab3c428c356
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/564196/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'playbooks/legacy/tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-neutron-api-scenario-ovs-release/post.yaml', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'zuul.d/project.yaml']",5,95b10ce388de82d1dfeca32453f0a7f7e6ebaddc,merge-tempest,, - networking-ovn-tempest-dsvm-neutron-api-scenario-ovs-release - networking-ovn-tempest-dsvm-neutron-api-scenario-ovs-release,4,106
openstack%2Fneutron~master~I5becda7dd3d2a2ff4883fc4265eb35882173b1c0,openstack/neutron,master,I5becda7dd3d2a2ff4883fc4265eb35882173b1c0,Increase lower-constraints job timeout to 60 minutes,MERGED,2018-04-26 15:46:22.000000000,2018-04-27 10:33:01.000000000,2018-04-27 10:33:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 15:46:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8ab93b846c5c5c1c0cd44cd95653bb76f271fce', 'message': 'Increase lower-constraints job timeout to 60 minutes\n\nThe openstack-tox-lower-constraints job is timing out\na lot at the 40 minute mark, increase to 60 minutes\nto try and stabilize it.\n\nChange-Id: I5becda7dd3d2a2ff4883fc4265eb35882173b1c0\n'}]",0,564536,a8ab93b846c5c5c1c0cd44cd95653bb76f271fce,14,5,1,1131,,,0,"Increase lower-constraints job timeout to 60 minutes

The openstack-tox-lower-constraints job is timing out
a lot at the 40 minute mark, increase to 60 minutes
to try and stabilize it.

Change-Id: I5becda7dd3d2a2ff4883fc4265eb35882173b1c0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/564536/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a8ab93b846c5c5c1c0cd44cd95653bb76f271fce,lower-constraints-timeout,setenv = OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:60},,1,0
openstack%2Fopenstack-ansible-specs~master~Id5b991c6982609931a7befb1a2a3e74363a3024c,openstack/openstack-ansible-specs,master,Id5b991c6982609931a7befb1a2a3e74363a3024c,specs: rocky: Add new openstack-distribution-packages specification,MERGED,2018-03-27 12:01:55.000000000,2018-04-27 10:12:18.000000000,2018-04-27 10:12:18.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9061}, {'_account_id': 14805}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-27 12:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/53f35f3e50a8c7618d63ad4a79685a589bca4b03', 'message': 'specs: rocky: Add new openstack-distribution-packages specification\n\nAdd new Rocky specification for binary installations\n\nImplements blueprint: openstack-distribution-packages\nChange-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c\n'}, {'number': 2, 'created': '2018-03-28 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/eb8e0c3c1cdfec5e2556f60803432ea9b8aca24c', 'message': 'specs: rocky: Add new openstack-distribution-packages specification\n\nAdd new Rocky specification for installing OpenStack services using the\ndistribution packages.\n\nImplements blueprint: openstack-distribution-packages\nChange-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c\n'}, {'number': 3, 'created': '2018-04-05 12:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/b8edb6217d6749cc3d01bdbcd33652ace40d4795', 'message': 'specs: rocky: Add new openstack-distribution-packages specification\n\nAdd new Rocky specification for installing OpenStack services using the\ndistribution packages.\n\nImplements blueprint: openstack-distribution-packages\nChange-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c\n'}, {'number': 4, 'created': '2018-04-12 12:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/c1872b37c348ae513176b870a6b4e91c08463edb', 'message': 'specs: rocky: Add new openstack-distribution-packages specification\n\nAdd new Rocky specification for installing OpenStack services using the\ndistribution packages.\n\nImplements blueprint: openstack-distribution-packages\nChange-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c\n'}, {'number': 5, 'created': '2018-04-13 09:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/fe267324eff106562f2fea8ddf72e5e4ea4cf02b', 'message': 'specs: rocky: Add new openstack-distribution-packages specification\n\nAdd new Rocky specification for installing OpenStack services using the\ndistribution packages.\n\nImplements blueprint: openstack-distribution-packages\nChange-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c\n'}, {'number': 6, 'created': '2018-04-13 15:23:32.000000000', 'files': ['specs/rocky/openstack-distribution-packages.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/bc4dbd855ebc3424a6793a0e3af30c41c7c33339', 'message': 'specs: rocky: Add new openstack-distribution-packages specification\n\nAdd new Rocky specification for installing OpenStack services using the\ndistribution packages.\n\nImplements blueprint: openstack-distribution-packages\nChange-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c\n'}]",24,556832,bc4dbd855ebc3424a6793a0e3af30c41c7c33339,35,10,6,23163,,,0,"specs: rocky: Add new openstack-distribution-packages specification

Add new Rocky specification for installing OpenStack services using the
distribution packages.

Implements blueprint: openstack-distribution-packages
Change-Id: Id5b991c6982609931a7befb1a2a3e74363a3024c
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/32/556832/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/openstack-distribution-packages.rst'],1,53f35f3e50a8c7618d63ad4a79685a589bca4b03,bp/openstack-distribution-packages,"Install OpenStack services from distribution packages ####################################################### :date: 2018-03-27 00:00 :tags: roles, deployment Blueprint on Launchpad * https://blueprints.launchpad.net/openstack-ansible/+spec/openstack-distribution-packages This spec outlines the work required to enable the OpenStack-Ansible roles to install the OpenStack services using the binary packages from the distribution repositories. Problem description =================== OpenStack-Ansible installs the OpenStack services from the source. Whilst this is great in terms of flexibility, it creates some problems such as: * Long deployment times since wheel packages need to be build and distributed. * Unsupported installations by distributions. The versions of OpenStack services built from source do not necessarily match what distributions test together as part of their integration and verification process so it's hard for them to provide support for such installations. As a result of which, operators have limited options when seeking technical support for their deployments. Proposed change =============== Add an additional installation method to all the OpenStack-Ansible roles in which the services will be installed using the packages provided by the distributions themselves. Alternatives ------------ N/A Playbook/Role impact -------------------- All the OpenStack Ansible roles which install OpenStack services (os_*) will be impacted by the proposed change. The installation method will have to be decoupled from the current playbook and allow the deployer to select the preferred installation method. Upgrade impact -------------- Upgrades should not be impacted since the default installation method will not change. Switching from one installation method to the other wil not be supported. This can be clarified on the Deployer's documentation and also explicitly detected and prevented in the Ansible playbooks. Security impact --------------- The security of the overall installation will not change since distributions normally backport security fixes which are already present in the upstream packages so both installations methods will offer the same level of security reassurances. Performance impact ------------------ The overall performance of the deployment will likely be improved since the distribution packages normally have their default settings tweaked and optimized to match each distribution's environment and needs. End user impact --------------- N/A Deployer impact --------------- The benefit of this new method for deployer's is twofold: - Use supported packages by distributions and provide feedback back to them. This benefits both distributions and operators since both ends use packages which have passed integration and functional testing before being released. - Shorten deployment times since binary packages are used instead of building new ones from source. Developer impact ---------------- N/A Dependencies ------------ N/A Implementation ============== Assignee(s) ----------- Primary assignee: Markos Chandras (hwoarang) Work items ---------- The following work items are the same across all impacted roles * Move existing installation tasks to new playbook * Add new playbook for binary installations * Add new variable to allow deployers to select installation method * Use the appropriate installation playbook based on the variable's value Testing ======= Since the default installation method does not change, no new tests are required. However, developers may choose to add new jobs on per distribution basis to test the binary installation method. are implemented. Documentation impact ==================== Documentation needs to be modified to explain how to use the 'binary' installation method. References ========== N/A ",,130,0
openstack%2Fqinling~master~Ia7a44943ba439425f81da1b6727c129a31590a72,openstack/qinling,master,Ia7a44943ba439425f81da1b6727c129a31590a72,Functional test for creating function version,MERGED,2018-04-27 04:44:52.000000000,2018-04-27 10:10:30.000000000,2018-04-27 10:10:30.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-04-27 04:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/dc3dba0ac0cd97337e49a10aaf720daff8004b90', 'message': '[WIP] Functional test for creating function version\n\nChange-Id: Ia7a44943ba439425f81da1b6727c129a31590a72\nStory: 2001829\nTask: 14456\n'}, {'number': 2, 'created': '2018-04-27 07:52:00.000000000', 'files': ['qinling_tempest_plugin/tests/api/test_function_versions.py', 'qinling_tempest_plugin/services/qinling_client.py', 'qinling_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/2be2b431524a73a3d4ef28a623b3b4c2c4f3e0be', 'message': 'Functional test for creating function version\n\nChange-Id: Ia7a44943ba439425f81da1b6727c129a31590a72\nStory: 2001829\nTask: 14456\n'}]",2,564673,2be2b431524a73a3d4ef28a623b3b4c2c4f3e0be,11,4,2,6732,,,0,"Functional test for creating function version

Change-Id: Ia7a44943ba439425f81da1b6727c129a31590a72
Story: 2001829
Task: 14456
",git fetch https://review.opendev.org/openstack/qinling refs/changes/73/564673/2 && git format-patch -1 --stdout FETCH_HEAD,"['qinling_tempest_plugin/tests/api/test_function_versions.py', 'qinling_tempest_plugin/services/qinling_client.py', 'qinling_tempest_plugin/tests/base.py']",3,dc3dba0ac0cd97337e49a10aaf720daff8004b90,functional-test-function-version," def setUp(self): super(BaseQinlingTest, self).setUp() self.name_prefix = self.__class__.__name__ def update_function_package(self, function_id, function_path): package_path = self.create_package(name=function_path) base_name, _ = os.path.splitext(package_path) module_name = os.path.basename(base_name) with open(package_path, 'rb') as package_data: resp, _ = self.client.update_function( function_id, package_data=package_data, entry='%s.main' % module_name ) self.assertEqual(200, resp.status_code) def create_function_version(self, function_id=None): if not function_id: function_id = self.create_function() resp, body = self.client.create_function_version(function_id) self.assertEqual(201, resp.status) version = body['version_number'] self.addCleanup(self.client.delete_function_version, function_id, version, ignore_notfound=True) return version",,150,0
openstack%2Fqinling~master~Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b,openstack/qinling,master,Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b,Function version API: scale_up/scale_down/detach/get_workers,MERGED,2018-04-25 13:14:18.000000000,2018-04-27 10:10:28.000000000,2018-04-27 10:10:28.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 13:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/5aa2fe6d71dd81035d1deb2f6be88ffb7220fd70', 'message': 'Function version API: scale_up/scale_down/detach/get_workers\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 2, 'created': '2018-04-25 23:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/59a6f23fcdd31b9694e418fdfabe5d8c34ec7e80', 'message': 'Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 3, 'created': '2018-04-26 00:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/c85cd3d82f229cdc42ada75ca7887dd2d133dd08', 'message': 'Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 4, 'created': '2018-04-26 04:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/ccf577d114c848b09e2a44f13f11db9096aa5414', 'message': 'Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 5, 'created': '2018-04-26 05:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/1beac0fafd8006a2a7c7a06318e65746dfda2c5b', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 6, 'created': '2018-04-26 11:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/f6d66999e1d5075b50cf646a5a9dd8c1d3de33c9', 'message': 'Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 7, 'created': '2018-04-26 23:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/57255d17302fb133a50d215b1af7e714c3efcf47', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 8, 'created': '2018-04-27 00:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/a6e61247b1433016efb55a77d07ef3ab617e2f22', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 9, 'created': '2018-04-27 02:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/7668562cf4276eb88b3906ef45737aa25380c12f', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 10, 'created': '2018-04-27 02:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/f134187047811fe49ea1044575a1bd2997693a55', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 11, 'created': '2018-04-27 03:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/524a3608ed3ac906553b22d7b10634e7b191b610', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 12, 'created': '2018-04-27 04:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/f5ceb0d334cba72dd6a112b78b1c8025603537fc', 'message': '[WIP] Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}, {'number': 13, 'created': '2018-04-27 06:51:39.000000000', 'files': ['qinling/api/controllers/v1/function.py', 'qinling/tests/unit/api/base.py', 'qinling/utils/executions.py', 'qinling/tests/unit/api/controllers/v1/test_function_version.py', 'etc/policy.json.sample', 'qinling/api/controllers/v1/resources.py', 'qinling/db/sqlalchemy/models.py', 'qinling/api/controllers/v1/function_version.py', 'qinling/services/periodics.py', 'qinling/tests/unit/api/controllers/v1/test_function_worker.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/08ded02123cb46e48d4fcbe8d4254b13cd4a8802', 'message': 'Function version API: scale_up/scale_down/detach/get_workers\n\nThis patch adds some other API for function version:\n\n- scale_up function version workers\n- scale_down function version workers\n- detach function version from workers\n- get all workers for function version\n\nThis patch also fixes a unit test bug that job handler should be\ndisabled for api tests.\n\nChange-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b\nStory: 2001829\nTask: 14438\n'}]",1,564203,08ded02123cb46e48d4fcbe8d4254b13cd4a8802,35,3,13,6732,,,0,"Function version API: scale_up/scale_down/detach/get_workers

This patch adds some other API for function version:

- scale_up function version workers
- scale_down function version workers
- detach function version from workers
- get all workers for function version

This patch also fixes a unit test bug that job handler should be
disabled for api tests.

Change-Id: Ibd8e195bf8fa0f878cfe0bd8f777c820f4b2f24b
Story: 2001829
Task: 14438
",git fetch https://review.opendev.org/openstack/qinling refs/changes/03/564203/9 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/api/controllers/v1/function.py', 'qinling/tests/unit/api/controllers/v1/test_function_version.py', 'etc/policy.json.sample', 'qinling/api/controllers/v1/resources.py', 'qinling/api/controllers/v1/function_version.py', 'qinling/tests/unit/api/controllers/v1/test_function_worker.py']",6,5aa2fe6d71dd81035d1deb2f6be88ffb7220fd70,version-other-operations," @mock.patch('qinling.utils.etcd_util.get_workers') def test_get_all_version_workers(self, mock_get_workers): function_id = uuidutils.generate_uuid() mock_get_workers.return_value = ['test_worker0', 'test_worker1'] resp = self.app.get( '/v1/functions/%s/workers?function_version=1' % function_id ) self.assertEqual(200, resp.status_int) mock_get_workers.assert_called_once_with(function_id, version=1) self._assert_multiple_items( resp.json['workers'], 2, function_id=function_id, function_version=1 ) self._assert_single_item( resp.json['workers'], worker_name='test_worker0' ) self._assert_single_item( resp.json['workers'], worker_name='test_worker1' ) def test_get_all_version_workers_not_int(self): function_id = uuidutils.generate_uuid() resp = self.app.get( '/v1/functions/%s/workers?function_version=invalid' % function_id, expect_errors=True ) self.assertEqual(400, resp.status_int)",,221,4
openstack%2Fkolla-ansible~master~I4f863750a7806a7b6eaf13900d44e5f063afe3de,openstack/kolla-ansible,master,I4f863750a7806a7b6eaf13900d44e5f063afe3de,Configure Infoblox as an IPAM driver for neutron,MERGED,2018-03-21 19:49:26.000000000,2018-04-27 10:07:46.000000000,2018-04-27 10:07:46.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 13671}, {'_account_id': 16520}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 26089}, {'_account_id': 26556}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-21 19:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c104ad0298c9643d92a6d621b860211dd70b28c', 'message': ""Configure Infoblox as an IPAM driver for neutron\n\nThis patch allows configuration of the Infoblox\npluggable IPAM driver in neutron [0].\n\nWhen 'infoblox' is chosen as the driver, an Infoblox\nIPAM agent will be started by default.  The agent\nallows for enhanced DNS capabilities by listening\nfor neutron and nova notifications.\n\n[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst\n\nChange-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de\nDepends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 2, 'created': '2018-03-26 13:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c8bb51cc4b3db3dd798bfe38d3c7ce4f2af66b61', 'message': ""Configure Infoblox as an IPAM driver for neutron\n\nThis patch allows configuration of the Infoblox\npluggable IPAM driver in neutron [0].\n\nWhen 'infoblox' is chosen as the driver, an Infoblox\nIPAM agent will be started by default.  The agent\nallows for enhanced DNS capabilities by listening\nfor neutron and nova notifications.\n\n[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst\n\nChange-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de\nDepends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 3, 'created': '2018-03-27 12:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/448970d53b66a230aa5511840c7a410e3735fa62', 'message': ""Configure Infoblox as an IPAM driver for neutron\n\nThis patch allows configuration of the Infoblox\npluggable IPAM driver in neutron [0].\n\nWhen 'infoblox' is chosen as the driver, an Infoblox\nIPAM agent will be started by default.  The agent\nallows for enhanced DNS capabilities by listening\nfor neutron and nova notifications.\n\n[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst\n\nChange-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de\nDepends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 4, 'created': '2018-04-12 10:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee096357f460c9a7f663da3598011ad4d8a35a99', 'message': ""Configure Infoblox as an IPAM driver for neutron\n\nThis patch allows configuration of the Infoblox\npluggable IPAM driver in neutron [0].\n\nWhen 'infoblox' is chosen as the driver, an Infoblox\nIPAM agent will be started by default.  The agent\nallows for enhanced DNS capabilities by listening\nfor neutron and nova notifications.\n\n[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst\n\nChange-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de\nDepends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 5, 'created': '2018-04-12 19:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63b4a67ff97ee9efdce5207e49b4dab438447f32', 'message': ""Configure Infoblox as an IPAM driver for neutron\n\nThis patch allows configuration of the Infoblox\npluggable IPAM driver in neutron [0].\n\nWhen 'infoblox' is chosen as the driver, an Infoblox\nIPAM agent will be started by default.  The agent\nallows for enhanced DNS capabilities by listening\nfor neutron and nova notifications.\n\n[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst\n\nChange-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de\nDepends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 6, 'created': '2018-04-20 13:20:58.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/neutron/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/inventory/all-in-one', 'ansible/roles/nova/templates/nova.conf.j2', 'releasenotes/notes/add-neutron-ipam-driver-infoblox-3621f44bb0017e91.yaml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/handlers/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml', 'ansible/roles/neutron/templates/neutron-infoblox-ipam-agent.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f69b3cbc66eafaaec1920ceb85255d0f84aa6a4', 'message': ""Configure Infoblox as an IPAM driver for neutron\n\nThis patch allows configuration of the Infoblox\npluggable IPAM driver in neutron [0].\n\nWhen 'infoblox' is chosen as the driver, an Infoblox\nIPAM agent can be started as well.  The agent\nallows for enhanced DNS capabilities by listening\nfor neutron and nova notifications.\n\n[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst\n\nChange-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de\nDepends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}]",3,555032,2f69b3cbc66eafaaec1920ceb85255d0f84aa6a4,35,12,6,26089,,,0,"Configure Infoblox as an IPAM driver for neutron

This patch allows configuration of the Infoblox
pluggable IPAM driver in neutron [0].

When 'infoblox' is chosen as the driver, an Infoblox
IPAM agent can be started as well.  The agent
allows for enhanced DNS capabilities by listening
for neutron and nova notifications.

[0] https://github.com/openstack/networking-infoblox/blob/master/README.rst

Change-Id: I4f863750a7806a7b6eaf13900d44e5f063afe3de
Depends-On: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b
Partially-Implements: blueprint neutron-ipam-driver-infoblox
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/555032/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/neutron/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/inventory/all-in-one', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/handlers/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/neutron/templates/neutron-infoblox-ipam-agent.json.j2']",12,4c104ad0298c9643d92a6d621b860211dd70b28c,bp/neutron-ipam-driver-infoblox,"{ ""command"": ""infoblox-ipam-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/neutron.conf"", ""dest"": ""/etc/neutron/neutron.conf"", ""owner"": ""neutron"", ""perm"": ""0600"" }, { ""source"": ""{{ container_config_directory }}/ml2_conf.ini"", ""dest"": ""/etc/neutron/plugins/ml2/ml2_conf.ini"", ""owner"": ""neutron"", ""perm"": ""0600"" } ], ""permissions"": [ { ""path"": ""/var/log/kolla/neutron"", ""owner"": ""neutron:neutron"", ""recurse"": true }, { ""path"": ""/var/lib/neutron/kolla"", ""owner"": ""neutron:neutron"", ""recurse"": true } ] } ",,122,3
openstack%2Fswift~feature%2Fdeep~I4e1961c13be301381907885579d4137cd0a9b16a,openstack/swift,feature/deep,I4e1961c13be301381907885579d4137cd0a9b16a,Stop internal client txn_id bleeding into sharder logs,MERGED,2018-04-26 12:47:23.000000000,2018-04-27 10:03:45.000000000,2018-04-27 10:03:45.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 12:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0181ddea27e70997e7ae1456acba6e7692f5d44', 'message': 'Stop internal client txn_id bleeding into sharder logs\n\nThe LogAdapter txn_id is stored in a threading.local object that is a\nclass attribute, so all instances of the LogAdapter in same thread\nwill pick up the txn_id set in another instance. That means that after\nthe internal client has been used to make a request, all subsequent\nsharder logs include the request txn_id.\n\nThe txn_id might be useful if an error occurs in _fetch_shard_ranges\nbut is annoying elsewhere.\n\nChange-Id: I4e1961c13be301381907885579d4137cd0a9b16a\n'}, {'number': 2, 'created': '2018-04-26 20:18:47.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/069733c86ba9f8e4eeeff3d2e15f45a6847eaca2', 'message': 'Stop internal client txn_id bleeding into sharder logs\n\nThe LogAdapter txn_id is stored in a threading.local object that is a\nclass attribute, so all instances of the LogAdapter in same thread\nwill pick up the txn_id set in another instance. That means that after\nthe internal client has been used to make a request, all subsequent\nsharder logs include the request txn_id.\n\nThe txn_id might be useful if an error occurs in _fetch_shard_ranges\nbut is annoying elsewhere.\n\nChange-Id: I4e1961c13be301381907885579d4137cd0a9b16a\n'}]",0,564488,069733c86ba9f8e4eeeff3d2e15f45a6847eaca2,9,3,2,7847,,,0,"Stop internal client txn_id bleeding into sharder logs

The LogAdapter txn_id is stored in a threading.local object that is a
class attribute, so all instances of the LogAdapter in same thread
will pick up the txn_id set in another instance. That means that after
the internal client has been used to make a request, all subsequent
sharder logs include the request txn_id.

The txn_id might be useful if an error occurs in _fetch_shard_ranges
but is annoying elsewhere.

Change-Id: I4e1961c13be301381907885579d4137cd0a9b16a
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/564488/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,c0181ddea27e70997e7ae1456acba6e7692f5d44,564488," self.int_client = internal_client.InternalClient( path = self.int_client.make_path(broker.root_account, broker.root_container) try: resp = self.int_client.make_request( 'GET', path, headers, acceptable_statuses=(2,), params=params) except internal_client.UnexpectedResponse as err: self.logger.warning(""Failed to get shard ranges from %s: %s"", broker.root_path, err) return None record_type = resp.headers.get('x-backend-record-type') if record_type != 'shard': err = 'unexpected record type %r' % record_type self.logger.error(""Failed to get shard ranges from %s: %s"", broker.root_path, err) return None try: data = json.loads(resp.body) if not isinstance(data, list): raise ValueError('not a list') return [ShardRange.from_dict(shard_range) for shard_range in data] except (ValueError, TypeError, KeyError) as err: self.logger.error( ""Failed to get shard ranges from %s: invalid data: %r"", broker.root_path, err) return None finally: self.logger.txn_id = None"," self.swift = internal_client.InternalClient( path = self.swift.make_path(broker.root_account, broker.root_container) resp = self.swift.make_request( 'GET', path, headers, acceptable_statuses=(2,), params=params) except internal_client.UnexpectedResponse as err: self.logger.warning(""Failed to get shard ranges from %s: %s"", broker.root_path, err) return None record_type = resp.headers.get('x-backend-record-type') if record_type != 'shard': err = 'unexpected record type %r' % record_type self.logger.error(""Failed to get shard ranges from %s: %s"", broker.root_path, err) return None try: data = json.loads(resp.body) if not isinstance(data, list): raise ValueError('not a list') return [ShardRange.from_dict(shard_range) for shard_range in data] except (ValueError, TypeError, KeyError) as err: self.logger.error( ""Failed to get shard ranges from %s: invalid data: %r"", broker.root_path, err) return None",30,25
openstack%2Fcharm-vault~master~Id8fa1cbe33feccc9c2f06a61db22453d7830730d,openstack/charm-vault,master,Id8fa1cbe33feccc9c2f06a61db22453d7830730d,Add support for new secrets:vault-kv interface,MERGED,2018-04-20 11:51:48.000000000,2018-04-27 09:57:31.000000000,2018-04-27 09:57:31.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 11:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b5d6a19d8c022d9f3ef44477fe835f638907ab8c', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 2, 'created': '2018-04-23 15:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f93c2b9935076d70d6515b07bda4f497e254b7ea', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 3, 'created': '2018-04-24 14:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/156978b2777a86431c94fb74e1a9a20e437a283a', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 4, 'created': '2018-04-25 11:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f8c7c4db97ae2b6716d6f41555ee69414598b925', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 5, 'created': '2018-04-26 16:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/30cd44c0c1b24208862fd35cf231babe3d349258', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 6, 'created': '2018-04-26 16:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/035271076973ada352cdb1a7a085061b366246da', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 7, 'created': '2018-04-27 08:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/037e7a31d5f010302746980df3f35e90a7dc69af', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}, {'number': 8, 'created': '2018-04-27 08:21:22.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'unit_tests/test_lib_charm_vault.py', 'src/templates/vault.hcl.j2', 'src/metadata.yaml', 'src/actions/actions.py', 'src/reactive/vault_handlers.py', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/28fb89a44b0c32a9a7425ac498a20f1c55810720', 'message': 'Add support for new secrets:vault-kv interface\n\nProvide implementation for the provides endpoint of the vault-kv\ntyped interface.\n\nThis interface type will setup a KV secret backend and create an\napprole and policy to allow remote services to access the backend\nusing the Vault API.\n\nBackends may be shared between remote units, allowing any unit to\naccess any value in the backend, or may be isolated between units\nbased on path suffixing using the units hostname so that stored\nsecrets are not visible between units of a deployment.\n\nChange-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d\n'}]",0,563091,28fb89a44b0c32a9a7425ac498a20f1c55810720,28,4,8,935,,,0,"Add support for new secrets:vault-kv interface

Provide implementation for the provides endpoint of the vault-kv
typed interface.

This interface type will setup a KV secret backend and create an
approle and policy to allow remote services to access the backend
using the Vault API.

Backends may be shared between remote units, allowing any unit to
access any value in the backend, or may be isolated between units
based on path suffixing using the units hostname so that stored
secrets are not visible between units of a deployment.

Change-Id: Id8fa1cbe33feccc9c2f06a61db22453d7830730d
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/91/563091/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/vault.hcl.j2', 'src/metadata.yaml', 'src/lib/charm/vault_secrets.py', 'src/reactive/vault_handlers.py', 'src/layer.yaml']",5,b5d6a19d8c022d9f3ef44477fe835f638907ab8c,key-manager-vault, - layer:leadership - interface:vault-kv,,152,3
openstack%2Foslo.privsep~master~I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8,openstack/oslo.privsep,master,I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8,Make method configurable,ABANDONED,2017-06-22 12:17:23.000000000,2018-04-27 09:53:07.000000000,,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-06-22 12:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/8af9f08d12e4651eb8f642837eb5c26dc1011277', 'message': 'Make method configurable\n\nWith this change, it is possible to have the privsep config section for\nthe privcontext specify which privsep method should be used.\n\nChange-Id: I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 2, 'created': '2017-06-22 12:26:44.000000000', 'files': ['oslo_privsep/priv_context.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/c467f3db7782f4d5b6e538640c641113a83d6441', 'message': 'Make method configurable\n\nWith this change, it is possible to have the privsep config section for\nthe privcontext specify which privsep method should be used.\n\nRelated-Bug: 1673832\nChange-Id: I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",1,476489,c467f3db7782f4d5b6e538640c641113a83d6441,14,5,2,14352,,,0,"Make method configurable

With this change, it is possible to have the privsep config section for
the privcontext specify which privsep method should be used.

Related-Bug: 1673832
Change-Id: I29dba7a80c3a9f0877a2ee33b7ca32cd112aeff8
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/89/476489/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/priv_context.py'],1,8af9f08d12e4651eb8f642837eb5c26dc1011277,bug/1673832," cfg.StrOpt('method', help=_('Whether to use the ""fork"" or the ""rootwrap"" method'), default='ROOTWRAP'), def start(self, method=None): if method in None: method = getattr(Method, self.conf.method, Method.ROOTWRAP) "," def start(self, method=Method.ROOTWRAP):",7,1
openstack%2Fswift~feature%2Fdeep~I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d,openstack/swift,feature/deep,I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d,Parameterize SQL args,MERGED,2018-04-26 23:57:15.000000000,2018-04-27 09:50:32.000000000,2018-04-27 09:50:32.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 23:57:15.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bef2a855d2b3192647663fcea0731c4fb41620e7', 'message': ""Parameterize SQL args\n\n'Cause I want to have shard ranges with quotes in them LIKE A CRAZY PERSON.\n\nChange-Id: I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d\n""}]",0,564651,bef2a855d2b3192647663fcea0731c4fb41620e7,6,2,1,15343,,,0,"Parameterize SQL args

'Cause I want to have shard ranges with quotes in them LIKE A CRAZY PERSON.

Change-Id: I18f84caf2eb4fe17fbe28d7cb5d65cec4da7474d
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/564651/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,bef2a855d2b3192647663fcea0731c4fb41620e7,," params = [] conditions.append('state in (%s)' % ','.join( '?' * len(included_states))) params.extend(included_states) if excluded_states: conditions.append('state not in (%s)' % ','.join( '?' * len(excluded_states))) params.extend(excluded_states) if not include_own: conditions.append('name != ?') params.append(self.path) if exclude_others: conditions.append('name = ?') params.append(self.path) data = conn.execute(sql, params)"," state_list = ','.join([str(st) for st in included_states]) conditions.append('state in (%s)' % state_list) if excluded_states: state_list = ','.join([str(st) for st in excluded_states]) conditions.append('state not in (%s)' % state_list) if not include_own: conditions.append('name!=""%s""' % self.path) if exclude_others: conditions.append('name=""%s""' % self.path) data = conn.execute(sql)",12,7
openstack%2Fcharm-vault~master~Ia335c3a711cf371c42483ae86980b256a07ad21d,openstack/charm-vault,master,Ia335c3a711cf371c42483ae86980b256a07ad21d,Misc tidy post major changes,MERGED,2018-04-26 16:17:45.000000000,2018-04-27 09:45:26.000000000,2018-04-27 09:45:26.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 16:17:45.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/34714a92ae11c3f0ed439db082d5e59280e8544a', 'message': ""Misc tidy post major changes\n\nRestore setting of flag 'configured' once vault has had an initial\nconfiguration set.\n\nDrop @when_not('configured') as we always want to rewrite the\nvault configuration file - but we only restart it when its changed\nnow!\n\nDrop handlers for etcd states - really not needed as configuration\nis not longer guarded with @when_not('configured').\n\nAdd missing patch for service enable call in configure function.\n\nChange-Id: Ia335c3a711cf371c42483ae86980b256a07ad21d\n""}]",0,564544,34714a92ae11c3f0ed439db082d5e59280e8544a,9,4,1,935,,,0,"Misc tidy post major changes

Restore setting of flag 'configured' once vault has had an initial
configuration set.

Drop @when_not('configured') as we always want to rewrite the
vault configuration file - but we only restart it when its changed
now!

Drop handlers for etcd states - really not needed as configuration
is not longer guarded with @when_not('configured').

Add missing patch for service enable call in configure function.

Change-Id: Ia335c3a711cf371c42483ae86980b256a07ad21d
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/44/564544/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,34714a92ae11c3f0ed439db082d5e59280e8544a,misc-tidy, set_flag('configured')," context['disable_mlock'] = config()['disable-mlock'] context['ssl_available'] = is_state('vault.ssl.available')@when_not('configured')@when_not('configured')@when_not('etcd.local.configured') @when('etcd.available') def etcd_setup(etcd): log(""Detected etcd.available, removing configured"", level=DEBUG) remove_state('configured') remove_state('etcd.local.unconfigured') set_state('etcd.local.configured') @when_not('etcd.local.unconfigured') @when_not('etcd.available') def etcd_not_ready(): log(""Detected etcd_not_ready, removing configured"", level=DEBUG) set_state('etcd.local.unconfigured') remove_state('etcd.local.configured') remove_state('configured') ",2,22
openstack%2Fzun~master~I388548a1c15e61b62e802da634c7be8697ff05b9,openstack/zun,master,I388548a1c15e61b62e802da634c7be8697ff05b9,Unify the format of list response,MERGED,2018-03-07 04:00:25.000000000,2018-04-27 09:45:07.000000000,2018-04-27 09:45:07.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 04:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5f92f02139f0a0da9922b9f76320a14e62b9f2f5', 'message': 'Unify the format of list response\n\nChange the format of container_actions response for consistency\nwith other APIs. Right now, all the list response is of the\nfollowing format:\n\n  {""xxx"" [{...}, ...]}\n\nChange-Id: I388548a1c15e61b62e802da634c7be8697ff05b9\n'}, {'number': 2, 'created': '2018-04-11 02:33:46.000000000', 'files': ['api-ref/source/samples/container-actions-list-resp.json', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/d99faddc5ab6f1858cb9cf716ea1a8e602bb4ce9', 'message': 'Unify the format of list response\n\nChange the format of container_actions response for consistency\nwith other APIs. Right now, all the list response is of the\nfollowing format:\n\n  {""xxx"" [{...}, ...]}\n\nChange-Id: I388548a1c15e61b62e802da634c7be8697ff05b9\n'}]",0,550320,d99faddc5ab6f1858cb9cf716ea1a8e602bb4ce9,10,4,2,11536,,,0,"Unify the format of list response

Change the format of container_actions response for consistency
with other APIs. Right now, all the list response is of the
following format:

  {""xxx"" [{...}, ...]}

Change-Id: I388548a1c15e61b62e802da634c7be8697ff05b9
",git fetch https://review.opendev.org/openstack/zun refs/changes/20/550320/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/container-actions-list-resp.json', 'zun/api/controllers/v1/containers.py']",2,5f92f02139f0a0da9922b9f76320a14e62b9f2f5,," return {""containerActions"": actions}", return actions,23,22
openstack%2Fproject-config~master~I661c5a10b0497fd9112daea6d4737a5d15dc8b79,openstack/project-config,master,I661c5a10b0497fd9112daea6d4737a5d15dc8b79,ignore the series_status.yaml when processing release requests,MERGED,2018-04-25 20:59:27.000000000,2018-04-27 09:41:46.000000000,2018-04-27 09:41:46.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-25 20:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/489a545202c89b5facf990db640f58c64aff60db', 'message': 'ignore the series_status.yaml when processing release requests\n\nThe series_status.yaml file does not contain release data so\nprocess_release_requests.py should ignore it.\n\nChange-Id: I661c5a10b0497fd9112daea6d4737a5d15dc8b79\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-26 13:06:01.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/process_release_requests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/394cf0c4e34d980be76c7dbac1345251d16962a3', 'message': 'ignore the series_status.yaml when processing release requests\n\nThe series_status.yaml file does not contain release data so\nprocess_release_requests.py should ignore it.\n\nChange-Id: I661c5a10b0497fd9112daea6d4737a5d15dc8b79\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564342,394cf0c4e34d980be76c7dbac1345251d16962a3,11,5,2,2472,,,0,"ignore the series_status.yaml when processing release requests

The series_status.yaml file does not contain release data so
process_release_requests.py should ignore it.

Change-Id: I661c5a10b0497fd9112daea6d4737a5d15dc8b79
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/564342/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/copy-release-tools-scripts/files/release-tools/process_release_requests.py'],1,489a545202c89b5facf990db640f58c64aff60db,ignore-series-status, if l.startswith('deliverables/') and not l.endswith('series_status.yaml'), if l.startswith('deliverables/'),1,1
openstack%2Ftripleo-heat-templates~stable%2Focata~I5beb00c28d72a6c28d62b915b5285d3b543910f0,openstack/tripleo-heat-templates,stable/ocata,I5beb00c28d72a6c28d62b915b5285d3b543910f0,Change ovs RuntimeDirectory Mode,ABANDONED,2018-04-18 08:43:51.000000000,2018-04-27 09:35:26.000000000,,"[{'_account_id': 11391}, {'_account_id': 18575}, {'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-18 08:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d88d9018ba60ac78e2101ad2c69d45028dd1df2c', 'message': ""Change ovs RuntimeDirectory Mode\n\nwhen updating ovs to 2.8+, ovs and qemu share the\nsame group hugetlbfs, but for existing vhostusermode\ninterfaces located at /var/run/openvswitch dir, qemu\ncan't access them after ovs update, because the dir\nhas default 0755 mode instead of a group write\npermission. This change is going to add g+w mode to\n/var/run/openvswitch.\n\nRelated-Bug: #1764971\nChange-Id: I5beb00c28d72a6c28d62b915b5285d3b543910f0\n""}, {'number': 2, 'created': '2018-04-25 09:24:00.000000000', 'files': ['extraconfig/tasks/pacemaker_common_functions.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4d16690c83d2835dc8ceab4ca9ea74fb02855ed', 'message': ""Change ovs RuntimeDirectory Mode\n\nwhen updating ovs to 2.8+, ovs and qemu share the\nsame group hugetlbfs, but for existing vhostusermode\ninterfaces located at /var/run/openvswitch dir, qemu\ncan't access them after ovs update, because the dir\nhas default 0755 mode instead of a group write\npermission. This change is going to add g+w mode to\n/var/run/openvswitch.\n\nRelated-Bug: #1764971\nChange-Id: I5beb00c28d72a6c28d62b915b5285d3b543910f0\n""}]",2,562148,a4d16690c83d2835dc8ceab4ca9ea74fb02855ed,11,5,2,21151,,,0,"Change ovs RuntimeDirectory Mode

when updating ovs to 2.8+, ovs and qemu share the
same group hugetlbfs, but for existing vhostusermode
interfaces located at /var/run/openvswitch dir, qemu
can't access them after ovs update, because the dir
has default 0755 mode instead of a group write
permission. This change is going to add g+w mode to
/var/run/openvswitch.

Related-Bug: #1764971
Change-Id: I5beb00c28d72a6c28d62b915b5285d3b543910f0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/562148/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/pacemaker_common_functions.sh'],1,d88d9018ba60ac78e2101ad2c69d45028dd1df2c,bug/1764971," ovs_service_path=""/usr/lib/systemd/system/ovs-vswitchd.service"" grep -q ""RuntimeDirectoryMode=.*"" $ovs_service_path if [ ""$?"" -eq 0 ]; then sed -i 's/RuntimeDirectoryMode=.*/RuntimeDirectoryMode=0775/' $ovs_service_path else echo ""RuntimeDirectoryMode=0775"" >> $ovs_service_path fi",,7,0
openstack%2Fpython-zunclient~master~Ic7e643727631c737a16549903cf9bebcb7ebffcd,openstack/python-zunclient,master,Ic7e643727631c737a16549903cf9bebcb7ebffcd,Trivial: Update pypi url to new url,MERGED,2018-04-20 10:26:43.000000000,2018-04-27 09:33:12.000000000,2018-04-27 09:33:12.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 10:26:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/fa9caa063aa4d076375ab9ff907bc1737a3215d4', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ic7e643727631c737a16549903cf9bebcb7ebffcd\n'}]",0,563066,fa9caa063aa4d076375ab9ff907bc1737a3215d4,7,3,1,23630,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic7e643727631c737a16549903cf9bebcb7ebffcd
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/66/563066/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,fa9caa063aa4d076375ab9ff907bc1737a3215d4,update-pypi-url, :target: https://pypi.org/project/python-zunclient/.. _PyPi: https://pypi.org/project/python-zunclient, :target: https://pypi.python.org/pypi/python-zunclient/.. _PyPi: https://pypi.python.org/pypi/python-zunclient,2,2
openstack%2Fhorizon~master~I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4,openstack/horizon,master,I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4,Imported Translations from Zanata,MERGED,2018-04-27 07:33:20.000000000,2018-04-27 09:32:46.000000000,2018-04-27 09:32:46.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 07:33:20.000000000', 'files': ['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/96e7c33c1ca174cee4a31bd91a205bfcee9ce27f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4\n'}]",0,564690,96e7c33c1ca174cee4a31bd91a205bfcee9ce27f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9e3261b1f9a19be318e5b4bfc2611af73b0fe5b4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/564690/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,96e7c33c1ca174cee4a31bd91a205bfcee9ce27f,zanata/translations,"""POT-Creation-Date: 2018-04-26 12:48+0000\n""""PO-Revision-Date: 2018-04-26 02:58+0000\n""msgid ""14.0.0.0b1-17"" msgstr ""14.0.0.0b1-17""""[`blueprint application-credentials <https://blueprints.launchpad.net/"" ""horizon/+spec/application-credentials>`_] Adds a new panel for creating, "" ""viewing, and deleting keystone application credentials."" msgstr """" ""[`blueprint application-credentials <https://blueprints.launchpad.net/"" ""horizon/+spec/application-credentials>`_] Adds a new panel for creating, "" ""viewing, and deleting Keystone application credentials."" msgid """"","""POT-Creation-Date: 2018-04-25 19:09+0000\n""""PO-Revision-Date: 2018-04-25 07:46+0000\n""msgid ""14.0.0.0b1-16"" msgstr ""14.0.0.0b1-16""",152,6
openstack%2Fpython-zunclient~master~Ibb63e1e27c7568952bfc2b9780471bb2b39cc956,openstack/python-zunclient,master,Ibb63e1e27c7568952bfc2b9780471bb2b39cc956,Rename `appcontainer update` to `appcontainer set`,MERGED,2018-04-02 05:25:50.000000000,2018-04-27 09:32:03.000000000,2018-04-27 09:32:03.000000000,"[{'_account_id': 11536}, {'_account_id': 21785}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-04-02 05:25:50.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/0957ab3593a5517e7f14511967a2c9d81acbe2aa', 'message': 'Rename `appcontainer update` to `appcontainer set`\n\nChange-Id: Ibb63e1e27c7568952bfc2b9780471bb2b39cc956\nCloses-bug: #1760215\n'}]",0,558159,0957ab3593a5517e7f14511967a2c9d81acbe2aa,7,4,1,10206,,,0,"Rename `appcontainer update` to `appcontainer set`

Change-Id: Ibb63e1e27c7568952bfc2b9780471bb2b39cc956
Closes-bug: #1760215
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/59/558159/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0957ab3593a5517e7f14511967a2c9d81acbe2aa,bug/1760215, appcontainer_set = zunclient.osc.v1.containers:UpdateContainer, appcontainer_update = zunclient.osc.v1.containers:UpdateContainer,1,1
openstack%2Fopenstack-ansible-os_keystone~master~I8621614a9b9e747dde3ff0e8cea1ac2494dadbac,openstack/openstack-ansible-os_keystone,master,I8621614a9b9e747dde3ff0e8cea1ac2494dadbac,templates: keystone-uwsgi: Allow uwsgi to autoload required plugins.,MERGED,2018-04-11 08:25:23.000000000,2018-04-27 09:30:16.000000000,2018-04-27 09:30:16.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-11 08:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/23739dcb60c657db28bace1c553cc6e12e9a962e', 'message': 'templates: keystone-uwsgi: Explicitly load the required uwsgi plugins\n\nDistributions normally package uwsgi in a modular fashion so we need\nto be explicit of what plugins we need in order to run the application.\n\nChange-Id: I8621614a9b9e747dde3ff0e8cea1ac2494dadbac\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 2, 'created': '2018-04-17 09:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4535fcd0573cce8215293096cea37d830043d08a', 'message': 'templates: keystone-uwsgi: Explicitly load the required uwsgi plugins\n\nDistributions normally package uwsgi in a modular fashion so we need\nto be explicit of what plugins we need in order to run the application.\n\nChange-Id: I8621614a9b9e747dde3ff0e8cea1ac2494dadbac\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 3, 'created': '2018-04-17 17:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/bd3e0f1a20f08b6abdb6676c9151fb1476d0d6e9', 'message': ""templates: keystone-uwsgi: Allow uwsgi to autoload required plugins.\n\nDistributions normally package uwsgi in a modular fashion so we need\nto be use the 'autoload' option to allow it to load all the required\nplugins.\n\nChange-Id: I8621614a9b9e747dde3ff0e8cea1ac2494dadbac\nImplements: blueprint openstack-distribution-packages\n""}, {'number': 4, 'created': '2018-04-19 09:38:32.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1fb579d05ebc0c5e6f32784f0a8cd5836cf162a7', 'message': ""templates: keystone-uwsgi: Allow uwsgi to autoload required plugins.\n\nDistributions normally package uwsgi in a modular fashion so we need\nto be use the 'autoload' option to allow it to load all the required\nplugins.\n\nChange-Id: I8621614a9b9e747dde3ff0e8cea1ac2494dadbac\nImplements: blueprint openstack-distribution-packages\n""}]",0,560307,1fb579d05ebc0c5e6f32784f0a8cd5836cf162a7,34,5,4,23163,,,0,"templates: keystone-uwsgi: Allow uwsgi to autoload required plugins.

Distributions normally package uwsgi in a modular fashion so we need
to be use the 'autoload' option to allow it to load all the required
plugins.

Change-Id: I8621614a9b9e747dde3ff0e8cea1ac2494dadbac
Implements: blueprint openstack-distribution-packages
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/07/560307/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-uwsgi.ini.j2'],1,23739dcb60c657db28bace1c553cc6e12e9a962e,bp/openstack-distribution-packages,"plugin = python,http ",,2,0
openstack%2Fnova~master~Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c,openstack/nova,master,Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c,Address nits in I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f,MERGED,2018-04-16 02:03:25.000000000,2018-04-27 09:25:04.000000000,2018-04-24 17:58:27.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-16 02:03:25.000000000', 'files': ['nova/tests/unit/test_utils.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b33f24b4995dca2a0b4b8405af0fb13ff50f9ab4', 'message': 'Address nits in I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f\n\nChange-Id: Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c\n'}]",0,561493,b33f24b4995dca2a0b4b8405af0fb13ff50f9ab4,34,15,1,20722,,,0,"Address nits in I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f

Change-Id: Ie832b2bbd3e1b057bfd2bca33b960eb857d4820c
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/561493/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_utils.py', 'nova/utils.py']",2,b33f24b4995dca2a0b4b8405af0fb13ff50f9ab4,bp/add-host-to-instance-action-events," return """""," else: return """"",3,4
openstack%2Fmistral-tempest-plugin~master~Id935265fcbe0a3072ba2d693edf54b892173fbdf,openstack/mistral-tempest-plugin,master,Id935265fcbe0a3072ba2d693edf54b892173fbdf,Adds the force parameter to delete executions,MERGED,2018-04-25 14:29:27.000000000,2018-04-27 09:22:46.000000000,2018-04-27 09:22:46.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 14:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/17ca072379c0d6f27e26a00cf4e4b4c36dc5e7d0', 'message': 'Adds the force parameter to delete executions\n\nChange-Id: Id935265fcbe0a3072ba2d693edf54b892173fbdf\n'}, {'number': 2, 'created': '2018-04-26 06:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/d72fb3bf9d39c06e2d8e2c3cb216f65f11236811', 'message': 'Adds the force parameter to delete executions\n\nThis is an intermediary step so the tests can work with or without\nthe force parameter. Once the force parameter has landed in mistral\nI will remove the try except from this implementation.\n\nChange-Id: Id935265fcbe0a3072ba2d693edf54b892173fbdf\n'}, {'number': 3, 'created': '2018-04-26 09:10:49.000000000', 'files': ['mistral_tempest_tests/tests/api/v2/test_executions.py', 'mistral_tempest_tests/tests/base.py', 'mistral_tempest_tests/tests/api/v2/test_tasks.py', 'mistral_tempest_tests/services/base.py'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/3a1b40ff15b73ca05ab2565e7217f281dbadad9e', 'message': 'Adds the force parameter to delete executions\n\nThis is an intermediary step so the tests can work with or without\nthe force parameter. Once the force parameter has landed in mistral\nI will remove the try except from this implementation.\n\nChange-Id: Id935265fcbe0a3072ba2d693edf54b892173fbdf\n'}]",0,564237,3a1b40ff15b73ca05ab2565e7217f281dbadad9e,16,4,3,15895,,,0,"Adds the force parameter to delete executions

This is an intermediary step so the tests can work with or without
the force parameter. Once the force parameter has landed in mistral
I will remove the try except from this implementation.

Change-Id: Id935265fcbe0a3072ba2d693edf54b892173fbdf
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/37/564237/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_tempest_tests/tests/api/v2/test_executions.py', 'mistral_tempest_tests/tests/base.py', 'mistral_tempest_tests/tests/api/v2/test_tasks.py', 'mistral_tempest_tests/services/base.py']",4,17ca072379c0d6f27e26a00cf4e4b4c36dc5e7d0,bug/1598135," def delete_obj(self, obj, name, force=None): if force: return self.delete('{obj}/{name}?force={force}'.format( obj=obj, name=name, force=bool(force)) ) "," def delete_obj(self, obj, name):",16,5
openstack%2Fgovernance~master~Ife3934bbb2686fca94eb28b5591c36567b90b58c,openstack/governance,master,Ife3934bbb2686fca94eb28b5591c36567b90b58c,Import ansible-role-container-registry in tripleo,MERGED,2018-04-20 17:32:02.000000000,2018-04-27 09:12:59.000000000,2018-04-27 09:12:59.000000000,"[{'_account_id': 308}, {'_account_id': 782}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 17:32:02.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/c0fac0c0d41e073cf1f2e15473553201f116b5e0', 'message': 'Import ansible-role-container-registry in tripleo\n\nThis role has to replace the puppet code that used to deploy and\nconfigure Docker and Docker Registry.\nWe aim to make a generic role that can be re-used by the community.\n\nDepends-On: Ie23e36bfa8451275e460100ab4776bf5aa8efa54\nChange-Id: Ife3934bbb2686fca94eb28b5591c36567b90b58c\n'}]",0,563198,c0fac0c0d41e073cf1f2e15473553201f116b5e0,11,14,1,3153,,,0,"Import ansible-role-container-registry in tripleo

This role has to replace the puppet code that used to deploy and
configure Docker and Docker Registry.
We aim to make a generic role that can be re-used by the community.

Depends-On: Ie23e36bfa8451275e460100ab4776bf5aa8efa54
Change-Id: Ife3934bbb2686fca94eb28b5591c36567b90b58c
",git fetch https://review.opendev.org/openstack/governance refs/changes/98/563198/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,c0fac0c0d41e073cf1f2e15473553201f116b5e0,ansible-docker-gerrit, ansible-role-container-registry: repos: - openstack/ansible-role-container-registry,,3,0
openstack%2Fkolla-ansible~master~I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4,openstack/kolla-ansible,master,I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4,Fix SSL api for multiple services,MERGED,2018-02-12 15:24:04.000000000,2018-04-27 08:55:48.000000000,2018-04-27 08:55:48.000000000,"[{'_account_id': 7488}, {'_account_id': 11221}, {'_account_id': 11869}, {'_account_id': 18368}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26297}, {'_account_id': 26556}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-02-12 15:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6abbbd54e1e77e6c9f3fc75a7e294071242be138', 'message': 'Fix SSL api for glance and cinder\n\nIf SSL is enable, api of glance and cinder return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\n'}, {'number': 2, 'created': '2018-02-12 16:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5baf1994118d362344c8204b0c9fe5df31b56dce', 'message': '[WIP] Fix SSL api for multiple services\n\nIf SSL is enable, api of glance, cinder and murano return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\n'}, {'number': 3, 'created': '2018-02-12 16:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1f75f01f8f01d327ba1eacd3d7729f33c9285ed', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enable, api of multiple services return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\n'}, {'number': 4, 'created': '2018-02-12 17:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c801603c2b9340ad07d28dcf17ea758357ba2dfe', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enable, api of multiple services return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\n'}, {'number': 5, 'created': '2018-02-12 17:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8fec8bef02d15f6a47732165352dc5ffd6899ca4', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enable, api of multiple services return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\n'}, {'number': 6, 'created': '2018-02-12 18:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a60c49713396dee3f780d3228ef27859e3701c25', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enable, api of multiple services return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\n'}, {'number': 7, 'created': '2018-02-13 10:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de8ffb65f74969ea4d779e09018b39d3163e93ba', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enable, api of multiple services return wrong external URL without https prefix\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 8, 'created': '2018-02-13 13:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7272d9f0d07c6ea180616aea7b91de845b368e9', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enable, api of multiple services return\nwrong external URL without https prefix.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 9, 'created': '2018-02-26 09:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/166adff880b61a4971be0f037357220e15fe5cfd', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 10, 'created': '2018-02-26 09:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e08c3969356eecf7cd04f83e8c00874b5ffe52e', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 11, 'created': '2018-03-05 14:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac983135608203776118f352f26cc6b09aaf2817', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 12, 'created': '2018-03-05 14:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef29b463ea14ca7a87b4f33bdaadbe4e05fd35fd', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 13, 'created': '2018-03-05 16:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51ee84695e2f275d69cbff442781562b23f7f83b', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nRemoval of condition for heat because this check comes from\na bad understanding about this option.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 14, 'created': '2018-03-06 10:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74cf8a4fbb59bebde21500f9b42137461d5d1ff9', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 15, 'created': '2018-03-15 09:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86a38a3648888252d7db913a5e7abb205ddb4920', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nRemoval of condition for deletion of http  header.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 16, 'created': '2018-03-26 08:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b753eab1902dc280205db72011ea1476184c210', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nRemoval of condition for deletion of http  header.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\n'}, {'number': 17, 'created': '2018-03-26 08:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef1d87ed771b45b7d9fd37e5925ba92b43df40d4', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nRemoval of condition for deletion of http  header.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\nCloses-Bug: #1717491\n'}, {'number': 18, 'created': '2018-04-18 10:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fe255cf7b8186e3d45d89a6f82b2410a45feaf6', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nRemoval of condition for deletion of http  header.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\nCloses-Bug: #1717491\n'}, {'number': 19, 'created': '2018-04-18 15:20:46.000000000', 'files': ['ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/karbor/templates/karbor.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/congress/templates/congress.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a81a5d5d5d0f6f84d17850b50dc35585738853d6', 'message': 'Fix SSL api for multiple services\n\nIf SSL is enabled, api of multiple services returns\nwrong external URL without https prefix.\n\nRemoval of condition for deletion of http  header.\n\nChange-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4\nCloses-Bug: #1749155\nCloses-Bug: #1717491\n'}]",52,543488,a81a5d5d5d0f6f84d17850b50dc35585738853d6,61,11,19,18368,,,0,"Fix SSL api for multiple services

If SSL is enabled, api of multiple services returns
wrong external URL without https prefix.

Removal of condition for deletion of http  header.

Change-Id: I4264e04d0d6b9a3e11ef7dd7add6c5e166cf9fb4
Closes-Bug: #1749155
Closes-Bug: #1717491
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/543488/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2']",3,6abbbd54e1e77e6c9f3fc75a7e294071242be138,bug/1749155,secure_proxy_ssl_header = HTTP_X_FORWARDED_PROTO ,,7,0
openstack%2Fopenstack-ansible-os_tacker~master~Icd8165fdcfd802b4d0b73fc6074975b90a993ccd,openstack/openstack-ansible-os_tacker,master,Icd8165fdcfd802b4d0b73fc6074975b90a993ccd,Do not log passwords,MERGED,2018-04-23 09:33:36.000000000,2018-04-27 08:54:34.000000000,2018-04-27 01:50:30.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25284}]","[{'number': 1, 'created': '2018-04-23 09:33:36.000000000', 'files': ['tasks/tacker_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/aaba56e52dde82420bd9553f75fab2f9cbebaccb', 'message': 'Do not log passwords\n\nThis prevents data to be leaked into the callback plugin.\n\nChange-Id: Icd8165fdcfd802b4d0b73fc6074975b90a993ccd\n'}]",0,563548,aaba56e52dde82420bd9553f75fab2f9cbebaccb,24,6,1,25284,,,0,"Do not log passwords

This prevents data to be leaked into the callback plugin.

Change-Id: Icd8165fdcfd802b4d0b73fc6074975b90a993ccd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/48/563548/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tacker_service_setup.yml'],1,aaba56e52dde82420bd9553f75fab2f9cbebaccb,do_not_log_passwords, no_log: True no_log: True no_log: True no_log: True,,4,0
openstack%2Ftripleo-docs~master~Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531,openstack/tripleo-docs,master,Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531,Docs: Enrich integration with ironic networking features,MERGED,2018-04-12 11:36:27.000000000,2018-04-27 08:53:02.000000000,2018-04-27 08:53:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 11:36:27.000000000', 'files': ['doc/source/install/environments/baremetal.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0ff50693bdcb729d7744ced48f87a37203169246', 'message': 'Docs: Enrich integration with ironic networking features\n\nUpdate instackenv.json documentation to reflect changes in:\nhttps://review.openstack.org/556490\n\nChange-Id: Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531\nImplements: blueprint enrich-ironic-networking-integration\nDepends-On: I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\n'}]",0,560868,0ff50693bdcb729d7744ced48f87a37203169246,7,4,1,24245,,,0,"Docs: Enrich integration with ironic networking features

Update instackenv.json documentation to reflect changes in:
https://review.openstack.org/556490

Change-Id: Ib44e7e501dc91fb3bcca7d36db1f73a4f1147531
Implements: blueprint enrich-ironic-networking-integration
Depends-On: I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/68/560868/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/environments/baremetal.rst'],1,0ff50693bdcb729d7744ced48f87a37203169246,bp/enrich-ironic-networking-integration,"* ``ports`` - list of baremetal port objects, a map specifying the following keys: address, physical_network (optional) and local_link_connection (optional). Optional for bare metal. Example:: ""ports"": [ { ""address"": ""52:54:00:87:c8:2f"", ""physical_network"": ""physical-network"", ""local_link_connection"": { ""switch_info"": ""switch"", ""port_id"": ""gi1/0/11"", ""switch_id"": ""a6:18:66:33:cb:48"" } } ] { ""nodes"": [ { ""name"": ""node-a"", ""pm_type"": ""ipmi"", ""ports"": [ { ""address"": ""fa:16:3e:2a:0e:36"", ""physical_network"": ""ctlplane"" } ], ""cpu"": ""2"", ""memory"": ""4096"", ""disk"": ""40"", ""arch"": ""x86_64"", ""pm_user"": ""admin"", ""pm_password"": ""password"", ""pm_addr"": ""10.0.0.8"", ""_comment"": ""Room 1 - Rack A - Unit 22/24"" }, { ""name"": ""node-b"", ""pm_type"": ""ipmi"", ""ports"": [ { ""address"": ""fa:16:3e:da:39:c9"", ""physical_network"": ""ctlplane"" } ], ""cpu"": ""2"", ""memory"": ""4096"", ""disk"": ""40"", ""arch"": ""x86_64"", ""pm_user"": ""admin"", ""pm_password"": ""password"", ""pm_addr"": ""10.0.0.15"", ""_comment"": ""Room 1 - Rack A - Unit 26/28"" }, { ""name"": ""node-n"", ""pm_type"": ""ipmi"", ""ports"": [ { ""address"": ""fa:16:3e:51:9b:68"", ""physical_network"": ""leaf1"" } ], ""cpu"": ""2"", ""memory"": ""4096"", ""disk"": ""40"", ""arch"": ""x86_64"", ""pm_user"": ""admin"", ""pm_password"": ""password"", ""pm_addr"": ""10.0.0.16"", ""_comment"": ""Room 1 - Rack B - Unit 10/12"" } ] } ","* ``mac`` - list of MAC addresses, optional for bare metal { ""nodes"": [ { ""name"":""node-a"", ""pm_type"":""ipmi"", ""mac"":[ ""fa:16:3e:2a:0e:36"" ], ""cpu"":""2"", ""memory"":""4096"", ""disk"":""40"", ""arch"":""x86_64"", ""pm_user"":""admin"", ""pm_password"":""password"", ""pm_addr"":""10.0.0.8"", ""_comment"": ""Room 1 - Rack A - Unit 22/24"" }, { ""name"":""node-b"", ""pm_type"":""ipmi"", ""mac"":[ ""fa:16:3e:da:39:c9"" ], ""cpu"":""2"", ""memory"":""4096"", ""disk"":""40"", ""arch"":""x86_64"", ""pm_user"":""admin"", ""pm_password"":""password"", ""pm_addr"":""10.0.0.15"", ""_comment"": ""Room 1 - Rack A - Unit 26/28"" }, { ""name"":""node-n"", ""pm_type"":""ipmi"", ""mac"":[ ""fa:16:3e:51:9b:68"" ], ""cpu"":""2"", ""memory"":""4096"", ""disk"":""40"", ""arch"":""x86_64"", ""pm_user"":""admin"", ""pm_password"":""password"", ""pm_addr"":""10.0.0.16"", ""_comment"": ""Room 1 - Rack B - Unit 10/12"" } ] }",74,50
openstack%2Fopenstack-ansible-repo_build~master~I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,openstack/openstack-ansible-repo_build,master,I4468092eb5c86d6346a793ba1e2bfc6e772de3bb,Do not use an index for a venv with no git sources,MERGED,2018-04-26 16:23:26.000000000,2018-04-27 08:51:38.000000000,2018-04-27 08:18:30.000000000,"[{'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-26 16:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/482bcd88645362579216b9da2d13a7e2e3d25f91', 'message': 'Do not use an index for a venv with no git sources\n\nWhen building a venv with no git sources, currently the venv build\nexecutes without constraints as it uses the default pypi index.\n\nThis patch ensures that if there is no git source, then the --no-index\nsetting will still be applied.\n\nChange-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n'}, {'number': 2, 'created': '2018-04-26 17:03:13.000000000', 'files': ['templates/venv-build-options.txt.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/040ee2e1284586dcdf27538129ef3d3d1a4907b4', 'message': 'Do not use an index for a venv with no git sources\n\nWhen building a venv with no git sources, currently the venv build\nexecutes without constraints as it uses the default pypi index.\n\nThis patch ensures that if there is no git source, then the --no-index\nsetting will still be applied.\n\nChange-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb\n'}]",2,564549,040ee2e1284586dcdf27538129ef3d3d1a4907b4,15,5,2,6816,,,0,"Do not use an index for a venv with no git sources

When building a venv with no git sources, currently the venv build
executes without constraints as it uses the default pypi index.

This patch ensures that if there is no git source, then the --no-index
setting will still be applied.

Change-Id: I4468092eb5c86d6346a793ba1e2bfc6e772de3bb
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/49/564549/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/venv-build-options.txt.j2'],1,482bcd88645362579216b9da2d13a7e2e3d25f91,,"{% set venv_service_name = item['role_name'] | replace('os_', '') %}ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ venv_service_name }}""ROLE_VENV_FILE=""{{ venv_service_name }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% set remote_package_parts = local_packages.results.0.item.remote_package_parts %}{# We need to verify whether there are any git sources which apply to the #} {# role. If there are not, then we need not bother with any of this. #}{% set git_source_available = ((remote_package_parts | selectattr('name', 'equalto', venv_service_name)) | list) | length > 0 %} {% if git_source_available | bool %} {% for clone_item in local_packages.results.0.item.remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %} {# #} {# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %} {# #} {# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{% endif %} {% else %} {# If not true, then venvwithindex is set to boolean false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{# If not set, then assume that venvwithindex is false #}{% endfor %} {% else %} {# If there is no git source available, then we should not be using any #} {# upstream indexes either. #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index"" {% endif %}","ROLE_VENV_PATH=""{{ repo_build_venv_build_dir }}/venvs/{{ item['role_name'] | replace('os_', '') }}""ROLE_VENV_FILE=""{{ item['role_name'] | replace('os_', '') }}-{{ repo_build_release_tag }}-{{ ansible_architecture | lower }}""{% for clone_item in local_packages.results.0.item.remote_package_parts %}{# Loop through the remote_package_parts to find the role #} {% if clone_item['name'] == item['role_name'] | replace('os_', '') %}{# Check whether there is a venvwithindex setting #} {% if clone_item['original'] | search('venvwithindex') %}{# Check if venvwithindex is set to boolean true #} {% set venvwithindex=clone_item['original'] | regex_replace('(?i).*venvwithindex=(true|false).*', '\\1') %} {% if venvwithindex | bool %}{# Add the extra indexes if they're defined #} {% if repo_build_pip_default_index is defined %}{% endif %} {% if repo_build_pip_extra_indexes is defined %}{# If not true, then venvwithindex is set to boolean false #}{% else %} {# If not set, then assume that venvwithindex is false #} PIP_INDEX_OPTIONS=""${PIP_INDEX_OPTIONS} --no-index""{% endif %} {% endfor %}",33,20
openstack%2Fmonasca-agent~stable%2Fqueens~If52b52efab6cc14a7df583b1dc2596b04e6813bc,openstack/monasca-agent,stable/queens,If52b52efab6cc14a7df583b1dc2596b04e6813bc,Allow Keystone config in init_config for http check,MERGED,2018-04-25 05:47:28.000000000,2018-04-27 08:46:26.000000000,2018-04-27 08:46:26.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 05:47:28.000000000', 'files': ['monasca_agent/collector/checks_d/http_check.py', 'conf.d/http_check.yaml.example', 'docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/89d31cc2664fe4ec5315cd8940d932ece93cf106', 'message': 'Allow Keystone config in init_config for http check\n\nNow the user will be able to configure one, default Keystone for all\nservices in `http_check.yml` instead of providing them one by one for\nevery instance.\n\nSetting Keystone config in every instance is marked as depreciated.\n\nStory: 2001843\nTask: 12610\n\nChange-Id: If52b52efab6cc14a7df583b1dc2596b04e6813bc\n(cherry picked from commit e13de8083e90170b9a90000b534bfd1c1cc88551)\n'}]",0,564106,89d31cc2664fe4ec5315cd8940d932ece93cf106,9,2,1,21922,,,0,"Allow Keystone config in init_config for http check

Now the user will be able to configure one, default Keystone for all
services in `http_check.yml` instead of providing them one by one for
every instance.

Setting Keystone config in every instance is marked as depreciated.

Story: 2001843
Task: 12610

Change-Id: If52b52efab6cc14a7df583b1dc2596b04e6813bc
(cherry picked from commit e13de8083e90170b9a90000b534bfd1c1cc88551)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/06/564106/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/http_check.py', 'conf.d/http_check.yaml.example', 'docs/Plugins.md']",3,89d31cc2664fe4ec5315cd8940d932ece93cf106,key_config-stable/queens,"Similar to other checks, the configuration is done in YAML, and consists of two keys: `init_config` and `instances`. In the former, you can provide Keystone configuration for checks to retrieve token for authentication that will be used for all checks. While the later contains one or more URLs to check, plus optional parameters like a timeout, username/password, pattern to match against the HTTP response body, whether or not to include the HTTP response in the metric (as a 'detail' dimension), whether or not to also record the response time, and more. If the endpoint being checked requires authentication, there are two options. First, a username and password supplied in the instance options will be used by the check for authentication. Alternately, the check can retrieve a keystone token for authentication. Specific keystone information can be provided for all checks in `init_config` section, or if it's not provided there, the information from the agent config will be used. DEPRECATED: providing Keystone configuration in each instance. keystone_config: keystone_url: http://endpoint.com/v3/ project_name: project username: user password: password url: http://192.168.0.254/healthcheck timeout: 1 include_content: true collect_response_time: true match_pattern: '.*OK.*OK.*OK.*OK.*OK'","Similar to other checks, the configuration is done in YAML, and consists of two keys: init_config and instances. The former is not used by http_check, while the later contains one or more URLs to check, plus optional parameters like a timeout, username/password, pattern to match against the HTTP response body, whether or not to include the HTTP response in the metric (as a 'detail' dimension), whether or not to also record the response time, and more. If the endpoint being checked requires authentication, there are two options. First, a username and password supplied in the instance options will be used by the check for authentication. Alternately, the check can retrieve a keystone token for authentication. Specific keystone information can be provided for each check, otherwise the information from the agent config will be used. url: http://192.168.0.254/healthcheck timeout: 1 include_content: true collect_response_time: true match_pattern: '.*OK.*OK.*OK.*OK.*OK'",45,19
openstack%2Fswift~feature%2Fdeep~Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43,openstack/swift,feature/deep,Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43,Commit from pending file less often,MERGED,2018-04-26 21:27:22.000000000,2018-04-27 08:32:05.000000000,2018-04-27 02:08:28.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 21:27:22.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/843e845ddeb0b6f37f72fc75b30094904831e6f2', 'message': ""Commit from pending file less often\n\nShard ranges *can't* be in the pending file, so no need to try to clear it\nwhen fetching shard ranges. And we already try to commit down in _empty, so\nis_reclaimable was previously trying to do it *twice*.\n\nChange-Id: Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43\n""}]",3,564630,843e845ddeb0b6f37f72fc75b30094904831e6f2,9,3,1,15343,,,0,"Commit from pending file less often

Shard ranges *can't* be in the pending file, so no need to try to clear it
when fetching shard ranges. And we already try to commit down in _empty, so
is_reclaimable was previously trying to do it *twice*.

Change-Id: Ia5867b163eb4e9b516a0306a505cd2bc3dd49d43
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/564630/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,843e845ddeb0b6f37f72fc75b30094904831e6f2,564570,, self._commit_puts_stale_ok() self._commit_puts_stale_ok(),0,2
openstack%2Ftripleo-puppet-elements~master~I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a,openstack/tripleo-puppet-elements,master,I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a,Add keepalived back,MERGED,2018-04-26 15:14:42.000000000,2018-04-27 08:21:21.000000000,2018-04-27 08:21:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 15:14:42.000000000', 'files': ['elements/overcloud-controller/pkg-map', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/fae89441a07189f48dda600f6bb245720f19587e', 'message': 'Add keepalived back\n\nI5ceb329e18024040697ad5eab892d13c51ad276f removed the OpenStack and Ceph\npackages which also removed keepalived from the images. We still need\nkeepalived for the controllers so adding it back in as an explicit\npackage to install.\n\nChange-Id: I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a\nCloses-Bug: #1767135\n'}]",0,564531,fae89441a07189f48dda600f6bb245720f19587e,11,5,1,14985,,,0,"Add keepalived back

I5ceb329e18024040697ad5eab892d13c51ad276f removed the OpenStack and Ceph
packages which also removed keepalived from the images. We still need
keepalived for the controllers so adding it back in as an explicit
package to install.

Change-Id: I81b5b5bfd945ca74aec7ce8d9036c2680a5a4d1a
Closes-Bug: #1767135
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/31/564531/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-controller/pkg-map', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller']",2,fae89441a07189f48dda600f6bb245720f19587e,bug/1767135,keepalived_package,,2,0
openstack%2Ftripleo-validations~stable%2Fqueens~I895fc83d148523c283664080b7b1bf75d53d9edb,openstack/tripleo-validations,stable/queens,I895fc83d148523c283664080b7b1bf75d53d9edb,Validate that there should not be XFS volumes with ftype=0,MERGED,2018-04-25 06:25:43.000000000,2018-04-27 08:19:30.000000000,2018-04-26 16:43:45.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-04-25 06:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7d344a64894e66f90734ad30771b35c3bc5994f1', 'message': 'Validate that there should not be XFS volumes with ftype=0\n\nIf  we have XFS partitions formatted with ftype=0,\nthe upgrades will fail because ftype=0 is incompatible\nwith the docker overlayfs driver.\n\nRelated-Bug: 1765121\nChange-Id: I895fc83d148523c283664080b7b1bf75d53d9edb\n'}, {'number': 2, 'created': '2018-04-26 06:59:58.000000000', 'files': ['releasenotes/notes/validate-xfs-ftype-equals-0-8fdb1f8c99bee975.yaml', 'validations/check-ftype.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d54ae2d1e21245f7033107e1bae327621f54f82f', 'message': 'Validate that there should not be XFS volumes with ftype=0\n\nIf  we have XFS partitions formatted with ftype=0,\nthe upgrades will fail because ftype=0 is incompatible\nwith the docker overlayfs driver.\n\nRelated-Bug: 1765121\nChange-Id: I895fc83d148523c283664080b7b1bf75d53d9edb\n(cherry picked from commit a5e63ee72531c85ee527ce721022fffce3cfcf75)\n'}]",0,564109,d54ae2d1e21245f7033107e1bae327621f54f82f,13,5,2,20775,,,0,"Validate that there should not be XFS volumes with ftype=0

If  we have XFS partitions formatted with ftype=0,
the upgrades will fail because ftype=0 is incompatible
with the docker overlayfs driver.

Related-Bug: 1765121
Change-Id: I895fc83d148523c283664080b7b1bf75d53d9edb
(cherry picked from commit a5e63ee72531c85ee527ce721022fffce3cfcf75)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/564109/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/validate-xfs-ftype-equals-0-8fdb1f8c99bee975.yaml', 'validations/check-ftype.yaml']",2,7d344a64894e66f90734ad30771b35c3bc5994f1,bug/1765121-stable/queens,"--- - hosts: undercloud, overcloud vars: metadata: name: XFS ftype check description: > Check if there is at least 1 XFS volume with ftype=0 in any deployed node. groups: - pre-upgrade tasks: - name: Check if there are XFS volumes with ftype=0 become: true shell: | for dev in $(df -h | grep '/dev/' | grep -v 'tmp' | cut -d' ' -f1) do parseftype=$(xfs_info $dev | grep ftype=0); if [[ ! -z ""$parseftype"" ]]; then ftype=""ftype=0""; break; fi done echo $ftype; register: ftype changed_when: false - name: Check ftype fail: msg: > XFS volumes formatted using ftype=0 are incompatible with the docker overlayfs driver. Run xfs_info in {{ ansible_fqdn }} and fix those volumes before proceeding with the upgrade. when: - ftype.stdout == 'ftype=0' ",,47,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,openstack/tripleo-heat-templates,stable/pike,I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,Explicitly set nova/neutron/ceilometer host to expected fqdn,MERGED,2018-03-22 14:14:18.000000000,2018-04-27 08:14:38.000000000,2018-04-27 08:14:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-03-22 14:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/631e33fc68f7f7aa3cd2776a6ec81bb0ae8f877a', 'message': 'Explicitly set nova/neutron/ceilometer host to expected fqdn\n\nThis avoids any issues where the host/domainname is altered by a DHCP lease.\nAlso the puppet/facter fqdn can be unpredictable when there are multiple NICs.\n\nChange-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3\nCloses-bug: 1758034\n(cherry picked from commit 737bfd26c209f96a64c011240f218994d28d9ef3)\n(cherry picked from commit 75dcfc3df4ab1921d5ec77ce8b09f39676bd6b98)\n'}, {'number': 2, 'created': '2018-04-23 14:23:49.000000000', 'files': ['releasenotes/notes/fix_nova_host-0b82c88597703353.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c48ae0b42f06dacd8615ef52f718674ec95c12af', 'message': 'Explicitly set nova/neutron/ceilometer host to expected fqdn\n\nThis avoids any issues where the host/domainname is altered by a DHCP lease.\nAlso the puppet/facter fqdn can be unpredictable when there are multiple NICs.\n\nChange-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3\nCloses-bug: 1758034\n(cherry picked from commit 31e4c0194dd1d6e049a728c876347df93ce89908)\n(cherry picked from commit 3381d59f0a6bafac47c98ed8754ee4170e749354)\n'}]",2,555317,c48ae0b42f06dacd8615ef52f718674ec95c12af,16,7,2,23811,,,0,"Explicitly set nova/neutron/ceilometer host to expected fqdn

This avoids any issues where the host/domainname is altered by a DHCP lease.
Also the puppet/facter fqdn can be unpredictable when there are multiple NICs.

Change-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3
Closes-bug: 1758034
(cherry picked from commit 31e4c0194dd1d6e049a728c876347df93ce89908)
(cherry picked from commit 3381d59f0a6bafac47c98ed8754ee4170e749354)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/555317/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix_nova_host-0b82c88597703353.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/neutron-base.yaml']",4,631e33fc68f7f7aa3cd2776a6ec81bb0ae8f877a,bug/1758034," neutron::host: ""%{hiera('fqdn_canonical')}""", neutron::host: '%{::fqdn}',12,3
openstack%2Ftripleo-heat-templates~master~I8389a0c48e1aa610fdc6a8580516889340883034,openstack/tripleo-heat-templates,master,I8389a0c48e1aa610fdc6a8580516889340883034,Switch to config-download by default,MERGED,2018-04-04 21:01:55.000000000,2018-04-27 08:14:36.000000000,2018-04-27 08:14:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7509}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-04 21:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0a47b04f2588d776b7c78a2c8033deff277822f', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\nDepends-On: I05593f81d567d35c931a0ac4e70fa8000dd458ec\n'}, {'number': 2, 'created': '2018-04-17 18:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79a3e4960d0b265669f493123c2ee7a39dec0a67', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\nDepends-On: I05593f81d567d35c931a0ac4e70fa8000dd458ec\n'}, {'number': 3, 'created': '2018-04-19 16:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d328289555063a44154e74120bc75c828d10d9e1', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\nDepends-On: I05593f81d567d35c931a0ac4e70fa8000dd458ec\n'}, {'number': 4, 'created': '2018-04-19 16:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5e680772805742949a7d4e4a7ea83218b31ec09', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\nDepends-On: I05593f81d567d35c931a0ac4e70fa8000dd458ec\n'}, {'number': 5, 'created': '2018-04-20 11:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a19fff8dc79a01c0437ca2cbde58bcf939090b19', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\n'}, {'number': 6, 'created': '2018-04-20 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a46c1bc82f1a6e85fb3df0f6b14c3fb2dda34f90', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default. The environment to explicitly enable\nconfig-download is deprecated.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\n'}, {'number': 7, 'created': '2018-04-25 13:42:20.000000000', 'files': ['environments/disable-config-download-environment.yaml', 'releasenotes/notes/config-download-default-to-true-2331debd56c396eb.yaml', 'environments/config-download-environment.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f44e8d7bd2615dfdb0ed15b3bbd45a4475ae0152', 'message': 'Switch to config-download by default\n\nUpdates overcloud-resource-registry.j2.yaml to include the mappings from\nenviornments/config-download-environment.yaml. This enables\nconfig-download by default. The environment to explicitly enable\nconfig-download is deprecated.\n\nAn environment at environments/disable-config-download.yaml is added\nwhich can be used to disable config-download but is marked as\ndeprecated.\n\nChange-Id: I8389a0c48e1aa610fdc6a8580516889340883034\nimplements: blueprint config-download-default\n'}]",0,558927,f44e8d7bd2615dfdb0ed15b3bbd45a4475ae0152,60,9,7,7144,,,0,"Switch to config-download by default

Updates overcloud-resource-registry.j2.yaml to include the mappings from
enviornments/config-download-environment.yaml. This enables
config-download by default. The environment to explicitly enable
config-download is deprecated.

An environment at environments/disable-config-download.yaml is added
which can be used to disable config-download but is marked as
deprecated.

Change-Id: I8389a0c48e1aa610fdc6a8580516889340883034
implements: blueprint config-download-default
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/558927/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/disable-config-download-environment.yaml', 'releasenotes/notes/config-download-default-to-true-2331debd56c396eb.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",3,d0a47b04f2588d776b7c78a2c8033deff277822f,bp/config-download-default, OS::TripleO::SoftwareDeployment: ../config-download-structured.yaml OS::Heat::SoftwareDeployment: ../config-download-software.yaml OS::Heat::StructuredDeployment: ../config-download-structured.yaml OS::TripleO::Ssh::HostPubKey: OS::Heat::None OS::TripleO::Ssh::KnownHostsDeployment: OS::Heat::None OS::TripleO::DeploymentSteps: OS::Heat::None, OS::TripleO::SoftwareDeployment: OS::Heat::StructuredDeployment OS::TripleO::Ssh::HostPubKey: extraconfig/tasks/ssh/host_public_key.yaml OS::TripleO::Ssh::KnownHostsDeployment: OS::Heat::StructuredDeployments OS::TripleO::DeploymentSteps: OS::Heat::StructuredDeploymentGroup,22,4
openstack%2Fmonasca-agent~master~Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72,openstack/monasca-agent,master,Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72,Fix type error in monasca agent,MERGED,2018-04-26 13:16:32.000000000,2018-04-27 08:12:21.000000000,2018-04-27 08:12:21.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26639}, {'_account_id': 26702}, {'_account_id': 27615}, {'_account_id': 28075}]","[{'number': 1, 'created': '2018-04-26 13:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f5fda7d19d819e0f8af65c6489e239e37f5d83dc', 'message': 'Fix type error in monasca agent\n\nObserved TypeError in forwarder and collector logs while\nexecuting monasca agent. Due to which monasca agent failed\nto start.\n\nAdded line continuation character to fix the error.\n\nChange-Id: Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72\nTask: 14449\nStory: 2001922\n'}, {'number': 2, 'created': '2018-04-27 07:00:52.000000000', 'files': ['monasca_agent/common/util.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2b2b5719c75076132b251aa811796feffed82880', 'message': 'Fix type error in monasca agent\n\nObserved TypeError in forwarder and collector logs while\nexecuting monasca agent. Due to which monasca agent failed\nto start.\n\nAdded line continuation character to fix the error.\n\nChange-Id: Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72\nTask: 14449\nStory: 2001922\n'}]",2,564501,2b2b5719c75076132b251aa811796feffed82880,14,7,2,28075,,,0,"Fix type error in monasca agent

Observed TypeError in forwarder and collector logs while
executing monasca agent. Due to which monasca agent failed
to start.

Added line continuation character to fix the error.

Change-Id: Ibaf148ca6cf7b9cb73ceabacccf7aa519897af72
Task: 14449
Story: 2001922
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/01/564501/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/common/util.py'],1,f5fda7d19d819e0f8af65c6489e239e37f5d83dc,, log_format = '%%(asctime)s | %%(levelname)s | %s | %%(name)s(%%(filename)s:%%(lineno)s) ' \ '| %%(message)s' % logger_name, log_format = '%%(asctime)s | %%(levelname)s | %s | %%(name)s(%%(filename)s:%%(lineno)s) ' '| %%(message)s' % logger_name,2,2
openstack%2Fmonasca-specs~master~Id73d56a3e4c6b3a84f73554b3d844856ec035b7e,openstack/monasca-specs,master,Id73d56a3e4c6b3a84f73554b3d844856ec035b7e,Add `Kafka upgrade` goal description,MERGED,2018-04-13 14:10:50.000000000,2018-04-27 08:10:04.000000000,2018-04-27 08:10:04.000000000,"[{'_account_id': 14273}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-04-13 14:10:50.000000000', 'files': ['priorities/rocky-priorities.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/05c88fe5db0000e3bbf963046ad6517905473bb4', 'message': 'Add `Kafka upgrade` goal description\n\nChange-Id: Id73d56a3e4c6b3a84f73554b3d844856ec035b7e\n'}]",0,561233,05c88fe5db0000e3bbf963046ad6517905473bb4,9,6,1,16222,,,0,"Add `Kafka upgrade` goal description

Change-Id: Id73d56a3e4c6b3a84f73554b3d844856ec035b7e
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/33/561233/1 && git format-patch -1 --stdout FETCH_HEAD,['priorities/rocky-priorities.rst'],1,05c88fe5db0000e3bbf963046ad6517905473bb4,552030,| `Kafka upgrade`_ | witek |Kafka upgrade ----------------------------------- The goal is to upgrade all Monasca components to use Apache Kafka 1.0.x. Currently used embedded forked version of kafka-python client should be replaced with pykafka (or alternatively confluent-kafka-python). The integration should be preceded by extensive performance and endurance testing. ,| Kafka upgrade | |,9,1
openstack%2Fcloudkitty~master~I92f8184137e77b9d149b9d7e6425274c99b050d1,openstack/cloudkitty,master,I92f8184137e77b9d149b9d7e6425274c99b050d1,[WIP] Add event analysis to cloudkitty for rating second level,ABANDONED,2016-10-05 01:42:01.000000000,2018-04-27 08:09:20.000000000,,"[{'_account_id': 21797}, {'_account_id': 23037}, {'_account_id': 23060}]","[{'number': 1, 'created': '2016-10-05 01:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/35b080d3877c0f0c15bb4ce12ee849d9a920648f', 'message': 'Add event analysis to cloudkitty for rating second level\n\nThe event analysis module include noop, ceilometer and panko.\n1) The noop means NoopEventAnalysis is a fake, just for testing.\n2) The ceilometer means CeilometerEventAnalysis, what cloudkitty\n   get event form ceilometer API.\n3) The panko means PankoEventAnalysis, what cloudkitty get events\n   from panko API.\n\nChange-Id: I92f8184137e77b9d149b9d7e6425274c99b050d1\nImplements: blueprint rating-for-second-level\n'}, {'number': 2, 'created': '2016-10-05 05:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/89b937645999b1d8a67258ed256b3d18217cd271', 'message': 'Add event analysis to cloudkitty for rating second level\n\nThe event analysis module include noop, ceilometer and panko.\n1) The noop means NoopEventAnalysis is a fake, just for testing.\n2) The ceilometer means CeilometerEventAnalysis, what cloudkitty\n   get event form ceilometer API.\n3) The panko means PankoEventAnalysis, what cloudkitty get events\n   from panko API.\n\nChange-Id: I92f8184137e77b9d149b9d7e6425274c99b050d1\nImplements: blueprint rating-for-second-level\n'}, {'number': 3, 'created': '2016-11-17 04:55:11.000000000', 'files': ['test-requirements.txt', 'cloudkitty/orchestrator.py', 'cloudkitty/tests/event/data_sample.py', 'cloudkitty/tests/test_utils.py', 'cloudkitty/common/config.py', 'cloudkitty/utils.py', 'cloudkitty/tests/event/__init__.py', 'cloudkitty/tests/event/test_panko.py', 'cloudkitty/tests/event/test_event.py', 'cloudkitty/event/__init__.py', 'cloudkitty/event/panko.py', 'cloudkitty/event/noop.py', 'cloudkitty/tests/event/test_noop.py', 'setup.cfg', 'cloudkitty/tests/event/test_ceilometer.py', 'cloudkitty/event/ceilometer.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b55a2a750250ac6cb7ecb5990d086efaded9a8bf', 'message': '[WIP] Add event analysis to cloudkitty for rating second level\n\nThe event analysis module include noop, ceilometer and panko.\n1) The noop means NoopEventAnalysis is a fake, just for testing.\n2) The ceilometer means CeilometerEventAnalysis, what cloudkitty\n   get event form ceilometer API.\n3) The panko means PankoEventAnalysis, what cloudkitty get events\n   from panko API.\n\nChange-Id: I92f8184137e77b9d149b9d7e6425274c99b050d1\nImplements: blueprint rating-for-second-level\n'}]",2,382127,b55a2a750250ac6cb7ecb5990d086efaded9a8bf,12,3,3,8358,,,0,"[WIP] Add event analysis to cloudkitty for rating second level

The event analysis module include noop, ceilometer and panko.
1) The noop means NoopEventAnalysis is a fake, just for testing.
2) The ceilometer means CeilometerEventAnalysis, what cloudkitty
   get event form ceilometer API.
3) The panko means PankoEventAnalysis, what cloudkitty get events
   from panko API.

Change-Id: I92f8184137e77b9d149b9d7e6425274c99b050d1
Implements: blueprint rating-for-second-level
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/27/382127/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'cloudkitty/orchestrator.py', 'cloudkitty/tests/event/data_sample.py', 'cloudkitty/tests/test_utils.py', 'cloudkitty/common/config.py', 'cloudkitty/utils.py', 'cloudkitty/tests/event/__init__.py', 'cloudkitty/tests/event/test_panko.py', 'cloudkitty/tests/event/test_event.py', 'cloudkitty/event/__init__.py', 'cloudkitty/event/panko.py', 'cloudkitty/event/noop.py', 'cloudkitty/tests/event/test_noop.py', 'setup.cfg', 'cloudkitty/tests/event/test_ceilometer.py', 'cloudkitty/event/ceilometer.py']",16,35b080d3877c0f0c15bb4ce12ee849d9a920648f,bp/rating-for-second-level,"# -*- coding: utf-8 -*- # Copyright 2016 99Cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # @author: zhangguoqing # import copy from ceilometerclient import client as cclient from keystoneauth1 import loading as ks_loading from oslo_config import cfg from cloudkitty import event from cloudkitty import utils as ck_utils CEILOMETER_EVENT_OPTS = 'ceilometer_event' ks_loading.register_session_conf_options( cfg.CONF, CEILOMETER_EVENT_OPTS) ks_loading.register_auth_conf_options( cfg.CONF, CEILOMETER_EVENT_OPTS) CONF = cfg.CONF class CeilometerEventAnalysis(event.BaseEventAnalysis): def __init__(self): super(CeilometerEventAnalysis, self).__init__() self.auth = ks_loading.load_auth_from_conf_options( CONF, CEILOMETER_EVENT_OPTS) self.session = ks_loading.load_session_from_conf_options( CONF, CEILOMETER_EVENT_OPTS, auth=self.auth) self._conn = cclient.get_client( '2', session=self.session) def get_events(self, start_timestamp, end_timestamp): # NOTE(zhangguoqing) The ceilometer event query has a default limit # is 100, so in order to get all the period events, we had better to # set the 'default_api_return_limit = 1000000' of api section in the # file /etc/ceilometer/ceilometer.conf. start_timestamp = ck_utils.ts2iso(start_timestamp) end_timestamp = ck_utils.ts2iso(end_timestamp) q_filter = [{'field': 'start_timestamp', 'op': 'ge', 'value': start_timestamp}, {'field': 'end_timestamp', 'op': 'le', 'value': end_timestamp}] self._events = self._conn.events.list(q=q_filter) self.filter_event() return self._events def event_analysis_compute(self, service, events, item, cur_period): k = 'instance_id' v = item['desc']['instance_id'] data = self.event_analysis_generic(service, events, item, cur_period, k, v) return data def event_analysis_volume(self, service, events, item, cur_period): k = 'resource_id' v = item['desc']['volume_id'] data = self.event_analysis_generic(service, events, item, cur_period, k, v) return data def event_analysis_image(self, service, events, item, cur_period): k = 'resource_id' v = item['desc']['image_id'] data = self.event_analysis_generic(service, events, item, cur_period, k, v) return data def event_analysis_network_floating(self, service, events, item, cur_period): k = 'resource_id' v = item['desc']['floatingip_id'] data = self.event_analysis_generic(service, events, item, cur_period, k, v) return data def event_analysis(self, service, data): events = self.service_filter_event(service) if not events: return data service_analysis = self._service_analysis_to_func(service) if not hasattr(self, service_analysis): raise NotImplementedError( ""No method found in event backend '%s' analysis "" ""for service '%s'."" % (self.event, service)) func = getattr(self, service_analysis) for cur_data in data[:]: cur_usage = cur_data['usage'] cur_data['period']['begin_event'] = 'cloudkitty.period.cutting' cur_data['period']['end_event'] = 'cloudkitty.period.cutting' for service_name, service_data in cur_usage.items(): for item in service_data[:]: cur_period = copy.deepcopy(cur_data['period']) data_slice = func(service_name, events, item, cur_period) if data_slice: service_data.remove(item) data.extend(data_slice) if not len(service_data): data.remove(cur_data) return data ",,2305,1
openstack%2Fneutron-vpnaas-dashboard~stable%2Fqueens~I044a52f78d8eec86f0ad615bedfc517258ba1894,openstack/neutron-vpnaas-dashboard,stable/queens,I044a52f78d8eec86f0ad615bedfc517258ba1894,Fix gate errors,MERGED,2018-04-26 15:45:15.000000000,2018-04-27 08:04:24.000000000,2018-04-27 08:04:24.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 15:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/5ca6ee78365794d6163f4eeeb15f5545979d7578', 'message': 'Fix gate errors\n\n- Fix pep8 errors caused by recent pycodestyle upgrade\n- Skip pip install if no requirements is specified\n\nChange-Id: I044a52f78d8eec86f0ad615bedfc517258ba1894\n'}, {'number': 2, 'created': '2018-04-26 17:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/00100c9b16cbfdb313d6fe0528f36c991d97622f', 'message': 'Fix gate errors\n\n- Fix pep8 errors caused by recent pycodestyle upgrade\n- Skip pip install if no requirements is specified\n\nChange-Id: I044a52f78d8eec86f0ad615bedfc517258ba1894\n'}, {'number': 3, 'created': '2018-04-26 17:37:50.000000000', 'files': ['neutron_vpnaas_dashboard/test/settings.py', 'tools/tox_install.sh', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/c8d4de9ad3c9f65b52992558bebdbe6cf0a93dde', 'message': 'Fix gate errors\n\n- Fix pep8 errors caused by recent pycodestyle upgrade\n- Skip pip install if no requirements is specified\n\nChange-Id: I044a52f78d8eec86f0ad615bedfc517258ba1894\n'}]",0,564534,c8d4de9ad3c9f65b52992558bebdbe6cf0a93dde,10,2,3,841,,,0,"Fix gate errors

- Fix pep8 errors caused by recent pycodestyle upgrade
- Skip pip install if no requirements is specified

Change-Id: I044a52f78d8eec86f0ad615bedfc517258ba1894
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/34/564534/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas_dashboard/test/settings.py', 'tools/tox_install.sh', 'doc/source/conf.py']",3,5ca6ee78365794d6163f4eeeb15f5545979d7578,gate-fix,import neutron_vpnaas_dashboard.version ,import neutron_vpnaas_dashboard.version ,10,8
openstack%2Fpython-tripleoclient~master~I0a6f99f0b886a2583d47e7abeee6e0c222f708d8,openstack/python-tripleoclient,master,I0a6f99f0b886a2583d47e7abeee6e0c222f708d8,Remove commented cidr nat rules code,MERGED,2018-04-26 14:23:07.000000000,2018-04-27 08:04:22.000000000,2018-04-27 08:04:22.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d256b2f1c07dd773bafe2efba2dafd0e895c6938', 'message': ""Remove commented cidr nat rules code\n\nSince change I48aa95b96c762a72273b5b0b714a04da7ee69a40\npuppet-tripleo the forwarding rules is created when\nmasquerading is used.\n\nIf masquerading is not enables, we don't need to allow\nforwarding.\n\nChange-Id: I0a6f99f0b886a2583d47e7abeee6e0c222f708d8\n""}, {'number': 2, 'created': '2018-04-26 14:27:14.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c2dbec0f8002de03fad0355c4b4ecc13e4319e9', 'message': 'Remove commented cidr nat rules code\n\nSince change I48aa95b96c762a72273b5b0b714a04da7ee69a40\nin puppet-tripleo the forwarding rules is created when\nmasquerading is used.\n\nIf masquerading is not enabled, we do not need to allow\nforwarding.\n\nChange-Id: I0a6f99f0b886a2583d47e7abeee6e0c222f708d8\n'}]",0,564521,5c2dbec0f8002de03fad0355c4b4ecc13e4319e9,12,8,2,24245,,,0,"Remove commented cidr nat rules code

Since change I48aa95b96c762a72273b5b0b714a04da7ee69a40
in puppet-tripleo the forwarding rules is created when
masquerading is used.

If masquerading is not enabled, we do not need to allow
forwarding.

Change-Id: I0a6f99f0b886a2583d47e7abeee6e0c222f708d8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/564521/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,d256b2f1c07dd773bafe2efba2dafd0e895c6938,remove-commented-nat-rules,,"# def _generate_subnets_cidr_nat_rules(): # env_list = [] # for subnet in CONF.subnets: # env_dict = {} # s = CONF.get(subnet) # env_dict['140 ' + subnet + ' cidr nat'] = { # 'chain': 'FORWARD', # 'destination': s.cidr # } # # NOTE(hjensas): sort_keys=True because unit test reference is static # env_list.append(json.dumps(env_dict, sort_keys=True)[1:-1]) # # Whitespace after newline required for indentation in templated yaml # return '\n '.join(env_list) ",0,14
openstack%2Ftripleo-image-elements~master~I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8,openstack/tripleo-image-elements,master,I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8,Remove os-net-config element,ABANDONED,2018-04-20 06:45:10.000000000,2018-04-27 08:00:48.000000000,,"[{'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 7065}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 06:45:10.000000000', 'files': ['elements/os-net-config/package-installs.yaml', 'releasenotes/notes/Remove-os-net-config-element-22f79447af0228a9.yaml', 'elements/os-net-config/pkg-map', 'elements/os-net-config/element-deps', 'elements/os-net-config/os-apply-config/etc/os-net-config/element_config.json', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-net-config/os-refresh-config/configure.d/20-os-net-config', 'elements/os-net-config/environment.d/10-os-net-config-venv-dir.bash', 'elements/os-net-config/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4dd95f0f811cff62c1d082c10a8a393e56c49dc8', 'message': ""Remove os-net-config element\n\nIt's not used anymore.\n\nChange-Id: I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8\n""}]",0,562950,4dd95f0f811cff62c1d082c10a8a393e56c49dc8,6,7,1,10873,,,0,"Remove os-net-config element

It's not used anymore.

Change-Id: I4b1230dce03ad8c9fa0d1ae001d368f7531dc0d8
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/50/562950/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-net-config/package-installs.yaml', 'releasenotes/notes/Remove-os-net-config-element-22f79447af0228a9.yaml', 'elements/os-net-config/pkg-map', 'elements/os-net-config/element-deps', 'elements/os-net-config/os-apply-config/etc/os-net-config/element_config.json', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-net-config/os-refresh-config/configure.d/20-os-net-config', 'elements/os-net-config/README.md', 'elements/os-net-config/environment.d/10-os-net-config-venv-dir.bash']",9,4dd95f0f811cff62c1d082c10a8a393e56c49dc8,remove-os-apply-config,,"if [ -z ""${OS_NET_CONFIG_VENV_DIR:-}"" ]; then export OS_NET_CONFIG_VENV_DIR=${OPENSTACK_VENV_DIR:-""/opt/stack/venvs/os-net-config""} fi if [ -z ""${OS_NET_CONFIG_INSTALL_OPTS:-}"" ]; then export OS_NET_CONFIG_INSTALL_OPTS=${OPENSTACK_EXTRA_INSTALL_OPTS:-""""} fi ",4,208
openstack%2Fneutron-vpnaas-dashboard~master~I3c496c5fe90780df8dbb512523e47cbffa08e833,openstack/neutron-vpnaas-dashboard,master,I3c496c5fe90780df8dbb512523e47cbffa08e833,Imported Translations from Zanata,MERGED,2018-04-27 07:20:04.000000000,2018-04-27 07:52:23.000000000,2018-04-27 07:52:22.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 07:20:04.000000000', 'files': ['releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/d03ff320eebc18dfea14833b34663607c29027d0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3c496c5fe90780df8dbb512523e47cbffa08e833\n'}]",0,564689,d03ff320eebc18dfea14833b34663607c29027d0,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3c496c5fe90780df8dbb512523e47cbffa08e833
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/89/564689/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po']",4,d03ff320eebc18dfea14833b34663607c29027d0,zanata/translations,,"# Alexander <ainikitenkov@gmail.com>, 2016. #zanata # Artem <amikhalev90@gmail.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: Neutron VPNaaS Dashboard Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-02-08 08:19+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-02-09 07:02+0000\n"" ""Last-Translator: Artem <amikhalev90@gmail.com>\n"" ""Language-Team: Russian\n"" ""Language: ru\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n"" ""%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2)\n"" msgid ""0.1.0"" msgstr ""0.1.0"" msgid ""Bug Fixes"" msgstr ""Исправленные ошибки"" msgid ""Current Series Release Notes"" msgstr ""Примечания к текущему релизу"" msgid ""New Features"" msgstr ""Новые особенности"" ",18,82
openstack%2Fpython-tripleoclient~master~Idf17e3f817708d9e7dd7241063434ce56b6be052,openstack/python-tripleoclient,master,Idf17e3f817708d9e7dd7241063434ce56b6be052,Composable role and service fails workflow,MERGED,2018-01-16 14:54:51.000000000,2018-04-27 07:49:54.000000000,2018-02-08 07:31:16.000000000,"[{'_account_id': 4328}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23950}]","[{'number': 1, 'created': '2018-01-16 14:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f1f80045d2a624346f23fe0471d70a6e6de40adb', 'message': 'Composable role and service fails workflow\n\nWhen defining a resource_registry for a composable service, the workflow fails\nbecause it validates before the user-environment is added.\nThis patch moves the workflow invocation after the creation of the user-\nenvironment.\n\nChange-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052\nCloses-Bug: 1743575\n'}, {'number': 2, 'created': '2018-01-16 15:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c15ff2a96ba52fbed1868860b635655098f5636', 'message': 'Composable role and service fails workflow\n\nWhen defining a resource_registry for a composable service, the workflow fails\nbecause it validates before the user-environment is added.\nThis patch moves the workflow invocation after the creation of the user-\nenvironment.\nThis is caused by https://review.openstack.org/#/c/511249/ which changes the\nbehaviour of the action in tripleo-common.\n\nChange-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052\nCloses-Bug: 1743575\n'}, {'number': 3, 'created': '2018-01-16 16:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/399bab1c42713c31f7ba084e7e0a728859575def', 'message': 'Composable role and service fails workflow\n\nWhen defining a resource_registry for a composable service, the workflow fails\nbecause it validates before the user-environment is added.\nThis patch moves the workflow invocation after the creation of the user-\nenvironment.\nThis is caused by https://review.openstack.org/#/c/511249/ which changes the\nbehaviour of the action in tripleo-common.\n\nChange-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052\nCloses-Bug: 1743575\n'}, {'number': 4, 'created': '2018-01-16 17:20:37.000000000', 'files': ['releasenotes/notes/bug-1743575-dcacfa668eaf51a6.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c0ad1df5e49358299cea3cd15ccdd6d2c54271d', 'message': 'Composable role and service fails workflow\n\nWhen defining a resource_registry for a composable service, the workflow fails\nbecause it validates before the user-environment is added.\nThis patch moves the workflow invocation after the creation of the user-\nenvironment.\nThis is caused by https://review.openstack.org/#/c/511249/ which changes the\nbehaviour of the action in tripleo-common.\n\nChange-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052\nCloses-Bug: 1743575\n'}]",3,534337,7c0ad1df5e49358299cea3cd15ccdd6d2c54271d,17,6,4,22323,,,0,"Composable role and service fails workflow

When defining a resource_registry for a composable service, the workflow fails
because it validates before the user-environment is added.
This patch moves the workflow invocation after the creation of the user-
environment.
This is caused by https://review.openstack.org/#/c/511249/ which changes the
behaviour of the action in tripleo-common.

Change-Id: Idf17e3f817708d9e7dd7241063434ce56b6be052
Closes-Bug: 1743575
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/534337/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1743575-dcacfa668eaf51a6.yaml', 'tripleoclient/v1/overcloud_deploy.py']",2,f1f80045d2a624346f23fe0471d70a6e6de40adb,bug/1743575," # Parameters are removed from the environment params_popped = False params_popped = True # Parameters are sent to the update parameters action, this stores them # in the plan environment and means the UI can find them. if params_popped: workflow_params.update_parameters( self.workflow_client, container=container_name, parameters=params) "," # Parameters are removed from the environment and sent to the update # parameters action, this stores them in the plan environment and # means the UI can find them. workflow_params.update_parameters( self.workflow_client, container=container_name, parameters=params)",16,6
openstack%2Fneutron~master~I6153d5973feda300fa81b275269bc2cbc9019193,openstack/neutron,master,I6153d5973feda300fa81b275269bc2cbc9019193,No need for www_authenticate_uri in [designate],MERGED,2018-04-25 10:52:12.000000000,2018-04-27 07:23:13.000000000,2018-04-27 07:23:13.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 10:52:12.000000000', 'files': ['doc/source/admin/config-dns-int-ext-serv.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8a94b2412f42f4b918501bb088a75cfea1636bc', 'message': 'No need for www_authenticate_uri in [designate]\n\nThe www_authenticate_uri is a keystonemiddleware option, it is not\nneeded for the Designate client.\n\nChange-Id: I6153d5973feda300fa81b275269bc2cbc9019193\n'}]",0,564159,d8a94b2412f42f4b918501bb088a75cfea1636bc,10,6,1,18940,,,0,"No need for www_authenticate_uri in [designate]

The www_authenticate_uri is a keystonemiddleware option, it is not
needed for the Designate client.

Change-Id: I6153d5973feda300fa81b275269bc2cbc9019193
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/564159/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-dns-int-ext-serv.rst'],1,d8a94b2412f42f4b918501bb088a75cfea1636bc,,, * ``www_authenticate_uri``: the unversioned public endpoint of the Identity service. www_authenticate_uri = http://192.0.2.240:5000,0,2
openstack%2Ftempest~master~Ib54777e5ce101bab6c2980ae69ef2c5d978ff064,openstack/tempest,master,Ib54777e5ce101bab6c2980ae69ef2c5d978ff064,Add common method to check the microversion compatibility,MERGED,2018-03-30 08:19:14.000000000,2018-04-27 07:14:48.000000000,2018-04-27 07:14:47.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-03-30 08:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2cbf413d7103f550d6031e235194327acc79f71', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}, {'number': 2, 'created': '2018-03-30 09:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/adc921e50a671da83b4aa0287700cde82bc8ad04', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}, {'number': 3, 'created': '2018-03-31 03:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c25abaa76bad2fded0494ed3af3e686a82703a3', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}, {'number': 4, 'created': '2018-04-02 01:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d33643af431b42bce6d0b76596b2970b10f1a8c0', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}, {'number': 5, 'created': '2018-04-02 02:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37164ddb1b3ae410aa709cc6823336e88e0902c9', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}, {'number': 6, 'created': '2018-04-02 07:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9970d25dccbdafe567bba360ec0328c1c172baf', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}, {'number': 7, 'created': '2018-04-12 00:59:51.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/tests/api/compute/test_base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/66b9aed5cfd6fa94946bfff4987eb3645140f850', 'message': 'Add common method to check the microversion compatibility\n\nAs there are lot of API microversion with behavior change,\ntests internal checks needs to be adjusted according to\nrequested microversion.\nExample: https://review.openstack.org/#/c/557280/\n\nThat need to compare the requested microversion with max supported\nmicroversion. Same comparison is needed multiple places in multiple\nfiles.\n\nThis commit adds a common method to do the microversion comparison\nwhich can be used in many place.\n\nChange-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064\n'}]",12,557907,66b9aed5cfd6fa94946bfff4987eb3645140f850,49,10,7,8556,,,0,"Add common method to check the microversion compatibility

As there are lot of API microversion with behavior change,
tests internal checks needs to be adjusted according to
requested microversion.
Example: https://review.openstack.org/#/c/557280/

That need to compare the requested microversion with max supported
microversion. Same comparison is needed multiple places in multiple
files.

This commit adds a common method to do the microversion comparison
which can be used in many place.

Change-Id: Ib54777e5ce101bab6c2980ae69ef2c5d978ff064
",git fetch https://review.opendev.org/openstack/tempest refs/changes/07/557907/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/tests/api/compute/test_base.py']",2,c2cbf413d7103f550d6031e235194327acc79f71,bp/clear-deprecated-api," def _test_version_compatible(self, max_version, expected=True): actual = (compute_base.BaseV2ComputeTest. is_requested_microversion_compatible(max_version)) self.assertEqual(expected, actual) def test_check_lower_version(self): compute_base.BaseV2ComputeTest.request_microversion = '2.8' self._test_version_compatible('2.40') def test_check_euqal_version(self): compute_base.BaseV2ComputeTest.request_microversion = '2.40' self._test_version_compatible('2.40') def test_check_higher_version(self): compute_base.BaseV2ComputeTest.request_microversion = '2.41' self._test_version_compatible('2.40', expected=False)",,46,0
openstack%2Fproject-config~master~I353a97ae963718222dc2e8b5d50921a887fc1650,openstack/project-config,master,I353a97ae963718222dc2e8b5d50921a887fc1650,"Change label for neutron-tempest-ovsfw to ""voting""",MERGED,2018-04-17 12:44:00.000000000,2018-04-27 06:58:09.000000000,2018-04-27 06:58:09.000000000,"[{'_account_id': 4162}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-17 12:44:00.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8d04aa82d991b88e061564282e7438c8d3b6fd9c', 'message': 'Change label for neutron-tempest-ovsfw to ""voting""\n\nJob was switched to be voting in [1] so it shouldn\'t be marked as\n""non-voting"" in dashboard.\n\n[1] https://review.openstack.org/#/c/560097/\n\nChange-Id: I353a97ae963718222dc2e8b5d50921a887fc1650\n'}]",2,561930,8d04aa82d991b88e061564282e7438c8d3b6fd9c,13,6,1,11975,,,0,"Change label for neutron-tempest-ovsfw to ""voting""

Job was switched to be voting in [1] so it shouldn't be marked as
""non-voting"" in dashboard.

[1] https://review.openstack.org/#/c/560097/

Change-Id: I353a97ae963718222dc2e8b5d50921a887fc1650
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/561930/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,8d04aa82d991b88e061564282e7438c8d3b6fd9c,mark-ovsfw-scenario-job-voting," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_neutron.master.job.neutron-tempest-ovsfw.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_neutron.master.job.neutron-tempest-ovsfw.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-ovsfw')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_neutron.master.job.neutron-tempest-ovsfw.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_neutron.master.job.neutron-tempest-ovsfw.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-ovsfw (non-voting)')",1,1
openstack%2Fheat~master~Ie55ee1e692053b438251b9aacb85db290edd308e,openstack/heat,master,Ie55ee1e692053b438251b9aacb85db290edd308e,Remove mox usage from test_resource,MERGED,2018-03-31 03:11:02.000000000,2018-04-27 06:30:17.000000000,2018-04-27 06:30:17.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 03:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f03367eddfb0d433c43298982932f8ad4fe914ca', 'message': 'Remove mox usage from test_resource\n\nChange-Id: Ie55ee1e692053b438251b9aacb85db290edd308e\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-02 11:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f7a156b91b5fa6d93f2a37cddaa848bf1a3900c2', 'message': 'Remove mox usage from test_resource\n\nChange-Id: Ie55ee1e692053b438251b9aacb85db290edd308e\ngoal: mox-removal\n'}, {'number': 3, 'created': '2018-04-12 09:09:52.000000000', 'files': ['heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/344246ca2a82fc833a88bf22c5a8581e1ef8ade9', 'message': 'Remove mox usage from test_resource\n\nChange-Id: Ie55ee1e692053b438251b9aacb85db290edd308e\ngoal: mox-removal\n'}]",29,558021,344246ca2a82fc833a88bf22c5a8581e1ef8ade9,14,4,3,12404,,,0,"Remove mox usage from test_resource

Change-Id: Ie55ee1e692053b438251b9aacb85db290edd308e
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/21/558021/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_resource.py'],1,f03367eddfb0d433c43298982932f8ad4fe914ca,mox-removal," exc = exception.ResourceFailure self.patchobject(generic_rsrc.ResourceWithProps, 'handle_create', side_effect=exc) exc = exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because') self.patchobject(timeutils, 'retry_backoff_delay', return_value=0.01) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_create', side_effect=[exc, None]) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_delete') self.assertEqual( 2, generic_rsrc.ResourceWithProps.handle_create.call_count) self.assertEqual( 1, generic_rsrc.ResourceWithProps.handle_delete.call_count) timeutils.retry_backoff_delay.assert_called_once_with( 1, jitter_max=2.0) exc = exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because') self.patchobject(timeutils, 'retry_backoff_delay') self.patchobject(generic_rsrc.ResourceWithProps, 'handle_create', side_effect=exc) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_delete') create_exc = exception.ResourceInError( resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because') delete_exc = exception.ResourceInError( resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='DELETE', status_reason='delete failed') self.patchobject(timeutils, 'retry_backoff_delay', return_value=0.01) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_create', side_effect=[create_exc, None]) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_delete', side_effect=[delete_exc, delete_exc, None]) self.assertEqual(3, timeutils.retry_backoff_delay.call_count) self.assertEqual( 2, generic_rsrc.ResourceWithProps.handle_create.call_count) self.assertEqual( 3, generic_rsrc.ResourceWithProps.handle_delete.call_count) create_exc = exception.ResourceInError( resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because') self.patchobject(timeutils, 'retry_backoff_delay', return_value=0.01) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_create', side_effect=[create_exc, create_exc, None]) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_delete') self.assertEqual( 3, generic_rsrc.ResourceWithProps.handle_create.call_count) self.assertEqual( 2, generic_rsrc.ResourceWithProps.handle_delete.call_count) self.patchobject(res, 'handle_create', return_value=cookie) self.patchobject(res, 'check_create_complete', return_value=False) self.patchobject(res, 'handle_create_cancel') res.check_create_complete.assert_called_once_with(cookie) res.handle_create_cancel.assert_called_once_with(cookie) class FakeExc(Exception): pass self.patchobject(res, 'handle_create', return_value=cookie) self.patchobject(res, 'check_create_complete', return_value=False) self.patchobject(res, 'handle_create_cancel', side_effect=FakeExc) res.check_create_complete.assert_called_once_with(cookie) res.handle_create_cancel.assert_called_once_with(cookie) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_update') generic_rsrc.ResourceWithProps.handle_update.assert_called_once_with( utmpl, mock.ANY, prop_diff) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_update', side_effect=resource.UpdateReplace(res.name)) generic_rsrc.ResourceWithProps.handle_update.assert_called_once_with( utmpl, mock.ANY, prop_diff) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_update', side_effect=resource.UpdateReplace) generic_rsrc.ResourceWithProps.handle_update.assert_called_once_with( utmpl, mock.ANY, prop_diff) self.patchobject(generic_rsrc.ResourceWithProps, 'handle_update', side_effect=NotImplementedError) generic_rsrc.ResourceWithProps.handle_update.assert_called_once_with( utmpl, mock.ANY, prop_diff) self.patchobject(res, '_needs_update', return_value=True) self.patchobject(res, 'handle_update', return_value=cookie) self.patchobject(res, 'check_update_complete', return_value=False) self.patchobject(res, 'handle_update_cancel') res._needs_update.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, mock.ANY, None) res.handle_update.assert_called_once_with(mock.ANY, mock.ANY, mock.ANY) res.check_update_complete.assert_called_once_with(cookie) res.handle_update_cancel.assert_called_once_with(cookie) class FakeExc(Exception): pass self.patchobject(generic_rsrc.ResourceWithProps, 'handle_suspend', side_effect=FakeExc) class FakeExc(Exception): pass self.patchobject(generic_rsrc.ResourceWithProps, 'handle_resume', side_effect=FakeExc) self.patchobject(timeutils, 'retry_backoff_delay', return_value=0.01) h_d_side_effects = [ neutron_exp.Conflict(message='foo', request_ids=[1])] for i in range(self.num_retries): h_d_side_effects.append(neutron_exp.Conflict( message='foo', request_ids=[1])) self.patchobject( generic_rsrc.GenericResource, 'handle_delete', side_effect=h_d_side_effects) h_d_side_effects = [exception.PhysicalResourceExists(name=""foo"")] for i in range(self.num_retries): if i < self.num_retries-1: h_d_side_effects.append( exception.PhysicalResourceExists(name=""foo"")) else: h_d_side_effects.append(True) self.patchobject(timeutils, 'retry_backoff_delay', return_value=0.01) self.patchobject(generic_rsrc.GenericResource, 'handle_delete') self.patchobject(generic_rsrc.ResourceWithPropsRefPropOnDelete, 'check_delete_complete', side_effect=h_d_side_effects) "," self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_create') generic_rsrc.ResourceWithProps.handle_create().AndRaise( exception.ResourceFailure) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_create') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_delete') # first attempt to create fails generic_rsrc.ResourceWithProps.handle_create().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because')) # delete error resource from first attempt generic_rsrc.ResourceWithProps.handle_delete().AndReturn(None) # second attempt to create succeeds timeutils.retry_backoff_delay(1, jitter_max=2.0).AndReturn(0.01) generic_rsrc.ResourceWithProps.handle_create().AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_create') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_delete') # attempt to create fails generic_rsrc.ResourceWithProps.handle_create().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because')) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_create') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_delete') # first attempt to create fails generic_rsrc.ResourceWithProps.handle_create().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because')) # first attempt to delete fails generic_rsrc.ResourceWithProps.handle_delete().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='DELETE', status_reason='delete failed')) # second attempt to delete fails timeutils.retry_backoff_delay(1, jitter_max=2.0).AndReturn(0.01) generic_rsrc.ResourceWithProps.handle_delete().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='DELETE', status_reason='delete failed again')) # third attempt to delete succeeds timeutils.retry_backoff_delay(2, jitter_max=2.0).AndReturn(0.01) generic_rsrc.ResourceWithProps.handle_delete().AndReturn(None) # second attempt to create succeeds timeutils.retry_backoff_delay(1, jitter_max=2.0).AndReturn(0.01) generic_rsrc.ResourceWithProps.handle_create().AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_create') self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_delete') # first attempt to create fails generic_rsrc.ResourceWithProps.handle_create().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because')) # delete error resource from first attempt generic_rsrc.ResourceWithProps.handle_delete().AndReturn(None) # second attempt to create fails timeutils.retry_backoff_delay(1, jitter_max=2.0).AndReturn(0.01) generic_rsrc.ResourceWithProps.handle_create().AndRaise( exception.ResourceInError(resource_name='test_resource', resource_status='ERROR', resource_type='GenericResourceType', resource_action='CREATE', status_reason='just because')) # delete error resource from second attempt generic_rsrc.ResourceWithProps.handle_delete().AndReturn(None) # third attempt to create succeeds timeutils.retry_backoff_delay(2, jitter_max=2.0).AndReturn(0.01) generic_rsrc.ResourceWithProps.handle_create().AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(res, 'handle_create') self.m.StubOutWithMock(res, 'check_create_complete') self.m.StubOutWithMock(res, 'handle_create_cancel') res.handle_create().AndReturn(cookie) res.check_create_complete(cookie).AndReturn(False) res.handle_create_cancel(cookie).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(res, 'handle_create') self.m.StubOutWithMock(res, 'check_create_complete') self.m.StubOutWithMock(res, 'handle_create_cancel') res.handle_create().AndReturn(cookie) res.check_create_complete(cookie).AndReturn(False) res.handle_create_cancel(cookie).AndRaise(Exception) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_update') generic_rsrc.ResourceWithProps.handle_update( utmpl, mock.ANY, prop_diff).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_update') generic_rsrc.ResourceWithProps.handle_update( utmpl, mock.ANY, prop_diff).AndRaise(resource.UpdateReplace( res.name)) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_update') generic_rsrc.ResourceWithProps.handle_update( utmpl, mock.ANY, prop_diff).AndRaise(resource.UpdateReplace()) self.m.ReplayAll() self.m.VerifyAll() tmpl_diff = {'Properties': {'Foo': 'xyz'}} self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_update') generic_rsrc.ResourceWithProps.handle_update( utmpl, tmpl_diff, prop_diff).AndRaise(NotImplementedError) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(res, '_needs_update') self.m.StubOutWithMock(res, 'handle_update') self.m.StubOutWithMock(res, 'check_update_complete') self.m.StubOutWithMock(res, 'handle_update_cancel') res._needs_update(mock.ANY, mock.ANY, mock.ANY, mock.ANY, None).AndReturn(True) res.handle_update(mock.ANY, mock.ANY, mock.ANY).AndReturn(cookie) res.check_update_complete(cookie).AndReturn(False) res.handle_update_cancel(cookie).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_suspend') generic_rsrc.ResourceWithProps.handle_suspend().AndRaise(Exception()) self.m.ReplayAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'handle_resume') generic_rsrc.ResourceWithProps.handle_resume().AndRaise(Exception()) self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') self.m.StubOutWithMock(generic_rsrc.GenericResource, 'handle_delete') generic_rsrc.GenericResource.handle_delete().AndRaise( neutron_exp.Conflict(message='foo', request_ids=[1])) for i in range(self.num_retries): timeutils.retry_backoff_delay(i+1, jitter_max=2.0).AndReturn( 0.01) generic_rsrc.GenericResource.handle_delete().AndRaise( neutron_exp.Conflict(message='foo', request_ids=[1])) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') self.m.StubOutWithMock(generic_rsrc.GenericResource, 'handle_delete') self.m.StubOutWithMock(generic_rsrc.ResourceWithPropsRefPropOnDelete, 'check_delete_complete') generic_rsrc.GenericResource.handle_delete().AndReturn(None) generic_rsrc.ResourceWithPropsRefPropOnDelete.check_delete_complete( None).AndRaise( exception.PhysicalResourceExists(name=""foo"")) for i in range(self.num_retries): timeutils.retry_backoff_delay(i+1, jitter_max=2.0).AndReturn( 0.01) generic_rsrc.GenericResource.handle_delete().AndReturn(None) if i < self.num_retries-1: generic_rsrc.ResourceWithPropsRefPropOnDelete.\ check_delete_complete(None).AndRaise( exception.PhysicalResourceExists(name=""foo"")) else: generic_rsrc.ResourceWithPropsRefPropOnDelete.\ check_delete_complete(None).AndReturn(True) self.m.ReplayAll() self.m.VerifyAll()",130,205
openstack%2Fheat~master~Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720,openstack/heat,master,Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720,Remove mox from test_instance,MERGED,2018-03-29 01:26:44.000000000,2018-04-27 06:26:17.000000000,2018-04-27 06:26:17.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 19554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 01:26:44.000000000', 'files': ['heat/tests/aws/test_instance.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b3f0a7e2e5bd11bd1909d28344c74ae7e2aa4b25', 'message': 'Remove mox from test_instance\n\nChange-Id: Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720\n'}]",0,557566,b3f0a7e2e5bd11bd1909d28344c74ae7e2aa4b25,8,4,1,4257,,,0,"Remove mox from test_instance

Change-Id: Ie89ccc7fff15a2b1d7c5a2b3655d5bffd0279720
",git fetch https://review.opendev.org/openstack/heat refs/changes/66/557566/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/aws/test_instance.py'],1,b3f0a7e2e5bd11bd1909d28344c74ae7e2aa4b25,mox-removal," self.patchobject(glance.GlanceClientPlugin, 'find_image_by_name_or_id', return_value=imageId) self.patchobject(glance.GlanceClientPlugin, 'find_image_by_name_or_id', side_effect=exp) self.patchobject(nova.NovaClientPlugin, 'client', return_value=self.fc) self.mock_create = mock.Mock(return_value=return_server) self.fc.servers.create = self.mock_create def _create_test_instance(self, return_server, name): instance = self._setup_test_instance(return_server, name) bdm = {""vdb"": ""9ef5496e-7426-446a-bbc8-01f84d9c9972:snap::True""} mock_get = mock.Mock(return_value=return_server) with mock.patch.object(self.fc.servers, 'get', mock_get): scheduler.TaskRunner(instance.create)() self.mock_create.assert_called_once_with( image=1, flavor=1, key_name='test', name=utils.PhysName( self.stack.name, instance.name, limit=instance.physical_resource_name_limit), security_groups=None, userdata=mock.ANY, scheduler_hints={'foo': ['spam', 'ham', 'baz'], 'bar': 'eggs'}, meta=None, nics=None, availability_zone=None, block_device_mapping=bdm) mock_get.assert_called_with(return_server.id) mock_get_vol = self.patchobject(cinder.CinderClientPlugin, 'get_volume', side_effect=ex) mock_get_vol.assert_called_once_with('1234') self.patchobject(nova.NovaClientPlugin, 'client', return_value=self.fc) self.patchobject(nova.NovaClientPlugin, 'client', return_value=self.fc) self.patchobject(nova.NovaClientPlugin, 'client', return_value=self.fc) self.fc.servers.get = mock.Mock(return_value=return_server) self.fc.servers.get.assert_called_once_with(instance.resource_id) self.fc.servers.get = mock.Mock(return_value=return_server) self.fc.servers.get.assert_called_once_with(instance.resource_id) self.fc.servers.get = mock.Mock(return_value=return_server) self.fc.servers.get.assert_called_once_with(instance.resource_id) self.patchobject(nova.NovaClientPlugin, 'client', return_value=self.fc) self.fc.servers.create = mock.Mock(return_value=return_server) scheduler.TaskRunner(instance.create)() self.assertGreater(instance.id, 0) self.fc.servers.create.assert_called_once_with( userdata=mock.ANY, block_device_mapping=bdm) self.patchobject(nova.NovaClientPlugin, 'client', return_value=self.fc) mock_get = mock.Mock() self.fc.client.get_servers_1234 = mock_get mock_get.side_effect = [(200, d1), (200, d2)] else: mock_get.side_effect = [(200, d1), fakes_nova.fake_exception()] self.assertEqual(2, mock_get.call_count) self.fc.client.delete_servers_1234 = mock.Mock( side_effect=fakes_nova.fake_exception()) self.fc.client.delete_servers_1234.assert_called_once() statuses = iter([ 'ACTIVE', 'RESIZE', 'VERIFY_RESIZE', 'VERIFY_RESIZE', 'ACTIVE' ]) def get_with_status(*args): return_server.status = next(statuses) return return_server self.fc.servers.get = mock.Mock(side_effect=get_with_status) self.fc.client.post_servers_1234_action = mock.Mock( return_value=(202, None)) self.fc.servers.get.assert_called_with('1234') self.assertEqual(5, self.fc.servers.get.call_count) self.fc.client.post_servers_1234_action.assert_has_calls([ mock.call(body={'resize': {'flavorRef': 2}}), mock.call(body={'confirmResize': None}), ]) self.assertEqual(2, self.fc.client.post_servers_1234_action.call_count) statuses = iter([ return_server.status, 'RESIZE', 'ERROR', ]) def get_with_status(*args): return_server.status = next(statuses) return return_server self.fc.servers.get = mock.Mock(side_effect=get_with_status) self.fc.client.post_servers_1234_action = mock.Mock( return_value=(202, None)) self.fc.servers.get.assert_called_with('1234') self.assertEqual(3, self.fc.servers.get.call_count) self.fc.client.post_servers_1234_action.assert_called_once_with( body={'resize': {'flavorRef': 2}}) self.fc.servers.get = mock.Mock(return_value=return_server) return_server.interface_detach = mock.Mock(return_value=None) return_server.interface_attach = mock.Mock(return_value=None) self.fc.servers.get.assert_called_with('1234') return_server.interface_detach.assert_called_once_with( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46') return_server.interface_attach.assert_called_once_with( '34b752ec-14de-416a-8722-9531015e04a5', None, None) self.fc.servers.get = mock.Mock(return_value=return_server) return_server.interface_detach = mock.Mock(return_value=None) self.fc.servers.get.assert_called_with('1234') return_server.interface_detach.assert_called_once_with( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46') self.fc.servers.get = mock.Mock(return_value=return_server) return_server.interface_attach = mock.Mock(return_value=None) self.fc.servers.get.assert_called_with('1234') return_server.interface_attach.assert_called_once_with( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46', None, None) self.fc.servers.get = mock.Mock(return_value=return_server) return_server.interface_detach = mock.Mock(return_value=None) return_server.interface_attach = mock.Mock(return_value=None) self.fc.servers.get.assert_called_with('1234') return_server.interface_detach.assert_called_once_with( 'ea29f957-cd35-4364-98fb-57ce9732c10d') return_server.interface_attach.assert_has_calls([ mock.call('d1e9c73c-04fe-4e9e-983c-d5ef94cd1a46', None, None), mock.call('34b752ec-14de-416a-8722-9531015e04a5', None, None), ], any_order=True) self.assertEqual(2, return_server.interface_attach.call_count) self.fc.servers.get = mock.Mock(return_value=return_server) return_server.interface_list = mock.Mock(return_value=[iface]) return_server.interface_detach = mock.Mock(return_value=None) return_server.interface_attach = mock.Mock(return_value=None) self.fc.servers.get.assert_called_with('1234') return_server.interface_list.assert_called_once_with() return_server.interface_detach.assert_called_once_with( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46') return_server.interface_attach.assert_has_calls([ mock.call('ea29f957-cd35-4364-98fb-57ce9732c10d', None, None), mock.call('34b752ec-14de-416a-8722-9531015e04a5', None, None), ]) self.assertEqual(2, return_server.interface_attach.call_count) self.fc.servers.get = mock.Mock(return_value=return_server) return_server.interface_list = mock.Mock(return_value=[iface]) return_server.interface_detach = mock.Mock(return_value=None) return_server.interface_attach = mock.Mock(return_value=None) self.fc.servers.get.assert_called_with('1234') return_server.interface_list.assert_called_once_with() return_server.interface_detach.assert_called_once_with( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46') return_server.interface_attach.assert_called_once_with(None, None, None) self.fc.servers.get = mock.Mock(return_value=return_server) if need_update: return_server.interface_list = mock.Mock(return_value=[iface]) return_server.interface_detach = mock.Mock(return_value=None) instance._build_nics = mock.Mock(return_value=nics) return_server.interface_attach = mock.Mock(return_value=None) if need_update: self.fc.servers.get.assert_called_with('1234') if not multiple_get: self.fc.servers.get.assert_called_once() return_server.interface_list.assert_called_once_with() return_server.interface_detach.assert_called_once_with( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46') instance._build_nics.assert_called_once_with(new_interfaces, security_groups=None, subnet_id=subnet_id) return_server.interface_attach.assert_called_once_with( 'ea29f957-cd35-4364-98fb-57ce9732c10d', None, None) else: self.fc.servers.get.assert_not_called() return return_server self.fc.servers.get = mock.Mock(side_effect=status_active) self.fc.servers.get.assert_called_with(instance.resource_id) self.fc.client.get_servers_1234 = mock.Mock( side_effect=[(200, d1), (200, d1), (200, d2)]) self.assertEqual(3, self.fc.client.get_servers_1234.call_count) self.fc.client.get_servers_1234 = mock.Mock( side_effect=[(200, d1), (200, d1), (200, d2)]) self.assertEqual(3, self.fc.client.get_servers_1234.call_count) self.fc.client.get_servers_1234 = mock.Mock( side_effect=fakes_nova.fake_exception(status_code=500, message='VIKINGS!')) self.fc.client.get_servers_1234.assert_called() status_calls = [] def get_with_status(*args): if not status_calls: return_server.status = uncommon_status else: return_server.status = 'ACTIVE' status_calls.append(None) return return_server self.fc.servers.get = mock.Mock(side_effect=get_with_status) self.assertGreaterEqual(self.fc.servers.get.call_count, 2) self.nclient = mock.Mock(spec=neutronclient.Client) self.patchobject(neutronclient, 'Client', return_value=self.nclient) self.nclient.list_security_groups = mock.Mock( return_value=fake_groups_list) self.patchobject(neutron.NeutronClientPlugin, 'network_id_from_subnet_id', return_value='fake_network_id') self.nclient.create_port = mock.Mock( return_value={'port': {'id': 'fake_port_id'}}) self.stub_keystoneclient() self.nclient.create_port.assert_called_with({'port': props}) if not all_uuids: self.nclient.list_security_groups.assert_called_once_with() self.patchobject(nova.NovaClientPlugin, 'build_userdata', return_value=None) nova.NovaClientPlugin.build_userdata.assert_called_once_with( metadata, 'wordpress', 'ec2-user') self.fc.servers.get = mock.Mock(return_value=return_server) bdm = {""vdb"": ""9ef5496e-7426-446a-bbc8-01f84d9c9972:snap::True""} self.mock_create.assert_called_once_with( image=1, flavor=1, key_name='test', name=utils.PhysName( self.stack.name, instance.name, limit=instance.physical_resource_name_limit), security_groups=None, userdata=mock.ANY, scheduler_hints={'foo': ['spam', 'ham', 'baz'], 'bar': 'eggs'}, meta=None, nics=None, availability_zone=None, block_device_mapping=bdm) self.fc.servers.get.assert_called_with(return_server.id)","import mox self.m.StubOutWithMock(glance.GlanceClientPlugin, 'find_image_by_name_or_id') glance.GlanceClientPlugin.find_image_by_name_or_id( imageId_input).MultipleTimes().AndReturn(imageId) self.m.StubOutWithMock(glance.GlanceClientPlugin, 'find_image_by_name_or_id') glance.GlanceClientPlugin.find_image_by_name_or_id( image_id).AndRaise(exp) stub_create=True, stub_complete=False, bdm = {""vdb"": ""9ef5496e-7426-446a-bbc8-01f84d9c9972:snap::True""} self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().AndReturn(self.fc) if stub_create: self.m.StubOutWithMock(self.fc.servers, 'create') self.fc.servers.create( image=1, flavor=1, key_name='test', name=utils.PhysName( stack_name, instance.name, limit=instance.physical_resource_name_limit), security_groups=None, userdata=mox.IgnoreArg(), scheduler_hints={'foo': ['spam', 'ham', 'baz'], 'bar': 'eggs'}, meta=None, nics=None, availability_zone=None, block_device_mapping=bdm).AndReturn( return_server) if stub_complete: self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get(return_server.id ).MultipleTimes().AndReturn(return_server) def _create_test_instance(self, return_server, name, stub_create=True): instance = self._setup_test_instance(return_server, name, stub_create=stub_create, stub_complete=True) self.m.ReplayAll() scheduler.TaskRunner(instance.create)() self.m.UnsetStubs() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get(instance.resource_id).MultipleTimes( ).AndReturn(return_server) self.m.ReplayAll() self.m.VerifyAll() self.m.VerifyAll() self.m.StubOutWithMock(cinder.CinderClientPlugin, 'get_volume') cinder.CinderClientPlugin.get_volume('1234').AndRaise(ex) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().MultipleTimes().AndReturn(self.fc) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().MultipleTimes().AndReturn(self.fc) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().MultipleTimes().AndReturn(self.fc) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get(instance.resource_id).AndReturn(return_server) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get(instance.resource_id).AndReturn(return_server) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get(instance.resource_id).AndReturn(return_server) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().AndReturn(self.fc) self.m.StubOutWithMock(self.fc.servers, 'create') self.fc.servers.create( userdata=mox.IgnoreArg(), block_device_mapping=bdm).AndReturn( return_server) self.m.ReplayAll() scheduler.TaskRunner(instance.create)() self.assertGreater(instance.id, 0) self.m.VerifyAll() self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().AndReturn(self.fc) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.client, 'get_servers_1234') get = self.fc.client.get_servers_1234 get().AndReturn((200, d1)) get().AndReturn((200, d2)) else: get().AndRaise(fakes_nova.fake_exception()) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.client, 'delete_servers_1234') self.fc.client.delete_servers_1234().AndRaise( fakes_nova.fake_exception()) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') def status_resize(*args): return_server.status = 'RESIZE' def status_verify_resize(*args): return_server.status = 'VERIFY_RESIZE' def status_active(*args): return_server.status = 'ACTIVE' self.fc.servers.get('1234').WithSideEffects( status_active).AndReturn(return_server) self.fc.servers.get('1234').WithSideEffects( status_resize).AndReturn(return_server) self.fc.servers.get('1234').WithSideEffects( status_verify_resize).AndReturn(return_server) self.fc.servers.get('1234').WithSideEffects( status_verify_resize).AndReturn(return_server) self.fc.servers.get('1234').WithSideEffects( status_active).AndReturn(return_server) self.m.StubOutWithMock(self.fc.client, 'post_servers_1234_action') self.fc.client.post_servers_1234_action( body={'resize': {'flavorRef': 2}}).AndReturn((202, None)) self.fc.client.post_servers_1234_action( body={'confirmResize': None}).AndReturn((202, None)) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') def status_resize(*args): return_server.status = 'RESIZE' def status_error(*args): return_server.status = 'ERROR' self.fc.servers.get('1234').AndReturn(return_server) self.fc.servers.get('1234').WithSideEffects( status_resize).AndReturn(return_server) self.fc.servers.get('1234').WithSideEffects( status_error).AndReturn(return_server) self.m.StubOutWithMock(self.fc.client, 'post_servers_1234_action') self.fc.client.post_servers_1234_action( body={'resize': {'flavorRef': 2}}).AndReturn((202, None)) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get('1234').MultipleTimes().AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_detach') return_server.interface_detach( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46').AndReturn(None) self.m.StubOutWithMock(return_server, 'interface_attach') return_server.interface_attach('34b752ec-14de-416a-8722-9531015e04a5', None, None).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get('1234').MultipleTimes().AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_detach') return_server.interface_detach( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46').AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get('1234').MultipleTimes().AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_attach') return_server.interface_attach('d1e9c73c-04fe-4e9e-983c-d5ef94cd1a46', None, None).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get('1234').MultipleTimes().AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_detach') return_server.interface_detach( 'ea29f957-cd35-4364-98fb-57ce9732c10d').AndReturn(None) self.m.StubOutWithMock(return_server, 'interface_attach') return_server.interface_attach('d1e9c73c-04fe-4e9e-983c-d5ef94cd1a46', None, None).InAnyOrder().AndReturn(None) return_server.interface_attach('34b752ec-14de-416a-8722-9531015e04a5', None, None).InAnyOrder().AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get('1234').MultipleTimes().AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_list') return_server.interface_list().AndReturn([iface]) self.m.StubOutWithMock(return_server, 'interface_detach') return_server.interface_detach( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46').AndReturn(None) self.m.StubOutWithMock(return_server, 'interface_attach') return_server.interface_attach('ea29f957-cd35-4364-98fb-57ce9732c10d', None, None).AndReturn(None) return_server.interface_attach('34b752ec-14de-416a-8722-9531015e04a5', None, None).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get('1234').MultipleTimes().AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_list') return_server.interface_list().AndReturn([iface]) self.m.StubOutWithMock(return_server, 'interface_detach') return_server.interface_detach( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46').AndReturn(None) self.m.StubOutWithMock(return_server, 'interface_attach') return_server.interface_attach(None, None, None).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') if need_update: if multiple_get: self.fc.servers.get('1234').MultipleTimes().AndReturn( return_server) else: self.fc.servers.get('1234').AndReturn(return_server) self.m.StubOutWithMock(return_server, 'interface_list') return_server.interface_list().AndReturn([iface]) self.m.StubOutWithMock(return_server, 'interface_detach') return_server.interface_detach( 'd1e9c73c-04fe-4e9e-983c-d5ef94cd1a46').AndReturn(None) self.m.StubOutWithMock(instance, '_build_nics') instance._build_nics(new_interfaces, security_groups=None, subnet_id=subnet_id).AndReturn(nics) self.m.StubOutWithMock(return_server, 'interface_attach') return_server.interface_attach( 'ea29f957-cd35-4364-98fb-57ce9732c10d', None, None).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') self.fc.servers.get(instance.resource_id).WithSideEffects( status_active).MultipleTimes().AndReturn(return_server) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.client, 'get_servers_1234') get = self.fc.client.get_servers_1234 get().AndReturn((200, d1)) get().AndReturn((200, d1)) get().AndReturn((200, d2)) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.client, 'get_servers_1234') get = self.fc.client.get_servers_1234 get().AndReturn((200, d1)) get().AndReturn((200, d1)) get().AndReturn((200, d2)) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.StubOutWithMock(self.fc.client, 'get_servers_1234') get = self.fc.client.get_servers_1234 get().AndRaise(fakes_nova.fake_exception(status_code=500, message='VIKINGS!')) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(self.fc.servers, 'get') def status_not_build(*args): return_server.status = uncommon_status def status_active(*args): return_server.status = 'ACTIVE' self.fc.servers.get(instance.resource_id).WithSideEffects( status_not_build).AndReturn(return_server) self.fc.servers.get(instance.resource_id).WithSideEffects( status_active).MultipleTimes().AndReturn(return_server) self.m.ReplayAll() self.m.VerifyAll() nclient = neutronclient.Client() self.m.StubOutWithMock(instance, 'neutron') instance.neutron().MultipleTimes().AndReturn(nclient) self.m.StubOutWithMock( neutronclient.Client, 'list_security_groups') neutronclient.Client.list_security_groups().AndReturn( fake_groups_list) self.m.StubOutWithMock(neutron.NeutronClientPlugin, 'network_id_from_subnet_id') neutron.NeutronClientPlugin.network_id_from_subnet_id( 'fake_subnet_id').MultipleTimes().AndReturn('fake_network_id') if not get_secgroup_raises: self.m.StubOutWithMock(neutronclient.Client, 'create_port') neutronclient.Client.create_port( {'port': props}).MultipleTimes().AndReturn( {'port': {'id': 'fake_port_id'}}) self.stub_keystoneclient() self.m.ReplayAll() self.m.VerifyAll() self.m.UnsetStubs() self.m.StubOutWithMock(nova.NovaClientPlugin, 'build_userdata') nova.NovaClientPlugin.build_userdata( metadata, 'wordpress', 'ec2-user') self.m.ReplayAll() self.m.VerifyAll() stub_complete=True, self.m.ReplayAll() self.m.VerifyAll()",240,331
openstack%2Fzun~master~I891f5b761b80a79002a6520b1569f3c3e9276cc4,openstack/zun,master,I891f5b761b80a79002a6520b1569f3c3e9276cc4,Consolidate the essential fields in Capsule,ABANDONED,2018-04-26 08:15:13.000000000,2018-04-27 06:13:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-26 08:15:13.000000000', 'files': ['zun/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a2abff272c8293b447b7299f602f97301af8aab5', 'message': 'Consolidate the essential fields in Capsule\n\nChange-Id: I891f5b761b80a79002a6520b1569f3c3e9276cc4\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}]",0,564420,a2abff272c8293b447b7299f602f97301af8aab5,3,1,1,22076,,,0,"Consolidate the essential fields in Capsule

Change-Id: I891f5b761b80a79002a6520b1569f3c3e9276cc4
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
",git fetch https://review.opendev.org/openstack/zun refs/changes/20/564420/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/db/sqlalchemy/models.py'],1,a2abff272c8293b447b7299f602f97301af8aab5,," capsule_version = Column(String(255), nullable=False) kind = Column(String(255), nullable=False) restart_policy = Column(String(255), nullable=False) project_id = Column(String(255), nullable=False) user_id = Column(String(255), nullable=False) status = Column(String(20), nullable=False) meta_name = Column(String(255), nullable=False) spec = Column(JSONEncodedDict, nullable=False)", capsule_version = Column(String(255)) kind = Column(String(255)) restart_policy = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)) status = Column(String(20)) meta_name = Column(String(255)) spec = Column(JSONEncodedDict),8,8
openstack%2Fproject-config~master~I121809c5fa2f1532041c774425ecb02b560ce272,openstack/project-config,master,I121809c5fa2f1532041c774425ecb02b560ce272,Allows networking-onos-core group to create a new branch,ABANDONED,2018-04-27 04:24:25.000000000,2018-04-27 05:39:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-27 04:24:25.000000000', 'files': ['gerrit/acls/openstack/networking-onos.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/140bad7ab7edcd3ba33ce940b586e72219a3a308', 'message': 'Allows networking-onos-core group to create a new branch\n\nChange-Id: I121809c5fa2f1532041c774425ecb02b560ce272\n'}]",0,564669,140bad7ab7edcd3ba33ce940b586e72219a3a308,3,1,1,25575,,,0,"Allows networking-onos-core group to create a new branch

Change-Id: I121809c5fa2f1532041c774425ecb02b560ce272
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/564669/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/networking-onos.config'],1,140bad7ab7edcd3ba33ce940b586e72219a3a308,,pushMerge = group networking-onos-corecreate = group networking-onos-core,create = group networking-onos-release,2,1
openstack%2Fironic~master~I3be46cf4fe46a981caa6711a962324a6a1a67cfa,openstack/ironic,master,I3be46cf4fe46a981caa6711a962324a6a1a67cfa,Add unit test for check of glance image status,MERGED,2018-04-27 00:29:00.000000000,2018-04-27 05:34:07.000000000,2018-04-27 05:34:07.000000000,"[{'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 00:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/048b2af126c650c01a3d8712a8285000e2e0214e', 'message': 'Add unit test for check of glance image status\n\nAdd a unit test for glance image status check added in\nhttps://review.openstack.org/#/c/559500/.\n\nChange-Id: I3be46cf4fe46a981caa6711a962324a6a1a67cfa\n'}, {'number': 2, 'created': '2018-04-27 00:48:03.000000000', 'files': ['ironic/tests/unit/common/test_glance_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d741556f0f0a012ec82d08ae30eacd7d07b8a439', 'message': 'Add unit test for check of glance image status\n\nAdd a unit test for glance image status check added in\nhttps://review.openstack.org/#/c/559500/.\n\nChange-Id: I3be46cf4fe46a981caa6711a962324a6a1a67cfa\n'}]",0,564652,d741556f0f0a012ec82d08ae30eacd7d07b8a439,11,5,2,21909,,,0,"Add unit test for check of glance image status

Add a unit test for glance image status check added in
https://review.openstack.org/#/c/559500/.

Change-Id: I3be46cf4fe46a981caa6711a962324a6a1a67cfa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/564652/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/common/test_glance_service.py'],1,048b2af126c650c01a3d8712a8285000e2e0214e,glance_unit_test," def test_show_raises_when_image_not_active(self): image_id = uuidutils.generate_uuid() image = self._make_fixture(name='image1', is_public=True, id=image_id, status=""queued"") with mock.patch.object(self.service, 'call', return_value=image, autospec=True): self.assertRaises(exception.ImageUnacceptable, self.service.show, image_id) ",,10,0
openstack%2Fcastellan~stable%2Fpike~I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,openstack/castellan,stable/pike,I784bb4fbe3e33722f76e9ff063c456b84f1d8c97,Fix sphinx-docs job for stable branch,MERGED,2018-04-26 12:11:04.000000000,2018-04-27 05:17:32.000000000,2018-04-26 13:41:16.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 12:11:04.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/castellan/commit/b0ede4059ab7d3df138a462816b60a3922d3a2f0', 'message': 'Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nChange-Id: I784bb4fbe3e33722f76e9ff063c456b84f1d8c97\n'}]",0,564474,b0ede4059ab7d3df138a462816b60a3922d3a2f0,7,2,1,17685,,,0,"Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Change-Id: I784bb4fbe3e33722f76e9ff063c456b84f1d8c97
",git fetch https://review.opendev.org/openstack/castellan refs/changes/74/564474/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,b0ede4059ab7d3df138a462816b60a3922d3a2f0,pip10-stable-fix,"if [ -z ""$*"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fironic~stable%2Fpike~I83cf3e02622fc3ed8f5b5389f533e374c1b985f3,openstack/ironic,stable/pike,I83cf3e02622fc3ed8f5b5389f533e374c1b985f3,Remove too large configdrive for handling error,MERGED,2018-04-12 09:44:27.000000000,2018-04-27 04:40:17.000000000,2018-04-27 04:40:17.000000000,"[{'_account_id': 6618}, {'_account_id': 7102}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-04-12 09:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14d7005ffb761f2472dd3b1f03d870b756aa3919', 'message': ""Remove too large configdrive for handling error\n\nWhen configdrive is too large, a node object cannot be saved to DB. If\nit happens, the node cannot moved to DEPLOYFAIL because saving the node\nis prevented again by the large configdrive in the object. In this\ncase, the node gets stuck in DEPLOYING, which doesn't allow any state\ntransition.\n\nThis patch removes the configdrive from a node object when storing the\nconfigdrive fails. This also catches ConfigInvalid exception, which is\nmentioned in the docsting, and any unexpected exception from\n_store_configdrive() to avoid getting a node stuck in DEPLOYING.\n\nChange-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3\nCloses-Bug: 1745630\n(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)\n(cherry picked from commit 4545139c755a9da9538ded50a8f51f9453fc5b48)\n""}, {'number': 2, 'created': '2018-04-12 16:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/504aa1d778f61f9dd10d0c4e769c041d2f21cc20', 'message': ""Remove too large configdrive for handling error\n\nWhen configdrive is too large, a node object cannot be saved to DB. If\nit happens, the node cannot moved to DEPLOYFAIL because saving the node\nis prevented again by the large configdrive in the object. In this\ncase, the node gets stuck in DEPLOYING, which doesn't allow any state\ntransition.\n\nThis patch removes the configdrive from a node object when storing the\nconfigdrive fails. This also catches ConfigInvalid exception, which is\nmentioned in the docsting, and any unexpected exception from\n_store_configdrive() to avoid getting a node stuck in DEPLOYING.\n\nChange-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3\nCloses-Bug: 1745630\n(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)\n(cherry picked from commit 4545139c755a9da9538ded50a8f51f9453fc5b48)\n""}, {'number': 3, 'created': '2018-04-24 13:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/184a91d1cae4fad1e69004c74204f3f9ffc42621', 'message': ""Remove too large configdrive for handling error\n\nWhen configdrive is too large, a node object cannot be saved to DB. If\nit happens, the node cannot moved to DEPLOYFAIL because saving the node\nis prevented again by the large configdrive in the object. In this\ncase, the node gets stuck in DEPLOYING, which doesn't allow any state\ntransition.\n\nThis patch removes the configdrive from a node object when storing the\nconfigdrive fails. This also catches ConfigInvalid exception, which is\nmentioned in the docsting, and any unexpected exception from\n_store_configdrive() to avoid getting a node stuck in DEPLOYING.\n\nChange-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3\nCloses-Bug: 1745630\n(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)\n(cherry picked from commit 4545139c755a9da9538ded50a8f51f9453fc5b48)\n""}, {'number': 4, 'created': '2018-04-24 13:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f2a8490e4d61427ae82a9db690835f916af89f8', 'message': ""Remove too large configdrive for handling error\n\nWhen configdrive is too large, a node object cannot be saved to DB. If\nit happens, the node cannot moved to DEPLOYFAIL because saving the node\nis prevented again by the large configdrive in the object. In this\ncase, the node gets stuck in DEPLOYING, which doesn't allow any state\ntransition.\n\nThis patch removes the configdrive from a node object when storing the\nconfigdrive fails. This also catches ConfigInvalid exception, which is\nmentioned in the docsting, and any unexpected exception from\n_store_configdrive() to avoid getting a node stuck in DEPLOYING.\n\nChange-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3\nCloses-Bug: 1745630\n(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)\n(cherry picked from commit 4545139c755a9da9538ded50a8f51f9453fc5b48)\n""}, {'number': 5, 'created': '2018-04-25 07:05:37.000000000', 'files': ['releasenotes/notes/bug-1745630-d28c8de54cebd329.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a55331cf084f0dd12796581605585d5bdfb22ecb', 'message': ""Remove too large configdrive for handling error\n\nWhen configdrive is too large, a node object cannot be saved to DB. If\nit happens, the node cannot moved to DEPLOYFAIL because saving the node\nis prevented again by the large configdrive in the object. In this\ncase, the node gets stuck in DEPLOYING, which doesn't allow any state\ntransition.\n\nThis patch removes the configdrive from a node object when storing the\nconfigdrive fails. This also catches ConfigInvalid exception, which is\nmentioned in the docsting, and any unexpected exception from\n_store_configdrive() to avoid getting a node stuck in DEPLOYING.\n\n(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)\nChange-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3\nCloses-Bug: 1745630\n""}]",12,560845,a55331cf084f0dd12796581605585d5bdfb22ecb,50,12,5,7102,,,0,"Remove too large configdrive for handling error

When configdrive is too large, a node object cannot be saved to DB. If
it happens, the node cannot moved to DEPLOYFAIL because saving the node
is prevented again by the large configdrive in the object. In this
case, the node gets stuck in DEPLOYING, which doesn't allow any state
transition.

This patch removes the configdrive from a node object when storing the
configdrive fails. This also catches ConfigInvalid exception, which is
mentioned in the docsting, and any unexpected exception from
_store_configdrive() to avoid getting a node stuck in DEPLOYING.

(cherry picked from commit 927c487a0f822ab789f38be5f895fe061e5e71cb)
Change-Id: I83cf3e02622fc3ed8f5b5389f533e374c1b985f3
Closes-Bug: 1745630
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/560845/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1745630-d28c8de54cebd329.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py']",3,14d7005ffb761f2472dd3b1f03d870b756aa3919,bug/1745630-stable/queens-stable/pike,"from oslo_db import exception as db_exception def test__do_node_deploy_configdrive_db_error(self, mock_deploy): self._start_service() node = obj_utils.create_test_node(self.context, driver='fake', provision_state=states.DEPLOYING, target_provision_state=states.ACTIVE) task = task_manager.TaskManager(self.context, node.uuid) task.node.save() expected_instance_info = dict(node.instance_info) with mock.patch.object(dbapi.IMPL, 'update_node') as mock_db: db_node = self.dbapi.get_node_by_uuid(node.uuid) mock_db.side_effect = [db_exception.DBDataError('DB error'), db_node, db_node] self.assertRaises(db_exception.DBDataError, manager.do_node_deploy, task, self.service.conductor.id, configdrive=b'fake config drive') expected_instance_info.update(configdrive=b'fake config drive') expected_calls = [ mock.call(node.uuid, {'version': mock.ANY, 'instance_info': expected_instance_info}), mock.call(node.uuid, {'version': mock.ANY, 'provision_state': states.DEPLOYFAIL, 'target_provision_state': states.ACTIVE}), mock.call(node.uuid, {'version': mock.ANY, 'last_error': mock.ANY})] self.assertEqual(expected_calls, mock_db.mock_calls) self.assertFalse(mock_deploy.called) @mock.patch.object(manager, '_store_configdrive') @mock.patch('ironic.drivers.modules.fake.FakeDeploy.deploy') def test__do_node_deploy_configdrive_unexpected_error(self, mock_deploy, mock_store): self._start_service() node = obj_utils.create_test_node(self.context, driver='fake', provision_state=states.DEPLOYING, target_provision_state=states.ACTIVE) task = task_manager.TaskManager(self.context, node.uuid) mock_store.side_effect = RuntimeError('unexpected') self.assertRaises(RuntimeError, manager.do_node_deploy, task, self.service.conductor.id, configdrive=b'fake config drive') node.refresh() self.assertEqual(states.DEPLOYFAIL, node.provision_state) self.assertEqual(states.ACTIVE, node.target_provision_state) self.assertIsNotNone(node.last_error) self.assertFalse(mock_deploy.called) @mock.patch('ironic.drivers.modules.fake.FakeDeploy.deploy')class StoreConfigDriveTestCase(db_base.DbTestCase): self.node = obj_utils.create_test_node(self.context, driver='fake', instance_info=None) self.node.refresh() self.node.refresh()","from ironic.tests import base as tests_baseclass StoreConfigDriveTestCase(tests_base.TestCase): self.node = obj_utils.get_test_node(self.context, driver='fake', instance_info=None)",90,5
openstack%2Fironic~stable%2Fqueens~Ibd49d65f4512f2fa417794b66f4007d82f02e2ac,openstack/ironic,stable/queens,Ibd49d65f4512f2fa417794b66f4007d82f02e2ac,Fix ``agent`` deploy interface to call ``boot.prepare_instance``,MERGED,2018-04-23 13:28:29.000000000,2018-04-27 04:40:15.000000000,2018-04-27 04:40:14.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 13:28:29.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/network/neutron.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'releasenotes/notes/fix-prepare-instance-for-agent-interface-56753bdf04dd581f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a3506f4788bb25fee0b233c71d266f72112b388', 'message': 'Fix ``agent`` deploy interface to call ``boot.prepare_instance``\n\n``agent`` deploy interface do not call ``boot.prepare_instance``\nif image being provisioned is whole disk image. This commit fixes\nthat issue.\nIt also updates ``validate`` method of neutron network interface\nmodule to validate if it can support boot options requested for\ninstance image.\n\nChange-Id: Ibd49d65f4512f2fa417794b66f4007d82f02e2ac\nStory: 1713916\nTask: 9259\nStory: 1750958\nTask: 9288\n(cherry picked from commit 4fa1075b95e2e5262f98395275590dcd3833ab74)\n'}]",0,563621,0a3506f4788bb25fee0b233c71d266f72112b388,15,7,1,10239,,,0,"Fix ``agent`` deploy interface to call ``boot.prepare_instance``

``agent`` deploy interface do not call ``boot.prepare_instance``
if image being provisioned is whole disk image. This commit fixes
that issue.
It also updates ``validate`` method of neutron network interface
module to validate if it can support boot options requested for
instance image.

Change-Id: Ibd49d65f4512f2fa417794b66f4007d82f02e2ac
Story: 1713916
Task: 9259
Story: 1750958
Task: 9288
(cherry picked from commit 4fa1075b95e2e5262f98395275590dcd3833ab74)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/563621/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/network/neutron.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'releasenotes/notes/fix-prepare-instance-for-agent-interface-56753bdf04dd581f.yaml']",7,0a3506f4788bb25fee0b233c71d266f72112b388,cr_1713916-stable/queens,"--- fixes: - | Fixes ``direct`` deploy interface to invoke ``boot.prepare_instance`` irrespective of image type being provisioned. It was calling ``boot.prepare_instance`` only if the image being provisioned is a partition image. See bugs `1713916 <https://storyboard.openstack.org/#!/story/1713916>`_ and `1750958 <https://storyboard.openstack.org/#!/story/1750958>`_ for details. upgrade: - | With the deploy ramdisk based on Ironic Python Agent version 3.1.0 and beyond, the drivers using ``direct`` deploy interface performs ``netboot`` or ``local`` boot for whole disk image based on value of boot option setting. When you upgrade Ironic Python Agent in your deploy ramdisk, ensure that boot option is set appropriately for the node. The boot option can be set using configuration ``[deploy]/default_boot_option`` or as a ``boot_option`` capability in node's ``properties['capabilities']``. Also please note that this functionality requires ``hexdump`` command in the ramdisk. ",,506,127
openstack%2Fironic~stable%2Fqueens~I3445d6c33660be535babcf3e300ac4ba1b86ae4f,openstack/ironic,stable/queens,I3445d6c33660be535babcf3e300ac4ba1b86ae4f,Stop verifying updated driver in creating task,MERGED,2018-04-24 13:42:05.000000000,2018-04-27 04:40:12.000000000,2018-04-27 04:40:12.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 13:42:05.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/common/driver_factory.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/bug-2001832-62e244dc48c1f79e.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bd1d7c9f121a3b50fb6de254417466645328656', 'message': ""Stop verifying updated driver in creating task\n\nWhen a driver of a node is updated, the new driver is passed for\ncreating a task. If a new driver is a hardware type, the new hardware\ntype is validated with existing interfaces stored in database even\nif requesting to update interfaces together. This causes an error if\nthe new hardware type doesn't support an existing interface.\n\nNow that a hardware type and interfaces are validated before creating a\ntask for locking a node when the node is updated, it is not necessary\nto verify an updated driver in the task creation.\n\nChange-Id: I3445d6c33660be535babcf3e300ac4ba1b86ae4f\nStory: #2001832\nTask: #12595\n(cherry picked from commit acdc372b5dd2abfeaf12ca657c3edbf6d0f5df3a)\n""}]",0,563961,8bd1d7c9f121a3b50fb6de254417466645328656,10,7,1,10239,,,0,"Stop verifying updated driver in creating task

When a driver of a node is updated, the new driver is passed for
creating a task. If a new driver is a hardware type, the new hardware
type is validated with existing interfaces stored in database even
if requesting to update interfaces together. This causes an error if
the new hardware type doesn't support an existing interface.

Now that a hardware type and interfaces are validated before creating a
task for locking a node when the node is updated, it is not necessary
to verify an updated driver in the task creation.

Change-Id: I3445d6c33660be535babcf3e300ac4ba1b86ae4f
Story: #2001832
Task: #12595
(cherry picked from commit acdc372b5dd2abfeaf12ca657c3edbf6d0f5df3a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/563961/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/common/driver_factory.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/bug-2001832-62e244dc48c1f79e.yaml', 'ironic/conductor/task_manager.py']",6,8bd1d7c9f121a3b50fb6de254417466645328656,bug/2001832-stable/queens,"def acquire(context, node_id, shared=False, purpose='unspecified action'): return TaskManager(context, node_id, shared=shared, purpose=purpose) def __init__(self, context, node_id, shared=False, self.driver = driver_factory.build_driver_for_task(self)","def acquire(context, node_id, shared=False, driver_name=None, purpose='unspecified action'): :param driver_name: Name of Driver. Default: None. return TaskManager(context, node_id, shared=shared, driver_name=driver_name, purpose=purpose) def __init__(self, context, node_id, shared=False, driver_name=None, :param driver_name: The name of the driver to load, if different from the Node's current driver. self.driver = driver_factory.build_driver_for_task( self, driver_name=driver_name)",34,83
openstack%2Fironic~stable%2Fqueens~Ib261401ab5681fd8ba1a91252a5bed51ec73c757,openstack/ironic,stable/queens,Ib261401ab5681fd8ba1a91252a5bed51ec73c757,Implement a function to check the image status,MERGED,2018-04-26 13:58:24.000000000,2018-04-27 04:21:30.000000000,2018-04-27 04:21:30.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 25820}]","[{'number': 1, 'created': '2018-04-26 13:58:24.000000000', 'files': ['ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/unit/common/test_glance_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ee202e42f404da8e756c1e0f79631dc5ee1866f', 'message': 'Implement a function to check the image status\n\nUsing new function is_image_active to confirm if the image is active\n\nChange-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757\nStory: 2001797\nTask: 12519\n(cherry picked from commit 8aa46de0ec8321616284b888875424d964efc5e6)\n'}]",0,564515,7ee202e42f404da8e756c1e0f79631dc5ee1866f,11,8,1,21909,,,0,"Implement a function to check the image status

Using new function is_image_active to confirm if the image is active

Change-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757
Story: 2001797
Task: 12519
(cherry picked from commit 8aa46de0ec8321616284b888875424d964efc5e6)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/564515/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/unit/common/test_glance_service.py']",3,7ee202e42f404da8e756c1e0f79631dc5ee1866f,story/2001797-stable/queens," 'status': ""active"", 'status': ""active"","," 'status': None, 'status': None,",17,2
openstack%2Fnova~master~I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5,openstack/nova,master,I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5,Add host/hostId to instance action events API,MERGED,2018-03-28 04:09:29.000000000,2018-04-27 03:52:44.000000000,2018-04-26 20:42:06.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 27076}, {'_account_id': 27190}, {'_account_id': 27686}]","[{'number': 1, 'created': '2018-03-28 04:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53a467b24b7db76e1b09d84d77fb370efac81c95', 'message': '[WIP] Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os=instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 2, 'created': '2018-03-28 08:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9c97d8194b21777ebbc13f5cc89a6eccefe88c8', 'message': '[WIP] Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os=instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 3, 'created': '2018-03-29 03:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ddedf60a100f04c87621ab277c1e09a3aeb8c19', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os=instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 4, 'created': '2018-03-29 03:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e6bd1d9577cea54cb392070ec03b8bc79a3f25d', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os=instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 5, 'created': '2018-03-31 07:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffb07ad1195ec02bad17442035e5a2a351af0e71', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os=instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 6, 'created': '2018-04-03 03:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee51845ffcf194a088c899f744461ac41422627a', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os=instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 7, 'created': '2018-04-09 02:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58132bf1b517d03c7c8886c98c6e27b0a5da66de', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 8, 'created': '2018-04-13 11:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/692dd51f7660baed319c23f293c569d1f95a2658', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 9, 'created': '2018-04-16 01:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fec64bce2c14c105c0611c87d665351be0893b5f', 'message': 'Add host/hostId to instance action events API\n\nThis patch add a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And The display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly field would be used by user to get the host info of the\naction event occurs.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 10, 'created': '2018-04-17 02:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/483c0bbe2953983e0aebb10a5be6cf0c23a1c1ac', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 11, 'created': '2018-04-17 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8bf74db64fe530edb0816d363228a8fe94c7ad8', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 12, 'created': '2018-04-17 10:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b59df23f859e03a8eb002bb6651e7626e8a26d7', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 13, 'created': '2018-04-19 07:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ce7d07fe0527e0dd41eb78264a37acb3f5c6623', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 14, 'created': '2018-04-26 01:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eef75c7cad290f3c115663a294798c3afb554cf5', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all user\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy of ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 15, 'created': '2018-04-26 13:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a833b7bb0542a360f49971f940ee2e04459c2f42', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all users\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy as the ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}, {'number': 16, 'created': '2018-04-26 14:17:06.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-timestamp-filter.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-limit-resp.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-action-get-non-admin-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'doc/api_samples/os-instance-actions/v2.62/instance-action-get-resp.json', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-limit-resp.json', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-timestamp-filter.json.tpl', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-resp.json', 'releasenotes/notes/add-host-to-instance-action-events-aad2cc18fe191afa.yaml', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-marker-resp.json', 'nova/tests/unit/fake_server_actions.py', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-marker-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-action-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_instance_actions.py', 'api-ref/source/os-instance-actions.inc', 'nova/policies/instance_actions.py', 'nova/api/openstack/compute/instance_actions.py', 'doc/api_samples/os-instance-actions/v2.62/instance-action-get-non-admin-resp.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2f7d6585818c04e626aa4b6c292e5c2660cb8b3', 'message': 'Add host/hostId to instance action events API\n\nThis patch adds a new microversion to\n``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to\ninclude the ``host`` field for admin and an ``hostId`` for all users\nby default. And the display of newly added ``host`` field will be\ncontrolled by the same policy as the ``traceback`` field.\n\nThe newly added fields can be used to determine on which host a\ngiven action event occurred.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5\n'}]",122,557145,c2f7d6585818c04e626aa4b6c292e5c2660cb8b3,233,25,16,20722,,,0,"Add host/hostId to instance action events API

This patch adds a new microversion to
``GET /servers/{server_id}/os-instance-actions/{req_id}`` API to
include the ``host`` field for admin and an ``hostId`` for all users
by default. And the display of newly added ``host`` field will be
controlled by the same policy as the ``traceback`` field.

The newly added fields can be used to determine on which host a
given action event occurred.

Part of blueprint: add-host-to-instance-action-events

Change-Id: I2f8b4a12a088b9ed96b428eafde2e0c478fb1db5
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/557145/12 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.61/instance-action-get-non-admin-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.61/instance-action-get-resp.json', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/functional/api_sample_tests/test_instance_actions.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'api-ref/source/os-instance-actions.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.61/instance-action-get-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.61/instance-action-get-non-admin-resp.json', 'nova/api/openstack/compute/instance_actions.py']",12,53a467b24b7db76e1b09d84d77fb370efac81c95,bp/add-host-to-instance-action-events," def _format_event(self, event_raw, project_id, show_traceback=False, show_host=False, show_hostid=False): # By default, non-admins are not allowed to see host. if show_host: event['host'] = event_raw.get('host') if show_hostid: event['hostId'] = event_raw.get('host') + project_id show_host = False show_hostid = False if api_version_request.is_supported(req, '2.61'): show_host = True # An obfuscated hashed host id are returned since microversion 2.61 # for all users. if api_version_request.is_supported(req, '2.61'): show_hostid = True action['events'] = [self._format_event(evt, action['project_id'], show_traceback, show_host, show_hostid)"," def _format_event(self, event_raw, show_traceback=False): action['events'] = [self._format_event(evt, show_traceback)",150,9
openstack%2Ftripleo-quickstart~master~I37a6c86870c22597267e1923dfd945377a3e2251,openstack/tripleo-quickstart,master,I37a6c86870c22597267e1923dfd945377a3e2251,Convert featureset020 experimental ovb job to config-download,MERGED,2018-04-10 13:50:26.000000000,2018-04-27 03:46:00.000000000,2018-04-26 23:03:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-04-10 13:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ac7c9a96139f4f4e154fc23ff21e3d1aa0f0ec3a', 'message': ""Convert remaining experimental ovb jobs to config-download\n\nThis converts the remaining ovb jobs in the experimental queue that run against\nmaster changes to use config-download.\n\nOnce it's the default, we can come back and update these configs to not\nhave to explicitly use --config-download.\n\nChange-Id: I37a6c86870c22597267e1923dfd945377a3e2251\nimplements: blueprint config-download-default\n""}, {'number': 2, 'created': '2018-04-25 22:20:47.000000000', 'files': ['doc/source/feature-configuration.rst', 'config/general_config/featureset020.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4b2636986f68327c8f8c8b2efc826185172989eb', 'message': 'Convert featureset020 experimental ovb job to config-download\n\nThis converts featureset020 ovb jobs in the experimental queue that run against\nmaster changes to use config-download.\n\nChange-Id: I37a6c86870c22597267e1923dfd945377a3e2251\nimplements: blueprint config-download-default\n'}]",1,560030,4b2636986f68327c8f8c8b2efc826185172989eb,27,8,2,7144,,,0,"Convert featureset020 experimental ovb job to config-download

This converts featureset020 ovb jobs in the experimental queue that run against
master changes to use config-download.

Change-Id: I37a6c86870c22597267e1923dfd945377a3e2251
implements: blueprint config-download-default
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/560030/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset039.yml', 'config/general_config/featureset021.yml', 'doc/source/feature-configuration.rst', 'config/general_config/featureset020.yml']",4,ac7c9a96139f4f4e154fc23ff21e3d1aa0f0ec3a,bp/config-download-default," deploy_steps_ansible_workflow: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} config_download_args: >- {% if release not in ['newton','ocata','pike','queens'] -%} -e /usr/share/openstack-tripleo-heat-templates/environments/config-download-environment.yaml --config-download --verbose {%- endif -%}",,42,3
openstack%2Fswift~feature%2Fdeep~Ied1373362c38bbe7bab84fe4958888b0145e68ba,openstack/swift,feature/deep,Ied1373362c38bbe7bab84fe4958888b0145e68ba,Reclaim deleted shard range rows after 2 * reclaim_age,MERGED,2018-04-26 15:55:38.000000000,2018-04-27 02:24:41.000000000,2018-04-27 02:24:40.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 15:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e5e1b99ba04f502c37bd1c33dfad54fcafe5b2c2', 'message': 'Reclaim deleted shard range rows after 2 * reclaim_age\n\n...but never reclaim own_shard_range because we always want to know\nwhat own_shard_range state is up until the db is unlinked.\n\nThe sharder audit process will delete a shard container if its own\nshard range has been deleted for > reclaim_age.\n\nThe replicator will unlink the db if the shard container has been\ndeleted for > reclaim_age.\n\nSo there is potentially a window of time which is more than 2 *\nreclaim_age after the own_shard_range was deleted but before the db\ngets unlinked.\n\nChange-Id: Ied1373362c38bbe7bab84fe4958888b0145e68ba\n'}, {'number': 2, 'created': '2018-04-26 20:36:09.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/20fda6673dcb566b1f915311e692baa4eda6cff3', 'message': 'Reclaim deleted shard range rows after 2 * reclaim_age\n\n...but never reclaim own_shard_range because we always want to know\nwhat own_shard_range state is up until the db is unlinked.\n\nThe sharder audit process will delete a shard container if its own\nshard range has been deleted for > reclaim_age.\n\nThe replicator will unlink the db if the shard container has been\ndeleted for > reclaim_age.\n\nSo there is potentially a window of time which is more than 2 *\nreclaim_age after the own_shard_range was deleted but before the db\ngets unlinked.\n\nChange-Id: Ied1373362c38bbe7bab84fe4958888b0145e68ba\n'}]",5,564540,20fda6673dcb566b1f915311e692baa4eda6cff3,9,3,2,7847,,,0,"Reclaim deleted shard range rows after 2 * reclaim_age

...but never reclaim own_shard_range because we always want to know
what own_shard_range state is up until the db is unlinked.

The sharder audit process will delete a shard container if its own
shard range has been deleted for > reclaim_age.

The replicator will unlink the db if the shard container has been
deleted for > reclaim_age.

So there is potentially a window of time which is more than 2 *
reclaim_age after the own_shard_range was deleted but before the db
gets unlinked.

Change-Id: Ied1373362c38bbe7bab84fe4958888b0145e68ba
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/564540/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",5,e5e1b99ba04f502c37bd1c33dfad54fcafe5b2c2,564540," def _reclaim(self, conn, age_timestamp, sync_timestamp): super(ContainerBroker, self)._reclaim(conn, age_timestamp, sync_timestamp) try: conn.execute(''' DELETE FROM shard_ranges WHERE deleted = 1 AND timestamp < ? AND name!= ? ''', (sync_timestamp, self.path)) except sqlite3.OperationalError as err: if 'no such table: shard_ranges' not in str(err): raise ",,107,37
openstack%2Ftripleo-upgrade~master~I6ca773c03ef31b5b2fad72ac2671bbc209a47af2,openstack/tripleo-upgrade,master,I6ca773c03ef31b5b2fad72ac2671bbc209a47af2,Add post upgrade Nova operation check,MERGED,2018-04-19 16:32:31.000000000,2018-04-27 02:17:14.000000000,2018-04-27 02:09:04.000000000,"[{'_account_id': 8297}, {'_account_id': 10090}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 22895}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-19 16:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/975c0808dec9e52dc4728ed7cbc5695dcae0b4bb', 'message': 'WIP: Add post upgrade Nova operation check\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 2, 'created': '2018-04-19 16:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d4ba21d3773b5e5db40fb158ac847f6544b8adf9', 'message': 'WIP: Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already existing before the upgrade/update.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 3, 'created': '2018-04-19 18:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2ae2d779dd253cd929b21519e8d3adeed701daba', 'message': 'Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already created before the upgrade/update.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 4, 'created': '2018-04-19 18:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/afbfa9d3bb63e04e29dbcbb9e9e8fc77bf486605', 'message': 'Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already created before the upgrade/update.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 5, 'created': '2018-04-23 20:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/991ff4d8ee37414aa8204d28c68a4ec4388b1803', 'message': 'Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already created before the upgrade/update.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 6, 'created': '2018-04-23 20:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d33c5467f561954817120e6ba6d61ff17b4eb67c', 'message': 'Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already created before the upgrade/update.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 7, 'created': '2018-04-23 20:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/db5a16b1c13e0b789ca987f6df1ac619bcb28f9a', 'message': 'Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already created before the upgrade/update.\nThis check reboots the instance via Nova API call and validates\nthe reboot by checking the uptime via SSH.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}, {'number': 8, 'created': '2018-04-24 22:39:25.000000000', 'files': ['tasks/common/nova_actions_check.yml', 'infrared_plugin/plugin.spec', 'tasks/common/create_nova_actions_check_script.yml', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'tasks/upgrade/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/85507aeff290c995e8d51cc3226562e72c2e2b2f', 'message': 'Add post upgrade Nova operation check\n\nAdd check that validates that Nova operations can be performed\nagainst an instance already created before the upgrade/update.\nThis check reboots the instance via Nova API call and validates\nthe reboot by checking the uptime via SSH.\n\nChange-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2\n'}]",14,562738,85507aeff290c995e8d51cc3226562e72c2e2b2f,28,7,8,18851,,,0,"Add post upgrade Nova operation check

Add check that validates that Nova operations can be performed
against an instance already created before the upgrade/update.
This check reboots the instance via Nova API call and validates
the reboot by checking the uptime via SSH.

Change-Id: I6ca773c03ef31b5b2fad72ac2671bbc209a47af2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/38/562738/1 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",6,975c0808dec9e52dc4728ed7cbc5695dcae0b4bb,add_post_nova_actions, - include: ../common/nova_actions_check.yml ,,21,0
openstack%2Fvirtualbmc~master~I6e5496540efbe8727aa531b3771371c6a85a11bd,openstack/virtualbmc,master,I6e5496540efbe8727aa531b3771371c6a85a11bd,Testing CI,ABANDONED,2018-04-23 14:58:57.000000000,2018-04-27 02:17:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-23 14:58:57.000000000', 'files': ['virtualbmc/log.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/736c24f152faf1c4e97c6c6c5fcabcc852fa40d3', 'message': 'Testing CI\n\nChange-Id: I6e5496540efbe8727aa531b3771371c6a85a11bd\n'}]",0,563654,736c24f152faf1c4e97c6c6c5fcabcc852fa40d3,3,1,1,11655,,,0,"Testing CI

Change-Id: I6e5496540efbe8727aa531b3771371c6a85a11bd
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/54/563654/1 && git format-patch -1 --stdout FETCH_HEAD,['virtualbmc/log.py'],1,736c24f152faf1c4e97c6c6c5fcabcc852fa40d3,," logging.Logger.__init__(self, 'VirtualBMC')"," logging.Logger.__init__(self, 'VirtualBMC')",2,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~Idfe041fba9120964a5af06b3a25c55b87b611960,openstack/tripleo-upgrade,stable/queens,Idfe041fba9120964a5af06b3a25c55b87b611960,Adhere to ANSIBLE0011 All tasks should be named.,MERGED,2018-04-26 10:22:03.000000000,2018-04-27 02:09:03.000000000,2018-04-27 02:09:03.000000000,"[{'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 10:22:03.000000000', 'files': ['tasks/fast-forward-upgrade/ffu_download_config.yaml', 'tasks/update/overcloud_update_run.yml', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/fast-forward-upgrade/ffu_update_stack_outputs.yaml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/update/overcloud_update_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9e67560f9017409aba9f205045843933f2316990', 'message': 'Adhere to ANSIBLE0011 All tasks should be named.\n\nChange-Id: Idfe041fba9120964a5af06b3a25c55b87b611960\nCloses-Bug: #1764454\n(cherry picked from commit 2bead7f8be288c1e3ad67026e4576108e5696d03)\n'}]",0,564438,9e67560f9017409aba9f205045843933f2316990,7,3,1,8297,,,0,"Adhere to ANSIBLE0011 All tasks should be named.

Change-Id: Idfe041fba9120964a5af06b3a25c55b87b611960
Closes-Bug: #1764454
(cherry picked from commit 2bead7f8be288c1e3ad67026e4576108e5696d03)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/38/564438/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/ffu_download_config.yaml', 'tasks/update/overcloud_update_run.yml', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'tasks/fast-forward-upgrade/ffu_update_stack_outputs.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/update/overcloud_update_prepare.yml']",10,9e67560f9017409aba9f205045843933f2316990,bug/1764454-stable/queens," - name: was the overcloud update prepare successful. fail: msg=""Overcloud minor update preparation step failed..."""," - fail: msg=""Overcloud minor update preparation step failed...""",36,18
openstack%2Ftripleo-heat-templates~stable%2Focata~I2039eca87c11638faf6262259b7bcface982f5c6,openstack/tripleo-heat-templates,stable/ocata,I2039eca87c11638faf6262259b7bcface982f5c6,Modify libvirt port range for live-migration,MERGED,2018-04-25 11:43:36.000000000,2018-04-27 02:09:02.000000000,2018-04-27 02:09:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-25 11:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca6d18437f4a43a3d2e9f13a0ba7a0bb496bf833', 'message': ""Modify libvirt port range for live-migration\n\nBy default, libvirtd uses ports 49152 to 49215 for live-migration,\nas specified in qemu.conf\n\nSince these ports is subset to ephemeral port range, which is from\n32768 to 61000 for linux, it can be consumed by any other service\nas well. It causes live-migration to fail, with below error:\n\nLive Migration failure: internal error: Unable to find an unused\nport in range 'migration' (49152-49215)\n\nUsing port range out of ephemeral port range.\n\nChange-Id: I2039eca87c11638faf6262259b7bcface982f5c6\n(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)\n""}, {'number': 2, 'created': '2018-04-25 11:49:12.000000000', 'files': ['puppet/services/nova-libvirt.yaml', 'releasenotes/notes/live_migration_port_range-54c28faf0a67a3fc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/832455031baf5e8eb094c208f667cc3ee0ebb23f', 'message': ""Modify libvirt port range for live-migration\n\nBy default, libvirtd uses ports 49152 to 49215 for live-migration,\nas specified in qemu.conf\n\nSince these ports is subset to ephemeral port range, which is from\n32768 to 61000 for linux, it can be consumed by any other service\nas well. It causes live-migration to fail, with below error:\n\nLive Migration failure: internal error: Unable to find an unused\nport in range 'migration' (49152-49215)\n\nUsing port range out of ephemeral port range.\n\nChange-Id: I2039eca87c11638faf6262259b7bcface982f5c6\n(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)\n""}]",0,564175,832455031baf5e8eb094c208f667cc3ee0ebb23f,9,4,2,20733,,,0,"Modify libvirt port range for live-migration

By default, libvirtd uses ports 49152 to 49215 for live-migration,
as specified in qemu.conf

Since these ports is subset to ephemeral port range, which is from
32768 to 61000 for linux, it can be consumed by any other service
as well. It causes live-migration to fail, with below error:

Live Migration failure: internal error: Unable to find an unused
port in range 'migration' (49152-49215)

Using port range out of ephemeral port range.

Change-Id: I2039eca87c11638faf6262259b7bcface982f5c6
(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/564175/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-libvirt.yaml', 'releasenotes/notes/live_migration_port_range-54c28faf0a67a3fc.yaml']",2,ca6d18437f4a43a3d2e9f13a0ba7a0bb496bf833,live-migration-port-range-ocata,"--- fixes: - | By default, libvirtd uses ports from 49152 to 49215 for live-migration as specified in qemu.conf, that becomes a subset of ephemeral ports (from 32768 to 61000) used by many linux kernels. The issue here is that these ephemeral ports are used for outgoing TCP sockets. And live-migration might fail, if there are no port available from the specified range. Moving the port range out of ephemeral port range to be used only for live-migration. ",,21,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I2039eca87c11638faf6262259b7bcface982f5c6,openstack/tripleo-heat-templates,stable/pike,I2039eca87c11638faf6262259b7bcface982f5c6,Modify libvirt port range for live-migration,MERGED,2018-04-25 11:40:14.000000000,2018-04-27 02:09:01.000000000,2018-04-27 02:09:01.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-04-25 11:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cf4dad87589e813e684f4301fafeb7079a48f9a', 'message': ""Modify libvirt port range for live-migration\n\nBy default, libvirtd uses ports 49152 to 49215 for live-migration,\nas specified in qemu.conf\n\nSince these ports is subset to ephemeral port range, which is from\n32768 to 61000 for linux, it can be consumed by any other service\nas well. It causes live-migration to fail, with below error:\n\nLive Migration failure: internal error: Unable to find an unused\nport in range 'migration' (49152-49215)\n\nUsing port range out of ephemeral port range.\n\nChange-Id: I2039eca87c11638faf6262259b7bcface982f5c6\n(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)\n""}, {'number': 2, 'created': '2018-04-25 11:48:14.000000000', 'files': ['puppet/services/nova-libvirt.yaml', 'releasenotes/notes/live_migration_port_range-54c28faf0a67a3fc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/753a11a712ffdb7bd28d6f2f280fd59363eb8151', 'message': ""Modify libvirt port range for live-migration\n\nBy default, libvirtd uses ports 49152 to 49215 for live-migration,\nas specified in qemu.conf\n\nSince these ports is subset to ephemeral port range, which is from\n32768 to 61000 for linux, it can be consumed by any other service\nas well. It causes live-migration to fail, with below error:\n\nLive Migration failure: internal error: Unable to find an unused\nport in range 'migration' (49152-49215)\n\nUsing port range out of ephemeral port range.\n\nChange-Id: I2039eca87c11638faf6262259b7bcface982f5c6\n(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)\n""}]",0,564172,753a11a712ffdb7bd28d6f2f280fd59363eb8151,10,7,2,20733,,,0,"Modify libvirt port range for live-migration

By default, libvirtd uses ports 49152 to 49215 for live-migration,
as specified in qemu.conf

Since these ports is subset to ephemeral port range, which is from
32768 to 61000 for linux, it can be consumed by any other service
as well. It causes live-migration to fail, with below error:

Live Migration failure: internal error: Unable to find an unused
port in range 'migration' (49152-49215)

Using port range out of ephemeral port range.

Change-Id: I2039eca87c11638faf6262259b7bcface982f5c6
(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/564172/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-libvirt.yaml', 'releasenotes/notes/live_migration_port_range-54c28faf0a67a3fc.yaml']",2,1cf4dad87589e813e684f4301fafeb7079a48f9a,live-migration-port-range-queens-stable/pike,"--- fixes: - | By default, libvirtd uses ports from 49152 to 49215 for live-migration as specified in qemu.conf, that becomes a subset of ephemeral ports (from 32768 to 61000) used by many linux kernels. The issue here is that these ephemeral ports are used for outgoing TCP sockets. And live-migration might fail, if there are no port available from the specified range. Moving the port range out of ephemeral port range to be used only for live-migration. ",,20,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2039eca87c11638faf6262259b7bcface982f5c6,openstack/tripleo-heat-templates,stable/queens,I2039eca87c11638faf6262259b7bcface982f5c6,Modify libvirt port range for live-migration,MERGED,2018-04-25 11:40:02.000000000,2018-04-27 02:09:00.000000000,2018-04-27 02:09:00.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-25 11:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5315cd3074f70dc047c2c8be69cc3ca55b7be3c4', 'message': ""Modify libvirt port range for live-migration\n\nBy default, libvirtd uses ports 49152 to 49215 for live-migration,\nas specified in qemu.conf\n\nSince these ports is subset to ephemeral port range, which is from\n32768 to 61000 for linux, it can be consumed by any other service\nas well. It causes live-migration to fail, with below error:\n\nLive Migration failure: internal error: Unable to find an unused\nport in range 'migration' (49152-49215)\n\nUsing port range out of ephemeral port range.\n\nChange-Id: I2039eca87c11638faf6262259b7bcface982f5c6\n(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)\n""}, {'number': 2, 'created': '2018-04-25 11:46:42.000000000', 'files': ['puppet/services/nova-libvirt.yaml', 'releasenotes/notes/live_migration_port_range-54c28faf0a67a3fc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f868924553d87e1549aae1f71d9941ee45662f45', 'message': ""Modify libvirt port range for live-migration\n\nBy default, libvirtd uses ports 49152 to 49215 for live-migration,\nas specified in qemu.conf\n\nSince these ports is subset to ephemeral port range, which is from\n32768 to 61000 for linux, it can be consumed by any other service\nas well. It causes live-migration to fail, with below error:\n\nLive Migration failure: internal error: Unable to find an unused\nport in range 'migration' (49152-49215)\n\nUsing port range out of ephemeral port range.\n\nChange-Id: I2039eca87c11638faf6262259b7bcface982f5c6\n(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)\n""}]",0,564171,f868924553d87e1549aae1f71d9941ee45662f45,10,6,2,20733,,,0,"Modify libvirt port range for live-migration

By default, libvirtd uses ports 49152 to 49215 for live-migration,
as specified in qemu.conf

Since these ports is subset to ephemeral port range, which is from
32768 to 61000 for linux, it can be consumed by any other service
as well. It causes live-migration to fail, with below error:

Live Migration failure: internal error: Unable to find an unused
port in range 'migration' (49152-49215)

Using port range out of ephemeral port range.

Change-Id: I2039eca87c11638faf6262259b7bcface982f5c6
(cherry picked from commit 3da3f5d8de91181fa6c65ecfcf8d4733e000ace4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/564171/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-libvirt.yaml', 'releasenotes/notes/live_migration_port_range-54c28faf0a67a3fc.yaml']",2,5315cd3074f70dc047c2c8be69cc3ca55b7be3c4,live-migration-port-range-queens,"--- fixes: - | By default, libvirtd uses ports from 49152 to 49215 for live-migration as specified in qemu.conf, that becomes a subset of ephemeral ports (from 32768 to 61000) used by many linux kernels. The issue here is that these ephemeral ports are used for outgoing TCP sockets. And live-migration might fail, if there are no port available from the specified range. Moving the port range out of ephemeral port range to be used only for live-migration. ",,20,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I70972ad2fc339c9316befd74dda8555982f23316,openstack/tripleo-heat-templates,stable/queens,I70972ad2fc339c9316befd74dda8555982f23316,Add volumes list of docker-puppet container when merging config volumes,MERGED,2018-04-26 04:20:26.000000000,2018-04-27 02:08:58.000000000,2018-04-27 02:08:58.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 04:20:26.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db6f0d3b60264fac13100eca951e6d11cac5205f', 'message': ""Add volumes list of docker-puppet container when merging config volumes\n\nWhen config volumes of same types are merged, the volumes to be mounted\nfor the continer is not merged. In order to run neutron container with\novs agent, '/run/openvswitch' directory mount is required to execute\novs-vsctl commands. This patch merges the volumes list of the same\nconfig volumes instead of taking only the first one.\n\nCloses-Bug: #1766759\nChange-Id: I70972ad2fc339c9316befd74dda8555982f23316\n(cherry picked from commit ec3e34709231b3dd0b166db9c011c5ef4d66cd80)\n""}]",0,564384,db6f0d3b60264fac13100eca951e6d11cac5205f,9,4,1,18575,,,0,"Add volumes list of docker-puppet container when merging config volumes

When config volumes of same types are merged, the volumes to be mounted
for the continer is not merged. In order to run neutron container with
ovs agent, '/run/openvswitch' directory mount is required to execute
ovs-vsctl commands. This patch merges the volumes list of the same
config volumes instead of taking only the first one.

Closes-Bug: #1766759
Change-Id: I70972ad2fc339c9316befd74dda8555982f23316
(cherry picked from commit ec3e34709231b3dd0b166db9c011c5ef4d66cd80)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/564384/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,db6f0d3b60264fac13100eca951e6d11cac5205f,bug/1766759, if volumes: configs[config_volume][4].extend(volumes) ,,3,0
openstack%2Frequirements~master~I41b78c060bf2d436e561a9ce0981e27f64c0191c,openstack/requirements,master,I41b78c060bf2d436e561a9ce0981e27f64c0191c,update constraint for neutron-lib to new release 1.14.0,MERGED,2018-04-26 19:50:23.000000000,2018-04-27 02:04:21.000000000,2018-04-27 02:04:21.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 19:50:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b849492d3dae2be43b5371e3e5005b9772b84592', 'message': 'update constraint for neutron-lib to new release 1.14.0\n\nChange-Id: I41b78c060bf2d436e561a9ce0981e27f64c0191c\nmeta:version: 1.14.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Boden R <bodenvmw@gmail.com>\nmeta:release:Commit: Boden R <bodenvmw@gmail.com>\nmeta:release:Change-Id: Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583\nmeta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,564611,b849492d3dae2be43b5371e3e5005b9772b84592,9,3,1,11131,,,0,"update constraint for neutron-lib to new release 1.14.0

Change-Id: I41b78c060bf2d436e561a9ce0981e27f64c0191c
meta:version: 1.14.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Boden R <bodenvmw@gmail.com>
meta:release:Commit: Boden R <bodenvmw@gmail.com>
meta:release:Change-Id: Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/564611/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b849492d3dae2be43b5371e3e5005b9772b84592,new-release,neutron-lib===1.14.0,neutron-lib===1.13.0,1,1
openstack%2Fzun~master~I0f06ae7775033d397d4e116817f92798a842405d,openstack/zun,master,I0f06ae7775033d397d4e116817f92798a842405d,Validate filters when listing containers,MERGED,2018-04-14 23:09:20.000000000,2018-04-27 01:54:12.000000000,2018-04-27 01:54:12.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-04-14 23:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ea4696ba04b9afc1709c2dce84d9840e786063e8', 'message': '[WIP] Validate filters when listing containers\n\nAccording to the OpenStack API guidelines [1], if the API supports\nquery parameters and a request contains an unknown or unsupported\nparameter, the server should return a 400 Bad Request response.\nHowever, this is not the case when listing containers (listing\ncontainers with unknown parameter returns 200). This patch\nfixes it.\n\n[1] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n\nChange-Id: I0f06ae7775033d397d4e116817f92798a842405d\n'}, {'number': 2, 'created': '2018-04-14 23:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d43ad5ea40acb45215992fcf9af527adb8555832', 'message': 'Validate filters when listing containers\n\nAccording to the OpenStack API guidelines [1], if the API supports\nquery parameters and a request contains an unknown or unsupported\nparameter, the server should return a 400 Bad Request response.\nHowever, this is not the case when listing containers (listing\ncontainers with unknown parameter returns 200). This patch\nfixes it.\n\n[1] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n\nChange-Id: I0f06ae7775033d397d4e116817f92798a842405d\n'}, {'number': 3, 'created': '2018-04-15 03:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7dc97e96a6943a3490e6106e4d980519ebbf8563', 'message': 'Validate filters when listing containers\n\nAccording to the OpenStack API guidelines [1], if the API supports\nquery parameters and a request contains an unknown or unsupported\nparameter, the server should return a 400 Bad Request response.\nHowever, this is not the case when listing containers (listing\ncontainers with unknown parameter returns 200). This patch\nfixes it.\n\n[1] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n\nChange-Id: I0f06ae7775033d397d4e116817f92798a842405d\n'}, {'number': 4, 'created': '2018-04-25 03:38:25.000000000', 'files': ['zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/ce663938f81c9771b040f70b13befef9d8601d43', 'message': 'Validate filters when listing containers\n\nAccording to the OpenStack API guidelines [1], if the API supports\nquery parameters and a request contains an unknown or unsupported\nparameter, the server should return a 400 Bad Request response.\nHowever, this is not the case when listing containers (listing\ncontainers with unknown parameter returns 200). This patch\nfixes it.\n\n[1] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n\nChange-Id: I0f06ae7775033d397d4e116817f92798a842405d\n'}]",2,561438,ce663938f81c9771b040f70b13befef9d8601d43,20,5,4,11536,,,0,"Validate filters when listing containers

According to the OpenStack API guidelines [1], if the API supports
query parameters and a request contains an unknown or unsupported
parameter, the server should return a 400 Bad Request response.
However, this is not the case when listing containers (listing
containers with unknown parameter returns 200). This patch
fixes it.

[1] http://specs.openstack.org/openstack/api-wg/guidelines/http/
    response-codes.html#failure-code-clarifications

Change-Id: I0f06ae7775033d397d4e116817f92798a842405d
",git fetch https://review.opendev.org/openstack/zun refs/changes/38/561438/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/containers.py'],1,ea4696ba04b9afc1709c2dce84d9840e786063e8,," kwargs.pop('all_projects', None) limit = api_utils.validate_limit(kwargs.pop('limit', None)) sort_dir = api_utils.validate_sort_dir(kwargs.pop('sort_dir', 'asc')) sort_key = kwargs.pop('sort_key', 'id') resource_url = kwargs.pop('resource_url', None) expand = kwargs.pop('expand', None) marker_obj = None marker = kwargs.pop('marker', None) if marker: marker_obj = objects.Container.get_by_uuid(context, marker) invalid_keys = [] for filter_key in kwargs: if filter_key not in container_allowed_filters: invalid_keys.append(filter_key) else: if invalid_keys: msg = _(""%s are invalid attributes for filtering"") % invalid_keys raise exception.InvalidValue(msg) "," limit = api_utils.validate_limit(kwargs.get('limit')) sort_dir = api_utils.validate_sort_dir(kwargs.get('sort_dir', 'asc')) sort_key = kwargs.get('sort_key', 'id') resource_url = kwargs.get('resource_url') expand = kwargs.get('expand') for filter_key in container_allowed_filters: if filter_key in kwargs: marker_obj = None marker = kwargs.get('marker') if marker: marker_obj = objects.Container.get_by_uuid(context, marker)",20,12
openstack%2Fzun~master~I761142fcf095b7814c7152fa41fb019d918b3e06,openstack/zun,master,I761142fcf095b7814c7152fa41fb019d918b3e06,Improve the testing of 'kuryr_network' module,MERGED,2018-04-08 21:21:28.000000000,2018-04-27 01:54:11.000000000,2018-04-27 01:54:11.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-04-08 21:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1cb3bf4b62f50fd81f43ef197a7445dbdac0adaf', 'message': ""Improve the emulation of FakeNeutronClient\n\nThe class FakeNeutronClient is for emulating the real neutron API\nbehavior for testing. This patch improves the emulation by storing\nthe list of networks/subnets/subnetpools/ports into memory. In\naddition, this patch also removes a redundant call of 'save' in\nkuryr_network module.\n\nChange-Id: I761142fcf095b7814c7152fa41fb019d918b3e06\n""}, {'number': 2, 'created': '2018-04-08 23:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ea7c860cc23864ab533cb7c20cc316567be8d8fe', 'message': ""[WIP] Improve the emulation of FakeNeutronClient\n\nThe class FakeNeutronClient is for emulating the real neutron API\nbehavior for testing. This patch improves the emulation by storing\nthe list of networks/subnets/subnetpools/ports into memory. In\naddition, this patch also removes a redundant call of 'save' in\nkuryr_network module.\n\nChange-Id: I761142fcf095b7814c7152fa41fb019d918b3e06\n""}, {'number': 3, 'created': '2018-04-09 02:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/472197168b404e7b34d3ebe7cd1e181f3a88e313', 'message': ""Improve the testing of 'kuryr_network' module\n\n* The class FakeNeutronClient is for emulating the real neutron\n  API behavior for testing. This patch improves this class to make\n  it similar with what neutron server behaved.\n* Add more assertion on the called methods and the called\n  parameters.\n\nChange-Id: I761142fcf095b7814c7152fa41fb019d918b3e06\n""}, {'number': 4, 'created': '2018-04-16 01:25:08.000000000', 'files': ['zun/tests/unit/network/test_kuryr_network.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/aa3203bfc5413d06da659f6cc31ad3b1d568eef2', 'message': ""Improve the testing of 'kuryr_network' module\n\n* The class FakeNeutronClient is for emulating the real neutron\n  API behavior for testing. This patch improves this class to make\n  it similar with what neutron server behaved.\n* Add more assertion on the called methods and the called\n  parameters.\n\nChange-Id: I761142fcf095b7814c7152fa41fb019d918b3e06\n""}]",0,559598,aa3203bfc5413d06da659f6cc31ad3b1d568eef2,13,3,4,11536,,,0,"Improve the testing of 'kuryr_network' module

* The class FakeNeutronClient is for emulating the real neutron
  API behavior for testing. This patch improves this class to make
  it similar with what neutron server behaved.
* Add more assertion on the called methods and the called
  parameters.

Change-Id: I761142fcf095b7814c7152fa41fb019d918b3e06
",git fetch https://review.opendev.org/openstack/zun refs/changes/98/559598/4 && git format-patch -1 --stdout FETCH_HEAD,"['zun/network/kuryr_network.py', 'zun/tests/unit/network/test_kuryr_network.py']",2,1cb3bf4b62f50fd81f43ef197a7445dbdac0adaf,,"import copy def __init__(self): super(FakeNeutronClient, self).__init__() self.networks = [{'id': '1234567', 'shared': False}] self.subnets = [{'ip_version': 4, 'subnetpool_id': '1234567', 'cidr': '255.255.255.0', 'gateway_ip': '192.168.2.0', 'id': '12345678'}] self.ports = [{'id': '1234567', 'fixed_ips': [{ 'ip_address': '192.168.2.22', 'subnet_id': 'fake-subnet-id'}], 'security_groups': ['sg1']}] self.subnetpools = [{'address_scope_id': None, 'default_prefixlen': 8, 'id': '9b13e2fc-d565-4a3d-9a4c-9a14050e5010', 'ip_version': 4, 'prefixes': ['10.5.0.0/16'], 'tags': ['06be906d-fe20-41af-b0e4-d770e185e7c8'], 'name': 'test_subnet_pool-'}] def list_subnets(self, **kwargs): return {'subnets': copy.deepcopy(self.subnets)} def create_port(self, port): port_data = copy.deepcopy(port['port']) self.ports.append(port_data) return port port_data = copy.deepcopy(port['port']) for port in self.ports: if port['id'] == port_id: port.update(port_data) return {'ports': copy.deepcopy(self.ports)} for port in self.ports: if port['id'] == port_id: self.ports.remove(port) return for port in self.ports: if port['id'] == port_id: return copy.deepcopy(port) for network in self.networks: if network['id'] == network_id: return copy.deepcopy(network) return {'subnetpools': copy.deepcopy(self.subnetpools)} kwargs = {'ipv4_address': '192.168.2.22', 'port': '1234567', expected_address = [{'version': 4, 'addr': '192.168.2.22', 'port': '1234567', 'subnet_id': 'fake-subnet-id', 'preserve_on_delete': True}] self.assertEqual(expected_address, address) mock_neutron_api_cls.return_value = self.network_api.neutron_api old_port = self.network_api.neutron_api.list_ports()['ports'][0] new_port = self.network_api.neutron_api.list_ports()['ports'][0] old_secgroups = old_port.pop('security_groups') new_secgroups = new_port.pop('security_groups') self.assertEqual(old_secgroups + ['sg2'], new_secgroups) # assert nothing else changed besides security_groups self.assertEqual(old_port, new_port) mock_neutron_api_cls.return_value = self.network_api.neutron_api with mock.patch.object(self.network_api.neutron_api, 'update_port') as mock_update_port: mock_update_port.side_effect = n_exc.BadRequest( message='error') self.assertRaises(exception.SecurityGroupCannotBeApplied, self.network_api.add_security_groups_to_ports, container, security_group_ids) mock_update_port.assert_called_once_with("," def list_subnets(self, **kwargs): return {'subnets': [{'ip_version': 4, 'subnetpool_id': '1234567', 'cidr': '255.255.255.0', 'gateway_ip': '192.168.2.0', 'id': '12345678'}]} def create_port(self, port_id): return {'port': {'fixed_ips': [{'ip_address': '192.168.2.22', 'subnet_id': '85adb169-d151-41cd-8c76-157bfdb4345d'}], 'id': '1234567'}} pass return {'ports': [{'id': '1234567', 'security_groups': ['sg1']}]} pass return {'fixed_ips': [{'ip_address': '192.168.2.22', 'subnet_id': '85adb169-d151-41cd-8c76-157bfdb4345d'}], 'id': '1234567', 'security_groups': []} return {'shared': False} return {'subnetpools': [{ 'address_scope_id': None, 'default_prefixlen': 8, 'id': '9b13e2fc-d565-4a3d-9a4c-9a14050e5010', 'ip_version': 4, 'prefixes': ['10.5.0.0/16'], 'tags': ['06be906d-fe20-41af-b0e4-d770e185e7c8'], 'name': 'test_subnet_pool-' }]} kwargs = {'ip_version': 4, 'ipv4_address': '192.168.2.22', 'port': '1234567', 'subnet_id': '85adb169-d151-41cd-8c76-157bfdb4345d', expected = [{'version': 4, 'addr': '192.168.2.22', 'port': '1234567', 'subnet_id': '85adb169-d151-41cd-8c76-157bfdb4345d', 'preserve_on_delete': True}] self.assertEqual(expected, address) mock_neutron_api = mock.MagicMock() mock_neutron_api_cls.return_value = mock_neutron_api self.network_api.neutron_api.context = mock.Mock() mock_neutron_api.update_port.assert_called_once_with( '1234567', {'port': {'security_groups': ['sg1', 'sg2']}}) mock_neutron_api = mock.MagicMock() mock_neutron_api_cls.return_value = mock_neutron_api self.network_api.neutron_api.context = mock.Mock() mock_neutron_api.update_port.side_effect = n_exc.BadRequest( message='error') self.assertRaises(exception.SecurityGroupCannotBeApplied, self.network_api.add_security_groups_to_ports, container, security_group_ids) mock_neutron_api.update_port.assert_called_once_with(",69,50
openstack%2Fpuppet-tripleo~stable%2Fnewton~I98a00a9ae265d3e5854632e749cc8c3a1647298c,openstack/puppet-tripleo,stable/newton,I98a00a9ae265d3e5854632e749cc8c3a1647298c,firewall: add IPv6 support,MERGED,2018-04-25 15:15:05.000000000,2018-04-27 01:16:42.000000000,2018-04-27 01:16:42.000000000,"[{'_account_id': 3153}, {'_account_id': 5803}, {'_account_id': 10873}, {'_account_id': 14345}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 15:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2967019111bd8bd7ec347b21af4531d87b067cb9', 'message': ""firewall: add IPv6 support\n\nThis patch adds support for ip6tables rules in TripleO, in a intuitive\nand flexible fashion.\n\n1) Default firewal rules 'source' parameter to undef.\n   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to\n   support ipv6 rules. undef will create empty source, which is the same as\n   0.0.0.0/0 or ::/0.\n\n2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.\n\n3) Automatically create IPv6 rules like it's for IPv4.\n\n4) Only create rules that can be created, depending on\n   source/destination ip version.\n\nThis patch should be backward compatible and adds a layer of security\nfor IPv6 deployments. If previous deployments were manually creating\nIpv6 rules, it's possible that this patch will override them. Our\nframework is able to configure any rule, so it shouldn't be a problem\nfor upgrades.\n\nCo-Authored-By: Ben Nemec <bnemec@redhat.com>\nCloses-Bug: #1654050\nChange-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c\n(cherry picked from commit 8c990738900cd74c2c5c046435517393d1afb92e)\n""}, {'number': 2, 'created': '2018-04-25 15:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9c4e979da4a6dd5724c4101d81246b9d7ceacfc7', 'message': ""firewall: add IPv6 support\n\nThis patch adds support for ip6tables rules in TripleO, in a intuitive\nand flexible fashion.\n\n1) Default firewal rules 'source' parameter to undef.\n   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to\n   support ipv6 rules. undef will create empty source, which is the same as\n   0.0.0.0/0 or ::/0.\n\n2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.\n\n3) Automatically create IPv6 rules like it's for IPv4.\n\n4) Only create rules that can be created, depending on\n   source/destination ip version.\n\nThis patch should be backward compatible and adds a layer of security\nfor IPv6 deployments. If previous deployments were manually creating\nIpv6 rules, it's possible that this patch will override them. Our\nframework is able to configure any rule, so it shouldn't be a problem\nfor upgrades.\n\nCo-Authored-By: Ben Nemec <bnemec@redhat.com>\nCloses-Bug: #1654050\nChange-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c\n(cherry picked from commit 8c990738900cd74c2c5c046435517393d1afb92e)\n""}, {'number': 3, 'created': '2018-04-25 17:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f4a030226c507e4833703829a5446f7fedfe7104', 'message': ""firewall: add IPv6 support\n\nThis patch adds support for ip6tables rules in TripleO, in a intuitive\nand flexible fashion.\n\n1) Default firewal rules 'source' parameter to undef.\n   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to\n   support ipv6 rules. undef will create empty source, which is the same as\n   0.0.0.0/0 or ::/0.\n\n2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.\n\n3) Automatically create IPv6 rules like it's for IPv4.\n\n4) Only create rules that can be created, depending on\n   source/destination ip version.\n\nThis patch should be backward compatible and adds a layer of security\nfor IPv6 deployments. If previous deployments were manually creating\nIpv6 rules, it's possible that this patch will override them. Our\nframework is able to configure any rule, so it shouldn't be a problem\nfor upgrades.\n\nCo-Authored-By: Ben Nemec <bnemec@redhat.com>\nCloses-Bug: #1654050\nChange-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c\n(cherry picked from commit 8c990738900cd74c2c5c046435517393d1afb92e)\n""}, {'number': 4, 'created': '2018-04-25 17:44:03.000000000', 'files': ['spec/classes/tripleo_firewall_spec.rb', 'manifests/firewall/rule.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f6d398a7daf777d6854d05f58b88c6309c0e557a', 'message': ""firewall: add IPv6 support\n\nThis patch adds support for ip6tables rules in TripleO, in a intuitive\nand flexible fashion.\n\n1) Default firewal rules 'source' parameter to undef.\n   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to\n   support ipv6 rules. undef will create empty source, which is the same as\n   0.0.0.0/0 or ::/0.\n\n2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.\n\n3) Automatically create IPv6 rules like it's for IPv4.\n\n4) Only create rules that can be created, depending on\n   source/destination ip version.\n\nThis patch should be backward compatible and adds a layer of security\nfor IPv6 deployments. If previous deployments were manually creating\nIpv6 rules, it's possible that this patch will override them. Our\nframework is able to configure any rule, so it shouldn't be a problem\nfor upgrades.\n\nNote: the code had to be partially rewritten because of Puppet3 vs\nPuppet4.\n\nCo-Authored-By: Ben Nemec <bnemec@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCloses-Bug: #1654050\nChange-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c\n(cherry picked from commit 8c990738900cd74c2c5c046435517393d1afb92e)\n""}]",0,564250,f6d398a7daf777d6854d05f58b88c6309c0e557a,13,6,4,3153,,,0,"firewall: add IPv6 support

This patch adds support for ip6tables rules in TripleO, in a intuitive
and flexible fashion.

1) Default firewal rules 'source' parameter to undef.
   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to
   support ipv6 rules. undef will create empty source, which is the same as
   0.0.0.0/0 or ::/0.

2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.

3) Automatically create IPv6 rules like it's for IPv4.

4) Only create rules that can be created, depending on
   source/destination ip version.

This patch should be backward compatible and adds a layer of security
for IPv6 deployments. If previous deployments were manually creating
Ipv6 rules, it's possible that this patch will override them. Our
framework is able to configure any rule, so it shouldn't be a problem
for upgrades.

Note: the code had to be partially rewritten because of Puppet3 vs
Puppet4.

Co-Authored-By: Ben Nemec <bnemec@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Closes-Bug: #1654050
Change-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c
(cherry picked from commit 8c990738900cd74c2c5c046435517393d1afb92e)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/564250/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_firewall_spec.rb', 'manifests/firewall/rule.pp']",2,2967019111bd8bd7ec347b21af4531d87b067cb9,bug/1654050-stable/newton,"# Defaults to undef $source = undef, if $proto == 'icmp' { $ipv6 = { 'provider' => 'ip6tables', 'proto' => 'ipv6-icmp', } } else { $ipv6 = { 'provider' => 'ip6tables', } } $ipv4_rule = merge($basic, $state_rule, $extras) $ipv6_rule = merge($basic, $state_rule, $ipv6, $extras) validate_hash($ipv4_rule) validate_hash($ipv6_rule) if $source or $destination { if ('.' in $destination or '.' in $source) { create_resources('firewall', { ""${title} ipv4"" => $ipv4_rule }) } if (':' in $destination or ':' in $source) { create_resources('firewall', { ""${title} ipv6"" => $ipv6_rule }) } } else { create_resources('firewall', { ""${title} ipv4"" => $ipv4_rule }) create_resources('firewall', { ""${title} ipv6"" => $ipv6_rule }) }","# Defaults to '0.0.0.0/0' $source = '0.0.0.0/0', $rule = merge($basic, $state_rule, $extras) validate_hash($rule) create_resources('firewall', { ""${title}"" => $rule })",84,18
openstack%2Frequirements~master~I31f1c0b76ad6b6b9c28780568404391b4806935a,openstack/requirements,master,I31f1c0b76ad6b6b9c28780568404391b4806935a,update constraint for openstacksdk to new release 0.13.0,MERGED,2018-04-26 19:53:10.000000000,2018-04-27 01:04:26.000000000,2018-04-27 01:04:25.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 19:53:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bdb6717e38ae15ace1a28c1f28d511627c929840', 'message': 'update constraint for openstacksdk to new release 0.13.0\n\nChange-Id: I31f1c0b76ad6b6b9c28780568404391b4806935a\nmeta:version: 0.13.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Ib8106e25ec9484dfeeab67ed0199a996b383e7dc\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,564612,bdb6717e38ae15ace1a28c1f28d511627c929840,8,3,1,11131,,,0,"update constraint for openstacksdk to new release 0.13.0

Change-Id: I31f1c0b76ad6b6b9c28780568404391b4806935a
meta:version: 0.13.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Ib8106e25ec9484dfeeab67ed0199a996b383e7dc
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/564612/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bdb6717e38ae15ace1a28c1f28d511627c929840,new-release,openstacksdk===0.13.0,openstacksdk===0.12.0,1,1
openstack%2Fkolla-ansible~master~I0391715b16cf86d6c27fecf8a666de64f2735a7d,openstack/kolla-ansible,master,I0391715b16cf86d6c27fecf8a666de64f2735a7d,Increase timeout for kolla_toolbox module.,MERGED,2018-04-26 16:02:42.000000000,2018-04-27 00:48:31.000000000,2018-04-27 00:48:30.000000000,"[{'_account_id': 1390}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-04-26 16:02:42.000000000', 'files': ['ansible/library/kolla_toolbox.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/044e82ccfe786a5f388800634e7869b464648cfc', 'message': 'Increase timeout for kolla_toolbox module.\n\nThis patch increases the default timeout for\nthe kolla_toolbox ansible module when talking\nwith the docker API from the default 60 to 180 secs.\n\nThis is required on slower deployments,\nspecially when bootstraping an environment and fernet\ntokes are in usage. For faster deployments this will\nbe harmless, but for slower deployments this would be\nbeneficial.\n\nBug: #1767136\nChange-Id: I0391715b16cf86d6c27fecf8a666de64f2735a7d\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n'}]",0,564542,044e82ccfe786a5f388800634e7869b464648cfc,7,4,1,2276,,,0,"Increase timeout for kolla_toolbox module.

This patch increases the default timeout for
the kolla_toolbox ansible module when talking
with the docker API from the default 60 to 180 secs.

This is required on slower deployments,
specially when bootstraping an environment and fernet
tokes are in usage. For faster deployments this will
be harmless, but for slower deployments this would be
beneficial.

Bug: #1767136
Change-Id: I0391715b16cf86d6c27fecf8a666de64f2735a7d
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/564542/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_toolbox.py'],1,044e82ccfe786a5f388800634e7869b464648cfc,bug/1767136," timeout: description: - The default timeout for docker-py client when contacting Docker API required: False type: int default: 180 api_version=dict(required=False, type='str', default='auto'), timeout=dict(required=False, type='int', default=180), version=module.params.get('api_version'), timeout=module.params.get('timeout'))"," api_version=dict(required=False, type='str', default='auto') version=module.params.get('api_version'))",10,2
openstack%2Fhorizon~master~I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12,openstack/horizon,master,I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12,Fix up remote consoles to use correct key,ABANDONED,2017-09-07 04:44:46.000000000,2018-04-27 00:28:30.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 3031}, {'_account_id': 5623}, {'_account_id': 12826}, {'_account_id': 14151}, {'_account_id': 16628}, {'_account_id': 22348}, {'_account_id': 26247}]","[{'number': 1, 'created': '2017-09-07 04:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1e60d84129fdfa9d9627a14a1d5c23f46a4a800', 'message': 'Fix up remote consoles to use correct key\n\nThis was changed from console to remote_console when switching\nto the new server-remote-consoles API\n\nChange-Id: I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12\nCloses-bug: 1715542\n'}, {'number': 2, 'created': '2017-10-12 04:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3ce67e2111acfd91db9ec9906b462b4be8c96566', 'message': 'Fix up remote consoles to use correct key\n\nThis was changed from console to remote_console when switching\nto the new server-remote-consoles API\n\nChange-Id: I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12\nCloses-bug: 1715542\n'}, {'number': 3, 'created': '2017-11-06 04:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/72cc6b86e957e057f164650185285f9a19eafa6a', 'message': 'Fix up remote consoles to use correct key\n\nThis was changed from console to remote_console when switching\nto the new server-remote-consoles API\n\nChange-Id: I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12\nCloses-bug: 1715542\n'}, {'number': 4, 'created': '2017-11-10 01:13:36.000000000', 'files': ['openstack_dashboard/test/api_tests/nova_tests.py', 'openstack_dashboard/api/microversions.py', 'openstack_dashboard/test/test_data/nova_data.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a95cca80d967ec7dcb6fcda0e028f76afc3fa5fc', 'message': 'Fix up remote consoles to use correct key\n\nThis was changed from console to remote_console when switching\nto the new server-remote-consoles API\n\nChange-Id: I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12\nCloses-bug: 1715542\n'}]",5,501564,a95cca80d967ec7dcb6fcda0e028f76afc3fa5fc,31,10,4,3031,,,0,"Fix up remote consoles to use correct key

This was changed from console to remote_console when switching
to the new server-remote-consoles API

Change-Id: I6f87a221c297e2f5d657f9b51e74b36a7e4d1f12
Closes-bug: 1715542
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/501564/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/api_tests/nova_tests.py', 'openstack_dashboard/test/test_data/nova_data.py', 'openstack_dashboard/api/nova.py']",3,e1e60d84129fdfa9d9627a14a1d5c23f46a4a800,bug/1715542," instance_id, console_type)['remote_console']) instance_id, console_type)['remote_console']) instance_id, console_type)['remote_console']) instance_id, console_type)['remote_console'])"," instance_id, console_type)['console']) instance_id, console_type)['console']) instance_id, console_type)['console']) instance_id, console_type)['console'])",16,13
openstack%2Fironic-inspector~master~Ife3fea3b4daa563182d95f0895c798f361410261,openstack/ironic-inspector,master,Ife3fea3b4daa563182d95f0895c798f361410261,Switch the grenade job to hardware types and clean up its playbook,MERGED,2018-04-04 11:47:05.000000000,2018-04-27 00:26:29.000000000,2018-04-27 00:26:29.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-04 11:47:05.000000000', 'files': ['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1b0adcbf123d0464f5dc4077ecd41d5b1bb02f04', 'message': 'Switch the grenade job to hardware types and clean up its playbook\n\nChange-Id: Ife3fea3b4daa563182d95f0895c798f361410261\n'}]",0,558789,1b0adcbf123d0464f5dc4077ecd41d5b1bb02f04,7,3,1,10239,,,0,"Switch the grenade job to hardware types and clean up its playbook

Change-Id: Ife3fea3b4daa563182d95f0895c798f361410261
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/89/558789/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml'],1,1b0adcbf123d0464f5dc4077ecd41d5b1bb02f04,hw-types," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" "," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEPLOY_DRIVER_ISCSI_WITH_IPA=True"" # Standardize VM size for each supported ramdisk case ""tinyipa"" in 'tinyipa') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'tinyipa256') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=256"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" ;; 'coreos') export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=1280"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=coreos"" ;; # if using a ramdisk without a known good value, use the devstack # default by not exporting any value for IRONIC_VM_SPECS_RAM esac export IRONIC_INSPECTOR_AUTO_DISCOVERY={inspector-auto-discovery} if [ ""$IRONIC_INSPECTOR_AUTO_DISCOVERY"" == ""1"" ]; then # discovery test requires sudo for iptables and virsh export DEVSTACK_GATE_REMOVE_STACK_SUDO=0 # enable enroll hook export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_NODE_NOT_FOUND_HOOK=enroll"" # we are deleting node from ironic for simulate node discovery, # so inspector has to sync cache asap export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_CLEAN_UP_PERIOD=5"" fi # Make IPXE configuration consistent between Mitaka and Master export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_IPXE_ENABLED=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_RAMDISK_ELEMENT=ironic-agent"" # TODO(dtantsur): change to ipmi in Rocky export DEVSTACK_GATE_IRONIC_DRIVER=pxe_ipmitool if [ ""partition"" == ""wholedisk"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=0"" else export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" fi if [ -n """" ] ; then export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" else export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" fi if [ ""bios"" == ""uefi"" ] ; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_BOOT_MODE=uefi"" fi export DEVSTACK_PROJECT_FROM_GIT=""""",7,55
openstack%2Fnova~master~I4436f5c1cc819c55ca9186bda0362bb74555c95a,openstack/nova,master,I4436f5c1cc819c55ca9186bda0362bb74555c95a,Record the host info in EventReporter,MERGED,2018-03-27 04:11:43.000000000,2018-04-27 00:08:20.000000000,2018-04-24 06:30:49.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-27 04:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/936cafb6bc88a5ad9e704acad9d6e110928d1fc1', 'message': '[WIP] Record the host info in EventReporter\n\nThe instance action event is recorded in API/Conductor/Compute using\nEventReporter. We already had self.host in API/Conductor/Compute\n(where the EventReporter would be used) after previous patch.\n\nIn this patch, the self.host param would be passed in EventReporter,\nand then the host would be recorded in instance action event.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a\n'}, {'number': 2, 'created': '2018-03-27 08:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93f5792a3e582cc8e54d465cb600ae08206e55da', 'message': 'Record the host info in EventReporter\n\nThe instance action event is recorded in API/Conductor/Compute using\nEventReporter. We already had self.host in API/Conductor/Compute\n(where the EventReporter would be used) after previous patch.\n\nIn this patch, the self.host param would be passed in EventReporter,\nand then the host would be recorded in instance action event.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a\n'}, {'number': 3, 'created': '2018-03-27 11:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba8d061911aeddc86b732f4ebc44c3defc56006e', 'message': 'Record the host info in EventReporter\n\nThe instance action event is recorded in API/Conductor/Compute using\nEventReporter. We already had self.host in API/Conductor/Compute\n(where the EventReporter would be used) after previous patch.\n\nIn this patch, the self.host param would be passed in EventReporter,\nand then the host would be recorded in instance action event.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a\n'}, {'number': 4, 'created': '2018-04-13 11:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6482d4607b055bf28c89c4aec2d48ef26a831f3', 'message': 'Record the host info in EventReporter\n\nThe instance action event is recorded in API/Conductor/Compute using\nEventReporter. We already had self.host in API/Conductor/Compute\n(where the EventReporter would be used) in change\nIdf57fb5fbc611abb83943bd7e36d3cebf03b3977.\n\nIn this patch, the self.host param would be passed in EventReporter,\nand then the host would be recorded in instance action event.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a\n'}, {'number': 5, 'created': '2018-04-16 01:56:46.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/manager.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbf02e050e4071565d549856ef878f3f36c0455c', 'message': 'Record the host info in EventReporter\n\nThe instance action event is recorded in API/Conductor/Compute using\nEventReporter. We already had self.host in API/Conductor/Compute\n(where the EventReporter would be used) in change\nIdf57fb5fbc611abb83943bd7e36d3cebf03b3977.\n\nIn this patch, the self.host param would be passed in EventReporter,\nand then the host would be recorded in instance action event.\n\nPart of blueprint: add-host-to-instance-action-events\n\nChange-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a\n'}]",9,556746,cbf02e050e4071565d549856ef878f3f36c0455c,88,23,5,20722,,,0,"Record the host info in EventReporter

The instance action event is recorded in API/Conductor/Compute using
EventReporter. We already had self.host in API/Conductor/Compute
(where the EventReporter would be used) in change
Idf57fb5fbc611abb83943bd7e36d3cebf03b3977.

In this patch, the self.host param would be passed in EventReporter,
and then the host would be recorded in instance action event.

Part of blueprint: add-host-to-instance-action-events

Change-Id: I4436f5c1cc819c55ca9186bda0362bb74555c95a
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/556746/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/manager.py', 'nova/compute/utils.py']",2,936cafb6bc88a5ad9e704acad9d6e110928d1fc1,bp/add-host-to-instance-action-events," def __init__(self, context, event_name, host, *instance_uuids): self.host = host self.context, uuid, self.event_name, want_result=False, host=self.host) with EventReporter(context, event_name, self.host, instance_uuid):"," def __init__(self, context, event_name, *instance_uuids): self.context, uuid, self.event_name, want_result=False) with EventReporter(context, event_name, instance_uuid):",9,7
openstack%2Fswift~feature%2Fdeep~Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71,openstack/swift,feature/deep,Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71,Catch more exceptions when recording progress,MERGED,2018-04-26 19:44:59.000000000,2018-04-27 00:06:25.000000000,2018-04-27 00:06:25.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 19:44:59.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7abc6ed4fa2da3207c8fe660186aa3ed01d271d4', 'message': 'Catch more exceptions when recording progress\n\nChange-Id: Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71\n'}]",0,564605,7abc6ed4fa2da3207c8fe660186aa3ed01d271d4,6,2,1,15343,,,0,"Catch more exceptions when recording progress

Change-Id: Idcca56ab2f42dcadb5b3a2194bda16c8dc451f71
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/564605/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,7abc6ed4fa2da3207c8fe660186aa3ed01d271d4,," except (Exception, Timeout) as error:", except Exception as error:,1,1
openstack%2Fneutron~stable%2Fqueens~I25d9c87225feda1b5ddd442dd01529424186e05b,openstack/neutron,stable/queens,I25d9c87225feda1b5ddd442dd01529424186e05b,ovs-fw: Apply openflow rules immediately during update,MERGED,2018-04-24 14:55:30.000000000,2018-04-27 00:06:19.000000000,2018-04-27 00:06:19.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 14:55:30.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f68e7822f46ec9577e5a866a67cc54b777240486', 'message': ""ovs-fw: Apply openflow rules immediately during update\n\nBecause update operation updates openflow rules three times:\n 1) New rules with new cookie\n 2) Delete old rules with old cookie\n 3) Change new cookie back to old cookie\n\nand the step 2) uses --strict parameter, it's needed to apply rules\nbefore deleting the old rules because --strict parameter cannot be\ncombined with non-strict. This patch applies openflow rules after\nstep 1), then --strict rules in step 2 are applied right away and then\nrest of delete part from 2) and all new rules from 3) are applied\ntogether.\n\nThis patch adds optional interval parameter to Pinger class which sends\nmore ICMP packets per second in the firewall blink tests to increase a\nchance of sending a packet while firewall is in inconsistent state.\n\nChange-Id: I25d9c87225feda1b5ddd442dd01529424186e05b\nCloses-bug: #1708731\n""}]",0,563990,f68e7822f46ec9577e5a866a67cc54b777240486,22,6,1,8655,,,0,"ovs-fw: Apply openflow rules immediately during update

Because update operation updates openflow rules three times:
 1) New rules with new cookie
 2) Delete old rules with old cookie
 3) Change new cookie back to old cookie

and the step 2) uses --strict parameter, it's needed to apply rules
before deleting the old rules because --strict parameter cannot be
combined with non-strict. This patch applies openflow rules after
step 1), then --strict rules in step 2 are applied right away and then
rest of delete part from 2) and all new rules from 3) are applied
together.

This patch adds optional interval parameter to Pinger class which sends
more ICMP packets per second in the firewall blink tests to increase a
chance of sending a packet while firewall is in inconsistent state.

Change-Id: I25d9c87225feda1b5ddd442dd01529424186e05b
Closes-bug: #1708731
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/563990/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,f68e7822f46ec9577e5a866a67cc54b777240486,bug/1708731-stable/queens," def test_update_port_filter_applies_added_flows(self): """"""Check flows are applied right after _set_flows is called."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) with self.firewall.defer_apply(): self.firewall.update_port_filter(port_dict) self.assertEqual(2, self.mock_bridge.apply_flows.call_count) ",,24,2
openstack%2Fswift~feature%2Fdeep~I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8,openstack/swift,feature/deep,I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8,Clean up logs a bit,MERGED,2018-04-26 20:01:51.000000000,2018-04-27 00:06:17.000000000,2018-04-27 00:06:17.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 20:01:51.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f635d78a2d670f407a9bfc7be81308ee9cbe9f91', 'message': ""Clean up logs a bit\n\nWe don't need to log the fact that we created zero ranges, and we don't need\nto log at info for *every* container we find.\n\nIt *is* handy to write down the time elapsed when we finish cleaving a shard,\nthough, so I don't have to correlate log lines, parse and diff dates, etc.\n\nChange-Id: I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8\n""}]",0,564613,f635d78a2d670f407a9bfc7be81308ee9cbe9f91,6,2,1,15343,,,0,"Clean up logs a bit

We don't need to log the fact that we created zero ranges, and we don't need
to log at info for *every* container we find.

It *is* handy to write down the time elapsed when we finish cleaving a shard,
though, so I don't have to correlate log lines, parse and diff dates, etc.

Change-Id: I2b2b8a6b8801082f3068ec0f264ab5d4086aa2c8
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/564613/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,f635d78a2d670f407a9bfc7be81308ee9cbe9f91,," self.logger.debug('Finished misplaced shard replication') if created_ranges: broker.merge_shard_ranges(created_ranges) if not broker.is_root_container(): self._send_shard_ranges( broker.root_account, broker.root_container, created_ranges) self.logger.info( ""Completed creating shard range containers: %d created."", len(created_ranges)) 'Cleaved %s for shard range %s in %gs.', broker.path, shard_range, elapsed) self.logger.debug('Starting processing %s state %s', broker.path, broker.get_db_state_text(state)) self.logger.info('Completed cleaving of %s', broker.path) self.logger.debug('Finished processing %s/%s state %s', broker.account, broker.container, broker.get_db_state_text())"," self.logger.info('Finished misplaced shard replication') broker.merge_shard_ranges(created_ranges) if not broker.is_root_container(): self._send_shard_ranges( broker.root_account, broker.root_container, created_ranges) self.logger.info( ""Completed creating shard range containers: %d created."", len(created_ranges)) 'Cleaved %s for shard range %s.', broker.path, shard_range) self.logger.info('Starting processing %s state %s', broker.path, broker.get_db_state_text(state)) self.logger.debug('Completed cleaving of %s', broker.path) self.logger.info('Finished processing %s/%s state %s', broker.account, broker.container, broker.get_db_state_text())",17,15
openstack%2Fneutron~master~I5b0a6bafd1e3f4552e32809a449868d7a5868739,openstack/neutron,master,I5b0a6bafd1e3f4552e32809a449868d7a5868739,Move standard-attr-segment to service plugin,MERGED,2018-04-24 15:08:28.000000000,2018-04-27 00:06:15.000000000,2018-04-27 00:06:15.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-04-24 15:08:28.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e36a2bd65c65d7dad15579aa86bb5fe6614a40ab', 'message': 'Move standard-attr-segment to service plugin\n\nStandard attributes was added to segment resource at [1].\nIn [2], a shim extension standard-attr-segment was added to ml2\nplugin to indicate this change, but this extension should be\nplaced to segment service plugin instead. This commit fixes it.\n\n[1] https://review.openstack.org/#/c/558318/\n[2] https://review.openstack.org/#/c/562320/\n\nChange-Id: I5b0a6bafd1e3f4552e32809a449868d7a5868739\nCloses-Bug: #1765008\n'}]",0,563995,e36a2bd65c65d7dad15579aa86bb5fe6614a40ab,26,8,1,27654,,,0,"Move standard-attr-segment to service plugin

Standard attributes was added to segment resource at [1].
In [2], a shim extension standard-attr-segment was added to ml2
plugin to indicate this change, but this extension should be
placed to segment service plugin instead. This commit fixes it.

[1] https://review.openstack.org/#/c/558318/
[2] https://review.openstack.org/#/c/562320/

Change-Id: I5b0a6bafd1e3f4552e32809a449868d7a5868739
Closes-Bug: #1765008
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/563995/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/plugins/ml2/plugin.py']",2,e36a2bd65c65d7dad15579aa86bb5fe6614a40ab,bug/1765008," ""port-security-groups-filtering""]"," ""port-security-groups-filtering"", ""standard-attr-segment""]",3,3
openstack%2Foslo.config~stable%2Fpike~I646fcc181d1129ca96d02a90036ee32b80d8f778,openstack/oslo.config,stable/pike,I646fcc181d1129ca96d02a90036ee32b80d8f778,Fix sphinx-docs job for stable/pike,MERGED,2018-04-23 15:14:24.000000000,2018-04-26 23:49:44.000000000,2018-04-26 23:49:44.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 15:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/249a313836e290be780b6df82e86775f28183d20', 'message': 'Fix sphinx-docs job for stable/pike\n\nbuild-openstack-sphinx-docs jobs fails on stable/pike due to the new pip\nversion 10 introduces some previously Warning as Error: in case of calling\n""pip install"" without any package name, the command fails. tox_install.sh\nis called during docs job without any package passed to pip.\n\nChange-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778\n'}, {'number': 2, 'created': '2018-04-25 17:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/f73a6e518fb72fba1e066b7865d862c91e14cd29', 'message': 'Fix sphinx-docs job for stable/pike\n\nbuild-openstack-sphinx-docs jobs fails on stable/pike due to the new pip\nversion 10 introduces some previously Warning as Error: in case of calling\n""pip install"" without any package name, the command fails. tox_install.sh\nis called during docs job without any package passed to pip.\n\nChange-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778\n'}, {'number': 3, 'created': '2018-04-25 17:24:20.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/4d372b7de147364093d973ca3cc0f6e0b4089bff', 'message': 'Fix sphinx-docs job for stable/pike\n\nbuild-openstack-sphinx-docs jobs fails on stable/pike due to the new pip\nversion 10 introduces some previously Warning as Error: in case of calling\n""pip install"" without any package name, the command fails. tox_install.sh\nis called during docs job without any package passed to pip.\n\nChange-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778\n'}]",1,563664,4d372b7de147364093d973ca3cc0f6e0b4089bff,16,5,3,17685,,,0,"Fix sphinx-docs job for stable/pike

build-openstack-sphinx-docs jobs fails on stable/pike due to the new pip
version 10 introduces some previously Warning as Error: in case of calling
""pip install"" without any package name, the command fails. tox_install.sh
is called during docs job without any package passed to pip.

Change-Id: I646fcc181d1129ca96d02a90036ee32b80d8f778
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/64/563664/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,249a313836e290be780b6df82e86775f28183d20,pip10-stable-pike-fix,"if [ -n ""$@"" ]; then pip install -c""$localfile"" -U ""$@"" fi ","pip install -c""$localfile"" -U ""$@""",4,1
openstack%2Frequirements~stable%2Fpike~Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a,openstack/requirements,stable/pike,Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a,update constraint for python-novaclient to new release 9.1.2,MERGED,2018-04-25 09:41:31.000000000,2018-04-26 23:44:07.000000000,2018-04-26 23:44:07.000000000,"[{'_account_id': 2472}, {'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 09:41:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ccf4264a00328091af01712ce535e2887a95c24d', 'message': 'update constraint for python-novaclient to new release 9.1.2\n\nChange-Id: Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a\nmeta:version: 9.1.2\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: melanie witt <melwittt@gmail.com>\nmeta:release:Commit: melanie witt <melwittt@gmail.com>\nmeta:release:Change-Id: Ice3ebaabf39f63bbd8c5a104f70570a12b1e7b08\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,564151,ccf4264a00328091af01712ce535e2887a95c24d,15,4,1,11131,,,0,"update constraint for python-novaclient to new release 9.1.2

Change-Id: Id0ddeb1d120e6ad77fedf26bb5aa3808f6be759a
meta:version: 9.1.2
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: melanie witt <melwittt@gmail.com>
meta:release:Commit: melanie witt <melwittt@gmail.com>
meta:release:Change-Id: Ice3ebaabf39f63bbd8c5a104f70570a12b1e7b08
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/564151/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ccf4264a00328091af01712ce535e2887a95c24d,new-release,python-novaclient===9.1.2,python-novaclient===9.1.1,1,1
openstack%2Fswift~feature%2Fdeep~I3e48850a0afbab0725859b4bd0c5b70bd78a16ff,openstack/swift,feature/deep,I3e48850a0afbab0725859b4bd0c5b70bd78a16ff,Remove unused code for passing shard ranges via the pending file,MERGED,2018-04-26 17:41:44.000000000,2018-04-26 23:44:06.000000000,2018-04-26 23:44:06.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 17:41:44.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5eb65e4b895a6d513d371418a0e7f1f241c81b34', 'message': 'Remove unused code for passing shard ranges via the pending file\n\nRemove/revert to master leftover code from when shard ranges were\nwritten to the pending file.\n\nChange-Id: I3e48850a0afbab0725859b4bd0c5b70bd78a16ff\n'}]",0,564570,5eb65e4b895a6d513d371418a0e7f1f241c81b34,6,2,1,7847,,,0,"Remove unused code for passing shard ranges via the pending file

Remove/revert to master leftover code from when shard ranges were
written to the pending file.

Change-Id: I3e48850a0afbab0725859b4bd0c5b70bd78a16ff
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/564570/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",4,5eb65e4b895a6d513d371418a0e7f1f241c81b34,," data = pickle.loads(entry.decode('base64')) (name, timestamp, size, content_type, etag, deleted) = data[:6] if len(data) > 6: storage_policy_index = data[6] else: storage_policy_index = 0 content_type_timestamp = meta_timestamp = None if len(data) > 7: content_type_timestamp = data[7] if len(data) > 8: meta_timestamp = data[8] item_list.append({'name': name, 'created_at': timestamp, 'size': size, 'content_type': content_type, 'etag': etag, 'deleted': deleted, 'storage_policy_index': storage_policy_index, 'ctype_timestamp': content_type_timestamp, 'meta_timestamp': meta_timestamp}) record['meta_timestamp']) 'meta_timestamp': meta_timestamp}"," data = list(pickle.loads(entry.decode('base64'))) record_type = data.pop(9) if len(data) > 9 else RECORD_TYPE_OBJECT if record_type == RECORD_TYPE_SHARD_NODE: item = dict(zip(SHARD_RANGE_KEYS, data)) item['record_type'] = record_type else: (name, timestamp, size, content_type, etag, deleted) = data[:6] storage_policy_index = data[6] if len(data) > 6 else 0 content_type_timestamp = data[7] if len(data) > 7 else None meta_timestamp = data[8] if len(data) > 8 else None item = { 'name': name, 'created_at': timestamp, 'size': size, 'content_type': content_type, 'etag': etag, 'deleted': deleted, 'storage_policy_index': storage_policy_index, 'ctype_timestamp': content_type_timestamp, 'meta_timestamp': meta_timestamp, 'record_type': record_type} item_list.append(item) record_type = record['record_type'] if record_type == RECORD_TYPE_SHARD_NODE: # TODO: this is so brittle, could we use dicts for shard ranges and # try/except when reading back in _commit_puts_load? values = [record[key] for key in SHARD_RANGE_KEYS] while len(values) < 9: # pad as required since record_type *MUST* be at index 9 values.insert(8, 0) values.insert(9, record_type) return tuple(values) record['meta_timestamp'], record['record_type']) 'meta_timestamp': meta_timestamp, 'record_type': RECORD_TYPE_OBJECT}",41,58
openstack%2Frequirements~master~Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8,openstack/requirements,master,Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8,Bump os-xenapi to 0.3.3,MERGED,2018-04-26 07:36:20.000000000,2018-04-26 23:44:04.000000000,2018-04-26 23:44:04.000000000,"[{'_account_id': 6593}, {'_account_id': 6735}, {'_account_id': 14288}, {'_account_id': 17920}, {'_account_id': 22348}, {'_account_id': 25638}]","[{'number': 1, 'created': '2018-04-26 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6317ed2c21226358fdc6fb2f91869080bafb98cf', 'message': 'Bump os-xenapi to 0.3.3\n\nChange-Id: Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8\n'}, {'number': 2, 'created': '2018-04-26 07:52:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8eb9ad8b60973e7f5d53fe9ad4d1c07dc3de5cf6', 'message': 'Bump os-xenapi to 0.3.3\n\nChange-Id: Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8\n'}]",0,564413,8eb9ad8b60973e7f5d53fe9ad4d1c07dc3de5cf6,13,6,2,17920,,,0,"Bump os-xenapi to 0.3.3

Change-Id: Ib8bc0f837c55839dc85df1d1f0c76b320b9d97b8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/564413/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/tests/files/upper-constraints.txt', 'lower-constraints.txt', 'upper-constraints.txt']",3,6317ed2c21226358fdc6fb2f91869080bafb98cf,os-xenapi-0.3.3,os-xenapi===0.3.3,os-xenapi===0.3.2,3,3
openstack%2Fneutron~master~I6e9bc70ba2bcd5432bee1ddcf16f449421befd90,openstack/neutron,master,I6e9bc70ba2bcd5432bee1ddcf16f449421befd90,Document mixed scenario with LB and OVS over VXLAN,MERGED,2018-04-17 22:14:32.000000000,2018-04-26 23:44:02.000000000,2018-04-26 23:44:02.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-17 22:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba8a7afe269b255b42fdabbaf2a75244aee2bd98', 'message': 'Document mixed scenario with LB and OVS over VXLAN\n\nThis patch adds a recommendation to the deployment examples in the docs\non how to configure the udp_dstport option of the Linux bridge agent to\nsupport mixed environments, where nodes with the Linuxbridge agent must\ncommunicate over VXLAN tunnels with nodes with the OVS agent\n\nChange-Id: I6e9bc70ba2bcd5432bee1ddcf16f449421befd90\n'}, {'number': 2, 'created': '2018-04-26 19:48:07.000000000', 'files': ['doc/source/admin/deploy-lb-ha-vrrp.rst', 'doc/source/admin/deploy-lb-selfservice.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a17b61eecb10b48f8a404dd24eaaf25f25b0d00', 'message': 'Document mixed scenario with LB and OVS over VXLAN\n\nThis patch adds a recommendation to the deployment examples in the docs\non how to configure the udp_dstport option of the Linux bridge agent to\nsupport mixed environments, where nodes with the Linuxbridge agent must\ncommunicate over VXLAN tunnels with nodes with the OVS agent\n\nChange-Id: I6e9bc70ba2bcd5432bee1ddcf16f449421befd90\n'}]",0,562064,3a17b61eecb10b48f8a404dd24eaaf25f25b0d00,13,5,2,4694,,,0,"Document mixed scenario with LB and OVS over VXLAN

This patch adds a recommendation to the deployment examples in the docs
on how to configure the udp_dstport option of the Linux bridge agent to
support mixed environments, where nodes with the Linuxbridge agent must
communicate over VXLAN tunnels with nodes with the OVS agent

Change-Id: I6e9bc70ba2bcd5432bee1ddcf16f449421befd90
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/562064/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/deploy-lb-ha-vrrp.rst', 'doc/source/admin/deploy-lb-selfservice.rst']",2,ba8a7afe269b255b42fdabbaf2a75244aee2bd98,mixing-ovs-lb-vxlan-tunnels," .. warning:: By default, Linux uses UDP port ``8472`` for VXLAN tunnels traffic. This default value doesn't follow the IANA standard, which assigned UDP port ``4789`` for VXLAN communication. As a consequence, if this node is part of a mixed deployment, where nodes with OVS and Linux bridge must communicate over VXLAN tunnels, it is recommended that a line containing ``udp_dstport = 4789`` be added to the [vxlan] section of all the Linux bridge agents. OVS follows the IANA standard. .. warning:: By default, Linux uses UDP port ``8472`` for VXLAN tunnels traffic. This default value doesn't follow the IANA standard, which assigned UDP port ``4789`` for VXLAN communication. As a consequence, if this node is part of a mixed deployment, where nodes with OVS and Linux bridge must communicate over VXLAN tunnels, it is recommended that a line containing ``udp_dstport = 4789`` be added to the [vxlan] section of all the Linux bridge agents. OVS follows the IANA standard. ",,30,0
openstack%2Fneutron~master~I6fa885653ee6eafe68c2135064ddb9fedf3f33d1,openstack/neutron,master,I6fa885653ee6eafe68c2135064ddb9fedf3f33d1,Fix the supported_extension_aliases in unit test,MERGED,2018-04-24 19:50:22.000000000,2018-04-26 23:43:59.000000000,2018-04-26 23:43:59.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-04-24 19:50:22.000000000', 'files': ['neutron/tests/unit/extensions/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69d5f40c57eef25625ec50ce60c4c85b97666540', 'message': 'Fix the supported_extension_aliases in unit test\n\nThe supported_extension_aliases should be a list but the flavor\nextension test assigns a string to it. For some reasons, this issue\nis not captured by the gate but it should be fixed.\n\nChange-Id: I6fa885653ee6eafe68c2135064ddb9fedf3f33d1\n'}]",0,564055,69d5f40c57eef25625ec50ce60c4c85b97666540,16,7,1,27654,,,0,"Fix the supported_extension_aliases in unit test

The supported_extension_aliases should be a list but the flavor
extension test assigns a string to it. For some reasons, this issue
is not captured by the gate but it should be fixed.

Change-Id: I6fa885653ee6eafe68c2135064ddb9fedf3f33d1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/564055/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_flavors.py'],1,69d5f40c57eef25625ec50ce60c4c85b97666540,," flavors.Flavors, '', supported_extension_aliases=['flavors'])"," flavors.Flavors, '', supported_extension_aliases='flavors')",1,1
openstack%2Ftaskflow~stable%2Fqueens~I691bc219e608bce832462a51583911751a7eecdc,openstack/taskflow,stable/queens,I691bc219e608bce832462a51583911751a7eecdc,Updated from global requirements,MERGED,2018-02-13 02:02:36.000000000,2018-04-26 23:27:12.000000000,2018-04-26 23:27:12.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 02:02:36.000000000', 'files': ['doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/208af18ab8996dde2b9e479480a94251e28e01ff', 'message': 'Updated from global requirements\n\nChange-Id: I691bc219e608bce832462a51583911751a7eecdc\n'}]",0,543756,208af18ab8996dde2b9e479480a94251e28e01ff,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: I691bc219e608bce832462a51583911751a7eecdc
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/56/543756/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg']",2,208af18ab8996dde2b9e479480a94251e28e01ff,openstack/requirements," oslotest>=3.2.0 # Apache-2.0 sphinx!=1.6.6,>=1.6.2 # BSD", oslotest>=1.10.0 # Apache-2.0 sphinx>=1.6.2 # BSD,4,4
openstack%2Frally~master~Iea95450892f229886c86697d632013e868b6cb31,openstack/rally,master,Iea95450892f229886c86697d632013e868b6cb31,Redesign ResourceTypes,MERGED,2018-04-23 13:47:05.000000000,2018-04-26 23:18:13.000000000,2018-04-26 23:18:13.000000000,"[{'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 13:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4e752d6a2ea9c367e239ba342c7f30c352cc9502', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 2, 'created': '2018-04-23 14:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ab949c95c8d16408ccbacc9f477664b796a2129c', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 3, 'created': '2018-04-24 06:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/30a448298e3e9c4a18ee32dc3ad4c408a45ff5de', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 4, 'created': '2018-04-24 09:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3948d6175a9442c2c79914f5b02250c125bc2be5', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 5, 'created': '2018-04-24 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/64ab1dc5aaf092f9eeb0775a36e2e786ee6ef432', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 6, 'created': '2018-04-24 11:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a0a792011f34ff37347f294635486161f27b3329', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 7, 'created': '2018-04-24 15:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4af1539fc81343eb9ec377ef6832ae158dd472d7', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 8, 'created': '2018-04-24 17:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8da6782defa08f7eaf64ace3de7912169587f9df', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 9, 'created': '2018-04-24 20:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5819c9e6ecbcb9250cfe89acb32d197b72d35dd2', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 10, 'created': '2018-04-25 09:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6d6735a87b7f0895dd24358fe56d578f978d6e4a', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 11, 'created': '2018-04-25 11:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/63a6eab5cc50cfaf410c74d47c84281375ac9fe5', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 12, 'created': '2018-04-25 12:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/86d123439ca237f0076cc027612d5df8fd5f6bc1', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 13, 'created': '2018-04-25 13:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8b5e025e7f4473c580b05021f6c4a6392d092b86', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 14, 'created': '2018-04-25 13:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d21b0d93e576b21ae5ad356d6dcb9d2022afa21c', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 15, 'created': '2018-04-26 14:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d59763b4caddc5e4f58432417dd73f936fdca5c0', 'message': '[WIP] redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}, {'number': 16, 'created': '2018-04-26 18:53:03.000000000', 'files': ['tests/unit/plugins/openstack/context/nova/test_servers.py', 'tests/unit/plugins/openstack/context/ec2/test_servers.py', 'rally/plugins/openstack/types.py', 'rally/plugins/openstack/context/ec2/servers.py', 'tests/unit/plugins/openstack/test_types.py', 'rally/plugins/common/types.py', 'rally/plugins/openstack/context/nova/servers.py', 'rally/plugins/openstack/validators.py', 'rally/plugins/openstack/context/vm/custom_image.py', 'rally/task/types.py', 'tests/unit/plugins/common/test_types.py', 'tests/unit/task/test_types.py', 'tests/unit/plugins/openstack/context/watcher/test_audit_templates.py', 'tests/unit/plugins/openstack/context/vm/test_custom_image.py', 'rally/plugins/openstack/context/watcher/audit_templates.py', 'tests/unit/plugins/openstack/test_validators.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/14bb668e42f324dd9c5389efc92ee15b8ad00a4e', 'message': 'Redesign ResourceTypes\n\nThis patch redesigns base class of ResourceType\'s so it can handle:\n* non-openstack related resources\n* cache mechanism\n\nPlugins of `ResourceType` type look like the last place hardcoded for\nOpenStack. It\'s base method ""transform"" expects ""clients"" argument with\nrally.plugins.openstack.osclients.Clients instance. This instance is\ninitialized in our base code at rally.task.types.\n\nTo solve this issue, the new instance method ""pre_process"" is\nintroduced. It expects the resource specification which can be used for\nsearching/filtering + a configuration for ResourceType from the plugin.\n\nUsing instancemethod instead of classmethods allows to share utils and\nsimplify introducing cache-feature which can decrease number of equal\ncalls.\n\nDespite the fact, that the design of ResourceType class is complitely\nchanged, everything is done in a backward compatible way.\n\nChange-Id: Iea95450892f229886c86697d632013e868b6cb31\n'}]",1,563625,14bb668e42f324dd9c5389efc92ee15b8ad00a4e,32,3,16,9545,,,0,"Redesign ResourceTypes

This patch redesigns base class of ResourceType's so it can handle:
* non-openstack related resources
* cache mechanism

Plugins of `ResourceType` type look like the last place hardcoded for
OpenStack. It's base method ""transform"" expects ""clients"" argument with
rally.plugins.openstack.osclients.Clients instance. This instance is
initialized in our base code at rally.task.types.

To solve this issue, the new instance method ""pre_process"" is
introduced. It expects the resource specification which can be used for
searching/filtering + a configuration for ResourceType from the plugin.

Using instancemethod instead of classmethods allows to share utils and
simplify introducing cache-feature which can decrease number of equal
calls.

Despite the fact, that the design of ResourceType class is complitely
changed, everything is done in a backward compatible way.

Change-Id: Iea95450892f229886c86697d632013e868b6cb31
",git fetch https://review.opendev.org/openstack/rally refs/changes/25/563625/16 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/types.py', 'rally/task/types.py']",2,4e752d6a2ea9c367e239ba342c7f30c352cc9502,types,"from rally.common import loggingLOG = logging.getLogger(__name__) for k, v in kwargs.items(): if ""type"" not in v: LOG.warning( ""The configuration for preprocessing '%s' argument of"" "" %s Scenario plugin is wrong. Check documentation "" ""for more details."" % (k, cls.get_name())) cls._meta_get(""preprocessors"").update(kwargs) return cls return wrapper preprocessors = scenario.Scenario.get(name)._meta_get( ""preprocessors"", default={}) cache = {} resource_types = {} for src, type_cfg in preprocessors.items(): if type_cfg[""type""] not in resource_types: resource_types[type_cfg[""type""]] = ResourceType.get(context, cache) preprocessor = resource_types[type_cfg[""type""]] if ""src"" in processed_args: processed_args[src] = preprocessor.pre_process( resource_spec=processed_args[src], config=type_cfg)def _pre_process_method(self, resource_spec, config): if resource_spec is None: # previously, such arguments were skipped return try: from rally_openstack import osclients except ImportError: from rally.plugins.openstack import osclients clients = None if self._context.get(""admin""): clients = osclients.Clients(self._context[""admin""][""credential""]) elif self._context.get(""users""): clients = osclients.Clients(self._context[""users""][0][""credential""]) return self.__class__.transform(clients=clients, resource_config=resource_spec) class _OldTypesCompatMeta(type): def __new__(mcs, name, parents, dct): # check for old-style ResourceTypes if ""transform"" in dct: # check the case when plugin supports both old and new styles if (""pre_process"" not in dct or dct[""pre_process""] == ResourceType.pre_process): dct[""pre_process""] = _pre_process_method LOG.warning(""ResourceType class %s implements an old interface"" "" which is deprecated since Rally 0.12 and which"" "" will be removed soon."" % name) return super(_OldTypesCompatMeta, mcs).__new__(mcs, name, parents, dct) _CombinedMeta = type(""CombineMeta"", (abc.ABCMeta, _OldTypesCompatMeta), {}) @six.add_metaclass(_CombinedMeta) def __init__(self, context, cache=None): self._context = context self._global_cache = cache if cache is not None else {} self._global_cache.setdefault(self.get_name(), {}) self._cache = self._global_cache[self.get_name()] def pre_process(self, resource_spec, config): """"""Pre-process resource. :param resource_spec: A specification of the resource from the task :param config: A configuration for preprocessing taken from the plugin pass if hasattr(cls, ""transform""): # old-style return cls.transform.__doc__ return super(ResourceType, cls)._get_doc()"," preprocessors = dict([(k, v[""type""]) for k, v in kwargs.items()]) cls._meta_get(""preprocessors"").update(preprocessors) return plugin return cls from rally.plugins.openstack import osclients preprocessors = scenario.Scenario.get(name)._meta_get(""preprocessors"", default={}) clients = None if context.get(""admin""): clients = osclients.Clients(context[""admin""][""credential""]) elif context.get(""users""): clients = osclients.Clients(context[""users""][0][""credential""]) for src, type_name in preprocessors.items(): preprocessor = ResourceType.get(type_name) resource_cfg = processed_args.get(src) if resource_cfg: processed_args[src] = preprocessor.transform( clients=clients, resource_config=resource_cfg)@six.add_metaclass(abc.ABCMeta) @classmethod def transform(cls, clients, resource_config): """"""Transform the resource. :param clients: openstack admin client handles :param resource_config: scenario config of resource :returns: transformed value of resource return cls.transform.__doc__",119,45
openstack%2Ftripleo-heat-templates~master~I44517d2fda0f6252634aa76d41e7a5bb3622456b,openstack/tripleo-heat-templates,master,I44517d2fda0f6252634aa76d41e7a5bb3622456b,Run the dispatch script for vlans as well,MERGED,2018-04-09 11:29:47.000000000,2018-04-26 23:12:08.000000000,2018-04-26 23:12:08.000000000,"[{'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-09 11:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a284a53caf3481b5033c5dcc05f69e8fcfe9f409', 'message': 'Run the dispatch script for vlans as well\n\nThe dispatch script is only executed for interfaces managed by\nos-net-config but not for their vlans. This patch gets the vlans\nthat belong to every interface and adds them to the list of interfaces\nto scan.\n\nChange-Id: I44517d2fda0f6252634aa76d41e7a5bb3622456b\n'}, {'number': 2, 'created': '2018-04-09 12:26:45.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7fe99e172b561a6c02b4cf66fde62b38c2b5349', 'message': 'Run the dispatch script for vlans as well\n\nThe dispatch script is only executed for interfaces managed by\nos-net-config but not for their vlans. This patch gets the vlans\nthat belong to every interface and adds them to the list of interfaces\nto scan.\n\nChange-Id: I44517d2fda0f6252634aa76d41e7a5bb3622456b\n'}]",0,559712,b7fe99e172b561a6c02b4cf66fde62b38c2b5349,13,6,2,6159,,,0,"Run the dispatch script for vlans as well

The dispatch script is only executed for interfaces managed by
os-net-config but not for their vlans. This patch gets the vlans
that belong to every interface and adds them to the list of interfaces
to scan.

Change-Id: I44517d2fda0f6252634aa76d41e7a5bb3622456b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/559712/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,a284a53caf3481b5033c5dcc05f69e8fcfe9f409,fix-dispatcher," DEVS=$(jq '.network_config[] | {name}.name' /etc/os-net-config/config.json) # NOTE(flaper87): We should, eventually, set the name on the vlan objects # inside the os-net-config config.json file and use that. VLANS=$(jq '.network_config[] | .members // [] | del( .[] | select( .type != ""vlan"" ) ) | .[].type + (.[].vlan_id|tostring)' /etc/os-net-config/config.json) for dev in $DEVS $VLANS; do", for dev in $(jq '.network_config[] | {name}.name' /etc/os-net-config/config.json);,6,1
openstack%2Ftripleo-heat-templates~master~Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,openstack/tripleo-heat-templates,master,Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b,Add OVNCMSOptions in dvr environment files,MERGED,2018-04-23 07:34:59.000000000,2018-04-26 23:12:06.000000000,2018-04-26 23:12:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 9414}, {'_account_id': 10237}, {'_account_id': 10267}, {'_account_id': 11391}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-23 07:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d14de3958c5f70c9096061051df99641d80b8a7e', 'message': 'Add OVNCMSOptions in dvr environment files\n\nThis option must be enabled in a controller to be selected for hosting\na gateway router. But it is missing in DVR environment files. So when\nthese files are used for the deployment, vms were not able to reach\nexternal network. So adding this option for DVR files.\n\nChange-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b\nCloses-Bug: 1766183\n'}, {'number': 2, 'created': '2018-04-23 09:07:17.000000000', 'files': ['environments/services/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39ef030553e65ed80326afcf339029ed0f2ae8e4', 'message': 'Add OVNCMSOptions in dvr environment files\n\nThis option must be enabled in a controller to be selected for hosting\na gateway router. But it is missing in DVR environment files. So when\nthese files are used for the deployment, vms were not able to reach\nexternal network. So adding this option for DVR files.\n\nChange-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b\nCloses-Bug: 1766183\n'}]",9,563503,39ef030553e65ed80326afcf339029ed0f2ae8e4,32,13,2,10267,,,0,"Add OVNCMSOptions in dvr environment files

This option must be enabled in a controller to be selected for hosting
a gateway router. But it is missing in DVR environment files. So when
these files are used for the deployment, vms were not able to reach
external network. So adding this option for DVR files.

Change-Id: Ibfc9baf3aca55b49cc197758cbf5a0df9daa8b9b
Closes-Bug: 1766183
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/563503/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr.yaml']",2,d14de3958c5f70c9096061051df99641d80b8a7e,bug/1766183," ComputeParameters: NeutronBridgeMappings: """" ControllerParameters: OVNCMSOptions: ""enable-chassis-as-gw"" NetworkerParameters: OVNCMSOptions: ""enable-chassis-as-gw""",,12,0
openstack%2Fnova~master~I154b1ef14dbace803841cb3eed3ff02dd0020588,openstack/nova,master,I154b1ef14dbace803841cb3eed3ff02dd0020588,Handle deprecation of inspect.getargspec,MERGED,2018-01-02 17:20:32.000000000,2018-04-26 22:55:07.000000000,2018-04-26 20:42:00.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-02 17:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/877db8510fb120356d515b7c11a0a80941bc378b', 'message': 'Handle deprecation of inspect.getargspec\n\ngetargspec has been deprecated in py3 with plans to remove it in py3.6.\nThe recommendation is to move to inspect.signature, but the results of\nthat call are different than the existing one.\n\nThere is also getfullargspec available under py3 that was originally\ndeprecated, but for the sake of handling 2/3 code, it has been\nun-deprecated. This call uses inspect internally, but returns a mostly\ncompatible result with what getargspec did. This handles getargspec\ndeprecation by just using getfullargspec instead if it is available\n\nChange-Id: I154b1ef14dbace803841cb3eed3ff02dd0020588\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2018-01-09 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec946d850948725a989e9894e51e33c58ad5ed8f', 'message': 'Handle deprecation of inspect.getargspec\n\ngetargspec has been deprecated in py3 with plans to remove it in py3.6.\nThe recommendation is to move to inspect.signature, but the results of\nthat call are different than the existing one.\n\nThere is also getfullargspec available under py3 that was originally\ndeprecated, but for the sake of handling 2/3 code, it has been\nun-deprecated. This call uses inspect internally, but returns a mostly\ncompatible result with what getargspec did. This handles getargspec\ndeprecation by just using getfullargspec instead if it is available\n\nChange-Id: I154b1ef14dbace803841cb3eed3ff02dd0020588\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2018-04-26 08:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e628ab8b40ca51ad01adc4bfcaa49b8dd39e2487', 'message': 'Handle deprecation of inspect.getargspec\n\ngetargspec has been deprecated in py3 with plans to remove it in py3.6.\nThe recommendation is to move to inspect.signature, but the results of\nthat call are different than the existing one.\n\nThere is also getfullargspec available under py3 that was originally\ndeprecated, but for the sake of handling 2/3 code, it has been\nun-deprecated. This call uses inspect internally, but returns a mostly\ncompatible result with what getargspec did. This handles getargspec\ndeprecation by just using getfullargspec instead if it is available\n\nChange-Id: I154b1ef14dbace803841cb3eed3ff02dd0020588\n'}, {'number': 4, 'created': '2018-04-26 11:51:12.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/network/base_api.py', 'nova/test.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/cmd/common.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35b304661d17e1b64460101ae30273a4c5672a14', 'message': 'Handle deprecation of inspect.getargspec\n\ngetargspec has been deprecated in py3 with plans to remove it in py3.6.\nThe recommendation is to move to inspect.signature, but the results of\nthat call are different than the existing one.\n\nThere is also getfullargspec available under py3 that was originally\ndeprecated, but for the sake of handling 2/3 code, it has been\nun-deprecated. This call uses inspect internally, but returns a mostly\ncompatible result with what getargspec did. This handles getargspec\ndeprecation by just using getfullargspec instead if it is available\n\nCloses-Bug: #1766919\n\nChange-Id: I154b1ef14dbace803841cb3eed3ff02dd0020588\n'}]",4,530777,35b304661d17e1b64460101ae30273a4c5672a14,66,18,4,15334,,,0,"Handle deprecation of inspect.getargspec

getargspec has been deprecated in py3 with plans to remove it in py3.6.
The recommendation is to move to inspect.signature, but the results of
that call are different than the existing one.

There is also getfullargspec available under py3 that was originally
deprecated, but for the sake of handling 2/3 code, it has been
un-deprecated. This call uses inspect internally, but returns a mostly
compatible result with what getargspec did. This handles getargspec
deprecation by just using getfullargspec instead if it is available

Closes-Bug: #1766919

Change-Id: I154b1ef14dbace803841cb3eed3ff02dd0020588
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/530777/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/network/base_api.py', 'nova/test.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/cmd/common.py', 'nova/utils.py']",6,877db8510fb120356d515b7c11a0a80941bc378b,getargspec,"def getargspec(): if hasattr(inspect, 'getfullargspec'): getargspec = inspect.getfullargspec else: getargspec = inspect.getargspec arg_names, a, kw, _default = getargspec(base_f)"," arg_names, a, kw, _default = inspect.getargspec(base_f)",20,15
openstack%2Fnova~master~I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f,openstack/nova,master,I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f,Extract generate_hostid method into utils.py,MERGED,2018-03-22 12:30:32.000000000,2018-04-26 22:34:40.000000000,2018-04-24 17:45:44.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-22 12:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7369a78ee840a047183913d9305b045829bb486f', 'message': 'Extract generate_hostid method into utils.py\n\nThis would be used in instance action API to show the hostId\nto non-admin user.\n\nThis patch propose to extract the generate_hostid method\ninto utils.\n\ntrivial fix\n\nChange-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f\n'}, {'number': 2, 'created': '2018-03-23 06:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/564f742f97fe2d66f40684ff3923e9bf7d7ac449', 'message': 'Extract generate_hostid method into utils.py\n\nThis would be used in instance action API to show the hostId\nto non-admin user.\n\nThis patch propose to extract the generate_hostid method\ninto utils.\n\ntrivial fix\n\nChange-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f\n'}, {'number': 3, 'created': '2018-03-28 02:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe76a7a146995161e37d8a9151252dc245893aa8', 'message': 'Extract generate_hostid method into utils.py\n\nThis would be used in instance action API to show the hostId\nto non-admin user.\n\nThis patch propose to extract the generate_hostid method\ninto utils.\n\ntrivial fix\n\nChange-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f\n'}, {'number': 4, 'created': '2018-04-13 11:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87bc1768fd71d6c6efb544bd5b88150430c4c3a3', 'message': 'Extract generate_hostid method into utils.py\n\nThis would be used in instance action API to show the hostId\nto non-admin user.\n\nThis patch propose to extract the generate_hostid method\ninto utils.\n\ntrivial fix\n\nChange-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f\n'}, {'number': 5, 'created': '2018-04-16 01:56:46.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7500462bc3434e485d3d1f0fa6de7a085521582b', 'message': 'Extract generate_hostid method into utils.py\n\nThis would be used in instance action API to show the hostId\nto non-admin user.\n\nThis patch propose to extract the generate_hostid method\ninto utils.\n\ntrivial fix\n\nChange-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f\n'}]",15,555282,7500462bc3434e485d3d1f0fa6de7a085521582b,119,22,5,20722,,,0,"Extract generate_hostid method into utils.py

This would be used in instance action API to show the hostId
to non-admin user.

This patch propose to extract the generate_hostid method
into utils.

trivial fix

Change-Id: I00d29e9fd80e6b8f7ba3bbd8e82dde9d4cb1522f
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/555282/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py']",3,7369a78ee840a047183913d9305b045829bb486f,bp/add-host-to-instance-action-events," def generate_hostid(host, project_id): """"""Generate an obfuscated host id representing the host. This is a hashed value so will not actually look like a hostname, and is hashed with data from the project_id. :param host: The name of the host to which the server is evacuated. :param project_id: The UUID of the project. :return: An obfuscated hashed host id string, return """" if host is empty """""" if host: data = (project_id + host).encode('utf-8') sha_hash = hashlib.sha224(data) return sha_hash.hexdigest() else: return """"",,30,5
openstack%2Fneutron~master~I1b5683129d3e5564eb6712521a91a002b5b8622f,openstack/neutron,master,I1b5683129d3e5564eb6712521a91a002b5b8622f,Re-factor the iptables_manager tests,MERGED,2017-12-14 14:35:16.000000000,2018-04-26 22:29:07.000000000,2018-04-26 22:29:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25618}]","[{'number': 1, 'created': '2017-12-14 14:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d0e7c46ded9b43bd680c6c5b757c469357cee04', 'message': 'Re-factor the iptables_manager tests\n\nThere were a few issues I noticed in the iptables_manager tests:\n\n1. Some tests over-rode the iptables manager created in setUp()\n2. Some tests over-rode the execute mock created in setUp()\n3. Not all tests were run with both IPv4-only and IPv4/IPv6\n\nRe-factored things to fix all these issues by breaking the class\nup and creating sub-classes that enabled ""use_ipv6"" so that all\ntests were run twice - once with IPv4-only and another using\nIPv4/IPv6.\n\nChange-Id: I1b5683129d3e5564eb6712521a91a002b5b8622f\n'}, {'number': 2, 'created': '2018-04-16 19:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3016d2bf01368037548ce1cfbffd654b3cbb0a70', 'message': 'Re-factor the iptables_manager tests\n\nThere were a few issues I noticed in the iptables_manager tests:\n\n1. Some tests over-rode the iptables manager created in setUp()\n2. Some tests over-rode the execute mock created in setUp()\n3. Not all tests were run with both IPv4-only and IPv4/IPv6\n\nRe-factored things to fix all these issues by breaking the class\nup and creating sub-classes that enabled ""use_ipv6"" so that all\ntests were run twice - once with IPv4-only and another using\nIPv4/IPv6.\n\nChange-Id: I1b5683129d3e5564eb6712521a91a002b5b8622f\n'}, {'number': 3, 'created': '2018-04-25 20:07:43.000000000', 'files': ['neutron/tests/unit/agent/linux/test_iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/54bbf6256111e295426341d12fffd0227c7fce1e', 'message': 'Re-factor the iptables_manager tests\n\nThere were a few issues I noticed in the iptables_manager tests:\n\n1. Some tests over-rode the iptables manager created in setUp()\n2. Some tests over-rode the execute mock created in setUp()\n3. Not all tests were run with both IPv4-only and IPv4/IPv6\n\nRe-factored things to fix all these issues by breaking the class\nup and creating sub-classes that enabled ""use_ipv6"" so that all\ntests were run twice - once with IPv4-only and another using\nIPv4/IPv6.\n\nChange-Id: I1b5683129d3e5564eb6712521a91a002b5b8622f\n'}]",13,527975,54bbf6256111e295426341d12fffd0227c7fce1e,25,8,3,1131,,,0,"Re-factor the iptables_manager tests

There were a few issues I noticed in the iptables_manager tests:

1. Some tests over-rode the iptables manager created in setUp()
2. Some tests over-rode the execute mock created in setUp()
3. Not all tests were run with both IPv4-only and IPv4/IPv6

Re-factored things to fix all these issues by breaking the class
up and creating sub-classes that enabled ""use_ipv6"" so that all
tests were run twice - once with IPv4-only and another using
IPv4/IPv6.

Change-Id: I1b5683129d3e5564eb6712521a91a002b5b8622f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/527975/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/linux/test_iptables_manager.py'],1,7d0e7c46ded9b43bd680c6c5b757c469357cee04,iptables-manager-test-refactor,"class IptablesManagerBaseTestCase(base.BaseTestCase): def setUp(self): super(IptablesManagerBaseTestCase, self).setUp() def _extend_with_ip6tables_filter_end(self, expected_calls, filter_dump): expected_calls.extend([ (mock.call(['ip6tables-save'], run_as_root=True), ''), (mock.call(['ip6tables-restore', '-n'], process_input=filter_dump, run_as_root=True, log_fail_as_error=False), None)]) def _extend_with_ip6tables_filter(self, expected_calls, filter_dump): expected_calls.insert(2, ( mock.call(['ip6tables-save'], run_as_root=True), '')) expected_calls.insert(3, ( mock.call(['ip6tables-restore', '-n'], process_input=filter_dump, run_as_root=True, log_fail_as_error=False), None)) self._extend_with_ip6tables_filter_end(expected_calls, filter_dump) class IptablesManagerStateFulTestCase(IptablesManagerBaseTestCase): use_ipv6 = False def setUp(self): super(IptablesManagerStateFulTestCase, self).setUp() self.iptables = iptables_manager.IptablesManager( use_ipv6=self.use_ipv6) def test_add_and_remove_chain(self): if self.use_ipv6: def test_add_filter_rule(self): if self.use_ipv6: def test_rule_with_wrap_target(self): if self.use_ipv6: def test_add_mangle_rule(self): if self.use_ipv6: def test_add_nat_rule(self): if self.use_ipv6: def test_add_raw_rule(self): if self.use_ipv6: def test_add_rule_to_a_nonexistent_chain(self): if self.use_ipv6: add_rule = self.iptables.ipv6['filter'].add_rule else: add_rule = self.iptables.ipv4['filter'].add_rule self.assertRaises(LookupError, add_rule, 'nonexistent', '-j DROP') if self.use_ipv6: remove_chain = self.iptables.ipv6['filter'].remove_chain else: remove_chain = self.iptables.ipv4['filter'].remove_chain with mock.patch.object(iptables_manager, ""LOG"") as log: remove_chain('nonexistent') if self.use_ipv6: remove_rule = self.iptables.ipv6['filter'].remove_rule else: remove_rule = self.iptables.ipv4['filter'].remove_rule with mock.patch.object(iptables_manager, ""LOG"") as log: remove_rule('nonexistent', '-j DROP') num_calls = 3 expected_calls_and_values = [ (mock.call(['iptables-save'], run_as_root=True), FILTER_DUMP), (mock.call(['iptables-restore', '-n'], PE_error), (mock.call(['iptables-restore', '-n', '-w', '10', process_input=mock.ANY, run_as_root=True), None), ] if self.use_ipv6: num_calls += 2 expected_calls_and_values.append( (mock.call(['ip6tables-save'], run_as_root=True), FILTER_DUMP)) expected_calls_and_values.append( (mock.call(['ip6tables-restore', '-n', '-w', '10', '-W', iptables_manager.XLOCK_WAIT_INTERVAL], process_input=mock.ANY, run_as_root=True), None)) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.iptables._apply_synchronized() self.assertEqual(num_calls, self.execute.call_count) tools.verify_mock_calls(self.execute, expected_calls_and_values) num_calls = 2 expected_calls_and_values = [ (mock.call(['iptables-save'], run_as_root=True), FILTER_DUMP), (mock.call(['iptables-restore', '-n', '-w', '10', process_input=mock.ANY, run_as_root=True), None), ] if self.use_ipv6: num_calls += 2 expected_calls_and_values.append( (mock.call(['ip6tables-save'], run_as_root=True), FILTER_DUMP)) expected_calls_and_values.append( (mock.call(['ip6tables-restore', '-n', '-w', '10', '-W', iptables_manager.XLOCK_WAIT_INTERVAL], process_input=mock.ANY, run_as_root=True), None)) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.iptables._apply_synchronized() self.assertEqual(num_calls, self.execute.call_count) tools.verify_mock_calls(self.execute, expected_calls_and_values) iptm = iptables_manager.IptablesManager(use_ipv6=self.use_ipv6) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.assertEqual(num_calls, self.execute.call_count) tools.verify_mock_calls(self.execute, expected_calls_and_values) def test_get_traffic_counters(self): if self.use_ipv6: def test_get_traffic_counters_and_zero(self): if self.use_ipv6: def test_add_blank_rule(self): if self.use_ipv6: expected_calls_and_values.append( (mock.call(['ip6tables-save'], run_as_root=True), FILTER_DUMP)) expected_calls_and_values.append( (mock.call(['ip6tables-restore', '-n'], process_input=mock.ANY, run_as_root=True, log_fail_as_error=False), None)) if self.use_ipv6: self._extend_with_ip6tables_filter_end( expected_calls_and_values, FILTER_DUMP + MANGLE_DUMP_V6 + RAW_DUMP) class IptablesManagerStateFulTestCaseIPv6(IptablesManagerStateFulTestCase): use_ipv6 = True class IptablesManagerStateFulTestCaseCustomBinaryName( IptablesManagerBaseTestCase): use_ipv6 = False bn = (""xbcdef"" * 5) def setUp(self): super(IptablesManagerStateFulTestCaseCustomBinaryName, self).setUp() self.iptables = iptables_manager.IptablesManager( binary_name=self.bn, use_ipv6=self.use_ipv6) def test_add_and_remove_chain_custom_binary_name(self): iptables_args = {'bn': self.bn[:16], 'filter_rules': ''} filter_dump = FILTER_WITH_RULES_TEMPLATE % iptables_args filter_dump_ipv6 = FILTER_TEMPLATE % iptables_args filter_dump_mod = filter_dump nat_dump = NAT_TEMPLATE % iptables_args raw_dump = _generate_raw_dump(iptables_args) mangle_dump = _generate_mangle_dump(iptables_args) expected_calls_and_values = [ (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump_mod + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), ] if self.use_ipv6: mangle_dump_v6 = _generate_mangle_dump_v6(iptables_args) self._extend_with_ip6tables_filter( expected_calls_and_values, filter_dump_ipv6 + mangle_dump_v6 + raw_dump) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.iptables.ipv4['filter'].add_chain('filter') self.iptables.apply() self.iptables.ipv4['filter'].empty_chain('filter') self.iptables.apply() tools.verify_mock_calls(self.execute, expected_calls_and_values) class IptablesManagerStateFulTestCaseCustomBinaryNameIPv6( IptablesManagerStateFulTestCaseCustomBinaryName): use_ipv6 = True class IptablesManagerStateFulTestCaseEmptyCustomBinaryName( IptablesManagerBaseTestCase): use_ipv6 = False bn = (""xbcdef"" * 5)[:16] def setUp(self): super(IptablesManagerStateFulTestCaseEmptyCustomBinaryName, self).setUp() self.iptables = iptables_manager.IptablesManager( binary_name=self.bn, use_ipv6=self.use_ipv6) def test_empty_chain_custom_binary_name(self): iptables_args = {'bn': self.bn} filter_dump = FILTER_TEMPLATE % iptables_args filter_rules = ('-I %(bn)s-filter 1 -s 0/0 -d 192.168.0.2\n' % iptables_args) iptables_args['filter_rules'] = filter_rules filter_dump_mod = FILTER_WITH_RULES_TEMPLATE % iptables_args nat_dump = NAT_TEMPLATE % iptables_args raw_dump = _generate_raw_dump(iptables_args) mangle_dump = _generate_mangle_dump(iptables_args) expected_calls_and_values = [ (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump_mod + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), ] if self.use_ipv6: mangle_dump_v6 = _generate_mangle_dump_v6(iptables_args) self._extend_with_ip6tables_filter( expected_calls_and_values, filter_dump + mangle_dump_v6 + raw_dump) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.iptables.ipv4['filter'].add_chain('filter') self.iptables.ipv4['filter'].add_rule('filter', '-s 0/0 -d 192.168.0.2') self.iptables.apply() self.iptables.ipv4['filter'].remove_chain('filter') self.iptables.apply() tools.verify_mock_calls(self.execute, expected_calls_and_values) class IptablesManagerStateFulTestCaseEmptyCustomBinaryNameIPv6( IptablesManagerStateFulTestCaseEmptyCustomBinaryName): use_ipv6 = True ","class IptablesManagerStateFulTestCase(base.BaseTestCase): def setUp(self): super(IptablesManagerStateFulTestCase, self).setUp() self.iptables = iptables_manager.IptablesManager() def _extend_with_ip6tables_filter(self, expected_calls, filter_dump): expected_calls.insert(2, ( mock.call(['ip6tables-save'], run_as_root=True), '')) expected_calls.insert(3, ( mock.call(['ip6tables-restore', '-n'], process_input=filter_dump, run_as_root=True, log_fail_as_error=False), None)) expected_calls.extend([ (mock.call(['ip6tables-save'], run_as_root=True), ''), (mock.call(['ip6tables-restore', '-n'], process_input=filter_dump, run_as_root=True, log_fail_as_error=False), None)]) def _test_add_and_remove_chain_custom_binary_name_helper(self, use_ipv6): bn = (""xbcdef"" * 5) self.iptables = iptables_manager.IptablesManager( binary_name=bn, use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() iptables_args = {'bn': bn[:16], 'filter_rules': ''} filter_dump = FILTER_WITH_RULES_TEMPLATE % iptables_args filter_dump_ipv6 = FILTER_TEMPLATE % iptables_args filter_dump_mod = filter_dump nat_dump = NAT_TEMPLATE % iptables_args raw_dump = _generate_raw_dump(iptables_args) mangle_dump = _generate_mangle_dump(iptables_args) expected_calls_and_values = [ (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump_mod + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), ] if use_ipv6: mangle_dump_v6 = _generate_mangle_dump_v6(iptables_args) self._extend_with_ip6tables_filter( expected_calls_and_values, filter_dump_ipv6 + mangle_dump_v6 + raw_dump) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.iptables.ipv4['filter'].add_chain('filter') self.iptables.apply() self.iptables.ipv4['filter'].empty_chain('filter') self.iptables.apply() tools.verify_mock_calls(self.execute, expected_calls_and_values) def test_add_and_remove_chain_custom_binary_name(self): self._test_add_and_remove_chain_custom_binary_name_helper(False) def test_add_and_remove_chain_custom_binary_name_with_ipv6(self): self._test_add_and_remove_chain_custom_binary_name_helper(True) def _test_empty_chain_custom_binary_name_helper(self, use_ipv6): bn = (""xbcdef"" * 5)[:16] self.iptables = iptables_manager.IptablesManager( binary_name=bn, use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() iptables_args = {'bn': bn} filter_dump = FILTER_TEMPLATE % iptables_args filter_rules = ('-I %(bn)s-filter 1 -s 0/0 -d 192.168.0.2\n' % iptables_args) iptables_args['filter_rules'] = filter_rules filter_dump_mod = FILTER_WITH_RULES_TEMPLATE % iptables_args nat_dump = NAT_TEMPLATE % iptables_args raw_dump = _generate_raw_dump(iptables_args) mangle_dump = _generate_mangle_dump(iptables_args) expected_calls_and_values = [ (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump_mod + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), (mock.call(['iptables-save'], run_as_root=True), ''), (mock.call(['iptables-restore', '-n'], process_input=(filter_dump + mangle_dump + nat_dump + raw_dump), run_as_root=True, log_fail_as_error=False), None), ] if use_ipv6: mangle_dump_v6 = _generate_mangle_dump_v6(iptables_args) self._extend_with_ip6tables_filter( expected_calls_and_values, filter_dump + mangle_dump_v6 + raw_dump) tools.setup_mock_calls(self.execute, expected_calls_and_values) self.iptables.ipv4['filter'].add_chain('filter') self.iptables.ipv4['filter'].add_rule('filter', '-s 0/0 -d 192.168.0.2') self.iptables.apply() self.iptables.ipv4['filter'].remove_chain('filter') self.iptables.apply() tools.verify_mock_calls(self.execute, expected_calls_and_values) def test_empty_chain_custom_binary_name(self): self._test_empty_chain_custom_binary_name_helper(False) def test_empty_chain_custom_binary_name_with_ipv6(self): self._test_empty_chain_custom_binary_name_helper(True) def _test_add_and_remove_chain_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_add_and_remove_chain(self): self._test_add_and_remove_chain_helper(False) def test_add_and_remove_chain_with_ipv6(self): self._test_add_and_remove_chain_helper(True) def _test_add_filter_rule_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_add_filter_rule(self): self._test_add_filter_rule_helper(False) def test_add_filter_rule_with_ipv6(self): self._test_add_filter_rule_helper(True) def _test_rule_with_wrap_target_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_rule_with_wrap_target(self): self._test_rule_with_wrap_target_helper(False) def test_rule_with_wrap_target_with_ipv6(self): self._test_rule_with_wrap_target_helper(True) def _test_add_mangle_rule_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_add_mangle_rule(self): self._test_add_mangle_rule_helper(False) def test_add_mangle_rule_with_ipv6(self): self._test_add_mangle_rule_helper(True) def _test_add_nat_rule_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_add_nat_rule(self): self._test_add_nat_rule_helper(False) def test_add_nat_rule_with_ipv6(self): self._test_add_nat_rule_helper(True) def _test_add_raw_rule_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_add_raw_rule(self): self._test_add_raw_rule_helper(False) def test_add_raw_rule_with_ipv6(self): self._test_add_raw_rule_helper(True) def test_add_rule_to_a_nonexistent_chain(self): self.assertRaises(LookupError, self.iptables.ipv4['filter'].add_rule, 'nonexistent', '-j DROP') with mock.patch.object(iptables_manager, ""LOG"") as log: self.iptables.ipv4['filter'].remove_chain('nonexistent') with mock.patch.object(iptables_manager, ""LOG"") as log: self.iptables.ipv4['filter'].remove_rule('nonexistent', '-j DROP') self.execute.side_effect = [FILTER_DUMP, PE_error, None, FILTER_DUMP, None, FILTER_DUMP, None] self.iptables._apply_synchronized() self.assertEqual(3, self.execute.call_count) self.execute.assert_has_calls( [mock.call(['iptables-save'], run_as_root=True), mock.call(['iptables-restore', '-n'], mock.call(['iptables-restore', '-n', '-w', '10', process_input=mock.ANY, run_as_root=True)]) self.iptables._apply_synchronized() self.assertEqual(2, self.execute.call_count) self.execute.assert_has_calls( [mock.call(['iptables-save'], run_as_root=True), mock.call(['iptables-restore', '-n', '-w', '10', process_input=mock.ANY, run_as_root=True)]) iptm = iptables_manager.IptablesManager() self.assertEqual(2, self.execute.call_count) self.execute.assert_has_calls( [mock.call(['iptables-save'], run_as_root=True), mock.call(['iptables-restore', '-n', '-w', '10', '-W', iptables_manager.XLOCK_WAIT_INTERVAL], process_input=mock.ANY, run_as_root=True)]) def _test_get_traffic_counters_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_get_traffic_counters(self): self._test_get_traffic_counters_helper(False) def test_get_traffic_counters_with_ipv6(self): self._test_get_traffic_counters_helper(True) def _test_get_traffic_counters_with_zero_helper(self, use_ipv6): self.iptables = iptables_manager.IptablesManager( use_ipv6=use_ipv6) self.execute = mock.patch.object(self.iptables, ""execute"").start() if use_ipv6: def test_get_traffic_counters_with_zero(self): self._test_get_traffic_counters_with_zero_helper(False) def test_get_traffic_counters_with_zero_with_ipv6(self): self._test_get_traffic_counters_with_zero_helper(True) def test_add_blank_rule(self): self.iptables = iptables_manager.IptablesManager( use_ipv6=False) self.execute = mock.patch.object(self.iptables, ""execute"").start() self.iptables = iptables_manager.IptablesManager( use_ipv6=False) self.execute = mock.patch.object(self.iptables, ""execute"").start() ",269,277
openstack%2Fbifrost~master~Iee9844206a8b7ccb11f5480da3a992fda7c567f6,openstack/bifrost,master,Iee9844206a8b7ccb11f5480da3a992fda7c567f6,Fix cross project jobs,MERGED,2018-04-25 16:38:21.000000000,2018-04-26 22:23:37.000000000,2018-04-26 22:23:37.000000000,"[{'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 16:38:21.000000000', 'files': ['playbooks/legacy/bifrost-integration-dhcp-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp/run.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1c3b45bc57cc88e31c8c4250b5043bde0fa038b9', 'message': ""Fix cross project jobs\n\nIn Idd9ea75ad31d46093e85a05619fe33c85f4c9ed9 we removed the usage of\ninstall-distro-packages.sh, however I didn't realize these jobs were\nshared with shade. As a results, when shade patches ran these jobs, we\ndidn't properly install the OS packages in bifrost bindep.txt file.\nThis fixes that.\n\nChange-Id: Iee9844206a8b7ccb11f5480da3a992fda7c567f6\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,564279,1c3b45bc57cc88e31c8c4250b5043bde0fa038b9,9,5,1,4162,,,0,"Fix cross project jobs

In Idd9ea75ad31d46093e85a05619fe33c85f4c9ed9 we removed the usage of
install-distro-packages.sh, however I didn't realize these jobs were
shared with shade. As a results, when shade patches ran these jobs, we
didn't properly install the OS packages in bifrost bindep.txt file.
This fixes that.

Change-Id: Iee9844206a8b7ccb11f5480da3a992fda7c567f6
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/79/564279/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/bifrost-integration-dhcp-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp/run.yaml']",9,1c3b45bc57cc88e31c8c4250b5043bde0fa038b9,," - role: bindep bindep_dir: ""{{ ansible_user_dir }}/{{ zuul.projects['git.openstack.org/openstack/bifrost'].src_dir }}""", - bindep,18,9
openstack%2Fneutron-lib~master~Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1,openstack/neutron-lib,master,Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1,Add placement calls for bandwith resource provider,MERGED,2018-03-14 15:59:08.000000000,2018-04-26 22:22:21.000000000,2018-04-26 22:22:21.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 27552}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-03-14 15:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9d302c2ae88cc2e1c930114f5f1fb39513cd573f', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\nFix some api calls based on the placement api ref.\n\nTODO:\n- Check if all the methods are in place with this patch, and if all\ncalls are really needed.\n- Check the placement api version that is necessary.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 2, 'created': '2018-03-19 08:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f350b4ae65da6182844b0887b2d0912a87dc5c22', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\nFix some api calls based on the placement api ref.\n\nTODO:\n- Check if all the methods are in place with this patch, and if all\ncalls are really needed.\n- Check the placement api version that is necessary.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 3, 'created': '2018-03-20 13:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/87631b09b25ac593256979bec06a9b3fd46bff39', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 4, 'created': '2018-03-27 15:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7924d0910ba5152a32fd6c8fe15cd18191c44cb0', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 5, 'created': '2018-04-05 12:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/687f0085b3f20838214bdb75314c66905d4a8276', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 6, 'created': '2018-04-10 11:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/39bc1a82c8ca6711b5d43e9485c417d0a5ee6b17', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 7, 'created': '2018-04-13 14:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a830010699ed29713061ff9ed42b244fc6b2b6a3', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 8, 'created': '2018-04-19 07:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6ab743abdf825d15633392eca6620a64dd816574', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}, {'number': 9, 'created': '2018-04-19 07:51:55.000000000', 'files': ['neutron_lib/exceptions/placement.py', 'neutron_lib/clients/placement.py', 'neutron_lib/tests/unit/clients/test_placement.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a24bf9841d1c3717c0f38778c0c63acd7028dbcd', 'message': 'Add placement calls for bandwith resource provider\n\nAdd placement calls that are necessary to report the necessary resource\nproviders, traits, resource classes and inventories for bandwidth\nallocation in placement.\n\nRelated-Bug: #1578989\nChange-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1\n'}]",64,552938,a24bf9841d1c3717c0f38778c0c63acd7028dbcd,37,9,9,8313,,,0,"Add placement calls for bandwith resource provider

Add placement calls that are necessary to report the necessary resource
providers, traits, resource classes and inventories for bandwidth
allocation in placement.

Related-Bug: #1578989
Change-Id: Ie3a14e5461d2d14ee77e1bd101943b7c28cf86f1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/38/552938/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/clients/placement.py', 'neutron_lib/exceptions/placement.py', 'neutron_lib/tests/unit/clients/test_placement.py']",3,9d302c2ae88cc2e1c930114f5f1fb39513cd573f,bug/1578989,"TRAIT_NAME = 'trait_name' placement.PLACEMENT_API_LATEST_SUPPORTED) self.headers = {'OpenStack-API-Version': self.openstack_api_version} '/resource_providers', RESOURCE_PROVIDER_UUID, headers=self.headers ) headers=self.headers) '/resource_providers', headers=self.headers, **filter_1) '/resource_providers', headers=self.headers, **filter_2) '/resource_providers', headers=self.headers, **filter_1) def test_update_resource_provider_inventories(self): self.placement_api_client.update_resource_provider_inventories( RESOURCE_PROVIDER_UUID, inventory) self.placement_fixture.mock_put.assert_called_once_with( def test_update_resource_provider_inventories_no_rp(self): inventory = mock.ANY self.placement_fixture.mock_put.side_effect = ks_exc.NotFound() self.assertRaises( n_exc.PlacementResourceProviderNotFound, self.placement_api_client.update_resource_provider_inventories, RESOURCE_PROVIDER_UUID, inventory) def test_update_resource_provider_inventory(self): inventory = mock.ANY self.placement_api_client.update_resource_provider_inventory( RESOURCE_PROVIDER_UUID, RESOURCE_CLASS_NAME, inventory) self.placement_fixture.mock_put.assert_called_once_with( '/resource_providers/%s/inventories/%s' % ( RESOURCE_PROVIDER_UUID, RESOURCE_CLASS_NAME), inventory ) def test_update_resource_provider_inventory_no_rp(self): inventory = mock.ANY self.placement_fixture.mock_put.side_effect = ks_exc.NotFound( details='No resource provider with uuid') self.assertRaises( n_exc.PlacementResourceProviderNotFound, self.placement_api_client.update_resource_provider_inventory, RESOURCE_PROVIDER_UUID, RESOURCE_CLASS_NAME, inventory) def test_update_resource_provider_inventory_no_resource_class(self): inventory = mock.ANY self.placement_fixture.mock_put.side_effect = ks_exc.NotFound() self.assertRaises( n_exc.PlacementResourceClassNotFound, self.placement_api_client.update_resource_provider_inventory, RESOURCE_PROVIDER_UUID, RESOURCE_CLASS_NAME, inventory) def test_delete_resource_provider_inventory(self): self.placement_api_client.delete_resource_provider_inventory( RESOURCE_PROVIDER_UUID, RESOURCE_CLASS_NAME ) self.placement_fixture.mock_delete.assert_called_once_with( '/resource_providers/%(rp_uuid)s/inventories/%(rc_name)s' % {'rp_uuid': RESOURCE_PROVIDER_UUID, 'rc_name': RESOURCE_CLASS_NAME} ) def test_delete_resource_provider_inventory_no_rp(self): self.placement_fixture.mock_delete.side_effect = ks_exc.NotFound( details='No resource provider with uuid' ) self.assertRaises( n_exc.PlacementResourceProviderNotFound, self.placement_api_client.delete_resource_provider_inventory, RESOURCE_PROVIDER_UUID, RESOURCE_CLASS_NAME ) mock.ANY, headers=self.headers) headers=self.headers) def test_list_traits(self): self.placement_api_client.list_traits() self.placement_fixture.mock_get.assert_called_once_with( '/traits', headers=self.headers) def test_get_trait(self): self.placement_api_client.get_trait(TRAIT_NAME) self.placement_fixture.mock_get.assert_called_once_with( '/traits/%s' % TRAIT_NAME, headers=self.headers) def test_get_trait_no_trait(self): self.placement_fixture.mock_get.side_effect = ks_exc.NotFound() self.assertRaises( n_exc.PlacementTraitNotFound, self.placement_api_client.get_trait, TRAIT_NAME) def test_create_trait(self): self.placement_api_client.create_trait(TRAIT_NAME) self.placement_fixture.mock_put.assert_called_once_with( '/traits/%s' % TRAIT_NAME, None, headers=self.headers) def test_update_resource_provider_traits(self): traits = [TRAIT_NAME] self.placement_api_client.update_resource_provider_traits( RESOURCE_PROVIDER_UUID, traits, resource_provider_generation=0) self.placement_fixture.mock_put.assert_called_once_with( '/resource_providers/%(rp_uuid)s/traits' % {'rp_uuid': RESOURCE_PROVIDER_UUID}, {'resource_provider_generation': 0, 'traits': traits}, headers=self.headers) def test_update_resource_provider_traits_no_rp(self): traits = [TRAIT_NAME] self.placement_fixture.mock_put.side_effect = ks_exc.NotFound() self.assertRaises( n_exc.PlacementResourceProviderNotFound, self.placement_api_client.update_resource_provider_traits, RESOURCE_PROVIDER_UUID, traits, resource_provider_generation=0) def test_list_resource_provider_traits(self): self.placement_api_client.list_resource_provider_traits( RESOURCE_PROVIDER_UUID) self.placement_fixture.mock_get.assert_called_once_with( '/resource_providers/%s/traits' % RESOURCE_PROVIDER_UUID, headers=self.headers) def test_list_resource_provider_traits_no_rp(self): self.placement_fixture.mock_get.side_effect = ks_exc.NotFound() self.assertRaises( n_exc.PlacementResourceProviderNotFound, self.placement_api_client.list_resource_provider_traits, RESOURCE_PROVIDER_UUID) def test_delete_trait(self): self.placement_api_client.delete_trait(TRAIT_NAME) self.placement_fixture.mock_delete.assert_called_once_with( '/traits/%s' % TRAIT_NAME) def test_delete_trait_no_trait(self): self.placement_fixture.mock_delete.side_effect = ks_exc.NotFound self.assertRaises( n_exc.PlacementTraitNotFound, self.placement_api_client.delete_trait, TRAIT_NAME) def test_delete_resource_provider_traits(self): self.placement_api_client.delete_resource_provider_traits( RESOURCE_PROVIDER_UUID) self.placement_fixture.mock_delete.assert_called_once_with( '/resource_providers/%s/traits' % RESOURCE_PROVIDER_UUID) def test_delete_resource_provider_traits_no_rp(self): self.placement_fixture.mock_delete.side_effect = ks_exc.NotFound self.assertRaises( n_exc.PlacementResourceProviderNotFound, self.placement_api_client.delete_resource_provider_traits, RESOURCE_PROVIDER_UUID) def test_list_resource_classes(self): self.placement_api_client.list_resource_classes() self.placement_fixture.mock_get.assert_called_once_with( '/resource_classes' ) def test_get_resource_class(self): self.placement_api_client.get_resource_class(RESOURCE_CLASS_NAME) self.placement_fixture.mock_get.assert_called_once_with( '/resource_classes/%s' % RESOURCE_CLASS_NAME, headers=self.headers ) def test_get_resource_class_no_resource_class(self): self.placement_fixture.mock_get.side_effect = ks_exc.NotFound self.assertRaises( n_exc.PlacementResourceClassNotFound, self.placement_api_client.get_resource_class, RESOURCE_CLASS_NAME ) def test_create_resource_class(self): self.placement_api_client.create_resource_class(RESOURCE_CLASS_NAME) self.placement_fixture.mock_post.assert_called_once_with( '/resource_classes', {'name': RESOURCE_CLASS_NAME}, headers=self.headers ) def test_update_resource_class(self): self.placement_api_client.update_resource_class(RESOURCE_CLASS_NAME) self.placement_fixture.mock_put.assert_called_once_with( '/resource_classes/%s' % RESOURCE_CLASS_NAME, headers=self.headers ) def test_delete_resource_class(self): self.placement_api_client.delete_resource_class(RESOURCE_CLASS_NAME) self.placement_fixture.mock_delete.assert_called_once_with( 'resource_classes/%s' % RESOURCE_CLASS_NAME ) def test_delete_resource_class_no_resource_class(self): self.placement_fixture.mock_delete.side_effect = ks_exc.NotFound self.assertRaises( n_exc.PlacementResourceClassNotFound, self.placement_api_client.delete_resource_class, RESOURCE_CLASS_NAME )"," placement.PLACEMENT_API_WITH_NESTED_RESOURCES) '/resource_providers', RESOURCE_PROVIDER_UUID) headers = {'OpenStack-API-Version': self.openstack_api_version} headers=headers) headers = {'OpenStack-API-Version': self.openstack_api_version} '/resource_providers', headers=headers, **filter_1) '/resource_providers', headers=headers, **filter_2) '/resource_providers', headers=headers, **filter_1) def test_create_inventory(self): self.placement_api_client.create_inventory(RESOURCE_PROVIDER_UUID, inventory) self.placement_fixture.mock_post.assert_called_once_with( headers = {'OpenStack-API-Version': self.openstack_api_version} mock.ANY, headers=headers) headers = {'OpenStack-API-Version': self.openstack_api_version} headers=headers)",459,26
openstack%2Fkolla~stable%2Fqueens~I232dcf44c8a56c268610053cf362714d52e6cb93,openstack/kolla,stable/queens,I232dcf44c8a56c268610053cf362714d52e6cb93,Add networking-baremetal,MERGED,2018-03-29 14:51:20.000000000,2018-04-26 22:20:05.000000000,2018-04-26 22:20:05.000000000,"[{'_account_id': 7488}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24245}, {'_account_id': 25945}, {'_account_id': 26556}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-29 14:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/989b0920043a58cd7c653de7ad3391c947004ef0', 'message': 'Add networking-baremetal\n\n* Adding Dockerfile to build image with ironic-neutron-agent.\n* Add ``neutron-base-plugin-networking-baremetal`` in\n  kolla/common/config.py to enable building neutron with baremetal\n  plugin.\n\nSince the ML2 mechanism driver and L2 Agent is in the same\npython package, the source install will include the\nironic-neutron-agent as part of neutron-base.\n\nChange-Id: I232dcf44c8a56c268610053cf362714d52e6cb93\n(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)\n'}, {'number': 2, 'created': '2018-04-09 07:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d6810fa745d36a69611a88198b1ba0346ab8b16', 'message': 'Add networking-baremetal\n\n* Adding Dockerfile to build image with ironic-neutron-agent.\n* Add ``neutron-base-plugin-networking-baremetal`` in\n  kolla/common/config.py to enable building neutron with baremetal\n  plugin.\n\nSince the ML2 mechanism driver and L2 Agent is in the same\npython package, the source install will include the\nironic-neutron-agent as part of neutron-base.\n\nChange-Id: I232dcf44c8a56c268610053cf362714d52e6cb93\n(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)\n'}, {'number': 3, 'created': '2018-04-12 13:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5d6558a168ecac7725eee42e57ad52c93707a695', 'message': 'Add networking-baremetal\n\n* Adding Dockerfile to build image with ironic-neutron-agent.\n* Add ``neutron-base-plugin-networking-baremetal`` in\n  kolla/common/config.py to enable building neutron with baremetal\n  plugin.\n\nSince the ML2 mechanism driver and L2 Agent is in the same\npython package, the source install will include the\nironic-neutron-agent as part of neutron-base.\n\nChange-Id: I232dcf44c8a56c268610053cf362714d52e6cb93\n(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)\n'}, {'number': 4, 'created': '2018-04-12 13:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ccf2c6218d0ba3bdf0a0f63644aecb06155d808', 'message': 'Add networking-baremetal\n\n* Adding Dockerfile to build image with ironic-neutron-agent.\n* Add ``neutron-base-plugin-networking-baremetal`` in\n  kolla/common/config.py to enable building neutron with baremetal\n  plugin.\n\nSince the ML2 mechanism driver and L2 Agent is in the same\npython package, the source install will include the\nironic-neutron-agent as part of neutron-base.\n\nChange-Id: I232dcf44c8a56c268610053cf362714d52e6cb93\n(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)\n'}, {'number': 5, 'created': '2018-04-12 13:16:24.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/add-networking-baremtal-ed44e0fc04371eb8.yaml', 'docker/networking-baremetal/ironic-neutron-agent/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/980033e0a55b41d78c35910e3b3c2039e0cd5e5c', 'message': 'Add networking-baremetal\n\n* Adding Dockerfile to build image with ironic-neutron-agent.\n* Add ``neutron-base-plugin-networking-baremetal`` in\n  kolla/common/config.py to enable building neutron with baremetal\n  plugin.\n\nSince the ML2 mechanism driver and L2 Agent is in the same\npython package, the source install will include the\nironic-neutron-agent as part of neutron-base.\n\nChange-Id: I232dcf44c8a56c268610053cf362714d52e6cb93\n(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)\n'}]",6,557729,980033e0a55b41d78c35910e3b3c2039e0cd5e5c,39,9,5,24245,,,0,"Add networking-baremetal

* Adding Dockerfile to build image with ironic-neutron-agent.
* Add ``neutron-base-plugin-networking-baremetal`` in
  kolla/common/config.py to enable building neutron with baremetal
  plugin.

Since the ML2 mechanism driver and L2 Agent is in the same
python package, the source install will include the
ironic-neutron-agent as part of neutron-base.

Change-Id: I232dcf44c8a56c268610053cf362714d52e6cb93
(cherry picked from commit d0546485f6d16418eb645e7474965eaefc376953)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/557729/5 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/add-networking-baremtal-ed44e0fc04371eb8.yaml', 'docker/networking-baremetal/ironic-neutron-agent/Dockerfile.j2', 'kolla/common/config.py']",4,989b0920043a58cd7c653de7ad3391c947004ef0,networking-baremetal," 'neutron-base-plugin-networking-baremetal': { 'type': 'url', 'location': ('$tarballs_base/networking-baremetal/' 'networking-baremetal-master.tar.gz')},",,55,0
openstack%2Frequirements~master~I74fa021e85aae83fa0ee3cf1192b08e931a0a44c,openstack/requirements,master,I74fa021e85aae83fa0ee3cf1192b08e931a0a44c,Remove bandit as an openstack project,MERGED,2018-04-26 15:42:03.000000000,2018-04-26 22:20:00.000000000,2018-04-26 22:20:00.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28011}]","[{'number': 1, 'created': '2018-04-26 15:42:03.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7bdc9a06abc1da932f93782d3c71e540c514200b', 'message': 'Remove bandit as an openstack project\n\nBandit is being migrated to PyCQA according to [1].\n\nFollowing the instructions [2], we need to remove bandit from the\nprojects list in openstack.\n\n[1] https://etherpad.openstack.org/p/bandit-migration\n[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nChange-Id: I74fa021e85aae83fa0ee3cf1192b08e931a0a44c\n'}]",0,564532,7bdc9a06abc1da932f93782d3c71e540c514200b,9,5,1,8119,,,0,"Remove bandit as an openstack project

Bandit is being migrated to PyCQA according to [1].

Following the instructions [2], we need to remove bandit from the
projects list in openstack.

[1] https://etherpad.openstack.org/p/bandit-migration
[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project

Change-Id: I74fa021e85aae83fa0ee3cf1192b08e931a0a44c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/564532/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,7bdc9a06abc1da932f93782d3c71e540c514200b,rm_bandit,,openstack/bandit,0,1
openstack%2Fansible-role-container-registry~master~I59d81aaffb6813a62c7ffe7df60867b9c71b6b46,openstack/ansible-role-container-registry,master,I59d81aaffb6813a62c7ffe7df60867b9c71b6b46,Fix ansible role name in cfg files,MERGED,2018-04-26 19:33:31.000000000,2018-04-26 22:19:00.000000000,2018-04-26 22:19:00.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 19:33:31.000000000', 'files': ['setup.cfg', 'ansible.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/ae199140eb3780b50f49c97f3e02319c91642ac8', 'message': 'Fix ansible role name in cfg files\n\nChange-Id: I59d81aaffb6813a62c7ffe7df60867b9c71b6b46\n'}]",0,564599,ae199140eb3780b50f49c97f3e02319c91642ac8,8,3,1,3153,,,0,"Fix ansible role name in cfg files

Change-Id: I59d81aaffb6813a62c7ffe7df60867b9c71b6b46
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/99/564599/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'ansible.cfg']",2,ae199140eb3780b50f49c97f3e02319c91642ac8,package,[defaults] gathering = smart command_warnings = False retry_files_enabled = False callback_whitelist = profile_tasks # Attempt to load custom modules whether it's installed system-wide or from a virtual environment roles_path = roles:$VIRTUAL_ENV/usr/share/ansible/roles/container-registry:$VIRTUAL_ENV/usr/local/share/ [ssh_connection] control_path = %(directory)s/%C ,,14,2
openstack%2Frequirements~master~I98fdb1af7fd85aa9b9645b33916bdfbfe500c882,openstack/requirements,master,I98fdb1af7fd85aa9b9645b33916bdfbfe500c882,Bump keyring to 12.1.0 in order to cap secretstorage,MERGED,2018-04-25 19:18:51.000000000,2018-04-26 22:15:48.000000000,2018-04-26 22:15:48.000000000,"[{'_account_id': 2472}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 19:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/453325f46fe2433a4b228f042bc48b1a44bb4cab', 'message': 'Bump keyring to 12.1.0 in order to cap secretstorage\n\nRecently a new secretstorage was released, which was requiring\npython 3. this dependency was pulled in via keyring. keyring 12.1\nwas relasing with those dependencies corrected:\n\n                   \'secretstorage; sys_platform==""linux"" and \'\n                   \'python_version>=""3.5""\',\n                   \'secretstorage (<3); (sys_platform==""linux2"" or \'\n                   \'sys_platform==""linux"") and python_version<""3.5""\'\n\nThis excludes the incompatible versions for python2 and requires\nthe newer release for python3. Blacklist the older 12.0.0 release\nto avoid somebody else hitting the same issue.\n\nChange-Id: I98fdb1af7fd85aa9b9645b33916bdfbfe500c882\n'}, {'number': 2, 'created': '2018-04-26 12:00:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fff0b6a89f21ae7afbc12c8e3ddd0ae9223b9413', 'message': 'Bump keyring to 12.1.0 in order to cap secretstorage\n\nRecently a new secretstorage was released, which was requiring\npython 3. this dependency was pulled in via keyring. keyring 12.1\nwas relasing with those dependencies corrected:\n\n                   \'secretstorage; sys_platform==""linux"" and \'\n                   \'python_version>=""3.5""\',\n                   \'secretstorage (<3); (sys_platform==""linux2"" or \'\n                   \'sys_platform==""linux"") and python_version<""3.5""\'\n\nThis excludes the incompatible versions for python2 and requires\nthe newer release for python3.\n\nChange-Id: I98fdb1af7fd85aa9b9645b33916bdfbfe500c882\n'}]",1,564321,fff0b6a89f21ae7afbc12c8e3ddd0ae9223b9413,11,4,2,6593,,,0,"Bump keyring to 12.1.0 in order to cap secretstorage

Recently a new secretstorage was released, which was requiring
python 3. this dependency was pulled in via keyring. keyring 12.1
was relasing with those dependencies corrected:

                   'secretstorage; sys_platform==""linux"" and '
                   'python_version>=""3.5""',
                   'secretstorage (<3); (sys_platform==""linux2"" or '
                   'sys_platform==""linux"") and python_version<""3.5""'

This excludes the incompatible versions for python2 and requires
the newer release for python3.

Change-Id: I98fdb1af7fd85aa9b9645b33916bdfbfe500c882
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/564321/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,453325f46fe2433a4b228f042bc48b1a44bb4cab,564321,keyring===12.1.0,keyring===12.0.0,2,2
openstack%2Ftripleo-upgrade~master~I4598d965f6f8d19344be041d71b2cf1637c9ebae,openstack/tripleo-upgrade,master,I4598d965f6f8d19344be041d71b2cf1637c9ebae,Fix release var in undercloud upgrade script,MERGED,2018-04-20 00:18:08.000000000,2018-04-26 22:13:14.000000000,2018-04-21 05:17:20.000000000,"[{'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 00:18:08.000000000', 'files': ['tasks/fast-forward-upgrade/undercloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/71c16f2aac49eb38c1b1b32e3dfe5694477702b1', 'message': 'Fix release var in undercloud upgrade script\n\nSet the correct current_release var in the undercloud upgrade steps.\n\nChange-Id: I4598d965f6f8d19344be041d71b2cf1637c9ebae\n'}]",0,562878,71c16f2aac49eb38c1b1b32e3dfe5694477702b1,9,5,1,18851,,,0,"Fix release var in undercloud upgrade script

Set the correct current_release var in the undercloud upgrade steps.

Change-Id: I4598d965f6f8d19344be041d71b2cf1637c9ebae
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/562878/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/undercloud-upgrade.yml'],1,71c16f2aac49eb38c1b1b32e3dfe5694477702b1,release_var,- name: Run post undercloud {{ current_release }} upgrade workarounds,- name: Run post undercloud {{ release }} upgrade workarounds,1,1
openstack%2Fdebtcollector~master~I94e055577a01add4676042f1e454c37b17c1b13b,openstack/debtcollector,master,I94e055577a01add4676042f1e454c37b17c1b13b,Trivial: Update pypi url to new url,MERGED,2018-04-20 21:21:28.000000000,2018-04-26 21:58:22.000000000,2018-04-26 21:58:22.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 21:21:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/2ee856f9d7575cf88ddb0b87b0151c547d883836', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I94e055577a01add4676042f1e454c37b17c1b13b\n'}]",0,563318,2ee856f9d7575cf88ddb0b87b0151c547d883836,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I94e055577a01add4676042f1e454c37b17c1b13b
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/18/563318/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2ee856f9d7575cf88ddb0b87b0151c547d883836,pypi-url, :target: https://pypi.org/project/debtcollector/ :target: https://pypi.org/project/debtcollector/, :target: https://pypi.python.org/pypi/debtcollector/ :target: https://pypi.python.org/pypi/debtcollector/,2,2
openstack%2Fopenstack-helm~master~I2b56709156e790644a76b2c14012e6e3042fa17c,openstack/openstack-helm,master,I2b56709156e790644a76b2c14012e6e3042fa17c,Deployments: Move all deployment to be HA by default,ABANDONED,2018-04-26 18:52:09.000000000,2018-04-26 21:58:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-26 18:52:09.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'gnocchi/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b231a3e5243813bb414d4500b3f1ddd61753ca09', 'message': 'Deployments: Move all deployment to be HA by default\n\nThis PS moves all openstack services to be HA by default, even on\nsingle node deployments - to both allow testing/dev of HA operation\nmore simply, and ensure that rolling updates have minimal operation\non OpenStack services.\n\nChange-Id: I2b56709156e790644a76b2c14012e6e3042fa17c\n'}]",0,564584,b231a3e5243813bb414d4500b3f1ddd61753ca09,3,1,1,23928,,,0,"Deployments: Move all deployment to be HA by default

This PS moves all openstack services to be HA by default, even on
single node deployments - to both allow testing/dev of HA operation
more simply, and ensure that rolling updates have minimal operation
on OpenStack services.

Change-Id: I2b56709156e790644a76b2c14012e6e3042fa17c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/84/564584/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'gnocchi/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml']",15,b231a3e5243813bb414d4500b3f1ddd61753ca09,, api: 2 engine: 2, api: 1 engine: 1,37,37
openstack%2Foslo.vmware~master~Ia9c7ceb087303a73556f72a790ace3eac41f6a86,openstack/oslo.vmware,master,Ia9c7ceb087303a73556f72a790ace3eac41f6a86,Trivial: Update pypi url to new url,MERGED,2018-04-20 21:27:59.000000000,2018-04-26 21:56:39.000000000,2018-04-26 21:56:39.000000000,"[{'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 21:27:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/6251b6c46e820bba6d3ee075c793b04652798dba', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ia9c7ceb087303a73556f72a790ace3eac41f6a86\n'}]",0,563320,6251b6c46e820bba6d3ee075c793b04652798dba,7,3,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ia9c7ceb087303a73556f72a790ace3eac41f6a86
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/20/563320/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6251b6c46e820bba6d3ee075c793b04652798dba,pypi-url, :target: https://pypi.org/project/oslo.vmware/ :target: https://pypi.org/project/oslo.vmware/, :target: https://pypi.python.org/pypi/oslo.vmware/ :target: https://pypi.python.org/pypi/oslo.vmware/,2,2
openstack%2Fstevedore~master~Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168,openstack/stevedore,master,Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168,Trivial: Update pypi url to new url,MERGED,2018-04-21 01:21:34.000000000,2018-04-26 21:56:13.000000000,2018-04-26 21:56:13.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 01:21:34.000000000', 'files': ['doc/source/install/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/68a9a4f8851cc7c5710ff1b5468bfb65974e3e9a', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168\n'}]",0,563358,68a9a4f8851cc7c5710ff1b5468bfb65974e3e9a,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ifc9114fd4b4d95f2ae0acd7e0a19d217786b1168
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/58/563358/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'README.rst']",2,68a9a4f8851cc7c5710ff1b5468bfb65974e3e9a,pypi-url, :target: https://pypi.org/project/stevedore/ :target: https://pypi.org/prpject/stevedore/, :target: https://pypi.python.org/pypi/stevedore/ :target: https://pypi.python.org/pypi/stevedore/,3,3
openstack%2Foslo.serialization~master~Ib3d10ec830d3e79194629d63d9bb4570daad0689,openstack/oslo.serialization,master,Ib3d10ec830d3e79194629d63d9bb4570daad0689,Trivial: Update pypi url to new url,MERGED,2018-04-21 02:46:02.000000000,2018-04-26 21:55:05.000000000,2018-04-26 21:55:05.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 02:46:02.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/0838bb635bd59d7f5d94f609af3c2f13e855d60a', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ib3d10ec830d3e79194629d63d9bb4570daad0689\n'}]",0,563364,0838bb635bd59d7f5d94f609af3c2f13e855d60a,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ib3d10ec830d3e79194629d63d9bb4570daad0689
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/64/563364/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0838bb635bd59d7f5d94f609af3c2f13e855d60a,pypi-url, :target: https://pypi.org/project/oslo.serialization/ :target: https://pypi.org/project/oslo.serialization/, :target: https://pypi.python.org/pypi/oslo.serialization/ :target: https://pypi.python.org/pypi/oslo.serialization/,2,2
openstack%2Foslo.service~master~Ic21062c68868aabe070686438f616d8c2cbd6859,openstack/oslo.service,master,Ic21062c68868aabe070686438f616d8c2cbd6859,Trivial: Update pypi url to new url,MERGED,2018-04-21 02:43:18.000000000,2018-04-26 21:53:28.000000000,2018-04-26 21:53:28.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 02:43:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/c1df0a22b21dcec9fdf4c9024d96c32dc5e06820', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ic21062c68868aabe070686438f616d8c2cbd6859\n'}]",0,563363,c1df0a22b21dcec9fdf4c9024d96c32dc5e06820,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic21062c68868aabe070686438f616d8c2cbd6859
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/63/563363/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c1df0a22b21dcec9fdf4c9024d96c32dc5e06820,pypi-url, :target: https://pypi.org/project/oslo.service/ :target: https://pypi.org/project/oslo.service/, :target: https://pypi.python.org/pypi/oslo.service/ :target: https://pypi.python.org/pypi/oslo.service/,2,2
openstack%2Fos-net-config~master~I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22,openstack/os-net-config,master,I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22,Modify os-net-config to make changes without bouncing interfaces.,ABANDONED,2015-02-03 23:40:56.000000000,2018-04-26 21:46:42.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 12398}]","[{'number': 1, 'created': '2015-02-03 23:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ac8e15d9608d066381ba2f4e7680fc94a4ee5236', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP address,\nMTU, and routes live, rather than running ifdown/ifup on the interface.\nBouncing the interface is very disruptive, especially with bridges where\nall the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network configuratio\nis stored in /etc/sysconfig/network-scripts (RHEL, CENTOS, Fedora, etc.).\nFunctions were added to os_net_config.utils to support enumerating the change\nas added/modified/removed and determining which changes require restarting th\ninterfaces.\n\nThe changes are determined by comparing the system device configuration (in\n/etc/sysconfig/network-scripts) to the new device configuration that would be\nwritten to disk. If the only changes are to the interface or bridge\nIP/Netmask/route/MTU then the changes are written to disk and the proper /sbi\ncommands are run to modify the interface or bridge. Other changes still requi\nbouncing the interface or bridge.\n\nUnit tests were added for the changes to both utils.py and impl_ifcfg.py.\n\nThis commit should be considered a draft for peer review, further changes are\nexpected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 2, 'created': '2015-02-03 23:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/071b22b31cab6a6a364573766374b5ccfdb56f51', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to os_net_config.utils to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nThis commit should be considered a draft for peer review, further\nchanges are expected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 3, 'created': '2015-02-11 22:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d051458b1ff3322a6e7318becc0d83ba386a38aa', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to os_net_config.utils to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nUpdated commit because recent changes broke unit tests, now fixed.\nThis commit should be considered a draft for peer review, further\nchanges are expected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 4, 'created': '2015-02-11 22:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/35d3aaae5ff15f58a387ea42f7d94edf90542f37', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to os_net_config.utils to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nUpdated commit because recent changes broke unit tests, now fixed.\nUpdated commit again due to PEP8 failures. This commit should be\nconsidered a draft for peer review, further changes are expected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 5, 'created': '2015-02-11 22:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/70e44f9258adaa78f48d8370679a8d1bb54395ae', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to os_net_config.utils to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nUpdated commit because recent changes broke unit tests, now fixed.\nUpdated commit again due to PEP8 failures. This commit should be\nconsidered a draft for peer review, further changes are expected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 6, 'created': '2015-02-11 23:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b6e8c68610e3242b9aca20a576edfcac4a740052', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to os_net_config.utils to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nUpdated commit because recent changes broke unit tests, now fixed.\nUpdated commit again due to PEP8 failures and Python 2.6 failures.\nThis commit should be considered a draft for peer review, further\nchanges are expected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 7, 'created': '2016-10-06 01:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2fff975e198fdf0eb2a355235f906bf76541b7f8', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to impl_ifcfg to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nUpdated commit because recent changes broke unit tests, now fixed.\nUpdated commit again due to PEP8 failures and Python 2.6 failures.\nThis commit should be considered a draft for peer review, further\nchanges are expected.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}, {'number': 8, 'created': '2016-10-06 01:29:04.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3b1277359a962095fd0e7b53d6edd2e5d7bde28d', 'message': 'Modify os-net-config to make changes without bouncing interfaces.\n\nModifications to impl_ifcfg.py to support making changes to IP\naddress, MTU, and routes live, rather than running ifdown/ifup on the\ninterface. Bouncing the interface is very disruptive, especially with\nbridges where all the child interfaces are also bounced.\n\nThese changes only affect the code path on systems where network\nconfiguration is stored in /etc/sysconfig/network-scripts (RHEL,\nCENTOS, Fedora, etc.). Functions were added to impl_ifcfg to\nsupport enumerating the change as added/modified/removed and\ndetermining which changes require restarting the interfaces.\n\nThe changes are determined by comparing the system device\nconfiguration (in /etc/sysconfig/network-scripts) to the new device\nconfiguration that would be written to disk. If the only changes are\nto the interface or bridge IP/Netmask/route/MTU then the changes are\nwritten to disk and the proper /sbin/ip commands are run to modify\nthe interface or bridge. Other changes still require bouncing the\ninterface or bridge.\n\nUnit tests were added for the changes to both utils.py and\nimpl_ifcfg.py.\n\nChange-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22\n'}]",4,152732,3b1277359a962095fd0e7b53d6edd2e5d7bde28d,27,4,8,12398,,,0,"Modify os-net-config to make changes without bouncing interfaces.

Modifications to impl_ifcfg.py to support making changes to IP
address, MTU, and routes live, rather than running ifdown/ifup on the
interface. Bouncing the interface is very disruptive, especially with
bridges where all the child interfaces are also bounced.

These changes only affect the code path on systems where network
configuration is stored in /etc/sysconfig/network-scripts (RHEL,
CENTOS, Fedora, etc.). Functions were added to impl_ifcfg to
support enumerating the change as added/modified/removed and
determining which changes require restarting the interfaces.

The changes are determined by comparing the system device
configuration (in /etc/sysconfig/network-scripts) to the new device
configuration that would be written to disk. If the only changes are
to the interface or bridge IP/Netmask/route/MTU then the changes are
written to disk and the proper /sbin/ip commands are run to modify
the interface or bridge. Other changes still require bouncing the
interface or bridge.

Unit tests were added for the changes to both utils.py and
impl_ifcfg.py.

Change-Id: I96e38053a6cb4bab7a196fb4ccb14545b6ac9c22
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/32/152732/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py']",4,ac8e15d9608d066381ba2f4e7680fc94a4ee5236,change_without_restart_new," :param bond: The OvsBond object to add. apply_interfaces = [] apply_routes = [] apply_bridges = [] ipcmd = utils.iproute2_path() if utils.diff(interface_path, iface_data): if utils.ifcfg_requires_restart(interface_path, iface_data): restart_interfaces.append(interface_name) restart_interfaces.extend( self.child_members(interface_name)) else: apply_interfaces.append( (interface_name, interface_path, iface_data)) else: if utils.diff(route_path, route_data): if not interface_name in restart_interfaces: apply_routes.append((interface_name, route_data)) update_files[route_path] = route_data if utils.diff(bridge_path, bridge_data): if utils.ifcfg_requires_restart(bridge_path, bridge_data): restart_bridges.append(bridge_name) restart_interfaces.extend(self.child_members(bridge_name)) else: apply_bridges.append((bridge_name, bridge_path, bridge_data)) else: if utils.diff(bridge_route_path, route_data): if not bridge_name in restart_bridges: apply_routes.append((bridge_name, bridge_data)) update_files[bridge_route_path] = route_data for interface in apply_interfaces: logger.debug('Running ip commands on interface: %s' % interface[0]) commands = utils.ifcfg_ipmtu_commands(interface[0], interface[1], interface[2]) for command in commands: try: args = command.split() processutils.execute(ipcmd, *args) except Exception as e: logger.warning(""Error in 'ip %s', restarting %s:\n%s"" % (command, interface[0], str(e))) restart_interfaces.append(interface[0]) restart_interfaces.extend( self.child_members(interface[0])) break for interface in apply_routes: logger.debug('Applying routes for interface %s' % interface[0]) commands = utils.ifcfg_iproute_commands(interface[0], interface[1]) for command in commands: try: processutils.execute(ipcmd, command) except Exception as e: logger.warning(""Error in 'ip %s', restarting %s:\n%s"" % (command, interface[0], str(e))) restart_interfaces.append(interface[0]) restart_interfaces.extend( self.child_members(interface[0])) break return update_files"," :param bridge: The OvsBond object to add. if (utils.diff(interface_path, iface_data) or utils.diff(route_path, route_data)): restart_interfaces.append(interface_name) restart_interfaces.extend(self.child_members(interface_name)) update_files[route_path] = route_data if (utils.diff(bridge_path, bridge_data) or utils.diff(bridge_route_path, route_data)): restart_bridges.append(bridge_name) restart_interfaces.extend(self.child_members(bridge_name)) update_files[bridge_route_path] = route_data return update_files ",425,27
openstack%2Fmox3~stable%2Fqueens~I98972caf0b1dda5106a656f07949be6d2709cad5,openstack/mox3,stable/queens,I98972caf0b1dda5106a656f07949be6d2709cad5,Test docs build on stable/queens,ABANDONED,2018-04-26 20:16:32.000000000,2018-04-26 21:43:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-26 20:16:32.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mox3/commit/fcc75df89800ee26d0d6e8ba306cebd511f407d8', 'message': ""Test docs build on stable/queens\n\nI want to see if the docs job on queens is working.  Some patches\nwere pushed for the pike branches of Oslo projects and I'm wondering\nif we need them for queens too.\n\nChange-Id: I98972caf0b1dda5106a656f07949be6d2709cad5\n""}]",0,564617,fcc75df89800ee26d0d6e8ba306cebd511f407d8,3,1,1,6928,,,0,"Test docs build on stable/queens

I want to see if the docs job on queens is working.  Some patches
were pushed for the pike branches of Oslo projects and I'm wondering
if we need them for queens too.

Change-Id: I98972caf0b1dda5106a656f07949be6d2709cad5
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/17/564617/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,fcc75df89800ee26d0d6e8ba306cebd511f407d8,test,A fork of mox with Python 3 support. Test.,A fork of mox with Python 3 support.,1,1
openstack%2Foslo.messaging~master~Ib0b12cdc8b59c77b06d527268194d4599b24e71a,openstack/oslo.messaging,master,Ib0b12cdc8b59c77b06d527268194d4599b24e71a,Add a skeleton for a v3-native devstack job,MERGED,2018-02-27 15:59:55.000000000,2018-04-26 21:16:51.000000000,2018-04-26 21:16:51.000000000,"[{'_account_id': 1}, {'_account_id': 1921}, {'_account_id': 8770}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-27 15:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5769d4b82787aca6d0a9879b41aafa19100b224e', 'message': 'Add a skeleton for a v3-native devstack job\n\nChange-Id: Ib0b12cdc8b59c77b06d527268194d4599b24e71a\n'}, {'number': 2, 'created': '2018-03-01 09:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a1846c76adee66de3b306a660ec84e1299bea87b', 'message': 'Add a skeleton for a v3-native devstack job\n\nChange-Id: Ib0b12cdc8b59c77b06d527268194d4599b24e71a\n'}, {'number': 3, 'created': '2018-03-02 15:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c8730a7d05741138c0e245a77f7dc669c23b0d5d', 'message': 'Add a skeleton for a v3-native devstack job\n\nChange-Id: Ib0b12cdc8b59c77b06d527268194d4599b24e71a\nDepends-On: https://review.openstack.org/549252\n'}, {'number': 4, 'created': '2018-04-25 13:57:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2b55d6c1609ff7b5dfe44e7fce4c5e507ef4915e', 'message': 'Add a skeleton for a v3-native devstack job\n\nChange-Id: Ib0b12cdc8b59c77b06d527268194d4599b24e71a\nDepends-On: https://review.openstack.org/549252\n'}]",3,548331,2b55d6c1609ff7b5dfe44e7fce4c5e507ef4915e,25,5,4,1,,,0,"Add a skeleton for a v3-native devstack job

Change-Id: Ib0b12cdc8b59c77b06d527268194d4599b24e71a
Depends-On: https://review.openstack.org/549252
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/31/548331/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5769d4b82787aca6d0a9879b41aafa19100b224e,,# Begin v3 native jobs # See https://docs.openstack.org/devstack/latest/ # This is a job from which all the different backend jobs can inherit. - job: name: oslo.messaging-devstack-base parent: devstack-tempest required-projects: - openstack/oslo.messaging vars: zuul_copy_output: '{{ devstack_base_dir }}/logs/qdrouterd.log': 'logs' - job: name: oslo.messaging-devstack-amqp1 parent: oslo.messaging-devstack-base required-projects: - openstack/devstack-plugin-amqp1 vars: devstack_localrc: AMQP1_SERVICE: qpid-hybrid devstack_plugins: devstack-plugin-amqp1: git://git.openstack.org/openstack/devstack-plugin-amqp1 # End v3 native jobs - oslo.messaging-devstack-amqp1,,27,0
openstack%2Fpuppet-keystone~master~Ic11a0aea68a04d370453a7e81218642e0e150a9f,openstack/puppet-keystone,master,Ic11a0aea68a04d370453a7e81218642e0e150a9f,Use openstacklib::wsgi::apache for keystone wsgi,MERGED,2018-04-04 18:16:31.000000000,2018-04-26 21:11:44.000000000,2018-04-26 21:11:44.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-04 18:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/854fddab6c8c61a04c150359f0bae4284324022f', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 2, 'created': '2018-04-04 20:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/6f96cbcbc78a1de1d2f0d84e44428e1be4ecf85f', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 3, 'created': '2018-04-04 21:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ab5f59392748a58a053230df47fca9b69e54dbe2', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 4, 'created': '2018-04-04 21:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a16027784106626ec812fe674bc8c7eaaff524be', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 5, 'created': '2018-04-04 21:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5b73c5327eb75bf5f44028c7bfed8f5502a045ff', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 6, 'created': '2018-04-05 08:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f058e0a677e9debd2ec56267032f4a7fcb9f44d4', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nDepends-On: Ifb988fedce958d2607365634efeccf2d7b88d073\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 7, 'created': '2018-04-05 15:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/12966e95777e1bfbc513a5e71c9f6117d6f9277f', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nDepends-On: I31096140a6f355ec99496053fb06ce6c73094180\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 8, 'created': '2018-04-05 20:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/443ba957625ecfb0531b9ded6b6865275e8bde93', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nDepends-On: I31096140a6f355ec99496053fb06ce6c73094180\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 9, 'created': '2018-04-06 08:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/dc8d2429c8a8909f20151274dc6ea015bbc5dcf7', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nDepends-On: I31096140a6f355ec99496053fb06ce6c73094180\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 10, 'created': '2018-04-06 09:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ae4347038d936c975a83cfef47d9b3659a0422f0', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nDepends-On: I31096140a6f355ec99496053fb06ce6c73094180\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}, {'number': 11, 'created': '2018-04-26 15:27:58.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/keystone-openstacklib-wsgi-0d565551ab88906c.yaml', 'spec/classes/keystone_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/15c06a78aee924da9fb622955506e0302d25ddda', 'message': 'Use openstacklib::wsgi::apache for keystone wsgi\n\nThis patch changes the usage of the of\napache::vhost to openstacklib::wsgi::apache.\n\nAlso removes the wsgi_script_source param\nthat was deprecated in Mitaka.\n\nFixes and cleans up spec testing, cleans up\ndocumentation in the manifest to conform\nwith the overall standard.\n\nDepends-On: I31096140a6f355ec99496053fb06ce6c73094180\nChange-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f\nCloses-Bug: 1657582\n'}]",0,558887,15c06a78aee924da9fb622955506e0302d25ddda,41,4,11,16137,,,0,"Use openstacklib::wsgi::apache for keystone wsgi

This patch changes the usage of the of
apache::vhost to openstacklib::wsgi::apache.

Also removes the wsgi_script_source param
that was deprecated in Mitaka.

Fixes and cleans up spec testing, cleans up
documentation in the manifest to conform
with the overall standard.

Depends-On: I31096140a6f355ec99496053fb06ce6c73094180
Change-Id: Ic11a0aea68a04d370453a7e81218642e0e150a9f
Closes-Bug: 1657582
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/87/558887/9 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/keystone-openstacklib-wsgi-0d565551ab88906c.yaml', 'spec/classes/keystone_wsgi_apache_spec.rb']",3,854fddab6c8c61a04c150359f0bae4284324022f,bug/1657582," it { is_expected.to contain_service('httpd').with_name(platform_params[:httpd_service_name]) } it { is_expected.to contain_class('apache::mod::ssl') } it { is_expected.to contain_file(""#{platform_params[:wsgi_script_path]}"").with( :ensure => 'directory', :owner => 'keystone', :group => 'keystone', :require => 'Anchor[keystone::install::end]', :ensure => 'file', :path => ""#{platform_params[:wsgi_script_path]}/keystone-admin"", :source => platform_params[:wsgi_admin_script_source], :owner => 'keystone', :group => 'keystone', :mode => '0644', :require => ""File[#{platform_params[:wsgi_script_path]}]"", :ensure => 'file', :path => ""#{platform_params[:wsgi_script_path]}/keystone-public"", :source => platform_params[:wsgi_public_script_source], :owner => 'keystone', :group => 'keystone', :mode => '0644', :require => ""File[#{platform_params[:wsgi_script_path]}]"", it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :servername => 'some.host.tld', :bind_port => 35357, :wsgi_script_dir => platform_params[:wsgi_script_path], :user => 'keystone'. :group => 'keystone', :workers => facts[:os_workers], :threads => 1, :priority => '10', :ssl => true, :wsgi_daemon_process => 'keystone_main', :wsgi_process_display_name => 'keystone-main', :wsgi_process_group => 'keystone_main', :wsgi_script_aliases => { '/' => ""#{platform_params[:wsgi_script_path]}/keystone-main"" }, :wsgi_application_group => '%{GLOBAL}', :wsgi_pass_authorization => 'On', :custom_wsgi_process_options => {}, :access_log_file => false, :access_log_format => false, :error_log_file => nil, :require => 'File[keystone_wsgi_main]', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :servername => 'some.host.tld', :bind_port => 5000, :wsgi_script_dir => platform_params[:wsgi_script_path], :user => 'keystone'. :group => 'keystone', :workers => facts[:os_workers], :threads => 1, :priority => '10', :ssl => true, :wsgi_daemon_process => 'keystone_admin', :wsgi_process_display_name => 'keystone-admin', :wsgi_process_group => 'keystone_admin', :wsgi_script_aliases => { '/' => ""#{platform_params[:wsgi_script_path]}/keystone-admin"" }, :wsgi_application_group => '%{GLOBAL}', :wsgi_pass_authorization => 'On', :custom_wsgi_process_options => {}, :access_log_file => false, :access_log_format => false, :error_log_file => nil, :require => 'File[keystone_wsgi_admin]', it { is_expected.to contain_concat(""#{platform_params[:httpd_ports_file]}"") } it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :servername => 'dummy.host', :bind_host => '10.42.51.1', :bind_port => 12345, :wsgi_script_dir => platform_params[:wsgi_script_path], :user => 'keystone'. :group => 'keystone', :workers => 37, :threads => 1, :priority => '10', :ssl => false, :wsgi_daemon_process => 'keystone_main', :wsgi_process_display_name => 'keystone-main', :wsgi_process_group => 'keystone_main', :wsgi_script_aliases => { '/' => ""#{platform_params[:wsgi_script_path]}/keystone-main"" }, :wsgi_application_group => '%{GLOBAL}', :wsgi_pass_authorization => 'On', :custom_wsgi_process_options => {}, :vhost_custom_fragment => 'LimitRequestFieldSize 81900', :access_log_file => false, :access_log_format => false, :error_log_file => nil, :require => 'File[keystone_wsgi_main]', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :servername => 'dummy.host', :bind_host => '10.42.51.1', :bind_port => 4142, :wsgi_script_dir => platform_params[:wsgi_script_path], :user => 'keystone'. :group => 'keystone', :workers => 37, :threads => 1, :priority => '10', :ssl => false, :wsgi_daemon_process => 'keystone_admin', :wsgi_process_display_name => 'keystone-admin', :wsgi_process_group => 'keystone_admin', :wsgi_script_aliases => { '/' => ""#{platform_params[:wsgi_script_path]}/keystone-admin"" }, :wsgi_application_group => '%{GLOBAL}', :wsgi_pass_authorization => 'On', :custom_wsgi_process_options => {}, :vhost_custom_fragment => 'LimitRequestFieldSize 81900', :access_log_file => false, :access_log_format => false, :error_log_file => nil, :require => 'File[keystone_wsgi_admin]', it { is_expected.to contain_concat(""#{platform_params[:httpd_ports_file]}"") } it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :servername => 'dummy.host', :bind_host => '10.42.51.1', :bind_port => 12345, :ssl => false, :workers => 37, :vhost_custom_fragment => 'LimitRequestFieldSize 81900' it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :servername => 'dummy.host', :bind_host => '10.42.51.1', :bind_port => 4142, :ssl => false :workers => 37, :vhost_custom_fragment => 'LimitRequestFieldSize 81900' it { is_expected.to contain_concat(""#{platform_params[:httpd_ports_file]}"") } it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :servername => 'dummy1.host', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :servername => 'dummy2.host', :custom_wsgi_process_options_main => { :custom_wsgi_process_options_admin => { python_path => '/my/python/admin/path', }, it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :custom_wsgi_process_options => { 'python-path' => '/my/python/main/path' }, it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :custom_wsgi_process_options => { 'python-path' => '/my/python/admin/path' }, it { is_expected.to_not contain_openstacklib__wsgi__apache('keystone_wsgi_admin') } it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :servername => 'dummy.host', :bind_port => 4242, :wsgi_script_dir => platform_params[:wsgi_script_path], :user => 'keystone'. :group => 'keystone', :workers => 37, :threads => 1, :priority => '10', :ssl => true, :wsgi_daemon_process => 'keystone_main', :wsgi_process_display_name => 'keystone-main', :wsgi_process_group => 'keystone_main', :wsgi_script_aliases => { '/main/endpoint' => ""#{platform_params[:wsgi_script_path]}/keystone-public"", '/admin/endpoint' => ""#{platform_params[:wsgi_script_path]}/keystone-admin"" :wsgi_application_group => '%{GLOBAL}', :wsgi_pass_authorization => 'On', :custom_wsgi_process_options => {}, :access_log_file => false, :access_log_format => false, :error_log_file => nil, :require => 'File[keystone_wsgi_main]' it_raises 'a Puppet::Error', /When using the same port for public and admin endpoints, public_path and admin_path should be different\./ it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :servername => 'dummy.host', :access_log_format => 'foo', )} :ensure => 'link', :path => ""#{platform_params[:wsgi_script_path]}/keystone-admin"", :target => '/opt/keystone/httpd/keystone.py', :owner => 'keystone', :group => 'keystone', :mode => '0644', :require => ""File[#{platform_params[:wsgi_script_path]}]"", :ensure => 'link', :path => ""#{platform_params[:wsgi_script_path]}/keystone-public"", :target => '/opt/keystone/httpd/keystone.py', :owner => 'keystone', :group => 'keystone', :mode => '0644', :require => ""File[#{platform_params[:wsgi_script_path]}]"", it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :ssl_cert => 'some cert', :ssl_key => 'some key', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :ssl_cert => 'some cert', :ssl_key => 'some key', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :ssl_cert => 'some cert', :ssl_key => 'some key', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :ssl_cert => 'some cert admin', :ssl_key => 'some key admin', it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_main').with( :wsgi_chunked_request => 'On' it { is_expected.to contain_openstacklib__wsgi__apache('keystone_wsgi_admin').with( :wsgi_chunked_request => 'On' :path => ""#{facts[:wsgi_script_path]}/keystone-public"", :target => params[:wsgi_public_script_source] ) is_expected.to contain_file('keystone_wsgi_admin').with( :path => ""#{facts[:wsgi_script_path]}/keystone-admin"", :target => params[:wsgi_admin_script_source] :path => ""#{facts[:wsgi_script_path]}/keystone-public"", :source => params[:wsgi_public_script_source] ) is_expected.to contain_file('keystone_wsgi_admin').with( :path => ""#{facts[:wsgi_script_path]}/keystone-admin"", :source => params[:wsgi_admin_script_source] let(:platform_params) do"," it { is_expected.to contain_service('httpd').with_name(platform_parameters[:httpd_service_name]) } it { is_expected.to contain_file(""#{platform_parameters[:wsgi_script_path]}"").with( 'ensure' => 'directory', 'owner' => 'keystone', 'group' => 'keystone', 'require' => 'Anchor[keystone::install::end]', 'ensure' => 'file', 'path' => ""#{platform_parameters[:wsgi_script_path]}/keystone-admin"", 'source' => platform_parameters[:wsgi_admin_script_source], 'owner' => 'keystone', 'group' => 'keystone', 'mode' => '0644', 'require' => ""File[#{platform_parameters[:wsgi_script_path]}]"", 'ensure' => 'file', 'path' => ""#{platform_parameters[:wsgi_script_path]}/keystone-public"", 'source' => platform_parameters[:wsgi_public_script_source], 'owner' => 'keystone', 'group' => 'keystone', 'mode' => '0644', 'require' => ""File[#{platform_parameters[:wsgi_script_path]}]"", it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'servername' => 'some.host.tld', 'ip' => nil, 'port' => '35357', 'docroot' => ""#{platform_parameters[:wsgi_script_path]}"", 'docroot_owner' => 'keystone', 'docroot_group' => 'keystone', 'ssl' => 'true', 'wsgi_daemon_process' => 'keystone_admin', 'wsgi_daemon_process_options' => { 'user' => 'keystone', 'group' => 'keystone', 'processes' => '42', 'threads' => '1', 'display-name' => 'keystone-admin', }, 'wsgi_process_group' => 'keystone_admin', 'wsgi_script_aliases' => { '/' => ""#{platform_parameters[:wsgi_script_path]}/keystone-admin"" }, 'wsgi_application_group' => '%{GLOBAL}', 'wsgi_pass_authorization' => 'On', 'headers' => nil, 'require' => 'File[keystone_wsgi_admin]', 'access_log_file' => false, 'access_log_pipe' => false, 'access_log_syslog' => false, 'access_log_format' => false, 'error_log_file' => nil, 'error_log_pipe' => nil, 'error_log_syslog' => nil, it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'servername' => 'some.host.tld', 'ip' => nil, 'port' => '5000', 'docroot' => ""#{platform_parameters[:wsgi_script_path]}"", 'docroot_owner' => 'keystone', 'docroot_group' => 'keystone', 'ssl' => 'true', 'wsgi_daemon_process' => 'keystone_main', 'wsgi_daemon_process_options' => { 'user' => 'keystone', 'group' => 'keystone', 'processes' => '42', 'threads' => '1', 'display-name' => 'keystone-main', }, 'wsgi_process_group' => 'keystone_main', 'wsgi_script_aliases' => { '/' => ""#{platform_parameters[:wsgi_script_path]}/main"" }, 'wsgi_application_group' => '%{GLOBAL}', 'wsgi_pass_authorization' => 'On', 'headers' => nil, 'require' => 'File[keystone_wsgi_main]', 'access_log_file' => false, 'access_log_pipe' => false, 'access_log_syslog' => false, 'access_log_format' => false, 'error_log_file' => nil, 'error_log_pipe' => nil, 'error_log_syslog' => nil, it { is_expected.to contain_concat(""#{platform_parameters[:httpd_ports_file]}"") } it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'servername' => 'dummy.host', 'ip' => '10.42.51.2', 'port' => '4142', 'docroot' => ""#{platform_parameters[:wsgi_script_path]}"", 'docroot_owner' => 'keystone', 'docroot_group' => 'keystone', 'ssl' => 'false', 'wsgi_daemon_process' => 'keystone_admin', 'wsgi_daemon_process_options' => { 'user' => 'keystone', 'group' => 'keystone', 'processes' => '37', 'threads' => '1', 'display-name' => 'keystone-admin', }, 'wsgi_process_group' => 'keystone_admin', 'wsgi_script_aliases' => { '/' => ""#{platform_parameters[:wsgi_script_path]}/keystone-admin"" }, 'wsgi_application_group' => '%{GLOBAL}', 'wsgi_pass_authorization' => 'On', 'require' => 'File[keystone_wsgi_admin]', 'custom_fragment' => 'LimitRequestFieldSize 81900' it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'servername' => 'dummy.host', 'ip' => '10.42.51.1', 'port' => '12345', 'docroot' => ""#{platform_parameters[:wsgi_script_path]}"", 'docroot_owner' => 'keystone', 'docroot_group' => 'keystone', 'ssl' => 'false', 'wsgi_daemon_process' => 'keystone_main', 'wsgi_daemon_process_options' => { 'user' => 'keystone', 'group' => 'keystone', 'processes' => '37', 'threads' => '1', 'display-name' => 'keystone-main', }, 'wsgi_process_group' => 'keystone_main', 'wsgi_script_aliases' => { '/' => ""#{platform_parameters[:wsgi_script_path]}/main"" }, 'wsgi_application_group' => '%{GLOBAL}', 'wsgi_pass_authorization' => 'On', 'require' => 'File[keystone_wsgi_main]', 'custom_fragment' => 'LimitRequestFieldSize 81900' it { is_expected.to contain_concat(""#{platform_parameters[:httpd_ports_file]}"") } it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'ip' => '10.42.51.1' it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'ip' => '10.42.51.1' it { is_expected.to contain_concat(""#{platform_parameters[:httpd_ports_file]}"") } it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'servername' => 'dummy2.host', it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'servername' => 'dummy1.host', :custom_wsgi_process_options_admin => { user => 'keystone-admin', python_path => '/my/python/admin/path', }, :custom_wsgi_process_options_main => { user => 'keystone-main', it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'wsgi_daemon_process_options' => { 'user' => 'keystone-admin', 'group' => 'keystone', 'python-path' => '/my/python/admin/path', 'display-name' => 'keystone_main', }, it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'wsgi_daemon_process_options' => { 'user' => 'keystone-main', 'group' => 'keystone', 'python-path' => '/my/python/main/path', 'display-name' => 'keystone-main', }, it { is_expected.to_not contain_apache__vhost('keystone_wsgi_admin') } it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'servername' => 'dummy.host', 'ip' => nil, 'port' => '4242', 'docroot' => ""#{platform_parameters[:wsgi_script_path]}"", 'docroot_owner' => 'keystone', 'docroot_group' => 'keystone', 'ssl' => 'true', 'wsgi_daemon_process' => 'keystone_main', 'wsgi_daemon_process_options' => { 'user' => 'keystone', 'group' => 'keystone', 'processes' => '37', 'threads' => '1', 'display-name' => 'keystone-main', 'wsgi_process_group' => 'keystone_main', 'wsgi_script_aliases' => { '/main/endpoint' => ""#{platform_parameters[:wsgi_script_path]}/keystone-public"", '/admin/endpoint' => ""#{platform_parameters[:wsgi_script_path]}/keystone-admin"" }, 'wsgi_application_group' => '%{GLOBAL}', 'wsgi_pass_authorization' => 'On', 'require' => 'File[keystone_wsgi_main]' it_raises 'a Puppet::Error', /When using the same port for public & private endpoints, public_path and admin_path should be different\./ :access_log_syslog => 'syslog:local0', it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'servername' => 'dummy.host', 'access_log_format' => 'foo', 'access_log_syslog' => 'syslog:local0', )} 'ensure' => 'link', 'path' => ""#{platform_parameters[:wsgi_script_path]}/keystone-admin"", 'target' => '/opt/keystone/httpd/keystone.py', 'owner' => 'keystone', 'group' => 'keystone', 'mode' => '0644', 'require' => ""File[#{platform_parameters[:wsgi_script_path]}]"", 'ensure' => 'link', 'path' => ""#{platform_parameters[:wsgi_script_path]}/keystone-public"", 'target' => '/opt/keystone/httpd/keystone.py', 'owner' => 'keystone', 'group' => 'keystone', 'mode' => '0644', 'require' => ""File[#{platform_parameters[:wsgi_script_path]}]"", it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'ssl_cert' => 'some cert', 'ssl_key' => 'some key', it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'ssl_cert' => 'some cert', 'ssl_key' => 'some key', it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'ssl_cert' => 'some cert', 'ssl_key' => 'some key', it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'ssl_cert' => 'some cert admin', 'ssl_key' => 'some key admin', it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'wsgi_chunked_request' => 'On' it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'wsgi_chunked_request' => 'On' end describe 'when overriding parameters using additional headers' do let :params do { :headers => 'set X-Frame-Options ""DENY""' } end it { is_expected.to contain_apache__vhost('keystone_wsgi_admin').with( 'headers' => 'set X-Frame-Options ""DENY""' )} it { is_expected.to contain_apache__vhost('keystone_wsgi_main').with( 'headers' => 'set X-Frame-Options ""DENY""' )} is_expected.to contain_file('keystone_wsgi_admin').with( 'path' => ""#{facts[:wsgi_script_path]}/keystone-admin"", 'target' => params[:wsgi_admin_script_source] ) 'path' => ""#{facts[:wsgi_script_path]}/keystone-public"", 'target' => params[:wsgi_public_script_source] is_expected.to contain_file('keystone_wsgi_admin').with( 'path' => ""#{facts[:wsgi_script_path]}/keystone-admin"", 'source' => params[:wsgi_admin_script_source] ) 'path' => ""#{facts[:wsgi_script_path]}/keystone-public"", 'source' => params[:wsgi_public_script_source] let(:platform_parameters) do",361,492
openstack%2Fcongress-specs~master~I9fd206dde36ba291d405ff7c9668c2443be4aa66,openstack/congress-specs,master,I9fd206dde36ba291d405ff7c9668c2443be4aa66,Add Rocky specs to index,MERGED,2018-04-24 01:04:45.000000000,2018-04-26 20:57:01.000000000,2018-04-26 20:57:01.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 01:04:45.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/9b59c4eeada12b9e730dda5029cc4087d0e785a7', 'message': 'Add Rocky specs to index\n\nChange-Id: I9fd206dde36ba291d405ff7c9668c2443be4aa66\n'}]",0,563798,9b59c4eeada12b9e730dda5029cc4087d0e785a7,6,2,1,18591,,,0,"Add Rocky specs to index

Change-Id: I9fd206dde36ba291d405ff7c9668c2443be4aa66
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/98/563798/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,9b59c4eeada12b9e730dda5029cc4087d0e785a7,explicit-types,Rocky approved specs: .. toctree:: :glob: :maxdepth: 1 specs/rocky/* ,,8,0
openstack%2Fpuppet-cinder~master~I74cfa67801c4cd09fe2aca7a713c74308a806c0f,openstack/puppet-cinder,master,I74cfa67801c4cd09fe2aca7a713c74308a806c0f,fix a typo: s/allowd/allowed/,MERGED,2018-04-19 10:51:24.000000000,2018-04-26 20:51:43.000000000,2018-04-26 20:51:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-19 10:51:24.000000000', 'files': ['manifests/db/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d56e0343cb219725afaef7229c3e3014160e9c90', 'message': 'fix a typo: s/allowd/allowed/\n\nChange-Id: I74cfa67801c4cd09fe2aca7a713c74308a806c0f\n'}]",0,562548,d56e0343cb219725afaef7229c3e3014160e9c90,11,6,1,21486,,,0,"fix a typo: s/allowd/allowed/

Change-Id: I74cfa67801c4cd09fe2aca7a713c74308a806c0f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/48/562548/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db/mysql.pp'],1,d56e0343cb219725afaef7229c3e3014160e9c90,,# other hosts the user is allowed to connect from.,# other hosts the user is allowd to connect from.,1,1
openstack%2Fpuppet-neutron~master~I906fe54e376270237658bcd142224e8a5551ba91,openstack/puppet-neutron,master,I906fe54e376270237658bcd142224e8a5551ba91,fix a typo: s/allowd/allowed/,MERGED,2018-04-19 10:53:33.000000000,2018-04-26 20:50:44.000000000,2018-04-26 20:50:44.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-19 10:53:33.000000000', 'files': ['manifests/db/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3a376e55e55226ce626e892a73e9b517eec6c0bf', 'message': 'fix a typo: s/allowd/allowed/\n\nChange-Id: I906fe54e376270237658bcd142224e8a5551ba91\n'}]",0,562550,3a376e55e55226ce626e892a73e9b517eec6c0bf,11,6,1,21486,,,0,"fix a typo: s/allowd/allowed/

Change-Id: I906fe54e376270237658bcd142224e8a5551ba91
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/50/562550/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db/mysql.pp'],1,3a376e55e55226ce626e892a73e9b517eec6c0bf,,# other hosts the user is allowed to connect from.,# other hosts the user is allowd to connect from.,1,1
openstack%2Foslo.middleware~master~I1d9424b280623d3de16ff239872bfeb8ebe60fc3,openstack/oslo.middleware,master,I1d9424b280623d3de16ff239872bfeb8ebe60fc3,Trivial: Update pypi url to new url,MERGED,2018-04-21 02:58:00.000000000,2018-04-26 20:33:43.000000000,2018-04-26 20:33:43.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 02:58:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/0d02cb75f5895f9fa2b188d5890b6c27361e1a86', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I1d9424b280623d3de16ff239872bfeb8ebe60fc3\n'}]",0,563367,0d02cb75f5895f9fa2b188d5890b6c27361e1a86,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I1d9424b280623d3de16ff239872bfeb8ebe60fc3
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/67/563367/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0d02cb75f5895f9fa2b188d5890b6c27361e1a86,pypi-url, :target: https://pypi.org/project/oslo.middleware/ :target: https://pypi.org/project/oslo.middleware/, :target: https://pypi.python.org/pypi/oslo.middleware/ :target: https://pypi.python.org/pypi/oslo.middleware/,2,2
openstack%2Foslo.concurrency~master~Ic0f44cb759a0ce0eb4e845656517771cf25aac3a,openstack/oslo.concurrency,master,Ic0f44cb759a0ce0eb4e845656517771cf25aac3a,Trivial: Update pypi url to new url,MERGED,2018-04-21 03:15:14.000000000,2018-04-26 20:33:42.000000000,2018-04-26 20:33:41.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 03:15:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/db5377e692c48867720e2816cb52c4542258534f', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ic0f44cb759a0ce0eb4e845656517771cf25aac3a\n'}]",0,563372,db5377e692c48867720e2816cb52c4542258534f,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic0f44cb759a0ce0eb4e845656517771cf25aac3a
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/72/563372/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,db5377e692c48867720e2816cb52c4542258534f,pypi-url, :target: https://pypi.org/project/oslo.concurrency/ :target: https://pypi.org/project/oslo.concurrency/, :target: https://pypi.python.org/pypi/oslo.concurrency/ :target: https://pypi.python.org/pypi/oslo.concurrency/,2,2
openstack%2Foslo.reports~master~I518602e5042a1910e5de58105a9982232fde8c7e,openstack/oslo.reports,master,I518602e5042a1910e5de58105a9982232fde8c7e,Trivial: Update pypi url to new url,MERGED,2018-04-21 03:07:19.000000000,2018-04-26 20:31:28.000000000,2018-04-26 20:31:28.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 03:07:19.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/5fee38d1241aa5c803f95d10ee35e4e6295e1441', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I518602e5042a1910e5de58105a9982232fde8c7e\n'}]",0,563369,5fee38d1241aa5c803f95d10ee35e4e6295e1441,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I518602e5042a1910e5de58105a9982232fde8c7e
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/69/563369/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5fee38d1241aa5c803f95d10ee35e4e6295e1441,pypi-url, :target: https://pypi.org/project/oslo.reports/ :target: https://pypi.org/project/oslo.reports/, :target: https://pypi.python.org/pypi/oslo.reports/ :target: https://pypi.python.org/pypi/oslo.reports/,2,2
openstack%2Foslo.policy~master~I2abba3a89f3f89d45b97e5cc050f616136809b1d,openstack/oslo.policy,master,I2abba3a89f3f89d45b97e5cc050f616136809b1d,Trivial: Update pypi url to new url,MERGED,2018-04-21 03:02:33.000000000,2018-04-26 20:29:06.000000000,2018-04-26 20:29:06.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 03:02:33.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/90d2eeac6c8b420e221395e4f3d08e3aa6714e4b', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I2abba3a89f3f89d45b97e5cc050f616136809b1d\n'}]",0,563368,90d2eeac6c8b420e221395e4f3d08e3aa6714e4b,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I2abba3a89f3f89d45b97e5cc050f616136809b1d
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/68/563368/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,90d2eeac6c8b420e221395e4f3d08e3aa6714e4b,pypi-url,.. image:: https://governance.openstack.org/tc/badges/oslo.policy.svg :target: https://governance.openstack.org/tc/reference/tags/index.html :target: https://pypi.org/project/oslo.policy/ :target: https://pypi.org/project/oslo.policy/,.. image:: https://governance.openstack.org/badges/oslo.policy.svg :target: https://governance.openstack.org/reference/tags/index.html :target: https://pypi.python.org/pypi/oslo.policy/ :target: https://pypi.python.org/pypi/oslo.policy/,4,4
openstack%2Fnetworking-ovn~stable%2Fqueens~I2df35cc31e856b9b574b77dc6b5ab5be262a12b7,openstack/networking-ovn,stable/queens,I2df35cc31e856b9b574b77dc6b5ab5be262a12b7,L3HA: Take priorities into account in least loaded scheduling,MERGED,2018-04-16 12:12:42.000000000,2018-04-26 20:09:25.000000000,2018-04-26 20:09:25.000000000,"[{'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-16 12:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cf8b34226ddad58ecdf23e96685bf229c8a5b6ab', 'message': ""L3HA: Take priorities into account in least loaded scheduling\n\nThis patch is implementing an algorithm to take the priorities of\nthe gateway ports into account when choosing a chassis using the\nLeast Loaded policy (default). Prior to this patch, the same chassis\nwould always be selected leading to an unbalanced distribution\nof the gateway nodes.\n\nNow, when a new gateway is being scheduled, it will take into\naccount the current priorities and will select the nodes and their\npriorities accordingly so that the system remains balanced even\nin the event that one of the nodes go down.\n\nAlso, I'm adding a new functional test which will check that the\nports have been scheduled as expected by looking directly into the\nSouthbound database.\n\nPlease, note that bug 1762691 could still make routers to not\nbe in HA mode and we need to address this issue separately.\n\nCloses-Bug: 1762694\nChange-Id: I2df35cc31e856b9b574b77dc6b5ab5be262a12b7\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit bbf0260496bf2e08db3c341b88e124fa6d0c7156)\n""}, {'number': 2, 'created': '2018-04-17 07:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6f47537e0e2794630054ba68103841c8a41aeedf', 'message': ""L3HA: Take priorities into account in least loaded scheduling\n\nThis patch is implementing an algorithm to take the priorities of\nthe gateway ports into account when choosing a chassis using the\nLeast Loaded policy (default). Prior to this patch, the same chassis\nwould always be selected leading to an unbalanced distribution\nof the gateway nodes.\n\nNow, when a new gateway is being scheduled, it will take into\naccount the current priorities and will select the nodes and their\npriorities accordingly so that the system remains balanced even\nin the event that one of the nodes go down.\n\nAlso, I'm adding a new functional test which will check that the\nports have been scheduled as expected by looking directly into the\nSouthbound database.\n\nPlease, note that bug 1762691 could still make routers to not\nbe in HA mode and we need to address this issue separately.\n\nCloses-Bug: 1762694\nChange-Id: I2df35cc31e856b9b574b77dc6b5ab5be262a12b7\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit bbf0260496bf2e08db3c341b88e124fa6d0c7156)\n""}, {'number': 3, 'created': '2018-04-18 11:21:29.000000000', 'files': ['networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/tests/unit/l3/test_l3_ovn_scheduler.py', 'networking_ovn/l3/l3_ovn_scheduler.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a5d6044187193db3db93b7cdca29512cab20f7fb', 'message': ""L3HA: Take priorities into account in least loaded scheduling\n\nThis patch is implementing an algorithm to take the priorities of\nthe gateway ports into account when choosing a chassis using the\nLeast Loaded policy (default). Prior to this patch, the same chassis\nwould always be selected leading to an unbalanced distribution\nof the gateway nodes.\n\nNow, when a new gateway is being scheduled, it will take into\naccount the current priorities and will select the nodes and their\npriorities accordingly so that the system remains balanced even\nin the event that one of the nodes go down.\n\nAlso, I'm adding a new functional test which will check that the\nports have been scheduled as expected by looking directly into the\nSouthbound database.\n\nPlease, note that bug 1762691 could still make routers to not\nbe in HA mode and we need to address this issue separately.\n\nCloses-Bug: 1762694\nChange-Id: I2df35cc31e856b9b574b77dc6b5ab5be262a12b7\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit bbf0260496bf2e08db3c341b88e124fa6d0c7156)\n""}]",0,561598,a5d6044187193db3db93b7cdca29512cab20f7fb,14,7,3,23804,,,0,"L3HA: Take priorities into account in least loaded scheduling

This patch is implementing an algorithm to take the priorities of
the gateway ports into account when choosing a chassis using the
Least Loaded policy (default). Prior to this patch, the same chassis
would always be selected leading to an unbalanced distribution
of the gateway nodes.

Now, when a new gateway is being scheduled, it will take into
account the current priorities and will select the nodes and their
priorities accordingly so that the system remains balanced even
in the event that one of the nodes go down.

Also, I'm adding a new functional test which will check that the
ports have been scheduled as expected by looking directly into the
Southbound database.

Please, note that bug 1762691 could still make routers to not
be in HA mode and we need to address this issue separately.

Closes-Bug: 1762694
Change-Id: I2df35cc31e856b9b574b77dc6b5ab5be262a12b7
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit bbf0260496bf2e08db3c341b88e124fa6d0c7156)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/98/561598/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/tests/unit/l3/test_l3_ovn_scheduler.py', 'networking_ovn/l3/l3_ovn_scheduler.py']",5,cf8b34226ddad58ecdf23e96685bf229c8a5b6ab,bug/1762691," @staticmethod def _get_chassis_load_by_prios(chassis_info): """"""Retrieve the amount of ports by priorities hosted in the chassis. @param chassis_info: list of (port, prio) hosted by this chassis @type chassis_info: [] @return: A list of (prio, number_of_ports) tuples. """""" chassis_load = {} for lrp, prio in chassis_info: chassis_load[prio] = chassis_load.get(prio, 0) + 1 return chassis_load.items() @staticmethod def _get_chassis_load(chassis): chassis_ports_prios = chassis[1] return sorted( OVNGatewayLeastLoadedScheduler._get_chassis_load_by_prios( chassis_ports_prios), reverse=True) return [chassis for chassis, load in sorted(chassis_bindings.items(), key=OVNGatewayLeastLoadedScheduler._get_chassis_load)]"," # Sort on the length of the values in the returned dictionary return [k for k, v in sorted(chassis_bindings.items(), key=lambda x: len(x[1]))]",107,21
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,openstack/tripleo-heat-templates,stable/queens,I7ed52727d1515ee7f191a82b0b1d645a9d597cd3,Explicitly set nova/neutron/ceilometer host to expected fqdn,MERGED,2018-03-22 14:11:07.000000000,2018-04-26 20:08:26.000000000,2018-04-26 20:08:25.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-03-22 14:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75dcfc3df4ab1921d5ec77ce8b09f39676bd6b98', 'message': 'Explicitly set nova/neutron/ceilometer host to expected fqdn\n\nThis avoids any issues where the host/domainname is altered by a DHCP lease.\nAlso the puppet/facter fqdn can be unpredictable when there are multiple NICs.\n\nChange-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3\nCloses-bug: 1758034\n(cherry picked from commit 737bfd26c209f96a64c011240f218994d28d9ef3)\n'}, {'number': 2, 'created': '2018-04-23 14:21:48.000000000', 'files': ['releasenotes/notes/fix_nova_host-0b82c88597703353.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3381d59f0a6bafac47c98ed8754ee4170e749354', 'message': 'Explicitly set nova/neutron/ceilometer host to expected fqdn\n\nThis avoids any issues where the host/domainname is altered by a DHCP lease.\nAlso the puppet/facter fqdn can be unpredictable when there are multiple NICs.\n\nChange-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3\nCloses-bug: 1758034\n(cherry picked from commit 31e4c0194dd1d6e049a728c876347df93ce89908)\n'}]",0,555313,3381d59f0a6bafac47c98ed8754ee4170e749354,21,6,2,23811,,,0,"Explicitly set nova/neutron/ceilometer host to expected fqdn

This avoids any issues where the host/domainname is altered by a DHCP lease.
Also the puppet/facter fqdn can be unpredictable when there are multiple NICs.

Change-Id: I7ed52727d1515ee7f191a82b0b1d645a9d597cd3
Closes-bug: 1758034
(cherry picked from commit 31e4c0194dd1d6e049a728c876347df93ce89908)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/555313/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix_nova_host-0b82c88597703353.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/neutron-base.yaml']",4,75dcfc3df4ab1921d5ec77ce8b09f39676bd6b98,bug/1758034," neutron::host: ""%{hiera('fqdn_canonical')}""", neutron::host: '%{::fqdn}',12,3
openstack%2Fneutron~master~I1e61101bda8f133abe1b924f2d66fd1e7dd457e9,openstack/neutron,master,I1e61101bda8f133abe1b924f2d66fd1e7dd457e9,Remove IVSInterfaceDriver class,ABANDONED,2018-04-26 19:23:15.000000000,2018-04-26 19:51:02.000000000,,"[{'_account_id': 1131}, {'_account_id': 15752}]","[{'number': 1, 'created': '2018-04-26 19:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffbebded43764484b27b81625fd346b6950a441f', 'message': ""Remove IVSInterfaceDriver class\n\nIt's been deprecated in Queens and should be removed in Rocky.\n\nChange-Id: I1e61101bda8f133abe1b924f2d66fd1e7dd457e9\n""}, {'number': 2, 'created': '2018-04-26 19:28:35.000000000', 'files': ['neutron/agent/linux/interface.py', 'releasenotes/notes/ivsinterfacedriver-removal-a3bb15f055f15f74.yaml', 'setup.cfg', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cc1df6376dcf8af17f9fba90bd53e44e7d8ea5f', 'message': ""Remove IVSInterfaceDriver class\n\nIt's been deprecated in Queens and should be removed in Rocky.\n\nChange-Id: I1e61101bda8f133abe1b924f2d66fd1e7dd457e9\n""}]",0,564593,7cc1df6376dcf8af17f9fba90bd53e44e7d8ea5f,6,2,2,8655,,,0,"Remove IVSInterfaceDriver class

It's been deprecated in Queens and should be removed in Rocky.

Change-Id: I1e61101bda8f133abe1b924f2d66fd1e7dd457e9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/564593/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'setup.cfg', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/tests/unit/agent/linux/test_interface.py']",4,ffbebded43764484b27b81625fd346b6950a441f,ivs-deprecation,," class TestIVSInterfaceDriver(TestBase): def test_get_device_name(self): br = interface.IVSInterfaceDriver(self.conf) device_name = br.get_device_name(FakePort()) self.assertEqual('ns-abcdef01-12', device_name) def test_plug_with_prefix(self): self._test_plug(devname='qr-0', prefix='qr-') def _test_plug(self, devname=None, namespace=None, prefix=None): if not devname: devname = 'ns-0' def device_exists(dev, namespace=None): return dev == 'indigo' ivs = interface.IVSInterfaceDriver(self.conf) self.device_exists.side_effect = device_exists root_dev = mock.Mock() _ns_dev = mock.Mock() ns_dev = mock.Mock() self.ip().add_veth = mock.Mock(return_value=(root_dev, _ns_dev)) self.ip().device = mock.Mock(return_value=(ns_dev)) expected = [mock.call(), mock.call().add_veth('tap0', devname), mock.call().device(devname)] ivsctl_cmd = ['ivs-ctl', 'add-port', 'tap0'] with mock.patch.object(utils, 'execute') as execute: ivs.plug('01234567-1234-1234-99', 'port-1234', devname, 'aa:bb:cc:dd:ee:ff', namespace=namespace, prefix=prefix, mtu=9000) execute.assert_called_once_with(ivsctl_cmd, run_as_root=True) ns_dev.assert_has_calls( [mock.call.link.set_address('aa:bb:cc:dd:ee:ff')]) ns_dev.assert_has_calls([mock.call.link.set_mtu(9000)]) root_dev.assert_has_calls([mock.call.link.set_mtu(9000)]) if namespace: expected.extend( [mock.call().ensure_namespace(namespace), mock.call().ensure_namespace().add_device_to_namespace( mock.ANY)]) self.ip.assert_has_calls(expected) root_dev.assert_has_calls([mock.call.link.set_up()]) ns_dev.assert_has_calls([mock.call.link.set_up()]) def test_plug_namespace(self): self._test_plug(namespace='mynamespace') def test_unplug(self): ivs = interface.IVSInterfaceDriver(self.conf) ivsctl_cmd = ['ivs-ctl', 'del-port', 'tap0'] with mock.patch.object(utils, 'execute') as execute: ivs.unplug('ns-0') execute.assert_called_once_with(ivsctl_cmd, run_as_root=True) self.ip_dev.assert_has_calls([mock.call('ns-0', namespace=None), mock.call().link.delete()])",0,137
openstack%2Fnetworking-ovn~stable%2Fqueens~Iea31cb3dd418e086c43a797236c4b71d432422f7,openstack/networking-ovn,stable/queens,Iea31cb3dd418e086c43a797236c4b71d432422f7,Clear binding:host_id when a subport is removed from a trunk,MERGED,2018-04-23 08:49:00.000000000,2018-04-26 19:35:46.000000000,2018-04-26 19:35:46.000000000,"[{'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 08:49:00.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e69c768a3d2f38c140bf3d9228741cba7b08a6c5', 'message': ""Clear binding:host_id when a subport is removed from a trunk\n\nIn networking-ovn we set the binding:host_id of a subport to its\nparent's. However, when we remove the subport, that info remains there\nso if that port would be reused on a trunk which is on a different host,\nit will not get bound to the Chassis by ovn-controller, thus it won't\ntransition to 'up' and never become ACTIVE in Neutron. Tempest test\ntest_trunk_subport_lifecycle exercises this but the failure doesn't show\nup in the gate since both servers are spawned in the same host (we don't\nhave multinode jobs in the gate).\n\nThis patch clears up the host_id when the subport is removed from its\ntrunk.\n\nCloses-Bug: #1761194\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Iea31cb3dd418e086c43a797236c4b71d432422f7\n(cherry picked from commit 011dfac87f290948963f7049d8b24a2fd9dfcaf4)\n""}]",0,563529,e69c768a3d2f38c140bf3d9228741cba7b08a6c5,7,6,1,23804,,,0,"Clear binding:host_id when a subport is removed from a trunk

In networking-ovn we set the binding:host_id of a subport to its
parent's. However, when we remove the subport, that info remains there
so if that port would be reused on a trunk which is on a different host,
it will not get bound to the Chassis by ovn-controller, thus it won't
transition to 'up' and never become ACTIVE in Neutron. Tempest test
test_trunk_subport_lifecycle exercises this but the failure doesn't show
up in the gate since both servers are spawned in the same host (we don't
have multinode jobs in the gate).

This patch clears up the host_id when the subport is removed from its
trunk.

Closes-Bug: #1761194
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: Iea31cb3dd418e086c43a797236c4b71d432422f7
(cherry picked from commit 011dfac87f290948963f7049d8b24a2fd9dfcaf4)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/29/563529/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,e69c768a3d2f38c140bf3d9228741cba7b08a6c5,bug/1761194, if not tag: port['port']['binding:host_id'] = None,,6,1
openstack%2Freleases~master~Ib8106e25ec9484dfeeab67ed0199a996b383e7dc,openstack/releases,master,Ib8106e25ec9484dfeeab67ed0199a996b383e7dc,Release openstacksdk 0.13.0,MERGED,2018-04-26 14:58:17.000000000,2018-04-26 19:35:42.000000000,2018-04-26 19:35:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 14:58:17.000000000', 'files': ['deliverables/rocky/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/da432f370382ccd525be5376a8900e6a034e327e', 'message': 'Release openstacksdk 0.13.0\n\nChange-Id: Ib8106e25ec9484dfeeab67ed0199a996b383e7dc\n'}]",0,564527,da432f370382ccd525be5376a8900e6a034e327e,6,2,1,2,,,0,"Release openstacksdk 0.13.0

Change-Id: Ib8106e25ec9484dfeeab67ed0199a996b383e7dc
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/564527/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstacksdk.yaml'],1,da432f370382ccd525be5376a8900e6a034e327e,, - projects: - hash: 7c723f6a1eefc3180f2af75d2faac3aab5371aab repo: openstack/openstacksdk version: 0.13.0,,4,0
openstack%2Freleases~master~Ie2db74ddb9edc72c5f62f0015a2e109204281af3,openstack/releases,master,Ie2db74ddb9edc72c5f62f0015a2e109204281af3,Update openstacksdk info after rename,MERGED,2018-04-26 14:58:17.000000000,2018-04-26 19:31:39.000000000,2018-04-26 19:31:39.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 14:58:17.000000000', 'files': ['deliverables/rocky/openstacksdk.yaml', 'deliverables/queens/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f38f0cccb797f2e4f498414ef57bcf48b91b3e45', 'message': 'Update openstacksdk info after rename\n\nopenstacksdk was renamed from python-openstacksdk and was migrated to\nstoryboard. Update the deliverables files to reflect this. Also, remove\ntarball-base settings, since the repo now produces expected tarballs.\n\nChange-Id: Ie2db74ddb9edc72c5f62f0015a2e109204281af3\n'}]",0,564526,f38f0cccb797f2e4f498414ef57bcf48b91b3e45,6,2,1,2,,,0,"Update openstacksdk info after rename

openstacksdk was renamed from python-openstacksdk and was migrated to
storyboard. Update the deliverables files to reflect this. Also, remove
tarball-base settings, since the repo now produces expected tarballs.

Change-Id: Ie2db74ddb9edc72c5f62f0015a2e109204281af3
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/564526/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/openstacksdk.yaml', 'deliverables/queens/openstacksdk.yaml']",2,f38f0cccb797f2e4f498414ef57bcf48b91b3e45,,storyboard: 760 repo: openstack/openstacksdk repo: openstack/openstacksdk repo: openstack/openstacksdk repo: openstack/openstacksdk repo: openstack/openstacksdk openstack/openstacksdk: {},launchpad: python-openstacksdk repo: openstack/python-openstacksdk tarball-base: openstacksdk repo: openstack/python-openstacksdk tarball-base: openstacksdk repo: openstack/python-openstacksdk tarball-base: openstacksdk repo: openstack/python-openstacksdk tarball-base: openstacksdk repo: openstack/python-openstacksdk tarball-base: openstacksdk openstack/python-openstacksdk: {},10,16
openstack%2Freleases~master~Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583,openstack/releases,master,Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583,release neutron-lib 1.14.0,MERGED,2018-04-26 17:47:35.000000000,2018-04-26 19:31:38.000000000,2018-04-26 19:31:38.000000000,"[{'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 17:47:35.000000000', 'files': ['deliverables/rocky/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eb023d6e1ecf057157709044cb311a40ad9069a6', 'message': ""release neutron-lib 1.14.0\n\nNumerous commits have landed since we released 1.13.0 and we're now\nready to consume them with a new neutron-lib release.\n\nThis patch proposes we release neutron-lib 1.14.0.\n\nChange-Id: Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583\n""}]",0,564571,eb023d6e1ecf057157709044cb311a40ad9069a6,7,3,1,5367,,,0,"release neutron-lib 1.14.0

Numerous commits have landed since we released 1.13.0 and we're now
ready to consume them with a new neutron-lib release.

This patch proposes we release neutron-lib 1.14.0.

Change-Id: Ic6b1a46fa99fd3aa4fd96ea0fce172c9b273a583
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/564571/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/neutron-lib.yaml'],1,eb023d6e1ecf057157709044cb311a40ad9069a6,neutron-lib-1.14.0,releases: - version: 1.14.0 projects: - repo: openstack/neutron-lib hash: b34d0e94b383f97dc16672c62bed123eab0ef787,,5,0
openstack%2Frequirements~master~I6f384bd2a213710376a5218062c99216024ec479,openstack/requirements,master,I6f384bd2a213710376a5218062c99216024ec479,update constraint for openstack-release-test to new release 0.14.1,ABANDONED,2018-04-26 18:07:53.000000000,2018-04-26 18:08:53.000000000,,[],"[{'number': 1, 'created': '2018-04-26 18:07:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e7d9b50ef2c1dc3f84d17b1c2c570c3655d16959', 'message': 'update constraint for openstack-release-test to new release 0.14.1\n\nChange-Id: I6f384bd2a213710376a5218062c99216024ec479\nmeta:version: 0.14.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Commit: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Change-Id: Id38a4f14181e48d30aecc037892e3e4b8797b870\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564573,e7d9b50ef2c1dc3f84d17b1c2c570c3655d16959,2,0,1,11131,,,0,"update constraint for openstack-release-test to new release 0.14.1

Change-Id: I6f384bd2a213710376a5218062c99216024ec479
meta:version: 0.14.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: Id38a4f14181e48d30aecc037892e3e4b8797b870
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/564573/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e7d9b50ef2c1dc3f84d17b1c2c570c3655d16959,new-release,openstack-release-test===0.14.1,openstack-release-test===0.14.0,1,1
openstack%2Fironic-python-agent~master~I511252b535ed333a7ea7271801fda47d84754681,openstack/ironic-python-agent,master,I511252b535ed333a7ea7271801fda47d84754681,WIP: Validate disk size according to image.min_disk(if provided),NEW,2018-04-26 16:29:44.000000000,2018-04-26 17:56:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-26 16:29:44.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c000de643269ff95d6a3fe4893f2445b43fe700e', 'message': 'WIP: Validate disk size according to image.min_disk(if provided)\n\nStory: 1751158\n\nDepends-on: https://review.openstack.org/564551\nChange-Id: I511252b535ed333a7ea7271801fda47d84754681\n'}]",0,564553,c000de643269ff95d6a3fe4893f2445b43fe700e,2,1,1,28032,,,0,"WIP: Validate disk size according to image.min_disk(if provided)

Story: 1751158

Depends-on: https://review.openstack.org/564551
Change-Id: I511252b535ed333a7ea7271801fda47d84754681
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/564553/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,c000de643269ff95d6a3fe4893f2445b43fe700e,,"from oslo_utils import units dev_name = utils.guess_root_disk( block_devices, min_size_required=cached_node[ 'instance_info' ].get('min_disk', 4 * units.Gi) ).name", dev_name = utils.guess_root_disk(block_devices).name,7,1
openstack%2Freleases~master~Id38a4f14181e48d30aecc037892e3e4b8797b870,openstack/releases,master,Id38a4f14181e48d30aecc037892e3e4b8797b870,release-test 0.14.1,MERGED,2018-04-26 17:39:11.000000000,2018-04-26 17:52:46.000000000,2018-04-26 17:52:46.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 17:39:11.000000000', 'files': ['deliverables/rocky/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/60d6317d21b62761180637627c806567bc970684', 'message': 'release-test 0.14.1\n\nChange-Id: Id38a4f14181e48d30aecc037892e3e4b8797b870\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564568,60d6317d21b62761180637627c806567bc970684,6,2,1,2472,,,0,"release-test 0.14.1

Change-Id: Id38a4f14181e48d30aecc037892e3e4b8797b870
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/564568/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/release-test.yaml'],1,60d6317d21b62761180637627c806567bc970684,release-test-0-14-1, - projects: - hash: 59b47a6d8e73f9bb11c666492b73bf07bfd124a5 repo: openstack/release-test tarball-base: openstack-release-test version: 0.14.1,,5,0
openstack%2Fnetworking-calico~master~I3fe99cdd21f9aeeeef27b124c950560523fb81d1,openstack/networking-calico,master,I3fe99cdd21f9aeeeef27b124c950560523fb81d1,Always send high-priority port statuses to Neutron,MERGED,2018-04-26 09:42:49.000000000,2018-04-26 17:45:19.000000000,2018-04-26 17:45:19.000000000,"[{'_account_id': 13734}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 09:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/720ea1a9e3f9475438f308c8cbf6d17ce08d1987', 'message': 'Always send high-priority port statuses to Neutron\n\nHigh priority port status updates happne because Felix\nmade an update to the status in etcd and Felix only does\nthat if it saw the port change state.\n\nSince a port may change state outside of our plugin (for\nexample due to a VM rebuild), assume that any change Felix\nspots needs to be reported to Neutron.\n\nChange-Id: I3fe99cdd21f9aeeeef27b124c950560523fb81d1\n'}, {'number': 2, 'created': '2018-04-26 09:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/fd8a460a665ca9edba3cb215a2e94b9278df92b0', 'message': 'Always send high-priority port statuses to Neutron\n\nHigh priority port status updates happen because Felix\nmade an update to the status in etcd and Felix only does\nthat if it saw the port change state.\n\nSince a port may change state outside of our plugin (for\nexample due to a VM rebuild), assume that any change Felix\nspots needs to be reported to Neutron.\n\nChange-Id: I3fe99cdd21f9aeeeef27b124c950560523fb81d1\n'}, {'number': 3, 'created': '2018-04-26 14:49:05.000000000', 'files': ['networking_calico/plugins/ml2/drivers/calico/test/test_plugin_etcd.py', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/7bfe655fba008e57971ee7ebde14bcd0c236ea53', 'message': 'Always send high-priority port statuses to Neutron\n\nHigh priority port status updates happen because Felix\nmade an update to the status in etcd and Felix only does\nthat if it saw the port change state.\n\nSince a port may change state outside of our plugin (for\nexample due to a VM rebuild), assume that any change Felix\nspots needs to be reported to Neutron.\n\nChange-Id: I3fe99cdd21f9aeeeef27b124c950560523fb81d1\n'}]",1,564431,7bfe655fba008e57971ee7ebde14bcd0c236ea53,14,2,3,19461,,,0,"Always send high-priority port statuses to Neutron

High priority port status updates happen because Felix
made an update to the status in etcd and Felix only does
that if it saw the port change state.

Since a port may change state outside of our plugin (for
example due to a VM rebuild), assume that any change Felix
spots needs to be reported to Neutron.

Change-Id: I3fe99cdd21f9aeeeef27b124c950560523fb81d1
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/31/564431/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_calico/plugins/ml2/drivers/calico/test/test_plugin_etcd.py', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py']",2,720ea1a9e3f9475438f308c8cbf6d17ce08d1987,fix-rebuild-vm," # Check whether this update gives us new information to pass to # Neutron. ""high"" priority updates come from changes spotted by Felix, # including interface flaps caused by, for example, VM rebuild. In # those cases, we may be out-of-sync with Neutron because the # port can be marked as down/removed by another component. # # ""low"" priority updates come from datastore resyncs. In those cases # we rely on our cache of port status to avoid spamming Neutron with # many no-op updates. if (priority == ""high"" or self._port_status_cache.get(port_status_key) != calico_status): LOG.info(' port status changed from %s to %s, no action.', original.get(""status""), port.get(""status""))"," if self._port_status_cache.get(port_status_key) != calico_status: LOG.info('Called for port status change, no action.')",33,4
openstack%2Foslotest~master~I5e106592e0df1d8cdb058e578cc423123f6a5b47,openstack/oslotest,master,I5e106592e0df1d8cdb058e578cc423123f6a5b47,Trivial: Update pypi url to new url,MERGED,2018-04-21 04:12:59.000000000,2018-04-26 17:37:22.000000000,2018-04-26 17:37:22.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 04:12:59.000000000', 'files': ['doc/source/user/debugging.rst', 'oslotest/base.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/93d87e25ec79ffd81a9eaca1d1aa4dc8691de94c', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I5e106592e0df1d8cdb058e578cc423123f6a5b47\n'}]",0,563381,93d87e25ec79ffd81a9eaca1d1aa4dc8691de94c,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I5e106592e0df1d8cdb058e578cc423123f6a5b47
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/81/563381/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/debugging.rst', 'oslotest/base.py']",2,93d87e25ec79ffd81a9eaca1d1aa4dc8691de94c,pypi-url, .. _fixtures: https://pypi.org/project/fixtures, .. _fixtures: https://pypi.python.org/pypi/fixtures,2,2
openstack%2Frelease-test~master~I4eac8b6ff83ed99cc9009ff511114a20bc90328f,openstack/release-test,master,I4eac8b6ff83ed99cc9009ff511114a20bc90328f,use python 3 by default,MERGED,2018-04-26 17:36:08.000000000,2018-04-26 17:36:30.000000000,2018-04-26 17:36:29.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 17:36:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/release-test/commit/59b47a6d8e73f9bb11c666492b73bf07bfd124a5', 'message': 'use python 3 by default\n\nChange-Id: I4eac8b6ff83ed99cc9009ff511114a20bc90328f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564567,59b47a6d8e73f9bb11c666492b73bf07bfd124a5,7,2,1,2472,,,0,"use python 3 by default

Change-Id: I4eac8b6ff83ed99cc9009ff511114a20bc90328f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/release-test refs/changes/67/564567/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59b47a6d8e73f9bb11c666492b73bf07bfd124a5,python3,basepython = python3[testenv:py27] basepython = python2.7 ,,4,0
openstack%2Foslo.i18n~master~Ic3dd7d69451fe7f3dee0f65ed71f55c330722065,openstack/oslo.i18n,master,Ic3dd7d69451fe7f3dee0f65ed71f55c330722065,Trivial: Update pypi url to new url,MERGED,2018-04-21 04:18:04.000000000,2018-04-26 17:35:58.000000000,2018-04-26 17:35:58.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 04:18:04.000000000', 'files': ['doc/source/user/usage.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/2a12533a0276699c160764562a5a28f8c9084dee', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ic3dd7d69451fe7f3dee0f65ed71f55c330722065\n'}]",0,563382,2a12533a0276699c160764562a5a28f8c9084dee,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ic3dd7d69451fe7f3dee0f65ed71f55c330722065
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/82/563382/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/usage.rst', 'README.rst']",2,2a12533a0276699c160764562a5a28f8c9084dee,pypi-url, :target: https://pypi.org/project/oslo.i18n/ :target: https://pypi.org/project/oslo.i18n/, :target: https://pypi.python.org/pypi/oslo.i18n/ :target: https://pypi.python.org/pypi/oslo.i18n/,3,3
openstack%2Foslo.tools~master~I2c0bf3844e9c56f78269ac1746c780b640dd1e9c,openstack/oslo.tools,master,I2c0bf3844e9c56f78269ac1746c780b640dd1e9c,Trivial: Update pypi url to new url,MERGED,2018-04-21 05:27:43.000000000,2018-04-26 17:27:04.000000000,2018-04-26 17:27:03.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 05:27:43.000000000', 'files': ['analyze-oslo.sh', 'oslobot/plugins/oslobot/oslobot.py'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/a770c21c06471e4726e20e5ca126e34184e42eaa', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I2c0bf3844e9c56f78269ac1746c780b640dd1e9c\n'}]",0,563389,a770c21c06471e4726e20e5ca126e34184e42eaa,6,2,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I2c0bf3844e9c56f78269ac1746c780b640dd1e9c
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/89/563389/1 && git format-patch -1 --stdout FETCH_HEAD,"['analyze-oslo.sh', 'oslobot/plugins/oslobot/oslobot.py']",2,a770c21c06471e4726e20e5ca126e34184e42eaa,pypi-url, # See: https://pypi.org/project/tabulate, # See: https://pypi.python.org/pypi/tabulate,2,2
openstack%2Ftripleo-ui~master~I8fcb7c7d96c13101c00c5427092ae2d7503f65ca,openstack/tripleo-ui,master,I8fcb7c7d96c13101c00c5427092ae2d7503f65ca,Reenable the undercloud jobs,MERGED,2017-12-07 15:25:07.000000000,2018-04-26 17:13:18.000000000,2018-04-26 17:13:18.000000000,"[{'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 7509}, {'_account_id': 10112}, {'_account_id': 13039}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-07 15:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5551244c77e9d478fccb90f755066534a587d1a5', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 2, 'created': '2017-12-07 15:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/44900bc29fa55b061e9f0afc2b102ae89d8aa1f7', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 3, 'created': '2017-12-07 16:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/a17d957199e9084d25e6f1b9656660d9a00845f7', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 4, 'created': '2018-01-04 16:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/05e854eb73d0c347b0d4463c9100155a367c7d82', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 5, 'created': '2018-01-04 16:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/4114a5190942aeacb1081af1896dbf78a548549c', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 6, 'created': '2018-01-04 16:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/c16318526d54dc85907e0d99abfdaa8729ce82c9', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 7, 'created': '2018-01-04 16:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/865e19d841fb6568d5347f4279d2f3a915d55c91', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 8, 'created': '2018-01-04 16:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/8348d0b8227a3fc70eff38e675706b58b5c0eff8', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 9, 'created': '2018-01-04 16:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/b222505a6c057f08debdf5a1de783154dbbcb922', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 10, 'created': '2018-01-05 15:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/198222d48acf3d6b5bf50654f7810d70f85ab2c9', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 11, 'created': '2018-01-05 16:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/80ac7ed8b63f78a43981670bb1711fc7567d4fad', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 12, 'created': '2018-01-05 16:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/362ae727e282dec832ff1cc7c7fff847693f963f', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 13, 'created': '2018-01-18 13:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7451e2a86584d39ee76de71d8c467ec149dc6269', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 14, 'created': '2018-01-29 08:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/10a0a16e9350532bb1cf1091d32a420af84fafce', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 15, 'created': '2018-02-20 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/f40edde59ff6091ceb4cc2f6aa3e0edc7753b124', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 16, 'created': '2018-04-12 09:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/25fbcb5a8c6e2f08d13180b3a6c5145d0fa439cd', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}, {'number': 17, 'created': '2018-04-26 12:39:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/6e3af1d1ecd2b35b84557a8c08f0295f551b1a75', 'message': 'Reenable the undercloud jobs\n\nThe undercloud jobs do a sanity check that the UI does work after\ninstalling it via puppet and RPMs, during a regular undercloud\ninstall. The test was set up as part of the basic-ci-check blueprint\n[1] (although nowadays the check is probably directly run as part of\nquickstart [2]).\n\nThis also lets us test that the tripleo-ui RPM gets created correctly.\n\nThis job used to run on tripleo-ui but was likely lost during the\nmigration to zuulv3 once the legacy jobs went away.\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check\n[2] https://review.openstack.org/#/c/514795/\n\nChange-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca\n'}]",4,526430,6e3af1d1ecd2b35b84557a8c08f0295f551b1a75,56,8,17,4978,,,0,"Reenable the undercloud jobs

The undercloud jobs do a sanity check that the UI does work after
installing it via puppet and RPMs, during a regular undercloud
install. The test was set up as part of the basic-ci-check blueprint
[1] (although nowadays the check is probably directly run as part of
quickstart [2]).

This also lets us test that the tripleo-ui RPM gets created correctly.

This job used to run on tripleo-ui but was likely lost during the
migration to zuulv3 once the legacy jobs went away.

[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ui-basic-ci-check
[2] https://review.openstack.org/#/c/514795/

Change-Id: I8fcb7c7d96c13101c00c5427092ae2d7503f65ca
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/30/526430/16 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5551244c77e9d478fccb90f755066534a587d1a5,enable-undercloud-jobs,- project: name: openstack/tripleo-ui templates: - tripleo-undercloud-jobs check: jobs: - tripleo-undercloud-jobs: files: - ^src/.*$ gate: queue: tripleo jobs: - tripleo-undercloud-jobs: files: - ^src/.*$ ,,15,0
openstack%2Freleases~master~I9ce968eb244f1e84c90702a0c554b97bb572ac71,openstack/releases,master,I9ce968eb244f1e84c90702a0c554b97bb572ac71,add libre2-dev to bindep for fb-re2 module used by zuul,MERGED,2018-04-26 16:47:55.000000000,2018-04-26 17:09:02.000000000,2018-04-26 17:09:02.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 16:47:55.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b5672ebeff73a25108bd97458074870acb29752', 'message': ""add libre2-dev to bindep for fb-re2 module used by zuul\n\nWe only add this to the releases repo because we're moving the announce\nscript here.\n\nSee\nhttp://logs.openstack.org/78/781365248a70e729a0c58281e664bd3457801858/release/announce-release/71e06b3/job-output.txt.gz#_2018-04-26_13_34_07_509597\n\nNeeded-By: https://review.openstack.org/#/c/564329/\nChange-Id: I9ce968eb244f1e84c90702a0c554b97bb572ac71\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,564558,0b5672ebeff73a25108bd97458074870acb29752,6,2,1,2472,,,0,"add libre2-dev to bindep for fb-re2 module used by zuul

We only add this to the releases repo because we're moving the announce
script here.

See
http://logs.openstack.org/78/781365248a70e729a0c58281e664bd3457801858/release/announce-release/71e06b3/job-output.txt.gz#_2018-04-26_13_34_07_509597

Needed-By: https://review.openstack.org/#/c/564329/
Change-Id: I9ce968eb244f1e84c90702a0c554b97bb572ac71
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/564558/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0b5672ebeff73a25108bd97458074870acb29752,re2-bindep,libre2-dev [platform:ubuntu],,1,0
openstack%2Fansible-role-container-registry~master~I333f3701beee0d36854bcbd6b05d367941d68723,openstack/ansible-role-container-registry,master,I333f3701beee0d36854bcbd6b05d367941d68723,First commit in Gerrit,MERGED,2018-04-26 13:50:52.000000000,2018-04-26 16:51:45.000000000,2018-04-26 16:51:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 13:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/9a813d0546bb64fb7f5d7d00d913b929465a9c39', 'message': 'First commit in Gerrit\n\n- Add .gitreview\n\nChange-Id: I333f3701beee0d36854bcbd6b05d367941d68723\n'}, {'number': 2, 'created': '2018-04-26 16:09:13.000000000', 'files': ['ansible-requirements.txt', 'requirements.txt', '.gitignore', '.gitreview', 'test-requirements.txt', 'setup.py', 'setup.cfg', 'ci-scripts/ansible-lint.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/832ffd9c279a7967913c3eef54aaecc3c614a714', 'message': 'First commit in Gerrit\n\n- Add .gitreview\n- Add tox configuration\n- Add .gitignore\n- Add requirements and test-requirements.txt\n- Ass setup files\n- Add ci-scripts for ansible-lint\n\nChange-Id: I333f3701beee0d36854bcbd6b05d367941d68723\n'}]",0,564510,832ffd9c279a7967913c3eef54aaecc3c614a714,8,2,2,3153,,,0,"First commit in Gerrit

- Add .gitreview
- Add tox configuration
- Add .gitignore
- Add requirements and test-requirements.txt
- Ass setup files
- Add ci-scripts for ansible-lint

Change-Id: I333f3701beee0d36854bcbd6b05d367941d68723
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/10/564510/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9a813d0546bb64fb7f5d7d00d913b929465a9c39,first,[gerrit] host=review.openstack.org port=29418 project=openstack/ansible-role-container-registry.git ,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df,openstack/tripleo-heat-templates,stable/queens,Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df,Make pcs resource bundle image name update tolerant of rerun,MERGED,2018-04-23 12:00:05.000000000,2018-04-26 16:43:44.000000000,2018-04-26 16:43:44.000000000,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-23 12:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d75ab09d136743ad2865d7c9dd0a6a4dd16d166', 'message': ""Make pcs resource bundle image name update tolerant of rerun\n\nThe parent review at Ic87a66753b104b9f15db70fdccbd66d88cef94df\nallows us to update the name for pcs resource bundle resources\nif this is changed as part of the upgrade configuration.\n\nIf the upgrade is interrupted the target pacemaker resource bundle\nmay not even have been created yet. This groups stop/update/start\nthe bundle resource and adds a new conditional to check if the\ncluster resource exists before trying to update the container\nimage being used. Otherwise a re-run of the upgrade tasks may\nfail if the cluster resource doesn't exist.\n\nRelated-Bug: 1763001\nChange-Id: Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df\n""}, {'number': 2, 'created': '2018-04-26 06:13:14.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12a10617ad53830ea5e390fbbcbf96e0bd1e6a9d', 'message': ""Make pcs resource bundle image name update tolerant of rerun\n\nThe parent review at Ic87a66753b104b9f15db70fdccbd66d88cef94df\nallows us to update the name for pcs resource bundle resources\nif this is changed as part of the upgrade configuration.\n\nIf the upgrade is interrupted the target pacemaker resource bundle\nmay not even have been created yet. This groups stop/update/start\nthe bundle resource and adds a new conditional to check if the\ncluster resource exists before trying to update the container\nimage being used. Otherwise a re-run of the upgrade tasks may\nfail if the cluster resource doesn't exist.\n\nRelated-Bug: 1763001\n(cherry picked from commit 8530dd9ddca1b15de6be9343e63fd1e96493cd44)\nChange-Id: Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df\n""}]",0,563588,12a10617ad53830ea5e390fbbcbf96e0bd1e6a9d,13,4,2,8297,,,0,"Make pcs resource bundle image name update tolerant of rerun

The parent review at Ic87a66753b104b9f15db70fdccbd66d88cef94df
allows us to update the name for pcs resource bundle resources
if this is changed as part of the upgrade configuration.

If the upgrade is interrupted the target pacemaker resource bundle
may not even have been created yet. This groups stop/update/start
the bundle resource and adds a new conditional to check if the
cluster resource exists before trying to update the container
image being used. Otherwise a re-run of the upgrade tasks may
fail if the cluster resource doesn't exist.

Related-Bug: 1763001
(cherry picked from commit 8530dd9ddca1b15de6be9343e63fd1e96493cd44)
Change-Id: Ifc6f78d73bc71a5b5edfadfbfacaa3560fe7c2df
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/563588/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml']",7,1d75ab09d136743ad2865d7c9dd0a6a4dd16d166,bug/1763001-stable/queens," - name: Check openstack-manila-share cluster resource status state: show check_mode: false ignore_errors: true register: manila_share_pcs_res - name: Update openstack-manila-share pcs resource bundle for new container image - manila_share_pcs_res|succeeded block: - name: Disable the Manila-Share cluster resource before container upgrade pacemaker_resource: resource: openstack-manila-share state: disable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Update the Manila-Share bundle to use the new container image name command: ""pcs resource bundle update openstack-manila-share container image={{manila_share_docker_image_latest}}"" - name: Enable the Manila-Share cluster resource pacemaker_resource: resource: openstack-manila-share state: enable wait_for_resource: true register: output retries: 5 until: output.rc == 0"," - name: Disable the Manila-Share cluster resource before container upgrade when: - step|int == 1 - manila_share_containerized|bool - is_bootstrap_node state: disable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Update the Manila-Share bundle to use the new container image name command: ""pcs resource bundle update openstack-manila-share container image={{manila_share_docker_image_latest}}"" - name: Enable the Manila-Share cluster resource when: - step|int == 1 - manila_share_containerized|bool - is_bootstrap_node pacemaker_resource: resource: openstack-manila-share state: enable wait_for_resource: true register: output retries: 5 until: output.rc == 0",239,237
openstack%2Fmox3~master~Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9,openstack/mox3,master,Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9,fix a typo in documentation,MERGED,2018-03-23 00:17:18.000000000,2018-04-26 16:41:24.000000000,2018-04-26 16:41:24.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mox3/commit/0dc8438e81951db1f94d37892ee32a9709ee46ce', 'message': 'fix a tyop in documentation\n\nChange-Id: Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9\n'}, {'number': 2, 'created': '2018-03-29 05:21:40.000000000', 'files': ['mox3/tests/test_mox.py'], 'web_link': 'https://opendev.org/openstack/mox3/commit/6dc7c79edb4d2b4e894423b98af1a73941e01b3b', 'message': 'fix a typo in documentation\n\nChange-Id: Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9\n'}]",1,555528,6dc7c79edb4d2b4e894423b98af1a73941e01b3b,12,3,2,17130,,,0,"fix a typo in documentation

Change-Id: Ib7db8c3e75eee9651acce471cdc5eb7b05b3afd9
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/28/555528/2 && git format-patch -1 --stdout FETCH_HEAD,['mox3/tests/test_mox.py'],1,0dc8438e81951db1f94d37892ee32a9709ee46ce,trivialfix," """"""Should be properly overridden in a derived class."""""""," """"""Should be properly overriden in a derived class.""""""",1,1
openstack%2Fironic-tempest-plugin~master~If1788fc1edd98c3d909f39d50a85c598594e6fc8,openstack/ironic-tempest-plugin,master,If1788fc1edd98c3d909f39d50a85c598594e6fc8,Run ironic-inspector discovery jobs in the CI,MERGED,2018-03-28 10:32:00.000000000,2018-04-26 16:35:57.000000000,2018-04-26 16:35:57.000000000,"[{'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 10:32:00.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/fe0819a019a30ea958a89a259179537192c9c18c', 'message': 'Run ironic-inspector discovery jobs in the CI\n\nThese jobs have a separate set of scenario tests.\n\nDepends-On: I69d91ac4b00dabfd917f097d70f0b38e0a4fc4c6\nChange-Id: If1788fc1edd98c3d909f39d50a85c598594e6fc8\n'}]",0,557292,fe0819a019a30ea958a89a259179537192c9c18c,11,4,1,10239,,,0,"Run ironic-inspector discovery jobs in the CI

These jobs have a separate set of scenario tests.

Depends-On: I69d91ac4b00dabfd917f097d70f0b38e0a4fc4c6
Change-Id: If1788fc1edd98c3d909f39d50a85c598594e6fc8
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/92/557292/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",2,fe0819a019a30ea958a89a259179537192c9c18c,discovery, - ironic-inspector-tempest-dsvm-discovery - ironic-inspector-tempest-dsvm-discovery-queens - ironic-inspector-tempest-dsvm-discovery-pike - ironic-inspector-tempest-dsvm-discovery-ocata - ironic-inspector-tempest-dsvm-discovery - ironic-inspector-tempest-dsvm-discovery-queens - ironic-inspector-tempest-dsvm-discovery-pike - ironic-inspector-tempest-dsvm-discovery-ocata,,23,0
openstack%2Fopenstack-zuul-jobs~master~Ibbee039fd1b784d2c4135120793378acb3193814,openstack/openstack-zuul-jobs,master,Ibbee039fd1b784d2c4135120793378acb3193814,update the announce-release job to look in releases repo for tools,MERGED,2018-04-25 19:41:00.000000000,2018-04-26 16:25:59.000000000,2018-04-26 16:25:59.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-25 19:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f912f784dd79bd4ace7b874207979a425e989577', 'message': 'update the announce-release job to look in releases repo for tools\n\nWe are consolidating the release tools into the releases repo to\nsimplify things and make it possible to test some of the tools against\nproposed releases. This change updates the playbook to use the version\nof the announce.sh script that is moving into openstack/releases.\n\nChange-Id: Ibbee039fd1b784d2c4135120793378acb3193814\nStory: #2001816\nTask: #14442\nDepends-On: https://review.openstack.org/564327\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-25 19:58:49.000000000', 'files': ['playbooks/release/announce.yaml', 'playbooks/release/pre.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f36e1c67768a77868ecd186c42a7db2c02cf6ec6', 'message': 'update the announce-release job to look in releases repo for tools\n\nWe are consolidating the release tools into the releases repo to\nsimplify things and make it possible to test some of the tools against\nproposed releases. This change updates the playbook to use the version\nof the announce.sh script that is moving into openstack/releases and\nto look at the bindep.txt file already in the releases repo.\n\nChange-Id: Ibbee039fd1b784d2c4135120793378acb3193814\nStory: #2001816\nTask: #14442\nDepends-On: https://review.openstack.org/564327\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,564329,f36e1c67768a77868ecd186c42a7db2c02cf6ec6,12,5,2,2472,,,0,"update the announce-release job to look in releases repo for tools

We are consolidating the release tools into the releases repo to
simplify things and make it possible to test some of the tools against
proposed releases. This change updates the playbook to use the version
of the announce.sh script that is moving into openstack/releases and
to look at the bindep.txt file already in the releases repo.

Change-Id: Ibbee039fd1b784d2c4135120793378acb3193814
Story: #2001816
Task: #14442
Depends-On: https://review.openstack.org/564327
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/29/564329/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/release/announce.yaml', 'zuul.d/jobs.yaml']",2,f912f784dd79bd4ace7b874207979a425e989577,move-announce-script, - openstack/releases, - openstack-infra/release-tools,2,2
openstack%2Fapi-sig~master~If13a5a19ff077cd9a2c9c400c24af70ea6f818d9,openstack/api-sig,master,If13a5a19ff077cd9a2c9c400c24af70ea6f818d9,Add guidance on needing cache-control headers,MERGED,2018-03-07 13:11:04.000000000,2018-04-26 16:24:24.000000000,2018-04-26 16:24:24.000000000,"[{'_account_id': 2}, {'_account_id': 330}, {'_account_id': 841}, {'_account_id': 1063}, {'_account_id': 2537}, {'_account_id': 5754}, {'_account_id': 7173}, {'_account_id': 7725}, {'_account_id': 7973}, {'_account_id': 8188}, {'_account_id': 8246}, {'_account_id': 8731}, {'_account_id': 8878}, {'_account_id': 9622}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 10239}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 12053}, {'_account_id': 12175}, {'_account_id': 12356}, {'_account_id': 12404}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/f0803971541c74f6e4e2fde48d1fe5e09ee17630', 'message': 'Add guidance on needing cache-control headers\n\nThis adds some practical guidance to the existing section on caching\nto make it clear that where responses are not making explicit\nassertions about controlling cache, they MUST ""cache-control: no-cache""\n\nChange-Id: If13a5a19ff077cd9a2c9c400c24af70ea6f818d9\nCloses-Bug: #1747935\n'}, {'number': 2, 'created': '2018-03-12 17:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/baf698027f1e2c26a76ffddd7d4c311fc2231e71', 'message': 'Add guidance on needing cache-control headers\n\nThis adds some practical guidance to the existing section on caching\nto make it clear that where responses are not making explicit\nassertions about controlling cache, they MUST ""cache-control: no-cache""\n\nChange-Id: If13a5a19ff077cd9a2c9c400c24af70ea6f818d9\nCloses-Bug: #1747935\n'}, {'number': 3, 'created': '2018-03-28 09:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/eb69b08a38866d96015118facc38acf20371baed', 'message': 'Add guidance on needing cache-control headers\n\nThis adds some practical guidance to the existing section on caching\nto make it clear that where responses are not making explicit\nassertions about controlling cache, they MUST ""cache-control: no-cache""\n\nChange-Id: If13a5a19ff077cd9a2c9c400c24af70ea6f818d9\nCloses-Bug: #1747935\n'}, {'number': 4, 'created': '2018-04-12 20:47:44.000000000', 'files': ['guidelines/http/caching.rst'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/b585c8485d86c2ec9bc19d9f99ab442f9b375374', 'message': 'Add guidance on needing cache-control headers\n\nThis adds some practical guidance to the existing section on caching\nto make it clear that where responses are not making explicit\nassertions about controlling cache, they MUST ""cache-control: no-cache""\n\nChange-Id: If13a5a19ff077cd9a2c9c400c24af70ea6f818d9\nCloses-Bug: #1747935\n'}]",0,550468,b585c8485d86c2ec9bc19d9f99ab442f9b375374,22,25,4,11564,,,0,"Add guidance on needing cache-control headers

This adds some practical guidance to the existing section on caching
to make it clear that where responses are not making explicit
assertions about controlling cache, they MUST ""cache-control: no-cache""

Change-Id: If13a5a19ff077cd9a2c9c400c24af70ea6f818d9
Closes-Bug: #1747935
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/68/550468/1 && git format-patch -1 --stdout FETCH_HEAD,['guidelines/http.rst'],1,f0803971541c74f6e4e2fde48d1fe5e09ee17630,bug/1747935,"design point to allow HTTP to work at high scale, defined by :rfc:`7234`.Cache Headers in Practice ~~~~~~~~~~~~~~~~~~~~~~~~~ Given what is said above (""caching [...] is to be expected in all cases"") services MUST provide appropriate ``Cache-Control`` headers to avoid bugs like those described in `1747935 <https://bugs.launchpad.net/openstack-api-wg/+bug/1747935>`_ wherein an intermediary proxy caches a response indefinitely, despite a change in the underlying resource. To avoid this problem, at a minimum, responses defined above as ""cacheable"" that do not otherwise control caching MUST include a header of:: Cache-Control: no-cache Despite how it sounds ``no-cache`` (defined by :rfc:`7234#section-5.2.1.4`) means only use a cached version if can be validated against the origin server. However, in the absence of headers which can be sent back to the server in an ``If-Modified-Since`` or ``If-None-Match`` conditional request, ``no-cache`` means no caching will happen. For more on validation seen :rfc:`7234#section-4.3`. This means that at least all responses to ``GET`` requests that return a ``200`` status need the header, unless explicit caching requirements are expressed in the response. MDN provides a good overview of the `Cache-Control header <https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control>`_ and provides some guidance on ways to indicate that caching is desired. If caching is expected, in addition to the ``Cache-Control`` header, headers such as ``ETag`` or ``Last-Modified`` must also be present. Describing how to do cache validation and conditional request handling is out of scope for these guidelines because the requirements will be different from service to service. ",design point to allow HTTP to work at high scale.,37,1
openstack%2Foslotest~master~Icd96beba5a32001cf33f075b801471c6e7c75898,openstack/oslotest,master,Icd96beba5a32001cf33f075b801471c6e7c75898,mock: Apply autospec to a mock's return_value,MERGED,2018-03-30 10:48:29.000000000,2018-04-26 16:11:08.000000000,2018-04-26 16:11:08.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8213}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 10:48:29.000000000', 'files': ['oslotest/mock_fixture.py', 'oslotest/tests/unit/test_mock_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/6baff0eda4edbd8163426a2ac774514cabf99a3a', 'message': ""mock: Apply autospec to a mock's return_value\n\nWhen creating a mock with a class as an autospec:\n\nmock_foo = mock.Mock(autospec=FooClass)\n\nThe autospec is only applied to mock_foo itself, and it will\nbehave as expected. However, the autospec is not applied to its\nreturn_value and thus, the method validation is not enforced:\n\nmock_foo().lish(some_argument_which_doesnt_exist=42)\n\nThis patch addresses this issue, and adds necessary unit tests to\ntest this behaviour.\n\nChange-Id: Icd96beba5a32001cf33f075b801471c6e7c75898\nRelated-Bug: #1735588\n""}]",0,557923,6baff0eda4edbd8163426a2ac774514cabf99a3a,11,5,1,8213,,,0,"mock: Apply autospec to a mock's return_value

When creating a mock with a class as an autospec:

mock_foo = mock.Mock(autospec=FooClass)

The autospec is only applied to mock_foo itself, and it will
behave as expected. However, the autospec is not applied to its
return_value and thus, the method validation is not enforced:

mock_foo().lish(some_argument_which_doesnt_exist=42)

This patch addresses this issue, and adds necessary unit tests to
test this behaviour.

Change-Id: Icd96beba5a32001cf33f075b801471c6e7c75898
Related-Bug: #1735588
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/23/557923/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslotest/mock_fixture.py', 'oslotest/tests/unit/test_mock_fixture.py']",2,6baff0eda4edbd8163426a2ac774514cabf99a3a,bug/1735588, self._check_autospeced_foo(foo()),,8,1
openstack%2Fcharm-nova-cloud-controller~master~I4234326156ef62be19e3766e5ca60043a9132e20,openstack/charm-nova-cloud-controller,master,I4234326156ef62be19e3766e5ca60043a9132e20,Re-enable nova-consoleauth service if single-nova-consoleauth set to False.,ABANDONED,2017-07-21 17:41:40.000000000,2018-04-26 16:03:22.000000000,,"[{'_account_id': 3}, {'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-07-21 17:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3b9ee6396ed121e2f98e8f916c39f25ccdfda0be', 'message': ""Re-enable nova-consoleauth service if single-nova-consoleauth set to False.\n\nIf the configuration directive 'single-nova-consoleauth' is set\nto False after being declared as True (default) and the HA relation\nis made, we restore (resume) the service to make it available at\nboot time again.\n\nChange-Id: I4234326156ef62be19e3766e5ca60043a9132e20\nCloses-Bug: #1705514\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 2, 'created': '2017-07-21 17:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/bdca05baeb526ea22d55ca703dbee7b1c8a16b5a', 'message': ""Re-enable nova-consoleauth service if single-nova-consoleauth set to False.\n\nIf the configuration directive 'single-nova-consoleauth' is set\nto False after being declared as True (default) and the HA relation\nis made, we restore (resume) the service to make it available at\nboot time again.\n\nChange-Id: I4234326156ef62be19e3766e5ca60043a9132e20\nCloses-Bug: #1705514\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 3, 'created': '2017-07-25 18:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a603d2ec4a9ae6844737164e0b8b9c2da76dca70', 'message': ""Re-enable nova-consoleauth service if single-nova-consoleauth set to False.\n\nIf the configuration directive 'single-nova-consoleauth' is set\nto False after being declared as True (default) and the HA relation\nis made, we restore (resume) the service to make it available at\nboot time again.\n\nChange-Id: I4234326156ef62be19e3766e5ca60043a9132e20\nCloses-Bug: #1705514\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}, {'number': 4, 'created': '2017-07-25 19:02:26.000000000', 'files': ['unit_tests/test_utils.py', 'unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a99188c8c927fcf4eb963d66b72427775124aab8', 'message': ""Re-enable nova-consoleauth service if single-nova-consoleauth set to False.\n\nIf the configuration directive 'single-nova-consoleauth' is set\nto False after being declared as True (default) and the HA relation\nis made, we restore (resume) the service to make it available at\nboot time again.\n\nChange-Id: I4234326156ef62be19e3766e5ca60043a9132e20\nCloses-Bug: #1705514\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}]",2,486186,a99188c8c927fcf4eb963d66b72427775124aab8,18,4,4,2276,,,0,"Re-enable nova-consoleauth service if single-nova-consoleauth set to False.

If the configuration directive 'single-nova-consoleauth' is set
to False after being declared as True (default) and the HA relation
is made, we restore (resume) the service to make it available at
boot time again.

Change-Id: I4234326156ef62be19e3766e5ca60043a9132e20
Closes-Bug: #1705514
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/86/486186/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_utils.py', 'unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",3,3b9ee6396ed121e2f98e8f916c39f25ccdfda0be,bug/1705514," service_resume, single_consoleauth = config('single-nova-consoleauth') # Per LP: #1705514 the service needs to be re-enabled if # the current value is set to False but the previous value was set to True (causing # a service_pause). if relation_ids('ha') and not single_consoleauth and config().previous('single-nova-consoleauth'): service_resume('nova-consoleauth') if single_consoleauth and console_attributes('protocol'): elif (not single_consoleauth and console_attributes('protocol')):", if config('single-nova-consoleauth') and console_attributes('protocol'): elif (not config('single-nova-consoleauth') and console_attributes('protocol')):,57,5
openstack%2Fcharm-neutron-gateway~master~I2e08a2de9e4ae8139ab8e4be131631883652d029,openstack/charm-neutron-gateway,master,I2e08a2de9e4ae8139ab8e4be131631883652d029,Apparmor profiles for Queens,MERGED,2018-04-25 21:38:20.000000000,2018-04-26 15:49:39.000000000,2018-04-26 15:06:50.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 21:38:20.000000000', 'files': ['templates/usr.bin.neutron-metering-agent', 'templates/usr.bin.neutron-metadata-agent', 'templates/usr.bin.neutron-l3-agent', 'templates/usr.bin.neutron-openvswitch-agent', 'templates/usr.bin.neutron-dhcp-agent', 'templates/usr.bin.neutron-lbaasv2-agent', 'templates/usr.bin.nova-api-metadata'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/a59b4d606fcdf647b89906b437fb4e79d74481ee', 'message': 'Apparmor profiles for Queens\n\nApparmor profiles were limiting queens deployments of neutron-gateway\nwhen aa-profile-mode was set to enforce. It led to failed instance\ndeployments due to neutron agents failing to execute their necessary\nfunctions.\n\nThis change updates the profiles to be Queens ready.\n\nCloses-Bug: #1761536\n\nChange-Id: I2e08a2de9e4ae8139ab8e4be131631883652d029\n'}]",0,564347,a59b4d606fcdf647b89906b437fb4e79d74481ee,13,4,1,20805,,,0,"Apparmor profiles for Queens

Apparmor profiles were limiting queens deployments of neutron-gateway
when aa-profile-mode was set to enforce. It led to failed instance
deployments due to neutron agents failing to execute their necessary
functions.

This change updates the profiles to be Queens ready.

Closes-Bug: #1761536

Change-Id: I2e08a2de9e4ae8139ab8e4be131631883652d029
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/47/564347/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/usr.bin.neutron-metering-agent', 'templates/usr.bin.neutron-metadata-agent', 'templates/usr.bin.neutron-l3-agent', 'templates/usr.bin.neutron-openvswitch-agent', 'templates/usr.bin.neutron-dhcp-agent', 'templates/usr.bin.neutron-lbaasv2-agent', 'templates/usr.bin.nova-api-metadata']",7,a59b4d606fcdf647b89906b437fb4e79d74481ee,bug/1761536," #include <abstractions/bash> /tmp/** rw, owner @{PROC}/@{pid}/stat r,",,31,0
openstack%2Fnova~master~Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314,openstack/nova,master,Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314,libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD,ABANDONED,2018-04-24 15:48:18.000000000,2018-04-26 15:40:07.000000000,,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-24 15:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69a1bd456cadeed86d97da9f0560239528f7ef62', 'message': 'libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD\n\nThe updated minimum required libvirt (1.3.1) and QEMU (2.5.0) for\n""Rocky"" matches this now, so we can drop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\nChange-Id: Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2018-04-26 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f8a6a4625b7b9191f7e9e9ae76739c4cfc412c0', 'message': 'libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD\n\nThe updated minimum required libvirt (1.3.1) and QEMU (2.5.0) for\n""Rocky"" matches this now, so we can drop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\nChange-Id: Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2018-04-26 11:04:14.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/429831b48574db6ac62e6ee6346d93c2288c409e', 'message': 'libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD\n\nThe updated minimum required libvirt (1.3.1) and QEMU (2.5.0) for\n""Rocky"" matches this now, so we can drop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\nChange-Id: Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",4,564013,429831b48574db6ac62e6ee6346d93c2288c409e,26,14,3,6962,,,0,"libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD

The updated minimum required libvirt (1.3.1) and QEMU (2.5.0) for
""Rocky"" matches this now, so we can drop the compatibility code.

Also remove / fix relevant unit tests.

Change-Id: Ibf6e41b4ebb8a516aa06c28d63c4fc4f342b8314
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/564013/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,69a1bd456cadeed86d97da9f0560239528f7ef62,bump_min_libvirt_and_qemu,," @mock.patch.object(host.Host, 'has_min_version', return_value=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') def test_set_admin_password_parallels(self, mock_get_guest, ver): self.flags(virt_type='parallels', group='libvirt') instance = objects.Instance(**self.test_instance) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_get_guest.return_value = mock_guest drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr.set_admin_password(instance, ""123"") mock_guest.set_user_password.assert_called_once_with(""root"", ""123"") ",1,23
openstack%2Fkolla-ansible~stable%2Fqueens~If85e98097a0d0e0b55d0b2993185c8591e6dd10e,openstack/kolla-ansible,stable/queens,If85e98097a0d0e0b55d0b2993185c8591e6dd10e,Glance policy copy is not using correct name,MERGED,2018-04-25 09:21:45.000000000,2018-04-26 15:28:17.000000000,2018-04-26 15:28:17.000000000,"[{'_account_id': 1297}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 09:21:45.000000000', 'files': ['ansible/roles/glance/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38be0d341bde4424b20133af551fd39269c51112', 'message': ""Glance policy copy is not using correct name\n\nThis is currently using the full path for the destination\nwhich doesn't appear to be what is wanted; instead the\nactual file name should be used.\n\nCloses-Bug: #1757532\nCloses-Bug: #1766646\n\nChange-Id: If85e98097a0d0e0b55d0b2993185c8591e6dd10e\n(cherry picked from commit 39cb42ecf597cb9038a7d2d356362fea631f5773)\n""}]",0,564142,38be0d341bde4424b20133af551fd39269c51112,7,4,1,23913,,,0,"Glance policy copy is not using correct name

This is currently using the full path for the destination
which doesn't appear to be what is wanted; instead the
actual file name should be used.

Closes-Bug: #1757532
Closes-Bug: #1766646

Change-Id: If85e98097a0d0e0b55d0b2993185c8591e6dd10e
(cherry picked from commit 39cb42ecf597cb9038a7d2d356362fea631f5773)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/564142/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/tasks/config.yml'],1,38be0d341bde4424b20133af551fd39269c51112,553070-stable/queens," dest: ""{{ node_config_directory }}/{{ item.key }}/{{ glance_policy_file }}"""," dest: ""{{ node_config_directory }}/{{ item.key }}/{{ glance_policy_file_path }}""",1,1
openstack%2Fkeystone~master~Ie4f5b992e277eb79041fd6211a171ca90057fd69,openstack/keystone,master,Ie4f5b992e277eb79041fd6211a171ca90057fd69,Remove policy service from architecture.rst,MERGED,2018-04-25 14:38:41.000000000,2018-04-26 15:16:50.000000000,2018-04-26 15:16:50.000000000,"[{'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23913}]","[{'number': 1, 'created': '2018-04-25 14:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bae11fb9825d0af15a46a967e494f5dae17b3bb3', 'message': 'Remove policy service from architecture.rst\n\nKeystone policy service was never fully realized.\n\nChange-Id: Ie4f5b992e277eb79041fd6211a171ca90057fd69\n'}, {'number': 2, 'created': '2018-04-25 15:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5f5ce28ba85ae45a729d5502751b97529d287c12', 'message': ""Remove policy service from architecture.rst\n\n- the policy service was never finished\n- it's overall design doesn't contribute to the architecture of the\n keystone\n- it's mostly boilerplate code\n- it's marked as deprecated in the API reference\n- people trying to understand the architecture document don't need to\n fill a register with this information when there are other more\n meaningful things to parse\n\nChange-Id: Ie4f5b992e277eb79041fd6211a171ca90057fd69\n""}, {'number': 3, 'created': '2018-04-25 15:07:00.000000000', 'files': ['doc/source/getting-started/architecture.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/03c06a81258681043b2a3274be40f7a5a9afb3f8', 'message': ""Remove policy service from architecture.rst\n\n- the policy service was never finished\n- it's overall design doesn't contribute to the architecture of keystone\n- it's mostly boilerplate code\n- it's marked as deprecated in the API reference\n- people trying to understand the architecture document don't need to\n fill a register with this information when there are other more\n meaningful things to parse\n\nChange-Id: Ie4f5b992e277eb79041fd6211a171ca90057fd69\n""}]",3,564239,03c06a81258681043b2a3274be40f7a5a9afb3f8,14,4,3,23913,,,0,"Remove policy service from architecture.rst

- the policy service was never finished
- it's overall design doesn't contribute to the architecture of keystone
- it's mostly boilerplate code
- it's marked as deprecated in the API reference
- people trying to understand the architecture document don't need to
 fill a register with this information when there are other more
 meaningful things to parse

Change-Id: Ie4f5b992e277eb79041fd6211a171ca90057fd69
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/564239/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting-started/architecture.rst'],1,bae11fb9825d0af15a46a967e494f5dae17b3bb3,docs_remove-policy-from-architecture,,Policy ------ The Policy service provides a rule-based authorization engine and the associated rule management interface. ,0,7
openstack%2Fzun~master~Idb1dec95d026744e6a34d2082945bf2e580862c0,openstack/zun,master,Idb1dec95d026744e6a34d2082945bf2e580862c0,Optimize the loading of the volume driver,MERGED,2018-03-30 20:51:37.000000000,2018-04-26 15:11:32.000000000,2018-04-26 15:11:32.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23055}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-30 20:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d84c9f1cf2a2433e7f2f2f3fc543c2189df4d0ad', 'message': 'Optimize the loading of the volume driver\n\nIn before, we load the volume driver on demand. This is undesirable\nbecause the volume driver will be loaded per request which is\nunnecessary. After this patch, the volume drivers will be loaded\nonce on initialization. Each request will retrieve the pre-loaded\ndriver instead.\n\nChange-Id: Idb1dec95d026744e6a34d2082945bf2e580862c0\n'}, {'number': 2, 'created': '2018-03-30 22:36:03.000000000', 'files': ['zun/tests/unit/volume/test_driver.py', 'zun/container/docker/driver.py', 'zun/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/3029a5b5467248d4b2e9ae3a7b765a2038031cdd', 'message': 'Optimize the loading of the volume driver\n\nIn before, we load the volume driver on demand. This is undesirable\nbecause the volume driver will be loaded per request which is\nunnecessary. After this patch, the volume drivers will be loaded\nonce on initialization. Each request will retrieve the pre-loaded\ndriver instead.\n\nChange-Id: Idb1dec95d026744e6a34d2082945bf2e580862c0\n'}]",0,557996,3029a5b5467248d4b2e9ae3a7b765a2038031cdd,9,5,2,11536,,,0,"Optimize the loading of the volume driver

In before, we load the volume driver on demand. This is undesirable
because the volume driver will be loaded per request which is
unnecessary. After this patch, the volume drivers will be loaded
once on initialization. Each request will retrieve the pre-loaded
driver instead.

Change-Id: Idb1dec95d026744e6a34d2082945bf2e580862c0
",git fetch https://review.opendev.org/openstack/zun refs/changes/96/557996/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/volume/test_driver.py', 'zun/container/docker/driver.py', 'zun/volume/driver.py']",3,d84c9f1cf2a2433e7f2f2f3fc543c2189df4d0ad,Ia8e6c9d8868fde1f650f9c56cade5e4b7dde507b,"import functoolsdef validate_volume_provider(supported_providers): """"""Wraps a method to validate volume provider."""""" def decorator(function): @functools.wraps(function) def decorated_function(self, context, volume, **kwargs): provider = volume.volume_provider if provider not in supported_providers: msg = _(""The volume provider '%s' is not supported"") % provider raise exception.ZunException(msg) return function(self, context, volume, **kwargs) return decorated_function return decorator @validate_volume_provider(supported_providers) def attach(self, context, volume): cinder = cinder_workflow.CinderWorkflow(context) @validate_volume_provider(supported_providers) def detach(self, context, volume): cinder = cinder_workflow.CinderWorkflow(context) @validate_volume_provider(supported_providers) def delete(self, context, volume): cinder = cinder_workflow.CinderWorkflow(context) @validate_volume_provider(supported_providers) def bind_mount(self, context, volume): @validate_volume_provider(supported_providers) def is_volume_available(self, context, volume): ca = cinder_api.CinderAPI(context)"," # Subclass should overwrite this list. supported_providers = [] def __init__(self, context, provider): if provider not in self.supported_providers: msg = _(""Unsupported volume provider '%s'"") % provider raise exception.ZunException(msg) self.context = context self.provider = provider def attach(self, volume): cinder = cinder_workflow.CinderWorkflow(self.context) def detach(self, volume): cinder = cinder_workflow.CinderWorkflow(self.context) def delete(self, volume): cinder = cinder_workflow.CinderWorkflow(self.context) def bind_mount(self, volume): def is_volume_available(self, volume): ca = cinder_api.CinderAPI(self.context)",57,54
openstack%2Fcharm-vault~master~I10ec2f009920acf47f5353f6f947520514350bc0,openstack/charm-vault,master,I10ec2f009920acf47f5353f6f947520514350bc0,Add auto-unlock option,MERGED,2018-04-20 12:38:04.000000000,2018-04-26 15:10:57.000000000,2018-04-26 15:10:57.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 12:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0241ab5a0829b41438d5ed98f7717144bd285315', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 2, 'created': '2018-04-20 15:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/79f243019045996e214d64af766b25b92c153286', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 3, 'created': '2018-04-21 06:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/274c313ab3c89ee0e449aa6f6d1940926a922b01', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 4, 'created': '2018-04-23 11:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ae8c6ebe14f5801d0617fda1a5a00bc9378c76fc', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 5, 'created': '2018-04-24 07:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e14ba4993f36ba7a07334d25b93b3e990a2c5b82', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 6, 'created': '2018-04-25 14:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b9e8c5d887da27f0b76bb8ffa9a9edf3dd4dc3e2', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 7, 'created': '2018-04-25 18:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/051e536a2f21d2685742db7b3b2d1fb28e4a89e8', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 8, 'created': '2018-04-26 10:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e214a6f87ae8d42044bac2161947f2f638345191', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 9, 'created': '2018-04-26 13:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/41d877081ecc1bfd70a6ffec152b1449132ec9ba', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}, {'number': 10, 'created': '2018-04-26 14:23:48.000000000', 'files': ['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'unit_tests/test_lib_charm_vault.py', 'src/tests/tests.yaml', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/cb5c24366ca9c3b7228e31eb0470d2d6c01b35c8', 'message': 'Add auto-unlock option\n\nThe auto-unlock option intialises vault and stores the keys and\nroot token in the leadership database. This option should\nonly be used in testing as it is probably undesirable to\nstore the vault keys in the leader db from a security pov.\n\nChange-Id: I10ec2f009920acf47f5353f6f947520514350bc0\n'}]",13,563098,cb5c24366ca9c3b7228e31eb0470d2d6c01b35c8,48,4,10,12549,,,0,"Add auto-unlock option

The auto-unlock option intialises vault and stores the keys and
root token in the leadership database. This option should
only be used in testing as it is probably undesirable to
store the vault keys in the leader db from a security pov.

Change-Id: I10ec2f009920acf47f5353f6f947520514350bc0
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/98/563098/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/reactive/vault.py', 'unit_tests/test_vault.py']",3,0241ab5a0829b41438d5ed98f7717144bd285315,feature/auto-unlock," 'leader_set', @patch.object(handlers, 'get_vault_health') @patch.object(handlers, 'get_client') def test_check_auto_unlock_mode(self, get_client, get_vault_health): self.service_running.return_value = True get_vault_health.return_value = { 'initialized': False} self.config.return_value = True hvac_mock = mock.MagicMock() hvac_mock.is_initialized.return_value = True hvac_mock.initialize.return_value = { 'keys': ['c579a143d55423483b9076ea7bba49b63ae432bf74729f77afb4e'], 'keys_base64': ['xX35oUPVVCNIO5B26nu6SbY65DK/dHKfd6+05y1Afcw='], 'root_token': 'dee94df7-23a3-9bf2-cb96-e943537c2b76' } get_client.return_value = hvac_mock handlers.check_auto_unlock_mode() self.leader_set.assert_called_once_with( key='c579a143d55423483b9076ea7bba49b63ae432bf74729f77afb4e', root_token='dee94df7-23a3-9bf2-cb96-e943537c2b76') @patch.object(handlers, 'get_vault_health') @patch.object(handlers, 'get_client') def test_check_auto_unlock_mode_vault_down(self, get_client, get_vault_health): self.service_running.return_value = False self.config.return_value = True handlers.check_auto_unlock_mode() self.assertFalse(get_vault_health.called) self.assertFalse(self.leader_set.called) self.assertFalse(get_client.called) @patch.object(handlers, 'get_vault_health') @patch.object(handlers, 'get_client') def test_check_auto_unlock_pre_initialised(self, get_client, get_vault_health): self.service_running.return_value = True get_vault_health.return_value = { 'initialized': True} self.config.return_value = True handlers.check_auto_unlock_mode() self.assertFalse(get_client.called) self.assertFalse(self.leader_set.called)",,75,1
openstack%2Fnetworking-ovn~stable%2Fqueens~I8cdc48065acdac9dcc5955c223824714ecd92437,openstack/networking-ovn,stable/queens,I8cdc48065acdac9dcc5955c223824714ecd92437,Strip the trailing '.' from the fqdn dns record stored in OVN NB DB,MERGED,2018-03-27 11:49:19.000000000,2018-04-26 15:08:52.000000000,2018-04-26 15:08:52.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-03-27 11:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1411b1500d5ca82c90e6687465292e3c83f2565b', 'message': 'Strip the trailing \'.\' from the fqdn dns record stored in OVN NB DB\n\nPresently the dns fqdn record for a port is stored with trailing \'.\'\ncharacter. Eg. vm1.ovn.test.""=""10.0.0.4""\n\nFix this to store it as ""vm1.ovn.test""=""10.0.0.4""\n\nCloses-bug: #1757074\nChange-Id: I8cdc48065acdac9dcc5955c223824714ecd92437\n'}, {'number': 2, 'created': '2018-03-27 11:50:13.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/49b2ddd1115eaae498053d593e06ce681b57ec19', 'message': 'Strip the trailing \'.\' from the fqdn dns record stored in OVN NB DB\n\nPresently the dns fqdn record for a port is stored with trailing \'.\'\ncharacter. Eg. vm1.ovn.test.""=""10.0.0.4""\n\nFix this to store it as ""vm1.ovn.test""=""10.0.0.4""\n\nCloses-bug: #1757074\n\n(cherry picked from b6613f8560611a2ab5f3622bd9e7a379a807868e)\nChange-Id: I8cdc48065acdac9dcc5955c223824714ecd92437\n'}]",0,556828,49b2ddd1115eaae498053d593e06ce681b57ec19,9,6,2,8788,,,0,"Strip the trailing '.' from the fqdn dns record stored in OVN NB DB

Presently the dns fqdn record for a port is stored with trailing '.'
character. Eg. vm1.ovn.test.""=""10.0.0.4""

Fix this to store it as ""vm1.ovn.test""=""10.0.0.4""

Closes-bug: #1757074

(cherry picked from b6613f8560611a2ab5f3622bd9e7a379a807868e)
Change-Id: I8cdc48065acdac9dcc5955c223824714ecd92437
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/28/556828/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py']",3,1411b1500d5ca82c90e6687465292e3c83f2565b,bug/1757074-stable/queens," 'records': {'n1p1': port_ips, 'n1p1.ovn.test': port_ips}} 'records': {'n2p1': port_ips, 'n2p1.ovn.test': port_ips}}) expected_dns_records[0]['records']['n1p2.ovn.test'] = port_ips expected_dns_records[0]['records'].pop('n1p1.ovn.test')"," 'records': {'n1p1': port_ips, 'n1p1.ovn.test.': port_ips}} 'records': {'n2p1': port_ips, 'n2p1.ovn.test.': port_ips}}) expected_dns_records[0]['records']['n1p2.ovn.test.'] = port_ips expected_dns_records[0]['records'].pop('n1p1.ovn.test.')",10,9
openstack%2Fnetworking-ovn~master~Ibcc3506975ce23eaef1d540b25d50aee1208e533,openstack/networking-ovn,master,Ibcc3506975ce23eaef1d540b25d50aee1208e533,Use OVS master for functional tests,MERGED,2018-04-24 12:59:57.000000000,2018-04-26 15:08:04.000000000,2018-04-26 15:08:04.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-24 12:59:57.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/780678f034b2f54093b3c0081de15e2a1a4122ef', 'message': 'Use OVS master for functional tests\n\nThe commit 5d19dad877a5589e026ab4af7b09e6c8ee97fc22 was pinning OVS to\na specific commit due to a regression. This is not needed anymore.\n\nChange-Id: Ibcc3506975ce23eaef1d540b25d50aee1208e533\n'}]",0,563936,780678f034b2f54093b3c0081de15e2a1a4122ef,13,5,1,6773,,,0,"Use OVS master for functional tests

The commit 5d19dad877a5589e026ab4af7b09e6c8ee97fc22 was pinning OVS to
a specific commit due to a regression. This is not needed anymore.

Change-Id: Ibcc3506975ce23eaef1d540b25d50aee1208e533
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/36/563936/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/contrib/gate_hook.sh'],1,780678f034b2f54093b3c0081de15e2a1a4122ef,functional-ovs-commit,," # The commit 8bf332225d4a73f359c806ad907bcb78ad2a6087 # - ""ovn-northd: Reduce amount of flow hashing."" and the other patches # of the series in ovs master has caused regressions because of which # functional tests are failing. So use commit - # 8b70d82461ea104858ebd7d397ec004f6974240b. # We can revert back to master, once the regressions are addressed. OVS_BRANCH=8b70d82461ea104858ebd7d397ec004f6974240b",0,7
openstack%2Fbandit~master~I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a,openstack/bandit,master,I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a,Add bandit functional testing to tox and zuul,ABANDONED,2018-04-19 19:36:04.000000000,2018-04-26 14:53:42.000000000,,"[{'_account_id': 8119}, {'_account_id': 17893}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 19:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/c6269a8a2f5cf88e37bf81d1a08c83f48f8e1330', 'message': ""Add bandit functional testing to tox and zuul\n\nThis change adds a testenv for running bandit's functional tests via tox\nas well as running a check/gate job through zuul.\n\nChange-Id: I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a\nCloses-Bug: #1765441\n""}, {'number': 2, 'created': '2018-04-19 19:38:40.000000000', 'files': ['.zuul.yaml', 'playbooks/bandit-functional/run.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bandit/commit/e691cb30b019884a7e1cf27bf8c8954b9e63f8cf', 'message': ""Add bandit functional testing to tox and zuul\n\nThis change adds a testenv for running bandit's functional tests via tox\nas well as running a check/gate job through zuul.\n\nChange-Id: I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a\nCloses-Bug: #1765441\n""}]",1,562808,e691cb30b019884a7e1cf27bf8c8954b9e63f8cf,10,4,2,21420,,,0,"Add bandit functional testing to tox and zuul

This change adds a testenv for running bandit's functional tests via tox
as well as running a check/gate job through zuul.

Change-Id: I1d3ec2dbf3a04c72dac49325afed9f855d5bb17a
Closes-Bug: #1765441
",git fetch https://review.opendev.org/openstack/bandit refs/changes/08/562808/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/bandit-functional/run.yaml', 'tox.ini']",3,c6269a8a2f5cf88e37bf81d1a08c83f48f8e1330,bug/1765441,"[testenv:functional] deps = -r{toxinidir}/test-requirements.txt setenv = OS_TEST_PATH=./tests/functional commands = find bandit -type f -name ""*.pyc"" -delete stestr run '{posargs}' ",,28,0
openstack%2Fnova~stable%2Fqueens~Iff30e59ced63a94c5c3377317a2e2a502f96eb91,openstack/nova,stable/queens,Iff30e59ced63a94c5c3377317a2e2a502f96eb91,libvirt: fix hard reboot issue with mdevs,MERGED,2018-04-26 10:30:38.000000000,2018-04-26 14:51:32.000000000,2018-04-26 13:58:55.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-26 10:30:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5aa8e2eb8d5a90780211ef67b8f2dcc76af64de', 'message': ""libvirt: fix hard reboot issue with mdevs\n\nSometimes, a Nova instance may not have an associated libvirt guest,\nlike if a live migration fails and the hypervisor on the source node\nis in an inconsistent state.\nThe usual way to fix that is to hard reboot the instance, so the\nvirt driver recreates the guest.\nUnfortunately, we introduced a regression in Queens with\nIe6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't\nchecking whether the guest was there or not.\n\nThis fix aims to catch the InstanceNotFound exception that's\nraised and just tell there are no mediated devices attached to that\ninstance (given we can no longer know them).\n\nChange-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91\nCloses-Bug: #1764460\n(cherry picked from commit 8941c79f0924413822b15824a298e081e345e616)\n""}]",0,564454,a5aa8e2eb8d5a90780211ef67b8f2dcc76af64de,10,7,1,10135,,,0,"libvirt: fix hard reboot issue with mdevs

Sometimes, a Nova instance may not have an associated libvirt guest,
like if a live migration fails and the hypervisor on the source node
is in an inconsistent state.
The usual way to fix that is to hard reboot the instance, so the
virt driver recreates the guest.
Unfortunately, we introduced a regression in Queens with
Ie6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't
checking whether the guest was there or not.

This fix aims to catch the InstanceNotFound exception that's
raised and just tell there are no mediated devices attached to that
instance (given we can no longer know them).

Change-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91
Closes-Bug: #1764460
(cherry picked from commit 8941c79f0924413822b15824a298e081e345e616)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/564454/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a5aa8e2eb8d5a90780211ef67b8f2dcc76af64de,bug/1764460-stable/queens," @mock.patch.object(host.Host, 'get_guest') def test_get_all_assigned_mediated_devices_for_a_non_existing_instance( self, get_guest): get_guest.side_effect = exception.InstanceNotFound(instance_id='fake') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) fake_inst = objects.Instance() self.assertEqual({}, drvr._get_all_assigned_mediated_devices(fake_inst)) ",,21,1
openstack%2Fopenstacksdk~master~I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4,openstack/openstacksdk,master,I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4,Fix openstack-inventory,MERGED,2018-04-23 20:19:48.000000000,2018-04-26 14:50:08.000000000,2018-04-26 14:50:08.000000000,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 20:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/da057af495fe5d8cc23dfc8a7774ab7cb82a3d0b', 'message': 'Fix openstack-inventory\n\nwhich still uses openstack.cloud.simple_logging\nwhich was removed some time ago\n\nChange-Id: I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4\nStory: 14384\n'}, {'number': 2, 'created': '2018-04-23 20:40:51.000000000', 'files': ['openstack/cloud/cmd/inventory.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/48aac40bf6af220a8ef51921cf7b8fe55fc6168b', 'message': 'Fix openstack-inventory\n\nwhich still uses openstack.cloud.simple_logging\nwhich was removed some time ago\n\nChange-Id: I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4\nStory: 2001899\n'}]",0,563754,48aac40bf6af220a8ef51921cf7b8fe55fc6168b,12,3,2,28143,,,0,"Fix openstack-inventory

which still uses openstack.cloud.simple_logging
which was removed some time ago

Change-Id: I60ac37605c9e0ff8ad4d9c4457882ee5de64a5b4
Story: 2001899
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/563754/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/cmd/inventory.py'],1,da057af495fe5d8cc23dfc8a7774ab7cb82a3d0b,fix-openstack-inventory, openstack.enable_logging(debug=args.debug), openstack.cloud.simple_logging(debug=args.debug),1,1
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~Iba7e9939250b24dc64fdd1883f963d0253ddad7e,openstack/openstack-ansible-repo_build,stable/queens,Iba7e9939250b24dc64fdd1883f963d0253ddad7e,Allow repo host packages to be upgraded before repo build,MERGED,2018-04-24 13:42:25.000000000,2018-04-26 14:47:33.000000000,2018-04-26 14:47:33.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 13:42:25.000000000', 'files': ['tasks/repo_build_prepare.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/bd9f89a5ec67df85046cca90142702b5110e382c', 'message': 'Allow repo host packages to be upgraded before repo build\n\nTo cater for a situation where the repo build packages are changing,\nbut the repo does not yet have the package built, we need to ensure\nthat the install task for it can fetch from pypi (or the designated\npypi mirror). To do this we try the local repo first, then fall back\nto using the designated default index which defaults to pypi.\n\nChange-Id: Iba7e9939250b24dc64fdd1883f963d0253ddad7e\n(cherry picked from commit de46da9d144156d486367218204f8a2be1a31381)\n'}]",0,563962,bd9f89a5ec67df85046cca90142702b5110e382c,7,3,1,6816,,,0,"Allow repo host packages to be upgraded before repo build

To cater for a situation where the repo build packages are changing,
but the repo does not yet have the package built, we need to ensure
that the install task for it can fetch from pypi (or the designated
pypi mirror). To do this we try the local repo first, then fall back
to using the designated default index which defaults to pypi.

Change-Id: Iba7e9939250b24dc64fdd1883f963d0253ddad7e
(cherry picked from commit de46da9d144156d486367218204f8a2be1a31381)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/62/563962/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_build_prepare.yml'],1,bd9f89a5ec67df85046cca90142702b5110e382c,bp/python-build-install-simplification-stable/queens,"# Note(odyssey4me): # To cater for a situation where the pip packages are changing, but the repo # does not yet have the package built, we need to ensure that this task can # fetch from pypi. To do this we try the local repo first, then fall back to # using pypi. - name: Try installing from the repo first, then fall back to using pypi block: - name: Install pip packages (from repo) pip: name: ""{{ repo_pip_packages }}"" state: ""{{ repo_build_pip_package_state }}"" extra_args: >- --constraint {{ repo_build_release_path }}/requirements_constraints.txt {{ pip_install_options }} register: install_packages until: install_packages | success retries: 5 delay: 5 rescue: - name: Install pip packages (from pypi mirror) pip: name: ""{{ repo_pip_packages }}"" state: ""{{ repo_build_pip_package_state }}"" extra_args: >- --index-url {{ repo_build_pip_default_index }} --trusted-host {{ repo_build_pip_default_index | netloc_no_port }} --constraint {{ repo_build_release_path }}/requirements_constraints.txt {{ pip_install_options }} register: install_packages until: install_packages | success retries: 5 delay: 5","- name: Install pip packages pip: name: ""{{ repo_pip_packages }}"" state: ""{{ repo_build_pip_package_state }}"" extra_args: ""--constraint {{ repo_build_release_path }}/requirements_constraints.txt {{ pip_install_options }}"" register: install_packages until: install_packages|success retries: 5 delay: 5",32,9
openstack%2Fbandit~master~Ic42e41f59ab840140281659d30bc178d027653a1,openstack/bandit,master,Ic42e41f59ab840140281659d30bc178d027653a1,Migrate to new PyPI website,ABANDONED,2018-04-19 04:05:28.000000000,2018-04-26 14:42:44.000000000,,"[{'_account_id': 8119}, {'_account_id': 17893}, {'_account_id': 21420}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 04:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/4d4dcc8f32821488d3c9c94617402f5dbbc9c57b', 'message': 'Migrate to new PyPI website\n\nAccording to [1], the PyPI website of pypi.python.org has changed to\nhttps://pypi.org. This patch updates all references to the legacy\nsite.\n\n[1] https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html\n\nChange-Id: Ic42e41f59ab840140281659d30bc178d027653a1\n'}, {'number': 2, 'created': '2018-04-24 00:09:04.000000000', 'files': ['bandit/blacklists/imports.py', 'README.rst', 'bandit/blacklists/calls.py'], 'web_link': 'https://opendev.org/openstack/bandit/commit/b6f965ec8e39e334688e63a2e51ce75e6d5ca5fa', 'message': 'Migrate to new PyPI website\n\nAccording to [1], the PyPI website of pypi.python.org has changed to\nhttps://pypi.org. This patch updates all references to the legacy\nsite.\n\n[1] https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html\n\nDepends-On: https://review.openstack.org/563717\nChange-Id: Ic42e41f59ab840140281659d30bc178d027653a1\n'}]",0,562459,b6f965ec8e39e334688e63a2e51ce75e6d5ca5fa,15,5,2,8119,,,0,"Migrate to new PyPI website

According to [1], the PyPI website of pypi.python.org has changed to
https://pypi.org. This patch updates all references to the legacy
site.

[1] https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html

Depends-On: https://review.openstack.org/563717
Change-Id: Ic42e41f59ab840140281659d30bc178d027653a1
",git fetch https://review.opendev.org/openstack/bandit refs/changes/59/562459/1 && git format-patch -1 --stdout FETCH_HEAD,"['bandit/blacklists/imports.py', 'README.rst', 'bandit/blacklists/calls.py']",3,4d4dcc8f32821488d3c9c94617402f5dbbc9c57b,pypi,https://pypi.org/project/defusedxml/#defusedxml-sax # https://pypi.org/project/defusedxml/#defusedxml-sax,https://pypi.python.org/pypi/defusedxml/#defusedxml-sax # https://pypi.python.org/pypi/defusedxml/#defusedxml-sax,7,7
openstack%2Fnova-powervm~master~I105e4b7001236d262998322273dcdd8e90d0b8c5,openstack/nova-powervm,master,I105e4b7001236d262998322273dcdd8e90d0b8c5,Bump pypowervm minimum to 1.1.15,MERGED,2018-04-25 16:36:58.000000000,2018-04-26 14:41:08.000000000,2018-04-26 14:41:07.000000000,"[{'_account_id': 10608}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 16:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3fabe67c76dc469c2bc505a074ad71a0a061e677', 'message': 'Bump pypowervm minimum to 1.1.15\n\nThe referenced bug is fixed in pypowervm 1.1.15.  Without the fix,\nPowerVM device detach during destroy (and therefore PowerVM CI) is\nbroken.\n\nChange-Id: I105e4b7001236d262998322273dcdd8e90d0b8c5\nDepends-On: https://review.openstack.org/#/c/564275/\nCloses-Bug: #1766692\n'}, {'number': 2, 'created': '2018-04-25 21:32:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/af0e814d628289c07c8e88629539a3e42c3d3daa', 'message': 'Bump pypowervm minimum to 1.1.15\n\nThe referenced bug is fixed in pypowervm 1.1.15.  Without the fix,\nPowerVM device detach during destroy (and therefore PowerVM CI) is\nbroken.\n\nChange-Id: I105e4b7001236d262998322273dcdd8e90d0b8c5\nDepends-On: https://review.openstack.org/564275\nCloses-Bug: #1766692\n'}]",3,564278,af0e814d628289c07c8e88629539a3e42c3d3daa,18,6,2,14070,,,0,"Bump pypowervm minimum to 1.1.15

The referenced bug is fixed in pypowervm 1.1.15.  Without the fix,
PowerVM device detach during destroy (and therefore PowerVM CI) is
broken.

Change-Id: I105e4b7001236d262998322273dcdd8e90d0b8c5
Depends-On: https://review.openstack.org/564275
Closes-Bug: #1766692
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/78/564278/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3fabe67c76dc469c2bc505a074ad71a0a061e677,pypowervm-1.1.15,pypowervm>=1.1.15 # Apache-2.0,pypowervm>=1.1.13 # Apache-2.0,1,1
openstack%2Fsahara-extra~master~I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a,openstack/sahara-extra,master,I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a,Add Hadoop 2.7.5 native libs to common artifacts,MERGED,2018-04-26 08:06:04.000000000,2018-04-26 14:31:22.000000000,2018-04-26 14:31:22.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27576}]","[{'number': 1, 'created': '2018-04-26 08:06:04.000000000', 'files': ['common-artifacts/hadoop-native-libs-2.7.5.tar.gz'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/af6cac8e361ff2e46eb07be1c76b4b9fcb83c813', 'message': 'Add Hadoop 2.7.5 native libs to common artifacts\n\nDownload the binary format package of hadoop 2.7.5, and create\ntarball with hadoop native libs (hadoop-2.7.5/lib/native)\n\nChange-Id: I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a\n'}]",0,564417,af6cac8e361ff2e46eb07be1c76b4b9fcb83c813,10,4,1,27576,,,0,"Add Hadoop 2.7.5 native libs to common artifacts

Download the binary format package of hadoop 2.7.5, and create
tarball with hadoop native libs (hadoop-2.7.5/lib/native)

Change-Id: I4eb9906a4cd4e1c41ff01a4b88fdb5a7199ecf5a
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/17/564417/1 && git format-patch -1 --stdout FETCH_HEAD,['common-artifacts/hadoop-native-libs-2.7.5.tar.gz'],1,af6cac8e361ff2e46eb07be1c76b4b9fcb83c813,hadoop-2.7.5-native-libs,,,0,0
openstack%2Fmistral~stable%2Fqueens~I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,openstack/mistral,stable/queens,I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,Add release note for jinja expression bug,MERGED,2018-04-26 11:15:03.000000000,2018-04-26 14:25:40.000000000,2018-04-26 14:25:40.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 27349}]","[{'number': 1, 'created': '2018-04-26 11:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/714531482f7039192908d2d647bf23e8d14f0720', 'message': 'Add release note for jinja expression bug\n\nChange-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c\n'}, {'number': 2, 'created': '2018-04-26 12:11:05.000000000', 'files': ['releasenotes/notes/fix-jinja-expression-handling-135451645d7a4e6f.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3993a078002ce262f35842ceca098877bc9cb928', 'message': 'Add release note for jinja expression bug\n\nChange-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c\n(cherry picked from commit a70df9e99140413a76564cb7f0f0f8acfcf95b31)\n'}]",0,564467,3993a078002ce262f35842ceca098877bc9cb928,10,4,2,9712,,,0,"Add release note for jinja expression bug

Change-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c
(cherry picked from commit a70df9e99140413a76564cb7f0f0f8acfcf95b31)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/67/564467/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-jinja-expression-handling-135451645d7a4e6f.yaml'],1,714531482f7039192908d2d647bf23e8d14f0720,release_note_for_jinja_exception-stable/queens,--- fixes: - Fixed jinja expression error handling where invalid expression could prevent action or task status to be correctly updated. ,,5,0
openstack%2Fmistral~stable%2Fqueens~Ib020550d0ec989ca382b738844a752ec9d02919a,openstack/mistral,stable/queens,Ib020550d0ec989ca382b738844a752ec9d02919a,Fixed Jinja error handling,MERGED,2018-04-26 10:00:31.000000000,2018-04-26 14:25:40.000000000,2018-04-26 14:25:39.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 25167}, {'_account_id': 27349}]","[{'number': 1, 'created': '2018-04-26 10:00:31.000000000', 'files': ['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/expressions/jinja_expression.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/08d367e6b10a1cd03ffa79bc972dc5ed50574a02', 'message': ""Fixed Jinja error handling\n\nBefore changes `cls._env.from_string(expression).render(**ctx)` can\nraise exception, for example the variable doesn't exist. And this\nexception is not handled.\nJinja error handling was moved to cover this case.\n\nChange-Id: Ib020550d0ec989ca382b738844a752ec9d02919a\nCloses-bug: #1743649\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n(cherry picked from commit e1f105685a78e6397b63658fd41546a670b95f86)\n""}]",0,564435,08d367e6b10a1cd03ffa79bc972dc5ed50574a02,7,5,1,27008,,,0,"Fixed Jinja error handling

Before changes `cls._env.from_string(expression).render(**ctx)` can
raise exception, for example the variable doesn't exist. And this
exception is not handled.
Jinja error handling was moved to cover this case.

Change-Id: Ib020550d0ec989ca382b738844a752ec9d02919a
Closes-bug: #1743649
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
(cherry picked from commit e1f105685a78e6397b63658fd41546a670b95f86)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/35/564435/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/expressions/jinja_expression.py']",3,08d367e6b10a1cd03ffa79bc972dc5ed50574a02,fix/jinja_exception-stable/queens,"JINJA_OPTS = {'undefined_to_none': False} result = cls._env.compile_expression( expression, **JINJA_OPTS )(**ctx) # For StrictUndefined values, UndefinedError only gets raised when # the value is accessed, not when it gets created. The simplest way # to access it is to try and cast it to string. str(result) try: if patterns[0][0] == expression: result = JinjaEvaluator.evaluate(patterns[0][1], data_context) else: ctx = expression_utils.get_jinja_context(data_context) result = cls._env.from_string(expression).render(**ctx) except Exception as e: # NOTE(rakhmerov): if we hit a database error then we need to # re-raise the initial exception so that upper layers had a # chance to handle it properly (e.g. in case of DB deadlock # the operations needs to retry. Essentially, such situation # indicates a problem with DB rather than with the expression # syntax or values. if isinstance(e, db_exc.DBError): LOG.error( ""Failed to evaluate Jinja expression due to a database"" "" error, re-raising initial exception [expression=%s,"" "" error=%s, data=%s]"", expression, str(e), data_context ) raise e raise exc.JinjaEvaluationException( ""Can not evaluate Jinja expression [expression=%s, error=%s"" "", data=%s]"" % (expression, str(e), data_context) )"," opts = {'undefined_to_none': False} try: result = cls._env.compile_expression(expression, **opts)(**ctx) # For StrictUndefined values, UndefinedError only gets raised when # the value is accessed, not when it gets created. The simplest way # to access it is to try and cast it to string. str(result) except Exception as e: # NOTE(rakhmerov): if we hit a database error then we need to # re-raise the initial exception so that upper layers had a # chance to handle it properly (e.g. in case of DB deadlock # the operations needs to retry. Essentially, such situation # indicates a problem with DB rather than with the expression # syntax or values. if isinstance(e, db_exc.DBError): LOG.error( ""Failed to evaluate Jinja expression due to a database"" "" error, re-raising initial exception [expression=%s,"" "" error=%s, data=%s]"", expression, str(e), data_context ) raise e raise exc.JinjaEvaluationException( ""Can not evaluate Jinja expression [expression=%s, error=%s"" "", data=%s]"" % (expression, str(e), data_context) ) if patterns[0][0] == expression: result = JinjaEvaluator.evaluate(patterns[0][1], data_context) else: ctx = expression_utils.get_jinja_context(data_context) result = cls._env.from_string(expression).render(**ctx)",173,61
openstack%2Fneutron~master~If72bd2e8d742285e15f49e8026b9ce5c3426cd65,openstack/neutron,master,If72bd2e8d742285e15f49e8026b9ce5c3426cd65,do not merge: test pecan 1.3.1 and neutron-lib,ABANDONED,2018-04-17 17:05:10.000000000,2018-04-26 14:03:10.000000000,,"[{'_account_id': 333}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-17 17:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d5f2f1a63a4eafc9887c9748f6ab1738678fec1', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 2, 'created': '2018-04-19 15:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c3e70cb440d4f21f13e5da099f1071cd1f6fe2c', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 3, 'created': '2018-04-19 15:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/435cb6908251fbf8256f8dd240f94d883d0b6429', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 4, 'created': '2018-04-20 05:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acf78e6befa1a48e727b173a7e92073d0dddc134', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 5, 'created': '2018-04-20 17:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5939942639f8f51ef48b2222169c0f703b04dd01', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 6, 'created': '2018-04-20 18:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d7556a223c794fa5c652852db18358e9d0bbc7b', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 7, 'created': '2018-04-20 19:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab6eaeee880610af8ee4e99b20d0fbfb3e3415be', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 8, 'created': '2018-04-20 22:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec049cac0ce50c31a432dc0e5b17f919a0401660', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\n'}, {'number': 9, 'created': '2018-04-21 01:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdcfba69ec8b1519f653fa89ab33e313d57f8a9e', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 10, 'created': '2018-04-21 04:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b39d22df1ef57bcd2662a74d55ea08a8ab30a356', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 11, 'created': '2018-04-21 04:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/188c69e601171f5b27cbe4b17cf4db5b6f170926', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 12, 'created': '2018-04-21 05:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30df38ab44a5ee4a8848148cabeeb8c833e1a8db', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 13, 'created': '2018-04-24 05:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b15fbdbb188218c67264b418e660e934be3b7800', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 14, 'created': '2018-04-24 05:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fc3d9e68b7343cf938fb49a0e5d8375ca45ce5e', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 15, 'created': '2018-04-24 05:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5de6c20a93ab248bf5375ebe637a1594f05a23b3', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}, {'number': 16, 'created': '2018-04-24 14:22:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'upper-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da2c73c5746f7650d5120cb7bdc370b66f46003a', 'message': 'do not merge: test pecan 1.3.1 and neutron-lib\n\nChange-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65\nDepends-On: https://review.openstack.org/#/c/563359/\n'}]",0,562008,da2c73c5746f7650d5120cb7bdc370b66f46003a,74,6,16,333,,,0,"do not merge: test pecan 1.3.1 and neutron-lib

Change-Id: If72bd2e8d742285e15f49e8026b9ce5c3426cd65
Depends-On: https://review.openstack.org/#/c/563359/
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/562008/11 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini', 'upper-constraints.txt']",4,1d5f2f1a63a4eafc9887c9748f6ab1738678fec1,neutron-lib-update,ntlm-auth===1.1.0 voluptuous===0.11.1 chardet===3.0.4 enum-compat===0.0.2 rsa===3.4.2 restructuredtext-lint===1.1.3 netmiko===2.1.1 instack-undercloud===8.4.0 PasteDeploy===1.5.2 typing===3.6.4 python-saharaclient===1.5.0 python-hnvclient===0.1.0 Routes===2.4.1 rtslib-fb===2.1.66 XStatic-Angular-Bootstrap===2.2.0.0 paunch===3.0.0 WebOb===1.7.4 sphinxcontrib-actdiag===0.8.5 docopt===0.6.2 pecan===1.3.1 ryu===4.24 os-api-ref===1.5.0 python-ldap===3.0.0 oslo.concurrency===3.26.0 websocket-client===0.47.0 osprofiler===2.0.0 tabulate===0.8.2 python-ironic-inspector-client===3.1.1 lxml===4.2.1 python-kingbirdclient===0.2.1 setproctitle===1.1.10 pytest===3.5.0 python-etcd===0.4.5 raven===6.6.0 cursive===0.2.1 oslo.service===1.31.0 django-appconf===1.0.2 pykerberos===1.2.1 certifi===2018.1.18 sphinxcontrib-nwdiag===0.9.5 requests-aws===0.1.8 alabaster===0.7.10 pbr===4.0.2 munch===2.2.0 attrs===17.4.0 microversion-parse===0.2.1 Pint===0.8.1 oslo.i18n===3.20.0 jsonpath-rw-ext===1.1.3 python-mistralclient===3.3.0 oslo.context===2.20.0 python-senlinclient===1.7.0 rcssmin===1.0.6 pycadf===2.7.0 grpcio===1.10.0 pysendfile===2.0.1 fixtures===3.0.0 pystache===0.5.4 XStatic-Font-Awesome===4.7.0.0 nose===1.3.7 nosehtmloutput===0.0.5 waitress===1.1.0 os-refresh-config===8.3.0 pysnmp===4.4.4 sphinxcontrib-websupport===1.0.1 Mako===1.0.7 XStatic-angular-ui-router===0.3.1.2 pyScss===1.3.4 XStatic-jQuery===1.10.2.1 jsonmodels===2.3 ddt===1.1.2 pyserial===3.4 ipaddress===1.0.19 python-freezerclient===1.6.0 os-xenapi===0.3.2 python-vitrageclient===2.0.0 nosexcover===1.0.11 krest===1.3.1 psycopg2===2.7.4 networkx===1.11 bashate===0.5.1 XStatic-Angular===1.5.8.0 pyngus===2.2.2 Pillow===5.0.0 zuul-sphinx===0.2.1 python-mimeparse===1.6.0 tripleo-common===8.6.0 Tempita===0.5.2 ply===3.11 requests-toolbelt===0.8.0 simplejson===3.13.2 suds-jurko===0.6 python-swiftclient===3.5.0 pyOpenSSL===17.5.0 monasca-common===2.8.0 scipy===1.0.1 rsd-lib===0.2.1 XStatic-Jasmine===2.4.1.1 python-glanceclient===2.11.0 pyinotify===0.9.6 debtcollector===1.19.0 requests-unixsocket===0.1.5 asn1crypto===0.24.0 croniter===0.3.20 python-watcherclient===1.6.0 MarkupSafe===1.0 pypowervm===1.1.13 doc8===0.8.0 pymongo===3.6.1 sqlparse===0.2.4 oslotest===3.4.1 jsonpointer===2.0 defusedxml===0.5.0 netaddr===0.7.19 pyghmi===1.0.42 sphinxcontrib-blockdiag===1.5.5 gnocchiclient===7.0.1 sphinxcontrib.datatemplates===0.1.0 jsonpath-rw===1.4.0 prettytable===0.7.2 vine===1.1.4 taskflow===3.1.0 traceback2===1.4.0 semantic-version===2.6.0 virtualbmc===1.3.0 deprecation===2.0 SQLAlchemy===1.2.6 pyroute2===0.5.0 google-auth===1.4.1 kazoo===2.4.0 XStatic-roboto-fontface===0.5.0.0 pyudev===0.21.0 eventlet===0.20.0 openstack-doc-tools===1.7.0 frozendict===1.2 oslo.messaging===6.1.0 extras===1.0.0 PyJWT===1.6.1 zVMCloudConnector===1.0.0 paramiko===2.4.1 reno===2.8.0 unicodecsv===0.14.1;python_version=='2.7' imagesize===1.0.0 pathlib===1.0.1;python_version=='2.7' urllib3===1.22 graphviz===0.8.2 PyKMIP===0.7.0 whereto===0.4.0 python-subunit===1.2.0 pycparser===2.18 mock===2.0.0 PyYAML===3.12 beautifulsoup4===4.6.0 os-net-config===8.4.0 ovs===2.9.0 cryptography===2.2.2 backports.ssl-match-hostname===3.5.0.1;python_version=='2.7' openstack-release-test===0.13.0 pylxd===2.2.6 pycryptodomex===3.5.1 anyjson===0.3.3 requests-mock===1.4.0 os-apply-config===8.3.0 oslosphinx===4.18.0 mox3===0.25.0 gunicorn===19.7.1 textfsm===0.4.0 unittest2===1.1.0 django-compressor===2.2 libvirt-python===4.0.0 python-zunclient===1.3.0 tzlocal===1.5.1 python-novaclient===10.1.0 bcrypt===3.1.4 os-client-config===1.29.0 XStatic-Angular-Gettext===2.3.8.0 Pygments===2.2.0 XStatic-Hogan===2.0.0.2 XStatic-objectpath===1.2.1.0 python-manilaclient===1.21.0 requests===2.18.4 snowballstemmer===1.2.1 Jinja2===2.10 XStatic-Bootstrap-SCSS===3.3.7.1 pyzabbix===0.7.4 ptyprocess===0.5.2 amqp===2.2.2 websockify===0.8.0 XStatic-JQuery.quicksearch===2.0.3.1 mpmath===1.0.0 sphinx-feature-classification===0.1.0 XStatic-JQuery-Migrate===1.2.1.1 appdirs===1.4.3 tinyrpc===0.8 Flask-SQLAlchemy===2.3.2 daiquiri===1.3.0 influxdb===5.0.0 funcparserlib===0.3.6 passlib===1.7.1 dib-utils===0.0.11 cliff===2.11.0 os-brick===2.4.0 trollius===2.2;python_version=='2.7' scp===0.10.2 python-zaqarclient===1.9.0 funcsigs===1.0.2;python_version=='2.7' zhmcclient===0.19.0 dnspython3===1.15.0;python_version=='3.4' dnspython3===1.15.0;python_version=='3.5' ldappool===2.2.0 termcolor===1.1.0 hiredis===0.2.0 google-api-python-client===1.6.6 castellan===0.17.0 oslo.versionedobjects===1.32.0 webcolors===1.8.1 aodhclient===1.0.0 autobahn===18.3.1 SQLAlchemy-Utils===0.33.1 pluggy===0.6.0 coverage===4.5.1 freezegun===0.3.10 python-pytun===2.2.1 pyperclip===1.6.0 cassandra-driver===3.13.0 mox===0.5.3 XStatic-Angular-Schema-Form===0.8.13.0 gabbi===1.40.1 nwdiag===1.0.4 XStatic-bootswatch===3.3.7.0 XStatic-term.js===0.0.7.0 oslo.log===3.38.0 nodeenv===1.3.0 pylev===1.3.0 python-searchlightclient===1.3.0 oslo.middleware===3.35.0 XStatic-mdi===1.4.57.0 django-pyscss===2.0.2 uritemplate===3.0.0 django-babel===0.6.2 docutils===0.14 notifier===1.0.3 pycrypto===2.6.1 ujson===1.35 selenium===3.11.0 python-glareclient===0.5.2 mypy===0.580;python_version=='3.4' mypy===0.580;python_version=='3.5' mistral-lib===0.4.0 dogtag-pki===10.3.5.1 sphinxcontrib-seqdiag===0.8.5 os-win===4.0.0 pydot3===1.0.9 retrying===1.3.3 shade===1.27.1 pathlib2===2.3.0 pydotplus===2.0.2 flask-oslolog===0.1 stestr===2.0.0 singledispatch===3.4.0.3;python_version=='2.7' oslo.serialization===2.25.0 warlock===1.3.0 exabgp===4.0.5 sphinxcontrib-httpdomain===1.6.1 thriftpy===0.3.9;python_version=='2.7' murano-pkg-check===0.3.0 oslo.vmware===2.27.0 sqlalchemy-migrate===0.11.0 python-monascaclient===1.10.0 ldap3===2.4.1 requests-ntlm===1.1.0 automaton===1.14.0 os-service-types===1.2.0 keyring===12.0.0 testscenarios===0.5.0 sphinxcontrib-pecanwsme===0.8.0 sadisplay===0.4.9 enum34===1.1.6 packaging===17.1 flask-keystone===0.2 nose-exclude===0.5.0 psutil===5.4.3 py===1.5.3 txaio===2.9.0 elasticsearch===2.4.1 django-nose===1.4.5 XStatic-JQuery.TableSorter===2.14.5.1 pifpaf===2.1.1 pysmi===0.2.2 blockdiag===1.5.3 testtools===2.3.0 Parsley===1.3 XStatic-tv4===1.2.7.0 XStatic-JSEncrypt===2.3.1.1 python-cinderclient===3.5.0 keystonemiddleware===4.21.0 django-formtools===2.1 python-ceilometerclient===2.9.0 XStatic-Spin===1.2.5.2 os-traits===0.5.0 SecretStorage===2.3.1 XStatic-Rickshaw===1.5.0.0 iso8601===0.1.12 tooz===1.61.0 linecache2===1.0.0 oauth2client===4.1.2 idna===2.6 python-karborclient===1.0.0 weakrefmethod===1.0.3;python_version=='2.7' PuLP===1.6.8 crc16===0.1.1 protobuf===3.5.2.post1 os-dpm===1.1.0 sushy===1.3.1 python-neutronclient===6.8.0 pika===0.10.0 oslo.cache===1.30.0 WebTest===2.0.29 openstack.nose-plugin===0.11 os-collect-config===8.3.0 python-qpid-proton===0.19.0 python-octaviaclient===1.4.0 pysaml2===4.5.0 requests-oauthlib===0.8.0 oslo.reports===1.27.0 ceilometermiddleware===1.2.0 python-nss===1.0.1 testrepository===0.0.20 sympy===1.1.1 sphinxmark===0.1.19 PyNaCl===1.2.1 osc-lib===1.10.0 python-consul===0.7.2 more-itertools===4.1.0 seqdiag===0.9.5 numpy===1.14.2 msgpack===0.5.6 Sphinx===1.6.5 oslo.config===6.0.2 tempest===18.0.0 django-floppyforms===1.7.0 openstackdocstheme===1.20.1 osc-placement===1.0.0 zake===0.2.2 python-rsdclient===0.1.3 python-magic===0.4.15 python-solumclient===2.6.1 PyMySQL===0.8.0 kubernetes===5.0.0 httplib2===0.11.3 bottle===0.12.13 betamax===0.8.1 construct===2.8.22 pyparsing===2.2.0 dogpile.cache===0.6.5 python-barbicanclient===4.6.0 tricircleclient===0.3.0 WSME===0.9.2 proboscis===1.2.6.0 fortiosclient===0.0.3 stevedore===1.28.0 botocore===1.9.7 xmltodict===0.11.0 pyasn1===0.4.2 oslo.rootwrap===5.13.0 Django===1.11.11 pexpect===4.4.0 mistral-extra===6.0.1 cmd2===0.8.2 redis===2.10.6 jmespath===0.9.3 click===6.7 docker-pycreds===0.2.2 XStatic-smart-table===1.4.13.2 kuryr-lib===0.7.0 scrypt===0.8.6 jsonpatch===1.21 typed-ast===1.1.0;python_version=='3.4' typed-ast===1.1.0;python_version=='3.5' os-testr===1.0.0 cotyledon===1.6.8 stomp.py===4.1.20 xattr===0.9.3 systemd-python===234 python-memcached===1.59 openstacksdk===0.12.0 six===1.11.0 dulwich===0.19.0 pykafka===2.7.0 kombu===4.1.0 betamax-matchers===0.4.0 yaql===1.1.3 requestsexceptions===1.4.0 testresources===2.0.1 falcon===1.4.1 subprocess32===3.2.7;python_version=='2.7' etcd3gw===0.2.1 pyldap===3.0.0 Flask-RESTful===0.3.6 GitPython===2.1.9 python-ironicclient===2.3.0 XStatic===1.0.1 XStatic-Angular-FileUpload===12.0.4.0 python-openstackclient===3.15.0 pika-pool===0.1.3 pyzmq===17.0.0 oslo.db===4.35.0 simplegeneric===0.8.1 python-pcre===0.7 abclient===0.2.3 pymemcache===1.4.4 wrapt===1.10.11 oslo.privsep===1.28.0 oslo.policy===1.34.0 python-muranoclient===1.0.1 pyeclib===1.5.0 wsgi-intercept===1.6.0 ndg-httpsclient===0.4.4;python_version=='2.7' spec-cleaner===1.0.6 repoze.lru===0.7 rfc3986===1.1.0 tenacity===4.9.0 python-designateclient===2.9.0 future===0.16.0 Paste===2.0.3 boto===2.48.0 functools32===3.2.3.post2;python_version=='2.7' os-vif===1.10.0 python-masakariclient===5.0.0 Werkzeug===0.14.1 pyasn1-modules===0.2.1 entrypoints===0.2.3 APScheduler===3.5.1 monotonic===1.4 python-smaugclient===0.0.8 python-troveclient===2.14.0 etcd3===0.7.0 XStatic-Bootstrap-Datepicker===1.3.1.0 CouchDB===1.2 netifaces===0.10.6 cachetools===2.0.1 ws4py===0.5.1 keystoneauth1===3.4.0 statsd===3.2.2 XenAPI===1.2 python-keystoneclient===3.15.0 demjson===2.2.4 diskimage-builder===2.12.1 heat-translator===1.0.0 python-magnumclient===2.9.0 docker===3.2.1 qpid-python===1.36.0.post1;python_version=='2.7' contextlib2===0.5.5 XStatic-Angular-lrdragndrop===1.0.2.2 python-congressclient===1.9.0 ovsdbapp===0.10.0 aniso8601===3.0.0 rjsmin===1.0.12 icalendar===4.0.1 configparser===3.5.0;python_version=='2.7' decorator===4.2.1 cffi===1.11.5 futurist===1.6.0 jsonschema===2.6.0 python-blazarclient===1.0.1 alembic===0.9.9 glance-store===0.23.0 sphinx-testing===0.7.2 dnspython===1.15.0 oauthlib===2.0.7 Babel===2.5.3 logutils===0.3.5 scandir===1.7;python_version=='2.7' sphinxcontrib-fulltoc===1.2.0 smmap2===2.0.3 greenlet===0.4.13 xvfbwrapper===0.2.9 futures===3.2.0;python_version=='2.7' tosca-parser===0.9.0 Flask===0.12.2 happybase===1.1.0;python_version=='2.7' marathon===0.9.3 fasteners===0.14.1 python-tackerclient===0.12.0 python-heatclient===1.14.0 kafka-python===1.4.2 oslo.utils===3.36.0 python-editor===1.0.3 gitdb2===2.0.3 requests-kerberos===0.12.0 itsdangerous===0.24 XStatic-jquery-ui===1.12.0.1 monasca-statsd===1.9.0 python-dateutil===2.7.2 virtualenv===15.2.0 colorama===0.3.9 ironic-lib===2.12.0 pytz===2018.3 XStatic-D3===3.5.17.0 actdiag===0.5.4 sysv-ipc===1.0.0 scikit-learn===0.19.1 skydive-client===0.4.2 asyncio===3.4.3;python_version=='3.4' asyncio===3.4.3;python_version=='3.5' asyncio===3.4.3;python_version=='3.6' sphinxcontrib-apidoc===0.2.0 ,,511,2
openstack%2Fironic~master~Ib261401ab5681fd8ba1a91252a5bed51ec73c757,openstack/ironic,master,Ib261401ab5681fd8ba1a91252a5bed51ec73c757,Implement a function to check the image status,MERGED,2018-04-07 18:02:42.000000000,2018-04-26 13:58:24.000000000,2018-04-11 06:15:22.000000000,"[{'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-07 18:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/225c6ff93f2379ca087e11f991102be9e5b0a115', 'message': 'Implement a function to check the image status\n\nUsing new function is_image_active to confirm if the image is active\n\nChange-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757\nStory: 2001797\nTask: 12519\n'}, {'number': 2, 'created': '2018-04-07 21:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/caf3dc204be99d85207b712dc6ab067ce29137cc', 'message': 'Implement a function to check the image status\n\nUsing new function is_image_active to confirm if the image is active\n\nChange-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757\nStory: 2001797\nTask: 12519\n'}, {'number': 3, 'created': '2018-04-09 14:54:59.000000000', 'files': ['ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/unit/common/test_glance_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8aa46de0ec8321616284b888875424d964efc5e6', 'message': 'Implement a function to check the image status\n\nUsing new function is_image_active to confirm if the image is active\n\nChange-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757\nStory: 2001797\nTask: 12519\n'}]",3,559500,8aa46de0ec8321616284b888875424d964efc5e6,37,9,3,25820,,,0,"Implement a function to check the image status

Using new function is_image_active to confirm if the image is active

Change-Id: Ib261401ab5681fd8ba1a91252a5bed51ec73c757
Story: 2001797
Task: 12519
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/559500/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/service_utils.py']",2,225c6ff93f2379ca087e11f991102be9e5b0a115,story/2001797,"def is_image_active(image): """"""Check the image status. This check is needed in case the Glance image is stuck in queued status or pending_delete. """""" return str(getattr(image, 'status', None)) == ""active"" ",,15,0
openstack%2Fopenstack-ansible~stable%2Fpike~I9e6c209bafa21afe22e0c4f67da584d553a50e00,openstack/openstack-ansible,stable/pike,I9e6c209bafa21afe22e0c4f67da584d553a50e00,bootstrap-host: Set repo build pip default mirror when in openstack-ci,MERGED,2018-04-23 10:40:53.000000000,2018-04-26 13:57:47.000000000,2018-04-26 13:57:47.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-04-23 10:40:53.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61139906de1be0a3840a549fb5b94f7bc5267a3d', 'message': 'bootstrap-host: Set repo build pip default mirror when in openstack-ci\n\nWhen in openstack-ci we should use the most local pypi mirror\navailable for the repo build process to speed things up.\n\nChange-Id: I9e6c209bafa21afe22e0c4f67da584d553a50e00\n(cherry picked from commit aac7e8ce1864dd1db0d8fb6008d20e62f2b5a38a)\n'}]",0,563565,61139906de1be0a3840a549fb5b94f7bc5267a3d,8,4,1,6816,,,0,"bootstrap-host: Set repo build pip default mirror when in openstack-ci

When in openstack-ci we should use the most local pypi mirror
available for the repo build process to speed things up.

Change-Id: I9e6c209bafa21afe22e0c4f67da584d553a50e00
(cherry picked from commit aac7e8ce1864dd1db0d8fb6008d20e62f2b5a38a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/563565/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,61139906de1be0a3840a549fb5b94f7bc5267a3d,," echo ""repo_build_pip_default_index: '${NODEPOOL_PYPI_MIRROR}'"" >> ${NODEPOOL_OVERRIDES}",,1,0
openstack%2Fnova~master~Iac23a574a05e62a99aab20ffce4265f4fb5a44d9,openstack/nova,master,Iac23a574a05e62a99aab20ffce4265f4fb5a44d9,ServerActionsSampleJsonTest refactor,MERGED,2018-04-17 07:45:30.000000000,2018-04-26 13:55:56.000000000,2018-04-26 13:55:56.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-17 07:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da4df2fc57821e999b4295bcc04e083879c514ae', 'message': '[WIP] ServerActionsSampleJsonTest refactor\n\nChange the instance action content to a real world action.\n\nIn Setup, we create an instance and then stop it. That would\nbe 2 actions(create and stop), and the stop action should have\na ""compute_stop_instance"" event. And then we do 2.1/2.21/2.51\ntest case based on these actions, like we have done in 2.58.\n\nChange-Id: Iac23a574a05e62a99aab20ffce4265f4fb5a44d9\n'}, {'number': 2, 'created': '2018-04-17 08:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d214a6d102fc9b38edaaa3c5cad9d082cf71a3bd', 'message': 'ServerActionsSampleJsonTest refactor\n\nChange the instance action sample to a real world action.\n\nIn Setup, we create an instance and then stop it. That would\nbe 2 actions(create and stop), and the stop action should have\na ""compute_stop_instance"" event. And then we do 2.1/2.21/2.51\ntest case based on these actions, like we have done in 2.58.\n\nChange-Id: Iac23a574a05e62a99aab20ffce4265f4fb5a44d9\n'}, {'number': 3, 'created': '2018-04-26 01:33:35.000000000', 'files': ['doc/api_samples/os-instance-actions/v2.51/instance-action-get-non-admin-resp.json', 'doc/api_samples/os-instance-actions/v2.58/instance-actions-list-with-marker-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.58/instance-actions-list-with-timestamp-filter.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.58/instance-actions-list-with-limit-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.58/instance-actions-list-resp.json.tpl', 'doc/api_samples/os-instance-actions/instance-actions-list-resp.json', 'doc/api_samples/os-instance-actions/v2.51/instance-action-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.51/instance-action-get-non-admin-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.58/instance-actions-list-with-marker-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.21/instance-action-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.51/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/instance-action-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.58/instance-action-get-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.21/instance-action-get-resp.json', 'doc/api_samples/os-instance-actions/instance-action-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.21/instance-actions-list-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.58/instance-action-get-resp.json', 'doc/api_samples/os-instance-actions/v2.21/instance-actions-list-resp.json', 'doc/api_samples/os-instance-actions/v2.51/instance-actions-list-resp.json', 'nova/tests/functional/api_sample_tests/test_instance_actions.py', 'doc/api_samples/os-instance-actions/v2.58/instance-actions-list-resp.json', 'doc/api_samples/os-instance-actions/v2.58/instance-action-get-non-admin-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.51/instance-action-get-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.58/instance-actions-list-with-limit-resp.json', 'doc/api_samples/os-instance-actions/v2.58/instance-actions-list-with-timestamp-filter.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.58/instance-action-get-non-admin-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/577cb4b2f4a2c5c7b825e28cdb4057740c09f0fa', 'message': 'ServerActionsSampleJsonTest refactor\n\nChange the instance action sample to a real world action.\n\nIn Setup, we create an instance and then stop it. That would\nbe 2 actions(create and stop), and the stop action should have\na ""compute_stop_instance"" event. And then we do 2.1/2.21/2.51\ntest case based on these actions, like we have done in 2.58.\n\nChange-Id: Iac23a574a05e62a99aab20ffce4265f4fb5a44d9\n'}]",7,561819,577cb4b2f4a2c5c7b825e28cdb4057740c09f0fa,37,15,3,20722,,,0,"ServerActionsSampleJsonTest refactor

Change the instance action sample to a real world action.

In Setup, we create an instance and then stop it. That would
be 2 actions(create and stop), and the stop action should have
a ""compute_stop_instance"" event. And then we do 2.1/2.21/2.51
test case based on these actions, like we have done in 2.58.

Change-Id: Iac23a574a05e62a99aab20ffce4265f4fb5a44d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/561819/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-instance-actions/v2.51/instance-action-get-non-admin-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/instance-actions-list-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.21/instance-action-get-resp.json', 'doc/api_samples/os-instance-actions/instance-action-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.21/instance-actions-list-resp.json.tpl', 'doc/api_samples/os-instance-actions/instance-actions-list-resp.json', 'doc/api_samples/os-instance-actions/v2.21/instance-actions-list-resp.json', 'doc/api_samples/os-instance-actions/v2.51/instance-action-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.51/instance-action-get-non-admin-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.51/instance-actions-list-resp.json', 'nova/tests/functional/api_sample_tests/test_instance_actions.py', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.21/instance-action-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.51/instance-action-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.51/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/instance-action-get-resp.json.tpl']",15,da4df2fc57821e999b4295bcc04e083879c514ae,bp/add-host-to-instance-action-events," ""action"": ""stop"", ""instance_uuid"": ""%(uuid)s"", ""request_id"": ""%(request_id)s"", ""user_id"": ""%(user_id)s"", ""project_id"": ""%(project_id)s"", ""start_time"": ""%(strtime)s"", ""message"": """", ""events"": [ { ""event"": ""compute_stop_instance"", ""start_time"": ""%(strtime)s"", ""finish_time"": ""%(strtime)s"", ""result"": ""Success"", ""traceback"": """" } ]"," ""action"": ""%(action)s"", ""instance_uuid"": ""%(instance_uuid)s"", ""request_id"": ""%(request_id)s"", ""user_id"": ""%(integer_id)s"", ""project_id"": ""%(integer_id)s"", ""start_time"": ""%(strtime)s"", ""message"": """", ""events"": [ { ""event"": ""%(event)s"", ""start_time"": ""%(strtime)s"", ""finish_time"": ""%(strtime)s"", ""result"": ""%(result)s"", ""traceback"": """" }, { ""event"": ""%(event)s"", ""start_time"": ""%(strtime)s"", ""finish_time"": ""%(strtime)s"", ""result"": ""%(result)s"", ""traceback"": """" } ]",147,241
openstack%2Fheat-tempest-plugin~master~I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8,openstack/heat-tempest-plugin,master,I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8,Use keystone session with heatclient in integration tests,MERGED,2017-11-20 05:55:16.000000000,2018-04-26 13:52:43.000000000,2018-04-26 13:52:43.000000000,"[{'_account_id': 4257}, {'_account_id': 7404}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-20 05:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/51629d0fba9702ad793923463be42a66e998a27b', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 2, 'created': '2017-11-20 06:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/9b2907496c7b73c5a7a5dcda8fe2311e8c7ffb9c', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 3, 'created': '2018-02-03 13:08:38.000000000', 'files': ['heat_tempest_plugin/services/clients.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/ff3fbd546715ef21a2b31862f36a3e8d05e0d0e1', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}]",0,521420,ff3fbd546715ef21a2b31862f36a3e8d05e0d0e1,18,5,3,8833,,,0,"Use keystone session with heatclient in integration tests

Change-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8
Related-Bug: #1695144
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/20/521420/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/services/clients.py'],1,51629d0fba9702ad793923463be42a66e998a27b,bug/1695144," session = None else: session = self.identity_client.session return heat_client.Client( self.HEATCLIENT_VERSION, endpoint, session=session, endpoint_type='publicURL', service_type='orchestration', region_name=self.conf.region, username=self._username(), password=self._password())"," token = None else: token = self.identity_client.auth_token try: if endpoint is None: endpoint = self.identity_client.get_endpoint_url( 'orchestration', self.conf.region) except kc_exceptions.EndpointNotFound: return None else: return heat_client.Client( self.HEATCLIENT_VERSION, endpoint, token=token, username=self._username(), password=self._password())",12,15
openstack%2Fkuryr-kubernetes~master~I226870fbb147e1d7455842e531f5515b11acba80,openstack/kuryr-kubernetes,master,I226870fbb147e1d7455842e531f5515b11acba80,Clean up legacy playbooks,MERGED,2018-04-26 07:40:13.000000000,2018-04-26 13:52:15.000000000,2018-04-26 13:52:15.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 07:40:13.000000000', 'files': ['playbooks/kuryr-kubernetes-install-base/post.yaml', 'playbooks/tempest-kuryr-kubernetes-multinode/run.yaml', 'playbooks/kuryr-kubernetes-install-base/run.yaml', 'playbooks/tempest-kuryr-kubernetes-multinode/post.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/612b1a6023411e2e1d56a5adc5c64d1d87ef97bf', 'message': 'Clean up legacy playbooks\n\nAfter finishing the migration to Zuulv3, there were some legacy\nleftovers inside the playbooks directory. This commit fixes it by\ndeleting non-used playbooks from it.\n\nChange-Id: I226870fbb147e1d7455842e531f5515b11acba80\n'}]",0,564414,612b1a6023411e2e1d56a5adc5c64d1d87ef97bf,10,4,1,14885,,,0,"Clean up legacy playbooks

After finishing the migration to Zuulv3, there were some legacy
leftovers inside the playbooks directory. This commit fixes it by
deleting non-used playbooks from it.

Change-Id: I226870fbb147e1d7455842e531f5515b11acba80
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/564414/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kuryr-kubernetes-install-base/post.yaml', 'playbooks/tempest-kuryr-kubernetes-multinode/run.yaml', 'playbooks/kuryr-kubernetes-install-base/run.yaml', 'playbooks/tempest-kuryr-kubernetes-multinode/post.yaml']",4,612b1a6023411e2e1d56a5adc5c64d1d87ef97bf,playbook_cleanup,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,250
openstack%2Ftripleo-upgrade~master~Idfe041fba9120964a5af06b3a25c55b87b611960,openstack/tripleo-upgrade,master,Idfe041fba9120964a5af06b3a25c55b87b611960,Adhere to ANSIBLE0011 All tasks should be named.,MERGED,2018-04-16 17:32:18.000000000,2018-04-26 13:44:11.000000000,2018-04-16 22:40:27.000000000,"[{'_account_id': 3153}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-16 17:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/21b80d4e108be218efba359dda1dac88ab3d43b9', 'message': 'Adhere to ANSIBLE0011 All tasks should be named.\n\nChange-Id: Idfe041fba9120964a5af06b3a25c55b87b611960\nCloses-Bug: #1764454\n'}, {'number': 2, 'created': '2018-04-16 17:41:06.000000000', 'files': ['tasks/fast-forward-upgrade/ffu_download_config.yaml', 'tasks/update/overcloud_update_run.yml', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/fast-forward-upgrade/ffu_update_stack_outputs.yaml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/update/overcloud_update_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2bead7f8be288c1e3ad67026e4576108e5696d03', 'message': 'Adhere to ANSIBLE0011 All tasks should be named.\n\nChange-Id: Idfe041fba9120964a5af06b3a25c55b87b611960\nCloses-Bug: #1764454\n'}]",0,561678,2bead7f8be288c1e3ad67026e4576108e5696d03,13,4,2,8297,,,0,"Adhere to ANSIBLE0011 All tasks should be named.

Change-Id: Idfe041fba9120964a5af06b3a25c55b87b611960
Closes-Bug: #1764454
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/561678/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/ffu_download_config.yaml', 'tasks/update/overcloud_update_run.yml', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'tasks/fast-forward-upgrade/ffu_update_stack_outputs.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/update/overcloud_update_prepare.yml']",10,21b80d4e108be218efba359dda1dac88ab3d43b9,bug/1764454," - name: was the overcloud update prepare successful. fail: msg=""Overcloud minor update preparation step failed..."""," - fail: msg=""Overcloud minor update preparation step failed...""",36,18
openstack%2Fansible-config_template~master~Ifda972caada27ade2d80f77b3df70568406226ff,openstack/ansible-config_template,master,Ifda972caada27ade2d80f77b3df70568406226ff,Fix py3 unicode issue,MERGED,2018-04-23 11:46:45.000000000,2018-04-26 13:40:04.000000000,2018-04-26 13:40:04.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 11:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/fb61debcbcc0730626d423c6f650648553986f3c', 'message': '[WIP] Try to make py3 test fail\n\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1763422\n\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n'}, {'number': 2, 'created': '2018-04-23 11:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/b1758a2f1b9a35caeb8874dc3dec1a74f6479a61', 'message': '[WIP] Try to make py3 test fail\n\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1763422\n\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n'}, {'number': 3, 'created': '2018-04-23 13:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/ae7a7e4247e30caafe800ef053b029d995257d17', 'message': ""Fix py3 unicode issue\n\nunicode is nolonger a type in py3 - instead the str type is used for\nunicode, and the bytes type would cover the str type from py2.\n\nTo avoid having to version the code, we should try to use unicode,\nexcept the NameError and continue as though it is py3 if that fails.\n\nAdditionally, this patch adds a test that will fail if you revert the\nconfig_template.py back to it's original in py3.\n\nCloses-bug: 1763422\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n""}, {'number': 4, 'created': '2018-04-23 15:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/84ec7b55b0de00aae98da44c8ca93f9bc2972f45', 'message': ""Fix py3 unicode issue\n\nunicode is nolonger a type in py3 - instead the str type is used for\nunicode, and the bytes type would cover the str type from py2.\n\nTo avoid having to version the code, we should try to use unicode,\nexcept the NameError and continue as though it is py3 if that fails.\n\nAdditionally, this patch adds a test that will fail if you revert the\nconfig_template.py back to it's original in py3.\n\nCloses-bug: 1763422\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n""}, {'number': 5, 'created': '2018-04-24 09:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/09df00e0c8c433e5a8076c7f19a2cd1db5173de5', 'message': ""Fix py3 unicode issue\n\nunicode is nolonger a type in py3 - instead the str type is used for\nunicode, and the bytes type would cover the str type from py2.\n\nTo avoid having to version the code, we should try to use unicode,\nexcept the NameError and continue as though it is py3 if that fails.\n\nAdditionally, this patch adds a test that will fail if you revert the\nconfig_template.py back to it's original in py3.\n\nCloses-bug: 1763422\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n""}, {'number': 6, 'created': '2018-04-24 10:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/e79b4ed0a08f41af0e106c6c10f85bb7e57bf972', 'message': ""Fix py3 unicode issue\n\nunicode is nolonger a type in py3 - instead the str type is used for\nunicode, and the bytes type would cover the str type from py2.\n\nTo avoid having to version the code, we should try to use unicode,\nexcept the NameError and continue as though it is py3 if that fails.\n\nAdditionally, this patch adds a test that will fail if you revert the\nconfig_template.py back to it's original in py3.\n\nCloses-bug: 1763422\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n""}, {'number': 7, 'created': '2018-04-25 09:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/eb5db9b3a91b470f87f3c9590e972566ef103fb2', 'message': ""Fix py3 unicode issue\n\nunicode is nolonger a type in py3 - instead the str type is used for\nunicode, and the bytes type would cover the str type from py2.\n\nTo avoid having to version the code, we should try to use unicode,\nexcept the NameError and continue as though it is py3 if that fails.\n\nAdditionally, this patch adds a test that will fail if you revert the\nconfig_template.py back to it's original in py3.\n\nCloses-bug: 1763422\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n""}, {'number': 8, 'created': '2018-04-25 11:03:18.000000000', 'files': ['tests/files/test_no_extend.yml.expected', 'tests/templates/test_with_comments.ini', 'action/config_template.py', 'tests/files/test_extend.yml.expected', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/fc1c9311a8e25fce011815f7d4a2dc7d41c99815', 'message': ""Fix py3 unicode issue\n\nunicode is nolonger a type in py3 - instead the str type is used for\nunicode, and the bytes type would cover the str type from py2.\n\nTo avoid having to version the code, we should try to use unicode,\nexcept the NameError and continue as though it is py3 if that fails.\n\nAdditionally, this patch adds a test that will fail if you revert the\nconfig_template.py back to it's original in py3.\n\nCloses-bug: 1763422\nChange-Id: Ifda972caada27ade2d80f77b3df70568406226ff\n""}]",1,563585,fc1c9311a8e25fce011815f7d4a2dc7d41c99815,21,3,8,2799,,,0,"Fix py3 unicode issue

unicode is nolonger a type in py3 - instead the str type is used for
unicode, and the bytes type would cover the str type from py2.

To avoid having to version the code, we should try to use unicode,
except the NameError and continue as though it is py3 if that fails.

Additionally, this patch adds a test that will fail if you revert the
config_template.py back to it's original in py3.

Closes-bug: 1763422
Change-Id: Ifda972caada27ade2d80f77b3df70568406226ff
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/85/563585/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,fb61debcbcc0730626d423c6f650648553986f3c,bug/1763422," key1: ""String1"" key2: ""string2"" key3: ""string3"" key4: ""string4"" key5: ""string5"" key6: ""string6"" key7: 1 key8: 2 key9: 3 key10: 10 key11: 11 key1: 1 section9: key1: 1 section10: key1: 1 section11: key1: 1 - 4"," key1: ""value1"" key2: ""value2"" key3: ""value3"" key4: ""value4"" key5: ""value5"" key6: ""value6"" key7: ""value7"" key8: ""value8"" key9: ""value9"" key10: ""value10"" key11: ""value11"" key1: ""value1"" section9: key1: ""value1"" section10: key1: ""value1"" section11: key1: ""value1""",16,15
openstack%2Fdesignate-dashboard~master~I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0,openstack/designate-dashboard,master,I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0,Fix horizon install for tox,MERGED,2018-04-08 16:15:57.000000000,2018-04-26 13:26:11.000000000,2018-04-26 13:26:11.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-08 16:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/73cbe372fa77486f5f1b9cdf18c78e75a59af822', 'message': 'Fix horizon install for tox\n\nInstall horizon from git in Openstack CI.\nUpdate the tox.ini for this.\n\nChange-Id: I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 2, 'created': '2018-04-23 10:35:53.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/5055fd3d2542c514597a1800497f1873fd2bd0ed', 'message': 'Fix horizon install for tox\n\nInstall horizon from git in Openstack CI.\nUpdate the tox.ini for this.\n\nChange-Id: I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",0,559578,5055fd3d2542c514597a1800497f1873fd2bd0ed,11,4,2,24,,,0,"Fix horizon install for tox

Install horizon from git in Openstack CI.
Update the tox.ini for this.

Change-Id: I5e6cedf27f06692f7a6c7b75e21b7cff22e061f0
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/78/559578/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,73cbe372fa77486f5f1b9cdf18c78e75a59af822,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master} -r{toxinidir}/requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master} {opts} {packages}deps = -r{toxinidir}/requirements.txt,6,2
openstack%2Fkolla~master~I11b50b93fc02fffc5d9b377c638129d2ac102b2f,openstack/kolla,master,I11b50b93fc02fffc5d9b377c638129d2ac102b2f,Additional collectd plugins and template interval,ABANDONED,2018-04-19 19:53:15.000000000,2018-04-26 13:21:37.000000000,,"[{'_account_id': 4264}, {'_account_id': 10061}, {'_account_id': 13039}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-19 19:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0578596207ba6dd16d7d375ad82d310a28bc596f', 'message': ""Additional collectd plugins and template interval\n\nThis is to reduce the overlap between Browbeat performance metric\ncollection. We depend on these packages to be present on some of our\ncollectd templates. I don't see a way to determine if the container is\nrunning on a controller/compute/ceph/hci node. Right now Browbeat will\nuse the hosts file, which has things broken out.\n\nRemoving the hardset 5 second interval. Also switching to default to 10.\nNot sure where the 5 second interval came from? Historcal?\n\nChange-Id: I11b50b93fc02fffc5d9b377c638129d2ac102b2f\n""}, {'number': 2, 'created': '2018-04-23 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0794b1cdee3bb532eb4494089341044e729693f', 'message': ""Additional collectd plugins and template interval\n\nThis is to reduce the overlap between Browbeat performance metric\ncollection. We depend on these packages to be present on some of our\ncollectd templates. I don't see a way to determine if the container is\nrunning on a controller/compute/ceph/hci node. Right now Browbeat will\nuse the hosts file, which has things broken out.\n\nRemoving the hardset 5 second interval. Also switching to default to 10.\nNot sure where the 5 second interval came from? Historcal?\n\nChange-Id: I11b50b93fc02fffc5d9b377c638129d2ac102b2f\n""}, {'number': 3, 'created': '2018-04-25 19:07:03.000000000', 'files': ['roles/collectd/templates/collectd.conf.j2', 'roles/collectd/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c11287d6bf21400600c285b9045c0461d5873d15', 'message': ""Additional collectd plugins and template interval\n\nThis is to reduce the overlap between Browbeat performance metric\ncollection. We depend on these packages to be present on some of our\ncollectd templates. I don't see a way to determine if the container is\nrunning on a controller/compute/ceph/hci node. Right now Browbeat will\nuse the hosts file, which has things broken out.\n\nRemoving the hardset 5 second interval. Also switching to default to 10.\nNot sure where the 5 second interval came from? Historcal?\n\nChange-Id: I11b50b93fc02fffc5d9b377c638129d2ac102b2f\n""}]",3,562813,c11287d6bf21400600c285b9045c0461d5873d15,22,7,3,10061,,,0,"Additional collectd plugins and template interval

This is to reduce the overlap between Browbeat performance metric
collection. We depend on these packages to be present on some of our
collectd templates. I don't see a way to determine if the container is
running on a controller/compute/ceph/hci node. Right now Browbeat will
use the hosts file, which has things broken out.

Removing the hardset 5 second interval. Also switching to default to 10.
Not sure where the 5 second interval came from? Historcal?

Change-Id: I11b50b93fc02fffc5d9b377c638129d2ac102b2f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/13/562813/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collectd/defaults/main.yml', 'roles/collectd/templates/collectd.conf.j2']",2,0578596207ba6dd16d7d375ad82d310a28bc596f,collectd_addons,Interval {{collectd_interval}},Interval 5,9,1
openstack%2Ffreezer~master~I636286bd3e94d1b908335a162eb3c6f86e5a6210,openstack/freezer,master,I636286bd3e94d1b908335a162eb3c6f86e5a6210,Add note about installing dependencies,MERGED,2018-04-25 15:35:27.000000000,2018-04-26 13:15:12.000000000,2018-04-26 13:15:12.000000000,"[{'_account_id': 13940}, {'_account_id': 22348}, {'_account_id': 22405}]","[{'number': 1, 'created': '2018-04-25 15:35:27.000000000', 'files': ['doc/source/install/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/1ebd6d12efb78bbaac0ba454ab03d52659dddfde', 'message': 'Add note about installing dependencies\n\nChange-Id: I636286bd3e94d1b908335a162eb3c6f86e5a6210\nCloses-Bug: #1750776\n'}]",0,564256,1ebd6d12efb78bbaac0ba454ab03d52659dddfde,7,3,1,28032,,,0,"Add note about installing dependencies

Change-Id: I636286bd3e94d1b908335a162eb3c6f86e5a6210
Closes-Bug: #1750776
",git fetch https://review.opendev.org/openstack/freezer refs/changes/56/564256/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-ubuntu.rst'],1,1ebd6d12efb78bbaac0ba454ab03d52659dddfde,bug/1750776, .. note:: To list all missing packages needed to install freezer in your system use provided ``bindep.txt`` file with `bindep utility. <https://docs.openstack.org/infra/bindep/>`_ ,,5,0
openstack%2Fcongress~master~I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004,openstack/congress,master,I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004,Trivial: Update pypi url to new url,MERGED,2018-04-20 18:59:01.000000000,2018-04-26 13:14:45.000000000,2018-04-26 13:14:45.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-04-20 18:59:01.000000000', 'files': ['library/README.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/245c499fd1563fc2a5064abf334baaca032c5b23', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004\n'}]",0,563235,245c499fd1563fc2a5064abf334baaca032c5b23,8,4,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I4747ffe5ade2b3ea764f2f65a7e3b9b34c51e004
",git fetch https://review.opendev.org/openstack/congress refs/changes/35/563235/1 && git format-patch -1 --stdout FETCH_HEAD,['library/README.rst'],1,245c499fd1563fc2a5064abf334baaca032c5b23,pypi-url,https://pypi.org/project/python-congressclient/).,https://pypi.python.org/pypi/python-congressclient/).,1,1
openstack%2Freleases~master~I324e9149734009257e06fb0cd6db692268d8efbd,openstack/releases,master,I324e9149734009257e06fb0cd6db692268d8efbd,Release xstatic-filesaver 1.3.2.0,MERGED,2018-04-05 07:00:11.000000000,2018-04-26 13:13:18.000000000,2018-04-26 13:13:18.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-05 07:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1ad057b7ee981c10191ad00572da7b7f989e2779', 'message': 'Release xstatic-filesaver 1.3.2.0\n\nChange-Id: I324e9149734009257e06fb0cd6db692268d8efbd\n'}, {'number': 2, 'created': '2018-04-26 05:22:45.000000000', 'files': ['deliverables/_independent/xstatic-filesaver.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/faeefdb05566c83e0e594ff8f7e675be5249942e', 'message': 'Release xstatic-filesaver 1.3.2.0\n\nChange-Id: I324e9149734009257e06fb0cd6db692268d8efbd\n'}]",0,559007,faeefdb05566c83e0e594ff8f7e675be5249942e,11,5,2,19224,,,0,"Release xstatic-filesaver 1.3.2.0

Change-Id: I324e9149734009257e06fb0cd6db692268d8efbd
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/559007/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/xstatic-filesaver.yaml'],1,1ad057b7ee981c10191ad00572da7b7f989e2779,xstatic-release-filesaver,--- launchpad: horizon team: horizon type: other release-type: xstatic include-pypi-link: yes releases: - version: 1.3.2.0 projects: - repo: openstack/xstatic-filesaver hash: 35bd4c19ea8862ef52a08f2fc3c95a4fc2656ed6 tarball-base: XStatic-FileSaver repository-settings: openstack/xstatic-filesaver: {} ,,14,0
openstack%2Fproject-config~master~I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e,openstack/project-config,master,I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e,update the release tools to mark newton as closed,MERGED,2018-04-19 20:36:46.000000000,2018-04-26 13:11:50.000000000,2018-04-26 13:11:50.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-19 20:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec0255983672a97f2fe2db805760c9fa5d186c85', 'message': 'update the release tools to mark newton as closed\n\nThis prevents the release tools from processing changes in the newton\nbranch, including re-creating newton branches that have been deleted.\n\nChange-Id: I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-19 20:38:08.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/process_release_requests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c83de06ad1ba57fcc9bc85cb8cf83b90100e5d5a', 'message': 'update the release tools to mark newton as closed\n\nThis prevents the release tools from processing changes in the newton\nbranch, including re-creating newton branches that have been deleted.\n\nStory: #2001852\nTask: #14346\nChange-Id: I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,562826,c83de06ad1ba57fcc9bc85cb8cf83b90100e5d5a,9,4,2,2472,,,0,"update the release tools to mark newton as closed

This prevents the release tools from processing changes in the newton
branch, including re-creating newton branches that have been deleted.

Story: #2001852
Task: #14346
Change-Id: I5de04f1bbea61b00fda4d312aea77b1ea4efaa7e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/562826/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/copy-release-tools-scripts/files/release-tools/process_release_requests.py'],1,ec0255983672a97f2fe2db805760c9fa5d186c85,mark-newton-as-closed," 'newton',",,1,0
openstack%2Fpython-tripleoclient~master~Idf595498e46eeb88acfd4c3a21094d22197a6d7b,openstack/python-tripleoclient,master,Idf595498e46eeb88acfd4c3a21094d22197a6d7b,Wire-in hieradata_override for UC heat-install,MERGED,2018-04-24 14:31:52.000000000,2018-04-26 13:10:11.000000000,2018-04-26 13:10:11.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 14:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e156e82938cb3fd8649391cea863d867dfe6094d', 'message': 'Wire-in hieradata_override for UC heat-install\n\nMaintain undercloud.conf feature parity with instack.\n\nAllow to override hiera data for UndercloudExtraConfig in tht.\nEnsure higher data precedence over anything that comes from\ncustom_env_files.\n\nPartial-bug: #1766579\nChange-Id: Idf595498e46eeb88acfd4c3a21094d22197a6d7b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-04-25 11:29:38.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5b351cec41b8208caa3ab977d14de621e9bf17d', 'message': 'Wire-in hieradata_override for UC heat-install\n\nMaintain undercloud.conf feature parity with instack.\n\nAllow to override hiera data for UndercloudExtraConfig in tht.\nEnsure higher data precedence over anything that comes from\ncustom_env_files.\n\nPartial-bug: #1766579\nChange-Id: Idf595498e46eeb88acfd4c3a21094d22197a6d7b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,563986,e5b351cec41b8208caa3ab977d14de621e9bf17d,13,7,2,6926,,,0,"Wire-in hieradata_override for UC heat-install

Maintain undercloud.conf feature parity with instack.

Allow to override hiera data for UndercloudExtraConfig in tht.
Ensure higher data precedence over anything that comes from
custom_env_files.

Partial-bug: #1766579
Change-Id: Idf595498e46eeb88acfd4c3a21094d22197a6d7b
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/563986/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud_deploy.py']",3,e156e82938cb3fd8649391cea863d867dfe6094d,bug/1766579," if parsed_args.hieradata_override: environments.append(self._process_hieradata_overrides(parsed_args)) parser.add_argument( '--hieradata-override', nargs='?', help=_('Path to hieradata override file. When it points to a heat ' 'env file, it is passed in t-h-t via --environment-file. ' 'When the file contains legacy instack data, ' 'it is wrapped with UndercloudExtraConfig and also ' 'passed in for t-h-t as a temp file created in ' '--output-dir. Note, instack hiera data may be ' 'not t-h-t compatible and will highly likely require a ' 'manual revision.') ) def _process_hieradata_overrides(self, parsed_args): """"""Count in hiera data overrides including legacy formats Return a file name that points to processed hiera data overrides file """""" target = parsed_args.hieradata_override data = open(target, 'r').read() hiera_data = yaml.safe_load(data) if not hiera_data: msg = 'Unsupported data format in hieradata override %s' % target self.log.error(msg) raise exceptions.DeploymentError(msg) # NOTE(bogdando): In t-h-t, hiera data should come in wrapped as # {parameter_defaults: {UndercloudExtraConfig: ... }} if ('parameter_defaults' not in hiera_data and 'UndercloudExtraConfig' not in hiera_data['parameter_defaults']): with tempfile.NamedTemporaryFile( dir=parsed_args.output_dir, delete=parsed_args.cleanup, prefix='tripleoclient-', suffix=os.path.splitext( os.path.basename(target))[0]) as f: self.log.info('Converting hiera overrides for t-h-t from ' 'legacy format into a tempfile %s' % f.name) with open(f.name, 'w') as tht_data: yaml.safe_dump( {'parameter_defaults': { 'UndercloudExtraConfig': hiera_data}}, tht_data, default_flow_style=False) target = f.name return target ",,80,7
openstack%2Finstack-undercloud~master~Iada099a6bddc7927d26b19776e705b1ac231b2e5,openstack/instack-undercloud,master,Iada099a6bddc7927d26b19776e705b1ac231b2e5,Fix net_config_override validations,MERGED,2018-04-24 13:00:09.000000000,2018-04-26 13:10:10.000000000,2018-04-26 13:10:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 13:00:09.000000000', 'files': ['undercloud.conf.sample', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c64a1c823e021b050c7eccaee1c42f4040b6b4e8', 'message': ""Fix net_config_override validations\n\nThere is an issue with the _validate_no_ip_change function\nwhere it doesn't work correctly with a custom net_config_override\nfile.\n\nThis patch resolves validation issue so that custom os-net-config\ntemplates are taken into account. Additionally it makes it so\nthat the net_config_override can be empty, thus providing the\nuser a means of disabling os-net-config if they choose to do so.\n\nChange-Id: Iada099a6bddc7927d26b19776e705b1ac231b2e5\nDepends-On: I69eb812af2d653cb3eb29694ae29b57ebb2de53d\nCloses-bug: #1764507\n""}]",0,563937,c64a1c823e021b050c7eccaee1c42f4040b6b4e8,9,4,1,360,,,0,"Fix net_config_override validations

There is an issue with the _validate_no_ip_change function
where it doesn't work correctly with a custom net_config_override
file.

This patch resolves validation issue so that custom os-net-config
templates are taken into account. Additionally it makes it so
that the net_config_override can be empty, thus providing the
user a means of disabling os-net-config if they choose to do so.

Change-Id: Iada099a6bddc7927d26b19776e705b1ac231b2e5
Depends-On: I69eb812af2d653cb3eb29694ae29b57ebb2de53d
Closes-bug: #1764507
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/37/563937/1 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud.conf.sample', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",3,c64a1c823e021b050c7eccaee1c42f4040b6b4e8,bug/1764507," @mock.patch('os.path.isfile', return_value=True) def test_update_empty(self, mock_isfile, mock_open): # This would be a way to disable os-net-config from running mock_open.side_effect = [ mock.mock_open(read_data='').return_value, ] undercloud._validate_no_ip_change() @mock.patch('instack_undercloud.undercloud.open')",,20,6
openstack%2Ftripleo-quickstart-extras~master~If134720ad00925b25cea0fb0d98e7833fe8e24ac,openstack/tripleo-quickstart-extras,master,If134720ad00925b25cea0fb0d98e7833fe8e24ac,Install stestr only when release is pike or newer,MERGED,2018-04-24 07:09:30.000000000,2018-04-26 13:10:09.000000000,2018-04-26 13:10:09.000000000,"[{'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8297}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-24 07:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/41379fcaa21d1bc0cfed71722c6d564142cc9ec0', 'message': ""Install stestr only when release prior to ocata\n\nThe stestr package was introduced on pike, so in order to not break the\nocata jobs, adding a conditional to not install if it's ocata release.\nAlso added conditional for newton just for compatibility\n\nChange-Id: If134720ad00925b25cea0fb0d98e7833fe8e24ac\n""}, {'number': 2, 'created': '2018-04-24 07:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/84046bf692184605ba060a7f2189dd6ff4bf5dfb', 'message': ""Install stestr only when release prior to ocata\n\nThe stestr package was introduced on pike, so in order to not break the\nocata jobs, adding a conditional to not install if it's ocata release.\nAlso added conditional for newton just for compatibility\n\nChange-Id: If134720ad00925b25cea0fb0d98e7833fe8e24ac\n""}, {'number': 3, 'created': '2018-04-24 12:19:12.000000000', 'files': ['roles/validate-tempest/tasks/pre-tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f898aa28a2283f89be0a25282b5df85780ccd943', 'message': ""Install stestr only when release is pike or newer\n\nThe stestr package was introduced on pike, so in order to not break the\nocata jobs, adding a conditional to not install if it's ocata release.\nAlso added conditional for newton just for compatibility\n\nChange-Id: If134720ad00925b25cea0fb0d98e7833fe8e24ac\n""}]",2,563843,f898aa28a2283f89be0a25282b5df85780ccd943,38,19,3,8367,,,0,"Install stestr only when release is pike or newer

The stestr package was introduced on pike, so in order to not break the
ocata jobs, adding a conditional to not install if it's ocata release.
Also added conditional for newton just for compatibility

Change-Id: If134720ad00925b25cea0fb0d98e7833fe8e24ac
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/563843/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/tasks/pre-tempest.yml'],1,41379fcaa21d1bc0cfed71722c6d564142cc9ec0,stestr,"- name: Install stestr become: yes package: name=python-stestr state=present when: tempest_format in ['container', 'packages'] and release not in ['newton', 'ocata'] ",,5,0
openstack%2Fcharm-percona-cluster~stable%2F18.02~If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,openstack/charm-percona-cluster,stable/18.02,If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,Ensure we call application_version_set with valid argument,MERGED,2018-04-26 11:00:17.000000000,2018-04-26 13:08:00.000000000,2018-04-26 13:08:00.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 11:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/8c86f3c062b91c7e54ff4034a3776efa2437d878', 'message': 'Ensure we call application_version_set with valid argument\n\nChange-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe\nCloses-Bug: #1767060\n'}, {'number': 2, 'created': '2018-04-26 11:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/0c40223d7d24c4414331e19bdc791c2b9a2c1927', 'message': 'Ensure we call application_version_set with valid argument\n\nChange-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe\nCloses-Bug: #1767060\n(cherry picked from commit 5f90ad4ca6983048b8acb268086a481853b16268)\n'}, {'number': 3, 'created': '2018-04-26 11:03:36.000000000', 'files': ['unit_tests/test_percona_utils.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/229fbad0a46d91dedc1357bc2019445dfc2d6266', 'message': 'Ensure we call application_version_set with valid argument\n\nChange-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe\nCloses-Bug: #1767060\n(cherry picked from commit fce8db8756687d2846dc3eafca1f255a89c1e09f)\n'}]",0,564458,229fbad0a46d91dedc1357bc2019445dfc2d6266,11,4,3,13686,,,0,"Ensure we call application_version_set with valid argument

Change-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe
Closes-Bug: #1767060
(cherry picked from commit fce8db8756687d2846dc3eafca1f255a89c1e09f)
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/58/564458/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_utils.py', 'hooks/percona_utils.py']",2,8c86f3c062b91c7e54ff4034a3776efa2437d878,bug/1767060-stable/18.02," # NOTE(fnordahl) ensure we do not call application_version_set with # None argument. New charm deployments will have the meta-package # installed, but upgraded deployments will not. def _possible_packages(): base = determine_packages()[0] yield base if '.' not in base: for i in range(5, 7+1): yield base+'-5.'+str(i) version = None for pkg in _possible_packages(): version = get_upstream_version(pkg) if version is not None: break else: log('Unable to determine installed version for package ""{}""' .format(determine_packages()[0]), level=WARNING) return application_version_set(version)", application_version_set(get_upstream_version(determine_packages()[0])),65,1
openstack%2Fnova~master~I9428be0e6e5b640fdda00410817925001361fd2c,openstack/nova,master,I9428be0e6e5b640fdda00410817925001361fd2c,xenapi: handle InstanceNotFound in detach_interface(),MERGED,2018-04-19 21:43:53.000000000,2018-04-26 13:01:45.000000000,2018-04-26 01:00:17.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-19 21:43:53.000000000', 'files': ['nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/xenapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a42701f89a5139acdc38f8572b1083ba528264c', 'message': ""xenapi: handle InstanceNotFound in detach_interface()\n\nCI tests frequently teardown by rolling back interface\nattachments and then deleting the server, both of which\nare asynchronous. If we're trying to detach an interface\non a guest that is gone, we don't need to log a traceback\nexception in the logs, just let the InstanceNotFound\nraise up to the ComputeManager which will handle the\nerror and log it appropriately.\n\nChange-Id: I9428be0e6e5b640fdda00410817925001361fd2c\nCloses-Bug: #1759979\n""}]",6,562838,5a42701f89a5139acdc38f8572b1083ba528264c,26,15,1,6873,,,0,"xenapi: handle InstanceNotFound in detach_interface()

CI tests frequently teardown by rolling back interface
attachments and then deleting the server, both of which
are asynchronous. If we're trying to detach an interface
on a guest that is gone, we don't need to log a traceback
exception in the logs, just let the InstanceNotFound
raise up to the ComputeManager which will handle the
error and log it appropriately.

Change-Id: I9428be0e6e5b640fdda00410817925001361fd2c
Closes-Bug: #1759979
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/562838/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/xenapi/test_vmops.py']",2,5a42701f89a5139acdc38f8572b1083ba528264c,bug/1759979," @mock.patch('nova.virt.xenapi.vmops.LOG.exception') def test_detach_interface_exception(self, mock_get_vm_opaque_ref, mock_log_exception): mock_log_exception.assert_called() @mock.patch('nova.virt.xenapi.vmops.LOG.exception', new_callable=mock.NonCallableMock) @mock.patch.object(vmops.VMOps, '_get_vm_opaque_ref', side_effect=exception.InstanceNotFound( instance_id='fake_vm_ref')) def test_detach_interface_instance_not_found( self, mock_get_vm_opaque_ref, mock_log_exception): self.assertRaises(exception.InstanceNotFound, self.vmops.detach_interface, self.fake_instance, self.fake_vif)"," def test_detach_interface_exception(self, mock_get_vm_opaque_ref):",19,1
openstack%2Fdesignate-dashboard~stable%2Fpike~I587054ebf711df79e9d46efe83cf2b1d3973efe5,openstack/designate-dashboard,stable/pike,I587054ebf711df79e9d46efe83cf2b1d3973efe5,Imported Translations from Zanata,MERGED,2018-04-26 07:28:19.000000000,2018-04-26 12:41:28.000000000,2018-04-26 12:41:27.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 07:28:19.000000000', 'files': ['designatedashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/c5f20d069738d91d34a36e9c99938b282ed9646e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I587054ebf711df79e9d46efe83cf2b1d3973efe5\n'}]",0,564409,c5f20d069738d91d34a36e9c99938b282ed9646e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I587054ebf711df79e9d46efe83cf2b1d3973efe5
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/09/564409/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,c5f20d069738d91d34a36e9c99938b282ed9646e,zanata/translations,"""POT-Creation-Date: 2018-03-29 13:54+0000\n""""PO-Revision-Date: 2018-04-25 10:31+0000\n""msgid ""Delete Domain"" msgid_plural ""Delete Domains"" msgstr[0] ""도메인 삭제"" msgid ""Delete Record"" msgid_plural ""Delete Records"" msgstr[0] ""레코드 삭제"" msgid ""Deleted Domain"" msgid_plural ""Deleted Domains"" msgstr[0] ""삭제된 도메인"" msgid ""Deleted Record"" msgid_plural ""Deleted Records"" msgstr[0] ""삭제된 레코드"" ","""POT-Creation-Date: 2018-03-26 17:49+0000\n""""PO-Revision-Date: 2018-01-30 08:38+0000\n""",18,2
openstack%2Fhorizon~master~I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2,openstack/horizon,master,I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2,Imported Translations from Zanata,MERGED,2018-04-26 07:32:56.000000000,2018-04-26 12:40:13.000000000,2018-04-26 12:40:13.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 07:32:56.000000000', 'files': ['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/850288b24cd6af782ac8e15c0abe95f31c974bd0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2\n'}]",0,564412,850288b24cd6af782ac8e15c0abe95f31c974bd0,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I56e89bc92d45cbcab32563ca03a3bc6516d5c6f2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/564412/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po']",4,850288b24cd6af782ac8e15c0abe95f31c974bd0,zanata/translations,"# Fernando Pimenta <fernando.c.pimenta@gmail.com>, 2018. #zanata""POT-Creation-Date: 2018-04-25 19:11+0000\n""""PO-Revision-Date: 2018-04-25 11:32+0000\n"" ""Last-Translator: Fernando Pimenta <fernando.c.pimenta@gmail.com>\n""msgid ""%(usedphrase)s %(used)s (No Limit)"" msgstr ""%(usedphrase)s %(used)s (Sem Limite)"" #, python-format msgid ""%(usedphrase)s %(used)s of %(available)s"" msgstr ""%(usedphrase)s %(used)s de %(available)s"" #, python-format","""POT-Creation-Date: 2018-04-20 11:28+0000\n""""PO-Revision-Date: 2018-02-01 01:43+0000\n"" ""Last-Translator: Marcelo Dieder <marcelodieder@gmail.com>\n""",82,9
openstack%2Fhorizon~master~Ida2e836cf81d2b96e0b66afed29a900c312223a4,openstack/horizon,master,Ida2e836cf81d2b96e0b66afed29a900c312223a4,Add support for application credentials,MERGED,2018-03-12 21:31:25.000000000,2018-04-26 12:40:11.000000000,2018-04-26 12:40:11.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8482}, {'_account_id': 16628}, {'_account_id': 22348}, {'_account_id': 24056}]","[{'number': 1, 'created': '2018-03-12 21:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/57f10cc883a09ae704745194b74f384fa42e0a93', 'message': 'WIP: Add support for application credentials\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 2, 'created': '2018-03-17 00:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/816533f80f681613f6b21c5c8c73343dfe6c78fb', 'message': 'WIP: Add support for application credentials\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 3, 'created': '2018-03-22 21:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f22c6217b17f1509feabf7e43dbdf8097fdc31d', 'message': 'WIP: Add support for application credentials\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 4, 'created': '2018-03-22 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4cdae42cd9d865d2b4f83fded6991c1163b6247f', 'message': 'WIP: Add support for application credentials\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 5, 'created': '2018-03-24 16:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b1d60e3e9c18eba691bea1cd9a672b02a28dfc84', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 6, 'created': '2018-03-24 17:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6b72cbe611e4c80621f3e25e94b45734b102cdfb', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 7, 'created': '2018-03-24 19:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ca0755718c9d3a3537f9e810c4a69cd6ba84fccd', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 8, 'created': '2018-03-25 19:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/187955f16f7c64b9a769055482126b54bc325531', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 9, 'created': '2018-03-25 19:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2ad6fb10c3602809deaacb77bcb98a8cd8eb6d3a', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 10, 'created': '2018-03-25 19:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ab7eda42b57b9a9f8b1b4fbf04d4f9da5aec1422', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 11, 'created': '2018-03-25 20:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f830c84e627b442636b792cc93e7ae102bd975bc', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 12, 'created': '2018-03-26 19:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/59a39db4ac7adfe04ae25868164a847fbc2a1db9', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 13, 'created': '2018-03-28 19:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f6655bba3ac254357930ec93f9515000c41e0f0', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 14, 'created': '2018-03-29 20:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1b2fc86e834cd6d82b72b2941106f7c4d8527f61', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 15, 'created': '2018-03-29 21:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/967ca852d7ace3ad8ee98935be8170bd151d6700', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 16, 'created': '2018-03-30 11:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c3e487bb0dc295cfcc8f60362e2968886301889e', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 17, 'created': '2018-03-30 12:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/059e68b5fb48a8bda74e9416040b554ce3dc7c81', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/#/c/557927/\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 18, 'created': '2018-03-30 13:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/46d758f7f85ed2fa6a36dc980c859027ab6b2926', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/557927\nDepends-On: https://review.openstack.org/557932\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 19, 'created': '2018-04-03 18:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/49d69e886e975e8cf799b99b3c881a4222ce29b4', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 20, 'created': '2018-04-03 19:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/53714c15b5a735ac3f166754dafb881526a89a8a', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/557927\nDepends-On: https://review.openstack.org/557932\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 21, 'created': '2018-04-06 21:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0d6fbc44544dc63df0e52057d317c1745866746c', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/557927\nDepends-On: https://review.openstack.org/557932\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 22, 'created': '2018-04-16 21:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/234b597a3f47d8c2ebcd58252f4f74f807da8afa', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/557927\nDepends-On: https://review.openstack.org/557932\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 23, 'created': '2018-04-16 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1f9ca3fff7878140a8b08fd50f55bc1dfc727bac', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/557927\nDepends-On: https://review.openstack.org/557932\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}, {'number': 24, 'created': '2018-04-26 07:32:42.000000000', 'files': ['openstack_dashboard/dashboards/identity/application_credentials/forms.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/clouds.yaml.template', 'openstack_dashboard/dashboards/identity/application_credentials/urls.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/detail.html', 'openstack_dashboard/dashboards/identity/application_credentials/tests.py', 'openstack_dashboard/dashboards/identity/application_credentials/panel.py', 'releasenotes/notes/bp-application-credentials-26aa907271e467c2.yaml', 'lower-constraints.txt', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/_detail_overview.html', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/index.html', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/success.html', 'openstack_dashboard/api/keystone.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/_success.html', 'requirements.txt', 'openstack_dashboard/dashboards/identity/application_credentials/__init__.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/openrc.sh.template', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/_create.html', 'openstack_dashboard/test/test_data/keystone_data.py', 'openstack_dashboard/dashboards/identity/application_credentials/views.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/create.html', 'openstack_dashboard/enabled/_3090_identity_application_credentials_panel.py', 'openstack_dashboard/dashboards/identity/application_credentials/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2d69444badeedb59c1496fd77831b795f22469ff', 'message': 'Add support for application credentials\n\nThis patch adds support for creating application credentials in\nkeystone[1]. Application credentials can be created by any user for\nthemselves. An application credential is created for the currently\nselected project. A user may provide their own secret for the application\ncredential, or may allow keystone to generate a secret for them. After\nthe application credential is created, the secret is revealed once to\nthe user. At that point they may download a clouds.yaml or openrc file\nthat contains the application credential secret and will enable them to\nuse it to authenticate. The secret is not revealed again.\n\n[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html\n\nbp application-credentials\n\nDepends-On: https://review.openstack.org/557927\nDepends-On: https://review.openstack.org/557932\nChange-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4\n'}]",105,552145,2d69444badeedb59c1496fd77831b795f22469ff,87,6,24,8482,,,0,"Add support for application credentials

This patch adds support for creating application credentials in
keystone[1]. Application credentials can be created by any user for
themselves. An application credential is created for the currently
selected project. A user may provide their own secret for the application
credential, or may allow keystone to generate a secret for them. After
the application credential is created, the secret is revealed once to
the user. At that point they may download a clouds.yaml or openrc file
that contains the application credential secret and will enable them to
use it to authenticate. The secret is not revealed again.

[1] https://docs.openstack.org/keystone/latest/user/application_credentials.html

bp application-credentials

Depends-On: https://review.openstack.org/557927
Depends-On: https://review.openstack.org/557932
Change-Id: Ida2e836cf81d2b96e0b66afed29a900c312223a4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/552145/18 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/application_credentials/__init__.py', 'openstack_dashboard/dashboards/identity/application_credentials/urls.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/detail.html', 'openstack_dashboard/dashboards/identity/application_credentials/panel.py', 'openstack_dashboard/dashboards/identity/application_credentials/views.py', 'openstack_dashboard/enabled/_3090_identity_application_credentials_panel.py', 'openstack_dashboard/dashboards/identity/application_credentials/tables.py', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/_detail_overview.html', 'openstack_dashboard/dashboards/identity/application_credentials/templates/application_credentials/index.html', 'openstack_dashboard/api/keystone.py']",10,57f10cc883a09ae704745194b74f384fa42e0a93,bp/application-credentials," @profiler.trace def application_credentials_list(request, filters=None): user = request.user.id manager = keystoneclient(request).application_credentials return manager.list(user=user) @profiler.trace def application_credential_get(request, application_credential_id): user = request.user.id manager = keystoneclient(request).application_credentials return manager.get(application_credential=application_credential_id, user=user) @profiler.trace def application_credential_delete(request, application_credential_id): user = request.user.id manager = keystoneclient(request).application_credentials return manager.delete(application_credential=application_credential_id, user=user)",,357,0
openstack%2Fcharm-percona-cluster~master~If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,openstack/charm-percona-cluster,master,If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe,Ensure we call application_version_set with valid argument,MERGED,2018-04-26 09:43:24.000000000,2018-04-26 12:26:15.000000000,2018-04-26 12:26:15.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 09:43:24.000000000', 'files': ['unit_tests/test_percona_utils.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/fce8db8756687d2846dc3eafca1f255a89c1e09f', 'message': 'Ensure we call application_version_set with valid argument\n\nChange-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe\nCloses-Bug: #1767060\n'}]",0,564432,fce8db8756687d2846dc3eafca1f255a89c1e09f,10,4,1,13686,,,0,"Ensure we call application_version_set with valid argument

Change-Id: If5ddff7eaae5e23df7d705959cd8bffd1b9c6afe
Closes-Bug: #1767060
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/32/564432/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_utils.py', 'hooks/percona_utils.py']",2,fce8db8756687d2846dc3eafca1f255a89c1e09f,bug/1767060," # NOTE(fnordahl) ensure we do not call application_version_set with # None argument. New charm deployments will have the meta-package # installed, but upgraded deployments will not. def _possible_packages(): base = determine_packages()[0] yield base if '.' not in base: for i in range(5, 7+1): yield base+'-5.'+str(i) version = None for pkg in _possible_packages(): version = get_upstream_version(pkg) if version is not None: break else: log('Unable to determine installed version for package ""{}""' .format(determine_packages()[0]), level=WARNING) return application_version_set(version)", application_version_set(get_upstream_version(determine_packages()[0])),65,1
openstack%2Fmanila~master~Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807,openstack/manila,master,Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807,Fix doc build warnings,MERGED,2018-04-25 16:49:25.000000000,2018-04-26 12:14:44.000000000,2018-04-26 12:14:43.000000000,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-04-25 16:49:25.000000000', 'files': ['doc/source/admin/shared-file-systems-quotas.rst', 'doc/source/admin/emc_unity_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/1089ada7cf10d859c0ced44e862daf662ea81a36', 'message': 'Fix doc build warnings\n\nBuilding locally produces warnings that upstream\ngate lets pass.  Fix these because upstream is\nchanging [1].\n\n[1] https://review.openstack.org/#/c/564232\n\nChange-Id: Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807\n'}]",0,564283,1089ada7cf10d859c0ced44e862daf662ea81a36,18,12,1,9003,,,0,"Fix doc build warnings

Building locally produces warnings that upstream
gate lets pass.  Fix these because upstream is
changing [1].

[1] https://review.openstack.org/#/c/564232

Change-Id: Ibc3e0e5e18d0a587c75b2b5cb4d6760d481a7807
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/564283/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/shared-file-systems-quotas.rst', 'doc/source/admin/emc_unity_driver.rst']",2,1089ada7cf10d859c0ced44e862daf662ea81a36,,"by `/net/if/mgmt` uemcli command, `mgmtInterfaceSettings` RESTful api or the system","by `/net/if/mgmt` uemcli command, `mgmtInterfaceSettings` RESTful api or the system ",2,2
openstack%2Fnova~master~Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246,openstack/nova,master,Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246,Use inspect.signature in nova.network.base_api.refresh_cache,ABANDONED,2018-04-25 20:14:03.000000000,2018-04-26 11:50:41.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-25 20:14:03.000000000', 'files': ['nova/network/base_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b6ac372bc149f9d03a8b84acea810887b10fb6f', 'message': 'Use inspect.signature in nova.network.base_api.refresh_cache\n\ninspect.getargspec is deprecated in py2 and replaced with\ninspect.signature in py3, so this adds the py3 handling in\nthe refresh_cache decorator code.\n\nChange-Id: Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246\nPartial-Bug: #1766919\n'}]",1,564334,8b6ac372bc149f9d03a8b84acea810887b10fb6f,17,14,1,6873,,,0,"Use inspect.signature in nova.network.base_api.refresh_cache

inspect.getargspec is deprecated in py2 and replaced with
inspect.signature in py3, so this adds the py3 handling in
the refresh_cache decorator code.

Change-Id: Ia9f1fa5f3c1a8d2405a0b21ce0989c65fae2d246
Partial-Bug: #1766919
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/564334/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/base_api.py'],1,8b6ac372bc149f9d03a8b84acea810887b10fb6f,bug/1766919,"import sixdef _find_instance_arg(func, *args, **kwargs): try: instance = kwargs.get('instance') if not instance: if six.PY2: # get the instance from arguments (or raise ValueError) argspec = inspect.getargspec(func) instance = args[argspec.args.index('instance') - 2] else: # get the instance from the signature (or raise KeyError) instance = inspect.signature(func).parameters['instance'] return instance except (ValueError, KeyError): msg = _('instance is a required argument to use @refresh_cache') raise Exception(msg) instance = _find_instance_arg(f, *args, **kwargs)", argspec = inspect.getargspec(f) try: # get the instance from arguments (or raise ValueError) instance = kwargs.get('instance') if not instance: instance = args[argspec.args.index('instance') - 2] except ValueError: msg = _('instance is a required argument to use @refresh_cache') raise Exception(msg) ,19,11
openstack%2Fnova~master~I57e78483a94036d3e6a5a1332892e90686b8e53b,openstack/nova,master,I57e78483a94036d3e6a5a1332892e90686b8e53b,Use inspect.signature in nova.utils.expects_func_args,ABANDONED,2018-04-25 20:14:03.000000000,2018-04-26 11:48:57.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-25 20:14:03.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05e0d2f9493a62f7bcea80f7a7a88b6c2be8ed05', 'message': 'Use inspect.signature in nova.utils.expects_func_args\n\ninspect.getargspec is deprecated in py2 and replaced with\ninspect.signature in py3, so this change adds the py3\nhandling.\n\nChange-Id: I57e78483a94036d3e6a5a1332892e90686b8e53b\nPartial-Bug: #1766919\n'}]",0,564333,05e0d2f9493a62f7bcea80f7a7a88b6c2be8ed05,30,16,1,6873,,,0,"Use inspect.signature in nova.utils.expects_func_args

inspect.getargspec is deprecated in py2 and replaced with
inspect.signature in py3, so this change adds the py3
handling.

Change-Id: I57e78483a94036d3e6a5a1332892e90686b8e53b
Partial-Bug: #1766919
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/564333/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,05e0d2f9493a62f7bcea80f7a7a88b6c2be8ed05,bug/1766919," if six.PY2: arg_names, a, kw, _default = inspect.getargspec(base_f) if a or kw or set(args) <= set(arg_names): # NOTE (ndipanov): We can't really tell if correct stuff # will be passed if it's a function with *args or **kwargs # so we still carry on and hope for the best return dec(f) else: signature = inspect.signature(base_f) # NOTE (ndipanov): We can't really tell if correct stuff # will be passed if it's a function with *args or **kwargs # so we still carry on and hope for the best for param in signature.parameters.values(): # VAR_POSITIONAL is for *args if param.kind == param.VAR_POSITIONAL: return dec(f) # KEYWORD_ONLY is for anything after * or *args # VAR_KEYWORD is for **kwargs if param.kind in (param.KEYWORD_ONLY, param.VAR_KEYWORD): return dec(f) if set(args) <= set(signature.parameters.keys()): return dec(f) raise TypeError(""Decorated function %(f_name)s does not "" ""have the arguments expected by the "" ""decorator %(d_name)s"" % {'f_name': base_f.__name__, 'd_name': dec.__name__})"," arg_names, a, kw, _default = inspect.getargspec(base_f) if a or kw or set(args) <= set(arg_names): # NOTE (ndipanov): We can't really tell if correct stuff will # be passed if it's a function with *args or **kwargs so # we still carry on and hope for the best return dec(f) else: raise TypeError(""Decorated function %(f_name)s does not "" ""have the arguments expected by the "" ""decorator %(d_name)s"" % {'f_name': base_f.__name__, 'd_name': dec.__name__})",26,11
openstack%2Fqinling~master~Ic0132619b0aa513cd84abc278006623b42ef15b1,openstack/qinling,master,Ic0132619b0aa513cd84abc278006623b42ef15b1,Delete all its versions when deleting function,MERGED,2018-04-25 08:05:27.000000000,2018-04-26 11:45:13.000000000,2018-04-26 11:45:13.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 08:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/a419330bbe0b78cd219d1000938a64c4dabf02c5', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 2, 'created': '2018-04-25 23:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/6609da7a5a7cc002e9df93195c4124063b36b658', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 3, 'created': '2018-04-26 02:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/b562d0596bd5f14e1cd44c273ab919bac914aabf', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 4, 'created': '2018-04-26 03:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/dfcfbc169d480702d5716921e08d438e616d8ef9', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 5, 'created': '2018-04-26 04:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/53be059ea0d06e4ec64d990479bfaa9cd8a3d5c3', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 6, 'created': '2018-04-26 05:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/b1cd1718a8c6ba39290b0c1a87f629403016850b', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 7, 'created': '2018-04-26 07:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/9b81747d8de3ed12f4373da2e3635b153193e39b', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}, {'number': 8, 'created': '2018-04-26 10:22:24.000000000', 'files': ['qinling/api/controllers/v1/function.py', 'qinling/db/api.py', 'qinling/db/sqlalchemy/models.py', 'qinling/tests/unit/api/controllers/v1/test_function.py', 'qinling/services/periodics.py', 'qinling/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/3f303eb60c8119fb0bf0a4b20f093b0664b13765', 'message': 'Delete all its versions when deleting function\n\nChange-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1\nStory: 2001829\nTask: 14423\n'}]",5,564126,3f303eb60c8119fb0bf0a4b20f093b0664b13765,31,3,8,6732,,,0,"Delete all its versions when deleting function

Change-Id: Ic0132619b0aa513cd84abc278006623b42ef15b1
Story: 2001829
Task: 14423
",git fetch https://review.opendev.org/openstack/qinling refs/changes/26/564126/8 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/api/controllers/v1/function.py', 'qinling/tests/unit/api/controllers/v1/test_function.py']",2,a419330bbe0b78cd219d1000938a64c4dabf02c5,delete-function-with-versions,"from qinling.db import api as db_api @mock.patch('qinling.utils.etcd_util.delete_function') @mock.patch('qinling.rpc.EngineClient.delete_function') @mock.patch('qinling.storage.file_system.FileSystemStorage.delete') def test_delete_with_versions(self, mock_package_delete, mock_engine_delete, mock_etcd_delete): db_func = self.create_function(runtime_id=self.runtime_id) func_id = db_func.id db_api.increase_function_version(func_id, 0) db_api.increase_function_version(func_id, 1) resp = self.app.delete('/v1/functions/%s' % func_id) self.assertEqual(204, resp.status_int) self.assertEqual(3, mock_package_delete.call_count) self.assertEqual(3, mock_engine_delete.call_count) self.assertEqual(3, mock_etcd_delete.call_count) mock_package_delete.assert_has_calls( [ mock.call(unit_base.DEFAULT_PROJECT_ID, func_id, None, version=1), mock.call(unit_base.DEFAULT_PROJECT_ID, func_id, None, version=2), mock.call(unit_base.DEFAULT_PROJECT_ID, func_id, ""fake_md5"") ] ) mock_engine_delete.assert_has_calls( [ mock.call(func_id, version=1), mock.call(func_id, version=2), mock.call(func_id) ] ) mock_etcd_delete.assert_has_calls( [ mock.call(func_id, version=1), mock.call(func_id, version=2), mock.call(func_id) ] ) ",,97,9
openstack%2Fnetworking-ovn~master~I0df72a17f78c011d68ae5662e8550ce7714c1680,openstack/networking-ovn,master,I0df72a17f78c011d68ae5662e8550ce7714c1680,Properly configure the environment for functional tests,MERGED,2018-04-25 09:44:05.000000000,2018-04-26 11:39:22.000000000,2018-04-26 11:39:22.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-25 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a793a54dcafe3ac2c9cbe51746d874a723b8bdab', 'message': ""DO NOT REVIEW: Properly configure networking-ovn's functional test env\n\nChange-Id: I0df72a17f78c011d68ae5662e8550ce7714c1680\n""}, {'number': 2, 'created': '2018-04-25 10:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7347391da2dedf9f03c2fc180cebd5039287badb', 'message': ""DO NOT REVIEW: Properly configure networking-ovn's functional test env\n\nChange-Id: I0df72a17f78c011d68ae5662e8550ce7714c1680\n""}, {'number': 3, 'created': '2018-04-25 10:30:55.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/77a38a1ce7d85e872ef1967831cb24863dbdfc0a', 'message': 'Properly configure the environment for functional tests\n\nThis patch is configuring the functional tests environment so we can\nalso run the database migration tests.\n\nThe patch includes a new script at tools/configure_for_func_testing.sh\nwhich runs as part of the gate_hook.sh for the dsvm-functional tests and\nis responsible for installing and configuring the environment.\n\nCloses-Bug: #1766639\nChange-Id: I0df72a17f78c011d68ae5662e8550ce7714c1680\n'}]",0,564152,77a38a1ce7d85e872ef1967831cb24863dbdfc0a,10,5,3,6773,,,0,"Properly configure the environment for functional tests

This patch is configuring the functional tests environment so we can
also run the database migration tests.

The patch includes a new script at tools/configure_for_func_testing.sh
which runs as part of the gate_hook.sh for the dsvm-functional tests and
is responsible for installing and configuring the environment.

Closes-Bug: #1766639
Change-Id: I0df72a17f78c011d68ae5662e8550ce7714c1680
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/52/564152/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/contrib/gate_hook.sh', 'tools/configure_for_func_testing.sh']",2,a793a54dcafe3ac2c9cbe51746d874a723b8bdab,bug/1766639,"#!/usr/bin/env bash # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -e # Control variable used to determine whether to execute this script # directly or allow the gate_hook to import. IS_GATE=${IS_GATE:-False} USE_CONSTRAINT_ENV=${USE_CONSTRAINT_ENV:-True} if [[ ""$IS_GATE"" != ""True"" ]] && [[ ""$#"" -lt 1 ]]; then >&2 echo ""Usage: $0 /path/to/devstack [-i] Configure a host to run Networking OVN's functional test suite. -i Install Networking OVN's package dependencies. By default, it is assumed that devstack has already been used to deploy neutron to the target host and that package dependencies need not be installed. Warning: This script relies on devstack to perform extensive modification to the underlying host. It is recommended that it be invoked only on a throw-away VM."" exit 1 fi # Skip the first argument OPTIND=2 while getopts "":i"" opt; do case $opt in i) INSTALL_BASE_DEPENDENCIES=True ;; esac done # Default to environment variables to permit the gate_hook to override # when sourcing. VENV=${VENV:-dsvm-functional} DEVSTACK_PATH=${DEVSTACK_PATH:-$1} PROJECT_NAME=${PROJECT_NAME:-networking-ovn} REPO_BASE=${GATE_DEST:-$(cd $(dirname ""$0"")/../.. && pwd)} INSTALL_MYSQL_ONLY=${INSTALL_MYSQL_ONLY:-False} # The gate should automatically install dependencies. INSTALL_BASE_DEPENDENCIES=${INSTALL_BASE_DEPENDENCIES:-$IS_GATE} if [ ! -f ""$DEVSTACK_PATH/stack.sh"" ]; then >&2 echo ""Unable to find devstack at '$DEVSTACK_PATH'. Please verify that the specified path points to a valid devstack repo."" exit 1 fi set -x function _init { # Subsequently-called devstack functions depend on the following variables. HOST_IP=127.0.0.1 FILES=$DEVSTACK_PATH/files TOP_DIR=$DEVSTACK_PATH source $DEVSTACK_PATH/stackrc # Allow the gate to override values set by stackrc. DEST=${GATE_DEST:-$DEST} STACK_USER=${GATE_STACK_USER:-$STACK_USER} GetDistro source $DEVSTACK_PATH/tools/fixup_stuff.sh fixup_uca } function _install_base_deps { echo_summary ""Installing base dependencies"" INSTALL_TESTONLY_PACKAGES=True PACKAGES=$(get_packages general) # Do not install 'python-' prefixed packages other than # python-dev*. Networking OVN's functional testing relies on deployment # to a tox env so there is no point in installing python # dependencies system-wide. PACKAGES=$(echo $PACKAGES | perl -pe 's|python-(?!dev)[^ ]*||g') install_package $PACKAGES } # _install_databases [install_pg] function _install_databases { local install_pg=${1:-True} echo_summary ""Installing databases"" # Avoid attempting to configure the db if it appears to already # have run. The setup as currently defined is not idempotent. if mysql openstack_citest > /dev/null 2>&1 < /dev/null; then echo_summary ""DB config appears to be complete, skipping."" return 0 fi MYSQL_PASSWORD=${MYSQL_PASSWORD:-secretmysql} DATABASE_PASSWORD=${DATABASE_PASSWORD:-secretdatabase} source $DEVSTACK_PATH/lib/database enable_service mysql initialize_database_backends install_database configure_database_mysql if [[ ""$install_pg"" == ""True"" ]]; then enable_service postgresql initialize_database_backends install_database configure_database_postgresql fi # Set up the 'openstack_citest' user and database in each backend tmp_dir=$(mktemp -d) trap ""rm -rf $tmp_dir"" EXIT cat << EOF > $tmp_dir/mysql.sql CREATE DATABASE openstack_citest; CREATE USER 'openstack_citest'@'localhost' IDENTIFIED BY 'openstack_citest'; CREATE USER 'openstack_citest' IDENTIFIED BY 'openstack_citest'; GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest'@'localhost'; GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest'; FLUSH PRIVILEGES; EOF /usr/bin/mysql -u root < $tmp_dir/mysql.sql if [[ ""$install_pg"" == ""True"" ]]; then cat << EOF > $tmp_dir/postgresql.sql CREATE USER openstack_citest WITH CREATEDB LOGIN PASSWORD 'openstack_citest'; CREATE DATABASE openstack_citest WITH OWNER openstack_citest; EOF # User/group postgres needs to be given access to tmp_dir setfacl -m g:postgres:rwx $tmp_dir sudo -u postgres /usr/bin/psql --file=$tmp_dir/postgresql.sql fi } function _install_post_devstack { echo_summary ""Performing post-devstack installation"" _install_databases } function configure_host_for_func_testing { echo_summary ""Configuring host for functional testing"" if [[ ""$INSTALL_BASE_DEPENDENCIES"" == ""True"" ]]; then # Installing of the following can be achieved via devstack by # installing neutron, so their installation is conditional to # minimize the work to do on a devstack-configured host. _install_base_deps fi _install_post_devstack } _init if [[ ""$IS_GATE"" != ""True"" ]]; then if [[ ""$INSTALL_MYSQL_ONLY"" == ""True"" ]]; then _install_databases nopg else configure_host_for_func_testing fi fi ",,193,0
openstack%2Fneutron~master~I25d9c87225feda1b5ddd442dd01529424186e05b,openstack/neutron,master,I25d9c87225feda1b5ddd442dd01529424186e05b,ovs-fw: Apply openflow rules immediately during update,MERGED,2018-04-18 10:38:37.000000000,2018-04-26 11:38:18.000000000,2018-04-26 11:38:18.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9200}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-18 10:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b6ad9352692ea3143e97ee5f2d7476573d71f0d', 'message': ""ovs-fw: Apply openflow rules immediately during update\n\nBecause update operation updates openflow rules three times:\n 1) New rules with new cookie\n 2) Delete old rules with old cookie\n 3) Change new cookie back to old cookie\n\nit's need to apply new rules after each update. The reason is that\ndelete part uses --strict parameter that cannot be combined with\nnon-strict delete. This patch applies new flows after each subsequent\nupdate and also lower interval of ICMP packets being send during\nfirewall blink test.\n\nChange-Id: I25d9c87225feda1b5ddd442dd01529424186e05b\nCloses-bug: #1708731\n""}, {'number': 2, 'created': '2018-04-18 14:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fbf9f30c6baebaf3f006c6ce18b42231932b8c5', 'message': ""ovs-fw: Apply openflow rules immediately during update\n\nBecause update operation updates openflow rules three times:\n 1) New rules with new cookie\n 2) Delete old rules with old cookie\n 3) Change new cookie back to old cookie\n\nand the step 2) uses --strict parameter, it's need to apply rules before\ndeleting the old rules because --strict parameter cannot be combined\nwith non-strict. This patch applies openflow rules after step 1), then\n--strict rules in step 2 are applied right away and then rest of delete\npart from 2) and all new rules from 3) are applied together.\n\nChange-Id: I25d9c87225feda1b5ddd442dd01529424186e05b\nCloses-bug: #1708731\n""}, {'number': 3, 'created': '2018-04-23 14:50:30.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b2c40366b3b65876e5465efae05b171be1bc473', 'message': ""ovs-fw: Apply openflow rules immediately during update\n\nBecause update operation updates openflow rules three times:\n 1) New rules with new cookie\n 2) Delete old rules with old cookie\n 3) Change new cookie back to old cookie\n\nand the step 2) uses --strict parameter, it's needed to apply rules\nbefore deleting the old rules because --strict parameter cannot be\ncombined with non-strict. This patch applies openflow rules after\nstep 1), then --strict rules in step 2 are applied right away and then\nrest of delete part from 2) and all new rules from 3) are applied\ntogether.\n\nThis patch adds optional interval parameter to Pinger class which sends\nmore ICMP packets per second in the firewall blink tests to increase a\nchance of sending a packet while firewall is in inconsistent state.\n\nChange-Id: I25d9c87225feda1b5ddd442dd01529424186e05b\nCloses-bug: #1708731\n""}]",10,562220,8b2c40366b3b65876e5465efae05b171be1bc473,44,12,3,8655,,,0,"ovs-fw: Apply openflow rules immediately during update

Because update operation updates openflow rules three times:
 1) New rules with new cookie
 2) Delete old rules with old cookie
 3) Change new cookie back to old cookie

and the step 2) uses --strict parameter, it's needed to apply rules
before deleting the old rules because --strict parameter cannot be
combined with non-strict. This patch applies openflow rules after
step 1), then --strict rules in step 2 are applied right away and then
rest of delete part from 2) and all new rules from 3) are applied
together.

This patch adds optional interval parameter to Pinger class which sends
more ICMP packets per second in the firewall blink tests to increase a
chance of sending a packet while firewall is in inconsistent state.

Change-Id: I25d9c87225feda1b5ddd442dd01529424186e05b
Closes-bug: #1708731
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/562220/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,4b6ad9352692ea3143e97ee5f2d7476573d71f0d,bug/1708731," def test_update_port_filter_applies_added_flows(self): """"""Check flows are applied right after _set_flows is called."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) with self.firewall.defer_apply(): self.firewall.update_port_filter(port_dict) self.assertEqual(3, self.mock_bridge.apply_flows.call_count) ",,19,2
openstack%2Fkuryr-kubernetes~master~I0a10a408a6ae6e015ce5f5243d61cfcff230df44,openstack/kuryr-kubernetes,master,I0a10a408a6ae6e015ce5f5243d61cfcff230df44,Update lower-constraints to match requirements.txt,MERGED,2018-04-25 14:54:16.000000000,2018-04-26 11:34:37.000000000,2018-04-26 11:34:36.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-04-25 14:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/06ea2a4436234b32ca74828d67f8a8957f2cdb20', 'message': ""Update lower-constraints to match requirements.txt\n\nSeems like we've did something wrong when applying initial\nlower-constraints.txt and now the job fails with errors about that file\nbeing incompatible with requirements.txt and test-requirements.txt.\n\nThis commit attempts to fix that by updating lower-constraints.txt to\nmatch requirements.\n\nChange-Id: I0a10a408a6ae6e015ce5f5243d61cfcff230df44\nCloses-Bug: 1766898\n""}, {'number': 2, 'created': '2018-04-25 15:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a18b8e22d0155ba67e979bd2ed0a7b9e24d0ee94', 'message': ""Update lower-constraints to match requirements.txt\n\nSeems like we've did something wrong when applying initial\nlower-constraints.txt and now the job fails with errors about that file\nbeing incompatible with requirements.txt and test-requirements.txt.\n\nThis commit attempts to fix that by updating lower-constraints.txt to\nmatch requirements.\n\nChange-Id: I0a10a408a6ae6e015ce5f5243d61cfcff230df44\nCloses-Bug: 1766898\n""}, {'number': 3, 'created': '2018-04-25 16:01:41.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5b9bb03e772752a86c80cdd4c9d7683404319383', 'message': ""Update lower-constraints to match requirements.txt\n\nSeems like we've did something wrong when applying initial\nlower-constraints.txt and now the job fails with errors about that file\nbeing incompatible with requirements.txt and test-requirements.txt.\n\nThis commit attempts to fix that by updating lower-constraints.txt to\nmatch requirements.\n\nChange-Id: I0a10a408a6ae6e015ce5f5243d61cfcff230df44\nCloses-Bug: 1766898\n""}]",0,564241,5b9bb03e772752a86c80cdd4c9d7683404319383,17,5,3,11600,,,0,"Update lower-constraints to match requirements.txt

Seems like we've did something wrong when applying initial
lower-constraints.txt and now the job fails with errors about that file
being incompatible with requirements.txt and test-requirements.txt.

This commit attempts to fix that by updating lower-constraints.txt to
match requirements.

Change-Id: I0a10a408a6ae6e015ce5f5243d61cfcff230df44
Closes-Bug: 1766898
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/564241/3 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,06ea2a4436234b32ca74828d67f8a8957f2cdb20,bug/1766898,cotyledon==1.3.0 coverage==4.0 ddt==1.0.1docutils==0.11eventlet==0.18.2Flask==0.10.0kuryr-lib==0.5.0openstackdocstheme==1.18.1os-vif==1.7.0oslo.cache==1.26.0oslo.log==3.36.0oslo.reports==1.18.0 oslo.serialization==2.18.0 oslo.service==1.24.0 oslo.utils==3.33.0oslotest==3.2.0pbr==2.0.0python-subunit==1.0.0reno==2.5.0requests==2.14.2retrying==1.2.3six==1.10.0Sphinx==1.6.2stevedore==1.20.0testrepository==0.0.18testscenarios==0.4 testtools==2.2.0,cotyledon==1.6.8 coverage==4.5.1 ddt==1.1.2docutils==0.14eventlet==0.20.0Flask==0.12.2kuryr-lib==0.7.0openstackdocstheme==1.19.0os-vif==1.10.0oslo.cache==1.29.0oslo.log==3.37.0oslo.reports==1.27.0 oslo.serialization==2.25.0 oslo.service==1.30.0 oslo.utils==3.36.0oslotest==3.3.0pbr==3.1.1python-subunit==1.2.0reno==2.7.0requests==2.18.4retrying==1.3.3six==1.11.0Sphinx==1.6.5stevedore==1.28.0testrepository==0.0.20testscenarios==0.5.0 testtools==2.3.0,27,27
openstack%2Fnetworking-ovn~master~Ie3b600d4f3d7a3d594685848f35868c438f20976,openstack/networking-ovn,master,Ie3b600d4f3d7a3d594685848f35868c438f20976,Fix test_models_sync() functional test,MERGED,2018-04-24 15:06:30.000000000,2018-04-26 11:34:07.000000000,2018-04-26 11:34:07.000000000,"[{'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-24 15:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aa04f751f578e0e09090109bcdbdca8a46ba7436', 'message': ""Fix test_models_sync() functional test\n\nThis patch is fixing the test_models_sync() test from oslo.db by removing\nthe inconsistencies from the models.py module and the migration script\nfor the ovn_revision_numbers table.\n\nNote that this test doesn't current run in our gate, it gets skipped\nbecause the databases are not properly configured when setting up the\nfunctional tests. For now, it's possible to configure mysql by hand to\ntest this patch by doing the following:\n\n1. Stack DevStack as per our documentation\n\n2. Configure Mysql:\n\n  $ cat << EOF > /tmp/mysql.sql\n  CREATE DATABASE openstack_citest;\n  CREATE USER 'openstack_citest'@'localhost' IDENTIFIED BY\n  'openstack_citest';\n  CREATE USER 'openstack_citest' IDENTIFIED BY 'openstack_citest';\n  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest'@'localhost';\n  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest';\n  FLUSH PRIVILEGES;\n  EOF\n\n  $ /usr/bin/mysql -u root < /tmp/mysql.sql\n\n3. Change to the networking-ovn directory\n\n  $ cd ~/networking-ovn\n\n4. Run the test_models_sync() functional test:\n\n  $ tox -edsvm-functional TestModelsMigrationsMysql.test_models_sync\n\nChange-Id: Ie3b600d4f3d7a3d594685848f35868c438f20976\n""}, {'number': 2, 'created': '2018-04-24 15:22:59.000000000', 'files': ['networking_ovn/db/migration/alembic_migrations/versions/queens/expand/f48286668608_add_ovn_revision_numbers_table.py', 'networking_ovn/db/models.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b892650a6e62ac71679409cac767b58d867021bf', 'message': ""Fix test_models_sync() functional test\n\nThis patch is fixing the test_models_sync() test from oslo.db by removing\nthe inconsistencies from the models.py module and the migration script\nfor the ovn_revision_numbers table.\n\nNote that this test doesn't current run in our gate, it gets skipped\nbecause the databases are not properly configured when setting up the\nfunctional tests. For now, it's possible to configure mysql by hand to\ntest this patch by doing the following:\n\n1. Stack DevStack as per our documentation\n\n2. Configure Mysql:\n\n  $ cat << EOF > /tmp/mysql.sql\n  CREATE DATABASE openstack_citest;\n  CREATE USER 'openstack_citest'@'localhost' IDENTIFIED BY\n  'openstack_citest';\n  CREATE USER 'openstack_citest' IDENTIFIED BY 'openstack_citest';\n  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest'@'localhost';\n  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest';\n  FLUSH PRIVILEGES;\n  EOF\n\n  $ /usr/bin/mysql -u root < /tmp/mysql.sql\n\n3. Change to the networking-ovn directory\n\n  $ cd ~/networking-ovn\n\n4. Run the test_models_sync() functional test:\n\n  $ tox -edsvm-functional TestModelsMigrationsMysql.test_models_sync\n\nPartial-Bug: #1766639\nChange-Id: Ie3b600d4f3d7a3d594685848f35868c438f20976\n""}]",0,563994,b892650a6e62ac71679409cac767b58d867021bf,18,4,2,6773,,,0,"Fix test_models_sync() functional test

This patch is fixing the test_models_sync() test from oslo.db by removing
the inconsistencies from the models.py module and the migration script
for the ovn_revision_numbers table.

Note that this test doesn't current run in our gate, it gets skipped
because the databases are not properly configured when setting up the
functional tests. For now, it's possible to configure mysql by hand to
test this patch by doing the following:

1. Stack DevStack as per our documentation

2. Configure Mysql:

  $ cat << EOF > /tmp/mysql.sql
  CREATE DATABASE openstack_citest;
  CREATE USER 'openstack_citest'@'localhost' IDENTIFIED BY
  'openstack_citest';
  CREATE USER 'openstack_citest' IDENTIFIED BY 'openstack_citest';
  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest'@'localhost';
  GRANT ALL PRIVILEGES ON *.* TO 'openstack_citest';
  FLUSH PRIVILEGES;
  EOF

  $ /usr/bin/mysql -u root < /tmp/mysql.sql

3. Change to the networking-ovn directory

  $ cd ~/networking-ovn

4. Run the test_models_sync() functional test:

  $ tox -edsvm-functional TestModelsMigrationsMysql.test_models_sync

Partial-Bug: #1766639
Change-Id: Ie3b600d4f3d7a3d594685848f35868c438f20976
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/94/563994/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/db/migration/alembic_migrations/versions/queens/expand/f48286668608_add_ovn_revision_numbers_table.py', 'networking_ovn/db/models.py']",2,aa04f751f578e0e09090109bcdbdca8a46ba7436,bug/1766639," default=0, nullable=False) default=sa.func.now(), nullable=False) updated_at = sa.Column(sa.TIMESTAMP, default=sa.func.now(), onupdate=sa.func.now(), nullable=True)"," server_default='0', nullable=False) default=sa.func.now()) updated_at = sa.Column(sa.TIMESTAMP, server_default=sa.func.now(), onupdate=sa.func.now())",6,6
openstack%2Fopenstack-ansible~stable%2Fqueens~I928d7eda5abe5c88246323ded971d312284c2c2b,openstack/openstack-ansible,stable/queens,I928d7eda5abe5c88246323ded971d312284c2c2b,Enable horizon fwaas panels when firewall_v2 driver is enabled,MERGED,2018-04-25 11:11:54.000000000,2018-04-26 11:30:27.000000000,2018-04-26 11:30:27.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-04-25 11:11:54.000000000', 'files': ['inventory/group_vars/horizon_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9ebb91bb09a21db42378aacc4c04e91823ed979f', 'message': 'Enable horizon fwaas panels when firewall_v2 driver is enabled\n\nChange-Id: I928d7eda5abe5c88246323ded971d312284c2c2b\n(cherry picked from commit c5140903baa7773e7f41e0d00a90bcbf256fd183)\n'}]",0,564164,9ebb91bb09a21db42378aacc4c04e91823ed979f,8,5,1,6816,,,0,"Enable horizon fwaas panels when firewall_v2 driver is enabled

Change-Id: I928d7eda5abe5c88246323ded971d312284c2c2b
(cherry picked from commit c5140903baa7773e7f41e0d00a90bcbf256fd183)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/564164/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/horizon_all.yml'],1,9ebb91bb09a21db42378aacc4c04e91823ed979f,horizon-fwaas-panels-stable/queens,"horizon_enable_neutron_fwaas: ""{{ neutron_plugin_base is defined and (neutron_plugin_base | intersect(['firewall', 'firewall_v2']) | length > 0) }}""","horizon_enable_neutron_fwaas: ""{{ neutron_plugin_base is defined and 'firewall' in neutron_plugin_base }}""",1,1
openstack%2Fmistral~master~I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,openstack/mistral,master,I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c,Add release note for jinja expression bug,MERGED,2018-04-26 09:58:58.000000000,2018-04-26 11:23:58.000000000,2018-04-26 11:23:58.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-04-26 09:58:58.000000000', 'files': ['releasenotes/notes/fix-jinja-expression-handling-135451645d7a4e6f.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/a70df9e99140413a76564cb7f0f0f8acfcf95b31', 'message': 'Add release note for jinja expression bug\n\nChange-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c\n'}]",0,564434,a70df9e99140413a76564cb7f0f0f8acfcf95b31,10,4,1,27349,,,0,"Add release note for jinja expression bug

Change-Id: I1b89ef4bdd081e0a32c6442b4d142fa23dceb43c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/34/564434/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-jinja-expression-handling-135451645d7a4e6f.yaml'],1,a70df9e99140413a76564cb7f0f0f8acfcf95b31,release_note_for_jinja_exception,--- fixes: - Fixed jinja expression error handling where invalid expression could prevent action or task status to be correctly updated. ,,5,0
openstack%2Fmistral~master~I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9,openstack/mistral,master,I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9,Update mistral upgrade guide,MERGED,2018-04-23 03:10:17.000000000,2018-04-26 11:23:57.000000000,2018-04-26 11:23:57.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 03:10:17.000000000', 'files': ['doc/source/admin/upgrade_guide.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d2be248bd31895d510ce8a6fa677de357f47b206', 'message': 'Update mistral upgrade guide\n\nMistral-db-manage replaces check_migration with branches now.\n\nChange-Id: I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",0,563491,d2be248bd31895d510ce8a6fa677de357f47b206,7,3,1,25167,,,0,"Update mistral upgrade guide

Mistral-db-manage replaces check_migration with branches now.

Change-Id: I36f1e3e6cfe0c0d94667c5f7f4c58297c10833a9
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/91/563491/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrade_guide.rst'],1,d2be248bd31895d510ce8a6fa677de357f47b206,fix-doc, $ mistral-db-manage --config-file /path/to/mistral.conf branches, $ mistral-db-manage --config-file /path/to/mistral.conf check_migration,1,1
openstack%2Fmistral~master~I7a80c8d8325d3c4446e6a0082a354552bc1adfa7,openstack/mistral,master,I7a80c8d8325d3c4446e6a0082a354552bc1adfa7,Fix error about SenlinAction,MERGED,2018-03-05 10:25:25.000000000,2018-04-26 11:23:57.000000000,2018-04-26 11:23:57.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 25167}]","[{'number': 1, 'created': '2018-03-05 10:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a737c5f2a3263eb1cd7aafd97c7250c2d0871e14', 'message': 'Update SUPPORTED_MODULES\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 2, 'created': '2018-03-05 13:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e6f9ad0e4c4afb771de19b8842d4e80f0c6d25e9', 'message': 'Update SenlinAction\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 3, 'created': '2018-03-06 08:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e51fd514c370014e26a915605a5ae5e6f437ec26', 'message': 'Update SenlinAction\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 4, 'created': '2018-03-16 06:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/63d0cfe4ba41504f613d3e00bf4effb157278209', 'message': 'Update SenlinAction\n\nThe senlin action populate failed.\n\nCloses-Bug: 1756252\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 5, 'created': '2018-04-04 02:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/318218d9daebcf1c7ed8a3177d276ba2ad92ce03', 'message': 'Update SenlinAction\n\nThe senlin action populate failed.\n\nCloses-Bug: 1756252\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 6, 'created': '2018-04-12 01:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d98cce4d6e335de4f14037b5ef33ef3a4f59fb14', 'message': 'Update SenlinAction\n\nThe senlin action populate failed.\n\nCloses-Bug: 1756252\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 7, 'created': '2018-04-17 06:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0b8fc1d078f3ae3b8f7a53dc8e2ee5649df441ca', 'message': 'Fix error about SenlinAction\n\nThe senlin action is not found after populating database.\n\nCloses-Bug: 1756252\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}, {'number': 8, 'created': '2018-04-25 11:25:32.000000000', 'files': ['mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/actions/openstack/actions.py', 'mistral/actions/generator_factory.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/92b6016e3d4227f9c1bc739e1963d95938968c0a', 'message': 'Fix error about SenlinAction\n\nThe senlin action is not found after populating database.\n\nCloses-Bug: 1756252\n\nChange-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7\n'}]",0,549729,92b6016e3d4227f9c1bc739e1963d95938968c0a,41,6,8,25167,,,0,"Fix error about SenlinAction

The senlin action is not found after populating database.

Closes-Bug: 1756252

Change-Id: I7a80c8d8325d3c4446e6a0082a354552bc1adfa7
",git fetch https://review.opendev.org/openstack/mistral refs/changes/29/549729/3 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/generator_factory.py'],1,a737c5f2a3263eb1cd7aafd97c7250c2d0871e14,bug/1756252," 'Glare', 'Senlin'", 'Glare',1,1
openstack%2Fkolla~master~I75981c9691bddcccda6126aa9f4a7fa7257e196e,openstack/kolla,master,I75981c9691bddcccda6126aa9f4a7fa7257e196e,Additional packages to Dockefile,MERGED,2018-04-19 20:23:06.000000000,2018-04-26 11:15:37.000000000,2018-04-26 11:15:37.000000000,"[{'_account_id': 5241}, {'_account_id': 10061}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-19 20:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d86e60ab3004f95a7fd0adcf52096029095e662c', 'message': 'Additional packages to Dockefile\n\nAdding the missing packages to the dockerfile\n\nChange-Id: I75981c9691bddcccda6126aa9f4a7fa7257e196e\n'}, {'number': 2, 'created': '2018-04-23 13:21:10.000000000', 'files': ['docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bde747dab92e04e4be37d1104446f2573a06ba5', 'message': 'Additional packages to Dockefile\n\nAdding the missing packages to the dockerfile\n\nChange-Id: I75981c9691bddcccda6126aa9f4a7fa7257e196e\n'}]",1,562821,9bde747dab92e04e4be37d1104446f2573a06ba5,15,6,2,10061,,,0,"Additional packages to Dockefile

Adding the missing packages to the dockerfile

Change-Id: I75981c9691bddcccda6126aa9f4a7fa7257e196e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/562821/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,d86e60ab3004f95a7fd0adcf52096029095e662c,collectd_packages," 'collectd-ping', 'collectd-mysql', 'collectd-turbostat',",,3,0
openstack%2Fsyntribos~master~Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0,openstack/syntribos,master,Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0,TrivialFix: remove redundant import aliases,ABANDONED,2018-01-24 02:22:02.000000000,2018-04-26 11:12:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-24 02:22:02.000000000', 'files': ['syntribos/tests/fuzz/sql.py', 'syntribos/tests/fuzz/buffer_overflow.py', 'syntribos/tests/fuzz/integer_overflow.py', 'syntribos/tests/fuzz/redos.py', 'syntribos/tests/fuzz/command_injection.py', 'syntribos/runner.py', 'syntribos/tests/fuzz/xml_external.py', 'syntribos/tests/fuzz/user_defined.py', 'syntribos/checks/__init__.py', 'syntribos/extensions/identity/client.py', 'syntribos/tests/fuzz/base_fuzz.py', 'syntribos/tests/fuzz/xss.py', 'syntribos/checks/header/__init__.py', 'syntribos/tests/fuzz/json_depth_overflow.py'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/2173f4daad1f7b4e67d72068985920e93b575aac', 'message': 'TrivialFix: remove redundant import aliases\n\nChange-Id: Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0\n'}]",0,537217,2173f4daad1f7b4e67d72068985920e93b575aac,3,1,1,18320,,,0,"TrivialFix: remove redundant import aliases

Change-Id: Ibe9808fb50310d9bacdcce1f17146de73fcc5cf0
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/17/537217/1 && git format-patch -1 --stdout FETCH_HEAD,"['syntribos/tests/fuzz/sql.py', 'syntribos/tests/fuzz/buffer_overflow.py', 'syntribos/tests/fuzz/integer_overflow.py', 'syntribos/tests/fuzz/redos.py', 'syntribos/tests/fuzz/command_injection.py', 'syntribos/runner.py', 'syntribos/tests/fuzz/xml_external.py', 'syntribos/tests/fuzz/user_defined.py', 'syntribos/checks/__init__.py', 'syntribos/extensions/identity/client.py', 'syntribos/tests/fuzz/base_fuzz.py', 'syntribos/tests/fuzz/xss.py', 'syntribos/checks/header/__init__.py', 'syntribos/tests/fuzz/json_depth_overflow.py']",14,2173f4daad1f7b4e67d72068985920e93b575aac,,from syntribos.checks import has_string from syntribos.checks import time_diff,from syntribos.checks import has_string as has_string from syntribos.checks import time_diff as time_diff,21,21
openstack%2Fpython-glanceclient~master~I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a,openstack/python-glanceclient,master,I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a,TrivialFix: remove redundant import alias,ABANDONED,2017-12-22 08:03:19.000000000,2018-04-26 11:12:15.000000000,,"[{'_account_id': 11278}, {'_account_id': 19457}]","[{'number': 1, 'created': '2017-12-22 08:03:19.000000000', 'files': ['glanceclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/2ccfeef5760c379786ffe0f383cc49a20f213426', 'message': 'TrivialFix: remove redundant import alias\n\nChange-Id: I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a\n'}]",0,529805,2ccfeef5760c379786ffe0f383cc49a20f213426,4,2,1,18320,,,0,"TrivialFix: remove redundant import alias

Change-Id: I370e1fa12d6372d136f9aa9ffd708a8bb7d9797a
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/05/529805/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/tests/unit/test_shell.py'],1,2ccfeef5760c379786ffe0f383cc49a20f213426,,from glanceclient.v2 import schemas,from glanceclient.v2 import schemas as schemas,1,1
openstack%2Fnova~master~I299bf846b658f2bb6903c898d7deac748f8d90e4,openstack/nova,master,I299bf846b658f2bb6903c898d7deac748f8d90e4,Fix dropped check for boot_index 0 in _validate_bdm,MERGED,2018-04-23 18:35:49.000000000,2018-04-26 11:11:01.000000000,2018-04-26 01:53:04.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 18:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9515c47e03e2b50d6e54cc06bf7762328499dad6', 'message': 'Fix dropped check for boot_index 0 in _validate_bdm\n\nDuring refactor change I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5\nthe conditional that at least one BDM had to be the boot\ndevice was inadvertantly dropped, presumably because there was\nno test for that case.\n\nThe validation is added back here along with a test. The code\nchange itself is based on a review comment suggestion from\nStephen Finucane in I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5.\n\nChange-Id: I299bf846b658f2bb6903c898d7deac748f8d90e4\nRelated-Bug: #1766306\n'}, {'number': 2, 'created': '2018-04-24 13:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce5844fac41885c2a3e9a03d54d7bb8a7bf3a4cd', 'message': 'Fix dropped check for boot_index 0 in _validate_bdm\n\nDuring refactor change I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5\nthe conditional that at least one BDM had to be the boot\ndevice was inadvertantly dropped, presumably because there was\nno test for that case.\n\nThe validation is added back here along with a test. The code\nchange itself is based on a review comment suggestion from\nStephen Finucane in I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5.\n\nChange-Id: I299bf846b658f2bb6903c898d7deac748f8d90e4\nRelated-Bug: #1766306\n'}, {'number': 3, 'created': '2018-04-25 21:31:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9815c2331904a3749269289b861229796aa6c91', 'message': 'Fix dropped check for boot_index 0 in _validate_bdm\n\nThis reverts commit 7f4b49c9c97e06babf82f6846c804ad176cd4cde.\n\nDuring refactor change I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5\nthe conditional that at least one BDM had to be the boot\ndevice was inadvertantly dropped, presumably because there was\nno test for that case.\n\nThe validation is added back here along with a test.\n\nChange-Id: I299bf846b658f2bb6903c898d7deac748f8d90e4\nRelated-Bug: #1766306\n'}]",3,563732,b9815c2331904a3749269289b861229796aa6c91,50,18,3,6873,,,0,"Fix dropped check for boot_index 0 in _validate_bdm

This reverts commit 7f4b49c9c97e06babf82f6846c804ad176cd4cde.

During refactor change I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5
the conditional that at least one BDM had to be the boot
device was inadvertantly dropped, presumably because there was
no test for that case.

The validation is added back here along with a test.

Change-Id: I299bf846b658f2bb6903c898d7deac748f8d90e4
Related-Bug: #1766306
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/563732/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,9515c47e03e2b50d6e54cc06bf7762328499dad6,bug/1766306," if boot_indexes != range(0, len(boot_indexes)):"," if any(i != v for i, v in enumerate(boot_indexes)):",13,1
openstack%2Fnova~master~I14d44dbc0b6a8fb25932c333e695cad9edaefbed,openstack/nova,master,I14d44dbc0b6a8fb25932c333e695cad9edaefbed,api-ref: mark block_device_mapping_v2.boot_index as required,MERGED,2018-04-23 18:06:59.000000000,2018-04-26 11:10:50.000000000,2018-04-26 00:07:01.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 18:06:59.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/048fa2310014e6282e183da0abee87c73b6d71b9', 'message': 'api-ref: mark block_device_mapping_v2.boot_index as required\n\nThis was marked optional in change If57aa3e37 but it has\nonly been optional since Queens due to change I8a3e7e6c4,\nbefore that you will get a 400 error if you do not provide\nboot_index in the BDMs, e.g.:\n\n2018-04-23 12:34:13,308 INFO [nova.api.openstack.wsgi] \\\n   HTTP exception thrown: Block Device Mapping is Invalid: \\\n   Boot sequence for the instance and image/block device \\\n   mapping combination is not valid.\n2018-04-23 12:34:13,310 INFO [nova.api.openstack.requestlog] \\\n   127.0.0.1 ""POST /v2.1/6f70656e737461636b20342065766572/servers""\n   status: 400 len: 164 microversion: 2.1 time: 0.129485\n\nOne could argue that I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5\nis a behavior change that should have gone with a microversion,\nwhich if people agree with that, could be reverted separately.\n\nChange-Id: I14d44dbc0b6a8fb25932c333e695cad9edaefbed\nCloses-Bug: #1766306\n'}]",5,563728,048fa2310014e6282e183da0abee87c73b6d71b9,26,17,1,6873,,,0,"api-ref: mark block_device_mapping_v2.boot_index as required

This was marked optional in change If57aa3e37 but it has
only been optional since Queens due to change I8a3e7e6c4,
before that you will get a 400 error if you do not provide
boot_index in the BDMs, e.g.:

2018-04-23 12:34:13,308 INFO [nova.api.openstack.wsgi] \
   HTTP exception thrown: Block Device Mapping is Invalid: \
   Boot sequence for the instance and image/block device \
   mapping combination is not valid.
2018-04-23 12:34:13,310 INFO [nova.api.openstack.requestlog] \
   127.0.0.1 ""POST /v2.1/6f70656e737461636b20342065766572/servers""
   status: 400 len: 164 microversion: 2.1 time: 0.129485

One could argue that I8a3e7e6c4b72eb1c3707d54049d18dc29f606fe5
is a behavior change that should have gone with a microversion,
which if people agree with that, could be reverted separately.

Change-Id: I14d44dbc0b6a8fb25932c333e695cad9edaefbed
Closes-Bug: #1766306
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/563728/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,048fa2310014e6282e183da0abee87c73b6d71b9,bug/1766306, required: true, required: false,1,1
openstack%2Fkolla~master~I8a3d212314891635509aeeb346998ace713feefa,openstack/kolla,master,I8a3d212314891635509aeeb346998ace713feefa,Collapse down multiple yum install in openstack-base,MERGED,2018-04-25 05:09:49.000000000,2018-04-26 10:59:10.000000000,2018-04-26 10:59:10.000000000,"[{'_account_id': 13039}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 22722}, {'_account_id': 23717}, {'_account_id': 26348}]","[{'number': 1, 'created': '2018-04-25 05:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/603e915cb0b0fcc06f09b84ce44870041a878ab4', 'message': 'Collapse down multiple yum install in openstack-base\n\nFor rhel/centos/oraclelinux there were 2 yum install\nsections, collapse/folded the 3 packages from that section\ninto the other blocks\n\nChange-Id: I8a3d212314891635509aeeb346998ace713feefa\n'}, {'number': 2, 'created': '2018-04-25 10:27:12.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb24764e73d7d7f00848e0784785430c110633fa', 'message': 'Collapse down multiple yum install in openstack-base\n\nFor rhel/centos/oraclelinux there were 2 yum install\nsections, collapse/folded the 3 packages from that section\ninto the other blocks in sorted order\n\nChange-Id: I8a3d212314891635509aeeb346998ace713feefa\n'}]",7,564100,eb24764e73d7d7f00848e0784785430c110633fa,15,6,2,16282,,,0,"Collapse down multiple yum install in openstack-base

For rhel/centos/oraclelinux there were 2 yum install
sections, collapse/folded the 3 packages from that section
into the other blocks in sorted order

Change-Id: I8a3d212314891635509aeeb346998ace713feefa
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/564100/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,603e915cb0b0fcc06f09b84ce44870041a878ab4,564100," 'git', 'iproute', 'openssl', 'git', 'iproute', 'openssl'","{% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% set openstack_base_packages = [ 'git', 'iproute', 'openssl' ] %} {{ macros.install_packages(openstack_base_packages) }} {% endif %}",6,10
openstack%2Fneutron-lbaas~master~Ib0b837058c62cc2cc31f7833e3817a4d49886fa9,openstack/neutron-lbaas,master,Ib0b837058c62cc2cc31f7833e3817a4d49886fa9,use rpc Connection rather than create_connection,MERGED,2018-04-12 20:04:34.000000000,2018-04-26 10:42:41.000000000,2018-04-26 10:42:41.000000000,"[{'_account_id': 5367}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 20:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/428a0f983ff089bcbc1960ff56fa207c94498186', 'message': 'use rpc Connection rather than create_connection\n\nThe create_connection function in neutron.common.rpc is just an alias to\nConnection. This patch switches to the later so we can remove the former\nin: https://review.openstack.org/#/c/560130\n\nChange-Id: Ib0b837058c62cc2cc31f7833e3817a4d49886fa9\n'}, {'number': 2, 'created': '2018-04-17 12:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f5191d51eba29d2d81506f0efa7c7bfe4238c0cb', 'message': 'use rpc Connection rather than create_connection\n\nThe create_connection function in neutron.common.rpc is just an alias to\nConnection. This patch switches to the later so we can remove the former\nin: https://review.openstack.org/#/c/560130\n\nChange-Id: Ib0b837058c62cc2cc31f7833e3817a4d49886fa9\n'}, {'number': 3, 'created': '2018-04-24 15:40:45.000000000', 'files': ['neutron_lbaas/drivers/common/agent_driver_base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/89aa592207b733839b1ed79b8d74437bf5252eb5', 'message': 'use rpc Connection rather than create_connection\n\nThe create_connection function in neutron.common.rpc is just an alias to\nConnection. This patch switches to the later so we can remove the former\nin: https://review.openstack.org/#/c/560130\n\nChange-Id: Ib0b837058c62cc2cc31f7833e3817a4d49886fa9\n'}]",0,561028,89aa592207b733839b1ed79b8d74437bf5252eb5,17,6,3,5367,,,0,"use rpc Connection rather than create_connection

The create_connection function in neutron.common.rpc is just an alias to
Connection. This patch switches to the later so we can remove the former
in: https://review.openstack.org/#/c/560130

Change-Id: Ib0b837058c62cc2cc31f7833e3817a4d49886fa9
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/28/561028/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/drivers/common/agent_driver_base.py'],1,428a0f983ff089bcbc1960ff56fa207c94498186,rm-rpc-createconn, self.conn = n_rpc.Connection(), self.conn = n_rpc.create_connection(),1,1
openstack%2Fnova~master~Iff30e59ced63a94c5c3377317a2e2a502f96eb91,openstack/nova,master,Iff30e59ced63a94c5c3377317a2e2a502f96eb91,libvirt: fix hard reboot issue with mdevs,MERGED,2018-04-25 15:37:04.000000000,2018-04-26 10:30:38.000000000,2018-04-26 10:08:29.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-25 15:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ed859fd0ac5fbc02c10f30bbe49437edb475256', 'message': ""libvirt: fix hard reboot issue with mdevs\n\nWhen hard rebooting an instance, if libvirt doesn't know about it,\nwe had a raised InstanceNotFound exception.\nLots of operators use hard reboot for recrating the libvirt XML\nin case of a problem with some instance, so it was then an issue\nif because of the bug it wasn't possible now.\n\nChange-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91\nCloses-Bug: #1764460\n""}, {'number': 2, 'created': '2018-04-25 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5dc08c865e72fa1bd3d592d84a65f174dff82cc', 'message': ""libvirt: fix hard reboot issue with mdevs\n\nSometimes, a Nova instance can't have an associated libvirt guest.\nThe usual way to fix that is to hard reboot the instance, so the\nvirt driver recreates the guest.\nUnfortunately, we introduced a regression in Queens with\nIe6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't\nchecking whether the guest was there or not.\n\nThat fix aims to catch the InstanceNotFound exception that's\nraised and just tell there are no mediated devices attached to that\ninstance (given we can no longer know them).\n\nChange-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91\nCloses-Bug: #1764460\n""}, {'number': 3, 'created': '2018-04-25 17:06:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8941c79f0924413822b15824a298e081e345e616', 'message': ""libvirt: fix hard reboot issue with mdevs\n\nSometimes, a Nova instance may not have an associated libvirt guest,\nlike if a live migration fails and the hypervisor on the source node\nis in an inconsistent state.\nThe usual way to fix that is to hard reboot the instance, so the\nvirt driver recreates the guest.\nUnfortunately, we introduced a regression in Queens with\nIe6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't\nchecking whether the guest was there or not.\n\nThis fix aims to catch the InstanceNotFound exception that's\nraised and just tell there are no mediated devices attached to that\ninstance (given we can no longer know them).\n\nChange-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91\nCloses-Bug: #1764460\n""}]",7,564257,8941c79f0924413822b15824a298e081e345e616,26,14,3,7166,,,0,"libvirt: fix hard reboot issue with mdevs

Sometimes, a Nova instance may not have an associated libvirt guest,
like if a live migration fails and the hypervisor on the source node
is in an inconsistent state.
The usual way to fix that is to hard reboot the instance, so the
virt driver recreates the guest.
Unfortunately, we introduced a regression in Queens with
Ie6c9108808a461359d717d8a9e9399c8a407bfe9 because we weren't
checking whether the guest was there or not.

This fix aims to catch the InstanceNotFound exception that's
raised and just tell there are no mediated devices attached to that
instance (given we can no longer know them).

Change-Id: Iff30e59ced63a94c5c3377317a2e2a502f96eb91
Closes-Bug: #1764460
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/564257/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,1ed859fd0ac5fbc02c10f30bbe49437edb475256,bug/1764460," @mock.patch.object(host.Host, 'get_guest') def test_get_all_assigned_mediated_devices_for_a_non_existing_instance( self, get_guest): get_guest.side_effect = exception.InstanceNotFound(instance_id='fake') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) fake_inst = objects.Instance() self.assertEqual({}, drvr._get_all_assigned_mediated_devices(fake_inst)) ",,16,1
openstack%2Fmonasca-log-api~master~I888cd07962ee2689143026aaf7dfce2196a65c8d,openstack/monasca-log-api,master,I888cd07962ee2689143026aaf7dfce2196a65c8d,[WIP]Improve error handling when body is empty,ABANDONED,2018-04-20 13:47:12.000000000,2018-04-26 10:20:22.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-04-20 13:47:12.000000000', 'files': ['monasca_log_api/app/controller/v3/logs.py', 'monasca_log_api/app/controller/v3/aid/helpers.py'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6dd2615fccf9f0c118518ef1662ba2226a963296', 'message': '[WIP]Improve error handling when body is empty\n\nChange-Id: I888cd07962ee2689143026aaf7dfce2196a65c8d\n'}]",3,563123,6dd2615fccf9f0c118518ef1662ba2226a963296,8,3,1,26141,,,0,"[WIP]Improve error handling when body is empty

Change-Id: I888cd07962ee2689143026aaf7dfce2196a65c8d
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/23/563123/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_log_api/app/controller/v3/logs.py', 'monasca_log_api/app/controller/v3/aid/helpers.py']",2,6dd2615fccf9f0c118518ef1662ba2226a963296,fixtest, if msg is None: raise exceptions.HTTPUnprocessableEntity( 'Unprocessable Entity Logs not found'),,7,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4ec165742b8667ffa8ee92f572bec7fe74bef1ed,openstack/tripleo-upgrade,stable/queens,I4ec165742b8667ffa8ee92f572bec7fe74bef1ed,Add roles-data into overcloud upgrade prepare.,ABANDONED,2018-03-22 17:50:32.000000000,2018-04-26 10:14:50.000000000,,"[{'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-22 17:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/770c83bc2d54e5b37d91b7447f642a15d6e2006c', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 2, 'created': '2018-03-23 09:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/db456da67be8e889374eb3bb652ed2da82ab5520', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 3, 'created': '2018-03-26 08:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e386959a906231f48c7389de2f6fd9ff2ebe4ae2', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script. It also\nupdates the variable overcloud_deploy_script\nto the right script name.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 4, 'created': '2018-03-26 16:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0d977406760dc4200af82f6b2343c1ceef8cf028', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script. It also\nupdates the variable overcloud_deploy_script\nto the right script name.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 5, 'created': '2018-04-02 14:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9d5a693123da70915d964ccd1073966b45f74e1d', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script. It also\nupdates the variable overcloud_deploy_script\nto the right script name.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 6, 'created': '2018-04-05 15:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e8d8ed1215540fad613817534335277e7d91ebe0', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script. It also\nupdates the variable overcloud_deploy_script\nto the right script name.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 7, 'created': '2018-04-06 07:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2deccc1783a8c47cb4e7dd580e64ed553b9e1fd1', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script. It also\nupdates the variable overcloud_deploy_script\nto the right script name.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 8, 'created': '2018-04-09 08:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f77d3fb90e0a0a6f9d8bbed9854641cc9fa50a63', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}, {'number': 9, 'created': '2018-04-09 12:29:24.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/555ee085c4cd380418db2e958280c9330ae2a10a', 'message': ""Add roles-data into overcloud upgrade prepare.\n\nThe major upgrade command 'overcloud upgrade\nprepare needs the roles data to be passed,\nas otherwise it will try to obtain the\none from the swift container which is not\nupdated.\n\nThis patchs adds the option of passing it\nas role variable, or look for it withing\noooq overcloud-deploy.sh script.\n\nChange-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed\n""}]",0,555389,555ee085c4cd380418db2e958280c9330ae2a10a,29,5,9,8297,,,0,"Add roles-data into overcloud upgrade prepare.

The major upgrade command 'overcloud upgrade
prepare needs the roles data to be passed,
as otherwise it will try to obtain the
one from the swift container which is not
updated.

This patchs adds the option of passing it
as role variable, or look for it withing
oooq overcloud-deploy.sh script.

Change-Id: I4ec165742b8667ffa8ee92f572bec7fe74bef1ed
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/89/555389/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'defaults/main.yml']",3,770c83bc2d54e5b37d91b7447f642a15d6e2006c,552080," # Ansible playbooks executed during ""overcloud update run"" overcloud_update_playbooks: ['update_steps_playbook.yaml', 'deploy_steps_playbook.yaml' ] # Roles data file to pass into overcloud upgrade prepare. If nothing # is passed, then it will try to look for it inside overcloud-deploy.sh # script from oooq. roles_data_file: """"",,24,1
openstack%2Ftripleo-ui~master~Ic211ea8069ee1fd9582bc403b244dabb46818a54,openstack/tripleo-ui,master,Ic211ea8069ee1fd9582bc403b244dabb46818a54,Update docs with the new dependencies update process,MERGED,2018-04-12 09:51:59.000000000,2018-04-26 10:09:30.000000000,2018-04-26 10:09:30.000000000,"[{'_account_id': 4978}, {'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 09:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/09d57b31148373c7ddf0ca03b95951730d718ee4', 'message': 'Update docs with the new dependencies update process\n\nBased on the thread at [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126412.html\n\nChange-Id: Ic211ea8069ee1fd9582bc403b244dabb46818a54\n'}, {'number': 2, 'created': '2018-04-12 13:39:07.000000000', 'files': ['docs/packaging.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/8718770dd70588626374af6da2e6cfa572d6ce9c', 'message': 'Update docs with the new dependencies update process\n\nBased on the thread at [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126412.html\n\nChange-Id: Ic211ea8069ee1fd9582bc403b244dabb46818a54\n'}]",2,560846,8718770dd70588626374af6da2e6cfa572d6ce9c,14,6,2,4978,,,0,"Update docs with the new dependencies update process

Based on the thread at [1].

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126412.html

Change-Id: Ic211ea8069ee1fd9582bc403b244dabb46818a54
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/46/560846/2 && git format-patch -1 --stdout FETCH_HEAD,['docs/packaging.rst'],1,09d57b31148373c7ddf0ca03b95951730d718ee4,docs-update-for-deps,"#. Make the required changes in ``package.json`` #. ``$ rm -rf node_modules`` #. ``$ npm cache clean`` #. ``$ npm install`` #. ``$ npm shrinkwrap`` #. Commit those changes along with your dependency changes in ``tripleo-ui``. In the commit message, add a link to the dependency (GitHub or similar), and indicate the project's license. #. When you submit the patch, the native npm jobs will pass but the undercloud gate job will fail because the dependency isn't yet in the `openstack-tripleo-ui-deps`_ package. This is expected. Have the patch be normally reviewed. #. Once it's about ready to merge, ask RDO to review the licensing. #. Update the `openstack-tripleo-ui-deps`_ package. Currently, this is done by submitting a pull request on GitHub. There are plans in place to move the workflow for this repository to the gerrit system. #. Update the `openstack-tripleo-ui`_ spec so that it points to the new version of `openstack-tripleo-ui-deps`_. This is done by submitting a patch via `gerrit`_. #. Recheck the patch. All jobs now pass.","1. Make the required changes in ``package.json`` 2. ``$ rm -rf node_modules`` 3. ``$ npm cache clean`` 4. ``$ npm install`` 5. ``$ npm shrinkwrap`` 6. Commit those changes along with your dependency changes in ``tripleo-ui``. Your patch should only include the necessary changes to update the dependency. Submit another patch for your feature/bugfix. In the commit message, add a link to the dependency (GitHub or similar), and indicate the project's license. We use the ""workflow"" field on this patch to indicate whether a packager has reviewed the changes: ""-1"" means this has not happened, or there are issues with the new dependency; ""+1"" means it's been reviewed, and the change is approved. 7. Update the `openstack-tripleo-ui-deps`_ package. Currently, this is done by submitting a pull request on GitHub. There are plans in place to move the workflow for this repository to the gerrit system. 8. Update the `openstack-tripleo-ui`_ spec so that it points to the new version of `openstack-tripleo-ui-deps`_. This is done by submitting a patch via `gerrit`_.",21,19
openstack%2Fswift~feature%2Fdeep~Iada00e63f14238b67aaa818314fa6601eeec624e,openstack/swift,feature/deep,Iada00e63f14238b67aaa818314fa6601eeec624e,Refactor finding sharding and shrinking candidates,MERGED,2018-04-25 16:36:47.000000000,2018-04-26 10:08:27.000000000,2018-04-26 10:08:27.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 16:36:47.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fc58926e5eb2f08299a56968e4914b832bba6c7d', 'message': 'Refactor finding sharding and shrinking candidates\n\nRefactor to provide module level functions for the finding\nof sharding and shrinking candidates, so that these can be\nused by other callers.\n\nAdd unit tests.\n\nChange-Id: Iada00e63f14238b67aaa818314fa6601eeec624e\n'}]",0,564277,fc58926e5eb2f08299a56968e4914b832bba6c7d,6,2,1,7847,,,0,"Refactor finding sharding and shrinking candidates

Refactor to provide module level functions for the finding
of sharding and shrinking candidates, so that these can be
used by other callers.

Add unit tests.

Change-Id: Iada00e63f14238b67aaa818314fa6601eeec624e
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/564277/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,fc58926e5eb2f08299a56968e4914b832bba6c7d,p-sharding-candidates-refactor,"def is_sharding_candidate(shard_range, threshold): return (shard_range.state == ShardRange.ACTIVE and shard_range.object_count >= threshold) def find_sharding_candidates(broker, threshold, shard_ranges=None): # this should only execute on root containers; the goal is to find # large shard containers that should be sharded. # First cut is simple: assume root container shard usage stats are good # enough to make decision. # TODO: object counts may well not be the appropriate metric for # deciding to shrink because a shard with low object_count may have a # large number of deleted object rows that will need to be merged with # a neighbour. We may need to expose row count as well as object count. if shard_ranges is None: shard_ranges = broker.get_shard_ranges(states=[ShardRange.ACTIVE]) candidates = [] for shard_range in shard_ranges: if not is_sharding_candidate(shard_range, threshold): continue shard_range.update_state(ShardRange.SHARDING, state_timestamp=Timestamp.now()) shard_range.epoch = shard_range.state_timestamp candidates.append(shard_range) return candidates def find_shrinking_candidates(broker, shrink_threshold, merge_size): # this should only execute on root containers that have sharded; the # goal is to find small shard containers that could be retired by # merging with a neighbour. # First cut is simple: assume root container shard usage stats are good # enough to make decision; only merge with upper neighbour so that # upper bounds never change (shard names include upper bound). # TODO: object counts may well not be the appropriate metric for # deciding to shrink because a shard with low object_count may have a # large number of deleted object rows that will need to be merged with # a neighbour. We may need to expose row count as well as object count. shard_ranges = broker.get_shard_ranges() own_shard_range = broker.get_own_shard_range() if len(shard_ranges) == 1: # special case to enable final shard to shrink into root shard_ranges.append(own_shard_range) merge_pairs = {} for donor, acceptor in zip(shard_ranges, shard_ranges[1:]): if donor in merge_pairs: # this range may already have been made an acceptor; if so then # move on. In principle it might be that even after expansion # this range and its donor(s) could all be merged with the next # range. In practice it is much easier to reason about a single # donor merging into a single acceptor. Don't fret - eventually # all the small ranges will be retired. continue if (acceptor.name != own_shard_range.name and acceptor.state != ShardRange.ACTIVE): # don't shrink into a range that is not yet ACTIVE continue if donor.state not in (ShardRange.ACTIVE, ShardRange.SHRINKING): # found? created? sharded? don't touch it continue proposed_object_count = donor.object_count + acceptor.object_count if (donor.state == ShardRange.SHRINKING or (donor.object_count < shrink_threshold and proposed_object_count < merge_size)): # include previously identified merge pairs on presumption that # following shrink procedure is idempotent merge_pairs[acceptor] = donor if donor.update_state(ShardRange.SHRINKING): # Set donor state to shrinking so that next cycle won't use # it as an acceptor; state_timestamp defines new epoch for # donor and new timestamp for the expanded acceptor below. donor.epoch = donor.state_timestamp = Timestamp.now() if acceptor.lower != donor.lower: # Update the acceptor container with its expanding state to # prevent it treating objects cleaved from the donor # as misplaced. acceptor.lower = donor.lower acceptor.timestamp = donor.state_timestamp return merge_pairs DEFAULT_SHARD_CONTAINER_SIZE = 10000000 DEFAULT_SHARD_SHRINK_POINT = 25 DEFAULT_SHARD_MERGE_POINT = 75 def percent_value(key, default): try: value = conf.get(key, default) return config_float_value(value, 0, 100) / 100.0 except ValueError as err: raise ValueError(""%s: %s"" % (str(err), key)) self.shard_shrink_point = percent_value('shard_shrink_point', DEFAULT_SHARD_SHRINK_POINT) self.shrink_merge_point = percent_value('shard_shrink_merge_point', DEFAULT_SHARD_MERGE_POINT) conf.get('shard_container_size', DEFAULT_SHARD_CONTAINER_SIZE)) if is_sharding_candidate(own_shard_range, self.shard_container_size): def _find_and_enable_sharding_candidates(self, broker, shard_ranges=None): candidates = find_sharding_candidates( broker, self.shard_container_size, shard_ranges) if candidates: self.logger.debug('Identified %s sharding candidates' % len(candidates)) broker.merge_shard_ranges(candidates) def _find_and_enable_shrinking_candidates(self, broker): if not broker.is_sharded(): self.logger.warning('Cannot shrink a not yet sharded container %s', broker.path) return merge_pairs = find_shrinking_candidates( broker, self.shrink_size, self.merge_size) self.logger.debug('Found %s shrinking candidates' % len(merge_pairs)) for acceptor, donor in merge_pairs.items(): broker.merge_shard_ranges([acceptor, donor]) if acceptor.name != own_shard_range.name: self._find_and_enable_sharding_candidates( self._find_and_enable_shrinking_candidates(broker) self._find_and_enable_sharding_candidates(broker)"," try: self.shard_shrink_point = config_float_value( conf.get('shard_shrink_point', 25), 0, 100) / 100.0 except ValueError as err: raise ValueError(err.message + "": shard_shrink_point"") try: self.shrink_merge_point = config_float_value( conf.get('shard_shrink_merge_point', 75), 0, 100) / 100.0 except ValueError as err: raise ValueError(err.message + "": shard_shrink_merge_point"") conf.get('shard_container_size', 10000000)) if self._is_sharding_candidate(own_shard_range): def _is_sharding_candidate(self, shard_range): return (shard_range.state == ShardRange.ACTIVE and shard_range.object_count >= self.shard_container_size) def _find_sharding_candidates(self, broker, shard_ranges=None): # this should only execute on root containers; the goal is to find # large shard containers that should be sharded. # First cut is simple: assume root container shard usage stats are good # enough to make decision. # TODO: object counts may well not be the appropriate metric for # deciding to shrink because a shard with low object_count may have a # large number of deleted object rows that will need to be merged with # a neighbour. We may need to expose row count as well as object count. if shard_ranges is None: shard_ranges = broker.get_shard_ranges(states=[ShardRange.ACTIVE]) candidates = [] for shard_range in shard_ranges: if not self._is_sharding_candidate(shard_range): continue shard_range.update_state(ShardRange.SHARDING, state_timestamp=Timestamp.now()) shard_range.epoch = shard_range.state_timestamp candidates.append(shard_range) broker.merge_shard_ranges(candidates) return len(candidates) def _find_shrinks(self, broker): # this should only execute on root containers that have sharded; the # goal is to find small shard containers that could be retired by # merging with a neighbour. # First cut is simple: assume root container shard usage stats are good # enough to make decision; only merge with upper neighbour so that # upper bounds never change (shard names include upper bound). # TODO: object counts may well not be the appropriate metric for # deciding to shrink because a shard with low object_count may have a # large number of deleted object rows that will need to be merged with # a neighbour. We may need to expose row count as well as object count. if not broker.is_sharded(): self.logger.warning( 'Cannot shrink a not yet sharded container %s/%s', broker.account, broker.container) shard_ranges = broker.get_shard_ranges() if len(shard_ranges) == 1: # special case to enable final shard to shrink into root shard_ranges.append(own_shard_range) merge_pairs = {} for donor, acceptor in zip(shard_ranges, shard_ranges[1:]): self.logger.debug('considering shrink donor %r %s' % (donor, donor.name)) self.logger.debug('considering shrink acceptor %r %s' % (acceptor, acceptor.name)) if donor in merge_pairs: # this range may already have been made an acceptor; if so then # move on. In principle it might be that even after expansion # this range and its donor(s) could all be merged with the next # range. In practice it is much easier to reason about a single # donor merging into a single acceptor. Don't fret - eventually # all the small ranges will be retired. continue if (acceptor is not own_shard_range and acceptor.state != ShardRange.ACTIVE): # don't shrink into a range that is not yet ACTIVE continue if donor.state not in (ShardRange.ACTIVE, ShardRange.SHRINKING): # found? created? sharded? don't touch it continue proposed_object_count = donor.object_count + acceptor.object_count if (donor.state == ShardRange.SHRINKING or (donor.object_count < self.shrink_size and proposed_object_count < self.merge_size)): # include previously identified merge pairs on presumption that # following shrink procedure is idempotent merge_pairs[acceptor] = donor self.logger.debug('selecting shrink pair %r %r' % (donor, acceptor)) # TODO: think long and hard about the correct order for these remaining # operations and what happens when one fails... for acceptor, donor in merge_pairs.items(): # TODO: unit test to verify idempotent nature of this procedure modified_shard_ranges = [] if donor.update_state(ShardRange.SHRINKING): # Set donor state to shrinking so that next cycle won't use it # as an acceptor; state_timestamp defines new epoch for donor # and new timestamp for the expanded acceptor below. donor.epoch = donor.state_timestamp = Timestamp.now() modified_shard_ranges.append(donor) if acceptor.lower != donor.lower: # Update the acceptor container with its expanding state to # prevent it treating objects cleaved from the donor # as misplaced. acceptor.lower = donor.lower acceptor.timestamp = donor.state_timestamp modified_shard_ranges.append(acceptor) broker.merge_shard_ranges(modified_shard_ranges) if acceptor is not own_shard_range: self._find_sharding_candidates( self._find_shrinks(broker) self._find_sharding_candidates(broker) ",322,121
openstack%2Fmistral~master~Ib020550d0ec989ca382b738844a752ec9d02919a,openstack/mistral,master,Ib020550d0ec989ca382b738844a752ec9d02919a,Fixed Jinja error handling,MERGED,2018-04-21 13:26:39.000000000,2018-04-26 10:00:31.000000000,2018-04-25 12:51:53.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 25167}, {'_account_id': 27008}, {'_account_id': 27349}]","[{'number': 1, 'created': '2018-04-21 13:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/36f7c32622abb31e26163e9f79f3f19453623660', 'message': 'WIP: Fixed jinja error handler\n\nChange-Id: Ib020550d0ec989ca382b738844a752ec9d02919a\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 2, 'created': '2018-04-21 15:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2c6672f412d0a13e4ba6bbca6cad017927eef795', 'message': 'Fixed Jinja error handling\n\nRaised the processing errors up the stack to cover render a jinja\ntemplate from string\n\nChange-Id: Ib020550d0ec989ca382b738844a752ec9d02919a\nCloses-bug: #1743649\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 3, 'created': '2018-04-21 16:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8b7f9c4c9aabd95e2b044c06521bee4896a3b746', 'message': 'Fixed Jinja error handling\n\nRaised the processing errors up the stack to cover render a jinja\ntemplate from string\n\nChange-Id: Ib020550d0ec989ca382b738844a752ec9d02919a\nCloses-bug: #1743649\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 4, 'created': '2018-04-22 13:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1bd4b5832a9ee0018dc02a5b334a5710f79895da', 'message': 'Fixed Jinja error handling\n\nRaised the processing errors up the stack to cover render a jinja\ntemplate from string\n\nChange-Id: Ib020550d0ec989ca382b738844a752ec9d02919a\nCloses-bug: #1743649\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 5, 'created': '2018-04-23 10:02:46.000000000', 'files': ['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/expressions/jinja_expression.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e1f105685a78e6397b63658fd41546a670b95f86', 'message': ""Fixed Jinja error handling\n\nBefore changes `cls._env.from_string(expression).render(**ctx)` can\nraise exception, for example the variable doesn't exist. And this\nexception is not handled.\nJinja error handling was moved to cover this case.\n\nChange-Id: Ib020550d0ec989ca382b738844a752ec9d02919a\nCloses-bug: #1743649\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}]",7,563422,e1f105685a78e6397b63658fd41546a670b95f86,25,6,5,27008,,,0,"Fixed Jinja error handling

Before changes `cls._env.from_string(expression).render(**ctx)` can
raise exception, for example the variable doesn't exist. And this
exception is not handled.
Jinja error handling was moved to cover this case.

Change-Id: Ib020550d0ec989ca382b738844a752ec9d02919a
Closes-bug: #1743649
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/22/563422/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/expressions/jinja_expression.py']",2,36f7c32622abb31e26163e9f79f3f19453623660,fix/jinja_exception,"JINJA_OPTS = {'undefined_to_none': False} result = cls._env.compile_expression( expression, **JINJA_OPTS )(**ctx) # For StrictUndefined values, UndefinedError only gets raised when # the value is accessed, not when it gets created. The simplest way # to access it is to try and cast it to string. str(result) try: if patterns[0][0] == expression: result = JinjaEvaluator.evaluate(patterns[0][1], data_context) else: ctx = expression_utils.get_jinja_context(data_context) result = cls._env.from_string(expression).render(**ctx) except Exception as e: # NOTE(rakhmerov): if we hit a database error then we need to # re-raise the initial exception so that upper layers had a # chance to handle it properly (e.g. in case of DB deadlock # the operations needs to retry. Essentially, such situation # indicates a problem with DB rather than with the expression # syntax or values. if isinstance(e, db_exc.DBError): LOG.error( ""Failed to evaluate Jinja expression due to a database"" "" error, re-raising initial exception [expression=%s,"" "" error=%s, data=%s]"", expression, str(e), data_context ) raise e raise exc.JinjaEvaluationException( ""Can not evaluate Jinja expression [expression=%s, error=%s"" "", data=%s]"" % (expression, str(e), data_context) )"," opts = {'undefined_to_none': False} try: result = cls._env.compile_expression(expression, **opts)(**ctx) # For StrictUndefined values, UndefinedError only gets raised when # the value is accessed, not when it gets created. The simplest way # to access it is to try and cast it to string. str(result) except Exception as e: # NOTE(rakhmerov): if we hit a database error then we need to # re-raise the initial exception so that upper layers had a # chance to handle it properly (e.g. in case of DB deadlock # the operations needs to retry. Essentially, such situation # indicates a problem with DB rather than with the expression # syntax or values. if isinstance(e, db_exc.DBError): LOG.error( ""Failed to evaluate Jinja expression due to a database"" "" error, re-raising initial exception [expression=%s,"" "" error=%s, data=%s]"", expression, str(e), data_context ) raise e raise exc.JinjaEvaluationException( ""Can not evaluate Jinja expression [expression=%s, error=%s"" "", data=%s]"" % (expression, str(e), data_context) ) if patterns[0][0] == expression: result = JinjaEvaluator.evaluate(patterns[0][1], data_context) else: ctx = expression_utils.get_jinja_context(data_context) result = cls._env.from_string(expression).render(**ctx)",65,61
openstack%2Fpuppet-tripleo~master~Iee1f3f8ca406005b2086a852d2432e569a6b296d,openstack/puppet-tripleo,master,Iee1f3f8ca406005b2086a852d2432e569a6b296d,Removing conditions to enable Nuage VRS and Metadata Agent,MERGED,2018-04-10 02:53:40.000000000,2018-04-26 09:58:54.000000000,2018-04-26 09:58:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-10 02:53:40.000000000', 'files': ['manifests/profile/base/neutron/agents/nuage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c31a624c667e9b6f50254ac01d679710aa361918', 'message': 'Removing conditions to enable Nuage VRS and Metadata Agent\n\nRemoving the condtions for enabling Nuage VRS and\nMetadata Agent on Overcloud nodes\n\nChange-Id: Iee1f3f8ca406005b2086a852d2432e569a6b296d\n'}]",0,559882,c31a624c667e9b6f50254ac01d679710aa361918,8,4,1,27069,,,0,"Removing conditions to enable Nuage VRS and Metadata Agent

Removing the condtions for enabling Nuage VRS and
Metadata Agent on Overcloud nodes

Change-Id: Iee1f3f8ca406005b2086a852d2432e569a6b296d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/559882/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/agents/nuage.pp'],1,c31a624c667e9b6f50254ac01d679710aa361918,," include ::nuage::vrs class { '::nuage::metadataagent': nova_os_tenant_name => $nova_os_tenant_name, nova_os_password => $nova_os_password, nova_metadata_ip => $nova_metadata_ip, nova_auth_ip => $nova_auth_ip,","# [*enable_vrs*] # (Optional) Enable VRS or not # Defaults to true # # [*enable_metadata*] # (Optional) Enable Nuage Metadata or not # Defaults to true # $enable_vrs = true, $enable_metadata = true, if $enable_vrs { include ::nuage::vrs } if $enable_metadata { class { '::nuage::metadataagent': nova_os_tenant_name => $nova_os_tenant_name, nova_os_password => $nova_os_password, nova_metadata_ip => $nova_metadata_ip, nova_auth_ip => $nova_auth_ip, }",6,20
openstack%2Ftripleo-image-elements~master~I429c0013802af3bcb80f9a623b8fce0a2e52bb64,openstack/tripleo-image-elements,master,I429c0013802af3bcb80f9a623b8fce0a2e52bb64,remove os-cloud-config element,MERGED,2018-04-20 06:38:16.000000000,2018-04-26 09:58:52.000000000,2018-04-26 09:58:52.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 7065}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 06:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/ccd6c2c389b8d00c7a8135eabc01ca3a5225e7a5', 'message': ""remove os-cloud-config\n\nIt's not being used anymore.\n\nChange-Id: I429c0013802af3bcb80f9a623b8fce0a2e52bb64\n""}, {'number': 2, 'created': '2018-04-20 06:47:38.000000000', 'files': ['elements/os-cloud-config/element-deps', 'elements/os-cloud-config/source-repository-os-cloud-config', 'releasenotes/notes/Remove-os-cloud-config-element-c9368e4a0dec66e9.yaml', 'elements/os-cloud-config/cleanup.d/50-remove-source-os-cloud-config', 'elements/os-cloud-config/pkg-map', 'elements/os-cloud-config/install.d/os-cloud-config-pip-install/90-os-cloud-config', 'elements/os-cloud-config/package-installs.yaml', 'elements/os-cloud-config/install.d/os-cloud-config-pip-install/91-os-cloud-config-links', 'elements/os-cloud-config/install.d/os-cloud-config-source-install/91-os-cloud-config-links', 'elements/os-cloud-config/environment.d/10-os-cloud-config-install-options.bash', 'elements/os-cloud-config/README.md', 'elements/os-cloud-config/install.d/os-cloud-config-source-install/90-os-cloud-config'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/08096ad00f98e286e7ecadba7e7e41d003217b82', 'message': ""remove os-cloud-config element\n\nIt's not being used anymore.\n\nChange-Id: I429c0013802af3bcb80f9a623b8fce0a2e52bb64\n""}]",0,562947,08096ad00f98e286e7ecadba7e7e41d003217b82,18,9,2,10873,,,0,"remove os-cloud-config element

It's not being used anymore.

Change-Id: I429c0013802af3bcb80f9a623b8fce0a2e52bb64
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/47/562947/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-cloud-config/package-installs.yaml', 'elements/os-cloud-config/install.d/os-cloud-config-pip-install/91-os-cloud-config-links', 'elements/os-cloud-config/element-deps', 'elements/os-cloud-config/install.d/os-cloud-config-source-install/91-os-cloud-config-links', 'elements/os-cloud-config/environment.d/10-os-cloud-config-install-options.bash', 'elements/os-cloud-config/source-repository-os-cloud-config', 'elements/os-cloud-config/cleanup.d/50-remove-source-os-cloud-config', 'elements/os-cloud-config/pkg-map', 'elements/os-cloud-config/install.d/os-cloud-config-pip-install/90-os-cloud-config', 'elements/os-cloud-config/README.md', 'elements/os-cloud-config/install.d/os-cloud-config-source-install/90-os-cloud-config']",11,ccd6c2c389b8d00c7a8135eabc01ca3a5225e7a5,remove-os-cloud-config,,"#!/bin/bash set -eux manifest=$(get-pip-manifest os-cloud-config) virtualenv --setuptools ${OS_CLOUD_CONFIG_VENV_DIR} set +u source ${OS_CLOUD_CONFIG_VENV_DIR}/bin/activate set -u if [ -n ""$manifest"" ]; then use-pip-manifest $manifest else # bug #1201253 : virtualenv-1.10.1 embeds setuptools-0.9.8, which # doesn't manage correctly HTTPS sockets when downloading pbr from # https://pypi.python.org/simple/ if using http_proxy and https_proxy # envvars ${OS_CLOUD_CONFIG_VENV_DIR}/bin/pip install -U 'setuptools>=1.0' # bug #1293812 : Avoid easy_install triggering on pbr. ${OS_CLOUD_CONFIG_VENV_DIR}/bin/pip install -U 'pbr>=0.11,<2.0' if [ -e /opt/stack/os-cloud-config/requirements.txt ]; then reqs=/opt/stack/os-cloud-config/requirements.txt elif [ -e /opt/stack/os-cloud-config/tools/pip-requires ]; then reqs=/opt/stack/os-cloud-config/tools/pip-requires else reqs="""" fi if [ -n ""$reqs"" ] ; then pip install -r $reqs fi fi # All reqs are installed, install from source (dev versions are not installed from manifests) pip install /opt/stack/os-cloud-config # Write the manifest of what was installed write-pip-manifest os-cloud-config set +u deactivate set -u ",0,109
openstack%2Ftripleo-heat-templates~master~I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd,openstack/tripleo-heat-templates,master,I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd,Add validation on role names,MERGED,2018-03-16 14:13:44.000000000,2018-04-26 09:58:52.000000000,2018-04-26 09:58:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11391}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-16 14:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e938c5ecca4646746b679364a55d30a702a63df5', 'message': ""Add validation on role names\n\nAlso, fixes role templates that weren't passing this new validation.\n\nCloses-bug#: 1756346\n\nChange-Id: I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd\n""}, {'number': 2, 'created': '2018-03-19 12:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/182677ed99f8c2fb7b78ef0b6c6df116c1939cad', 'message': ""Add validation on role names\n\nAlso, fixes role templates that weren't passing this new validation.\n\nCloses-bug: #1756346\n\nChange-Id: I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd\n""}, {'number': 3, 'created': '2018-04-25 15:42:22.000000000', 'files': ['roles/ControllerStorageNfs.yaml', 'roles/UndercloudLight.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b56c9e501def2e9690ddf722998409a4e1526c3', 'message': ""Add validation on role names\n\nAlso, fixes role templates that weren't passing this new validation.\n\nCloses-bug: #1756346\n\nChange-Id: I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd\n""}]",4,553798,3b56c9e501def2e9690ddf722998409a4e1526c3,22,5,3,360,,,0,"Add validation on role names

Also, fixes role templates that weren't passing this new validation.

Closes-bug: #1756346

Change-Id: I387386a0d7cf47fe11f24a68b9f2bb2ee2f0b7bd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/553798/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerStorageNfs.yaml', 'roles/UndercloudLight.yaml', 'tools/yaml-validate.py']",3,e938c5ecca4646746b679364a55d30a702a63df5,bug/1756346,"def validate_role_name(filename): #print(os.path.basename(filename).split('.')[0].replace(""-"", ""_"")) role_data = yaml.load(open(filename).read())[0] #print(role_data) if (role_data['name'] != os.path.basename(filename).split('.')[0].replace(""-"", ""_"")): print('ERROR: role name should match file name for role : %s.' % filename) return 1 return 0 if filename.startswith('./roles/'): retval = validate_role_name(filename) ",,19,4
openstack%2Fkolla-ansible~master~I8d3e56f2053c939ea313c60cc04c0ff79dd27d25,openstack/kolla-ansible,master,I8d3e56f2053c939ea313c60cc04c0ff79dd27d25,Reduce the default values for Ceph pgs,MERGED,2018-04-25 11:36:23.000000000,2018-04-26 09:47:29.000000000,2018-04-26 09:47:29.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-04-25 11:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59f26a4c02a4b43a0e4e65da33db18c6840e4797', 'message': 'Reduce the default values for Ceph pgs\n\nRequired to keep Ceph working once we move to Luminous 12.2.1\n\nChange-Id: I8d3e56f2053c939ea313c60cc04c0ff79dd27d25\nCloses-Bug: 1763356\n'}, {'number': 2, 'created': '2018-04-25 16:24:32.000000000', 'files': ['releasenotes/notes/reduce-ceph-pgs-27e88e3b6e3b809c.yaml', 'ansible/group_vars/all.yml', 'doc/source/reference/ceph-guide.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36f33f089bbda9bcc7e451b69413907cce8e3bb6', 'message': 'Reduce the default values for Ceph pgs\n\nRequired to keep Ceph working once we move to Luminous 12.2.1\n\nChange-Id: I8d3e56f2053c939ea313c60cc04c0ff79dd27d25\nCloses-Bug: 1763356\n'}]",0,564169,36f33f089bbda9bcc7e451b69413907cce8e3bb6,10,4,2,1390,,,0,"Reduce the default values for Ceph pgs

Required to keep Ceph working once we move to Luminous 12.2.1

Change-Id: I8d3e56f2053c939ea313c60cc04c0ff79dd27d25
Closes-Bug: 1763356
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/564169/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-ceph-pgs-27e88e3b6e3b809c.yaml', 'ansible/group_vars/all.yml', 'doc/source/reference/ceph-guide.rst', 'etc/kolla/globals.yml']",4,59f26a4c02a4b43a0e4e65da33db18c6840e4797,559333,# WARNING! These values are dependant on the size and shape of your cluster - # the default values are not suitable for production use. Please refer to the # Kolla Ceph documentation for more information. #ceph_pool_pg_num: 8 #ceph_pool_pgp_num: 8,#ceph_pool_pg_num: 128 #ceph_pool_pgp_num: 128,33,4
openstack%2Fpython-tripleoclient~master~I412357bdc102cfe28cb1d4fe514a719bd8db5a15,openstack/python-tripleoclient,master,I412357bdc102cfe28cb1d4fe514a719bd8db5a15,Move test_container_image.py,MERGED,2018-04-24 00:10:48.000000000,2018-04-26 09:42:17.000000000,2018-04-26 09:42:17.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 00:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a00a529e2f85b8c21b0fec7b9d79765aab2874a5', 'message': 'Move test_container_image.py\n\nWe would like to make container image code re-usable for any cloud:\nundercloud, overcloud, or any cloud so this patch just move\ntest_container_image.py file from tests/v1/overcloud_image directory to\ntripleoclient/tests/v1.\n\nChange-Id: I412357bdc102cfe28cb1d4fe514a719bd8db5a15\n'}, {'number': 2, 'created': '2018-04-24 04:19:15.000000000', 'files': ['tripleoclient/tests/v1/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0ed50885cbe3c695a0d6beccc1444bd0e7ad3e9', 'message': 'Move test_container_image.py\n\nWe would like to make container image code re-usable for any cloud:\nundercloud, overcloud, or any cloud so this patch just move\ntest_container_image.py file from tests/v1/overcloud_image directory to\ntripleoclient/tests/v1.\n\nDepends-On: I0cf206e8ceeecfca17dd99a83b8c2eaa50e66712\nChange-Id: I412357bdc102cfe28cb1d4fe514a719bd8db5a15\n'}]",0,563793,e0ed50885cbe3c695a0d6beccc1444bd0e7ad3e9,15,5,2,3153,,,0,"Move test_container_image.py

We would like to make container image code re-usable for any cloud:
undercloud, overcloud, or any cloud so this patch just move
test_container_image.py file from tests/v1/overcloud_image directory to
tripleoclient/tests/v1.

Depends-On: I0cf206e8ceeecfca17dd99a83b8c2eaa50e66712
Change-Id: I412357bdc102cfe28cb1d4fe514a719bd8db5a15
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/563793/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/test_container_image.py'],1,a00a529e2f85b8c21b0fec7b9d79765aab2874a5,cloud/prepare,,,0,0
openstack%2Ftripleo-heat-templates~master~I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771,openstack/tripleo-heat-templates,master,I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771,Fix path to deployed-server-environment.yaml,MERGED,2018-04-24 20:39:49.000000000,2018-04-26 09:41:51.000000000,2018-04-26 09:41:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 20:39:49.000000000', 'files': ['deployed-server/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/955d1da63d7e3cad5ab4689c5f7729afc6a4ca98', 'message': ""Fix path to deployed-server-environment.yaml\n\nIt's in environments/ not deployed-server/\n\nChange-Id: I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771\n""}]",0,564058,955d1da63d7e3cad5ab4689c5f7729afc6a4ca98,8,4,1,6928,,,0,"Fix path to deployed-server-environment.yaml

It's in environments/ not deployed-server/

Change-Id: I03b8b5ee7a8bcb583a5e64f19ec6a5ab9a9bb771
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/564058/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/README.rst'],1,955d1da63d7e3cad5ab4689c5f7729afc6a4ca98,deployed-server-env, -e environments/deployed-server-environment.yaml, -e deployed-server/deployed-server-environment.yaml,1,1
openstack%2Ftripleo-ci~master~I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe,openstack/tripleo-ci,master,I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe,Don't cleanup undercloud,MERGED,2018-04-23 21:42:50.000000000,2018-04-26 09:41:50.000000000,2018-04-26 09:41:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-23 21:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d0836bdfaf8836753f1f29a7e8efdaf14fa6687a', 'message': ""Don't cleanup undercloud\n\nWe'll be switching this to true by default, so we need to set the\nundercloud clean option to False for CI.\n\nChange-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe\nNeeded-By: I027a76d2f37a5af5bd0a599783287632298acf3f\nRelated-Bug: #1761810\n""}, {'number': 2, 'created': '2018-04-24 04:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c87d1ca3b6bc49580c40841fdbe84d218ce842ce', 'message': ""Don't cleanup undercloud\n\nWe'll be switching this to true by default, so we need to set the\nundercloud clean option to False for CI.\n\nChange-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe\nNeeded-By: I027a76d2f37a5af5bd0a599783287632298acf3f\nRelated-Bug: #1761810\n""}, {'number': 3, 'created': '2018-04-24 18:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1def497f6535487d1f347d6d441ee5fe6a45a308', 'message': ""Don't cleanup undercloud\n\nWe'll be switching this to true by default, so we need to set the\nundercloud clean option to False for CI.\n\nChange-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe\nNeeded-By: I027a76d2f37a5af5bd0a599783287632298acf3f\nRelated-Bug: #1761810\n""}, {'number': 4, 'created': '2018-04-25 17:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9dab9fdc59e9a2ca4e96b65d70216826e06df09', 'message': ""Don't cleanup undercloud\n\nWe'll be switching this to true by default, so we need to set the\nundercloud clean option to False for CI.\n\nChange-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe\nNeeded-By: I027a76d2f37a5af5bd0a599783287632298acf3f\nRelated-Bug: #1761810\n""}, {'number': 5, 'created': '2018-04-25 17:50:00.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/632cd8ee05d9218813a97c411ab7aaab7e5c0a12', 'message': ""Don't cleanup undercloud\n\nWe'll be switching this to true by default, so we need to set the\nundercloud clean option to False for CI.\n\nChange-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe\nNeeded-By: I027a76d2f37a5af5bd0a599783287632298acf3f\nRelated-Bug: #1761810\n""}]",1,563777,632cd8ee05d9218813a97c411ab7aaab7e5c0a12,25,6,5,14985,,,0,"Don't cleanup undercloud

We'll be switching this to true by default, so we need to set the
undercloud clean option to False for CI.

Change-Id: I70ac9bbe57d7078a1aa2eb8b07503efb8ba5bbfe
Needed-By: I027a76d2f37a5af5bd0a599783287632298acf3f
Related-Bug: #1761810
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/77/563777/5 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml']",3,d0836bdfaf8836753f1f29a7e8efdaf14fa6687a,bug/1761810,undercloud_undercloud_cleanup: false,,3,0
openstack%2Foctavia~master~Iaf150240b0de32f75ba8cfe605293e3af086cc78,openstack/octavia,master,Iaf150240b0de32f75ba8cfe605293e3af086cc78,"Fix calls to ""DELETED"" items",MERGED,2018-02-17 00:11:18.000000000,2018-04-26 09:25:03.000000000,2018-04-26 01:50:55.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-17 00:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fbeb93a8bbbaef76c761a0d7b20d116fa7ed7328', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 2, 'created': '2018-02-17 00:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/97eee06ef4f9d701987333c94505b5207fc9c78e', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 3, 'created': '2018-03-21 21:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1404017d6e1dade6ffdf221eecef934e4ac42558', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 4, 'created': '2018-03-21 23:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ffbeb9105ca3627fe9d2150b571b667a31a5a0d', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 5, 'created': '2018-03-24 20:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a719c464212fc2f1f66305e8cd3532b43f0c372c', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 6, 'created': '2018-03-27 04:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0abbe26582e32661ae2ea794450a49ba7cac9324', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 7, 'created': '2018-04-04 20:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa9b385dbc8a1f7f6293cefdd19881b2a6779470', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 8, 'created': '2018-04-18 19:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3096392c54069f3f3428ed94b59a23b03d5a59e7', 'message': 'Fix calls to ""DELETED"" items\n\nThis patch updates the API calls to deleted items to return 404.\nThis was inconsistent prior to this patch, with some calls acting on ""DELETED""\nobjects and others returning 404.\nThis patch aligns the Octavia v2 API to other services that return 404 on calls\nto deleted items.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 9, 'created': '2018-04-20 20:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/544fa90ab5509f1db3a0a83ac52a9b0db43f1f90', 'message': 'Fix calls to ""DELETED"" items\n\nFixes the v2 API returning ""DELETED"" records until the amphora_expiry_age\ntimeout expired. The API will now immediately return a 404 HTTP status\ncode when deleted objects are requested. The API version has been raised\nto v2.1 to reflect this change.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}, {'number': 10, 'created': '2018-04-20 22:50:52.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/root_controller.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'releasenotes/notes/deleted-404-2cdd751e7afbe036.yaml', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/base.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/97c0eab91850701009e01693969e2a79de42201c', 'message': 'Fix calls to ""DELETED"" items\n\nFixes the v2 API returning ""DELETED"" records until the amphora_expiry_age\ntimeout expired. The API will now immediately return a 404 HTTP status\ncode when deleted objects are requested. The API version has been raised\nto v2.1 to reflect this change.\n\nChange-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78\nStory: 2001557\nTask: 6501\n'}]",0,545493,97c0eab91850701009e01693969e2a79de42201c,32,6,10,11628,,,0,"Fix calls to ""DELETED"" items

Fixes the v2 API returning ""DELETED"" records until the amphora_expiry_age
timeout expired. The API will now immediately return a 404 HTTP status
code when deleted objects are requested. The API version has been raised
to v2.1 to reflect this change.

Change-Id: Iaf150240b0de32f75ba8cfe605293e3af086cc78
Story: 2001557
Task: 6501
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/545493/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/base.py', 'octavia/api/v2/controllers/listener.py']",19,fbeb93a8bbbaef76c761a0d7b20d116fa7ed7328,deleted-404," db_listener = self._get_db_listener(context.session, id, show_deleted=False) if not db_listener: raise exceptions.NotFound(resource=data_models.Listener._name(), id=id) db_listener = self._get_db_listener(context.session, id, show_deleted=False) db_listener = self._get_db_listener(context.session, id, show_deleted=False) db_listener = self._get_db_listener(context.session, self.id, show_deleted=False)"," def _get_db_listener(self, session, id): """"""Gets a listener object from the database."""""" listener = super(ListenersController, self)._get_db_listener( session, id) load_balancer_id = listener.load_balancer_id db_listener = self.repositories.listener.get( session, load_balancer_id=load_balancer_id, id=id) if not db_listener: LOG.info(""Listener %s not found."", id) raise exceptions.NotFound( resource=data_models.Listener._name(), id=id) return db_listener db_listener = self._get_db_listener(context.session, id) db_listener = self._get_db_listener(context.session, id) db_listener = self._get_db_listener(context.session, id) if db_listener.provisioning_status == constants.DELETED: return db_listener = self._get_db_listener(context.session, self.id)",415,170
openstack%2Fneutron~master~I2e024f04ceab10afb20b5a402f8ba8dfd50e753d,openstack/neutron,master,I2e024f04ceab10afb20b5a402f8ba8dfd50e753d,eventlet v0.22 changed HttpProtocol.__init__,MERGED,2018-04-17 14:08:30.000000000,2018-04-26 09:07:04.000000000,2018-04-26 09:07:04.000000000,"[{'_account_id': 333}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-17 14:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b642587ed6a0f298b593b181c7c9d607519344d7', 'message': 'eventlet 0.22 changed HttpProtocol.__init__\n\nThis patch is for neutron-lib master.  neutron-lib master introduces\nversion update of eventlet 0.22, which breaks several unit tests.\n\nFrom eventlet 0.22, HttpProtocol.__init__ signature was changed\nto take 4 argument to 3 argument.\nThe changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,\nhttps://github.com/eventlet/eventlet/issues/188\nchanged it.\nFor compatibility, try the old signature and then try the new\nsignature for HttpProtocol.__init__.\n\nChange-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d\n'}, {'number': 2, 'created': '2018-04-17 17:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa0806c87d95025f178ce3a5524205d55cbb4d22', 'message': 'eventlet 0.22 changed HttpProtocol.__init__\n\nThis patch is for neutron-lib master.  neutron-lib master introduces\nversion update of eventlet 0.22, which breaks several unit tests.\n\nFrom eventlet 0.22, HttpProtocol.__init__ signature was changed\nto take 4 argument to 3 argument.\nThe changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,\nhttps://github.com/eventlet/eventlet/issues/188\nchanged it.\nFor compatibility, try the old signature and then try the new\nsignature for HttpProtocol.__init__.\n\nChange-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d\n'}, {'number': 3, 'created': '2018-04-17 19:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4372fc8eb2a70525933989c000b2b5fcdd1b3dd9', 'message': 'eventlet v0.22 changed HttpProtocol.__init__\n\nFrom eventlet v0.22, HttpProtocol.__init__ signature was changed\nto take 4 argument to 3 argument.\nThe changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,\nhttps://github.com/eventlet/eventlet/issues/188\nchanged it.\nFor compatibility, try the old signature and then try the new\nsignature for HttpProtocol.__init__.\n\nChange-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d\n'}, {'number': 4, 'created': '2018-04-19 05:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0135eff414fcf5fd4aff720f1426673dcf707be', 'message': 'eventlet v0.22 changed HttpProtocol.__init__\n\nFrom eventlet v0.22, HttpProtocol.__init__ signature was changed\nto take 4 argument to 3 argument.\nThe changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,\nhttps://github.com/eventlet/eventlet/issues/188\nchanged it.\nSo try the new signature for HttpProtocol.__init__ first, and then\nfallback to the old signature for compatibility.\n\nChange-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d\n'}, {'number': 5, 'created': '2018-04-19 07:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e486b8ace46d59bbd41e19e6c08de596728aa5b1', 'message': 'eventlet v0.22 changed HttpProtocol.__init__\n\nFrom eventlet v0.22, HttpProtocol.__init__ signature was changed\nto take 4 argument to 3 argument.\nThe changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,\nhttps://github.com/eventlet/eventlet/issues/188\nchanged it.\nSo try the new signature for HttpProtocol.__init__ first, and then\nfallback to the old signature for compatibility.\n\nChange-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d\n'}, {'number': 6, 'created': '2018-04-19 15:53:29.000000000', 'files': ['neutron/agent/linux/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c31f7f35129cb2160592633e52083b412d6c2cd', 'message': 'eventlet v0.22 changed HttpProtocol.__init__\n\nFrom eventlet v0.22, HttpProtocol.__init__ signature was changed\nto take 4 argument to 3 argument.\nThe changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,\nhttps://github.com/eventlet/eventlet/issues/188\nchanged it.\nSo try the new signature for HttpProtocol.__init__ first, and then\nfallback to the old signature for compatibility.\n\nChange-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d\n'}]",2,561953,2c31f7f35129cb2160592633e52083b412d6c2cd,36,8,6,333,,,0,"eventlet v0.22 changed HttpProtocol.__init__

From eventlet v0.22, HttpProtocol.__init__ signature was changed
to take 4 argument to 3 argument.
The changeset of eventlet, 7f53465578543156e7251e243c0636e087a8445f,
https://github.com/eventlet/eventlet/issues/188
changed it.
So try the new signature for HttpProtocol.__init__ first, and then
fallback to the old signature for compatibility.

Change-Id: I2e024f04ceab10afb20b5a402f8ba8dfd50e753d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/561953/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/utils.py'],1,b642587ed6a0f298b593b181c7c9d607519344d7,neutron-lib-update," try: # NOTE(yamahata): pylint bug work around # pylint: disable=too-many-function-args eventlet.wsgi.HttpProtocol.__init__( self, request, client_address, server) # pylint: enable=too-many-function-args except TypeError: # NOTE(yamahata): from eventlet v0.22 HttpProtocol.__init__ # signature was changed by changeset of # 7f53465578543156e7251e243c0636e087a8445f # try new signature conn_state = [client_address, request, eventlet.wsgi.STATE_CLOSE] eventlet.wsgi.HttpProtocol.__init__(self, conn_state, server)"," eventlet.wsgi.HttpProtocol.__init__(self, request, client_address, server)",13,2
openstack%2Fceilometer~master~I55782951a4db49e544bfcf2d5db15c495e8bbf0b,openstack/ceilometer,master,I55782951a4db49e544bfcf2d5db15c495e8bbf0b,Imported Translations from Zanata,MERGED,2018-04-26 07:21:30.000000000,2018-04-26 09:00:06.000000000,2018-04-26 09:00:06.000000000,"[{'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 22752}]","[{'number': 1, 'created': '2018-04-26 07:21:30.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b83b8182afa71fb68c2e627b41669502ec3b5dff', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I55782951a4db49e544bfcf2d5db15c495e8bbf0b\n'}]",0,564408,b83b8182afa71fb68c2e627b41669502ec3b5dff,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I55782951a4db49e544bfcf2d5db15c495e8bbf0b
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/08/564408/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,b83b8182afa71fb68c2e627b41669502ec3b5dff,zanata/translations,"""POT-Creation-Date: 2018-04-23 10:06+0000\n""""PO-Revision-Date: 2018-04-25 07:49+0000\n""msgid ""10.0.0-44"" msgstr ""10.0.0-44"" ""Pipeline Partitioning is also deprecated. This was only useful to workaround "" ""of some issues that tranformers has."" msgstr """" ""Pipeline Partitioning is also deprecated. This was only useful to workaround "" ""some issues that transformers had."" msgid """"""Usage of transformers in Ceilometer pipelines is deprecated. Transformers in "" ""Ceilometer have never computed samples correctly when you have multiple "" ""workers. This functionality can be done by the storage backend easily "" ""without all issues that Ceilometer has. For example, the rating is already "" ""computed in Gnocchi today."" msgstr """" ""Usage of transformers in Ceilometer pipelines is deprecated. Transformers in "" ""Ceilometer have never computed samples correctly when you have multiple "" ""workers. This functionality can be done by the storage backend easily "" ""without all issues that Ceilometer has. For example, the rating is already "" ""computed in Gnocchi today."" msgid """"","""POT-Creation-Date: 2018-04-23 03:50+0000\n""""PO-Revision-Date: 2018-04-18 04:31+0000\n""",25,2
openstack%2Fpython-mistralclient~master~I2573cb093e97ce378fc1d255d8b38e2ce818c8e5,openstack/python-mistralclient,master,I2573cb093e97ce378fc1d255d8b38e2ce818c8e5,Do not let keystoneauth mask the errors,MERGED,2018-04-16 21:35:57.000000000,2018-04-26 08:59:31.000000000,2018-04-26 08:59:31.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21051}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-16 21:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/780f118f34676afe784b7dee528caef78b93e970', 'message': ""Do not let keystoneauth mask the errors\n\nCurrently mistral errors are masked in the cli with non helpful messages\nlike:\nERROR (app) Bad Request (HTTP 400)\nby passing the raise_exc parameter as false to keystoneauth on the\nsession requests the errors are not masked and gives useful information\nback to the cli like:\nERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]\n\nIt is an easy fix, but the mock-requests that we use for testing is not\nprepared to accept that parameter so monkey patching the session request\nfor tests was the cleanest way that I found to deal with that.\n\nChange-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5\nCloses-bug: #1754093\n""}, {'number': 2, 'created': '2018-04-18 09:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/3764d6a95a8dc6598d50915ab577d0a3050dcefe', 'message': ""Do not let keystoneauth mask the errors\n\nCurrently mistral errors are masked in the cli with non helpful messages\nlike:\nERROR (app) Bad Request (HTTP 400)\nby passing the raise_exc parameter as false to keystoneauth on the\nsession requests the errors are not masked and gives useful information\nback to the cli like:\nERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]\n\nreference: https://github.com/openstack/keystoneauth/blob/a516fdb1766115981dfb66b891648273026e04de/keystoneauth1/session.py#L573\n\nIt is an easy fix, but the mock-requests that we use for testing is not\nprepared to accept that parameter so monkey patching the session request\nfor tests was the cleanest way that I found to deal with that.\n\nChange-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5\nCloses-bug: #1754093\n""}, {'number': 3, 'created': '2018-04-18 10:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/4f25bde44853f6eb43c8c528dbd0e631f6d5f9d8', 'message': ""Do not let keystoneauth mask the errors\n\nCurrently mistral errors are masked in the cli with non helpful messages\nlike:\nERROR (app) Bad Request (HTTP 400)\nby passing the raise_exc parameter as false to keystoneauth on the\nsession requests the errors are not masked and gives useful information\nback to the cli like:\nERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]\n\nreference: https://github.com/openstack/keystoneauth/blob/a516fdb1766115981dfb66b891648273026e04de/keystoneauth1/session.py#L573\n\nChange-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5\nCloses-bug: #1754093\n""}, {'number': 4, 'created': '2018-04-18 14:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/17727bcb25906009574fc418b551d674b761b8a8', 'message': ""Do not let keystoneauth mask the errors\n\nCurrently some mistral errors are masked in the cli with non helpful messages\nlike:\nERROR (app) Bad Request (HTTP 400)\n\nThat is due to ResourceManagers not using the standard underscore\nmethods defined in the base class. Those underscore methods have the\nappropriate try catch to parse the unfriendly keystoneauth errors into\nmore cli friendly errors like:\nERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]\n\nThis adds the try catch to the non standard methods and change the\naction_execution.create to use the standard method\n\nChange-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5\nCloses-bug: #1754093\n""}, {'number': 5, 'created': '2018-04-18 14:40:01.000000000', 'files': ['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/v2/workflows.py', 'mistralclient/api/v2/action_executions.py', 'mistralclient/api/releasenotes/notes/fix-cli-error-messages-2f59329557a5734f.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/3f0255f4162f7e049c2d67003b8c579e412ca512', 'message': ""Do not let keystoneauth mask the errors\n\nCurrently some mistral errors are masked in the cli with non helpful messages\nlike:\nERROR (app) Bad Request (HTTP 400)\n\nThat is due to ResourceManagers not using the standard underscore\nmethods defined in the base class. Those underscore methods have the\nappropriate try catch to parse the unfriendly keystoneauth errors into\nmore cli friendly errors like:\nERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]\n\nThis adds the try catch to the non standard methods and change the\naction_execution.create to use the standard method\n\nChange-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5\nCloses-bug: #1754093\n""}]",0,561732,3f0255f4162f7e049c2d67003b8c579e412ca512,26,6,5,15895,,,0,"Do not let keystoneauth mask the errors

Currently some mistral errors are masked in the cli with non helpful messages
like:
ERROR (app) Bad Request (HTTP 400)

That is due to ResourceManagers not using the standard underscore
methods defined in the base class. Those underscore methods have the
appropriate try catch to parse the unfriendly keystoneauth errors into
more cli friendly errors like:
ERROR (app) Invalid input [name=std.echo, class=mistral.actions.std_actions.EchoAction, missing=['output']]

This adds the try catch to the non standard methods and change the
action_execution.create to use the standard method

Change-Id: I2573cb093e97ce378fc1d255d8b38e2ce818c8e5
Closes-bug: #1754093
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/32/561732/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/api/httpclient.py', 'mistralclient/tests/unit/base.py']",2,780f118f34676afe784b7dee528caef78b93e970,bug/1754093,"from requests import sessions self.original_request = sessions.Session.request def _request(*args, **kwargs): # Remove the raise_exc parameter as it is used by keystoneauth # requests but not request_mock if 'raise_exc' in kwargs: del kwargs[""raise_exc""] else: self.fail( ""raise_exc not used for {} {}"".format(args, kwargs) ) return self.original_request(*args, **kwargs) sessions.Session.request = _request def tearDown(self): super(BaseClientTest, self).tearDown() sessions.Session.request = self.original_request",,43,4
openstack%2Fkolla~master~I0fc119d5fd47c61648f936936337403554a9103e,openstack/kolla,master,I0fc119d5fd47c61648f936936337403554a9103e,Add missing roles and role assignment to admin.,ABANDONED,2018-04-04 11:18:10.000000000,2018-04-26 08:48:30.000000000,,"[{'_account_id': 7488}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28014}]","[{'number': 1, 'created': '2018-04-04 11:18:10.000000000', 'files': ['docker/heat/heat-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5b8118aa19b4567a3a49b4ac8961bfe8e5083607', 'message': 'Add missing roles and role assignment to admin.\n\nChange-Id: I0fc119d5fd47c61648f936936337403554a9103e\nSigned-off-by: Stamatis Katsaounis <mokats@intracom-telecom.com>\n'}]",2,558781,5b8118aa19b4567a3a49b4ac8961bfe8e5083607,10,5,1,28014,,,0,"Add missing roles and role assignment to admin.

Change-Id: I0fc119d5fd47c61648f936936337403554a9103e
Signed-off-by: Stamatis Katsaounis <mokats@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/558781/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/heat/heat-api/extend_start.sh'],1,5b8118aa19b4567a3a49b4ac8961bfe8e5083607,, openstack role create heat_stack_user openstack role create heat_stack_owner openstack role add --project admin --user admin heat_stack_owner,,3,0
openstack%2Fmistral~master~Ic420aa0a90337378206332604facdcb898bf9619,openstack/mistral,master,Ic420aa0a90337378206332604facdcb898bf9619,Make sure there are no duplicates in the spec cache w/o restarts,MERGED,2018-04-25 11:41:09.000000000,2018-04-26 08:45:14.000000000,2018-04-26 08:45:14.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-04-25 11:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7fd43deb73565566dfcd47c097f364fe093c21ae', 'message': ""Add a test to make sure there are no duplicate values in the spec cache\n\n* In case if the same workflow definition is used multiple times\n  for many executions (e.g. on-success clause has many tasks where\n  each one of them calls the same subworkflow) then the corresponding\n  cache entries for those executions should refer to the same\n  workflow specification. Mistral shouldn't create a new spec and\n  reuse the existing one that's already cached.\n\nChange-Id: Ic420aa0a90337378206332604facdcb898bf9619\n""}, {'number': 2, 'created': '2018-04-25 11:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/84eee448891f9322ac2d243cd4664fedcfb445a4', 'message': ""Add a test to make sure there are no duplicate values in the spec cache\n\n* In case if the same workflow definition is used multiple times\n  for many executions (e.g. on-success clause has many tasks where\n  each one of them calls the same subworkflow) then the corresponding\n  cache entries for those executions should refer to the same\n  workflow specification. Mistral shouldn't create a new spec and\n  reuse the existing one that's already cached.\n* Completing a docstring for one of the methods in parser.py\n\nChange-Id: Ic420aa0a90337378206332604facdcb898bf9619\n""}, {'number': 3, 'created': '2018-04-25 12:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8fda96abc8d63300dc4f6791584e7fd025f24c4e', 'message': ""Make sure there are no duplicates in the spec cache w/o restarts\n\n* In case if the same workflow definition is used multiple times\n  for many executions (e.g. on-success clause has many tasks where\n  each one of them calls the same subworkflow) then the corresponding\n  cache entries for those executions should refer to the same\n  workflow specification. Mistral shouldn't create a new spec and\n  reuse the existing one that's already cached. Note this behavior\n  is expected only when there aren't any workflow definition updates\n  while creating executions and the engine hasn't restarted.\n* Completing a docstring for one of the methods in parser.py\n\nChange-Id: Ic420aa0a90337378206332604facdcb898bf9619\n""}, {'number': 4, 'created': '2018-04-26 04:31:14.000000000', 'files': ['mistral/lang/parser.py', 'mistral/tests/unit/lang/test_spec_caching.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/56adb2ed65503377a20d44ea5a8ad18014d94751', 'message': ""Make sure there are no duplicates in the spec cache w/o restarts\n\n* In case if the same workflow definition is used multiple times\n  for many executions (e.g. on-success clause has many tasks where\n  each one of them calls the same subworkflow) then the corresponding\n  cache entries for those executions should refer to the same\n  workflow specification. Mistral shouldn't create a new spec and\n  reuse the existing one that's already cached. Note this behavior\n  is expected only when there aren't any workflow definition updates\n  while creating executions and the engine hasn't restarted.\n* Completing a docstring for one of the methods in parser.py\n\nChange-Id: Ic420aa0a90337378206332604facdcb898bf9619\n""}]",4,564173,56adb2ed65503377a20d44ea5a8ad18014d94751,15,6,4,8731,,,0,"Make sure there are no duplicates in the spec cache w/o restarts

* In case if the same workflow definition is used multiple times
  for many executions (e.g. on-success clause has many tasks where
  each one of them calls the same subworkflow) then the corresponding
  cache entries for those executions should refer to the same
  workflow specification. Mistral shouldn't create a new spec and
  reuse the existing one that's already cached. Note this behavior
  is expected only when there aren't any workflow definition updates
  while creating executions and the engine hasn't restarted.
* Completing a docstring for one of the methods in parser.py

Change-Id: Ic420aa0a90337378206332604facdcb898bf9619
",git fetch https://review.opendev.org/openstack/mistral refs/changes/73/564173/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/lang/parser.py', 'mistral/tests/unit/lang/test_spec_caching.py']",2,7fd43deb73565566dfcd47c097f364fe093c21ae,bug/1757966,"from mistral.tests.unit.engine import base as engine_base class SpecificationCachingEngineTest(engine_base.EngineTestCase): def test_cache_workflow_spec_no_duplicates(self): wfs_text = """""" version: '2.0' wf: tasks: task1: action: std.noop on-success: - task2 - task3 task2: workflow: sub_wf my_param=""val1"" task3: workflow: sub_wf my_param=""val2"" sub_wf: input: - my_param tasks: task1: action: std.echo output=""Param value is <% $.my_param %>"" """""" wfs = wf_service.create_workflows(wfs_text) self.assertEqual(2, len(wfs)) self.assertEqual(0, spec_parser.get_wf_execution_spec_cache_size()) self.assertEqual(0, spec_parser.get_wf_definition_spec_cache_size()) wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) # We expect to have a cache entry for every workflow execution # but two of them should refer to the same object. self.assertEqual(3, spec_parser.get_wf_execution_spec_cache_size()) self.assertEqual(2, spec_parser.get_wf_definition_spec_cache_size()) sub_wf_execs = db_api.get_workflow_executions(name='sub_wf') self.assertEqual(2, len(sub_wf_execs)) spec1 = spec_parser.get_workflow_spec_by_execution_id( sub_wf_execs[0].id ) spec2 = spec_parser.get_workflow_spec_by_execution_id( sub_wf_execs[1].id ) self.assertIs(spec1, spec2)",,65,3
openstack%2Fneutron-vpnaas-dashboard~master~I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8,openstack/neutron-vpnaas-dashboard,master,I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8,Imported Translations from Zanata,MERGED,2018-04-26 07:19:11.000000000,2018-04-26 08:39:47.000000000,2018-04-26 08:39:47.000000000,"[{'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 07:19:11.000000000', 'files': ['neutron_vpnaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/6025f05296ccc70f6c09e52e85e6e465468fe652', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8\n'}]",0,564406,6025f05296ccc70f6c09e52e85e6e465468fe652,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4953f8ad8ee1d2fb83ab7491d1bf04f6ee64eec8
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/06/564406/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,6025f05296ccc70f6c09e52e85e6e465468fe652,zanata/translations,"""POT-Creation-Date: 2018-04-13 15:23+0000\n""""PO-Revision-Date: 2018-04-25 10:53+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n""msgstr ""엔드포인트 그룹 %s 업데이트가 실패했습니다.""","""POT-Creation-Date: 2018-03-21 23:33+0000\n""""PO-Revision-Date: 2018-03-24 12:09+0000\n"" ""Last-Translator: Wonil Choi <wonil0522@gmail.com>\n""msgstr ""다음 엔드포인트 그룹을 삭제할 수 없습니다. %s""",4,4
openstack%2Fneutron-vpnaas-dashboard~master~Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f,openstack/neutron-vpnaas-dashboard,master,Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f,Django 2.0 support,MERGED,2018-04-02 02:32:05.000000000,2018-04-26 08:39:47.000000000,2018-04-26 08:39:47.000000000,"[{'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 02:32:05.000000000', 'files': ['neutron_vpnaas_dashboard/dashboards/project/vpn/views.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/forms.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tables.py', '.zuul.yaml', 'releasenotes/notes/django2-support-ef2f2bd52a8bb63f.yaml', 'tox.ini', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tests.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/d9fd377e29d3d59501e28c06ff76c9afb43d76de', 'message': 'Django 2.0 support\n\nReplace django.core.urlresolves with django.urls\n\n(In Django 2.0) The django.core.urlresolvers module is removed\nin favor of its new location, django.urls.\nIt was depreacted in Django 1.10:\nhttps://docs.djangoproject.com/en/2.0/releases/1.10/#id3\n\nAdd py35dj20 job to test Django 2.0 integration.\nAlso drops py27dj110 from tox.ini as horizon droped\nDjango 1.10 support in Rocky.\n\nChange-Id: Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f\n'}]",0,558145,d9fd377e29d3d59501e28c06ff76c9afb43d76de,7,2,1,841,,,0,"Django 2.0 support

Replace django.core.urlresolves with django.urls

(In Django 2.0) The django.core.urlresolvers module is removed
in favor of its new location, django.urls.
It was depreacted in Django 1.10:
https://docs.djangoproject.com/en/2.0/releases/1.10/#id3

Add py35dj20 job to test Django 2.0 integration.
Also drops py27dj110 from tox.ini as horizon droped
Django 1.10 support in Rocky.

Change-Id: Ieb4364d9c46f126d4fa797b42f7602fb73f33a0f
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/45/558145/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas_dashboard/dashboards/project/vpn/views.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/forms.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tables.py', '.zuul.yaml', 'releasenotes/notes/django2-support-ef2f2bd52a8bb63f.yaml', 'tox.ini', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tests.py']",7,d9fd377e29d3d59501e28c06ff76c9afb43d76de,django2-support,from django.urls import reverse,from django.core.urlresolvers import reverse,20,8
openstack%2Ftripleo-ui~stable%2Fpike~I74e16fbef6d9fca1c79931676c07decb8c4f4378,openstack/tripleo-ui,stable/pike,I74e16fbef6d9fca1c79931676c07decb8c4f4378,Imported Translations from Zanata,MERGED,2018-04-26 06:42:31.000000000,2018-04-26 08:30:36.000000000,2018-04-26 08:30:35.000000000,"[{'_account_id': 4978}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 06:42:31.000000000', 'files': ['i18n/locales/ko-KR.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/0630617fc88f38fa4ab0a05bd9ae8c34cf8f3eee', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I74e16fbef6d9fca1c79931676c07decb8c4f4378\n'}]",0,564400,0630617fc88f38fa4ab0a05bd9ae8c34cf8f3eee,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I74e16fbef6d9fca1c79931676c07decb8c4f4378
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/00/564400/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/ko-KR.json'],1,0630617fc88f38fa4ab0a05bd9ae8c34cf8f3eee,zanata/translations," ""RolesStep.nodesAvailableToAssign"": ""{allNodesCount, number} \ucd1d \ub178\ub4dc \uc218 ({totalAssignedNodesCount, number} \uc5ed\ud560\uc5d0 \ud560\ub2f9, {nodesCount, number} \ud560\ub2f9\uc5d0 \uc0ac\uc6a9 \uac00\ub2a5, {nodesRequireActionCount, number} \ub3d9\uc791 \ud544\uc694)"",",,1,0
openstack%2Fheat-tempest-plugin~master~I05b309cd7dccac62183976290217cfe78edd4d48,openstack/heat-tempest-plugin,master,I05b309cd7dccac62183976290217cfe78edd4d48,Check group metadata for autoscaling completion,MERGED,2018-02-07 03:55:51.000000000,2018-04-26 08:26:31.000000000,2018-04-26 08:26:31.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-07 03:55:51.000000000', 'files': ['heat_tempest_plugin/tests/scenario/test_autoscaling_lb.py', 'heat_tempest_plugin/tests/scenario/test_autoscaling_lbv2.py', 'heat_tempest_plugin/common/test.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/55c0f754c00be398033190a4128cf14fd4aa3c41', 'message': 'Check group metadata for autoscaling completion\n\nIn f3eec740a8820ecf96561c9491672787c449469d we changed to set\ngroup resource metadata rather than policy. Therefore we should\ncheck that instead.\n\nChange-Id: I05b309cd7dccac62183976290217cfe78edd4d48\n'}]",0,541537,55c0f754c00be398033190a4128cf14fd4aa3c41,7,3,1,8833,,,0,"Check group metadata for autoscaling completion

In f3eec740a8820ecf96561c9491672787c449469d we changed to set
group resource metadata rather than policy. Therefore we should
check that instead.

Change-Id: I05b309cd7dccac62183976290217cfe78edd4d48
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/37/541537/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/tests/scenario/test_autoscaling_lb.py', 'heat_tempest_plugin/tests/scenario/test_autoscaling_lbv2.py', 'heat_tempest_plugin/common/test.py']",3,55c0f754c00be398033190a4128cf14fd4aa3c41,refactor_cooldown," group_name): metadata = self.client.resources.metadata(parent_stack, group_name)"," policy): metadata = self.client.resources.metadata(parent_stack, policy)",4,4
openstack%2Fnetworking-ovn~master~I044ff699a2d198c4e582428a66476f64e756ba89,openstack/networking-ovn,master,I044ff699a2d198c4e582428a66476f64e756ba89,Use CentOS 7 for the tempest ovs release job,MERGED,2018-04-12 09:00:55.000000000,2018-04-26 08:18:37.000000000,2018-04-26 08:18:37.000000000,"[{'_account_id': 1561}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-12 09:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/85851e7c8ab27e43b1912f85ca74d3adbb424d1b', 'message': 'Use CentOS 7 for the tempest ovs release job\n\nRight now all our tests are run on Ubuntu, this patch is changing the\ncurrent tempest ovs release job to use CentOS so we can diversify a\nlittle and increase the covered of tests to other OSs as well.\n\nChange-Id: I044ff699a2d198c4e582428a66476f64e756ba89\n'}, {'number': 2, 'created': '2018-04-16 08:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/012018d36de23c5aa382eda7576caf4249a9850b', 'message': 'Use CentOS 7 for the tempest ovs release job\n\nRight now all our tests are run on Ubuntu, this patch is changing the\ncurrent tempest ovs release job to use CentOS so we can diversify a\nlittle and increase the covered of tests to other OSs as well.\n\nChange-Id: I044ff699a2d198c4e582428a66476f64e756ba89\n'}, {'number': 3, 'created': '2018-04-16 12:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d5ed4eb0af373f2cbd3dfa6132822693aa5f5e82', 'message': 'Use CentOS 7 for the tempest ovs release job\n\nRight now all our tests are run on Ubuntu, this patch is changing the\ncurrent tempest ovs release job to use CentOS so we can diversify a\nlittle and increase the covered of tests to other OSs as well.\n\nChange-Id: I044ff699a2d198c4e582428a66476f64e756ba89\n'}, {'number': 4, 'created': '2018-04-16 14:33:53.000000000', 'files': ['zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-centos7/post.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-centos7/run.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cb614a63aaf9a8ae586633dca5b5e048326f24d2', 'message': 'Use CentOS 7 for the tempest ovs release job\n\nRight now all our tests are run on Ubuntu, this patch is changing the\ncurrent tempest ovs release job to use CentOS so we can diversify a\nlittle and increase the covered of tests to other OSs as well.\n\nChange-Id: I044ff699a2d198c4e582428a66476f64e756ba89\n'}]",3,560837,cb614a63aaf9a8ae586633dca5b5e048326f24d2,21,5,4,6773,,,0,"Use CentOS 7 for the tempest ovs release job

Right now all our tests are run on Ubuntu, this patch is changing the
current tempest ovs release job to use CentOS so we can diversify a
little and increase the covered of tests to other OSs as well.

Change-Id: I044ff699a2d198c4e582428a66476f64e756ba89
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/37/560837/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-networking-ovn-jobs.yaml'],1,85851e7c8ab27e43b1912f85ca74d3adbb424d1b,centos, nodeset: legacy-centos-7,,1,0
openstack%2Frally-openstack~master~Ib19c58b15229874a27187ab036dc982a1fd9d803,openstack/rally-openstack,master,Ib19c58b15229874a27187ab036dc982a1fd9d803,Load config options,MERGED,2018-04-25 13:02:56.000000000,2018-04-26 08:16:09.000000000,2018-04-26 08:16:09.000000000,"[{'_account_id': 6172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 13:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6b9b74a976ed9ac167300ad1c1b46860ffe0aa71', 'message': 'Load config options\n\nRally < 0.12 loads only inner config options, so we need to load\nrally-openstack options manually.\nHope, Rally 0.12 will fix the issue.\n\nChange-Id: Ib19c58b15229874a27187ab036dc982a1fd9d803\n'}, {'number': 2, 'created': '2018-04-25 13:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/fbd444a29a9ec5975b4a2dfdd19205456265fce2', 'message': 'Load config options\n\nRally < 0.12 loads only inner config options, so we need to load\nrally-openstack options manually.\nHope, Rally 0.12 will fix the issue.\n\nChange-Id: Ib19c58b15229874a27187ab036dc982a1fd9d803\n'}, {'number': 3, 'created': '2018-04-25 14:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/828aafedc452408b34c3af0bb39d60fe7886af13', 'message': 'Load config options\n\nRally < 0.12 loads only inner config options, so we need to load\nrally-openstack options manually.\nHope, Rally 0.12 will fix the issue.\n\nChange-Id: Ib19c58b15229874a27187ab036dc982a1fd9d803\n'}, {'number': 4, 'created': '2018-04-25 19:37:39.000000000', 'files': ['tests/hacking/checks.py', 'setup.cfg', 'rally_openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/75ab0a28ea15354dbf9573e28e6a035e9f17efac', 'message': 'Load config options\n\nRally < 0.12 loads only inner config options, so we need to load\nrally-openstack options manually.\nHope, Rally 0.12 will fix the issue.\n\nChange-Id: Ib19c58b15229874a27187ab036dc982a1fd9d803\n'}]",0,564202,75ab0a28ea15354dbf9573e28e6a035e9f17efac,13,2,4,9545,,,0,"Load config options

Rally < 0.12 loads only inner config options, so we need to load
rally-openstack options manually.
Hope, Rally 0.12 will fix the issue.

Change-Id: Ib19c58b15229874a27187ab036dc982a1fd9d803
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/02/564202/4 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'rally_openstack/__init__.py']",2,6b9b74a976ed9ac167300ad1c1b46860ffe0aa71,cfg,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from rally.common import version as _rally_version _version_tuple = _rally_version.version_info.semantic_version().version_tuple() if _version_tuple < (0, 12): # NOTE(andreykurilin): Rally < 0.12 doesn't care about loading options from # external packages, so we need to handle it manually. from rally.common import opts as global_opts from rally_openstack.cfg import opts # ensure that rally options are registered. global_opts.register() global_opts.register_opts(opts.list_opts()) ",,30,0
openstack%2Fpython-neutronclient~master~I198e745fccff76184d9813805d1c1915aff5a273,openstack/python-neutronclient,master,I198e745fccff76184d9813805d1c1915aff5a273,Set or unset port pair group failed,MERGED,2018-04-09 12:00:15.000000000,2018-04-26 08:12:04.000000000,2018-04-26 08:12:04.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}, {'_account_id': 26972}]","[{'number': 1, 'created': '2018-04-09 12:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d2d4323020658d5d19d7199dc42230a08850df65', 'message': ""Update port pair group failed\n\nSet port pair for port pair group failed because the type of 'existing' is error\n\nChange-Id: I198e745fccff76184d9813805d1c1915aff5a273\n""}, {'number': 2, 'created': '2018-04-18 07:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/80104c44ea012bfd39864ea8b6c105b0c1f26109', 'message': ""Set or unset port pair group failed\n\nSet or unset port pair for port pair group failed\nbecause the type of 'existing' is error\n\nChange-Id: I198e745fccff76184d9813805d1c1915aff5a273\nCloses-Bug: #1762884\n""}, {'number': 3, 'created': '2018-04-18 09:29:35.000000000', 'files': ['neutronclient/osc/v2/sfc/sfc_port_pair_group.py', 'neutronclient/tests/unit/osc/v2/sfc/test_port_pair_group.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2bff68649b4adcfb4a1b8bede5b0e312c846b4db', 'message': ""Set or unset port pair group failed\n\nSet or unset port pair for port pair group failed\nbecause the type of 'existing' is wrong\n\nChange-Id: I198e745fccff76184d9813805d1c1915aff5a273\nCloses-Bug: #1762884\n""}]",11,559716,2bff68649b4adcfb4a1b8bede5b0e312c846b4db,23,6,3,26972,,,0,"Set or unset port pair group failed

Set or unset port pair for port pair group failed
because the type of 'existing' is wrong

Change-Id: I198e745fccff76184d9813805d1c1915aff5a273
Closes-Bug: #1762884
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/16/559716/2 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/osc/v2/sfc/sfc_port_pair_group.py'],1,d2d4323020658d5d19d7199dc42230a08850df65,bug/1762884, existing = client.find_resource( cmd_resource='sfc_port_pair_group')['port_pairs'], existing = [client.find_resource( cmd_resource='sfc_port_pair_group')['port_pairs']],2,2
openstack%2Ftripleo-heat-templates~master~Ia99b23f3ece61830954f73704e85a6efaa5f7428,openstack/tripleo-heat-templates,master,Ia99b23f3ece61830954f73704e85a6efaa5f7428,Enable heat-ui plugin for horizon by default,MERGED,2018-04-24 10:34:46.000000000,2018-04-26 08:10:34.000000000,2018-04-26 03:55:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6926}, {'_account_id': 8648}, {'_account_id': 16628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-24 10:34:46.000000000', 'files': ['docker/services/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e792b9972a92bf99df40d3d4469d9368fdc790bb', 'message': ""Enable heat-ui plugin for horizon by default\n\nSince the orchestration tab was moved in Horizon into a plugin,\nwe have a regression if we don't enable that plugin by default.\n\nChange-Id: Ia99b23f3ece61830954f73704e85a6efaa5f7428\n""}]",0,563880,e792b9972a92bf99df40d3d4469d9368fdc790bb,13,7,1,8648,,,0,"Enable heat-ui plugin for horizon by default

Since the orchestration tab was moved in Horizon into a plugin,
we have a regression if we don't enable that plugin by default.

Change-Id: Ia99b23f3ece61830954f73704e85a6efaa5f7428
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/563880/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/horizon.yaml'],1,e792b9972a92bf99df40d3d4469d9368fdc790bb,enable-heat, - ENABLE_HEAT=yes,,1,0
openstack%2Fnetworking-ovn~master~I06b9c1ace5d9d28d0f00d23719e29a9197b74230,openstack/networking-ovn,master,I06b9c1ace5d9d28d0f00d23719e29a9197b74230,Enable neutron-tempest-plugin by default in the local.conf.sample,MERGED,2018-04-23 10:01:48.000000000,2018-04-26 08:07:53.000000000,2018-04-26 08:07:53.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-04-23 10:01:48.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b7548d21a95c523d5201b451f329212bb5b8dc39', 'message': 'Enable neutron-tempest-plugin by default in the local.conf.sample\n\nOne of the nicest things about running with DevStack is that tempest\ngets automatically configured. Currently we do run tests from\nneutron-tempest-plugin in gate but our .sample file was not enabling\nthose by default.\n\nChange-Id: I06b9c1ace5d9d28d0f00d23719e29a9197b74230\n'}]",2,563558,b7548d21a95c523d5201b451f329212bb5b8dc39,13,5,1,6773,,,0,"Enable neutron-tempest-plugin by default in the local.conf.sample

One of the nicest things about running with DevStack is that tempest
gets automatically configured. Currently we do run tests from
neutron-tempest-plugin in gate but our .sample file was not enabling
those by default.

Change-Id: I06b9c1ace5d9d28d0f00d23719e29a9197b74230
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/58/563558/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,b7548d21a95c523d5201b451f329212bb5b8dc39,enable-tempest-sample,# Enable neutron tempest plugin tests neutron-tempest-plugin git://git.openstack.org/openstack/neutron-tempest-plugin ,,3,0
openstack%2Fmagnum~stable%2Fqueens~Iacd964806a28b3ca6ba3e037c60060f0957d44aa,openstack/magnum,stable/queens,Iacd964806a28b3ca6ba3e037c60060f0957d44aa,Add calico-node on k8s master node,MERGED,2018-04-25 20:26:44.000000000,2018-04-26 08:00:11.000000000,2018-04-26 08:00:11.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 20:26:44.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1e2774fc168b843c397380c412700ef545bd50cc', 'message': ""Add calico-node on k8s master node\n\nBy current design, pods under kube-system will run on minion nodes. And\ngiven now we're not running kubelet on master node, so calico-node is\nnot running on k8s master node. As a result, kubectl proxy is not\nworking to access dashboard. And it's confirmed with calico team that\nthe calico-node container must be running on master node if user want\nto use kubectl proxy, see [1]. So, the solution is enabling kubelet\non master but disallow the other pods scheduled on master with\ntaint/tolerations.\n\nBesides, this patch includes another fix about running calico on\nFedora Atomic. Because Fedora Atomic is using NetworkManager, it\nmanipulates the routing table for interfaces in the default network\nnamespace where Calico veth pairs are anchored for connections to\ncontainers. This can interfere with the Calico agent’s ability to\nroute correctly. Please see more information about this at [2].\n\n[1] https://docs.projectcalico.org/v3.0/getting-started/kubernetes/\n    installation/integration#about-the-calico-components\n[2] https://docs.projectcalico.org/master/usage/troubleshooting/\n    #configure-networkmanager\n\nCloses-Bug: #1751978\n\nChange-Id: Iacd964806a28b3ca6ba3e037c60060f0957d44aa\n(cherry picked from commit 79c002ce7ac97c051c52d4e5aaf83353edd293fb)\n""}]",0,564337,1e2774fc168b843c397380c412700ef545bd50cc,6,2,1,6484,,,0,"Add calico-node on k8s master node

By current design, pods under kube-system will run on minion nodes. And
given now we're not running kubelet on master node, so calico-node is
not running on k8s master node. As a result, kubectl proxy is not
working to access dashboard. And it's confirmed with calico team that
the calico-node container must be running on master node if user want
to use kubectl proxy, see [1]. So, the solution is enabling kubelet
on master but disallow the other pods scheduled on master with
taint/tolerations.

Besides, this patch includes another fix about running calico on
Fedora Atomic. Because Fedora Atomic is using NetworkManager, it
manipulates the routing table for interfaces in the default network
namespace where Calico veth pairs are anchored for connections to
containers. This can interfere with the Calico agent’s ability to
route correctly. Please see more information about this at [2].

[1] https://docs.projectcalico.org/v3.0/getting-started/kubernetes/
    installation/integration#about-the-calico-components
[2] https://docs.projectcalico.org/master/usage/troubleshooting/
    #configure-networkmanager

Closes-Bug: #1751978

Change-Id: Iacd964806a28b3ca6ba3e037c60060f0957d44aa
(cherry picked from commit 79c002ce7ac97c051c52d4e5aaf83353edd293fb)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/37/564337/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",6,1e2774fc168b843c397380c412700ef545bd50cc,bug/1751978-stable/queens," if [ ""$NETWORK_DRIVER"" = ""calico"" ]; then echo ""activating service kubelet"" systemctl enable kubelet systemctl start kubelet fi",,156,36
openstack%2Fmagnum-ui~master~If64e991e7907ce9c404f9262a66dab9323501ca0,openstack/magnum-ui,master,If64e991e7907ce9c404f9262a66dab9323501ca0,Imported Translations from Zanata,MERGED,2018-04-26 06:10:56.000000000,2018-04-26 07:54:26.000000000,2018-04-26 07:54:26.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 06:10:56.000000000', 'files': ['magnum_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/b0deecc17659c83dee1ca50a94ab3e4723678a0f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If64e991e7907ce9c404f9262a66dab9323501ca0\n'}]",0,564392,b0deecc17659c83dee1ca50a94ab3e4723678a0f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If64e991e7907ce9c404f9262a66dab9323501ca0
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/92/564392/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/ko_KR/LC_MESSAGES/django.po']",3,b0deecc17659c83dee1ca50a94ab3e4723678a0f,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2018. #zanata""POT-Creation-Date: 2018-04-25 10:07+0000\n""""PO-Revision-Date: 2018-04-25 10:36+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n"" msgid ""Container Infra - Quotas"" msgstr ""컨테이너 인프라 - 할당량"" msgid ""Quotas"" msgstr ""할당량""","""POT-Creation-Date: 2018-02-26 11:52+0000\n""""PO-Revision-Date: 2017-08-03 03:45+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""",116,9
openstack%2Fsenlin-dashboard~master~I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052,openstack/senlin-dashboard,master,I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052,Imported Translations from Zanata,MERGED,2018-04-26 06:11:05.000000000,2018-04-26 07:50:00.000000000,2018-04-26 07:50:00.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 06:11:05.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/5f2d73ff53179a04def6f345852742fd35c8b5d1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052\n'}]",0,564393,5f2d73ff53179a04def6f345852742fd35c8b5d1,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I98cc65dc11ba6e5951fd7c9a1b18667c00a4f052
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/93/564393/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,5f2d73ff53179a04def6f345852742fd35c8b5d1,zanata/translations,"""POT-Creation-Date: 2018-04-24 10:14+0000\n""""PO-Revision-Date: 2018-04-25 10:33+0000\n""msgid ""0.8.0-48"" msgstr ""0.8.0-48""","""POT-Creation-Date: 2018-04-23 00:22+0000\n""""PO-Revision-Date: 2018-04-23 11:55+0000\n""msgid ""0.8.0-47"" msgstr ""0.8.0-47""",4,4
openstack%2Fheat-agents~master~Ifeed1a8449dba7de6b853f02e832499f622d0faf,openstack/heat-agents,master,Ifeed1a8449dba7de6b853f02e832499f622d0faf,Add new line between snippets.,ABANDONED,2018-04-25 07:38:51.000000000,2018-04-26 07:35:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-25 07:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/011d225cf63f5077076e203cad363a26c77e2c15', 'message': 'Add new line and rstrip to input value.\n\nWhen you have several scripts so they may contain \\r or some other speciali\nsymbols. This patch adds \\n explicitely to merge them correcly. Also it strips\n\\r if input contains it.\n\nChange-Id: Ifeed1a8449dba7de6b853f02e832499f622d0faf\n'}, {'number': 2, 'created': '2018-04-25 11:14:32.000000000', 'files': ['heat-config-script/install.d/hook-script.py'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/d1f02fb54f0120988092951bccd0d28f6cfaa89c', 'message': ""Add new line between snippets.\n\nThis patch adds \\n explicitely to merge them correcly instead of having '\\n' in\nevery snippet.\n\nChange-Id: Ifeed1a8449dba7de6b853f02e832499f622d0faf\n""}]",0,564121,d1f02fb54f0120988092951bccd0d28f6cfaa89c,5,1,2,11090,,,0,"Add new line between snippets.

This patch adds \n explicitely to merge them correcly instead of having '\n' in
every snippet.

Change-Id: Ifeed1a8449dba7de6b853f02e832499f622d0faf
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/21/564121/2 && git format-patch -1 --stdout FETCH_HEAD,['heat-config-script/install.d/hook-script.py'],1,011d225cf63f5077076e203cad363a26c77e2c15,," value = input.get('value', '').rstrip().append('\n')"," value = input.get('value', '')",1,1
openstack%2Fkuryr-kubernetes~master~If7862d537d5cd41f2d9700bd8cf849df33563466,openstack/kuryr-kubernetes,master,If7862d537d5cd41f2d9700bd8cf849df33563466,Make secrets dependant on tls-proxy,ABANDONED,2018-04-02 15:17:31.000000000,2018-04-26 07:27:30.000000000,,"[{'_account_id': 11600}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-04-02 15:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b17d2b30034892117eb600d1d972d8a0c2b93585', 'message': 'Make secrets dependant on tls-proxy\n\nThis commit makes the generation of the secrets dependant on tls-proxy\nservice being active. Otherwise, devstack deployment may fail due to the\nlack of the proxy CA authority.\n\nChange-Id: If7862d537d5cd41f2d9700bd8cf849df33563466\n'}, {'number': 2, 'created': '2018-04-03 07:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5bb0a678852596db2a58b5c2808ab91c035aa0e6', 'message': 'Make secrets dependant on tls-proxy\n\nThis commit makes the generation of the secrets dependant on tls-proxy\nservice being active. Otherwise, devstack deployment may fail due to the\nlack of the proxy CA authority.\n\nChange-Id: If7862d537d5cd41f2d9700bd8cf849df33563466\n'}, {'number': 3, 'created': '2018-04-03 07:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5ff4f1c9f806fd74418131952f8716d4b73031a5', 'message': 'Make secrets dependant on tls-proxy\n\nThis commit makes the generation of the secrets dependant on tls-proxy\nservice being active. Otherwise, devstack deployment may fail due to the\nlack of the proxy CA authority.\n\nChange-Id: If7862d537d5cd41f2d9700bd8cf849df33563466\n'}, {'number': 4, 'created': '2018-04-03 13:22:41.000000000', 'files': ['tools/generate_k8s_resource_definitions.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fa3f32ff20c4c869e3433543754ba201a8b3126e', 'message': 'Make secrets dependant on tls-proxy\n\nThis commit makes the generation of the secrets dependant on tls-proxy\nservice being active. Otherwise, devstack deployment may fail due to the\nlack of the proxy CA authority.\n\nChange-Id: If7862d537d5cd41f2d9700bd8cf849df33563466\n'}]",2,558220,fa3f32ff20c4c869e3433543754ba201a8b3126e,15,4,4,14885,,,0,"Make secrets dependant on tls-proxy

This commit makes the generation of the secrets dependant on tls-proxy
service being active. Otherwise, devstack deployment may fail due to the
lack of the proxy CA authority.

Change-Id: If7862d537d5cd41f2d9700bd8cf849df33563466
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/558220/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,b17d2b30034892117eb600d1d972d8a0c2b93585,tls-proxy-secrets, if is_service_enabled tls-proxy; then generate_kuryr_certificates_secret $output_dir $SSL_BUNDLE_FILE fi, generate_kuryr_certificates_secret $output_dir $SSL_BUNDLE_FILE,3,1
openstack%2Fkuryr-kubernetes~master~I0baf98c9186bd4e2e123d5098c994456c8e09be8,openstack/kuryr-kubernetes,master,I0baf98c9186bd4e2e123d5098c994456c8e09be8,Add a flag for enabling trunk in neutron,ABANDONED,2017-07-17 13:00:29.000000000,2018-04-26 07:26:58.000000000,,[],"[{'number': 1, 'created': '2017-07-17 13:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28ce2ab46354fc0e9187d992c3d1f1ff2fd95525', 'message': 'Add a flag for enabling trunk in neutron\n\nThis commits adds a new flag in the kuryr kubernetes devstack plugin to enable\ntrunk port service plugin in neutron.\n\nChange-Id: I0baf98c9186bd4e2e123d5098c994456c8e09be8\nPartially-Implements: bp/functional-testing-catch-up\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 2, 'created': '2017-07-17 13:07:09.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/083687cc9504bd57dad90119daf07837ec6b782c', 'message': 'Add a flag for enabling trunk in neutron\n\nThis commits adds a new flag in the kuryr kubernetes devstack plugin to enable\ntrunk port service plugin in neutron.\n\nChange-Id: I0baf98c9186bd4e2e123d5098c994456c8e09be8\nPartially-Implements: bp/functional-testing-catch-up\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}]",0,484363,083687cc9504bd57dad90119daf07837ec6b782c,6,0,2,14885,,,0,"Add a flag for enabling trunk in neutron

This commits adds a new flag in the kuryr kubernetes devstack plugin to enable
trunk port service plugin in neutron.

Change-Id: I0baf98c9186bd4e2e123d5098c994456c8e09be8
Partially-Implements: bp/functional-testing-catch-up
Signed-off-by: Daniel Mellado <dmellado@redhat.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/484363/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,28ce2ab46354fc0e9187d992c3d1f1ff2fd95525,enable_neutron_trunk,KURYR_NEUTRON_ENABLE_TRUNK==${KURYR_NEUTRON_ENABLE_TRUNK:-False},,24,0
openstack%2Fblazar~master~I7191b57faeb8961b5937630eacc0ef852cdd0850,openstack/blazar,master,I7191b57faeb8961b5937630eacc0ef852cdd0850,Handle availability zone info in compute host APIs,ABANDONED,2018-04-25 08:58:32.000000000,2018-04-26 07:11:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-25 08:58:32.000000000', 'files': ['blazar/utils/openstack/nova.py', 'releasenotes/notes/multi-freepools-9d88b1f79c330a3c.yaml', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d046376625f46542182ae26bc3ae169a3a7fa223', 'message': 'Handle availability zone info in compute host APIs\n\nThe create host API stores availability zone information into the\ncomputehosts tables. The information comes from Nova\'s availability\nzone API.\n\nCloud users can specify the availability zone information by following\nquery in the host reservation and the instance reservation.\n\n- The host reservation\n  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]\n\n- The instance reservation\n  resource_properties=[""=="", ""$availability_zone"", ""zone1""]\n\nThe az_aware config is a flag to store the infomation or not.\nIf a cloud operator doesn\'t prefer to store the information, set the\nflag to False.\n\nImplements: blueprint multi-freepools\nChange-Id: I7191b57faeb8961b5937630eacc0ef852cdd0850\n'}]",0,564139,d046376625f46542182ae26bc3ae169a3a7fa223,3,1,1,8878,,,0,"Handle availability zone info in compute host APIs

The create host API stores availability zone information into the
computehosts tables. The information comes from Nova's availability
zone API.

Cloud users can specify the availability zone information by following
query in the host reservation and the instance reservation.

- The host reservation
  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]

- The instance reservation
  resource_properties=[""=="", ""$availability_zone"", ""zone1""]

The az_aware config is a flag to store the infomation or not.
If a cloud operator doesn't prefer to store the information, set the
flag to False.

Implements: blueprint multi-freepools
Change-Id: I7191b57faeb8961b5937630eacc0ef852cdd0850
",git fetch https://review.opendev.org/openstack/blazar refs/changes/39/564139/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'releasenotes/notes/multi-freepools-9d88b1f79c330a3c.yaml', 'blazar/tests/utils/openstack/test_nova.py']",3,d046376625f46542182ae26bc3ae169a3a7fa223,bp/multi-freepools,"from novaclient.v2 import availability_zonesfrom oslo_config import fixture availability_zone = 'fake_az1' 'availability_zone': cls.FakeHost.availability_zone,class FakeAvailabilityZones(object): class FakeAZ1(object): zoneName = 'fake_az1' hosts = { ""fake_name"": { ""nova-compute"": {} }, } class FakeAZ2(object): zoneName = 'fake_az2' hosts = { ""fake_name"": { ""nova-conductor"": {}, ""nova-scheduler"": {} }, } @classmethod def list(cls): return [cls.FakeAZ1, cls.FakeAZ2] self.availability_zones = self.patch( availability_zones.AvailabilityZoneManager, 'list') self.availability_zones.side_effect = FakeAvailabilityZones.list def test_get_host_details_without_az(self): conf = fixture.Config(CONF) conf.config(group='nova', az_aware=False) host = self.inventory.get_host_details('fake_name') expected = FakeNovaHypervisors.expected() expected['availability_zone'] = '' self.assertEqual(expected, host) ",,66,1
openstack%2Foslo.privsep~master~I9b42f658d0d860483e90ae0a21876d552bf741b2,openstack/oslo.privsep,master,I9b42f658d0d860483e90ae0a21876d552bf741b2,Replace assertRaisesRegexp with assertRaisesRegex,ABANDONED,2018-04-24 06:41:48.000000000,2018-04-26 07:06:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-24 06:41:48.000000000', 'files': ['oslo_privsep/tests/test_daemon.py', 'oslo_privsep/tests/test_priv_context.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/99416b8ed4016e54ce83e39ebb79721257e7e91d', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nassertRaisesRegexp was renamed to assertRaisesRegex in Py3.2\nFor more details, please check:\nhttps://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex\n\nChange-Id: I9b42f658d0d860483e90ae0a21876d552bf741b2\n'}]",0,563836,99416b8ed4016e54ce83e39ebb79721257e7e91d,3,1,1,21486,,,0,"Replace assertRaisesRegexp with assertRaisesRegex

assertRaisesRegexp was renamed to assertRaisesRegex in Py3.2
For more details, please check:
https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex

Change-Id: I9b42f658d0d860483e90ae0a21876d552bf741b2
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/36/563836/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/tests/test_daemon.py', 'oslo_privsep/tests/test_priv_context.py']",2,99416b8ed4016e54ce83e39ebb79721257e7e91d,, self.assertRaisesRegex(, self.assertRaisesRegexp(,2,2
openstack%2Fproject-config~master~I79320c4614a1896bc263c1e7582c50147024f986,openstack/project-config,master,I79320c4614a1896bc263c1e7582c50147024f986,Configure ansible-role-container-registry zuul jobs,MERGED,2018-04-20 17:34:42.000000000,2018-04-26 06:39:15.000000000,2018-04-26 06:39:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 17:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/874ed70ccff18789971df44994511d3539382fe6', 'message': 'Configure ansible-role-container-registry zuul jobs\n\nChange-Id: I79320c4614a1896bc263c1e7582c50147024f986\n'}, {'number': 2, 'created': '2018-04-20 17:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe54cb7c42ff347b50d0c2a3c05035211edf2eca', 'message': 'Configure ansible-role-container-registry zuul jobs\n\nChange-Id: I79320c4614a1896bc263c1e7582c50147024f986\n'}, {'number': 3, 'created': '2018-04-25 18:29:49.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ba9b263ae2fe87b02b4aa4e02fa8735d11a96cbe', 'message': 'Configure ansible-role-container-registry zuul jobs\n\nChange-Id: I79320c4614a1896bc263c1e7582c50147024f986\n'}]",0,563200,ba9b263ae2fe87b02b4aa4e02fa8735d11a96cbe,13,5,3,3153,,,0,"Configure ansible-role-container-registry zuul jobs

Change-Id: I79320c4614a1896bc263c1e7582c50147024f986
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/563200/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,874ed70ccff18789971df44994511d3539382fe6,ansible-docker-zuul, name: openstack/ansible-role-container-registry templates: - system-required - release-openstack-server check: jobs: - openstack-tox-linters gate: jobs: - openstack-tox-linters post: jobs: - publish-openstack-python-branch-tarball - project:,,15,0
openstack%2Fmonasca-ui~master~I937507e9a65dbf4cd3962c0910180464378aed00,openstack/monasca-ui,master,I937507e9a65dbf4cd3962c0910180464378aed00,Change IntegerField to ChoiceField for notification period,MERGED,2018-04-17 11:24:46.000000000,2018-04-26 06:30:04.000000000,2018-04-24 12:41:00.000000000,"[{'_account_id': 16222}, {'_account_id': 17981}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-04-17 11:24:46.000000000', 'files': ['monitoring/notifications/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/37ecb3ca6619f73541fb63b800315563bdb43624', 'message': 'Change IntegerField to ChoiceField for notification period\n\nStory: 2001506\nTask: 6297\n\nChange-Id: I937507e9a65dbf4cd3962c0910180464378aed00\n'}]",0,561907,37ecb3ca6619f73541fb63b800315563bdb43624,10,4,1,16171,,,0,"Change IntegerField to ChoiceField for notification period

Story: 2001506
Task: 6297

Change-Id: I937507e9a65dbf4cd3962c0910180464378aed00
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/07/561907/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/notifications/forms.py'],1,37ecb3ca6619f73541fb63b800315563bdb43624,," period_choices = [(0, '0'), (60, '60')] self.fields['period'] = forms.ChoiceField(label=_(""Period""), widget=selectWidget, choices=period_choices, initial=0, required=required, help_text=_(""The notification period."")) if data['type'] != constants.NotificationType.WEBHOOK and data['period'] != '0': period=int(data['period'])) kwargs['period'] = int(data['period'])"," self.fields['period'] = forms.IntegerField(label=_(""Period""), min_value=0, max_value=60, initial=0, required=required, help_text=_(""The notification period."")) if data['type'] != constants.NotificationType.WEBHOOK and data['period'] != 0: elif (data['type'] == constants.NotificationType.WEBHOOK and data['period'] not in [0, 60]): raise forms.ValidationError(_('Period must be 0 or 60.')) period=data['period']) kwargs['period'] = data['period']",10,12
openstack%2Fpython-dracclient~master~Icc0bd1f3ff6fcce44f14f031b6780f51e487c888,openstack/python-dracclient,master,Icc0bd1f3ff6fcce44f14f031b6780f51e487c888,Replace assertRaisesRegexp with assertRaisesRegex,ABANDONED,2018-04-23 02:26:49.000000000,2018-04-26 06:25:36.000000000,,"[{'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-23 02:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f0d5f40dbfb994f643771ac3a5e7689aa8a84d0e', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nassertRaisesRegexp was renamed to assertRaisesRegex in Py3.2\nFor more details, please check:\nhttps://docs.python.org/3/library/\nunittest.html#unittest.TestCase.assertRaisesRegex\n\nChange-Id: Icc0bd1f3ff6fcce44f14f031b6780f51e487c888\n'}, {'number': 2, 'created': '2018-04-23 03:03:13.000000000', 'files': ['dracclient/tests/test_utils.py', 'dracclient/tests/test_bios.py', 'dracclient/tests/test_idrac_card.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/02d713d765c5dc0671ab9c61a85c98d4a11fb433', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nassertRaisesRegexp was renamed to assertRaisesRegex in Py3.2\nFor more details, please check:\nhttps://docs.python.org/3/library/\nunittest.html#unittest.TestCase.assertRaisesRegex\n\nChange-Id: Icc0bd1f3ff6fcce44f14f031b6780f51e487c888\n'}]",0,563487,02d713d765c5dc0671ab9c61a85c98d4a11fb433,8,3,2,21486,,,0,"Replace assertRaisesRegexp with assertRaisesRegex

assertRaisesRegexp was renamed to assertRaisesRegex in Py3.2
For more details, please check:
https://docs.python.org/3/library/
unittest.html#unittest.TestCase.assertRaisesRegex

Change-Id: Icc0bd1f3ff6fcce44f14f031b6780f51e487c888
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/87/563487/2 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_utils.py', 'dracclient/tests/test_bios.py', 'dracclient/tests/test_idrac_card.py']",3,f0d5f40dbfb994f643771ac3a5e7689aa8a84d0e,, self.assertRaisesRegex(, self.assertRaisesRegexp(,8,8
openstack%2Fproject-config~master~Ie353a1e43c757c603d7eb72f7d139a71e8d787f3,openstack/project-config,master,Ie353a1e43c757c603d7eb72f7d139a71e8d787f3,Normalize projects.yaml,MERGED,2018-04-26 06:03:10.000000000,2018-04-26 06:19:05.000000000,2018-04-26 06:19:05.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 06:03:10.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c17cfd2d87422005049ad87254b8738feffc7884', 'message': 'Normalize projects.yaml\n\nChange-Id: Ie353a1e43c757c603d7eb72f7d139a71e8d787f3\n'}]",0,564389,c17cfd2d87422005049ad87254b8738feffc7884,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ie353a1e43c757c603d7eb72f7d139a71e8d787f3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/564389/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,c17cfd2d87422005049ad87254b8738feffc7884,project-yaml-normalization,, upstream: https://github.com/EmilienM/ansible-role-container-registry,0,1
openstack%2Fmistral~master~Idc0f0b054ef4eafe77b508f342343caffe43f432,openstack/mistral,master,Idc0f0b054ef4eafe77b508f342343caffe43f432,Remove unnecessary decorator and unused params.,ABANDONED,2018-04-25 07:28:01.000000000,2018-04-26 06:17:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-25 07:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/038da22df5f1d116f1b5694d3e599f85fcb31f28', 'message': 'Remove unnecessary decorator and unused params.\n\nChange-Id: Idc0f0b054ef4eafe77b508f342343caffe43f432\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}, {'number': 2, 'created': '2018-04-25 07:32:09.000000000', 'files': ['mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/77955b8a0c9006ee9d5acb56d8837f99e3dc2de6', 'message': 'Remove unnecessary decorator and unused params.\n\nChange-Id: Idc0f0b054ef4eafe77b508f342343caffe43f432\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",0,564117,77955b8a0c9006ee9d5acb56d8837f99e3dc2de6,4,1,2,25167,,,0,"Remove unnecessary decorator and unused params.

Change-Id: Idc0f0b054ef4eafe77b508f342343caffe43f432
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/17/564117/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py']",2,038da22df5f1d116f1b5694d3e599f85fcb31f28,remove-unused-param,"def get_workbook(name):def load_workbook(name):def get_workbooks(**kwargs):def update_workbook(name, values):def create_or_update_workbook(name, values):def delete_workbook(name):def delete_workbooks(**kwargs):def get_workflow_definition(identifier, namespace=''):def get_workflow_definition_by_id(id):def load_workflow_definition(name, namespace=''):def get_workflow_definitions(fields=None, **kwargs):def update_workflow_definition(identifier, values, namespace=''):def create_or_update_workflow_definition(name, values):def delete_workflow_definitions(**kwargs):def get_action_definition_by_id(id):def get_action_definition(identifier):def load_action_definition(name):def get_action_definitions(**kwargs):def update_action_definition(identifier, values):def create_or_update_action_definition(name, values):def delete_action_definitions(**kwargs):def get_action_execution(id):def load_action_execution(id):def get_action_executions(**kwargs):def update_action_execution(id, values):def create_or_update_action_execution(id, values):def delete_action_execution(id):def delete_action_executions(**kwargs):def get_workflow_execution(id):def load_workflow_execution(id):def get_workflow_executions(**kwargs):def update_workflow_execution(id, values):def create_or_update_workflow_execution(id, values):def delete_workflow_execution(id):def delete_workflow_executions(**kwargs):def get_task_execution(id):def load_task_execution(id):def get_task_executions(**kwargs):def get_completed_task_executions(**kwargs):def get_completed_task_executions_as_batches(**kwargs):def get_incomplete_task_executions(**kwargs):def get_incomplete_task_executions_count(**kwargs):def update_task_execution(id, values):def create_or_update_task_execution(id, values):def delete_task_execution(id):def delete_task_executions(**kwargs):def delete_delayed_call(id):def get_delayed_calls_to_start(time, batch_size=None):def get_delayed_call(id):def get_delayed_calls(**kwargs):def delete_delayed_calls(**kwargs):def get_expired_executions(expiration_time, limit=None, columns=()):def get_superfluous_executions(max_finished_executions, limit=None, columns=()):def get_cron_trigger(identifier):def get_cron_trigger_by_id(id):def load_cron_trigger(identifier):def get_cron_triggers(**kwargs):def get_next_cron_triggers(time):def create_or_update_cron_trigger(identifier, values):def delete_cron_triggers(**kwargs):def get_environment(name):def load_environment(name):def get_environments(**kwargs):def update_environment(name, values):def create_or_update_environment(name, values):def delete_environment(name):def delete_environments(**kwargs):def get_resource_member(resource_id, res_type, member_id):def get_resource_members(resource_id, res_type):def update_resource_member(resource_id, res_type, member_id, values):def delete_resource_member(resource_id, res_type, member_id):def delete_resource_members(**kwargs):def get_event_trigger(id, insecure=False):def load_event_trigger(id, insecure=False):def get_event_triggers(**kwargs):def update_event_trigger(id, values):def delete_event_trigger(id):def delete_event_triggers(**kwargs):def get_named_locks(**kwargs):","@b.session_aware() def get_workbook(name, session=None):@b.session_aware() def load_workbook(name, session=None):@b.session_aware() def get_workbooks(session=None, **kwargs):@b.session_aware() def update_workbook(name, values, session=None):@b.session_aware() def create_or_update_workbook(name, values, session=None):@b.session_aware() def delete_workbook(name, session=None):@b.session_aware() def delete_workbooks(session=None, **kwargs):@b.session_aware() def get_workflow_definition(identifier, namespace='', session=None):@b.session_aware() def get_workflow_definition_by_id(id, session=None):@b.session_aware() def load_workflow_definition(name, namespace='', session=None):@b.session_aware() def get_workflow_definitions(fields=None, session=None, **kwargs):@b.session_aware() def update_workflow_definition(identifier, values, namespace='', session=None):@b.session_aware() def create_or_update_workflow_definition(name, values, session=None):@b.session_aware() def delete_workflow_definitions(session=None, **kwargs):@b.session_aware() def get_action_definition_by_id(id, session=None):@b.session_aware() def get_action_definition(identifier, session=None):@b.session_aware() def load_action_definition(name, session=None):@b.session_aware() def get_action_definitions(session=None, **kwargs):@b.session_aware() def update_action_definition(identifier, values, session=None):@b.session_aware() def create_or_update_action_definition(name, values, session=None):@b.session_aware() def delete_action_definitions(session=None, **kwargs):@b.session_aware() def get_action_execution(id, session=None):@b.session_aware() def load_action_execution(id, session=None):@b.session_aware() def get_action_executions(session=None, **kwargs):@b.session_aware() def update_action_execution(id, values, session=None):@b.session_aware() def create_or_update_action_execution(id, values, session=None):def delete_action_execution(id, session=None):@b.session_aware() def delete_action_executions(session=None, **kwargs):@b.session_aware() def get_workflow_execution(id, session=None):@b.session_aware() def load_workflow_execution(id, session=None):@b.session_aware() def get_workflow_executions(session=None, **kwargs):@b.session_aware() def update_workflow_execution(id, values, session=None):@b.session_aware() def create_or_update_workflow_execution(id, values, session=None):@b.session_aware() def delete_workflow_execution(id, session=None):@b.session_aware() def delete_workflow_executions(session=None, **kwargs):@b.session_aware() def get_task_execution(id, session=None):@b.session_aware() def load_task_execution(id, session=None):@b.session_aware() def get_task_executions(session=None, **kwargs):@b.session_aware() def get_completed_task_executions(session=None, **kwargs):@b.session_aware() def get_completed_task_executions_as_batches(session=None, **kwargs):@b.session_aware() def get_incomplete_task_executions(session=None, **kwargs):@b.session_aware() def get_incomplete_task_executions_count(session=None, **kwargs):@b.session_aware() def update_task_execution(id, values, session=None):@b.session_aware() def create_or_update_task_execution(id, values, session=None):@b.session_aware() def delete_task_execution(id, session=None):@b.session_aware() def delete_task_executions(session=None, **kwargs):@b.session_aware() def delete_delayed_call(id, session=None):@b.session_aware() def get_delayed_calls_to_start(time, batch_size=None, session=None):@b.session_aware() def get_delayed_call(id, session=None):@b.session_aware() def get_delayed_calls(session=None, **kwargs):@b.session_aware() def delete_delayed_calls(session=None, **kwargs):@b.session_aware() def get_expired_executions(expiration_time, limit=None, columns=(), session=None):@b.session_aware() def get_superfluous_executions(max_finished_executions, limit=None, columns=(), session=None):@b.session_aware() def get_cron_trigger(identifier, session=None):@b.session_aware() def get_cron_trigger_by_id(id, session=None):@b.session_aware() def load_cron_trigger(identifier, session=None):@b.session_aware() def get_cron_triggers(session=None, **kwargs):@b.session_aware() def get_next_cron_triggers(time, session=None):@b.session_aware() def create_or_update_cron_trigger(identifier, values, session=None):@b.session_aware() def delete_cron_triggers(session=None, **kwargs):@b.session_aware() def get_environment(name, session=None):@b.session_aware() def load_environment(name, session=None):@b.session_aware() def get_environments(session=None, **kwargs):@b.session_aware() def update_environment(name, values, session=None):@b.session_aware() def create_or_update_environment(name, values, session=None):@b.session_aware() def delete_environment(name, session=None):@b.session_aware() def delete_environments(session=None, **kwargs):@b.session_aware() def get_resource_member(resource_id, res_type, member_id, session=None):@b.session_aware() def get_resource_members(resource_id, res_type, session=None):@b.session_aware() def update_resource_member(resource_id, res_type, member_id, values, session=None):@b.session_aware() def delete_resource_member(resource_id, res_type, member_id, session=None):@b.session_aware() def delete_resource_members(session=None, **kwargs):@b.session_aware() def get_event_trigger(id, insecure=False, session=None):@b.session_aware() def load_event_trigger(id, insecure=False, session=None):@b.session_aware() def get_event_triggers(session=None, **kwargs):@b.session_aware() def update_event_trigger(id, values, session=None):@b.session_aware() def delete_event_trigger(id, session=None):@b.session_aware() def delete_event_triggers(session=None, **kwargs):@b.session_aware() def get_named_locks(session=None, **kwargs):",81,164
openstack%2Fheat~master~I97e1cf983db411c9c1cf8f507d92eead03067a93,openstack/heat,master,I97e1cf983db411c9c1cf8f507d92eead03067a93,Remove mox usage from test_stack_resources and tools,MERGED,2018-03-30 18:50:39.000000000,2018-04-26 06:14:40.000000000,2018-04-26 06:14:40.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 18:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5a58b0fd73dcc801557942adaf196b2b4f78bbd3', 'message': 'Remove mox usage from test_stack_resources and tools\n\nRemove mox usage from test_stack_resources.\nAlso remove mox usage from `heat/tests/engine/tools.py`\n\ngoal: mox-removal\n\nChange-Id: I97e1cf983db411c9c1cf8f507d92eead03067a93\n'}, {'number': 2, 'created': '2018-04-02 12:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bb7053e80a7ec2c74547b6f12bd58acae3637994', 'message': 'Remove mox usage from test_stack_resources and tools\n\nRemove mox usage from test_stack_resources.\nAlso remove mox usage from `heat/tests/engine/tools.py`\n\ngoal: mox-removal\n\nChange-Id: I97e1cf983db411c9c1cf8f507d92eead03067a93\n'}, {'number': 3, 'created': '2018-04-23 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3a248bd0dbdde5576c4a5ab53c575ab74adbb0ab', 'message': 'Remove mox usage from test_stack_resources and tools\n\nRemove mox usage from test_stack_resources.\nAlso remove mox usage from `heat/tests/engine/tools.py`\n\ngoal: mox-removal\n\nChange-Id: I97e1cf983db411c9c1cf8f507d92eead03067a93\n'}, {'number': 4, 'created': '2018-04-24 04:02:43.000000000', 'files': ['heat/tests/engine/tools.py', 'heat/tests/engine/service/test_stack_resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1aef5da111159db36285e03f6c292de84a092f0a', 'message': 'Remove mox usage from test_stack_resources and tools\n\nRemove mox usage from test_stack_resources.\nAlso remove mox usage from `heat/tests/engine/tools.py`\n\ngoal: mox-removal\n\nChange-Id: I97e1cf983db411c9c1cf8f507d92eead03067a93\n'}]",2,557984,1aef5da111159db36285e03f6c292de84a092f0a,17,4,4,12404,,,0,"Remove mox usage from test_stack_resources and tools

Remove mox usage from test_stack_resources.
Also remove mox usage from `heat/tests/engine/tools.py`

goal: mox-removal

Change-Id: I97e1cf983db411c9c1cf8f507d92eead03067a93
",git fetch https://review.opendev.org/openstack/heat refs/changes/84/557984/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/tools.py', 'heat/tests/engine/service/test_stack_resources.py']",2,5a58b0fd73dcc801557942adaf196b2b4f78bbd3,mox-removal," stk = tools.setup_stack_with_mock(self, 'resource_list_deleted_stack', self.ctx) tools.clean_up_stack(self, stk)"," stk = tools.setup_stack('resource_list_deleted_stack', self.ctx) tools.clean_up_stack(stk)",26,82
openstack%2Fheat~master~I122ab7cdfad43ab792b69086ed41733b868a9b32,openstack/heat,master,I122ab7cdfad43ab792b69086ed41733b868a9b32,Remove mox usage from test_software_config,MERGED,2018-03-30 16:15:30.000000000,2018-04-26 06:14:15.000000000,2018-04-26 06:14:14.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 16:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/355ab62b95518eccde5c3015b4267429979ba544', 'message': 'Remove mox usage from test_software_config\n\nChange-Id: I122ab7cdfad43ab792b69086ed41733b868a9b32\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-23 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/19c4628642ee47ec184f43c7e374b35e4eef7934', 'message': 'Remove mox usage from test_software_config\n\nChange-Id: I122ab7cdfad43ab792b69086ed41733b868a9b32\ngoal: mox-removal\n'}, {'number': 3, 'created': '2018-04-24 04:02:43.000000000', 'files': ['heat/tests/engine/service/test_software_config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0eb22d5c3b43515b14dfa006ad15938869cfbd91', 'message': 'Remove mox usage from test_software_config\n\nChange-Id: I122ab7cdfad43ab792b69086ed41733b868a9b32\ngoal: mox-removal\n'}]",0,557957,0eb22d5c3b43515b14dfa006ad15938869cfbd91,14,4,3,12404,,,0,"Remove mox usage from test_software_config

Change-Id: I122ab7cdfad43ab792b69086ed41733b868a9b32
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/557957/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/engine/service/test_software_config.py'],1,355ab62b95518eccde5c3015b4267429979ba544,mox-removal," fc = tools.setup_mocks_with_mock(self, stack) tools.valify_setup_mocks_with_mock(stack, fc) fc = tools.setup_mocks_with_mock(self, stack) tools.valify_setup_mocks_with_mock(stack, fc)"," tools.setup_mocks(self.m, stack) self.m.ReplayAll() tools.setup_mocks(self.m, stack) self.m.ReplayAll()",4,4
openstack%2Fheat~master~I53cc8591b8bc74fed2c609796421ef80b3c0ef56,openstack/heat,master,I53cc8591b8bc74fed2c609796421ef80b3c0ef56,Remove mox usage from test_engine_service,MERGED,2018-03-29 18:27:00.000000000,2018-04-26 06:12:41.000000000,2018-04-26 06:12:41.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 18:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1b30eefb8b83c79029fa0f909e6bd6bf68b96788', 'message': 'Remove mox usage from test_engine_service\n\ngoal: remove_mox\n\nChange-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56\n'}, {'number': 2, 'created': '2018-03-30 12:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/202b0890d4d4d6060381bccbdafe21c9404c7d3f', 'message': 'Remove mox usage from test_engine_service\n\ngoal: remove_mox\n\nChange-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56\n'}, {'number': 3, 'created': '2018-04-12 06:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/88632df4dc2eecf68e2faff03c6e9833a0f34094', 'message': 'Remove mox usage from test_engine_service\n\ngoal: remove_mox\n\nChange-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56\n'}, {'number': 4, 'created': '2018-04-23 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dffb244b2d94f11aa0eabfdf3cfd1afd671863d8', 'message': 'Remove mox usage from test_engine_service\n\ngoal: remove_mox\n\nChange-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56\n'}, {'number': 5, 'created': '2018-04-24 04:02:43.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/tests/engine/tools.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1938ab02d8dbb9167f2243428bd7eac933868684', 'message': 'Remove mox usage from test_engine_service\n\ngoal: remove_mox\n\nChange-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56\n'}]",23,557793,1938ab02d8dbb9167f2243428bd7eac933868684,20,4,5,12404,,,0,"Remove mox usage from test_engine_service

goal: remove_mox

Change-Id: I53cc8591b8bc74fed2c609796421ef80b3c0ef56
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/557793/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/tests/engine/tools.py']",2,1b30eefb8b83c79029fa0f909e6bd6bf68b96788,mox-removal,"def setup_keystone_mocks_with_mock(mocks, stack): fkc = fake_ks.FakeKeystoneClient() mocks.patchobject(keystone.KeystoneClientPlugin, '_create') keystone.KeystoneClientPlugin._create.return_value = fkc def setup_mock_for_image_constraint_with_mock(mocks, imageId_input, imageId_output=744): mocks.patchobject(glance.GlanceClientPlugin, 'find_image_by_name_or_id', return_value=imageId_output) def setup_mocks_with_mock(mocks, stack, mock_image_constraint=True, mock_keystone=True): fc = fakes_nova.FakeClient() mocks.patchobject(instances.Instance, 'client') instances.Instance.client.return_value = fc mocks.patchobject(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create.return_value = fc instance = stack['WebServer'] metadata = instance.metadata_get() if mock_image_constraint: setup_mock_for_image_constraint_with_mock( mocks, instance.properties['ImageId']) if mock_keystone: setup_keystone_mocks_with_mock(mocks, stack) user_data = instance.properties['UserData'] server_userdata = instance.client_plugin().build_userdata( metadata, user_data, 'ec2-user') mocks.patchobject(nova.NovaClientPlugin, 'build_userdata') nova.NovaClientPlugin.build_userdata.return_value = server_userdata mocks.patchobject(fc.servers, 'create') fc.servers.create.return_value = fc.servers.list()[4] return fc ",,95,101
openstack%2Fnova~master~I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64,openstack/nova,master,I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64,docs: link to volume multi-attach demo recording,MERGED,2018-04-23 18:49:44.000000000,2018-04-26 05:38:15.000000000,2018-04-24 19:50:11.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 18:49:44.000000000', 'files': ['doc/source/admin/manage-volumes.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef15a2dd15bf998ef2ee9f04f9d8987fc9aab898', 'message': 'docs: link to volume multi-attach demo recording\n\nSince we have a recorded overview and demo for\nvolume multi-attach we should link to it from our\ndocs.\n\nChange-Id: I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64\n'}]",0,563734,ef15a2dd15bf998ef2ee9f04f9d8987fc9aab898,16,12,1,6873,,,0,"docs: link to volume multi-attach demo recording

Since we have a recorded overview and demo for
volume multi-attach we should link to it from our
docs.

Change-Id: I6e0e243dbb1e1203dd31e820ea12dc7aaa227b64
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/563734/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-volumes.rst'],1,ef15a2dd15bf998ef2ee9f04f9d8987fc9aab898,,There is also a `recorded overview and demo`_ for volume multi-attach. .. _recorded overview and demo: https://www.youtube.com/watch?v=hZg6wqxdEHk,,3,0
openstack%2Fcinder~stable%2Focata~I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4,openstack/cinder,stable/ocata,I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4,Reduce scope of the lock for image volume cache,MERGED,2018-04-12 12:51:09.000000000,2018-04-26 05:25:32.000000000,2018-04-25 17:43:43.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-12 12:51:09.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/11697ddde34c613dd91203f45090750d481a18d4', 'message': ""Reduce scope of the lock for image volume cache\n\nRefactor the code that creates a volume from a downloaded glance image\nto minimize the scope of the lock that prevents multiple entries in the\nvolume image cache. Now the lock serializes only the portion of the\ncode that causes the cache entry to be created. Locking is minimized\nwhen the volume is already cached, or when the volume won't be cached.\n\nCloses-Bug: #1758414\nChange-Id: I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4\n(cherry picked from commit a351cd01c0bf937e82efc3e1256da479be24cfcf)\n(cherry picked from commit bc05efc79aaedd06308f7f173df09fd6a23aa2b3)\n(cherry picked from commit a98afbc53a6074e07eb476c8f113418be8a189a4)\nConflicts:\n\tcinder/tests/unit/volume/flows/test_create_volume_flow.py\n\tcinder/volume/flows/manager/create_volume.py\n""}]",0,560891,11697ddde34c613dd91203f45090750d481a18d4,28,17,1,21129,,,0,"Reduce scope of the lock for image volume cache

Refactor the code that creates a volume from a downloaded glance image
to minimize the scope of the lock that prevents multiple entries in the
volume image cache. Now the lock serializes only the portion of the
code that causes the cache entry to be created. Locking is minimized
when the volume is already cached, or when the volume won't be cached.

Closes-Bug: #1758414
Change-Id: I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4
(cherry picked from commit a351cd01c0bf937e82efc3e1256da479be24cfcf)
(cherry picked from commit bc05efc79aaedd06308f7f173df09fd6a23aa2b3)
(cherry picked from commit a98afbc53a6074e07eb476c8f113418be8a189a4)
Conflicts:
	cinder/tests/unit/volume/flows/test_create_volume_flow.py
	cinder/volume/flows/manager/create_volume.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/560891/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py']",2,11697ddde34c613dd91203f45090750d481a18d4,bug/1758414," def _prepare_image_cache_entry(self, context, volume, image_location, image_id, image_meta, image_service): internal_context = cinder_context.get_internal_tenant_context() if not internal_context: return None, False cache_entry = self.image_volume_cache.get_entry(internal_context, volume, image_id, image_meta) # If the entry is in the cache then return ASAP in order to minimize # the scope of the lock. If it isn't in the cache then do the work # that adds it. The work is done inside the locked region to ensure # only one cache entry is created. if cache_entry: LOG.debug('Found cache entry for image = ' '%(image_id)s on host %(host)s.', {'image_id': image_id, 'host': volume.host}) return None, False else: LOG.debug('Preparing cache entry for image = ' '%(image_id)s on host %(host)s.', {'image_id': image_id, 'host': volume.host}) model_update = self._create_from_image_cache_or_download( context, volume, image_location, image_id, image_meta, image_service, update_cache=True) return model_update, True image_meta, image_service, update_cache=False): # Don't cache unless directed. if not cloned and update_cache: # If we're going to try using the image cache then prepare the cache # entry. Note: encrypted volume images are not cached. if not cloned and self.image_volume_cache and not volume_is_encrypted: # If _prepare_image_cache_entry() has to create the cache entry # then it will also create the volume. But if the volume image # is already in the cache then it returns (None, False), and # _create_from_image_cache_or_download() will use the cache. model_update, cloned = self._prepare_image_cache_entry( context, volume, image_location, image_id, image_meta, image_service) "," image_meta, image_service): # Don't cache encrypted volume. if not cloned and not volume.encryption_key_id:",114,4
openstack%2Fvitrage-specs~master~I898e6d234f683ee90cc05687c0d893534cddb784,openstack/vitrage-specs,master,I898e6d234f683ee90cc05687c0d893534cddb784,Add check component for real-time inspection,NEW,2018-04-16 05:02:15.000000000,2018-04-26 04:53:15.000000000,,"[{'_account_id': 19159}, {'_account_id': 21414}, {'_account_id': 22348}, {'_account_id': 26171}]","[{'number': 1, 'created': '2018-04-16 05:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/cd9b44a097566e22e3a17764f35ce36eaf3b926a', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution and monitoring tools\n(e.g. Zabbix history). To do this, Vitrage needs a component with\na separate flow and Vitrage-API may need to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}, {'number': 2, 'created': '2018-04-16 05:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/635ad77454f359d9a9746ecb908a3d095dc38386', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution and monitoring tools\n(e.g. Zabbix history). To do this, Vitrage needs a component with\na separate flow and Vitrage-API may need to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}, {'number': 3, 'created': '2018-04-17 06:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/5bb8058bf9f6413f1f58fbe5239c2a4a5572b6c5', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution and monitoring tools\n(e.g. Zabbix history). To do this, Vitrage needs a component with\na separate flow and Vitrage-API may need to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}, {'number': 4, 'created': '2018-04-18 02:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/2fce9c307679a048c86ebdaaf49e1fa083a01969', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution and monitoring tools\n(e.g. Zabbix history). To do this, Vitrage needs a component with\na separate flow and Vitrage-API may need to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}, {'number': 5, 'created': '2018-04-24 02:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/3da97890d935dc71ca78f650e21a6f41cce892af', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution and monitoring tools\n(e.g. Zabbix history). To do this, Vitrage needs a component with\na separate flow and Vitrage-API may need to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}, {'number': 6, 'created': '2018-04-26 04:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/cd602230ec40e91805a08f3a0a7037ddf31adb23', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution and monitoring tools\n(e.g. Zabbix history). To do this, Vitrage needs a component with\na separate flow and Vitrage-API may need to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}, {'number': 7, 'created': '2018-04-26 04:48:25.000000000', 'files': ['specs/rocky/approved/add-check-component-for-real-time-inspection.rst'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/0aba38684e2ac12247e77464db6f1ca60d9383a3', 'message': 'Add check component for real-time inspection\n\nWe can add a check action to the action list panel and perform the\ncheck action through the UI. This task allows us to check the\nactual state of multiple entities (VM, Host) and perform multiple\nchecks through system commands, script execution. To do this,\nVitrage needs a component with a separate flow and Vitrage-API may\nneed to execute the request.\n\nChange-Id: I898e6d234f683ee90cc05687c0d893534cddb784\nImplements: blueprint add-check-component-for-real-time-inspection\n'}]",50,561508,0aba38684e2ac12247e77464db6f1ca60d9383a3,20,4,7,26171,,,0,"Add check component for real-time inspection

We can add a check action to the action list panel and perform the
check action through the UI. This task allows us to check the
actual state of multiple entities (VM, Host) and perform multiple
checks through system commands, script execution. To do this,
Vitrage needs a component with a separate flow and Vitrage-API may
need to execute the request.

Change-Id: I898e6d234f683ee90cc05687c0d893534cddb784
Implements: blueprint add-check-component-for-real-time-inspection
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/08/561508/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/add-check-component-for-real-time-inspection.rst'],1,cd9b44a097566e22e3a17764f35ce36eaf3b926a,bp/add-check-component-for-real-time-inspection,"This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Add check component for real-time inspection ============================================ The URL of the launchpad blueprint: https://blueprints.launchpad.net/vitrage/+spec/add-check-component-for-real-time-inspection Problem description =================== Vitrage provides users with the ability to efficiently identify failures through a variety of monitoring tools for each component of the infrastructure and provides cause analysis based on alerts. In real-world infrastructure operations, when notifications occur, we should perform several checks directly on the VM's console, host console, and system commands to diagnose the problem. Therefore, we should repeat this process when the number of VMs or hosts to diagnose the problem increases. As a result, it wastes resources on time and reduces the effectiveness of rapid response in real infrastructure operations. Therefore, once we are aware of the problem in real-world situations, we should diagnose and analyze the exact problem by running comprehensive system commands and various checks on the problem VM and host. Proposed changes ================ We can add a check action to the action list panel that appears when we click on the entity graph and add a check component to process it. When the user selects an action, we can view the list of various cases through the check UI. Each case list also has a separate parameter that allows users to enter parameter values in the UI of the case list and request confirmation elements. Users can pre-write information (SSH ID / PWD) for each VM and host to a specific configuration file, and the Check UI can read this. Therefore, the user does not need to input a value every time the check operation is performed. Commonly used information is input in the configuration file and is easily requested through inputting parameter values other than the name (for example, VM1, VM2, HOST1) can. Test results can be viewed directly at the bottom of the UI and We can see the previous results together. The main function of the check component is to manage multiple cases as pluggable and to request execution of functions from an external project or data source such as Mistral. You can also change the results to make it easier for users to see them. The user can configure the check action of the setting.conf file that Vitrage-dashboard uses to organize the task list. Therefore, we can construct a case list directly from the checking session in the setting.conf file. You can also create common configuration information for each VM or host in a separate configuration file. Below is an example of the check action in setting.conf: .. code-block:: ini [checks] case_list = p2p,bottlenecks,setup_agent,zbxhistory .. end Below is an example of how to configure the check action: .. code-block:: ini check: - DEST_NAME: VM1 SSH_ID: test1 SSH_PWD: test1 - DEST_NAME: VM2 SSH_ID: test2 SSH_PWD: test3 - DEST_NAME: controller SSH_ID: root SSH_PWD: 1234 - DEST_NAME: compute SSH_ID: root SSH_PWD: 9999 .. end The check action includes several cases, which will be added to the check component as pluging. These cases require each system command to be executed for a specific purpose, to organize the results easily, or to request action from an external project or data source driver. Examples of each case of the check action are shown below: * P2P: User can perform simple network checks for each VM and host through the case. Based on the information (eg SSH ID / PWD) we put in the configuration file, the check UI passes the SSH id, password and IP address of the desired host and VM to the check component. This causes the check component to ask Mistral to perform a simple network check for each VM and host, such as ping. As a result, the user will be able to check the network connection of multiple VMs and hosts requested in the check UI and check the result at a glance. * Bottleneck: The case identifies the bottleneck by checking the number of concurrent users for the desired process in the VM or Hosts. The case can identify the number of concurrent connections for a particular process, thus providing a reliable service. The user selects the desired process through the check UI and sends it to check component to perform the operation. As a result, check component is performed through Mistral std.ssh action like P2P, and check result can be checked through check UI. * setup_agent: The monitoring agent is automatically installed and configured on multiple VMs and hosts. We can pre-configure the desired agent by inserting a custom script into the VM or host and run (or not use) the script at any time through the scan UI. For VMs, by default, the agent configuration script provided for a case can work on multiple VMs or hosts, allowing you to build an automated monitoring environment for multiple VMs or hosts. * Zabbix history / trends: We can set conditional alarms for data collected via Zabbix, but we can not confirm the exact numerical data. We can add the ability to import Zabbix history or trends data into Zabbix datasource, so that we can import the data. As a result, the user can check the numerical values, average / minimum / maximum values of collected real data (eg int, float) over a certain period of time in the check UI. According to the request of the check UI, the Vitrage API simply passes data to the check component and triggers it. A separate check component is needed to handle these requests. The check component has separate roles to allow easy addition of multiple cases. Each of the features that make up the check component are as follows: * Response / Request Controller: Receives and responds to action requests (will have a similar structure to other services in Vitrage). * Cases Manager: It manages each case and calls a specific case according to request. * Case Component: means each case. You can also make changes to different functions and results, and request actions from your executor (e.g. P2P case calls Mistral Action Executor). * Mistral Action Executor: Receives an action request from the cases, asks the Mistral for the action, and receives the result. * Datasource Executor (Zabbix): Requests an action to fetch an action or data from a specific monitoring datasource. We use the Vitrage API to trigger the check component on user request. We will use the API for simple triggering purposes to avoid overhead for Vitrage, and the actual functioning will be done by external projects. The check component only has the ability to manage results, invoke external projects, and display the results to the user. The overall workflow is as follows:: +----------------------+ +-----------------------+ | Vitrage Dashboard | | | | +------------------+ | +---> Vitrage API | | | | | | | | | | Entity Click | | | +-----------------------+ | | | | | | | +------------------+ | (2)| (3)| | | | | | +----------------------+ | +-----------v-----------+ | | | Check Component | (1)| | | +-------------------+ | | | | | Case Manager | | +-----------v-----------+ | | +-------------------+ | | | | | (4) | | | Action list Panel | | | +---------v---------+ | | (Check Action) +---+ | | Each case | | | | | +-------------------+ | +-----------------------+ | (5) | | | +---------v---------+ | | | Executor | | | | (Misteral, | | | | Datasource) | | | +-------------------+ | +-----------------------+ | | (6)| (6)| | | +-----v----+ +-----v----+ | | |Datasource| | Mistral | | (Zabbix) | | | | | +----------+ +----------+ (1) The user can select the check action from the action list panel. The user then checks the new check UI and lists the cases read from the checking session in setting.conf. If you select a specific case, you can enter a separate parameter for each case. After that we can check the results at the bottom of the check UI. (2) When the user presses the 'Request' button in the check UI, the data is transmitted to the Vitrage API. (3) The Vitrage API will hand over the data received to the check component. (4),(5) Case Manager will call the case component and pass the data according to the received request. The case corresponding to the request changes the data to fit the external project type and passes it to the executor. (6) Pass the data to the executor (Mistral, Datasource) to which the specific case belongs, and the corresponding executor requests these actions from an external project or datasource. When the results of the above-mentioned procedure arrive from an external project or data source, we change the result to make it easier for users to view. Finally, we can see the output of different results depending on the components of the case you requested. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- POST /v1/checks/[casename] Versioning impact ----------------- None Other end user impact --------------------- None Deployer impact --------------- None Developer impact ---------------- None Horizon impact -------------- * A confirmation action is added to the Actions list panel when we click an entity. * A new UI will be added for checking behavior. * In the new UI, we will be able to enter each parameter according to the checklist and see the results. * Previous results can be viewed by clicking the tabs on the list form, and previous results stored in the list can be emptied by the user. * Inspection sessions are added to the settings.conf file in the task list and we can configure various checklists. Implementation ============== Assignee(s) ----------- Primary assignee: MinWookKim <delightwook@dcn.ssu.ac.kr> Work Items ---------- * We must add a check action in the action list for entity clicks. * We need to configure the UI of the check action * We must add an API to request from the check action. * We will need to add a check component to handle this on demand. * We need to add component for each case to check component. * Mistral action and Zabbix datasource needs to add functionality to request functionality. * Add the get history function to the Zabbix datasource. Dependencies ============ * Action list panel Testing ======= * Check UI. (prameter and result UI) * Check API requests in Vitrage-dashboard. * Confirm result of Mistral action * Zabbix History check results. Documentation Impact ==================== The usage for the configuration of the check session, the method of inputting the parameters, the example of the configuration file, etc. should be documented. References ========== .. [#first] https://docs.openstack.org/mistral/latest/terminology/actions.html .. [#second] https://www.zabbix.com/documentation/3.0/manual/api/reference/history/get ",,306,0
openstack%2Foctavia~master~Idd65ff22c9ab1a0fee1e47c7b37f07174481a243,openstack/octavia,master,Idd65ff22c9ab1a0fee1e47c7b37f07174481a243,Fix lower-constraints to actually match our reqs,MERGED,2018-04-21 07:29:04.000000000,2018-04-26 04:49:39.000000000,2018-04-26 04:49:39.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 07:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd1bdce7bd19c44fa7085c8b944d4c2afd2df325', 'message': 'Fix lower-constraints to actually match our reqs\n\nChange-Id: Idd65ff22c9ab1a0fee1e47c7b37f07174481a243\n'}, {'number': 2, 'created': '2018-04-21 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1acbc10412e0f36d2301e1c2485f376cd3bfff0e', 'message': 'Fix lower-constraints to actually match our reqs\n\nChange-Id: Idd65ff22c9ab1a0fee1e47c7b37f07174481a243\n'}, {'number': 3, 'created': '2018-04-21 08:17:59.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7293dd946064f0ecf7adec4da52b2d28a4949876', 'message': 'Fix lower-constraints to actually match our reqs\n\nChange-Id: Idd65ff22c9ab1a0fee1e47c7b37f07174481a243\n'}]",0,563396,7293dd946064f0ecf7adec4da52b2d28a4949876,12,4,3,10273,,,0,"Fix lower-constraints to actually match our reqs

Change-Id: Idd65ff22c9ab1a0fee1e47c7b37f07174481a243
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/563396/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,fd1bdce7bd19c44fa7085c8b944d4c2afd2df325,,alembic==0.8.10castellan==0.16.0cotyledon==1.3.0 coverage==4.0 cryptography==2.1diskimage-builder==1.1.2 doc8==0.6.0futurist==1.2.0gunicorn==19.0.0keystonemiddleware==4.17.0netifaces==0.10.4oslo.context==2.19.2 oslo.db==4.27.0 oslo.i18n==3.15.3 oslo.log==3.36.0 oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.policy==1.30.0 oslo.reports==1.18.0 oslo.serialization==2.18.0oslo.utils==3.33.0 oslotest==3.2.0pbr==2.0.0 pecan==1.0.0pyasn1==0.1.8 pyasn1-modules==0.0.6python-barbicanclient==4.5.2python-glanceclient==2.8.0python-novaclient==9.1.0 python-subunit==1.0.0requests==2.14.2 requests-mock==1.2.0rfc3986==0.3.1six==1.10.0stevedore==1.20.0 taskflow==2.16.0 tempest==17.1.0testrepository==0.0.18 testresources==2.0.0 testscenarios==0.4 testtools==2.2.0,alembic==0.9.8castellan==0.17.0cotyledon==1.6.8 coverage==4.5.1 cryptography==2.1.4diskimage-builder==2.11.0 doc8==0.8.0futurist==1.6.0gunicorn==19.7.1keystonemiddleware==4.21.0netifaces==0.10.6oslo.context==2.20.0 oslo.db==4.35.0 oslo.i18n==3.20.0 oslo.log==3.37.0 oslo.messaging==5.36.0 oslo.middleware==3.35.0 oslo.policy==1.34.0 oslo.reports==1.27.0 oslo.serialization==2.25.0oslo.utils==3.36.0 oslotest==3.3.0pbr==3.1.1 pecan==1.2.1pyasn1==0.4.2 pyasn1-modules==0.2.1python-barbicanclient==4.6.0python-glanceclient==2.9.1python-novaclient==10.1.0 python-subunit==1.2.0requests==2.18.4 requests-mock==1.4.0rfc3986==1.1.0six==1.11.0stevedore==1.28.0 taskflow==3.1.0 tempest==18.0.0testrepository==0.0.20 testresources==2.0.1 testscenarios==0.5.0 testtools==2.3.0,41,41
openstack%2Ftripleo-common~master~Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,openstack/tripleo-common,master,Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7,Fix missing docker package in neutron L3 agent container,MERGED,2018-04-25 12:37:52.000000000,2018-04-26 03:55:20.000000000,2018-04-26 03:55:20.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-25 12:37:52.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86117a7ce86ac2a2f0ae74bd907abac292d4d751', 'message': 'Fix missing docker package in neutron L3 agent container\n\nWe need to use the append macro to add the docker package to the L3 agent\ncontainer.\n\nNote: the dhcp image should really be doing the same thing, but requires\na change to the kolla repo and will be addressed in follow-up patches.\n(See https://bugs.launchpad.net/kolla/+bug/1766863)\n\nChange-Id: Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7\nRelated-Bug: #1749209\n'}]",0,564191,86117a7ce86ac2a2f0ae74bd907abac292d4d751,9,6,1,6681,,,0,"Fix missing docker package in neutron L3 agent container

We need to use the append macro to add the docker package to the L3 agent
container.

Note: the dhcp image should really be doing the same thing, but requires
a change to the kolla repo and will be addressed in follow-up patches.
(See https://bugs.launchpad.net/kolla/+bug/1766863)

Change-Id: Ib2d2ad4960ea34ec9e3fca1eeb322742341f7eb7
Related-Bug: #1749209
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/564191/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,86117a7ce86ac2a2f0ae74bd907abac292d4d751,bug/1749209,{% set neutron_l3_agent_packages_append = ['docker'] %} # Kolla doesn't currently neutron_dhcp_agent_packages on CentOS so the append # isn't valid here.,{% set neutron_l3_agent_packages = ['docker'] %},3,1
openstack%2Ftripleo-heat-templates~stable%2Fpike~I5cf028d9424a253f8b5d66d818a091508b9486d7,openstack/tripleo-heat-templates,stable/pike,I5cf028d9424a253f8b5d66d818a091508b9486d7,Added missing pki volume for custom CA.,MERGED,2018-04-25 05:54:20.000000000,2018-04-26 03:55:19.000000000,2018-04-26 03:55:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}]","[{'number': 1, 'created': '2018-04-25 05:54:20.000000000', 'files': ['docker/services/containers-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/637f9972a70b9fed3dd6cf15f120340f450bf59f', 'message': 'Added missing pki volume for custom CA.\n\nSome services want the CA to be in the anchors directory. Just mount it\neverywhere.\n\nChange-Id: I5cf028d9424a253f8b5d66d818a091508b9486d7\nCloses-Bug: #1766178\n(cherry picked from commit 3637f0325fa9aea4a511d8f73ece4cb88a30f9f7)\n'}]",0,564107,637f9972a70b9fed3dd6cf15f120340f450bf59f,11,6,1,26828,,,0,"Added missing pki volume for custom CA.

Some services want the CA to be in the anchors directory. Just mount it
everywhere.

Change-Id: I5cf028d9424a253f8b5d66d818a091508b9486d7
Closes-Bug: #1766178
(cherry picked from commit 3637f0325fa9aea4a511d8f73ece4cb88a30f9f7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/564107/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/containers-common.yaml'],1,637f9972a70b9fed3dd6cf15f120340f450bf59f,bug/1766178-stable/pike, - /etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro,,1,0
openstack%2Ftripleo-common~stable%2Fqueens~I31db903787feded6acecd67dc98ef10b6bf26ea8,openstack/tripleo-common,stable/queens,I31db903787feded6acecd67dc98ef10b6bf26ea8,Fix parameter indentation on Swift rebalance playbook,MERGED,2018-04-11 09:47:17.000000000,2018-04-26 03:55:18.000000000,2018-04-26 03:55:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6968}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-11 09:47:17.000000000', 'files': ['playbooks/swift_ring_rebalance.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c7d57df3bcb3b6e1277f2a3f6eb96f8acc1ea312', 'message': 'Fix parameter indentation on Swift rebalance playbook\n\nUnfortunately I messed up the indentation during a rebase.\n\nRelated-Bug: 1759311\nChange-Id: I31db903787feded6acecd67dc98ef10b6bf26ea8\n(cherry picked from commit 1787014691a97e9937977ba373fe0e1e4e2ab3fb)\n'}]",0,560337,c7d57df3bcb3b6e1277f2a3f6eb96f8acc1ea312,17,7,1,6968,,,0,"Fix parameter indentation on Swift rebalance playbook

Unfortunately I messed up the indentation during a rebase.

Related-Bug: 1759311
Change-Id: I31db903787feded6acecd67dc98ef10b6bf26ea8
(cherry picked from commit 1787014691a97e9937977ba373fe0e1e4e2ab3fb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/560337/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/swift_ring_rebalance.yaml'],1,c7d57df3bcb3b6e1277f2a3f6eb96f8acc1ea312,510884-stable/queens, become: true become: true, become: true become: true,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I20bfd46c1db41e2d2ebd3f810591cabf27f2e664,openstack/tripleo-heat-templates,stable/queens,I20bfd46c1db41e2d2ebd3f810591cabf27f2e664,Do not pass ceph_release to ceph-ansible,MERGED,2018-04-25 05:25:14.000000000,2018-04-26 03:55:17.000000000,2018-04-26 03:55:17.000000000,"[{'_account_id': 3153}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 05:25:14.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f60a0e5a16f47dcd52b0b894a20cbac63e786dc', 'message': 'Do not pass ceph_release to ceph-ansible\n\nHardcoding the Ceph version to use in the templates causes issues in\nsome generic tasks during upgrade, when the cluster has nodes in\nmixed state.\n\nCloses-Bug: 1766502\nChange-Id: I20bfd46c1db41e2d2ebd3f810591cabf27f2e664\n(cherry picked from commit 29052930974e0947ee7551ac00bf65c00ac80a20)\n'}]",0,564101,5f60a0e5a16f47dcd52b0b894a20cbac63e786dc,8,4,1,6796,,,0,"Do not pass ceph_release to ceph-ansible

Hardcoding the Ceph version to use in the templates causes issues in
some generic tasks during upgrade, when the cluster has nodes in
mixed state.

Closes-Bug: 1766502
Change-Id: I20bfd46c1db41e2d2ebd3f810591cabf27f2e664
(cherry picked from commit 29052930974e0947ee7551ac00bf65c00ac80a20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/564101/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,5f60a0e5a16f47dcd52b0b894a20cbac63e786dc,bug/1766502,, ceph_release: luminous,0,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5cf028d9424a253f8b5d66d818a091508b9486d7,openstack/tripleo-heat-templates,stable/queens,I5cf028d9424a253f8b5d66d818a091508b9486d7,Added missing pki volume for custom CA.,MERGED,2018-04-25 05:44:18.000000000,2018-04-26 03:55:16.000000000,2018-04-26 03:55:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}]","[{'number': 1, 'created': '2018-04-25 05:44:18.000000000', 'files': ['docker/services/containers-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4db817ab6cb3b3ec96daa81af0a3f1d14da7a3b', 'message': 'Added missing pki volume for custom CA.\n\nSome services want the CA to be in the anchors directory. Just mount it\neverywhere.\n\nChange-Id: I5cf028d9424a253f8b5d66d818a091508b9486d7\nCloses-Bug: #1766178\n(cherry picked from commit 3637f0325fa9aea4a511d8f73ece4cb88a30f9f7)\n'}]",0,564105,a4db817ab6cb3b3ec96daa81af0a3f1d14da7a3b,12,6,1,26828,,,0,"Added missing pki volume for custom CA.

Some services want the CA to be in the anchors directory. Just mount it
everywhere.

Change-Id: I5cf028d9424a253f8b5d66d818a091508b9486d7
Closes-Bug: #1766178
(cherry picked from commit 3637f0325fa9aea4a511d8f73ece4cb88a30f9f7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/564105/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/containers-common.yaml'],1,a4db817ab6cb3b3ec96daa81af0a3f1d14da7a3b,bug/1766178-stable/queens, - /etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro,,1,0
openstack%2Ftripleo-quickstart-extras~master~I891b85bea7db931f9924a124b07bd340f1e4bdb8,openstack/tripleo-quickstart-extras,master,I891b85bea7db931f9924a124b07bd340f1e4bdb8,Fix config_tempest.py args for Newton,MERGED,2018-04-25 11:31:51.000000000,2018-04-26 03:55:15.000000000,2018-04-26 03:55:15.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-25 11:31:51.000000000', 'files': ['roles/validate-tempest/templates/configure-tempest.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e754119d3a36aa110cc9d140f26513472a8c5c87', 'message': 'Fix config_tempest.py args for Newton\n\n* For newton, we need to pass identity.uri admin password and\n  username. It got removed somehow while refactoring, We need\n  to fix by fixing the condition.\n\nChange-Id: I891b85bea7db931f9924a124b07bd340f1e4bdb8\n'}]",0,564167,e754119d3a36aa110cc9d140f26513472a8c5c87,12,10,1,12393,,,0,"Fix config_tempest.py args for Newton

* For newton, we need to pass identity.uri admin password and
  username. It got removed somehow while refactoring, We need
  to fix by fixing the condition.

Change-Id: I891b85bea7db931f9924a124b07bd340f1e4bdb8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/564167/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/configure-tempest.sh.j2'],1,e754119d3a36aa110cc9d140f26513472a8c5c87,fix_newton," {% if release in ['newton', 'ocata', 'pike'] %}"," {% if release in ['ocata', 'pike'] %}",1,1
openstack%2Ftripleo-common~master~I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45,openstack/tripleo-common,master,I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45,Fix nova-placement healthcheck,MERGED,2018-04-23 23:25:14.000000000,2018-04-26 03:55:14.000000000,2018-04-26 03:55:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-23 23:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/03dfae5510ff94b3e46c59e0ba83b13782bda75a', 'message': 'Fix nova-placement healthcheck\n\nThe correct url to check for the placement api service includes\n/placement/.\n\nChange-Id: I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45\nCloses-Bug: #1766375\n'}, {'number': 2, 'created': '2018-04-24 04:15:33.000000000', 'files': ['healthcheck/nova-placement'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94886c3b1f4a95798b2ce2a4e0035be902137e89', 'message': 'Fix nova-placement healthcheck\n\nThe correct url to check for the placement api service includes\n/placement/.\n\nDepends-On: I0cf206e8ceeecfca17dd99a83b8c2eaa50e66712\nChange-Id: I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45\nCloses-Bug: #1766375\n'}]",0,563791,94886c3b1f4a95798b2ce2a4e0035be902137e89,17,5,2,14985,,,0,"Fix nova-placement healthcheck

The correct url to check for the placement api service includes
/placement/.

Depends-On: I0cf206e8ceeecfca17dd99a83b8c2eaa50e66712
Change-Id: I5e0318e1da9a48a2dc6dcd6d8eb726c6f85e7d45
Closes-Bug: #1766375
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/563791/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/nova-placement'],1,03dfae5510ff94b3e46c59e0ba83b13782bda75a,bug/1766375,healthcheck_curl ${check_url}/placement/,healthcheck_curl ${check_url},1,1
openstack%2Ftripleo-quickstart~master~Icdf6f33669400098408a705f39d219c680aa7456,openstack/tripleo-quickstart,master,Icdf6f33669400098408a705f39d219c680aa7456,Enable Swift encryption for the undercloud-containers job,MERGED,2018-04-17 13:29:06.000000000,2018-04-26 03:55:13.000000000,2018-04-26 03:55:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-04-17 13:29:06.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9a6ef3c27ca5a189cdb62ef2459907002c303ab4', 'message': ""Enable Swift encryption for the undercloud-containers job\n\nThis enables Swift encryption in the containerized undercloud, which\nshould in turn encrypt the overcloud plan (or anything that's stored in\nswift for that matter).\n\nChange-Id: Icdf6f33669400098408a705f39d219c680aa7456\nDepends-On: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4\n""}]",0,561942,9a6ef3c27ca5a189cdb62ef2459907002c303ab4,24,11,1,10873,,,0,"Enable Swift encryption for the undercloud-containers job

This enables Swift encryption in the containerized undercloud, which
should in turn encrypt the overcloud plan (or anything that's stored in
swift for that matter).

Change-Id: Icdf6f33669400098408a705f39d219c680aa7456
Depends-On: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/561942/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,9a6ef3c27ca5a189cdb62ef2459907002c303ab4,secret-management,undercloud_enable_swift_encryption: true,,1,0
openstack%2Ftripleo-quickstart-extras~master~I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4,openstack/tripleo-quickstart-extras,master,I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4,Expose the undercloud's enable_swift_encryption option,MERGED,2018-04-17 13:28:54.000000000,2018-04-26 03:55:12.000000000,2018-04-26 03:55:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-04-17 13:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23e0e9d2c5db84ed87d8f53b0514114ab5427b4e', 'message': ""Expose the undercloud's enable_swift_encryption option\n\nThis option enables Swift encryption for the containerized undercloud\nand is disabled by default, such as in the option's default.\n\nChange-Id: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4\nDepends-On: I7826cc00023e2d24865d752d4c9bbb3cc4c8614f\n""}, {'number': 2, 'created': '2018-04-22 23:08:58.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/52f1e7609fd3465cbd43340110aca09e05094d94', 'message': ""Expose the undercloud's enable_swift_encryption option\n\nThis option enables Swift encryption for the containerized undercloud\nand is disabled by default, such as in the option's default.\n\nChange-Id: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4\nDepends-On: I7826cc00023e2d24865d752d4c9bbb3cc4c8614f\n""}]",0,561941,52f1e7609fd3465cbd43340110aca09e05094d94,76,12,2,10873,,,0,"Expose the undercloud's enable_swift_encryption option

This option enables Swift encryption for the containerized undercloud
and is disabled by default, such as in the option's default.

Change-Id: I16902b7a96cc1f0fb8c4fea893d9e3fa8cc171c4
Depends-On: I7826cc00023e2d24865d752d4c9bbb3cc4c8614f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/561941/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/defaults/main.yml']",2,23e0e9d2c5db84ed87d8f53b0514114ab5427b4e,secret-management,undercloud_enable_swift_encryption: false,,4,0
openstack%2Fswift~feature%2Fdeep~Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e,openstack/swift,feature/deep,Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e,make sharding 100x faster,MERGED,2018-04-26 00:36:54.000000000,2018-04-26 03:54:07.000000000,2018-04-26 03:54:07.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 00:36:54.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/867757aaa0e0384fe24d7805e89a6f1ec3bb1fb4', 'message': 'make sharding 100x faster\n\n... by *using* the (name, deleted) index\n\nChange-Id: Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e\n'}]",0,564374,867757aaa0e0384fe24d7805e89a6f1ec3bb1fb4,8,4,1,1179,,,0,"make sharding 100x faster

... by *using* the (name, deleted) index

Change-Id: Ifc358672ebd82b93ac6f5afa3f1f5dce9af9706e
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/564374/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,867757aaa0e0384fe24d7805e89a6f1ec3bb1fb4,," else: query_conditions.append('deleted in (0, 1)')",,2,0
openstack%2Fxstatic-json2yaml~master~Ib49a63b7aa73970dfb2dfe82c9892693a4f77181,openstack/xstatic-json2yaml,master,Ib49a63b7aa73970dfb2dfe82c9892693a4f77181,Update contents same as upstream,MERGED,2018-04-09 07:33:41.000000000,2018-04-26 03:26:19.000000000,2018-04-26 03:26:19.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-04-09 07:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-json2yaml/commit/9d1a1fc8b902cad4dcb5a59bdd1ada1d9572e56e', 'message': 'Correct license info\n\nLicense was mistaken as Apache 2.0\nChange to MIT\n\nChange-Id: Ib49a63b7aa73970dfb2dfe82c9892693a4f77181\n'}, {'number': 2, 'created': '2018-04-10 09:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-json2yaml/commit/65615806d3f2a96d086cc3f16706863067f26921', 'message': 'Update contents same as upstream\n\n1. update file contents\n2. update to version 0.1.1\n3. Correct license info as MIT\n\nChange-Id: Ib49a63b7aa73970dfb2dfe82c9892693a4f77181\n'}, {'number': 3, 'created': '2018-04-10 09:25:56.000000000', 'files': ['xstatic/pkg/json2yaml/__init__.py', 'xstatic/pkg/json2yaml/data/json2yaml.js', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/xstatic-json2yaml/commit/84f91b0bcf9621eba0abdbd4f2031a52616233b4', 'message': 'Update contents same as upstream\n\n1. update file contents\n2. update to version 0.1.1\n3. correct license info as MIT\n\nChange-Id: Ib49a63b7aa73970dfb2dfe82c9892693a4f77181\n'}]",0,559650,84f91b0bcf9621eba0abdbd4f2031a52616233b4,11,3,3,19224,,,0,"Update contents same as upstream

1. update file contents
2. update to version 0.1.1
3. correct license info as MIT

Change-Id: Ib49a63b7aa73970dfb2dfe82c9892693a4f77181
",git fetch https://review.opendev.org/openstack/xstatic-json2yaml refs/changes/50/559650/1 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/json2yaml/__init__.py', 'setup.cfg']",2,9d1a1fc8b902cad4dcb5a59bdd1ada1d9572e56e,,license = MIT,license = Apache 2.0,2,2
