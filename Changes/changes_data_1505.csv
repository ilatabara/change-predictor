id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnova~849212,openstack/nova,stable/yoga,I593011d9f4c43cdae7a3d53b556c6e2a2b939989,Retry attachment delete API call for 504 Gateway Timeout,MERGED,2022-07-09 15:39:18.000000000,2022-12-03 05:40:41.000000000,2022-12-03 05:39:13.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-09 15:39:18.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'releasenotes/notes/bug-1978444-db46df5f3d5ea19e.yaml', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b94ffb1123b1a6cf0a8675e0d6f1072e9625f570', 'message': 'Retry attachment delete API call for 504 Gateway Timeout\n\nWhen cinder-api runs behind a load balancer(eg haproxy), the load\nbalancer can return 504 Gateway Timeout when cinder-api does not\nrespond within timeout. This change ensures nova retries deleting\na volume attachment in that case.\n\nAlso this change makes nova ignore 404 in the API call. This is\nrequired because cinder might continue deleting the attachment even if\nthe load balancer returns 504. This also helps us in the situation\nwhere the volume attachment was accidentally removed by users.\n\nCloses-Bug: #1978444\nChange-Id: I593011d9f4c43cdae7a3d53b556c6e2a2b939989\n(cherry picked from commit 8f4b740ca5292556f8e953a30f2a11ed4fbc2945)\n'}]",3,849212,b94ffb1123b1a6cf0a8675e0d6f1072e9625f570,18,4,1,9816,,,0,"Retry attachment delete API call for 504 Gateway Timeout

When cinder-api runs behind a load balancer(eg haproxy), the load
balancer can return 504 Gateway Timeout when cinder-api does not
respond within timeout. This change ensures nova retries deleting
a volume attachment in that case.

Also this change makes nova ignore 404 in the API call. This is
required because cinder might continue deleting the attachment even if
the load balancer returns 504. This also helps us in the situation
where the volume attachment was accidentally removed by users.

Closes-Bug: #1978444
Change-Id: I593011d9f4c43cdae7a3d53b556c6e2a2b939989
(cherry picked from commit 8f4b740ca5292556f8e953a30f2a11ed4fbc2945)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/849212/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'releasenotes/notes/bug-1978444-db46df5f3d5ea19e.yaml', 'nova/volume/cinder.py']",3,b94ffb1123b1a6cf0a8675e0d6f1072e9625f570,bug/1978444," e.code in (500, 504))) if ex.code == 404: LOG.warning('Attachment %(id)s does not exist. Ignoring.', {'id': attachment_id}) else: with excutils.save_and_reraise_exception(): LOG.error('Delete attachment failed for attachment ' '%(id)s. Error: %(msg)s Code: %(code)s', {'id': attachment_id, 'msg': str(ex), 'code': getattr(ex, 'code', None)})"," e.code == 500)) with excutils.save_and_reraise_exception(): LOG.error('Delete attachment failed for attachment ' '%(id)s. Error: %(msg)s Code: %(code)s', {'id': attachment_id, 'msg': str(ex), 'code': getattr(ex, 'code', None)})",54,11
openstack%2Fhorizon~864402,openstack/horizon,master,I356e6849892ed87b2827740e265fcf15fc076cb5,Attach video even if the exception happens in cleanup,MERGED,2022-11-14 11:19:44.000000000,2022-12-03 00:32:14.000000000,2022-12-03 00:31:04.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-14 11:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5b22a74633801da86f1958844a54dcee6c26b95b', 'message': 'Attach video even if the exception happens in cleanup\n\nThe way we were handling attaching video in integration tests, it would\nnot attach it if the error happened in a cleanup, not in the main body\nof the test. This should fix that.\n\nChange-Id: I356e6849892ed87b2827740e265fcf15fc076cb5\n'}, {'number': 2, 'created': '2022-11-14 11:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8eb6ca46f7ec42b047fbf7902d2030c638a94d84', 'message': 'Attach video even if the exception happens in cleanup\n\nThe way we were handling attaching video in integration tests, it would\nnot attach it if the error happened in a cleanup, not in the main body\nof the test. This should fix that.\n\nChange-Id: I356e6849892ed87b2827740e265fcf15fc076cb5\n'}, {'number': 3, 'created': '2022-11-14 16:03:45.000000000', 'files': ['openstack_dashboard/test/integration_tests/helpers.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d7ecc144107b38101edc7b58e0b3f3519c61cb2', 'message': 'Attach video even if the exception happens in cleanup\n\nThe way we were handling attaching video in integration tests, it would\nnot attach it if the error happened in a cleanup, not in the main body\nof the test. This should fix that.\n\nChange-Id: I356e6849892ed87b2827740e265fcf15fc076cb5\n'}]",2,864402,6d7ecc144107b38101edc7b58e0b3f3519c61cb2,18,3,3,8648,,,0,"Attach video even if the exception happens in cleanup

The way we were handling attaching video in integration tests, it would
not attach it if the error happened in a cleanup, not in the main body
of the test. This should fix that.

Change-Id: I356e6849892ed87b2827740e265fcf15fc076cb5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/864402/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/helpers.py'],1,5b22a74633801da86f1958844a54dcee6c26b95b,fixattachingvideo," def attach_video(): self.video_recorder.stop() self._attach_video() setattr(self, '_attached_video', True) if getattr(self, '_attached_video', None): return self.video_recorder.clear()"," lambda exc_info: setattr(self, '_need_attach_video', True)) if getattr(self, '_need_attach_video', None): self._attach_video() else: self.video_recorder.clear()",8,5
openstack%2Fironic-lib~860176,openstack/ironic-lib,stable/ussuri,If93ca57e1340b2ed39c02f673502c04d9b63c98c,CI: Zuul no longer respects queue param,MERGED,2022-10-03 21:52:31.000000000,2022-12-02 22:39:08.000000000,2022-12-02 22:37:32.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 21:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c5189edf33f23851dafff85767b87eb58e87fa66', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}, {'number': 2, 'created': '2022-12-02 10:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/72f4d8a986dcead4e12757eaee9f50e439d06575', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}, {'number': 3, 'created': '2022-12-02 11:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/5409d25aa7e7494ce93cd26e7bdff56ba1fe1804', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}, {'number': 4, 'created': '2022-12-02 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/9d56558b08531d56d9155fe27f622d164c8beeb3', 'message': 'CI: Zuul no longer respects queue param\n\nAlso remove redundant and broken jobs\n\nIn the partition jobs we already test both partition and wholedisk\nscenarios using ironic_tempest_plugin configuration under\nironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_partition_image\nironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_wholedisk_image\n\nRename partition jobs to make them generic.\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}, {'number': 5, 'created': '2022-12-02 11:16:40.000000000', 'files': ['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/7d2150578e5c5d271f86fd20b0e75ee070ca1d3f', 'message': 'CI: Zuul no longer respects queue param\n\nAlso remove redundant and broken jobs\n\nIn the partition jobs we already test both partition and wholedisk\nscenarios using ironic_tempest_plugin configuration under\nironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_partition_image\nironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_wholedisk_image\n\nRename partition jobs to make them generic.\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}]",5,860176,7d2150578e5c5d271f86fd20b0e75ee070ca1d3f,21,4,5,10342,,,0,"CI: Zuul no longer respects queue param

Also remove redundant and broken jobs

In the partition jobs we already test both partition and wholedisk
scenarios using ironic_tempest_plugin configuration under
ironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_partition_image
ironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_wholedisk_image

Rename partition jobs to make them generic.

Change-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/76/860176/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c5189edf33f23851dafff85767b87eb58e87fa66,,, queue: ironic,0,1
openstack%2Ftripleo-ansible~840676,openstack/tripleo-ansible,master,Ifc84aaa26e2ec80324c7dada8183f7da8155d036,Add tripleo_ssh_known_hosts role to OpenStack configure phase,ABANDONED,2022-05-05 14:30:43.000000000,2022-12-02 22:08:52.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-05-05 14:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1807d85113ed64bdd9cc33c15653ccd3a2973fd', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-05-06 18:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b58264461b19ffc85f7fbdbeb2ccf8c28be587a0', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-05-09 21:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/739fa4b93b0d3e499b87a0be5333b564faf49b92', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2022-05-10 01:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49f341527d57b3495daaafdcbba9202a8eb57502', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2022-05-10 01:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3c73ce8708eab7eb7e341f53bc1fce7f495cde6', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2022-05-10 11:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff00e76186a3e270f78f49504004ddd9ea4b2578', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2022-05-11 00:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76b10c33666f351bb570f72e0a398148b7b119fa', 'message': 'Add tripleo_ssh_known_hosts role to standalone configure phase\n\nAdd a new standalone playbook for the configure phase,\ndeploy-tripleo-configure.yaml. Add the tripleo_ssh_known_hosts role to\nthe playbook initially.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2022-05-12 17:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1eacefb757233c867f5cac41ad7ed6f90e0af01f', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 9, 'created': '2022-05-13 19:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf660aeb7ae82851da8383a222e93cc61e66e2c5', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 10, 'created': '2022-05-16 21:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af7380543030469ca07c1ef9d64da013c4da78a3', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 11, 'created': '2022-05-17 15:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2c26de162b072e8e6a376f63f64af37e786b445', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 12, 'created': '2022-05-18 21:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5e64221afb69c9350088665f54a00e71690976b', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 13, 'created': '2022-05-18 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90a48711174f2cb7f6a582773d8861b96560b68a', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 14, 'created': '2022-05-19 20:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc2b8b2f9d232c2996d7e1ec60bf03b734586f9a', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 15, 'created': '2022-05-25 02:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4295b4088b90380cc95901135222e3be5e91227f', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 16, 'created': '2022-05-31 20:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29505a8fd849dc08d79d89ce9e2b7b67b27ac0f7', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 17, 'created': '2022-06-01 13:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcad2e52fd9c6549a3b69e34b1a086508ca32d3b', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 18, 'created': '2022-06-09 21:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/173c0f3f0a04805a798eaf64e28302f20daab89b', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 19, 'created': '2022-06-21 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45a431f3470333a3c8187817e2bdab78ddd4ae4a', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 20, 'created': '2022-06-23 13:20:01.000000000', 'files': ['tripleo_ansible/playbooks/deploy-tripleo-openstack-configure.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06e1f30992d2e677e48bebf9cbeaea54dbc3ac16', 'message': 'Add tripleo_ssh_known_hosts role to OpenStack configure phase\n\nAdd the tripleo_ssh_known_hosts role to the OpenStack config playbook.\n\nChange-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",3,840676,06e1f30992d2e677e48bebf9cbeaea54dbc3ac16,67,6,20,7144,,,0,"Add tripleo_ssh_known_hosts role to OpenStack configure phase

Add the tripleo_ssh_known_hosts role to the OpenStack config playbook.

Change-Id: Ifc84aaa26e2ec80324c7dada8183f7da8155d036
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/840676/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/deploy-overcloud-compute.yaml', 'tripleo_ansible/inventory/compute', 'tripleo_ansible/playbooks/deploy-tripleo-configure.yaml']",3,a1807d85113ed64bdd9cc33c15653ccd3a2973fd,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - hosts: ""{{ deploy_target_host | default([]) }}"" strategy: tripleo_free gather_facts: ""{{ gather_facts | default(false) }}"" any_errors_fatal: true tasks: - name: Run tripleo_bootstrap role include_role: name: tripleo_ssh_known_hosts ",,35,0
openstack%2Fopenstack-ansible-os_neutron~866249,openstack/openstack-ansible-os_neutron,master,I7a08ed81a15c0678832bcdd192bdc4e10064bd6d,Install openvswitch packages in Neutron server container,MERGED,2022-12-01 04:24:31.000000000,2022-12-02 21:24:25.000000000,2022-12-02 21:23:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-12-01 04:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/94c1806e731d04887b093a9e3967c29ff7afa58b', 'message': ""Install openvswitch packages in Neutron server container\n\nneutron-server appears to require ovsdb-client to communicate with ovsdb\nin an OVN install. On metal, this isn't an issue since ovsdb-client is\ninstalled with openvswitch-common but with LXC, OVS packages aren't installed\nin the neutron server lxc container.\n\nUbuntu/Debian splits out openvswitch-common utilities from the actual\nopenvswitch service (openvswitch-server), while CentOS/RHEL-based distros\npackage them all up. This method was chosen as lowest common denominator\nbetween supported releases.\n\nChange-Id: I7a08ed81a15c0678832bcdd192bdc4e10064bd6d\n""}, {'number': 2, 'created': '2022-12-01 11:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/86a9711fd4ce2e4287c8b5aea0e457b24bb067f8', 'message': ""Install openvswitch packages in Neutron server container\n\nneutron-server appears to require ovsdb-client to communicate with ovsdb\nin an OVN install. On metal, this isn't an issue since ovsdb-client is\ninstalled with openvswitch-common but with LXC, OVS packages aren't installed\nin the neutron server lxc container.\n\nUbuntu/Debian splits out openvswitch-common utilities from the actual\nopenvswitch service (openvswitch-server), while CentOS/RHEL-based distros\npackage them all up. This method was chosen as lowest common denominator\nbetween supported releases.\n\nChange-Id: I7a08ed81a15c0678832bcdd192bdc4e10064bd6d\n""}, {'number': 3, 'created': '2022-12-01 13:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9150ff2de16fd13e27e9ddf82bc230953ea78b51', 'message': ""Install openvswitch packages in Neutron server container\n\nneutron-server appears to require ovsdb-client to communicate with ovsdb\nin an OVN install. On metal, this isn't an issue since ovsdb-client is\ninstalled with openvswitch-common but with LXC, OVS packages aren't installed\nin the neutron server lxc container.\n\nUbuntu/Debian splits out openvswitch-common utilities from the actual\nopenvswitch service (openvswitch-server), while CentOS/RHEL-based distros\npackage them all up. This method was chosen as lowest common denominator\nbetween supported releases.\n\nChange-Id: I7a08ed81a15c0678832bcdd192bdc4e10064bd6d\n""}, {'number': 4, 'created': '2022-12-01 15:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6d225369a7f44a00588010161363bf2448c423c9', 'message': ""Install openvswitch packages in Neutron server container\n\nneutron-server appears to require ovsdb-client to communicate with ovsdb\nin an OVN install. On metal, this isn't an issue since ovsdb-client is\ninstalled with openvswitch-common but with LXC, OVS packages aren't installed\nin the neutron server lxc container.\n\nUbuntu/Debian splits out openvswitch-common utilities from the actual\nopenvswitch service (openvswitch-server), while CentOS/RHEL-based distros\npackage them all up. This method was chosen as lowest common denominator\nbetween supported releases.\n\nChange-Id: I7a08ed81a15c0678832bcdd192bdc4e10064bd6d\n""}, {'number': 5, 'created': '2022-12-02 16:43:47.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c79d3c2e4c8abe865a4923ebe164e20d185c8f34', 'message': ""Install openvswitch packages in Neutron server container\n\nneutron-server appears to require ovsdb-client to communicate with ovsdb\nin an OVN install. On metal, this isn't an issue since ovsdb-client is\ninstalled with openvswitch-common but with LXC, OVS packages aren't installed\nin the neutron server lxc container.\n\nUbuntu/Debian splits out openvswitch-common utilities from the actual\nopenvswitch service (openvswitch-server), while CentOS/RHEL-based distros\npackage them all up. This method was chosen as lowest common denominator\nbetween supported releases.\n\nChange-Id: I7a08ed81a15c0678832bcdd192bdc4e10064bd6d\n""}]",2,866249,c79d3c2e4c8abe865a4923ebe164e20d185c8f34,20,3,5,16011,,,0,"Install openvswitch packages in Neutron server container

neutron-server appears to require ovsdb-client to communicate with ovsdb
in an OVN install. On metal, this isn't an issue since ovsdb-client is
installed with openvswitch-common but with LXC, OVS packages aren't installed
in the neutron server lxc container.

Ubuntu/Debian splits out openvswitch-common utilities from the actual
openvswitch service (openvswitch-server), while CentOS/RHEL-based distros
package them all up. This method was chosen as lowest common denominator
between supported releases.

Change-Id: I7a08ed81a15c0678832bcdd192bdc4e10064bd6d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/49/866249/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,94c1806e731d04887b093a9e3967c29ff7afa58b,osa/ovn, or (neutron_services['neutron-server']['group'] in group_names and (neutron_plugin_type == 'ml2.ovn') | bool),,1,0
openstack%2Ftripleo-ansible~832305,openstack/tripleo-ansible,stable/train,I60f6efebecf24f3c3337cc02e8c61e0835de6ed0,Ensure english locale when running the command for ovs checks.,MERGED,2022-03-07 19:08:24.000000000,2022-12-02 21:19:56.000000000,2022-12-02 21:19:56.000000000,"[{'_account_id': 6681}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32432}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-03-07 19:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a5d1caf1dedfb167edc03ee6f2ff1848ed47025', 'message': '[dnm] Ensure english locale when running the command for ovs checks.\n\nChange-Id: I60f6efebecf24f3c3337cc02e8c61e0835de6ed0\n'}, {'number': 2, 'created': '2022-03-08 14:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a38f479137f3a98cd21de5fab44f40e6caf76c9c', 'message': '[dnm] Ensure english locale when running the command for ovs checks.\n\nChange-Id: I60f6efebecf24f3c3337cc02e8c61e0835de6ed0\n'}, {'number': 3, 'created': '2022-11-09 15:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63ea99d530cc6791121857b8cf7de89cf76163a0', 'message': ""Ensure english locale when running the command for ovs checks.\n\nWe parse the output of commands to get information around the\nOpenVswitch versions. At least one of those commands supports\nlocalization[1]. In order to ensure that the parsing won't fail on\nunexpected character, we have to make sure all commands run with an\nknown locale.\n\nWe add a wrapper around the module.run_ansible ansible ansible command\nthat ensures that all commands run with C.UTF-8 locale.\n\nWe need to support string and list for that wrapper for command\nbecause run_ansible[2] has a different interface depending on the\ncommand being a string or a list. We use this behaviour to get access\nto the shell.\n\n[1] The dnf command.\n[2] https://docs.ansible.com/ansible/latest/reference_appendices/module_utils.html\n\nCloses-Bug: #1964155\n\nChange-Id: I60f6efebecf24f3c3337cc02e8c61e0835de6ed0\n(cherry picked from commit 810f8a175dc83d02bcc0ba4081fb71cf7fb2b78d)\n""}, {'number': 4, 'created': '2022-11-24 15:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a3b6e1225b1ffc78ba3ced29f046cbac4cf3595', 'message': ""Ensure english locale when running the command for ovs checks.\n\nWe parse the output of commands to get information around the\nOpenVswitch versions. At least one of those commands supports\nlocalization[1]. In order to ensure that the parsing won't fail on\nunexpected character, we have to make sure all commands run with an\nknown locale.\n\nWe add a wrapper around the module.run_ansible ansible ansible command\nthat ensures that all commands run with C.UTF-8 locale.\n\nWe need to support string and list for that wrapper for command\nbecause run_ansible[2] has a different interface depending on the\ncommand being a string or a list. We use this behaviour to get access\nto the shell.\n\n[1] The dnf command.\n[2] https://docs.ansible.com/ansible/latest/reference_appendices/module_utils.html\n\nCloses-Bug: #1964155\n\nChange-Id: I60f6efebecf24f3c3337cc02e8c61e0835de6ed0\n(cherry picked from commit 810f8a175dc83d02bcc0ba4081fb71cf7fb2b78d)\n""}, {'number': 5, 'created': '2022-11-24 15:23:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f870740f0a26ae8b34af61da5613c8c97ee92673', 'message': ""Ensure english locale when running the command for ovs checks.\n\nWe parse the output of commands to get information around the\nOpenVswitch versions. At least one of those commands supports\nlocalization[1]. In order to ensure that the parsing won't fail on\nunexpected character, we have to make sure all commands run with an\nknown locale.\n\nWe add a wrapper around the module.run_ansible ansible ansible command\nthat ensures that all commands run with C.UTF-8 locale.\n\nWe need to support string and list for that wrapper for command\nbecause run_ansible[2] has a different interface depending on the\ncommand being a string or a list. We use this behaviour to get access\nto the shell.\n\n[1] The dnf command.\n[2] https://docs.ansible.com/ansible/latest/reference_appendices/module_utils.html\n\nCloses-Bug: #1964155\n\nChange-Id: I60f6efebecf24f3c3337cc02e8c61e0835de6ed0\n(cherry picked from commit 810f8a175dc83d02bcc0ba4081fb71cf7fb2b78d)\n""}]",16,832305,f870740f0a26ae8b34af61da5613c8c97ee92673,28,7,5,8297,,,0,"Ensure english locale when running the command for ovs checks.

We parse the output of commands to get information around the
OpenVswitch versions. At least one of those commands supports
localization[1]. In order to ensure that the parsing won't fail on
unexpected character, we have to make sure all commands run with an
known locale.

We add a wrapper around the module.run_ansible ansible ansible command
that ensures that all commands run with C.UTF-8 locale.

We need to support string and list for that wrapper for command
because run_ansible[2] has a different interface depending on the
command being a string or a list. We use this behaviour to get access
to the shell.

[1] The dnf command.
[2] https://docs.ansible.com/ansible/latest/reference_appendices/module_utils.html

Closes-Bug: #1964155

Change-Id: I60f6efebecf24f3c3337cc02e8c61e0835de6ed0
(cherry picked from commit 810f8a175dc83d02bcc0ba4081fb71cf7fb2b78d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/832305/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,6a5d1caf1dedfb167edc03ee6f2ff1848ed47025,,"def run_command_local_safe(module): # TODO long term solution. pass locale_safe = ['env', 'LANG=C.UTF-8'] _, output, _ = module.run_command(locale_safe + cmd, check_rc=False)"," _, output, _ = module.run_command(cmd, check_rc=False)",6,2
openstack%2Fhorizon~865661,openstack/horizon,master,I9e791c24944f228a27813eb860080d3ea3e1449d,Drop Nodejs v16 job,MERGED,2022-11-25 10:12:57.000000000,2022-12-02 21:09:12.000000000,2022-12-02 21:07:21.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 10:12:57.000000000', 'files': ['.zuul.d/nodejs-jobs.yaml', '.zuul.d/project.yaml', '.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c832e239ba4969b49d1f20cb8e830f8bed510259', 'message': ""Drop Nodejs v16 job\n\nAs nodejs v18 job is passing in horizon and all horizon\nplugins [1]. So we didn't require the nodejs v16 job.\n\nThis patch removes the nodejs v16 job definition from\n``.zuul.d/nodejs-jobs.yaml`` and other nodejs v16 job\nreferences.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/865293\n\nChange-Id: I9e791c24944f228a27813eb860080d3ea3e1449d\n""}]",0,865661,c832e239ba4969b49d1f20cb8e830f8bed510259,8,3,1,29313,,,0,"Drop Nodejs v16 job

As nodejs v18 job is passing in horizon and all horizon
plugins [1]. So we didn't require the nodejs v16 job.

This patch removes the nodejs v16 job definition from
``.zuul.d/nodejs-jobs.yaml`` and other nodejs v16 job
references.

[1] https://review.opendev.org/c/openstack/horizon/+/865293

Change-Id: I9e791c24944f228a27813eb860080d3ea3e1449d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/61/865661/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/nodejs-jobs.yaml', '.zuul.d/project.yaml', '.zuul.d/xstatic-master.yaml']",3,c832e239ba4969b49d1f20cb8e830f8bed510259,,, name: horizon-nodejs16-run-test-xstatic-master parent: horizon-nodejs16-run-test required-projects: *xstatic-projects pre-run: playbooks/npm-test-xstatic-master/pre.yaml - job:,1,41
openstack%2Fopenstack-ansible-openstack_hosts~865997,openstack/openstack-ansible-openstack_hosts,stable/yoga,Ic7135573bd16697d5fe289e9f3838843eb047cc8,"Revert ""Use pam_env for su commands on Centos-9""",MERGED,2022-11-29 20:08:50.000000000,2022-12-02 20:24:02.000000000,2022-12-02 20:23:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-29 20:08:50.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9cedcb7d61943a33415a745464940b6f41d4f310', 'message': 'Revert ""Use pam_env for su commands on Centos-9""\n\nThis reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.\n\nReason for revert: RHBA-2022:4082 has packages released which resolve the bug\n\nChange-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8\n(cherry picked from commit d0d7c8a16fa6228ccf4021d1a8d0632818845afc)\n'}]",1,865997,9cedcb7d61943a33415a745464940b6f41d4f310,12,3,1,28619,,,0,"Revert ""Use pam_env for su commands on Centos-9""

This reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.

Reason for revert: RHBA-2022:4082 has packages released which resolve the bug

Change-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8
(cherry picked from commit d0d7c8a16fa6228ccf4021d1a8d0632818845afc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/97/865997/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9cedcb7d61943a33415a745464940b6f41d4f310,osa/centos-9-stable/yoga,,# NOTE(jrosser) Remove this task when https://access.redhat.com/errata/RHBA-2022:4082 # has a fix merged to Centos-9 as well as RHEL. - name: Ensure environement is applied during su community.general.pamd: name: su type: auth control: sufficient module_path: pam_rootok.so new_type: auth new_control: required new_module_path: pam_env.so state: before when: - ansible_facts['distribution'] == 'CentOS' - ansible_facts['distribution_version'] == '9' ,0,16
openstack%2Fneutron~865995,openstack/neutron,stable/wallaby,I6b097d8409318a5dfe17e9673adb6c1431a59b0b,Set bigger swap in the functional and fullstack jobs,MERGED,2022-11-29 15:39:28.000000000,2022-12-02 20:04:54.000000000,2022-12-02 20:02:51.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:39:28.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f76285bbb4c8343c784cdf593f0a36eb5b37863', 'message': 'Set bigger swap in the functional and fullstack jobs\n\nAs we are hitting some memory limits (again) in functional tests\njob, lets configure 8GB of swap in all functional and fullstack jobs.\n\nBefore that patch swap was configured to 4GB only in the FIPS jobs. Now\nit will be set to 8GB in all functional and fullstack jobs.\n\nCloses-Bug: #1966394\n\nChange-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b\n(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)\n'}]",3,865995,8f76285bbb4c8343c784cdf593f0a36eb5b37863,16,4,1,11975,,,0,"Set bigger swap in the functional and fullstack jobs

As we are hitting some memory limits (again) in functional tests
job, lets configure 8GB of swap in all functional and fullstack jobs.

Before that patch swap was configured to 4GB only in the FIPS jobs. Now
it will be set to 8GB in all functional and fullstack jobs.

Closes-Bug: #1966394

Change-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b
(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/865995/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,8f76285bbb4c8343c784cdf593f0a36eb5b37863,improve-neutron-ci-stable/yoga-stable/xena-stable/wallaby, configure_swap_size: 8192, configure_swap_size: 4096 configure_swap_size: 4096,1,2
openstack%2Fneutron~864978,openstack/neutron,stable/yoga,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-18 22:08:48.000000000,2022-12-02 20:00:42.000000000,2022-12-02 19:58:46.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 22:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1215f3489f91163db8d70a124794ba560664c34d', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n""}, {'number': 2, 'created': '2022-11-21 13:06:21.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e62c81a5704316ac1b42ce546e31f1732fa9b986', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n""}]",3,864978,e62c81a5704316ac1b42ce546e31f1732fa9b986,29,6,2,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/864978/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,1215f3489f91163db8d70a124794ba560664c34d,ovn-meta-first-cleanup-stable/yoga," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",51,64
openstack%2Fneutron~866036,openstack/neutron,stable/ussuri,I6b097d8409318a5dfe17e9673adb6c1431a59b0b,Set bigger swap in the functional and fullstack jobs,MERGED,2022-11-29 15:44:52.000000000,2022-12-02 20:00:38.000000000,2022-12-02 19:58:42.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:44:52.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6358c2fa56fcd84337cfe074dba96abb3b302261', 'message': 'Set bigger swap in the functional and fullstack jobs\n\nAs we are hitting some memory limits (again) in functional tests\njob, lets configure 8GB of swap in all functional and fullstack jobs.\n\nBefore that patch swap was configured to 4GB only in the FIPS jobs. Now\nit will be set to 8GB in all functional and fullstack jobs.\n\nCloses-Bug: #1966394\n\nConflicts:\n    zuul.d/base.yaml\n\nChange-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b\n(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)\n(cherry picked from commit 8f76285bbb4c8343c784cdf593f0a36eb5b37863)\n(cherry picked from commit df3ea8c765648093343f9eaab005d57dfc84cd66)\n'}]",0,866036,6358c2fa56fcd84337cfe074dba96abb3b302261,8,3,1,11975,,,0,"Set bigger swap in the functional and fullstack jobs

As we are hitting some memory limits (again) in functional tests
job, lets configure 8GB of swap in all functional and fullstack jobs.

Before that patch swap was configured to 4GB only in the FIPS jobs. Now
it will be set to 8GB in all functional and fullstack jobs.

Closes-Bug: #1966394

Conflicts:
    zuul.d/base.yaml

Change-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b
(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)
(cherry picked from commit 8f76285bbb4c8343c784cdf593f0a36eb5b37863)
(cherry picked from commit df3ea8c765648093343f9eaab005d57dfc84cd66)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/866036/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,6358c2fa56fcd84337cfe074dba96abb3b302261,improve-neutron-ci-stable/ussuri, configure_swap_size: 8192,,1,0
openstack%2Fneutron~866034,openstack/neutron,stable/victoria,I6b097d8409318a5dfe17e9673adb6c1431a59b0b,Set bigger swap in the functional and fullstack jobs,MERGED,2022-11-29 15:42:00.000000000,2022-12-02 19:45:35.000000000,2022-12-02 19:42:47.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:42:00.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/df3ea8c765648093343f9eaab005d57dfc84cd66', 'message': 'Set bigger swap in the functional and fullstack jobs\n\nAs we are hitting some memory limits (again) in functional tests\njob, lets configure 8GB of swap in all functional and fullstack jobs.\n\nBefore that patch swap was configured to 4GB only in the FIPS jobs. Now\nit will be set to 8GB in all functional and fullstack jobs.\n\nCloses-Bug: #1966394\n\nConflicts:\n    zuul.d/base.yaml\n\nChange-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b\n(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)\n(cherry picked from commit 8f76285bbb4c8343c784cdf593f0a36eb5b37863)\n'}]",1,866034,df3ea8c765648093343f9eaab005d57dfc84cd66,8,3,1,11975,,,0,"Set bigger swap in the functional and fullstack jobs

As we are hitting some memory limits (again) in functional tests
job, lets configure 8GB of swap in all functional and fullstack jobs.

Before that patch swap was configured to 4GB only in the FIPS jobs. Now
it will be set to 8GB in all functional and fullstack jobs.

Closes-Bug: #1966394

Conflicts:
    zuul.d/base.yaml

Change-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b
(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)
(cherry picked from commit 8f76285bbb4c8343c784cdf593f0a36eb5b37863)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/866034/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,df3ea8c765648093343f9eaab005d57dfc84cd66,improve-neutron-ci-stable/victoria, configure_swap_size: 8192,,1,0
openstack%2Fneutron~865994,openstack/neutron,stable/xena,I6b097d8409318a5dfe17e9673adb6c1431a59b0b,Set bigger swap in the functional and fullstack jobs,MERGED,2022-11-29 15:39:14.000000000,2022-12-02 19:44:49.000000000,2022-12-02 19:42:43.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:39:14.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b374965dde02f6761d191737e5185bd4bb39374', 'message': 'Set bigger swap in the functional and fullstack jobs\n\nAs we are hitting some memory limits (again) in functional tests\njob, lets configure 8GB of swap in all functional and fullstack jobs.\n\nBefore that patch swap was configured to 4GB only in the FIPS jobs. Now\nit will be set to 8GB in all functional and fullstack jobs.\n\nCloses-Bug: #1966394\n\nChange-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b\n(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)\n'}]",1,865994,4b374965dde02f6761d191737e5185bd4bb39374,13,4,1,11975,,,0,"Set bigger swap in the functional and fullstack jobs

As we are hitting some memory limits (again) in functional tests
job, lets configure 8GB of swap in all functional and fullstack jobs.

Before that patch swap was configured to 4GB only in the FIPS jobs. Now
it will be set to 8GB in all functional and fullstack jobs.

Closes-Bug: #1966394

Change-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b
(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/865994/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,4b374965dde02f6761d191737e5185bd4bb39374,improve-neutron-ci-stable/yoga-stable/xena, configure_swap_size: 8192, configure_swap_size: 4096 configure_swap_size: 4096,1,2
openstack%2Fopenstack-ansible-plugins~866059,openstack/openstack-ansible-plugins,master,I1b69fc263fd838b7011b7324b85b9296f3c133e9,Allow to define condition for DB creation,MERGED,2022-11-29 19:02:35.000000000,2022-12-02 19:27:49.000000000,2022-12-02 19:26:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-29 19:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b439a290a6b6c1dd09b168f6d86ee57cdd850aa6', 'message': 'Allow to define condition for DB creation\n\nIt might be handy to skip creating a database in case condition key\nis defined in _oslodb_databases and set to False.\n\nChange-Id: I1b69fc263fd838b7011b7324b85b9296f3c133e9\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_octavia/+/866058\n'}, {'number': 2, 'created': '2022-12-01 10:36:24.000000000', 'files': ['roles/db_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/e2ec95947d1351a2ad003793e106be5540e63ca8', 'message': 'Allow to define condition for DB creation\n\nIt might be handy to skip creating a database in case condition key\nis defined in _oslodb_databases and set to False.\n\nChange-Id: I1b69fc263fd838b7011b7324b85b9296f3c133e9\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_octavia/+/866058\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/866197\n'}]",1,866059,e2ec95947d1351a2ad003793e106be5540e63ca8,13,3,2,28619,,,0,"Allow to define condition for DB creation

It might be handy to skip creating a database in case condition key
is defined in _oslodb_databases and set to False.

Change-Id: I1b69fc263fd838b7011b7324b85b9296f3c133e9
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_octavia/+/866058
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/866197
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/59/866059/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/db_setup/tasks/main.yml'],1,b439a290a6b6c1dd09b168f6d86ee57cdd850aa6,, when: item.condition | default(True) when: item.0.condition | default(True),,2,0
openstack%2Ftripleo-heat-templates~859435,openstack/tripleo-heat-templates,stable/train,Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521,Filter excluded nodes from ansible delegates,MERGED,2022-09-27 13:44:16.000000000,2022-12-02 19:18:58.000000000,2022-12-02 19:18:58.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-09-27 13:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdc8d690876196df821f637dc2f2437b9c7fb3f9', 'message': 'Filter excluded nodes from ansible delegates\n\nThis would allow external_(deploy/update/upgrade)_tasks\nto honor excluded nodes during deploy/update/upgrade.\n\nBackports Notes: Some files had conflicts:\n - deployment/aodh/aodh-api-container-puppet.yaml\n - deployment/database/redis-container-puppet.yaml\n - deployment/designate/designate-bind-container.yaml\n - deployment/glance/glance-api-container-puppet.yaml\n - deployment/ipa/ipaservices-baremetal-ansible.yaml\n - deployment/pacemaker/pacemaker-baremetal-puppet.yaml\n\nthe resolution of those conflicts did not change the code at all.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859403\nChange-Id: Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521\n(cherry picked from commit e428db15cb907df62bc5621c83aa77b0f97f867d)\n'}, {'number': 2, 'created': '2022-11-16 15:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ca6a0901c244d34915a0de9d05bc3c0fcaf9111', 'message': 'Filter excluded nodes from ansible delegates\n\nThis would allow external_(deploy/update/upgrade)_tasks\nto honor excluded nodes during deploy/update/upgrade.\n\nBackports Notes: Some files had conflicts:\n - deployment/aodh/aodh-api-container-puppet.yaml\n - deployment/database/redis-container-puppet.yaml\n - deployment/designate/designate-bind-container.yaml\n - deployment/glance/glance-api-container-puppet.yaml\n - deployment/ipa/ipaservices-baremetal-ansible.yaml\n - deployment/pacemaker/pacemaker-baremetal-puppet.yaml\n\nthe resolution of those conflicts did not change the patch logic.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859403\nChange-Id: Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521\n(cherry picked from commit e428db15cb907df62bc5621c83aa77b0f97f867d)\n'}, {'number': 3, 'created': '2022-11-25 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/830c4da9de016312c2e54aa8e021680485b21d51', 'message': 'Filter excluded nodes from ansible delegates\n\nThis would allow external_(deploy/update/upgrade)_tasks\nto honor excluded nodes during deploy/update/upgrade.\n\nBackports Notes: Some files had conflicts:\n - deployment/aodh/aodh-api-container-puppet.yaml\n - deployment/database/redis-container-puppet.yaml\n - deployment/designate/designate-bind-container.yaml\n - deployment/glance/glance-api-container-puppet.yaml\n - deployment/ipa/ipaservices-baremetal-ansible.yaml\n - deployment/pacemaker/pacemaker-baremetal-puppet.yaml\n\nthe resolution of those conflicts did not change the patch logic.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859403\nChange-Id: Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521\n(cherry picked from commit e428db15cb907df62bc5621c83aa77b0f97f867d)\n'}, {'number': 4, 'created': '2022-11-25 10:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f407b31aa147a6b4f5e1f806e28f2d76af8bdbbd', 'message': 'Filter excluded nodes from ansible delegates\n\nThis would allow external_(deploy/update/upgrade)_tasks\nto honor excluded nodes during deploy/update/upgrade.\n\nBackports Notes: Some files had conflicts:\n - deployment/aodh/aodh-api-container-puppet.yaml\n - deployment/database/redis-container-puppet.yaml\n - deployment/designate/designate-bind-container.yaml\n - deployment/glance/glance-api-container-puppet.yaml\n - deployment/ipa/ipaservices-baremetal-ansible.yaml\n - deployment/pacemaker/pacemaker-baremetal-puppet.yaml\n\nthe resolution of those conflicts did not change the patch logic.\n\nThis review also squashes the fix included in\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/865400\n\nCloses-Bug: #1996492\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859403\nChange-Id: Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521\n(cherry picked from commit e428db15cb907df62bc5621c83aa77b0f97f867d)\n'}, {'number': 5, 'created': '2022-11-29 13:56:17.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32f30aae8a3256a3de5d14b59431120261123d11', 'message': 'Filter excluded nodes from ansible delegates\n\nThis would allow external_(deploy/update/upgrade)_tasks\nto honor excluded nodes during deploy/update/upgrade.\n\nBackports Notes: Some files had conflicts:\n - deployment/aodh/aodh-api-container-puppet.yaml\n - deployment/database/redis-container-puppet.yaml\n - deployment/designate/designate-bind-container.yaml\n - deployment/glance/glance-api-container-puppet.yaml\n - deployment/ipa/ipaservices-baremetal-ansible.yaml\n - deployment/pacemaker/pacemaker-baremetal-puppet.yaml\n\nthe resolution of those conflicts did not change the patch logic.\n\nThis review also squashes the fix included in\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/865400\n\nCloses-Bug: #1996492\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859403\nChange-Id: Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521\n(cherry picked from commit e428db15cb907df62bc5621c83aa77b0f97f867d)\n'}]",7,859435,32f30aae8a3256a3de5d14b59431120261123d11,31,6,5,8297,,,0,"Filter excluded nodes from ansible delegates

This would allow external_(deploy/update/upgrade)_tasks
to honor excluded nodes during deploy/update/upgrade.

Backports Notes: Some files had conflicts:
 - deployment/aodh/aodh-api-container-puppet.yaml
 - deployment/database/redis-container-puppet.yaml
 - deployment/designate/designate-bind-container.yaml
 - deployment/glance/glance-api-container-puppet.yaml
 - deployment/ipa/ipaservices-baremetal-ansible.yaml
 - deployment/pacemaker/pacemaker-baremetal-puppet.yaml

the resolution of those conflicts did not change the patch logic.

This review also squashes the fix included in
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/865400

Closes-Bug: #1996492

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859403
Change-Id: Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521
(cherry picked from commit e428db15cb907df62bc5621c83aa77b0f97f867d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/859435/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml']",47,cdc8d690876196df821f637dc2f2437b9c7fb3f9,," tripleo_delegate_to: ""{{ groups['memcached'] | difference(groups['excluded_overcloud']) }}"""," tripleo_delegate_to: ""{{ groups['memcached'] | default([]) }}""",50,50
openstack%2Foctavia-tempest-plugin~830015,openstack/octavia-tempest-plugin,master,Idc68a6fb0423d7682be861429d8e09f3d8b24771,Add scenario test for Prometheus over TLS,MERGED,2022-02-20 04:06:33.000000000,2022-12-02 19:06:23.000000000,2022-12-02 19:05:24.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-20 04:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/395af0496ae375855a2c666a701f6e495840f377', 'message': 'Add scenario test for Prometheus over TLS\n\nThis patch adds a scenario test for Prometheus listeners using TLS with\nclient authentication.\n\nChange-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771\n'}, {'number': 2, 'created': '2022-02-20 17:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b72c4894c7b219744fb63e9f85a8bfcf637c8b99', 'message': 'Add scenario test for Prometheus over TLS\n\nThis patch adds a scenario test for Prometheus listeners using TLS with\nclient authentication.\n\nChange-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771\n'}, {'number': 3, 'created': '2022-02-20 21:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b84b203074fac7ab00c43c8a54b4c9ba03f59551', 'message': 'Add scenario test for Prometheus over TLS\n\nThis patch adds a scenario test for Prometheus listeners using TLS with\nclient authentication.\n\nChange-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771\n'}, {'number': 4, 'created': '2022-02-21 17:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2d583f4c44f93a1d61ac5cba88abdc0ee7f408cd', 'message': 'Add scenario test for Prometheus over TLS\n\nThis patch adds a scenario test for Prometheus listeners using TLS with\nclient authentication.\n\nChange-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771\n'}, {'number': 5, 'created': '2022-02-21 17:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ec261f685b7160ea9420d15dfc8c63e71a1841d5', 'message': 'Add scenario test for Prometheus over TLS\n\nThis patch adds a scenario test for Prometheus listeners using TLS with\nclient authentication.\n\nChange-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771\n'}, {'number': 6, 'created': '2022-11-21 23:44:42.000000000', 'files': ['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4a61eeb5de23a4ac1e558ed7ddcc7b80f330100c', 'message': 'Add scenario test for Prometheus over TLS\n\nThis patch adds a scenario test for Prometheus listeners using TLS with\nclient authentication.\n\nChange-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771\n'}]",4,830015,4a61eeb5de23a4ac1e558ed7ddcc7b80f330100c,22,3,6,11628,,,0,"Add scenario test for Prometheus over TLS

This patch adds a scenario test for Prometheus listeners using TLS with
client authentication.

Change-Id: Idc68a6fb0423d7682be861429d8e09f3d8b24771
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/15/830015/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'],1,395af0496ae375855a2c666a701f6e495840f377,," @decorators.idempotent_id('7d9dcae6-3e2c-4eae-9bfb-1ef0d00aa530') @testtools.skipUnless( CONF.loadbalancer_feature_enabled.prometheus_listener_enabled, 'PROMETHEUS listener tests are disabled in the tempest configuration.') def test_tls_prometheus_client_auth_mandatory(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.25'): raise self.skipException('Prometheus listeners are only available ' 'on Octavia API version 2.25 or newer.') LISTENER1_TCP_PORT = '9443' listener_name = data_utils.rand_name( ""lb_member_listener1-prometheus-client-auth-mand"") listener_kwargs = { const.NAME: listener_name, const.PROTOCOL: const.PROMETHEUS, const.PROTOCOL_PORT: LISTENER1_TCP_PORT, const.LOADBALANCER_ID: self.lb_id, const.DEFAULT_POOL_ID: self.pool_id, const.DEFAULT_TLS_CONTAINER_REF: self.server_secret_ref, const.CLIENT_AUTHENTICATION: const.CLIENT_AUTH_MANDATORY, const.CLIENT_CA_TLS_CONTAINER_REF: self.client_ca_cert_ref, const.CLIENT_CRL_CONTAINER_REF: self.client_crl_ref, } listener = self.mem_listener_client.create_listener(**listener_kwargs) self.listener_id = listener[const.ID] self.addCleanup( self.mem_listener_client.cleanup_listener, self.listener_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Test that no client certificate fails to connect self.assertRaises( requests.exceptions.SSLError, requests.get, 'https://{0}:{1}'.format(self.lb_vip_address, LISTENER1_TCP_PORT), timeout=12, verify=False) # Test that a revoked client certificate fails to connect with tempfile.NamedTemporaryFile(buffering=0) as cert_file: cert_file.write(self.revoked_client_cert.public_bytes( serialization.Encoding.PEM)) with tempfile.NamedTemporaryFile(buffering=0) as key_file: key_file.write(self.revoked_client_key.private_bytes( serialization.Encoding.PEM, serialization.PrivateFormat.TraditionalOpenSSL, serialization.NoEncryption())) self.assertRaises( requests.exceptions.SSLError, requests.get, 'https://{0}:{1}'.format(self.lb_vip_address, LISTENER1_TCP_PORT), timeout=12, verify=False, cert=(cert_file.name, key_file.name)) # Test that a valid client certificate can connect with tempfile.NamedTemporaryFile(buffering=0) as cert_file: cert_file.write(self.client_cert.public_bytes( serialization.Encoding.PEM)) with tempfile.NamedTemporaryFile(buffering=0) as key_file: key_file.write(self.client_key.private_bytes( serialization.Encoding.PEM, serialization.PrivateFormat.TraditionalOpenSSL, serialization.NoEncryption())) response = requests.get( 'https://{0}:{1}'.format(self.lb_vip_address, LISTENER1_TCP_PORT), timeout=12, verify=False, cert=(cert_file.name, key_file.name)) self.assertEqual(200, response.status_code)",,75,0
openstack%2Fneutron~726869,openstack/neutron,master,Id99b9066efd0ec96cecfbd7f17e552bfce80f054,[OVN] Enable neutron-ovn-tempest-ovs-master jobs in check and gate queue,ABANDONED,2020-05-11 14:47:13.000000000,2022-12-02 17:29:56.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-11 14:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9befc32ad590b046321a71b2fbe5f4d516bdee0', 'message': ""[OVN] Enable neutron-ovn-tempest-ovs-master jobs in check and gate queue\n\nFor now upstream code has neutron-ovn-tempest gate running, but\nonly with stable OVN code.\n\nLast features that we're working on showed us that we should\nbe also having OVN master job voting.\n\nSome of OVN driver gaps and features are implemented using OVN master\ncode, so we should have a working tests with it. If a feature is not\navailable in OVN stable versions - it should be omit, and thats the\nneutron-ovn-tempest-ovs-release responsibility to verify it.\n\nChange-Id: Id99b9066efd0ec96cecfbd7f17e552bfce80f054\n""}, {'number': 2, 'created': '2020-05-11 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e50a9e14710410f49dc050deea6b314f043df7fd', 'message': ""[OVN] Enable neutron-ovn-tempest-ovs-master jobs in check and gate queue\n\nFor now upstream code has neutron-ovn-tempest gate running, but\nonly with stable OVN code.\n\nLast features that we're working on showed us that we should\nbe also having this job, at least non-voting.\n\nSome of OVN driver gaps and features are implemented using OVN master\ncode, so we should have a working tests with it. If a feature is not\navailable in OVN stable versions - it should be omit, and thats the\nneutron-ovn-tempest-ovs-release responsibility to verify it.\n\nChange-Id: Id99b9066efd0ec96cecfbd7f17e552bfce80f054\n""}, {'number': 3, 'created': '2020-05-11 14:58:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/152ca8452662764efc88d99e57dfcf0531c59eb9', 'message': ""[OVN] Enable neutron-ovn-tempest-ovs-master jobs in check and gate queue\n\nFor now upstream code has neutron-ovn-tempest gate running, but\nonly with stable OVN code.\n\nLast features that we're working on showed us that we should\nbe also having this job, at least non-voting.\n\nSome of OVN driver gaps and features are implemented using OVN master\ncode, so we should have a working tests with it. If a feature is not\navailable in OVN stable versions - it should be omit, and thats the\nneutron-ovn-tempest-ovs-release responsibility to verify it.\n\nChange-Id: Id99b9066efd0ec96cecfbd7f17e552bfce80f054\n""}]",5,726869,152ca8452662764efc88d99e57dfcf0531c59eb9,25,8,3,24791,,,0,"[OVN] Enable neutron-ovn-tempest-ovs-master jobs in check and gate queue

For now upstream code has neutron-ovn-tempest gate running, but
only with stable OVN code.

Last features that we're working on showed us that we should
be also having this job, at least non-voting.

Some of OVN driver gaps and features are implemented using OVN master
code, so we should have a working tests with it. If a feature is not
available in OVN stable versions - it should be omit, and thats the
neutron-ovn-tempest-ovs-release responsibility to verify it.

Change-Id: Id99b9066efd0ec96cecfbd7f17e552bfce80f054
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/726869/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b9befc32ad590b046321a71b2fbe5f4d516bdee0,, - neutron-ovn-tempest-ovs-master - neutron-ovn-tempest-ovs-master, - neutron-ovn-tempest-ovs-master,2,1
openstack%2Fneutron~446136,openstack/neutron,master,I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3,Enables MySQL Cluster Support for Neutron,ABANDONED,2017-03-15 19:27:16.000000000,2022-12-02 17:29:53.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1390}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 8871}, {'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 11816}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17386}, {'_account_id': 19283}, {'_account_id': 20330}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23479}, {'_account_id': 27336}, {'_account_id': 27654}]","[{'number': 1, 'created': '2017-03-15 19:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a16690577b792d1510fe93938c11acf3efe843a', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in Neutron to\nsupport the MySQL Cluster DB. This includes the usage of the boolean\nmysql_enable_ndb setting from oslo.db from bug 1564110. This allows operators\nto select from MySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine\nbackend. Additionally, this fixes the api.py, cli,py, and env.py modules to\nsupport this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 2, 'created': '2017-03-15 19:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e36dae9af2b0170b90adefed7eeeb79be13dcf68', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 3, 'created': '2017-03-15 21:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6442061bc52f503541159e6898b34f35b2ad4c2', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 4, 'created': '2017-03-15 21:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4eb050ba625c8dd0723692350ece65f24c05629', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 5, 'created': '2017-04-05 22:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d5bfea77fb77288b7426001edc005d2ad0a3160', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 6, 'created': '2017-04-10 16:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e15d0bf67440c649a83437efa73c0ff6c8cc9617', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 7, 'created': '2017-04-13 21:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9042e35f4b9aacd3fc9497f78482d2d1ebd0330', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 8, 'created': '2017-06-02 17:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e04b163cb67424d0b643719500cbb44f56446c0', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 9, 'created': '2017-07-06 22:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cefb4cb275933c3b85c6f74bec9a9f89a87c0ab5', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 10, 'created': '2017-07-14 19:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d0c1fbe6860d11a85d92c2064d494f525db788d', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 11, 'created': '2017-07-20 22:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b7922658014e1c2f8487397a4330d356da1f396', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 12, 'created': '2017-07-21 16:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c135c1385019fed74aceaa072716f3f8e6d1f3ee', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 13, 'created': '2017-07-21 16:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33753b7700165eafad52a8445f2de82136fccba9', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 14, 'created': '2017-08-24 16:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/547d4de2a35a28751b84afe5d6a3392d828754c9', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 15, 'created': '2017-09-26 13:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46e27a7565799ac140f505315cdcf4fb05c9e578', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 16, 'created': '2017-10-09 22:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35371c598f067ca208a6bb78b891bd64a2aa9b39', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 17, 'created': '2017-10-23 17:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94e86bafa15cbfea15cd1a25785fb842c8da7e1a', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 18, 'created': '2017-11-02 16:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce9f38e8258ef094cd9ae398ef69418e025cf31e', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 19, 'created': '2017-11-03 19:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c0bd901ee1bbb5800ae6a0c5507d73adbabdf80', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 20, 'created': '2017-11-03 19:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f8b327ea7622aecc29f9c1b96bfc911dcc6ef01', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 21, 'created': '2017-11-24 11:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d52040ec9a533d6bcf00201fd2d3aacf489c6d4', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 22, 'created': '2017-12-11 19:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00cca49b8fbdc93a7d097d3e24c62f8ef429bcc4', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 23, 'created': '2018-02-14 03:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e72e685c3c6eb6509079bf80791b1fd18e1a2dd', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 24, 'created': '2018-03-28 14:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2995589568e41e074415ce12d819445059ac5adf', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 25, 'created': '2018-04-27 18:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9153f30ad3693dd33e504153601035f93a7e286e', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 26, 'created': '2018-04-30 21:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/663b1669264a0f63039d525d6182b1a5ecab737a', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}, {'number': 27, 'created': '2018-06-28 13:24:35.000000000', 'files': ['neutron/db/migration/alembic_migrations/agent_init_ops.py', 'neutron/db/migration/alembic_migrations/ml2_init_ops.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/31ed664953e6_add_resource_versions_row_to_agent_table.py', 'neutron/db/models/agent.py', 'neutron/conf/db/migration_cli.py', 'neutron/db/models/flavor.py', 'releasenotes/notes/bug-1673210-enables-mysql-cluster-support-b10bcc77b48287bc.yaml', 'neutron/db/migration/alembic_migrations/dvr_init_opts.py', 'neutron/db/migration/alembic_migrations/versions/ocata/expand/a9c43481023c_extend_ml2_port_bindings.py', 'neutron/db/migration/alembic_migrations/env.py', 'neutron/db/migration/connection.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/31337ec0ffee_flavors.py', 'neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d647baebd91b433d047d338dea9cea02d6ff550', 'message': 'Enables MySQL Cluster Support for Neutron\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, cli,py, and env.py modules to support this enhancement.\n\nCo-Authored-By: Paul Bourke <paul.bourke@oracle.com>\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\n'}]",36,446136,9d647baebd91b433d047d338dea9cea02d6ff550,211,28,27,19283,,,0,"Enables MySQL Cluster Support for Neutron

Implements minor fixes to the SQL Alchemy and Alembic scripts in
Neutron to support the MySQL Cluster DB. This includes the usage
of the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.
This allows operators to select from MySQL (InnoDB) or MySQL Cluster
(NDB) as the storage engine backend. Additionally, this fixes the
api.py, cli,py, and env.py modules to support this enhancement.

Co-Authored-By: Paul Bourke <paul.bourke@oracle.com>
Implements: blueprint mysql-cluster-support
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/446136/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/agent_init_ops.py', 'neutron/db/migration/alembic_migrations/ml2_init_ops.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/dvr_init_opts.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/31ed664953e6_add_resource_versions_row_to_agent_table.py', 'neutron/db/migration/alembic_migrations/versions/ocata/expand/a9c43481023c_extend_ml2_port_bindings.py', 'neutron/db/migration/alembic_migrations/env.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/31337ec0ffee_flavors.py', 'neutron/db/api.py']",9,0a16690577b792d1510fe93938c11acf3efe843a,bug/1564110,"CONF = cfg.CONF # If we are using MySQL Cluster (NDB), disable nesting. if CONF.database.mysql_enable_ndb: try: session_context = sess.begin(subtransactions=True, nested=False) except exc.InvalidRequestError: session_context = sess.begin(subtransactions=False, nested=False) finally: with session_context as tx: yield tx else: if sess.is_active: session_context = sess.begin(nested=True) else: session_context = sess.begin(subtransactions=True) with session_context as tx: yield tx", if sess.is_active: session_context = sess.begin(nested=True) else: session_context = sess.begin(subtransactions=True) with session_context as tx: yield tx,65,22
openstack%2Fneutron~669793,openstack/neutron,master,I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0,Limit ports according to status while update network,ABANDONED,2019-07-09 06:09:46.000000000,2022-12-02 17:29:50.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}, {'_account_id': 28344}, {'_account_id': 28471}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-09 06:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7b8adeb6fe8f01ff35456ebac94904a016422a9', 'message': 'Limit ports according to status for configure_dhcp_for_network() and reload_allocations()\n\nThe neutron dhcp agent will make ports status reactive after network/subnet/port update.\nIn wrong situation _dhcp_ready_ports_loop will rpc call dhcp_ready_on_ports and notify _port_provisioned\nto make port active no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network() and reload_allocations().\nIn this case port which status is down wont be put in dhcp_ready_ports and __dhcp_ready_ports_loop\nwont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 2, 'created': '2019-07-10 03:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fe215d2a9311659dd5753b80327998d0a58fe9d', 'message': 'Limit ports according to status for configure_dhcp_for_network() and reload_allocations()\n\nThe neutron dhcp agent will make ports status reactive after network/subnet/port update.\nIn wrong situation _dhcp_ready_ports_loop will rpc call dhcp_ready_on_ports and notify _port_provisioned\nto make port active no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network() and reload_allocations().\nIn this case port which status is down wont be put in dhcp_ready_ports and __dhcp_ready_ports_loop\nwont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 3, 'created': '2019-07-10 03:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96087c3682f0b0ad4407e121b7b390b6864cc01e', 'message': 'Limit ports according to status for configure_dhcp_for_network() and reload_allocations()\n\nThe neutron dhcp agent will make ports status reactive after network/subnet/port update.\nIn wrong situation _dhcp_ready_ports_loop will rpc call dhcp_ready_on_ports and notify _port_provisioned\nto make port active no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network() and reload_allocations().\nIn this case port which status is down wont be put in dhcp_ready_ports and __dhcp_ready_ports_loop\nwont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 4, 'created': '2019-07-10 07:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7950d997008374f55167f1cb2db085adee0c2807', 'message': 'Limit ports according to status for configure_dhcp_for_network() and reload_allocations()\n\nThe neutron dhcp agent will make ports status reactive after network/subnet/port update.\nIn wrong situation _dhcp_ready_ports_loop will rpc call dhcp_ready_on_ports and notify _port_provisioned\nto make port active no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network() and reload_allocations().\nIn this case port which status is down wont be put in dhcp_ready_ports and __dhcp_ready_ports_loop\nwont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 5, 'created': '2019-07-10 16:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/153f9fcfdab191d682a09448cb03913c6697dd79', 'message': 'Limit ports according to status for configure_dhcp_for_network() and reload_allocations()\n\nThe neutron dhcp agent will make ports status reactive after network/subnet/port update.\nIn wrong situation _dhcp_ready_ports_loop will rpc call dhcp_ready_on_ports and notify _port_provisioned\nto make port active no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network() and reload_allocations().\nIn this case port which status is down wont be put in dhcp_ready_ports and __dhcp_ready_ports_loop\nwont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 6, 'created': '2019-07-22 02:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ace82cda4b7ae831b8d61777a040feb6af29e13', 'message': 'Limit ports according to status for configure_dhcp_for_network() and reload_allocations()\n\nThe neutron dhcp agent will make ports status reactive after\nnetwork/subnet/port update.In wrong situation _dhcp_ready_ports_loop\nwill rpc call dhcp_ready_on_ports and notify _port_provisioned to make port\nactive no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network().\nIn this case port which status is down wont be put in dhcp_ready_ports\nand __dhcp_ready_ports_loop wont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 7, 'created': '2019-07-22 02:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9a28ce8dde400eda3861b07e5d3781eb658f17a', 'message': 'Limit ports according to status for configure_dhcp_for_network()\n\nThe neutron dhcp agent will make ports status reactive after\nnetwork/subnet/port update.In wrong situation _dhcp_ready_ports_loop\nwill rpc call dhcp_ready_on_ports and notify _port_provisioned to make port\nactive no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network().\nIn this case port which status is down wont be put in dhcp_ready_ports\nand __dhcp_ready_ports_loop wont be trigled.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 8, 'created': '2019-07-23 01:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16b84ba99499300545461054bcc9610a6c2bbc18', 'message': 'Limit ports according to status while update network\n\nThe neutron dhcp agent will make ports status reactive after\nnetwork/subnet/port update. In wrong situation _dhcp_ready_ports_loop\nwill rpc call dhcp_ready_on_ports and notify _port_provisioned to make port\nactive no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network().\nIn this case port which status is down wont be put in dhcp_ready_ports\nand __dhcp_ready_ports_loop wont be triggered.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 9, 'created': '2019-07-23 02:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3097c118fa62fc933b15334e582a2812a4d2d7d', 'message': 'Limit ports according to status while update network\n\nThe neutron dhcp agent will make ports status reactive after\nnetwork/subnet/port update. In wrong situation _dhcp_ready_ports_loop\nwill rpc call dhcp_ready_on_ports and notify _port_provisioned to make port\nactive no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network().\nIn this case port which status is down wont be put in dhcp_ready_ports\nand __dhcp_ready_ports_loop wont be triggered.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 10, 'created': '2019-07-23 02:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3449d58a6944b16b20bd8fdee5a353a493dd5dd', 'message': 'Limit ports according to status while update network\n\nThe neutron dhcp agent will make ports status reactive after\nnetwork/subnet/port update. In wrong situation _dhcp_ready_ports_loop\nwill rpc call dhcp_ready_on_ports and notify _port_provisioned to make port\nactive no mater port status was active or down.\n\nHere limit port whick is active for configure_dhcp_for_network().\nIn this case port which status is down wont be put in dhcp_ready_ports\nand __dhcp_ready_ports_loop wont be triggered.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}, {'number': 11, 'created': '2019-07-23 09:05:29.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/098d7b122aef3e1c689d0b161bbf1f88239dfacf', 'message': 'Limit ports according to status while update network\n\nThe neutron dhcp agent will make ports status reactive after\nnetwork/subnet/port update. In wrong situation _dhcp_ready_ports_loop\nwill rpc call dhcp_ready_on_ports and notify _port_provisioned to make port\nactive no mater port status was active or down.\n\nHere limit port which is active for configure_dhcp_for_network().\nIn this case port which status is down wont be put in dhcp_ready_ports\nand __dhcp_ready_ports_loop wont be triggered.\n\nChange-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0\nCloses-Bug: #1834979\n'}]",10,669793,098d7b122aef3e1c689d0b161bbf1f88239dfacf,47,14,11,28471,,,0,"Limit ports according to status while update network

The neutron dhcp agent will make ports status reactive after
network/subnet/port update. In wrong situation _dhcp_ready_ports_loop
will rpc call dhcp_ready_on_ports and notify _port_provisioned to make port
active no mater port status was active or down.

Here limit port which is active for configure_dhcp_for_network().
In this case port which status is down wont be put in dhcp_ready_ports
and __dhcp_ready_ports_loop wont be triggered.

Change-Id: I20eb96728dae3ff5f8ace8a7a91fe92f6beef7b0
Closes-Bug: #1834979
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/669793/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,d7b8adeb6fe8f01ff35456ebac94904a016422a9,bug/1834979, self.dhcp_ready_ports |= {p.id for p in network.ports if p.status == constants.PORT_STATUS_ACTIVE} if port.status == constants.PORT_STATUS_ACTIVE: self.dhcp_ready_ports.add(port.id), self.dhcp_ready_ports |= {p.id for p in network.ports} self.dhcp_ready_ports.add(port.id),4,2
openstack%2Fneutron~695307,openstack/neutron,master,Idd3a509f880b791a2846678c2c8b5aed22cb7a6b,[DNM] profile create_port to find slowness,ABANDONED,2019-11-20 21:27:08.000000000,2022-12-02 17:29:41.000000000,,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-20 21:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f5f2fa2ee5dbe82771bea49315c7769e7bfb63c', 'message': ""[DNM] profile create_port to find slowness\n\nIt looks like sometimes create_port is slow enough in upstream gates to\nbreak the 60 second limit.  Let's see if we can find the source of the\nslowness using mlavalle's awesome profiler.\n\nChange-Id: Idd3a509f880b791a2846678c2c8b5aed22cb7a6b\n""}, {'number': 2, 'created': '2019-11-20 22:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/652bff778ccc9c742ff73c091e3197897db39365', 'message': ""[DNM] profile create_port to find slowness\n\nIt looks like sometimes create_port is slow enough in upstream gates to\nbreak the 60 second limit.  Let's see if we can find the source of the\nslowness using mlavalle's awesome profiler.\n\nChange-Id: Idd3a509f880b791a2846678c2c8b5aed22cb7a6b\n""}, {'number': 3, 'created': '2019-11-26 17:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f5f2970c87fc0880dd6703c4829e37f55a46262', 'message': ""[DNM] profile create_port to find slowness\n\nIt looks like sometimes create_port is slow enough in upstream gates to\nbreak the 60 second limit.  Let's see if we can find the source of the\nslowness using mlavalle's awesome profiler.\n\nChange-Id: Idd3a509f880b791a2846678c2c8b5aed22cb7a6b\n""}, {'number': 4, 'created': '2020-01-09 13:54:18.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d69d9a2292f183ddf532a7283416ad1137d9ef92', 'message': ""[DNM] profile create_port to find slowness\n\nIt looks like sometimes create_port is slow enough in upstream gates to\nbreak the 60 second limit.  Let's see if we can find the source of the\nslowness using mlavalle's awesome profiler.\n\nChange-Id: Idd3a509f880b791a2846678c2c8b5aed22cb7a6b\n""}]",0,695307,d69d9a2292f183ddf532a7283416ad1137d9ef92,21,6,4,13995,,,0,"[DNM] profile create_port to find slowness

It looks like sometimes create_port is slow enough in upstream gates to
break the 60 second limit.  Let's see if we can find the source of the
slowness using mlavalle's awesome profiler.

Change-Id: Idd3a509f880b791a2846678c2c8b5aed22cb7a6b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/695307/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/profiling.py', 'neutron/plugins/ml2/plugin.py']",2,2f5f2fa2ee5dbe82771bea49315c7769e7bfb63c,dnm_debug_port_slowness,from neutron.profiling import profiled_decorator as profile @profile.profile(),,3,1
openstack%2Fneutron~667071,openstack/neutron,master,Id612a65d905c9efe78b4d57af6d88cac4318854d,Cleanup ipv4 address when keepalived is dead,ABANDONED,2019-06-24 11:59:05.000000000,2022-12-02 17:29:16.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9796}, {'_account_id': 11975}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18480}, {'_account_id': 19956}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-06-24 11:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61d6346bc93489ce741f142e31e3eff1524832eb', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 will be cleanup, but the ipv4 still exists,\nwe should alse cleanup ipv4 before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 2, 'created': '2019-06-25 02:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4588d24666228b48ee377793f978f2b7f274a73', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 will be cleanup, but the ipv4 still exists,\nwe should alse cleanup ipv4 before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 3, 'created': '2019-07-02 02:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88f95e31a3c3936b8478667d72688c51bed87b52', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 will be cleanup, but the ipv4 still exists,\nwe should alse cleanup ipv4 before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 4, 'created': '2019-07-08 09:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98bcce5d74f13df92102f7360eb646a34c49da14', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 will be cleanup, but the ipv4 still exists,\nwe should alse cleanup ipv4 before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 5, 'created': '2019-07-10 11:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac418e8caae77d480cfef467ad4096405a51f5ec', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 addresses will be cleaned, but the ipv4\naddresses still exist, we should also cleanup ipv4\naddresses before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 6, 'created': '2019-08-06 05:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1117f796c9be16b82387103e91f90a0af7f50d0e', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 addresses will be cleaned, but the ipv4\naddresses still exist, we should also cleanup ipv4\naddresses before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 7, 'created': '2019-08-06 08:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59fe934b1133e5bdb864c0fc09e9b8200721e1f6', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 addresses will be cleaned, but the ipv4\naddresses still exist, we should also cleanup ipv4\naddresses before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}, {'number': 8, 'created': '2019-08-06 14:24:39.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d641dc6a402261427db2146ad063f7ecd12aeac5', 'message': ""Cleanup ipv4 address when keepalived is dead\n\nIf a router's keepalived is dead(kill -9 <pid>, or\nkill -HUP <pid> too many times), and the original\nrole in this node is master, this will cause brain\nsplit. Then when we restart neutron-l3-agent,\nthe ipv6 addresses will be cleaned, but the ipv4\naddresses still exist, we should also cleanup ipv4\naddresses before enable keepalived.\n\nCloses-Bug: #1833653\nChange-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d\n""}]",13,667071,d641dc6a402261427db2146ad063f7ecd12aeac5,70,19,8,19956,,,0,"Cleanup ipv4 address when keepalived is dead

If a router's keepalived is dead(kill -9 <pid>, or
kill -HUP <pid> too many times), and the original
role in this node is master, this will cause brain
split. Then when we restart neutron-l3-agent,
the ipv6 addresses will be cleaned, but the ipv4
addresses still exist, we should also cleanup ipv4
addresses before enable keepalived.

Closes-Bug: #1833653
Change-Id: Id612a65d905c9efe78b4d57af6d88cac4318854d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/667071/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py']",2,61d6346bc93489ce741f142e31e3eff1524832eb,bug/1833653," def test__disable_ipv4_addressing_on_gw_interface(self): ri = self._create_router() ri._plug_external_gateway = mock.Mock() ri._add_gateway_vip = mock.Mock() ri._disable_ipv4_addressing_on_interface = mock.Mock() ri._disable_ipv6_addressing_on_interface = mock.Mock() subnets = [{'id': _uuid(), 'cidr': '20.0.0.0/24', 'gateway_ip': None}] ex_gw_port = {'fixed_ips': [], 'subnets': subnets, 'extra_subnets': [], 'id': _uuid(), 'network_id': _uuid(), 'mac_address': 'ca:fe:de:ad:be:ef'} ri.external_gateway_added(ex_gw_port, 'qg-abc') self.assertTrue(ri._disable_ipv4_addressing_on_interface.called) def test__disable_ipv4_addressing_on_internal_interface(self): ri = self._create_router() ri._clear_vips = mock.Mock() ri._disable_ipv4_addressing_on_interface = mock.Mock() ri._disable_ipv6_addressing_on_interface = mock.Mock() ri.internal_network_updated('qr-abc', []) self.assertTrue(ri._disable_ipv4_addressing_on_interface.called) def test__disable_ipv4_addressing_on_ha_interface(self): ri = self._create_router() ri.get_internal_device_name = mock.Mock() ri.driver.plug = mock.Mock() ri._add_vips = mock.Mock() ri._disable_ipv4_addressing_on_interface = mock.Mock() ri._disable_ipv6_addressing_on_interface = mock.Mock() subnets = [{'id': _uuid(), 'cidr': '20.0.0.0/24', 'gateway_ip': '20.0.0.1'}] internal_port = {'fixed_ips': [], 'subnets': subnets, 'extra_subnets': [], 'id': _uuid(), 'network_id': _uuid(), 'mac_address': 'ca:fe:de:ad:be:ef'} ri.internal_network_added(internal_port) self.assertTrue(ri._disable_ipv4_addressing_on_interface.called)",,58,0
openstack%2Fneutron~683815,openstack/neutron,master,I71e376d7cc90a6148f67fc7e254313096461ca59,Add support for binding ports of type virtio-forwarder using OVS plugin,ABANDONED,2019-09-22 09:55:36.000000000,2022-12-02 17:29:10.000000000,,"[{'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 12171}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 25241}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-09-22 09:55:36.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/473ac537defa04ea840337adc0f6460c37e1a4f4', 'message': 'Add support for binding ports of type virtio-forwarder using OVS plugin\n\nThis patch adds support for binding ports of type VNIC_VIRTIO_FORWARDER\nin OVS plugin.\n\nRelying on OS-VIF to do the plugging of DPDK forwarder port[1] and\nvirtio driver to create a low-latency vhost-user forwarding process\nconnecting an accelerated VF to a VM.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2019-September/362722.html\n\nChange-Id: I71e376d7cc90a6148f67fc7e254313096461ca59\n'}]",0,683815,473ac537defa04ea840337adc0f6460c37e1a4f4,12,10,1,22948,,,0,"Add support for binding ports of type virtio-forwarder using OVS plugin

This patch adds support for binding ports of type VNIC_VIRTIO_FORWARDER
in OVS plugin.

Relying on OS-VIF to do the plugging of DPDK forwarder port[1] and
virtio driver to create a low-latency vhost-user forwarding process
connecting an accelerated VF to a VM.

[1] https://mail.openvswitch.org/pipermail/ovs-dev/2019-September/362722.html

Change-Id: I71e376d7cc90a6148f67fc7e254313096461ca59
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/683815/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py']",2,473ac537defa04ea840337adc0f6460c37e1a4f4,DPDK-FW," portbindings.VNIC_SMARTNIC, portbindings.VNIC_VIRTIO_FORWARDER],"," portbindings.VNIC_SMARTNIC],",4,2
openstack%2Fneutron~666969,openstack/neutron,master,I700f19753436c90337ff941550a990e7c5da2685,Count traffic on the SNAT namespace,ABANDONED,2019-06-22 21:32:26.000000000,2022-12-02 17:29:08.000000000,,"[{'_account_id': 9531}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28655}, {'_account_id': 28721}, {'_account_id': 30609}]","[{'number': 1, 'created': '2019-06-22 21:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2347b4a29402d60ed7e5172fef0b09de786cbffe', 'message': 'Count traffic on the SNAT namespace\n\nChange-Id: I700f19753436c90337ff941550a990e7c5da2685\nPartial-Bug: #1807157\n'}, {'number': 2, 'created': '2019-07-06 15:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57d19e0a6269657e9e377e40d11d815ecaec7452', 'message': 'Count traffic on the SNAT namespace\n\nTraffic on the SNAT namespace should be counted and summed with the\ncounters on the main namespace.\n\nChange-Id: I700f19753436c90337ff941550a990e7c5da2685\nPartial-Bug: #1807157\n'}, {'number': 3, 'created': '2019-08-03 09:47:44.000000000', 'files': ['neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a96c66073d16f3975e1a032cfb394ca8fbccb48a', 'message': 'Count traffic on the SNAT namespace\n\nTraffic on the SNAT namespace should be counted and summed with the\ncounters on the main namespace.\n\nChange-Id: I700f19753436c90337ff941550a990e7c5da2685\nPartial-Bug: #1807157\n'}]",5,666969,a96c66073d16f3975e1a032cfb394ca8fbccb48a,39,9,3,28655,,,0,"Count traffic on the SNAT namespace

Traffic on the SNAT namespace should be counted and summed with the
counters on the main namespace.

Change-Id: I700f19753436c90337ff941550a990e7c5da2685
Partial-Bug: #1807157
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/666969/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/metering/drivers/iptables/iptables_driver.py'],1,2347b4a29402d60ed7e5172fef0b09de786cbffe,bug/1807157," chain_acc = None snat_chain_acc = None if rm.iptables_manager: chain_acc = rm.iptables_manager.get_traffic_counters( chain, wrap=False, zero=True) if rm.snat_iptables_manager: snat_chain_acc = \ rm.snat_iptables_manager.get_traffic_counters( chain, wrap=False, zero=True) if chain_acc is None and snat_chain_acc is None: if chain_acc: acc['pkts'] += chain_acc['pkts'] acc['bytes'] += chain_acc['bytes'] if snat_chain_acc: acc['pkts'] += snat_chain_acc['pkts'] acc['bytes'] += snat_chain_acc['bytes']"," chain_acc = rm.iptables_manager.get_traffic_counters( chain, wrap=False, zero=True) if not chain_acc: acc['pkts'] += chain_acc['pkts'] acc['bytes'] += chain_acc['bytes']",19,5
openstack%2Fneutron~511983,openstack/neutron,master,I465ea140910af50d62ab281d26357861cf96952b,Add project_default to Network,ABANDONED,2017-10-13 23:34:13.000000000,2022-12-02 17:29:06.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7715}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11536}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}, {'_account_id': 27654}, {'_account_id': 27702}]","[{'number': 1, 'created': '2017-10-13 23:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6a1757ff6cdfe87661ce7c362d02384f67b60d1', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nCloses-Bug: #1690439\n'}, {'number': 2, 'created': '2017-10-14 22:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbda8a7e5e45cfb65585468ffaa59f458143a41d', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nCloses-Bug: #1690439\n'}, {'number': 3, 'created': '2017-10-15 17:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f9ad9f9203a5340bd75cbf6ce0aba84116255bf', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nCloses-Bug: #1690439\n'}, {'number': 4, 'created': '2017-10-20 23:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6b2b77b48c9ea7888140b4268283c5383afbf69', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 5, 'created': '2017-10-21 21:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/179ae33339030712b39584870d9d9b9b6a69d6e2', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 6, 'created': '2017-10-23 01:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2398b684cc008b4e168b4257fa6a140ba9bb537', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 7, 'created': '2017-10-23 04:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/413334813aa7904a9850097dfbb7a32241e57906', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 8, 'created': '2017-10-23 14:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dad68fac20f06178fdba5f431d5a44d8ca16e641', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 9, 'created': '2017-10-23 23:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/967df48c84711e4f13f60b432ef053f832a20e9b', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 10, 'created': '2017-10-24 16:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efe73d7a72f3b8f342f4bb14e79ca6b0a5a26f6a', 'message': '[WIP] Add is_default to Network\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n'}, {'number': 11, 'created': '2017-10-24 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4a573d0bdf900f54c4502a462c71fd0ace5bc33', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute existed in the externalnetworks\ntable. For now, we allow both attributes co-existed to satisfy the\nrequirements of online db migration. The following strategy is proposed:\n* If a network is created, the 'is_default' column of both networks and\n  externalnetworks tables will be populated.\n* If a network is updated, the 'is_default' column of both networks and\n  externalnetworks tables will be updated if necessary.\n* If a network is queried, read from externalnetworks table if the network\n  is external, otherwise, read from networks table.\n\nThe goal is to allow both older and newer version of neutron components\nco-existed. Once we reach a point in time that contract migration is\nallowed for Queens, another patch should follow to drop the 'is_default'\ncolumn from externalnetworks table.\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 12, 'created': '2017-11-14 23:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cef819153794bcaa8aa7b51b98cc6efa32bbacb9', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. The following strategy is proposed:\n* If a network is created, the 'is_default' column of both networks and\n  externalnetworks tables will be populated.\n* If a network is updated, the 'is_default' column of both networks and\n  externalnetworks tables will be updated if necessary.\n* If a network is queried, read from externalnetworks table if the network\n  is external, otherwise, read from networks table.\n\nThe goal is to allow both older and newer version of neutron components\nco-exist. Once we reach a point in time that contract migration is\nallowed for Queens, another patch should follow to drop the 'is_default'\ncolumn from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 13, 'created': '2017-11-17 01:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b35d0908acf1cc1b47c0de3d47f69a6bddb881b', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. The following strategy is proposed:\n* If a network is created, the 'is_default' column of both networks and\n  externalnetworks tables will be populated.\n* If a network is updated, the 'is_default' column of both networks and\n  externalnetworks tables will be updated if necessary.\n* If a network is queried, read from externalnetworks table if the network\n  is external, otherwise, read from networks table.\n\nThe goal is to allow both older and newer version of neutron components\nco-exist. Once we reach a point in time that contract migration is\nallowed for Queens, another patch should follow to drop the 'is_default'\ncolumn from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 14, 'created': '2017-11-17 21:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3832e2e3cd6f676a419fc27968dc922db13bc7f', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 15, 'created': '2017-11-18 05:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bca03229dc067c1ecabed272ac6ba019ca4640c4', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 16, 'created': '2017-11-22 23:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f58dc22862f23ce98cb889aa4b0a4d4dd4a313e', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 17, 'created': '2017-11-25 00:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de4fa3d9408dda29e33d6a1dfec9fb0693c48ee3', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 18, 'created': '2017-11-27 21:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3364dc436c2d602c3c18be724b95a98c2bcf782b', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 19, 'created': '2017-11-28 00:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc35a66b23d55a6ddced6e4fb662e7787577b95e', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 20, 'created': '2017-11-28 16:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/993e07f8f3c3010f9878c0abacdb34c72663841f', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 21, 'created': '2017-11-28 19:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2fc175ef73f151550165ea1c49328468957f997', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 22, 'created': '2017-11-28 19:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d97bb4eaece1fca7bf4fa626597943064a1f9379', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 23, 'created': '2017-12-05 20:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2f6b64747d9ced22c3aa24fbfa54b4a28c4258b', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nThis patch introduces an 'is_default' column in networks table. Note that\nthere is another 'is_default' attribute in the externalnetworks\ntable. For now, we allow both attributes co-exist to satisfy the\nrequirements of online db migration. Once we reach a point in time that\ncontract migration is allowed for Queens, another patch should follow to\ndrop the 'is_default' column from externalnetworks table.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 24, 'created': '2017-12-06 04:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7329d97ac51c7db3bfc36ba1bcb2f22383a7e82e', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 25, 'created': '2017-12-07 01:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd68ae62614cb78e34a2c22aa7c601bb4d4d1c5d', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 26, 'created': '2017-12-07 22:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f93a34f117bdae271876d03cb95e6c794de4094a', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 27, 'created': '2017-12-08 00:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46181a728487b61110c1238c3b91fabed3389bf4', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 28, 'created': '2017-12-08 19:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9890cd899843304a6193b1d74c62d2750696420', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 29, 'created': '2018-01-04 16:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60c23efab05a36dbcbfbb00f48aa85471510931e', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 30, 'created': '2018-01-19 23:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/131187c97e45691e1ba936b8b2bc8cb002a881ab', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 31, 'created': '2018-01-22 20:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b433619d2aa12e37fd72ee70de4c708c91c894f2', 'message': ""Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 32, 'created': '2018-01-26 23:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28a544324d8313a251bbe22b3582503e4528f9f5', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 33, 'created': '2018-01-31 00:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5864c7829a0da5d945e4cd0648a6edb38ef80bb1', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 34, 'created': '2018-01-31 19:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cf534d2ed25e6166ea4e1f94cd279793a0db061', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\nDocImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 35, 'created': '2018-02-05 20:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2976219b2bf21647df63bb123604c621d0c2ae9', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\nDocImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 36, 'created': '2018-02-05 20:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/044de85a7fae54da50118d6bf43a743b5f126e9f', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\nDocImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 37, 'created': '2018-02-06 20:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba8576bd57cd893a5eeeba292f8deffc089fb106', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\nDocImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 38, 'created': '2018-02-07 23:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/154ab775eb8546cd54528c8b4f91d755040159ae', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\nDocImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 39, 'created': '2018-02-08 18:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd131bc349ba59980ab152752adc5b6cf3f1d535', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nAPIImpact\nDocImpact\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 40, 'created': '2018-02-09 20:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c664b888e76ea6faa748ec7b359b25fc37b2e88c', 'message': ""[WIP] Add is_default to Network\n\nIntroduce an attribute 'is_default' to network. This attribute indicates\nif a network is a default network. If a network is created or updated\nas default, neutron will ensure the following:\n* At most one default external network exists globally.\n* At most one default shared network exists globally.\n* At most one default non-shared network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nNote2: This patch introduces an 'is_default' attribute in defaultnetworks\nand there is another 'is_default' attribute in the externalnetworks.\nThe plan is to deprecate the one in externalnetworks and migrate to\ndefaultnetworks. Eventually, the 'is_default' attribute in externalnetworks\nshould be removed.\n\nAPIImpact Add 'is_default' attribute to 'network' resource\nDocImpact Document the new 'is_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\nPartial-Bug: #1745658\n""}, {'number': 41, 'created': '2018-03-15 22:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ff032f3ad232a380ef96e6bc9ac3e2bcbb81d7b', 'message': ""[WIP] Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 42, 'created': '2018-03-16 22:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cfa18546c7c4badf24527be3d568ac2ac4f65b7', 'message': ""[WIP] Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 43, 'created': '2018-03-16 22:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/326c2ca728b16abd5523a4ffa56dc99e81acbbe7', 'message': ""[WIP] Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 44, 'created': '2018-03-17 19:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb6f0f857fb8c1c6b8185a703b42e64ad7d59552', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 45, 'created': '2018-03-18 08:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8085806913f0d965e11d99fa20ae048a72bf58c', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_networks\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 46, 'created': '2018-03-27 19:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38a2645ebf42bd8c68cc14cf7db180106fbcd3e7', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 47, 'created': '2018-03-27 22:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a873db9108a9056ef127a8d4337099fdecb263f8', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 48, 'created': '2018-04-04 20:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0651c5e1320e9092467cb52b9b312fab9fc2429', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 49, 'created': '2018-04-27 21:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cb962e1e96258275166dec32989aec9ee9beaa3', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 50, 'created': '2018-04-27 21:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/893dcb248c86c0ed65586fa58714bfbd9fe28edb', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 51, 'created': '2018-05-03 15:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2784de856460c36c75d7c5a1ff674a2aabc5079a', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 52, 'created': '2018-05-03 18:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1905524dcde3aac3b6fafee55fb4bfd432b76536', 'message': ""Add is_project_default to Network\n\nIntroduce an attribute 'is_project_default' to network. This attribute\nindicates if a network is a default network within its tenant.\nIf a network is created or updated as tenant default, neutron will ensure\nat most one default network exists per-tenant.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for tenant default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or tenant default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the tenant default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'is_project_default' attribute to 'network' resource\nDocImpact Document the new 'is_project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 53, 'created': '2018-06-29 21:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfbc7318c9044e62b86ad90cc89a902188504ddf', 'message': ""Add project_default to Network\n\nIntroduce an attribute 'project_default' to network. This attribute\nindicates if a network is a default network within its project.\nIf a network is created or updated as project default, neutron will\nensure at most one default network exists per-project.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = project_default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for project default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or project default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the project default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'project_default' attribute to 'network' resource\nDocImpact Document the new 'project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 54, 'created': '2018-06-29 22:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e30e35e4212186d9d620ae5c0c3a73c253108c4b', 'message': ""[WIP] Add project_default to Network\n\nIntroduce an attribute 'project_default' to network. This attribute\nindicates if a network is a default network within its project.\nIf a network is created or updated as project default, neutron will\nensure at most one default network exists per-project.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = project_default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for project default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or project default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the project default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'project_default' attribute to 'network' resource\nDocImpact Document the new 'project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}, {'number': 55, 'created': '2018-07-03 19:06:22.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/rocky/expand/c54e9fd412d0_add_defaultnetworks_table.py', 'neutron/objects/network.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/_project_default_networks_lib.py', 'neutron/tests/contrib/gate_hook.sh', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'releasenotes/notes/add-is-project-default-to-network-6c400fca25a0da81.yaml', 'devstack/plugin.sh', 'neutron/plugins/ml2/extensions/project_default_network.py', 'neutron/extensions/project_default_networks.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/tests/unit/extensions/test_project_default_networks.py', 'neutron/tests/contrib/hooks/project_default_network', 'neutron/db/project_default_network_db.py', 'neutron/db/models/default_net.py', 'devstack/lib/project_default_network', 'neutron/tests/unit/plugins/ml2/extensions/test_project_default_network.py', 'setup.cfg', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b029cd3410556065ec3ab48562f302a5f03c6a29', 'message': ""Add project_default to Network\n\nIntroduce an attribute 'project_default' to network. This attribute\nindicates if a network is a default network within its project.\nIf a network is created or updated as project default, neutron will\nensure at most one default network exists per-project.\n\nNote1: ML2 extension driver loaded on request via configuration:\n\n  [ml2]\n  extension_drivers = project_default_network\n\nNote2: There is another network's attribute, called 'is_default', which\nindicates if the network is external default. The preliminary plan is\nto extend the existing 'is_default' attribute for project default but\nthis approach has several disadvantages, including the complexity on\ndata migration, upgrade, and ambiguous of semantic (the same attribute\nis overloaded for two purposes: external default or project default).\nTherefore, this patch proposes to introduce a new and independent\nattribute to represent the project default network.\n\nOther related patches:\n* nova spec: https://review.openstack.org/#/c/520247/\n* neutron-lib: https://review.openstack.org/#/c/514110/\n* tempest test: https://review.openstack.org/#/c/542446/\n\nAPIImpact Add 'project_default' attribute to 'network' resource\nDocImpact Document the new 'project_default' attribute\n\nChange-Id: I465ea140910af50d62ab281d26357861cf96952b\nPartial-Bug: #1690439\n""}]",162,511983,b029cd3410556065ec3ab48562f302a5f03c6a29,310,20,55,11536,,,0,"Add project_default to Network

Introduce an attribute 'project_default' to network. This attribute
indicates if a network is a default network within its project.
If a network is created or updated as project default, neutron will
ensure at most one default network exists per-project.

Note1: ML2 extension driver loaded on request via configuration:

  [ml2]
  extension_drivers = project_default_network

Note2: There is another network's attribute, called 'is_default', which
indicates if the network is external default. The preliminary plan is
to extend the existing 'is_default' attribute for project default but
this approach has several disadvantages, including the complexity on
data migration, upgrade, and ambiguous of semantic (the same attribute
is overloaded for two purposes: external default or project default).
Therefore, this patch proposes to introduce a new and independent
attribute to represent the project default network.

Other related patches:
* nova spec: https://review.openstack.org/#/c/520247/
* neutron-lib: https://review.openstack.org/#/c/514110/
* tempest test: https://review.openstack.org/#/c/542446/

APIImpact Add 'project_default' attribute to 'network' resource
DocImpact Document the new 'project_default' attribute

Change-Id: I465ea140910af50d62ab281d26357861cf96952b
Partial-Bug: #1690439
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/511983/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/migration/alembic_migrations/versions/queens/expand/e85dc56e44f2_add_is_default_to_network.py', 'neutron/api/v2/attributes.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models_v2.py']",7,f6a1757ff6cdfe87661ce7c362d02384f67b60d1,bug/1690439," is_default = sa.Column(sa.Boolean, nullable=False, server_default=sql.false())",,73,1
openstack%2Fneutron~664470,openstack/neutron,master,Ib245d1f916bc00ec6dceab7fa9489533992e1dfd,Fix default policies for port update,ABANDONED,2019-06-10 23:47:18.000000000,2022-12-02 17:29:02.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28159}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-06-10 23:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca7ca14c2020b6473c70824d1d7669d94ffb22dc', 'message': 'Fix Neutron reference policy for port update\n\nTo allow non-admin to update port in shared network with fixed_ips by\nspecifying subnet_id, the root rule for update_port should also allow\nfor shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}, {'number': 2, 'created': '2019-06-10 23:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/311ce0711e401854d3de11b163b6b38a0f9d90bb', 'message': 'Fix Neutron reference policy for port update\n\nTo allow non-admin to update port in shared network with fixed_ips by\nspecifying subnet_id, the root rule for update_port should also allow\nfor shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}, {'number': 3, 'created': '2019-06-12 00:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f53c6f09db9c5e4ff8e235cb5f26498e6720c36', 'message': 'Fix default policies for port update\n\nWhen a non-admin port owner updates port in a shared network with fixed_ips,\nNeutron will check polices that match with update_port:fixed_ips,\nupdate_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the\nport is already associated with some ip addresses. So all policy rules should\nallow for shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}, {'number': 4, 'created': '2019-06-14 22:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8c1ed9ef011970ec495fe7c2a326010f698491a', 'message': 'Fix default policies for port update\n\nWhen a non-admin port owner updates port in a shared network with fixed_ips,\nNeutron will check polices that match with update_port:fixed_ips,\nupdate_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the\nport is already associated with some ip addresses. So all policy rules should\nallow for shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}, {'number': 5, 'created': '2019-06-15 00:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eea8a5e6c1bbf131d4bcea66ca888bb8af2178ea', 'message': 'Fix default policies for port update\n\nWhen a non-admin port owner updates port in a shared network with fixed_ips,\nNeutron will check polices that match with update_port:fixed_ips,\nupdate_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the\nport is already associated with some ip addresses. So all policy rules should\nallow for shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}, {'number': 6, 'created': '2019-06-15 04:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa32d44b6a7d6f666bc757beed8809ef625e887c', 'message': 'Fix default policies for port update\n\nWhen a non-admin port owner updates port in a shared network with fixed_ips,\nNeutron will check polices that match with update_port:fixed_ips,\nupdate_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the\nport is already associated with some ip addresses. So all policy rules should\nallow for shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}, {'number': 7, 'created': '2019-06-19 19:20:23.000000000', 'files': ['neutron/tests/unit/test_policy.py', 'neutron/conf/policies/port.py', 'neutron/conf/policies/base.py', 'releasenotes/notes/fix-port-update-policy-5c5123734efa54fc.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5c6ca97619fda055f3ce54f2b002189d49e175e', 'message': 'Fix default policies for port update\n\nWhen a non-admin port owner updates port in a shared network with fixed_ips,\nNeutron will check polices that match with update_port:fixed_ips,\nupdate_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the\nport is already associated with some ip addresses. So all policy rules should\nallow for shared network.\n\nChange-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd\nRelated-Bug: 1832278\n'}]",15,664470,e5c6ca97619fda055f3ce54f2b002189d49e175e,59,11,7,28159,,,0,"Fix default policies for port update

When a non-admin port owner updates port in a shared network with fixed_ips,
Neutron will check polices that match with update_port:fixed_ips,
update_port:fixed_ips:subnet_id and update_port:fixed_ips:ip_address if the
port is already associated with some ip addresses. So all policy rules should
allow for shared network.

Change-Id: Ib245d1f916bc00ec6dceab7fa9489533992e1dfd
Related-Bug: 1832278
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/664470/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_policy.py'],1,ca7ca14c2020b6473c70824d1d7669d94ffb22dc,bug/1832278," ""rule:context_is_advsvc or rule:admin_or_network_owner or "" ""rule:shared""), ""update_port:fixed_ips"": ( ""rule:context_is_advsvc or rule:admin_or_network_owner or "" ""rule:shared""), ""update_port:fixed_ips:ip_address"": ( ""rule:context_is_advsvc or rule:admin_or_network_owner""), ""update_port:fixed_ips:subnet_id"": ( ""rule:context_is_advsvc or rule:admin_or_network_owner or "" ""rule:shared""), def test_update_port_fixed_ips_on_shared_network(self): def fakegetnetwork(*args, **kwargs): return {'tenant_id': 'fake', 'shared': True} kwargs = {'network_id': _uuid()} with mock.patch.object(directory.get_plugin(), 'get_network', new=fakegetnetwork): self._test_nonadmin_action_on_attr( 'update', 'port', 'fixed_ips', [{'subnet_id': 'test-subnet-id'}], **kwargs) self._test_nonadmin_action_on_attr( 'update', 'port', 'fixed_ips', [{'ip_address': '1.2.3.4'}], exception=oslo_policy.PolicyNotAuthorized, **kwargs) "," ""rule:context_is_advsvc or rule:admin_or_network_owner""),",29,1
openstack%2Fneutron~665926,openstack/neutron,master,I7853fb5647424f6d5ab45c1c555fdecc370ab491,Modify the url of upper_constraints_file,ABANDONED,2019-06-18 09:35:52.000000000,2022-12-02 17:28:59.000000000,,"[{'_account_id': 1131}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-06-18 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50e68954463875f58edad6b7cf10207c481cb3f3', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I7853fb5647424f6d5ab45c1c555fdecc370ab491\n'}, {'number': 2, 'created': '2019-06-19 01:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/387d67cf742c0e3151dd77d57d97b06ab0f974ac', 'message': 'Modify the url of upper_constraints_file\n\nUpdate the url of upper_constraints_file according to community disscuss.\nChange-Id: I7853fb5647424f6d5ab45c1c555fdecc370ab491\n'}, {'number': 3, 'created': '2019-06-19 01:58:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1349d385ba6b847f77f792ee47c45e77a1da16b1', 'message': 'Modify the url of upper_constraints_file\n\nUpdate the url of upper_constraints_file according to community disscuss.\ndepends-on: https://review.opendev.org/#/c/601188\nChange-Id: I7853fb5647424f6d5ab45c1c555fdecc370ab491\n'}]",3,665926,1349d385ba6b847f77f792ee47c45e77a1da16b1,14,5,3,28239,,,0,"Modify the url of upper_constraints_file

Update the url of upper_constraints_file according to community disscuss.
depends-on: https://review.opendev.org/#/c/601188
Change-Id: I7853fb5647424f6d5ab45c1c555fdecc370ab491
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/665926/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,50e68954463875f58edad6b7cf10207c481cb3f3,modify-upper_constraints_file, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fneutron~659617,openstack/neutron,master,I8925ffcb02a3fa6b7430eccd4b92880f26482a1b,Check all attributes of all returned objects,ABANDONED,2019-05-16 16:31:12.000000000,2022-12-02 17:28:57.000000000,,"[{'_account_id': 4187}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26106}]","[{'number': 1, 'created': '2019-05-16 16:31:12.000000000', 'files': ['neutron/api/v2/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a029c23ce60836bb9d3e4ba5e19d5a23e143f8ec', 'message': 'Check all attributes of all returned objects\n\nValidate that all attributes of all objects that are\nreturned by the api are allowed by policy and api definition.\n\nChange-Id: I8925ffcb02a3fa6b7430eccd4b92880f26482a1b\nCloses-Bug: #1829414\n'}]",2,659617,a029c23ce60836bb9d3e4ba5e19d5a23e143f8ec,9,5,1,26106,,,0,"Check all attributes of all returned objects

Validate that all attributes of all objects that are
returned by the api are allowed by policy and api definition.

Change-Id: I8925ffcb02a3fa6b7430eccd4b92880f26482a1b
Closes-Bug: #1829414
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/659617/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/base.py'],1,a029c23ce60836bb9d3e4ba5e19d5a23e143f8ec,," def _exclude_attributes_by_policy(self, context, data, attribute_names=None): :param data: Relevant resource :param attribute_names: Attribute names that could be contained in data if not attribute_names: attribute_names = data.keys() for attr_name in attribute_names: # should be filtered out because of authZ policies. Add a set of all # attributes in obj_list to prevent attributes that are not present in # obj_list[0] from being filtered out. obj_attributes = (key for obj in obj_list for key in obj.keys()) request.context, obj_list[0], obj_attributes) # Use the first element in the list for discriminating which # attributes should be filtered out because of authZ policies. # Add a set of all attributes in obj_list to prevent attribute # that are not present in objs[0] from being filtered out. obj_attributes = (key for obj in objs for key in obj.keys()) request.context, objs[0], obj_attributes)"," def _exclude_attributes_by_policy(self, context, data): for attr_name in data.keys(): # should be filtered out because of authZ policies request.context, obj_list[0]) # Use first element of list to discriminate attributes which # should be removed because of authZ policies request.context, objs[0])",19,7
openstack%2Fneutron~558016,openstack/neutron,master,I3736a820f980659850562641aa432c1fd0af328c,Update interface-ip-details to include device routes,ABANDONED,2018-03-31 01:09:59.000000000,2022-12-02 17:28:55.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6785}, {'_account_id': 9354}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 18445}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 01:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9f0bf8a227846ea8548bf355be34b7d440eec4b', 'message': 'Update interface-ip-details to include device routes\n\nWhen ml2 linuxbridge agent builds a bridge from a physical\ninterface, it will move the ip attributes of the physical interface,\nor its vlan interface if network type is vlan, to the bridge. The same\nset of ip attributes are moved back from bridge when the bridge is torn\ndown.\n\nToday, however, the set of attributes only include the ip address and\nthe gateway information. Routes other than the default route are lost.\n\nThis commit added routes in the set of attributes to be moved. Default\ngateway becomes a subnet of the routes and is therefore retained.\n\nCloses-Bug: #1703510\n\nChange-Id: I3736a820f980659850562641aa432c1fd0af328c\nSigned-off-by: Aihua Li <aihuaedwardli@yahoo.com>\n'}, {'number': 2, 'created': '2018-03-31 01:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad767bafb478024fdc12bf9fb16c52aabf22a637', 'message': 'Update interface-ip-details to include device routes\n\nWhen ml2 linuxbridge agent builds a bridge from a physical\ninterface, it will move the ip attributes of the physical interface,\nor its vlan interface if network type is vlan, to the bridge. The same\nset of ip attributes are moved back from bridge when the bridge is torn\ndown.\n\nToday, however, the set of attributes only include the ip address and\nthe gateway information. Routes other than the default route are lost.\n\nThis commit added routes in the set of attributes to be moved. Default\ngateway becomes a subset of the routes and is therefore retained by this\nchange.\n\nCloses-Bug: #1703510\n\nChange-Id: I3736a820f980659850562641aa432c1fd0af328c\nSigned-off-by: Aihua Li <aihuaedwardli@yahoo.com>\n'}, {'number': 3, 'created': '2018-03-31 06:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00e53c4013270395f64892b188b3dcc79e3c9777', 'message': 'Update interface-ip-details to include device routes\n\nWhen ml2 linuxbridge agent builds a bridge from a physical\ninterface, it will move the ip attributes of the physical interface,\nor its vlan interface if network type is vlan, to the bridge. The same\nset of ip attributes are moved back from bridge when the bridge is torn\ndown.\n\nToday, however, the set of attributes only include the ip address and\nthe gateway information. Routes other than the default route are lost.\n\nThis commit added routes in the set of attributes to be moved. Default\ngateway becomes a subset of the routes and is therefore retained by this\nchange.\n\nCloses-Bug: #1703510\n\nChange-Id: I3736a820f980659850562641aa432c1fd0af328c\nSigned-off-by: Aihua Li <aihuaedwardli@yahoo.com>\n'}, {'number': 4, 'created': '2018-04-06 04:31:54.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1c812e781bad952521e44ea78620f807ad98fad', 'message': 'Update interface-ip-details to include device routes\n\nWhen ml2 linuxbridge agent builds a bridge from a physical\ninterface, it will move the ip attributes of the physical interface,\nor its vlan interface if network type is vlan, to the bridge. The same\nset of ip attributes are moved back from bridge when the bridge is torn\ndown.\n\nToday, however, the set of attributes only include the ip address and\nthe gateway information. Routes other than the default route are lost.\n\nThis commit added routes in the set of attributes to be moved. Default\ngateway becomes a subset of the routes and is therefore retained by this\nchange.\n\nCloses-Bug: #1703510\n\nChange-Id: I3736a820f980659850562641aa432c1fd0af328c\nSigned-off-by: Aihua Li <aihuaedwardli@yahoo.com>\n'}]",7,558016,d1c812e781bad952521e44ea78620f807ad98fad,29,11,4,18445,,,0,"Update interface-ip-details to include device routes

When ml2 linuxbridge agent builds a bridge from a physical
interface, it will move the ip attributes of the physical interface,
or its vlan interface if network type is vlan, to the bridge. The same
set of ip attributes are moved back from bridge when the bridge is torn
down.

Today, however, the set of attributes only include the ip address and
the gateway information. Routes other than the default route are lost.

This commit added routes in the set of attributes to be moved. Default
gateway becomes a subset of the routes and is therefore retained by this
change.

Closes-Bug: #1703510

Change-Id: I3736a820f980659850562641aa432c1fd0af328c
Signed-off-by: Aihua Li <aihuaedwardli@yahoo.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/558016/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,b9f0bf8a227846ea8548bf355be34b7d440eec4b,bug/1703510," 'list_routes') as lrt_fn: rt_list = [dict(cidr='0.0.0.0/0', via='1.1.1.1', dev='eth0'), dict(cidr='2.2.2.0/24', via='1.1.1.1', dev='eth0')] lrt_fn.return_value = rt_list self.assertTrue(lrt_fn.called) self.assertEqual(ret, (ipdict, rt_list))"," 'get_gateway') as getgw_fn: gwdict = dict(gateway='1.1.1.1') getgw_fn.return_value = gwdict self.assertTrue(getgw_fn.called) self.assertEqual(ret, (ipdict, gwdict))",36,22
openstack%2Fneutron~547295,openstack/neutron,master,I815d329616258414c9df5831e0f0862bb0cd0cfd,Adjust processing of centralized fip for dvr,ABANDONED,2018-02-23 06:53:24.000000000,2022-12-02 17:28:52.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23430}]","[{'number': 1, 'created': '2018-02-23 06:53:24.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b26e2b704112f9d32e337c564e3c01e251dffb1e', 'message': 'Adjust processing of centralized fip for dvr\n\n[1]Move processing of centralized fip nat rules for dvr from\nfip configuration processing.\n[2]Initialize ""snat_iptables_manager"" earlier because it will\nbe used in [1].\n[3]When add centralized fip for dvr+ha, ""add_centralized_floatingip""\nof superclass is not needed to be invoked, because fip is configured\nby keepalived instance and nat rules are processed in [1].\n\nChange-Id: I815d329616258414c9df5831e0f0862bb0cd0cfd\n'}]",6,547295,b26e2b704112f9d32e337c564e3c01e251dffb1e,15,8,1,23430,,,0,"Adjust processing of centralized fip for dvr

[1]Move processing of centralized fip nat rules for dvr from
fip configuration processing.
[2]Initialize ""snat_iptables_manager"" earlier because it will
be used in [1].
[3]When add centralized fip for dvr+ha, ""add_centralized_floatingip""
of superclass is not needed to be invoked, because fip is configured
by keepalived instance and nat rules are processed in [1].

Change-Id: I815d329616258414c9df5831e0f0862bb0cd0cfd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/547295/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py']",4,b26e2b704112f9d32e337c564e3c01e251dffb1e,adjust_centralized_fip_for_dvr," self.snat_iptables_manager = iptables_manager.IptablesManager( namespace=self.snat_namespace.name, use_ipv6=self.use_ipv6) def process_floating_ip_nat_rules(self): super(DvrEdgeRouter, self).process_floating_ip_nat_rules()"," self.snat_iptables_manager = None self.snat_iptables_manager = iptables_manager.IptablesManager( namespace=snat_ns.name, use_ipv6=self.use_ipv6) self.process_floating_ip_nat_rules_for_centralized_floatingip() self.process_floating_ip_nat_rules_for_centralized_floatingip() def process_floating_ip_nat_rules_for_centralized_floatingip(self):",8,15
openstack%2Fneutron~649219,openstack/neutron,master,I407534036619b009afa12e76be411175883e4493,Add new system wide flag 'dhcp_agent_distributed'.,ABANDONED,2019-04-02 04:53:15.000000000,2022-12-02 17:28:49.000000000,,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 26970}]","[{'number': 1, 'created': '2019-04-02 04:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1d7bf79714cbf0d5ea4f96669b140104f466025', 'message': ""Add new system wide flag 'dhcp_agent_distributed'.\n\nCurrent Neutron DHCP agent architecture is very flexible. Even\nadministrators can provision the DHCP agent on all compute nodes to\nensure high availability.\n\nHowever, the architecture for distributing the DHCP agent to all compute\nnodes is possible, but is not recommended for two reasons.\n\n  - All DHCP agents should be manually bound to the network. Although\n  the 'dhcp_agent_per_network' value is very high, it can be bypassed,\n  if you do not change the config especially, admin should bind all DHCP\n  agent to the specific network unconditionally.\n\n  - Load of Neutron server and backend DB server is high due to RPC\n  callback strom of DHCP agents. If the number of dhcp agents serving\n  a single network increases (as many as the number of compute nodes),\n  each DHCP agent generates a lot of traffic to respond the RPCs sent\n  by the Neutron server. In a very large Openstack cluster environment\n  (more than 1000 compute nodes), the load of each server becomes large\n  due to the traffic, and the DHCP lease file is not updated in time\n  resulting VM does not receive the DHCP IP.\n\nThis patch adds a new flag 'dhcp_agent_distributed' to fix this problem.\nThe flag is read by the Neutron server. When the flag is enabled, the\nNeutron server responds with the port information filtered in the\nRPC request of the DHCP agent. That is, the dhcp agent receives only\nthe port information of its deployed compute node. A large part of the\nDHCP agent RPC strom overhead occurs when the dhcp agent receives an\nRPC message and updates the 'provisioning_block' again after the required\nprocess, rather than the first message that the Neutron server casts\nto all agents with an RPC cast. Instead of unnecessarily increasing\nthe complexity by modifying the first RPC sent by the neutron server\n(sent to all agents with the RPC cast), this patch removes the part\nthat updates the 'provisioning block' by returning only the filtered\ninformation to the (get_active_network_info) function requested by the\nDHCP agent Respectively.\n\nAlso, if the 'dhcp_agent_distributed' flag is on, the DHCP agent\nscheduler ignores the 'dhcp_agent_per_network' value and binds all dhcp\nagents to the network. This is to reduce the operation cost that the\nadmin must manually bind the DHCP agent and network.\n\nChange-Id: I407534036619b009afa12e76be411175883e4493\n""}, {'number': 2, 'created': '2019-04-02 04:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e623b2bbc873fab7f8536c426366806164776217', 'message': ""Add new system wide flag 'dhcp_agent_distributed'.\n\nCurrent Neutron DHCP agent architecture is very flexible. Even\nadministrators can provision the DHCP agent on all compute nodes to\nensure high availability.\n\nHowever, the architecture for distributing the DHCP agent to all compute\nnodes is possible, but is not recommended for two reasons.\n\n  - All DHCP agents should be manually bound to the network. Although\n  the 'dhcp_agent_per_network' value is very high, it can be bypassed,\n  if you do not change the config especially, admin should bind all DHCP\n  agent to the specific network unconditionally.\n\n  - Load of Neutron server and backend DB server is high due to RPC\n  callback strom of DHCP agents. If the number of dhcp agents serving\n  a single network increases (as many as the number of compute nodes),\n  each DHCP agent generates a lot of traffic to respond the RPCs sent\n  by the Neutron server. In a very large Openstack cluster environment\n  (more than 1000 compute nodes), the load of each server becomes large\n  due to the traffic, and the DHCP lease file is not updated in time\n  resulting VM does not receive the DHCP IP.\n\nThis patch adds a new flag 'dhcp_agent_distributed' to fix this problem.\nThe flag is read by the Neutron server. When the flag is enabled, the\nNeutron server responds with the port information filtered in the\nRPC request of the DHCP agent. That is, the dhcp agent receives only\nthe port information of its deployed compute node. A large part of the\nDHCP agent RPC strom overhead occurs when the dhcp agent receives an\nRPC message and updates the 'provisioning_block' again after the required\nprocess, rather than the first message that the Neutron server casts\nto all agents with an RPC cast. Instead of unnecessarily increasing\nthe complexity by modifying the first RPC sent by the neutron server\n(sent to all agents with the RPC cast), this patch removes the part\nthat updates the 'provisioning block' by returning only the filtered\ninformation to the (get_active_network_info) function requested by the\nDHCP agent Respectively.\n\nAlso, if the 'dhcp_agent_distributed' flag is on, the DHCP agent\nscheduler ignores the 'dhcp_agent_per_network' value and binds all dhcp\nagents to the network. This is to reduce the operation cost that the\nadmin must manually bind the DHCP agent and network.\n\nCloses-Bug: #1806390\nChange-Id: I407534036619b009afa12e76be411175883e4493\n""}, {'number': 3, 'created': '2019-04-02 05:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/740e7e55aad0c795fd3db00045d74a9a85baabfc', 'message': ""Add new system wide flag 'dhcp_agent_distributed'.\n\nCurrent Neutron DHCP agent architecture is very flexible. Even\nadministrators can provision the DHCP agent on all compute nodes to\nensure high availability.\n\nHowever, the architecture for distributing the DHCP agent to all compute\nnodes is possible, but is not recommended for two reasons.\n\n  - All DHCP agents should be manually bound to the network. Although\n  the 'dhcp_agent_per_network' value is very high, it can be bypassed,\n  if you do not change the config especially, admin should bind all DHCP\n  agent to the specific network unconditionally.\n\n  - Load of Neutron server and backend DB server is high due to RPC\n  callback strom of DHCP agents. If the number of dhcp agents serving\n  a single network increases (as many as the number of compute nodes),\n  each DHCP agent generates a lot of traffic to respond the RPCs sent\n  by the Neutron server. In a very large Openstack cluster environment\n  (more than 1000 compute nodes), the load of each server becomes large\n  due to the traffic, and the DHCP lease file is not updated in time\n  resulting VM does not receive the DHCP IP.\n\nThis patch adds a new flag 'dhcp_agent_distributed' to fix this problem.\nThe flag is read by the Neutron server. When the flag is enabled, the\nNeutron server responds with the port information filtered in the\nRPC request of the DHCP agent. That is, the dhcp agent receives only\nthe port information of its deployed compute node. A large part of the\nDHCP agent RPC strom overhead occurs when the dhcp agent receives an\nRPC message and updates the 'provisioning_block' again after the required\nprocess, rather than the first message that the Neutron server casts\nto all agents with an RPC cast. Instead of unnecessarily increasing\nthe complexity by modifying the first RPC sent by the neutron server\n(sent to all agents with the RPC cast), this patch removes the part\nthat updates the 'provisioning block' by returning only the filtered\ninformation to the (get_active_network_info) function requested by the\nDHCP agent Respectively.\n\nAlso, if the 'dhcp_agent_distributed' flag is on, the DHCP agent\nscheduler ignores the 'dhcp_agent_per_network' value and binds all dhcp\nagents to the network. This is to reduce the operation cost that the\nadmin must manually bind the DHCP agent and network.\n\nCloses-Bug: #1806390\nChange-Id: I407534036619b009afa12e76be411175883e4493\n""}, {'number': 4, 'created': '2019-04-02 09:33:49.000000000', 'files': ['neutron/conf/agent/database/agentschedulers_db.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2693cb7bba012af9bbd3478e9f9df63ebcd45ba3', 'message': ""Add new system wide flag 'dhcp_agent_distributed'.\n\nCurrent Neutron DHCP agent architecture is very flexible. Even\nadministrators can provision the DHCP agent on all compute nodes to\nensure high availability.\n\nHowever, the architecture for distributing the DHCP agent to all compute\nnodes is possible, but is not recommended for two reasons.\n\n  - All DHCP agents should be manually bound to the network. Although\n  the 'dhcp_agent_per_network' value is very high, it can be bypassed,\n  if you do not change the config especially, admin should bind all DHCP\n  agent to the specific network unconditionally.\n\n  - Load of Neutron server and backend DB server is high due to RPC\n  callback strom of DHCP agents. If the number of dhcp agents serving\n  a single network increases (as many as the number of compute nodes),\n  each DHCP agent generates a lot of traffic to respond the RPCs sent\n  by the Neutron server. In a very large Openstack cluster environment\n  (more than 1000 compute nodes), the load of each server becomes large\n  due to the traffic, and the DHCP lease file is not updated in time\n  resulting VM does not receive the DHCP IP.\n\nThis patch adds a new flag 'dhcp_agent_distributed' to fix this problem.\nThe flag is read by the Neutron server. When the flag is enabled, the\nNeutron server responds with the port information filtered in the\nRPC request of the DHCP agent. That is, the dhcp agent receives only\nthe port information of its deployed compute node. A large part of the\nDHCP agent RPC strom overhead occurs when the dhcp agent receives an\nRPC message and updates the 'provisioning_block' again after the required\nprocess, rather than the first message that the Neutron server casts\nto all agents with an RPC cast. Instead of unnecessarily increasing\nthe complexity by modifying the first RPC sent by the neutron server\n(sent to all agents with the RPC cast), this patch removes the part\nthat updates the 'provisioning block' by returning only the filtered\ninformation to the (get_active_network_info) function requested by the\nDHCP agent Respectively.\n\nAlso, if the 'dhcp_agent_distributed' flag is on, the DHCP agent\nscheduler ignores the 'dhcp_agent_per_network' value and binds all dhcp\nagents to the network. This is to reduce the operation cost that the\nadmin must manually bind the DHCP agent and network.\n\nCloses-Bug: #1806390\nChange-Id: I407534036619b009afa12e76be411175883e4493\n""}]",8,649219,2693cb7bba012af9bbd3478e9f9df63ebcd45ba3,22,9,4,26970,,,0,"Add new system wide flag 'dhcp_agent_distributed'.

Current Neutron DHCP agent architecture is very flexible. Even
administrators can provision the DHCP agent on all compute nodes to
ensure high availability.

However, the architecture for distributing the DHCP agent to all compute
nodes is possible, but is not recommended for two reasons.

  - All DHCP agents should be manually bound to the network. Although
  the 'dhcp_agent_per_network' value is very high, it can be bypassed,
  if you do not change the config especially, admin should bind all DHCP
  agent to the specific network unconditionally.

  - Load of Neutron server and backend DB server is high due to RPC
  callback strom of DHCP agents. If the number of dhcp agents serving
  a single network increases (as many as the number of compute nodes),
  each DHCP agent generates a lot of traffic to respond the RPCs sent
  by the Neutron server. In a very large Openstack cluster environment
  (more than 1000 compute nodes), the load of each server becomes large
  due to the traffic, and the DHCP lease file is not updated in time
  resulting VM does not receive the DHCP IP.

This patch adds a new flag 'dhcp_agent_distributed' to fix this problem.
The flag is read by the Neutron server. When the flag is enabled, the
Neutron server responds with the port information filtered in the
RPC request of the DHCP agent. That is, the dhcp agent receives only
the port information of its deployed compute node. A large part of the
DHCP agent RPC strom overhead occurs when the dhcp agent receives an
RPC message and updates the 'provisioning_block' again after the required
process, rather than the first message that the Neutron server casts
to all agents with an RPC cast. Instead of unnecessarily increasing
the complexity by modifying the first RPC sent by the neutron server
(sent to all agents with the RPC cast), this patch removes the part
that updates the 'provisioning block' by returning only the filtered
information to the (get_active_network_info) function requested by the
DHCP agent Respectively.

Also, if the 'dhcp_agent_distributed' flag is on, the DHCP agent
scheduler ignores the 'dhcp_agent_per_network' value and binds all dhcp
agents to the network. This is to reduce the operation cost that the
admin must manually bind the DHCP agent and network.

Closes-Bug: #1806390
Change-Id: I407534036619b009afa12e76be411175883e4493
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/649219/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/agent/database/agentschedulers_db.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/scheduler/dhcp_agent_scheduler.py']",3,a1d7bf79714cbf0d5ea4f96669b140104f466025,bug/1806390," elif not cfg.CONF.dhcp_agent_distributed: if cfg.CONF.dhcp_agent_distributed: return network_hosted_agents n_agents = cfg.CONF.dhcp_agents_per_network - len(hosted_agents) if cfg.CONF.dhcp_agent_distributed: n_agents = len(hostable_dhcp_agents) else: n_agents = min(len(hostable_dhcp_agents), n_agents)"," else: return network_hosted_agents n_agents = cfg.CONF.dhcp_agents_per_network - len(hosted_agents) n_agents = min(len(hostable_dhcp_agents), n_agents)",20,5
openstack%2Fneutron~637811,openstack/neutron,master,I16324d49e4e80719a0a8333674101aef24b702ab,Modify default default_prefixlen of subnetpools,ABANDONED,2019-02-19 10:12:15.000000000,2022-12-02 17:28:25.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22435}, {'_account_id': 26622}, {'_account_id': 27633}, {'_account_id': 29879}]","[{'number': 1, 'created': '2019-02-19 10:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/588a3a6019a7fd0ef7f40d4b7682149a0879fc23', 'message': ""[Required]50-character subject line\nMake subnet-create success when using subnetpool whose min_prefixlen\nisn't set\n\nIf the min_prefixlen isn't set when creating a subnetpool,\nit is set to be the min prefixlen of pool_prefixes by default.\nAnd when the min_prefixlen is set,it should be checked whether it is\nbigger than the min prefixlen of pool prefix.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 2, 'created': '2019-02-20 05:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8d33d1d2b8597f74130691babde53889231c109', 'message': ""Add default min_prefixlen when creating subnetpools\n\nIf the min_prefixlen isn't set when creating a subnetpool,\nit is set to be the min prefixlen of pool_prefixes by default.\nAnd when the min_prefixlen is set,it should be checked whether it is\nbigger than the min prefixlen of pool prefix.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 3, 'created': '2019-02-25 09:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/614f7eb7b8af30bd7d12ba922c8c119b3b27de70', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 4, 'created': '2019-02-26 07:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ad806c5d27ed13fcb9c454d8faaef5431dd0f38', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 5, 'created': '2019-02-26 07:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81f83d96269ee860cab285c940306e665c933788', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 6, 'created': '2019-02-26 07:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63a2f968411df22f7326a21856a1503cb8eb1e89', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 7, 'created': '2019-02-27 01:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e66d5aa1d2f325e8b7a65423d90d047e0c10f4f', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 8, 'created': '2019-02-27 01:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e9c92739c893ad871c4589ac204aefe1f2e94b0', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 9, 'created': '2019-02-27 01:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d02959b5ea5f9f9b4d314c812020aec128abefb8', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}, {'number': 10, 'created': '2019-03-13 08:20:19.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/ipam/subnet_alloc.py', 'releasenotes/notes/modify-default-prefixlen-of-subnetpools-6fae14e56c7dc562.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90793afeb15f28dc9f61530cbdbbb8f76a9b8e21', 'message': ""Modify default default_prefixlen of subnetpools\n\nUsing a subnetpool whose default_prefixlen isn't specified to\ncreate a subnet,to make it can be allocated,\nthe default_prefixlen is set to be the bigger one\nbetween the min_prefixlen and the min prefixlen of pool_prefixes\nwhen creating subnetpools by default.\n\nChange-Id: I16324d49e4e80719a0a8333674101aef24b702ab\nCloses-bug: #1816502\n""}]",20,637811,90793afeb15f28dc9f61530cbdbbb8f76a9b8e21,56,14,10,29879,,,0,"Modify default default_prefixlen of subnetpools

Using a subnetpool whose default_prefixlen isn't specified to
create a subnet,to make it can be allocated,
the default_prefixlen is set to be the bigger one
between the min_prefixlen and the min prefixlen of pool_prefixes
when creating subnetpools by default.

Change-Id: I16324d49e4e80719a0a8333674101aef24b702ab
Closes-bug: #1816502
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/637811/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/ipam/subnet_alloc.py']",2,588a3a6019a7fd0ef7f40d4b7682149a0879fc23,bug/1816502," def _min_prefixlen_from_cidr(self): prefixlen = [cidr.prefixlen for cidr in self.prefixes] return min(prefixlen) if self.min_prefixlen < self._min_prefixlen_from_cidr(): raise exceptions.IllegalSubnetPoolPrefixBounds( prefix_type='min_prefixlen', prefixlen=self.min_prefixlen, base_prefix_type='pool_cidr_prefixlen', base_prefixlen=self._min_prefixlen_from_cidr()) if type == 'min' and prefixlen is constants.ATTR_NOT_SPECIFIED: prefixlen = self._min_prefixlen_from_cidr() ",,61,20
openstack%2Fneutron~632151,openstack/neutron,master,I92a0d8d1d313f7a47be06d6ca35f0430295ebafc,Reduce device_exists() calls,ABANDONED,2019-01-21 19:26:44.000000000,2022-12-02 17:28:21.000000000,,"[{'_account_id': 1131}, {'_account_id': 6593}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-21 19:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8eab1e11fa9792b78ded2d2b057437c41bda15ce', 'message': 'Reduce device_exists() calls\n\nThe updating of arp entries was always calling device.exists()\nwhich is wrapping a ""ip netns exec.. ip link show"" which is significant\noverhead. We can be opportunistic and assume the device exists. Although\nwe could simply recheck whether the device exists on failure, this would\nintroduce a TOCTOU race, so we rather don\'t want to do that.\n\nChange-Id: I92a0d8d1d313f7a47be06d6ca35f0430295ebafc\n'}, {'number': 2, 'created': '2019-01-22 13:05:53.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/53db2fc659dd124aab9a53890b05cb54a792f611', 'message': 'Reduce device_exists() calls\n\nThe updating of arp entries was always calling device.exists()\nwhich is wrapping a ""ip netns exec.. ip link show"" which is measurable\noverhead. For ""add"" we can assume (since it does actually a ip neigh\nreplace, aka is idempotent) that it only fails when the device isn\'t\nthere. For delete, we can preserve existing checks.\n\nAlthough we could simply recheck whether the device exists on failure,\nthis would introduce a TOCTOU race, so we don\'t do that and assume\nthe failure was due to the device missing, and record it.\n\nChange-Id: I92a0d8d1d313f7a47be06d6ca35f0430295ebafc\n'}]",1,632151,53db2fc659dd124aab9a53890b05cb54a792f611,19,8,2,6593,,,0,"Reduce device_exists() calls

The updating of arp entries was always calling device.exists()
which is wrapping a ""ip netns exec.. ip link show"" which is measurable
overhead. For ""add"" we can assume (since it does actually a ip neigh
replace, aka is idempotent) that it only fails when the device isn't
there. For delete, we can preserve existing checks.

Although we could simply recheck whether the device exists on failure,
this would introduce a TOCTOU race, so we don't do that and assume
the failure was due to the device missing, and record it.

Change-Id: I92a0d8d1d313f7a47be06d6ca35f0430295ebafc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/632151/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",2,8eab1e11fa9792b78ded2d2b057437c41bda15ce,master_reduce_device_exists, rtrdev.return_value.neigh.add.side_effect = RuntimeError, self.assertFalse(rtrdev.neigh.add.called),8,9
openstack%2Fneutron~630627,openstack/neutron,master,I454de37d0a9f3eea20168ecf19627f5ae3f20765,Mention per cell metadata API in docs,ABANDONED,2019-01-14 08:44:03.000000000,2022-12-02 17:28:19.000000000,,"[{'_account_id': 6873}, {'_account_id': 10385}, {'_account_id': 15309}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-14 08:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce4a69d87ae3514ba70db846a093a8c2dda82666', 'message': 'Mention per cell metadata API in docs\n\nNova supported run metadata API per cell in\nI2e6ebb551e782e8aa0ac90169f4d4b8895311b3c\nwe should mention it in Neutron doc as well\n\nDepends-On: https://review.openstack.org/#/c/624612/\nChange-Id: I454de37d0a9f3eea20168ecf19627f5ae3f20765\n'}, {'number': 2, 'created': '2019-01-14 16:28:29.000000000', 'files': ['neutron/conf/agent/metadata/config.py', 'doc/source/install/controller-install-obs.rst', 'doc/source/admin/deploy-lb-provider.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/admin/deploy-ovs-provider.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b295273b0f46248dbd0241a3d6d309391eef02b2', 'message': 'Mention per cell metadata API in docs\n\nNova supported run metadata API per cell in\nI2e6ebb551e782e8aa0ac90169f4d4b8895311b3c\nwe should mention it in Neutron doc as well\n\nDepends-On: https://review.openstack.org/#/c/624612/\nChange-Id: I454de37d0a9f3eea20168ecf19627f5ae3f20765\n'}]",6,630627,b295273b0f46248dbd0241a3d6d309391eef02b2,17,9,2,15888,,,0,"Mention per cell metadata API in docs

Nova supported run metadata API per cell in
I2e6ebb551e782e8aa0ac90169f4d4b8895311b3c
we should mention it in Neutron doc as well

Depends-On: https://review.openstack.org/#/c/624612/
Change-Id: I454de37d0a9f3eea20168ecf19627f5ae3f20765
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/630627/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/agent/metadata/config.py', 'doc/source/install/controller-install-obs.rst', 'doc/source/admin/deploy-lb-provider.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/admin/deploy-ovs-provider.rst']",6,ce4a69d87ae3514ba70db846a093a8c2dda82666,bp/run-meta-api-per-cell," Starting from Stein release, Nova support running nova-metadata service per cell, if you are choosing to run it per cell, you should also config here to point to the corresponding host according to your deployment. ",,26,1
openstack%2Fneutron~629825,openstack/neutron,master,I21dccd584e1ab9e7799a7a32874cb7a1ca783a80,DVR: Floatingip status changed to error when restart l3-agent,ABANDONED,2019-01-10 10:16:44.000000000,2022-12-02 17:28:16.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22016}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-10 10:16:44.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2adaa0470f7d921c3be678c72b79fbcd16570144', 'message': 'DVR: Floatingip status changed to error when restart l3-agent\n\nWhen l3 agent is restarted on a dvr_snat node that is configured\nfor L3_HA and has a centralized FloatingIP configured to the qg-interface\nin the snat_namespace, that status of FloatingIP changed to be ERROR\n\nHa router uses keepalived to configure floating IP to qg-interface.\nThe previous logic configures floating IP to qg-interface again after\nadding floating IP to keepalived, resulting in conflict and\nsetting floating IP status to error.\n\nChange-Id: I21dccd584e1ab9e7799a7a32874cb7a1ca783a80\nCloses-Bug: #1811213\n'}]",7,629825,2adaa0470f7d921c3be678c72b79fbcd16570144,12,9,1,22016,,,0,"DVR: Floatingip status changed to error when restart l3-agent

When l3 agent is restarted on a dvr_snat node that is configured
for L3_HA and has a centralized FloatingIP configured to the qg-interface
in the snat_namespace, that status of FloatingIP changed to be ERROR

Ha router uses keepalived to configure floating IP to qg-interface.
The previous logic configures floating IP to qg-interface again after
adding floating IP to keepalived, resulting in conflict and
setting floating IP status to error.

Change-Id: I21dccd584e1ab9e7799a7a32874cb7a1ca783a80
Closes-Bug: #1811213
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/629825/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",2,2adaa0470f7d921c3be678c72b79fbcd16570144,bug/1811213," @mock.patch.object( dvr_edge_rtr.DvrEdgeRouter, 'process_floating_ip_nat_rules_for_centralized_floatingip') process_floating_ip_nat_rules_for_centralized_floatingip): process_floating_ip_nat_rules_for_centralized_floatingip.\ assert_not_called() process_floating_ip_nat_rules_for_centralized_floatingip.\ assert_not_called() process_floating_ip_nat_rules_for_centralized_floatingip.\ assert_called_once_with()"," @mock.patch.object(dvr_edge_rtr.DvrEdgeRouter, 'add_centralized_floatingip') super_add_centralized_floatingip): super_add_centralized_floatingip.assert_not_called() super_add_centralized_floatingip.assert_not_called() super_add_centralized_floatingip.assert_called_once_with(fip, fip_cidr)",14,11
openstack%2Fneutron~599572,openstack/neutron,master,Iea27b34ac4a87c631325ff9c4764eddd41055e0e,Router: restrict associate floatingip to router interface,ABANDONED,2018-09-04 11:46:37.000000000,2022-12-02 17:28:10.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27546}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-09-04 11:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8891af29a19e3ca2868878f9055fd14ff5786ca', 'message': '[WIP] router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwastingone for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 2, 'created': '2018-09-05 13:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb4ca8bcf4719b41a47afe51ec1e9f19a659633a', 'message': '[WIP] router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwastingone for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 3, 'created': '2018-10-09 05:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55ba2e293617815385cb27a0b5636f059a91cc53', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 4, 'created': '2018-10-10 11:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db4920067435bb9ca1498007708eef84e76696a3', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 5, 'created': '2018-10-14 12:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38103dab5cc276ade3b43e9514b87c925eeb6fea', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 6, 'created': '2018-10-16 11:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/121bba00f6962503d466f27738898f457fc73fef', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 7, 'created': '2018-10-18 08:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d828c4abcd42be1fa15cc0c3004d4160a6e8a3c6', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 8, 'created': '2018-10-18 11:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eac8a333aa9ccae3ada0bab77fde5db50f3a47d3', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 9, 'created': '2018-10-21 07:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dd4e5c0aa80930837fde7374892269ae77e9a3b', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 10, 'created': '2018-10-21 11:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/163601fc768f8ceef9162b0713a6cc406c6458c9', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 11, 'created': '2018-10-21 11:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31a4d2f940aaa36dc2f00393df4a86e61944f4d5', 'message': 'Router: restrict associate floatingip to i/f\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 12, 'created': '2018-10-22 12:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be729775c8eed50f4fbf6cce329e2d6426239e4d', 'message': 'Router: restrict associate floatingip to router interface\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 13, 'created': '2018-10-23 10:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ee9b76475161bf2332d08d15f5796b5c02309a8', 'message': 'Router: restrict associate floatingip to router interface\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 14, 'created': '2018-10-24 06:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89ca8683265d415104b8126f75b15ff42b06fb73', 'message': 'Router: restrict associate floatingip to router interface\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 15, 'created': '2018-11-15 13:22:48.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/384c40f278ff11cc7f6328a0d5e1927b7493eebe', 'message': 'Router: restrict associate floatingip to router interface\n\nRestricting the option of associating a floating IP\nto a router interface, since floating IPs might be\na precious resource and we would like to avoid\nwasting one for associating it to an interface that\ncannot possibly respond.\n\nCloses-Bug: #1787420\n\nChange-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}]",48,599572,384c40f278ff11cc7f6328a0d5e1927b7493eebe,117,15,15,27546,,,0,"Router: restrict associate floatingip to router interface

Restricting the option of associating a floating IP
to a router interface, since floating IPs might be
a precious resource and we would like to avoid
wasting one for associating it to an interface that
cannot possibly respond.

Closes-Bug: #1787420

Change-Id: Iea27b34ac4a87c631325ff9c4764eddd41055e0e
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/599572/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,a8891af29a19e3ca2868878f9055fd14ff5786ca,bug/1787420," if router_id: fip_id = floatingip_dict['id'] msg = 'Associating floatingip to router interface is restricted' self.delete_floatingip(context, fip_id) raise n_exc.BadRequest(resource='router', msg=msg) if floatingip[""router_id""]: msg = 'Associating floatingip to router interface is restricted' raise n_exc.BadRequest(resource='router', msg=msg)",,8,0
openstack%2Fneutron~612612,openstack/neutron,master,I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb,[log] SNAT Logging driver based iptables,ABANDONED,2018-10-23 07:07:27.000000000,2022-12-02 17:28:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-10-23 07:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adcdd7fa55745906c8510895bc22af2c0bb1b7cc', 'message': '[WIP][log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3. For North-South traffic\nthat pass from internal to external network should be logged by this\ndriver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\nDepends-On: https://review.openstack.org/#/c/604023/\nDepends-On: https://review.openstack.org/#/c/564668/\n'}, {'number': 2, 'created': '2018-10-25 09:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d92216da0d0c1ad0c2a914d8b4ff05f617fd30b9', 'message': '[WIP][log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3. For North-South traffic\nthat pass from internal to external network should be logged by this\ndriver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 3, 'created': '2018-11-05 08:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fba202fe9e83a35abc2aa949c3782e4f0fd35bdc', 'message': '[WIP][log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3. For North-South traffic\nthat pass from internal to external network should be logged by this\ndriver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 4, 'created': '2018-11-08 09:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e77e38dcfbe5a55f5202722c59e511be89e45f7c', 'message': '[log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3. For North-South traffic\nthat pass from internal to external network should be logged by this\ndriver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 5, 'created': '2018-11-09 10:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c3bce693ed0bda03b2af79acd678db4afaf3740', 'message': ""[log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3.\n\nFor North-South traffic between internal and external networks should\nbe collected by NFLOG rules in 'filter' table. Note that this driver\nonly log the packet with ctstate is 'SNAT', the first packet with\nctstate is 'NEW' will be ignored by this driver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 6, 'created': '2018-11-13 04:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99c6352a11f2b20eea5b9b5ecd8b2e845b0001eb', 'message': ""[log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3.\n\nFor North-South traffic between internal and external networks should\nbe collected by NFLOG rules in 'filter' table. Note that this driver\nonly log the packet with ctstate is 'SNAT', the first packet with\nctstate is 'NEW' will be ignored by this driver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 7, 'created': '2018-11-17 15:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a181f7e926ca34a3dd75228bf2016c211333e62a', 'message': ""[log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3.\n\nFor North-South traffic between internal and external networks should\nbe collected by NFLOG rules in 'filter' table. Note that this driver\nonly log the packet with ctstate is 'SNAT', the first packet with\nctstate is 'NEW' will be ignored by this driver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 8, 'created': '2018-11-20 02:45:06.000000000', 'files': ['neutron/services/logapi/drivers/iptables/__init__.py', 'neutron/services/logapi/drivers/iptables/snat_log.py', 'neutron/tests/unit/services/logapi/drivers/iptables/__init__.py', 'neutron/tests/unit/services/logapi/drivers/iptables/test_snat_log.py', 'neutron/tests/unit/services/logapi/drivers/iptables/test_driver.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/services/logapi/common/constants.py', 'setup.cfg', 'neutron/services/logapi/drivers/iptables/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef8f88c84c22f5739e21b5093f2eecc509ef3e66', 'message': ""[log] SNAT Logging driver based iptables\n\nThis patch extends Neutron packet logging framework by implementing\nlogging driver for SNAT service in Layer 3.\n\nFor North-South traffic between internal and external networks should\nbe collected by NFLOG rules in 'filter' table. Note that this driver\nonly log the packet with ctstate is 'SNAT', the first packet with\nctstate is 'NEW' will be ignored by this driver.\n\nChange-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}]",8,612612,ef8f88c84c22f5739e21b5093f2eecc509ef3e66,54,10,8,28174,,,0,"[log] SNAT Logging driver based iptables

This patch extends Neutron packet logging framework by implementing
logging driver for SNAT service in Layer 3.

For North-South traffic between internal and external networks should
be collected by NFLOG rules in 'filter' table. Note that this driver
only log the packet with ctstate is 'SNAT', the first packet with
ctstate is 'NEW' will be ignored by this driver.

Change-Id: I4dcc30efbfaa14a8960b446467c1e7e38fe2cecb
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Partial-Bug: #1752290
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/612612/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/iptables/__init__.py', 'neutron/services/logapi/drivers/iptables/snat_log.py', 'neutron/services/l3_router/l3_router_plugin.py', 'setup.cfg', 'neutron/services/logapi/drivers/iptables/driver.py']",5,adcdd7fa55745906c8510895bc22af2c0bb1b7cc,bug/1752290,"# Copyright (c) 2018 Fujitsu Limited. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.callbacks import resources from oslo_log import log as logging from oslo_utils import importutils from neutron.services.logapi.common import constants as log_const from neutron.services.logapi.drivers import base from neutron.services.logapi.rpc import server as server_rpc LOG = logging.getLogger(__name__) DRIVER = None SUPPORTED_LOGGING_TYPES = [log_const.SNAT] class IptablesDriver(base.DriverBase): @staticmethod def create(): return IptablesDriver( name='iptables', vif_types=[], vnic_types=[], supported_logging_types=SUPPORTED_LOGGING_TYPES, requires_rpc=True) def register(): """"""Register the driver."""""" global DRIVER if not DRIVER: DRIVER = IptablesDriver.create() # Register RPC methods if DRIVER.requires_rpc: rpc_methods = [ {resources.PORT: server_rpc.get_snat_log_info_for_router}, {log_const.LOG_RESOURCE: server_rpc.get_snat_log_info_for_log_resources} ] DRIVER.register_rpc_methods(log_const.SNAT, rpc_methods) # Register SNAT validator via decorator importutils.import_module( 'neutron.services.logapi.common.snat_validate' ) LOG.debug('SNAT logging driver registered') ",,462,0
openstack%2Fneutron~568202,openstack/neutron,master,I20252850d62b4e45048a1f916bbfd512a2826926,Libnetfilter_log python binding,ABANDONED,2018-05-14 06:25:44.000000000,2022-12-02 17:28:01.000000000,,"[{'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 15905}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-05-14 06:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83a1adb2eb96d76621623be17849b017fdd31eb6', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 2, 'created': '2018-06-21 02:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14196a396464f17b7d53b20fa681dc9a9be257b9', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 3, 'created': '2018-10-09 07:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8380f1749c756523da7eea38b9911bdb9007a4c', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 4, 'created': '2018-10-10 04:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/011183c3a9a268087cb346fa00e427e1e87f8fe3', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 5, 'created': '2018-10-10 09:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b67b875b4ee12da89649a481472e2c50c40fd7b', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 6, 'created': '2018-10-10 11:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed5e0c3cb1d2ab52ebb66f048a624b21573772ed', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 7, 'created': '2018-10-11 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11c885b6c495d5ae18331b404f080f34aa1c470d', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 8, 'created': '2018-10-25 09:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05f3660bf82564cfb85a44ade43225355515e7aa', 'message': 'WIP: Libnetfilter_log python binding\n\nThis patch introduce a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 9, 'created': '2018-10-30 08:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ea83f4f44a94d0af17aee638b6b0ce0b4da6092', 'message': 'Libnetfilter_log python binding\n\nThis patch introduces a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 10, 'created': '2018-11-08 09:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8683ebda8f1dce1da8a23b0e5a2d0d8fc5f1c18', 'message': 'Libnetfilter_log python binding\n\nThis patch introduces a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}, {'number': 11, 'created': '2018-11-18 10:22:28.000000000', 'files': ['requirements.txt', 'neutron/tests/unit/privileged/agent/linux/test_libnetfilter_log.py', 'lower-constraints.txt', 'neutron/privileged/agent/linux/libnetfilter_log.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe9f371e57329b7958ca0f9ab81c829e5a79f908', 'message': 'Libnetfilter_log python binding\n\nThis patch introduces a libnetfilter_log python binding, this one used\nfor capturing NFLOG packet.\n\nPartial-Bug: #1752290\nChange-Id: I20252850d62b4e45048a1f916bbfd512a2826926\n'}]",16,568202,fe9f371e57329b7958ca0f9ab81c829e5a79f908,75,12,11,15471,,,0,"Libnetfilter_log python binding

This patch introduces a libnetfilter_log python binding, this one used
for capturing NFLOG packet.

Partial-Bug: #1752290
Change-Id: I20252850d62b4e45048a1f916bbfd512a2826926
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/568202/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/libnetfilter_log.py'],1,83a1adb2eb96d76621623be17849b017fdd31eb6,bug/1752290,"# Copyright (c) 2018 Fujitsu Limited # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import multiprocessing import socket import struct import time import eventlet from eventlet.green import zmq import cffi from oslo_log import log as logging from oslo_serialization import jsonutils from oslo_utils import excutils from ryu.lib import addrconv from ryu.lib.packet import arp from ryu.lib.packet import ether_types from ryu.lib.packet import ethernet from ryu.lib.packet import ipv4 from ryu.lib.packet import ipv6 from neutron import privileged LOG = logging.getLogger(__name__) # NOTE(annp): I'm using zmq to communicate between nflog process and # iptables log process. Considering remove it if there is a good solution ADDR_IPC = ""ipc:///tmp/test123"" CDEF = ''' typedef unsigned char u_int8_t; typedef unsigned short int u_int16_t; typedef unsigned int u_int32_t; struct nfulnl_msg_packet_hdr { u_int16_t hw_protocol; // hw protocol (network order) u_int8_t hook; // netfilter hook u_int8_t _pad; }; int nflog_fd(struct nflog_handle *h); ssize_t recv(int sockfd, void *buf, size_t len, int flags); struct nflog_handle *nflog_open(void); int nflog_bind_pf(struct nflog_handle *h, u_int16_t pf); int nflog_unbind_pf(struct nflog_handle *h, u_int16_t pf); struct nflog_g_handle *nflog_bind_group(struct nflog_handle *h, u_int16_t num); int nflog_unbind_group(struct nflog_g_handle *gh); static const u_int8_t NFULNL_COPY_PACKET; int nflog_set_mode(struct nflog_g_handle *gh, u_int8_t mode, unsigned int len); int nflog_set_timeout(struct nflog_g_handle *gh, u_int32_t timeout); int nflog_set_flags(struct nflog_g_handle *gh, u_int16_t flags); int nflog_set_qthresh(struct nflog_g_handle *gh, u_int32_t qthresh); int nflog_set_nlbufsiz(struct nflog_g_handle *gh, u_int32_t nlbufsiz); typedef int nflog_callback(struct nflog_g_handle *gh, struct nfgenmsg *nfmsg, struct nflog_data *nfd, void *data); int nflog_callback_register( struct nflog_g_handle *gh, nflog_callback *cb, void *data); int nflog_handle_packet(struct nflog_handle *h, char *buf, int len); struct nfulnl_msg_packet_hdr *nflog_get_msg_packet_hdr( struct nflog_data *nfad); u_int16_t nflog_get_hwtype(struct nflog_data *nfad); u_int16_t nflog_get_msg_packet_hwhdrlen(struct nflog_data *nfad); char *nflog_get_msg_packet_hwhdr(struct nflog_data *nfad); u_int32_t nflog_get_nfmark(struct nflog_data *nfad); int nflog_get_timestamp(struct nflog_data *nfad, struct timeval *tv); u_int32_t nflog_get_indev(struct nflog_data *nfad); u_int32_t nflog_get_physindev(struct nflog_data *nfad); u_int32_t nflog_get_outdev(struct nflog_data *nfad); u_int32_t nflog_get_physoutdev(struct nflog_data *nfad); struct nfulnl_msg_packet_hw *nflog_get_packet_hw(struct nflog_data *nfad); int nflog_get_payload(struct nflog_data *nfad, char **data); char *nflog_get_prefix(struct nflog_data *nfad); ''' ffi = None libnflog = None def init_library(): global ffi global libnflog if not ffi: ffi = cffi.FFI() ffi.cdef(CDEF) if not libnflog: libnflog = ffi.dlopen(""netfilter_log"") return ffi, libnflog ffi, libnflog = init_library() def payload(nfa): buf = ffi.new('char **') pkt_len = libnflog.nflog_get_payload(nfa, buf) if pkt_len <= 0: return None return ffi.buffer(buf[0], pkt_len)[:] def decode(nfa): prefix = ffi.string(libnflog.nflog_get_prefix(nfa)) packet_hdr = libnflog.nflog_get_msg_packet_hdr(nfa) hw_proto = socket.ntohs(packet_hdr.hw_protocol) msg_packet_hwhdr = ffi.string(libnflog.nflog_get_msg_packet_hwhdr(nfa)) msg = '' if len(msg_packet_hwhdr) >= 12: dst, src = struct.unpack_from('!6s6s', msg_packet_hwhdr) # dump eth packet eth = ethernet.ethernet(addrconv.mac.bin_to_text(dst), addrconv.mac.bin_to_text(src), ethertype=hw_proto) msg = str(eth) # dump ip packet pkt = payload(nfa) if hw_proto == ether_types.ETH_TYPE_IP: ip_pkt, proto, data = ipv4.ipv4().parser(pkt) msg += str(ip_pkt) proto_pkt, a, b = proto.parser(data) msg += str(proto_pkt) elif hw_proto == ether_types.ETH_TYPE_IPV6: ip_pkt, proto, data = ipv6.ipv6().parser(pkt) proto_pkt, a, b = proto.parser(data) msg += str(proto_pkt) elif hw_proto == ether_types.ETH_TYPE_ARP: ip_pkt, proto, data = arp.arp().parser(pkt) msg += str(ip_pkt) else: msg += ""Does not support hw_proto: "" + str(hw_proto) return {'prefix': str(prefix), 'msg': str(msg)} class NFLogManager(object): """"""A wrapper for libnetfilter_log"""""" def __init__(self): self.nflog_g_hanldes = {} self.nflog_process = None def open(self): self.nflog_handle = libnflog.nflog_open() if not self.nflog_handle: raise Exception(""annp Could not open nflog handle"") self._bind_pf() def close(self): if self.nflog_handle: ret = libnflog.nflog_close(self.nflog_handle) LOG.debug(""annp called close %s"", ret) def bind_group(self, group): if group in self.nflog_g_hanldes.keys(): # already bind return g_handle = libnflog.nflog_bind_group(self.nflog_handle, group) if not g_handle: raise Exception(""annp Could not bind group for nflog"") self.nflog_g_hanldes[group] = g_handle self._set_mode(g_handle, 0x2, 0xffff) self._set_callback(g_handle, self.cb) def _bind_pf(self): for pf in (socket.AF_INET, socket.AF_INET6): libnflog.nflog_unbind_pf(self.nflog_handle, pf) libnflog.nflog_bind_pf(self.nflog_handle, pf) def unbind_group(self, group): try: g_handle = self.nflog_g_hanldes[group] if g_handle: ret = libnflog.nflog_unbind_group(g_handle) LOG.debug(""annp called unbind group %s"", ret) except Exception: pass def _set_mode(self, g_handle, mode, len): ret = libnflog.nflog_set_mode(g_handle, mode, len) if ret != 0: raise Exception(""annp Could not set mode for nflog"") @ffi.callback(""nflog_callback"") def cb(gh, nfmsg, nfa, data): ev = decode(nfa) msg = jsonutils.dumps(ev) + '\n' ctx = zmq.Context(1) pub = ctx.socket(zmq.XREQ) pub.bind(ADDR_IPC) pub.send(msg) pub.close() return 0 def _set_callback(self, g_handle, cb): ret = libnflog.nflog_callback_register(g_handle, cb, ffi.NULL) if ret != 0: raise Exception(""annp Could not set callback for nflog"") def run_loop(self): fd = libnflog.nflog_fd(self.nflog_handle) buff = ffi.new('char[]', 4096) while True: try: pkt_len = libnflog.recv(fd, buff, 4096, 0) except OSError as err: if err.errno == 11: continue raise Exception(""annp Unknow exception"") if pkt_len > 0: libnflog.nflog_handle_packet(self.nflog_handle, buff, pkt_len) time.sleep(1.0) def start(self): self.nflog_process = multiprocessing.Process( name='fd_log', target=self.run_loop) self.nflog_process.daemon = True self.nflog_process.start() @privileged.default.entrypoint def start(): try: handle = NFLogManager() handle.open() handle.bind_group(2) handle.start() except Exception: with excutils.save_and_reraise_exception(): LOG.exception(""annp nflog thread died of an exception"") try: handle.unbind_group(2) handle.close() except Exception: pass class NFLogApp(object): packet_handler = [] def register_packet_handler(self, caller): self.packet_handler.append(caller) def unregister_packet_handler(self, caller): self.packet_handler.remove(caller) def start(self): # start nflog processing start() def loop(): while True: ctx = zmq.Context(1) sub = ctx.socket(zmq.XREQ) sub.connect(ADDR_IPC) msg = sub.recv() if len(msg): data = jsonutils.loads(msg) for caller in self.packet_handler: caller(data) sub.close() time.sleep(1.0) # spawn loop eventlet.spawn_n(loop) ",,292,0
openstack%2Fneutron~616939,openstack/neutron,master,Ie88f42f2e66e3b5bcefe5e19b1a4874523038faf,Fix the unavaliable links,ABANDONED,2018-11-09 13:58:36.000000000,2022-12-02 17:27:56.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29423}]","[{'number': 1, 'created': '2018-11-09 13:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7015bfcf9c7b73bebb4d8e885a05592c3a67969', 'message': 'delete the unavaliable links\n\nChange-Id: Ie88f42f2e66e3b5bcefe5e19b1a4874523038faf\n'}, {'number': 2, 'created': '2018-11-17 02:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99192dea9ef7fe574b79a6fa7765ea9b23aadd06', 'message': 'delete the unavaliable links\n\nChange-Id: Ie88f42f2e66e3b5bcefe5e19b1a4874523038faf\n'}, {'number': 3, 'created': '2018-11-17 03:07:51.000000000', 'files': ['doc/source/contributor/internals/api_layer.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0e0931c96972944b6b66b511a0bf9f6b1e25864', 'message': 'Fix the unavaliable links\n\nChange-Id: Ie88f42f2e66e3b5bcefe5e19b1a4874523038faf\n'}]",6,616939,e0e0931c96972944b6b66b511a0bf9f6b1e25864,14,7,3,29423,,,0,"Fix the unavaliable links

Change-Id: Ie88f42f2e66e3b5bcefe5e19b1a4874523038faf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/616939/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/api_layer.rst'],1,e7015bfcf9c7b73bebb4d8e885a05592c3a67969,,using Paste's deploy.Paste INI file format.,using `Paste`_'s `deploy`_.`Paste INI file format`_... _Paste: http://pythonpaste.org/ .. _Deploy: http://pythonpaste.org/deploy/ .. _Paste INI file format: http://pythonpaste.org/deploy/#applications,2,7
openstack%2Fneutron~616875,openstack/neutron,master,Ie06a2e3c60de55727fba3d40f36ac3b5b95bc867,Add source and wiki link to README,ABANDONED,2018-11-09 10:51:09.000000000,2022-12-02 17:27:52.000000000,,"[{'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-09 10:51:09.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b646548e0a1b6051eea277e4441821df193b899', 'message': 'Add source and wiki link to README\n\nAdd source and wiki url doc link to README.rst\n\nChange-Id: Ie06a2e3c60de55727fba3d40f36ac3b5b95bc867\n'}]",2,616875,2b646548e0a1b6051eea277e4441821df193b899,5,3,1,27346,,,0,"Add source and wiki link to README

Add source and wiki url doc link to README.rst

Change-Id: Ie06a2e3c60de55727fba3d40f36ac3b5b95bc867
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/616875/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2b646548e0a1b6051eea277e4441821df193b899,, * Source: https://git.openstack.org/cgit/openstack/neutron * Wiki: https://wiki.openstack.org/wiki/Neutron ,,3,0
openstack%2Fneutron~604023,openstack/neutron,master,Ie3b61d443dd4f6ce308c01379dd054acf10832f9,[log] Add RPC stuff for SNAT logging driver,ABANDONED,2018-09-20 09:17:34.000000000,2022-12-02 17:27:48.000000000,,"[{'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13702}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-09-20 09:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1915ebe614c7e07a9c768e61d4baabc591b5389a', 'message': '[WIP][log] Add RPC stuff for SNAT logging driver\n\nThis patch aims to add RPC stuff that is called by SNAT logging driver\nthat includes:\n- A RPC listener for listening callback from SNAT log drivers\n- Implement some required methods in log_db_api:\n  + get_logs_bound_router\n  + get_snat_log_info_for_router\n  + get_snat_log_info_for_log_resources\n\nChange-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 2, 'created': '2018-10-23 06:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e0ee05bc12393d6cfe49bdd9990f1507804a1dd', 'message': '[WIP][log] Add RPC stuff for SNAT logging driver\n\nThis patch aims to add RPC stuff that is called by SNAT logging driver\nthat includes:\n- A RPC listener for listening callback from SNAT log drivers\n- Implement some required methods in log_db_api:\n  + get_logs_bound_router\n  + get_snat_log_info_for_router\n  + get_snat_log_info_for_log_resources\n\nChange-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 3, 'created': '2018-10-25 09:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e753f6cc720f132248c967f18b35fab8b80c27e', 'message': '[WIP][log] Add RPC stuff for SNAT logging driver\n\nThis patch aims to add RPC stuff that is called by SNAT logging driver\nthat includes:\n- A RPC listener for listening callback from SNAT log drivers\n- Implement some required methods in log_db_api:\n  + get_logs_bound_router\n  + get_snat_log_info_for_router\n  + get_snat_log_info_for_log_resources\n\nChange-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 4, 'created': '2018-10-26 11:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9dfe0464e527065aaf3568482b5e529750f471d', 'message': '[WIP][log] Add RPC stuff for SNAT logging driver\n\nThis patch aims to add RPC stuff that is called by SNAT logging driver\nthat includes:\n- A RPC listener for listening callback from SNAT log drivers\n- Implement some required methods in log_db_api:\n  + get_logs_bound_router\n  + get_snat_log_info_for_router\n  + get_snat_log_info_for_log_resources\n\nChange-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 5, 'created': '2018-11-05 08:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46601c6f57048019c0815704f24568ae83f7ec5e', 'message': '[WIP][log] Add RPC stuff for SNAT logging driver\n\nThis patch aims to add RPC stuff that is called by SNAT logging driver\nthat includes:\n- A RPC listener for listening callback from SNAT log drivers\n- Implement some required methods in log_db_api:\n  + get_logs_bound_router\n  + get_snat_log_info_for_router\n  + get_snat_log_info_for_log_resources\n\nChange-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}, {'number': 6, 'created': '2018-11-08 09:59:15.000000000', 'files': ['neutron/services/logapi/common/db_api.py', 'neutron/services/logapi/rpc/server.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdc09adf9a86cd73bddc28438e88b5e50138e536', 'message': '[log] Add RPC stuff for SNAT logging driver\n\nThis patch aims to add RPC stuff that is called by SNAT logging driver\nthat includes:\n- A RPC listener for listening callback from SNAT log drivers\n- Implement some required methods in log_db_api:\n  + get_logs_bound_router\n  + get_snat_log_info_for_router\n  + get_snat_log_info_for_log_resources\n\nChange-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n'}]",18,604023,cdc09adf9a86cd73bddc28438e88b5e50138e536,42,8,6,28174,,,0,"[log] Add RPC stuff for SNAT logging driver

This patch aims to add RPC stuff that is called by SNAT logging driver
that includes:
- A RPC listener for listening callback from SNAT log drivers
- Implement some required methods in log_db_api:
  + get_logs_bound_router
  + get_snat_log_info_for_router
  + get_snat_log_info_for_log_resources

Change-Id: Ie3b61d443dd4f6ce308c01379dd054acf10832f9
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Partial-Bug: #1752290
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/604023/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/common/db_api.py', 'neutron/services/logapi/rpc/server.py']",2,1915ebe614c7e07a9c768e61d4baabc591b5389a,bug/1752290,"def get_snat_log_info_for_router(context, router_id): return db_api.get_snat_log_info_for_router(context, router_id) def get_snat_log_info_for_log_resources(context, log_resources): return db_api.get_snat_log_info_for_log_resources(context, log_resources) @log_helpers.log_method_call def get_snat_log_info_for_router(self, context, router_id, **kwargs): resource_type = kwargs.get('resource_type', log_const.SNAT) LOG.debug(""Logging agent requests log info "" ""for router with resource type %s"", resource_type) rpc_method = get_rpc_method(resource_type, r_const.ROUTER) return rpc_method(context, router_id) @log_helpers.log_method_call def get_snat_log_info_for_log_resources(self, context, log_resources, **kwargs): resource_type = kwargs.get('resource_type', log_const.SNAT) LOG.debug(""Logging agent requests log info "" ""for log resources with resource type %s"", resource_type) rpc_method = get_rpc_method(resource_type, log_const.LOG_RESOURCE) return rpc_method(context, log_resources) ",,131,0
openstack%2Fneutron~614374,openstack/neutron,master,If444b03449136b20c15619af2acf83dfb8828ab9,[WIP] Stop converting between dashes and underscores,ABANDONED,2018-10-30 23:56:21.000000000,2022-12-02 17:27:41.000000000,,"[{'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-30 23:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ef3b7f291462a240751f9b4e54e2ca09985a5e7', 'message': '[WIP] Stop converting between dashes and underscores\n\nChange-Id: If444b03449136b20c15619af2acf83dfb8828ab9\n'}, {'number': 2, 'created': '2018-10-31 18:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/477f75f780b74aed126f0eeb130b6d621299ccaa', 'message': '[WIP] Stop converting between dashes and underscores\n\nChange-Id: If444b03449136b20c15619af2acf83dfb8828ab9\n'}, {'number': 3, 'created': '2018-10-31 23:03:08.000000000', 'files': ['neutron/tests/functional/pecan_wsgi/utils.py', 'neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7b257daafbcb7b24f90d7b5f235d252f4393418', 'message': '[WIP] Stop converting between dashes and underscores\n\nChange-Id: If444b03449136b20c15619af2acf83dfb8828ab9\n'}]",0,614374,f7b257daafbcb7b24f90d7b5f235d252f4393418,20,6,3,27654,,,0,"[WIP] Stop converting between dashes and underscores

Change-Id: If444b03449136b20c15619af2acf83dfb8828ab9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/614374/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,4ef3b7f291462a240751f9b4e54e2ca09985a5e7,, return cls.get_instance().resource_controller_mappings.get(resource)," resource = resource.replace('_', '-') res_ctrl_mappings = cls.get_instance().resource_controller_mappings # If no controller is found for resource, try replacing dashes with # underscores return res_ctrl_mappings.get( resource, res_ctrl_mappings.get(resource.replace('-', '_')))",1,7
openstack%2Fneutron~605434,openstack/neutron,master,Ie17e94bc2d27b4c5171b318e20a8e968b9cffebb,Consider all router ports for dvr arp updates.,ABANDONED,2018-09-26 14:19:31.000000000,2022-12-02 17:27:33.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 15752}, {'_account_id': 21657}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-09-26 14:19:31.000000000', 'files': ['neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a554fcdba2bc594071eecb1985e5b83e6ed79165', 'message': ""Consider all router ports for dvr arp updates.\n\nIf you have a subnet with 2 routers and you create and then delete\na VM it may happen that an old ARP entry may persist. If you create\nanother VM with the same IP and the arp update goes to the other\nrouter you have a VM which isn't reachable via one router since the\nARP entry is wrong.\nThis fixes this issue by simply iterating over all router ports\nand generating the respective messages for the l3 agents to\nhandle.\n\nChange-Id: Ie17e94bc2d27b4c5171b318e20a8e968b9cffebb\nCloses-Bug: #1794535\n""}]",11,605434,a554fcdba2bc594071eecb1985e5b83e6ed79165,14,8,1,21657,,,0,"Consider all router ports for dvr arp updates.

If you have a subnet with 2 routers and you create and then delete
a VM it may happen that an old ARP entry may persist. If you create
another VM with the same IP and the arp update goes to the other
router you have a VM which isn't reachable via one router since the
ARP entry is wrong.
This fixes this issue by simply iterating over all router ports
and generating the respective messages for the l3 agents to
handle.

Change-Id: Ie17e94bc2d27b4c5171b318e20a8e968b9cffebb
Closes-Bug: #1794535
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/605434/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvr_db.py'],1,a554fcdba2bc594071eecb1985e5b83e6ed79165,bug/1794535," for router_id in (port['device_id'] for port in ports): arp_table = {'ip_address': ip_address, 'mac_address': mac_address, 'subnet_id': subnet} notifier(context, router_id, arp_table)"," router_id = next((port['device_id'] for port in ports), None) if not router_id: return arp_table = {'ip_address': ip_address, 'mac_address': mac_address, 'subnet_id': subnet} notifier(context, router_id, arp_table)",5,7
openstack%2Fneutron~604501,openstack/neutron,master,I2969f2adfc648787ffa5446f1e3d4b286306ac1e,Add config option endpoint_type for designate,ABANDONED,2018-09-22 04:10:21.000000000,2022-12-02 17:27:29.000000000,,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 2874}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15752}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 22435}, {'_account_id': 26622}, {'_account_id': 27295}, {'_account_id': 27633}, {'_account_id': 27654}, {'_account_id': 29157}]","[{'number': 1, 'created': '2018-09-22 04:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92c3c0ff6c44f7a33d09d1a6cb2f1f6bf520714d', 'message': 'Add config option endpoint_type for designate\n\nDesignate client can only use publicURL as default endpoint type when\nneutron uses designate as an external dns driver, add this option to\nuse internalURL as the endpoint type.The option endpoint_type can be\nconfigured in neutron.conf as follows.\n[designate]:\n     endpoint_type=internalURL or endpoint_type=publicURL\n\nChange-Id: I2969f2adfc648787ffa5446f1e3d4b286306ac1e\nCloses-bug: #1756291\n'}, {'number': 2, 'created': '2018-09-23 01:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c251c1bc81f85b452379631be473fef6e2833307', 'message': 'Add config option endpoint_type for designate\n\nDesignate client can only use publicURL as default endpoint type when\nneutron uses designate as an external dns driver, add this option to\nuse internalURL as the endpoint type. The option endpoint_type can be\nconfigured in neutron.conf as follows.\n[designate]:\n     endpoint_type=internalURL or endpoint_type=publicURL\n\nCloses-bug: #1756291\nChange-Id: I2969f2adfc648787ffa5446f1e3d4b286306ac1e\n'}, {'number': 3, 'created': '2018-09-23 04:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cb544934f96b14b3f10d3dd66cd9446fb3cf33e', 'message': 'Add config option endpoint_type for designate\n\nDesignate client can only use publicURL as default endpoint type when\nneutron uses designate as an external dns driver, add this option to\nuse internalURL as the endpoint type. The option endpoint_type can be\nconfigured in neutron.conf as follows.\n[designate]:\n     endpoint_type=internalURL or endpoint_type=publicURL\n\nCloses-bug: #1756291\nChange-Id: I2969f2adfc648787ffa5446f1e3d4b286306ac1e\n'}, {'number': 4, 'created': '2018-09-23 04:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ed4fe8f6c50f624276d2d21e28970d8c25950d9', 'message': 'Add config option endpoint_type for designate\n\nDesignate client can only use publicURL as default endpoint type when\nneutron uses designate as an external dns driver, add this option to\nuse internalURL as the endpoint type. The option endpoint_type can be\nconfigured in neutron.conf as follows.\n[designate]:\n     endpoint_type=internalURL or endpoint_type=publicURL\n\nCloses-bug: #1756291\nChange-Id: I2969f2adfc648787ffa5446f1e3d4b286306ac1e\n'}, {'number': 5, 'created': '2018-09-24 23:11:13.000000000', 'files': ['releasenotes/notes/fix-endpoint-type-configuration-for-designate-9630e42df8a3b9ec.yaml', 'neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'neutron/conf/services/extdns_designate_driver.py', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/55b8852fd27109593978d86ecdadbc8cbeef7299', 'message': 'Add config option endpoint_type for designate\n\nDesignate client can only use publicURL as default endpoint type when neutron\nuses designate as an external dns driver, add this option to use adminURL or\ninternalURL as the endpoint type. The option endpoint_type can be configured\nin neutron.conf as follows.\n[designate]:\nendpoint_type=publicURL, adminURL or internalURL\n\nCloses-bug: #1756291\nChange-Id: I2969f2adfc648787ffa5446f1e3d4b286306ac1e\n'}]",7,604501,55b8852fd27109593978d86ecdadbc8cbeef7299,31,20,5,29157,,,0,"Add config option endpoint_type for designate

Designate client can only use publicURL as default endpoint type when neutron
uses designate as an external dns driver, add this option to use adminURL or
internalURL as the endpoint type. The option endpoint_type can be configured
in neutron.conf as follows.
[designate]:
endpoint_type=publicURL, adminURL or internalURL

Closes-bug: #1756291
Change-Id: I2969f2adfc648787ffa5446f1e3d4b286306ac1e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/604501/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'neutron/conf/services/extdns_designate_driver.py', 'neutron/services/externaldns/drivers/designate/driver.py']",3,92c3c0ff6c44f7a33d09d1a6cb2f1f6bf520714d,bug/1756291," client = d_client.Client( session=_SESSION, auth=auth, endpoint_type=CONF.designate.endpoint_type) admin_client = d_client.Client( session=_SESSION, auth=admin_auth, endpoint_type=CONF.designate.endpoint_type)"," client = d_client.Client(session=_SESSION, auth=auth) admin_client = d_client.Client(session=_SESSION, auth=admin_auth)",16,2
openstack%2Fneutron~596454,openstack/neutron,master,Ifb4c54141e8670d69d2c7195fd568ea81cddff4e,deprecated pci_passthrough_whitelist in nova.conf,ABANDONED,2018-08-24 20:02:23.000000000,2022-12-02 17:27:25.000000000,,"[{'_account_id': 12171}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-08-24 20:02:23.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00e07d61b0fe5598f923564e3c048defc4f69cc4', 'message': 'deprecated pci_passthrough_whitelist in nova.conf\n\nModifying deprecated pci_passthrough_whitelist option\nto passthrough_whitelist option in nova.conf.\n\nChange-Id: Ifb4c54141e8670d69d2c7195fd568ea81cddff4e\nCloses-Bug: #1788900\n'}]",1,596454,00e07d61b0fe5598f923564e3c048defc4f69cc4,12,7,1,26916,,,0,"deprecated pci_passthrough_whitelist in nova.conf

Modifying deprecated pci_passthrough_whitelist option
to passthrough_whitelist option in nova.conf.

Change-Id: Ifb4c54141e8670d69d2c7195fd568ea81cddff4e
Closes-Bug: #1788900
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/596454/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,00e07d61b0fe5598f923564e3c048defc4f69cc4,bug/1788900," passthrough_whitelist = { ""devname"": ""eth3"", ""physical_network"": ""physnet2""} Alternatively the ``passthrough_whitelist`` parameter also supports passthrough_whitelist = { ""address"": ""[[[[<domain>]:]<bus>]:][<slot>][.[<function>]]"", ""physical_network"": ""physnet2"" } passthrough_whitelist = { ""address"": ""*:0a:00.*"", ""physical_network"": ""physnet2"" } passthrough_whitelist = { ""vendor_id"": ""<id>"", ""product_id"": ""<id>"", ""physical_network"": ""physnet2"" } ``passthrough_whitelist`` entries per host are supported. ``[pci]/passthrough_whitelist`` parameter also supports a ``trusted``"," pci_passthrough_whitelist = { ""devname"": ""eth3"", ""physical_network"": ""physnet2""} Alternatively the ``pci_passthrough_whitelist`` parameter also supports pci_passthrough_whitelist = { ""address"": ""[[[[<domain>]:]<bus>]:][<slot>][.[<function>]]"", ""physical_network"": ""physnet2"" } pci_passthrough_whitelist = { ""address"": ""*:0a:00.*"", ""physical_network"": ""physnet2"" } pci_passthrough_whitelist = { ""vendor_id"": ""<id>"", ""product_id"": ""<id>"", ""physical_network"": ""physnet2"" } ``pci_passthrough_whitelist`` entries per host are supported. ``[pci]/pci_passthrough_whitelist`` parameter also supports a ``trusted``",7,7
openstack%2Fneutron~596660,openstack/neutron,master,Id7ad9515f186adcc04986774fce29c9ac0fb3d1d,Fix the incorrect figure,ABANDONED,2018-08-27 08:08:18.000000000,2022-12-02 17:27:20.000000000,,"[{'_account_id': 4694}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-08-27 08:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c56499f9ccc67c4b0ec214a1b801f31db65672b2', 'message': 'Fix the incorrect figure\n\nChange-Id: Id7ad9515f186adcc04986774fce29c9ac0fb3d1d\n'}, {'number': 2, 'created': '2018-09-06 03:54:54.000000000', 'files': ['doc/source/admin/figures/deploy-ovs-selfservice-overview.png', 'doc/source/admin/figures/deploy-ovs-selfservice-overview.graffle', 'doc/source/admin/figures/deploy-ovs-selfservice-overview.svg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef1feb9b1548c14b5ee66bdfbff269c1338b6175', 'message': 'Fix the incorrect figure\n\n- Provider Bridge should connect with interface 2\n- Make some lines more clear\n\nChange-Id: Id7ad9515f186adcc04986774fce29c9ac0fb3d1d\n'}]",1,596660,ef1feb9b1548c14b5ee66bdfbff269c1338b6175,12,6,2,16523,,,0,"Fix the incorrect figure

- Provider Bridge should connect with interface 2
- Make some lines more clear

Change-Id: Id7ad9515f186adcc04986774fce29c9ac0fb3d1d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/596660/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/figures/deploy-ovs-selfservice-overview.png', 'doc/source/admin/figures/deploy-ovs-selfservice-overview.graffle', 'doc/source/admin/figures/deploy-ovs-selfservice-overview.svg']",3,c56499f9ccc67c4b0ec214a1b801f31db65672b2,fix_figure,"<svg xmlns=""http://www.w3.org/2000/svg"" xmlns:xl=""http://www.w3.org/1999/xlink"" version=""1.1"" viewBox=""0 0 559 783"" width=""559pt"" height=""783pt"" xmlns:dc=""http://purl.org/dc/elements/1.1/""> <metadata> Produced by OmniGraffle 7.4.3 <dc:date>2018-08-27 07:27:09 +0000</dc:date> </metadata> <defs> <font-face font-family=""Open Sans"" font-size=""12"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.19531"" underline-thickness=""49.80469"" slope=""0"" x-height=""535.15625"" cap-height=""713.8672"" ascent=""1068.8477"" descent=""-292.96875"" font-weight=""500""> <font-face-src> <font-face-name name=""OpenSans""/> </font-face-src> </font-face> <font-face font-family=""Open Sans"" font-size=""16"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.19531"" underline-thickness=""49.80469"" slope=""0"" x-height=""535.15625"" cap-height=""713.8672"" ascent=""1068.8477"" descent=""-292.96875"" font-weight=""500""> <font-face-src> <font-face-name name=""OpenSans""/> </font-face-src> </font-face> <font-face font-family=""Open Sans"" font-size=""8"" panose-1=""2 11 7 6 3 8 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.19531"" underline-thickness=""49.80469"" slope=""0"" x-height=""540.03906"" cap-height=""713.8672"" ascent=""1068.8477"" descent=""-292.96875"" font-weight=""bold""> <font-face-src> <font-face-name name=""OpenSans-Semibold""/> </font-face-src> </font-face> <font-face font-family=""Open Sans"" font-size=""10"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.19531"" underline-thickness=""49.80469"" slope=""0"" x-height=""535.15625"" cap-height=""713.8672"" ascent=""1068.8477"" descent=""-292.96875"" font-weight=""500""> <font-face-src> <font-face-name name=""OpenSans""/> </font-face-src> </font-face> <filter id=""Shadow"" filterUnits=""userSpaceOnUse""> <feGaussianBlur in=""SourceAlpha"" result=""blur"" stdDeviation=""1.308""/> <feOffset in=""blur"" result=""offset"" dx=""0"" dy=""2""/> <feFlood flood-color=""black"" flood-opacity="".5"" result=""flood""/> <feComposite in=""flood"" in2=""offset"" operator=""in"" result=""color""/> <feMerge> <feMergeNode in=""color""/> <feMergeNode in=""SourceGraphic""/> </feMerge> </filter> <font-face font-family=""Open Sans"" font-size=""8"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.19531"" underline-thickness=""49.80469"" slope=""0"" x-height=""535.15625"" cap-height=""713.8672"" ascent=""1068.8477"" descent=""-292.96875"" font-weight=""500""> <font-face-src> <font-face-name name=""OpenSans""/> </font-face-src> </font-face> </defs> <g stroke=""none"" stroke-opacity=""1"" stroke-dasharray=""none"" fill=""none"" fill-opacity=""1""> <title>Canvas 1</title> <rect fill=""white"" width=""559"" height=""783""/> <g> <title>Layer 1</title> <path d=""M 36.346457 283.46457 L 190.4252 283.46457 C 194.84347 283.46457 198.4252 287.0463 198.4252 291.46457 L 198.4252 607.1181 C 198.4252 611.5364 194.84347 615.1181 190.4252 615.1181 L 36.346457 615.1181 C 31.92818 615.1181 28.346457 611.5364 28.346457 607.1181 L 28.346457 291.46457 C 28.346457 287.0463 31.92818 283.46457 36.346457 283.46457 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(33.346457 288.46457)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#657b83"" x=""37.83429"" y=""13"" textLength=""84.41016""> Network Node</tspan> </text> <line x1=""113.38583"" y1=""595.2756"" x2=""113.38583"" y2=""374.17323"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""113.38583"" y1=""595.2756"" x2=""113.38583"" y2=""449.29134"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 234.77165 56.69291 L 488.063 56.69291 C 492.48127 56.69291 496.063 60.274635 496.063 64.69291 L 496.063 323.65354 C 496.063 328.0718 492.48127 331.65354 488.063 331.65354 L 234.77165 331.65354 C 230.35337 331.65354 226.77165 328.0718 226.77165 323.65354 L 226.77165 64.69291 C 226.77165 60.274635 230.35337 56.69291 234.77165 56.69291 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(231.77165 61.69291)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#657b83"" x=""82.64176"" y=""13"" textLength=""94.00781""> Compute Nodes</tspan> </text> <text transform=""translate(127.69291 9.858267)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""16"" font-weight=""500"" fill=""#657b83"" x="".12890625"" y=""17"" textLength=""274.7422"">Open vSwitch - Self-service Networks</tspan> <tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#657b83"" x=""111.56934"" y=""35"" textLength=""42.76758"">Overvie</tspan> <tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#657b83"" x=""154.09668"" y=""35"" textLength=""9.333984"">w</tspan> </text> <line x1=""361.82614"" y1=""425.19685"" x2=""425.19685"" y2=""425.19685"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 397.95483 426.71934 C 386.0433 425.19685 390.7933 412.38 409.79486 414.56693 C 411.5578 410.3039 433.654 410.99584 433.50956 414.56693 C 447.36457 409.99946 465.07045 419.1069 453.1943 423.67436 C 467.4451 425.8888 453.01447 437.8198 441.3189 435.82677 C 440.3829 439.1487 419.4747 440.3112 417.63957 435.82677 C 405.80027 440.6159 381.11346 433.25234 397.95483 426.71934 Z"" fill=""#fdf6e3""/> <path d=""M 397.95483 426.71934 C 386.0433 425.19685 390.7933 412.38 409.79486 414.56693 C 411.5578 410.3039 433.654 410.99584 433.50956 414.56693 C 447.36457 409.99946 465.07045 419.1069 453.1943 423.67436 C 467.4451 425.8888 453.01447 437.8198 441.3189 435.82677 C 440.3829 439.1487 419.4747 440.3112 417.63957 435.82677 C 405.80027 440.6159 381.11346 433.25234 397.95483 426.71934 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(404.40157 419.69685)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""5.0179317"" y=""9"" textLength=""31.554688"">Internet</tspan> </text> <circle cx=""184.25197"" cy=""680.31496"" r=""8.503951"" fill=""#859901""/> <text transform=""translate(197.7559 673.9764)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""11"" textLength=""10.102539"">Pr</tspan> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""9.902344"" y=""11"" textLength=""6.040039"">o</tspan> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""15.742188"" y=""11"" textLength=""64.384766"">vider network</tspan> </text> <path d=""M 36.346457 56.69291 L 190.4252 56.69291 C 194.84347 56.69291 198.4252 60.274635 198.4252 64.69291 L 198.4252 252.7874 C 198.4252 257.20568 194.84347 260.7874 190.4252 260.7874 L 36.346457 260.7874 C 31.92818 260.7874 28.346457 257.20568 28.346457 252.7874 L 28.346457 64.69291 C 28.346457 60.274635 31.92818 56.69291 36.346457 56.69291 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(33.346457 61.69291)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#657b83"" x=""33.71808"" y=""13"" textLength=""34.435547""> Contr</tspan> <tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#657b83"" x=""67.91339"" y=""13"" textLength=""58.447266"">oller Node</tspan> </text> <path d=""M 70.86614 99.2126 C 70.86614 99.2126 92.83585 101.57882 104.88189 141.73228 C 116.92793 181.88575 113.38583 240.94488 113.38583 240.94488"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""70.86614"" y1=""141.73228"" x2=""113.38583"" y2=""240.94488"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""129.64497"" y1=""204.09081"" x2=""113.38583"" y2=""240.94488"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <g filter=""url(#Shadow)""> <path d=""M 50.519685 85.03937 L 91.2126 85.03937 C 95.63088 85.03937 99.2126 88.62109 99.2126 93.03937 L 99.2126 105.38583 C 99.2126 109.8041 95.63088 113.38583 91.2126 113.38583 L 50.519685 113.38583 C 46.101407 113.38583 42.519685 109.8041 42.519685 105.38583 L 42.519685 93.03937 C 42.519685 88.62109 46.101407 85.03937 50.519685 85.03937 Z"" fill=""#fdf6e3""/> <path d=""M 50.519685 85.03937 L 91.2126 85.03937 C 95.63088 85.03937 99.2126 88.62109 99.2126 93.03937 L 99.2126 105.38583 C 99.2126 109.8041 95.63088 113.38583 91.2126 113.38583 L 50.519685 113.38583 C 46.101407 113.38583 42.519685 109.8041 42.519685 105.38583 L 42.519685 93.03937 C 42.519685 88.62109 46.101407 85.03937 50.519685 85.03937 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(47.519685 88.2126)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""15.830832"" y=""9"" textLength=""15.03125"">SQL</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""5.133566"" y=""20"" textLength=""36.42578"">Database</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 50.519685 127.55905 L 91.2126 127.55905 C 95.63088 127.55905 99.2126 131.14078 99.2126 135.55905 L 99.2126 147.90551 C 99.2126 152.32379 95.63088 155.90551 91.2126 155.90551 L 50.519685 155.90551 C 46.101407 155.90551 42.519685 152.32379 42.519685 147.90551 L 42.519685 135.55905 C 42.519685 131.14078 46.101407 127.55905 50.519685 127.55905 Z"" fill=""#fdf6e3""/> <path d=""M 50.519685 127.55905 L 91.2126 127.55905 C 95.63088 127.55905 99.2126 131.14078 99.2126 135.55905 L 99.2126 147.90551 C 99.2126 152.32379 95.63088 155.90551 91.2126 155.90551 L 50.519685 155.90551 C 46.101407 155.90551 42.519685 152.32379 42.519685 147.90551 L 42.519685 135.55905 C 42.519685 131.14078 46.101407 127.55905 50.519685 127.55905 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(47.519685 130.73228)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""6.606222"" y=""9"" textLength=""33.48047"">Message</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""16.219503"" y=""20"" textLength=""14.253906"">Bus</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 129.88976 85.03937 L 181.92126 85.03937 C 186.33954 85.03937 189.92126 88.62109 189.92126 93.03937 L 189.92126 196.09449 C 189.92126 200.51276 186.33954 204.09449 181.92126 204.09449 L 129.88976 204.09449 C 125.47149 204.09449 121.88976 200.51276 121.88976 196.09449 L 121.88976 93.03937 C 121.88976 88.62109 125.47149 85.03937 129.88976 85.03937 Z"" fill=""#fdf6e3""/> <path d=""M 129.88976 85.03937 L 181.92126 85.03937 C 186.33954 85.03937 189.92126 88.62109 189.92126 93.03937 L 189.92126 196.09449 C 189.92126 200.51276 186.33954 204.09449 181.92126 204.09449 L 129.88976 204.09449 C 125.47149 204.09449 121.88976 200.51276 121.88976 196.09449 L 121.88976 93.03937 C 121.88976 88.62109 125.47149 85.03937 129.88976 85.03937 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(126.88976 90.03937)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""6.40442"" y=""9"" textLength=""45.222656"">Networking</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""3.375123"" y=""20"" textLength=""51.28125"">Management</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 135.55905 170.07874 L 176.25197 170.07874 C 180.67025 170.07874 184.25197 173.66046 184.25197 178.07874 L 184.25197 190.4252 C 184.25197 194.84347 180.67025 198.4252 176.25197 198.4252 L 135.55905 198.4252 C 131.14078 198.4252 127.55905 194.84347 127.55905 190.4252 L 127.55905 178.07874 C 127.55905 173.66046 131.14078 170.07874 135.55905 170.07874 Z"" fill=""#eee8d5""/> <path d=""M 135.55905 170.07874 L 176.25197 170.07874 C 180.67025 170.07874 184.25197 173.66046 184.25197 178.07874 L 184.25197 190.4252 C 184.25197 194.84347 180.67025 198.4252 176.25197 198.4252 L 135.55905 198.4252 C 131.14078 198.4252 127.55905 194.84347 127.55905 190.4252 L 127.55905 178.07874 C 127.55905 173.66046 131.14078 170.07874 135.55905 170.07874 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(132.55905 178.75197)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x="".8835659"" y=""9"" textLength=""44.92578"">ML2 Plug-in</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 135.55905 127.55905 L 176.25197 127.55905 C 180.67025 127.55905 184.25197 131.14078 184.25197 135.55905 L 184.25197 147.90551 C 184.25197 152.32379 180.67025 155.90551 176.25197 155.90551 L 135.55905 155.90551 C 131.14078 155.90551 127.55905 152.32379 127.55905 147.90551 L 127.55905 135.55905 C 127.55905 131.14078 131.14078 127.55905 135.55905 127.55905 Z"" fill=""#eee8d5""/> <path d=""M 135.55905 127.55905 L 176.25197 127.55905 C 180.67025 127.55905 184.25197 131.14078 184.25197 135.55905 L 184.25197 147.90551 C 184.25197 152.32379 180.67025 155.90551 176.25197 155.90551 L 135.55905 155.90551 C 131.14078 155.90551 127.55905 152.32379 127.55905 147.90551 L 127.55905 135.55905 C 127.55905 131.14078 131.14078 127.55905 135.55905 127.55905 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(132.55905 136.23228)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""17.020285"" y=""9"" textLength=""12.652344"">API</tspan> </text> </g> <circle cx=""42.519685"" cy=""651.9685"" r=""8.503951"" fill=""#dc322f""/> <text transform=""translate(56.40945 639.9606)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""11"" textLength=""102.9834"">Management network</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""23"" textLength=""41.34375"">10.0.0.0/24</tspan> </text> <path d=""M 113.38583 240.94488 C 113.38583 240.94488 166.30242 238.8225 198.4252 274.96063 C 230.54797 311.09875 194.64888 325.94126 226.77165 368.50393 C 239.2105 384.9854 254.76732 397.2036 269.1622 405.98884"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""354.3307"" y1=""311.81102"" x2=""321.12335"" y2=""400.36396"" stroke=""#bd5329"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <g filter=""url(#Shadow)""> <path d=""M 93.03937 226.77165 L 133.73228 226.77165 C 138.15056 226.77165 141.73228 230.35337 141.73228 234.77165 L 141.73228 247.1181 C 141.73228 251.5364 138.15056 255.1181 133.73228 255.1181 L 93.03937 255.1181 C 88.62109 255.1181 85.03937 251.5364 85.03937 247.1181 L 85.03937 234.77165 C 85.03937 230.35337 88.62109 226.77165 93.03937 226.77165 Z"" fill=""#dc322f""/> <path d=""M 93.03937 226.77165 L 133.73228 226.77165 C 138.15056 226.77165 141.73228 230.35337 141.73228 234.77165 L 141.73228 247.1181 C 141.73228 251.5364 138.15056 255.1181 133.73228 255.1181 L 93.03937 255.1181 C 88.62109 255.1181 85.03937 251.5364 85.03937 247.1181 L 85.03937 234.77165 C 85.03937 230.35337 88.62109 226.77165 93.03937 226.77165 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(90.03937 235.44488)"" fill=""#efe8d5""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#efe8d5"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 1</tspan> </text> </g> <line x1=""269.29134"" y1=""311.81102"" x2=""301.70043"" y2=""398.23526"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 269.29134 311.81102 C 269.29134 311.81102 245.157 338.1149 293.34115 282.70312 C 325.3997 245.8358 379.44144 184.32993 412.02274 147.29124"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <g filter=""url(#Shadow)""> <path d=""M 243.2756 170.07874 L 380.34645 170.07874 C 384.76473 170.07874 388.34645 173.66046 388.34645 178.07874 L 388.34645 266.96063 C 388.34645 271.3789 384.76473 274.96063 380.34645 274.96063 L 243.2756 274.96063 C 238.8573 274.96063 235.2756 271.3789 235.2756 266.96063 L 235.2756 178.07874 C 235.2756 173.66046 238.8573 170.07874 243.2756 170.07874 Z"" fill=""#fdf6e3""/> <path d=""M 243.2756 170.07874 L 380.34645 170.07874 C 384.76473 170.07874 388.34645 173.66046 388.34645 178.07874 L 388.34645 266.96063 C 388.34645 271.3789 384.76473 274.96063 380.34645 274.96063 L 243.2756 274.96063 C 238.8573 274.96063 235.2756 271.3789 235.2756 266.96063 L 235.2756 178.07874 C 235.2756 173.66046 238.8573 170.07874 243.2756 170.07874 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(240.2756 175.07874)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""32.873323"" y=""9"" textLength=""77.32422"">Open vSwitch Agent</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 248.94488 297.6378 L 289.6378 297.6378 C 294.05607 297.6378 297.6378 301.2195 297.6378 305.6378 L 297.6378 317.98425 C 297.6378 322.40253 294.05607 325.98425 289.6378 325.98425 L 248.94488 325.98425 C 244.5266 325.98425 240.94488 322.40253 240.94488 317.98425 L 240.94488 305.6378 C 240.94488 301.2195 244.5266 297.6378 248.94488 297.6378 Z"" fill=""#dc322f""/> <path d=""M 248.94488 297.6378 L 289.6378 297.6378 C 294.05607 297.6378 297.6378 301.2195 297.6378 305.6378 L 297.6378 317.98425 C 297.6378 322.40253 294.05607 325.98425 289.6378 325.98425 L 248.94488 325.98425 C 244.5266 325.98425 240.94488 322.40253 240.94488 317.98425 L 240.94488 305.6378 C 240.94488 301.2195 244.5266 297.6378 248.94488 297.6378 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(245.94488 306.31102)"" fill=""#efe8d5""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#efe8d5"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 1</tspan> </text> </g> <line x1=""269.29134"" y1=""99.2126"" x2=""269.29134"" y2=""141.73228"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 439.3701 127.55905 C 439.3701 127.55905 416.9271 132.94633 396.8504 147.40157 C 376.77366 161.85682 404.64205 160.11208 368.50393 178.58268 C 332.3658 197.05327 269.29134 212.59842 269.29134 212.59842"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""269.29134"" y1=""198.4252"" x2=""269.29134"" y2=""141.73228"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <circle cx=""184.25197"" cy=""651.9685"" r=""8.503951"" fill=""#cb4b16""/> <text transform=""translate(197.7559 639.9606)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""11"" textLength=""10.102539"">Pr</tspan> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""9.902344"" y=""11"" textLength=""6.040039"">o</tspan> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""15.742188"" y=""11"" textLength=""64.384766"">vider network</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""23"" textLength=""17.09375"">Aggr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#657b83"" x=""16.933594"" y=""23"" textLength=""20.632812"">egate</tspan> </text> <g filter=""url(#Shadow)""> <path d=""M 248.94488 85.03937 L 289.6378 85.03937 C 294.05607 85.03937 297.6378 88.62109 297.6378 93.03937 L 297.6378 105.38583 C 297.6378 109.8041 294.05607 113.38583 289.6378 113.38583 L 248.94488 113.38583 C 244.5266 113.38583 240.94488 109.8041 240.94488 105.38583 L 240.94488 93.03937 C 240.94488 88.62109 244.5266 85.03937 248.94488 85.03937 Z"" fill=""#fdf6e3""/> <path d=""M 248.94488 85.03937 L 289.6378 85.03937 C 294.05607 85.03937 297.6378 88.62109 297.6378 93.03937 L 297.6378 105.38583 C 297.6378 109.8041 294.05607 113.38583 289.6378 113.38583 L 248.94488 113.38583 C 244.5266 113.38583 240.94488 109.8041 240.94488 105.38583 L 240.94488 93.03937 C 240.94488 88.62109 244.5266 85.03937 248.94488 85.03937 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(245.94488 93.7126)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""6.922628"" y=""9"" textLength=""32.847656"">Instance</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 333.98425 297.6378 L 374.67716 297.6378 C 379.09544 297.6378 382.67716 301.2195 382.67716 305.6378 L 382.67716 317.98425 C 382.67716 322.40253 379.09544 325.98425 374.67716 325.98425 L 333.98425 325.98425 C 329.56597 325.98425 325.98425 322.40253 325.98425 317.98425 L 325.98425 305.6378 C 325.98425 301.2195 329.56597 297.6378 333.98425 297.6378 Z"" fill=""#cb4b16""/> <path d=""M 333.98425 297.6378 L 374.67716 297.6378 C 379.09544 297.6378 382.67716 301.2195 382.67716 305.6378 L 382.67716 317.98425 C 382.67716 322.40253 379.09544 325.98425 374.67716 325.98425 L 333.98425 325.98425 C 329.56597 325.98425 325.98425 322.40253 325.98425 317.98425 L 325.98425 305.6378 C 325.98425 301.2195 329.56597 297.6378 333.98425 297.6378 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(330.98425 306.31102)"" fill=""#fdf6e3""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fdf6e3"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 2</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 248.94488 127.55905 L 289.6378 127.55905 C 294.05607 127.55905 297.6378 131.14078 297.6378 135.55905 L 297.6378 147.90551 C 297.6378 152.32379 294.05607 155.90551 289.6378 155.90551 L 248.94488 155.90551 C 244.5266 155.90551 240.94488 152.32379 240.94488 147.90551 L 240.94488 135.55905 C 240.94488 131.14078 244.5266 127.55905 248.94488 127.55905 Z"" fill=""#fdf6e3""/> <path d=""M 248.94488 127.55905 L 289.6378 127.55905 C 294.05607 127.55905 297.6378 131.14078 297.6378 135.55905 L 297.6378 147.90551 C 297.6378 152.32379 294.05607 155.90551 289.6378 155.90551 L 248.94488 155.90551 C 244.5266 155.90551 240.94488 152.32379 240.94488 147.90551 L 240.94488 135.55905 C 240.94488 131.14078 244.5266 127.55905 248.94488 127.55905 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(245.94488 136.23228)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""8.414817"" y=""9"" textLength=""9.9375"">Fir</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""18.19216"" y=""9"" textLength=""4.609375"">e</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""22.64138"" y=""9"" textLength=""15.636719"">wall</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 291.46457 238.11023 L 332.15748 238.11023 C 336.57576 238.11023 340.15748 241.69196 340.15748 246.11023 L 340.15748 258.4567 C 340.15748 262.87497 336.57576 266.4567 332.15748 266.4567 L 291.46457 266.4567 C 287.0463 266.4567 283.46457 262.87497 283.46457 258.4567 L 283.46457 246.11023 C 283.46457 241.69196 287.0463 238.11023 291.46457 238.11023 Z"" fill=""#eee8d5""/> <path d=""M 291.46457 238.11023 L 332.15748 238.11023 C 336.57576 238.11023 340.15748 241.69196 340.15748 246.11023 L 340.15748 258.4567 C 340.15748 262.87497 336.57576 266.4567 332.15748 266.4567 L 291.46457 266.4567 C 287.0463 266.4567 283.46457 262.87497 283.46457 258.4567 L 283.46457 246.11023 C 283.46457 241.69196 287.0463 238.11023 291.46457 238.11023 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(288.46457 241.28346)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""7.100363"" y=""9"" textLength=""8.371094"">Pr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""15.3113"" y=""9"" textLength=""4.886719"">o</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""20.037863"" y=""9"" textLength=""19.554688"">vider</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.844503"" y=""20"" textLength=""25.003906"">Bridge</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 44.850393 396.8504 L 181.92126 396.8504 C 186.33954 396.8504 189.92126 400.4321 189.92126 404.8504 L 189.92126 493.7323 C 189.92126 498.15056 186.33954 501.7323 181.92126 501.7323 L 44.850393 501.7323 C 40.432115 501.7323 36.850393 498.15056 36.850393 493.7323 L 36.850393 404.8504 C 36.850393 400.4321 40.432115 396.8504 44.850393 396.8504 Z"" fill=""#fdf6e3""/> <path d=""M 44.850393 396.8504 L 181.92126 396.8504 C 186.33954 396.8504 189.92126 400.4321 189.92126 404.8504 L 189.92126 493.7323 C 189.92126 498.15056 186.33954 501.7323 181.92126 501.7323 L 44.850393 501.7323 C 40.432115 501.7323 36.850393 498.15056 36.850393 493.7323 L 36.850393 404.8504 C 36.850393 400.4321 40.432115 396.8504 44.850393 396.8504 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(41.850393 401.8504)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""32.873323"" y=""9"" textLength=""77.32422"">Open vSwitch Agent</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 87.37008 311.81102 L 139.40158 311.81102 C 143.81985 311.81102 147.40158 315.39274 147.40158 319.81102 L 147.40158 366.17323 C 147.40158 370.5915 143.81985 374.17323 139.40158 374.17323 L 87.37008 374.17323 C 82.9518 374.17323 79.37008 370.5915 79.37008 366.17323 L 79.37008 319.81102 C 79.37008 315.39274 82.9518 311.81102 87.37008 311.81102 Z"" fill=""#fdf6e3""/> <path d=""M 87.37008 311.81102 L 139.40158 311.81102 C 143.81985 311.81102 147.40158 315.39274 147.40158 319.81102 L 147.40158 366.17323 C 147.40158 370.5915 143.81985 374.17323 139.40158 374.17323 L 87.37008 374.17323 C 82.9518 374.17323 79.37008 370.5915 79.37008 366.17323 L 79.37008 319.81102 C 79.37008 315.39274 82.9518 311.81102 87.37008 311.81102 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(84.37008 316.81102)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""2.4591086"" y=""9"" textLength=""53.11328"">Layer-3 Agent</tspan> </text> </g> <line x1=""269.29134"" y1=""212.59842"" x2=""354.3307"" y2=""212.59842"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""354.3307"" y1=""212.59842"" x2=""439.3701"" y2=""311.81102"" stroke=""#b58900"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""439.3701"" y1=""311.81102"" x2=""338.50458"" y2=""401.46924"" stroke=""#b58900"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 155.90551 552.7559 C 155.90551 552.7559 182.60284 546.37434 226.77165 510.2362 C 251.0681 490.3573 274.36652 466.6164 290.41306 449.2775"" stroke=""#b58900"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 113.38583 595.2756 C 113.38583 595.2756 142.21034 615.1133 198.4252 566.9291 C 237.33676 533.57636 276.70644 478.48825 297.25624 447.7353"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 70.86614 552.7559 C 70.86614 552.7559 130.1643 537.8704 198.4252 501.7323 C 233.03025 483.41196 261.68933 463.997 281.53756 449.30565"" stroke=""#bd5329"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""155.90551"" y1=""552.7559"" x2=""155.90551"" y2=""439.3701"" stroke=""#b58900"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""155.90551"" y1=""439.3701"" x2=""127.55905"" y2=""481.88976"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 127.55905 481.88976 C 127.55905 481.88976 113.85907 446.07665 121.88976 425.19685 C 129.92046 404.31705 154.29937 428.2657 155.90551 408.18897 C 157.51165 388.11224 127.55905 354.3307 127.55905 354.3307"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <path d=""M 99.2126 354.3307 C 99.2126 354.3307 69.26 388.11224 70.86614 408.18897 C 72.47228 428.2657 96.8512 404.31705 104.88189 425.19685 C 112.91258 446.07665 99.2126 481.88976 99.2126 481.88976"" stroke=""#859901"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""70.86614"" y1=""439.3701"" x2=""99.2126"" y2=""481.88976"" stroke=""#859901"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""70.86614"" y1=""439.3701"" x2=""70.86614"" y2=""552.7559"" stroke=""#cb4b16"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <circle cx=""42.519685"" cy=""680.31496"" r=""8.503951"" fill=""#b58900""/> <text transform=""translate(54.06299 668.3071)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""11"" textLength=""76.64551"">Overlay network</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""23"" textLength=""41.34375"">10.0.1.0/24</tspan> </text> <circle cx=""325.98425"" cy=""651.9685"" r=""8.503951"" fill=""#268bd2""/> <text transform=""translate(339.4882 644.3071)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#657b83"" x=""0"" y=""11"" textLength=""93.63281"">Self-service network</tspan> </text> <g filter=""url(#Shadow)""> <path d=""M 93.03937 581.10236 L 133.73228 581.10236 C 138.15056 581.10236 141.73228 584.6841 141.73228 589.10236 L 141.73228 601.4488 C 141.73228 605.8671 138.15056 609.4488 133.73228 609.4488 L 93.03937 609.4488 C 88.62109 609.4488 85.03937 605.8671 85.03937 601.4488 L 85.03937 589.10236 C 85.03937 584.6841 88.62109 581.10236 93.03937 581.10236 Z"" fill=""#dc322f""/> <path d=""M 93.03937 581.10236 L 133.73228 581.10236 C 138.15056 581.10236 141.73228 584.6841 141.73228 589.10236 L 141.73228 601.4488 C 141.73228 605.8671 138.15056 609.4488 133.73228 609.4488 L 93.03937 609.4488 C 88.62109 609.4488 85.03937 605.8671 85.03937 601.4488 L 85.03937 589.10236 C 85.03937 584.6841 88.62109 581.10236 93.03937 581.10236 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(90.03937 589.7756)"" fill=""#efe8d5""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#efe8d5"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 1</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 50.519685 538.5827 L 91.2126 538.5827 C 95.63088 538.5827 99.2126 542.1644 99.2126 546.5827 L 99.2126 558.9291 C 99.2126 563.3474 95.63088 566.9291 91.2126 566.9291 L 50.519685 566.9291 C 46.101407 566.9291 42.519685 563.3474 42.519685 558.9291 L 42.519685 546.5827 C 42.519685 542.1644 46.101407 538.5827 50.519685 538.5827 Z"" fill=""#cb4b16""/> <path d=""M 50.519685 538.5827 L 91.2126 538.5827 C 95.63088 538.5827 99.2126 542.1644 99.2126 546.5827 L 99.2126 558.9291 C 99.2126 563.3474 95.63088 566.9291 91.2126 566.9291 L 50.519685 566.9291 C 46.101407 566.9291 42.519685 563.3474 42.519685 558.9291 L 42.519685 546.5827 C 42.519685 542.1644 46.101407 538.5827 50.519685 538.5827 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(47.519685 547.2559)"" fill=""#fdf6e3""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fdf6e3"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 2</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 93.03937 467.71653 L 133.73228 467.71653 C 138.15056 467.71653 141.73228 471.29825 141.73228 475.71653 L 141.73228 488.063 C 141.73228 492.48127 138.15056 496.063 133.73228 496.063 L 93.03937 496.063 C 88.62109 496.063 85.03937 492.48127 85.03937 488.063 L 85.03937 475.71653 C 85.03937 471.29825 88.62109 467.71653 93.03937 467.71653 Z"" fill=""#eee8d5""/> <path d=""M 93.03937 467.71653 L 133.73228 467.71653 C 138.15056 467.71653 141.73228 471.29825 141.73228 475.71653 L 141.73228 488.063 C 141.73228 492.48127 138.15056 496.063 133.73228 496.063 L 93.03937 496.063 C 88.62109 496.063 85.03937 492.48127 85.03937 488.063 L 85.03937 475.71653 C 85.03937 471.29825 88.62109 467.71653 93.03937 467.71653 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(90.03937 470.88976)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""1.8503628"" y=""9"" textLength=""23.171875"">Integr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""24.862082"" y=""9"" textLength=""19.980469"">ation</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.844503"" y=""20"" textLength=""25.003906"">Bridge</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 50.519685 425.19685 L 91.2126 425.19685 C 95.63088 425.19685 99.2126 428.77857 99.2126 433.19685 L 99.2126 445.5433 C 99.2126 449.9616 95.63088 453.5433 91.2126 453.5433 L 50.519685 453.5433 C 46.101407 453.5433 42.519685 449.9616 42.519685 445.5433 L 42.519685 433.19685 C 42.519685 428.77857 46.101407 425.19685 50.519685 425.19685 Z"" fill=""#eee8d5""/> <path d=""M 50.519685 425.19685 L 91.2126 425.19685 C 95.63088 425.19685 99.2126 428.77857 99.2126 433.19685 L 99.2126 445.5433 C 99.2126 449.9616 95.63088 453.5433 91.2126 453.5433 L 50.519685 453.5433 C 46.101407 453.5433 42.519685 449.9616 42.519685 445.5433 L 42.519685 433.19685 C 42.519685 428.77857 46.101407 425.19685 50.519685 425.19685 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(47.519685 428.3701)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""7.100363"" y=""9"" textLength=""8.371094"">Pr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""15.3113"" y=""9"" textLength=""4.886719"">o</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""20.037863"" y=""9"" textLength=""19.554688"">vider</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.844503"" y=""20"" textLength=""25.003906"">Bridge</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 93.03937 340.15748 L 133.73228 340.15748 C 138.15056 340.15748 141.73228 343.7392 141.73228 348.15748 L 141.73228 360.50393 C 141.73228 364.9222 138.15056 368.50393 133.73228 368.50393 L 93.03937 368.50393 C 88.62109 368.50393 85.03937 364.9222 85.03937 360.50393 L 85.03937 348.15748 C 85.03937 343.7392 88.62109 340.15748 93.03937 340.15748 Z"" fill=""#eee8d5""/> <path d=""M 93.03937 340.15748 L 133.73228 340.15748 C 138.15056 340.15748 141.73228 343.7392 141.73228 348.15748 L 141.73228 360.50393 C 141.73228 364.9222 138.15056 368.50393 133.73228 368.50393 L 93.03937 368.50393 C 88.62109 368.50393 85.03937 364.9222 85.03937 360.50393 L 85.03937 348.15748 C 85.03937 343.7392 88.62109 340.15748 93.03937 340.15748 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(90.03937 343.3307)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.205832"" y=""9"" textLength=""26.28125"">Router</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x="".7195034"" y=""20"" textLength=""45.253906"">Namespace</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 135.55905 538.5827 L 176.25197 538.5827 C 180.67025 538.5827 184.25197 542.1644 184.25197 546.5827 L 184.25197 558.9291 C 184.25197 563.3474 180.67025 566.9291 176.25197 566.9291 L 135.55905 566.9291 C 131.14078 566.9291 127.55905 563.3474 127.55905 558.9291 L 127.55905 546.5827 C 127.55905 542.1644 131.14078 538.5827 135.55905 538.5827 Z"" fill=""#b58900""/> <path d=""M 135.55905 538.5827 L 176.25197 538.5827 C 180.67025 538.5827 184.25197 542.1644 184.25197 546.5827 L 184.25197 558.9291 C 184.25197 563.3474 180.67025 566.9291 176.25197 566.9291 L 135.55905 566.9291 C 131.14078 566.9291 127.55905 563.3474 127.55905 558.9291 L 127.55905 546.5827 C 127.55905 542.1644 131.14078 538.5827 135.55905 538.5827 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(132.55905 547.2559)"" fill=""#fdf6e3""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fdf6e3"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 3</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 135.55905 425.19685 L 176.25197 425.19685 C 180.67025 425.19685 184.25197 428.77857 184.25197 433.19685 L 184.25197 445.5433 C 184.25197 449.9616 180.67025 453.5433 176.25197 453.5433 L 135.55905 453.5433 C 131.14078 453.5433 127.55905 449.9616 127.55905 445.5433 L 127.55905 433.19685 C 127.55905 428.77857 131.14078 425.19685 135.55905 425.19685 Z"" fill=""#eee8d5""/> <path d=""M 135.55905 425.19685 L 176.25197 425.19685 C 180.67025 425.19685 184.25197 428.77857 184.25197 433.19685 L 184.25197 445.5433 C 184.25197 449.9616 180.67025 453.5433 176.25197 453.5433 L 135.55905 453.5433 C 131.14078 453.5433 127.55905 449.9616 127.55905 445.5433 L 127.55905 433.19685 C 127.55905 428.77857 131.14078 425.19685 135.55905 425.19685 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(132.55905 428.3701)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.244894"" y=""9"" textLength=""4.527344"">T</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""14.3738"" y=""9"" textLength=""22.07422"">unnel</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.844503"" y=""20"" textLength=""25.003906"">Bridge</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 248.94488 198.4252 L 289.6378 198.4252 C 294.05607 198.4252 297.6378 202.00692 297.6378 206.4252 L 297.6378 218.77165 C 297.6378 223.18993 294.05607 226.77165 289.6378 226.77165 L 248.94488 226.77165 C 244.5266 226.77165 240.94488 223.18993 240.94488 218.77165 L 240.94488 206.4252 C 240.94488 202.00692 244.5266 198.4252 248.94488 198.4252 Z"" fill=""#eee8d5""/> <path d=""M 248.94488 198.4252 L 289.6378 198.4252 C 294.05607 198.4252 297.6378 202.00692 297.6378 206.4252 L 297.6378 218.77165 C 297.6378 223.18993 294.05607 226.77165 289.6378 226.77165 L 248.94488 226.77165 C 244.5266 226.77165 240.94488 223.18993 240.94488 218.77165 L 240.94488 206.4252 C 240.94488 202.00692 244.5266 198.4252 248.94488 198.4252 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(245.94488 201.59842)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""1.8503628"" y=""9"" textLength=""23.171875"">Integr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""24.862082"" y=""9"" textLength=""19.980469"">ation</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.844503"" y=""20"" textLength=""25.003906"">Bridge</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 333.98425 198.4252 L 374.67716 198.4252 C 379.09544 198.4252 382.67716 202.00692 382.67716 206.4252 L 382.67716 218.77165 C 382.67716 223.18993 379.09544 226.77165 374.67716 226.77165 L 333.98425 226.77165 C 329.56597 226.77165 325.98425 223.18993 325.98425 218.77165 L 325.98425 206.4252 C 325.98425 202.00692 329.56597 198.4252 333.98425 198.4252 Z"" fill=""#eee8d5""/> <path d=""M 333.98425 198.4252 L 374.67716 198.4252 C 379.09544 198.4252 382.67716 202.00692 382.67716 206.4252 L 382.67716 218.77165 C 382.67716 223.18993 379.09544 226.77165 374.67716 226.77165 L 333.98425 226.77165 C 329.56597 226.77165 325.98425 223.18993 325.98425 218.77165 L 325.98425 206.4252 C 325.98425 202.00692 329.56597 198.4252 333.98425 198.4252 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(330.98425 201.59842)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.244894"" y=""9"" textLength=""4.527344"">T</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""14.3738"" y=""9"" textLength=""22.07422"">unnel</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.844503"" y=""20"" textLength=""25.003906"">Bridge</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 419.0236 297.6378 L 459.71653 297.6378 C 464.1348 297.6378 467.71653 301.2195 467.71653 305.6378 L 467.71653 317.98425 C 467.71653 322.40253 464.1348 325.98425 459.71653 325.98425 L 419.0236 325.98425 C 414.60534 325.98425 411.0236 322.40253 411.0236 317.98425 L 411.0236 305.6378 C 411.0236 301.2195 414.60534 297.6378 419.0236 297.6378 Z"" fill=""#b58900""/> <path d=""M 419.0236 297.6378 L 459.71653 297.6378 C 464.1348 297.6378 467.71653 301.2195 467.71653 305.6378 L 467.71653 317.98425 C 467.71653 322.40253 464.1348 325.98425 459.71653 325.98425 L 419.0236 325.98425 C 414.60534 325.98425 411.0236 322.40253 411.0236 317.98425 L 411.0236 305.6378 C 411.0236 301.2195 414.60534 297.6378 419.0236 297.6378 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(416.0236 306.31102)"" fill=""#fdf6e3""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fdf6e3"" x=""2.606222"" y=""9"" textLength=""41.48047"">Interface 3</tspan> </text> </g> <path d=""M 269.90022 428.2418 C 251.5748 425.19685 258.88252 399.56315 288.11565 403.937 C 290.82784 395.41096 324.82205 396.79483 324.5998 403.937 C 345.9152 394.80208 373.155 413.01694 354.88403 422.15187 C 376.8083 426.5807 354.60737 450.44277 336.61417 446.4567 C 335.17417 453.10053 303.00775 455.4255 300.18444 446.4567 C 281.97014 456.03496 243.99042 441.30784 269.90022 428.2418 Z"" fill=""#fdf6e3""/> <path d=""M 269.90022 428.2418 C 251.5748 425.19685 258.88252 399.56315 288.11565 403.937 C 290.82784 395.41096 324.82205 396.79483 324.5998 403.937 C 345.9152 394.80208 373.155 413.01694 354.88403 422.15187 C 376.8083 426.5807 354.60737 450.44277 336.61417 446.4567 C 335.17417 453.10053 303.00775 455.4255 300.18444 446.4567 C 281.97014 456.03496 243.99042 441.30784 269.90022 428.2418 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(277.12598 414.19685)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x="".2514454"" y=""9"" textLength=""70.94531""> Physical Network </tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""7.685039"" y=""20"" textLength=""13.871094"">Infr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""21.395977"" y=""20"" textLength=""35.839844"">astructur</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""57.075664"" y=""20"" textLength=""4.609375"">e</tspan> </text> <g filter=""url(#Shadow)""> <path d=""M 413.35433 85.03937 L 465.3858 85.03937 C 469.8041 85.03937 473.3858 88.62109 473.3858 93.03937 L 473.3858 139.40157 C 473.3858 143.81985 469.8041 147.40157 465.3858 147.40157 L 413.35433 147.40157 C 408.93605 147.40157 405.35433 143.81985 405.35433 139.40157 L 405.35433 93.03937 C 405.35433 88.62109 408.93605 85.03937 413.35433 85.03937 Z"" fill=""#fdf6e3""/> <path d=""M 413.35433 85.03937 L 465.3858 85.03937 C 469.8041 85.03937 473.3858 88.62109 473.3858 93.03937 L 473.3858 139.40157 C 473.3858 143.81985 469.8041 147.40157 465.3858 147.40157 L 413.35433 147.40157 C 408.93605 147.40157 405.35433 143.81985 405.35433 139.40157 L 405.35433 93.03937 C 405.35433 88.62109 408.93605 85.03937 413.35433 85.03937 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(410.35433 90.03937)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""5.7559836"" y=""9"" textLength=""46.51953"">DHCP Agent</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 413.35433 170.07874 L 465.3858 170.07874 C 469.8041 170.07874 473.3858 173.66046 473.3858 178.07874 L 473.3858 230.11023 C 473.3858 234.5285 469.8041 238.11023 465.3858 238.11023 L 413.35433 238.11023 C 408.93605 238.11023 405.35433 234.5285 405.35433 230.11023 L 405.35433 178.07874 C 405.35433 173.66046 408.93605 170.07874 413.35433 170.07874 Z"" fill=""#fdf6e3""/> <path d=""M 413.35433 170.07874 L 465.3858 170.07874 C 469.8041 170.07874 473.3858 173.66046 473.3858 178.07874 L 473.3858 230.11023 C 473.3858 234.5285 469.8041 238.11023 465.3858 238.11023 L 413.35433 238.11023 C 408.93605 238.11023 405.35433 234.5285 405.35433 230.11023 L 405.35433 178.07874 C 405.35433 173.66046 408.93605 170.07874 413.35433 170.07874 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(410.35433 175.07874)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""10.421999"" y=""9"" textLength=""39.265625"">Metadata </tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""17.730593"" y=""20"" textLength=""22.570312"">Agent</tspan> </text> </g> <path d=""M 439.3701 218.26772 C 439.3701 218.26772 481.88976 195.77696 481.88976 170.07874 C 481.88976 144.38052 439.3701 127.55905 439.3701 127.55905"" stroke=""#268bd2"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <g filter=""url(#Shadow)""> <path d=""M 419.0236 113.38583 L 459.71653 113.38583 C 464.1348 113.38583 467.71653 116.96755 467.71653 121.38583 L 467.71653 133.73228 C 467.71653 138.15056 464.1348 141.73228 459.71653 141.73228 L 419.0236 141.73228 C 414.60534 141.73228 411.0236 138.15056 411.0236 133.73228 L 411.0236 121.38583 C 411.0236 116.96755 414.60534 113.38583 419.0236 113.38583 Z"" fill=""#eee8d5""/> <path d=""M 419.0236 113.38583 L 459.71653 113.38583 C 464.1348 113.38583 467.71653 116.96755 467.71653 121.38583 L 467.71653 133.73228 C 467.71653 138.15056 464.1348 141.73228 459.71653 141.73228 L 419.0236 141.73228 C 414.60534 141.73228 411.0236 138.15056 411.0236 133.73228 L 411.0236 121.38583 C 411.0236 116.96755 414.60534 113.38583 419.0236 113.38583 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(416.0236 116.55905)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""12.41091"" y=""9"" textLength=""23.94922"">DHCP </tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x="".7195034"" y=""20"" textLength=""45.253906"">Namespace</tspan> </text> </g> <g filter=""url(#Shadow)""> <path d=""M 419.0236 204.09449 L 459.71653 204.09449 C 464.1348 204.09449 467.71653 207.6762 467.71653 212.09449 L 467.71653 224.44094 C 467.71653 228.85922 464.1348 232.44094 459.71653 232.44094 L 419.0236 232.44094 C 414.60534 232.44094 411.0236 228.85922 411.0236 224.44094 L 411.0236 212.09449 C 411.0236 207.6762 414.60534 204.09449 419.0236 204.09449 Z"" fill=""#eee8d5""/> <path d=""M 419.0236 204.09449 L 459.71653 204.09449 C 464.1348 204.09449 467.71653 207.6762 467.71653 212.09449 L 467.71653 224.44094 C 467.71653 228.85922 464.1348 232.44094 459.71653 232.44094 L 419.0236 232.44094 C 414.60534 232.44094 411.0236 228.85922 411.0236 224.44094 L 411.0236 212.09449 C 411.0236 207.6762 414.60534 204.09449 419.0236 204.09449 Z"" stroke=""#657b83"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/> <text transform=""translate(416.0236 207.26772)"" fill=""#657b83""> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""4.7527065"" y=""9"" textLength=""37.1875"">Metadata</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""8.617941"" y=""20"" textLength=""8.371094"">Pr</tspan> <tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#657b83"" x=""16.828878"" y=""20"" textLength=""21.246094"">ocess</tspan> </text> </g> <line x1=""344.20697"" y1=""297.6378"" x2=""321.93476"" y2=""266.4567"" stroke=""#bd5329"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> <line x1=""269.29134"" y1=""311.81102"" x2=""405.35433"" y2=""225.6378"" stroke=""#dc322f"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/> </g> </g> </svg>","<svg xmlns=""http://www.w3.org/2000/svg"" xmlns:xl=""http://www.w3.org/1999/xlink"" version=""1.1"" viewBox=""17 -5 491 713"" width=""491pt"" height=""713pt"" xmlns:dc=""http://purl.org/dc/elements/1.1/""><metadata> Produced by OmniGraffle 6.6.1 <dc:date>2016-10-06 18:08:15 +0000</dc:date></metadata><defs><font-face font-family=""Open Sans"" font-size=""12"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.195312"" underline-thickness=""49.804688"" slope=""0"" x-height=""544.92188"" cap-height=""724.1211"" ascent=""1068.84766"" descent=""-292.96875"" font-weight=""500""><font-face-src><font-face-name name=""OpenSans""/></font-face-src></font-face><font-face font-family=""Open Sans"" font-size=""16"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.195312"" underline-thickness=""49.804688"" slope=""0"" x-height=""544.92188"" cap-height=""724.1211"" ascent=""1068.84766"" descent=""-292.96875"" font-weight=""500""><font-face-src><font-face-name name=""OpenSans""/></font-face-src></font-face><font-face font-family=""Open Sans"" font-size=""8"" panose-1=""2 11 7 6 3 8 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.195312"" underline-thickness=""49.804688"" slope=""0"" x-height=""549.8047"" cap-height=""724.1211"" ascent=""1068.84766"" descent=""-292.96875"" font-weight=""bold""><font-face-src><font-face-name name=""OpenSans-Semibold""/></font-face-src></font-face><font-face font-family=""Open Sans"" font-size=""10"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.195312"" underline-thickness=""49.804688"" slope=""0"" x-height=""544.92188"" cap-height=""724.1211"" ascent=""1068.84766"" descent=""-292.96875"" font-weight=""500""><font-face-src><font-face-name name=""OpenSans""/></font-face-src></font-face><filter id=""Shadow"" filterUnits=""userSpaceOnUse""><feGaussianBlur in=""SourceAlpha"" result=""blur"" stdDeviation=""1.308""/><feOffset in=""blur"" result=""offset"" dx=""0"" dy=""2""/><feFlood flood-color=""black"" flood-opacity="".5"" result=""flood""/><feComposite in=""flood"" in2=""offset"" operator=""in"" result=""color""/><feMerge><feMergeNode in=""color""/><feMergeNode in=""SourceGraphic""/></feMerge></filter><font-face font-family=""Open Sans"" font-size=""8"" panose-1=""2 11 6 6 3 5 4 2 2 4"" units-per-em=""1000"" underline-position=""-75.195312"" underline-thickness=""49.804688"" slope=""0"" x-height=""544.92188"" cap-height=""724.1211"" ascent=""1068.84766"" descent=""-292.96875"" font-weight=""500""><font-face-src><font-face-name name=""OpenSans""/></font-face-src></font-face></defs><g stroke=""none"" stroke-opacity=""1"" stroke-dasharray=""none"" fill=""none"" fill-opacity=""1""><title>Canvas 1</title><g><title>Layer 1</title><path d=""M 36.346457 283.46457 L 190.4252 283.46457 C 194.84347 283.46457 198.4252 287.04629 198.4252 291.46457 L 198.4252 607.1181 C 198.4252 611.5364 194.84347 615.1181 190.4252 615.1181 L 36.346457 615.1181 C 31.928179 615.1181 28.346457 611.5364 28.346457 607.1181 L 28.346457 291.46457 C 28.346457 287.04629 31.928179 283.46457 36.346457 283.46457 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(33.346457 288.46457)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#536870"" x=""37.834291"" y=""13"" textLength=""84.410156""> Network Node</tspan></text><line x1=""113.385826"" y1=""595.2756"" x2=""113.385826"" y2=""374.17323"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""113.385826"" y1=""595.2756"" x2=""113.385826"" y2=""449.29134"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 234.77165 56.692913 L 488.063 56.692913 C 492.48127 56.692913 496.063 60.274635 496.063 64.692913 L 496.063 323.65354 C 496.063 328.07182 492.48127 331.65354 488.063 331.65354 L 234.77165 331.65354 C 230.35337 331.65354 226.77165 328.07182 226.77165 323.65354 L 226.77165 64.692913 C 226.77165 60.274635 230.35337 56.692913 234.77165 56.692913 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(231.77165 61.692913)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#536870"" x=""82.64176"" y=""13"" textLength=""94.00781""> Compute Nodes</tspan></text><text transform=""translate(127.69291 9.8582674)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""16"" font-weight=""500"" fill=""#536870"" x="".12890625"" y=""17"" textLength=""274.74219"">Open vSwitch - Self-service Networks</tspan><tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#536870"" x=""111.569336"" y=""35"" textLength=""42.767578"">Overvie</tspan><tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#536870"" x=""154.09668"" y=""35"" textLength=""9.3339844"">w</tspan></text><line x1=""361.82614"" y1=""425.19685"" x2=""425.19685"" y2=""425.19685"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 397.95483 426.71934 C 386.0433 425.19685 390.79332 412.38 409.79486 414.56693 C 411.55778 410.3039 433.65401 410.99584 433.50956 414.56693 C 447.36457 409.99946 465.07045 419.1069 453.1943 423.67436 C 467.4451 425.88878 453.01447 437.8198 441.3189 435.82677 C 440.3829 439.1487 419.47472 440.31118 417.63957 435.82677 C 405.80027 440.6159 381.11346 433.25234 397.95483 426.71934 Z"" fill=""#fdf5dd""/><path d=""M 397.95483 426.71934 C 386.0433 425.19685 390.79332 412.38 409.79486 414.56693 C 411.55778 410.3039 433.65401 410.99584 433.50956 414.56693 C 447.36457 409.99946 465.07045 419.1069 453.1943 423.67436 C 467.4451 425.88878 453.01447 437.8198 441.3189 435.82677 C 440.3829 439.1487 419.47472 440.31118 417.63957 435.82677 C 405.80027 440.6159 381.11346 433.25234 397.95483 426.71934 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(404.40157 419.69685)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""5.0179317"" y=""9"" textLength=""31.554688"">Internet</tspan></text><circle cx=""184.25197"" cy=""680.31496"" r=""8.5039505"" fill=""#738a05""/><text transform=""translate(197.7559 673.97637)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""0"" y=""11"" textLength=""10.102539"">Pr</tspan><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""9.902344"" y=""11"" textLength=""6.040039"">o</tspan><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""15.7421875"" y=""11"" textLength=""64.384766"">vider network</tspan></text><path d=""M 36.346457 56.692913 L 190.4252 56.692913 C 194.84347 56.692913 198.4252 60.274635 198.4252 64.692913 L 198.4252 252.7874 C 198.4252 257.20568 194.84347 260.7874 190.4252 260.7874 L 36.346457 260.7874 C 31.928179 260.7874 28.346457 257.20568 28.346457 252.7874 L 28.346457 64.692913 C 28.346457 60.274635 31.928179 56.692913 36.346457 56.692913 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(33.346457 61.692913)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#536870"" x=""33.71808"" y=""13"" textLength=""34.435547""> Contr</tspan><tspan font-family=""Open Sans"" font-size=""12"" font-weight=""500"" fill=""#536870"" x=""67.913393"" y=""13"" textLength=""58.447266"">oller Node</tspan></text><path d=""M 70.86614 99.2126 C 70.86614 99.2126 92.83585 101.57882 104.88189 141.73228 C 116.92793 181.88575 113.385826 240.94488 113.385826 240.94488"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""70.86614"" y1=""141.73228"" x2=""113.385826"" y2=""240.94488"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""129.64497"" y1=""204.09081"" x2=""113.385826"" y2=""240.94488"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><g filter=""url(#Shadow)""><path d=""M 50.519685 85.03937 L 91.2126 85.03937 C 95.630876 85.03937 99.2126 88.62109 99.2126 93.03937 L 99.2126 105.385826 C 99.2126 109.804104 95.630876 113.385826 91.2126 113.385826 L 50.519685 113.385826 C 46.101407 113.385826 42.519685 109.804104 42.519685 105.385826 L 42.519685 93.03937 C 42.519685 88.62109 46.101407 85.03937 50.519685 85.03937 Z"" fill=""#fdf5dd""/><path d=""M 50.519685 85.03937 L 91.2126 85.03937 C 95.630876 85.03937 99.2126 88.62109 99.2126 93.03937 L 99.2126 105.385826 C 99.2126 109.804104 95.630876 113.385826 91.2126 113.385826 L 50.519685 113.385826 C 46.101407 113.385826 42.519685 109.804104 42.519685 105.385826 L 42.519685 93.03937 C 42.519685 88.62109 46.101407 85.03937 50.519685 85.03937 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(47.519685 88.2126)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""15.8308315"" y=""9"" textLength=""15.03125"">SQL</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""5.133566"" y=""20"" textLength=""36.425781"">Database</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 50.519685 127.559054 L 91.2126 127.559054 C 95.630876 127.559054 99.2126 131.14078 99.2126 135.559054 L 99.2126 147.90551 C 99.2126 152.32379 95.630876 155.90551 91.2126 155.90551 L 50.519685 155.90551 C 46.101407 155.90551 42.519685 152.32379 42.519685 147.90551 L 42.519685 135.559054 C 42.519685 131.14078 46.101407 127.559054 50.519685 127.559054 Z"" fill=""#fdf5dd""/><path d=""M 50.519685 127.559054 L 91.2126 127.559054 C 95.630876 127.559054 99.2126 131.14078 99.2126 135.559054 L 99.2126 147.90551 C 99.2126 152.32379 95.630876 155.90551 91.2126 155.90551 L 50.519685 155.90551 C 46.101407 155.90551 42.519685 152.32379 42.519685 147.90551 L 42.519685 135.559054 C 42.519685 131.14078 46.101407 127.559054 50.519685 127.559054 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(47.519685 130.73228)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""6.606222"" y=""9"" textLength=""33.480469"">Message</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""16.219503"" y=""20"" textLength=""14.253906"">Bus</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 129.88976 85.03937 L 181.92126 85.03937 C 186.33954 85.03937 189.92126 88.62109 189.92126 93.03937 L 189.92126 196.09449 C 189.92126 200.51276 186.33954 204.09449 181.92126 204.09449 L 129.88976 204.09449 C 125.471485 204.09449 121.88976 200.51276 121.88976 196.09449 L 121.88976 93.03937 C 121.88976 88.62109 125.471485 85.03937 129.88976 85.03937 Z"" fill=""#fdf5dd""/><path d=""M 129.88976 85.03937 L 181.92126 85.03937 C 186.33954 85.03937 189.92126 88.62109 189.92126 93.03937 L 189.92126 196.09449 C 189.92126 200.51276 186.33954 204.09449 181.92126 204.09449 L 129.88976 204.09449 C 125.471485 204.09449 121.88976 200.51276 121.88976 196.09449 L 121.88976 93.03937 C 121.88976 88.62109 125.471485 85.03937 129.88976 85.03937 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(126.88976 90.03937)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""6.4044197"" y=""9"" textLength=""45.222656"">Networking</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""3.3751228"" y=""20"" textLength=""51.28125"">Management</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 135.559054 170.07874 L 176.25197 170.07874 C 180.67025 170.07874 184.25197 173.66046 184.25197 178.07874 L 184.25197 190.4252 C 184.25197 194.84347 180.67025 198.4252 176.25197 198.4252 L 135.559054 198.4252 C 131.14078 198.4252 127.559054 194.84347 127.559054 190.4252 L 127.559054 178.07874 C 127.559054 173.66046 131.14078 170.07874 135.559054 170.07874 Z"" fill=""#eae3cc""/><path d=""M 135.559054 170.07874 L 176.25197 170.07874 C 180.67025 170.07874 184.25197 173.66046 184.25197 178.07874 L 184.25197 190.4252 C 184.25197 194.84347 180.67025 198.4252 176.25197 198.4252 L 135.559054 198.4252 C 131.14078 198.4252 127.559054 194.84347 127.559054 190.4252 L 127.559054 178.07874 C 127.559054 173.66046 131.14078 170.07874 135.559054 170.07874 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(132.559054 178.75197)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x="".8835659"" y=""9"" textLength=""44.92578"">ML2 Plug-in</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 135.559054 127.559054 L 176.25197 127.559054 C 180.67025 127.559054 184.25197 131.14078 184.25197 135.559054 L 184.25197 147.90551 C 184.25197 152.32379 180.67025 155.90551 176.25197 155.90551 L 135.559054 155.90551 C 131.14078 155.90551 127.559054 152.32379 127.559054 147.90551 L 127.559054 135.559054 C 127.559054 131.14078 131.14078 127.559054 135.559054 127.559054 Z"" fill=""#eae3cc""/><path d=""M 135.559054 127.559054 L 176.25197 127.559054 C 180.67025 127.559054 184.25197 131.14078 184.25197 135.559054 L 184.25197 147.90551 C 184.25197 152.32379 180.67025 155.90551 176.25197 155.90551 L 135.559054 155.90551 C 131.14078 155.90551 127.559054 152.32379 127.559054 147.90551 L 127.559054 135.559054 C 127.559054 131.14078 131.14078 127.559054 135.559054 127.559054 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(132.559054 136.23228)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""17.020285"" y=""9"" textLength=""12.652344"">API</tspan></text></g><circle cx=""42.519685"" cy=""651.9685"" r=""8.5039505"" fill=""#d11b24""/><text transform=""translate(56.409448 639.96063)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""0"" y=""11"" textLength=""102.9834"">Management network</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#536870"" x=""0"" y=""23"" textLength=""41.34375"">10.0.0.0/24</tspan></text><path d=""M 113.385826 240.94488 C 113.385826 240.94488 166.30242 238.82251 198.4252 274.96063 C 230.54797 311.09875 194.64888 325.94126 226.77165 368.50393 C 239.21051 384.98542 254.76732 397.20358 269.1622 405.98884"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""354.3307"" y1=""311.81102"" x2=""321.12335"" y2=""400.36396"" stroke=""#bd3612"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><g filter=""url(#Shadow)""><path d=""M 93.03937 226.77165 L 133.73228 226.77165 C 138.15056 226.77165 141.73228 230.35337 141.73228 234.77165 L 141.73228 247.11811 C 141.73228 251.53639 138.15056 255.11811 133.73228 255.11811 L 93.03937 255.11811 C 88.62109 255.11811 85.03937 251.53639 85.03937 247.11811 L 85.03937 234.77165 C 85.03937 230.35337 88.62109 226.77165 93.03937 226.77165 Z"" fill=""#d11b24""/><path d=""M 93.03937 226.77165 L 133.73228 226.77165 C 138.15056 226.77165 141.73228 230.35337 141.73228 234.77165 L 141.73228 247.11811 C 141.73228 251.53639 138.15056 255.11811 133.73228 255.11811 L 93.03937 255.11811 C 88.62109 255.11811 85.03937 251.53639 85.03937 247.11811 L 85.03937 234.77165 C 85.03937 230.35337 88.62109 226.77165 93.03937 226.77165 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(90.03937 235.44488)"" fill=""#eae3cb""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#eae3cb"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 1</tspan></text></g><line x1=""269.29134"" y1=""311.81102"" x2=""301.70043"" y2=""398.23526"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""269.29134"" y1=""311.81102"" x2=""412.31432"" y2=""147.33459"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""269.29134"" y1=""311.81102"" x2=""286.83914"" y2=""274.96063"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""269.29134"" y1=""311.81102"" x2=""405.35433"" y2=""225.6378"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><g filter=""url(#Shadow)""><path d=""M 243.27559 170.07874 L 380.34645 170.07874 C 384.76473 170.07874 388.34645 173.66046 388.34645 178.07874 L 388.34645 266.96063 C 388.34645 271.3789 384.76473 274.96063 380.34645 274.96063 L 243.27559 274.96063 C 238.85731 274.96063 235.27559 271.3789 235.27559 266.96063 L 235.27559 178.07874 C 235.27559 173.66046 238.85731 170.07874 243.27559 170.07874 Z"" fill=""#fdf5dd""/><path d=""M 243.27559 170.07874 L 380.34645 170.07874 C 384.76473 170.07874 388.34645 173.66046 388.34645 178.07874 L 388.34645 266.96063 C 388.34645 271.3789 384.76473 274.96063 380.34645 274.96063 L 243.27559 274.96063 C 238.85731 274.96063 235.27559 271.3789 235.27559 266.96063 L 235.27559 178.07874 C 235.27559 173.66046 238.85731 170.07874 243.27559 170.07874 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(240.27559 175.07874)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""32.873323"" y=""9"" textLength=""77.32422"">Open vSwitch Agent</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 248.94488 297.6378 L 289.6378 297.6378 C 294.05607 297.6378 297.6378 301.21952 297.6378 305.6378 L 297.6378 317.98425 C 297.6378 322.40253 294.05607 325.98425 289.6378 325.98425 L 248.94488 325.98425 C 244.5266 325.98425 240.94488 322.40253 240.94488 317.98425 L 240.94488 305.6378 C 240.94488 301.21952 244.5266 297.6378 248.94488 297.6378 Z"" fill=""#d11b24""/><path d=""M 248.94488 297.6378 L 289.6378 297.6378 C 294.05607 297.6378 297.6378 301.21952 297.6378 305.6378 L 297.6378 317.98425 C 297.6378 322.40253 294.05607 325.98425 289.6378 325.98425 L 248.94488 325.98425 C 244.5266 325.98425 240.94488 322.40253 240.94488 317.98425 L 240.94488 305.6378 C 240.94488 301.21952 244.5266 297.6378 248.94488 297.6378 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(245.94488 306.31102)"" fill=""#eae3cb""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#eae3cb"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 1</tspan></text></g><line x1=""269.29134"" y1=""99.2126"" x2=""269.29134"" y2=""141.73228"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 439.37008 127.559054 C 439.37008 127.559054 416.92712 132.94633 396.8504 147.40157 C 376.77366 161.85682 404.64205 160.11208 368.50393 178.58268 C 332.36582 197.05327 269.29134 212.59842 269.29134 212.59842"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""269.29134"" y1=""198.4252"" x2=""269.29134"" y2=""141.73228"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><circle cx=""184.25197"" cy=""651.9685"" r=""8.5039505"" fill=""#bd3612""/><text transform=""translate(197.7559 639.96063)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""0"" y=""11"" textLength=""10.102539"">Pr</tspan><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""9.902344"" y=""11"" textLength=""6.040039"">o</tspan><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""15.7421875"" y=""11"" textLength=""64.384766"">vider network</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#536870"" x=""0"" y=""23"" textLength=""17.09375"">Aggr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#536870"" x=""16.933594"" y=""23"" textLength=""20.632812"">egate</tspan></text><g filter=""url(#Shadow)""><path d=""M 248.94488 85.03937 L 289.6378 85.03937 C 294.05607 85.03937 297.6378 88.62109 297.6378 93.03937 L 297.6378 105.385826 C 297.6378 109.804104 294.05607 113.385826 289.6378 113.385826 L 248.94488 113.385826 C 244.5266 113.385826 240.94488 109.804104 240.94488 105.385826 L 240.94488 93.03937 C 240.94488 88.62109 244.5266 85.03937 248.94488 85.03937 Z"" fill=""#fdf5dd""/><path d=""M 248.94488 85.03937 L 289.6378 85.03937 C 294.05607 85.03937 297.6378 88.62109 297.6378 93.03937 L 297.6378 105.385826 C 297.6378 109.804104 294.05607 113.385826 289.6378 113.385826 L 248.94488 113.385826 C 244.5266 113.385826 240.94488 109.804104 240.94488 105.385826 L 240.94488 93.03937 C 240.94488 88.62109 244.5266 85.03937 248.94488 85.03937 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(245.94488 93.7126)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""6.9226284"" y=""9"" textLength=""32.847656"">Instance</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 333.98425 297.6378 L 374.67716 297.6378 C 379.09544 297.6378 382.67716 301.21952 382.67716 305.6378 L 382.67716 317.98425 C 382.67716 322.40253 379.09544 325.98425 374.67716 325.98425 L 333.98425 325.98425 C 329.56597 325.98425 325.98425 322.40253 325.98425 317.98425 L 325.98425 305.6378 C 325.98425 301.21952 329.56597 297.6378 333.98425 297.6378 Z"" fill=""#bd3612""/><path d=""M 333.98425 297.6378 L 374.67716 297.6378 C 379.09544 297.6378 382.67716 301.21952 382.67716 305.6378 L 382.67716 317.98425 C 382.67716 322.40253 379.09544 325.98425 374.67716 325.98425 L 333.98425 325.98425 C 329.56597 325.98425 325.98425 322.40253 325.98425 317.98425 L 325.98425 305.6378 C 325.98425 301.21952 329.56597 297.6378 333.98425 297.6378 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(330.98425 306.31102)"" fill=""#fcf4dc""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fcf4dc"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 2</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 248.94488 127.559054 L 289.6378 127.559054 C 294.05607 127.559054 297.6378 131.14078 297.6378 135.559054 L 297.6378 147.90551 C 297.6378 152.32379 294.05607 155.90551 289.6378 155.90551 L 248.94488 155.90551 C 244.5266 155.90551 240.94488 152.32379 240.94488 147.90551 L 240.94488 135.559054 C 240.94488 131.14078 244.5266 127.559054 248.94488 127.559054 Z"" fill=""#fdf5dd""/><path d=""M 248.94488 127.559054 L 289.6378 127.559054 C 294.05607 127.559054 297.6378 131.14078 297.6378 135.559054 L 297.6378 147.90551 C 297.6378 152.32379 294.05607 155.90551 289.6378 155.90551 L 248.94488 155.90551 C 244.5266 155.90551 240.94488 152.32379 240.94488 147.90551 L 240.94488 135.559054 C 240.94488 131.14078 244.5266 127.559054 248.94488 127.559054 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(245.94488 136.23228)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""8.4148173"" y=""9"" textLength=""9.9375"">Fir</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""18.192161"" y=""9"" textLength=""4.609375"">e</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""22.64138"" y=""9"" textLength=""15.636719"">wall</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 291.46457 238.11023 L 332.15748 238.11023 C 336.57576 238.11023 340.15748 241.69196 340.15748 246.11023 L 340.15748 258.45669 C 340.15748 262.87497 336.57576 266.45669 332.15748 266.45669 L 291.46457 266.45669 C 287.04629 266.45669 283.46457 262.87497 283.46457 258.45669 L 283.46457 246.11023 C 283.46457 241.69196 287.04629 238.11023 291.46457 238.11023 Z"" fill=""#eae3cc""/><path d=""M 291.46457 238.11023 L 332.15748 238.11023 C 336.57576 238.11023 340.15748 241.69196 340.15748 246.11023 L 340.15748 258.45669 C 340.15748 262.87497 336.57576 266.45669 332.15748 266.45669 L 291.46457 266.45669 C 287.04629 266.45669 283.46457 262.87497 283.46457 258.45669 L 283.46457 246.11023 C 283.46457 241.69196 287.04629 238.11023 291.46457 238.11023 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(288.46457 241.28346)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""7.1003628"" y=""9"" textLength=""8.3710938"">Pr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""15.3113"" y=""9"" textLength=""4.8867188"">o</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""20.037863"" y=""9"" textLength=""19.554688"">vider</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.8445034"" y=""20"" textLength=""25.003906"">Bridge</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 44.850393 396.8504 L 181.92126 396.8504 C 186.33954 396.8504 189.92126 400.43211 189.92126 404.8504 L 189.92126 493.73228 C 189.92126 498.15056 186.33954 501.73228 181.92126 501.73228 L 44.850393 501.73228 C 40.432115 501.73228 36.850393 498.15056 36.850393 493.73228 L 36.850393 404.8504 C 36.850393 400.43211 40.432115 396.8504 44.850393 396.8504 Z"" fill=""#fdf5dd""/><path d=""M 44.850393 396.8504 L 181.92126 396.8504 C 186.33954 396.8504 189.92126 400.43211 189.92126 404.8504 L 189.92126 493.73228 C 189.92126 498.15056 186.33954 501.73228 181.92126 501.73228 L 44.850393 501.73228 C 40.432115 501.73228 36.850393 498.15056 36.850393 493.73228 L 36.850393 404.8504 C 36.850393 400.43211 40.432115 396.8504 44.850393 396.8504 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(41.850393 401.8504)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""32.873323"" y=""9"" textLength=""77.32422"">Open vSwitch Agent</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 87.37008 311.81102 L 139.40158 311.81102 C 143.819855 311.81102 147.40158 315.39274 147.40158 319.81102 L 147.40158 366.17323 C 147.40158 370.5915 143.819855 374.17323 139.40158 374.17323 L 87.37008 374.17323 C 82.9518 374.17323 79.37008 370.5915 79.37008 366.17323 L 79.37008 319.81102 C 79.37008 315.39274 82.9518 311.81102 87.37008 311.81102 Z"" fill=""#fdf5dd""/><path d=""M 87.37008 311.81102 L 139.40158 311.81102 C 143.819855 311.81102 147.40158 315.39274 147.40158 319.81102 L 147.40158 366.17323 C 147.40158 370.5915 143.819855 374.17323 139.40158 374.17323 L 87.37008 374.17323 C 82.9518 374.17323 79.37008 370.5915 79.37008 366.17323 L 79.37008 319.81102 C 79.37008 315.39274 82.9518 311.81102 87.37008 311.81102 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(84.37008 316.81102)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""2.4591086"" y=""9"" textLength=""53.11328"">Layer-3 Agent</tspan></text></g><line x1=""269.29134"" y1=""212.59842"" x2=""354.3307"" y2=""212.59842"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""354.3307"" y1=""212.59842"" x2=""439.37008"" y2=""311.81102"" stroke=""#a57706"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""439.37008"" y1=""311.81102"" x2=""338.50458"" y2=""401.46924"" stroke=""#a57706"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 155.90551 552.7559 C 155.90551 552.7559 182.60284 546.37434 226.77165 510.23622 C 251.0681 490.3573 274.36652 466.6164 290.41306 449.2775"" stroke=""#a57706"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 113.385826 595.2756 C 113.385826 595.2756 142.210345 615.1133 198.4252 566.92913 C 237.33676 533.57636 276.70644 478.48825 297.25624 447.73532"" stroke=""#d11b24"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 70.86614 552.7559 C 70.86614 552.7559 130.164306 537.8704 198.4252 501.73228 C 233.03025 483.41196 261.68933 463.99702 281.53756 449.30565"" stroke=""#bd3612"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""155.90551"" y1=""552.7559"" x2=""155.90551"" y2=""439.37008"" stroke=""#a57706"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""155.90551"" y1=""439.37008"" x2=""127.559054"" y2=""481.88976"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 127.559054 481.88976 C 127.559054 481.88976 113.85907 446.07665 121.88976 425.19685 C 129.920456 404.31705 154.29937 428.2657 155.90551 408.18897 C 157.51165 388.11224 127.559054 354.3307 127.559054 354.3307"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><path d=""M 99.2126 354.3307 C 99.2126 354.3307 69.260003 388.11224 70.86614 408.18897 C 72.47228 428.2657 96.851196 404.31705 104.88189 425.19685 C 112.91258 446.07665 99.2126 481.88976 99.2126 481.88976"" stroke=""#738a05"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""70.86614"" y1=""439.37008"" x2=""99.2126"" y2=""481.88976"" stroke=""#738a05"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><line x1=""70.86614"" y1=""439.37008"" x2=""70.86614"" y2=""552.7559"" stroke=""#bd3612"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><circle cx=""42.519685"" cy=""680.31496"" r=""8.5039505"" fill=""#a57706""/><text transform=""translate(54.06299 668.3071)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""0"" y=""11"" textLength=""76.64551"">Overlay network</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""500"" fill=""#536870"" x=""0"" y=""23"" textLength=""41.34375"">10.0.1.0/24</tspan></text><circle cx=""325.98425"" cy=""651.9685"" r=""8.5039505"" fill=""#2076c8""/><text transform=""translate(339.48819 644.3071)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""10"" font-weight=""500"" fill=""#536870"" x=""0"" y=""11"" textLength=""93.63281"">Self-service network</tspan></text><g filter=""url(#Shadow)""><path d=""M 93.03937 581.10236 L 133.73228 581.10236 C 138.15056 581.10236 141.73228 584.68408 141.73228 589.10236 L 141.73228 601.4488 C 141.73228 605.8671 138.15056 609.4488 133.73228 609.4488 L 93.03937 609.4488 C 88.62109 609.4488 85.03937 605.8671 85.03937 601.4488 L 85.03937 589.10236 C 85.03937 584.68408 88.62109 581.10236 93.03937 581.10236 Z"" fill=""#d11b24""/><path d=""M 93.03937 581.10236 L 133.73228 581.10236 C 138.15056 581.10236 141.73228 584.68408 141.73228 589.10236 L 141.73228 601.4488 C 141.73228 605.8671 138.15056 609.4488 133.73228 609.4488 L 93.03937 609.4488 C 88.62109 609.4488 85.03937 605.8671 85.03937 601.4488 L 85.03937 589.10236 C 85.03937 584.68408 88.62109 581.10236 93.03937 581.10236 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(90.03937 589.7756)"" fill=""#eae3cb""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#eae3cb"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 1</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 50.519685 538.58267 L 91.2126 538.58267 C 95.630876 538.58267 99.2126 542.1644 99.2126 546.58267 L 99.2126 558.92913 C 99.2126 563.3474 95.630876 566.92913 91.2126 566.92913 L 50.519685 566.92913 C 46.101407 566.92913 42.519685 563.3474 42.519685 558.92913 L 42.519685 546.58267 C 42.519685 542.1644 46.101407 538.58267 50.519685 538.58267 Z"" fill=""#bd3612""/><path d=""M 50.519685 538.58267 L 91.2126 538.58267 C 95.630876 538.58267 99.2126 542.1644 99.2126 546.58267 L 99.2126 558.92913 C 99.2126 563.3474 95.630876 566.92913 91.2126 566.92913 L 50.519685 566.92913 C 46.101407 566.92913 42.519685 563.3474 42.519685 558.92913 L 42.519685 546.58267 C 42.519685 542.1644 46.101407 538.58267 50.519685 538.58267 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(47.519685 547.2559)"" fill=""#fcf4dc""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fcf4dc"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 2</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 93.03937 467.71653 L 133.73228 467.71653 C 138.15056 467.71653 141.73228 471.29825 141.73228 475.71653 L 141.73228 488.063 C 141.73228 492.48127 138.15056 496.063 133.73228 496.063 L 93.03937 496.063 C 88.62109 496.063 85.03937 492.48127 85.03937 488.063 L 85.03937 475.71653 C 85.03937 471.29825 88.62109 467.71653 93.03937 467.71653 Z"" fill=""#eae3cc""/><path d=""M 93.03937 467.71653 L 133.73228 467.71653 C 138.15056 467.71653 141.73228 471.29825 141.73228 475.71653 L 141.73228 488.063 C 141.73228 492.48127 138.15056 496.063 133.73228 496.063 L 93.03937 496.063 C 88.62109 496.063 85.03937 492.48127 85.03937 488.063 L 85.03937 475.71653 C 85.03937 471.29825 88.62109 467.71653 93.03937 467.71653 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(90.03937 470.88976)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""1.8503628"" y=""9"" textLength=""23.171875"">Integr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""24.862082"" y=""9"" textLength=""19.980469"">ation</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.8445034"" y=""20"" textLength=""25.003906"">Bridge</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 50.519685 425.19685 L 91.2126 425.19685 C 95.630876 425.19685 99.2126 428.77857 99.2126 433.19685 L 99.2126 445.5433 C 99.2126 449.96158 95.630876 453.5433 91.2126 453.5433 L 50.519685 453.5433 C 46.101407 453.5433 42.519685 449.96158 42.519685 445.5433 L 42.519685 433.19685 C 42.519685 428.77857 46.101407 425.19685 50.519685 425.19685 Z"" fill=""#eae3cc""/><path d=""M 50.519685 425.19685 L 91.2126 425.19685 C 95.630876 425.19685 99.2126 428.77857 99.2126 433.19685 L 99.2126 445.5433 C 99.2126 449.96158 95.630876 453.5433 91.2126 453.5433 L 50.519685 453.5433 C 46.101407 453.5433 42.519685 449.96158 42.519685 445.5433 L 42.519685 433.19685 C 42.519685 428.77857 46.101407 425.19685 50.519685 425.19685 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(47.519685 428.37008)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""7.1003628"" y=""9"" textLength=""8.3710938"">Pr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""15.3113"" y=""9"" textLength=""4.8867188"">o</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""20.037863"" y=""9"" textLength=""19.554688"">vider</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.8445034"" y=""20"" textLength=""25.003906"">Bridge</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 93.03937 340.15748 L 133.73228 340.15748 C 138.15056 340.15748 141.73228 343.7392 141.73228 348.15748 L 141.73228 360.50393 C 141.73228 364.92221 138.15056 368.50393 133.73228 368.50393 L 93.03937 368.50393 C 88.62109 368.50393 85.03937 364.92221 85.03937 360.50393 L 85.03937 348.15748 C 85.03937 343.7392 88.62109 340.15748 93.03937 340.15748 Z"" fill=""#eae3cc""/><path d=""M 93.03937 340.15748 L 133.73228 340.15748 C 138.15056 340.15748 141.73228 343.7392 141.73228 348.15748 L 141.73228 360.50393 C 141.73228 364.92221 138.15056 368.50393 133.73228 368.50393 L 93.03937 368.50393 C 88.62109 368.50393 85.03937 364.92221 85.03937 360.50393 L 85.03937 348.15748 C 85.03937 343.7392 88.62109 340.15748 93.03937 340.15748 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(90.03937 343.3307)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.2058315"" y=""9"" textLength=""26.28125"">Router</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x="".7195034"" y=""20"" textLength=""45.253906"">Namespace</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 135.559054 538.58267 L 176.25197 538.58267 C 180.67025 538.58267 184.25197 542.1644 184.25197 546.58267 L 184.25197 558.92913 C 184.25197 563.3474 180.67025 566.92913 176.25197 566.92913 L 135.559054 566.92913 C 131.14078 566.92913 127.559054 563.3474 127.559054 558.92913 L 127.559054 546.58267 C 127.559054 542.1644 131.14078 538.58267 135.559054 538.58267 Z"" fill=""#a57706""/><path d=""M 135.559054 538.58267 L 176.25197 538.58267 C 180.67025 538.58267 184.25197 542.1644 184.25197 546.58267 L 184.25197 558.92913 C 184.25197 563.3474 180.67025 566.92913 176.25197 566.92913 L 135.559054 566.92913 C 131.14078 566.92913 127.559054 563.3474 127.559054 558.92913 L 127.559054 546.58267 C 127.559054 542.1644 131.14078 538.58267 135.559054 538.58267 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(132.559054 547.2559)"" fill=""#fcf4dc""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fcf4dc"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 3</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 135.559054 425.19685 L 176.25197 425.19685 C 180.67025 425.19685 184.25197 428.77857 184.25197 433.19685 L 184.25197 445.5433 C 184.25197 449.96158 180.67025 453.5433 176.25197 453.5433 L 135.559054 453.5433 C 131.14078 453.5433 127.559054 449.96158 127.559054 445.5433 L 127.559054 433.19685 C 127.559054 428.77857 131.14078 425.19685 135.559054 425.19685 Z"" fill=""#eae3cc""/><path d=""M 135.559054 425.19685 L 176.25197 425.19685 C 180.67025 425.19685 184.25197 428.77857 184.25197 433.19685 L 184.25197 445.5433 C 184.25197 449.96158 180.67025 453.5433 176.25197 453.5433 L 135.559054 453.5433 C 131.14078 453.5433 127.559054 449.96158 127.559054 445.5433 L 127.559054 433.19685 C 127.559054 428.77857 131.14078 425.19685 135.559054 425.19685 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(132.559054 428.37008)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.244894"" y=""9"" textLength=""4.5273438"">T</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""14.3738"" y=""9"" textLength=""22.074219"">unnel</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.8445034"" y=""20"" textLength=""25.003906"">Bridge</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 248.94488 198.4252 L 289.6378 198.4252 C 294.05607 198.4252 297.6378 202.00692 297.6378 206.4252 L 297.6378 218.77165 C 297.6378 223.18993 294.05607 226.77165 289.6378 226.77165 L 248.94488 226.77165 C 244.5266 226.77165 240.94488 223.18993 240.94488 218.77165 L 240.94488 206.4252 C 240.94488 202.00692 244.5266 198.4252 248.94488 198.4252 Z"" fill=""#eae3cc""/><path d=""M 248.94488 198.4252 L 289.6378 198.4252 C 294.05607 198.4252 297.6378 202.00692 297.6378 206.4252 L 297.6378 218.77165 C 297.6378 223.18993 294.05607 226.77165 289.6378 226.77165 L 248.94488 226.77165 C 244.5266 226.77165 240.94488 223.18993 240.94488 218.77165 L 240.94488 206.4252 C 240.94488 202.00692 244.5266 198.4252 248.94488 198.4252 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(245.94488 201.59842)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""1.8503628"" y=""9"" textLength=""23.171875"">Integr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""24.862082"" y=""9"" textLength=""19.980469"">ation</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.8445034"" y=""20"" textLength=""25.003906"">Bridge</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 333.98425 198.4252 L 374.67716 198.4252 C 379.09544 198.4252 382.67716 202.00692 382.67716 206.4252 L 382.67716 218.77165 C 382.67716 223.18993 379.09544 226.77165 374.67716 226.77165 L 333.98425 226.77165 C 329.56597 226.77165 325.98425 223.18993 325.98425 218.77165 L 325.98425 206.4252 C 325.98425 202.00692 329.56597 198.4252 333.98425 198.4252 Z"" fill=""#eae3cc""/><path d=""M 333.98425 198.4252 L 374.67716 198.4252 C 379.09544 198.4252 382.67716 202.00692 382.67716 206.4252 L 382.67716 218.77165 C 382.67716 223.18993 379.09544 226.77165 374.67716 226.77165 L 333.98425 226.77165 C 329.56597 226.77165 325.98425 223.18993 325.98425 218.77165 L 325.98425 206.4252 C 325.98425 202.00692 329.56597 198.4252 333.98425 198.4252 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(330.98425 201.59842)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.244894"" y=""9"" textLength=""4.5273438"">T</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""14.3738"" y=""9"" textLength=""22.074219"">unnel</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.8445034"" y=""20"" textLength=""25.003906"">Bridge</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 419.02362 297.6378 L 459.71653 297.6378 C 464.1348 297.6378 467.71653 301.21952 467.71653 305.6378 L 467.71653 317.98425 C 467.71653 322.40253 464.1348 325.98425 459.71653 325.98425 L 419.02362 325.98425 C 414.60534 325.98425 411.02362 322.40253 411.02362 317.98425 L 411.02362 305.6378 C 411.02362 301.21952 414.60534 297.6378 419.02362 297.6378 Z"" fill=""#a57706""/><path d=""M 419.02362 297.6378 L 459.71653 297.6378 C 464.1348 297.6378 467.71653 301.21952 467.71653 305.6378 L 467.71653 317.98425 C 467.71653 322.40253 464.1348 325.98425 459.71653 325.98425 L 419.02362 325.98425 C 414.60534 325.98425 411.02362 322.40253 411.02362 317.98425 L 411.02362 305.6378 C 411.02362 301.21952 414.60534 297.6378 419.02362 297.6378 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(416.02362 306.31102)"" fill=""#fcf4dc""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#fcf4dc"" x=""2.6062222"" y=""9"" textLength=""41.480469"">Interface 3</tspan></text></g><path d=""M 269.90022 428.24182 C 251.5748 425.19685 258.88252 399.56315 288.11565 403.937 C 290.82784 395.41096 324.82205 396.79483 324.5998 403.937 C 345.91521 394.80208 373.15502 413.01694 354.88403 422.15187 C 376.80831 426.58072 354.60737 450.44277 336.61417 446.4567 C 335.17417 453.10053 303.00775 455.4255 300.18444 446.4567 C 281.97014 456.03496 243.99042 441.30784 269.90022 428.24182 Z"" fill=""#fdf5dd""/><path d=""M 269.90022 428.24182 C 251.5748 425.19685 258.88252 399.56315 288.11565 403.937 C 290.82784 395.41096 324.82205 396.79483 324.5998 403.937 C 345.91521 394.80208 373.15502 413.01694 354.88403 422.15187 C 376.80831 426.58072 354.60737 450.44277 336.61417 446.4567 C 335.17417 453.10053 303.00775 455.4255 300.18444 446.4567 C 281.97014 456.03496 243.99042 441.30784 269.90022 428.24182 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(277.12598 414.19685)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x="".25144539"" y=""9"" textLength=""70.945312""> Physical Network </tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""7.685039"" y=""20"" textLength=""13.871094"">Infr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""21.395977"" y=""20"" textLength=""35.839844"">astructur</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""57.075664"" y=""20"" textLength=""4.609375"">e</tspan></text><g filter=""url(#Shadow)""><path d=""M 413.35433 85.03937 L 465.38583 85.03937 C 469.8041 85.03937 473.38583 88.62109 473.38583 93.03937 L 473.38583 139.40157 C 473.38583 143.81985 469.8041 147.40157 465.38583 147.40157 L 413.35433 147.40157 C 408.93605 147.40157 405.35433 143.81985 405.35433 139.40157 L 405.35433 93.03937 C 405.35433 88.62109 408.93605 85.03937 413.35433 85.03937 Z"" fill=""#fdf5dd""/><path d=""M 413.35433 85.03937 L 465.38583 85.03937 C 469.8041 85.03937 473.38583 88.62109 473.38583 93.03937 L 473.38583 139.40157 C 473.38583 143.81985 469.8041 147.40157 465.38583 147.40157 L 413.35433 147.40157 C 408.93605 147.40157 405.35433 143.81985 405.35433 139.40157 L 405.35433 93.03937 C 405.35433 88.62109 408.93605 85.03937 413.35433 85.03937 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(410.35433 90.03937)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""5.7559836"" y=""9"" textLength=""46.51953"">DHCP Agent</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 413.35433 170.07874 L 465.38582 170.07874 C 469.8041 170.07874 473.38582 173.66046 473.38582 178.07874 L 473.38582 230.11023 C 473.38582 234.52851 469.8041 238.11023 465.38582 238.11023 L 413.35433 238.11023 C 408.93605 238.11023 405.35433 234.52851 405.35433 230.11023 L 405.35433 178.07874 C 405.35433 173.66046 408.93605 170.07874 413.35433 170.07874 Z"" fill=""#fdf5dd""/><path d=""M 413.35433 170.07874 L 465.38582 170.07874 C 469.8041 170.07874 473.38582 173.66046 473.38582 178.07874 L 473.38582 230.11023 C 473.38582 234.52851 469.8041 238.11023 465.38582 238.11023 L 413.35433 238.11023 C 408.93605 238.11023 405.35433 234.52851 405.35433 230.11023 L 405.35433 178.07874 C 405.35433 173.66046 408.93605 170.07874 413.35433 170.07874 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(410.35433 175.07874)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""10.421999"" y=""9"" textLength=""39.265625"">Metadata </tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""17.730593"" y=""20"" textLength=""22.570312"">Agent</tspan></text></g><path d=""M 439.37008 218.26772 C 439.37008 218.26772 481.88976 195.77696 481.88976 170.07874 C 481.88976 144.38052 439.37008 127.559054 439.37008 127.559054"" stroke=""#2076c8"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2""/><g filter=""url(#Shadow)""><path d=""M 419.02362 113.385826 L 459.71653 113.385826 C 464.1348 113.385826 467.71653 116.96755 467.71653 121.385826 L 467.71653 133.73228 C 467.71653 138.15056 464.1348 141.73228 459.71653 141.73228 L 419.02362 141.73228 C 414.60534 141.73228 411.02362 138.15056 411.02362 133.73228 L 411.02362 121.385826 C 411.02362 116.96755 414.60534 113.385826 419.02362 113.385826 Z"" fill=""#eae3cc""/><path d=""M 419.02362 113.385826 L 459.71653 113.385826 C 464.1348 113.385826 467.71653 116.96755 467.71653 121.385826 L 467.71653 133.73228 C 467.71653 138.15056 464.1348 141.73228 459.71653 141.73228 L 419.02362 141.73228 C 414.60534 141.73228 411.02362 138.15056 411.02362 133.73228 L 411.02362 121.385826 C 411.02362 116.96755 414.60534 113.385826 419.02362 113.385826 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(416.02362 116.559054)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""12.41091"" y=""9"" textLength=""23.949219"">DHCP </tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x="".7195034"" y=""20"" textLength=""45.253906"">Namespace</tspan></text></g><g filter=""url(#Shadow)""><path d=""M 419.02362 204.09449 L 459.71653 204.09449 C 464.1348 204.09449 467.71653 207.67621 467.71653 212.09449 L 467.71653 224.44094 C 467.71653 228.85922 464.1348 232.44094 459.71653 232.44094 L 419.02362 232.44094 C 414.60534 232.44094 411.02362 228.85922 411.02362 224.44094 L 411.02362 212.09449 C 411.02362 207.67621 414.60534 204.09449 419.02362 204.09449 Z"" fill=""#eae3cc""/><path d=""M 419.02362 204.09449 L 459.71653 204.09449 C 464.1348 204.09449 467.71653 207.67621 467.71653 212.09449 L 467.71653 224.44094 C 467.71653 228.85922 464.1348 232.44094 459.71653 232.44094 L 419.02362 232.44094 C 414.60534 232.44094 411.02362 228.85922 411.02362 224.44094 L 411.02362 212.09449 C 411.02362 207.67621 414.60534 204.09449 419.02362 204.09449 Z"" stroke=""#536870"" stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""1""/><text transform=""translate(416.02362 207.26772)"" fill=""#536870""><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""4.7527065"" y=""9"" textLength=""37.1875"">Metadata</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""8.617941"" y=""20"" textLength=""8.3710938"">Pr</tspan><tspan font-family=""Open Sans"" font-size=""8"" font-weight=""bold"" fill=""#536870"" x=""16.828878"" y=""20"" textLength=""21.246094"">ocess</tspan></text></g></g></g></svg>",356,1
openstack%2Fneutron~503280,openstack/neutron,master,I092ac244d67e31a2ca60c4bb83a88d477ef07b97,adapt configure_for_func_testing for stadium projects,ABANDONED,2017-09-12 21:55:13.000000000,2022-12-02 17:27:15.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 12021}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-12 21:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52ee3664584930b0f08fe40a53caa4b102d5bf58', 'message': ""adatp configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for rootwrap.conf and\nfullstack test commands, including when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 2, 'created': '2017-09-13 20:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a19eb79bcd742eb62470face05ad3fcff170695', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for rootwrap.conf and\nfullstack test commands, including when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 3, 'created': '2017-09-13 22:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b45cf70ad99ca50849f0a9514b3705950b10a966', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for rootwrap.conf and\nfullstack test commands, including when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 4, 'created': '2017-09-14 02:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22e63465b1890a9f90d1084f6599f6eca4f6f6d7', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for rootwrap.conf and\nfullstack test commands, including when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 5, 'created': '2017-10-17 15:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3e4d50e5c6dd1ec599e83f492b38a3da894ddde', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for rootwrap.conf and\nfullstack test commands, including when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 6, 'created': '2017-11-14 05:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/201dd589aba4447eb23d4337ee1dc85bcd78ad39', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for fullstack test commands,\nincluding when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 7, 'created': '2017-11-14 10:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22baa64c117ec56c1decd5acd1054c3accc54b16', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for fullstack test commands,\nincluding when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 8, 'created': '2017-11-14 12:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/692ec7ece931d4dd43a35c4f92800dde4aa14a49', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for fullstack test commands,\nincluding when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}, {'number': 9, 'created': '2017-11-14 15:08:02.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffec94dbbbc37dab5235a9e1c7eaac9551a8f560', 'message': ""adapt configure_for_func_testing for stadium projects\n\nNeutron Stadium projects may need the functional or fullstack setup\nof Neutron's.\n\nFor this purpose this change modifies configure_for_func_testing so\nthat it still points to the right locations for fullstack test commands,\nincluding when run from a venv that is not\ncreated from neutron's repo but from another repo, typically a\nneutron stadium project.\n\nNeeded-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nChange-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\n""}]",20,503280,ffec94dbbbc37dab5235a9e1c7eaac9551a8f560,58,11,9,12021,,,0,"adapt configure_for_func_testing for stadium projects

Neutron Stadium projects may need the functional or fullstack setup
of Neutron's.

For this purpose this change modifies configure_for_func_testing so
that it still points to the right locations for fullstack test commands,
including when run from a venv that is not
created from neutron's repo but from another repo, typically a
neutron stadium project.

Needed-By: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd
Change-Id: I092ac244d67e31a2ca60c4bb83a88d477ef07b97
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/503280/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,52ee3664584930b0f08fe40a53caa4b102d5bf58,stadium_conf_for_functest,"NEUTRON_PATH=${2:-$REPO_BASE/neutron} ROOTWRAP_SUDOER_CMD=""$PROJECT_VENV/bin/neutron-rootwrap $NEUTRON_PATH/etc/rootwrap.conf *"" ROOTWRAP_DAEMON_SUDOER_CMD=""$PROJECT_VENV/bin/neutron-rootwrap-daemon $NEUTRON_PATH/etc/rootwrap.conf"" SECURE_PATH=""$NEUTRON_PATH/neutron/tests/fullstack/cmd:$SECURE_PATH"""," ROOTWRAP_SUDOER_CMD=""$PROJECT_VENV/bin/neutron-rootwrap $PROJECT_VENV/etc/neutron/rootwrap.conf *"" ROOTWRAP_DAEMON_SUDOER_CMD=""$PROJECT_VENV/bin/neutron-rootwrap-daemon $PROJECT_VENV/etc/neutron/rootwrap.conf"" SECURE_PATH=""$REPO_BASE/$PROJECT_NAME/neutron/tests/fullstack/cmd:$SECURE_PATH""",4,3
openstack%2Fneutron~583186,openstack/neutron,master,I90dc03cc5b072ac96249ffe3bb779d139e46401d,Forbid to config l3 agent if L3_AGENT_EXTENSIONS not set,ABANDONED,2018-07-17 09:58:07.000000000,2022-12-02 17:27:11.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15309}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-07-17 09:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3e8ad83c35493114bf057cdd45438507b9be969', 'message': 'Forbid to config l3 agent if L3_AGENT_EXTENSIONS not set\n\nAs the other service plugins config the extensions option in AGENT\nsection, so if we use devstack to deploy all-in-one env, the l3_agent\nwill be configured many times(l3 service plugins counts which contain l3\nextension configuration plus neutron), neutron configure it under\nagent section, but others under AGENT section, so it is overrided.\n\nThis patch try to fix it in neutron side, and check if the\nL3_AGENT_EXTENSIONS is not an empty string, then do it.\n\nChange-Id: I90dc03cc5b072ac96249ffe3bb779d139e46401d\nCloses-Bug: #1779978\n'}, {'number': 2, 'created': '2018-07-17 12:47:44.000000000', 'files': ['devstack/lib/l3_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8233d51877fdc48a3a04cce22f91db110e2ac662', 'message': 'Forbid to config l3 agent if L3_AGENT_EXTENSIONS not set\n\nAs the other service plugins config the extensions option in AGENT\nsection, so if we use devstack to deploy all-in-one env, the l3_agent\nwill be configured many times(l3 service plugins counts which contain l3\nextension configuration plus neutron), neutron configure it under\nagent section, but others under AGENT section, so it is overrided.\n\nThis patch try to fix it in neutron side, and check if the\nL3_AGENT_EXTENSIONS is not an empty string, then do it.\n\nChange-Id: I90dc03cc5b072ac96249ffe3bb779d139e46401d\nCloses-Bug: #1779978\n'}]",0,583186,8233d51877fdc48a3a04cce22f91db110e2ac662,13,7,2,15309,,,0,"Forbid to config l3 agent if L3_AGENT_EXTENSIONS not set

As the other service plugins config the extensions option in AGENT
section, so if we use devstack to deploy all-in-one env, the l3_agent
will be configured many times(l3 service plugins counts which contain l3
extension configuration plus neutron), neutron configure it under
agent section, but others under AGENT section, so it is overrided.

This patch try to fix it in neutron side, and check if the
L3_AGENT_EXTENSIONS is not an empty string, then do it.

Change-Id: I90dc03cc5b072ac96249ffe3bb779d139e46401d
Closes-Bug: #1779978
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/583186/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/l3_agent'],1,f3e8ad83c35493114bf057cdd45438507b9be969,bug/1779978," # Forbid to configure the l3 agent if L3_AGENT_EXTENSIONS # is an empty string. if [[ -n ""$L3_AGENT_EXTENSIONS"" ]]; then iniset $NEUTRON_L3_CONF agent extensions ""$L3_AGENT_EXTENSIONS"" fi}"," iniset $NEUTRON_L3_CONF agent extensions ""$L3_AGENT_EXTENSIONS"" }",5,2
openstack%2Fneutron~511395,openstack/neutron,master,Idd4f4f62f6d5f0fe54832627abea45196b8c591b,Modify the firewall V2 configuration,ABANDONED,2017-10-12 06:35:36.000000000,2022-12-02 17:27:06.000000000,,"[{'_account_id': 3}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-12 06:35:36.000000000', 'files': ['doc/source/admin/fwaas-v2-scenario.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e2ffcc7bf149cb434844e39b17888520cfdaf47', 'message': 'Modify the firewall V2 configuration\n\nChange-Id: Idd4f4f62f6d5f0fe54832627abea45196b8c591b\n'}]",3,511395,8e2ffcc7bf149cb434844e39b17888520cfdaf47,8,6,1,25443,,,0,"Modify the firewall V2 configuration

Change-Id: Idd4f4f62f6d5f0fe54832627abea45196b8c591b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/511395/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/fwaas-v2-scenario.rst'],1,8e2ffcc7bf149cb434844e39b17888520cfdaf47,fw_config, extensions = fwaas_v2, extensions = fwaas,1,1
openstack%2Fneutron~540806,openstack/neutron,master,I317e13b09b423910f3d17a209c992f00eb918725,Support for creating router gateway port without fixed_ip.,ABANDONED,2018-02-05 10:04:47.000000000,2022-12-02 17:27:02.000000000,,"[{'_account_id': 1131}, {'_account_id': 7715}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24438}, {'_account_id': 27079}]","[{'number': 1, 'created': '2018-02-05 10:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3406c7149158ad2760ab766595da992b99c68736', 'message': 'Support for creating gateway port without fixed_ip.\n\nWhen the route binding gateway is supported, it does not carry IPs\nand can only communicate with other through floating IP.\nThis patch may be used to save the public IP in public cloud.\n\nCreates a logical router with POST Request Example:\n/v2.0/routers/\n{\n    ""router"": {\n        ""name"": ""router1"",\n        ""external_gateway_info"": {\n            ""network_id"": ""xxx"",\n            ""external_fixed_ips"": []\n        }\n    }\n}\n\nChange-Id: I317e13b09b423910f3d17a209c992f00eb918725\nSigned-off-by: Guoshuai Li <ligs@dtdream.com>\n'}, {'number': 2, 'created': '2018-02-08 09:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df9c593c364479394e138255723c5d2562a47f94', 'message': 'Support for creating router gateway port without fixed_ip.\n\nWhen the router binding gateway is supported, it does not carry IPs\nand can only communicate with other through floating IP.\nThis patch may be used to save the public IP in public cloud.\n\nCreates a logical router with POST Request Example:\n/v2.0/routers/\n{\n    ""router"": {\n        ""name"": ""router1"",\n        ""external_gateway_info"": {\n            ""network_id"": ""xxx"",\n            ""external_fixed_ips"": []\n        }\n    }\n}\n\nChange-Id: I317e13b09b423910f3d17a209c992f00eb918725\nCloses-Bug: #1748132\n'}, {'number': 3, 'created': '2018-02-09 05:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc4adb7370cfdcd40d31c8240ae1baacd6a50855', 'message': 'Support for creating router gateway port without fixed_ip.\n\nWhen the router binding gateway is supported, it does not carry IPs\nand can only communicate with other through floating IP.\nThis patch may be used to save the public IP in public cloud.\n\nCreates a logical router with POST Request Example:\n/v2.0/routers/\n{\n    ""router"": {\n        ""name"": ""router1"",\n        ""external_gateway_info"": {\n            ""network_id"": ""xxx"",\n            ""external_fixed_ips"": []\n        }\n    }\n}\n\nChange-Id: I317e13b09b423910f3d17a209c992f00eb918725\nCloses-Bug: #1748132\n'}, {'number': 4, 'created': '2018-02-12 06:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da597da2bb5e1df70ec8a41dc461a8f0f67efe2e', 'message': 'Support for creating router gateway port without fixed_ip.\n\nWhen the router binding gateway is supported, it does not carry IPs\nand can only communicate with other through floating IP.\nThis patch may be used to save the public IP in public cloud.\n\nCreates a logical router with POST Request Example:\n/v2.0/routers/\n{\n    ""router"": {\n        ""name"": ""router1"",\n        ""external_gateway_info"": {\n            ""network_id"": ""xxx"",\n            ""external_fixed_ips"": []\n        }\n    }\n}\n\nChange-Id: I317e13b09b423910f3d17a209c992f00eb918725\nCloses-Bug: #1748132\n'}, {'number': 5, 'created': '2018-02-26 06:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bad1b749b50da86a2b5c8e55259a61729618ace', 'message': 'Support for creating router gateway port without fixed_ip.\n\nWhen the router binding gateway is supported, it does not carry IPs\nand can only communicate with other through floating IP.\nThis patch may be used to save the public IP in public cloud.\n\nCreates a logical router with POST Request Example:\n/v2.0/routers/\n{\n    ""router"": {\n        ""name"": ""router1"",\n        ""external_gateway_info"": {\n            ""network_id"": ""xxx"",\n            ""external_fixed_ips"": []\n        }\n    }\n}\n\nApiImpact\n\nChange-Id: I317e13b09b423910f3d17a209c992f00eb918725\nCloses-Bug: #1748132\n'}, {'number': 6, 'created': '2018-02-26 07:04:43.000000000', 'files': ['neutron/tests/functional/services/l3_router/test_l3_dvr_ha_router_plugin.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3e346af9650109da9f1159ba654a05a7ae68354', 'message': 'Support for creating router gateway port without fixed_ip.\n\nWhen the router binding gateway is supported, it does not carry IPs\nand can only communicate with other through floating IP.\nThis patch may be used to save the public IP in public cloud.\n\nCreates a logical router with POST Request Example:\n/v2.0/routers/\n{\n    ""router"": {\n        ""name"": ""router1"",\n        ""external_gateway_info"": {\n            ""network_id"": ""xxx"",\n            ""external_fixed_ips"": []\n        }\n    }\n}\n\nApiImpact\n\nChange-Id: I317e13b09b423910f3d17a209c992f00eb918725\nCloses-Bug: #1748132\n'}]",26,540806,e3e346af9650109da9f1159ba654a05a7ae68354,36,12,6,24438,,,0,"Support for creating router gateway port without fixed_ip.

When the router binding gateway is supported, it does not carry IPs
and can only communicate with other through floating IP.
This patch may be used to save the public IP in public cloud.

Creates a logical router with POST Request Example:
/v2.0/routers/
{
    ""router"": {
        ""name"": ""router1"",
        ""external_gateway_info"": {
            ""network_id"": ""xxx"",
            ""external_fixed_ips"": []
        }
    }
}

ApiImpact

Change-Id: I317e13b09b423910f3d17a209c992f00eb918725
Closes-Bug: #1748132
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/540806/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,3406c7149158ad2760ab766595da992b99c68736,bug/1748132," 'fixed_ips': constants.ATTR_NOT_SPECIFIED if ext_ips is None else ext_ips, if ext_ips is None:"," 'fixed_ips': ext_ips or constants.ATTR_NOT_SPECIFIED, if not ext_ips:",3,2
openstack%2Fneutron~520261,openstack/neutron,master,I693a5948637ecf2f0a7705b623034c548f678d90,Check fips bound to host before creating fip ns,ABANDONED,2017-11-16 02:17:36.000000000,2022-12-02 17:26:57.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15309}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 23430}, {'_account_id': 25564}]","[{'number': 1, 'created': '2017-11-16 02:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20d4b86761d08b388bdfce4c9d7f9e9af23ed759', 'message': 'Check if there are fips boud to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check if there are fips boud to host before creating\nfip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 2, 'created': '2017-11-16 09:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ca84588ecbe10b90933a4984c25eb1e307d2494', 'message': 'Check if there are fips bound to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check if there are fips bound to host before creating\nfip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 3, 'created': '2017-11-18 02:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5265ee5f0e5dad404303130fbbf29d2f24c673d0', 'message': 'Check if there are fips bound to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check on agents with ""dvr_snat"" mode if there are fips bound\nto host before creating fip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 4, 'created': '2017-11-18 09:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6afb33c63c4d11f1e46a9dd58ce2f23493eb0684', 'message': 'Check if there are fips bound to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check on agents with ""dvr_snat"" mode if there are fips bound\nto host before creating fip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 5, 'created': '2017-11-20 02:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d0e76cca554d23b49bb9b9a68c3fd638318a9dc', 'message': 'Check if there are fips bound to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check on agents with ""dvr_snat"" mode if there are fips bound\nto host before creating fip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 6, 'created': '2017-11-21 00:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf254290886176ceb157fbebd427dbf51aba45e', 'message': 'Check if there are fips bound to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check on agents with ""dvr_snat"" mode if there are fips bound\nto host before creating fip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 7, 'created': '2017-12-06 02:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8cbd7a80e972b6802da208c7cbf65e0d4178a75', 'message': 'Check if there are fips bound to host before creating fip namespace.\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check on agents with ""dvr_snat"" mode if there are fips bound\nto host before creating fip namespace.\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}, {'number': 8, 'created': '2017-12-13 07:03:00.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86845da5b910f6d52ce1d097c8e16c54d619a0c4', 'message': 'Check fips bound to host before creating fip ns\n\nNow, useless fip namespace is created on network node for DVR.\nWe should check if this is an agent with ""dvr"" mode or there are\nfips bound to host before creating fip namespace\n\nChange-Id: I693a5948637ecf2f0a7705b623034c548f678d90\nCloses-Bug: #1723828\n'}]",20,520261,86845da5b910f6d52ce1d097c8e16c54d619a0c4,52,13,8,23430,,,0,"Check fips bound to host before creating fip ns

Now, useless fip namespace is created on network node for DVR.
We should check if this is an agent with ""dvr"" mode or there are
fips bound to host before creating fip namespace

Change-Id: I693a5948637ecf2f0a7705b623034c548f678d90
Closes-Bug: #1723828
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/520261/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_local_router.py'],1,20d4b86761d08b388bdfce4c9d7f9e9af23ed759,bug/1723828," def get_floatingips_bound_to_host(self): """"""Filter Floating IPs to be hosted on this agent."""""" floating_ips = super(DvrLocalRouter, self).get_floating_ips() return [i for i in floating_ips if self._check_if_floatingip_bound_to_host(i)] floatingips_bound_to_host = self.get_floatingips_bound_to_host() if ex_gw_port and floatingips_bound_to_host:", if ex_gw_port:,8,1
openstack%2Fneutron~523694,openstack/neutron,master,Id7f12da77cacb031f12be87790baf886baa91b0f,Fix project_domain_name and user_domain_name in doc,ABANDONED,2017-11-29 06:04:24.000000000,2022-12-02 17:26:50.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-29 06:04:24.000000000', 'files': ['doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst', 'doc/source/install/controller-install-option2-obs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a4f3795e1ec4d92404f7bdf1a627484c32f28f9', 'message': 'Fix project_domain_name and user_domain_name in doc\n\nChange-Id: Id7f12da77cacb031f12be87790baf886baa91b0f\nCloses-Bug: #1735051\n'}]",0,523694,6a4f3795e1ec4d92404f7bdf1a627484c32f28f9,4,2,1,9414,,,0,"Fix project_domain_name and user_domain_name in doc

Change-Id: Id7f12da77cacb031f12be87790baf886baa91b0f
Closes-Bug: #1735051
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/523694/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst', 'doc/source/install/controller-install-option2-obs.rst']",9,6a4f3795e1ec4d92404f7bdf1a627484c32f28f9,bug/1735051, project_domain_id = default user_domain_id = default, project_domain_name = default user_domain_name = default,24,24
openstack%2Ftripleo-upgrade~865986,openstack/tripleo-upgrade,stable/train,I8e004b9d1dc307fb78471ef24564b89f60148acc,Ensure playbook fails on any error,MERGED,2022-11-29 12:52:48.000000000,2022-12-02 17:16:01.000000000,2022-12-02 17:16:01.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 12:52:48.000000000', 'files': ['files/rename-nics.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/071626ca889b9c7a777cb8b78a421d50e1eb45ae', 'message': ""Ensure playbook fails on any error\n\nUntil now, if nodes were unreachable, the playbook would continue on the\nother hosts.\nWith this patch, if a host is or become unreachable, the playbook will\nfail directly, ensuring we're in a consistent state.\n\nChange-Id: I8e004b9d1dc307fb78471ef24564b89f60148acc\n""}]",1,865986,071626ca889b9c7a777cb8b78a421d50e1eb45ae,8,3,1,28223,,,0,"Ensure playbook fails on any error

Until now, if nodes were unreachable, the playbook would continue on the
other hosts.
With this patch, if a host is or become unreachable, the playbook will
fail directly, ensuring we're in a consistent state.

Change-Id: I8e004b9d1dc307fb78471ef24564b89f60148acc
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/865986/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rename-nics.yaml'],1,071626ca889b9c7a777cb8b78a421d50e1eb45ae,train/rename-nics, any_errors_fatal: true,,1,0
openstack%2Fbarbican-tempest-plugin~841014,openstack/barbican-tempest-plugin,master,I9d36100266e63aedca256a37fc364e089157dab1,Add endpoint_type in configuration,NEW,2022-05-07 14:31:34.000000000,2022-12-02 16:40:57.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-07 14:31:34.000000000', 'files': ['barbican_tempest_plugin/config.py', 'barbican_tempest_plugin/services/key_manager/json/base.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/091e1e86e28715d099a00c00d1fed4a59bb1a963', 'message': 'Add endpoint_type in configuration\n\nChange-Id: I9d36100266e63aedca256a37fc364e089157dab1\n'}]",3,841014,091e1e86e28715d099a00c00d1fed4a59bb1a963,5,2,1,34293,,,0,"Add endpoint_type in configuration

Change-Id: I9d36100266e63aedca256a37fc364e089157dab1
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/14/841014/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/config.py', 'barbican_tempest_plugin/services/key_manager/json/base.py']",2,091e1e86e28715d099a00c00d1fed4a59bb1a963,,from tempest import configCONF = config.CONF kwargs['endpoint_type'] = CONF.barbican_tempest.endpoint_type,,8,1
openstack%2Fcharm-ceph-rbd-mirror~858565,openstack/charm-ceph-rbd-mirror,master,I18054d881ca08bfb0ec3f50c1746e04b3b50302a,Build separately for each supported series and use binary builds,NEW,2022-09-20 18:11:48.000000000,2022-12-02 16:21:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-20 18:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/aa8a6be362141432ed0c1c6ad6ff252c38d38de8', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 2, 'created': '2022-09-20 18:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/ad9227f672e76f32e3dd4713e7df870e03762538', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 3, 'created': '2022-09-20 18:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d3f0ccc79a8e670d365c50c2ce6b9af18fff61df', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 4, 'created': '2022-09-20 18:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/cf0fdc86343cd2620c97861629f5f2c8146128b9', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 5, 'created': '2022-09-20 18:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/413977ec658ffae766e84780afd4293eca2cd8f6', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 6, 'created': '2022-09-21 12:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7391876787a52524aa8883b401ed67ecc897766c', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 7, 'created': '2022-09-21 12:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7d35852f99399e5a293694659572946613e6c8b0', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 8, 'created': '2022-09-21 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/baf1019a5f91ed30600b8fe5606e3b519e8f4d9a', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 9, 'created': '2022-09-21 12:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/0a70803a31e17e71e45ed63707df25670dc60255', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 10, 'created': '2022-09-21 13:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/b9938dc83f450373dc6543be134a08f9ef4db1f0', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\n'}, {'number': 11, 'created': '2022-09-28 19:02:23.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/kinetic-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d92143e3815bba7571c782dbfde6eb23d95e1547', 'message': 'Build separately for each supported series and use binary builds\n\nChange-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/809\n'}]",3,858565,d92143e3815bba7571c782dbfde6eb23d95e1547,28,2,11,20634,,,0,"Build separately for each supported series and use binary builds

Change-Id: I18054d881ca08bfb0ec3f50c1746e04b3b50302a
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/809
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/65/858565/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,aa8a6be362141432ed0c1c6ad6ff252c38d38de8,batch-update, charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs},11,4
openstack%2Fswift~866239,openstack/swift,master,Icca4718a1cea1d21c1e858e9048552946a9f739a,DB locks shouldn't squelch errors,MERGED,2022-11-30 23:48:53.000000000,2022-12-02 16:14:40.000000000,2022-12-02 16:13:35.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 23:48:53.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/861d13c513ab99b027ea94f192a0438c1f6ee542', 'message': ""DB locks shouldn't squelch errors\n\nChange-Id: Icca4718a1cea1d21c1e858e9048552946a9f739a\n""}]",4,866239,861d13c513ab99b027ea94f192a0438c1f6ee542,10,2,1,15343,,,0,"DB locks shouldn't squelch errors

Change-Id: Icca4718a1cea1d21c1e858e9048552946a9f739a
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/866239/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py']",2,861d13c513ab99b027ea94f192a0438c1f6ee542,," with self.assertRaises(RuntimeError) as raised, broker.lock(): raise RuntimeError('boom!') self.assertEqual(raised.exception.args[0], 'boom!') # broker2 raises the timeout with self.assertRaises(LockTimeout) as raised: with broker2.lock(): pass self.assertEqual(str(raised.exception), '0.1 seconds: %s' % broker.db_file) # and the timeout bubbles up out of broker.lock() with self.assertRaises(LockTimeout) as raised: with broker.lock(): with broker2.lock(): pass"," with self.assertRaises(LockTimeout) as raised, \ broker2.lock(): pass",26,13
openstack%2Fnova~866454,openstack/nova,stable/wallaby,Ie756a205f6b1053d8ed152d4743313eba331847f,"Revert ""[stable-only] Use os-brick from source in wallaby""",MERGED,2022-12-02 12:25:27.000000000,2022-12-02 15:38:06.000000000,2022-12-02 15:36:05.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-02 12:25:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c7b62d02c93f5e5360fc0392012c7285638108e', 'message': 'Revert ""[stable-only] Use os-brick from source in wallaby""\n\nThis reverts commit dfdc219c823000791da3d3b4ed2088701414c5f5.\n\nReason for revert: this is not needed as we are already installing form souces and this is more restictive then required.\n\nChange-Id: Ie756a205f6b1053d8ed152d4743313eba331847f\n'}]",1,866454,5c7b62d02c93f5e5360fc0392012c7285638108e,9,4,1,11604,,,0,"Revert ""[stable-only] Use os-brick from source in wallaby""

This reverts commit dfdc219c823000791da3d3b4ed2088701414c5f5.

Reason for revert: this is not needed as we are already installing form souces and this is more restictive then required.

Change-Id: Ie756a205f6b1053d8ed152d4743313eba331847f
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/866454/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5c7b62d02c93f5e5360fc0392012c7285638108e,, - openstack/os-brick," # Since wallaby is EM, we need to fetch os-brick # from source and not released version. - name: opendev.org/openstack/os-brick override-branch: stable/wallaby",1,4
openstack%2Fneutron~865901,openstack/neutron,stable/xena,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:33:35.000000000,2022-12-02 14:51:56.000000000,2022-12-02 14:50:47.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:33:35.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e6ac2b43751ec0e86bd906a80da6126575444b8', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",2,865901,7e6ac2b43751ec0e86bd906a80da6126575444b8,16,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/865901/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,7e6ac2b43751ec0e86bd906a80da6126575444b8,disable_sgl-stable/xena," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Freleases~860869,openstack/releases,master,Icc58e0246d91af4d69925764027e426e03e3a259,Release and branch cut test for 2023.1 Antelope,MERGED,2022-10-10 19:01:29.000000000,2022-12-02 14:47:43.000000000,2022-12-02 14:47:43.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-10 19:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9b46b4358b43ce89c49b602d28c2a679388ce784', 'message': 'Release and branch cut test for 2023.1 Antelope\n\nChange-Id: Icc58e0246d91af4d69925764027e426e03e3a259\n'}, {'number': 2, 'created': '2022-11-04 19:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eca9ff5f8a74aa869c984efee15cfd192a7678ba', 'message': 'Release and branch cut test for 2023.1 Antelope\n\nChange-Id: Icc58e0246d91af4d69925764027e426e03e3a259\n'}, {'number': 3, 'created': '2022-12-02 13:34:57.000000000', 'files': ['deliverables/antelope/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/55534be2115951f8eaa82b4d5414ed699e9fa152', 'message': 'Release and branch cut test for 2023.1 Antelope\n\nChange-Id: Icc58e0246d91af4d69925764027e426e03e3a259\n'}]",5,860869,55534be2115951f8eaa82b4d5414ed699e9fa152,14,4,3,17685,,,0,"Release and branch cut test for 2023.1 Antelope

Change-Id: Icc58e0246d91af4d69925764027e426e03e3a259
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/860869/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/release-test.yaml'],1,9b46b4358b43ce89c49b602d28c2a679388ce784,,releases: - version: 4.0.0 projects: - repo: openstack/release-test hash: 055b8a76be84ece98464114712f086571c009d28 branches: - name: stable/2023.1 location: 4.0.0,,8,0
openstack%2Fproject-config~866471,openstack/project-config,master,I20ed2c48bc223bd13d04c297e877f47c02141e4d,"Revert ""Ensure NetworkManager doesn't override /etc/resolv.conf""",MERGED,2022-12-02 13:42:48.000000000,2022-12-02 14:47:09.000000000,2022-12-02 14:02:01.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 13:42:48.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-boot-settings'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a513f0036e1592e3fec5c9518e580cee8ba1091', 'message': 'Revert ""Ensure NetworkManager doesn\'t override /etc/resolv.conf""\n\nBug in the inline Python\'s indentation levels. Please correct and\nresubmit with more testing included where possible.\n\nThis reverts commit 368bb77ee36d3bdae42cf77e57cfaa2718f383f4.\n\nChange-Id: I20ed2c48bc223bd13d04c297e877f47c02141e4d\n'}]",0,866471,7a513f0036e1592e3fec5c9518e580cee8ba1091,8,3,1,5263,,,0,"Revert ""Ensure NetworkManager doesn't override /etc/resolv.conf""

Bug in the inline Python's indentation levels. Please correct and
resubmit with more testing included where possible.

This reverts commit 368bb77ee36d3bdae42cf77e57cfaa2718f383f4.

Change-Id: I20ed2c48bc223bd13d04c297e877f47c02141e4d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/866471/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/finalise.d/89-boot-settings'],1,7a513f0036e1592e3fec5c9518e580cee8ba1091,unbound/networkmanager,," # Configure NetworkManager to not manage /etc/resolv.conf if [ -d /etc/NetworkManager/conf.d ]; then cat <<EOF |python3 import configparser p = configparser.SafeConfigParser() p.set('main', 'rc-manager', 'unmanaged') with open('/etc/NetworkManager/conf.d/rc-manager.conf', 'w') as fh: p.write(fh) EOF fi ",0,12
openstack%2Freleases~864313,openstack/releases,master,Id14eac66165efd2d9e5bf22c481ea89df509f97a,[manila][zed] Add project tracking schedule,MERGED,2022-11-11 21:20:48.000000000,2022-12-02 14:42:14.000000000,2022-12-02 11:08:25.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-11 21:20:48.000000000', 'files': ['doc/source/antelope/schedule.rst', 'doc/source/antelope/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0380f74f7f06e917a2b08a013edb2658194c3c61', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Id14eac66165efd2d9e5bf22c481ea89df509f97a\n'}]",3,864313,0380f74f7f06e917a2b08a013edb2658194c3c61,8,3,1,29632,,,0,"[manila][zed] Add project tracking schedule

Add code and spec submission deadlines that the manila
project maintainers adhere to.

Change-Id: Id14eac66165efd2d9e5bf22c481ea89df509f97a
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/864313/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/antelope/schedule.rst', 'doc/source/antelope/schedule.yaml']",2,0380f74f7f06e917a2b08a013edb2658194c3c61,, - a-manila-spec-freeze project-specific: - a-manila-new-driver-deadline - a-manila-fpfreeze,,38,0
openstack%2Freleases~862927,openstack/releases,master,Ic45d4a13f63846e5b60bde800492da7c851addf8,Fix stable branch naming validation,MERGED,2022-10-28 15:06:38.000000000,2022-12-02 14:37:04.000000000,2022-12-02 14:37:04.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-28 15:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e5e1400e60748075b2295700ab22539d52435681', 'message': 'Fix stable branch naming validation\n\nThis fix aim to solve issues with the new naming convention related to\nSLURP releases.\n\nWithout that our validation will fail to validate stable branches named\nlike `stable/2023.1`.\n\nChange-Id: Ic45d4a13f63846e5b60bde800492da7c851addf8\n'}, {'number': 2, 'created': '2022-11-03 09:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a2fab423d1e391e3fa59dd911fb78a5dc3ee70ca', 'message': 'Fix stable branch naming validation\n\nThis fix aim to solve issues with the new naming convention related to\nSLURP releases.\n\nWithout that our validation will fail to validate stable branches named\nlike `stable/2023.1`.\n\nChange-Id: Ic45d4a13f63846e5b60bde800492da7c851addf8\n'}, {'number': 3, 'created': '2022-12-02 13:34:51.000000000', 'files': ['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/032f60e961d1aebdbe5a890b0804cc82537d5ab2', 'message': 'Fix stable branch naming validation\n\nThis fix aim to solve issues with the new naming convention related to\nSLURP releases.\n\nWithout that our validation will fail to validate stable branches named\nlike `stable/2023.1`.\n\nChange-Id: Ic45d4a13f63846e5b60bde800492da7c851addf8\n'}]",7,862927,032f60e961d1aebdbe5a890b0804cc82537d5ab2,13,3,3,28522,,,0,"Fix stable branch naming validation

This fix aim to solve issues with the new naming convention related to
SLURP releases.

Without that our validation will fail to validate stable branches named
like `stable/2023.1`.

Change-Id: Ic45d4a13f63846e5b60bde800492da7c851addf8
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/862927/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py']",2,e5e1400e60748075b2295700ab22539d52435681,fix-stable," elif branch_mode == 'std': # Looking for SLURP naming (e.g: 2023.1) if re.search('^[0-9]{4}\.[1]{1}$', series, re.I) is None: context.error( 'cycle-based projects must match series names ' 'for stable branches. %s should be stable/%s ' 'or similar to something like stable/2023.1' % ( branch.name, deliv.series)) 'for stable branches. %s should be stable/%s ' 'or similar to something like stable/2023.1' % (", 'for stable branches. %s should be stable/%s' % (,33,1
openstack%2Freleases~843623,openstack/releases,master,Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78,Add SLURP mark for Releases page template,MERGED,2022-05-27 14:36:37.000000000,2022-12-02 14:37:01.000000000,2022-12-02 14:37:01.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-27 14:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b73027f214cf44a849bf13fb4ffcd62e8cf6a039', 'message': 'WIP: Add SLURP mark for Releases page template\n\nThis patch adds to the Releases page template the possibility to\nindicate whether a release is a SLURP release.\n\nChange-Id: Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78\n'}, {'number': 2, 'created': '2022-09-30 13:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5352f4de24cb9483c7af2fa96c8551baea781bed', 'message': 'Add SLURP mark for Releases page template\n\nThis patch adds to the Releases page template the possibility to\nindicate whether a release is a SLURP release.\n\nChange-Id: Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78\n'}, {'number': 3, 'created': '2022-09-30 13:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6e89b4d581f28f00e076b6e6643dfe10d1378f72', 'message': 'Add SLURP mark for Releases page template\n\nThis patch adds to the Releases page template the possibility to\nindicate whether a release is a SLURP release.\n\nChange-Id: Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78\n'}, {'number': 4, 'created': '2022-09-30 13:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a3cd756cf3b5be0150a617326e8464e5ae611188', 'message': 'Add SLURP mark for Releases page template\n\nThis patch adds to the Releases page template the possibility to\nindicate whether a release is a SLURP release.\n\nChange-Id: Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78\n'}, {'number': 5, 'created': '2022-12-02 10:47:30.000000000', 'files': ['doc/source/index.rst', 'doc/source/_themes/releases/series_status_table.tmpl', 'openstack_releases/series_status_schema.yaml', 'data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3306e86b986d8ddad00ce4e64346dfe5a64ebb3b', 'message': 'Add SLURP mark for Releases page template\n\nThis patch adds to the Releases page template the possibility to\nindicate whether a release is a SLURP release.\n\nChange-Id: Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78\n'}]",3,843623,3306e86b986d8ddad00ce4e64346dfe5a64ebb3b,17,3,5,17685,,,0,"Add SLURP mark for Releases page template

This patch adds to the Releases page template the possibility to
indicate whether a release is a SLURP release.

Change-Id: Ie0dcddfe271e8fd77a6d40fa54c8ef2ee6914b78
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/843623/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/_themes/releases/series_status_table.tmpl', 'data/series_status.yaml']",3,b73027f214cf44a849bf13fb4ffcd62e8cf6a039,slurp-releases, slurp: yes slurp: yes,,17,1
openstack%2Fkolla~866304,openstack/kolla,master,Iff646c87a5c8d8d1831fea00ae18457f93cca2e5,telegraf: mark buildable,MERGED,2022-12-01 08:42:13.000000000,2022-12-02 14:25:39.000000000,2022-12-02 14:24:23.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-12-01 08:42:13.000000000', 'files': ['kolla/image/unbuildable.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d1d26c867493800b83827e991483c447b89ff87a', 'message': 'telegraf: mark buildable\n\nChange-Id: Iff646c87a5c8d8d1831fea00ae18457f93cca2e5\n'}]",0,866304,d1d26c867493800b83827e991483c447b89ff87a,9,4,1,22629,,,0,"telegraf: mark buildable

Change-Id: Iff646c87a5c8d8d1831fea00ae18457f93cca2e5
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/866304/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/unbuildable.py'],1,d1d26c867493800b83827e991483c447b89ff87a,,," # Issue with telegraf: # https://github.com/influxdata/telegraf/issues/12303 ""telegraf"", # Package is not signed ""telegraf"", # Package is not signed",0,4
openstack%2Fpython-openstackclient~866183,openstack/python-openstackclient,master,I108efec2c8deda50fcb9cc84f313602bed2ac15c,"Revert ""Don't look up project by id if given id""",MERGED,2022-11-30 16:33:47.000000000,2022-12-02 14:24:50.000000000,2022-12-02 14:21:51.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-30 16:33:47.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/85254fbeb4bc30a0e947de9557a87ff1e7e2a3b2', 'message': 'Revert ""Don\'t look up project by id if given id""\n\nThis reverts commit 042be7c7fe89f5a1a190af90d5980205d995941b. This\nsolution worked but it was confusing. The issue that the author was\nseeing was presumably due to users not being able to list projects but in\ntheory the \'openstackclient.image.common.find_project\' function that was\nbeing called here should have already handle this. It transpires however\nthat there was a bug in this and we weren\'t correctly handling HTTP 403\nerrors correctly. This bug has since been fixed in change\nI2ea2def607ec5be112e42d53a1e660fef0cdd69c meaning this change is no\nlonger necessary. Remove it and simplify the code somewhat.\n\nChange-Id: I108efec2c8deda50fcb9cc84f313602bed2ac15c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,866183,85254fbeb4bc30a0e947de9557a87ff1e7e2a3b2,8,3,1,15334,,,0,"Revert ""Don't look up project by id if given id""

This reverts commit 042be7c7fe89f5a1a190af90d5980205d995941b. This
solution worked but it was confusing. The issue that the author was
seeing was presumably due to users not being able to list projects but in
theory the 'openstackclient.image.common.find_project' function that was
being called here should have already handle this. It transpires however
that there was a bug in this and we weren't correctly handling HTTP 403
errors correctly. This bug has since been fixed in change
I2ea2def607ec5be112e42d53a1e660fef0cdd69c meaning this change is no
longer necessary. Remove it and simplify the code somewhat.

Change-Id: I108efec2c8deda50fcb9cc84f313602bed2ac15c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/866183/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,85254fbeb4bc30a0e947de9557a87ff1e7e2a3b2,trivial," project_id = common.find_project( identity_client, parsed_args.project, parsed_args.project_domain, ).id","from oslo_utils import uuidutils if uuidutils.is_uuid_like(parsed_args.project): project_id = parsed_args.project else: project_id = common.find_project( identity_client, parsed_args.project, parsed_args.project_domain, ).id",5,9
openstack%2Fopenstacksdk~865266,openstack/openstacksdk,master,Ia9c622dc284234bb618c2caf3d035097bba58ec5,coe: Add support for clusters,MERGED,2022-11-22 11:36:23.000000000,2022-12-02 14:24:02.000000000,2022-12-02 14:21:54.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-22 11:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c25abc974f733e57f972eb5faa82f22b7686350c', 'message': 'coe: Add support for clusters\n\nThis allows us to start migrating the coe cloud layer to this newly\nintroduced proxy layer.\n\nChange-Id: Ia9c622dc284234bb618c2caf3d035097bba58ec5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-11-25 18:06:38.000000000', 'files': ['openstack/tests/unit/container_infrastructure_management/__init__.py', 'tools/print-services.py', 'openstack/container_infrastructure_management/container_infrastructure_management_service.py', 'openstack/tests/unit/container_infrastructure_management/v1/test_cluster.py', 'openstack/tests/unit/container_infrastructure_management/v1/__init__.py', 'openstack/_services_mixin.py', 'openstack/container_infrastructure_management/__init__.py', 'openstack/container_infrastructure_management/v1/__init__.py', 'openstack/container_infrastructure_management/v1/_proxy.py', 'openstack/container_infrastructure_management/v1/cluster.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/88d8d53d46ad158a732eeccd3ce46bd15a4f882d', 'message': 'coe: Add support for clusters\n\nThis allows us to start migrating the coe cloud layer to this newly\nintroduced proxy layer.\n\nChange-Id: Ia9c622dc284234bb618c2caf3d035097bba58ec5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,865266,88d8d53d46ad158a732eeccd3ce46bd15a4f882d,9,2,2,15334,,,0,"coe: Add support for clusters

This allows us to start migrating the coe cloud layer to this newly
introduced proxy layer.

Change-Id: Ia9c622dc284234bb618c2caf3d035097bba58ec5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/66/865266/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/container_infrastructure_management/__init__.py', 'tools/print-services.py', 'openstack/container_infrastructure_management/container_infrastructure_management_service.py', 'openstack/tests/unit/container_infrastructure_management/v1/test_cluster.py', 'openstack/tests/unit/container_infrastructure_management/v1/__init__.py', 'openstack/_services_mixin.py', 'openstack/container_infrastructure_management/__init__.py', 'openstack/container_infrastructure_management/v1/__init__.py', 'openstack/container_infrastructure_management/v1/_proxy.py', 'openstack/container_infrastructure_management/v1/cluster.py']",10,c25abc974f733e57f972eb5faa82f22b7686350c,coe-gaps,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import exceptions from openstack import resource from openstack import utils class Cluster(resource.Resource): resources_key = 'clusters' base_path = '/clusters' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True allow_patch = True #: The endpoint URL of COE API exposed to end-users. api_address = resource.Body('api_address') #: The UUID of the cluster template. cluster_template_id = resource.Body('cluster_template_id') #: Version info of chosen COE in bay/cluster for helping client in picking #: the right version of client. coe_version = resource.Body('coe_version') #: The timeout for cluster creation in minutes. The value expected is a #: positive integer. If the timeout is reached during cluster creation #: process, the operation will be aborted and the cluster status will be #: set to CREATE_FAILED. Defaults to 60. create_timeout = resource.Body('create_timeout', type=int) #: The date and time when the resource was created. The date and time stamp #: format is ISO 8601:: #: #: CCYY-MM-DDThh:mm:ss±hh:mm #: #: For example, `2015-08-27T09:49:58-05:00`. The ±hh:mm value, if included, #: is the time zone as an offset from UTC. created_at = resource.Body('created_at') #: The custom discovery url for node discovery. This is used by the COE to #: discover the servers that have been created to host the containers. The #: actual discovery mechanism varies with the COE. In some cases, the #: service fills in the server info in the discovery service. In other #: cases,if the discovery_url is not specified, the service will use the #: public discovery service at https://discovery.etcd.io. In this case, the #: service will generate a unique url here for each bay and store the info #: for the servers. discovery_url = resource.Body('discovery_url') #: The name or ID of the network to provide connectivity to the internal #: network for the bay/cluster. fixed_network = resource.Body('fixed_network') #: The fixed subnet to use when allocating network addresses for nodes in #: bay/cluster. fixed_subnet = resource.Body('fixed_subnet') #: The flavor name or ID to use when booting the node servers. Defaults to #: m1.small. flavor_id = resource.Body('flavor_id') #: Whether to enable using the floating IP of cloud provider. Some cloud #: providers use floating IPs while some use public IPs. When set to true, #: floating IPs will be used. If this value is not provided, the value of #: ``floating_ip_enabled`` provided in the template will be used. is_floating_ip_enabled = resource.Body('floating_ip_enabled', type=bool) #: Whether to enable the master load balancer. Since multiple masters may #: exist in a bay/cluster, a Neutron load balancer is created to provide #: the API endpoint for the bay/cluster and to direct requests to the #: masters. In some cases, such as when the LBaaS service is not available, #: this option can be set to false to create a bay/cluster without the load #: balancer. In this case, one of the masters will serve as the API #: endpoint. The default is true, i.e. to create the load balancer for the #: bay. is_master_lb_enabled = resource.Body('master_lb_enabled', type=bool) #: The name of the SSH keypair to configure in the bay/cluster servers for #: SSH access. Users will need the key to be able to ssh to the servers in #: the bay/cluster. The login name is specific to the bay/cluster driver. #: For example, with fedora-atomic image the default login name is fedora. keypair = resource.Body('keypair') #: Arbitrary labels in the form of key=value pairs. The accepted keys and #: valid values are defined in the bay/cluster drivers. They are used as a #: way to pass additional parameters that are specific to a bay/cluster #: driver. labels = resource.Body('labels', type=list) #: A list of floating IPs of all master nodes. master_addresses = resource.Body('master_addresses', type=list) #: The number of servers that will serve as master for the bay/cluster. Set #: to more than 1 master to enable High Availability. If the option #: master-lb-enabled is specified in the baymodel/cluster template, the #: master servers will be placed in a load balancer pool. Defaults to 1. master_count = resource.Body('master_count', type=int) #: The flavor of the master node for this baymodel/cluster template. master_flavor_id = resource.Body('master_flavor_id') #: Name of the resource. name = resource.Body('name') #: The number of servers that will serve as node in the bay/cluster. #: Defaults to 1. node_count = resource.Body('node_count', type=int) #: A list of floating IPs of all servers that serve as nodes. node_addresses = resource.Body('node_addresses', type=list) #: The reference UUID of orchestration stack from Heat orchestration #: service. stack_id = resource.Body('stack_id') #: The current state of the bay/cluster. status = resource.Body('status') #: The reason of bay/cluster current status. status_reason = resource.Body('reason') #: The date and time when the resource was updated. The date and time stamp #: format is ISO 8601:: #: #: CCYY-MM-DDThh:mm:ss±hh:mm #: #: For example, `2015-08-27T09:49:58-05:00`. The ±hh:mm value, if included, #: is the time zone as an offset from UTC. If the updated_at date and time #: stamp is not set, its value is null. updated_at = resource.Body('updated_at') #: The UUID of the cluster. uuid = resource.Body('uuid', alternate_id=True) def resize(self, session, *, node_count, nodes_to_remove=None): """"""Resize the cluster. :param node_count: The number of servers that will serve as node in the bay/cluster. The default is 1. :param nodes_to_remove: The server ID list will be removed if downsizing the cluster. :returns: The UUID of the resized cluster. :raises: :exc:`~openstack.exceptions.ResourceNotFound` if the resource was not found. """""" url = utils.urljoin(Cluster.base_path, self.id, 'actions', 'resize') headers = {'Accept': ''} body = { 'node_count': node_count, 'nodes_to_remove': nodes_to_remove, } response = session.post(url, json=body, headers=headers) exceptions.raise_from_response(response) return response['uuid'] def upgrade(self, session, *, cluster_template, max_batch_size=None): """"""Upgrade the cluster. :param cluster_template: The UUID of the cluster template. :param max_batch_size: The max batch size each time when doing upgrade. The default is 1 :returns: The UUID of the updated cluster. :raises: :exc:`~openstack.exceptions.ResourceNotFound` if the resource was not found. """""" url = utils.urljoin(Cluster.base_path, self.id, 'actions', 'upgrade') headers = {'Accept': ''} body = { 'cluster_template': cluster_template, 'max_batch_size': max_batch_size, } response = session.post(url, json=body, headers=headers) exceptions.raise_from_response(response) return response['uuid'] ",,372,8
openstack%2Fneutron~865993,openstack/neutron,stable/yoga,I6b097d8409318a5dfe17e9673adb6c1431a59b0b,Set bigger swap in the functional and fullstack jobs,MERGED,2022-11-29 15:38:58.000000000,2022-12-02 14:24:02.000000000,2022-12-02 14:21:35.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:38:58.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aeed2f44a205d2b221d3aab16ddcd0d215925d87', 'message': 'Set bigger swap in the functional and fullstack jobs\n\nAs we are hitting some memory limits (again) in functional tests\njob, lets configure 8GB of swap in all functional and fullstack jobs.\n\nBefore that patch swap was configured to 4GB only in the FIPS jobs. Now\nit will be set to 8GB in all functional and fullstack jobs.\n\nCloses-Bug: #1966394\n\nChange-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b\n(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)\n'}]",1,865993,aeed2f44a205d2b221d3aab16ddcd0d215925d87,9,4,1,11975,,,0,"Set bigger swap in the functional and fullstack jobs

As we are hitting some memory limits (again) in functional tests
job, lets configure 8GB of swap in all functional and fullstack jobs.

Before that patch swap was configured to 4GB only in the FIPS jobs. Now
it will be set to 8GB in all functional and fullstack jobs.

Closes-Bug: #1966394

Change-Id: I6b097d8409318a5dfe17e9673adb6c1431a59b0b
(cherry picked from commit b8dcb0b7afe06f92090d5d2c366b9aae3a532ebc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/865993/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,aeed2f44a205d2b221d3aab16ddcd0d215925d87,improve-neutron-ci-stable/yoga, configure_swap_size: 8192, configure_swap_size: 4096 configure_swap_size: 4096,1,2
openstack%2Fpython-openstackclient~861546,openstack/python-openstackclient,master,Ib9985812bfd98320b75f3a82bb594a0daa6e4d93,Use the compute SDK in server list,MERGED,2022-10-16 23:27:55.000000000,2022-12-02 14:23:55.000000000,2022-12-02 14:21:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-10-16 23:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6d75a6e64add42a3fa498436b9d5386df39d570', 'message': 'Use the compute SDK in server list\n\nUpdate server list to use the compute component of the OpenStack SDK\ninstead of directly using the nova interface. This change depends on SDK\nversion 0.102.0 for automatic client-side query filters.\n\nChange-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93\n'}, {'number': 2, 'created': '2022-10-26 01:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c8750e748c02d8f627c1fe67f8b4e3090d4bb0cd', 'message': 'Use the compute SDK in server list\n\nUpdate server list to use the compute component of the OpenStack SDK\ninstead of directly using the nova interface. This change depends on SDK\nversion 0.102.0 for automatic client-side query filters.\n\nChange-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93\n'}, {'number': 3, 'created': '2022-10-29 01:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b1176cf6b1167d70ebe0d4db31fa9be367f73666', 'message': 'Use the compute SDK in server list\n\nUpdate server list to use the compute component of the OpenStack SDK\ninstead of directly using the nova interface. This change depends on SDK\nversion 0.102.0 for automatic client-side query filters.\n\nChange-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93\n'}, {'number': 4, 'created': '2022-11-12 18:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7542f71f5eb2a9795ed4d0b90b756271069c7dc1', 'message': 'Use the compute SDK in server list\n\nUpdate server list to use the compute component of the OpenStack SDK\ninstead of directly using the nova interface. This change depends on SDK\nversion 0.102.0 for automatic client-side query filters.\n\nChange-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93\n'}, {'number': 5, 'created': '2022-11-20 18:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/adfeddc5562e5c7340338963f4c0087c5de464c1', 'message': 'Use the compute SDK in server list\n\nUpdate server list to use the compute component of the OpenStack SDK\ninstead of directly using the nova interface. This change depends on SDK\nversion 0.102.0 for automatic client-side query filters.\n\nChange-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93\n'}, {'number': 6, 'created': '2022-11-30 01:33:51.000000000', 'files': ['releasenotes/notes/nova-gaps-server-list-to-sdk-88c8bfc10a9e3032.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c97f73ce2a897fe6b83f08de1ce6e1865e9a83c5', 'message': 'Use the compute SDK in server list\n\nUpdate server list to use the compute component of the OpenStack SDK\ninstead of directly using the nova interface. This change depends on SDK\nversion 0.102.0 for automatic client-side query filters.\n\nChange-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93\n'}]",13,861546,c97f73ce2a897fe6b83f08de1ce6e1865e9a83c5,23,3,6,35355,,,0,"Use the compute SDK in server list

Update server list to use the compute component of the OpenStack SDK
instead of directly using the nova interface. This change depends on SDK
version 0.102.0 for automatic client-side query filters.

Change-Id: Ib9985812bfd98320b75f3a82bb594a0daa6e4d93
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/46/861546/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",4,b6d75a6e64add42a3fa498436b9d5386df39d570,nova-gaps,"class AddressesColumn(cliff_columns.FormattableColumn): """"""Generate a formatted string of a server's addresses."""""" def human_readable(self): try: return utils.format_dict_of_list({ k: [i['addr'] for i in v if 'addr' in i] for k, v in self._value.items()}) except Exception: return 'N/A' class HostColumn(cliff_columns.FormattableColumn): """"""Generate a formatted string of a hostname."""""" def human_readable(self): if self._value is None: return '' return self._value compute_client = self.app.client_manager.sdk_connection.compute flavor = compute_client.find_flavor(parsed_args.flavor) if flavor is None: msg = _('Unable to find flavor: %s') % parsed_args.flavor raise exceptions.CommandError(msg) flavor_id = flavor.id 'project_id': project_id, if parsed_args.instance_name is not None: search_opts['instance_name'] = parsed_args.instance_name if not sdk_utils.supports_microversion(compute_client, '2.26'): if not sdk_utils.supports_microversion(compute_client, '2.26'): if not sdk_utils.supports_microversion(compute_client, '2.73'): if not sdk_utils.supports_microversion(compute_client, '2.73'): if parsed_args.limit is not None: search_opts['limit'] = parsed_args.limit if not sdk_utils.supports_microversion(compute_client, '2.66'): 'task_state', 'power_state', columns += ('addresses',) # TODO(dannosliwcd): Verify in code review: ""default"" behavior changes # here by switching to the SDK. Direct nova client access defaults to # microversion 2.1 (the else case below). SDK defaults to None (the if # case). Is it okay that the default command output changes in this # way? Old behavior can be retained with --os-compute-api-version 2.1 if sdk_utils.supports_microversion(compute_client, '2.47'): 'availability_zone', 'hypervisor_hostname', columns += ('project_id',) columns += ('created_at',) columns += ('task_state',) columns += ('power_state',) columns += ('flavor_id',) columns += ('availability_zone',) columns += ('hypervisor_hostname',) if parsed_args.marker is not None: marker_id = compute_client.find_server(parsed_args.marker).id search_opts['marker'] = marker_id data = list(compute_client.servers(**search_opts)) flavors[f_id] = compute_client.find_flavor(f_id) flavors_list = compute_client.flavors(is_public=None) if sdk_utils.supports_microversion(compute_client, '2.69'): if 'id' in s.image and s.image.id is not None: if not sdk_utils.supports_microversion(compute_client, '2.47'): if hasattr(s, 'security_groups') and s.security_groups is not None: sdk_utils.supports_microversion(compute_client, '2.16') and if any([s.host_status is not None for s in data]): 'task_state', 'power_state', 'availability_zone', 'host', 'power_state': PowerStateColumn, 'addresses': AddressesColumn, 'hypervisor_hostname': HostColumn,"," compute_client = self.app.client_manager.compute flavor_id = utils.find_resource( compute_client.flavors, parsed_args.flavor, ).id 'instance_name': parsed_args.instance_name, 'tenant_id': project_id, if compute_client.api_version < api_versions.APIVersion('2.26'): if compute_client.api_version < api_versions.APIVersion('2.26'): if compute_client.api_version < api_versions.APIVersion('2.73'): if compute_client.api_version < api_versions.APIVersion('2.73'): if compute_client.api_version < api_versions.APIVersion('2.66'): 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', columns += ('networks',) if compute_client.api_version >= api_versions.APIVersion('2.47'): 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', marker_id = None columns += ('tenant_id',) columns += ('created',) columns += ('OS-EXT-STS:task_state',) columns += ('OS-EXT-STS:power_state',) columns += ('Flavor ID',) columns += ('OS-EXT-AZ:availability_zone',) columns += ('OS-EXT-SRV-ATTR:host',) if parsed_args.marker: marker_id = utils.find_resource( compute_client.servers, parsed_args.marker, ).id data = compute_client.servers.list( search_opts=search_opts, marker=marker_id, limit=parsed_args.limit, ) flavors[f_id] = compute_client.flavors.get(f_id) flavors_list = compute_client.flavors.list(is_public=None) if compute_client.api_version >= api_versions.APIVersion('2.69'): if 'id' in s.image: if compute_client.api_version < api_versions.APIVersion('2.47'): if hasattr(s, 'security_groups'): compute_client.api_version >= api_versions.APIVersion('2.16') and if any([hasattr(s, 'host_status') for s in data]): 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'OS-EXT-STS:power_state': PowerStateColumn, 'networks': format_columns.DictListColumn,",203,188
openstack%2Fpython-openstackclient~863991,openstack/python-openstackclient,master,I93e2a4e0a4c7ec07da0c78a171f3d787125af053,tests: Convert network tests to use 'parse_output',MERGED,2022-11-08 11:24:01.000000000,2022-12-02 14:21:49.000000000,2022-12-02 14:21:49.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-08 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9864c16aecb9585639580b01fe7f32e4bc1b2dcb', 'message': ""tests: Convert network tests to use 'parse_output'\n\nChange-Id: I93e2a4e0a4c7ec07da0c78a171f3d787125af053\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-11-08 16:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/087b4657b72682015d50464c2bc94639176bb574', 'message': ""tests: Convert network tests to use 'parse_output'\n\nChange-Id: I93e2a4e0a4c7ec07da0c78a171f3d787125af053\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-11-29 16:22:15.000000000', 'files': ['openstackclient/tests/functional/network/v2/test_security_group.py', 'openstackclient/tests/functional/network/v2/test_subnet.py', 'openstackclient/tests/functional/network/v2/test_network_segment_range.py', 'openstackclient/tests/functional/network/v2/test_security_group_rule.py', 'openstackclient/tests/functional/network/v2/test_network.py', 'openstackclient/tests/functional/network/v2/test_network_ndp_proxy.py', 'openstackclient/tests/functional/network/v2/test_network_qos_policy.py', 'openstackclient/tests/functional/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/functional/network/v2/test_router.py', 'openstackclient/tests/functional/network/v2/common.py', 'openstackclient/tests/functional/network/v2/test_network_flavor_profile.py', 'openstackclient/tests/functional/network/v2/test_floating_ip.py', 'openstackclient/tests/functional/network/v2/test_network_flavor.py', 'openstackclient/tests/functional/network/v2/test_address_group.py', 'openstackclient/tests/functional/network/v2/test_port.py', 'openstackclient/tests/functional/network/v2/test_network_rbac.py', 'openstackclient/tests/functional/network/v2/test_network_qos_rule_type.py', 'openstackclient/tests/functional/network/v2/test_network_meter.py', 'openstackclient/tests/functional/network/v2/test_network_segment.py', 'openstackclient/tests/functional/network/v2/test_network_service_provider.py', 'openstackclient/tests/functional/network/v2/test_network_meter_rule.py', 'openstackclient/tests/functional/network/v2/test_address_scope.py', 'openstackclient/tests/functional/network/v2/test_network_agent.py', 'openstackclient/tests/functional/network/v2/test_network_qos_rule.py', 'openstackclient/tests/functional/network/v2/test_local_ip.py', 'openstackclient/tests/functional/network/v2/test_subnet_pool.py', 'openstackclient/tests/functional/network/v2/test_ip_availability.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/50aed3fea22f0b96bfac61531025bf3cf02250c4', 'message': ""tests: Convert network tests to use 'parse_output'\n\nChange-Id: I93e2a4e0a4c7ec07da0c78a171f3d787125af053\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",3,863991,50aed3fea22f0b96bfac61531025bf3cf02250c4,14,3,3,15334,,,0,"tests: Convert network tests to use 'parse_output'

Change-Id: I93e2a4e0a4c7ec07da0c78a171f3d787125af053
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/863991/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/network/v2/test_security_group.py', 'openstackclient/tests/functional/network/v2/test_subnet.py', 'openstackclient/tests/functional/network/v2/test_network_segment_range.py', 'openstackclient/tests/functional/network/v2/test_security_group_rule.py', 'openstackclient/tests/functional/network/v2/test_network.py', 'openstackclient/tests/functional/network/v2/test_network_ndp_proxy.py', 'openstackclient/tests/functional/network/v2/test_network_qos_policy.py', 'openstackclient/tests/functional/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/functional/network/v2/test_router.py', 'openstackclient/tests/functional/network/v2/common.py', 'openstackclient/tests/functional/network/v2/test_network_flavor_profile.py', 'openstackclient/tests/functional/network/v2/test_floating_ip.py', 'openstackclient/tests/functional/network/v2/test_network_flavor.py', 'openstackclient/tests/functional/network/v2/test_address_group.py', 'openstackclient/tests/functional/network/v2/test_port.py', 'openstackclient/tests/functional/network/v2/test_network_rbac.py', 'openstackclient/tests/functional/network/v2/test_network_qos_rule_type.py', 'openstackclient/tests/functional/network/v2/test_network_meter.py', 'openstackclient/tests/functional/network/v2/test_network_segment.py', 'openstackclient/tests/functional/network/v2/test_network_service_provider.py', 'openstackclient/tests/functional/network/v2/test_network_meter_rule.py', 'openstackclient/tests/functional/network/v2/test_address_scope.py', 'openstackclient/tests/functional/network/v2/test_network_agent.py', 'openstackclient/tests/functional/network/v2/test_network_qos_rule.py', 'openstackclient/tests/functional/network/v2/test_local_ip.py', 'openstackclient/tests/functional/network/v2/test_subnet_pool.py', 'openstackclient/tests/functional/network/v2/test_ip_availability.py']",27,9864c16aecb9585639580b01fe7f32e4bc1b2dcb,smarter-functional-tests," cmd_output = cls.openstack( 'subnet create ' + cls.NAME, parse_output=True, ) cmd_output = self.openstack( 'ip availability list', parse_output=True,) cmd_output = self.openstack( 'ip availability show ' + self.NETWORK_NAME, parse_output=True,)",import json cmd_output = json.loads(cls.openstack( 'subnet create -f json ' + cls.NAME )) cmd_output = json.loads(self.openstack( 'ip availability list -f json')) cmd_output = json.loads(self.openstack( 'ip availability show -f json ' + self.NETWORK_NAME)),1131,893
openstack%2Fpython-openstackclient~863990,openstack/python-openstackclient,master,Ib5b2f46639f14877a9ec295b26cae01a05395d4d,tests: Convert compute tests to use 'parse_output',MERGED,2022-11-08 11:24:01.000000000,2022-12-02 14:21:47.000000000,2022-12-02 14:21:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-08 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bd61ee0ece56076d0d8c02d00326cf7672480be9', 'message': ""tests: Convert compute tests to use 'parse_output'\n\nChange-Id: Ib5b2f46639f14877a9ec295b26cae01a05395d4d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-11-08 16:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fa36c3782cd7617a6181777a62dd164663ba3ad6', 'message': ""tests: Convert compute tests to use 'parse_output'\n\nChange-Id: Ib5b2f46639f14877a9ec295b26cae01a05395d4d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-11-29 16:22:15.000000000', 'files': ['openstackclient/tests/functional/compute/v2/common.py', 'openstackclient/tests/functional/compute/v2/test_server_event.py', 'openstackclient/tests/functional/compute/v2/test_server_group.py', 'openstackclient/tests/functional/compute/v2/test_aggregate.py', 'openstackclient/tests/functional/compute/v2/test_keypair.py', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/functional/compute/v2/test_flavor.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/874519e980b75aa7a659cef7757a154ddd10e3fb', 'message': ""tests: Convert compute tests to use 'parse_output'\n\nChange-Id: Ib5b2f46639f14877a9ec295b26cae01a05395d4d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,863990,874519e980b75aa7a659cef7757a154ddd10e3fb,10,2,3,15334,,,0,"tests: Convert compute tests to use 'parse_output'

Change-Id: Ib5b2f46639f14877a9ec295b26cae01a05395d4d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/863990/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/compute/v2/common.py', 'openstackclient/tests/functional/compute/v2/test_server_event.py', 'openstackclient/tests/functional/compute/v2/test_server_group.py', 'openstackclient/tests/functional/compute/v2/test_aggregate.py', 'openstackclient/tests/functional/compute/v2/test_keypair.py', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/functional/compute/v2/test_flavor.py']",7,bd61ee0ece56076d0d8c02d00326cf7672480be9,smarter-functional-tests," cmd_output = cls.openstack( ""project create --enable "" + cls.PROJECT_NAME, parse_output=True, ) cmd_output = self.openstack( ""flavor create "" + name1, parse_output=True, ) cmd_output = self.openstack( ""flavor create "" + name2, parse_output=True, ) cmd_output = self.openstack( ""flavor create "" + name1, parse_output=True, ) cmd_output = self.openstack( ""flavor create "" + name2, parse_output=True, ) cmd_output = self.openstack( ""flavor list"", parse_output=True, ) cmd_output = self.openstack( ""flavor list "" + ""--long"", parse_output=True, ) cmd_output = self.openstack( ""flavor list "" + ""--public"", parse_output=True, ) cmd_output = self.openstack( ""flavor list "" + ""--private"", parse_output=True, ) cmd_output = self.openstack( ""flavor list "" + ""--all"", parse_output=True, ) cmd_output = self.openstack( ""flavor create "" + name1, parse_output=True, ) cmd_output = self.openstack( ""flavor show "" + name1, parse_output=True, ) cmd_output = self.openstack( ""flavor show "" + name1, parse_output=True, )","import json cmd_output = json.loads(cls.openstack( ""project create -f json --enable "" + cls.PROJECT_NAME )) cmd_output = json.loads(self.openstack( ""flavor create -f json "" + name1 )) cmd_output = json.loads(self.openstack( ""flavor create -f json "" + name2 )) cmd_output = json.loads(self.openstack( ""flavor create -f json "" + name1 )) cmd_output = json.loads(self.openstack( ""flavor create -f json "" + name2 )) cmd_output = json.loads(self.openstack( ""flavor list -f json"" )) cmd_output = json.loads(self.openstack( ""flavor list -f json "" + ""--long"" )) cmd_output = json.loads(self.openstack( ""flavor list -f json "" + ""--public"" )) cmd_output = json.loads(self.openstack( ""flavor list -f json "" + ""--private"" )) cmd_output = json.loads(self.openstack( ""flavor list -f json "" + ""--all"" )) cmd_output = json.loads(self.openstack( ""flavor create -f json "" + name1 )) cmd_output = json.loads(self.openstack( ""flavor show -f json "" + name1 )) cmd_output = json.loads(self.openstack( ""flavor show -f json "" + name1 ))",503,403
openstack%2Fpython-openstackclient~863989,openstack/python-openstackclient,master,I10711b911986af0348946f6254cf36773110b0ab,tests: Convert identity tests to use 'parse_output',MERGED,2022-11-08 11:24:01.000000000,2022-12-02 14:21:45.000000000,2022-12-02 14:21:45.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-08 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/37946383fd5e93a3175c673dfa6132fcf6d7717c', 'message': ""tests: Convert identity tests to use 'parse_output'\n\nChange-Id: I10711b911986af0348946f6254cf36773110b0ab\n""}, {'number': 2, 'created': '2022-11-08 16:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6de28e4ff29de10f6069a12ff3251bb3105c9610', 'message': ""tests: Convert identity tests to use 'parse_output'\n\nChange-Id: I10711b911986af0348946f6254cf36773110b0ab\n""}, {'number': 3, 'created': '2022-11-29 16:22:15.000000000', 'files': ['openstackclient/tests/functional/identity/v3/test_project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6daa6be3926be389cb7cb2faeb921c7230855af3', 'message': ""tests: Convert identity tests to use 'parse_output'\n\nChange-Id: I10711b911986af0348946f6254cf36773110b0ab\n""}]",0,863989,6daa6be3926be389cb7cb2faeb921c7230855af3,10,2,3,15334,,,0,"tests: Convert identity tests to use 'parse_output'

Change-Id: I10711b911986af0348946f6254cf36773110b0ab
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/863989/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/identity/v3/test_project.py'],1,37946383fd5e93a3175c673dfa6132fcf6d7717c,smarter-functional-tests," output = self.openstack( '--parents --children ' 'name': self.project_name}, parse_output=True, ) for attr_name in (self.PROJECT_FIELDS + ['parents', 'subtree']): self.assertIn(attr_name, output) self.assertEqual(self.project_name, output.get('name'))","import json json_output = json.loads(self.openstack( '--parents --children -f json ' 'name': self.project_name})) for attr_name in (self.PROJECT_FIELDS + ['parents', 'subtree']): self.assertIn(attr_name, json_output) self.assertEqual(self.project_name, json_output.get('name'))",7,7
openstack%2Fpython-openstackclient~863988,openstack/python-openstackclient,master,Iec8ca873f6bc3993e0ba557f68895d9aefb6f9c6,tests: Convert volume tests to use 'parse_output',MERGED,2022-11-08 11:24:01.000000000,2022-12-02 14:21:43.000000000,2022-12-02 14:21:43.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-08 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e45a09998f9278004f7f60565eed5c926cb965e3', 'message': ""tests: Convert volume tests to use 'parse_output'\n\nChange-Id: Iec8ca873f6bc3993e0ba557f68895d9aefb6f9c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-11-08 16:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1f3f5f3e02efa5d050f70c8ce7d456ac4096673a', 'message': ""tests: Convert volume tests to use 'parse_output'\n\nChange-Id: Iec8ca873f6bc3993e0ba557f68895d9aefb6f9c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-11-29 16:22:15.000000000', 'files': ['openstackclient/tests/functional/volume/v3/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_qos.py', 'openstackclient/tests/functional/volume/v2/test_volume_snapshot.py', 'openstackclient/tests/functional/volume/base.py', 'openstackclient/tests/functional/volume/v2/test_service.py', 'openstackclient/tests/functional/volume/v1/test_volume.py', 'openstackclient/tests/functional/volume/v2/test_transfer_request.py', 'openstackclient/tests/functional/volume/v3/test_transfer_request.py', 'openstackclient/tests/functional/volume/v1/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_service.py', 'openstackclient/tests/functional/volume/v1/test_transfer_request.py', 'openstackclient/tests/functional/volume/v3/test_volume.py', 'openstackclient/tests/functional/volume/v3/test_volume_snapshot.py', 'openstackclient/tests/functional/volume/v2/test_volume_type.py', 'openstackclient/tests/functional/volume/v2/test_volume.py', 'openstackclient/tests/functional/volume/v2/test_volume_backup.py', 'openstackclient/tests/functional/volume/v2/test_qos.py', 'openstackclient/tests/functional/volume/v1/test_snapshot.py', 'openstackclient/tests/functional/volume/v3/test_qos.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/686fabef31ee36ec25574ddb086d6e9e3f170045', 'message': ""tests: Convert volume tests to use 'parse_output'\n\nChange-Id: Iec8ca873f6bc3993e0ba557f68895d9aefb6f9c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,863988,686fabef31ee36ec25574ddb086d6e9e3f170045,10,2,3,15334,,,0,"tests: Convert volume tests to use 'parse_output'

Change-Id: Iec8ca873f6bc3993e0ba557f68895d9aefb6f9c6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/88/863988/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/volume/v3/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_qos.py', 'openstackclient/tests/functional/volume/v2/test_volume_snapshot.py', 'openstackclient/tests/functional/volume/base.py', 'openstackclient/tests/functional/volume/v2/test_service.py', 'openstackclient/tests/functional/volume/v1/test_volume.py', 'openstackclient/tests/functional/volume/v2/test_transfer_request.py', 'openstackclient/tests/functional/volume/v3/test_transfer_request.py', 'openstackclient/tests/functional/volume/v1/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_service.py', 'openstackclient/tests/functional/volume/v1/test_transfer_request.py', 'openstackclient/tests/functional/volume/v3/test_volume.py', 'openstackclient/tests/functional/volume/v3/test_volume_snapshot.py', 'openstackclient/tests/functional/volume/v2/test_volume_type.py', 'openstackclient/tests/functional/volume/v2/test_volume.py', 'openstackclient/tests/functional/volume/v2/test_volume_backup.py', 'openstackclient/tests/functional/volume/v2/test_qos.py', 'openstackclient/tests/functional/volume/v1/test_snapshot.py', 'openstackclient/tests/functional/volume/v3/test_qos.py']",19,e45a09998f9278004f7f60565eed5c926cb965e3,smarter-functional-tests," cmd_output = self.openstack( 'volume qos create ' + name1, parse_output=True, ) cmd_output = self.openstack( 'volume qos create ' + name2, parse_output=True, ) cmd_output = self.openstack( 'volume qos list', parse_output=True, ) cmd_output = self.openstack( 'volume qos create ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume qos show ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume qos show ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume type create ' + vol_type1, parse_output=True, ) cmd_output = self.openstack( 'volume type create ' + vol_type2, parse_output=True, ) cmd_output = self.openstack( 'volume qos create ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume qos show ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume qos show ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume qos show ' + name, parse_output=True, ) cmd_output = self.openstack( 'volume qos show ' + name, parse_output=True, )",import json cmd_output = json.loads(self.openstack( 'volume qos create -f json ' + name1 )) cmd_output = json.loads(self.openstack( 'volume qos create -f json ' + name2 )) cmd_output = json.loads(self.openstack( 'volume qos list -f json' )) cmd_output = json.loads(self.openstack( 'volume qos create -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume qos show -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume qos show -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume type create -f json ' + vol_type1 )) cmd_output = json.loads(self.openstack( 'volume type create -f json ' + vol_type2 )) cmd_output = json.loads(self.openstack( 'volume qos create -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume qos show -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume qos show -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume qos show -f json ' + name )) cmd_output = json.loads(self.openstack( 'volume qos show -f json ' + name )),923,759
openstack%2Fpython-openstackclient~863987,openstack/python-openstackclient,master,I5f256d466d503d70d1f380016f9c8f5a0d9e395f,tests: Convert image tests to use 'parse_output',MERGED,2022-11-08 11:24:01.000000000,2022-12-02 14:21:40.000000000,2022-12-02 14:21:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-08 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/13d4ed10e88450ea9cc08bcfc85d1a09ff5aa51a', 'message': ""tests: Convert image tests to use 'parse_output'\n\nChange-Id: I5f256d466d503d70d1f380016f9c8f5a0d9e395f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-11-08 16:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f7c7235aac8581e2f9333826244f92d4ad863005', 'message': ""tests: Convert image tests to use 'parse_output'\n\nChange-Id: I5f256d466d503d70d1f380016f9c8f5a0d9e395f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-11-29 16:22:15.000000000', 'files': ['openstackclient/tests/functional/image/v2/test_image.py', 'openstackclient/tests/functional/image/v1/test_image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dc03ce98de3d812b6e62eca233469644689357e0', 'message': ""tests: Convert image tests to use 'parse_output'\n\nChange-Id: I5f256d466d503d70d1f380016f9c8f5a0d9e395f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,863987,dc03ce98de3d812b6e62eca233469644689357e0,10,2,3,15334,,,0,"tests: Convert image tests to use 'parse_output'

Change-Id: I5f256d466d503d70d1f380016f9c8f5a0d9e395f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/87/863987/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/image/v2/test_image.py', 'openstackclient/tests/functional/image/v1/test_image.py']",2,13d4ed10e88450ea9cc08bcfc85d1a09ff5aa51a,smarter-functional-tests," super().setUp() self.name = uuid.uuid4().hex output = self.openstack( 'image create ' + self.name, parse_output=True, ) self.image_id = output[""id""] self.assertOutput(self.name, output['name']) self.openstack('image delete ' + self.image_id) finally: super().tearDown() output = self.openstack( 'image list' ) [img['Name'] for img in output] output = self.openstack( 'image show ' + self.name, parse_output=True, ) output[""min_disk""], output[""min_ram""], output['disk_format'], output[""is_public""], output = self.openstack( 'image show ' + self.name, parse_output=True, ) output[""properties""],","import json super(ImageTests, self).setUp() self.name = uuid.uuid4().hex json_output = json.loads(self.openstack( '--os-image-api-version 1 ' 'image create -f json ' + self.name )) self.image_id = json_output[""id""] self.assertOutput(self.name, json_output['name']) self.openstack( '--os-image-api-version 1 ' 'image delete ' + self.image_id ) finally: super(ImageTests, self).tearDown() json_output = json.loads(self.openstack( 'image list -f json ' )) [img['Name'] for img in json_output] json_output = json.loads(self.openstack( 'image show -f json ' + self.name )) json_output[""min_disk""], json_output[""min_ram""], json_output['disk_format'], json_output[""is_public""], json_output = json.loads(self.openstack( 'image show -f json ' + self.name )) json_output[""properties""],",131,128
openstack%2Freleases~853618,openstack/releases,master,I458d12bfb36a582156bf7e94e5e9fff4f1ec6ad2,Add testing task to avoid broken releases,ABANDONED,2022-08-18 10:03:27.000000000,2022-12-02 14:20:02.000000000,,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-18 10:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/30ce97b94ea9ce4bee6dbb87e57a68538ad1a1c1', 'message': 'Add testing task to avoid broken releases\n\nThis patch adds a task to R-5 week of the process page to create dummy\nchanges to trigger CI test for deliverables in order to discover any\nbroken project well ahead of the final release.\n\nThis patch also fixes some minor readability issues, like formatting,\ntypos and indentation.\n\nChange-Id: I458d12bfb36a582156bf7e94e5e9fff4f1ec6ad2\n'}, {'number': 2, 'created': '2022-08-18 12:01:23.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/89b54e3c54935e121ed2c8857218a99a69e38b6e', 'message': 'Add testing task to avoid broken releases\n\nThis patch adds a task to R-5 week of the process page to create dummy\nchanges to trigger CI test for deliverables in order to discover any\nbroken project well ahead of the final release.\n\nThis patch also fixes some minor readability issues, like formatting,\ntypos and indentation.\n\nChange-Id: I458d12bfb36a582156bf7e94e5e9fff4f1ec6ad2\n'}]",7,853618,89b54e3c54935e121ed2c8857218a99a69e38b6e,10,3,2,17685,,,0,"Add testing task to avoid broken releases

This patch adds a task to R-5 week of the process page to create dummy
changes to trigger CI test for deliverables in order to discover any
broken project well ahead of the final release.

This patch also fixes some minor readability issues, like formatting,
typos and indentation.

Change-Id: I458d12bfb36a582156bf7e94e5e9fff4f1ec6ad2
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/853618/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,30ce97b94ea9ce4bee6dbb87e57a68538ad1a1c1,," PTLs or release liaisons, please watch for these and give a +1 to For this, run (see: `tools/process_auto_releases.sh been otherwise released since milestone 1. PTLs and release liaisons, For this, run (see: `tools/process_auto_releases.sh At this point, we want *all* changes in the deliverables, to ensure that we have CI configuration up to date when the stable branch is created later. .. note: Client libraries (and other libraries strongly tied to another deliverable) should generally follow their parent deliverable release model, even if they did not have a lot of activity themselves).#. Propose DNM changes on every repository to check that tests are still passing with the current set of dependencies. In case tests are failing for any of the deliverables, then inform the responsible team that they need to fix their tests otherwise their deliverables will be excluded from the release. that do not have a suitable candidate yet. That includes: - Branch ``devstack-plugin-*`` delivrables. Usually devstack plugins are targeted for the downstream consumers of your project, so it would be (see: `the legacy cycle automatic model <https://releases.openstack.org/reference/release_models.html#cycle-automatic>`_ and release duties (see: https://wiki.openstack.org/wiki/QA/releases).#. Once the final patch is processed, run the ``missing-releases`` script"," PTL's or release liaisons, please watch for these and give a +1 to For this, run (c.f `tools/process_auto_releases.sh been otherwise released since milestone 1. PTL's and release liaisons, For this, run (c.f `tools/process_auto_releases.sh At this point, we want *all* changes in the deliverables, to ensure that we have CI configuration up to date when the stable branch is created later. Note: client libraries (and other libraries strongly tied to another deliverable) should generally follow their parent deliverable release model, even if they did not have a lot of activity themselves). that have do not have a suitable candidate yet. That includes: - Branch ``devstack-plugin-*`` delivrables. Usually devstack plugings are targetted for the downstream consumers of your project, so it would be (cf. `the legacy cycle automatic model <https://releases.openstack.org/reference/release_models.html#cycle-automatic>`_ and release duties (cf. https://wiki.openstack.org/wiki/QA/releases).#. Once the final patch is proceesed, run the ``missing-releases`` script",25,16
openstack%2Fneutron~866307,openstack/neutron,master,I426a58f0fea9e663c545d17de1dd9fb6e866a059,Use neutron-lib constants for OVS table numbers,MERGED,2022-12-01 09:20:28.000000000,2022-12-02 13:52:31.000000000,2022-12-02 13:51:19.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-12-01 09:20:28.000000000', 'files': ['neutron/tests/common/agents/l2_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4416706931e948d0d570e353bf8b395ded561a7f', 'message': 'Use neutron-lib constants for OVS table numbers\n\nSince neutron-lib 3.2.0, the PACKET_RATE_LIMIT table changes the\nnumber from 59 to 58.\n\nCloses-Bug: #1998353\nChange-Id: I426a58f0fea9e663c545d17de1dd9fb6e866a059\n'}]",5,866307,4416706931e948d0d570e353bf8b395ded561a7f,28,7,1,16688,,,0,"Use neutron-lib constants for OVS table numbers

Since neutron-lib 3.2.0, the PACKET_RATE_LIMIT table changes the
number from 59 to 58.

Closes-Bug: #1998353
Change-Id: I426a58f0fea9e663c545d17de1dd9fb6e866a059
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/866307/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/agents/l2_extensions.py'],1,4416706931e948d0d570e353bf8b395ded561a7f,bug/1998353,"from neutron_lib.plugins.ml2 import ovs_constants flows = bridge.dump_flows_for( table=ovs_constants.PACKET_RATE_LIMIT, in_port=str(port_num), dl_src=str(mac)) else: flows = bridge.dump_flows_for( table=ovs_constants.PACKET_RATE_LIMIT, dl_vlan=str(port_vlan), dl_dst=str(mac))"," flows = bridge.dump_flows_for(table='59', in_port=str(port_num), dl_src=str(mac)) else: flows = bridge.dump_flows_for(table='59', dl_vlan=str(port_vlan), dl_dst=str(mac))",7,4
openstack%2Fironic-prometheus-exporter~866442,openstack/ironic-prometheus-exporter,stable/train,If061f8123be8bb4ae407c3e4afbd5cc9f972a4e8,Cap flake8 version,ABANDONED,2022-12-02 11:09:02.000000000,2022-12-02 13:32:27.000000000,,[],"[{'number': 1, 'created': '2022-12-02 11:09:02.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/feb8a4e99128c365c3c586bd3c5e348cbf9a3719', 'message': ""Cap flake8 version\n\nVersions of flake8 up to 5.0.3 have a bug in the usage of\nthe multiprocessing module that causes an error:\nRecursionError: maximum recursion depth exceeded\n\nUnfortunately we can't install an higher version because the\nimportlib-metadata is capped to 0.20 in upper constraints, so\nwe have to cap flake8 to 4.x\n\nFor more info see [1]\n\n[1] https://github.com/pycqa/flake8/issues/1637\n\nChange-Id: If061f8123be8bb4ae407c3e4afbd5cc9f972a4e8\n""}]",0,866442,feb8a4e99128c365c3c586bd3c5e348cbf9a3719,2,0,1,23851,,,0,"Cap flake8 version

Versions of flake8 up to 5.0.3 have a bug in the usage of
the multiprocessing module that causes an error:
RecursionError: maximum recursion depth exceeded

Unfortunately we can't install an higher version because the
importlib-metadata is capped to 0.20 in upper constraints, so
we have to cap flake8 to 4.x

For more info see [1]

[1] https://github.com/pycqa/flake8/issues/1637

Change-Id: If061f8123be8bb4ae407c3e4afbd5cc9f972a4e8
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/42/866442/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,feb8a4e99128c365c3c586bd3c5e348cbf9a3719,cap-flake8,flake8<5,flake8,1,1
openstack%2Fneutron~866041,openstack/neutron,stable/wallaby,I6f182514d3112d66f7187d896cdd33f68479f99e,[Wallaby Only] Add tox-py38 override to gate queue,MERGED,2022-11-29 16:07:10.000000000,2022-12-02 13:15:46.000000000,2022-12-02 13:13:19.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 16:07:10.000000000', 'files': ['zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/130be783793f57388ca4a3008693bbd40c0b8874', 'message': '[Wallaby Only] Add tox-py38 override to gate queue\n\ntimeout override was missing for tox-py38 job in\ngate queue and this resulted into timeout[1] in wallaby.\n\n[1] https://zuul.opendev.org/t/openstack/build/44b709cf6f5a4f77ad03df531ccd8ed2\n\nChange-Id: I6f182514d3112d66f7187d896cdd33f68479f99e\n'}]",1,866041,130be783793f57388ca4a3008693bbd40c0b8874,9,5,1,13861,,,0,"[Wallaby Only] Add tox-py38 override to gate queue

timeout override was missing for tox-py38 job in
gate queue and this resulted into timeout[1] in wallaby.

[1] https://zuul.opendev.org/t/openstack/build/44b709cf6f5a4f77ad03df531ccd8ed2

Change-Id: I6f182514d3112d66f7187d896cdd33f68479f99e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/866041/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/job-templates.yaml'],1,130be783793f57388ca4a3008693bbd40c0b8874,fix-tox-job-override, - openstack-tox-py38: # from openstack-python3-wallaby-jobs template timeout: 3600 irrelevant-files: *irrelevant-files,,3,0
openstack%2Fneutron~863791,openstack/neutron,stable/xena,I077c686310638081198acea81e8a26bcbd5cd934,Update the Ethernet card information,MERGED,2022-11-07 01:38:30.000000000,2022-12-02 13:15:45.000000000,2022-12-02 13:13:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 01:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0066133cb02c2cc0fd0eeee34136985f6be47fa6', 'message': 'Update the Ethernet card information\n\nMellanox series Ethernet card information,\nupdate the address for\nhttps://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet\n\nBroadcom series Ethernet card information,\nupdate the address for\nhttps://www.broadcom.com/products/ethernet-connectivity/network-adapters\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n(cherry picked from commit d0d484e41a33612e8162742279869692c3dc629b)\n'}, {'number': 2, 'created': '2022-11-11 01:31:30.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/652d8da392ce74d0faa566bd4e5d62e2893a54d0', 'message': 'Update the Ethernet card information\n\nMellanox series Ethernet card information,\nupdate the address for\nhttps://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet\n\nBroadcom series Ethernet card information,\nupdate the address for\nhttps://www.broadcom.com/products/ethernet-connectivity/network-adapters\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n(cherry picked from commit d0d484e41a33612e8162742279869692c3dc629b)\n'}]",0,863791,652d8da392ce74d0faa566bd4e5d62e2893a54d0,10,5,2,35025,,,0,"Update the Ethernet card information

Mellanox series Ethernet card information,
update the address for
https://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet

Broadcom series Ethernet card information,
update the address for
https://www.broadcom.com/products/ethernet-connectivity/network-adapters

Change-Id: I077c686310638081198acea81e8a26bcbd5cd934
(cherry picked from commit d0d484e41a33612e8162742279869692c3dc629b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/863791/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,0066133cb02c2cc0fd0eeee34136985f6be47fa6,,"- `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://support.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_.For information on **Broadcom NetXtreme Series Ethernet cards**, see the `Broadcom NetXtreme Product Page <https://www.broadcom.com/products/ethernet-connectivity/network-adapters>`_."," - `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_. - `Mellanox: How To Configure SR-IOV VFs on ConnectX-3/ConnectX-3 Pro <https://community.mellanox.com/docs/DOC-1484>`_.For information on **Broadcom NetXtreme-E Series Ethernet cards**, see the `Broadcom NetXtreme-C/NetXtreme-E User Guide <https://docs.broadcom.com/docs/NetXtreme-UG>`_. For information on **Broadcom NetXtreme-S Series Ethernet cards**, see the `Broadcom NetXtreme-S Product Page <https://www.broadcom.com/products/ethernet-connectivity/smartnic/bcm58800>`_.",3,11
openstack%2Fneutron~863790,openstack/neutron,stable/yoga,I077c686310638081198acea81e8a26bcbd5cd934,Update the Ethernet card information,MERGED,2022-11-07 01:37:58.000000000,2022-12-02 13:14:28.000000000,2022-12-02 13:13:09.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 01:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e05343e005c10dd65aa230d54f2221b97e71e85', 'message': 'Update the Ethernet card information\n\nMellanox series Ethernet card information,\nupdate the address for\nhttps://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet\n\nBroadcom series Ethernet card information,\nupdate the address for\nhttps://www.broadcom.com/products/ethernet-connectivity/network-adapters\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n(cherry picked from commit d0d484e41a33612e8162742279869692c3dc629b)\n'}, {'number': 2, 'created': '2022-11-11 01:32:33.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2649d05dca6575254757c05eab42cb846b0d9950', 'message': 'Update the Ethernet card information\n\nMellanox series Ethernet card information,\nupdate the address for\nhttps://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet\n\nBroadcom series Ethernet card information,\nupdate the address for\nhttps://www.broadcom.com/products/ethernet-connectivity/network-adapters\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n(cherry picked from commit d0d484e41a33612e8162742279869692c3dc629b)\n'}]",1,863790,2649d05dca6575254757c05eab42cb846b0d9950,10,3,2,35025,,,0,"Update the Ethernet card information

Mellanox series Ethernet card information,
update the address for
https://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet

Broadcom series Ethernet card information,
update the address for
https://www.broadcom.com/products/ethernet-connectivity/network-adapters

Change-Id: I077c686310638081198acea81e8a26bcbd5cd934
(cherry picked from commit d0d484e41a33612e8162742279869692c3dc629b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/863790/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,0e05343e005c10dd65aa230d54f2221b97e71e85,,"- `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://support.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_.For information on **Broadcom NetXtreme Series Ethernet cards**, see the `Broadcom NetXtreme Product Page <https://www.broadcom.com/products/ethernet-connectivity/network-adapters>`_."," - `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_. - `Mellanox: How To Configure SR-IOV VFs on ConnectX-3/ConnectX-3 Pro <https://community.mellanox.com/docs/DOC-1484>`_.For information on **Broadcom NetXtreme-E Series Ethernet cards**, see the `Broadcom NetXtreme-C/NetXtreme-E User Guide <https://docs.broadcom.com/docs/NetXtreme-UG>`_. For information on **Broadcom NetXtreme-S Series Ethernet cards**, see the `Broadcom NetXtreme-S Product Page <https://www.broadcom.com/products/ethernet-connectivity/smartnic/bcm58800>`_.",3,11
openstack%2Fneutron~864986,openstack/neutron,stable/xena,I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c,Mark functional L3ha tests as unstable,MERGED,2022-11-20 00:33:44.000000000,2022-12-02 13:14:28.000000000,2022-12-02 13:13:04.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-20 00:33:44.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0363177754f28b3c9353cac65f07c5e6d487d1e', 'message': ""Mark functional L3ha tests as unstable\n\nAll functional tests which uses wait_until_ha_router_has_state() method\nare now marked as unstable so in case of timeout while waiting for\nrouter's state transition, job will not fail.\n\nRelated-Bug: #1956958\nChange-Id: I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c\n(cherry picked from commit d13da77107fd9e9166b891409376a67210f7f48b)\n""}]",0,864986,a0363177754f28b3c9353cac65f07c5e6d487d1e,9,3,1,9656,,,0,"Mark functional L3ha tests as unstable

All functional tests which uses wait_until_ha_router_has_state() method
are now marked as unstable so in case of timeout while waiting for
router's state transition, job will not fail.

Related-Bug: #1956958
Change-Id: I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c
(cherry picked from commit d13da77107fd9e9166b891409376a67210f7f48b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/864986/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/framework.py'],1,a0363177754f28b3c9353cac65f07c5e6d487d1e,bug/1956958-stable/xena,"from neutron.tests import base as test_base @test_base.unstable_test(""bug 1956958"") def wait_until_ha_router_has_state(self, router, expected_state):"," @staticmethod def wait_until_ha_router_has_state(router, expected_state):",3,2
openstack%2Fpython-tripleoclient~861308,openstack/python-tripleoclient,stable/wallaby,Ia2801c535cc81591cbbda64b3c63530e6e533d88,Fix password file path message,MERGED,2022-10-17 00:44:03.000000000,2022-12-02 13:11:26.000000000,2022-12-02 13:10:16.000000000,"[{'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-17 00:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d98fee7eeacfe43cd479943f778423edd8d6d115', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n(cherry picked from commit 17bf3ed4f8f54290f03592d5005b60e326f0a414)\n'}, {'number': 2, 'created': '2022-10-17 00:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fbab9c258a4a278f4fed04293fc4dd33347e54d', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n(cherry picked from commit 17bf3ed4f8f54290f03592d5005b60e326f0a414)\n'}, {'number': 3, 'created': '2022-10-17 02:51:26.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9a7073c6fe7eb70de27accf42fe2e9c6cb28e830', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n(cherry picked from commit 17bf3ed4f8f54290f03592d5005b60e326f0a414)\n'}]",0,861308,9a7073c6fe7eb70de27accf42fe2e9c6cb28e830,13,5,3,30073,,,0,"Fix password file path message

This change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.
If output_dir is defined in the config, we will use that. Else, we default
to /home/stack/tripleo-deploy/undercloud

Resolves: rhbz#2133508
Change-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88
(cherry picked from commit 17bf3ed4f8f54290f03592d5005b60e326f0a414)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/861308/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py']",5,d98fee7eeacfe43cd479943f778423edd8d6d115,password-dir-stable/wallaby," output_dir = utils.get_output_dir(CONF.get('output_dir')) if CONF.get('output_dir'): old_passwd_path = os.path.join(CONF.get('output_dir'), file_name)"," if not CONF.get('output_dir'): output_dir = os.path.join(constants.UNDERCLOUD_OUTPUT_DIR, 'tripleo-deploy', 'undercloud') else: output_dir = CONF['output_dir'] old_passwd_path = os.path.join(output_dir, file_name)",53,21
openstack%2Fneutron~864985,openstack/neutron,stable/yoga,I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c,Mark functional L3ha tests as unstable,MERGED,2022-11-20 00:33:25.000000000,2022-12-02 13:09:33.000000000,2022-12-02 13:08:10.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-20 00:33:25.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de89581ace06c74b090bf25f3408a3d3dccf56fb', 'message': ""Mark functional L3ha tests as unstable\n\nAll functional tests which uses wait_until_ha_router_has_state() method\nare now marked as unstable so in case of timeout while waiting for\nrouter's state transition, job will not fail.\n\nRelated-Bug: #1956958\nChange-Id: I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c\n(cherry picked from commit d13da77107fd9e9166b891409376a67210f7f48b)\n""}]",1,864985,de89581ace06c74b090bf25f3408a3d3dccf56fb,8,3,1,9656,,,0,"Mark functional L3ha tests as unstable

All functional tests which uses wait_until_ha_router_has_state() method
are now marked as unstable so in case of timeout while waiting for
router's state transition, job will not fail.

Related-Bug: #1956958
Change-Id: I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c
(cherry picked from commit d13da77107fd9e9166b891409376a67210f7f48b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/864985/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/framework.py'],1,de89581ace06c74b090bf25f3408a3d3dccf56fb,bug/1956958-stable/yoga,"from neutron.tests import base as test_base @test_base.unstable_test(""bug 1956958"") def wait_until_ha_router_has_state(self, router, expected_state):"," @staticmethod def wait_until_ha_router_has_state(router, expected_state):",3,2
openstack%2Fironic-python-agent~860190,openstack/ironic-python-agent,stable/train,I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,CI: Zuul no longer respects queue param,MERGED,2022-10-03 22:09:39.000000000,2022-12-02 13:02:56.000000000,2022-12-02 13:00:49.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 22:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/324730a92a56493a70faaa18100e3482493b5a5e', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}, {'number': 2, 'created': '2022-10-04 22:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/364decd42df2cb726684505b2d7c9e7e748a2c51', 'message': 'CI: Zuul no longer respects queue param\n\nAlso disable software raid which fails on standalone since it was\na newer test, and only partially in place in Train.\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}, {'number': 3, 'created': '2022-10-14 00:08:11.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dd9dc7ba60cd1221a776c6db16430dc6f21e7a7f', 'message': 'CI: Zuul no longer respects queue param\n\nAlso disable software raid which fails on standalone since it was\na newer test, and only partially in place in Train.\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}]",4,860190,dd9dc7ba60cd1221a776c6db16430dc6f21e7a7f,27,5,3,10342,,,0,"CI: Zuul no longer respects queue param

Also disable software raid which fails on standalone since it was
a newer test, and only partially in place in Train.

Change-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/90/860190/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,324730a92a56493a70faaa18100e3482493b5a5e,,, queue: ironic,0,1
openstack%2Ftripleo-common~859403,openstack/tripleo-common,stable/train,I3a4a9269615e852405f096e3a31985e75b5d7836,Add excluded group to inventory,MERGED,2022-09-27 11:16:08.000000000,2022-12-02 13:01:10.000000000,2022-12-02 00:30:31.000000000,"[{'_account_id': 4264}, {'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-27 11:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ff2abb6c603fd3a4ac7f5c018d858bad9818dc5', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}, {'number': 2, 'created': '2022-11-16 15:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c7e12137c8c215dda3b8ac738e2807cbb81fe15', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}, {'number': 3, 'created': '2022-11-25 10:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd3d32a4211b097c67869a90f23e2158e6533bc6', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}, {'number': 4, 'created': '2022-11-25 17:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/267823fbec02b72192ad4ddb22273df6f22264ac', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nWIP: Testing which one is failing.\nDepends-on: https://review.opendev.org/c/openstack/tripleo-upgrade/+/865700\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}, {'number': 5, 'created': '2022-11-28 13:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b98cd7905c23179b3087932f745de4c61daa3a91', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nWIP: Testing which one is failing.\nDepends-on: https://review.opendev.org/c/openstack/tripleo-upgrade/+/865700\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart/+/865827\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}, {'number': 6, 'created': '2022-11-28 16:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecf129bddb05afad237586b7770f506a69526277', 'message': ""Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nWIP: Testing which one is failing.\nDepends-on: https://review.opendev.org/c/openstack/tripleo-upgrade/+/865700\n\nWIP: Trying to increase job verbosity using in\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train,\nusing quickstart_verbosity: '-vvvv'.\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n""}, {'number': 7, 'created': '2022-11-29 11:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d23b320c1a63ec31ea2d441175797a7d22c0b40a', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865977\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}, {'number': 8, 'created': '2022-11-29 13:53:18.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3dfdd010f86cebbbeedd79d5ad5d342a79c7966f', 'message': 'Add excluded group to inventory\n\nThis would help filtering nodes from external_*_steps\non delegated groups.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/866010\n\nChange-Id: I3a4a9269615e852405f096e3a31985e75b5d7836\n(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)\n'}]",15,859403,3dfdd010f86cebbbeedd79d5ad5d342a79c7966f,63,6,8,8297,,,0,"Add excluded group to inventory

This would help filtering nodes from external_*_steps
on delegated groups.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/866010

Change-Id: I3a4a9269615e852405f096e3a31985e75b5d7836
(cherry picked from commit 8cd245067e5c85a5f1c29fc29b2943d898e86ad9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/859403/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,4ff2abb6c603fd3a4ac7f5c018d858bad9818dc5,excluded-group-inventory," def test_with_excluded_nodes(self): excluded_output = { 'output_key': 'BlacklistedHostnames', 'output_value': ['cp-0', '', ''] } self.outputs_data['outputs'].append(excluded_output) inventory_group = {'hosts': {'cp-0': {}}} self.assertEquals(inventory_group, self.inventory.list()['excluded_overcloud']) 'excluded_overcloud': { 'hosts': {} }, 'excluded_overcloud': { 'hosts': {} },",,22,0
openstack%2Fneutron~866409,openstack/neutron,master,Ib1f204c98eee96321c7befebf94012dc2c80b1e8,Mock ls_get in OVN metadata delete network unit test,MERGED,2022-12-01 22:58:15.000000000,2022-12-02 12:43:06.000000000,2022-12-02 12:41:54.000000000,"[{'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 22:58:15.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/88b7db0e0c4d633748f454f4977c13c253012769', 'message': 'Mock ls_get in OVN metadata delete network unit test\n\n""TypeError: \'Mock\' object is not iterable"" could possibly\nbe triggered by test_metadata_port_on_network_delete()\nsince there is a missing mock of the return value for ls_get.\n\nAlthough I did not see the error described in the bug, I did\nverify ls_get was returning an incorrect value by printing\nit in the code, which after this patch was a fake row.\n\nChange-Id: Ib1f204c98eee96321c7befebf94012dc2c80b1e8\nCloses-bug: #1973731\n'}]",1,866409,88b7db0e0c4d633748f454f4977c13c253012769,10,4,1,1131,,,0,"Mock ls_get in OVN metadata delete network unit test

""TypeError: 'Mock' object is not iterable"" could possibly
be triggered by test_metadata_port_on_network_delete()
since there is a missing mock of the return value for ls_get.

Although I did not see the error described in the bug, I did
verify ls_get was returning an incorrect value by printing
it in the code, which after this patch was a fake row.

Change-Id: Ib1f204c98eee96321c7befebf94012dc2c80b1e8
Closes-bug: #1973731
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/866409/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'],1,88b7db0e0c4d633748f454f4977c13c253012769,bug/1973731, nb_idl = self.mech_driver._ovn_client._nb_idl nb_idl.ls_get.return_value.execute.return_value = ( fakes.FakeOvsdbRow.create_one_ovsdb_row(attrs={'ports': []})),,3,0
openstack%2Ftripleo-heat-templates~861154,openstack/tripleo-heat-templates,stable/wallaby,Ia146d933119766dd30f510df325d39737657d6c4,[wallaby-only][ffwd] Delete OVNDBs pacemaker resource,MERGED,2022-10-13 09:11:55.000000000,2022-12-02 12:33:33.000000000,2022-12-02 12:33:33.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-10-13 09:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4cca9ac4bbed55252e50347f09c09d2c6f12ca1', 'message': '[wallaby-only] FFWD cleanup OVNDBs pacemaker cluster resource\n\nChange-Id: Ia146d933119766dd30f510df325d39737657d6c4\n'}, {'number': 2, 'created': '2022-10-13 16:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3315601c0412edc6410eb750ab329c5dc7034fb5', 'message': '[wallaby-only] FFWD cleanup OVNDBs pacemaker cluster resource\n\nChange-Id: Ia146d933119766dd30f510df325d39737657d6c4\n'}, {'number': 3, 'created': '2022-10-17 10:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f306c8bfab858e9a314cba25c4a00ccaf9f1813', 'message': '[wallaby-only] FFWD cleanup OVNDBs pacemaker cluster resource\n\nChange-Id: Ia146d933119766dd30f510df325d39737657d6c4\n'}, {'number': 4, 'created': '2022-11-07 10:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2d18c892eb29203233821f567b7e4fef9a30001', 'message': '[wallaby-only][ffwd] Delete OVNDBs pacemaker resource\n\nDuring switch from PCS to ansible cluster of OVNDBs we need to cleanup\nthe old resources.\n\nChange-Id: Ia146d933119766dd30f510df325d39737657d6c4\n'}, {'number': 5, 'created': '2022-11-07 10:20:35.000000000', 'files': ['deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae692769e4765ec3224459de5e9beffe55b13194', 'message': '[wallaby-only][ffwd] Delete OVNDBs pacemaker resource\n\nDuring switch from PCS to ansible cluster of OVNDBs we need to cleanup\nthe old resources.\n\nChange-Id: Ia146d933119766dd30f510df325d39737657d6c4\n'}]",6,861154,ae692769e4765ec3224459de5e9beffe55b13194,26,5,5,11166,,,0,"[wallaby-only][ffwd] Delete OVNDBs pacemaker resource

During switch from PCS to ansible cluster of OVNDBs we need to cleanup
the old resources.

Change-Id: Ia146d933119766dd30f510df325d39737657d6c4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/861154/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-cluster-ansible.yaml'],1,b4cca9ac4bbed55252e50347f09c09d2c6f12ca1,, upgrade_tasks: - name: Remove OVNDBs from pacemaker become: true run_once: true pacemaker_resource: resource: ovn-dbs-bundle state: delete, upgrade_tasks: [],7,1
openstack%2Fnova~828419,openstack/nova,stable/wallaby,I3cb39a9ec2c260f422b3c48122b9db512cdd799b,"Revert ""Revert resize: wait for events according to hybrid plug""",MERGED,2022-02-08 19:40:11.000000000,2022-12-02 12:26:53.000000000,2022-12-02 12:24:29.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0863f5e02f7e22ff1b8edd3d981ff6e97a0a0f69', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, the recent wait for events during hard reboot\nworkaround config option, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nTODO(artom) There was a follow up commit,\n78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration\nparameter to finish_revert_migration(). This is no longer needed, as\nthe migration was only used to obtain plug-time events. We\'ll have to\nundo that as well.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)\n(cherry picked from commit ebb8f438047e150e4cea6779e94360544ffc85ac)\n'}, {'number': 2, 'created': '2022-02-09 13:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eceef3b6cccd613fae445fb013705f2d34e2df4', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nBackport is clean from xena, and the TODO that was present in the\ncommit message on master is removed, as its a drive interface change\nand can only be done on master.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)\n(cherry picked from commit ebb8f438047e150e4cea6779e94360544ffc85ac)\n'}, {'number': 3, 'created': '2022-04-01 13:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a702b7ddd617582cf5389d829ec21509f2a1d45', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nBackport is clean from master, and the TODO that was present in the\ncommit message on master is removed, as its a driver interface change\nand can only be done on master.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)\n(cherry picked from commit c3ebe0f39e82cf1df6886cfd03fd8de62548fb26)\n'}, {'number': 4, 'created': '2022-04-01 13:27:32.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', '.zuul.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/36378de1bdfe451d683ed1028ffd5f6c7130c6ee', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nBackport is clean from master, and the TODO that was present in the\ncommit message on master is removed, as its a driver interface change\nand can only be done on master.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)\n(cherry picked from commit c3ebe0f39e82cf1df6886cfd03fd8de62548fb26)\n'}]",1,828419,36378de1bdfe451d683ed1028ffd5f6c7130c6ee,27,4,4,8864,,,0,"Revert ""Revert resize: wait for events according to hybrid plug""

This reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.

That commit was added because - tl'dr - upon revert resize, Neutron
with the OVS backend and the iptables security group driver would send
us the network-vif-plugged event as soon as we updated the port
binding.

That behaviour has changed with commit 66c7f00e1d9. With that commit,
we started unplugging the vifs on the source compute host when doing a
resize. When reverting the resize, the vifs had to be re-plugged again,
regarldess of the networking backend in use. This renders commit
7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be
reverted.

Backport is clean from master, and the TODO that was present in the
commit message on master is removed, as its a driver interface change
and can only be done on master.

Closes-bug: 1952003
Change-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b
(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)
(cherry picked from commit c3ebe0f39e82cf1df6886cfd03fd8de62548fb26)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/828419/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', '.zuul.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",10,0863f5e02f7e22ff1b8edd3d981ff6e97a0a0f69,," self, neutron_failure=None, power_on=True, power_on=power_on) if CONF.vif_plugging_timeout and power_on: def _test_finish_revert_migration(self, power_on): cleanup_instance_dir=False, cleanup_instance_disks=False, self.context, instance, network_model.NetworkInfo(), objects.Migration(), power_on=power_on) self._test_finish_revert_migration(True) self._test_finish_revert_migration(False)"," self, neutron_failure=None, power_on=True, events=None, events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif CONF.vif_plugging_timeout and power_on: def test_create_guest_with_network__events_passed_in(self): self._test_create_guest_with_network__events( events=[('network-vif-plugged', uuids.fake_vif)]) def test_create_guest_with_network__events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_guest_with_network__events( events=[('network-vif-plugged', uuids.fake_vif)]) def _test_finish_revert_migration(self, power_on, migration): external_events=None, cleanup_instance_dir=False, cleanup_instance_disks=False, self.assertEqual(self.events_passed_to_fake_create, external_events) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_vif), network_model.VIF(id=uuids.hybrid_vif, details={'ovs_hybrid_plug': True})]) if migration.is_same_host(): # Same host is all plug-time self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif), ('network-vif-plugged', uuids.hybrid_vif)] else: # For different host migration only non-hybrid plug # (""normal"") VIFs ""emit"" plug-time events. self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif)] self.context, instance, network_info, migration, power_on=power_on) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=False, migration=migration) def test_finish_revert_migration_same_host(self): migration = objects.Migration(id=42, source_compute='fake-host', dest_compute='fake-host') self._test_finish_revert_migration(power_on=True, migration=migration) def test_finish_revert_migration_diff_host(self): migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration)",52,286
openstack%2Fnova~828418,openstack/nova,stable/wallaby,Ie42eaa2a39ef097b0eb69b8863bb342bae007fff,Add nova-ovs-hybrid-plug job,MERGED,2022-02-08 19:40:11.000000000,2022-12-02 12:25:41.000000000,2022-12-02 12:21:24.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d26a8cba1ed53078fd1a1847097c18455f4dd0ef', 'message': 'Add nova-ovs-hybrid-plug job\n\nWe have a gap in our testing of the exernal events interaction between\nNova and Neutron. The nova-next job tests with the OVS network\nbackend, and Neutron has jobs that test the OVN network backend, but\nnothing tests OVS + the iptables security group firewall driver, aka\n""hybrid plug"". Add a job to test that.\n\nConflicts in .zuul.yaml due to surrounding code changes, for instance\nin efd28166191.\n\nRelated-bug: 1952003\nChange-Id: Ie42eaa2a39ef097b0eb69b8863bb342bae007fff\n(cherry picked from commit ded6168ad729e747fc976ca3cdb8baf971fbc31a)\n(cherry picked from commit f5d40aa01e3767b1c625095fcbccd0f66a4d03a7)\n'}, {'number': 2, 'created': '2022-02-09 13:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a919487a331f43d672794d0bede4ee6cba344afa', 'message': 'Add nova-ovs-hybrid-plug job\n\nWe have a gap in our testing of the exernal events interaction between\nNova and Neutron. The nova-next job tests with the OVS network\nbackend, and Neutron has jobs that test the OVN network backend, but\nnothing tests OVS + the iptables security group firewall driver, aka\n""hybrid plug"". Add a job to test that.\n\nConflicts in .zuul.yaml due to surrounding code changes, for instance\nin efd28166191. As nova-base-irrelevant-files didn\'t become a thing\nuntil dab4ec1a534, its use had to be manually changed to\ndsvm-irrelevant-files.\n\nRelated-bug: 1952003\nChange-Id: Ie42eaa2a39ef097b0eb69b8863bb342bae007fff\n(cherry picked from commit ded6168ad729e747fc976ca3cdb8baf971fbc31a)\n(cherry picked from commit f5d40aa01e3767b1c625095fcbccd0f66a4d03a7)\n'}, {'number': 3, 'created': '2022-04-01 13:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ed0a7361e57df5ad2162d82f0be80c0ccf6a41f', 'message': 'Add nova-ovs-hybrid-plug job\n\nWe have a gap in our testing of the exernal events interaction between\nNova and Neutron. The nova-next job tests with the OVS network\nbackend, and Neutron has jobs that test the OVN network backend, but\nnothing tests OVS + the iptables security group firewall driver, aka\n""hybrid plug"". Add a job to test that.\n\nConflicts in .zuul.yaml due to efd28166191 which added the\nnova-live-migration-ceph job roughly where this patch adds\nnova-ovs-hybrid-plug.\n\nRelated-bug: 1952003\nChange-Id: Ie42eaa2a39ef097b0eb69b8863bb342bae007fff\n(cherry picked from commit ded6168ad729e747fc976ca3cdb8baf971fbc31a)\n(cherry picked from commit b414fe18f1a9a688a0291e97eb00e3ce3b2f4a52)\n'}, {'number': 4, 'created': '2022-04-01 13:27:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b40a52d1795db18c98a634166ee0cf5dd642b6e', 'message': 'Add nova-ovs-hybrid-plug job\n\nWe have a gap in our testing of the exernal events interaction between\nNova and Neutron. The nova-next job tests with the OVS network\nbackend, and Neutron has jobs that test the OVN network backend, but\nnothing tests OVS + the iptables security group firewall driver, aka\n""hybrid plug"". Add a job to test that.\n\nConflicts in .zuul.yaml due to efd28166191 which added the\nnova-live-migration-ceph job roughly where this patch adds\nnova-ovs-hybrid-plug.\n\nAlso had to change the nova-base-irrelevant-files reference to\ndsvm-irrelevant-files, as the former hasn\'t been introduced in\nwallaby.\n\nRelated-bug: 1952003\nChange-Id: Ie42eaa2a39ef097b0eb69b8863bb342bae007fff\n(cherry picked from commit ded6168ad729e747fc976ca3cdb8baf971fbc31a)\n(cherry picked from commit b414fe18f1a9a688a0291e97eb00e3ce3b2f4a52)\n'}]",1,828418,1b40a52d1795db18c98a634166ee0cf5dd642b6e,27,4,4,8864,,,0,"Add nova-ovs-hybrid-plug job

We have a gap in our testing of the exernal events interaction between
Nova and Neutron. The nova-next job tests with the OVS network
backend, and Neutron has jobs that test the OVN network backend, but
nothing tests OVS + the iptables security group firewall driver, aka
""hybrid plug"". Add a job to test that.

Conflicts in .zuul.yaml due to efd28166191 which added the
nova-live-migration-ceph job roughly where this patch adds
nova-ovs-hybrid-plug.

Also had to change the nova-base-irrelevant-files reference to
dsvm-irrelevant-files, as the former hasn't been introduced in
wallaby.

Related-bug: 1952003
Change-Id: Ie42eaa2a39ef097b0eb69b8863bb342bae007fff
(cherry picked from commit ded6168ad729e747fc976ca3cdb8baf971fbc31a)
(cherry picked from commit b414fe18f1a9a688a0291e97eb00e3ce3b2f4a52)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/828418/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d26a8cba1ed53078fd1a1847097c18455f4dd0ef,,"- job: name: nova-ovs-hybrid-plug parent: tempest-multinode-full-py3 description: | Run move operations, reboot, and evacuation (via the same post-run hook as the nova-live-migration job) tests with the OVS network backend and the ""iptables_hybrid"" securitygroup firewall driver, aka ""hybrid plug"". The external events interactions between Nova and Neutron in these situations has historically been fragile. This job exercises them. irrelevant-files: *nova-base-irrelevant-files vars: tox_envlist: all tempest_test_regex: (^tempest\..*compute\..*(migration|resize|reboot).*) devstack_localrc: Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge ML2_L3_PLUGIN: router devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true devstack_local_conf: post-config: ""/$NEUTRON_CORE_PLUGIN_CONF"": securitygroup: firewall_driver: iptables_hybrid group-vars: subnode: devstack_localrc: Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge ML2_L3_PLUGIN: router devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true devstack_local_conf: post-config: ""/$NEUTRON_CORE_PLUGIN_CONF"": securitygroup: firewall_driver: iptables_hybrid post-run: playbooks/nova-live-migration/post-run.yaml - nova-ovs-hybrid-plug: voting: false",,62,0
openstack%2Fnova~866326,openstack/nova,stable/wallaby,I08ff697d0bef858cf39460d5fa25ae63c0ba3fa7,[stable-only] Use os-brick from source in wallaby,MERGED,2022-12-01 11:49:22.000000000,2022-12-02 12:25:27.000000000,2022-12-02 12:21:18.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 11:49:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/dfdc219c823000791da3d3b4ed2088701414c5f5', 'message': '[stable-only] Use os-brick from source in wallaby\n\nThe nova-ceph-multistore job fails in stable wallaby and an\ninstance of it can be seen in devstack gate[1][2].\nThis is because of a patch[3] that introduced a regression which\nwas fixed in a followup patch[4]. The former patch was merged in\nstable/wallaby and released but the followup, fixing the issue\ncould not be released since wallaby transitioned into EM at that\ntime.\nThe only way to fix the gate issue is to fetch os-brick from source\ninstead of the released version.\nThis is similar to the cinder fix in[5].\n\n[1] https://review.opendev.org/c/openstack/devstack/+/864997\n[2] https://281188a2deb927691517-41ca0b7dfd34312aa3fc6c0e8f25e867.ssl.cf5.rackcdn.com/864997/1/check/nova-ceph-multistore/80f6e9e/testr_results.html\n[3] https://review.opendev.org/c/openstack/os-brick/+/856576\n[4] https://review.opendev.org/c/openstack/os-brick/+/864479\n[5] https://review.opendev.org/c/openstack/cinder/+/864916\n\nChange-Id: I08ff697d0bef858cf39460d5fa25ae63c0ba3fa7\n'}]",5,866326,dfdc219c823000791da3d3b4ed2088701414c5f5,14,3,1,27615,,,0,"[stable-only] Use os-brick from source in wallaby

The nova-ceph-multistore job fails in stable wallaby and an
instance of it can be seen in devstack gate[1][2].
This is because of a patch[3] that introduced a regression which
was fixed in a followup patch[4]. The former patch was merged in
stable/wallaby and released but the followup, fixing the issue
could not be released since wallaby transitioned into EM at that
time.
The only way to fix the gate issue is to fetch os-brick from source
instead of the released version.
This is similar to the cinder fix in[5].

[1] https://review.opendev.org/c/openstack/devstack/+/864997
[2] https://281188a2deb927691517-41ca0b7dfd34312aa3fc6c0e8f25e867.ssl.cf5.rackcdn.com/864997/1/check/nova-ceph-multistore/80f6e9e/testr_results.html
[3] https://review.opendev.org/c/openstack/os-brick/+/856576
[4] https://review.opendev.org/c/openstack/os-brick/+/864479
[5] https://review.opendev.org/c/openstack/cinder/+/864916

Change-Id: I08ff697d0bef858cf39460d5fa25ae63c0ba3fa7
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/866326/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dfdc219c823000791da3d3b4ed2088701414c5f5,," # Since wallaby is EM, we need to fetch os-brick # from source and not released version. - name: opendev.org/openstack/os-brick override-branch: stable/wallaby", - openstack/os-brick,4,1
openstack%2Fnetworking-ovn~866022,openstack/networking-ovn,stable/train,Ifc4fdaf22f9768e4bffd5c3b4f2917a092859c4b,"Remove ""networking-ovn-dsvm-functional-py27"" job",MERGED,2022-11-29 15:11:23.000000000,2022-12-02 12:01:43.000000000,2022-12-02 11:59:36.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1b90b57e7f628c0356a8dca7c6b7a7177b67c340', 'message': 'Remove ""networking-ovn-dsvm-functional-py27"" job\n\nThis job is currently failing. Because this branch is in EM and we\ndon\'t have resources to fix this job now, we are removing it from\nthe gate and check queues.\n\nThis patch is closing this related bug. If in a future a new patch\nis sent to fix the job, the bug will be reopened.\n\nCloses-Bug: #1997262\nChange-Id: Ifc4fdaf22f9768e4bffd5c3b4f2917a092859c4b\n'}, {'number': 2, 'created': '2022-11-30 10:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1c08f47be5eba8bf787348b3e348ce3048123c18', 'message': 'Remove ""networking-ovn-dsvm-functional-py27"" job\n\nThis job is currently failing. Because this branch is in EM and we\ndon\'t have resources to fix this job now, we are removing it from\nthe gate and check queues.\n\nThis patch is closing this related bug. If in a future a new patch\nis sent to fix the job, the bug will be reopened.\n\nCloses-Bug: #1997262\nChange-Id: Ifc4fdaf22f9768e4bffd5c3b4f2917a092859c4b\n'}, {'number': 3, 'created': '2022-11-30 15:06:08.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/post.yaml', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/65f1e0aa9623500393c671899a5d78a108472e59', 'message': 'Remove ""networking-ovn-dsvm-functional-py27"" job\n\nThis job is currently failing. Because this branch is in EM and we\ndon\'t have resources to fix this job now, we are removing it from\nthe gate and check queues.\n\nThis patch is closing this related bug. If in a future a new patch\nis sent to fix the job, the bug will be reopened.\n\nCloses-Bug: #1997262\nChange-Id: Ifc4fdaf22f9768e4bffd5c3b4f2917a092859c4b\n'}]",3,866022,65f1e0aa9623500393c671899a5d78a108472e59,14,3,3,16688,,,0,"Remove ""networking-ovn-dsvm-functional-py27"" job

This job is currently failing. Because this branch is in EM and we
don't have resources to fix this job now, we are removing it from
the gate and check queues.

This patch is closing this related bug. If in a future a new patch
is sent to fix the job, the bug will be reopened.

Closes-Bug: #1997262
Change-Id: Ifc4fdaf22f9768e4bffd5c3b4f2917a092859c4b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/22/866022/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1b90b57e7f628c0356a8dca7c6b7a7177b67c340,bug/1997262,, - networking-ovn-dsvm-functional-py27 - networking-ovn-dsvm-functional-py27,0,2
openstack%2Fcharm-neutron-api-plugin-arista~859104,openstack/charm-neutron-api-plugin-arista,master,I265b44d85dccb85a90752fc068c8af0fe4b3566f,Build separately for each supported series and use binary builds,NEW,2022-09-23 14:19:49.000000000,2022-12-02 11:49:37.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-23 14:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/b8dd60311eaa988880cea709c48a8b8d2df4760a', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and other unused\noverlays.\n\nChange-Id: I265b44d85dccb85a90752fc068c8af0fe4b3566f\n""}, {'number': 2, 'created': '2022-09-27 17:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/35519c8808c234d71a28214b2007408cde24a115', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and other unused\noverlays.\n\nChange-Id: I265b44d85dccb85a90752fc068c8af0fe4b3566f\n""}, {'number': 3, 'created': '2022-09-29 12:19:26.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/overlays/bionic-rocky.yaml.j2', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/bionic-queens.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/tests/bundles/overlays/bionic-stein.yaml.j2', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/a1aec0e4f41af34d2ed496c24fc2dd2a7ffa7320', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and other unused\noverlays.\n\nChange-Id: I265b44d85dccb85a90752fc068c8af0fe4b3566f\n""}]",1,859104,a1aec0e4f41af34d2ed496c24fc2dd2a7ffa7320,11,2,3,11805,,,0,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

This patch also drops the impish bundle and other unused
overlays.

Change-Id: I265b44d85dccb85a90752fc068c8af0fe4b3566f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/04/859104/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/overlays/bionic-rocky.yaml.j2', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/bionic-queens.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/tests/bundles/overlays/bionic-stein.yaml.j2', 'tox.ini']",19,b8dd60311eaa988880cea709c48a8b8d2df4760a,batch-update, charmcraft -v pack charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels-from-source -o {toxinidir}/build/builds src {posargs} git+https://github.com/juju/charm-tools.git,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 rename.sh charmcraft -v build {toxinidir}/rename.sh charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} charm-tools==2.8.3",38,249
openstack%2Fironic-inspector~866444,openstack/ironic-inspector,bugfix/10.7,I3111c29080cd3a7994cefae1b3951f1c8c8e9e44,Pin requirements to xena,ABANDONED,2022-12-02 11:17:52.000000000,2022-12-02 11:18:46.000000000,,[],"[{'number': 1, 'created': '2022-12-02 11:17:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/42428f88cbc8ff307f495bbfc63c298471912ab3', 'message': 'Pin requirements to xena\n\nChange-Id: I3111c29080cd3a7994cefae1b3951f1c8c8e9e44\n'}]",0,866444,42428f88cbc8ff307f495bbfc63c298471912ab3,2,0,1,23851,,,0,"Pin requirements to xena

Change-Id: I3111c29080cd3a7994cefae1b3951f1c8c8e9e44
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/44/866444/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,42428f88cbc8ff307f495bbfc63c298471912ab3,uc-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fironic-lib~866439,openstack/ironic-lib,stable/ussuri,I98228e8dc6a5294d34d67593762e7f119cab7e18,Remove redundant broken jobs,ABANDONED,2022-12-02 10:11:58.000000000,2022-12-02 11:15:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-02 10:11:58.000000000', 'files': ['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ad468bafd1877e39e55a3f044e65a340ed5588af', 'message': 'Remove redundant broken jobs\n\nThe ironic-lib-wholedisk jobs are redundant and broken\n\nIn the partition jobs we already test both partition and wholedisk\nscenarios using ironic_tempest_plugin configuration under\nironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_partition_image\nironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_wholedisk_image\n\nAlso rename partition jobs to make them generic.\n\nChange-Id: I98228e8dc6a5294d34d67593762e7f119cab7e18\n'}]",1,866439,ad468bafd1877e39e55a3f044e65a340ed5588af,3,1,1,23851,,,0,"Remove redundant broken jobs

The ironic-lib-wholedisk jobs are redundant and broken

In the partition jobs we already test both partition and wholedisk
scenarios using ironic_tempest_plugin configuration under
ironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_partition_image
ironic_tempest_plugin.tests.scenario.test_baremetal_basic_ops.BaremetalBasicOps.test_baremetal_server_ops_wholedisk_image

Also rename partition jobs to make them generic.

Change-Id: I98228e8dc6a5294d34d67593762e7f119cab7e18
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/39/866439/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml']",2,ad468bafd1877e39e55a3f044e65a340ed5588af,remove-redundant-broken-jobs, - ironic-lib-bios-ipmi-direct-tinyipa-src - ironic-lib-bios-ipmi-iscsi-tinyipa-src - ironic-lib-bios-ipmi-direct-tinyipa-src - ironic-lib-bios-ipmi-iscsi-tinyipa-src, - ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src - ironic-lib-partition-bios-ipmi-direct-tinyipa-src - ironic-lib-partition-bios-ipmi-iscsi-tinyipa-src - ironic-lib-wholedisk-bios-ipmi-iscsi-tinyipa-src - ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src - ironic-lib-partition-bios-ipmi-direct-tinyipa-src - ironic-lib-partition-bios-ipmi-iscsi-tinyipa-src - ironic-lib-wholedisk-bios-ipmi-iscsi-tinyipa-src,6,36
openstack%2Fopenstack-ansible-os_skyline~866443,openstack/openstack-ansible-os_skyline,master,I9438598d452a4fdc35ba6368e932285175c0321f,Updated from OpenStack Ansible Tests,NEW,2022-12-02 11:15:20.000000000,2022-12-02 11:15:20.000000000,,[],"[{'number': 1, 'created': '2022-12-02 11:15:20.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_skyline/commit/40553749d969b1489c69a6dd5e97aab746b82834', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I9438598d452a4fdc35ba6368e932285175c0321f\n'}]",0,866443,40553749d969b1489c69a6dd5e97aab746b82834,1,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I9438598d452a4fdc35ba6368e932285175c0321f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_skyline refs/changes/43/866443/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,40553749d969b1489c69a6dd5e97aab746b82834,openstack/openstack-ansible-tests/sync-tests,"# Copyright 2015, Rackspace US, Inc.","# Copyright 2022, BBC R&D",1,1
openstack%2Freleases~865761,openstack/releases,master,Icb21d224a14abcab8dab1a2ea941372c950709df,[tacker] Transition Queens to End of Life,MERGED,2022-11-25 20:44:41.000000000,2022-12-02 11:08:23.000000000,2022-12-02 11:08:23.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:44:41.000000000', 'files': ['deliverables/queens/python-tackerclient.yaml', 'deliverables/queens/tacker.yaml', 'deliverables/queens/tacker-horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9bbb27dd1b98271e7c980652db9dfc734f0e2343', 'message': ""[tacker] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Icb21d224a14abcab8dab1a2ea941372c950709df\n""}]",2,865761,9bbb27dd1b98271e7c980652db9dfc734f0e2343,9,4,1,17685,,,0,"[tacker] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Icb21d224a14abcab8dab1a2ea941372c950709df
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/865761/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-tackerclient.yaml', 'deliverables/queens/tacker.yaml', 'deliverables/queens/tacker-horizon.yaml']",3,9bbb27dd1b98271e7c980652db9dfc734f0e2343,queens-eol, - version: queens-eol projects: - repo: openstack/tacker-horizon hash: c34dde1d327c4f9af35ec989f3c677e50eede48f,,12,0
openstack%2Freleases~865762,openstack/releases,master,I7cc2fa9ac0e5eeb025e5ea596d4d2fe7dece9520,[vitrage] Transition Queens to End of Life,MERGED,2022-11-25 20:44:47.000000000,2022-12-02 11:08:21.000000000,2022-12-02 11:08:21.000000000,"[{'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:44:47.000000000', 'files': ['deliverables/queens/vitrage-dashboard.yaml', 'deliverables/queens/python-vitrageclient.yaml', 'deliverables/queens/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/96e9b09194ac53aae3125292cb1177349c62d557', 'message': ""[vitrage] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I7cc2fa9ac0e5eeb025e5ea596d4d2fe7dece9520\n""}]",1,865762,96e9b09194ac53aae3125292cb1177349c62d557,9,4,1,17685,,,0,"[vitrage] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I7cc2fa9ac0e5eeb025e5ea596d4d2fe7dece9520
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/865762/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/vitrage-dashboard.yaml', 'deliverables/queens/python-vitrageclient.yaml', 'deliverables/queens/vitrage.yaml']",3,96e9b09194ac53aae3125292cb1177349c62d557,queens-eol, - version: queens-eol projects: - repo: openstack/vitrage hash: 9b780154ccd37883df4382f7d5380602140cfb7b,,12,0
openstack%2Freleases~865735,openstack/releases,master,Ibecca9ef2941680f13c679a2d81d3b307ffa5f19,[cloudkitty] Transition Queens to End of Life,MERGED,2022-11-25 20:34:50.000000000,2022-12-02 11:08:18.000000000,2022-12-02 11:08:18.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:34:50.000000000', 'files': ['deliverables/queens/cloudkitty-dashboard.yaml', 'deliverables/queens/python-cloudkittyclient.yaml', 'deliverables/queens/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc4106a3a3fcc3200af9a64f4904b65c4f8a29f1', 'message': ""[cloudkitty] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ibecca9ef2941680f13c679a2d81d3b307ffa5f19\n""}]",1,865735,fc4106a3a3fcc3200af9a64f4904b65c4f8a29f1,9,4,1,17685,,,0,"[cloudkitty] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ibecca9ef2941680f13c679a2d81d3b307ffa5f19
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/865735/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/cloudkitty-dashboard.yaml', 'deliverables/queens/python-cloudkittyclient.yaml', 'deliverables/queens/cloudkitty.yaml']",3,fc4106a3a3fcc3200af9a64f4904b65c4f8a29f1,queens-eol, - version: queens-eol projects: - repo: openstack/cloudkitty hash: 9850bd1e5dadff34fe615694232842429b187095,,12,0
openstack%2Freleases~865742,openstack/releases,master,Iafc19951377c69286adb47d9dd98086e0e9d1f91,[winstackers] Transition Queens to End of Life,MERGED,2022-11-25 20:40:21.000000000,2022-12-02 11:08:16.000000000,2022-12-02 11:08:16.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:40:21.000000000', 'files': ['deliverables/queens/networking-hyperv.yaml', 'deliverables/queens/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3c733fc1a80d63deae28836668562dcc218f452a', 'message': ""[winstackers] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Iafc19951377c69286adb47d9dd98086e0e9d1f91\n""}]",1,865742,3c733fc1a80d63deae28836668562dcc218f452a,9,5,1,17685,,,0,"[winstackers] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Iafc19951377c69286adb47d9dd98086e0e9d1f91
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/865742/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/networking-hyperv.yaml', 'deliverables/queens/os-win.yaml']",2,3c733fc1a80d63deae28836668562dcc218f452a,queens-eol, - version: queens-eol projects: - repo: openstack/os-win hash: 59305c8d3d19076d19562b68848b99c912ce3eab,,8,0
openstack%2Freleases~865750,openstack/releases,master,Ic2d376cdf840cf2d984a5a798d76bbd3564a10d1,[OpenStackSDK] Transition Queens to End of Life,MERGED,2022-11-25 20:42:24.000000000,2022-12-02 11:08:14.000000000,2022-12-02 11:08:14.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:42:24.000000000', 'files': ['deliverables/queens/python-openstackclient.yaml', 'deliverables/queens/shade.yaml', 'deliverables/queens/os-client-config.yaml', 'deliverables/queens/requestsexceptions.yaml', 'deliverables/queens/osc-lib.yaml', 'deliverables/queens/cliff.yaml', 'deliverables/queens/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd7ae36976fe246194dd9f1c3254a34ed608b26b', 'message': ""[OpenStackSDK] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ic2d376cdf840cf2d984a5a798d76bbd3564a10d1\n""}]",1,865750,dd7ae36976fe246194dd9f1c3254a34ed608b26b,9,4,1,17685,,,0,"[OpenStackSDK] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ic2d376cdf840cf2d984a5a798d76bbd3564a10d1
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/865750/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-openstackclient.yaml', 'deliverables/queens/shade.yaml', 'deliverables/queens/os-client-config.yaml', 'deliverables/queens/requestsexceptions.yaml', 'deliverables/queens/osc-lib.yaml', 'deliverables/queens/cliff.yaml', 'deliverables/queens/openstacksdk.yaml']",7,dd7ae36976fe246194dd9f1c3254a34ed608b26b,queens-eol, - version: queens-eol projects: - repo: openstack/openstacksdk hash: 1462454923d04a2d9c260edeb0f040eaa8b4a91c,,28,0
openstack%2Freleases~865734,openstack/releases,master,Ifec507e857c8c56153538daefa08b00744c49034,[zun] Transition Queens to End of Life,MERGED,2022-11-25 20:34:44.000000000,2022-12-02 11:08:11.000000000,2022-12-02 11:08:11.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:34:44.000000000', 'files': ['deliverables/queens/python-zunclient.yaml', 'deliverables/queens/zun-ui.yaml', 'deliverables/queens/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/91338e3da9776ff0d1d4eb2f71e99267da4c843d', 'message': ""[zun] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ifec507e857c8c56153538daefa08b00744c49034\n""}]",1,865734,91338e3da9776ff0d1d4eb2f71e99267da4c843d,9,4,1,17685,,,0,"[zun] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ifec507e857c8c56153538daefa08b00744c49034
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/865734/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-zunclient.yaml', 'deliverables/queens/zun-ui.yaml', 'deliverables/queens/zun.yaml']",3,91338e3da9776ff0d1d4eb2f71e99267da4c843d,queens-eol, - version: queens-eol projects: - repo: openstack/zun hash: becf0efcbc80125b3f63474fd760e2d529eb1433,,12,0
openstack%2Fopenstack-ansible-tests~866197,openstack/openstack-ansible-tests,master,If030c646e9c79b55b206fdca51d0b5555286c31b,Switch CentOS 8 Stream to 9 Stream,MERGED,2022-11-30 17:52:12.000000000,2022-12-02 11:06:26.000000000,2022-12-02 11:04:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-30 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5b616d7f5f37949a4a3c6758e1485d9bc377e6cd', 'message': 'Switch CentOS 8 Stream to 9 Stream\n\nChange-Id: If030c646e9c79b55b206fdca51d0b5555286c31b\n'}, {'number': 2, 'created': '2022-12-01 09:20:54.000000000', 'files': ['zuul.d/project-templates.yaml', 'run_tests_common.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/046ecd4abc184cb9512aaa99bbc70a9c692440f4', 'message': 'Switch CentOS 8 Stream to 9 Stream\n\nChange-Id: If030c646e9c79b55b206fdca51d0b5555286c31b\n'}]",0,866197,046ecd4abc184cb9512aaa99bbc70a9c692440f4,10,3,2,28619,,,0,"Switch CentOS 8 Stream to 9 Stream

Change-Id: If030c646e9c79b55b206fdca51d0b5555286c31b
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/97/866197/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,5b616d7f5f37949a4a3c6758e1485d9bc377e6cd,, name: openstack-ansible-functional-centos-9-stream parent: openstack-ansible-functional nodeset: centos-9-stream - job:,,6,1
openstack%2Freleases~865756,openstack/releases,master,I626ac7e8f33375429adfc0940bdf96f9602eebf3,[murano] Transition Queens to End of Life,MERGED,2022-11-25 20:43:33.000000000,2022-12-02 11:00:03.000000000,2022-12-02 11:00:03.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:43:33.000000000', 'files': ['deliverables/queens/murano-dashboard.yaml', 'deliverables/queens/murano-agent.yaml', 'deliverables/queens/murano.yaml', 'deliverables/queens/python-muranoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/059c9e68c5a9545bba1026a5f56a9223ecc8aa69', 'message': ""[murano] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I626ac7e8f33375429adfc0940bdf96f9602eebf3\n""}]",1,865756,059c9e68c5a9545bba1026a5f56a9223ecc8aa69,9,4,1,17685,,,0,"[murano] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I626ac7e8f33375429adfc0940bdf96f9602eebf3
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/865756/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/murano-dashboard.yaml', 'deliverables/queens/murano-agent.yaml', 'deliverables/queens/murano.yaml', 'deliverables/queens/python-muranoclient.yaml']",4,059c9e68c5a9545bba1026a5f56a9223ecc8aa69,queens-eol, - version: queens-eol projects: - repo: openstack/python-muranoclient hash: 8f96511d5e2b7abe81e6d4bb7af7510ee6d89a29,,16,0
openstack%2Fpuppet-neutron~866247,openstack/puppet-neutron,master,Iabab109d21cd0a09a75e1fd06740f7360723af48,neutron_router: Prohibit updating project_id/name,MERGED,2022-12-01 04:15:51.000000000,2022-12-02 10:59:42.000000000,2022-12-02 10:59:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 04:15:51.000000000', 'files': ['lib/puppet/provider/neutron_router/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd', 'message': 'neutron_router: Prohibit updating project_id/name\n\nWe already prohibit updating tenant_id and tenant_name. Because\nthe provider does not have logic to handle the update, we should also\nprohibit updating these properties.\n\nChange-Id: Iabab109d21cd0a09a75e1fd06740f7360723af48\n'}]",0,866247,dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd,7,3,1,9816,,,0,"neutron_router: Prohibit updating project_id/name

We already prohibit updating tenant_id and tenant_name. Because
the provider does not have logic to handle the update, we should also
prohibit updating these properties.

Change-Id: Iabab109d21cd0a09a75e1fd06740f7360723af48
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/47/866247/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/neutron_router/openstack.rb'],1,dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd,," :project_id, :project_name",,2,0
openstack%2Freleases~865737,openstack/releases,master,Ifdb7d2954b49cda1775ba69d6687fcb78bf3e5e8,[solum] Transition Queens to End of Life,MERGED,2022-11-25 20:35:14.000000000,2022-12-02 10:59:37.000000000,2022-12-02 10:59:37.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:35:14.000000000', 'files': ['deliverables/queens/solum-dashboard.yaml', 'deliverables/queens/python-solumclient.yaml', 'deliverables/queens/solum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/50ffc15015497aa299229bf8b6650f34f326a387', 'message': ""[solum] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ifdb7d2954b49cda1775ba69d6687fcb78bf3e5e8\n""}]",1,865737,50ffc15015497aa299229bf8b6650f34f326a387,9,4,1,17685,,,0,"[solum] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ifdb7d2954b49cda1775ba69d6687fcb78bf3e5e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/865737/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/solum-dashboard.yaml', 'deliverables/queens/python-solumclient.yaml', 'deliverables/queens/solum.yaml']",3,50ffc15015497aa299229bf8b6650f34f326a387,queens-eol, - version: queens-eol projects: - repo: openstack/solum hash: 1f2f859bc9df9021fd0412e21be28c7626884f5f,,12,0
openstack%2Freleases~865763,openstack/releases,master,I55d676ec04fafc12a0756d74a6ff51bdb51641ab,[blazar] Transition Queens to End of Life,MERGED,2022-11-25 20:44:53.000000000,2022-12-02 10:59:33.000000000,2022-12-02 10:59:33.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:44:53.000000000', 'files': ['deliverables/queens/blazar.yaml', 'deliverables/queens/blazar-dashboard.yaml', 'deliverables/queens/blazar-nova.yaml', 'deliverables/queens/python-blazarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/58e8f632ade76a281d90e99f2ec39321616c9fcb', 'message': ""[blazar] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I55d676ec04fafc12a0756d74a6ff51bdb51641ab\n""}]",1,865763,58e8f632ade76a281d90e99f2ec39321616c9fcb,9,4,1,17685,,,0,"[blazar] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I55d676ec04fafc12a0756d74a6ff51bdb51641ab
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/865763/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/blazar.yaml', 'deliverables/queens/blazar-dashboard.yaml', 'deliverables/queens/blazar-nova.yaml', 'deliverables/queens/python-blazarclient.yaml']",4,58e8f632ade76a281d90e99f2ec39321616c9fcb,queens-eol, - version: queens-eol projects: - repo: openstack/python-blazarclient hash: 983f3a9d3b89f3fb2c5917c6b4bfacba676f7ed8,,16,0
openstack%2Freleases~865745,openstack/releases,master,If095d77e288a1faa97d2b6eba01559ad1973e625,[magnum] Transition Queens to End of Life,MERGED,2022-11-25 20:40:59.000000000,2022-12-02 10:59:31.000000000,2022-12-02 10:59:31.000000000,"[{'_account_id': 8064}, {'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:40:59.000000000', 'files': ['deliverables/queens/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9207024f9ebb93bc7baa32d3379c13b06f1a9a97', 'message': ""[magnum] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: If095d77e288a1faa97d2b6eba01559ad1973e625\n""}]",1,865745,9207024f9ebb93bc7baa32d3379c13b06f1a9a97,9,5,1,17685,,,0,"[magnum] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: If095d77e288a1faa97d2b6eba01559ad1973e625
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/865745/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/python-magnumclient.yaml'],1,9207024f9ebb93bc7baa32d3379c13b06f1a9a97,queens-eol, - version: queens-eol projects: - repo: openstack/python-magnumclient hash: 436a1910e7cbf96e7bf4fded636bf68674bf292e,,4,0
openstack%2Freleases~865744,openstack/releases,master,If585eaaab2385b3ac961bec602703986e45a1f6b,[Telemetry] Transition Queens to End of Life,MERGED,2022-11-25 20:40:34.000000000,2022-12-02 10:58:02.000000000,2022-12-02 10:58:02.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:40:34.000000000', 'files': ['deliverables/queens/ceilometer.yaml', 'deliverables/queens/aodh.yaml', 'deliverables/queens/ceilometer-powervm.yaml', 'deliverables/queens/panko.yaml', 'deliverables/queens/python-pankoclient.yaml', 'deliverables/queens/ceilometermiddleware.yaml', 'deliverables/queens/python-aodhclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5b336588b1fa64a6eb753ef7e9379c2171fcb813', 'message': ""[Telemetry] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: If585eaaab2385b3ac961bec602703986e45a1f6b\n""}]",2,865744,5b336588b1fa64a6eb753ef7e9379c2171fcb813,8,4,1,17685,,,0,"[Telemetry] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: If585eaaab2385b3ac961bec602703986e45a1f6b
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/865744/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/ceilometer.yaml', 'deliverables/queens/aodh.yaml', 'deliverables/queens/ceilometer-powervm.yaml', 'deliverables/queens/panko.yaml', 'deliverables/queens/python-pankoclient.yaml', 'deliverables/queens/ceilometermiddleware.yaml', 'deliverables/queens/python-aodhclient.yaml']",7,5b336588b1fa64a6eb753ef7e9379c2171fcb813,queens-eol, - version: queens-eol projects: - repo: openstack/python-aodhclient hash: 77beba4282518eb8aeee554b3f163d8ba579423e,,28,0
openstack%2Freleases~865743,openstack/releases,master,Iab3aa94b4b15094295233e6cd3c82ba4781e454e,[heat] Transition Queens to End of Life,MERGED,2022-11-25 20:40:27.000000000,2022-12-02 10:58:00.000000000,2022-12-02 10:58:00.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-25 20:40:27.000000000', 'files': ['deliverables/queens/heat-dashboard.yaml', 'deliverables/queens/heat-translator.yaml', 'deliverables/queens/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/92064ed5fb7d2107d27e3c9ff55964078fcfda38', 'message': ""[heat] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Iab3aa94b4b15094295233e6cd3c82ba4781e454e\n""}]",1,865743,92064ed5fb7d2107d27e3c9ff55964078fcfda38,9,5,1,17685,,,0,"[heat] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Iab3aa94b4b15094295233e6cd3c82ba4781e454e
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/865743/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/heat-dashboard.yaml', 'deliverables/queens/heat-translator.yaml', 'deliverables/queens/tosca-parser.yaml']",3,92064ed5fb7d2107d27e3c9ff55964078fcfda38,queens-eol, - version: queens-eol projects: - repo: openstack/tosca-parser hash: 78eab0a53f192824666c6517df7b73c477078928,,12,0
openstack%2Freleases~862515,openstack/releases,master,I30631c82945715f08dc6f59e282f96676d36e5e7,"[barbican] Transition Queens, Rocky & Stein to EOL",MERGED,2022-10-24 17:36:45.000000000,2022-12-02 10:57:58.000000000,2022-12-02 10:57:58.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-10-24 17:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ca42735929a9ec1011c1b9970fb3836bf690c030', 'message': '[barbican] Transition Queens, Rocky & Stein to EOL\n\nThe barbican team is no longer maintaing branches older than Train.\n\nChange-Id: I30631c82945715f08dc6f59e282f96676d36e5e7\n'}, {'number': 2, 'created': '2022-10-24 17:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/95400d5bd8b3bd53c6ce76020e3164ad5a29030b', 'message': '[barbican] Transition Queens, Rocky & Stein to EOL\n\nThe barbican team is no longer maintaing branches older than Train.\n\nChange-Id: I30631c82945715f08dc6f59e282f96676d36e5e7\n'}, {'number': 3, 'created': '2022-11-29 11:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/576bb6b491787e19bc5bf109dfb85f8812eab291', 'message': '[barbican] Transition Queens, Rocky & Stein to EOL\n\nThe barbican team is no longer maintaing branches older than Train.\n\nChange-Id: I30631c82945715f08dc6f59e282f96676d36e5e7\n'}, {'number': 4, 'created': '2022-12-01 08:33:09.000000000', 'files': ['deliverables/stein/barbican.yaml', 'deliverables/stein/python-barbicanclient.yaml', 'deliverables/rocky/python-barbicanclient.yaml', 'deliverables/queens/barbican.yaml', 'deliverables/queens/python-barbicanclient.yaml', 'deliverables/rocky/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ebd743ed71f562a910107ab7a7f56c40c15d35c8', 'message': '[barbican] Transition Queens, Rocky & Stein to EOL\n\nThe barbican team is no longer maintaing branches older than Train.\n\nChange-Id: I30631c82945715f08dc6f59e282f96676d36e5e7\n'}]",6,862515,ebd743ed71f562a910107ab7a7f56c40c15d35c8,26,8,4,7973,,,0,"[barbican] Transition Queens, Rocky & Stein to EOL

The barbican team is no longer maintaing branches older than Train.

Change-Id: I30631c82945715f08dc6f59e282f96676d36e5e7
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/862515/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/barbican.yaml', 'deliverables/queens/barbican.yaml', 'deliverables/rocky/barbican.yaml']",3,ca42735929a9ec1011c1b9970fb3836bf690c030,, - version: rocky-eol projects: - repo: openstack/barbican hash: 37bc0d00df8a3944cc78824343a1882ed4028dc1 branches: - location: 7.0.0.0rc1 name: stable/rocky cycle-highlights: - | A new crypto plugin was added to allow secrets to be stored and generated in a HashiCorp Vault. This plugin uses the castellan vault plugin to access the Vault. - | The PKCS#11 plugin was augmented to allow encryption and HMAC algorithms and key parameters to be customized to allow easier integration with Thales and ATOS HSMs. Changes were also made to barbican-manage to allow the key types and algorithms to be customized.,,25,0
openstack%2Freleases~865747,openstack/releases,master,I0f4cbbcb500653117c7fe2e067f4df5c1a1404eb,[cinder] Transition Queens to End of Life,MERGED,2022-11-25 20:41:34.000000000,2022-12-02 10:57:55.000000000,2022-12-02 10:57:55.000000000,"[{'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:41:34.000000000', 'files': ['deliverables/queens/cinder.yaml', 'deliverables/queens/python-cinderclient.yaml', 'deliverables/queens/os-brick.yaml', 'deliverables/queens/python-brick-cinderclient-ext.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d7981aa35a4fc99ddf1d1f9c6cd65d809fc5eb9', 'message': ""[cinder] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I0f4cbbcb500653117c7fe2e067f4df5c1a1404eb\n""}]",6,865747,8d7981aa35a4fc99ddf1d1f9c6cd65d809fc5eb9,9,5,1,17685,,,0,"[cinder] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0f4cbbcb500653117c7fe2e067f4df5c1a1404eb
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/865747/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/cinder.yaml', 'deliverables/queens/python-cinderclient.yaml', 'deliverables/queens/os-brick.yaml', 'deliverables/queens/python-brick-cinderclient-ext.yaml']",4,8d7981aa35a4fc99ddf1d1f9c6cd65d809fc5eb9,queens-eol, - version: queens-eol projects: - repo: openstack/python-brick-cinderclient-ext hash: 034a494a10ffad5c43118192495de2f3eef51c75,,16,0
openstack%2Freleases~864343,openstack/releases,master,Ie5f2f3d9de1ce53c0190d56e9d454018fd666eef,[cinder-tempest-plugin] Tag ussuri-last & victoria-last,MERGED,2022-11-12 23:32:52.000000000,2022-12-02 10:57:53.000000000,2022-12-02 10:57:53.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-12 23:32:52.000000000', 'files': ['deliverables/victoria/cinder-tempest-plugin.yaml', 'deliverables/ussuri/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ba3b2d072f9e6880501a0f17584e0eee076e4e9', 'message': '[cinder-tempest-plugin] Tag ussuri-last & victoria-last\n\nUssuri and Victoria branches are in Extended Maintenance[1].\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins needs to be released[2] so that we have the compatible\ntags to test the EM stable branches[3].\n\nWe taged ussuri-last & victoria-last for tempest[4] but forgot to do\nit for the tempest plugins. Using 1.3.0 tag hash which is compatible\nand used for cinder ussuri and victoria testing.\n\n- https://github.com/openstack/cinder/blob/ea54727fd2600337e1a9f91a443feb3993a117f8/.zuul.yaml#L225\n- https://github.com/openstack/cinder/blob/5cb0a8bb7d9c67ccc3bc44190170036fbc00a704/.zuul.yaml#L277\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[3] https://review.opendev.org/c/openstack/releases/+/843039\n\nChange-Id: Ie5f2f3d9de1ce53c0190d56e9d454018fd666eef\n'}]",3,864343,9ba3b2d072f9e6880501a0f17584e0eee076e4e9,11,6,1,8556,,,0,"[cinder-tempest-plugin] Tag ussuri-last & victoria-last

Ussuri and Victoria branches are in Extended Maintenance[1].
Once any stable branch is moved to EM state then, Tempest and
its plugins needs to be released[2] so that we have the compatible
tags to test the EM stable branches[3].

We taged ussuri-last & victoria-last for tempest[4] but forgot to do
it for the tempest plugins. Using 1.3.0 tag hash which is compatible
and used for cinder ussuri and victoria testing.

- https://github.com/openstack/cinder/blob/ea54727fd2600337e1a9f91a443feb3993a117f8/.zuul.yaml#L225
- https://github.com/openstack/cinder/blob/5cb0a8bb7d9c67ccc3bc44190170036fbc00a704/.zuul.yaml#L277

[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[3] https://review.opendev.org/c/openstack/releases/+/843039

Change-Id: Ie5f2f3d9de1ce53c0190d56e9d454018fd666eef
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/864343/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/cinder-tempest-plugin.yaml', 'deliverables/ussuri/cinder-tempest-plugin.yaml']",2,9ba3b2d072f9e6880501a0f17584e0eee076e4e9,u-v-last, - version: ussuri-last projects: - repo: openstack/cinder-tempest-plugin hash: 3b255b76966a9c4bb5deadbc0d3d372a5288830c,,8,0
openstack%2Fkuryr-kubernetes~866188,openstack/kuryr-kubernetes,master,I7d80c77bb7a59c354e788f2abf41df9efb2489b7,DNM: Testing getting back to focal,ABANDONED,2022-11-30 17:01:28.000000000,2022-12-02 10:43:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-30 17:01:28.000000000', 'files': ['.zuul.d/tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6101cc0cae06bb70279562dcd4faae1535176c59', 'message': 'DNM: Testing getting back to focal\n\nChange-Id: I7d80c77bb7a59c354e788f2abf41df9efb2489b7\n'}]",0,866188,6101cc0cae06bb70279562dcd4faae1535176c59,3,1,1,11600,,,0,"DNM: Testing getting back to focal

Change-Id: I7d80c77bb7a59c354e788f2abf41df9efb2489b7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/866188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/tempest-jobs.yaml'],1,6101cc0cae06bb70279562dcd4faae1535176c59,crio-ver, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,2,0
openstack%2Fkuryr-kubernetes~866187,openstack/kuryr-kubernetes,master,Id9e7b0edd4066bad88abfaaa88b536411213a4d1,DNM: Testing cri-o failing,ABANDONED,2022-11-30 16:55:35.000000000,2022-12-02 10:43:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-30 16:55:35.000000000', 'files': ['tools/gate/copy_crio_logs.sh', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3e60f72c6107984c7e6edfdad82365c3e8b0104e', 'message': 'DNM: Testing cri-o failing\n\nChange-Id: Id9e7b0edd4066bad88abfaaa88b536411213a4d1\n'}]",0,866187,3e60f72c6107984c7e6edfdad82365c3e8b0104e,3,1,1,11600,,,0,"DNM: Testing cri-o failing

Change-Id: Id9e7b0edd4066bad88abfaaa88b536411213a4d1
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/87/866187/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/copy_crio_logs.sh', '.zuul.d/project.yaml']",2,3e60f72c6107984c7e6edfdad82365c3e8b0104e,crio-ver,, - kuryr-kubernetes-tempest-docker - kuryr-kubernetes-tempest-defaults - kuryr-kubernetes-tempest-systemd - kuryr-kubernetes-tempest-multinode - kuryr-kubernetes-tempest-multinode-ovs - kuryr-kubernetes-tempest-ipv6 - kuryr-kubernetes-tempest-ipv6-ovs - kuryr-kubernetes-tempest-amphora - kuryr-kubernetes-tempest-amphora-ovs - kuryr-kubernetes-e2e-np,1,10
openstack%2Fkuryr-kubernetes~866052,openstack/kuryr-kubernetes,master,I2ca743022e160f4f5b88e31b3f67b035392594ed,DNM: Testing docker.io container alias,ABANDONED,2022-11-29 17:48:20.000000000,2022-12-02 10:43:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 17:48:20.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/67b5e005ed0a9373696764663927b25f0eb6d6b1', 'message': 'DNM: Testing docker.io container alias\n\nChange-Id: I2ca743022e160f4f5b88e31b3f67b035392594ed\n'}]",0,866052,67b5e005ed0a9373696764663927b25f0eb6d6b1,3,1,1,11600,,,0,"DNM: Testing docker.io container alias

Change-Id: I2ca743022e160f4f5b88e31b3f67b035392594ed
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/52/866052/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,67b5e005ed0a9373696764663927b25f0eb6d6b1,crio-ver,"# the local docker registry as docker.io/kuryr/controller:latest for controller or # docker.io/kuryr/cni:latest for CNI. local tag=""docker.io/kuryr/${target}"" - image: docker.io/kuryr/controller:latest image: docker.io/kuryr/cni:latest","# the local docker registry as kuryr/controller:latest for controller or # kuryr/cni:latest for CNI. local tag=""kuryr/${target}"" if [[ ${CONTAINER_ENGINE} == 'crio' ]]; then # NOTE(gryf): for crio/podman we need to have it tagged with docker.io # (or whatever registry), or we would need to setup one, otherwise the # default tag would be 'localhost/kuryr/*' instead of 'kuryr/*' as in # docker case (which by default becomes 'docker.io/kuryr/*' if no # registry has been specified). Creating registry for just two images # is a little bit of overkill, hence the trick with docker.io tag, and # image pull policy set to ""Never"" on deployment definition, so that # we assure for taking images that we built. tag=""docker.io/${tag}"" fi - image: kuryr/controller:latest image: kuryr/cni:latest",5,16
openstack%2Fkayobe~866345,openstack/kayobe,master,I751a458f7668f7917abaa662723221ac7e3752c8,CI: Fix molecule job on Ubuntu Jammy,MERGED,2022-12-01 15:25:57.000000000,2022-12-02 10:28:03.000000000,2022-12-02 10:26:35.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 15:25:57.000000000', 'files': ['ansible/roles/kolla-openstack/molecule/default/molecule.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/564a06551fce5a6004a1f394d2e9661063878f5d', 'message': ""CI: Fix molecule job on Ubuntu Jammy\n\nOpenDev has changed the image used for tox jobs to Ubuntu Jammy 22.04.\nThis broke molecule jobs, which started failing with:\n\nImportError: cannot import name 'Iterable' from 'collections'\n\nThis change updates requirements to bump molecule and pytest-metadata.\nIt also removes molecule flake8 lint configuration, which is no longer\nsupported.\n\nChange-Id: I751a458f7668f7917abaa662723221ac7e3752c8\n""}]",2,866345,564a06551fce5a6004a1f394d2e9661063878f5d,11,2,1,14826,,,0,"CI: Fix molecule job on Ubuntu Jammy

OpenDev has changed the image used for tox jobs to Ubuntu Jammy 22.04.
This broke molecule jobs, which started failing with:

ImportError: cannot import name 'Iterable' from 'collections'

This change updates requirements to bump molecule and pytest-metadata.
It also removes molecule flake8 lint configuration, which is no longer
supported.

Change-Id: I751a458f7668f7917abaa662723221ac7e3752c8
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/866345/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/molecule/default/molecule.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'molecule-requirements.txt']",3,564a06551fce5a6004a1f394d2e9661063878f5d,,molecule<4.1.0 # MITpytest-metadata # MPL,molecule<3.5.0 # MITpytest-metadata<2 # MPL,2,6
openstack%2Ftripleo-heat-templates~865631,openstack/tripleo-heat-templates,master,If82424d901c122e80700b3ea59fb0f7dc0a3b345,Add support for new ovn-bgp-agent config flag,MERGED,2022-11-25 08:20:06.000000000,2022-12-02 10:17:24.000000000,2022-12-02 10:17:24.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 08:20:06.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3feb00400132d975d43cf4bbcf45853e40a720f8', 'message': 'Add support for new ovn-bgp-agent config flag\n\nPatch [1] added support for only exposing IPv6 GUA tenant\nnetwork IPs. It created a new flag to control it, so this\npatch is adding support for it.\n\n[1] https://review.opendev.org/c/x/ovn-bgp-agent/+/864813\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865630\nChange-Id: If82424d901c122e80700b3ea59fb0f7dc0a3b345\n'}]",1,865631,3feb00400132d975d43cf4bbcf45853e40a720f8,9,5,1,23567,,,0,"Add support for new ovn-bgp-agent config flag

Patch [1] added support for only exposing IPv6 GUA tenant
network IPs. It created a new flag to control it, so this
patch is adding support for it.

[1] https://review.opendev.org/c/x/ovn-bgp-agent/+/864813

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865630
Change-Id: If82424d901c122e80700b3ea59fb0f7dc0a3b345
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/865631/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,3feb00400132d975d43cf4bbcf45853e40a720f8,," FrrOvnBgpAgentExposeIpv6GuaTenantNetworks: description: > Exposes VM IPs on tenant networks via MP-BGP IPv6 unicast if IPv6 is global (GUA). Requires the BGP driver (see THT parameter FrrOvnBgpAgentDriver). type: boolean default: false tags: - role_specific ovn_bgp_agent_expose_ipv6_gua_tenant_networks: FrrOvnBgpAgentExposeIpv6GuaTenantNetworks FrrOvnBgpAgentExposeIpv6GuaTenantNetworks: {get_param: FrrOvnBgpAgentExposeIpv6GuaTenantNetworks} tripleo_frr_ovn_bgp_agent_expose_ipv6_gua_tenant_networks: {get_attr: [RoleParametersValue, value, ovn_bgp_agent_expose_ipv6_gua_tenant_networks]}",,12,0
openstack%2Fswift~863853,openstack/swift,master,Ib310f9a6748ac7a2aa68cd128728a682b50e6ecc,Remove python-dev from bindep,NEW,2022-11-07 10:09:21.000000000,2022-12-02 09:55:44.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-07 10:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3463337dfe17d535dce93d1b3a2cdbd03b427dcb', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: Ib310f9a6748ac7a2aa68cd128728a682b50e6ecc\n""}, {'number': 2, 'created': '2022-11-08 13:41:51.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/39074527e6aa788c546dacc41a4c3919eed6e88c', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: Ib310f9a6748ac7a2aa68cd128728a682b50e6ecc\n""}]",3,863853,39074527e6aa788c546dacc41a4c3919eed6e88c,8,3,2,28522,,,0,"Remove python-dev from bindep

It is no longer supported by jammy and lead us to the following errors with the announce-release job.

```
No package matching 'python-dev' is available
```

Change-Id: Ib310f9a6748ac7a2aa68cd128728a682b50e6ecc
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/863853/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,3463337dfe17d535dce93d1b3a2cdbd03b427dcb,drop-python-dev-from-bindep,,python-dev [platform:dpkg platform:apk !platform:ubuntu-jammy] python-devel [platform:rpm !py36]# by python-devel as well. See https://bugzilla.suse.com/show_bug.cgi?id=1046990,0,3
openstack%2Fcharm-zuul-jobs~866437,openstack/charm-zuul-jobs,master,Ie3c09bcb9e5c363198f32534fbf78d5beecb2761,Make juju snap to install configurable,MERGED,2022-12-02 09:06:20.000000000,2022-12-02 09:34:00.000000000,2022-12-02 09:34:00.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 09:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/d9cd509f8da92f199cb04500d891acfd9ed02c33', 'message': 'Make juju snap to install configurable\n\nMake snap confinement mode for juju configurable.\nRemove juju bootstrap options. Existing option\n--agent-version=2.i9.34 is no longer needed as the\ncorresponding bug is released [1].\n\n[1] https://bugs.launchpad.net/juju/+bug/1993309/\n\nChange-Id: Ie3c09bcb9e5c363198f32534fbf78d5beecb2761\n'}, {'number': 2, 'created': '2022-12-02 09:07:43.000000000', 'files': ['roles/microk8s-cloud/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/c34ec80d17363a7e42449aebe1531a9ba61d99f3', 'message': 'Make juju snap to install configurable\n\nMake snap confinement mode for juju configurable.\nRemove juju bootstrap options. Existing option\n--agent-version=2.9.34 is no longer needed as the\ncorresponding bug is released [1].\n\n[1] https://bugs.launchpad.net/juju/+bug/1993309/\n\nChange-Id: Ie3c09bcb9e5c363198f32534fbf78d5beecb2761\n'}]",0,866437,c34ec80d17363a7e42449aebe1531a9ba61d99f3,7,2,2,10366,,,0,"Make juju snap to install configurable

Make snap confinement mode for juju configurable.
Remove juju bootstrap options. Existing option
--agent-version=2.9.34 is no longer needed as the
corresponding bug is released [1].

[1] https://bugs.launchpad.net/juju/+bug/1993309/

Change-Id: Ie3c09bcb9e5c363198f32534fbf78d5beecb2761
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/37/866437/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/microk8s-cloud/tasks/main.yaml'],1,d9cd509f8da92f199cb04500d891acfd9ed02c33,juju-bootstrap-options," classic: ""{{ juju_classic_mode | default(true) }}"" cmd: juju bootstrap microk8s microk8s", classic: true cmd: juju bootstrap --agent-version=2.9.34 microk8s microk8s,2,2
openstack%2Fpuppet-heat~866242,openstack/puppet-heat,master,I066634fe94cfe2503a0c5fc8ed6ac3dae374f427,Fix usage of non-existing parameter in example,MERGED,2022-12-01 02:18:08.000000000,2022-12-02 08:57:54.000000000,2022-12-02 08:57:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 02:18:08.000000000', 'files': ['examples/site.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/8e4ba4e77b1bc20cae7f2d86e9b393f04eae5aa9', 'message': 'Fix usage of non-existing parameter in example\n\nThe heat::sql_database parameter no longer exists.\n\nChange-Id: I066634fe94cfe2503a0c5fc8ed6ac3dae374f427\n'}]",0,866242,8e4ba4e77b1bc20cae7f2d86e9b393f04eae5aa9,7,3,1,9816,,,0,"Fix usage of non-existing parameter in example

The heat::sql_database parameter no longer exists.

Change-Id: I066634fe94cfe2503a0c5fc8ed6ac3dae374f427
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/42/866242/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/site.pp'],1,8e4ba4e77b1bc20cae7f2d86e9b393f04eae5aa9,, class { 'heat::db': database_connection => 'mysql+pymysql://heat:heat@localhost/heat' } , sql_connection => 'mysql+pymysql://heat:heat@localhost/heat',4,1
openstack%2Fkeystone-specs~818616,openstack/keystone-specs,master,Idef5ac4083a7070f272b3e15a464a8c9dc447d47,Describe the need for a default service role,MERGED,2021-11-19 17:57:50.000000000,2022-12-02 08:47:25.000000000,2022-12-02 08:46:26.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 14250}, {'_account_id': 14826}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-19 17:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/219e3d1a15f2114949654de19599f97346e33da0', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}, {'number': 2, 'created': '2022-04-01 15:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e0f27814ca6822786d1ed74aa946123cca3eea4d', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}, {'number': 3, 'created': '2022-10-16 00:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b01fcedb2c2a7cafb90d9d4655c4971b62918c1f', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}, {'number': 4, 'created': '2022-10-16 00:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8105af43f338274c7e39e45fc60d66195f1bfa87', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}, {'number': 5, 'created': '2022-10-25 18:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/c522f55050ad88c4e4f7eaa3dff10c1181dc5eb3', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}, {'number': 6, 'created': '2022-11-02 14:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/81d836e7bf9f6a6cd0a5be6cc9a1ca3926331ee3', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}, {'number': 7, 'created': '2022-11-14 01:04:06.000000000', 'files': ['doc/source/index.rst', 'specs/keystone/2023.1/default-service-role.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/75b4fb25c5b6e2c6ef4b0157c98eeb17c777c054', 'message': 'Describe the need for a default service role\n\nRelated-Bug: 1951632\n\nChange-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47\n'}]",39,818616,75b4fb25c5b6e2c6ef4b0157c98eeb17c777c054,57,11,7,5046,,,0,"Describe the need for a default service role

Related-Bug: 1951632

Change-Id: Idef5ac4083a7070f272b3e15a464a8c9dc447d47
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/16/818616/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/keystone/yoga/default-service-role.rst']",2,219e3d1a15f2114949654de19599f97346e33da0,bug/1951632,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Default Service Role ==================== `bug #1951632 <https://bugs.launchpad.net/keystone/+bug/1951632>`_ In Rocky, keystone added a `default role hierarchy <https://specs.openstack.org/openstack/keystone-specs/specs/keystone/rocky/define-default-roles.html>`_. This was part of a large initiative to improve RBAC across all OpenStack projects. Through the process of adopting the default roles implemented in Rocky, OpenStack developers and operators have acknowledged that several OpenStack service accounts have too much authorization. This specification details the reasons for creating a new role called ``service`` and updating the default policies across OpenStack for service-to-service communication to use that specialized role. Problem Description =================== Today, ``keystone-manage bootstrap`` provides three default roles, ``admin``, ``member``, and ``reader``. These roles build a basic hierarchy, where ``admin`` implies ``member``, and ``member`` implies ``reader``. The rationale for this work is detailed in the original specification. The ``admin`` role has the ability to do just about anything in the OpenStack deployment. Unfortunately, it's used as catch all for authorization. This results in service users getting the ``admin`` role when they need to do a privileged operation in one service. In reality, this is poor security practice because that service account has the ability to do anything. It can create, update, and remove any resource in the deployment. A bad actor could easily use a compromised service account to create backdoor access to the deployment. By applying the principle of least privilege to service users, we can harden OpenStack default security posture and reduce the surface area of administrative power. Proposed Change =============== Expand the ``keystone-manage bootstrap`` utility to create a new role named ``service``. Conflicts should be handled gracefully, especially since some policies in OpenStack rely on the ``service`` role already and it's entirely plausible that operators have created this role already. Existing roles shouldn't be deleted and then recreated, so that we don't break anything relying on the role ID. This role should be kept outside of the existing role hierarchy that includes ``admin``, ``member``, and ``reader``. Those role definitions were created with humans in mind, and organized hierarchically to apply to hierarchical RBAC. Service-to-service communication is much more prescriptive in that service accounts only need to access a handful of APIs from other services. Building the ``service`` role outside the current hierarchy ensures we're following the principle of least privilege for service accounts. After keystone implements support for the ``service`` role, OpenStack service developers can start integrating it into their default policies. .. code-block:: python policy.DocumentedRuleDefault( name='os_compute_api:os-server-external-events:create', check_str='role:admin or role:service', scope_types=['project'] ) Additionally, any deployment tools that create service accounts for OpenStack services, should start preparing for these policy changes by updating their role assignments and performing the deployment language equivalent of the following:: $ openstack role add --user nova --project service service $ openstack role add --user cinder --project service service $ openstack role add --user neutron --project service service $ openstack role add --user glance --project service service $ openstack role add --user manila --project service service Future Work Proposals --------------------- Service-Specific Default Roles ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ In a later release we could elaborate on this concept to create additional roles called ``compute-service``, ``block-storage-service``, ``network-service``, ``image-service`` and so on. The ``service`` role could imply each of these roles and the policies for each service could be refined again to only allow access based on the service. This would require additional deployment tool intervention:: $ openstack role add --user nova --project service compute-service $ openstack role add --user cinder --project service block-storage-service $ openstack role add --user neutron --project service network-service $ openstack role add --user glance --project service image-service This would reduce the ability for service accounts to interact with APIs they don't need. Application Credentials ^^^^^^^^^^^^^^^^^^^^^^^ An alternative to service-specific default roles would be to use `application credentials with access rules <https://docs.openstack.org/keystone/latest/user/application_credentials.html#access-rules>`_ for each service. Each service would still have the ``service`` role, but it would be restricted to only access the APIs it requires using access rules. Alternatives ------------ We could rely on deployment tooling to deploy this role at installation time. However, that still opens the door for inconsistencies across OpenStack installers. Adding formal support in ``keystone-manage bootstrap`` is cleaner, more consistent, and integrates with existing deployment tools without additional action required. Security Impact --------------- This new role is already used in some OpenStack policies. Using it initially will be better than granting service users the ``admin`` role. Notifications Impact -------------------- None Other End User Impact --------------------- This work doesn't require any client code since it's done using ``keystone-manager``. Performance Impact ------------------ This is a trivial change to add another row to the roles table. Performance impact is negligible. Other Deployer Impact --------------------- If operators or deployers have a utility that creates a ``service`` role, then they can update that utility to remove that API call and they can rely on the functionality in ``keystone-manage bootstrap``. Developer Impact ---------------- Developers will have another role at their disposal for writing default policies. They should understand the proper usage of ``service`` and that it should only be used for service-to-service APIs. Implementation ============== Assignee(s) ----------- Primary assignee: <lbragstad> Work Items ---------- * Update ``keystone-manage bootstrap`` to create a new role called ``service`` * Add the corresponding ``service`` role to the administrator `guide <https://docs.openstack.org/keystone/latest/admin/service-api-protection.html>`_ * Add the ``service`` role to the developer `documentation <https://docs.openstack.org/keystone/latest/contributor/services.html#reusable-default-roles>`_ * Add the service role to any OpenStack-wide documentation describing the secure RBAC personas Dependencies ============ This work is required to move forward on a set of community-wide `goals <https://review.opendev.org/c/openstack/governance/+/815158>`_ to improve authorization in OpenStack. Documentation Impact ==================== Listed above in the `Work Items`_ section. References ========== Referenced inline. ",,210,4
openstack%2Fos-net-config~854489,openstack/os-net-config,master,Idd33e63c54e091bf390a9160a101c4baf6b464bc,remove unicode from code,MERGED,2022-08-25 03:36:45.000000000,2022-12-02 03:43:55.000000000,2022-12-02 03:41:57.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-08-25 03:36:45.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/60fe998bead49d01665f0f43f3fde9879c02efe3', 'message': 'remove unicode from code\n\nChange-Id: Idd33e63c54e091bf390a9160a101c4baf6b464bc\n'}]",1,854489,60fe998bead49d01665f0f43f3fde9879c02efe3,11,4,1,35067,,,0,"remove unicode from code

Change-Id: Idd33e63c54e091bf390a9160a101c4baf6b464bc
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/89/854489/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,60fe998bead49d01665f0f43f3fde9879c02efe3,,"project = 'os-net-config Release Notes' copyright = '2018, OpenStackFoundation'","project = u'os-net-config Release Notes' copyright = u'2018, OpenStackFoundation'",6,6
openstack%2Ftripleo-validations~864560,openstack/tripleo-validations,stable/wallaby,I6c4bdff5e253bb054231dae2c3a280322cb18b9f,Removing undercloud-tokenflush validation and related role,MERGED,2022-11-15 15:11:13.000000000,2022-12-02 03:43:55.000000000,2022-12-02 03:41:55.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-15 15:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/05017045897cedd6b8574775d643e7a93ec7f62d', 'message': 'Removing undercloud-tokenflush validation and related role\n\nThe validation has been\tremoved\tfrom the tripleo-validations package\nas the token management\tchanges\tmade it\tobsolete.[0]\n\nRole, molecule tests, derived CI job and documentation were removed with the validation itself.\n\n[0] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/683750\n\nCloses-Bug: #1994029\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6c4bdff5e253bb054231dae2c3a280322cb18b9f\n(cherry picked from commit f48ff324577d43c4564e841ddc0310802af027b3)\n'}, {'number': 2, 'created': '2022-11-24 14:14:40.000000000', 'files': ['roles/undercloud_tokenflush/molecule/default/converge.yml', 'roles/undercloud_tokenflush/vars/main.yaml', 'doc/source/roles/role-undercloud_tokenflush.rst', 'playbooks/undercloud-tokenflush.yaml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/converge.yml', 'roles/undercloud_tokenflush/defaults/main.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/prepare.yml', 'zuul.d/molecule.yaml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/undercloud_tokenflush/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7641a508e8e87e999c11b1df54ba8022e0d251b8', 'message': 'Removing undercloud-tokenflush validation and related role\n\nThe validation has been\tremoved\tfrom the tripleo-validations package\nas the token management\tchanges\tmade it\tobsolete.[0]\n\nRole, molecule tests, derived CI job and documentation were removed with the validation itself.\n\n[0] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/683750\n\nCloses-Bug: #1994029\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6c4bdff5e253bb054231dae2c3a280322cb18b9f\n(cherry picked from commit f48ff324577d43c4564e841ddc0310802af027b3)\n'}]",3,864560,7641a508e8e87e999c11b1df54ba8022e0d251b8,17,3,2,32926,,,0,"Removing undercloud-tokenflush validation and related role

The validation has been	removed	from the tripleo-validations package
as the token management	changes	made it	obsolete.[0]

Role, molecule tests, derived CI job and documentation were removed with the validation itself.

[0] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/683750

Closes-Bug: #1994029

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6c4bdff5e253bb054231dae2c3a280322cb18b9f
(cherry picked from commit f48ff324577d43c4564e841ddc0310802af027b3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/864560/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_tokenflush/molecule/default/converge.yml', 'roles/undercloud_tokenflush/vars/main.yaml', 'doc/source/roles/role-undercloud_tokenflush.rst', 'playbooks/undercloud-tokenflush.yaml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/converge.yml', 'roles/undercloud_tokenflush/defaults/main.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/prepare.yml', 'zuul.d/molecule.yaml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/undercloud_tokenflush/tasks/main.yml']",12,05017045897cedd6b8574775d643e7a93ec7f62d,,,"--- - name: Fetch token provider become: true hiera: name: keystone::token_provider - name: Check if keystone_cron container is available when: - ansible_facts['keystone::token_provider'] != 'fernet' - ansible_facts['keystone::token_provider'] != 'jws' block: - name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - env - name: Get the Container CLI from the undercloud.conf file become: true validations_read_ini: path: ""{{ ansible_env.HOME }}/undercloud.conf"" section: DEFAULT key: container_cli ignore_missing_file: true register: container_cli - name: Get keystone crontab become: true shell: | set -o pipefail {{ container_cli.value|default('podman', true) }} exec keystone_cron crontab -l -u keystone |grep -v '^#' register: cron_result changed_when: false - name: Check keystone crontab fail: msg: >- keystone token_flush does not appear to be enabled via cron. You should add '<desired interval> keystone-manage token_flush' to the keystone users crontab."" when: ""cron_result.stdout.find('keystone-manage token_flush') == -1"" - name: Describe why token flush validation was skipped debug: msg: >- Skipping token flush validation since you are using a non-persistent token format ({{ ansible_facts['keystone::token_provider'] }}). You do not need a separate keystone_cron container to periodically prune tokens from keystone's database. when: - ansible_facts['keystone::token_provider'] == 'fernet' or ansible_facts['keystone::token_provider'] == 'jws' ",0,403
openstack%2Fhorizon~865719,openstack/horizon,stable/yoga,I892465ca4688fce9f7123682d02f11c92c7d2c5c,Make readonly metadata properties unable to edit,MERGED,2022-11-25 18:56:45.000000000,2022-12-02 03:15:33.000000000,2022-12-02 03:14:24.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 18:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8d76d10ac647002f6c003c5db04f6d2a689c7554', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)\n'}, {'number': 2, 'created': '2022-11-25 19:00:34.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6c5783cad9a4249828e8aa3077d2674781526200', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)\n'}]",1,865719,6c5783cad9a4249828e8aa3077d2674781526200,14,3,2,6914,,,0,"Make readonly metadata properties unable to edit

Image metadata properties os_hash_algo and os_hash_value are
readonly, and attempts to edit them fail with unclear message.

This patch makes these fields readonly in update metadata form.

Also, if the existing metadata property is null, Horizon should
consider it optional too, in addition to empty field fix:
https://review.opendev.org/c/openstack/horizon/+/812009

Change-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c
(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/865719/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js']",2,8d76d10ac647002f6c003c5db04f6d2a689c7554,hide-readonly-metadata-stable/yoga," var READONLY_PROPERTIES = ['os_hash_algo', 'os_hash_value']; <<<<<<< HEAD (efdfbd Merge ""Don't try and update port security if its not changin)======= this.$onInit = function init() { if ('item' in ctrl && 'leaf' in ctrl.item && READONLY_PROPERTIES.includes(ctrl.item.leaf.name)) { ctrl.item.leaf.readonly = true; ctrl.item.leaf.required = false; } if ('item' in ctrl && 'leaf' in ctrl.item && ctrl.item.leaf.type === 'array') { ctrl.values = ctrl.item.leaf.items.enum.filter(filter).sort(); >>>>>>> CHANGE (892080 Make readonly metadata properties unable to edit)",,16,0
openstack%2Fvalidations-libs~865677,openstack/validations-libs,stable/1.6,I13d8b91c20a08d0b59bd644bd19605311355be05,Adding yamllint configuration file and fixing style violations,MERGED,2022-11-25 11:58:52.000000000,2022-12-02 00:31:31.000000000,2022-12-02 00:30:33.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 35199}]","[{'number': 1, 'created': '2022-11-25 11:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4c65639b80a241fc09b211a1b5083862e626cd98', 'message': 'Adding yamllint configuration file and fixing style violations\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I13d8b91c20a08d0b59bd644bd19605311355be05\n(cherry picked from commit 9bf191d29564f4d7fe26499416fed4cada7f2dc8)\n'}, {'number': 2, 'created': '2022-12-01 12:21:41.000000000', 'files': ['.yamllint', 'playbooks/post.yaml', '.zuul.yaml', 'skiplist-example.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/955b308f45494a76734179e8a2990dfd0c98f604', 'message': 'Adding yamllint configuration file and fixing style violations\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I13d8b91c20a08d0b59bd644bd19605311355be05\n(cherry picked from commit 9bf191d29564f4d7fe26499416fed4cada7f2dc8)\n'}]",0,865677,955b308f45494a76734179e8a2990dfd0c98f604,9,4,2,32926,,,0,"Adding yamllint configuration file and fixing style violations

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I13d8b91c20a08d0b59bd644bd19605311355be05
(cherry picked from commit 9bf191d29564f4d7fe26499416fed4cada7f2dc8)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/77/865677/1 && git format-patch -1 --stdout FETCH_HEAD,"['.yamllint', 'playbooks/post.yaml', '.zuul.yaml', 'skiplist-example.yaml']",4,4c65639b80a241fc09b211a1b5083862e626cd98,,---,,17,0
openstack%2Fcinder~866222,openstack/cinder,master,I8485cb429d7c3fcd589bcb3952c7b77aa6d49cbf,WIP: Support RBD erasure-coded pools,NEW,2022-11-30 22:09:30.000000000,2022-12-02 00:27:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-30 22:09:30.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eec52b51ddc03ab24404b61f8acad473923b85f6', 'message': 'WIP: Support RBD erasure-coded pools\n\nRBD support erasure-coded pools[1]. This form of replication breaks data\ninto data blocks and parity blocks. At scale, this can save more space\nthan the default method of replication, which just copies data to\nmultiple disks.\n\nThis feature is handled by librdbpy[2][3]. This commit adds an\n""rbd_data_pool"" option to the RBD-related options. If this option is not\nset or set to None, the rbd driver behaves as usual. If it is set to the\nname of the RBD data pool (in which the data blocks, as opposed to the\nparity blocks, are stored), then librbdpy will properly use\nerasure-coded pools.\n\nNote: this is a proof of concept. This patch would be required if\nerasure-coded pools were to be supported in glance_store. See the spec\nunder discussion[4] and the related patch[5].\n\n[1] https://docs.ceph.com/en/latest/rados/operations/erasure-code/\n[2] https://docs.ceph.com/en/latest/rbd/api/librbdpy/#rbd.RBD.create\n[3] https://docs.ceph.com/en/latest/rbd/api/librbdpy/#rbd.RBD.clone\n[4] https://review.opendev.org/c/openstack/glance-specs/+/863110\n[5] https://review.opendev.org/c/openstack/glance_store/+/579885\n\nChange-Id: I8485cb429d7c3fcd589bcb3952c7b77aa6d49cbf\n'}]",0,866222,eec52b51ddc03ab24404b61f8acad473923b85f6,16,1,1,8122,,,0,"WIP: Support RBD erasure-coded pools

RBD support erasure-coded pools[1]. This form of replication breaks data
into data blocks and parity blocks. At scale, this can save more space
than the default method of replication, which just copies data to
multiple disks.

This feature is handled by librdbpy[2][3]. This commit adds an
""rbd_data_pool"" option to the RBD-related options. If this option is not
set or set to None, the rbd driver behaves as usual. If it is set to the
name of the RBD data pool (in which the data blocks, as opposed to the
parity blocks, are stored), then librbdpy will properly use
erasure-coded pools.

Note: this is a proof of concept. This patch would be required if
erasure-coded pools were to be supported in glance_store. See the spec
under discussion[4] and the related patch[5].

[1] https://docs.ceph.com/en/latest/rados/operations/erasure-code/
[2] https://docs.ceph.com/en/latest/rbd/api/librbdpy/#rbd.RBD.create
[3] https://docs.ceph.com/en/latest/rbd/api/librbdpy/#rbd.RBD.clone
[4] https://review.opendev.org/c/openstack/glance-specs/+/863110
[5] https://review.opendev.org/c/openstack/glance_store/+/579885

Change-Id: I8485cb429d7c3fcd589bcb3952c7b77aa6d49cbf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/866222/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,eec52b51ddc03ab24404b61f8acad473923b85f6,support-rbd-ec-pools," cfg.rbd_data_pool = 'rbd_data' 'features': client.features, 'data_pool': 'rbd_data'} order, old_format=False, features=client.features, data_pool='rbd_data') 'features': client.features, 'data_pool': 'rbd_data'} 'order': expected_order, 'data_pool': 'rbd_data'} 'order': order, 'data_pool': 'rbd_data'}"," 'features': client.features} order, old_format=False, features=client.features) 'features': client.features} 'order': expected_order} 'order': order}",23,9
openstack%2Fopenstack-ansible-os_neutron~865961,openstack/openstack-ansible-os_neutron,master,Ie4e76a270467b40b127bc3772d6178ea58acb83e,Set default plugin type to OVN,MERGED,2022-11-29 09:12:15.000000000,2022-12-01 23:45:49.000000000,2022-12-01 23:44:04.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-29 09:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7e1192e2e89eb24a0e856c5110c7c1442c399021', 'message': 'Set default plugin type to OVN\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}, {'number': 2, 'created': '2022-11-29 09:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b7ca8d8ab4cc74006525fda1940747eeb150583b', 'message': 'Set default plugin type to OVN\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}, {'number': 3, 'created': '2022-11-29 10:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/974539c9e144fb9e6c061167ae05f8f877e1687e', 'message': 'Set default plugin type to OVN\n\nWe temporary comment out default CI checks to resolve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}, {'number': 4, 'created': '2022-11-29 13:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/618b3b412f206243688bf129d83006abfd43bff6', 'message': 'Set default plugin type to OVN\n\nWe temporary comment out default CI checks to resolve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/866012\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}, {'number': 5, 'created': '2022-11-30 09:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e6d77cd402a35956c581dc7a7925dcf2a467d2a3', 'message': 'Set default plugin type to OVN\n\nWe temporary comment out default CI checks to resolve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/866012\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}, {'number': 6, 'created': '2022-11-30 13:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/61957128093d7eb6833871d407e38f1224ebff93', 'message': 'Set default plugin type to OVN\n\nWe temporary comment out default CI checks to resolve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/866012\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}, {'number': 7, 'created': '2022-11-30 16:39:37.000000000', 'files': ['zuul.d/project.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/fb8ff420ef2724cbaa5cd74290689066469be55a', 'message': 'Set default plugin type to OVN\n\nWe temporary comment out default CI checks to resolve circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/866012\nChange-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e\n'}]",0,865961,fb8ff420ef2724cbaa5cd74290689066469be55a,18,3,7,28619,,,0,"Set default plugin type to OVN

We temporary comment out default CI checks to resolve circular dependency

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/862924
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/866012
Change-Id: Ie4e76a270467b40b127bc3772d6178ea58acb83e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/61/865961/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7e1192e2e89eb24a0e856c5110c7c1442c399021,osa/ovn,neutron_plugin_type: 'ml2.ovn',neutron_plugin_type: 'ml2.lxb',1,1
openstack%2Fmagnum~865442,openstack/magnum,stable/wallaby,I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,Make configure-agent-env.service idempotent.,MERGED,2022-11-23 15:05:50.000000000,2022-12-01 23:14:16.000000000,2022-12-01 23:13:20.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 15:05:50.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/02ee44b839ed3a2182f2c039ae6caa1f31815d45', 'message': ""Make configure-agent-env.service idempotent.\n\nWhen the configure-agent-env.service service is restarted it will fail\nwhen it tries to create the directory /etc/kubernetes, leaving the\nsystem 'degraded' from systemd's perspective, this change adds the '-p'\nflag to mkdir to fail silently if the directory already exists.\n\nChange-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0\nRelated-Bug: #1982872\n(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)\n""}]",0,865442,02ee44b839ed3a2182f2c039ae6caa1f31815d45,7,2,1,2424,,,0,"Make configure-agent-env.service idempotent.

When the configure-agent-env.service service is restarted it will fail
when it tries to create the directory /etc/kubernetes, leaving the
system 'degraded' from systemd's perspective, this change adds the '-p'
flag to mkdir to fail silently if the directory already exists.

Change-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0
Related-Bug: #1982872
(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/42/865442/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'],1,02ee44b839ed3a2182f2c039ae6caa1f31815d45,bug/1982872, mkdir -p /etc/kubernetes/, mkdir /etc/kubernetes/,1,1
openstack%2Fmanila~864032,openstack/manila,stable/xena,Icbfabb3bc0f608ebdd0784337db0921cc7763c53,Fix DriverFilter/GoodnessWeigher string evaluations,MERGED,2022-11-08 17:14:57.000000000,2022-12-01 23:07:48.000000000,2022-12-01 23:06:45.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-11-08 17:14:57.000000000', 'files': ['manila/tests/scheduler/evaluator/test_evaluator.py', 'manila/scheduler/evaluator/evaluator.py', 'releasenotes/notes/bug-1975715-fix-driverfilter-string-evaluations-3886a68d4d7fa3a1.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/d6a49cd5e36753c928f3d63a77997246ad0c7f12', 'message': 'Fix DriverFilter/GoodnessWeigher string evaluations\n\nWhen trying to compare two values that are non-numeric using the driver\nfilter, the filter function will give an error. This is not desirable as\nit might be interesting to support comparatives with non-numeric values\nprovided by the filter objects (share, host, etc). For example, the\nfollowing formula failed before the fix:\n\nfilter_function = \'(share.project_id == ""bb212f09317a4f4a8952ef3f729c2551"")\'\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/87a7e80a2cbc4c8abcf4394242a02fcc5140e44b\n\nCloses-Bug: #1975715\nChange-Id: Icbfabb3bc0f608ebdd0784337db0921cc7763c53\n(cherry picked from commit a2ebe1eb9a54e15f842cdd85d32212f497e21c02)\n(cherry picked from commit 1c021168b85cdb39681581cca87f664cab59c93e)\n'}]",1,864032,d6a49cd5e36753c928f3d63a77997246ad0c7f12,12,4,1,16643,,,0,"Fix DriverFilter/GoodnessWeigher string evaluations

When trying to compare two values that are non-numeric using the driver
filter, the filter function will give an error. This is not desirable as
it might be interesting to support comparatives with non-numeric values
provided by the filter objects (share, host, etc). For example, the
following formula failed before the fix:

filter_function = '(share.project_id == ""bb212f09317a4f4a8952ef3f729c2551"")'

Copied from cinder https://opendev.org/openstack/cinder/commit/87a7e80a2cbc4c8abcf4394242a02fcc5140e44b

Closes-Bug: #1975715
Change-Id: Icbfabb3bc0f608ebdd0784337db0921cc7763c53
(cherry picked from commit a2ebe1eb9a54e15f842cdd85d32212f497e21c02)
(cherry picked from commit 1c021168b85cdb39681581cca87f664cab59c93e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/32/864032/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/scheduler/evaluator/test_evaluator.py', 'manila/scheduler/evaluator/evaluator.py', 'releasenotes/notes/bug-1975715-fix-driverfilter-string-evaluations-3886a68d4d7fa3a1.yaml']",3,d6a49cd5e36753c928f3d63a77997246ad0c7f12,bug/1975715,"--- fixes: - | Goodness_function expects integer or float else raise parseException. This causes example such as ""(share.share_proto == 'CIFS') ? 100 : 50"" to fail during evaluation. Fix it by adding support of string evalution. ",,17,9
openstack%2Fhorizon~865717,openstack/horizon,stable/wallaby,I1a5a46d7be12ed179474a6a74647d0872b27b492,Fix preselection for launch Instance dialog,MERGED,2022-11-25 18:52:16.000000000,2022-12-01 23:06:34.000000000,2022-12-01 23:05:30.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 18:52:16.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ef2eff72995bf9847b2cda5f0e6ec27742ffb20a', 'message': 'Fix preselection for launch Instance dialog\n\nLaunch instance from a volumes/volume snapshot/instance snapshot\nshould open a dialog with preselected boot source. However the\ndialog shows Image as selected boot source in any case, discarding\nthe preselection.\n\nThis patch fixes it, explicitly changing the boot source according to\nthe preselection.\n\nChange-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492\n(cherry picked from commit 452c37dd369d2fa4c0dac9da1aba53bf1da89a30)\n'}]",0,865717,ef2eff72995bf9847b2cda5f0e6ec27742ffb20a,8,3,1,6914,,,0,"Fix preselection for launch Instance dialog

Launch instance from a volumes/volume snapshot/instance snapshot
should open a dialog with preselected boot source. However the
dialog shows Image as selected boot source in any case, discarding
the preselection.

This patch fixes it, explicitly changing the boot source according to
the preselection.

Change-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492
(cherry picked from commit 452c37dd369d2fa4c0dac9da1aba53bf1da89a30)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/17/865717/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'],1,ef2eff72995bf9847b2cda5f0e6ec27742ffb20a,launch_from_volume-stable/wallaby, // and update the table for the new source selection. The default value is function updateBootSource(newValue) { // Update the initial boot source selection when launching from a preselected source for (var index = 0; index < $scope.model.allowedBootSources.length; index++) { if ($scope.model.allowedBootSources[index].type === key) { $scope.model.allowedBootSources[index].selected = true; } else { $scope.model.allowedBootSources[index].selected = false; } }, // and update the table for the new source selection. The devault value is function changeBootSource(newValue) {,11,2
openstack%2Fhorizon~865716,openstack/horizon,stable/xena,I1a5a46d7be12ed179474a6a74647d0872b27b492,Fix preselection for launch Instance dialog,MERGED,2022-11-25 18:52:04.000000000,2022-12-01 23:06:33.000000000,2022-12-01 23:05:27.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 18:52:04.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c92c6d3bd9f3002fc032ebee0dfea7ac4d49b557', 'message': 'Fix preselection for launch Instance dialog\n\nLaunch instance from a volumes/volume snapshot/instance snapshot\nshould open a dialog with preselected boot source. However the\ndialog shows Image as selected boot source in any case, discarding\nthe preselection.\n\nThis patch fixes it, explicitly changing the boot source according to\nthe preselection.\n\nChange-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492\n(cherry picked from commit 452c37dd369d2fa4c0dac9da1aba53bf1da89a30)\n'}]",0,865716,c92c6d3bd9f3002fc032ebee0dfea7ac4d49b557,8,3,1,6914,,,0,"Fix preselection for launch Instance dialog

Launch instance from a volumes/volume snapshot/instance snapshot
should open a dialog with preselected boot source. However the
dialog shows Image as selected boot source in any case, discarding
the preselection.

This patch fixes it, explicitly changing the boot source according to
the preselection.

Change-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492
(cherry picked from commit 452c37dd369d2fa4c0dac9da1aba53bf1da89a30)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/865716/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'],1,c92c6d3bd9f3002fc032ebee0dfea7ac4d49b557,launch_from_volume-stable/xena, // and update the table for the new source selection. The default value is function updateBootSource(newValue) { // Update the initial boot source selection when launching from a preselected source for (var index = 0; index < $scope.model.allowedBootSources.length; index++) { if ($scope.model.allowedBootSources[index].type === key) { $scope.model.allowedBootSources[index].selected = true; } else { $scope.model.allowedBootSources[index].selected = false; } }, // and update the table for the new source selection. The devault value is function changeBootSource(newValue) {,11,2
openstack%2Fhorizon~865715,openstack/horizon,stable/yoga,I1a5a46d7be12ed179474a6a74647d0872b27b492,Fix preselection for launch Instance dialog,MERGED,2022-11-25 18:51:42.000000000,2022-12-01 23:06:28.000000000,2022-12-01 23:05:24.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 18:51:42.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/36ed6b03b0e82126e2ba94abc6d93fd87b8d03c3', 'message': 'Fix preselection for launch Instance dialog\n\nLaunch instance from a volumes/volume snapshot/instance snapshot\nshould open a dialog with preselected boot source. However the\ndialog shows Image as selected boot source in any case, discarding\nthe preselection.\n\nThis patch fixes it, explicitly changing the boot source according to\nthe preselection.\n\nChange-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492\n(cherry picked from commit 452c37dd369d2fa4c0dac9da1aba53bf1da89a30)\n'}]",2,865715,36ed6b03b0e82126e2ba94abc6d93fd87b8d03c3,12,3,1,6914,,,0,"Fix preselection for launch Instance dialog

Launch instance from a volumes/volume snapshot/instance snapshot
should open a dialog with preselected boot source. However the
dialog shows Image as selected boot source in any case, discarding
the preselection.

This patch fixes it, explicitly changing the boot source according to
the preselection.

Change-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492
(cherry picked from commit 452c37dd369d2fa4c0dac9da1aba53bf1da89a30)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/865715/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'],1,36ed6b03b0e82126e2ba94abc6d93fd87b8d03c3,launch_from_volume-stable/yoga, // and update the table for the new source selection. The default value is function updateBootSource(newValue) { // Update the initial boot source selection when launching from a preselected source for (var index = 0; index < $scope.model.allowedBootSources.length; index++) { if ($scope.model.allowedBootSources[index].type === key) { $scope.model.allowedBootSources[index].selected = true; } else { $scope.model.allowedBootSources[index].selected = false; } }, // and update the table for the new source selection. The devault value is function changeBootSource(newValue) {,11,2
openstack%2Fmanila~862729,openstack/manila,stable/xena,Ic17ac43160092445ec11ada41c0eb6eaf525b6d0,Allow setting endpoint_type for glance,MERGED,2022-10-28 01:14:13.000000000,2022-12-01 23:04:32.000000000,2022-12-01 23:03:25.000000000,"[{'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-10-28 01:14:13.000000000', 'files': ['manila/tests/image/test_image.py', 'manila/image/glance.py', 'releasenotes/notes/bug-1991396-add-glance-endpoint-type-151777f255e423a3.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/7dd5499a8dc137972f8bac8444a78c926e9a3126', 'message': 'Allow setting endpoint_type for glance\n\ncurrently Manila always uses public endpoint of Glance, which\nmay not be possible in certain deployment scenarios.\n\nChange-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0\nCloses-Bug: #1991396\n(cherry picked from commit 111104b9a2fd54de2559041249bdb7a10c64664c)\n(cherry picked from commit 440881392ce610a0d3d73fb5ce9ac423cfc60f59)\n(cherry picked from commit 0994740ab9746d494a89f98cb99278477d30c040)\n'}]",1,862729,7dd5499a8dc137972f8bac8444a78c926e9a3126,13,3,1,16643,,,0,"Allow setting endpoint_type for glance

currently Manila always uses public endpoint of Glance, which
may not be possible in certain deployment scenarios.

Change-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0
Closes-Bug: #1991396
(cherry picked from commit 111104b9a2fd54de2559041249bdb7a10c64664c)
(cherry picked from commit 440881392ce610a0d3d73fb5ce9ac423cfc60f59)
(cherry picked from commit 0994740ab9746d494a89f98cb99278477d30c040)
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/862729/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/image/test_image.py', 'manila/image/glance.py', 'releasenotes/notes/bug-1991396-add-glance-endpoint-type-151777f255e423a3.yaml']",3,7dd5499a8dc137972f8bac8444a78c926e9a3126,bug/1991396,--- fixes: - | Deployers now can specify ``[glance]endpoint_type`` configuration option (defaults to ``publicURL`` for backward compatibility) so that Manila uses Glance endpoint other than the public one (see `bug 1991396 <https://bugs.launchpad.net/manila/+bug/1991396>`_). ,,15,0
openstack%2Fopenstack-ansible-os_nova~866159,openstack/openstack-ansible-os_nova,master,Ief7eb74343f69912fa8a41a200edf22596adfea3,fix: os_vif_ovs should not be in the middle of libvirt section,MERGED,2022-11-30 13:13:44.000000000,2022-12-01 23:02:30.000000000,2022-12-01 23:01:26.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-30 13:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/49d68b88614d1551d2368c1e367d553f2f706265', 'message': 'fix: os_vif_ovs should not be in the middle of libvirt section\n\nSection\n\n[os_vif_ovs]\nisolate_vif = True\n\nwas placed in the middle of the [libvirt] section, causing\nall migration settings to be placed in os_vif_ovs instead of libvirt.\n\nChange-Id: Ief7eb74343f69912fa8a41a200edf22596adfea3\n'}, {'number': 2, 'created': '2022-11-30 13:23:16.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fc87fa7b32a53909721c29cfe8e845340b944d62', 'message': 'fix: os_vif_ovs should not be in the middle of libvirt section\n\nSection\n\n[os_vif_ovs]\nisolate_vif = True\n\nwas placed in the middle of the [libvirt] section, causing\nall migration settings to be placed in os_vif_ovs instead of libvirt.\n\nChange-Id: Ief7eb74343f69912fa8a41a200edf22596adfea3\n'}]",7,866159,fc87fa7b32a53909721c29cfe8e845340b944d62,18,3,2,11227,,,0,"fix: os_vif_ovs should not be in the middle of libvirt section

Section

[os_vif_ovs]
isolate_vif = True

was placed in the middle of the [libvirt] section, causing
all migration settings to be placed in os_vif_ovs instead of libvirt.

Change-Id: Ief7eb74343f69912fa8a41a200edf22596adfea3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/59/866159/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,49d68b88614d1551d2368c1e367d553f2f706265,fix_libvirt_section," {% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ","{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ",6,5
openstack%2Fmagnum~865441,openstack/magnum,stable/xena,I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,Make configure-agent-env.service idempotent.,MERGED,2022-11-23 15:05:17.000000000,2022-12-01 22:57:09.000000000,2022-12-01 22:56:07.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 15:05:17.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5a32e40d0497f68b834e4a5fb6fed3901a85054d', 'message': ""Make configure-agent-env.service idempotent.\n\nWhen the configure-agent-env.service service is restarted it will fail\nwhen it tries to create the directory /etc/kubernetes, leaving the\nsystem 'degraded' from systemd's perspective, this change adds the '-p'\nflag to mkdir to fail silently if the directory already exists.\n\nChange-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0\nRelated-Bug: #1982872\n(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)\n""}]",0,865441,5a32e40d0497f68b834e4a5fb6fed3901a85054d,7,2,1,2424,,,0,"Make configure-agent-env.service idempotent.

When the configure-agent-env.service service is restarted it will fail
when it tries to create the directory /etc/kubernetes, leaving the
system 'degraded' from systemd's perspective, this change adds the '-p'
flag to mkdir to fail silently if the directory already exists.

Change-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0
Related-Bug: #1982872
(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/41/865441/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'],1,5a32e40d0497f68b834e4a5fb6fed3901a85054d,bug/1982872, mkdir -p /etc/kubernetes/, mkdir /etc/kubernetes/,1,1
openstack%2Fhorizon~865723,openstack/horizon,stable/ussuri,I892465ca4688fce9f7123682d02f11c92c7d2c5c,Make readonly metadata properties unable to edit,MERGED,2022-11-25 19:02:35.000000000,2022-12-01 22:56:32.000000000,2022-12-01 22:55:30.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 19:02:35.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9105d00ec4170562d972971f0db281fc13b8467d', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)\n'}]",0,865723,9105d00ec4170562d972971f0db281fc13b8467d,8,3,1,6914,,,0,"Make readonly metadata properties unable to edit

Image metadata properties os_hash_algo and os_hash_value are
readonly, and attempts to edit them fail with unclear message.

This patch makes these fields readonly in update metadata form.

Also, if the existing metadata property is null, Horizon should
consider it optional too, in addition to empty field fix:
https://review.opendev.org/c/openstack/horizon/+/812009

Change-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c
(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/865723/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js']",2,9105d00ec4170562d972971f0db281fc13b8467d,hide-readonly-metadata-stable/yoga-stable/ussuri," var READONLY_PROPERTIES = ['os_hash_algo', 'os_hash_value']; if ('item' in ctrl && 'leaf' in ctrl.item && READONLY_PROPERTIES.includes(ctrl.item.leaf.name)) { ctrl.item.leaf.readonly = true; ctrl.item.leaf.required = false; } ",,10,0
openstack%2Fhorizon~865721,openstack/horizon,stable/wallaby,I892465ca4688fce9f7123682d02f11c92c7d2c5c,Make readonly metadata properties unable to edit,MERGED,2022-11-25 19:02:02.000000000,2022-12-01 22:56:32.000000000,2022-12-01 22:55:27.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 19:02:02.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/22d629caecceba1f2bdcf3565e04b3f0a2ec06ce', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)\n'}]",0,865721,22d629caecceba1f2bdcf3565e04b3f0a2ec06ce,8,3,1,6914,,,0,"Make readonly metadata properties unable to edit

Image metadata properties os_hash_algo and os_hash_value are
readonly, and attempts to edit them fail with unclear message.

This patch makes these fields readonly in update metadata form.

Also, if the existing metadata property is null, Horizon should
consider it optional too, in addition to empty field fix:
https://review.opendev.org/c/openstack/horizon/+/812009

Change-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c
(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/865721/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js']",2,22d629caecceba1f2bdcf3565e04b3f0a2ec06ce,hide-readonly-metadata-stable/yoga-stable/wallaby," var READONLY_PROPERTIES = ['os_hash_algo', 'os_hash_value']; if ('item' in ctrl && 'leaf' in ctrl.item && READONLY_PROPERTIES.includes(ctrl.item.leaf.name)) { ctrl.item.leaf.readonly = true; ctrl.item.leaf.required = false; } ",,10,0
openstack%2Fhorizon~865722,openstack/horizon,stable/victoria,I892465ca4688fce9f7123682d02f11c92c7d2c5c,Make readonly metadata properties unable to edit,MERGED,2022-11-25 19:02:16.000000000,2022-12-01 22:45:00.000000000,2022-12-01 22:43:51.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 19:02:16.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c29b26dad7e1c134d0ad6377767195bd9984afb9', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)\n'}]",0,865722,c29b26dad7e1c134d0ad6377767195bd9984afb9,8,3,1,6914,,,0,"Make readonly metadata properties unable to edit

Image metadata properties os_hash_algo and os_hash_value are
readonly, and attempts to edit them fail with unclear message.

This patch makes these fields readonly in update metadata form.

Also, if the existing metadata property is null, Horizon should
consider it optional too, in addition to empty field fix:
https://review.opendev.org/c/openstack/horizon/+/812009

Change-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c
(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/865722/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js']",2,c29b26dad7e1c134d0ad6377767195bd9984afb9,hide-readonly-metadata-stable/yoga-stable/victoria," var READONLY_PROPERTIES = ['os_hash_algo', 'os_hash_value']; if ('item' in ctrl && 'leaf' in ctrl.item && READONLY_PROPERTIES.includes(ctrl.item.leaf.name)) { ctrl.item.leaf.readonly = true; ctrl.item.leaf.required = false; } ",,10,0
openstack%2Fhorizon~865720,openstack/horizon,stable/xena,I892465ca4688fce9f7123682d02f11c92c7d2c5c,Make readonly metadata properties unable to edit,MERGED,2022-11-25 19:01:48.000000000,2022-12-01 22:40:15.000000000,2022-12-01 22:39:12.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-25 19:01:48.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/14f9eeddb261be45078b5b0e3b797751b76a8014', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)\n'}]",1,865720,14f9eeddb261be45078b5b0e3b797751b76a8014,10,3,1,6914,,,0,"Make readonly metadata properties unable to edit

Image metadata properties os_hash_algo and os_hash_value are
readonly, and attempts to edit them fail with unclear message.

This patch makes these fields readonly in update metadata form.

Also, if the existing metadata property is null, Horizon should
consider it optional too, in addition to empty field fix:
https://review.opendev.org/c/openstack/horizon/+/812009

Change-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c
(cherry picked from commit 892080ec0ff6174d5fd5de221ec4802bd21371a6)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/865720/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js']",2,14f9eeddb261be45078b5b0e3b797751b76a8014,hide-readonly-metadata-stable/yoga-stable/xena," var READONLY_PROPERTIES = ['os_hash_algo', 'os_hash_value']; if ('item' in ctrl && 'leaf' in ctrl.item && READONLY_PROPERTIES.includes(ctrl.item.leaf.name)) { ctrl.item.leaf.readonly = true; ctrl.item.leaf.required = false; } ",,10,0
openstack%2Fopenstack-ansible-lxc_hosts~866167,openstack/openstack-ansible-lxc_hosts,master,I0f2d433bc11bd28541b48bf6b6644d83d4d19c4d,Use correct apt repo when ubuntu architecture is not x86_64,MERGED,2022-11-30 14:03:07.000000000,2022-12-01 22:08:25.000000000,2022-12-01 22:07:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-30 14:03:07.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a', 'message': 'Use correct apt repo when ubuntu architecture is not x86_64\n\nAll other architectures are at ports.ubuntu.com.\n\nChange-Id: I0f2d433bc11bd28541b48bf6b6644d83d4d19c4d\n'}]",0,866167,ef721dbf13db8f3578b45791ac67c4815bd8c59a,8,3,1,25023,,,0,"Use correct apt repo when ubuntu architecture is not x86_64

All other architectures are at ports.ubuntu.com.

Change-Id: I0f2d433bc11bd28541b48bf6b6644d83d4d19c4d
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/67/866167/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,ef721dbf13db8f3578b45791ac67c4815bd8c59a,,"lxc_ubuntu_mirror: ""{{ (ansible_facts['architecture'] == 'x86_64') | ternary('http://archive.ubuntu.com/ubuntu', 'http://ports.ubuntu.com/ubuntu-ports') }}"" lxc_apt_mirror: ""{{ (ansible_facts['distribution'] == 'Ubuntu') | ternary(lxc_ubuntu_mirror, 'http://deb.debian.org/debian') }}""","lxc_apt_mirror: ""{{ (ansible_facts['distribution'] == 'Ubuntu') | ternary('http://archive.ubuntu.com/ubuntu', 'http://deb.debian.org/debian') }}""",2,1
openstack%2Fpuppet-ovn~865861,openstack/puppet-ovn,master,I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9,Add support for clustered DB,MERGED,2022-11-28 15:04:33.000000000,2022-12-01 22:03:18.000000000,2022-12-01 17:31:56.000000000,"[{'_account_id': 8064}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 15:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/d627dd377b271d3e433a7332415e6ead666e06fb', 'message': 'Add support for SSL and clustered DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nIn addition, the nb_db and sb_db should be set to the cluster addresses\n(e.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645), instead\nof default local unix socket.\n\nChange-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9\n'}, {'number': 2, 'created': '2022-11-29 06:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/fa1886b7873f90de31415008e79a3fb92b51a1a2', 'message': 'Add support for SSL and clustered DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nFor a cluster db, the nb_db and sb_db can be set to the cluster\naddresses, e.g.\nssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645, instead of\ndefault local unix socket.\n\nChange-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9\n'}, {'number': 3, 'created': '2022-12-01 03:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/ed28a403df84f28eb7e5a1cfc52ecb3e65e616a2', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nChange-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9\n'}, {'number': 4, 'created': '2022-12-01 03:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/fb2726aef28584096277539d9261956101b987cc', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nChange-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9\n'}, {'number': 5, 'created': '2022-12-01 03:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/fa59c5758cd5de4684fb3de16f0c04d46cca75a9', 'message': 'Add support for clustered DB\n\nFor a cluster db, nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nChange-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9\n'}, {'number': 6, 'created': '2022-12-01 05:33:00.000000000', 'files': ['releasenotes/notes/ovn-clusterd-db-244b8d44eb2638d1.yaml', 'manifests/northd.pp', 'spec/classes/ovn_northd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/889de8b44dd24fae3c7942735a46e7a3d3aa9dbd', 'message': 'Add support for clustered DB\n\nFor a cluster db, nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nChange-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9\n'}]",12,865861,889de8b44dd24fae3c7942735a46e7a3d3aa9dbd,25,5,6,8064,,,0,"Add support for clustered DB

For a cluster db, nb_db and sb_db should be set to the cluster
addresses[1] instead of default local unix socket.

[1]
e.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645

Change-Id: I8f3a8ae0b7c3803726568cf4a1a132a874d00aa9
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/61/865861/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/northd.pp', 'spec/classes/ovn_northd_spec.rb']",2,d627dd377b271d3e433a7332415e6ead666e06fb,ssl_clustered_db," context 'with default parameters' do let :params do {} end it 'creates systemd conf' do is_expected.to contain_augeas('config-ovn-northd').with({ :context => platform_params[:ovn_northd_context], :changes => ""set "" + platform_params[:ovn_northd_option_name] + "" '\""--db-nb-addr=0.0.0.0 --db-sb-addr=0.0.0.0 --db-nb-create-insecure-remote=yes --db-sb-create-insecure-remote=yes\""'"", }) end context 'with parameters' do let :params do { :ovn_northd_nb_db => 'ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645', :ovn_northd_sb_db => 'ssl:192.0.2.1:6646,ssl:192.0.2.2:6646,ssl:192.0.2.3:6646', :ovn_northd_ssl_key => 'key.pem', :ovn_northd_ssl_cert => 'cert.pem', :ovn_northd_ssl_ca_cert => 'cacert.pem', } end it 'creates systemd conf' do is_expected.to contain_augeas('config-ovn-northd').with({ :context => platform_params[:ovn_northd_context], :changes => ""set "" + platform_params[:ovn_northd_option_name] + "" '\"""" + ""--db-nb-addr=0.0.0.0 --db-sb-addr=0.0.0.0 --db-nb-create-insecure-remote=yes --db-sb-create-insecure-remote=yes"" + "" --ovn-northd-nb-db=ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645 --ovn-northd-sb-db=ssl:192.0.2.1:6646,ssl:192.0.2.2:6646,ssl:192.0.2.3:6646"" + "" --ovn-northd-ssl-key=key.pem --ovn-northd-ssl-cert=cert.pem --ovn-northd-ssl-ca-cert=cacert.pem"" + ""\""'"", }) end end context 'with bad ssl parameters' do let :params do { :ovn_northd_ssl_key => 'key.pem', } end it { should raise_error(Puppet::Error, /The ovn_northd_ssl_key, cert and ca-cert are required to use SSL/) } end "," it 'creates systemd conf' do is_expected.to contain_augeas('config-ovn-northd').with({ :context => platform_params[:ovn_northd_context], :changes => ""set "" + platform_params[:ovn_northd_option_name] + "" '\""--db-nb-addr=0.0.0.0 --db-sb-addr=0.0.0.0 --db-nb-create-insecure-remote=yes --db-sb-create-insecure-remote=yes\""'"", })",96,7
openstack%2Fswift~864260,openstack/swift,master,I75c8acd372d449b8a4531ff816d839dfe40d8a56,s-m-s-r: handle EOFError and KeyboardInterrupt,MERGED,2022-11-11 11:01:14.000000000,2022-12-01 21:48:53.000000000,2022-12-01 21:47:53.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2022-11-11 11:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dec073300ad08c0cf9ba50dfccb76ca7bcc93f63', 'message': ""s-m-s-r: add option to exit if existing shard ranges found\n\nThe 'replace' and 'find_and_replace' subcommands of\n'swift-manage-shard-ranges' will already prompt a user before deleting\nexisting shard ranges. There is also a '--force' command line option\nto automatically delete existing shard ranges. This patch adds a\n'--no-delete' option to automatically exit if existing shard ranges\nare found.\n\nChange-Id: I75c8acd372d449b8a4531ff816d839dfe40d8a56\n""}, {'number': 2, 'created': '2022-11-18 14:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ae06c6a9b6255918bc195a5288f678123e0928cd', 'message': ""s-m-s-r: add option to exit if existing shard ranges found\n\nThe 'replace' and 'find_and_replace' subcommands of\n'swift-manage-shard-ranges' will already prompt a user before deleting\nexisting shard ranges. There is also a '--force' command line option\nto automatically delete existing shard ranges. This patch adds a\n'--no-delete' option to automatically exit if existing shard ranges\nare found.\n\nChange-Id: I75c8acd372d449b8a4531ff816d839dfe40d8a56\n""}, {'number': 3, 'created': '2022-12-01 11:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eeaf423fdb26ec6d6880b11c47171b215dba1afc', 'message': ""s-m-s-r: handle EOFError and KeyboardInterrupt\n\nSome subcommands of 'swift-manage-shard-ranges' prompt a user before\ntaking action. For example, 'find_and_replace --enable' will warn a\nuser and ask for input if existing shard ranges are found. This patch\nimproves user input handling to exit gracefully (with err code 3) if\neither an EOFError or KeyboardInterrupt is raised while waiting for\nuser input.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I75c8acd372d449b8a4531ff816d839dfe40d8a56\n""}, {'number': 4, 'created': '2022-12-01 11:06:30.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/07b909c260937916843dfe797b95f929bbedbb60', 'message': ""s-m-s-r: handle EOFError and KeyboardInterrupt\n\nSome subcommands of 'swift-manage-shard-ranges' prompt a user before\ntaking action. For example, 'find_and_replace --enable' will warn a\nuser and ask for input if existing shard ranges are found. This patch\nimproves user input handling to exit gracefully (with err code 3) if\neither an EOFError or KeyboardInterrupt is raised while waiting for\nuser input.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I75c8acd372d449b8a4531ff816d839dfe40d8a56\n""}]",23,864260,07b909c260937916843dfe797b95f929bbedbb60,29,5,4,7847,,,0,"s-m-s-r: handle EOFError and KeyboardInterrupt

Some subcommands of 'swift-manage-shard-ranges' prompt a user before
taking action. For example, 'find_and_replace --enable' will warn a
user and ask for input if existing shard ranges are found. This patch
improves user input handling to exit gracefully (with err code 3) if
either an EOFError or KeyboardInterrupt is raised while waiting for
user input.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Change-Id: I75c8acd372d449b8a4531ff816d839dfe40d8a56
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/864260/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,dec073300ad08c0cf9ba50dfccb76ca7bcc93f63,p-smsr-eoferror," # try again with the --no-delete option with open(input_file, 'w') as fd: json.dump(self.overlap_shard_data_1, fd) out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err): ret = main([broker.db_file, 'replace', input_file, '--no-delete']) self.assertEqual(3, ret) expected = [ 'WARNING: 10 existing shard ranges found.', 'No changes applied.'] self.assertEqual(expected, out.getvalue().splitlines()) self.assertEqual(['Loaded db broker for a/c'], err.getvalue().splitlines()) self.assertEqual( [(data['lower'], data['upper']) for data in self.shard_data], [(sr.lower_str, sr.upper_str) for sr in broker.get_shard_ranges()]) # and check the --no-delete option out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err), \ mock_timestamp_now(): ret = main([broker.db_file, 'find_and_replace', '10', '--no-delete']) self.assertEqual(3, ret) # Shard ranges haven't changed at all self.assertEqual(found_shard_ranges, broker.get_shard_ranges()) expected = ['WARNING: 10 existing shard ranges found.', 'No changes applied.'] self.assertEqual(expected, out.getvalue().splitlines()) self.assertEqual(['Loaded db broker for a/c'], err.getvalue().splitlines()) # check --force and --no-delete are mutually exclusive with self.assertRaises(SystemExit) as cm: main([broker.db_file, 'find_and_replace', '10', '--no-delete', '--force']) self.assertEqual(2, cm.exception.code) ",,70,9
openstack%2Fopenstack-ansible~864750,openstack/openstack-ansible,master,I2d464ae339f057ea4ba08bd343b6a51c029a74f3,Add zookeeper deployment,MERGED,2022-11-16 15:06:29.000000000,2022-12-01 21:37:21.000000000,2022-12-01 21:34:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-16 15:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7ecbd378f6ab06faabd9944526a0c8c933aeaa0', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 2, 'created': '2022-11-16 20:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a8d383d94dc1db6c4d707137ddd26e1265423c4', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 3, 'created': '2022-11-16 20:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b60bc2f6962309b75d522d635d0ce843d80c25c', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 4, 'created': '2022-11-16 20:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5ee1717119d020df43d27a4cd24ce972be494b34', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 5, 'created': '2022-11-17 11:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d31f28ac6a07978db4a26b7f25fbc6fb0b975d88', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 6, 'created': '2022-11-17 11:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f16da99796f8393208f50c6d910be2740b8f440d', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 7, 'created': '2022-11-17 14:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e48ed7e2f7f110daf5df1110348f67c9a5c86333', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 8, 'created': '2022-11-17 17:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/15820d9270f83a2ef933258c440f15699e27de31', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 9, 'created': '2022-11-17 17:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/329010487931da5e16e41e12d31f7075d36d04bf', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 10, 'created': '2022-11-22 15:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93614f0ce378213478e4a41a196ca81ebe6a86db', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 11, 'created': '2022-11-22 15:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eec278b862fdc7b1d1979f8fa8f09d64bb2cfab5', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 12, 'created': '2022-11-23 09:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76cc46b212f0c62c5d451db9fd4b1fed43f85288', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 13, 'created': '2022-11-23 16:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4b74c4c865e00778734ec95d83bdce40840e2813', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 14, 'created': '2022-11-24 08:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6461cb9b94d60ab493c1f5e4840f461d38edfe71', 'message': 'Add zookeeper deployment\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 15, 'created': '2022-11-24 10:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c30f209ceea444d51bc0fdd514570e512033c95d', 'message': 'Add zookeeper deployment\n\nZookeper is being added as a coordination backend which is\nrequired for some service features to work properly.\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 16, 'created': '2022-11-24 10:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ae938b8011a621bb98d62f6b408e09e0bd1e768f', 'message': 'Add zookeeper deployment\n\nZookeper is being added as a coordination backend which is\nrequired for some service features to work properly.\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 17, 'created': '2022-11-24 12:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9dbfcb4c14287bd508ccbc964067ec23f96120ba', 'message': 'Add zookeeper deployment\n\nZookeper is being added as a coordination backend which is\nrequired for some service features to work properly.\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 18, 'created': '2022-11-24 15:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/282eedac80ef59eeaf9e34149e2e9833d4796562', 'message': 'Add zookeeper deployment\n\nZookeper is being added as a coordination backend which is\nrequired for some service features to work properly.\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}, {'number': 19, 'created': '2022-11-25 09:13:22.000000000', 'files': ['scripts/log-collect.sh', 'etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'doc/source/contributor/role-maturity-matrix.html', 'etc/openstack_deploy/openstack_user_config.yml.example', 'ansible-role-requirements.yml', 'playbooks/setup-infrastructure.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'playbooks/healthcheck-infrastructure.yml', 'etc/openstack_deploy/openstack_user_config.yml.prod.example', 'playbooks/zookeeper-install.yml', 'inventory/group_vars/zookeeper_all.yml', 'inventory/inventory.ini', 'inventory/env.d/zookeeper.yml', 'zuul.d/jobs.yaml', 'releasenotes/notes/add_zookeeper-368bb29ffb35b36e.yaml', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65ce2753fa50585cd5866ff4b9113983b78d56a5', 'message': 'Add zookeeper deployment\n\nZookeper is being added as a coordination backend which is\nrequired for some service features to work properly.\n\nChange-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3\n'}]",14,864750,65ce2753fa50585cd5866ff4b9113983b78d56a5,51,4,19,28619,,,0,"Add zookeeper deployment

Zookeper is being added as a coordination backend which is
required for some service features to work properly.

Change-Id: I2d464ae339f057ea4ba08bd343b6a51c029a74f3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/864750/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'etc/openstack_deploy/openstack_user_config.yml.prod.example', 'inventory/group_vars/all/infra.yml', 'playbooks/zookeeper-install.yml', 'inventory/inventory.ini', 'doc/source/contributor/role-maturity-matrix.html', 'etc/openstack_deploy/openstack_user_config.yml.example', 'inventory/env.d/zookeeper.yml', 'zuul.d/jobs.yaml', 'playbooks/setup-infrastructure.yml']",11,b7ecbd378f6ab06faabd9944526a0c8c933aeaa0,osa/zookeeper,- import_playbook: zookeeper-install.yml,,142,0
openstack%2Fopenstack-ansible~865867,openstack/openstack-ansible,master,Ie24ada54a0e0dc064be028929b416d983fdb5b49,Allow to define user.rc file for OSA,MERGED,2022-11-28 15:39:05.000000000,2022-12-01 21:36:14.000000000,2022-12-01 21:34:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-28 15:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/842c95ffcef1a5feaed02e1a73c1171c81889671', 'message': ""Allow to define user.rc file for OSA\n\nAt the moment there is no handy functionality to override ENV variables\nand store them in git near OSA config. As while we take into account\nthat ENV vars can already exist and we should use them, these VARs must\nbe defined in /etc/environement or bashrc files.\n\nThis patch aims to look for user.rc file inside OSA_CONFIG_DIR.\nIf it's present - it will be sourced with all it's content. This way\ndeployers can store environemnt variables overrides in git and they will\nbe loaded during on openstack-ansible startup.\n\nChange-Id: Ie24ada54a0e0dc064be028929b416d983fdb5b49\n""}, {'number': 2, 'created': '2022-11-28 15:54:37.000000000', 'files': ['scripts/openstack-ansible.sh', 'releasenotes/notes/user_rc-9d530bd4b31cebaa.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e315e2e32738aed2b0a59ef8099280dee698607b', 'message': ""Allow to define user.rc file for OSA\n\nAt the moment there is no handy functionality to override ENV variables\nand store them in git near OSA config. As while we take into account\nthat ENV vars can already exist and we should use them, these VARs must\nbe defined in /etc/environement or bashrc files.\n\nThis patch aims to look for user.rc file inside OSA_CONFIG_DIR.\nIf it's present - it will be sourced with all it's content. This way\ndeployers can store environemnt variables overrides in git and they will\nbe loaded during on openstack-ansible startup.\n\nChange-Id: Ie24ada54a0e0dc064be028929b416d983fdb5b49\n""}]",0,865867,e315e2e32738aed2b0a59ef8099280dee698607b,11,4,2,28619,,,0,"Allow to define user.rc file for OSA

At the moment there is no handy functionality to override ENV variables
and store them in git near OSA config. As while we take into account
that ENV vars can already exist and we should use them, these VARs must
be defined in /etc/environement or bashrc files.

This patch aims to look for user.rc file inside OSA_CONFIG_DIR.
If it's present - it will be sourced with all it's content. This way
deployers can store environemnt variables overrides in git and they will
be loaded during on openstack-ansible startup.

Change-Id: Ie24ada54a0e0dc064be028929b416d983fdb5b49
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/865867/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,842c95ffcef1a5feaed02e1a73c1171c81889671,,"export OSA_USER_RC=""${OSA_USER_RC:-${OSA_CONFIG_DIR}/user.rc}"" if [[ -f ${OSA_USER_RC} ]]; then source ${OSA_USER_RC} fi ",,6,0
openstack%2Fopenstack-ansible~860947,openstack/openstack-ansible,master,I936aa89129aeda56af9d9a1407073fccf00b7170,Define a group for ironic_console,MERGED,2022-10-11 13:24:04.000000000,2022-12-01 21:34:53.000000000,2022-12-01 21:34:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-11 13:24:04.000000000', 'files': ['inventory/env.d/ironic.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb4853dcaabd488a41a27c00ade24d41aeaac63a', 'message': 'Define a group for ironic_console\n\nIt is possible to install nova-serialconsole-proxy alongside\nnova-compute to allow IPMI serial-over-lan consoles to be made\navailable through the openstack cli or through horizon.\n\nThe os_nova role needs to have logic to decide which ironic host to\ninstall the nova serial proxy to, so we define an extra ansible group\nfor this purpose.\n\nChange-Id: I936aa89129aeda56af9d9a1407073fccf00b7170\n'}]",0,860947,eb4853dcaabd488a41a27c00ade24d41aeaac63a,10,3,1,25023,,,0,"Define a group for ironic_console

It is possible to install nova-serialconsole-proxy alongside
nova-compute to allow IPMI serial-over-lan consoles to be made
available through the openstack cli or through horizon.

The os_nova role needs to have logic to decide which ironic host to
install the nova serial proxy to, so we define an extra ansible group
for this purpose.

Change-Id: I936aa89129aeda56af9d9a1407073fccf00b7170
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/860947/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/env.d/ironic.yml'],1,eb4853dcaabd488a41a27c00ade24d41aeaac63a,osa-ironic-tidy, ironic_console: belongs_to: - ironic_all - ironic_console,,4,0
openstack%2Ftripleo-heat-templates~866350,openstack/tripleo-heat-templates,stable/zed,Iaefc0347ac18764a683fde82075adb3067861ebf,Remove CephHciOsdType and CephHciOsdCount parameters,MERGED,2022-12-01 14:43:55.000000000,2022-12-01 21:12:58.000000000,2022-12-01 21:12:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-12-01 14:43:55.000000000', 'files': ['releasenotes/notes/remove_derived_params_osd_type_osd_count-6fe114130d1e4b2e.yaml', 'deployment/cephadm/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10d4e7b3e1b7d23b2ae936ffb953caa118698201', 'message': 'Remove CephHciOsdType and CephHciOsdCount parameters\n\nCephHciOsdType and CephHciOsdCount parameters, used only\nby the deprecated derive parameters feature, should be\nremoved. They were missed during initial clean up.\n\nChange-Id: Iaefc0347ac18764a683fde82075adb3067861ebf\n(cherry picked from commit 4e62ae536324df783d228039908d68f34aa11703)\n'}]",0,866350,10d4e7b3e1b7d23b2ae936ffb953caa118698201,8,3,1,18002,,,0,"Remove CephHciOsdType and CephHciOsdCount parameters

CephHciOsdType and CephHciOsdCount parameters, used only
by the deprecated derive parameters feature, should be
removed. They were missed during initial clean up.

Change-Id: Iaefc0347ac18764a683fde82075adb3067861ebf
(cherry picked from commit 4e62ae536324df783d228039908d68f34aa11703)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/866350/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_derived_params_osd_type_osd_count-6fe114130d1e4b2e.yaml', 'deployment/cephadm/ceph-osd.yaml']",2,10d4e7b3e1b7d23b2ae936ffb953caa118698201,derive-parameters-cleanup-stable/zed,," CephHciOsdCount: type: number default: 0 tags: - role_specific description: | The number of expected Ceph OSDs per HCI node. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, this number is necessary in order to know how much CPU/RAM to reserve. CephHciOsdType: type: string default: 'hdd' tags: - role_specific constraints: - allowed_values: ['hdd', 'ssd', 'nvme'] description: | CephHciOsdType is the type of data_device (not db_device) used for each HCI node's OSD and must be one of hdd, ssd, or nvme. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, the device path is not hard coded so we cannot look up that device in Ironic to determine its type. If CephOsdSpec has data_devices/rotational=1 and db_devices/rotational=0, then set CephHciOsdType to 'hdd', since only the DB/WAL are on SSD. If an OSD data device is an SSD or NVMe SSD, then set the type accordingly so that the derive parameters module can allocate the optimal number of CPUs per device.",5,32
openstack%2Fopenstack-ansible-os_heat~865565,openstack/openstack-ansible-os_heat,stable/xena,If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc,Install git into heat containers,MERGED,2022-11-25 12:11:15.000000000,2022-12-01 20:43:04.000000000,2022-12-01 20:42:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-25 12:11:15.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/c452633ef312e40f27f95a9858513b7fcd454704', 'message': 'Install git into heat containers\n\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)\n'}]",2,865565,c452633ef312e40f27f95a9858513b7fcd454704,16,3,1,28619,,,0,"Install git into heat containers

If venv_wheel_build_enable is defined to False, placement will fail to
clone and install repositories due to missing git binary.

Change-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc
Related-Bug: #1989506
Closes-Bug: #1995536
(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/65/865565/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,c452633ef312e40f27f95a9858513b7fcd454704,, - git,,2,0
openstack%2Ftripleo-ansible~865630,openstack/tripleo-ansible,master,Ie46ef3c19f9be41897cdb4c7c4860d34e4d99e91,Add support for new ovn-bgp-agent config flag,MERGED,2022-11-25 08:17:14.000000000,2022-12-01 20:22:17.000000000,2022-12-01 20:22:17.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 08:17:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/templates/ovn-bgp-agent.conf.j2', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/74de45ad52581e1af01d9a5f7520f2cc01b51035', 'message': 'Add support for new ovn-bgp-agent config flag\n\nPatch [1] added support for only exposing IPv6 GUA tenant\nnetwork IPs. It created a new flag to control it, so this\npatch is adding support for it.\n\n[1] https://review.opendev.org/c/x/ovn-bgp-agent/+/864813\n\nChange-Id: Ie46ef3c19f9be41897cdb4c7c4860d34e4d99e91\n'}]",3,865630,74de45ad52581e1af01d9a5f7520f2cc01b51035,24,4,1,23567,,,0,"Add support for new ovn-bgp-agent config flag

Patch [1] added support for only exposing IPv6 GUA tenant
network IPs. It created a new flag to control it, so this
patch is adding support for it.

[1] https://review.opendev.org/c/x/ovn-bgp-agent/+/864813

Change-Id: Ie46ef3c19f9be41897cdb4c7c4860d34e4d99e91
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/865630/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/templates/ovn-bgp-agent.conf.j2', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml']",2,74de45ad52581e1af01d9a5f7520f2cc01b51035,,tripleo_frr_ovn_bgp_agent_expose_ipv6_gua_tenant_networks: false,,2,0
openstack%2Ftripleo-heat-templates~864475,openstack/tripleo-heat-templates,stable/wallaby,I0216dd555eacbcb37abd03a67fdd39f9244285db,Use python to template cell urls,MERGED,2022-11-15 13:10:32.000000000,2022-12-01 20:22:13.000000000,2022-12-01 20:22:13.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-15 13:10:32.000000000', 'files': ['container_config_scripts/nova_api_ensure_default_cells.py', 'deployment/nova/nova-api-container-puppet.yaml', 'container_config_scripts/tests/test_nova_api_ensure_default_cells.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f10d0c08d3643d92cde5e73ea1d8561edc8a6ab8', 'message': ""Use python to template cell urls\n\nHeat and Puppet cannot handle it properly due to url_parse()\nnot escaping url encoded special characters.\n\nIn future, this script could be reworked into an ansible plugin.\nWe need it as is to close the related multi-cells regression\nsneaked in after Train for Wallaby.\n\nThis doesn't raise the bar for standalone roles migration plans\nas we have already a plenty of container config scripts to be\nmigrated as well. Adding another one won't make things (much)\nworse.\n\nRelated: rhbz#2089512\nChange-Id: I0216dd555eacbcb37abd03a67fdd39f9244285db\n(cherry picked from commit 9fe769c512a44de9772fd79b6a5bc12998c758eb)\n""}]",14,864475,f10d0c08d3643d92cde5e73ea1d8561edc8a6ab8,43,6,1,6926,,,0,"Use python to template cell urls

Heat and Puppet cannot handle it properly due to url_parse()
not escaping url encoded special characters.

In future, this script could be reworked into an ansible plugin.
We need it as is to close the related multi-cells regression
sneaked in after Train for Wallaby.

This doesn't raise the bar for standalone roles migration plans
as we have already a plenty of container config scripts to be
migrated as well. Adding another one won't make things (much)
worse.

Related: rhbz#2089512
Change-Id: I0216dd555eacbcb37abd03a67fdd39f9244285db
(cherry picked from commit 9fe769c512a44de9772fd79b6a5bc12998c758eb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/864475/1 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/nova_api_ensure_default_cells.py', 'deployment/nova/nova-api-container-puppet.yaml', 'container_config_scripts/tests/test_nova_api_ensure_default_cells.py']",3,f10d0c08d3643d92cde5e73ea1d8561edc8a6ab8,cell_creds-stable/wallaby,"# # Copyright 2022 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from container_config_scripts.nova_api_ensure_default_cells import parse_list_cells from container_config_scripts.nova_api_ensure_default_cells import replace_db_name from container_config_scripts.nova_api_ensure_default_cells import template_netloc_credentials from container_config_scripts.nova_api_ensure_default_cells import template_url from oslotest import base class TemplateNetlocCredentialsCase(base.BaseTestCase): def test_host(self): test_netloc = 'example.com' expected_netloc = test_netloc templated_netloc = template_netloc_credentials(test_netloc) self.assertEqual(expected_netloc, templated_netloc) def test_host_port(self): test_netloc = 'example.com:1234' expected_netloc = test_netloc templated_netloc = template_netloc_credentials(test_netloc) self.assertEqual(expected_netloc, templated_netloc) def test_host_port_ipv6(self): test_netloc = '[dead:beef::1]:1234' expected_netloc = test_netloc templated_netloc = template_netloc_credentials(test_netloc) self.assertEqual(expected_netloc, templated_netloc) def test_username(self): test_netloc = 'foo@example.com' expected_netloc = '{username}@example.com' templated_netloc = template_netloc_credentials(test_netloc) self.assertEqual(expected_netloc, templated_netloc) def test_userpass(self): test_netloc = 'foo:bar@example.com' expected_netloc = '{username}:{password}@example.com' templated_netloc = template_netloc_credentials(test_netloc) self.assertEqual(expected_netloc, templated_netloc) def test_username_index(self): test_netloc = 'foo@example.com' expected_netloc = '{username5}@example.com' templated_netloc = template_netloc_credentials(test_netloc, index=5) self.assertEqual(expected_netloc, templated_netloc) def test_userpass_index(self): test_netloc = 'foo:bar@example.com' expected_netloc = '{username5}:{password5}@example.com' templated_netloc = template_netloc_credentials(test_netloc, index=5) self.assertEqual(expected_netloc, templated_netloc) class TemplateUrlCase(base.BaseTestCase): def test_simple_url(self): test_url = 'scheme://foo:bar@example.com:12345/?param=foo&param=bar#blah' expected_url = 'scheme://{username}:{password}@example.com:12345/?param=foo&param=bar#blah' templated_url = template_url(test_url) self.assertEqual(expected_url, templated_url) def test_ha_url(self): test_url = 'scheme://foo:bar@example.com:12345,foo2:bar2@example2.com:6789,foo3:bar3@example3.com:4321/?param=foo&param=bar#blah' expected_url = 'scheme://{username1}:{password1}@example.com:12345,{username2}:{password2}@example2.com:6789,{username3}:{password3}@example3.com:4321/?param=foo&param=bar#blah' templated_url = template_url(test_url) self.assertEqual(expected_url, templated_url) def test_ha_ipv6_url(self): test_url = 'scheme://foo:bar@[dead:beef::1]:12345,foo2:bar2@[dead:beef::2]:6789,foo3:bar3@[dead:beef::3]:4321/?param=foo&param=bar#blah' expected_url = 'scheme://{username1}:{password1}@[dead:beef::1]:12345,{username2}:{password2}@[dead:beef::2]:6789,{username3}:{password3}@[dead:beef::3]:4321/?param=foo&param=bar#blah' templated_url = template_url(test_url) self.assertEqual(expected_url, templated_url) class ParseListCellsCase(base.BaseTestCase): def test_no_output(self): test_output = '' self.assertRaises(ValueError, parse_list_cells, test_output) def test_no_cells(self): test_output = '''\ +------+------+---------------+---------------------+----------+ | Name | UUID | Transport URL | Database Connection | Disabled | +------+------+---------------+---------------------+----------+ +------+------+---------------+---------------------+----------+ ''' expected_cell_dicts = ({}, {}) cell_dicts = parse_list_cells(test_output) self.assertEqual(expected_cell_dicts, cell_dicts) def test_cell0(self): test_output = '''\ +-------+--------------------------------------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ | Name | UUID | Transport URL | Database Connection | Disabled | +-------+--------------------------------------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ | cell0 | 00000000-0000-0000-0000-000000000000 | none:/// | mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova_cell0?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo | False | +-------+--------------------------------------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ ''' expected_cell0_dict = { 'name': 'cell0', 'uuid': '00000000-0000-0000-0000-000000000000', 'transport_url': 'none:///', 'database_connection': 'mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova_cell0?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo' } expected_cell_dicts = ( { 'cell0': expected_cell0_dict }, { '00000000-0000-0000-0000-000000000000': expected_cell0_dict } ) cell_dicts = parse_list_cells(test_output) self.assertEqual(expected_cell_dicts, cell_dicts) def test_default_cells(self): test_output = '''\ +---------+--------------------------------------+--------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ | Name | UUID | Transport URL | Database Connection | Disabled | +---------+--------------------------------------+--------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ | cell0 | 00000000-0000-0000-0000-000000000000 | none:/// | mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova_cell0?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo | False | | default | 541ca4e9-15f7-4178-95de-8af9e3659daf | rabbit://guest:oLniT3uE12BLP4VsyoFt29k3U@controller-0.internalapi.redhat.local:5672/?ssl=1 | mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo | False | +---------+--------------------------------------+--------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+ ''' expected_cell0_dict = { 'name': 'cell0', 'uuid': '00000000-0000-0000-0000-000000000000', 'transport_url': 'none:///', 'database_connection': 'mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova_cell0?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo' } expected_default_dict = { 'name': 'default', 'uuid': '541ca4e9-15f7-4178-95de-8af9e3659daf', 'transport_url': 'rabbit://guest:oLniT3uE12BLP4VsyoFt29k3U@controller-0.internalapi.redhat.local:5672/?ssl=1', 'database_connection': 'mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo' } expected_cell_dicts = ( { 'cell0': expected_cell0_dict, 'default': expected_default_dict }, { '00000000-0000-0000-0000-000000000000': expected_cell0_dict, '541ca4e9-15f7-4178-95de-8af9e3659daf': expected_default_dict } ) cell_dicts = parse_list_cells(test_output) self.assertEqual(expected_cell_dicts, cell_dicts) class ReplaceDbNameCase(base.BaseTestCase): def test_replace_db_name(self): test_db_url = 'mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/nova?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo' expected_db_url = 'mysql+pymysql://nova:GsrvXnnW6Oam6Uz1CraPS46PV@overcloud.internalapi.redhat.local/foobar?read_default_file=/etc/my.cnf.d/tripleo.cnf&read_default_group=tripleo' db_url = replace_db_name(test_db_url, 'foobar') self.assertEqual(expected_db_url, db_url) ",,341,77
openstack%2Fopenstack-ansible-os_octavia~865643,openstack/openstack-ansible-os_octavia,stable/yoga,I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394,Adding octavia_provider_network_mtu-parameter parameter,MERGED,2022-11-30 17:11:27.000000000,2022-12-01 20:11:38.000000000,2022-12-01 20:10:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-30 17:11:27.000000000', 'files': ['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/octavia_provider_network_mtu-parameter-62978008dfe0882e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f8b8e0bfabebc06558cca1fa3231bb5cc411b297', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n(cherry picked from commit 2f1a3b4db1664cd9492bd32d1bad1793d5e61368)\n'}]",0,865643,f8b8e0bfabebc06558cca1fa3231bb5cc411b297,8,3,1,14552,,,0,"Adding octavia_provider_network_mtu-parameter parameter

The `octavia_provider_network_mtu-parameter` defaults to 1500
to not accidentially use `global_physnet_mtu` on deployment with
large MTU settings

Change-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394
(cherry picked from commit 2f1a3b4db1664cd9492bd32d1bad1793d5e61368)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/43/865643/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/octavia_provider_network_mtu-parameter-62978008dfe0882e.yaml']",2,f8b8e0bfabebc06558cca1fa3231bb5cc411b297,,--- features: - | A new parameter `octavia_provider_network_mtu` is added to set the MTU to 1500 by default. This is important for deployments which allow jumbo frames while setting the management to the standard Ethernet MTU. The MTU can be still changed at any point during the initial octavia deployment or with the `openstack network set --mtu` command line. upgrade: - | A new parameter `octavia_provider_network_mtu` is added to set the MTU to 1500 by default. This is important for deployments which allow jumbo frames while setting the management to the standard Ethernet MTU. The MTU can be still changed at any point during the initial octavia deployment or with the `openstack network set --mtu` command line. ,,18,0
openstack%2Fmanila~862898,openstack/manila,stable/yoga,I9a7460135a0c613c10a91fcef471d4da4f17f041,Fix neutron plugin get network_type,MERGED,2022-10-28 23:27:32.000000000,2022-12-01 20:10:04.000000000,2022-12-01 20:09:04.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-28 23:27:32.000000000', 'files': ['releasenotes/notes/fix-neutron-plugin-invalid-key-dict-68c3d6bcbf2f19f0.yaml', 'manila/network/neutron/neutron_network_plugin.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c5adb0b5dd65834bd135d2b106d8654158151f5', 'message': 'Fix neutron plugin get network_type\n\nSome neutron integrations might not have the provider:network_type\nand provider:segmentation_id set in the network information. The\nplugin is changed to read from dict using get method to avoid\nkey error exception.\n\nCloses-bug: #1987315\nChange-Id: I9a7460135a0c613c10a91fcef471d4da4f17f041\n(cherry picked from commit 48bc4656f8267007a3833c43a8182728582b44e3)\n(cherry picked from commit df2cc333e6247f1741116567b12875c59194ea1a)\n'}]",1,862898,9c5adb0b5dd65834bd135d2b106d8654158151f5,11,3,1,16643,,,0,"Fix neutron plugin get network_type

Some neutron integrations might not have the provider:network_type
and provider:segmentation_id set in the network information. The
plugin is changed to read from dict using get method to avoid
key error exception.

Closes-bug: #1987315
Change-Id: I9a7460135a0c613c10a91fcef471d4da4f17f041
(cherry picked from commit 48bc4656f8267007a3833c43a8182728582b44e3)
(cherry picked from commit df2cc333e6247f1741116567b12875c59194ea1a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/98/862898/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-neutron-plugin-invalid-key-dict-68c3d6bcbf2f19f0.yaml', 'manila/network/neutron/neutron_network_plugin.py']",2,9c5adb0b5dd65834bd135d2b106d8654158151f5,bug/1987315," network_type = net_info.get('provider:network_type') segmentation_id = net_info.get('provider:segmentation_id') 'mtu': net_info.get('mtu'),"," network_type = net_info['provider:network_type'] segmentation_id = net_info['provider:segmentation_id'] 'mtu': net_info['mtu'],",10,3
openstack%2Ftripleo-heat-templates~865141,openstack/tripleo-heat-templates,master,I2072e07b8ab77b8fe435402cda7b02d7c2d261b5,Fix logs permissions for swtpm,MERGED,2022-11-21 14:51:24.000000000,2022-12-01 19:55:41.000000000,2022-12-01 19:55:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-21 14:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f5c980ae55e03cdd6d5d74840524e025bc991f0', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n'}, {'number': 2, 'created': '2022-11-22 13:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da45b3f6276447888a9dc89d671b23fb11316631', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nAlso, add nova_virtqemud_init_logs container to chown swtpm logging\ndirectory (host prep tasks ensures it as root:root) for tss user/group\nas it is defined by TCIB.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n'}, {'number': 3, 'created': '2022-11-29 15:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7e9ea9e742d88ca42dfcf31546916ba4921d8af', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nAlso, add nova_virtqemud_init_logs container to chown swtpm logging\ndirectory (host prep tasks ensures it as root:root) for tss user/group\nas it is defined by TCIB.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n(cherry picked from commit da45b3f6276447888a9dc89d671b23fb11316631)\n'}, {'number': 4, 'created': '2022-11-29 15:01:32.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fabe90b237ad428d63f8843eb1ffbbd50c1bd6e', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nAlso, add nova_virtqemud_init_logs container to chown swtpm logging\ndirectory (host prep tasks ensures it as root:root) for tss user/group\nas it is defined by TCIB.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n'}]",13,865141,3fabe90b237ad428d63f8843eb1ffbbd50c1bd6e,35,7,4,6926,,,0,"Fix logs permissions for swtpm

The swtpm_setup etc. tools managed by nova require
the nova user to access logging directories owned by tss
user.

The dependency adds nova user into tss group in TCIB.
This change to allow nova user to write into the shared with tss group
swtpm logging destinations.

Also, add nova_virtqemud_init_logs container to chown swtpm logging
directory (host prep tasks ensures it as root:root) for tss user/group
as it is defined by TCIB.

Depends-On: https://review.opendev.org/865139
Change-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/865141/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,4f5c980ae55e03cdd6d5d74840524e025bc991f0,swtpm_logs," # TODO(bogdando): use container_logwriter_t as of container-selinux v2.191.0 - { 'path': /var/log/containers/libvirt/swtpm, 'setype': container_file_t, 'mode': '0770' }"," - { 'path': /var/log/containers/libvirt/swtpm, 'setype': container_file_t, 'mode': '0750' }",2,1
openstack%2Ftripleo-heat-templates~865830,openstack/tripleo-heat-templates,stable/zed,I2bdc9c96cfce3df529229f4194dc816fa798658d,Run virtqemud with umask 0027,MERGED,2022-11-28 10:05:46.000000000,2022-12-01 19:55:37.000000000,2022-12-01 19:55:37.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c07e22e7ea08dafcca5a22b61dc3f7453467869', 'message': 'Run virtqemud with umask 0027\n\nVirtqemud container requires umask 0027 as libvirt/qemu dynamic\npermissions should be restricted to not create VM files world readable.\n\nDepends-On: https://review.opendev.org/858930\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2bdc9c96cfce3df529229f4194dc816fa798658d\n(cherry picked from commit 7bba86fc582b6d599117be06c23d0a3d91332cfd)\n'}, {'number': 2, 'created': '2022-11-29 14:50:36.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37332d833e5c43fad8e2e2905680bae823900327', 'message': 'Run virtqemud with umask 0027\n\nVirtqemud container requires umask 0027 as libvirt/qemu dynamic\npermissions should be restricted to not create VM files world readable.\n\nDepends-On: https://review.opendev.org/858930\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2bdc9c96cfce3df529229f4194dc816fa798658d\n(cherry picked from commit 7bba86fc582b6d599117be06c23d0a3d91332cfd)\n'}]",2,865830,37332d833e5c43fad8e2e2905680bae823900327,24,3,2,9816,,,0,"Run virtqemud with umask 0027

Virtqemud container requires umask 0027 as libvirt/qemu dynamic
permissions should be restricted to not create VM files world readable.

Depends-On: https://review.opendev.org/858930
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I2bdc9c96cfce3df529229f4194dc816fa798658d
(cherry picked from commit 7bba86fc582b6d599117be06c23d0a3d91332cfd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/865830/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,8c07e22e7ea08dafcca5a22b61dc3f7453467869,libvirt_dynamic_permissions-stable/zed," TRIPLEO_KOLLA_UMASK: ""0027""",,1,0
openstack%2Fmanila~838876,openstack/manila,stable/yoga,I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,Fix GaneshaNASHelper update_access signature,MERGED,2022-04-21 17:45:13.000000000,2022-12-01 19:52:30.000000000,2022-12-01 19:51:25.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-21 17:45:13.000000000', 'files': ['releasenotes/notes/bug-1964696-fix-GaneshaNFSHelper-update_access-6124a79e34e63030.yaml', 'manila/share/drivers/glusterfs/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c37a44dfe67b54e25c3a55332a6d8bab289bc25d', 'message': 'Fix GaneshaNASHelper update_access signature\n\nThe gluster GaneshaNFSHelper update_access method calls\ninto the GaneshaNASHelper update_access method, but the\nsignature it uses for this call is not up to date with\nthe 2017 dynamic export changes made to the Ganesha\ndriver.\n\nFix this by adding an update_access method to\nthe gluster-specific GaneshaNFSHelper which accepts\nthe signature that the Gluster driver expects but calls\ninto Ganesha with the signature that it expects.\n\n[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160\n\nCloses-Bug: #1964696\nChange-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22\n(cherry picked from commit 6f4191a6d92342c35ece64c735be6c43ca171d58)\n'}]",2,838876,c37a44dfe67b54e25c3a55332a6d8bab289bc25d,14,3,1,16643,,,0,"Fix GaneshaNASHelper update_access signature

The gluster GaneshaNFSHelper update_access method calls
into the GaneshaNASHelper update_access method, but the
signature it uses for this call is not up to date with
the 2017 dynamic export changes made to the Ganesha
driver.

Fix this by adding an update_access method to
the gluster-specific GaneshaNFSHelper which accepts
the signature that the Gluster driver expects but calls
into Ganesha with the signature that it expects.

[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160

Closes-Bug: #1964696
Change-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22
(cherry picked from commit 6f4191a6d92342c35ece64c735be6c43ca171d58)
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/838876/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1964696-fix-GaneshaNFSHelper-update_access-6124a79e34e63030.yaml', 'manila/share/drivers/glusterfs/__init__.py']",2,c37a44dfe67b54e25c3a55332a6d8bab289bc25d,bug/1964696," def update_access(self, base_path, share, add_rules, delete_rules, recovery=False): """"""Update access rules."""""" context = None access_rules = [] super(GaneshaNFSHelper, self).update_access( context, share, access_rules, add_rules, delete_rules, share_server=None)",,17,0
openstack%2Fironic-inspector~860166,openstack/ironic-inspector,stable/train,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Zuul no longer respects queue,MERGED,2022-10-03 21:48:33.000000000,2022-12-01 19:36:29.000000000,2022-12-01 19:34:29.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 21:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/63578765506f217c7a804b442401c4ca1d409e34', 'message': 'CI: Zuul no longer respects queue\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 2, 'created': '2022-12-01 17:16:06.000000000', 'files': ['zuul.d/project.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2757041c0a83093bc815f619eb74c223b9842e69', 'message': 'CI: Zuul no longer respects queue\n\nAlso fix sql syntax in test-setup\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}]",5,860166,2757041c0a83093bc815f619eb74c223b9842e69,21,4,2,10342,,,0,"CI: Zuul no longer respects queue

Also fix sql syntax in test-setup

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/66/860166/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,63578765506f217c7a804b442401c4ca1d409e34,,, queue: ironic,0,1
openstack%2Fswift~851441,openstack/swift,master,I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca,ring: Have RingBuilder.debug return to old state,MERGED,2022-07-28 17:26:46.000000000,2022-12-01 19:29:12.000000000,2022-12-01 19:28:08.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-28 17:26:46.000000000', 'files': ['swift/common/ring/builder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/85d063b20ac21207d7f23e48865f19656e83c087', 'message': 'ring: Have RingBuilder.debug return to old state\n\nPreviously, if the logger was enabled before entering the context\nmanager, it would be disabled upon exiting.\n\nChange-Id: I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca\n'}]",5,851441,85d063b20ac21207d7f23e48865f19656e83c087,12,5,1,15343,,,0,"ring: Have RingBuilder.debug return to old state

Previously, if the logger was enabled before entering the context
manager, it would be disabled upon exiting.

Change-Id: I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/851441/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/ring/builder.py'],1,85d063b20ac21207d7f23e48865f19656e83c087,," old_val, self.logger.disabled = self.logger.disabled, False self.logger.disabled = old_val", self.logger.disabled = False self.logger.disabled = True,2,2
openstack%2Fnova~855035,openstack/nova,stable/yoga,I6e220cf3231670d156632e075fcf7701df744773,enable blocked VDPA move operations,MERGED,2022-08-29 13:59:30.000000000,2022-12-01 19:27:09.000000000,2022-12-01 19:25:45.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e290cd5c5aa6b15705eb3d6c7fe0fc3e53bed0a9', 'message': 'enable blocked VDPA move operations\n\nThis change adds functional test for operations on servers with VDPA\ndevices that are expected to work but currently blocked due to lack\nof testing or qemu bugs.\n\ncold-migrate, resize, evacuate,and shelve are enabled\nand tested by this patch\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nCloses-Bug: #1970467\nChange-Id: I6e220cf3231670d156632e075fcf7701df744773\n(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)\n'}, {'number': 2, 'created': '2022-11-17 15:15:56.000000000', 'files': ['doc/source/admin/vdpa.rst', 'doc/source/admin/index.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/vdpa-move-ops-a7b3799807807a92.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/041939361e393b808724b8590eb76b3aa075814e', 'message': 'enable blocked VDPA move operations\n\nThis change adds functional test for operations on servers with VDPA\ndevices that are expected to work but currently blocked due to lack\nof testing or qemu bugs.\n\ncold-migrate, resize, evacuate,and shelve are enabled\nand tested by this patch\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nCloses-Bug: #1970467\nChange-Id: I6e220cf3231670d156632e075fcf7701df744773\n(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)\n'}]",2,855035,041939361e393b808724b8590eb76b3aa075814e,19,3,2,11604,,,0,"enable blocked VDPA move operations

This change adds functional test for operations on servers with VDPA
devices that are expected to work but currently blocked due to lack
of testing or qemu bugs.

cold-migrate, resize, evacuate,and shelve are enabled
and tested by this patch

Conflicts:
    nova/tests/functional/libvirt/test_pci_sriov_servers.py

Closes-Bug: #1970467
Change-Id: I6e220cf3231670d156632e075fcf7701df744773
(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/855035/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/vdpa.rst', 'doc/source/admin/index.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/vdpa-move-ops-a7b3799807807a92.yaml', 'nova/compute/api.py']",5,e290cd5c5aa6b15705eb3d6c7fe0fc3e53bed0a9,bug/1970467,," # FIXME(sean-k-mooney): Cold migrate and resize to different hosts # probably works but they have not been tested so block them for now @reject_vdpa_instances(instance_actions.RESIZE) # FIXME(sean-k-mooney): Shelve works but unshelve does not due to bug # #1851545, so block it for now @reject_vdpa_instances(instance_actions.SHELVE) # FIXME(sean-k-mooney): rebuild works but we have not tested evacuate yet @reject_vdpa_instances(instance_actions.EVACUATE)",388,29
openstack%2Fswift~822565,openstack/swift,master,Ib4164f877908b855ce354cc722d9cb0be8be9921,slo: Default allow_async_delete to true,MERGED,2021-12-21 22:13:20.000000000,2022-12-01 19:27:04.000000000,2022-12-01 19:25:50.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 22:13:20.000000000', 'files': ['doc/saio/swift/proxy-server.conf', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/fa1058b6ed762b406f3b93c7989b66c114b44e8d', 'message': ""slo: Default allow_async_delete to true\n\nWe've had this option for a year now, and it seems to help. Let's enable\nit for everyone. Note that Swift clients still need to opt into the\nasync delete via a query param, while S3 clients get it for free.\n\nChange-Id: Ib4164f877908b855ce354cc722d9cb0be8be9921\n""}]",3,822565,fa1058b6ed762b406f3b93c7989b66c114b44e8d,10,3,1,15343,,,0,"slo: Default allow_async_delete to true

We've had this option for a year now, and it seems to help. Let's enable
it for everyone. Note that Swift clients still need to opt into the
async delete via a query param, while S3 clients get it for free.

Change-Id: Ib4164f877908b855ce354cc722d9cb0be8be9921
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/822565/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/proxy-server.conf', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample']",4,fa1058b6ed762b406f3b93c7989b66c114b44e8d,,# allow_async_delete = true,# allow_async_delete = false,8,9
openstack%2Foslo.messaging~862419,openstack/oslo.messaging,master,Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66,Implement get_rpc_client function,MERGED,2022-10-22 10:58:16.000000000,2022-12-01 18:46:57.000000000,2022-12-01 18:45:46.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-22 10:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a4117dcbc270cc061826e160722aef47db0b9f7b', 'message': ""Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in it's enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n""}, {'number': 2, 'created': '2022-10-23 13:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0db266107b25a8d1f07363f2ab0e6374ed8bb228', 'message': ""Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in it's enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n""}, {'number': 3, 'created': '2022-10-23 19:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0120e64e5d324a1cef557d3150b9693f15447672', 'message': ""Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in it's enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n""}, {'number': 4, 'created': '2022-10-25 11:42:49.000000000', 'files': ['tools/simulator.py', 'releasenotes/notes/get-rpc-client-0b4aa62160864b29.yaml', 'oslo_messaging/rpc/__init__.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/tests/functional/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4ead7cb2dcf376032f7bf9532a375256db6d3784', 'message': 'Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in its enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n'}]",20,862419,4ead7cb2dcf376032f7bf9532a375256db6d3784,19,5,4,16137,,,0,"Implement get_rpc_client function

We already expose functions to handle the instantiation
of classes such as RPCServer and RPCTransport but the
same was never done for RPCClient so the API is
inconsistent in its enforcement.

This adds a get_rpc_client function that should be used
instead of instatiating the RPCClient class directly to
be more consistent.

This also allows to handle more logic inside the function
in the future such as if implementations for an async client
is implemented, as investigation in [1] has shown.

[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936

Change-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/862419/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/simulator.py', 'releasenotes/notes/get-rpc-client-0b4aa62160864b29.yaml', 'oslo_messaging/rpc/__init__.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/tests/functional/utils.py']",7,a4117dcbc270cc061826e160722aef47db0b9f7b,get-rpc-client," self._ctrl = oslo_messaging.get_rpc_client(transport.transport, self.ctrl_target) self.client = oslo_messaging.get_rpc_client("," self._ctrl = oslo_messaging.RPCClient(transport.transport, self.ctrl_target) self.client = oslo_messaging.RPCClient(",77,36
openstack%2Fpyeclib~864336,openstack/pyeclib,master,I04389d6bf7bf399ed17ce09f251e02606e425677,Import setuptools before distutils,ABANDONED,2022-11-12 15:51:24.000000000,2022-12-01 18:14:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-12 15:51:24.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/7f728998748416f390756932770899a185e28718', 'message': 'Import setuptools before distutils\n\nsetuptools 60 uses its own bundled version of distutils, by default. It\ninjects this into sys.modules, at import time. So we need to make sure\nthat it is imported, before anything else imports distutils, to ensure\neverything is using the same distutils version.\n\nThis change in setuptools is to prepare for Python 3.12, which will drop\ndistutils.\n\nFixes: https://bugs.debian.org/1022470\nChange-Id: I04389d6bf7bf399ed17ce09f251e02606e425677\n'}]",1,864336,7f728998748416f390756932770899a185e28718,5,1,1,35532,,,0,"Import setuptools before distutils

setuptools 60 uses its own bundled version of distutils, by default. It
injects this into sys.modules, at import time. So we need to make sure
that it is imported, before anything else imports distutils, to ensure
everything is using the same distutils version.

This change in setuptools is to prepare for Python 3.12, which will drop
distutils.

Fixes: https://bugs.debian.org/1022470
Change-Id: I04389d6bf7bf399ed17ce09f251e02606e425677
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/36/864336/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,7f728998748416f390756932770899a185e28718,,from distutils.command.build import build as _build from distutils.command.clean import clean as _clean from distutils.sysconfig import get_python_inc,from distutils.command.build import build as _build from distutils.command.clean import clean as _clean from distutils.sysconfig import get_python_inc,3,3
openstack%2Fswift~615711,openstack/swift,master,I80b80ae9390827dfb3a1f5401f41aefc1b859a9a,Use assertRegex instead of assertRegexpMatches,ABANDONED,2018-11-06 02:55:19.000000000,2022-12-01 18:12:12.000000000,,"[{'_account_id': 597}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-11-06 02:55:19.000000000', 'files': ['test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/32f90f5df6ccf69ac4e9b9a02e2a83f114646bef', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex.\n\nChange-Id: I80b80ae9390827dfb3a1f5401f41aefc1b859a9a\n'}]",0,615711,32f90f5df6ccf69ac4e9b9a02e2a83f114646bef,9,4,1,25903,,,0,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex and assertNotRegex.

Change-Id: I80b80ae9390827dfb3a1f5401f41aefc1b859a9a
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/615711/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py']",3,32f90f5df6ccf69ac4e9b9a02e2a83f114646bef,assertRegex, self.assertRegex(, self.assertRegexpMatches(,11,11
openstack%2Fswift~347212,openstack/swift,master,I25ec2ff09cbeeed9e7a8d8faa52389a3be386590,Py3: Fixes TypeError: keys must be a string,ABANDONED,2016-07-26 09:24:40.000000000,2022-12-01 18:03:11.000000000,,"[{'_account_id': 3}, {'_account_id': 9107}, {'_account_id': 10369}]","[{'number': 1, 'created': '2016-07-26 09:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/02f0c454e74456b18339453ab84df854e6e5333d', 'message': 'Py3: Fixes TypeError: keys must be a string\n\nFixes Encode and decode base64 issues\n\nChange-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590\n'}, {'number': 2, 'created': '2016-07-26 09:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83864fe0aca3a363cf6210de0b2dc518bb7c2167', 'message': 'Py3: Fixes TypeError: keys must be a string\n\nFixes Encode and decode base64 issues\n\nChange-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590\n'}, {'number': 3, 'created': '2016-07-26 16:42:36.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/34d226c6dada394c65e0619f870383b46c206dc3', 'message': 'Py3: Fixes TypeError: keys must be a string\n\nFixes TypeError keys must be a string\nFixes other encoding and byteswarning issues\n\nChange-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590\n'}]",6,347212,34d226c6dada394c65e0619f870383b46c206dc3,9,3,3,10369,,,0,"Py3: Fixes TypeError: keys must be a string

Fixes TypeError keys must be a string
Fixes other encoding and byteswarning issues

Change-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/347212/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py']",2,02f0c454e74456b18339453ab84df854e6e5333d,Py3,"from oslo_serialization import base64 from oslo_serialization.base64 import encode_as_bytes (name, timestamp, deleted) = pickle.loads( base64.decode_as_bytes(entry)) fp.write(b':') fp.write(encode_as_bytes(pickle.dumps( protocol=PICKLE_PROTOCOL))) for key in list(stub_dict):"," (name, timestamp, deleted) = pickle.loads(entry.decode('base64')) fp.write(':') fp.write(pickle.dumps( protocol=PICKLE_PROTOCOL).encode('base64')) for key in stub_dict.keys():",13,8
openstack%2Fpuppet-ovn~866245,openstack/puppet-ovn,master,I574992748506e357af383588fb89b45203dee738,Add support for SSL connections to NB/SB DB,MERGED,2022-12-01 03:49:21.000000000,2022-12-01 17:34:05.000000000,2022-12-01 17:32:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 03:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/591e146a3de4fc4d506eb68035af0992d1afb561', 'message': 'Add support for clustered DB\n\nFor a cluster db, the nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 2, 'created': '2022-12-01 03:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/3cf03ca13793bbe17447d876d00573c4270c9f5e', 'message': 'Add support for clustered DB\n\nFor a cluster db, nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 3, 'created': '2022-12-01 03:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cc36b1320892c2c5d85b492828d88f12a2e5d5ab', 'message': 'Add support for clustered DB\n\nFor a cluster db, nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 4, 'created': '2022-12-01 03:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f09da1caac0f161eecd800b3fa6c14aba8e747be', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 5, 'created': '2022-12-01 05:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/771ee665ef0cce4be7671a3b2a80c3ff48021a35', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 6, 'created': '2022-12-01 07:17:01.000000000', 'files': ['releasenotes/notes/ovn-northd-ssl-db-0d77bbd457a21df6.yaml', 'manifests/northd.pp', 'spec/classes/ovn_northd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/1bfe785fd5773ab52bbe892d48ba3af5428add60', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}]",0,866245,1bfe785fd5773ab52bbe892d48ba3af5428add60,15,3,6,9816,,,0,"Add support for SSL connections to NB/SB DB

To allow ovn-northd to connect over SSL, the key, cert and cacert needs
to be set.

Co-Authored-By: Jake Yip <jake.yip@ardc.edu.au>
Change-Id: I574992748506e357af383588fb89b45203dee738
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/45/866245/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn-clusterd-db-244b8d44eb2638d1.yaml', 'manifests/northd.pp', 'spec/classes/ovn_northd_spec.rb']",3,591e146a3de4fc4d506eb68035af0992d1afb561,ssl_clustered_db," :ovn_northd_nb_db => 'ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645', :ovn_northd_sb_db => ['ssl:192.0.2.1:6646', 'ssl:192.0.2.2:6646', 'ssl:192.0.2.3:6646'], :ovn_northd_ssl_key => 'key.pem', :ovn_northd_ssl_cert => 'cert.pem', :ovn_northd_ssl_ca_cert => 'cacert.pem', context 'with bad ssl parameters' do let :params do { :ovn_northd_ssl_key => 'key.pem', } end it { should raise_error(Puppet::Error, /The ovn_northd_ssl_key, cert and ca-cert are required to use SSL/) } end "," :ovn_northd_nb_db => 'ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645', :ovn_northd_sb_db => ['ssl:192.0.2.1:6646', 'ssl:192.0.2.2:6646', 'ssl:192.0.2.3:6646'],",50,3
openstack%2Ftripleo-upgrade~866142,openstack/tripleo-upgrade,stable/wallaby,If769954dea48cba5b9cc52871a18735e8520a0ab,Removed tasks using unsupported NIC config script,MERGED,2022-11-30 12:17:05.000000000,2022-12-01 17:31:44.000000000,2022-12-01 17:31:44.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-30 12:17:05.000000000', 'files': ['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml', 'tasks/common/rocky_to_stein_adjust_nic_templates.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/81e7fe0b93f8e7b1d72e5d7c709aee8279e28ee5', 'message': 'Removed tasks using unsupported NIC config script\n\n`merge-new-params-nic-config-script.py`from Tripleo Heat Templates\nis no longer supported and will be removed for Zed release\nalong with the `convert_nic_config.py`.\n\nTasks using these scripts have to be be removed as well.\nThis includes indirect usage, and inclusion of the tasks\nin FFU process.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860691\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If769954dea48cba5b9cc52871a18735e8520a0ab\n(cherry picked from commit d9d3ce157819262be3d5a1e782f64bc542bd1df6)\n'}]",1,866142,81e7fe0b93f8e7b1d72e5d7c709aee8279e28ee5,11,3,1,11166,,,0,"Removed tasks using unsupported NIC config script

`merge-new-params-nic-config-script.py`from Tripleo Heat Templates
is no longer supported and will be removed for Zed release
along with the `convert_nic_config.py`.

Tasks using these scripts have to be be removed as well.
This includes indirect usage, and inclusion of the tasks
in FFU process.

Related: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860691

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If769954dea48cba5b9cc52871a18735e8520a0ab
(cherry picked from commit d9d3ce157819262be3d5a1e782f64bc542bd1df6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/42/866142/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml', 'tasks/common/rocky_to_stein_adjust_nic_templates.yaml', 'tasks/fast-forward-upgrade/main.yml']",4,81e7fe0b93f8e7b1d72e5d7c709aee8279e28ee5,,, - name: convert nic templates import_tasks: ../common/convert_nic_templates.yaml tags: ffu_overcloud_prepare ,0,88
openstack%2Ftripleo-upgrade~866141,openstack/tripleo-upgrade,stable/wallaby,I15add6d240ea072bc972cf9b7713b2b59c51d7ed,[ffwd3] Introduce roles_data adjustment for wallaby,MERGED,2022-11-30 11:55:45.000000000,2022-12-01 17:31:43.000000000,2022-12-01 17:31:43.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 11:55:45.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bad9ae1b96f32a0e436ae795ed087c942f20a143', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}]",2,866141,bad9ae1b96f32a0e436ae795ed087c942f20a143,13,3,1,11166,,,0,"[ffwd3] Introduce roles_data adjustment for wallaby

Change-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/41/866141/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,bad9ae1b96f32a0e436ae795ed087c942f20a143,,"- name: ""Drop {{item}} service"" replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- {{item}}$)' replace: '' loop: - ""OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI"" - ""OS::TripleO::Services::CinderBackendDellPs"" - ""OS::TripleO::Services::CinderBackendVRTSHyperScale"" - ""OS::TripleO::Services::Ec2Api"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::FluentdAlt"" - ""OS::TripleO::Services::Keepalived"" - ""OS::TripleO::Services::MistralApi"" - ""OS::TripleO::Services::MistralEngine"" - ""OS::TripleO::Services::MistralEventEngine"" - ""OS::TripleO::Services::MistralExecutor"" - ""OS::TripleO::Services::NeutronLbaasv2Agent"" - ""OS::TripleO::Services::NeutronLbaasv2Api"" - ""OS::TripleO::Services::NeutronML2FujitsuCfab"" - ""OS::TripleO::Services::NeutronML2FujitsuFossw"" - ""OS::TripleO::Services::NeutronSriovHostConfig"" - ""OS::TripleO::Services::NovaConsoleauth"" - ""OS::TripleO::Services::Ntp"" - ""OS::TripleO::Services::OpenDaylightApi"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenShift::GlusterFS"" - ""OS::TripleO::Services::OpenShift::Infra"" - ""OS::TripleO::Services::OpenShift::Master"" - ""OS::TripleO::Services::OpenShift::Worker"" - ""OS::TripleO::Services::PankoApi"" - ""OS::TripleO::Services::Rear"" - ""OS::TripleO::Services::SaharaApi"" - ""OS::TripleO::Services::SaharaEngine"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClientAlt"" - ""OS::TripleO::Services::SkydiveAgent"" - ""OS::TripleO::Services::SkydiveAnalyzer"" - ""OS::TripleO::Services::Tacker"" - ""OS::TripleO::Services::TripleoUI"" - ""OS::TripleO::Services::UndercloudMinionMessaging"" - ""OS::TripleO::Services::UndercloudUpgradeEphemeralHeat"" - ""OS::TripleO::Services::Zaqar"" ",,47,0
openstack%2Fvalidations-libs~864727,openstack/validations-libs,master,Iea6fc17ec4da91df652be0a0cb9338e3c512f141,Check the presence of the output callback and the roles path,MERGED,2022-11-16 12:52:05.000000000,2022-12-01 17:14:37.000000000,2022-12-01 17:13:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-11-16 12:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/02bf2cb13297314830e9c77130328d9cf5b00973', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the prensece of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command but wont be able\nto find the json log output associated to the run and will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 2, 'created': '2022-11-17 16:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bdeaf12d9389672da9670bce8f550f873b5b254b', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 3, 'created': '2022-11-18 09:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4717574680ddb733953464042a5b16ecdae9dbb5', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 4, 'created': '2022-11-21 09:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/39fc72080452ea533f8f88e34f8a1d6d0abd6b68', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 5, 'created': '2022-11-23 14:22:00.000000000', 'files': ['validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a7b2d9788df11d4d4635d6c00c380fdc0e1fab40', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}]",5,864727,a7b2d9788df11d4d4635d6c00c380fdc0e1fab40,19,4,5,16515,,,0,"Check the presence of the output callback and the roles path

This patch check the presence of the output callback *vf_validation_json*
which is mandatory for a correct behavior of the VF.
Without this checks the VF will execute the ansible command,
but wont be able to find the json log associated to the run,
and will failed at the end.
This check prevent useless investigations and save time for the user.

It also check the presence of the roles path (if one of all the paths is correct)
to prevent as well strange behavior from Ansible and the framework.

Change-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/27/864727/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py']",2,02bf2cb13297314830e9c77130328d9cf5b00973,ansible/path," @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_specific_log_path(self, mock_check_ansible, mock_path, mock_env, mock_env_var, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_no_log_path(self, mock_check_ansible, mock_env, mock_path, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_tags(self, mock_check_ansible, mock_env, mock_path, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_callback_whitelist_extend(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_callback_whitelist_none(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_callback_precedence(self, mock_check_files, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_artifact_path_set(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_artifact_path_from_log_path(self, mock_check_ansible, mock_env, mock_run, mock_exists, mock_open): @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_artifact_path_from_constants(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_envvars(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_envvars_logdir(self, mock_check_ansible, mock_env, @mock.patch('os.path.exists', return_value=False) def test_check_ansible_files_path_not_exists(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_CALLBACK_PLUGINS': '/foo:/bar', 'ANSIBLE_ROLES_PATH': '/fake/roles:/foo/roles'} self.assertRaises(RuntimeError, v_ansible._check_ansible_files, fake_env) @mock.patch('os.path.exists', return_value=True) def test_check_ansible_files_missing_callback(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_ROLES_PATH': '/fake/roles:/foo/roles'} self.assertRaises(RuntimeError, v_ansible._check_ansible_files, fake_env) @mock.patch('os.path.exists', return_value=True) def test_check_ansible_files_missing_roles(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_CALLBACK_PLUGINS': '/foo:/bar'} self.assertRaises(RuntimeError, v_ansible._check_ansible_files, fake_env) @mock.patch('os.path.exists', return_value=True) def test_check_ansible_files_path_not_exists(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_CALLBACK_PLUGINS': '/foo:/bar', 'ANSIBLE_ROLES_PATH': '/fake/roles:/foo/roles'} v_ansible._check_ansible_files(fake_env)"," def test_run_specific_log_path(self, mock_path, mock_env, mock_env_var, def test_run_no_log_path(self, mock_env, mock_path, def test_run_tags(self, mock_env, mock_path, def test_run_callback_whitelist_extend(self, mock_env, def test_run_callback_whitelist_none(self, mock_env, def test_run_callback_precedence(self, mock_env, def test_run_ansible_artifact_path_set(self, mock_env, def test_run_ansible_artifact_path_from_log_path(self, mock_env, mock_run, mock_exists, mock_open): def test_run_ansible_artifact_path_from_constants(self, mock_env, def test_run_ansible_envvars(self, mock_env, def test_run_ansible_envvars_logdir(self, mock_env,",79,12
openstack%2Ftripleo-validations~865558,openstack/tripleo-validations,stable/zed,Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,Add validation to check if a reboot of a node is necessary,MERGED,2022-11-24 22:34:46.000000000,2022-12-01 17:14:21.000000000,2022-12-01 17:13:04.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-24 22:34:46.000000000', 'files': ['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/167f9df0a78bede94bd704d708afccbcb013320c', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)\n'}]",0,865558,167f9df0a78bede94bd704d708afccbcb013320c,9,4,1,16515,,,0,"Add validation to check if a reboot of a node is necessary

For Upgrade usage, this validation will check with yum-utils
if a reboot is needed by some core packages according to:
https://access.redhat.com/solutions/27943

Change-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d
(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/865558/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml']",4,167f9df0a78bede94bd704d708afccbcb013320c,pre/upgrade/reboot-stable/zed,--- - hosts: all gather_facts: true vars: metadata: name: Verify if a reboot is necessary with yum-utils description: | This validation checks if a reboot is necessary with yum-utils with the option: needs-restarting -r groups: - pre-upgrade - pre-update - post-upgrade - post-update categories: - os - kernel - system products: - tripleo roles: - check_reboot ,,49,0
openstack%2Ftripleo-validations~865559,openstack/tripleo-validations,stable/wallaby,Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,Add validation to check if a reboot of a node is necessary,MERGED,2022-11-24 22:34:58.000000000,2022-12-01 17:14:18.000000000,2022-12-01 17:13:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-24 22:34:58.000000000', 'files': ['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0f0ffde63f9d20dbc362ce59595058e79e93db15', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)\n'}]",1,865559,0f0ffde63f9d20dbc362ce59595058e79e93db15,9,3,1,16515,,,0,"Add validation to check if a reboot of a node is necessary

For Upgrade usage, this validation will check with yum-utils
if a reboot is needed by some core packages according to:
https://access.redhat.com/solutions/27943

Change-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d
(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/59/865559/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml']",4,0f0ffde63f9d20dbc362ce59595058e79e93db15,pre/upgrade/reboot-stable/zed-stable/wallaby,--- - hosts: all gather_facts: true vars: metadata: name: Verify if a reboot is necessary with yum-utils description: | This validation checks if a reboot is necessary with yum-utils with the option: needs-restarting -r groups: - pre-upgrade - pre-update - post-upgrade - post-update categories: - os - kernel - system products: - tripleo roles: - check_reboot ,,49,0
openstack%2Fcharm-ceph-mon~866139,openstack/charm-ceph-mon,master,Iea39c33c614d204ee39ad39da68c31d213ed19e6,Fix: init alert rules on rel change,MERGED,2022-11-30 11:43:18.000000000,2022-12-01 17:13:14.000000000,2022-12-01 17:13:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-11-30 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/14c682e3ad317f36a955afd98a65306eb803b42d', 'message': 'Fix: init alert rules on rel change\n\nCheck for alert rules early, on first metrics-endpoint rel change\n\nChange-Id: Iea39c33c614d204ee39ad39da68c31d213ed19e6\n'}, {'number': 2, 'created': '2022-11-30 13:59:50.000000000', 'files': ['bindep.txt', 'src/ceph_metrics.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1cf9d4d228ca4df801094755d8247d8a0d8ff6d9', 'message': 'Fix: init alert rules on rel change\n\nCheck for alert rules early, on first metrics-endpoint rel change\n\nChange-Id: Iea39c33c614d204ee39ad39da68c31d213ed19e6\n'}]",5,866139,1cf9d4d228ca4df801094755d8247d8a0d8ff6d9,15,3,2,15382,,,0,"Fix: init alert rules on rel change

Check for alert rules early, on first metrics-endpoint rel change

Change-Id: Iea39c33c614d204ee39ad39da68c31d213ed19e6
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/39/866139/1 && git format-patch -1 --stdout FETCH_HEAD,['src/ceph_metrics.py'],1,14c682e3ad317f36a955afd98a65306eb803b42d,fix/update-alertrules-early, self.update_alert_rules(),,1,0
openstack%2Fironic-inspector~860170,openstack/ironic-inspector,bugfix/10.9,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Various fixes,MERGED,2022-10-03 21:49:32.000000000,2022-12-01 16:48:32.000000000,2022-12-01 16:45:54.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 21:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/847430cdaac9a11d78c952222dd3c9c63117744f', 'message': 'CI: Zuul no longer respects queue\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 2, 'created': '2022-10-11 22:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1d1992ce1c7462c205c4f20e9eba530a84b8f04e', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 3, 'created': '2022-10-13 07:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9fa4ece54028dc7ade30f299b13996e017691341', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 4, 'created': '2022-10-13 08:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d0a025987dba8adb456e9571d2503235d467b812', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 5, 'created': '2022-12-01 14:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6b1df392cf88da880d92fbd2630ae4c4cec5a487', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 6, 'created': '2022-12-01 14:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/eff1f893d6265ac80dd5e88d7519bd25c015b53d', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 7, 'created': '2022-12-01 14:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/dbb22f05c438372039566237e01f57f6859c7280', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n- Use yoga upper-constraints\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 8, 'created': '2022-12-01 16:02:42.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/238e74a83909951801f8601445d938e817737e1d', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n- Use yoga upper-constraints\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}]",4,860170,238e74a83909951801f8601445d938e817737e1d,25,5,8,10342,,,0,"CI: Various fixes

- Zuul no longer respects queue
- Pin requirements to yoga
- Use yoga upper-constraints

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/70/860170/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,847430cdaac9a11d78c952222dd3c9c63117744f,,, queue: ironic,0,1
openstack%2Fneutron~865902,openstack/neutron,stable/wallaby,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:34:13.000000000,2022-12-01 16:37:15.000000000,2022-12-01 16:35:57.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:34:13.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0135f0db5627327741822c76efbc03ef0d476576', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",0,865902,0135f0db5627327741822c76efbc03ef0d476576,9,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/865902/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,0135f0db5627327741822c76efbc03ef0d476576,disable_sgl-stable/wallaby," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Fopenstack-ansible-os_nova~865067,openstack/openstack-ansible-os_nova,master,I98486e29e1214ee6684e94e4d9a9e407b3200499,move ovs section out from the middle of the libvirt section,ABANDONED,2022-11-19 00:08:43.000000000,2022-12-01 16:25:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-19 00:08:43.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/764123920d58953b8e7973b0d21452464752536d', 'message': 'move ovs section out from the middle of the libvirt section\n\nChange-Id: I98486e29e1214ee6684e94e4d9a9e407b3200499\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,865067,764123920d58953b8e7973b0d21452464752536d,10,3,1,14288,,,0,"move ovs section out from the middle of the libvirt section

Change-Id: I98486e29e1214ee6684e94e4d9a9e407b3200499
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/67/865067/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,764123920d58953b8e7973b0d21452464752536d,fix-nova-template,"{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ","{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ",5,5
openstack%2Fneutron~865900,openstack/neutron,stable/yoga,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:32:56.000000000,2022-12-01 16:23:40.000000000,2022-12-01 16:22:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:32:56.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4eba379801e8a550dfcdf51a3ebfa45e4c74caa4', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",3,865900,4eba379801e8a550dfcdf51a3ebfa45e4c74caa4,17,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/865900/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,4eba379801e8a550dfcdf51a3ebfa45e4c74caa4,disable_sgl-stable/zed-stable/yoga," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Fneutron~865899,openstack/neutron,stable/zed,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:32:17.000000000,2022-12-01 16:20:36.000000000,2022-12-01 16:18:50.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:32:17.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/89c97e8a493b3abc75ac94a46a70c1d799515065', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",1,865899,89c97e8a493b3abc75ac94a46a70c1d799515065,9,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/865899/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,89c97e8a493b3abc75ac94a46a70c1d799515065,disable_sgl-stable/zed," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Fopenstack-ansible-os_ironic~865566,openstack/openstack-ansible-os_ironic,stable/yoga,I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f,Pass CA pass to Swift CLI,MERGED,2022-11-25 13:05:49.000000000,2022-12-01 15:59:44.000000000,2022-12-01 15:57:42.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-25 13:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/0d452030e6144d6cdb485d093ad8fa9cf64586a9', 'message': 'Pass CA pass to Swift CLI\n\nSwift requires CA path to be set either with OS_CACERT env var or with\nsimmilar flag passed to command.\n\nChange-Id: I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f\n'}, {'number': 2, 'created': '2022-11-30 09:58:30.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'tasks/ironic_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/c9553c48207a6ec8c015e3c06a17f37542a72d86', 'message': 'Pass CA pass to Swift CLI\n\nSwift requires CA path to be set either with OS_CACERT env var or with\nsimmilar flag passed to command.\n\nWe temporarily set centos/rocky 8 jobs to non-voting to be able to fix master\nand return back fixing these jobs later on.\n\nChange-Id: I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f\n'}]",6,865566,c9553c48207a6ec8c015e3c06a17f37542a72d86,23,4,2,28619,,,0,"Pass CA pass to Swift CLI

Swift requires CA path to be set either with OS_CACERT env var or with
simmilar flag passed to command.

We temporarily set centos/rocky 8 jobs to non-voting to be able to fix master
and return back fixing these jobs later on.

Change-Id: I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/66/865566/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'tasks/ironic_post_install.yml']",3,0d452030e6144d6cdb485d093ad8fa9cf64586a9,," {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure', '--os-cacert ' ~ _ironic_ssl_truststore_location) }} {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure', '--os-cacert ' ~ _ironic_ssl_truststore_location) }}"," {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure','') }} {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure','') }}",6,2
openstack%2Fopenstack-ansible~866012,openstack/openstack-ansible,master,I4da481d182ce8e207ff847c2adfebbbb17af358b,Explicitly define neutron_plugin_base for OVS,MERGED,2022-11-29 13:54:39.000000000,2022-12-01 15:54:49.000000000,2022-12-01 15:53:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-29 13:54:39.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf156f6dc006e01ee461871399098ae04204cd39', 'message': 'Explicitly define neutron_plugin_base for OVS\n\nWith switching from LXB to OVN we need to have neutron_plugin_base\ndefined explitily in variables, otherwise ovn one will be used as\ndefault.\n\nChange-Id: I4da481d182ce8e207ff847c2adfebbbb17af358b\n'}]",1,866012,cf156f6dc006e01ee461871399098ae04204cd39,10,3,1,28619,,,0,"Explicitly define neutron_plugin_base for OVS

With switching from LXB to OVN we need to have neutron_plugin_base
defined explitily in variables, otherwise ovn one will be used as
default.

Change-Id: I4da481d182ce8e207ff847c2adfebbbb17af358b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/866012/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'],1,cf156f6dc006e01ee461871399098ae04204cd39,osa/ovn,neutron_plugin_base: - router - metering ,,4,0
openstack%2Ftripleo-validations~864555,openstack/tripleo-validations,stable/wallaby,Id3f332b7fd70a54d537dabec447ffa22a36256fd,Refactoring node-health validation,MERGED,2022-11-15 15:05:03.000000000,2022-12-01 15:47:06.000000000,2022-12-01 15:45:57.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-15 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/62a70d67e9e4f0ae900dedb1cdd63579ae078dc6', 'message': 'Refactoring node-health validation\n\nnode-health validation will now be using openstack-ansible-collection\nmodules to obtain information about cloud structure and state.\n\nThis will allow the validation to be executed in environments with\nmore strict authentication requirements.\nDocumentation was updated to provide more information about authentication\nprocedure used.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id3f332b7fd70a54d537dabec447ffa22a36256fd\n(cherry picked from commit bc547f3f147e55765dec588d67ddad71c563ad73)\n'}, {'number': 2, 'created': '2022-11-24 08:53:51.000000000', 'files': ['playbooks/node-health.yaml', 'ansible-collections-requirements.yml', 'doc/source/roles/role-node_health.rst', 'roles/node_health/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f7a7692394e14cd946668f99a5cceaf4946fe49a', 'message': 'Refactoring node-health validation\n\nnode-health validation will now be using openstack-ansible-collection\nmodules to obtain information about cloud structure and state.\n\nThis will allow the validation to be executed in environments with\nmore strict authentication requirements.\nDocumentation was updated to provide more information about authentication\nprocedure used.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id3f332b7fd70a54d537dabec447ffa22a36256fd\n(cherry picked from commit bc547f3f147e55765dec588d67ddad71c563ad73)\n'}]",3,864555,f7a7692394e14cd946668f99a5cceaf4946fe49a,14,3,2,32926,,,0,"Refactoring node-health validation

node-health validation will now be using openstack-ansible-collection
modules to obtain information about cloud structure and state.

This will allow the validation to be executed in environments with
more strict authentication requirements.
Documentation was updated to provide more information about authentication
procedure used.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id3f332b7fd70a54d537dabec447ffa22a36256fd
(cherry picked from commit bc547f3f147e55765dec588d67ddad71c563ad73)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/864555/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/node-health.yaml', 'ansible-collections-requirements.yml', 'doc/source/roles/role-node_health.rst', 'roles/node_health/tasks/main.yml']",4,62a70d67e9e4f0ae900dedb1cdd63579ae078dc6,,"- name: Retrieving compute services openstack.cloud.compute_service_info: cloud: overcloud register: result - name: Fail if the compute services can't be queried fail: msg: Compute services query failed with {{ result.msg }} when: result.failed - name: Get nova nodes set_fact: nova_nodes: ""{{ result.openstack_compute_services | community.general.json_query(query) }}"" vars: query: ""[?contains(name, 'nova')]"" - name: Get failed nova nodes set_fact: failed_nodes: ""{{ nova_nodes | community.general.json_query(failed_nodes_query) }}"" vars: failed_nodes_query: ""[?state!='up']"" - when: failed_nodes | length > 0 block: - name: Get baremetal nodes info become: true openstack.cloud.baremetal_node_info: cloud: undercloud register: result - name: Get baremetal nodes set_fact: baremetal_nodes: ""{{ result.baremetal_nodes }}"" - name: Get failed node names set_fact: node_names: ""{{ item.host.split('.')[0]}}"" with_items: ""{{ failed_nodes }}"" - name: Get failed baremetal nodes set_fact: failed_baremetal_nodes: ""{{ baremetal_nodes | to_json | from_json | community.general.json_query(query) }}"" with_items: ""{{ node_names }}"" vars: query: ""[?contains(name, '{{ item }}')]"" - name: Fail if there are unreachable nodes fail: msg: | {{ lookup('template', './templates/unreachable_nodes.j2', template_vars=dict(nodes=failed_baremetal_nodes)) }} when: failed_baremetal_nodes|length > 0","- name: Collect IPs for allovercloud nodes set_fact: ansible_host=""{{ hostvars[item]['ansible_host'] }}"" register: oc_ips with_items: ""{{ groups.allovercloud }}"" - name: Ping all overcloud nodes icmp_ping: host: ""{{ item }}"" with_items: ""{{ oc_ips.results | map(attribute='ansible_facts.ansible_host') | list }}"" register: ping_results - name: Extract failed pings set_fact: failed_ips: ""{{ ping_results.results | selectattr('failed', 'equalto', True) | map(attribute='item') | list }}"" - name: Lookup nova servers for each failed IP set_fact: servers: ""{{ lookup('nova_servers', 'ip', 'ctlplane', failed_ips, wantlist=True) }}"" - name: Extract nova ids set_fact: server_ids: ""{{ servers | map(attribute='id') | list }}"" - name: Lookup ironic nodes for unreachable nova servers set_fact: nodes: ""{{ lookup('ironic_nodes', 'instance_uuid', server_ids, wantlist=True) }}"" - name: Fail if there are unreachable nodes fail: msg: | {{ lookup('template', './templates/unreachable_nodes.j2', template_vars=dict(nodes=nodes)) }} when: nodes|length > 0",61,33
openstack%2Ftripleo-common~866305,openstack/tripleo-common,master,I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc,Fix tripleo_entrypoint.sh,MERGED,2022-12-01 09:01:36.000000000,2022-12-01 15:46:59.000000000,2022-12-01 15:45:55.000000000,"[{'_account_id': 7144}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-01 09:01:36.000000000', 'files': ['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0253c356d99193a4ab9417b018877f4fe916487d', 'message': 'Fix tripleo_entrypoint.sh\n\nThere was an error and the last if block was not being closed.\nThis patch fixes that error.\n\nChange-Id: I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc\n'}]",1,866305,0253c356d99193a4ab9417b018877f4fe916487d,10,6,1,32968,,,0,"Fix tripleo_entrypoint.sh

There was an error and the last if block was not being closed.
This patch fixes that error.

Change-Id: I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/866305/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh'],1,0253c356d99193a4ab9417b018877f4fe916487d,standalone-roles,fi,,1,0
openstack%2Fpython-openstackclient~866325,openstack/python-openstackclient,master,I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756,Add --boot-from-volume-type to specify volume type for BFV,ABANDONED,2022-12-01 11:36:03.000000000,2022-12-01 15:41:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 11:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/58ba88a87f40a79d14647844d5c8fd4c88293a01', 'message': 'Add --boot-from-volume-type to specify volume type for BFV\n\nThis introduces --boot-from-volume-type that is used in\nconjuction with --boot-from-volume to request a volume\ntype when booting a server from a volume.\n\nThis support was introduced in the 2.67 microversion API\nin Nova and we thus check for that.\n\nChange-Id: I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756\n'}, {'number': 2, 'created': '2022-12-01 11:43:58.000000000', 'files': ['releasenotes/notes/boot-from-volume-type-8d6762364fc32449.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5326beee56713470e5539e889bf08be67c0aaf50', 'message': 'Add --boot-from-volume-type to specify volume type for BFV\n\nThis introduces --boot-from-volume-type that is used in\nconjuction with --boot-from-volume to request a volume\ntype when booting a server from a volume.\n\nThis support was introduced in the 2.67 microversion API\nin Nova and we thus check for that.\n\nChange-Id: I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756\n'}]",8,866325,5326beee56713470e5539e889bf08be67c0aaf50,10,1,2,16137,,,0,"Add --boot-from-volume-type to specify volume type for BFV

This introduces --boot-from-volume-type that is used in
conjuction with --boot-from-volume to request a volume
type when booting a server from a volume.

This support was introduced in the 2.67 microversion API
in Nova and we thus check for that.

Change-Id: I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/25/866325/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/boot-from-volume-type-8d6762364fc32449.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,58ba88a87f40a79d14647844d5c8fd4c88293a01,," parser.add_argument( '--boot-from-volume-type', metavar='<volume type>', help=_( 'Used in combination with --boot-from-volume to select the ' 'volume type used in the block device mapping. ' '(supported by --os-compute-api-version 2.67 or above)' ) ) # If we get a boot from volume type add it to BDM if parsed_args.boot_from_volume_type: if compute_client.api_version < api_versions.APIVersion(""2.67""): msg = _(""--boot-from-volume-type is not supported for "" ""--os-compute-api-version less than 2.67"") raise exceptions.CommandError(msg) else: block_device_mapping_v2[0]['volume_type'] = ( parsed_args.boot_from_volume_type )",,123,0
openstack%2Fopenstack-ansible-os_horizon~863921,openstack/openstack-ansible-os_horizon,master,I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3,Install ironic-ui from git source rather than a pip package,MERGED,2022-11-07 18:53:47.000000000,2022-12-01 15:30:02.000000000,2022-12-01 15:29:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-07 18:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a53e72e2574cb0ca622b522601a65122e6c991cf', 'message': 'Install ironic-ui from git source rather than a pip package\n\nThis patch changes the horizon ironic dashboard to be installed from\ngit sources like all of the other dashboards in an openstack-ansible\ndeployment.\n\nWithout this change the package installed from pypi is always the\nlatest released version and not aligned with the release\nbeing deployed with openstack-ansible. This will potentially\ncause the horizon service to fail to start if there is a severe\nmismatch between horizon and ironic-ui.\n\nChange-Id: I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3\n'}, {'number': 2, 'created': '2022-11-25 13:08:23.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a20dfea4cf556542284ea89e0c9885d77ad5becb', 'message': 'Install ironic-ui from git source rather than a pip package\n\nThis patch changes the horizon ironic dashboard to be installed from\ngit sources like all of the other dashboards in an openstack-ansible\ndeployment.\n\nWithout this change the package installed from pypi is always the\nlatest released version and not aligned with the release\nbeing deployed with openstack-ansible. This will potentially\ncause the horizon service to fail to start if there is a severe\nmismatch between horizon and ironic-ui.\n\nChange-Id: I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3\n'}]",1,863921,a20dfea4cf556542284ea89e0c9885d77ad5becb,13,4,2,25023,,,0,"Install ironic-ui from git source rather than a pip package

This patch changes the horizon ironic dashboard to be installed from
git sources like all of the other dashboards in an openstack-ansible
deployment.

Without this change the package installed from pypi is always the
latest released version and not aligned with the release
being deployed with openstack-ansible. This will potentially
cause the horizon service to fail to start if there is a severe
mismatch between horizon and ironic-ui.

Change-Id: I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/21/863921/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a53e72e2574cb0ca622b522601a65122e6c991cf,osa-ironic-tidy," - ""git+{{ ironic_dashboard_git_repo }}@{{ ironic_dashboard_git_install_branch }}#egg=ironic-ui""", - ironic-ui,1,1
openstack%2Fironic~865946,openstack/ironic,bugfix/19.0,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,MERGED,2022-11-29 07:36:37.000000000,2022-12-01 15:18:37.000000000,2022-12-01 15:17:21.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-29 07:36:37.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cca39b55ccb261ae62d15e2e33224b3c3a05a4f', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)\n'}]",0,865946,7cca39b55ccb261ae62d15e2e33224b3c3a05a4f,10,3,1,28806,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/865946/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,7cca39b55ccb261ae62d15e2e33224b3c3a05a4f,capa-19.0," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",40,12
openstack%2Fironic~865947,openstack/ironic,stable/xena,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,MERGED,2022-11-29 07:42:13.000000000,2022-12-01 15:18:34.000000000,2022-12-01 15:17:15.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-29 07:42:13.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6aaf4e69ec78e5a67d95b8d22450ae30ce857c1c', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nConflicts:\n\tironic/conf/irmc.py\n\tironic/drivers/modules/irmc/common.py\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)\n'}]",0,865947,6aaf4e69ec78e5a67d95b8d22450ae30ce857c1c,11,3,1,28806,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Conflicts:
	ironic/conf/irmc.py
	ironic/drivers/modules/irmc/common.py

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/865947/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,6aaf4e69ec78e5a67d95b8d22450ae30ce857c1c,capa-xena," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",40,12
openstack%2Fopenstack-ansible-os_octavia~864419,openstack/openstack-ansible-os_octavia,master,Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6,Enable /healthcheck for Octavia API,MERGED,2022-11-14 15:23:58.000000000,2022-12-01 15:07:13.000000000,2022-12-01 15:06:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-14 15:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/61cda3ffa164e14c881bfac131af4f9d4312fc2e', 'message': 'Enable /healthcheck for Octavia API\n\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}, {'number': 2, 'created': '2022-11-15 14:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d9ce0a02176c73fab6ad631e6400fd5504b6c541', 'message': 'Enable /healthcheck for Octavia API\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}, {'number': 3, 'created': '2022-11-24 17:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8c1445b68c5055e4e0b098e9ed3811777dc6c6b0', 'message': 'Enable /healthcheck for Octavia API\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}, {'number': 4, 'created': '2022-11-25 16:32:43.000000000', 'files': ['templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b08e95a972e24beb135b80a3f9bd711a3b49b8ca', 'message': 'Enable /healthcheck for Octavia API\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}]",1,864419,b08e95a972e24beb135b80a3f9bd711a3b49b8ca,16,3,4,28619,,,0,"Enable /healthcheck for Octavia API

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553
Change-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/19/864419/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/octavia.conf.j2'],1,61cda3ffa164e14c881bfac131af4f9d4312fc2e,osa/healthcheck,healthcheck_enabled = True,,1,0
openstack%2Fironic~864467,openstack/ironic,stable/yoga,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,MERGED,2022-11-15 03:16:39.000000000,2022-12-01 15:06:30.000000000,2022-12-01 15:05:12.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-15 03:16:39.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f4fabf88a72a9c489c45962592fbc04a50b07d0', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)\n'}]",0,864467,1f4fabf88a72a9c489c45962592fbc04a50b07d0,11,3,1,28806,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/864467/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,1f4fabf88a72a9c489c45962592fbc04a50b07d0,backport-capa-yoga," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",40,12
openstack%2Fopenstack-ansible-os_designate~865701,openstack/openstack-ansible-os_designate,master,I3b3aaf48f990e229ba5ca3ec5127780fa70228d0,Fix race condition during designate setup,MERGED,2022-11-25 17:20:15.000000000,2022-12-01 14:57:48.000000000,2022-12-01 14:56:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-25 17:20:15.000000000', 'files': ['tasks/main.yml', 'tasks/designate_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/aab80f8524fd2c67fdc3a1b016b66a44a15fa718', 'message': ""Fix race condition during designate setup\n\nRight now when designate is being installed for the first time, role\ntries to run pool update before database is being populated. That\nhappens due to flushing handlers early as db sync requires service\nto run with relevant config. This regression has been implemented\nwith [1].\n\nTo resolve it we move copy of pools.yaml after handlers are flushed\nfirst time and after db sync process.\nWe also move service_setup before first flush as otherwise service\nwon't be able to start properly anyway.\n\nThere's no need to copy pools.yaml to each designate container and run\npool update multiple times - it's enough to do that once.\n\n[1] https://opendev.org/openstack/openstack-ansible-os_designate/commit/87eb5d46cd6a3266e6c459263829ee77260feffd\n\nChange-Id: I3b3aaf48f990e229ba5ca3ec5127780fa70228d0\n""}]",1,865701,aab80f8524fd2c67fdc3a1b016b66a44a15fa718,11,4,1,28619,,,0,"Fix race condition during designate setup

Right now when designate is being installed for the first time, role
tries to run pool update before database is being populated. That
happens due to flushing handlers early as db sync requires service
to run with relevant config. This regression has been implemented
with [1].

To resolve it we move copy of pools.yaml after handlers are flushed
first time and after db sync process.
We also move service_setup before first flush as otherwise service
won't be able to start properly anyway.

There's no need to copy pools.yaml to each designate container and run
pool update multiple times - it's enough to do that once.

[1] https://opendev.org/openstack/openstack-ansible-os_designate/commit/87eb5d46cd6a3266e6c459263829ee77260feffd

Change-Id: I3b3aaf48f990e229ba5ca3ec5127780fa70228d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/01/865701/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/designate_post_install.yml', 'handlers/main.yml']",3,aab80f8524fd2c67fdc3a1b016b66a44a15fa718,,, notify: Restart designate services,39,35
openstack%2Fopenstack-ansible-os_octavia~857654,openstack/openstack-ansible-os_octavia,master,I7f719b3fbd7e89ce96b84c9080049888aeda7ee6,Remove redundant vars line,MERGED,2022-09-14 12:12:36.000000000,2022-12-01 14:55:55.000000000,2022-12-01 14:54:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-09-14 12:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/03e68a75061f708b82b9c2d1e6e196e9aca487ad', 'message': 'Remove redundant vars line\n\nThis line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275\nprobably to bring it in line with other OSA roles, but should already\nbe covered by the distribution_major_version line above.\n\nChange-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6\n'}, {'number': 2, 'created': '2022-11-24 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5fb21062488331bacf30d2cb0b225c5bd4f1cd1f', 'message': 'Remove redundant vars line\n\nThis line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275\nprobably to bring it in line with other OSA roles, but should already\nbe covered by the distribution_major_version line above.\n\nChange-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6\n'}, {'number': 3, 'created': '2022-11-25 16:32:35.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2aed05ce6c4301212ee9a138f38e41874c1ae4e3', 'message': 'Remove redundant vars line\n\nThis line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275\nprobably to bring it in line with other OSA roles, but should already\nbe covered by the distribution_major_version line above.\n\nChange-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6\n'}]",7,857654,2aed05ce6c4301212ee9a138f38e41874c1ae4e3,20,4,3,25600,,,0,"Remove redundant vars line

This line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275
probably to bring it in line with other OSA roles, but should already
be covered by the distribution_major_version line above.

Change-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/54/857654/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,03e68a75061f708b82b9c2d1e6e196e9aca487ad,,," - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml""",0,1
openstack%2Ftripleo-ansible~866148,openstack/tripleo-ansible,master,I0df080c739d44bf00905e081ac193dcba7b6c6ed,New tripleo_nova role,ABANDONED,2022-11-30 12:26:58.000000000,2022-12-01 14:48:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 12:26:58.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova/meta/main.yml', 'doc/source/roles/role-tripleo_nova.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova/tasks/metadata_httpd.yaml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova/tasks/api_httpd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab5d3fd3a733fa89b5221cb0166729332551bd8d', 'message': 'New tripleo_nova role\n\nAllow to configure both nova_api and nova_metadata vhosts using the new\ntripleo_httpd_vhost role.\n\nIt will use parameters provided through tripleo-heat-templates in order\nto configure both httpd service, and the actual vhost.\n\nChange-Id: I0df080c739d44bf00905e081ac193dcba7b6c6ed\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,866148,ab5d3fd3a733fa89b5221cb0166729332551bd8d,5,2,1,6926,,,0,"New tripleo_nova role

Allow to configure both nova_api and nova_metadata vhosts using the new
tripleo_httpd_vhost role.

It will use parameters provided through tripleo-heat-templates in order
to configure both httpd service, and the actual vhost.

Change-Id: I0df080c739d44bf00905e081ac193dcba7b6c6ed
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/866148/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova/meta/main.yml', 'doc/source/roles/role-tripleo_nova.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova/tasks/metadata_httpd.yaml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova/tasks/api_httpd.yaml']",9,ab5d3fd3a733fa89b5221cb0166729332551bd8d,standalone/apache,"--- - name: Ensure required params are set fail: msg: ""{{ item.k }} must be set to an actual value"" when: item.v == None loop: - k: ""tripleo_nova_api_httpd_config_httpd_conf"" v: ""{{ tripleo_nova_api_httpd_config_httpd_conf }}"" - k: ""tripleo_nova_api_httpd_config_prefork_serverlimit"" v: ""{{ tripleo_nova_api_httpd_config_prefork_serverlimit }}"" - k: ""tripleo_nova_api_httpd_config_prefork_maxrequestworkers"" v: ""{{ tripleo_nova_api_httpd_config_prefork_maxrequestworkers }}"" - k: ""tripleo_nova_api_httpd_config_mods"" v: ""{{ tripleo_nova_api_httpd_config_mods }}"" - name: Create httpd config and vhost vars: tripleo_httpd_config_httpd_conf: ""{{ tripleo_nova_api_httpd_config_httpd_conf }}"" tripleo_httpd_config_prefork_serverlimit: ""{{ tripleo_nova_api_httpd_config_prefork_serverlimit }}"" tripleo_httpd_config_prefork_maxrequestworkers: ""{{ tripleo_nova_api_httpd_config_prefork_maxrequestworkers }}"" tripleo_httpd_config_mods: ""{{ tripleo_nova_api_httpd_config_mods }}"" tripleo_httpd_vhost_ssl_ca: ""{{ tripleo_nova_api_httpd_vhost_ssl_ca }}"" # Fixed params tripleo_httpd_vhost_user: 'nova' tripleo_httpd_vhost_service_name: 'nova_api' tripleo_httpd_vhost_group: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_access_log_format: 'forwarded' tripleo_httpd_vhost_access_log_name: 'nova_wsgi' tripleo_httpd_vhost_document_root: '/var/www/cgi-bin/nova' tripleo_httpd_vhost_wsgi_process_group: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_wsgi_daemon_process: nova: 'display-name': 'nova_wsgi' group: ""{{ tripleo_httpd_vhost_user }}"" processes: 6 threads: 15 user: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_wsgi: true tripleo_httpd_vhost_wsgi_script_alias: '/': '/var/www/cgi-bin/nova/app' import_role: name: tripleo_httpd_vhost ",,246,0
openstack%2Fkolla-ansible~856610,openstack/kolla-ansible,master,Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895,Replace ElasticSearch and Kibana with OpenSearch,MERGED,2022-09-09 09:02:50.000000000,2022-12-01 14:41:19.000000000,2022-12-01 14:38:51.000000000,"[{'_account_id': 782}, {'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-09-09 09:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/827f2fd0997632badeec6afb7c15c55d22e6d15e', 'message': 'veryWIP: Add Opensearch support\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 2, 'created': '2022-09-09 13:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6f4a6a3e067ac5405d68354b11eed61b3470842', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 3, 'created': '2022-09-12 09:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/242f4bb022ebb12ba8dfb2b6c636ad1b2c87b773', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 4, 'created': '2022-09-12 11:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aaeddf638d74f22987b9dd8310c61c4b7f634125', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 5, 'created': '2022-09-12 12:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbb4c896b8bf79e9e4d4ca614d81d95bcfe6db99', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 6, 'created': '2022-09-12 13:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea53e5ef3bba0f68574a40f47c1d40c6b0d6ff4e', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 7, 'created': '2022-09-12 13:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4e31e4f88f6b99d8b9820953cb9f5676e86ad87', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 8, 'created': '2022-09-12 15:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b431a9cfa537b1a4ecff04c3a9bf8187c10b76c5', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 9, 'created': '2022-09-13 05:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/911bcac3880d6d40fca596547fb89e72ea541c15', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 10, 'created': '2022-09-13 10:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42c48b63ba00cf338054cce998b27dea87cd89aa', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 11, 'created': '2022-09-13 11:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b859955c3695ad454ba85cbb859a0a22e9fd7d3', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 12, 'created': '2022-09-13 13:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d2c452b07cae466e2aaa883e00768bbd7f38cf2', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 13, 'created': '2022-09-14 08:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bd03c585a2781be71c8f09f6a1f033d7c779654', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 14, 'created': '2022-09-14 08:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/254eff21e25d315ac90f85d7b9dd19c61f047b4f', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 15, 'created': '2022-09-14 10:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d43a819884b9dcd9833e352828c6418d214f2db2', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 16, 'created': '2022-09-15 12:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4c982876142255799e1dc8681c76089bab0ab3b', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 17, 'created': '2022-09-15 15:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39b3e9423b7341594b9537c56d150b83d52c18ec', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 18, 'created': '2022-09-15 17:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23a804bbd1b943e825b5706b5081952a32207147', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 19, 'created': '2022-09-16 06:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d22e19b09224c7153cf6e53ff6ab13b654002ee', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 20, 'created': '2022-09-16 08:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4be5aa1aba93b7eacfb11d2fa7e11d50a3dd9283', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 21, 'created': '2022-09-19 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b5fc15233d2546f6e520e9a94994bf29cc5087b', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 22, 'created': '2022-09-19 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63cec2d2c59c559307d6c47e3713e806533e0dc1', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 23, 'created': '2022-09-19 09:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2fa3c7be558cac83dbf699fa6575c2d5767b5dd', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 24, 'created': '2022-09-20 12:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65a70c1d5946c42447ec9694e351ce95eb48c4be', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 25, 'created': '2022-09-20 12:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/502aea6fc4ce085e2b9e757cf6f96c87946abd5d', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 26, 'created': '2022-09-20 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a9b7298a2a08de23c08b1049bd50a2f7f4c5289', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 27, 'created': '2022-09-22 12:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59d22329fe8576ebf35e45778d58be6409d4878c', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 28, 'created': '2022-09-22 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9d79631b9a2281a2eb2e62cdc27b61b42011a97', 'message': 'Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 29, 'created': '2022-10-07 12:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb78ade430a84eacd4df21f721f1ad1a529f4dd5', 'message': 'Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 30, 'created': '2022-10-14 16:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a03e7a8995d1faa7c3b98b627882ebe814b69ac', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 31, 'created': '2022-10-14 16:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa63c060c5c4feed649259018df23bc73fb4168f', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 32, 'created': '2022-10-21 08:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33888842b542243c1820acc455dfbcf04c87bc7f', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 33, 'created': '2022-10-21 15:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5960ff61f78745461945010dfb52ad65bb547b6', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 34, 'created': '2022-10-21 15:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c304640cfc689b61e2ab46846732e5c7e789c4e', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 35, 'created': '2022-10-28 16:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4a41f1adf44af672efc5d95b34068f8e2426dc4', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 36, 'created': '2022-10-28 16:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/702a169914040452c1ae5cfdf929c4e702fa4162', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 37, 'created': '2022-11-11 16:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/35201f7607582fc451deb0a566f512ba3d35b2e8', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 38, 'created': '2022-11-11 17:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/036ca25c0acd9c28d92eee5e4174361f06dc676a', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 39, 'created': '2022-11-11 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4353779f127a2ecd1699c5a368d10df5f09b0ae0', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 40, 'created': '2022-11-16 13:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d2f1740d6c197a3df4f38e2cf75a0217e6026af', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 41, 'created': '2022-11-16 13:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5d5709b426c35473ff045cb2983c353ee47d14f', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 42, 'created': '2022-11-16 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2598e543e8244b385c2756b1c15f2d0f498de09', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 43, 'created': '2022-11-16 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f91fa03e26cdf7b66d5c074e0650c0e2c3bb29a', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 44, 'created': '2022-11-16 17:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3aa2296bcaba511a6b247ce89aec9801f667c0a7', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 45, 'created': '2022-11-17 08:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79b1f1b500214bc9feca52b77eb33c9ad4246667', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 46, 'created': '2022-11-17 11:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/800e38c54824be3bb06fc2bc89c2af72ac723902', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 47, 'created': '2022-11-17 12:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1b779d220f6f445ff971a03a23dde45f7bb90ad', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 48, 'created': '2022-11-18 14:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7bd367c6913350b6de626d838b226a516d1afb61', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 49, 'created': '2022-11-24 12:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/209ba2d0df917e93e2acab211db01e7bf2ebfe58', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 50, 'created': '2022-11-24 15:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ef34957b42c408121037620c4cc2a9c93a5dfd5', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 51, 'created': '2022-11-24 16:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67d73c6bf5f7d903670a8fb28ff6891f1b1b0480', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 52, 'created': '2022-11-25 10:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0db9e8b6a40f3c1fd893e32d896a221af4b2bcb0', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 53, 'created': '2022-11-25 11:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/deeec865dd5574afe1b9af1823cb30dd59f1d438', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 54, 'created': '2022-11-25 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57365a4f2fadc5102544942c66a17c80d19e731b', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 55, 'created': '2022-11-25 14:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96b955c0d41c4a63abe0b44f52fa3ec2a30aec0b', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 56, 'created': '2022-11-25 15:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8296bb292cbe50436089f0afd119f7bce633b393', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 57, 'created': '2022-11-25 15:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5663823ce12c56648d88523793e716a585dd78e', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 58, 'created': '2022-11-30 14:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f44e4c5766bf6527da97be47584e4a163031bf7a', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 59, 'created': '2022-11-30 14:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01f2da60a57755186ce6d2cf5db1cc654b1e25cf', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 60, 'created': '2022-11-30 14:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7149f5cf4e3d822f3fe8837282df8e1c927ff064', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 61, 'created': '2022-12-01 10:27:51.000000000', 'files': ['ansible/roles/common/templates/cron-logrotate-elasticsearch.conf.j2', 'ansible/roles/opensearch/tasks/check-containers.yml', 'ansible/roles/opensearch/tasks/copy-certs.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'README.rst', 'ansible/roles/opensearch/tasks/deploy-containers.yml', 'ansible/site.yml', 'ansible/roles/opensearch/tasks/pull.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'ansible/roles/elasticsearch/tasks/register.yml', 'ansible/roles/elasticsearch/tasks/copy-certs.yml', 'ansible/roles/opensearch/tasks/upgrade.yml', 'doc/source/reference/logging-and-monitoring/central-logging-guide.rst', 'tests/test-prometheus-opensearch.sh', 'ansible/roles/opensearch/tasks/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/elasticsearch/tasks/loadbalancer.yml', 'etc/kolla/globals.yml', 'ansible/roles/opensearch/handlers/main.yml', 'ansible/roles/opensearch/tasks/config.yml', 'ansible/roles/opensearch/tasks/stop.yml', 'ansible/roles/common/templates/conf/output/03-opensearch.conf.j2', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2', 'tests/templates/globals-default.j2', 'ansible/roles/prometheus/templates/prometheus-elasticsearch-exporter.json.j2', 'ansible/roles/kibana/tasks/reconfigure.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/kibana/tasks/check.yml', 'ansible/roles/kibana/templates/kibana.json.j2', 'tests/test-prometheus-efk.sh', 'ansible/roles/kibana/tasks/check-containers.yml', 'ansible/roles/opensearch/tasks/precheck.yml', 'ansible/roles/kibana/tasks/pull.yml', 'ansible/roles/opensearch/tasks/check.yml', 'ansible/roles/kibana/tasks/precheck.yml', 'tests/templates/inventory.j2', 'ansible/roles/opensearch/tasks/reconfigure.yml', 'zuul.d/jobs.yaml', 'tests/test-venus.sh', 'ansible/inventory/multinode', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.yml.j2', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/elasticsearch/templates/elasticsearch.yml.j2', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2', 'ansible/roles/opensearch/tasks/loadbalancer.yml', 'ansible/roles/opensearch/vars/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/kibana/tasks/deploy-containers.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-kibana.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/kibana/tasks/upgrade.yml', 'ansible/roles/kibana/handlers/main.yml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/roles/destroy/tasks/cleanup_host.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/kibana/tasks/main.yml', 'ansible/roles/kibana/tasks/deploy.yml', 'ansible/roles/telegraf/templates/telegraf.conf.j2', 'etc/kolla/passwords.yml', 'tests/run.yml', 'tests/setup_gate.sh', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2', 'zuul.d/base.yaml', 'releasenotes/notes/add-opensearch-53ef174195acce45.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.json.j2', 'ansible/roles/common/templates/cron-logrotate-opensearch.conf.j2', 'ansible/roles/opensearch/templates/opensearch.yml.j2', 'ansible/roles/elasticsearch/templates/elasticsearch.json.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/opensearch/tasks/deploy.yml', 'ansible/roles/elasticsearch/tasks/stop.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/opensearch/defaults/main.yml', 'ansible/roles/opensearch/tasks/config-host.yml', 'zuul.d/project.yaml', 'ansible/roles/kibana/files/kibana-6-index.json', 'ansible/roles/venus/templates/venus.conf.j2', 'tools/cleanup-host', 'ansible/roles/opensearch/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1ec02eddf9bb33fd9e34c1e4c79b7791f6fd22c', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}]",130,856610,e1ec02eddf9bb33fd9e34c1e4c79b7791f6fd22c,213,7,61,22629,,,0,"Replace ElasticSearch and Kibana with OpenSearch

This change replaces ElasticSearch with OpenSearch, and Kibana
with OpenSearch Dashboards. It migrates the data from ElasticSearch
to OpenSearch upon upgrade.

No TLS support is in this patch (will be a followup).

A replacement for ElasticSearch Curator will be added as a followup.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/830373

Co-authored-by: Doug Szumski <doug@stackhpc.com>
Co-authored-by: Kyle Dean <kyle@stackhpc.com>
Change-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/856610/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/opensearch/tasks/check-containers.yml', 'ansible/roles/opensearch/tasks/copy-certs.yml', 'ansible/roles/opensearch/tasks/deploy-containers.yml', 'ansible/roles/opensearch/tasks/loadbalancer.yml', 'ansible/site.yml', 'ansible/roles/opensearch/tasks/pull.yml', 'ansible/roles/opensearch/vars/main.yml', 'ansible/roles/opensearch/tasks/upgrade.yml', 'ansible/inventory/all-in-one', 'ansible/roles/opensearch/tasks/main.yml', 'ansible/roles/opensearch/templates/opensearch-curator.crontab.j2', 'ansible/roles/opensearch/templates/opensearch-curator.yml.j2', 'ansible/roles/opensearch/handlers/main.yml', 'ansible/roles/opensearch/tasks/config.yml', 'ansible/roles/opensearch/tasks/stop.yml', 'ansible/roles/opensearch/templates/opensearch-curator-actions.yml.j2', 'ansible/roles/opensearch/templates/opensearch-curator.json.j2', 'ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/templates/opensearch.yml.j2', 'ansible/roles/opensearch/tasks/precheck.yml', 'ansible/roles/opensearch/tasks/deploy.yml', 'ansible/roles/opensearch/tasks/check.yml', 'ansible/roles/opensearch/defaults/main.yml', 'ansible/roles/opensearch/tasks/config-host.yml', 'ansible/roles/opensearch/tasks/reconfigure.yml', 'ansible/roles/opensearch/tasks/register.yml']",27,827f2fd0997632badeec6afb7c15c55d22e6d15e,opensearch_v3,"--- - import_role: name: service-ks-register vars: service_ks_register_auth: ""{{ opensearch_openstack_auth }}"" service_ks_register_services: ""{{ opensearch_ks_services }}"" tags: always ",,562,0
openstack%2Fcinder~860212,openstack/cinder,master,I62c3d41ef92e0d474f5315b5bb1186faa187d958,Toyou: Remove allocated_capacity_gb calculation,MERGED,2022-10-04 08:02:35.000000000,2022-12-01 14:35:11.000000000,2022-12-01 14:15:36.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 13671}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32029}, {'_account_id': 33473}]","[{'number': 1, 'created': '2022-10-04 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ce9570b799d925fafb722020059f055471383b8', 'message': 'update toyou drivers\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nThis value is reported by Cinder core.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}, {'number': 2, 'created': '2022-10-04 11:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78c914cd46bc924143ebfaf6fd389c7415ec3265', 'message': 'update toyou drivers\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nThis value is reported by Cinder core.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}, {'number': 3, 'created': '2022-10-06 07:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e760cca3e0aac886241d9c2c3ee34f53fc2e4a76', 'message': 'update toyou drivers\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nDrivers should not report this and let Cinder core take care \nof this value.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}, {'number': 4, 'created': '2022-10-07 10:51:07.000000000', 'files': ['cinder/volume/drivers/toyou/acs5000/acs5000_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6358aa167e2212b62f1250fcfb08e13da53bcb1d', 'message': 'Toyou: Remove allocated_capacity_gb calculation\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nDrivers should not report this and let Cinder core take care \nof this value.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}]",22,860212,6358aa167e2212b62f1250fcfb08e13da53bcb1d,111,13,4,30615,,,0,"Toyou: Remove allocated_capacity_gb calculation

toyou drivers are currently reporting allocated_capacity_gb.
Drivers should not report this and let Cinder core take care 
of this value.

Closes-Bug: #1991634
Change-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/860212/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/toyou/acs5000/acs5000_common.py'],1,4ce9570b799d925fafb722020059f055471383b8,,," 'allocated_capacity_gb': allocated_capacity_gb,",0,1
openstack%2Fironic-inspector~866337,openstack/ironic-inspector,bugfix/10.9,If8264a1b7a052db6378323ee14956f4b88f95ce5,Fix upper-constraints in unit tests,ABANDONED,2022-12-01 14:19:21.000000000,2022-12-01 14:25:14.000000000,,[],"[{'number': 1, 'created': '2022-12-01 14:19:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a0ef7fe747ad78d728ebedceb61faa1b14789ccc', 'message': 'Fix upper-constraints in unit tests\n\nUpper constraints for bugfix 10.9 should be based on yoga\n\nChange-Id: If8264a1b7a052db6378323ee14956f4b88f95ce5\n'}]",0,866337,a0ef7fe747ad78d728ebedceb61faa1b14789ccc,2,0,1,23851,,,0,"Fix upper-constraints in unit tests

Upper constraints for bugfix 10.9 should be based on yoga

Change-Id: If8264a1b7a052db6378323ee14956f4b88f95ce5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/37/866337/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0ef7fe747ad78d728ebedceb61faa1b14789ccc,uc-yoga, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fnova~855026,openstack/nova,stable/yoga,Ic717dc42ac6b6cace59d344acaf12f9d1ee35564,Add compute restart capability for libvirt func tests,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:18:10.000000000,2022-12-01 14:15:31.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebd5d2a0380d28cac5a16ac96268ea4fa085984f', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac71a5c02dc682033ffc5893bff6705866bb71f', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceccc1db72d5cb255ed4dadd86853c4bbc470eb0', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_device_bus_migration.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f98858aa77e4443164fc09fae3667fb0f66edfbf', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}]",3,855026,f98858aa77e4443164fc09fae3667fb0f66edfbf,22,3,4,11604,,,0,"Add compute restart capability for libvirt func tests

The existing generic restart_compute_service() call in the nova test
base class is not appropriate for the libvirt functional test that needs
to reconfigure the libvirt connection as it is not aware of the libvirt
specific mocking needed when a compute service is started.

So this patch adds a specific restart_compute_service() call
to nova.tests.functional.libvirt.base.ServersTestBase. This will be used
by a later patch testing [pci]device_spec reconfiguration scenarios.

This change showed that some of the existing libvirt functional test
used the incomplete restart_compute_service from the base class. Others
used local mocking to inject new pci config to the restart. I moved all
these to the new function and removed the local mocking.

Change-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564
(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/855026/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_device_bus_migration.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py']",7,ebd5d2a0380d28cac5a16ac96268ea4fa085984f,bug/1970467, self.hostname = self.start_compute( self.compute = self.computes[self.hostname] self.compute = self.restart_compute_service(self.hostname), hostname = self.start_compute( self.compute = self.computes[hostname] self.compute = self.restart_compute_service(self.compute),127,54
openstack%2Fnova~863903,openstack/nova,stable/victoria,Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,[compute] always set instance.host in post_livemigration,MERGED,2022-11-07 17:01:14.000000000,2022-12-01 14:17:27.000000000,2022-12-01 14:15:41.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 17:01:14.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac64bba8b7aba2fb358e00e970e88b32d26ef7e', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)\n(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)\n(cherry picked from commit 43c0e40d288960760a6eaad05cb9670e01ef40d0)\n'}]",3,863903,0ac64bba8b7aba2fb358e00e970e88b32d26ef7e,15,3,1,34860,,,0,"[compute] always set instance.host in post_livemigration

This change add a new _post_live_migration_update_host
function that wraps _post_live_migration and just ensures
that if we exit due to an exception instance.host is set
to the destination host.

when we are in _post_live_migration the guest has already
started running on the destination host and we cannot revert.
Sometimes admins or users will hard reboot the instance expecting
that to fix everything when the vm enters the error state after
the failed migrations. Previously this would end up recreating the
instance on the source node leading to possible data corruption if
the instance used shared storage.

Change-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153
Partial-Bug: #1628606
(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)
(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)
(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)
(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)
(cherry picked from commit 43c0e40d288960760a6eaad05cb9670e01ef40d0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/863903/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",3,0ac64bba8b7aba2fb358e00e970e88b32d26ef7e,bug/1628606," self.assertEqual(self.dest.host, server['OS-EXT-SRV-ATTR:host'])"," # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host'])",63,6
openstack%2Fnova~855023,openstack/nova,stable/yoga,Iad5e70b43a65c076134e1874cb8e75d1ba214fde,Record SRIOV PF MAC in the binding profile,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:17:05.000000000,2022-12-01 14:15:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56a17ada3f5b139ea485df7950539c06681af8c8', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cd7fbf64b81dff01e8e0716b029c29c85c6749a', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit 56a17ada3f5b139ea485df7950539c06681af8c8)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8aacbda97a16e04777fc0b36d725ab1617f4bf5', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nConflicts:\n    nova/objects/pci_device.py\n    nova/virt/libvirt/host.py\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/functional/libvirt/base.py', 'nova/compute/manager.py', 'releasenotes/notes/bug-1942329-22b08fa4b322881d.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/813377077bd0173bdf128823e46b5df7c0a575b9', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nConflicts:\n    nova/objects/pci_device.py\n    nova/virt/libvirt/host.py\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)\n'}]",5,855023,813377077bd0173bdf128823e46b5df7c0a575b9,27,4,4,11604,,,0,"Record SRIOV PF MAC in the binding profile

Today Nova updates the mac_address of a direct-physical port to reflect
the MAC address of the physical device the port is bound to. But this
can only be done before the port is bound. However during migration Nova
does not update the MAC when the port is bound to a different physical
device on the destination host.

This patch extends the libvirt virt driver to provide the MAC address of
the PF in the pci_info returned to the resource tracker. This
information will be then persisted in the extra_info field of the
PciDevice object.

Then the port update logic during migration, resize, live
migration, evacuation and unshelve is also extended to record the MAC of
physical device in the port binding profile according to the device on
the destination host.

The related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295
uses this info from the binding profile to update the mac_address field
of the port when the binding is activated.

Closes-Bug: #1942329

Conflicts:
    nova/objects/pci_device.py
    nova/virt/libvirt/host.py

Change-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde
(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/855023/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/functional/libvirt/base.py', 'nova/compute/manager.py', 'releasenotes/notes/bug-1942329-22b08fa4b322881d.yaml']",14,56a17ada3f5b139ea485df7950539c06681af8c8,bug/1970467,--- fixes: - | As a fix for `bug 1942329 <https://bugs.launchpad.net/neutron/+bug/1942329>`_ nova now updates the MAC address of the ``direct-physical`` ports during mova operations to reflect the MAC address of the physical device on the destination host. Those servers that were created before this fix need to be moved or the port needs to be detached and the re-attached to synchronize the MAC address. ,,807,102
openstack%2Fnova~855025,openstack/nova,stable/yoga,Ic1352ec31996577a5d0ad18a057339df3e49de25,Remove double mocking... again,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:15:25.000000000,2022-12-01 14:15:25.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e1bb81a2fa43fe51633571e3f8eb6eb3145b397', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nAlso this patch makes the py310 and functional-py310 jobs voting at\nleast in the check queue to prevent future changes adding double mocks.\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adcc99444c8e07b2dcacbbd3f68d88e7752d6f25', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nAlso this patch makes the py310 and functional-py310 jobs voting at\nleast in the check queue to prevent future changes adding double mocks.\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n(cherry picked from commit 6e1bb81a2fa43fe51633571e3f8eb6eb3145b397)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7db698898ca89f2d364f8ef0b9cf324d28363e7', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nAlso this patch makes the py310 and functional-py310 jobs voting at\nleast in the check queue to prevent future changes adding double mocks.\n\nConflicts:\n    .zuul.yaml\n    nova/tests/unit/virt/libvirt/test_host.py\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n(cherry picked from commit bf654e3a4a8f690ad0bec0955690bf4fadf98dba)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/functional/test_images.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/fixtures/nova.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/69667a817cb65c3efbe4e3ada0e8c69c0a106087', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nThis patch made the py310 and functional-py310 jobs voting  on master\nhowever that has been dropped as part of the backport.\n\nConflicts:\n    .zuul.yaml\n    nova/tests/unit/virt/libvirt/test_host.py\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n(cherry picked from commit bf654e3a4a8f690ad0bec0955690bf4fadf98dba)\n'}]",6,855025,69667a817cb65c3efbe4e3ada0e8c69c0a106087,22,3,4,11604,,,0,"Remove double mocking... again

I thought we fixed all the double mocking issues with
I3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.

While we used both mock and unittest.mock the fixtures.MockPatch
used the mock lib instead of the unittest.mock lib.
The path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)
removed the last user of mock lib from nova. So it is also
removed the mock from test-requirements. This triggered that
fixtures.MockPatch athat started using unittest.mock too.

Before Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked
twice once with unittest.mock and once with fixtures.MockPatch (still
using mock). However after that patch both path of such double
mocking goes through unittest.mock and the second one fails.

So this patch fixes double mocking so far hidden behind
fixtures.MockPatch.

This patch made the py310 and functional-py310 jobs voting  on master
however that has been dropped as part of the backport.

Conflicts:
    .zuul.yaml
    nova/tests/unit/virt/libvirt/test_host.py

Change-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25
(cherry picked from commit bf654e3a4a8f690ad0bec0955690bf4fadf98dba)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/855025/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/functional/test_images.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/fixtures/nova.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",23,6e1bb81a2fa43fe51633571e3f8eb6eb3145b397,bug/1970467, def _test(mock_resize):," @mock.patch.object(self.compute_api, 'get') def _test(mock_resize, mock_get):",160,198
openstack%2Fnova~855024,openstack/nova,stable/yoga,I3998d0d49583806ac1c3ae64f1b1fe343cefd20d,Remove double mocking,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:15:20.000000000,2022-12-01 14:15:20.000000000,"[{'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a302967dcc0b09da06baa6c90756492328afcf5', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93275465e4ee1f242562ea88c610ef386e66e673', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n(cherry picked from commit 1a302967dcc0b09da06baa6c90756492328afcf5)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a33304a913644ac8e9cb582efbc973e9151e9f32', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1781286.py\n    nova/tests/unit/api/openstack/compute/test_shelve.py\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n(cherry picked from commit f8cf050a1380ae844e0184ed45f4a04fde3b07a9)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/virt/libvirt/volume/test_lightos.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/libvirt/test_vtpm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b40bd1bf52c87c31e18caf85d79dd03da6c7cffc', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1781286.py\n    nova/tests/unit/api/openstack/compute/test_shelve.py\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n(cherry picked from commit f8cf050a1380ae844e0184ed45f4a04fde3b07a9)\n'}]",7,855024,b40bd1bf52c87c31e18caf85d79dd03da6c7cffc,22,2,4,11604,,,0,"Remove double mocking

In py310 unittest.mock does not allow to mock the same function twice as
the second mocking will fail to autospec the Mock object created by the
first mocking.

This patch manually fixes the double mocking.

Fixed cases:
1) one of the mock was totally unnecessary so it was removed
2) the second mock specialized the behavior of the first generic mock.
   In this case the second mock is replaced with the configuration of
   the first mock
3) a test case with two test steps mocked the same function for each
   step with overlapping mocks. Here the overlap was removed to have
   the two mock exists independently

The get_connection injection in the libvirt functional test needed a
further tweak (yeah I know it has many already) to act like a single
mock (basically case #2) instead of a temporary re-mocking. Still the
globalness of the get_connection mocking warrant the special set / reset
logic there.

Conflicts:
    nova/tests/functional/regressions/test_bug_1781286.py
    nova/tests/unit/api/openstack/compute/test_shelve.py

Change-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d
(cherry picked from commit f8cf050a1380ae844e0184ed45f4a04fde3b07a9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/855024/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/virt/libvirt/volume/test_lightos.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/libvirt/test_vtpm.py']",20,1a302967dcc0b09da06baa6c90756492328afcf5,bug/1970467, _p.start(), self.mock_conn = _p.start(),534,662
openstack%2Fneutron-dynamic-routing~863708,openstack/neutron-dynamic-routing,master,Ic6d48a86043aaf4b458bb2230883a355fc841ee9,Fix address_scope calculation,MERGED,2022-11-04 20:06:04.000000000,2022-12-01 13:19:19.000000000,2022-12-01 13:18:03.000000000,"[{'_account_id': 1131}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-04 20:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/de5f003dd2e8f2b6f39d4e81a37fa28ab8ef726d', 'message': 'Fix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs. Change-Id: I9a944c516d4f09e8d3fdf6d1ca7914504a693c28\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 2, 'created': '2022-11-07 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c084be6d296ef29afa881d1775570a42361e5649', 'message': 'Fix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs. Change-Id: I9a944c516d4f09e8d3fdf6d1ca7914504a693c28\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 3, 'created': '2022-11-07 13:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/db398fcdfcc138b9b2b8e94836483774977057fc', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs. Change-Id: I9a944c516d4f09e8d3fdf6d1ca7914504a693c28\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 4, 'created': '2022-11-07 13:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ab8af605a70356d34846d67bdab36162de9459b3', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs.\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 5, 'created': '2022-11-08 11:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/706f85f2b15b25d60744704c2d31ffe81590d2d0', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs.\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 6, 'created': '2022-11-30 10:59:36.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/feff164b608d00bf8163ea259305c3a64e68c1da', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet.\nA network can be linked to more than one subnet (ipv4 and ipv6),\nbut if one of them does not have an address_scope, a null object\nelement access failure occurs.\n\nCloses-bug: #1998104\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}]",22,863708,feff164b608d00bf8163ea259305c3a64e68c1da,25,4,6,35432,,,0,"Fix address_scope calculation

Fix in the iteration to obtain address_scope linked to a subnet.
A network can be linked to more than one subnet (ipv4 and ipv6),
but if one of them does not have an address_scope, a null object
element access failure occurs.

Closes-bug: #1998104
Change-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/08/863708/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/db/bgp_db.py'],1,de5f003dd2e8f2b6f39d4e81a37fa28ab8ef726d,," if ext_pool is not None: ext_scope_set = ext_net_subnetpool_map.get(ext_net_id, set()) ext_scope_set.add(ext_pool.address_scope_id) ext_net_subnetpool_map[ext_net_id] = ext_scope_set"," ext_scope_set = ext_net_subnetpool_map.get(ext_net_id, set()) ext_scope_set.add(ext_pool.address_scope_id) ext_net_subnetpool_map[ext_net_id] = ext_scope_set",4,3
openstack%2Fcharm-nova-compute~866186,openstack/charm-nova-compute,stable/train,Idc0602f95e5378be1243926aa88dc7b5282ee844,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-30 16:47:48.000000000,2022-12-01 13:03:20.000000000,2022-12-01 13:03:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 16:47:48.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4bf6c8dcfeb86d1034756f06159aaa89033d843e', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844\n(cherry picked from commit a3da54fb4156fa93ea89baefa47c2032edb9423e)\n'}]",1,866186,4bf6c8dcfeb86d1034756f06159aaa89033d843e,8,4,1,2424,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844
(cherry picked from commit a3da54fb4156fa93ea89baefa47c2032edb9423e)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/86/866186/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,4bf6c8dcfeb86d1034756f06159aaa89033d843e,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Ftripleo-upgrade~866331,openstack/tripleo-upgrade,stable/train,I34643f7519d93ca77a6f27b86dba71e65df09bac,Fail if we cannot rename nics on all nodes.,ABANDONED,2022-12-01 12:31:34.000000000,2022-12-01 13:02:40.000000000,,[],"[{'number': 1, 'created': '2022-12-01 12:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4b2a7036d20243d1486ada577c654ee45bf58eca', 'message': 'Fail if we cannot rename nics on all nodes.\n\nThere is no verification if all hosts are up and running. So this may\nscrew up env as\n\nTASK [Gathering Facts] *********************************************************\nok: [undercloud]\nfatal: [controller-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-2]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nok: [ceph-2]\n\nwhen it should be as\n\n2022-11-30 00:04:03 | TASK [Gathering Facts] *********************************************************\n2022-11-30 00:04:05 | ok: [computehci-0]\n2022-11-30 00:04:06 | ok: [controller-0]\n2022-11-30 00:04:06 | ok: [computehci-1]\n2022-11-30 00:04:06 | ok: [computehci-2]\n2022-11-30 00:04:06 | ok: [undercloud]\n2022-11-30 00:04:08 | ok: [controller-1]\n2022-11-30 00:04:08 | ok: [database-2]\n2022-11-30 00:04:08 | ok: [database-1]\n2022-11-30 00:04:08 | ok: [controller-2]\n2022-11-30 00:04:08 | ok: [database-0]\n2022-11-30 00:04:09 | ok: [messaging-2]\n2022-11-30 00:04:09 | ok: [messaging-0]\n2022-11-30 00:04:09 | ok: [messaging-1]\n2022-11-30 00:04:09 | ok: [networker-1]\n2022-11-30 00:04:10 | ok: [networker-0]\n\nIt doesn\'t make any sense to rename nics on part of machines, leaving\nthe rest machines unchanged. This patch sets to fail ansible playbook if\nany error happened.\n\nChange-Id: I34643f7519d93ca77a6f27b86dba71e65df09bac\n'}, {'number': 2, 'created': '2022-12-01 12:59:12.000000000', 'files': ['files/rename-nics.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1406ed68798ae3a2e3212d8616a0656dda829eda', 'message': 'Fail if we cannot rename nics on all nodes.\n\nThere is no verification if all hosts are up and running. So this may\nscrew up env as\n\nTASK [Gathering Facts] *********************************************************\nok: [undercloud]\nfatal: [controller-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-2]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nok: [ceph-2]\n\nwhen it should be as\n\n2022-11-30 00:04:03 | TASK [Gathering Facts] *********************************************************\n2022-11-30 00:04:05 | ok: [computehci-0]\n2022-11-30 00:04:06 | ok: [controller-0]\n2022-11-30 00:04:06 | ok: [computehci-1]\n2022-11-30 00:04:06 | ok: [computehci-2]\n2022-11-30 00:04:06 | ok: [undercloud]\n2022-11-30 00:04:08 | ok: [controller-1]\n2022-11-30 00:04:08 | ok: [database-2]\n2022-11-30 00:04:08 | ok: [database-1]\n2022-11-30 00:04:08 | ok: [controller-2]\n2022-11-30 00:04:08 | ok: [database-0]\n2022-11-30 00:04:09 | ok: [messaging-2]\n2022-11-30 00:04:09 | ok: [messaging-0]\n2022-11-30 00:04:09 | ok: [messaging-1]\n2022-11-30 00:04:09 | ok: [networker-1]\n2022-11-30 00:04:10 | ok: [networker-0]\n\nIt doesn\'t make any sense to rename nics on part of machines, leaving\nthe rest machines unchanged. This patch sets to fail ansible playbook if\nany error happened.\n\nChange-Id: I34643f7519d93ca77a6f27b86dba71e65df09bac\n'}]",1,866331,1406ed68798ae3a2e3212d8616a0656dda829eda,5,0,2,11090,,,0,"Fail if we cannot rename nics on all nodes.

There is no verification if all hosts are up and running. So this may
screw up env as

TASK [Gathering Facts] *********************************************************
ok: [undercloud]
fatal: [controller-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [controller-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [controller-2]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [compute-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [ceph-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [ceph-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
ok: [ceph-2]

when it should be as

2022-11-30 00:04:03 | TASK [Gathering Facts] *********************************************************
2022-11-30 00:04:05 | ok: [computehci-0]
2022-11-30 00:04:06 | ok: [controller-0]
2022-11-30 00:04:06 | ok: [computehci-1]
2022-11-30 00:04:06 | ok: [computehci-2]
2022-11-30 00:04:06 | ok: [undercloud]
2022-11-30 00:04:08 | ok: [controller-1]
2022-11-30 00:04:08 | ok: [database-2]
2022-11-30 00:04:08 | ok: [database-1]
2022-11-30 00:04:08 | ok: [controller-2]
2022-11-30 00:04:08 | ok: [database-0]
2022-11-30 00:04:09 | ok: [messaging-2]
2022-11-30 00:04:09 | ok: [messaging-0]
2022-11-30 00:04:09 | ok: [messaging-1]
2022-11-30 00:04:09 | ok: [networker-1]
2022-11-30 00:04:10 | ok: [networker-0]

It doesn't make any sense to rename nics on part of machines, leaving
the rest machines unchanged. This patch sets to fail ansible playbook if
any error happened.

Change-Id: I34643f7519d93ca77a6f27b86dba71e65df09bac
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/31/866331/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rename-nics.yaml'],1,4b2a7036d20243d1486ada577c654ee45bf58eca,set_error_to_any_on_nic_rename, any_errors_fatal: true,,1,0
openstack%2Fproject-config~866243,openstack/project-config,master,Ia83a0a4cd7b0a933639f825c20775cef312416cc,Normalize projects.yaml,MERGED,2022-12-01 02:22:50.000000000,2022-12-01 13:02:20.000000000,2022-12-01 12:54:41.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 02:22:50.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e92af53c10a811f4370cdae7436f0a5354683d7c', 'message': 'Normalize projects.yaml\n\nChange-Id: Ia83a0a4cd7b0a933639f825c20775cef312416cc\n'}]",0,866243,e92af53c10a811f4370cdae7436f0a5354683d7c,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ia83a0a4cd7b0a933639f825c20775cef312416cc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/866243/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e92af53c10a811f4370cdae7436f0a5354683d7c,project-yaml-normalization,, upstream: https://github.com/nikolayvinogradov/charm-cinder-infinidat.git upstream: https://github.com/nikolayvinogradov/charm-infinidat-tools.git upstream: https://github.com/nikolayvinogradov/charm-manila-infinidat.git upstream: https://github.com/jrosser/openstack-ansible-os_skyline,0,4
openstack%2Fkeystoneauth~845585,openstack/keystoneauth,master,I56255f3c03969e5b590ed04eb44b0f03a13d3263,Replace python-dev with python3-dev in bindep,ABANDONED,2022-06-13 12:18:09.000000000,2022-12-01 12:58:11.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 12:18:09.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e6a62d370b35d6a8944450a8ad5c04932d32a78d', 'message': 'Replace python-dev with python3-dev in bindep\n\nKeystoneauth dropped support for Python2 long ago,\nand python2 is not even available on some newer platforms,\nbreaking installation of keystoneauth dependencies.\n\nChange-Id: I56255f3c03969e5b590ed04eb44b0f03a13d3263\n'}]",0,845585,e6a62d370b35d6a8944450a8ad5c04932d32a78d,4,2,1,9542,,,0,"Replace python-dev with python3-dev in bindep

Keystoneauth dropped support for Python2 long ago,
and python2 is not even available on some newer platforms,
breaking installation of keystoneauth dependencies.

Change-Id: I56255f3c03969e5b590ed04eb44b0f03a13d3263
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/85/845585/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e6a62d370b35d6a8944450a8ad5c04932d32a78d,bindep-no-py2,python3-dev [platform:dpkg test],python-dev [platform:dpkg test],1,1
openstack%2Fcharm-cinder-lvm~858792,openstack/charm-cinder-lvm,master,I054a4fac14a2ae1c90ddbfcd380462f56d31407e,DNM: Testing CI,ABANDONED,2022-09-21 18:15:08.000000000,2022-12-01 12:42:32.000000000,,"[{'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/298495fb40cc74e95ebc92c2490308d0672ac5ce', 'message': 'DNM: Testing CI\n\nChange-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e\n'}, {'number': 2, 'created': '2022-09-21 18:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/ab3ae11d85c756de7ed0a50fc82ce2a0698d98ba', 'message': 'DNM: Testing CI\n\nChange-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e\n'}, {'number': 3, 'created': '2022-10-03 19:02:37.000000000', 'files': ['src/reactive/cinder_lvm_handlers.py', 'src/lib/charm/openstack/cinder_lvm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/8e132ee0f586fcf7c904e9a618660956264cc71a', 'message': 'DNM: Testing CI\n\nChange-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e\n'}]",1,858792,8e132ee0f586fcf7c904e9a618660956264cc71a,12,3,3,10058,,,0,"DNM: Testing CI

Change-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/92/858792/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/cinder_lvm_handlers.py', 'src/lib/charm/openstack/cinder_lvm.py']",2,298495fb40cc74e95ebc92c2490308d0672ac5ce,,# Checking CI job,,3,1
openstack%2Fkolla-ansible~857782,openstack/kolla-ansible,master,I96372d7aa3b3814b75fafebfbad69920c79a29c3,"Revert ""Add clouds.yaml file and use it""",ABANDONED,2022-09-15 11:38:39.000000000,2022-12-01 12:29:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-09-15 11:38:39.000000000', 'files': ['ansible/roles/common/templates/clouds.yaml.j2', 'ansible/post-deploy.yml', 'doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a83698d71c496bd3f3988c2b9edbfe7164cbbe1', 'message': 'Revert ""Add clouds.yaml file and use it""\n\nThis reverts commit 73a1812c5856be635827b6c6de81b39c22346457.\n\nReason for revert: Need to address post-merge comments in original\npatch.\n\nChange-Id: I96372d7aa3b3814b75fafebfbad69920c79a29c3\n'}]",8,857782,0a83698d71c496bd3f3988c2b9edbfe7164cbbe1,20,4,1,14826,,,0,"Revert ""Add clouds.yaml file and use it""

This reverts commit 73a1812c5856be635827b6c6de81b39c22346457.

Reason for revert: Need to address post-merge comments in original
patch.

Change-Id: I96372d7aa3b3814b75fafebfbad69920c79a29c3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/857782/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/clouds.yaml.j2', 'ansible/post-deploy.yml', 'doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/init-runonce']",5,0a83698d71c496bd3f3988c2b9edbfe7164cbbe1,bp/use-clouds-yaml,"# Test for credentials set if [[ ""${OS_USERNAME}"" == """" ]]; then echo ""No Keystone credentials specified. Try running source /etc/kolla/admin-openrc.sh command"" exitopenstack server create \\","# Test for clouds.yaml if [[ ! -f /etc/openstack/clouds.yaml ]]; then echo ""/etc/openstack/clouds.yaml is missing."" echo "" Did your deploy finish successfully?"" exit 1# Select admin account from clouds.yaml export OS_CLOUD=kolla-admin openstack --os-cloud=kolla-admin server create \\",10,59
openstack%2Fvalidations-common~865657,openstack/validations-common,stable/1.6,I5a24078e52c3842451a6054b8e1f1bb292bde0e6,[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs,MERGED,2022-11-25 10:05:48.000000000,2022-12-01 11:54:23.000000000,2022-12-01 11:53:20.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-25 10:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/87a472aedd965fbc7170927dd447b856c7836e0b', 'message': '[stable/1.6 only] ubuntu bionic nodeset for the linters\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 2, 'created': '2022-11-25 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ede78ed86b1302456c6c4f3deab15c2896e19389', 'message': '[stable/1.6 only] ubuntu bionic nodeset for the linters\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 3, 'created': '2022-11-25 10:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2c86ab8c3345fdca7a2c17a5e2a617f8fa1755a1', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linters\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 4, 'created': '2022-11-25 10:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9b761c2ba28b2e31c66e595844ef251bb4c0ea6d', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 5, 'created': '2022-11-28 09:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cbde284546ca2da739468f39c9ce3b4e9d7f3468', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 6, 'created': '2022-11-28 09:09:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2b59b4b40b9551cf915bebf96f59b1dbe8e3e278', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}]",1,865657,2b59b4b40b9551cf915bebf96f59b1dbe8e3e278,22,3,6,32926,,,0,"[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/57/865657/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87a472aedd965fbc7170927dd447b856c7836e0b,ubuntu-focal,- job: name: openstack-tox-linters-ubuntu-bionic nodeset: ubuntu-bionic parent: openstack-tox-linters - openstack-tox-linters-ubuntu-bionic: &tox_override_checkout - openstack-tox-linters-ubuntu-bionic - openstack-tox-linters-ubuntu-bionic: *tox_override_checkout - openstack-tox-linters-ubuntu-bionic, - openstack-tox-linters: &tox_override_checkout - openstack-tox-linters - openstack-tox-linters: *tox_override_checkout - openstack-tox-linters,9,4
openstack%2Fvalidations-libs~865806,openstack/validations-libs,stable/1.6,Ibfb637369023465ea7c0b270b3d298e476148de7,[stable only] Rename linters and cover jobs with validations-libs prefix,MERGED,2022-11-28 09:17:06.000000000,2022-12-01 11:42:49.000000000,2022-12-01 11:41:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-11-28 09:17:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5f30e608c9e0c981a0cde4aebefad2843a434bda', 'message': '[stable only] Rename linters and cover jobs with validations-libs prefix\n\nChange-Id: Ibfb637369023465ea7c0b270b3d298e476148de7\n'}]",0,865806,5f30e608c9e0c981a0cde4aebefad2843a434bda,9,4,1,16515,,,0,"[stable only] Rename linters and cover jobs with validations-libs prefix

Change-Id: Ibfb637369023465ea7c0b270b3d298e476148de7
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/06/865806/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5f30e608c9e0c981a0cde4aebefad2843a434bda,linter/jobs, name: validations-libs-openstack-tox-linters-ubuntu-focal name: validations-libs-openstack-tox-cover-ubuntu-focal - validations-libs-openstack-tox-linters-ubuntu-focal: &tox_override_checkout - validations-libs-openstack-tox-cover-ubuntu-focal: *tox_override_checkout - validations-libs-openstack-tox-linters-ubuntu-focal - validations-libs-openstack-tox-cover-ubuntu-focal - validations-libs-openstack-tox-linters-ubuntu-focal: *tox_override_checkout - validations-libs-openstack-tox-linters-ubuntu-focal, name: openstack-tox-linters-ubuntu-focal name: openstack-tox-cover-ubuntu-focal - openstack-tox-linters-ubuntu-focal: &tox_override_checkout - openstack-tox-cover-ubuntu-focal: *tox_override_checkout - openstack-tox-linters-ubuntu-focal - openstack-tox-cover-ubuntu-focal - openstack-tox-linters-ubuntu-focal: *tox_override_checkout - openstack-tox-linters-ubuntu-focal,8,8
openstack%2Ftripleo-heat-templates~853658,openstack/tripleo-heat-templates,master,I7df97fde05388dae45caeff0bfe2e17e47beea62,Configure OVN DB connections by ansible,MERGED,2022-08-18 13:39:36.000000000,2022-12-01 11:41:32.000000000,2022-12-01 11:41:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-08-18 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc6b73f8a0f1c71f1198909ae40ed2e4b008897e', 'message': 'Configure OVN DB connections by ansible\n\n... instead of containers, so that we can use ansible vars instead of\nhieradata to look up IPs.\n\nChange-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62\n'}, {'number': 2, 'created': '2022-08-19 05:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d50db52062d37acb50bb3f6b18f2c14e68e6acb4', 'message': 'Configure OVN DB connections by ansible\n\n... instead of containers, so that we can use ansible vars instead of\nhieradata to look up IPs.\n\nChange-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62\n'}, {'number': 3, 'created': '2022-08-25 03:42:47.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/845c4625fd7482ac88b4305ae0a455b2cd954a5d', 'message': 'Configure OVN DB connections by ansible\n\n... instead of containers, so that we can use ansible vars instead of\nhieradata to look up IPs.\n\nChange-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62\n'}]",7,853658,845c4625fd7482ac88b4305ae0a455b2cd954a5d,23,7,3,9816,,,0,"Configure OVN DB connections by ansible

... instead of containers, so that we can use ansible vars instead of
hieradata to look up IPs.

Change-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/853658/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,dc6b73f8a0f1c71f1198909ae40ed2e4b008897e,tripleo-hiera-v5," config_settings: {} ansible_group_vars: tripleo_ovn_dbs_protocol: if: - {get_param: EnableInternalTLS} - 'pssl' - 'ptcp' tripleo_ovn_dbs_network: {get_param: [ServiceNetMap, OvnDbsNetwork]} tripleo_ovn_northbound_db_port: {get_param: OVNNorthboundServerPort} tripleo_ovn_southbound_db_port: {get_param: OVNSouthboundServerPort} step_3: step_4: ovn_northd: start_order: 0 deploy_steps_tasks: - name: Set up OVN DB connections when: - not container_healthcheck_disabled - step|int == 4 block: - name: Get OVN DB boostrap node set_fact: is_ovn_dbs_bootstrap_node: ""{{ovn_dbs_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}}"" - name: Get OVN DB ip set_fact: tripleo_ovn_dbs_ip: ""{{ lookup('vars', tripleo_ovn_dbs_network + '_ip') }}"" - name: Set OVN DB connections when: - is_ovn_dbs_bootstrap_node|bool - name: Set OVN Northbound DB connection shell: | podman exec ovn_north_db_server /bin/bash -c \ ovn-nbctl set-connection {{tripleo_ovn_dbs_protocol}}:{{tripleo_ovn_northbound_db_port}}:{{tripleo_ovn_dbs_ip}} - name: Set OVN Southbound DB connection shell: | podman exec ovn_south_db_server /bin/bash -c \ ovn-sbctl set-connection {{tripleo_ovn_dbs_protocol}}:{{tripleo_ovn_southbound_db_port}}:{{tripleo_ovn_dbs_ip}}"," config_settings: ovn::northbound::port: {get_param: OVNNorthboundServerPort} ovn::southbound::port: {get_param: OVNSouthboundServerPort} ovn::northd::dbs_listen_ip: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} step_4: configure_ovn_north_db_server: start_order: 1 action: exec user: root command: list_concat: - ['ovn_north_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - # TODO(tkajinam): Replace the hiera CLI - 'DBS_LISTEN_IP=`hiera $OVN_DB_NETWORK -c /etc/puppet/hiera.yaml`;' - '/usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$NB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$NB_DB_PORT:$DBS_LISTEN_IP' environment: OVN_DB_NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} NB_DB_PORT: {get_param: OVNNorthboundServerPort} configure_ovn_south_db_server: start_order: 1 action: exec user: root command: list_concat: - ['ovn_south_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - # TODO(tkajinam): Replace the hiera CLI - 'DBS_LISTEN_IP=`hiera $OVN_DB_NETWORK -c /etc/puppet/hiera.yaml`;' - '/usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$SB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$SB_DB_PORT:$DBS_LISTEN_IP' environment: OVN_DB_NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} SB_DB_PORT: {get_param: OVNSouthboundServerPort} ovn_northd: start_order: 2",36,51
openstack%2Ftripleo-ansible~864445,openstack/tripleo-ansible,stable/wallaby,Iccda95cde0e309af00ce6b918ab1acab68e548dd,Don't use meta:end_play after growvols check,MERGED,2022-11-14 21:36:09.000000000,2022-12-01 11:41:29.000000000,2022-12-01 11:41:29.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-14 21:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1caa13484e3a1e5c3cb4309cb7fd6adead93750', 'message': ""Don't use meta:end_play after growvols check\n\nAccording to the documentation, meta: end_play will apply to all\nhosts, which is fine if every host is deploying the same image.\nHowever if there is a mixture of overcloud-full and\novercloud-hardened-uefi-full the playbook won't run correctly on some\nhosts.\n\nThis change moves to a conditional block to run as expected on each\nhost.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html\n\nChange-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd\n(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)\n""}, {'number': 2, 'created': '2022-11-28 08:30:35.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4921a8fd6d5c07ea0cc116b442adfa6d3d40907d', 'message': ""Don't use meta:end_play after growvols check\n\nAccording to the documentation, meta: end_play will apply to all\nhosts, which is fine if every host is deploying the same image.\nHowever if there is a mixture of overcloud-full and\novercloud-hardened-uefi-full the playbook won't run correctly on some\nhosts.\n\nThis change moves to a conditional block to run as expected on each\nhost.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html\n\nChange-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd\n(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)\n(cherry picked from commit f5712ec1bcea9739092b698029e3e71ea0e72523)\n""}]",10,864445,4921a8fd6d5c07ea0cc116b442adfa6d3d40907d,26,4,2,4571,,,0,"Don't use meta:end_play after growvols check

According to the documentation, meta: end_play will apply to all
hosts, which is fine if every host is deploying the same image.
However if there is a mixture of overcloud-full and
overcloud-hardened-uefi-full the playbook won't run correctly on some
hosts.

This change moves to a conditional block to run as expected on each
host.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html

Change-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd
(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)
(cherry picked from commit f5712ec1bcea9739092b698029e3e71ea0e72523)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/864445/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,d1caa13484e3a1e5c3cb4309cb7fd6adead93750,growvols-check-stable/wallaby," - name: Run growvols block when: find_growvols.rc == 0 block: - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout"," - name: Stopping playbook when no growvols utility is found meta: end_play when: find_growvols.rc != 0 - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout",13,14
openstack%2Fnova~864169,openstack/nova,stable/train,I5540df6c7497956219c06cff6f15b51c2c8bc29d,"For evacuation, ignore if task_state is not None",MERGED,2022-11-10 08:22:40.000000000,2022-12-01 11:38:57.000000000,2022-12-01 11:37:41.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 08:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b066898389021a8684d16d77e304038d8bdf4549', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 2, 'created': '2022-11-10 08:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63476c283b0293ee723d2d8d23bd143ff334cf06', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 3, 'created': '2022-11-10 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5bbb9c92081d49013d9d88fdedcdb92954a255', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 4, 'created': '2022-11-10 10:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/978783923d38828c8cfd5f1cb94cdc266ee5ab0e', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 5, 'created': '2022-11-10 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c0a46dc9ad0399cbd101661068ac40fbe753afe', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 6, 'created': '2022-11-25 07:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b7eca6d8bec500bf1f716945773bf658d87878a', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 7, 'created': '2022-11-29 11:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c925c34c08da23a4c2e743607b40f2dbfb6874be', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 8, 'created': '2022-11-29 11:40:21.000000000', 'files': ['doc/source/admin/evacuate.rst', 'nova/tests/functional/regressions/test_bug_1978983.py', 'releasenotes/notes/ignore-instance-task-state-for-evacuation-e000f141d0153638.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/321573995596be145d3b091e341d7d66853436b8', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}]",3,864169,321573995596be145d3b091e341d7d66853436b8,23,4,8,34860,,,0,"For evacuation, ignore if task_state is not None

ignore instance task state and continue with vm evacutaion.

Closes-Bug: #1978983
Change-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d
(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)
(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)
(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)
(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)
(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)
(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/864169/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/evacuate.rst', 'nova/tests/functional/regressions/test_bug_1978983.py', 'releasenotes/notes/ignore-instance-task-state-for-evacuation-e000f141d0153638.yaml', 'nova/compute/api.py']",4,b066898389021a8684d16d77e304038d8bdf4549,bug/1978983," vm_states.ERROR], task_state=None) instance.save(expected_task_state=None)", vm_states.ERROR]) instance.save(expected_task_state=[None]),35,18
openstack%2Fopenstack-ansible-os_neutron~862403,openstack/openstack-ansible-os_neutron,master,If8ca3f2035ada97cff248ad49771eefab95c6c23,add ovn ssl config,MERGED,2022-10-21 19:50:49.000000000,2022-12-01 11:25:02.000000000,2022-12-01 11:23:56.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-21 19:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4a1f93cc89fb4a8ffc79babc4d3ad4a59f3929c8', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 2, 'created': '2022-10-28 15:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/abf1ee7219945eca6377edb0770d1bb420c9cabb', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 3, 'created': '2022-10-28 17:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6c28b77f300c34e1b480559bdc4a132f0b7ad87e', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 4, 'created': '2022-10-28 20:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/21aab4334bec7b7bdf1307ae214313af03bfcaa5', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 5, 'created': '2022-10-28 20:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4b28d9049f362d923ba3882718476ddccb929dbb', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 6, 'created': '2022-10-28 20:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4a3238080cfbfc4de24d05c48fa7014154cccd7a', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 7, 'created': '2022-10-31 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/106ef46c37308d38994836500858f9a441374eeb', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 8, 'created': '2022-11-02 18:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6cdd7faf917c7b56f63aa877f6cbb8ffc0f0e8bd', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 9, 'created': '2022-11-02 19:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2ab22d32ff30322576be41045667600c5c677ca8', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 10, 'created': '2022-11-03 14:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/497c59d6f06597fd158d47b483ba163c5e745fa5', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 11, 'created': '2022-11-03 19:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f352093f8cf7932c02de50e3b09edfcd80477a6d', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 12, 'created': '2022-11-04 11:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/200c4673f980f9584d29a5b197499cc8632d85c1', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 13, 'created': '2022-11-07 13:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1fc2d94c6c2cc2ed629d478d18a4d483cad90094', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 14, 'created': '2022-11-07 18:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d44e5020e5096afd64295ae790922ee7812af825', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 15, 'created': '2022-11-07 20:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c32c3b371b820dea3b7a100cd5c6ed9e423266d2', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 16, 'created': '2022-11-11 14:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8e6577b8c006dd1b0329fb298375406cf87ca0e2', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 17, 'created': '2022-11-11 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9c97f7cb89cb0f83af3c42fe58167a741d6e76d0', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 18, 'created': '2022-11-11 17:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/00ee560f0da539db322d75d9b2a34814b57fad9a', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 19, 'created': '2022-11-22 14:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/88d79ae94801a64e409db409b0bd69382134bdc0', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 20, 'created': '2022-11-29 21:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c559ed7ca2900bf1157e6fd02853292aeaedef05', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 21, 'created': '2022-11-30 09:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/49f2c21ac274e16e04ae39ef1ff0e7f5152b12f9', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 22, 'created': '2022-11-30 13:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1a340f5b67964ffbf7dd8dc60a2d2f554e898c45', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 23, 'created': '2022-11-30 16:04:17.000000000', 'files': ['tasks/main.yml', 'tasks/neutron_pre_install.yml', 'templates/ovn-controller-opts.j2', 'templates/plugins/ml2/ml2_conf.ini.j2', 'releasenotes/notes/ovn-ssl-e9cb73e0713cf8bc.yaml', 'templates/ovn-northd-opts.j2', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/providers/ovn_config.yml', 'defaults/main.yml', 'tasks/providers/ovn_cluster_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/556c5c67338adac519312dc401cfd0febfde32fd', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}]",11,862403,556c5c67338adac519312dc401cfd0febfde32fd,59,3,23,13095,,,0,"add ovn ssl config

Create ssl-certs for ovn deployment
ssl encryption is now enabled between neutron and ovn componants.

Change-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/03/862403/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/providers/setup_ovs_ovn.yml', 'templates/ovn-northd-opts.j2', 'handlers/main.yml', 'tasks/providers/ovn_config.yml', 'defaults/main.yml']",5,4a1f93cc89fb4a8ffc79babc4d3ad4a59f3929c8,osa/ovn,"neutron_ovn_ssl: True ovn_proto: ""{{ (neutron_ovn_ssl) | ternary('ssl','tcp') }}""neutron_ovn_nb_connection: ""{{ ovn_proto }}:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6641,'+ ovn_proto + ':') }}:6641"" neutron_ovn_sb_connection: ""{{ ovn_proto }}:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6642,' + ovn_proto + ':') }}:6642""neutron_ovn_system_user_name: root # Storage location for SSL certificate authority neutron_ovn_pki_dir: ""{{ openstack_pki_dir }}"" # Delegated host for operating the certificate authority neutron_ovn_pki_setup_host: ""{{ openstack_pki_setup_host | default('localhost') }}"" # The local address used for the neutron_ovn node neutron_ovn_node_address: ""{{ management_address | default('127.0.0.1') }}"" # neutron OVN server certificate neutron_ovn_pki_keys_path: ""{{ neutron_ovn_pki_dir ~ '/certs/private/' }}"" neutron_ovn_pki_certs_path: ""{{ neutron_ovn_pki_dir ~ '/certs/certs/' }}"" neutron_ovn_pki_intermediate_cert_name: ""{{ openstack_pki_service_intermediate_cert_name }}"" neutron_ovn_pki_intermediate_cert_path: ""{{ neutron_ovn_pki_dir ~ '/roots/' ~ neutron_ovn_pki_intermediate_cert_name ~ '/certs/' ~ neutron_ovn_pki_intermediate_cert_name ~ '.crt' }}"" neutron_ovn_pki_regen_cert: '' neutron_ovn_pki_certificates: - name: ""neutron_ovnnb_{{ ansible_facts['hostname'] }}"" provider: ownca cn: ""{{ ansible_facts['hostname'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ neutron_ovn_node_address }}"" signed_by: ""{{ neutron_ovn_pki_intermediate_cert_name }}"" - name: ""neutron_ovnsb_{{ ansible_facts['hostname'] }}"" provider: ownca cn: ""{{ ansible_facts['hostname'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ neutron_ovn_node_address }}"" signed_by: ""{{ neutron_ovn_pki_intermediate_cert_name }}"" # OVN destination files for SSL certificates neutron_ovnnb_ssl_cert: /etc/openvswitch/neutron_ovnnb.pem neutron_ovnnb_ssl_key: /etc/openvswitch/neutron_ovnnb.key neutron_ovnsb_ssl_cert: /etc/openvswitch/neutron_ovnsb.pem neutron_ovnsb_ssl_key: /etc/openvswitch/neutron_ovnsb.key # Installation details for SSL certificates neutron_ovn_pki_install_certificates: - src: ""{{ neutron_ovnnb_user_ssl_cert | default(neutron_ovn_pki_certs_path ~ 'neutron_ovnnb_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ neutron_ovnnb_ssl_cert }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0644"" - src: ""{{ neutron_ovnnb_user_ssl_key | default(neutron_ovn_pki_keys_path ~ 'neutron_ovnnb_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ neutron_ovnnb_ssl_key }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0600"" - src: ""{{ neutron_ovnsb_user_ssl_cert | default(neutron_ovn_pki_certs_path ~ 'neutron_ovnsb_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ neutron_ovnsb_ssl_cert }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0644"" - src: ""{{ neutron_ovnsb_user_ssl_key | default(neutron_ovn_pki_keys_path ~ 'neutron_ovnsb_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ neutron_ovnsb_ssl_key }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0600"" # Define user-provided SSL certificates in: # /etc/openstack_deploy/user_variables.yml #neutron_ovnnb_user_ssl_cert: <path to cert on ansible deployment host> #neutron_ovnnb_user_ssl_key: <path to cert on ansible deployment host> #neutron_ovnsb_user_ssl_cert: <path to cert on ansible deployment host> #neutron_ovnsb_user_ssl_key: <path to cert on ansible deployment host>","neutron_ovn_nb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6641,tcp:') }}:6641"" neutron_ovn_sb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6642,tcp:') }}:6642""",86,4
openstack%2Fglance-specs~854112,openstack/glance-specs,master,I8ce4d83a470eb5c87527db7ffacb9d0b2302b661,Add option region_name to s3 store,MERGED,2022-08-23 07:20:05.000000000,2022-12-01 11:19:18.000000000,2022-12-01 11:18:14.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 28627}]","[{'number': 1, 'created': '2022-08-23 07:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ff60f4345f8d5b253e4997fbe4ca5a45e2efa3d8', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 2, 'created': '2022-08-24 14:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/295dd1f731364e847c2268969d889e1f7239e349', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 3, 'created': '2022-08-24 15:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9635ab340b865c14bb10af6621ce5d9177eb2316', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 4, 'created': '2022-09-09 07:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c2c9359ac1c04d98e78dea27b2b96096e6374713', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 5, 'created': '2022-09-09 07:31:17.000000000', 'files': ['specs/2023.1/approved/index.rst', 'specs/2023.1/approved/glance_store/add-region_name-s3.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a74fe34a7dc23f1e8f57352221d2122a6a8b5e01', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}]",9,854112,a74fe34a7dc23f1e8f57352221d2122a6a8b5e01,26,9,5,11583,,,0,"Add option region_name to s3 store

The current s3 driver determine region_name from amazon endpoints, but
some operators are using an s3 compatible API which is not from amazon.
Adding a region_name paramater to the s3 store allow such operators to
use custom endpoints with custom regions.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/12/854112/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/untargeted/glance_store/add-region_name-s3.rst'],1,ff60f4345f8d5b253e4997fbe4ca5a45e2efa3d8,,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Spec Lite: Add region_name parameter to s3 store ================================================ :project: glance_store :problem: s3 store missing region_name parameter :solution: We need to add region_name parameter to s3 store :impacts: None :assignee: Arnaud Morin <arnaud.morin@ovhcloud.com> ,,19,0
openstack%2Fkolla~866230,openstack/kolla,stable/wallaby,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-30 22:56:08.000000000,2022-12-01 11:02:31.000000000,2022-12-01 11:01:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35536}]","[{'number': 1, 'created': '2022-11-30 22:56:08.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e8c92dfa1404a647587d948f6c73091005bfbc2a', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\nFixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)\n'}]",0,866230,e8c92dfa1404a647587d948f6c73091005bfbc2a,9,4,1,14200,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

Fixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/866230/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,e8c92dfa1404a647587d948f6c73091005bfbc2a,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Frpm-packaging~865553,openstack/rpm-packaging,stable/yoga,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:13:48.000000000,2022-12-01 10:57:09.000000000,2022-12-01 10:57:09.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:48.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9b6f76e7859c2cd6bf85a27b29693e2117f5fbd6', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865553,9b6f76e7859c2cd6bf85a27b29693e2117f5fbd6,6,2,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/865553/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,9b6f76e7859c2cd6bf85a27b29693e2117f5fbd6,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Fkolla~866229,openstack/kolla,stable/xena,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-30 22:55:25.000000000,2022-12-01 10:55:24.000000000,2022-12-01 10:54:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35536}]","[{'number': 1, 'created': '2022-11-30 22:55:25.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2b222ce035a5be5ec037314fc838025ae4fe5d30', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\nFixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)\n'}]",0,866229,2b222ce035a5be5ec037314fc838025ae4fe5d30,9,4,1,14200,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

Fixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/866229/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,2b222ce035a5be5ec037314fc838025ae4fe5d30,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Fkolla~866228,openstack/kolla,stable/yoga,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-30 22:54:40.000000000,2022-12-01 10:55:21.000000000,2022-12-01 10:54:21.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35536}]","[{'number': 1, 'created': '2022-11-30 22:54:40.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ba7df36182e709f154e8ec7a482464d054e99f6', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\nFixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)\n'}]",0,866228,6ba7df36182e709f154e8ec7a482464d054e99f6,9,4,1,14200,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

Fixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/866228/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,6ba7df36182e709f154e8ec7a482464d054e99f6,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Frpm-packaging~865554,openstack/rpm-packaging,stable/xena,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:14:03.000000000,2022-12-01 10:51:58.000000000,2022-12-01 10:51:58.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-24 13:14:03.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/65ea0eb4cfd9087ec28ae2ac3ef146a59f016f26', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865554,65ea0eb4cfd9087ec28ae2ac3ef146a59f016f26,7,3,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/865554/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,65ea0eb4cfd9087ec28ae2ac3ef146a59f016f26,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Frpm-packaging~865551,openstack/rpm-packaging,stable/zed,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:13:36.000000000,2022-12-01 10:51:57.000000000,2022-12-01 10:51:57.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:36.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ec8234627ea1229f93d1932efd634326bd66927e', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865551,ec8234627ea1229f93d1932efd634326bd66927e,6,2,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/865551/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,ec8234627ea1229f93d1932efd634326bd66927e,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Frpm-packaging~865660,openstack/rpm-packaging,master,I319e50858d50c38db5afedcd1b53d812865ef72f,[antelope] keystoneauth 5.1.0,MERGED,2022-11-25 10:12:08.000000000,2022-12-01 10:51:56.000000000,2022-12-01 10:51:56.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 10:12:08.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/20856f2a12bca771e95b2fda9c321f3a7b868cc6', 'message': '[antelope] keystoneauth 5.1.0\n\nChange-Id: I319e50858d50c38db5afedcd1b53d812865ef72f\n'}]",0,865660,20856f2a12bca771e95b2fda9c321f3a7b868cc6,7,3,1,28522,,,0,"[antelope] keystoneauth 5.1.0

Change-Id: I319e50858d50c38db5afedcd1b53d812865ef72f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/865660/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,20856f2a12bca771e95b2fda9c321f3a7b868cc6,antelope,{% set upstream_version = upstream_version('5.1.0') %},{% set upstream_version = upstream_version('5.0.0') %},1,1
openstack%2Frpm-packaging~866318,openstack/rpm-packaging,master,I27cdbb987442e486e3c325fc1f4aea04c6240199,python-heatclient: update to 3.1.0,MERGED,2022-12-01 10:32:52.000000000,2022-12-01 10:49:42.000000000,2022-12-01 10:49:42.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 10:32:52.000000000', 'files': ['openstack/python-heatclient/python-heatclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b2c5c515eec3272cda173251c1593050e32c6c60', 'message': 'python-heatclient: update to 3.1.0\n\nChange-Id: I27cdbb987442e486e3c325fc1f4aea04c6240199\n'}]",0,866318,b2c5c515eec3272cda173251c1593050e32c6c60,6,2,1,6593,,,0,"python-heatclient: update to 3.1.0

Change-Id: I27cdbb987442e486e3c325fc1f4aea04c6240199
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/866318/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-heatclient/python-heatclient.spec.j2'],1,b2c5c515eec3272cda173251c1593050e32c6c60,,{% set upstream_version = upstream_version('3.1.0') %},{% set upstream_version = upstream_version('2.5.1') %},1,1
openstack%2Frpm-packaging~865662,openstack/rpm-packaging,master,Ibf2bacab01d0e10c55a86bb0f7d16426df44374d,[antelope] python-octaviaclient 3.2.0,MERGED,2022-11-25 10:13:46.000000000,2022-12-01 10:48:55.000000000,2022-12-01 10:48:55.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 10:13:46.000000000', 'files': ['openstack/python-octaviaclient/python-octaviaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c92f97de724645203e8de20202a0323f5a137be6', 'message': '[antelope] python-octaviaclient 3.2.0\n\nChange-Id: Ibf2bacab01d0e10c55a86bb0f7d16426df44374d\n'}]",0,865662,c92f97de724645203e8de20202a0323f5a137be6,7,3,1,28522,,,0,"[antelope] python-octaviaclient 3.2.0

Change-Id: Ibf2bacab01d0e10c55a86bb0f7d16426df44374d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/865662/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-octaviaclient/python-octaviaclient.spec.j2'],1,c92f97de724645203e8de20202a0323f5a137be6,antelope,{% set upstream_version = upstream_version('3.2.0') %},{% set upstream_version = upstream_version('2.5.0') %},1,1
openstack%2Frpm-packaging~865679,openstack/rpm-packaging,master,Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5,[antelope] python-neutronclient 8.2.0,MERGED,2022-11-25 12:01:38.000000000,2022-12-01 10:48:14.000000000,2022-12-01 10:48:14.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 12:01:38.000000000', 'files': ['openstack/python-neutronclient/python-neutronclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09ae26bd9669d6154102c384b6c3caa77e899ae1', 'message': '[antelope] python-neutronclient 8.2.0\n\nChange-Id: Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5\n'}]",0,865679,09ae26bd9669d6154102c384b6c3caa77e899ae1,7,3,1,28522,,,0,"[antelope] python-neutronclient 8.2.0

Change-Id: Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/865679/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-neutronclient/python-neutronclient.spec.j2'],1,09ae26bd9669d6154102c384b6c3caa77e899ae1,antelope,{% set upstream_version = upstream_version('8.2.0') %},{% set upstream_version = upstream_version('7.8.0') %},1,1
openstack%2Frpm-packaging~865676,openstack/rpm-packaging,master,I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa,[antelope] neutron-lib 3.2.0,MERGED,2022-11-25 11:56:55.000000000,2022-12-01 10:45:06.000000000,2022-12-01 10:45:06.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:56:55.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ce0dd9f41291a19e44216720f8743eba4f1ce8cf', 'message': '[antelope] neutron-lib 3.2.0\n\nChange-Id: I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa\n'}]",0,865676,ce0dd9f41291a19e44216720f8743eba4f1ce8cf,7,3,1,28522,,,0,"[antelope] neutron-lib 3.2.0

Change-Id: I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/865676/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,ce0dd9f41291a19e44216720f8743eba4f1ce8cf,antelope,{% set upstream_version = upstream_version('3.2.0') %},{% set upstream_version = upstream_version('3.1.0') %},1,1
openstack%2Frpm-packaging~865681,openstack/rpm-packaging,master,I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633,[antelope] oslo.utils 6.1.0,MERGED,2022-11-25 12:08:03.000000000,2022-12-01 10:41:07.000000000,2022-12-01 10:41:07.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 12:08:03.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aae39b440d2b2ae0c4fd85e6c198db303e17af8a', 'message': '[antelope] oslo.utils 6.1.0\n\nChange-Id: I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633\n'}]",0,865681,aae39b440d2b2ae0c4fd85e6c198db303e17af8a,7,3,1,28522,,,0,"[antelope] oslo.utils 6.1.0

Change-Id: I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/865681/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,aae39b440d2b2ae0c4fd85e6c198db303e17af8a,antelope,{% set upstream_version = upstream_version('6.1.0') %},{% set upstream_version = upstream_version('6.0.1') %},1,1
openstack%2Fcharm-nova-compute~864907,openstack/charm-nova-compute,stable/ussuri,Id2db3a70b8d1287bda006f1bbc5442038f7070f1,AppArmor policy update for os-brick and iSCSI,MERGED,2022-11-17 15:03:27.000000000,2022-12-01 10:38:01.000000000,2022-12-01 10:38:01.000000000,"[{'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 15:03:27.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a847442a2c2de85a05752dc2de419d1ecadc1d4f', 'message': 'AppArmor policy update for os-brick and iSCSI\n\nIn iSCSI usecases including cinder-lvm, os-brick requires lock files\nsuch as:\n  - /run/lock/nova/os-brick-connect_volume\n  - /run/lock/nova/os-brick-connect_to_iscsi_portal-192.168.0.1\n\nand lsscsi requires following access to compose a rescan command such as\n""/sys/bus/scsi/drivers/sd/2:0:0:0/rescan"":\n  - /dev/\n  - /sys/bus/scsi/devices/\n\nCloses-Bug: #1979812\nRelated-Bug: #1939390\nChange-Id: Id2db3a70b8d1287bda006f1bbc5442038f7070f1\n(cherry picked from commit b5e658d04571a7c3019b5c5b711aca632989248c)\n'}]",0,864907,a847442a2c2de85a05752dc2de419d1ecadc1d4f,10,5,1,14567,,,0,"AppArmor policy update for os-brick and iSCSI

In iSCSI usecases including cinder-lvm, os-brick requires lock files
such as:
  - /run/lock/nova/os-brick-connect_volume
  - /run/lock/nova/os-brick-connect_to_iscsi_portal-192.168.0.1

and lsscsi requires following access to compose a rescan command such as
""/sys/bus/scsi/drivers/sd/2:0:0:0/rescan"":
  - /dev/
  - /sys/bus/scsi/devices/

Closes-Bug: #1979812
Related-Bug: #1939390
Change-Id: Id2db3a70b8d1287bda006f1bbc5442038f7070f1
(cherry picked from commit b5e658d04571a7c3019b5c5b711aca632989248c)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/07/864907/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,a847442a2c2de85a05752dc2de419d1ecadc1d4f,," /dev/ r, /run/lock/nova/* wk, /sys/bus/scsi/devices/ r,"," /run/lock/nova/nova-iptables wk,",3,1
openstack%2Frpm-packaging~865975,openstack/rpm-packaging,master,I4d673f1b165e375aa6c476be7e8aa2a2d6410173,[antelope] ovsdbapp 2.2.0,MERGED,2022-11-29 10:49:15.000000000,2022-12-01 10:31:54.000000000,2022-12-01 10:31:54.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:49:15.000000000', 'files': ['openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/baf01f665295e1e3a9e7536ab5e5bc8eac682df3', 'message': '[antelope] ovsdbapp 2.2.0\n\nChange-Id: I4d673f1b165e375aa6c476be7e8aa2a2d6410173\n'}]",0,865975,baf01f665295e1e3a9e7536ab5e5bc8eac682df3,7,3,1,28522,,,0,"[antelope] ovsdbapp 2.2.0

Change-Id: I4d673f1b165e375aa6c476be7e8aa2a2d6410173
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/865975/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ovsdbapp/ovsdbapp.spec.j2'],1,baf01f665295e1e3a9e7536ab5e5bc8eac682df3,antelope,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Fpuppet-nova~865229,openstack/puppet-nova,stable/wallaby,Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201,Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds,MERGED,2022-11-22 06:11:52.000000000,2022-12-01 10:30:10.000000000,2022-12-01 10:30:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 06:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/58b7ee1dba672c0670f914d060ec487ee3e900b2', 'message': 'Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds\n\nThe change bf1e6fd9c187af56911beb7797588b731efe7a04 introduced\nthe logic to handle the deprecated max_concurrent_builds parameter but\nthe logic only works when nova::compute::ironic is included BEFORE\nnova::compute. This is not always true and can break the existing\nusage.\n\nThis change ensures the deprecated parameter works regardless of\nthe order to include classes. One disadvantage of this change is that\nthe parameter is not longer cleared out by default, but users can still\nensure it is removed from nova.conf by setting $::os_service_default\nexplicitly.\n\nThe deprecated parameter was removed during stable/xena cycle so this\nis submitted as a wallaby-only change.\n\nChange-Id: Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201\n'}, {'number': 2, 'created': '2022-11-22 06:13:29.000000000', 'files': ['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/compute/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ca9c0458029c31f2230a20e97d2922b1e0ab1415', 'message': 'Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds\n\nThe change bf1e6fd9c187af56911beb7797588b731efe7a04 introduced\nthe logic to handle the deprecated max_concurrent_builds parameter but\nthe logic only works when nova::compute::ironic is included BEFORE\nnova::compute. This is not always true and can break the existing\nusage.\n\nThis change ensures the deprecated parameter works regardless of\nthe order to include classes. One disadvantage of this change is that\nthe parameter is not longer cleared out by default, but users can still\nensure it is removed from nova.conf by setting $::os_service_default\nexplicitly.\n\nThe deprecated parameter was removed during stable/xena cycle so this\nis submitted as a wallaby-only change.\n\nChange-Id: Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201\n'}]",4,865229,ca9c0458029c31f2230a20e97d2922b1e0ab1415,18,3,2,9816,,,0,"Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds

The change bf1e6fd9c187af56911beb7797588b731efe7a04 introduced
the logic to handle the deprecated max_concurrent_builds parameter but
the logic only works when nova::compute::ironic is included BEFORE
nova::compute. This is not always true and can break the existing
usage.

This change ensures the deprecated parameter works regardless of
the order to include classes. One disadvantage of this change is that
the parameter is not longer cleared out by default, but users can still
ensure it is removed from nova.conf by setting $::os_service_default
explicitly.

The deprecated parameter was removed during stable/xena cycle so this
is submitted as a wallaby-only change.

Change-Id: Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/29/865229/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/compute/ironic.pp']",3,58b7ee1dba672c0670f914d060ec487ee3e900b2,, if defined(Class[nova::compute]) and $::nova::compute::max_concurrent_builds == undef { nova_config { 'DEFAULT/max_concurrent_builds': value => $::os_service_default } } }, } ,20,9
openstack%2Frpm-packaging~866117,openstack/rpm-packaging,master,I3b83b8491cedebbd8a17359e9531bb7428a06bd5,[antelope] python-glanceclient 4.2.0,MERGED,2022-11-30 09:46:42.000000000,2022-12-01 10:28:17.000000000,2022-12-01 10:28:17.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 09:46:42.000000000', 'files': ['openstack/python-glanceclient/python-glanceclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4d29d2a2acd186ae1f8e8068ce87ef01b8a2b914', 'message': '[antelope] python-glanceclient 4.2.0\n\nChange-Id: I3b83b8491cedebbd8a17359e9531bb7428a06bd5\n'}]",0,866117,4d29d2a2acd186ae1f8e8068ce87ef01b8a2b914,7,3,1,28522,,,0,"[antelope] python-glanceclient 4.2.0

Change-Id: I3b83b8491cedebbd8a17359e9531bb7428a06bd5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/866117/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-glanceclient/python-glanceclient.spec.j2'],1,4d29d2a2acd186ae1f8e8068ce87ef01b8a2b914,antelope,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('4.0.0') %},1,1
openstack%2Fnova~864168,openstack/nova,stable/train,I5540df6c7497956219c06cff6f15b51c2c8bc299,add regression test case for bug 1978983,MERGED,2022-11-10 08:22:40.000000000,2022-12-01 10:26:27.000000000,2022-12-01 10:25:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 08:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19cf9a2a2704c3f9fb185ea1dd148271468c07df', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/test_servers.py\n\nDifference:\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)\n  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}, {'number': 2, 'created': '2022-11-10 08:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0006e18af4b921fcdca163ea96f109cb82cb5fd2', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 3, 'created': '2022-11-10 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35b57abbcdcfecf4dd128d2bacb02782d30b5b6a', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 4, 'created': '2022-11-10 10:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9e3a4159e302964792d04a5c078795be19eca49', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 5, 'created': '2022-11-10 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ccf7fdca4a2d4ff0ffcdbc198b648423b9610c0', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 6, 'created': '2022-11-25 07:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d116107b78b63302030aafb46fde8bb85ad6e9c', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}, {'number': 7, 'created': '2022-11-29 11:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e46aac5f6620640d1b3fe2977538fec3f968e635', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/test_servers.py\n\nDifference:\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)\n  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nNOTE(auniyal): Differences from ussuri to train\n  * regression: as create_server is not present in train used _build_minimal_create_server instead to create server\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}, {'number': 8, 'created': '2022-11-29 11:40:21.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1978983.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92e8ac529cf8f1cc85176fbdf18198e62f8948a8', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/test_servers.py\n\nDifference:\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)\n  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nNOTE(auniyal): Differences from ussuri to train\n  * regression: as create_server is not present in train used _build_minimal_create_server instead to create server\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}]",14,864168,92e8ac529cf8f1cc85176fbdf18198e62f8948a8,21,4,8,34860,,,0,"add regression test case for bug 1978983

This change add a repoducer test for evacuating
a vm in the powering-off state

Conflicts:
    nova/tests/functional/integrated_helpers.py
    nova/tests/functional/test_servers.py

Difference:
    nova/tests/functional/regressions/test_bug_1978983.py

NOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:
  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)
  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)

NOTE(auniyal): Differences
  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri

NOTE(auniyal): Differences from ussuri to train
  * regression: as create_server is not present in train used _build_minimal_create_server instead to create server

Related-Bug: #1978983
Change-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299
(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)
(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)
(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)
(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)
(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)
(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/864168/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1978983.py']",2,19cf9a2a2704c3f9fb185ea1dd148271468c07df,bug/1978983,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake class EvacuateServerWithTaskState( test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Regression test for bug 1978983 If instance task state is powering-off or not None instance should be allowed to evacuate. """""" def setUp(self): super(EvacuateServerWithTaskState, self).setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) fake.stub_out_image_service(self) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) # Start nova controller services. self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') def test_evacuate_instance(self): """"""Evacuating a server """""" server = self._create_server(networks=[]) self.api.microversion = 'latest' server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # stop host1 compute service self.src.stop() # poweroff instance self._stop_server(server, wait_for_stop=False) server = self._wait_for_server_parameter(self.api, server, {'OS-EXT-STS:task_state': 'powering-off'}) # FIXME(auniyal): As compute service is down in source node # instance is stuck at powering-off, evacuation fails with # msg: Cannot 'evacuate' instance <instance-id> while it is in # task_state powering-off (HTTP 409) ex = self.assertRaises( client.OpenStackApiException, self._evacuate_server, self.api, server, expected_host=self.dest.host) self.assertEqual(409, ex.response.status_code) ",,691,115
openstack%2Fovn-octavia-provider~865908,openstack/ovn-octavia-provider,stable/xena,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:22.000000000,2022-12-01 10:25:45.000000000,2022-12-01 10:24:47.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:22.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/130ed10bedf4100d03d1c38507471fadfdf77e72', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",4,865908,130ed10bedf4100d03d1c38507471fadfdf77e72,15,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/08/865908/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,130ed10bedf4100d03d1c38507471fadfdf77e72,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fzun~866309,openstack/zun,stable/train,Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a,Support pci passthrough,ABANDONED,2022-12-01 09:39:58.000000000,2022-12-01 09:48:21.000000000,,[],"[{'number': 1, 'created': '2022-12-01 09:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bfb98c5c24f5380bdeed6872f38387f5ca98c646', 'message': 'Support pci passthrough\n\nissue: 154630\nChange-Id: Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a\n'}, {'number': 2, 'created': '2022-12-01 09:42:29.000000000', 'files': ['.gitignore', '.gitreview', 'zun/pci/utils.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/compute/manager.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/pci/request.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e5bd143a23d21a1f272e1e538e570de3c8295e33', 'message': 'Support pci passthrough\n\nissue: 154630\nChange-Id: Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a\n'}]",0,866309,e5bd143a23d21a1f272e1e538e570de3c8295e33,3,0,2,20663,,,0,"Support pci passthrough

issue: 154630
Change-Id: Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a
",git fetch https://review.opendev.org/openstack/zun refs/changes/09/866309/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'zun/pci/utils.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/compute/manager.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/pci/request.py', 'zun/api/controllers/v1/containers.py']",8,bfb98c5c24f5380bdeed6872f38387f5ca98c646,train," from remote_pdb import RemotePdb RemotePdb('127.0.0.1', 4444).set_trace() if not container_dict['pci']: pci_req = self._create_pci_requests_for_sriov_ports(context, if container_dict.get('pci'): pci_alias = container_dict.get('pci') pci_req = pci_request._get_alias_from_config(pci_alias)"," pci_req = self._create_pci_requests_for_sriov_ports(context,",135,5
openstack%2Frpm-packaging~865673,openstack/rpm-packaging,master,I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f,[antelope] python-manilaclient 4.2.0,MERGED,2022-11-25 11:49:20.000000000,2022-12-01 09:45:59.000000000,2022-12-01 09:45:59.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/497c3374b5e0d0f1bc5359f23decd205169444e6', 'message': '[antelope] python-manilaclient 4.2.0\n\nChange-Id: I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f\n'}, {'number': 2, 'created': '2022-12-01 09:21:21.000000000', 'files': ['openstack/python-manilaclient/python-manilaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bfe9028c3c9b0f80e94e01762e60d3aaa360c140', 'message': '[antelope] python-manilaclient 4.2.0\n\nNOTE(dmllr): drop mock dependency\n\nChange-Id: I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f\n'}]",1,865673,bfe9028c3c9b0f80e94e01762e60d3aaa360c140,10,3,2,28522,,,0,"[antelope] python-manilaclient 4.2.0

NOTE(dmllr): drop mock dependency

Change-Id: I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/865673/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-manilaclient/python-manilaclient.spec.j2'],1,497c3374b5e0d0f1bc5359f23decd205169444e6,antelope,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('3.4.0') %},1,1
openstack%2Fkolla-ansible~866035,openstack/kolla-ansible,master,If503d66c4fb65551ce0d46175c8e512023fdfa5f,Fix missing keystone_admin_url when create endpoint,ABANDONED,2022-11-29 15:42:06.000000000,2022-12-01 09:35:06.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:42:06.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13b46fb6a86be375096665882ce20de38ed3bb99', 'message': ""Fix missing keystone_admin_url when create endpoint\n\nIt's need admin, internal and public urls when create endpoint for\nkeystone service. But now the keystone_admin_url is missing, which\nwill cause the following parameters to shift and mistakenly treat\nthe region parameter as keystone_public_url. Finally, the\nEndpointNotFound exception is fired because keystone_public_url\nis incorrect.\n\nCloses-Bug: #1998222\nChange-Id: If503d66c4fb65551ce0d46175c8e512023fdfa5f\n""}]",1,866035,13b46fb6a86be375096665882ce20de38ed3bb99,5,2,1,31849,,,0,"Fix missing keystone_admin_url when create endpoint

It's need admin, internal and public urls when create endpoint for
keystone service. But now the keystone_admin_url is missing, which
will cause the following parameters to shift and mistakenly treat
the region parameter as keystone_public_url. Finally, the
EndpointNotFound exception is fired because keystone_public_url
is incorrect.

Closes-Bug: #1998222
Change-Id: If503d66c4fb65551ce0d46175c8e512023fdfa5f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/866035/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,13b46fb6a86be375096665882ce20de38ed3bb99,fix_bug_#1998222, admin {{ keystone_admin_url }} {{ keystone_internal_url }} {{ keystone_public_url }} {{ item }}, admin {{ keystone_internal_url }} {{ keystone_public_url }} {{ item }},1,1
openstack%2Frpm-packaging~865972,openstack/rpm-packaging,master,I06ea8746062c6eb134c1065386ef1bf64e8be5eb,[antelope] python-novaclient 18.2.0,MERGED,2022-11-29 10:46:17.000000000,2022-12-01 09:34:13.000000000,2022-12-01 09:34:13.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:46:17.000000000', 'files': ['openstack/python-novaclient/python-novaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/add4571e8f6ff0b9903d7a29a25fcd871da11a6d', 'message': '[antelope] python-novaclient 18.2.0\n\nChange-Id: I06ea8746062c6eb134c1065386ef1bf64e8be5eb\n'}]",0,865972,add4571e8f6ff0b9903d7a29a25fcd871da11a6d,7,3,1,28522,,,0,"[antelope] python-novaclient 18.2.0

Change-Id: I06ea8746062c6eb134c1065386ef1bf64e8be5eb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/865972/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-novaclient/python-novaclient.spec.j2'],1,add4571e8f6ff0b9903d7a29a25fcd871da11a6d,antelope,{% set upstream_version = upstream_version('18.2.0') %},{% set upstream_version = upstream_version('18.0.0') %},1,1
openstack%2Frpm-packaging~865663,openstack/rpm-packaging,master,I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d,[antelope] sushy 4.4.0,MERGED,2022-11-25 10:14:55.000000000,2022-12-01 09:34:11.000000000,2022-12-01 09:34:11.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-25 10:14:55.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0dcb92b3083542caee9b89b829e4b36ce9e99f7e', 'message': '[antelope] sushy 4.4.0\n\nChange-Id: I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d\n'}]",1,865663,0dcb92b3083542caee9b89b829e4b36ce9e99f7e,8,4,1,28522,,,0,"[antelope] sushy 4.4.0

Change-Id: I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/63/865663/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,0dcb92b3083542caee9b89b829e4b36ce9e99f7e,antelope,{% set upstream_version = upstream_version('4.4.0') %},{% set upstream_version = upstream_version('4.3.0') %},1,1
openstack%2Frpm-packaging~865974,openstack/rpm-packaging,master,Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1,[antelope] oslo.log 5.0.2,MERGED,2022-11-29 10:47:42.000000000,2022-12-01 09:34:10.000000000,2022-12-01 09:34:10.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:47:42.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2b4071a1b109997c0fd8699cb6e3991d92d4a426', 'message': '[antelope] oslo.log 5.0.2\n\nChange-Id: Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1\n'}]",0,865974,2b4071a1b109997c0fd8699cb6e3991d92d4a426,7,3,1,28522,,,0,"[antelope] oslo.log 5.0.2

Change-Id: Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/865974/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,2b4071a1b109997c0fd8699cb6e3991d92d4a426,antelope,{% set upstream_version = upstream_version('5.0.2') %},{% set upstream_version = upstream_version('5.0.1') %},1,1
openstack%2Frpm-packaging~866120,openstack/rpm-packaging,master,I62bc6e809721be8c74eaba918939ebec23854d1c,[antelope] os-vif 3.1.0,MERGED,2022-11-30 09:54:24.000000000,2022-12-01 09:29:38.000000000,2022-12-01 09:29:38.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 09:54:24.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/579527b06fd4da1e7d12355654cfaa204c16761d', 'message': '[antelope] os-vif 3.1.0\n\nChange-Id: I62bc6e809721be8c74eaba918939ebec23854d1c\n'}]",0,866120,579527b06fd4da1e7d12355654cfaa204c16761d,7,3,1,28522,,,0,"[antelope] os-vif 3.1.0

Change-Id: I62bc6e809721be8c74eaba918939ebec23854d1c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/866120/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-vif/os-vif.spec.j2'],1,579527b06fd4da1e7d12355654cfaa204c16761d,antelope,{% set upstream_version = upstream_version('3.1.0') %},{% set upstream_version = upstream_version('2.8.0') %},1,1
openstack%2Frpm-packaging~866118,openstack/rpm-packaging,master,I27cf5d6eaecbe80df940862a617263903a421817,[antelope] oslo.cache 3.3.0,MERGED,2022-11-30 09:48:40.000000000,2022-12-01 09:26:21.000000000,2022-12-01 09:26:21.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 09:48:40.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b11e99090d78dfa135fd3de8f7559c39b1307f11', 'message': '[antelope] oslo.cache 3.3.0\n\nChange-Id: I27cf5d6eaecbe80df940862a617263903a421817\n'}]",0,866118,b11e99090d78dfa135fd3de8f7559c39b1307f11,7,3,1,28522,,,0,"[antelope] oslo.cache 3.3.0

Change-Id: I27cf5d6eaecbe80df940862a617263903a421817
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/866118/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,b11e99090d78dfa135fd3de8f7559c39b1307f11,antelope,{% set upstream_version = upstream_version('3.3.0') %},{% set upstream_version = upstream_version('3.1.0') %},1,1
openstack%2Frpm-packaging~863504,openstack/rpm-packaging,master,If033b560445b3e5ee773deeb25653e92a53c3525,[antelope] tripleo-common 17.0.0,MERGED,2022-11-03 10:55:54.000000000,2022-12-01 09:26:20.000000000,2022-12-01 09:26:20.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-03 10:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/98d11280f52d6067e322bc8af22e457729c95df3', 'message': '[antelope] tripleo-common 17.0.0\n\nChange-Id: If033b560445b3e5ee773deeb25653e92a53c3525\n'}, {'number': 2, 'created': '2022-11-30 09:56:08.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b1712cf671c18e3dd9ed76ef58fdd46fb01727a7', 'message': '[antelope] tripleo-common 17.0.0\n\nChange-Id: If033b560445b3e5ee773deeb25653e92a53c3525\n'}]",2,863504,b1712cf671c18e3dd9ed76ef58fdd46fb01727a7,13,4,2,28522,,,0,"[antelope] tripleo-common 17.0.0

Change-Id: If033b560445b3e5ee773deeb25653e92a53c3525
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/863504/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,98d11280f52d6067e322bc8af22e457729c95df3,antelope,{% set upstream_version = upstream_version('17.0.0') %},{% set upstream_version = upstream_version('16.1.0') %},1,1
openstack%2Frpm-packaging~865976,openstack/rpm-packaging,master,Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767,[antelope] python-designateclient 5.1.0,MERGED,2022-11-29 10:50:22.000000000,2022-12-01 09:19:49.000000000,2022-12-01 09:19:49.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:50:22.000000000', 'files': ['openstack/python-designateclient/python-designateclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7aae7594c49f2eee6ab3f9e8188e14f9c221206a', 'message': '[antelope] python-designateclient 5.1.0\n\nChange-Id: Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767\n'}]",0,865976,7aae7594c49f2eee6ab3f9e8188e14f9c221206a,7,3,1,28522,,,0,"[antelope] python-designateclient 5.1.0

Change-Id: Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/865976/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-designateclient/python-designateclient.spec.j2'],1,7aae7594c49f2eee6ab3f9e8188e14f9c221206a,antelope,{% set upstream_version = upstream_version('5.1.0') %},{% set upstream_version = upstream_version('4.5.0') %},1,1
openstack%2Frpm-packaging~865675,openstack/rpm-packaging,master,Ia0b6f18125955edd1f9e0440af995b0266821962,[antelope] os-win 5.8.0,MERGED,2022-11-25 11:53:11.000000000,2022-12-01 09:06:07.000000000,2022-12-01 09:06:07.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:53:11.000000000', 'files': ['openstack/os-win/os-win.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bcc13718404da21609755d11f1bd1030868d17ff', 'message': '[antelope] os-win 5.8.0\n\nChange-Id: Ia0b6f18125955edd1f9e0440af995b0266821962\n'}]",0,865675,bcc13718404da21609755d11f1bd1030868d17ff,7,3,1,28522,,,0,"[antelope] os-win 5.8.0

Change-Id: Ia0b6f18125955edd1f9e0440af995b0266821962
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/865675/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-win/os-win.spec.j2'],1,bcc13718404da21609755d11f1bd1030868d17ff,antelope,{% set upstream_version = upstream_version('5.8.0') %},{% set upstream_version = upstream_version('5.7.1') %},1,1
openstack%2Frpm-packaging~865664,openstack/rpm-packaging,master,I7479f6d8a7790344d12b5d23aa33216e1026c84f,[antelope] metalsmith 1.9.0,MERGED,2022-11-25 10:18:11.000000000,2022-12-01 09:06:06.000000000,2022-12-01 09:06:06.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 10:18:11.000000000', 'files': ['openstack/metalsmith/metalsmith.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/363bc530a661a8b4af300194108267d884516c2a', 'message': '[antelope] metalsmith 1.9.0\n\nChange-Id: I7479f6d8a7790344d12b5d23aa33216e1026c84f\n'}]",0,865664,363bc530a661a8b4af300194108267d884516c2a,7,3,1,28522,,,0,"[antelope] metalsmith 1.9.0

Change-Id: I7479f6d8a7790344d12b5d23aa33216e1026c84f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/865664/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/metalsmith/metalsmith.spec.j2'],1,363bc530a661a8b4af300194108267d884516c2a,antelope,{% set upstream_version = upstream_version('1.9.0') %},{% set upstream_version = upstream_version('1.8.0') %},1,1
openstack%2Frpm-packaging~865543,openstack/rpm-packaging,master,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:12:26.000000000,2022-12-01 08:56:42.000000000,2022-12-01 08:56:42.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-24 13:12:26.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a94d75318b5abf22ce07405398466721eea74c28', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865543,a94d75318b5abf22ce07405398466721eea74c28,7,3,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/865543/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,a94d75318b5abf22ce07405398466721eea74c28,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Fnova~861357,openstack/nova,master,I223995b5f8cb72cb47d04e969819efe4885dfc88,Adds regression functional test for 1980720,MERGED,2022-10-14 10:24:01.000000000,2022-12-01 08:47:08.000000000,2022-12-01 08:45:51.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-14 10:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2464612c65102dc6eab543af4354758769a996a4', 'message': 'Added Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}, {'number': 2, 'created': '2022-10-14 12:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b524e759fc192e886a13fc8dd816dc2d6c641f86', 'message': 'Added Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}, {'number': 3, 'created': '2022-10-17 06:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1397642b3610a61cf0396c16553992245e286d', 'message': 'Adds regression functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}, {'number': 4, 'created': '2022-11-29 14:11:21.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py', 'nova/tests/functional/regressions/test_bug_1980720.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/50802572dcb5958d3843799092a41688742a096d', 'message': 'Adds regression functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}]",16,861357,50802572dcb5958d3843799092a41688742a096d,35,5,4,34860,,,0,"Adds regression functional test for 1980720

Related-Bug: #1980720
Change-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/861357/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_libvirt.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py']",3,2464612c65102dc6eab543af4354758769a996a4,bug/1980720," # This represents a bootable image-backed volume to test # boot-from-volume scenarios with # os_require_quiesce # hw_qemu_guest_agent IMAGE_BACKED_VOL_QUIESCE = '6ca404f3-d844-4169-bb96-bc792f37de26' if volume_id == self.IMAGE_BACKED_VOL_QUIESCE: volume['bootable'] = True volume['volume_image_metadata'] = { ""os_require_quiesce"": ""True"", ""hw_qemu_guest_agent"": ""True"" } def fake_get_absolute_limits(_self, context): limits = {'totalSnapshotsUsed': 0, 'maxTotalSnapshots': -1} return limits self.test.stub_out( 'nova.volume.cinder.API.get_absolute_limits', fake_get_absolute_limits)",,88,0
openstack%2Freleases~865684,openstack/releases,master,I6859e6779a5bb8064c41dffbb973319c05926b6d,[xena] [barbican] [security] Release 13.0.2,MERGED,2022-11-25 12:53:07.000000000,2022-12-01 08:42:19.000000000,2022-12-01 08:42:19.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:53:07.000000000', 'files': ['deliverables/xena/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f0c12642638d150f4e61de9fb894e33894c28acb', 'message': '[xena]\xa0[barbican] [security]\xa0Release 13.0.2\n\nNew release for the default policy security\nissue fixed in [1].\n\n[1]\xa0https://github.com/openstack/barbican/commit/e32e2e421b00482d26f7e263855b0555ca8a94c5\n\nChange-Id: I6859e6779a5bb8064c41dffbb973319c05926b6d\n'}]",1,865684,f0c12642638d150f4e61de9fb894e33894c28acb,11,6,1,16137,,,0,"[xena] [barbican] [security] Release 13.0.2

New release for the default policy security
issue fixed in [1].

[1] https://github.com/openstack/barbican/commit/e32e2e421b00482d26f7e263855b0555ca8a94c5

Change-Id: I6859e6779a5bb8064c41dffbb973319c05926b6d
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/865684/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/barbican.yaml'],1,f0c12642638d150f4e61de9fb894e33894c28acb,barbican-def-policy-sec-release, - version: 13.0.2 projects: - repo: openstack/barbican hash: e32e2e421b00482d26f7e263855b0555ca8a94c5,,4,0
openstack%2Freleases~865683,openstack/releases,master,I3dd60fcea492ed6513771780ab5ae4e1eca88d0c,[yoga] [barbican] [security] Release 14.0.2,MERGED,2022-11-25 12:52:05.000000000,2022-12-01 08:41:59.000000000,2022-12-01 08:41:59.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:52:05.000000000', 'files': ['deliverables/yoga/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d6b6bd85d59e06957e840372faa3beb073252b6d', 'message': '[yoga] [barbican] [security] Release 14.0.2\n\nNew release for the default policy security\nfixed in [1].\n\n[1] https://github.com/openstack/barbican/commit/f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a\n\nChange-Id: I3dd60fcea492ed6513771780ab5ae4e1eca88d0c\n'}]",1,865683,d6b6bd85d59e06957e840372faa3beb073252b6d,11,6,1,16137,,,0,"[yoga] [barbican] [security] Release 14.0.2

New release for the default policy security
fixed in [1].

[1] https://github.com/openstack/barbican/commit/f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a

Change-Id: I3dd60fcea492ed6513771780ab5ae4e1eca88d0c
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/865683/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/barbican.yaml'],1,d6b6bd85d59e06957e840372faa3beb073252b6d,barbican-def-policy-sec-release, - version: 14.0.2 projects: - repo: openstack/barbican hash: f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a,,4,0
openstack%2Freleases~865682,openstack/releases,master,I6d7f175b15b30352bab2c4ecbe7cb9241c181a25,[zed] [barbican] [security] Release 15.0.1,MERGED,2022-11-25 12:50:56.000000000,2022-12-01 08:39:43.000000000,2022-12-01 08:39:43.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:50:56.000000000', 'files': ['deliverables/zed/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e30c9e852cdea2e748e9ae2ea5193e1d52be1e7a', 'message': '[zed]\xa0[barbican]\xa0[security] Release 15.0.1\n\nNew release containing the security fix for\nthe default policy fixed in [1].\n\n[1] https://github.com/openstack/barbican/commit/7d6749fcb1ad16a3350de82cd8e523d5b55306f8\n\nChange-Id: I6d7f175b15b30352bab2c4ecbe7cb9241c181a25\n'}]",1,865682,e30c9e852cdea2e748e9ae2ea5193e1d52be1e7a,10,6,1,16137,,,0,"[zed] [barbican] [security] Release 15.0.1

New release containing the security fix for
the default policy fixed in [1].

[1] https://github.com/openstack/barbican/commit/7d6749fcb1ad16a3350de82cd8e523d5b55306f8

Change-Id: I6d7f175b15b30352bab2c4ecbe7cb9241c181a25
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/865682/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/barbican.yaml'],1,e30c9e852cdea2e748e9ae2ea5193e1d52be1e7a,barbican-def-policy-sec-release, - version: 15.0.1 projects: - repo: openstack/barbican hash: 7d6749fcb1ad16a3350de82cd8e523d5b55306f8,,4,0
openstack%2Fcyborg~865637,openstack/cyborg,master,I84762c4f93c20ca85ee0296f7b96b51cf8c736aa,Get an attribute by it's deployable_id.,MERGED,2022-11-28 08:10:08.000000000,2022-12-01 07:06:48.000000000,2022-12-01 07:05:13.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-28 08:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/925b16ce3e6c4af733839369de535570a01a1dc2', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 2, 'created': '2022-11-28 08:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4740058c3babeb351864d67f8a24155bfd8cfb6b', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 3, 'created': '2022-11-28 09:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a9aa2efe3534c1d03a89d5b7c357bc7cc2fe76b5', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 4, 'created': '2022-12-01 02:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/61a6d51c8060bbf2d860b552fc9221f9b5c1d811', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 5, 'created': '2022-12-01 02:37:20.000000000', 'files': ['cyborg/common/policy.py', 'cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a0788f795ea6ac937dc5ba05d705352cf030d4e6', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}]",4,865637,a0788f795ea6ac937dc5ba05d705352cf030d4e6,14,3,5,34375,,,0,"Get an attribute by it's deployable_id.

Change-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/37/865637/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,925b16ce3e6c4af733839369de535570a01a1dc2,,"from cyborg.common import exception @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_attribute_by_deployable_id"") @expose.expose('json', wtypes.text) def get_attribute_by_deployable_id(self, deployable_id): """"""Retrieve a single attribute by deployable_id."""""" LOG.info('[attributes] get_attribute_by_deployable_id.') context = pecan.request.context api_obj_attributes = objects.Attribute.get_by_deployable_id\ (context, deployable_id) ret = AttributeCollection.convert_with_links(api_obj_attributes) LOG.info('[attributes] get_attribute_by_deployable_id returned:' ' %s', ret) return ret ",,15,0
openstack%2Fcyborg~864826,openstack/cyborg,master,I5c1790b56fe000239cffdcb213bfc18a919c2e02,Add get_one for attributes.,MERGED,2022-11-24 07:11:52.000000000,2022-12-01 07:06:06.000000000,2022-12-01 07:05:10.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-24 07:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/14ffa8855b256d46a9e793913b3d8953a10163a2', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 2, 'created': '2022-11-24 07:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3a0641c2d49821c27a621c8673f9c83b7c26f4f7', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 3, 'created': '2022-11-24 08:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dcb962d64479864841adb9180ee6a63df3d42c9a', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 4, 'created': '2022-11-24 08:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/108d9dcab4f573cc88450082330a97fbb8ba4b4d', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 5, 'created': '2022-12-01 01:37:54.000000000', 'files': ['cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2eb0be1fa308349daebcf1aedc3e8ead65c15781', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}]",0,864826,2eb0be1fa308349daebcf1aedc3e8ead65c15781,14,3,5,34375,,,0,"Add get_one for attributes.

Change-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/26/864826/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,14ffa8855b256d46a9e793913b3d8953a10163a2,," @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_one"") @expose.expose('json', wtypes.text) def get_one(self): """"""Retrieve information about the given attribute. """""" obj_attribute = objects.Attribute.get(pecan.request.context) return self.convert_with_link(obj_attribute)",,9,0
openstack%2Fcyborg~864827,openstack/cyborg,master,Ifc6208a6ffd09b9638690d99215957e5078923a9,Add delete method for attributes,MERGED,2022-11-24 07:19:11.000000000,2022-12-01 07:05:11.000000000,2022-12-01 07:05:11.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-24 07:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c23e5c7c61a91542609dbb95973ea032e6474fda', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 2, 'created': '2022-11-24 07:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ca3eae87034cf28dde48b76703bd1bc3dd12f5c5', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 3, 'created': '2022-11-25 04:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a582fc3f84db7437d560d2a4671a930387ca47c8', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 4, 'created': '2022-11-25 04:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b7adce0d2d50da24b8aabe6915d2f331e2cdc4c1', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 5, 'created': '2022-12-01 01:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ab6966522418702dc840afdc39e7cb29ffd96ea5', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 6, 'created': '2022-12-01 02:27:25.000000000', 'files': ['cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/faa67c33408494cf56f7a9f650d7495a68323e99', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}]",18,864827,faa67c33408494cf56f7a9f650d7495a68323e99,18,3,6,34375,,,0,"Add delete method for attributes

Change-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/27/864827/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,c23e5c7c61a91542609dbb95973ea032e6474fda,," @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""delete"") @expose.expose(None, wtypes.text, status_code=HTTPStatus.NO_CONTENT) def delete(self, value): """"""Delete one or more attributes. URL: /attributes/{uuid} OR /attributes?value=foo,bar :param value: This should be one of these two: - UUID of a attribute. - Comma-delimited list of attribute names. """""" context = pecan.request.context if uuidutils.is_uuid_like(value): uuid = value LOG.info('[attributes] delete uuid=%s', uuid) obj_attribute = objects.Attribute.get_by_uuid(context, uuid) pecan.request.conductor_api.attribute_delete( context, obj_attribute) else: names = value.split("","") LOG.info('[attributes] delete names=(%s)', names) for name in names: obj_attribute = objects.Attribute.get_by_name(context, name) pecan.request.conductor_api.attribute_delete( context, obj_attribute)",,26,0
openstack%2Fcyborg~864825,openstack/cyborg,master,I1bd75170a4d308339bf34fa5778d64c5d097d4bd,Add attribute_list_api,MERGED,2022-11-24 06:50:49.000000000,2022-12-01 06:46:13.000000000,2022-12-01 06:45:14.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-24 06:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b0278fcf51bb625a7f27740c112ef3a4f566edab', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 2, 'created': '2022-11-24 06:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/44ac18d8aa5aa0597ad6bc90708ab9b82e280fc2', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 3, 'created': '2022-11-24 07:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/916574de84bc25ee38e00a0cfb29cde115f0c1ec', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 4, 'created': '2022-11-24 07:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/efed4e36c6b824a5a5bfd78989a6a1b57cf70743', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 5, 'created': '2022-11-24 07:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/247dfb1df057cca7d33e80bdbf9ac28051e58de4', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 6, 'created': '2022-12-01 01:19:21.000000000', 'files': ['cyborg/api/controllers/v2/__init__.py', 'cyborg/policies/__init__.py', 'cyborg/common/policy.py', 'cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/962ceed37100a2a44d5f64b6ad779b6777bf7b55', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}]",12,864825,962ceed37100a2a44d5f64b6ad779b6777bf7b55,15,3,6,34375,,,0,"Add attribute_list_api

Change-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/25/864825/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/api/controllers/v2/__init__.py', 'cyborg/policies/__init__.py', 'cyborg/common/policy.py', 'cyborg/api/controllers/v2/attributes.py']",4,b0278fcf51bb625a7f27740c112ef3a4f566edab,,"# Copyright 2019 Intel, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from http import HTTPStatus import pecan import re import wsme from wsme import types as wtypes from oslo_log import log from oslo_utils import uuidutils from cyborg import api from cyborg.api.controllers import base from cyborg.api.controllers import link from cyborg.api.controllers import types from cyborg.api.controllers.v2 import versions from cyborg.api import expose from cyborg.common import authorize_wsgi from cyborg.common import constants from cyborg.common import exception from cyborg.common.i18n import _ from cyborg import objects LOG = log.getLogger(__name__) class Attribute(base.APIBase): """"""API representation of a attribute. This class enforces type checking and value constraints, and converts between the internal object model and the API representation of a attribute. See module notes above. """""" """"""The UUID of the attribute"""""" uuid = types.uuid """"""The deployable_id of the attribute"""""" deployable_id = wtypes.IntegerType() """"""The key of the device attribute"""""" key = wtypes.text """"""The value of the attribute"""""" value = wtypes.text created_at = wtypes.datetime.datetime updated_at = wtypes.datetime.datetime """"""A list containing a self link"""""" links = wsme.wsattr([link.Link], readonly=True) def __init__(self, **kwargs): super(Attribute, self).__init__(**kwargs) self.fields = [] for field in objects.Attribute.fields: self.fields.append(field) setattr(self, field, kwargs.get(field, wtypes.Unset)) @classmethod def convert_with_links(cls, obj_attribute): api_attribute = cls(**obj_attribute.as_dict()) api_attribute.links = [ link.Link.make_link('self', pecan.request.public_url, 'attribute', api_attribute.uuid) ] return api_attribute def get_attribute(self, obj_attribute): api_obj = {} for field in ['uuid', 'deployable_id', 'key', 'value']: api_obj[field] = obj_attribute[field] for field in ['created_at', 'updated_at']: api_obj[field] = str(obj_attribute[field]) api_obj['links'] = [ link.Link.make_link_dict('attributes', api_obj['uuid']) ] return api_obj class AttributeCollection(Attribute): """"""API representation of a collection of attributes."""""" """"""A list containing attribute objects"""""" attributes = [Attribute] @classmethod def convert_with_links(cls, obj_attributes): collection = cls() collection.attributes = [ Attribute.convert_with_links(obj_attribute) for obj_attribute in obj_attributes] return collection def get_attributes(self, obj_attributes): api_obj_attributes = [ self.get_device_profile(obj_attribute) for obj_attribute in obj_attributes] return api_obj_attributes class AttributesController(base.CyborgController, AttributeCollection): """"""REST controller for Attributes."""""" @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_all"", False) @expose.expose(AttributeCollection, wtypes.text) def get_all(self): """"""Retrieve a list of attributes."""""" LOG.info('[attributes] get_all.') context = pecan.request.context api_obj_attributes = objects.Attribute.get_by_filter(context, {}) ret = AttributeCollection.convert_with_links(api_obj_attributes) LOG.info('[Attributes] get_all returned: %s', ret) return ret @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_one"") @expose.expose('json', wtypes.text) def get_one(self): """"""Retrieve information about the given attribute. """""" obj_attribute = objects.Attribute.get(pecan.request.context) return self.convert_with_link(obj_attribute) @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""delete"") @expose.expose(None, wtypes.text, status_code=HTTPStatus.NO_CONTENT) def delete(self, value): """"""Delete one or more attributes. URL: /attributes/{uuid} OR /attributes?value=foo,bar :param value: This should be one of these two: - UUID of a attribute. - Comma-delimited list of attribute names. """""" context = pecan.request.context if uuidutils.is_uuid_like(value): uuid = value LOG.info('[attributes] delete uuid=%s', uuid) obj_attribute = objects.Attribute.get_by_uuid(context, uuid) pecan.request.conductor_api.attribute_delete( context, obj_attribute) else: names = value.split("","") LOG.info('[attributes] delete names=(%s)', names) for name in names: obj_attribute = objects.Attribute.get_by_name(context, name) pecan.request.conductor_api.attribute_delete( context, obj_attribute) ",,180,0
openstack%2Ftacker~864241,openstack/tacker,master,I09f54edf6b034cadc78f8a42df06419d08c3325a,Fix field of LifecycleChangeNotificationsFilter,MERGED,2022-11-11 01:02:12.000000000,2022-12-01 05:59:54.000000000,2022-12-01 05:58:50.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33292}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-11-11 01:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b20a21fd83f94ae72e99664326239e96e3bcc8ca', 'message': ""fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}, {'number': 2, 'created': '2022-11-14 22:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c259263156de58037436a5ed735ff025594fb985', 'message': ""fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}, {'number': 3, 'created': '2022-11-17 22:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f039b25df1a520ad44d4386bdbbdf914f0f952ef', 'message': ""fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}, {'number': 4, 'created': '2022-11-21 05:59:00.000000000', 'files': ['tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/tests/unit/sol_refactored/common/test_subscription_utils.py', 'tacker/sol_refactored/common/subscription_utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/58fbcc371fe8684979e203655f24c3575f3a3585', 'message': ""Fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}]",38,864241,58fbcc371fe8684979e203655f24c3575f3a3585,29,8,4,4149,,,0,"Fix field of LifecycleChangeNotificationsFilter

'operationStates' field of LifecycleChangeNotificationsFilter
was defined as 'operationStatus' wrongly. This patch fixes it.

Closes-Bug: #1996242
Change-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/41/864241/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/tests/unit/sol_refactored/common/test_subscription_utils.py', 'tacker/sol_refactored/common/subscription_utils.py']",3,b20a21fd83f94ae72e99664326239e96e3bcc8ca,bug/1996242,"def get_matched_subscs(context, inst, notif_type, op_type, op_state): # - operationStates 0..N if (op_state is not None and subsc.filter.obj_attr_is_set('operationStates')): if op_state not in subsc.filter.operationStates:","def get_matched_subscs(context, inst, notif_type, op_type, op_status): # - operationStatus 0..N if (op_status is not None and subsc.filter.obj_attr_is_set('operationStatus')): if op_status not in subsc.filter.operationStatus:",8,8
openstack%2Ftacker~861808,openstack/tacker,master,Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea,Improve plugin flexibility,MERGED,2022-10-19 00:35:03.000000000,2022-12-01 05:52:24.000000000,2022-12-01 05:51:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27728}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 33292}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-10-19 00:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b8e98443e74bd6eb12a8381983d41de9efe6d811', 'message': '[WIP]Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 2, 'created': '2022-10-26 01:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fc20811ec802c6313c8d0b2fe6cf7d9dcc0d48d1', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 3, 'created': '2022-11-14 08:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ee872da3eb38a51b7df9a38b8c5c6591df03045e', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 4, 'created': '2022-11-17 02:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/71f2dc126f530c32adebcff9a6816ccb4f670c65', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 5, 'created': '2022-11-25 10:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c9f7d5d846d0345d5c6fb49d812cb3b7839e02ba', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 6, 'created': '2022-11-28 12:47:49.000000000', 'files': ['tacker/sol_refactored/controller/server_notification.py', 'tacker/tests/functional/sol_v2/test_server_notification.py', 'tacker/sol_refactored/common/monitoring_plugin_base.py', 'tacker/tests/unit/sol_refactored/controller/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/controller/test_server_notification.py', 'tacker/tests/unit/sol_refactored/common/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/conductor/test_prometheus_plugin.py', 'tacker/sol_refactored/controller/prometheus_plugin_controller.py', 'tacker/sol_refactored/common/exceptions.py', 'doc/source/user/prometheus_plugin_use_case_guide.rst', 'tacker/sol_refactored/common/prometheus_plugin.py', 'tacker/sol_refactored/common/config.py', 'doc/source/user/fault_notification_use_case_guide.rst', 'tacker/sol_refactored/controller/vnfpm_v2.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c297b4300d1943a545950dd0a606b0026a7d5089', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}]",75,861808,c297b4300d1943a545950dd0a606b0026a7d5089,37,8,6,35016,,,0,"Improve plugin flexibility

The monitoring plugin such as prometheus plugin or
fault notification have been modified
to be replaceable according to the configuration.

Therefore, operators can use their original monitoring
functions without changing tacker source code.

Implements: blueprint support-auto-lcm
Implements: blueprint support-autoheal-queue
Change-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/861808/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/server_notification.py', 'tacker/tests/functional/sol_v2/test_server_notification.py', 'tacker/sol_refactored/common/monitoring_plugin_base.py', 'tacker/tests/unit/sol_refactored/controller/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/controller/test_server_notification.py', 'tacker/tests/unit/sol_refactored/common/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/conductor/test_prometheus_plugin.py', 'tacker/sol_refactored/controller/prometheus_plugin_controller.py', 'doc/source/user/prometheus_plugin_use_case_guide.rst', 'tacker/sol_refactored/common/prometheus_plugin.py', 'tacker/sol_refactored/common/config.py', 'tacker/tests/functional/sol_v2_common/samples/server_notification/contents/Scripts/sample_script.py', 'doc/source/user/fault_notification_use_case_guide.rst', 'tacker/sol_refactored/controller/vnfpm_v2.py', 'tacker/sol_refactored/mgmt_drivers/server_notification.py']",15,b8e98443e74bd6eb12a8381983d41de9efe6d811,bp/support-auto-lcm,"from tacker.common import rpc from tacker import context CONF(project='tacker') rpc.init(CONF) context.get_admin_context(), vnf_instance_id)"," None, vnf_instance_id)",200,40
openstack%2Fpuppet-neutron~866250,openstack/puppet-neutron,stable/yoga,I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,Remove wrong deprecation mark of project_* properties,MERGED,2022-12-01 01:40:29.000000000,2022-12-01 05:42:54.000000000,2022-12-01 05:42:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 01:40:29.000000000', 'files': ['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7090aa57c7253a4331220b2f152c1c35f07e7ee3', 'message': 'Remove wrong deprecation mark of project_* properties\n\nThe project_name property and the project_id property are not meant to\nbe deprecated because these replaces the old tenant_* properties. This\nchange removes the (DEPRECATED) marks erroneously added.\n\nChange-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41\n(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)\n(cherry picked from commit 4fdb0798a6ea07f71ce9e33bf1328110e73c9106)\n'}]",0,866250,7090aa57c7253a4331220b2f152c1c35f07e7ee3,6,2,1,9816,,,0,"Remove wrong deprecation mark of project_* properties

The project_name property and the project_id property are not meant to
be deprecated because these replaces the old tenant_* properties. This
change removes the (DEPRECATED) marks erroneously added.

Change-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41
(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)
(cherry picked from commit 4fdb0798a6ea07f71ce9e33bf1328110e73c9106)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/50/866250/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb']",2,7090aa57c7253a4331220b2f152c1c35f07e7ee3,, desc 'The name of the project which will own the network.' desc 'A uuid identifying the project which will own the network.', desc 'The name of the project which will own the network.(DEPRECATED)' desc 'A uuid identifying the project which will own the network.(DEPRECATED)',4,4
openstack%2Ftripleo-heat-templates~866164,openstack/tripleo-heat-templates,master,Iaefc0347ac18764a683fde82075adb3067861ebf,Remove CephHciOsdType and CephHciOsdCount parameters,MERGED,2022-11-30 13:45:29.000000000,2022-12-01 05:30:22.000000000,2022-12-01 05:29:23.000000000,"[{'_account_id': 6796}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-11-30 13:45:29.000000000', 'files': ['releasenotes/notes/remove_derived_params_osd_type_osd_count-6fe114130d1e4b2e.yaml', 'deployment/cephadm/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e62ae536324df783d228039908d68f34aa11703', 'message': 'Remove CephHciOsdType and CephHciOsdCount parameters\n\nCephHciOsdType and CephHciOsdCount parameters, used only\nby the deprecated derive parameters feature, should be\nremoved. They were missed during initial clean up.\n\nChange-Id: Iaefc0347ac18764a683fde82075adb3067861ebf\n'}]",2,866164,4e62ae536324df783d228039908d68f34aa11703,13,6,1,18002,,,0,"Remove CephHciOsdType and CephHciOsdCount parameters

CephHciOsdType and CephHciOsdCount parameters, used only
by the deprecated derive parameters feature, should be
removed. They were missed during initial clean up.

Change-Id: Iaefc0347ac18764a683fde82075adb3067861ebf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/866164/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_derived_params_osd_type_osd_count-6fe114130d1e4b2e.yaml', 'deployment/cephadm/ceph-osd.yaml']",2,4e62ae536324df783d228039908d68f34aa11703,derive-parameters-cleanup,," CephHciOsdCount: type: number default: 0 tags: - role_specific description: | The number of expected Ceph OSDs per HCI node. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, this number is necessary in order to know how much CPU/RAM to reserve. CephHciOsdType: type: string default: 'hdd' tags: - role_specific constraints: - allowed_values: ['hdd', 'ssd', 'nvme'] description: | CephHciOsdType is the type of data_device (not db_device) used for each HCI node's OSD and must be one of hdd, ssd, or nvme. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, the device path is not hard coded so we cannot look up that device in Ironic to determine its type. If CephOsdSpec has data_devices/rotational=1 and db_devices/rotational=0, then set CephHciOsdType to 'hdd', since only the DB/WAL are on SSD. If an OSD data device is an SSD or NVMe SSD, then set the type accordingly so that the derive parameters module can allocate the optimal number of CPUs per device.",5,32
openstack%2Fpuppet-neutron~866004,openstack/puppet-neutron,stable/zed,I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,Remove wrong deprecation mark of project_* properties,MERGED,2022-11-30 09:28:11.000000000,2022-12-01 04:21:09.000000000,2022-12-01 04:21:09.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:28:11.000000000', 'files': ['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4fdb0798a6ea07f71ce9e33bf1328110e73c9106', 'message': 'Remove wrong deprecation mark of project_* properties\n\nThe project_name property and the project_id property are not meant to\nbe deprecated because these replaces the old tenant_* properties. This\nchange removes the (DEPRECATED) marks erroneously added.\n\nChange-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41\n(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)\n'}]",1,866004,4fdb0798a6ea07f71ce9e33bf1328110e73c9106,6,2,1,9816,,,0,"Remove wrong deprecation mark of project_* properties

The project_name property and the project_id property are not meant to
be deprecated because these replaces the old tenant_* properties. This
change removes the (DEPRECATED) marks erroneously added.

Change-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41
(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/04/866004/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb']",2,4fdb0798a6ea07f71ce9e33bf1328110e73c9106,, desc 'The name of the project which will own the network.' desc 'A uuid identifying the project which will own the network.', desc 'The name of the project which will own the network.(DEPRECATED)' desc 'A uuid identifying the project which will own the network.(DEPRECATED)',4,4
openstack%2Fpuppet-ovn~865787,openstack/puppet-ovn,master,Idb92e3d4f52eefabca992c027f1576700fc63234,Remove logic to support $::os_service_default,MERGED,2022-11-28 05:21:44.000000000,2022-12-01 03:41:59.000000000,2022-12-01 03:40:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 05:21:44.000000000', 'files': ['releasenotes/notes/datapath_type-use-undef-force-db2267dda2e93ab1.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cb9fed3f7aca11dc1b4d6a3867ae4d367b53b671', 'message': 'Remove logic to support $::os_service_default\n\n... because support for $::os_service_default was deprecated[1] during\nthe previous cycle.\n\n[1] 5c809de01630ee7eede500106143810ca57b58b5\n\nChange-Id: Idb92e3d4f52eefabca992c027f1576700fc63234\n'}]",3,865787,cb9fed3f7aca11dc1b4d6a3867ae4d367b53b671,16,3,1,9816,,,0,"Remove logic to support $::os_service_default

... because support for $::os_service_default was deprecated[1] during
the previous cycle.

[1] 5c809de01630ee7eede500106143810ca57b58b5

Change-Id: Idb92e3d4f52eefabca992c027f1576700fc63234
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/87/865787/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/datapath_type-use-undef-force-db2267dda2e93ab1.yaml', 'manifests/controller.pp']",2,cb9fed3f7aca11dc1b4d6a3867ae4d367b53b671,, if $enable_dpdk and ! $datapath_type { if $datapath_type {, if $enable_dpdk and (is_service_default($datapath_type) or !$datapath_type) { if is_service_default($datapath_type) { warning('Usage of $::os_service_default has been deprecated. Use undef instead') $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'ensure' => 'absent' } } } elsif $datapath_type {,7,7
openstack%2Fswift~866082,openstack/swift,master,I81e445234a1cbfddc374af449ab68e4c773bdde6,Add swift-ring-packer utility,NEW,2022-11-29 22:47:08.000000000,2022-12-01 03:26:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 22:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bddd0eb090b0db19cda5b10655962e50601a4adb', 'message': 'Add swift-ring-packer utility\n\nAdds ability to list, unpack, and repack v2 rings.\n\nChange-Id: I81e445234a1cbfddc374af449ab68e4c773bdde6\n'}, {'number': 2, 'created': '2022-12-01 00:11:29.000000000', 'files': ['swift/cli/ring_packer.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/c08aa1085e8d23684495587e26d2f176718841d5', 'message': 'Add swift-ring-packer utility\n\nAdds ability to list, unpack, and repack v2 rings.\n\nChange-Id: I81e445234a1cbfddc374af449ab68e4c773bdde6\n'}]",0,866082,c08aa1085e8d23684495587e26d2f176718841d5,6,1,2,15343,,,0,"Add swift-ring-packer utility

Adds ability to list, unpack, and repack v2 rings.

Change-Id: I81e445234a1cbfddc374af449ab68e4c773bdde6
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/866082/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/ring_packer.py', 'setup.cfg']",2,bddd0eb090b0db19cda5b10655962e50601a4adb,, swift-ring-packer = swift.cli.ring_packer:main,,184,0
openstack%2Ftripleo-ansible~858854,openstack/tripleo-ansible,master,I4697b52d970768c46997221a93f6d8da08d93821,tripleo_container_manage: Add retry mechanism,MERGED,2022-09-22 05:48:41.000000000,2022-12-01 01:49:39.000000000,2022-12-01 01:48:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-22 05:48:41.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12b0147f669777d6a8b7a00cc7aa52321a8ce55a', 'message': 'tripleo_container_manage: Add retry mechanism\n\nThis change introduces the native retry mechanism to the plugin so that\nretry logic can be implemented without adding bash script in execution\ncommands.\n\nChange-Id: I4697b52d970768c46997221a93f6d8da08d93821\n'}]",5,858854,12b0147f669777d6a8b7a00cc7aa52321a8ce55a,18,6,1,9816,,,0,"tripleo_container_manage: Add retry mechanism

This change introduces the native retry mechanism to the plugin so that
retry logic can be implemented without adding bash script in execution
commands.

Change-Id: I4697b52d970768c46997221a93f6d8da08d93821
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/858854/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py'],1,12b0147f669777d6a8b7a00cc7aa52321a8ce55a,bootstrap-ansible," retries = config.pop('retries', 0) retry_sleep = config.pop('retry_sleep', 30) while True: if action == 'exec': success = self.exec_container(name, config) else: success = self.manage_container(name, config) if success or retries <= 0: break else: self.module.warn(f'Remaining retries for {name}: {retries}') retries -= 1 time.sleep(retry_sleep) "," if action == 'exec': success = self.exec_container(name, config) else: success = self.manage_container(name, config)",16,4
openstack%2Fsushy~855702,openstack/sushy,stable/victoria,I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15,Capture requests errors,ABANDONED,2022-09-02 22:12:16.000000000,2022-12-01 00:58:32.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-02 22:12:16.000000000', 'files': ['releasenotes/notes/catch-general-requests-exceptions-b5fd706597708fb6.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/9aabf95ac83b3b5c7dce6e1e3409960f5fed3b97', 'message': 'Capture requests errors\n\nSituations can occur where rare exceptions can originate\nfrom within python requests, which are not captured or handled\nin Sushy.\n\nExample: Encoding errors should trigger some sort of recovery,\nbut cached session clients cannot recover, and power synchronization\nfor users, such as Ironic, break on the cached session when they\nattempt to access them for the same task, again.\n\nConflicts:\n\tsushy/tests/unit/test_connector.py\n\nChange-Id: I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15\n(cherry picked from commit b855365ef0aa77924ec7a39952bc3ebdd1922f97)\n(cherry picked from commit 1ae8e49d4f63efb13ae75aff5a7d0969de92f02f)\n(cherry picked from commit a91e0860eff1d17437fe18b1db89ec49fafa2c27)\n'}]",1,855702,9aabf95ac83b3b5c7dce6e1e3409960f5fed3b97,6,2,1,10342,,,0,"Capture requests errors

Situations can occur where rare exceptions can originate
from within python requests, which are not captured or handled
in Sushy.

Example: Encoding errors should trigger some sort of recovery,
but cached session clients cannot recover, and power synchronization
for users, such as Ironic, break on the cached session when they
attempt to access them for the same task, again.

Conflicts:
	sushy/tests/unit/test_connector.py

Change-Id: I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15
(cherry picked from commit b855365ef0aa77924ec7a39952bc3ebdd1922f97)
(cherry picked from commit 1ae8e49d4f63efb13ae75aff5a7d0969de92f02f)
(cherry picked from commit a91e0860eff1d17437fe18b1db89ec49fafa2c27)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/02/855702/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/catch-general-requests-exceptions-b5fd706597708fb6.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,9aabf95ac83b3b5c7dce6e1e3409960f5fed3b97,," @mock.patch.object(connector.LOG, 'warning', autospec=True) def test_access_error_basic_auth(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.conn._session.auth = ('foo', 'bar') self.request.return_value.status_code = http_client.FORBIDDEN mock_response = mock.Mock() mock_response.json.side_effect = ValueError('no json') mock_response.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) self.conn._auth.authenticate.assert_not_called() mock_log.assert_called_once_with( ""We have encountered an AccessError when using 'basic' "" ""authentication. %(err)s"", {'err': 'HTTP GET http://redfish/v1/SessionService ' 'returned code HTTPStatus.FORBIDDEN. unknown error ' 'Extended information: none'} ) def test__op_raises_connection_error(self): exception_list = [ requests.exceptions.ChunkedEncodingError, requests.exceptions.ContentDecodingError, requests.exceptions.ReadTimeout, requests.exceptions.ConnectTimeout, requests.exceptions.SSLError, requests.exceptions.ConnectionError, requests.exceptions.RequestException, ] for exc in exception_list: self.request.side_effect = exc self.assertRaises(exceptions.ConnectionError, self.conn._op, 'POST', 'http://foo.bar', blocking=True)",,59,1
openstack%2Fproject-config~799323,openstack/project-config,master,I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9,Add feature branch notifications to openstack-sdks,MERGED,2021-07-02 19:32:41.000000000,2022-12-01 00:01:34.000000000,2022-11-30 20:35:49.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-02 19:32:41.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/99c30609569d1a3d1b0131445475fb93c65a7115', 'message': 'Add feature branch notifications to openstack-sdks\n\nThe openstacksdk project added a ""feature/r1"" branch;\nnotify the channel if there\'s activity on this branch.\n\nChange-Id: I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9\n'}]",1,799323,99c30609569d1a3d1b0131445475fb93c65a7115,9,7,1,16643,,,0,"Add feature branch notifications to openstack-sdks

The openstacksdk project added a ""feature/r1"" branch;
notify the channel if there's activity on this branch.

Change-Id: I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/799323/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,99c30609569d1a3d1b0131445475fb93c65a7115,openstacksdk, - ^feature.*,,1,0
openstack%2Fproject-config~805492,openstack/project-config,master,Id006c9e05073675a67274e5b00b89479bf124e32,Telemetry: Switch back to launchpad from storyboard,MERGED,2021-08-21 19:16:38.000000000,2022-11-30 23:55:42.000000000,2022-11-30 20:35:46.000000000,"[{'_account_id': 4264}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 19:16:38.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4419ecf7d41d372f91a21f330cd0498814ff6fb0', 'message': 'Telemetry: Switch back to launchpad from storyboard\n\nTelemetry project decided to use launchpad again to manage bugs and\nno longer relies on storyboard. This removes use-storyboard tag from\nTelemetry projects so that automation is executed against launchpad\nbugs correctly.\n\nChange-Id: Id006c9e05073675a67274e5b00b89479bf124e32\n'}]",3,805492,4419ecf7d41d372f91a21f330cd0498814ff6fb0,10,5,1,9816,,,0,"Telemetry: Switch back to launchpad from storyboard

Telemetry project decided to use launchpad again to manage bugs and
no longer relies on storyboard. This removes use-storyboard tag from
Telemetry projects so that automation is executed against launchpad
bugs correctly.

Change-Id: Id006c9e05073675a67274e5b00b89479bf124e32
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/805492/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,4419ecf7d41d372f91a21f330cd0498814ff6fb0,telemetry-lp,, use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true,0,8
openstack%2Fproject-config~863957,openstack/project-config,master,Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434,Add manila-infinidat charm to OpenStack charms,MERGED,2022-11-08 02:45:16.000000000,2022-11-30 23:16:17.000000000,2022-11-30 20:16:39.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4621266d25770888ace0691da6793f8d97ef3910', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 2, 'created': '2022-11-08 02:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/555a9587b49774116502fffed68847770071c982', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 3, 'created': '2022-11-08 22:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7694a7162ea17befeb618e56478e0c9ea2a25d3f', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 4, 'created': '2022-11-09 23:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c616649d69e5d85b17112a4c0d2a93accb9b5c15', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 5, 'created': '2022-11-10 10:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e38e448b5e9c4d4ad5ee478a94b7cfb058512b5a', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 6, 'created': '2022-11-10 10:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae2205f185eba278dda9c874749af138ec344741', 'message': 'Add manila-infinidat charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 7, 'created': '2022-11-10 10:09:25.000000000', 'files': ['gerrit/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/36ec25d96c263536ed105fc409669d009c7c8a07', 'message': 'Add manila-infinidat charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}]",3,863957,36ec25d96c263536ed105fc409669d009c7c8a07,21,5,7,30110,,,0,"Add manila-infinidat charm to OpenStack charms

Add new charm that provides the Infinidat backend support
to the OpenStack Manila service.

Needed-by: I932b805e0f7d44040bad9c28ca4799f243f651af
Change-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/863957/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,4621266d25770888ace0691da6793f8d97ef3910,charm-manila-infinidat, - openstack/charm-manila-infinidat,,6,0
openstack%2Fproject-config~863955,openstack/project-config,master,I51107d5483bf2326941bac720b495cdf3cfb0e8d,Add the infinidat-tools charm to Openstack charms,MERGED,2022-11-08 01:52:26.000000000,2022-11-30 22:58:35.000000000,2022-11-30 20:16:37.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 01:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb360ebbf7921a6f36c4d86d17910b68b1cf7dc5', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\n'}, {'number': 2, 'created': '2022-11-08 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/abbc536990bfebbe8fa421fea75b1e4558650092', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\n'}, {'number': 3, 'created': '2022-11-08 02:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/24386aefa03b346a582f2776968b2782f3bffcfa', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\n'}, {'number': 4, 'created': '2022-11-08 21:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8f35113bb2b10918ee73d257f49bd67fc8fe0fac', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\nNeeded-By: I081928fd0e789cca793ce1575127ceec46c906be\n'}, {'number': 5, 'created': '2022-11-09 23:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fcda598acfdfd98b130867d6c07e08be6197f530', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\nNeeded-By: I081928fd0e789cca793ce1575127ceec46c906be\n'}, {'number': 6, 'created': '2022-11-10 10:06:44.000000000', 'files': ['gerrit/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/963110054d923a334819f30b87c0f2eb69f236e2', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\nNeeded-By: I081928fd0e789cca793ce1575127ceec46c906be\n'}]",5,863955,963110054d923a334819f30b87c0f2eb69f236e2,21,5,6,30110,,,0,"Add the infinidat-tools charm to Openstack charms

Change-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d
Needed-By: I081928fd0e789cca793ce1575127ceec46c906be
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/863955/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,bb360ebbf7921a6f36c4d86d17910b68b1cf7dc5,charm-infinidat-tools, - openstack/charm-infinidat-tools,,6,0
openstack%2Fkolla~865516,openstack/kolla,master,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-24 09:30:48.000000000,2022-11-30 22:30:31.000000000,2022-11-30 22:28:54.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-24 09:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4972c2d91dd93138a79712c3727ec16aa452c205', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}, {'number': 2, 'created': '2022-11-30 14:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0828e0dc0cd1728c430094b8f76e92e80ba80057', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}, {'number': 3, 'created': '2022-11-30 17:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/19e0ae50194e83b42bc222fb1867ee2f18350d0a', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}, {'number': 4, 'created': '2022-11-30 18:00:12.000000000', 'files': ['kolla/image/tasks.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6be0068f376b0ae67bc81b50a97e042a88317d28', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}]",3,865516,6be0068f376b0ae67bc81b50a97e042a88317d28,25,4,4,35536,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/865516/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/tasks.py'],1,4972c2d91dd93138a79712c3727ec16aa452c205,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Fkolla~866171,openstack/kolla,master,I1d624bd2f87be93a386147c5d7403a5524e41633,base: Rocky Linux 9.1 was released,MERGED,2022-11-30 14:25:23.000000000,2022-11-30 22:29:48.000000000,2022-11-30 22:28:51.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-11-30 14:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7491af6798c410c422f971b689ba521c16aa9c9', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}, {'number': 2, 'created': '2022-11-30 17:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/66c2eac74d23eb2e45306ccd7dbb3a806fa45d46', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}, {'number': 3, 'created': '2022-11-30 17:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/53fb66093c392d81f9d6b3b358a342567e342561', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nTelegraf also needs to be marked unbuildable because of [1].\n\n[1]: https://github.com/influxdata/telegraf/issues/12303\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}, {'number': 4, 'created': '2022-11-30 17:59:53.000000000', 'files': ['kolla/image/unbuildable.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6012bde6ca0e50927699b47fbdb737845ee49ed', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nTelegraf also needs to be marked unbuildable because of [1].\n\n[1]: https://github.com/influxdata/telegraf/issues/12303\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}]",2,866171,c6012bde6ca0e50927699b47fbdb737845ee49ed,20,4,4,24072,,,0,"base: Rocky Linux 9.1 was released

And they use release version in /etc/os-release so we need to adapt.

Telegraf also needs to be marked unbuildable because of [1].

[1]: https://github.com/influxdata/telegraf/issues/12303

Change-Id: I1d624bd2f87be93a386147c5d7403a5524e41633
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/866171/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,e7491af6798c410c422f971b689ba521c16aa9c9,," 'rocky': 'Rocky Linux 9.1 (Blue Onyx)',"," 'rocky': 'Rocky Linux 9.0 (Blue Onyx)',",1,1
openstack%2Fmanila~863272,openstack/manila,stable/yoga,I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a,Fix Create From Snapshot with Server Limits,MERGED,2022-11-02 11:21:41.000000000,2022-11-30 22:23:41.000000000,2022-11-30 22:22:14.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-11-02 11:21:41.000000000', 'files': ['releasenotes/notes/fix-creating-from-snapshot-server-limit-7b575c7cbf081efc.yaml', 'manila/share/manager.py', 'doc/source/admin/shared-file-systems-share-server-management.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/ba1fa6522fecfb84ea4a3ea334aa052a4a22df26', 'message': 'Fix Create From Snapshot with Server Limits\n\nShare Server limits must be ignored in case the new share is\nfrom a snapshot and same host as the parent, since they must\nbe in the same server.\n\nCloses-bug: #1918845\nChange-Id: I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a\n(cherry picked from commit 3bd8fe3cfe5f9e9bffb18f0a6ae669bc83c1c665)\n'}]",3,863272,ba1fa6522fecfb84ea4a3ea334aa052a4a22df26,12,5,1,35458,,,0,"Fix Create From Snapshot with Server Limits

Share Server limits must be ignored in case the new share is
from a snapshot and same host as the parent, since they must
be in the same server.

Closes-bug: #1918845
Change-Id: I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a
(cherry picked from commit 3bd8fe3cfe5f9e9bffb18f0a6ae669bc83c1c665)
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/863272/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-creating-from-snapshot-server-limit-7b575c7cbf081efc.yaml', 'manila/share/manager.py', 'doc/source/admin/shared-file-systems-share-server-management.rst']",3,ba1fa6522fecfb84ea4a3ea334aa052a4a22df26,bug/1918845," .. note:: The limits can be ignored when placing a new share created from parent snapshot in the same host as the parent. For this scenario, the share server must be the same, so it does not take the limit in account, reusing the share server anyway.",,17,2
openstack%2Fmanila~863282,openstack/manila,stable/yoga,Ia6bbde9aa1702be83f737ab6876a522fa30381c7,[Infinidat] add support for TLS/SSL communication,MERGED,2022-11-02 12:05:42.000000000,2022-11-30 22:20:41.000000000,2022-11-30 22:19:05.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-11-02 12:05:42.000000000', 'files': ['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1986653-infinidat-add-ssl-options-ee91f152bbd28080.yaml', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c', 'message': ""[Infinidat] add support for TLS/SSL communication\n\nInfinidat driver doesn't support TLS/SSL communication\nand uses plain HTTP for storage management operations.\n\nThis patch adds support for SSL/TLS communication for\nstorage management operations. Use `infinidat_use_ssl`\nunder backend section to enable or disable TLS/SSL\ncommunication between the Manila share service and the\nstorage backend. And `infinidat_suppress_ssl_warnings`\nunder backend section to suppress requests library SSL\ncertificate warnings.\n\nCloses-Bug: #1986653\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7\n(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)\n""}]",2,863282,fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c,12,3,1,35075,,,0,"[Infinidat] add support for TLS/SSL communication

Infinidat driver doesn't support TLS/SSL communication
and uses plain HTTP for storage management operations.

This patch adds support for SSL/TLS communication for
storage management operations. Use `infinidat_use_ssl`
under backend section to enable or disable TLS/SSL
communication between the Manila share service and the
storage backend. And `infinidat_suppress_ssl_warnings`
under backend section to suppress requests library SSL
certificate warnings.

Closes-Bug: #1986653
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
Change-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7
(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)
",git fetch https://review.opendev.org/openstack/manila refs/changes/82/863282/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1986653-infinidat-add-ssl-options-ee91f152bbd28080.yaml', 'manila/share/drivers/infinidat/infinibox.py']",3,fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c,bug/1986653,"# Copyright 2022 Infinidat Ltd.import requests try: import infinisdk except ImportError: 'Infinibox storage system.'), cfg.BoolOpt('infinidat_use_ssl', help='Use SSL to connect to the INFINIDAT Infinibox storage ' 'system.', default=False), cfg.BoolOpt('infinidat_suppress_ssl_warnings', help='Suppress requests library SSL certificate warnings.', default=False), ] def _setup_and_get_system_object(self, management_address, auth, use_ssl): system = infinisdk.InfiniBox(management_address, auth=auth, use_ssl=use_ssl) if capacity is None: msg = _(""Missing 'capacity' python module, ensure the library"" "" is installed and available."") raise exception.ManilaException(message=msg) if self.configuration.safe_get('infinidat_suppress_ssl_warnings'): LOG.warning('Suppressing requests library SSL Warnings') rpu = requests.packages.urllib3 # pylint: disable=no-member rpu.disable_warnings(rpu.exceptions.InsecureRequestWarning) rpu.disable_warnings(rpu.exceptions.InsecurePlatformWarning) use_ssl = self.configuration.safe_get('infinidat_use_ssl') self._system = self._setup_and_get_system_object(management_address, auth, use_ssl)","# Copyright 2017 Infinidat Ltd. import infinisdk 'Infinibox storage system.'), ] def _setup_and_get_system_object(self, management_address, auth): system = infinisdk.InfiniBox(management_address, auth=auth) self._system = ( self._setup_and_get_system_object(management_address, auth))",67,9
openstack%2Ftripleo-ansible~863872,openstack/tripleo-ansible,master,I38deaff740b2fcdcd7bc74ce81a2164121de11af,Modify how tripleo_nftables gets its configurations,MERGED,2022-11-07 12:35:18.000000000,2022-11-30 22:07:31.000000000,2022-11-30 22:06:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-07 12:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd5d54dc9186d2aa5c516241eb91ea8349444a6a', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 2, 'created': '2022-11-07 13:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c672a8fabb4fe5e5f72afe3e52521f99cfa5d962', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 3, 'created': '2022-11-07 13:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2062d24a1434ff8095b1487ce8972b1494f10291', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 4, 'created': '2022-11-07 13:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d42492a1d23af26f95202aec01396a3160806b5', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 5, 'created': '2022-11-09 10:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/525982116feb144e6acf732a5d3aa8c60fadfddf', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 6, 'created': '2022-11-10 14:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ee7100d58a5140a42caee70107d455fe4f2222c', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content, as\nYAML\n- tripleo_nftables_from_files: gather snippets, merge the contents, sorts\nthe rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 7, 'created': '2022-11-10 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9694d8510f923da948c5fbef7197ab964e922afc', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 8, 'created': '2022-11-11 11:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43ab72148cf9ed2ee974f34db5c43fd36ebe2fbe', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 9, 'created': '2022-11-11 13:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/638b47009cb4485a6951bf41812c8f6ee3f6a9fa', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 10, 'created': '2022-11-14 07:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/993e044234aa72a2acfaa5a64208890fe6887f00', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 11, 'created': '2022-11-14 12:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6026f5fddedcec3ffee277ffed1b2f65c6c9e820', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 12, 'created': '2022-11-16 10:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2abcc480e8c77b0ed30568a8c560eb852fdd35f7', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 13, 'created': '2022-11-21 09:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/087c6625270e267860448c3255d91cd2113a38f9', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 14, 'created': '2022-11-24 10:32:17.000000000', 'files': ['tripleo_ansible/roles/tripleo_nftables/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nftables_snippet.py', 'tripleo_ansible/roles/tripleo_nftables/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_nftables/files/00-base-rules.yaml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/update_rules/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nftables_from_files.py', 'tripleo_ansible/roles/tripleo_nftables/molecule/update_rules/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/update_rules/molecule.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6dd406621c9fe4dac5db78e84028a3f93b24bcf', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}]",27,863872,f6dd406621c9fe4dac5db78e84028a3f93b24bcf,65,7,14,28223,,,0,"Modify how tripleo_nftables gets its configurations

From now on, tripleo_nftables will use a directory containing rules
snippets instead of a parameter.

This will allow to push snippets from other roles during the deploy,
and then configure the firewall.

We therefore add two new modules:
- tripleo_nftables_snippet: creates files with the relevant content,
as YAML
- tripleo_nftables_from_files: gather snippets, merge the contents,
sorts the rules and pass the whole list to its output.

The tripleo_firewall role is now creating a snippet based on the
current parameter, so that we're still 100% compatible with
tripleo-heat-templates way of pushing things in.

This new usage is especially interesting for the standalone
roles/playbooks deploy, since each service role will just need to:
- ensure the destination directory exists
- push its rule snippet in there, in the tripleo_nftables format, in
  YAML
- call the ""configure.yaml"" from tripleo_nftables in order to get the
  rules added/processed (and, eventually, the playbook will call the
  run.yaml to apply things)

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392
Change-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/863872/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nftables/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_nftables/files/00-base-rules.yaml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nftables_from_files.py', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/prepare.yml']",13,cd5d54dc9186d2aa5c516241eb91ea8349444a6a,standalone/firewall," - name: Create snippet directory ansible.builtin.file: path: /tmp/tripleo-firewall state: directory - name: Push snippet for source ansible.builtin.copy: dest: /tmp/tripleo-firewall/source.yml content: | - rule_name: '000 related established' rule: proto: all state: - established - related - rule_name: '001 local' rule: proto: all interface: lo state: [] - rule_name: '010 testing source' rule: proto: tcp source: ""fd00:fd00:fd00:2000::/64"" dport: 1211",,285,132
openstack%2Fproject-config~863954,openstack/project-config,master,Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf,Add the cinder-infinidat charm to Openstack charms,MERGED,2022-11-08 01:38:43.000000000,2022-11-30 22:01:18.000000000,2022-11-30 20:15:26.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 01:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfe347a4f4459415ec4adc1cd418e0f6d960f51c', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 2, 'created': '2022-11-08 01:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/047f82a5fc69762872e417764f8a19c8603bb8ca', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 3, 'created': '2022-11-08 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6112eb9482efe75efa7a05dd62dc07adcb638ce', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 4, 'created': '2022-11-08 20:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e546ec9cddd23516744f1800bd4ed1649b66d3e', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\nRequired-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\n'}, {'number': 5, 'created': '2022-11-08 21:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/11337e92362a8696c2e1e8841427a5e0029d8b4b', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 6, 'created': '2022-11-08 21:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cff7bffeb9415e262a38ed12f23831405d3a89ad', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 7, 'created': '2022-11-09 23:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/802cc4557b13fbb68be3596567263f3752a8529e', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 8, 'created': '2022-11-09 23:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/381a7ba674a235bb076c137344441c6b820c5196', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 9, 'created': '2022-11-10 10:05:10.000000000', 'files': ['gerrit/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/98ec3136822292a8771b7b7db818ae30fbdd280c', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}]",3,863954,98ec3136822292a8771b7b7db818ae30fbdd280c,27,5,9,30110,,,0,"Add the cinder-infinidat charm to Openstack charms

Needed-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630
Change-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/863954/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cfe347a4f4459415ec4adc1cd418e0f6d960f51c,charm-cinder-infinidat,- project: openstack/charm-cinder-infinidat description: Juju Charm - Cinder Infinidat backend acl-config: /home/gerrit2/acls/openstack/charm.config options: - delay-release,,5,0
openstack%2Fproject-config~863165,openstack/project-config,master,I718d7d0f297a05008255cf02cb4b9d1d41d7377f,Add repository for Skyline installation by OpenStack-Ansible,MERGED,2022-11-01 17:12:40.000000000,2022-11-30 21:06:21.000000000,2022-11-30 20:12:59.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-11-01 17:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/44785fae02bb09e90c364c10d008edf0114ef20e', 'message': 'Add repository for Skyline installation by OpenStack-Ansible\n\nChange-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f\n'}, {'number': 2, 'created': '2022-11-01 17:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/db2e9bf5ea352798d6e2b62d46056b3548db75ca', 'message': 'Add repository for Skyline installation by OpenStack-Ansible\n\nNeeded-By: https://review.opendev.org/c/openstack/governance/+/863166\nChange-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f\n'}, {'number': 3, 'created': '2022-11-07 14:23:48.000000000', 'files': ['gerrit/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b0dbdac3f10bcf55aee6ac275869957695f1cd7', 'message': 'Add repository for Skyline installation by OpenStack-Ansible\n\nNeeded-By: https://review.opendev.org/c/openstack/governance/+/863166\nChange-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f\n'}]",2,863165,1b0dbdac3f10bcf55aee6ac275869957695f1cd7,17,6,3,28619,,,0,"Add repository for Skyline installation by OpenStack-Ansible

Needed-By: https://review.opendev.org/c/openstack/governance/+/863166
Change-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/863165/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,44785fae02bb09e90c364c10d008edf0114ef20e,osa/skyline,- project: openstack/openstack-ansible-os_skyline description: Role os_skyline for OpenStack-Ansible groups: - openstack-ansible docimpact-group: openstack-ansible acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config,,6,0
openstack%2Fgovernance~863958,openstack/governance,master,I33b90b5dc9e23f146f1d0fc256317a72bd7e0630,Add the cinder-infinidat charm to Openstack charms,MERGED,2022-11-08 02:51:55.000000000,2022-11-30 20:55:36.000000000,2022-11-30 20:53:47.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 02:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/74d96865421adf14126b9e40c7a7d1769f69df8d', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nThis charm implements Infinidat backend for Cinder, acting as\na subordinate charm.\n\nDepends-On: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\nChange-Id: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\n'}, {'number': 2, 'created': '2022-11-08 22:57:49.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/6ac8f7c85ef212321a9f1df7f5fd7a5ca58cee7b', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nThis charm implements Infinidat backend for Cinder, acting as\na subordinate charm.\n\nDepends-On: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\nChange-Id: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\n'}]",1,863958,6ac8f7c85ef212321a9f1df7f5fd7a5ca58cee7b,15,4,2,30110,,,0,"Add the cinder-infinidat charm to Openstack charms

This charm implements Infinidat backend for Cinder, acting as
a subordinate charm.

Depends-On: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf
Change-Id: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630
",git fetch https://review.opendev.org/openstack/governance refs/changes/58/863958/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,74d96865421adf14126b9e40c7a7d1769f69df8d,project-update, charm-cinder-infinidat: release-management: external repos: - openstack/charm-cinder-infinidat,,4,0
openstack%2Fgovernance~863166,openstack/governance,master,I5687eb246b518f9881d0df0a466936359d515e14,Add Skyline repository for OpenStack-Ansible,MERGED,2022-11-01 17:15:15.000000000,2022-11-30 20:54:49.000000000,2022-11-30 20:53:44.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-01 17:15:15.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bd074b5916dac6903b03ffcb413e02359a3036bc', 'message': 'Add Skyline repository for OpenStack-Ansible\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/863165\nChange-Id: I5687eb246b518f9881d0df0a466936359d515e14\n'}]",2,863166,bd074b5916dac6903b03ffcb413e02359a3036bc,13,5,1,28619,,,0,"Add Skyline repository for OpenStack-Ansible

Depends-On: https://review.opendev.org/c/openstack/project-config/+/863165
Change-Id: I5687eb246b518f9881d0df0a466936359d515e14
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/863166/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,bd074b5916dac6903b03ffcb413e02359a3036bc,project-update, - openstack/openstack-ansible-os_skyline,,1,0
openstack%2Fgovernance~864068,openstack/governance,master,I932b805e0f7d44040bad9c28ca4799f243f651af,Add the manila-infinidat charm to Openstack charms,MERGED,2022-11-08 23:04:33.000000000,2022-11-30 20:53:46.000000000,2022-11-30 20:53:46.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 23:04:33.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7b80239a8591d912dbd12d24df40773731440f3e', 'message': 'Add the manila-infinidat charm to Openstack charms\n\nThis charm implements Infinidat backend for Manila, acting as\na subordinate charm.\n\nDepends-On: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\nChange-Id: I932b805e0f7d44040bad9c28ca4799f243f651af\n'}]",1,864068,7b80239a8591d912dbd12d24df40773731440f3e,12,4,1,30110,,,0,"Add the manila-infinidat charm to Openstack charms

This charm implements Infinidat backend for Manila, acting as
a subordinate charm.

Depends-On: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434
Change-Id: I932b805e0f7d44040bad9c28ca4799f243f651af
",git fetch https://review.opendev.org/openstack/governance refs/changes/68/864068/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,7b80239a8591d912dbd12d24df40773731440f3e,project-update, charm-manila-infinidat: release-management: external repos: - openstack/charm-manila-infinidat,,4,0
openstack%2Fproject-config~863079,openstack/project-config,master,I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86,Deprecate OpenStack-Ansible rsyslog roles,MERGED,2022-10-31 15:35:59.000000000,2022-11-30 20:49:18.000000000,2022-11-30 20:01:16.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-31 15:35:59.000000000', 'files': ['gerrit/projects.yaml', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c338ac060bf3e30fe5bcc424e0e5cdb82d0b0884', 'message': 'Deprecate OpenStack-Ansible rsyslog roles\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/863076\nChange-Id: I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86\n'}]",0,863079,c338ac060bf3e30fe5bcc424e0e5cdb82d0b0884,8,3,1,28619,,,0,"Deprecate OpenStack-Ansible rsyslog roles

Depends-On: https://review.opendev.org/c/openstack/governance/+/863076
Change-Id: I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/863079/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml']",2,c338ac060bf3e30fe5bcc424e0e5cdb82d0b0884,osa/depreacate_rsyslog, - noop-jobs - noop-jobs, release: jobs: - announce-release,4,5
openstack%2Fmanila~862721,openstack/manila,stable/xena,I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556,Fix manila plugin.sh set backend_availability_zone,MERGED,2022-10-26 21:40:53.000000000,2022-11-30 20:41:54.000000000,2022-11-30 20:40:44.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-26 21:40:53.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/2f335893f6019929b0f0cb4347548a7645277f7a', 'message': 'Fix manila plugin.sh set backend_availability_zone\n\nManila plugin is setting the availability zone of the\nbackends without checking if it is set. As result, a CI\nconfiguring that field will not be respected.\n\nFixed by only setting the field in case its value was\nnot set before. Otherwise, keep as it is.\n\nChange-Id: I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556\n(cherry picked from commit 79af79f07b66b061ca1c47e6c5055eeaff5bd454)\n(cherry picked from commit 96fd391a06191c8037311f91f378e02fcb4c2f63)\n'}]",3,862721,2f335893f6019929b0f0cb4347548a7645277f7a,12,3,1,16643,,,0,"Fix manila plugin.sh set backend_availability_zone

Manila plugin is setting the availability zone of the
backends without checking if it is set. As result, a CI
configuring that field will not be respected.

Fixed by only setting the field in case its value was
not set before. Otherwise, keep as it is.

Change-Id: I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556
(cherry picked from commit 79af79f07b66b061ca1c47e6c5055eeaff5bd454)
(cherry picked from commit 96fd391a06191c8037311f91f378e02fcb4c2f63)
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/862721/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2f335893f6019929b0f0cb4347548a7645277f7a,," for any enabled backends that do not use the Generic driver and have \ not been set previously. Availability zones for the Generic driver \ must coincide with those created for Nova and Cinder."" az=$(iniget $MANILA_CONF $BE backend_availability_zone) if [[ -z $az && $share_driver != $generic_driver ]]; then"," for any enabled backends that do not use the Generic driver. \ Availability zones for the Generic driver must coincide with those \ created for Nova and Cinder."" if [[ $share_driver != $generic_driver ]]; then",5,4
openstack%2Fmanila-tempest-plugin~865811,openstack/manila-tempest-plugin,master,I027460222b7d34bb7ad00408739ab00207be0386,Fix incorrect url request for share group type extra specs,MERGED,2022-11-28 09:41:55.000000000,2022-11-30 20:40:46.000000000,2022-11-30 20:40:46.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-11-28 09:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/60ff74ace8bd8c22ab641ab43610cc720992dcfe', 'message': 'Fix incorrect url request for share group type extra specs\n\nThe url request should be change as below:\n\nfor single extra spec\n---------------------\n""group-types/%s/group_specs/%s"" => ""share-group-types/%s/group-specs/%s""\n\nfor all extra specs\n-------------------\n""share-group-types/%s/group_specs"" => ""share-group-types/%s/group-specs""\n\nRelated-Bug: #1998088\nChange-Id: I027460222b7d34bb7ad00408739ab00207be0386\n'}, {'number': 2, 'created': '2022-11-29 09:44:20.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1a22ce375bda5eb3874973068898723c1a7a40a6', 'message': 'Fix incorrect url request for share group type extra specs\n\nThe url request should be change as below:\n\nfor single extra spec\n---------------------\n""group-types/%s/group_specs/%s"" => ""share-group-types/%s/group-specs/%s""\n\nfor all extra specs\n-------------------\n""share-group-types/%s/group_specs"" => ""share-group-types/%s/group-specs""\n\nCloses-Bug: #1998088\nChange-Id: I027460222b7d34bb7ad00408739ab00207be0386\n'}]",5,865811,1a22ce375bda5eb3874973068898723c1a7a40a6,12,4,2,19262,,,0,"Fix incorrect url request for share group type extra specs

The url request should be change as below:

for single extra spec
---------------------
""group-types/%s/group_specs/%s"" => ""share-group-types/%s/group-specs/%s""

for all extra specs
-------------------
""share-group-types/%s/group_specs"" => ""share-group-types/%s/group-specs""

Closes-Bug: #1998088
Change-Id: I027460222b7d34bb7ad00408739ab00207be0386
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/11/865811/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",3,60ff74ace8bd8c22ab641ab43610cc720992dcfe,sgt-extra-specs," uri = ""share-group-types/%s/group-specs/%s"" % ( def get_share_group_type_specs(self, share_group_type_id, params=None, version=LATEST_MICROVERSION): uri = ""share-group-types/%s/group-specs"" % share_group_type_id"," uri = ""group-types/%s/group_specs/%s"" % ( def list_share_group_type_specs(self, share_group_type_id, params=None, version=LATEST_MICROVERSION): uri = ""share-group-types/%s/group_specs"" % share_group_type_id",65,4
openstack%2Fproject-config~817272,openstack/project-config,master,If174ac3f30219c2dcad5e8dfa89e0c80021d6514,And ansible-role-proxysql repo to zuul jobs,MERGED,2021-11-09 16:08:33.000000000,2022-11-30 20:35:44.000000000,2022-11-30 20:35:44.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 16:08:33.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/53e3430274655ff3fdc3329667446ca3e98b2610', 'message': 'And ansible-role-proxysql repo to zuul jobs\n\nChange-Id: If174ac3f30219c2dcad5e8dfa89e0c80021d6514\n'}]",2,817272,53e3430274655ff3fdc3329667446ca3e98b2610,8,2,1,28619,,,0,"And ansible-role-proxysql repo to zuul jobs

Change-Id: If174ac3f30219c2dcad5e8dfa89e0c80021d6514
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/817272/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,53e3430274655ff3fdc3329667446ca3e98b2610,osa/proxysql, name: openstack/ansible-role-proxysql templates: - official-openstack-repo-jobs - project:,,5,0
openstack%2Fansible-collections-openstack~865122,openstack/ansible-collections-openstack,master,I1ca5082d643eb97e8cb951a4bccf92b78537d917,"Refactored catalog_service{,_info} and auth modules",MERGED,2022-11-21 11:09:19.000000000,2022-11-30 20:30:48.000000000,2022-11-30 20:30:48.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-11-21 11:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f596e4424c608e7300b2f57f3c0f393b4adb8659', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 2, 'created': '2022-11-23 19:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e735649b68248a68844a397ae6dfc0e28f6b16b2', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 3, 'created': '2022-11-24 09:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dc5ca882927aeeaca93a61133850a4e627a238fe', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 4, 'created': '2022-11-30 09:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1ed59840672b5710cce7414829ed50d9f7f2f66c', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 5, 'created': '2022-11-30 09:53:36.000000000', 'files': ['meta/runtime.yml', 'ci/roles/catalog_service/tasks/main.yml', 'ci/roles/auth/defaults/main.yml', 'plugins/modules/catalog_service.py', 'plugins/modules/auth.py', 'ci/roles/auth/tasks/main.yml', 'ci/roles/catalog_service/defaults/main.yml', 'plugins/modules/catalog_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1ca6f208f7c3b5b661ec1966caf241bfb49c35b4', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}]",3,865122,1ca6f208f7c3b5b661ec1966caf241bfb49c35b4,26,4,5,32962,,,0,"Refactored catalog_service{,_info} and auth modules

Replaced service_catalog return value in auth module with new
catalog_service_info module.

Change-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/22/865122/1 && git format-patch -1 --stdout FETCH_HEAD,"['meta/runtime.yml', 'ci/roles/catalog_service/tasks/main.yml', 'ci/roles/auth/defaults/main.yml', 'plugins/modules/catalog_service.py', 'plugins/modules/auth.py', 'ci/roles/auth/tasks/main.yml', 'ci/roles/catalog_service/defaults/main.yml', 'plugins/modules/catalog_service_info.py']",8,f596e4424c608e7300b2f57f3c0f393b4adb8659,catalog_service,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2022 by Red Hat, Inc. # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = r''' module: catalog_service_info short_description: Retrieve information about services from OpenStack author: OpenStack Ansible SIG description: - Retrieve information about services from OpenStack. options: name: description: - Name or ID of the service. type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = r''' - name: Fetch all services openstack.cloud.catalog_service_info: cloud: devstack - name: Fetch a single service openstack.cloud.catalog_service_info: cloud: devstack name: heat ''' RETURN = r''' services: description: List of dictionaries the services. returned: always type: list elements: dict contains: id: description: Service ID. type: str sample: ""3292f020780b4d5baf27ff7e1d224c44"" name: description: Service name. type: str sample: ""glance"" type: description: Service type. type: str sample: ""image"" description: description: Service description. type: str sample: ""OpenStack Image Service"" is_enabled: description: Service status. type: bool sample: True links: description: Link of the service type: str sample: http://10.0.0.1/identity/v3/services/0ae87 ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( OpenStackModule ) class CatalogServiceInfoModule(OpenStackModule): argument_spec = dict( name=dict(), ) module_kwargs = dict( supports_check_mode=True, ) def run(self): name_or_id = self.params['name'] if name_or_id: service = self.conn.identity.find_service(name_or_id) services = [service] if service else [] else: services = self.conn.identity.services() self.exit_json(changed=False, services=[s.to_dict(computed=False) for s in services]) def main(): module = CatalogServiceInfoModule() module() if __name__ == ""__main__"": main() ",,267,140
openstack%2Ftripleo-common~865692,openstack/tripleo-common,master,I030518bb8807aad9fb0d480a130d327522de707d,Generic inventory and playbook,MERGED,2022-11-25 13:55:57.000000000,2022-11-30 19:39:08.000000000,2022-11-30 19:38:05.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}]","[{'number': 1, 'created': '2022-11-25 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32f62790218277b60698da2db612726d6193c0b7', 'message': 'Generic inventory to run standalone roles\n\nThis pach introduces the new inventory.yaml, a generic inventory\nthat can be configured inside the ansible-runner container using\nan environment variable. This removes the need of having to create\nan inventory ConfigMap per execution\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variable in [1]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}, {'number': 2, 'created': '2022-11-25 14:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62f6a2aa9a066dd11e432521a55e27d345075f74', 'message': 'Generic inventory and playbook\n\nThis pach introduces the new inventory.yaml, a generic inventory\nthat can be configured inside the ansible-runner container using\nan environment variable. This removes the need of having to create\nan inventory ConfigMap per execution. It does the same with\na playbook, giving the change to execute arbitrary playbooks from\nthe operator.\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variables in [1] and [2]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}, {'number': 3, 'created': '2022-11-29 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d2f37e181d47ac9d6848f8dc5408fc044876970', 'message': 'Generic inventory and playbook\n\nThis patch introduces the capacity for the tripleo_entrypoint.sh\nscript to generate an inventory and/or a playbook from env\nvariables passed to the runner container by the operator itself\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variables in [1] and [2]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}, {'number': 4, 'created': '2022-11-29 17:22:58.000000000', 'files': ['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh', 'container-images/tcib/tripleo-ansible-ee/tripleo-ansible-ee.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f8a19eb15d0228acaa7a152a3cb235a27dc7bac', 'message': 'Generic inventory and playbook\n\nThis patch introduces the capacity for the tripleo_entrypoint.sh\nscript to generate an inventory and/or a playbook from env\nvariables passed to the runner container by the operator itself\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variables in [1] and [2]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}]",4,865692,7f8a19eb15d0228acaa7a152a3cb235a27dc7bac,22,8,4,32968,,,0,"Generic inventory and playbook

This patch introduces the capacity for the tripleo_entrypoint.sh
script to generate an inventory and/or a playbook from env
variables passed to the runner container by the operator itself

The ansibleee-operator will take care of filling the contents of the
env variables in [1] and [2]

[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20
[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9

Change-Id: I030518bb8807aad9fb0d480a130d327522de707d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/865692/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh', 'container-images/kolla/tripleo-ansible-ee/inventory.yaml']",2,32f62790218277b60698da2db612726d6193c0b7,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ${RUNNER_INVENTORY}",,18,0
openstack%2Ftripleo-common~865991,openstack/tripleo-common,stable/zed,Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,Align tss user config with qemu and nova use cases,MERGED,2022-11-29 14:56:48.000000000,2022-11-30 19:38:57.000000000,2022-11-30 19:38:00.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 14:56:48.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ec3b1adcee60757e362a493d9c70ba8c0ed114a', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nThere is no upgrade impact as vTPM had never been technically released\nin the layered downstream product.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 7981fdd68a9bfa52e82be42d8e1b1a24484bf928)\n'}]",0,865991,2ec3b1adcee60757e362a493d9c70ba8c0ed114a,9,4,1,6926,,,0,"Align tss user config with qemu and nova use cases

In order to fix swtpm logs access permissions and to use the same
approach among Compute specific users (qemu, tss, libvirt, nova):

* Add nova to tss group for swtpm tool to function in virtqemud
  when running w/o root access.
* Change tss user uid/gid/home dir config in TCIB similarly to qemu,
  for consistency reasons.

There is no upgrade impact as vTPM had never been technically released
in the layered downstream product.

Related: rhbz#1782128

Change-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 7981fdd68a9bfa52e82be42d8e1b1a24484bf928)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/865991/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/uid_gid_manage.sh'],1,2ec3b1adcee60757e362a493d9c70ba8c0ed114a,swtpm_logs-stable/zed,"_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,tss,kolla'_SUPPORTED_USERS['tss']='tss 59 59'","_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,kolla'_SUPPORTED_USERS['tss']='tss 42485 42485 /var/lib/tpm kolla'",2,2
openstack%2Ftripleo-heat-templates~865992,openstack/tripleo-heat-templates,stable/zed,I3ae7abb70fae447c9b62e3af9da8e2444d4d5878,Nova: Generate wrapper scripts during config file generation,MERGED,2022-11-29 14:59:25.000000000,2022-11-30 19:38:02.000000000,2022-11-30 19:38:02.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 14:59:25.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d59e32ef5be660696e20333abd01df5c3d818627', 'message': 'Nova: Generate wrapper scripts during config file generation\n\n... instead of launching separate containers. The wrapper scripts can\nbe created without access to any processes.\n\nNote that this change moves the script from\n /var/lib/container-config-scripts\nto\n /var/lib/libvirt/scripts\nbecause the container-config-scripts directory is not available when\npuppet is executed to generate config files.\n\nChange-Id: I3ae7abb70fae447c9b62e3af9da8e2444d4d5878\n(cherry picked from commit b29ccd30e294ef0d4b50ad1ecb59dc776109b451)\n'}]",2,865992,d59e32ef5be660696e20333abd01df5c3d818627,10,4,1,6926,,,0,"Nova: Generate wrapper scripts during config file generation

... instead of launching separate containers. The wrapper scripts can
be created without access to any processes.

Note that this change moves the script from
 /var/lib/container-config-scripts
to
 /var/lib/libvirt/scripts
because the container-config-scripts directory is not available when
puppet is executed to generate config files.

Change-Id: I3ae7abb70fae447c9b62e3af9da8e2444d4d5878
(cherry picked from commit b29ccd30e294ef0d4b50ad1ecb59dc776109b451)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/865992/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml']",2,d59e32ef5be660696e20333abd01df5c3d818627,," tripleo::profile::base::nova::virtlogd_wrapper::virtlogd_process_wrapper: '/var/lib/libvirt/scripts/virtlogd_wrapper' include tripleo::profile::base::nova::virtlogd_wrapper volumes: - /var/lib/libvirt/scripts:/var/lib/libvirt/scripts:shared,z - - /var/lib/libvirt/scripts/virtlogd_wrapper:/usr/local/bin/virtlogd_wrapper:ro - { 'path': /var/lib/libvirt/scripts, 'setype': container_file_t }"," tripleo::profile::base::nova::virtlogd_wrapper::virtlogd_process_wrapper: '/var/lib/container-config-scripts/virtlogd_wrapper' step_2: create_virtlogd_wrapper: start_order: 1 detach: false cgroupns: host net: host pid: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '4' - 'file' - 'include ::tripleo::profile::base::nova::virtlogd_wrapper' image: {get_attr: [RoleParametersValue, value, ContainerNovaLibvirtImage]} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - - /var/lib/container-config-scripts:/var/lib/container-config-scripts:shared,z environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} - - /var/lib/container-config-scripts/virtlogd_wrapper:/usr/local/bin/virtlogd_wrapper:ro",13,52
openstack%2Fproject-config~861457,openstack/project-config,master,I9fb9758f8deddc3c76fb22fc859291dea8cfcd43,Add an Ubuntu FIPS testing token,MERGED,2022-10-14 17:02:14.000000000,2022-11-30 19:22:43.000000000,2022-11-30 19:22:43.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 5263}, {'_account_id': 5314}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-14 17:02:14.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97c7084cd7eec08e46d10976b6ad4b8b8b2ec85c', 'message': 'Add an Ubuntu FIPS testing token\n\nOpenStack contributors have worked out a solution for enabling FIPS\ntesting on Ubuntu nodes, which normally requires a paid\nsubscription. The ""token"" field of the ""openstack_ubuntu_fips""\nsecret supplied here can be applied to a test node early during job\nsetup by calling ""pro attach {{ token }}"" as root.\n\nThe secret will be replaced periodically, in order to make any\nentitlement exfiltrated from job nodes unattractive for production\nuse.\n\nChange-Id: I9fb9758f8deddc3c76fb22fc859291dea8cfcd43\n'}]",15,861457,97c7084cd7eec08e46d10976b6ad4b8b8b2ec85c,29,10,1,5263,,,0,"Add an Ubuntu FIPS testing token

OpenStack contributors have worked out a solution for enabling FIPS
testing on Ubuntu nodes, which normally requires a paid
subscription. The ""token"" field of the ""openstack_ubuntu_fips""
secret supplied here can be applied to a test node early during job
setup by calling ""pro attach {{ token }}"" as root.

The secret will be replaced periodically, in order to make any
entitlement exfiltrated from job nodes unattractive for production
use.

Change-Id: I9fb9758f8deddc3c76fb22fc859291dea8cfcd43
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/861457/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,97c7084cd7eec08e46d10976b6ad4b8b8b2ec85c,fips-testing, # Periodically rotated throw-away entitlement for FIPS support on Ubuntu # (last issued 2022-10-14) - secret: name: openstack_ubuntu_fips data: token: !encrypted/pkcs1-oaep - kms69XcCp7KUCa+qlAKiGo2D3C65euTB5RlvbgZsMKWRI6XoGDdsCyIYsThpBwvYss/Gx JODZpDJyP1XF66waNXttpBT7PNRWf2B2QzpOC6nTXjI6WJ3d3q+w3tv6D7lP676ZyagUd VhrLFZVfh0T9jCkI6nt4izwdYBJML86ilxZ4hHka3ca06IL5caAO6Dzc7iDB/+BtNO6bA MzkkdW1JLB+00vBxYrk/GNw8Fkd6Ms1ZaxvFwElwUzjOvmqJFPRsuYwzGlKoqXOlcTF87 luq/4sVzSNSeU9SR+d2TEJB/dH+8pq8gyHiKqce24wMXqPNAQGT7Oa/bmmcPhmInbBjjA Pquw3SJpa754PnyVwvsJt78f3Jgd2513hbYQq90uUgjOwAbNxbaSXoyIAAW2J0GQdWfyj F9ieouvDpZmkDCRBr/YA3XOIhdDmglUZxynjOt1aLeSVH3R2EPbE4AIp0n8A2TG2KfBfb jPJg4FIyS0HXAaJqNy4L0nq86zzH3M7dZs60mrLiQdnjHRrkSSCrQfPBrpKI0KLSGT+l+ FcA753WnBbBX1e4WALrn9rPp4EfGK7UqcvBBk2WOJ173cmCGpW/twvE0sI4eXvSfcaKGR psrzBw0oBoW1Fg6ctWsAgSnwLbeKv9GLhdLq2ml04V84jrJur8+sVHXV8w6xf0=,,17,0
openstack%2Fnova~855022,openstack/nova,stable/yoga,I34dae6fdb746205f0baa4997e69eec55634bec4d,refactor: remove duplicated logic,MERGED,2022-08-29 12:59:07.000000000,2022-11-30 19:06:55.000000000,2022-11-30 19:05:47.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bba330a1e6c09564b27bbbd85f42519c5b1598e', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3a238a7ab99e0a84a2b84542d4eae730b4e0c54', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 7bba330a1e6c09564b27bbbd85f42519c5b1598e)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1457c5ee9b1ef1c5a672034b1466badf61ff8a7', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/683cbd06336bba37d033c292c4c0ea83e06d9c07', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)\n'}]",3,855022,683cbd06336bba37d033c292c4c0ea83e06d9c07,22,3,4,11604,,,0,"refactor: remove duplicated logic

Remove _update_port_pci_binding_profile and replace its usage with
_get_pci_device_profile.

Change-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d
(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/855022/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,7bba330a1e6c09564b27bbbd85f42519c5b1598e,bug/1970467, binding_profile.update( self._get_pci_device_profile(pci_dev) )," def _update_port_pci_binding_profile(self, pci_dev, binding_profile): """"""Update the binding profile dict with new PCI device data. :param pci_dev: The PciDevice object to update the profile with. :param binding_profile: The dict to update. """""" binding_profile.update({'pci_slot': pci_dev.address}) if binding_profile.get('card_serial_number'): binding_profile.update({ 'card_serial_number': pci_dev.card_serial_number}) if binding_profile.get('pf_mac_address'): binding_profile.update({ 'pf_mac_address': pci_utils.get_mac_by_pci_address( pci_dev.parent_addr)}) if binding_profile.get('vf_num'): binding_profile.update({ 'vf_num': pci_utils.get_vf_num_by_pci_address( pci_dev.address)}) self._update_port_pci_binding_profile(pci_dev, binding_profile)",3,21
openstack%2Fansible-collections-openstack~864902,openstack/ansible-collections-openstack,master,If210789edac2768178ccf323ec5be12f0c439a0f,Refactored subnet_pool module,MERGED,2022-11-17 14:03:14.000000000,2022-11-30 18:13:34.000000000,2022-11-30 18:13:34.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-11-17 14:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/843652d8bee2e2bcd1615f13650fc84e03c7a86a', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 2, 'created': '2022-11-17 15:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/96111571ab444ae62b39f49759bae57af81cd73d', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 3, 'created': '2022-11-17 15:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7d98c9de6d37a52a48a3695106e67619183ea9b5', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 4, 'created': '2022-11-23 19:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bde9fdc9bb09dcce2d65e270b0bf927144e18be2', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 5, 'created': '2022-11-30 09:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/15b882e38acf99eabcd7bd9c188d199c0a3f63e9', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 6, 'created': '2022-11-30 09:53:14.000000000', 'files': ['ci/roles/subnet_pool/tasks/main.yaml', 'plugins/modules/subnet_pool.py', 'ci/roles/subnet_pool/tasks/main.yml', 'ci/roles/subnet_pool/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/00ec3f1c92d1ad19dd7b306115ad7b1c89a18bef', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}]",0,864902,00ec3f1c92d1ad19dd7b306115ad7b1c89a18bef,23,4,6,32962,,,0,"Refactored subnet_pool module

Change-Id: If210789edac2768178ccf323ec5be12f0c439a0f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/02/864902/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/subnet_pool/tasks/main.yaml', 'plugins/modules/subnet_pool.py', 'ci/roles/subnet_pool/tasks/main.yml', 'ci/roles/subnet_pool/defaults/main.yml']",4,843652d8bee2e2bcd1615f13650fc84e03c7a86a,subnet-pool,"address_scope_name: ""ansible_address_scope""expected_fields: - address_scope_id - created_at - default_prefix_length - default_quota - description - id - ip_version - is_default - is_shared - maximum_prefix_length - minimum_prefix_length - name - prefixes - project_id - revision_number - tags - tenant_id - updated_atminimum_prefix_length: 10 subnet_pool_name: ""ansible_subnet_pool""","subnet_pool_name: ""subnet_pool"" address_scope_name: ""address_scope""minimum_prefix_length: 10",390,295
openstack%2Fnova-specs~866108,openstack/nova-specs,master,I5564e5b865e8522c51473f09c5f5d65b080176c2,fixing: allowing target state for evacuate,MERGED,2022-11-30 08:53:23.000000000,2022-11-30 18:09:15.000000000,2022-11-30 18:07:23.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 08:53:23.000000000', 'files': ['specs/2023.1/approved/allowing-target-state-for-evacuate.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4aa1ec383945fdce2a64e1596d56793b94fa1e0b', 'message': 'fixing: allowing target state for evacuate\n\nThis is addressing some comments that was not resolved in\n  https://review.opendev.org/c/openstack/nova-specs/+/857838\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I5564e5b865e8522c51473f09c5f5d65b080176c2\n'}]",0,866108,4aa1ec383945fdce2a64e1596d56793b94fa1e0b,8,3,1,7730,,,0,"fixing: allowing target state for evacuate

This is addressing some comments that was not resolved in
  https://review.opendev.org/c/openstack/nova-specs/+/857838

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I5564e5b865e8522c51473f09c5f5d65b080176c2
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/08/866108/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/allowing-target-state-for-evacuate.rst'],1,4aa1ec383945fdce2a64e1596d56793b94fa1e0b,addressing-dansmith-comments,"- As an operator, I would like to be able to evacuate instances to a shut-off state because my tenant workloads may have specific security requirements, that do not allow them to be started by the administrator. - As an operator, I would like to be able to evacuate VMs with encrypted volumes without making the barbican secret readable by admins and reducing the security. - As a user, if my instance is offline due to a host outage, I don't necessarily want an admin evacuating it and bringing it back online without my knowledge as I may have already replaced it and the zombie coming back may cause a conflict.- An RPC change is expected to make the compute manager handle the new target state, resulting in the version being incremented. new enough to accept the request, if not the request will be rejected with a NotSupported exception.* https://docs.openstack.org/api-ref/compute/?expanded=evacuate-server-evacuate-action-detail","As an operator, I would like to be able to evacuate instances to a shut-off state because my tenant workloads may have specific security requirements, that do not allow them to be started by the administrator. As an operator, I would like to be able to evacuate VMs with encrypted volumes without making the barbican secrete readable by admins and reducing the security.- An RPC change is expected to make manager handling the new target state, resulting in the version being incremented. new enough to accept the request.* https://docs.openstack.org/api-ref/compute/?expanded=evacuate-server-evacuate-action-detai",16,11
openstack%2Fpuppet-tripleo~865884,openstack/puppet-tripleo,stable/wallaby,Ideb5a951d538d9e2c7cca11dfe0e8b99520de959,Support deploying additional internal glance-api service,MERGED,2022-11-28 19:10:58.000000000,2022-11-30 17:53:28.000000000,2022-11-30 17:53:28.000000000,"[{'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 19:10:58.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/08e48980533a74d4f89cd0c5e659e37c7d92e282', 'message': 'Support deploying additional internal glance-api service\n\nOSSN-0090 [1] recommends deploying two instances of the glance-api\nservice: a ""user facing"" service, plus an ""internal"" service that is\naccessible via keystone\'s internal endpoint.\n\nTo support this, the tripleo::profile::base::glance::api class is\nenhanced to allow overriding certain associated glance::api parameters.\nThis makes it possible to override parameters when including the\nglance::api class in order to facilitate configuring two different\ninstances of the glance-api service, each with their own configuration.\n\nThe tripleo::haproxy class is enhanced to provide HA support for running\nthe internal glance-api service on its own TCP port (defaults to 9293).\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nstable/wallaby:\n  Minor conflicts were resolved, most of which were due to using the\n  hiera() versus lookup() functions.\n\nChange-Id: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\n(cherry picked from commit b3be1dc18c8284852905797d91b67d2dcd6a1a10)\n(cherry picked from commit d5a1c0d4d870062357dff57fde78630c76d224d4)\n'}]",1,865884,08e48980533a74d4f89cd0c5e659e37c7d92e282,11,4,1,21129,,,0,"Support deploying additional internal glance-api service

OSSN-0090 [1] recommends deploying two instances of the glance-api
service: a ""user facing"" service, plus an ""internal"" service that is
accessible via keystone's internal endpoint.

To support this, the tripleo::profile::base::glance::api class is
enhanced to allow overriding certain associated glance::api parameters.
This makes it possible to override parameters when including the
glance::api class in order to facilitate configuring two different
instances of the glance-api service, each with their own configuration.

The tripleo::haproxy class is enhanced to provide HA support for running
the internal glance-api service on its own TCP port (defaults to 9293).

[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090

stable/wallaby:
  Minor conflicts were resolved, most of which were due to using the
  hiera() versus lookup() functions.

Change-Id: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959
(cherry picked from commit b3be1dc18c8284852905797d91b67d2dcd6a1a10)
(cherry picked from commit d5a1c0d4d870062357dff57fde78630c76d224d4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/865884/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/glance/api.pp']",2,08e48980533a74d4f89cd0c5e659e37c7d92e282,glance-api-internal,"# [*bind_port*] # (optional) The port the server should bind to. # Default: 9292 # # [*log_dir*] # (Optional) Directory where logs should be stored. # If set to $::os_service_default, it will not log to any directory. # Defaults to '/var/log/glance'. # # [*log_file*] # (Optional) File where logs should be stored. # If set to $::os_service_default, it will not log to any file. # Defaults to '/var/log/glance/api.log'. # # [*show_image_direct_url*] # (optional) Expose image location to trusted clients. # Defaults to false # # [*show_multiple_locations*] # (optional) Whether to include the backend image locations in image # properties. # Defaults to false # $bind_port = 9292, $log_dir = '/var/log/glance', $log_file = '/var/log/glance/api.log', $show_image_direct_url = false, $show_multiple_locations = false, class { 'glance::api::logging': log_dir => $log_dir, log_file => $log_file, } class { 'glance::api': bind_port => $bind_port, enabled_backends => $enabled_backends, default_backend => $glance_backend_id, show_image_direct_url => $show_image_direct_url, show_multiple_locations => $show_multiple_locations, sync_db => $sync_db,"," include glance::api::logging class { 'glance::api': enabled_backends => $enabled_backends, default_backend => $glance_backend_id, sync_db => $sync_db,",71,4
openstack%2Fkuryr-kubernetes~866182,openstack/kuryr-kubernetes,master,I2a65cae00f3f10dd67bb8ae779c81e73b92750ea,DNM: Testing a patch,NEW,2022-11-30 16:32:22.000000000,2022-11-30 17:52:27.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 16:32:22.000000000', 'files': ['cni_ds_init'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1d6fd68573bf3456245e9c8e257d397a940347e9', 'message': 'DNM: Testing a patch\n\nChange-Id: I2a65cae00f3f10dd67bb8ae779c81e73b92750ea\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-container/+/866130\n'}]",0,866182,1d6fd68573bf3456245e9c8e257d397a940347e9,3,2,1,11600,,,0,"DNM: Testing a patch

Change-Id: I2a65cae00f3f10dd67bb8ae779c81e73b92750ea
Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-container/+/866130
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/82/866182/1 && git format-patch -1 --stdout FETCH_HEAD,['cni_ds_init'],1,1d6fd68573bf3456245e9c8e257d397a940347e9,test,# foobar ,,2,0
openstack%2Fironic~754061,openstack/ironic,master,I058ceadab33f6969157b89aca5ba34ebd0be2a93,Create 'redfish' driver Redfish Interop Profile,MERGED,2020-09-24 10:23:22.000000000,2022-11-30 17:11:05.000000000,2022-11-25 16:51:52.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10342}, {'_account_id': 10379}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 28533}, {'_account_id': 31021}, {'_account_id': 31616}, {'_account_id': 31636}, {'_account_id': 31871}]","[{'number': 1, 'created': '2020-09-24 10:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc1090cd28cc4f9ecea9dcea2b27103573007879', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 2, 'created': '2020-09-28 10:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a57fb934ecd4a3a4d0f80f340aa66cfac99a1985', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 3, 'created': '2020-09-28 10:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/389f592094f9691b501eed69ede15812af203b89', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 4, 'created': '2020-10-14 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/83bd5d5b6dca8c4c1fb1696f0723342a8d44e8cc', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 5, 'created': '2020-10-28 10:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b6d2fd17bb0dd20b8804b12d403aa89d820de43', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 6, 'created': '2020-10-28 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba674a6445433d0139c29a24d720950fea28f736', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 7, 'created': '2020-12-02 09:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae994b5870d6306db0cd388e8d25de0eb76de8e0', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 8, 'created': '2020-12-10 09:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5189e97872a5707c35d503b667c6262f994059f', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 9, 'created': '2020-12-16 14:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4035c8189bd5c67b130ecbcac5921d51bc9f97e9', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 10, 'created': '2022-10-28 12:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/740b4b85141cccd6f723616771d7ee7a5f176865', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 11, 'created': '2022-10-28 12:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01e63f29a7df50d8f63af44b6c485ade1a8b61db', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 12, 'created': '2022-11-08 11:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d05569baa53a1fb23876c3565c92bcaa3cf0a5d', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 13, 'created': '2022-11-09 11:17:27.000000000', 'files': ['redfish-interop-profiles/OpenStackIronicProfile.v1_0_0.json', 'redfish-interop-profiles/README.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdcf3ad9edeaa4c3d573be14cf7473f5cdbd4ddb', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}]",82,754061,fdcf3ad9edeaa4c3d573be14cf7473f5cdbd4ddb,86,20,13,23847,,,0,"Create 'redfish' driver Redfish Interop Profile

Co-Authored-By: Digambar Patil <digmabar.patil@dell.com>
Co-Authored-By: Mike Raineri <michael.raineri@gmail.com>
Co-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>
Co-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>
Story: 2007345
Task: 38889
Change-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/754061/1 && git format-patch -1 --stdout FETCH_HEAD,"['redfish-interop-profiles/drivers/modules/redfish/Management.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Boot.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Utils.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Bios.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Power.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Inspect.v1_0_0.json', 'redfish-interop-profiles/drivers/RedfishByRequiredProfiles.v1_0_0.json', 'redfish-interop-profiles/drivers/OpenStackIronicRedfishDriver.v1_0_0.json']",8,dc1090cd28cc4f9ecea9dcea2b27103573007879,story/2007345,"{ ""@Redfish.Copyright"": ""Copyright (c) 2020 Dell Inc. or its subsidiaries."", ""@Redfish.License"": ""Apache License, Version 2.0. For full text, see link: http://www.apache.org/licenses/LICENSE-2.0"", ""SchemaDefinition"": ""RedfishInteroperabilityProfile.v1_3_1"", ""ProfileName"": ""OpenStackIronicRedfishDriver"", ""ProfileVersion"": ""1.0.0"", ""Purpose"": ""Specifies the OpenStack ironic vendor-independent redfish hardware type requirements of a Redfish service implementation, typically offered by a baseboard management controller (BMC)."", ""OwningEntity"": ""Dell Inc."", ""ContactInfo"": ""digmabar.patil@dell.com, richard.pioso@dell.com, michael.raineri@gmail.com, pranjali.shrivastava@dell.com, dhuldev.valekar@dell.com"", ""Protocol"": { ""MinVersion"": ""1.0.0"" } } ",,650,0
openstack%2Fovn-octavia-provider~865907,openstack/ovn-octavia-provider,stable/yoga,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:11.000000000,2022-11-30 16:50:33.000000000,2022-11-30 16:49:20.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:11.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/27ce0c0fe0b83589ceb7bf132d1f80fa5b2fbab6', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",5,865907,27ce0c0fe0b83589ceb7bf132d1f80fa5b2fbab6,25,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/07/865907/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,27ce0c0fe0b83589ceb7bf132d1f80fa5b2fbab6,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fcharm-nova-compute~864851,openstack/charm-nova-compute,stable/ussuri,I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 09:49:14.000000000,2022-11-30 16:47:48.000000000,2022-11-30 16:47:48.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 09:49:14.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/35d248f91669cf486ea095ee33e2a3ce83f15207', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1\n'}]",3,864851,35d248f91669cf486ea095ee33e2a3ce83f15207,11,5,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/51/864851/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,35d248f91669cf486ea095ee33e2a3ce83f15207,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Frequirements~866125,openstack/requirements,master,I085e68fa90e85e5d48c76f863cb230b7073a3919,Pin Yappi to version 1.4.0,MERGED,2022-11-30 10:08:43.000000000,2022-11-30 16:46:11.000000000,2022-11-30 16:45:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 10:08:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/effd49530b5123ee3305799cee19aff94fad6922', 'message': 'Pin Yappi to version 1.4.0\n\nOlder versions fail to build with Python 3.11 [1]. This breaks tox\nenvironments when running it with Python 3.11.\n\n[1]: https://github.com/sumerc/yappi/issues/104\n\nChange-Id: I085e68fa90e85e5d48c76f863cb230b7073a3919\n'}]",0,866125,effd49530b5123ee3305799cee19aff94fad6922,8,2,1,34429,,,0,"Pin Yappi to version 1.4.0

Older versions fail to build with Python 3.11 [1]. This breaks tox
environments when running it with Python 3.11.

[1]: https://github.com/sumerc/yappi/issues/104

Change-Id: I085e68fa90e85e5d48c76f863cb230b7073a3919
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/866125/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,effd49530b5123ee3305799cee19aff94fad6922,pin-yappi-1.4.0,yappi===1.4.0,yappi===1.3.6,1,1
openstack%2Fcharm-nova-compute~864880,openstack/charm-nova-compute,stable/victoria,I55b9c80aeb2881151d38bf07889d2e454755d9f5,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:52:31.000000000,2022-11-30 16:45:31.000000000,2022-11-30 16:45:31.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:52:31.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/01bf1f46bf05b81098f28aad53bca8ac8a0f7dc4', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I55b9c80aeb2881151d38bf07889d2e454755d9f5\n'}]",2,864880,01bf1f46bf05b81098f28aad53bca8ac8a0f7dc4,9,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I55b9c80aeb2881151d38bf07889d2e454755d9f5
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/80/864880/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,01bf1f46bf05b81098f28aad53bca8ac8a0f7dc4,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~864881,openstack/charm-nova-compute,stable/wallaby,Ia8d62de27ce59278722c58a2328b0301f461adbb,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:08.000000000,2022-11-30 16:45:28.000000000,2022-11-30 16:45:28.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:08.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/42893457b15aced6a088a7e48b766d1620b0f169', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: Ia8d62de27ce59278722c58a2328b0301f461adbb\n'}]",2,864881,42893457b15aced6a088a7e48b766d1620b0f169,9,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: Ia8d62de27ce59278722c58a2328b0301f461adbb
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/81/864881/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,42893457b15aced6a088a7e48b766d1620b0f169,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~864882,openstack/charm-nova-compute,stable/xena,I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:29.000000000,2022-11-30 16:44:54.000000000,2022-11-30 16:44:54.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:29.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7a9aef21542b3fb3216b38643737746fcf1e1179', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960\n'}]",8,864882,7a9aef21542b3fb3216b38643737746fcf1e1179,17,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/82/864882/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,7a9aef21542b3fb3216b38643737746fcf1e1179,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~864883,openstack/charm-nova-compute,stable/yoga,I713872f49ff4c40c78909f1879cca09f331d5c13,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:44.000000000,2022-11-30 16:43:49.000000000,2022-11-30 16:43:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a8574995a399f86ea9148b71bc3dcd136f18f485', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I713872f49ff4c40c78909f1879cca09f331d5c13\n'}, {'number': 2, 'created': '2022-11-23 07:37:52.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/93b9faff4065ca5c474187c49d70baba446a5eb2', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I713872f49ff4c40c78909f1879cca09f331d5c13\n'}]",5,864883,93b9faff4065ca5c474187c49d70baba446a5eb2,17,4,2,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I713872f49ff4c40c78909f1879cca09f331d5c13
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/83/864883/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,a8574995a399f86ea9148b71bc3dcd136f18f485,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~864884,openstack/charm-nova-compute,stable/zed,I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:56.000000000,2022-11-30 16:43:47.000000000,2022-11-30 16:43:47.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:56.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/029b5a29a6c86e91cd4cd4b3029a1973081e3fa8', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46\n'}]",3,864884,029b5a29a6c86e91cd4cd4b3029a1973081e3fa8,11,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/84/864884/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",13,029b5a29a6c86e91cd4cd4b3029a1973081e3fa8,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},53,39
openstack%2Foslo.messaging~807693,openstack/oslo.messaging,stable/queens,I5c468d10230f05438df780e045f1e92662edf070,Catch ConnectionForced Exception,ABANDONED,2021-09-07 09:23:24.000000000,2022-11-30 16:26:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2021-09-07 09:23:24.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0aecec9806a174aa76e190a871bb80eb94b4deea', 'message': ""Catch ConnectionForced Exception\n\nOccasionally I saw large number of connectionforced exceptions.\nsuch exceptions cannot be healed automatically and requires a reboot.\ncatch it and ensure connection established.\n\nChanges:\n  oslo_messaging/_drivers/impl_rabbit.py\n\nNOTE(stephenfin): We need to add the 'absolute_import' future to disable\nthe legacy import flow. Without this, the import of 'amqp.exceptions' in\n'oslo_messaging._drivers.impl_rabbit' attempts to import 'exceptions'\nfrom the sibling module, 'oslo_messaging._drivers.amqp', instead of the\ntop-level 'amqp' module. Thank God for Python 3.x, eh? More information\nis available at [1], for those curious enough.\n\nNOTE(hberaud): conflicts within the cherry-pick on stable/stein due to\nremoved log translation and i18n on stable/train [2]. I decided to\nignore this patch [2] for stable/stein first to prepare cherry-picking\non previous stable branches (rocky, queens) and secondly because I\ndon't think we want it on older branches.\n\n[1] https://stackoverflow.com/q/33743880/\n[2] https://opendev.org/openstack/oslo.messaging/commit/4f385720d7d43aadfaff7c6f41b0534312b23ba8\n\nChange-Id: I5c468d10230f05438df780e045f1e92662edf070\nCloses-Bug: #1883038\n(cherry picked from commit 26e8bb4cc9097fddf3c2e34599b131e3f5d73867)\n(cherry picked from commit 360deb89a7e95d332267564b486219e389a793f7)\n(cherry picked from commit 54ced5361b49fb9b0cf53ff2e6f5825ba7ae513a)\n(cherry picked from commit e05bb37ae2b91df0a8391fa1f3c6d91de24aa9f1)\n(cherry picked from commit 84ff0bbb977139ef557b79d1eb00c8e4eea0aa78)\n""}]",1,807693,0aecec9806a174aa76e190a871bb80eb94b4deea,5,2,1,28522,,,0,"Catch ConnectionForced Exception

Occasionally I saw large number of connectionforced exceptions.
such exceptions cannot be healed automatically and requires a reboot.
catch it and ensure connection established.

Changes:
  oslo_messaging/_drivers/impl_rabbit.py

NOTE(stephenfin): We need to add the 'absolute_import' future to disable
the legacy import flow. Without this, the import of 'amqp.exceptions' in
'oslo_messaging._drivers.impl_rabbit' attempts to import 'exceptions'
from the sibling module, 'oslo_messaging._drivers.amqp', instead of the
top-level 'amqp' module. Thank God for Python 3.x, eh? More information
is available at [1], for those curious enough.

NOTE(hberaud): conflicts within the cherry-pick on stable/stein due to
removed log translation and i18n on stable/train [2]. I decided to
ignore this patch [2] for stable/stein first to prepare cherry-picking
on previous stable branches (rocky, queens) and secondly because I
don't think we want it on older branches.

[1] https://stackoverflow.com/q/33743880/
[2] https://opendev.org/openstack/oslo.messaging/commit/4f385720d7d43aadfaff7c6f41b0534312b23ba8

Change-Id: I5c468d10230f05438df780e045f1e92662edf070
Closes-Bug: #1883038
(cherry picked from commit 26e8bb4cc9097fddf3c2e34599b131e3f5d73867)
(cherry picked from commit 360deb89a7e95d332267564b486219e389a793f7)
(cherry picked from commit 54ced5361b49fb9b0cf53ff2e6f5825ba7ae513a)
(cherry picked from commit e05bb37ae2b91df0a8391fa1f3c6d91de24aa9f1)
(cherry picked from commit 84ff0bbb977139ef557b79d1eb00c8e4eea0aa78)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/93/807693/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,0aecec9806a174aa76e190a871bb80eb94b4deea,1883038,"from __future__ import absolute_import from amqp import exceptions as amqp_exec kombu.exceptions.OperationalError, amqp_exec.ConnectionForced) as exc:", kombu.exceptions.OperationalError) as exc:,5,1
openstack%2Foslo.utils~734846,openstack/oslo.utils,stable/queens,I6e547d206de9e3e333e29ccad52bf6b519a86ff9,Release greenthread when computing checksum,ABANDONED,2020-06-10 13:52:22.000000000,2022-11-30 16:26:24.000000000,,"[{'_account_id': 11904}, {'_account_id': 12356}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c06acc116003a4406e2bcd73db6bee7bdd1ecb54', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit 6916acfccc1c84aff613b60a984518b7be313908)\n(cherry picked from commit f36ca0e53af5bd0206e72c8a65cba103e790bc92)\n'}, {'number': 2, 'created': '2020-06-10 16:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e3c2a7ef9c1f705a56c48549c8f69c2bc98b8085', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit 6916acfccc1c84aff613b60a984518b7be313908)\n(cherry picked from commit f36ca0e53af5bd0206e72c8a65cba103e790bc92)\n'}, {'number': 3, 'created': '2020-06-10 16:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/bc1736655aa0bd4e5523c45cf747c715a81821c8', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)\n(cherry picked from commit 4cf03f0016693d066bdd6855bcfe234347f00426)\n'}, {'number': 4, 'created': '2021-04-21 15:53:13.000000000', 'files': ['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ed9f172e0404613a61d3d07aa2036dfbda4d6ee3', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)\n(cherry picked from commit 4cf03f0016693d066bdd6855bcfe234347f00426)\n(cherry picked from commit 44cb01f10c154a1c2c5aac4917835d4f4530adc4)\n'}]",4,734846,ed9f172e0404613a61d3d07aa2036dfbda4d6ee3,18,4,4,28522,,,0,"Release greenthread when computing checksum

Having time.sleep(0) after reading each block of data for computing
checksum will allow other greenthreads to run.

Closes-Bug: 1882569
Change-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9
(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)
(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)
(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)
(cherry picked from commit 4cf03f0016693d066bdd6855bcfe234347f00426)
(cherry picked from commit 44cb01f10c154a1c2c5aac4917835d4f4530adc4)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/46/734846/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py']",2,c06acc116003a4406e2bcd73db6bee7bdd1ecb54,release-greenthread-computing-checksum,"import time from unittest import mock def test_compute_checksum_sleep_0_called(self): path = fileutils.write_to_tempfile(self.content) self.assertTrue(os.path.exists(path)) self.check_file_content(self.content, path) expected_checksum = hashlib.sha256() expected_checksum.update(self.content) with mock.patch.object(time, ""sleep"") as sleep_mock: actual_checksum = fileutils.compute_file_checksum( path, read_chunksize=4) sleep_mock.assert_has_calls([mock.call(0)] * 3) # Just to make sure that there were exactly 3 calls self.assertEqual(3, sleep_mock.call_count) self.assertEqual(expected_checksum.hexdigest(), actual_checksum) ",,22,0
openstack%2Foslo.messaging~787384,openstack/oslo.messaging,stable/queens,Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,Use default exchange for direct messaging,ABANDONED,2021-04-21 19:04:19.000000000,2022-11-30 16:25:34.000000000,,"[{'_account_id': 5948}, {'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-04-21 19:04:19.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d19ebccf2531c6988194cd7d7ea3bd32eae771f5', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nThis is step 1 in the process: only using default exchange\nwhen publishing. Consumers will still consume on separate\nexchanges (and on default exchange by default) so this\nshould be (and tested to be) a non-breaking and\nupgrade-friendly change.\n\nStep 2 is to update consumers to only listen on default exchange,\nto happen in T release.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n(cherry picked from commit 3a5de89dd686dbd9660f140fdddd9c78b20e1632)\n'}]",8,787384,d19ebccf2531c6988194cd7d7ea3bd32eae771f5,36,6,1,19298,,,0,"Use default exchange for direct messaging

Lots of exchanges create problems during failover under high
load. Please see bug report for details.

This is step 1 in the process: only using default exchange
when publishing. Consumers will still consume on separate
exchanges (and on default exchange by default) so this
should be (and tested to be) a non-breaking and
upgrade-friendly change.

Step 2 is to update consumers to only listen on default exchange,
to happen in T release.

Change-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6
Closes-Bug: #1789177
(cherry picked from commit 3a5de89dd686dbd9660f140fdddd9c78b20e1632)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/84/787384/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,d19ebccf2531c6988194cd7d7ea3bd32eae771f5,bug/1789177-stable/queens," # TODO(obondarev): use default exchange since T release exchange = kombu.entity.Exchange(name='', # using default exchange"," exchange = kombu.entity.Exchange(name=msg_id,",2,1
openstack%2Foslo.service~760779,openstack/oslo.service,stable/queens,Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e,[StableOnly] Reset eventlet hub after patching,ABANDONED,2020-11-02 07:52:14.000000000,2022-11-30 16:25:07.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 07:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/8086687269346b81aab11654c98ba6b2f542fc75', 'message': ""Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\n""}, {'number': 2, 'created': '2020-11-02 10:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/6e312615fb39f2519615c5ecbce030024706f437', 'message': ""Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\nDepends-On: https://review.opendev.org/755245\nDepends-On: https://review.opendev.org/760773\nDepends-On: https://review.opendev.org/760774\nDepends-On: https://review.opendev.org/760775\nDepends-On: https://review.opendev.org/760777\nDepends-On: https://review.opendev.org/760778\n(cherry picked from commit 338fd2c3f114f35f5cee07027d3322e70ba8ecf6)\n(cherry picked from commit 041c6f0ad655c2315e688ede4213ea41a9fdcae0)\n(cherry picked from commit 55157381f1d1bfb80b5213527721cec5a21c8049)\n(cherry picked from commit 4eef912a33e4939566aeaf6740731c04ea8924cb)\n(cherry picked from commit d2c84624e3a1b276096d9ccaa985ab60ad23763a)\n(cherry picked from commit aa1400cb61bd4b8ea698e16358e372fb2109ca17)\n""}, {'number': 3, 'created': '2022-04-05 09:55:04.000000000', 'files': ['oslo_service/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/43d13d20b4bcf93d659cfabab425b1735c75fc46', 'message': ""[StableOnly] Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\n(cherry picked from commit 7f75fc1d4e7116b954db8924374e39c9fa8d9f6e)\n(cherry picked from commit 5b35903e145a0a1b8c64b7f4ba71fa98ea1d935b)\n(cherry picked from commit f22fe54a9e6c7e719f58eefefc0a44b9e3575eb4)\n(cherry picked from commit 288e5164d9ec239f47e4c6dafd27e9172ee9aa47)\n(cherry picked from commit 780fa35a684f205ad9237a851da2bf7c57fdceef)\n""}]",2,760779,43d13d20b4bcf93d659cfabab425b1735c75fc46,15,2,3,20312,,,0,"[StableOnly] Reset eventlet hub after patching

Patching the eventlet hub by setting the environment variable will not be
effective if hub singleton was already set by some imported module.
Calling `use_hub()` will reset it's value based on the current overrides.

Change-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e
Closes-Bug: #1897877
(cherry picked from commit 7f75fc1d4e7116b954db8924374e39c9fa8d9f6e)
(cherry picked from commit 5b35903e145a0a1b8c64b7f4ba71fa98ea1d935b)
(cherry picked from commit f22fe54a9e6c7e719f58eefefc0a44b9e3575eb4)
(cherry picked from commit 288e5164d9ec239f47e4c6dafd27e9172ee9aa47)
(cherry picked from commit 780fa35a684f205ad9237a851da2bf7c57fdceef)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/79/760779/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/__init__.py'],1,8086687269346b81aab11654c98ba6b2f542fc75,bug/1897877,# reset hub in case it was initialized already by some imported module eventlet.hubs.use_hub(os.environ['EVENTLET_HUB']),,2,0
openstack%2Foslo.messaging~749196,openstack/oslo.messaging,stable/queens,I2ae53340783e4044dab58035bc0992dc08145b53,Cancel consumer if queue down,ABANDONED,2020-09-01 07:39:41.000000000,2022-11-30 16:24:48.000000000,,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29071}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-01 07:39:41.000000000', 'files': ['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a74872ac890461a0abbc79ab995231bffe252722', 'message': 'Cancel consumer if queue down\n\nPreviously, we have switched to use default exchanges\nto avoid excessive amounts of exchange not found messages.\nBut it does not actually solve the problem because\nreply_* queue is already gone and agent will not receive callbacks.\n\nafter some debugging, I found under some circumstances\nseems rabbitmq consumer does not receive basic cancel\nsignal when queue is already gone. This might due to\nrabbitmq try to restart consumer when queue is down\n(for example when split brain). In such cases,\nit might be better to fail early.\n\nby reading the code, seems like x-cancel-on-ha-failover\nis not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,\nhttps://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.\n\nBy failing early, in my own test setup,\nI could solve a certain case of exchange not found problem.\n\nChange-Id: I2ae53340783e4044dab58035bc0992dc08145b53\nRelated-bug: #1789177\nDepends-On: https://review.opendev.org/#/c/749194/\n(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)\n(cherry picked from commit 0a432c7fb107d04f7a41199fe9a8c4fbd344d009)\n(cherry picked from commit 5de11fa752ab8e37b95b1785f4c71210bf473f0c)\n(cherry picked from commit 56bab1deab167e621d0a263f3fcf95b75c7d1bad)\n(cherry picked from commit c49667d54ab792bd017989b245ec37e711fc81e3)\n'}]",3,749196,a74872ac890461a0abbc79ab995231bffe252722,30,5,1,28522,,,0,"Cancel consumer if queue down

Previously, we have switched to use default exchanges
to avoid excessive amounts of exchange not found messages.
But it does not actually solve the problem because
reply_* queue is already gone and agent will not receive callbacks.

after some debugging, I found under some circumstances
seems rabbitmq consumer does not receive basic cancel
signal when queue is already gone. This might due to
rabbitmq try to restart consumer when queue is down
(for example when split brain). In such cases,
it might be better to fail early.

by reading the code, seems like x-cancel-on-ha-failover
is not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,
https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.

By failing early, in my own test setup,
I could solve a certain case of exchange not found problem.

Change-Id: I2ae53340783e4044dab58035bc0992dc08145b53
Related-bug: #1789177
Depends-On: https://review.opendev.org/#/c/749194/
(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)
(cherry picked from commit 0a432c7fb107d04f7a41199fe9a8c4fbd344d009)
(cherry picked from commit 5de11fa752ab8e37b95b1785f4c71210bf473f0c)
(cherry picked from commit 56bab1deab167e621d0a263f3fcf95b75c7d1bad)
(cherry picked from commit c49667d54ab792bd017989b245ec37e711fc81e3)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/96/749196/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py']",3,a74872ac890461a0abbc79ab995231bffe252722,queens-cancel-consumer," cfg.BoolOpt('enable_cancel_on_failover', default=False, help=""Enable x-cancel-on-ha-failover flag so that "" ""rabbitmq server will cancel and notify consumers"" ""when queue is down"") nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0, enable_cancel_on_failover=False): self.enable_cancel_on_failover = enable_cancel_on_failover consumer_arguments = None if self.enable_cancel_on_failover: consumer_arguments = { ""x-cancel-on-ha-failover"": True} queue_arguments=self.queue_arguments, consumer_arguments=consumer_arguments ) self.enable_cancel_on_failover = driver_conf.enable_cancel_on_failover consumer = Consumer( exchange_name=topic, queue_name=topic, routing_key=topic, type='direct', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover)"," nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0): queue_arguments=self.queue_arguments) consumer = Consumer(exchange_name=topic, queue_name=topic, routing_key=topic, type='direct', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl)",65,31
openstack%2Foslo.log~749191,openstack/oslo.log,stable/queens,Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0,Fix handling of exc_info in OSJournalHandler,ABANDONED,2020-09-01 07:18:58.000000000,2022-11-30 16:24:32.000000000,,"[{'_account_id': 9701}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-09-01 07:18:58.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/handlers.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/0854d54ccd0f2421c6736444ab178262149c6a24', 'message': ""Fix handling of exc_info in OSJournalHandler\n\nexc_info is exception tuple not intended to be printed. It's using to\ngenerate output by logging.Formatter().formatException() instead.\nexc_text used to cache this output. So we use handler formatter to get\nstring from exc_info and send it as EXCEPTION_INFO. EXCEPTION_TEXT is\nkept for backward compatibility.\n\nAlso adds type validation for journal.send fields to unit tests. Known\ntypes could be gotten from journal.DEFAULT_CONVERTERS. The rest payload\nmust be either a string or bytes.\n\nChange-Id: Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0\nCloses-Bug: 1802142\nDepends-On: https://review.opendev.org/#/c/749189/\n(cherry picked from commit a2956d7ff08f7657dc68c78f860bcc9eb2e5a8fb)\n(cherry picked from commit 7b39c0bdf3a52d66df363de2884434204a8efe3f)\n""}]",7,749191,0854d54ccd0f2421c6736444ab178262149c6a24,30,4,1,28522,,,0,"Fix handling of exc_info in OSJournalHandler

exc_info is exception tuple not intended to be printed. It's using to
generate output by logging.Formatter().formatException() instead.
exc_text used to cache this output. So we use handler formatter to get
string from exc_info and send it as EXCEPTION_INFO. EXCEPTION_TEXT is
kept for backward compatibility.

Also adds type validation for journal.send fields to unit tests. Known
types could be gotten from journal.DEFAULT_CONVERTERS. The rest payload
must be either a string or bytes.

Change-Id: Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0
Closes-Bug: 1802142
Depends-On: https://review.opendev.org/#/c/749189/
(cherry picked from commit a2956d7ff08f7657dc68c78f860bcc9eb2e5a8fb)
(cherry picked from commit 7b39c0bdf3a52d66df363de2884434204a8efe3f)
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/91/749191/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/tests/unit/test_log.py', 'oslo_log/handlers.py']",2,0854d54ccd0f2421c6736444ab178262149c6a24,queens/bug/1802142, if record.exc_info: # Cache the traceback text to avoid converting it multiple times # (it's constant anyway) if not record.exc_text: record.exc_text = self.formatter.formatException( record.exc_info) if record.exc_text: extras['EXCEPTION_INFO'] = record.exc_text # Leave EXCEPTION_TEXT for backward compatibility extras['EXCEPTION_TEXT'] = record.exc_text, if record.exc_text: extras['EXCEPTION_TEXT'] = record.exc_text if record.exc_info: extras['EXCEPTION_INFO'] = record.exc_info,31,8
openstack%2Fnova~813897,openstack/nova,master,I4b6359c1154a8cecc72c16dddf66c5c4184a69f0,Ironic - Handle instance/node host on rebalance,ABANDONED,2021-10-13 21:36:52.000000000,2022-11-30 16:16:17.000000000,,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 11292}, {'_account_id': 11604}, {'_account_id': 11655}, {'_account_id': 12640}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 21:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b36298de9e40b9af1c4ab5f122e812b9c5b3ee83', 'message': 'WIP Ironic - Handle instance host on rebalance\n\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 2, 'created': '2021-11-03 15:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5b912df17548867cdf2cf552204ff0e615dbc13', 'message': 'WIP Ironic - Handle instance host on rebalance\n\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 3, 'created': '2021-11-03 17:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b5800cf5fee0b844970558d71b7cfef3fbf4da9', 'message': 'WIP Ironic - Handle instance host on rebalance\n\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 4, 'created': '2021-11-10 18:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b7a2acefe8bcc49ebaef86322c238361c24f9bc', 'message': 'Ironic - Handle instance host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to parallel who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If that node is the same compute node we\'re on, then nothing to\n  see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may also just be an additional rebalance is inbound,\n  we *really* don\'t have a good way of knowing so, so logically it is\n  just best to also just hold off.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host to be the current\n  running compute host which the hash ring indicates should manage\n  the instance.\n\nAll reconcilliation is also performed using ironic\'s knowledge of the\ninstance as well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulitng disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly.\n\nThis patch does *not* update the compute node host field record,\nwhich is queried and intertwined with cases where a compute node\nbe deleted. For reviewer sanity, that will be done in another patch,\nwhich is related to launchpad bug #1825876.\n\nCloses-Bug: #1730834\nCloses: rhbz#2017980\nRelated: #1825876\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 5, 'created': '2021-11-24 18:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca70fc471889b9ee87c51e131d93941dc9ade0ff', 'message': 'WIP Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to parallel who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If that node is the same compute node we\'re on, then nothing to\n  see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may also just be an additional rebalance is inbound,\n  we *really* don\'t have a good way of knowing so, so logically it is\n  just best to also just hold off.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host to be the current\n  running compute host which the hash ring indicates should manage\n  the instance.\n\nAll reconcilliation is also performed using ironic\'s knowledge of the\ninstance as well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulitng disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly.\n\nThis patch does *not* update the compute node host field record,\nwhich is queried and intertwined with cases where a compute node\nbe deleted. For reviewer sanity, that will be done in another patch,\nwhich is related to launchpad bug #1825876.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nRelated: #1825876\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 6, 'created': '2022-02-16 21:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fca1356c411407ee72c326fe4cff53c42977622', 'message': 'WIP Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 7, 'created': '2022-02-17 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57c988ed31d8da687011d080fb8dfa2ebd7fd305', 'message': 'WIP Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 8, 'created': '2022-02-21 22:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d6859c7560a0a21ee356f9bb6a9de088ff09cee', 'message': 'Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 9, 'created': '2022-03-31 23:44:55.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/ironic-instances-now-managable-after-rebalance-978e77bfbbcbc9f0.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/30cd3d8df6fdb7b560e0420c2d14cd3d57cb0124', 'message': 'Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}]",63,813897,30cd3d8df6fdb7b560e0420c2d14cd3d57cb0124,93,8,9,11655,,,0,"Ironic - Handle instance/node host on rebalance

Nova-compute services supporting the pass-through to Ironic
utilize a hash ring to handle ""who is responsible"" for a given
compute node. This allows for load to be spread across a number
of nova-computes, and parallel updates/tracking to take place,
which is commonly very necessary in the Bare Metal as a Service
(BMaaS) use case as operators typically run the nova-compute service
on their control plane and the underlying resource availability is
not limited to a single host.

However, when an instance is deployed, and the compute node has
rebalanced, the user looses the ability to trigger actions on nodes
previously managed by an offline nova-compute instance. This is
because the call to perform the instance action is routed to the
instance's host record across the RPC bus.

What we explicitly need to do is when we rebalance, we need to
reconcile the host record entries to reflect who is actively
managing the node based upon the hash ring.

This requires us to know when the hash ring has changed,
and then efficently handle:

* If we should manage the node because the hash ring says so.
* If the ironic node is managed by the compute service node we
  are operating on, then nothing to see here, carry on.
* If the hash ring is indicating the node is managed by *us* and
  the prior host is online, then do *nothing*. The requests can still
  be handled, and allow that node to continue to manage requests the
  instance. This may be an indication an additional rebalance is
  impending, we *really* don't have a good way of knowing so bececause
  of the number of operational variables, so logically it is just best
  to also just hold off and let things hopefully stablize.
* If all else fails, as in the compute service/host is missing or has
  been removed, then force the instance's host and compute node service
  entry to be the current running compute host which the hash ring
  indicates should manage interaction of the baremetal node on behalf
  of Nova.

All reconcilliation is also performed using ironic's state knowledge
as well. Obviously, if there is no instance, no action is
required and the node cache being reported can be updated with that
node. If an instance is unknown to nova-compute, then we tolerate
that as there may be more than one nova in the same ironic sandbox.
Doing so has an added benefit of allowing recovery from someone
accidently changing the peer list/conductor group, and thus changing
the view the nova-compute service is able to view. The reconcillation
will fix the host field entries accordingly.

This change in behavior, necessitates a change in the node cache
pattern. Previously, if an instance was already running on a node,
we wouldn't add it to cache of nodes being managed unless it matched
to the current compute host against the instance's host record.

This selective caching previously had an impact of the node
disappearing from nova's view because we would only consider
caching of nodes which have *not* been allocated for use even
if the hash ring indicates we are the responsible nova-compute
process.

The previous resulting disappearance from view creates additional
unexpected conditions because resource tracking calls thorugh
get_available_resource and node_is_available calls ultimately
leverage the cache of nodes to be managed by the compute service
instance running, and a lack of presence in the cache can result
in the node being considered disabled and being entirely skipped
from resource tracker runs *and* ultimately causes the compute
node entry to be destroyed and removed from the resource tracker,
orphaning the ability to manage the instance. Reconciling, now
ultimatley enables the continued management of the instance as well.

In other words, since the hash ring dictates we manage the node,
Then we must be capable of doing so accordingly and not setup
ourselves for orphaned compute node and instance entries creating
operator headaches which presently require manual database edits
to remedy.

This patch is by no means perfect. It focuses on eventual
consistency and balancing impact versus operational performance,
also while intending to be able to be backported in order to help
address so many different interaction issues between Nova and
Ironic.

It must be highlighted these prior issues are related to
I39241223b447fcc671161c370dbf16e1773b684a, which was ultimately
caused by the fact compute node host mappings can be orphaned under
nova.virt.ironic's prior behavior. This patch doesn't completely
prevent that from still being the case, but should help substantially,
again, not perfect, but a hopefully balanced operational improvement.

Closes-Bug: #1730834
Closes-Bug: #1825876
Closes: rhbz#2017980
Closes-Bug: #1825876
Related: #1853009
Change-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/813897/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,b36298de9e40b9af1c4ab5f122e812b9c5b3ee83,," self.hash_ring = None # NOTE(TheJulia): We need to determine if the hash ring has changed # as we need to take corrective action to update the nova records # to align, otherwise we risk race conditions with resource tracking # and placement record updates. if self.hash_ring: prior_ring = self.hash_ring.nodes else: prior_ring = None new_hash_ring = hash_ring.HashRing(services, partitions=_HASH_RING_PARTITIONS) if prior_ring and new_hash_ring.nodes != self.hash_ring.nodes: changed = True if prior_ring is None: # Initial node in ring, so we should return True changed = True else: changed = False self.hash_ring = new_hash_ring return changed def _try_reconcile_instance(self, instance_uuid): # NOTE(TheJulia): Update instance host entry, or at least # try to. context = nova_context.get_admin_context() try: instance = objects.Instance.get_by_uuid(context, instance_uuid) instance.host = CONF.host.lower() # Explicitly save the instance object to the DB to allow # new queries to pickup the host field. instance.save() except exception.InstanceNotFound: LOG.debug('Instance %(instance)s is known to ironic, but not our ' 'database. This could be expected if Ironic backs ' 'multiple Nova instances.', {'instance': instance_uuid}) except exception.ObjectActionError as e: LOG.error('Failure occured while attempting to reconcile ' 'instance %(instance)s. %(error)s', {'instance': instance_uuid, 'error': e}) hash_ring_changed = self._refresh_hash_ring(ctxt) # NOTE(TheJulia): Hash ring was stable or the node started # on this node. elif (CONF.host.lower() in self.hash_ring.get_nodes(node.uuid.encode('utf-8'))): # NOTE(TheJulia): According to the hash ring, we are a # nova-compute for this node. It should be in our cache # regardless and we will manage it moving forward. if node.instance_uuid is not None and hash_ring_changed: # NOTE(TheJulia): We are now the responsible compute # and must update nova's internal db to reconcile this # fact. Preferably before we update our cache. self._try_reconcile_instance(node.instance_uuid)"," self.hash_ring = hash_ring.HashRing(services, partitions=_HASH_RING_PARTITIONS) self._refresh_hash_ring(ctxt) elif (node.instance_uuid is None and CONF.host.lower() in self.hash_ring.get_nodes(node.uuid.encode('utf-8'))):",57,7
openstack%2Fansible-collections-openstack~864871,openstack/ansible-collections-openstack,master,I1cd37096834d4159b5fa46719f5c479cb2bc29a9,"Refactored neutron_rbac_polic{ies_info,y} modules",MERGED,2022-11-17 11:01:42.000000000,2022-11-30 16:01:21.000000000,2022-11-30 16:01:21.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-11-17 11:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/560c224e51b35284494d27e74b682b92f0a452a8', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 2, 'created': '2022-11-17 14:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ea269f5fa22484bf46403a52a443e2599e23c45a', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 3, 'created': '2022-11-17 15:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3c732719af32e299f8180c838f6efdbbc92ea795', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 4, 'created': '2022-11-17 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/18fc197db303fcd9201e407ea1d8230d3722c0b1', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 5, 'created': '2022-11-23 19:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/95ab5d8a1a4e60e0954d837113cc6cf1b2a838ca', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 6, 'created': '2022-11-30 09:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6f79f92980d46b11631b3c397d4e62cce094a8e1', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 7, 'created': '2022-11-30 09:52:36.000000000', 'files': ['ci/roles/neutron_rbac_policy/defaults/main.yml', 'plugins/modules/neutron_rbac_policy.py', 'plugins/modules/neutron_rbac_policies_info.py', 'ci/roles/neutron_rbac/tasks/main.yml', '.zuul.yaml', 'ci/run-collection.yml', 'ci/roles/neutron_rbac_policy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0f37ed795bef99dba89e0dba132231c7a298b7b8', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}]",14,864871,0f37ed795bef99dba89e0dba132231c7a298b7b8,30,3,7,32962,,,0,"Refactored neutron_rbac_polic{ies_info,y} modules

Change-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/71/864871/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/neutron_rbac_policy/defaults/main.yml', 'plugins/modules/neutron_rbac_policy.py', 'plugins/modules/neutron_rbac_policies_info.py', '.zuul.yaml', 'ci/run-collection.yml', 'ci/roles/neutron_rbac_policy/tasks/main.yml']",6,560c224e51b35284494d27e74b682b92f0a452a8,neutron-rbac-policy,"- name: Assert return values of neutron_rbac_policy module assert: that: # allow new fields to be introduced but prevent fields from being removed - expected_fields|difference(rbac_policy.rbac_policy.keys())|length == 0 - name: Assert return values of neutron_rbac_policy_info module assert: that: # allow new fields to be introduced but prevent fields from being removed - expected_fields|difference(rbac_policies.rbac_policies[0].keys())|length == 0 - rbac_policy.rbac_policy.id in ( rbac_policies.rbac_policies | map(attribute='id') | list ) id: ""{{ rbac_policy.rbac_policy.id }}"" - rbac_policy.rbac_policy.id not in ( rbac_policies_remaining.rbac_policies | map(attribute='id') | list )","- name: Capture all existing policy IDs set_fact: rbac_policy_ids: ""{{ rbac_policies.policies | map(attribute='id') | list }}"" - rbac_policy.policy.id in rbac_policy_ids policy_id: ""{{ rbac_policy.policy.id }}""- name: Capture all remaining policy IDs set_fact: remaining_rbac_policy_ids: ""{{ rbac_policies_remaining.policies | map(attribute='id') | list }}"" - not rbac_policy.policy.id in remaining_rbac_policy_ids",319,452
openstack%2Fcharm-vault~865652,openstack/charm-vault,master,I0326abbfe972062c9807083ebc3e0e80194d60a8,Fix multiline notes and update obsolete add-relation juju command in README,MERGED,2022-11-25 09:44:58.000000000,2022-11-30 15:51:00.000000000,2022-11-30 15:51:00.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-11-25 09:44:58.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/018827558026693b730688a5a94c6ff4fcfaa5ee', 'message': 'Fix multiline notes and update obsolete add-relation juju command in README\n\nChange-Id: I0326abbfe972062c9807083ebc3e0e80194d60a8\n'}]",1,865652,018827558026693b730688a5a94c6ff4fcfaa5ee,7,3,1,28473,,,0,"Fix multiline notes and update obsolete add-relation juju command in README

Change-Id: I0326abbfe972062c9807083ebc3e0e80194d60a8
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/52/865652/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,018827558026693b730688a5a94c6ff4fcfaa5ee,readme-update,> 'Post-deployment tasks' covers this.> enable mlock (memory locking) to prevent secrets from being saved to disk via > page swapping. The mlock feature is not available to containers. juju relate vault:shared-db percona-cluster:shared-db juju relate vault-mysql-router:db-router mysql-innodb-cluster:db-router juju relate vault-mysql-router:shared-db vault:shared-db juju relate vault:db postgresql:db> be compatible (e.g. 9.5/xenial or 10/bionic). The postgresql charm's > configuration option `version` is used to select a version at deploy time.> using Vault to manage the encryption of OpenStack API services. See [Managing TLS certificates][cdg-vault-certs] > in the [OpenStack Charms Deployment Guide][cdg] for details.> is it possible to manage Vault without the initial root token. **Store this > information in a safe place immediately**.> and later resumed. A resumed vault unit will be sealed and will therefore > require unsealing. See [Managing power events][cdg-power-events] in the > [OpenStack Charms Deployment Guide][cdg] for details., 'Post-deployment tasks' covers this. enable mlock (memory locking) to prevent secrets from being saved to disk via page swapping. The mlock feature is not available to containers. juju add-relation vault:shared-db percona-cluster:shared-db juju add-relation vault-mysql-router:db-router mysql-innodb-cluster:db-router juju add-relation vault-mysql-router:shared-db vault:shared-db juju add-relation vault:db postgresql:db be compatible (e.g. 9.5/xenial or 10/bionic). The postgresql charm's configuration option `version` is used to select a version at deploy time. using Vault to manage the encryption of OpenStack API services. See [Managing TLS certificates][cdg-vault-certs] in the [OpenStack Charms Deployment Guide][cdg] for details. is it possible to manage Vault without the initial root token. **Store this information in a safe place immediately**. and later resumed. A resumed vault unit will be sealed and will therefore require unsealing. See [Managing power events][cdg-power-events] in the [OpenStack Charms Deployment Guide][cdg] for details.,16,17
openstack%2Fcinder~860227,openstack/cinder,master,If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86,Remove IET iSCSI target,MERGED,2022-10-04 09:38:04.000000000,2022-11-30 15:36:12.000000000,2022-11-30 15:34:50.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-10-04 09:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65e0baf4c83478564eb9b189ef4c05544ecee24e', 'message': ""Remove IET iSCSI target\n\nWe are close to the Zed release and haven't deprecated it as we should\n\nCloses-Bug: #1988317\nChange-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86\n""}, {'number': 2, 'created': '2022-10-04 10:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b40c0fd9fdca669e23291152a89f6e8c1ca59ee9', 'message': ""Remove IET iSCSI target\n\nWe are close to the Zed release and haven't deprecated it as we should\n\nCloses-Bug: #1988317\nChange-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86\n""}, {'number': 3, 'created': '2022-10-31 14:13:12.000000000', 'files': ['cinder/privsep/targets/iet.py', 'releasenotes/notes/IET_iSCSI_target-dea5f68dc297510d.yaml', 'cinder/volume/targets/iet.py', 'cinder/tests/unit/targets/test_iet_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/00fe924f34623aed8fc2f8d3ed552475fb30933c', 'message': 'Remove IET iSCSI target\n\nWe are close to the Zed release removing IET iSCSI target.\n\nCloses-Bug: #1988317\nChange-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86\n'}]",18,860227,00fe924f34623aed8fc2f8d3ed552475fb30933c,81,9,3,30615,,,0,"Remove IET iSCSI target

We are close to the Zed release removing IET iSCSI target.

Closes-Bug: #1988317
Change-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/860227/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/privsep/targets/iet.py', 'cinder/volume/targets/iet.py', 'cinder/tests/unit/targets/test_iet_driver.py']",3,65e0baf4c83478564eb9b189ef4c05544ecee24e,,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import contextlib import io from unittest import mock from oslo_concurrency import processutils as putils from cinder import context from cinder import exception from cinder.tests.unit.targets import targets_fixture as tf from cinder import utils from cinder.volume.targets import iet class TestIetAdmDriver(tf.TargetDriverFixture): def setUp(self): super(TestIetAdmDriver, self).setUp() self.target = iet.IetAdm(root_helper=utils.get_root_helper(), configuration=self.configuration) def test_get_target(self): tmp_file = io.StringIO() tmp_file.write( 'tid:1 name:iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45\n' ' sid:844427031282176 initiator:' 'iqn.1994-05.com.redhat:5a6894679665\n' ' cid:0 ip:10.9.8.7 state:active hd:none dd:none') tmp_file.seek(0) with mock.patch('builtins.open') as mock_open: mock_open.return_value = contextlib.closing(tmp_file) self.assertEqual('1', self.target._get_target( 'iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45' )) # Test the failure case: Failed to handle the config file mock_open.side_effect = MemoryError() self.assertRaises(MemoryError, self.target._get_target, '') @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=0) @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') @mock.patch('os.path.exists', return_value=True) @mock.patch('cinder.utils.temporary_chown') @mock.patch.object(iet, 'LOG') def test_create_iscsi_target(self, mock_log, mock_chown, mock_exists, mock_new_logical_unit, mock_new_target, mock_get_targ): tmp_file = io.StringIO() with mock.patch('builtins.open') as mock_open: mock_open.return_value = contextlib.closing(tmp_file) self.assertEqual( 0, self.target.create_iscsi_target( self.test_vol, 0, 0, self.fake_volumes_dir)) self.assertTrue(mock_new_target.called) self.assertTrue(mock_open.called) self.assertTrue(mock_get_targ.called) self.assertTrue(mock_new_logical_unit.called) # Test the failure case: Failed to chown the config file mock_open.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetCreateFailed, self.target.create_iscsi_target, self.test_vol, 0, 0, self.fake_volumes_dir) # Test the failure case: Failed to set new auth mock_new_target.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetCreateFailed, self.target.create_iscsi_target, self.test_vol, 0, 0, self.fake_volumes_dir) @mock.patch('cinder.utils.execute') @mock.patch('os.path.exists', return_value=True) def test_update_config_file_failure(self, mock_exists, mock_execute): # Test the failure case: conf file does not exist mock_exists.return_value = False mock_execute.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetCreateFailed, self.target.update_config_file, self.test_vol, 0, self.fake_volumes_dir, ""foo bar"") @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=1) @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') def test_create_iscsi_target_already_exists( self, mock_new_logical_unit, mock_new_target, mock_get_targ): self.assertEqual( 1, self.target.create_iscsi_target( self.test_vol, 1, 0, self.fake_volumes_dir)) self.assertTrue(mock_get_targ.called) self.assertTrue(mock_new_target.called) self.assertTrue(mock_new_logical_unit.called) @mock.patch('cinder.volume.targets.iet.IetAdm._find_sid_cid_for_target', return_value=None) @mock.patch('os.path.exists', return_value=False) @mock.patch('cinder.privsep.targets.iet.delete_logicalunit') @mock.patch('cinder.privsep.targets.iet.delete_target') def test_remove_iscsi_target( self, mock_delete_target, mock_delete_logicalunit, mock_exists, mock_find): # Test the normal case self.target.remove_iscsi_target(1, 0, self.testvol['id'], self.testvol['name']) mock_delete_logicalunit.assert_called_once_with(1, 0) mock_delete_target.assert_called_once_with(1) # Test the failure case: putils.ProcessExecutionError mock_delete_logicalunit.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetRemoveFailed, self.target.remove_iscsi_target, 1, 0, self.testvol['id'], self.testvol['name']) @mock.patch('cinder.privsep.targets.iet.delete_target') def test_find_sid_cid_for_target(self, mock_delete_target): tmp_file = io.StringIO() tmp_file.write( 'tid:1 name:iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45\n' ' sid:844427031282176 initiator:' 'iqn.1994-05.com.redhat:5a6894679665\n' ' cid:0 ip:10.9.8.7 state:active hd:none dd:none') tmp_file.seek(0) with mock.patch('builtins.open') as mock_open: mock_open.return_value = contextlib.closing(tmp_file) self.assertEqual(('844427031282176', '0'), self.target._find_sid_cid_for_target( '1', 'iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45', 'volume-83c2e877-feed-46be-8435-77884fe55b45' )) @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=1) @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') @mock.patch('cinder.privsep.targets.iet.new_auth') @mock.patch.object(iet.IetAdm, '_get_target_chap_auth') def test_create_export( self, mock_get_chap, mock_new_auth, mock_new_logicalunit, mock_new_target, mock_get_targ): mock_get_chap.return_value = ('QZJbisGmn9AL954FNF4D', 'P68eE7u9eFqDGexd28DQ') expected_result = {'location': '10.9.8.7:3260,1 ' 'iqn.2010-10.org.openstack:testvol 0', 'auth': 'CHAP ' 'QZJbisGmn9AL954FNF4D P68eE7u9eFqDGexd28DQ'} ctxt = context.get_admin_context() self.assertEqual(expected_result, self.target.create_export(ctxt, self.testvol, self.fake_volumes_dir)) self.assertTrue(mock_new_logicalunit.called) self.assertTrue(mock_new_target.called) @mock.patch('cinder.volume.targets.iet.IetAdm._get_target_chap_auth', return_value=None) @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=1) def test_ensure_export(self, mock_get_targetm, mock_get_chap): ctxt = context.get_admin_context() with mock.patch.object(self.target, 'create_iscsi_target'): self.target.ensure_export(ctxt, self.testvol, self.fake_volumes_dir) self.target.create_iscsi_target.assert_called_once_with( 'iqn.2010-10.org.openstack:testvol', 1, 0, self.fake_volumes_dir, None, portals_ips=[self.configuration.target_ip_address], portals_port=int(self.configuration.target_port), check_exit_code=False, old_name=None) ",0,529
openstack%2Fdiskimage-builder~277850,openstack/diskimage-builder,master,I4e66493d6b322ff5ed3a3750bc01931027a19507,Add DIB_APT_SOURCES_INLINE to apt-sources element.,ABANDONED,2016-02-09 14:20:26.000000000,2022-11-30 15:08:37.000000000,,"[{'_account_id': 6488}, {'_account_id': 21741}]","[{'number': 1, 'created': '2016-02-09 14:20:26.000000000', 'files': ['elements/apt-sources/extra-data.d/99-override-default-apt-sources', 'elements/apt-sources/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd30f0d7f4ab3276b08c60a786d2903b1cecec20', 'message': 'Add DIB_APT_SOURCES_INLINE to apt-sources element.\n\nIt should allows to override mirrors with bash variable\ninstead of a sources.list file.\nDIB_APT_SOURCES will still be in use and have higher preference.\n\nChange-Id: I4e66493d6b322ff5ed3a3750bc01931027a19507\nCloses-Bug: #1543590\nSigned-off-by: George Shuklin <george.shuklin@gmail.com>\n'}]",2,277850,cd30f0d7f4ab3276b08c60a786d2903b1cecec20,9,2,1,11227,,,0,"Add DIB_APT_SOURCES_INLINE to apt-sources element.

It should allows to override mirrors with bash variable
instead of a sources.list file.
DIB_APT_SOURCES will still be in use and have higher preference.

Change-Id: I4e66493d6b322ff5ed3a3750bc01931027a19507
Closes-Bug: #1543590
Signed-off-by: George Shuklin <george.shuklin@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/50/277850/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/apt-sources/extra-data.d/99-override-default-apt-sources', 'elements/apt-sources/README.rst']",2,cd30f0d7f4ab3276b08c60a786d2903b1cecec20,bug/1543590," DIB_APT_SOURCES_INLINE :Required: No :Default: None (Does not replace sources.list file) :Description: Array of sources.list values to be used :Example: B_APT_SOURCES_INLINE=( ""deb http://mirror.servers.com/debian/ jessie main contrib non-free"" ""deb-src http://mirror.servers.com/debian/ jessie main contrib non-free"" ) Note: You should use or DIB_APT_SOURCES or DIB_APT_SOURCES_INLINE, but not the both same time.",,45,13
openstack%2Fswift~866138,openstack/swift,master,I8fecc583f211913144663c85ab27ad448b5600f8,trivial: fix flakey account/test_auditor.py assertion,MERGED,2022-11-30 11:02:26.000000000,2022-11-30 14:49:15.000000000,2022-11-30 14:48:05.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 11:02:26.000000000', 'files': ['test/unit/account/test_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/662ef280836178bfd1030cffbf686db14882a6f8', 'message': 'trivial: fix flakey account/test_auditor.py assertion\n\nThe test assertion assumes the test environment has exactly one\npolicy, but the test setup uses whatever number of policies are\ncurrently in POLICIES. This can cause the test to fail in environments\nwhere more than one policy is configured.\n\nFix the assertion to also use the actual number of policies.\n\nChange-Id: I8fecc583f211913144663c85ab27ad448b5600f8\n'}]",2,866138,662ef280836178bfd1030cffbf686db14882a6f8,8,2,1,7847,,,0,"trivial: fix flakey account/test_auditor.py assertion

The test assertion assumes the test environment has exactly one
policy, but the test setup uses whatever number of policies are
currently in POLICIES. This can cause the test to fail in environments
where more than one policy is configured.

Fix the assertion to also use the actual number of policies.

Change-Id: I8fecc583f211913144663c85ab27ad448b5600f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/866138/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/account/test_auditor.py'],1,662ef280836178bfd1030cffbf686db14882a6f8,p-flakey-test," 'The total container_count for the account a (%d) does not match ' 'the sum of container_count across policies (%d)' % (num_containers, num_containers - 1), error_message)"," 'The total container_count for the account a (3) does not match ' 'the sum of container_count across policies (2)', error_message)",3,2
openstack%2Freleases~865754,openstack/releases,master,I0933b823a73a355ddf395ac6c53c439c11bee9a3,[barbican] Transition Queens to End of Life,ABANDONED,2022-11-25 20:43:14.000000000,2022-11-30 14:42:16.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 20:43:14.000000000', 'files': ['deliverables/queens/barbican.yaml', 'deliverables/queens/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c3d49b0d0935348a265c13f51c957cbd20a540d', 'message': ""[barbican] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I0933b823a73a355ddf395ac6c53c439c11bee9a3\n""}]",0,865754,8c3d49b0d0935348a265c13f51c957cbd20a540d,3,4,1,17685,,,0,"[barbican] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0933b823a73a355ddf395ac6c53c439c11bee9a3
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/865754/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/barbican.yaml', 'deliverables/queens/python-barbicanclient.yaml']",2,8c3d49b0d0935348a265c13f51c957cbd20a540d,queens-eol, - version: queens-eol projects: - repo: openstack/python-barbicanclient hash: 0c10571c8da593de7aa9300ccc4a37031c8008cf,,8,0
openstack%2Fcharm-nova-k8s~866112,openstack/charm-nova-k8s,stable/xena,I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e,Refactor testing bundle,MERGED,2022-11-30 09:21:05.000000000,2022-11-30 14:31:57.000000000,2022-11-30 13:29:41.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/e7217fbafa27de5a8a94f737cb6291e3422f757b', 'message': 'Refactor testing bundle\n\nDefault to jammy series, annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nChange-Id: I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e\n'}, {'number': 2, 'created': '2022-11-30 12:14:18.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/def0e593cb15eaa3ab02e4d5b1354565636a007e', 'message': 'Refactor testing bundle\n\nDefault to jammy series, annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e\n'}]",0,866112,def0e593cb15eaa3ab02e4d5b1354565636a007e,9,2,2,935,,,0,"Refactor testing bundle

Default to jammy series, annotate focal exceptions.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/12/866112/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,e7217fbafa27de5a8a94f737cb6291e3422f757b,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',4,17
openstack%2Ftripleo-common~865883,openstack/tripleo-common,stable/wallaby,Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0,Define container image used by GlanceApiInternal service,MERGED,2022-11-28 19:10:37.000000000,2022-11-30 14:29:58.000000000,2022-11-30 14:28:56.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 19:10:37.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b377d2ff3ae2ed46760253d55db49d91fa098d4', 'message': 'Define container image used by GlanceApiInternal service\n\nGlanceApiInternal is a new tripleo service, and it uses the same\ncontainer image as the GlanceApi and GlanceApiEdge services.\n\nChange-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\n(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)\n(cherry picked from commit 84749a7256b11912653a79bf70ada64cd13bb788)\n'}]",2,865883,6b377d2ff3ae2ed46760253d55db49d91fa098d4,11,4,1,21129,,,0,"Define container image used by GlanceApiInternal service

GlanceApiInternal is a new tripleo service, and it uses the same
container image as the GlanceApi and GlanceApiEdge services.

Change-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0
(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)
(cherry picked from commit 84749a7256b11912653a79bf70ada64cd13bb788)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/865883/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,6b377d2ff3ae2ed46760253d55db49d91fa098d4,glance-api-internal, - ContainerGlanceApiInternalConfigImage - OS::TripleO::Services::GlanceApiInternal,,2,0
openstack%2Fcharm-glance-k8s~866110,openstack/charm-glance-k8s,stable/xena,Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d,Refactor testing bundle,MERGED,2022-11-30 09:15:41.000000000,2022-11-30 14:28:21.000000000,2022-11-30 13:27:16.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/997ab05deecf32544a01a3795be83ab71fa21b55', 'message': 'Refactor testing bundle\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nChange-Id: Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d\n'}, {'number': 2, 'created': '2022-11-30 12:15:40.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/367770f03afb2f12e06092f105f59a60c24996b4', 'message': 'Refactor testing bundle\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d\n'}]",0,866110,367770f03afb2f12e06092f105f59a60c24996b4,9,2,2,935,,,0,"Refactor testing bundle

Set default series to jammy and annotate focal exceptions.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/10/866110/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,997ab05deecf32544a01a3795be83ab71fa21b55,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',4,15
openstack%2Fcharm-keystone-k8s~866111,openstack/charm-keystone-k8s,stable/xena,Ie08920db642995ec32d130e8d8c9e43def4eaf06,Refactor bundles,MERGED,2022-11-30 09:19:13.000000000,2022-11-30 14:28:14.000000000,2022-11-30 13:27:13.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/6ac02a2564b088bfc4c0b451818368f53153c28d', 'message': 'Refactor bundles\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nChange-Id: Ie08920db642995ec32d130e8d8c9e43def4eaf06\n'}, {'number': 2, 'created': '2022-11-30 12:14:56.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/403ff227a27c852fd710e3e4453bfd6fefd0292a', 'message': 'Refactor bundles\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: Ie08920db642995ec32d130e8d8c9e43def4eaf06\n'}]",2,866111,403ff227a27c852fd710e3e4453bfd6fefd0292a,10,2,2,935,,,0,"Refactor bundles

Set default series to jammy and annotate focal exceptions.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: Ie08920db642995ec32d130e8d8c9e43def4eaf06
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/11/866111/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,6ac02a2564b088bfc4c0b451818368f53153c28d,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',4,15
openstack%2Fkolla~866170,openstack/kolla,master,I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0,rocky: update pretty name to match 9.1,ABANDONED,2022-11-30 14:25:04.000000000,2022-11-30 14:26:34.000000000,,[],"[{'number': 1, 'created': '2022-11-30 14:25:04.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4767df09ea28f4ce65b007dcfdcba2dc3dcc9c4b', 'message': 'rocky: update pretty name to match 9.1\n\nChange-Id: I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0\n'}]",0,866170,4767df09ea28f4ce65b007dcfdcba2dc3dcc9c4b,4,0,1,22629,,,0,"rocky: update pretty name to match 9.1

Change-Id: I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/866170/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,4767df09ea28f4ce65b007dcfdcba2dc3dcc9c4b,," 'rocky': 'Rocky Linux 9.1 (Blue Onyx)',"," 'rocky': 'Rocky Linux 9.0 (Blue Onyx)',",1,1
openstack%2Fcharm-placement-k8s~866145,openstack/charm-placement-k8s,stable/xena,I9b246dca06526f80f76f70fe99da600c2431f718,Refactor testing bundle,MERGED,2022-11-30 12:22:07.000000000,2022-11-30 14:26:06.000000000,2022-11-30 13:24:52.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 12:22:07.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/91e622c969c2a53eeb8d6dcac433bf12f34e170e', 'message': 'Refactor testing bundle\n\nDefault series to jammy, annotate focal on charms as needed.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: I9b246dca06526f80f76f70fe99da600c2431f718\n'}]",0,866145,91e622c969c2a53eeb8d6dcac433bf12f34e170e,7,2,1,935,,,0,"Refactor testing bundle

Default series to jammy, annotate focal on charms as needed.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: I9b246dca06526f80f76f70fe99da600c2431f718
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/45/866145/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini']",3,91e622c969c2a53eeb8d6dcac433bf12f34e170e,bundle-refactor, # Pin version until https://github.com/savoirfairelinux/flake8-copyright/issues/19 is merged flake8<6, # flake8==4.0.1 # Pin version until https://github.com/csachs/pyproject-flake8/pull/14 is merged flake8,6,22
openstack%2Fpuppet-neutron~865931,openstack/puppet-neutron,master,Ifa92f37041c76d80b74769eae06d061b546c49d8,Support [DEFAULT] l3_ha_network_* options,MERGED,2022-11-29 03:28:05.000000000,2022-11-30 14:23:13.000000000,2022-11-30 14:22:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 03:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/061bf856f073d078f8f3c7a6e54fb49e005f7956', 'message': 'Support [DEFAULT] l3_ha_network_* options\n\nThis change introduces support for a few new parameters so that users\ncan configure these parameters to customize the l3 ha network.\n\nChange-Id: Ifa92f37041c76d80b74769eae06d061b546c49d8\n'}, {'number': 2, 'created': '2022-11-29 04:57:25.000000000', 'files': ['spec/classes/neutron_server_spec.rb', 'manifests/server.pp', 'releasenotes/notes/l3-opts-16b17ace694d9c59.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5ea0dce609e277c439d1cdbd32786ed0e7cd0be4', 'message': 'Support [DEFAULT] l3_ha_network_* options\n\nThis change introduces support for a few new parameters so that users\ncan configure these parameters to customize the l3 ha network.\n\nChange-Id: Ifa92f37041c76d80b74769eae06d061b546c49d8\n'}]",1,865931,5ea0dce609e277c439d1cdbd32786ed0e7cd0be4,13,3,2,9816,,,0,"Support [DEFAULT] l3_ha_network_* options

This change introduces support for a few new parameters so that users
can configure these parameters to customize the l3 ha network.

Change-Id: Ifa92f37041c76d80b74769eae06d061b546c49d8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/31/865931/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_spec.rb', 'manifests/server.pp', 'releasenotes/notes/l3-opts-16b17ace694d9c59.yaml']",3,061bf856f073d078f8f3c7a6e54fb49e005f7956,,--- features: - | The following two parameters have been added to the ``neutron::server`` class. - ``l3_ha_network_type`` - ``l3_ha_network_physical_name`` ,,42,2
openstack%2Fopenstacksdk~824751,openstack/openstacksdk,master,I884a13186c55f50ced0af3d43c0dc51cc4281bb6,"Revert ""Add ""security_group_ids"" to Port's query parameters""",MERGED,2022-01-14 16:41:23.000000000,2022-11-30 14:21:31.000000000,2022-01-15 14:23:10.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 26250}, {'_account_id': 27900}, {'_account_id': 32029}, {'_account_id': 33945}]","[{'number': 1, 'created': '2022-01-14 16:41:23.000000000', 'files': ['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5e969fb49d96fd2071ecc8a379ec6e2c3c5c90bc', 'message': 'Revert ""Add ""security_group_ids"" to Port\'s query parameters""\n\nThis reverts commit f7f9446d6e60e6255895ee477a61f2f24f1516ba.\n\nReason for revert: merge conflict in the r1 merge change. It will be re-reverted once r1 successfully lands\n\nChange-Id: I884a13186c55f50ced0af3d43c0dc51cc4281bb6\n'}]",1,824751,5e969fb49d96fd2071ecc8a379ec6e2c3c5c90bc,12,9,1,27900,,,0,"Revert ""Add ""security_group_ids"" to Port's query parameters""

This reverts commit f7f9446d6e60e6255895ee477a61f2f24f1516ba.

Reason for revert: merge conflict in the r1 merge change. It will be re-reverted once r1 successfully lands

Change-Id: I884a13186c55f50ced0af3d43c0dc51cc4281bb6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/824751/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py']",2,5e969fb49d96fd2071ecc8a379ec6e2c3c5c90bc,add_neutron_port_security_groups_query_param,," security_group_ids='security_groups',",0,2
openstack%2Freleases~865733,openstack/releases,master,I4799304b6f172790aedc65f3fb8e45f350cdb5f2,[oslo] Transition Queens to End of Life,MERGED,2022-11-25 20:34:09.000000000,2022-11-30 14:08:15.000000000,2022-11-30 14:08:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-25 20:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d57a338597228d378fe25443c7ba3ef8dda8d4c9', 'message': ""[oslo] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I4799304b6f172790aedc65f3fb8e45f350cdb5f2\n""}, {'number': 2, 'created': '2022-11-29 14:20:39.000000000', 'files': ['deliverables/queens/automaton.yaml', 'deliverables/queens/devstack-plugin-kafka.yaml', 'deliverables/queens/debtcollector.yaml', 'deliverables/queens/oslo.concurrency.yaml', 'deliverables/queens/oslo.privsep.yaml', 'deliverables/queens/oslo.utils.yaml', 'deliverables/queens/devstack-plugin-amqp1.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/queens/oslo.policy.yaml', 'deliverables/queens/oslo.log.yaml', 'deliverables/queens/oslo.i18n.yaml', 'deliverables/queens/futurist.yaml', 'deliverables/queens/taskflow.yaml', 'deliverables/queens/oslo.vmware.yaml', 'deliverables/queens/oslosphinx.yaml', 'deliverables/queens/mox3.yaml', 'deliverables/queens/oslotest.yaml', 'deliverables/queens/osprofiler.yaml', 'deliverables/queens/oslo.messaging.yaml', 'deliverables/queens/oslo.service.yaml', 'deliverables/queens/oslo.middleware.yaml', 'deliverables/queens/oslo.rootwrap.yaml', 'deliverables/queens/oslo.serialization.yaml', 'deliverables/queens/oslo.versionedobjects.yaml', 'deliverables/queens/oslo.context.yaml', 'deliverables/queens/castellan.yaml', 'deliverables/queens/oslo.config.yaml', 'deliverables/queens/tooz.yaml', 'deliverables/queens/oslo.db.yaml', 'deliverables/queens/oslo.reports.yaml', 'deliverables/queens/stevedore.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ed38b53834159bfe4c66a876dcd7049c5586831', 'message': ""[oslo] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I4799304b6f172790aedc65f3fb8e45f350cdb5f2\n""}]",3,865733,7ed38b53834159bfe4c66a876dcd7049c5586831,10,4,2,17685,,,0,"[oslo] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I4799304b6f172790aedc65f3fb8e45f350cdb5f2
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/865733/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/automaton.yaml', 'deliverables/queens/devstack-plugin-kafka.yaml', 'deliverables/queens/debtcollector.yaml', 'deliverables/queens/oslo.concurrency.yaml', 'deliverables/queens/oslo.privsep.yaml', 'deliverables/queens/oslo.utils.yaml', 'deliverables/queens/devstack-plugin-amqp1.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/queens/oslo.policy.yaml', 'deliverables/queens/oslo.log.yaml', 'deliverables/queens/oslo.i18n.yaml', 'deliverables/queens/futurist.yaml', 'deliverables/queens/taskflow.yaml', 'deliverables/queens/oslo.vmware.yaml', 'deliverables/queens/oslosphinx.yaml', 'deliverables/queens/mox3.yaml', 'deliverables/queens/oslotest.yaml', 'deliverables/queens/osprofiler.yaml', 'deliverables/queens/oslo.messaging.yaml', 'deliverables/queens/oslo.service.yaml', 'deliverables/queens/oslo.middleware.yaml', 'deliverables/queens/oslo.rootwrap.yaml', 'deliverables/queens/oslo.serialization.yaml', 'deliverables/queens/oslo.versionedobjects.yaml', 'deliverables/queens/oslo.context.yaml', 'deliverables/queens/castellan.yaml', 'deliverables/queens/oslo.config.yaml', 'deliverables/queens/tooz.yaml', 'deliverables/queens/oslo.db.yaml', 'deliverables/queens/oslo.reports.yaml', 'deliverables/queens/stevedore.yaml']",31,d57a338597228d378fe25443c7ba3ef8dda8d4c9,queens-eol, - version: queens-eol projects: - repo: openstack/stevedore hash: f10075c4b36cd2375234e8bb93247be13869332a,,126,0
openstack%2Fpython-openstackclient~859970,openstack/python-openstackclient,stable/xena,I6842dabd7acb4e3a78f894e55e616625757eb6a4,compute: Require image when rebuilding a volume-backed server,MERGED,2022-09-30 10:33:05.000000000,2022-11-30 14:01:16.000000000,2022-11-30 14:00:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-30 10:33:05.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/db417598ed958b3f1877906d5d1bc7c5896ea168', 'message': ""compute: Require image when rebuilding a volume-backed server\n\nA volume-backed server will have no image attribute (or rather the image\nproperty will be set to the empty string). As such, if you want to try\nrebuild you will need to specify an image [*]. Enforce this.\n\n[*] Before microversion 2.93, this must be the same image. However, we\ndon't touch on that here. This will be addressed later.\n\nChange-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4\nStory: 2010297\nTask: 46290\n(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)\n(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)\n(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)\n""}]",3,859970,db417598ed958b3f1877906d5d1bc7c5896ea168,16,3,1,15334,,,0,"compute: Require image when rebuilding a volume-backed server

A volume-backed server will have no image attribute (or rather the image
property will be set to the empty string). As such, if you want to try
rebuild you will need to specify an image [*]. Enforce this.

[*] Before microversion 2.93, this must be the same image. However, we
don't touch on that here. This will be addressed later.

Change-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4
Story: 2010297
Task: 46290
(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)
(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)
(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/859970/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,db417598ed958b3f1877906d5d1bc7c5896ea168,story/2010297," # If parsed_args.image is not set and if the instance is image backed, # default to the currently used one. If the instance is volume backed, # it is not trivial to fetch the current image and probably better # to error out in this case and ask user to supply the image. if not server.image: msg = _( 'The --image option is required when rebuilding a ' 'volume-backed server' ) raise exceptions.CommandError(msg) image = image_client.get_image(server.image['id'])"," # If parsed_args.image is not set, default to the currently used one. image_id = server.to_dict().get('image', {}).get('id') image = image_client.get_image(image_id)",30,3
openstack%2Fcharm-cinder-k8s~865978,openstack/charm-cinder-k8s,stable/xena,Id37f67ad7a4b69415fb580a5913d66a2de09bec0,Refactor bundle for series alignment,MERGED,2022-11-29 11:01:55.000000000,2022-11-30 13:51:39.000000000,2022-11-30 12:59:30.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:01:55.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/424212f4bfd27dc8eb68e1d935e93fef6508752e', 'message': 'Refactor bundle for series alignment\n\nDefault bundle to use jammy base.\n\nUse single ingress controller for deployment testing.\n\nChange-Id: Id37f67ad7a4b69415fb580a5913d66a2de09bec0\n'}]",0,865978,424212f4bfd27dc8eb68e1d935e93fef6508752e,7,2,1,935,,,0,"Refactor bundle for series alignment

Default bundle to use jammy base.

Use single ingress controller for deployment testing.

Change-Id: Id37f67ad7a4b69415fb580a5913d66a2de09bec0
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/78/865978/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,424212f4bfd27dc8eb68e1d935e93fef6508752e,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',3,15
openstack%2Fcharm-horizon-k8s~866146,openstack/charm-horizon-k8s,stable/xena,Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e,Misc fixes for xena branch,MERGED,2022-11-30 12:23:46.000000000,2022-11-30 13:49:34.000000000,2022-11-30 12:58:53.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 12:23:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/1496f99f3a69aad0d814cc83449a7e144e140704', 'message': 'Misc fixes for xena branch\n\nUpper constrain flake8.\n\nChange-Id: Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e\n'}]",0,866146,1496f99f3a69aad0d814cc83449a7e144e140704,8,3,1,935,,,0,"Misc fixes for xena branch

Upper constrain flake8.

Change-Id: Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/46/866146/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1496f99f3a69aad0d814cc83449a7e144e140704,bundle-refactor, # Pin version until https://github.com/savoirfairelinux/flake8-copyright/issues/19 is merged flake8<6, # flake8==4.0.1 # Pin version until https://github.com/csachs/pyproject-flake8/pull/14 is merged flake8,2,2
openstack%2Fopenstack-ansible-os_nova~866011,openstack/openstack-ansible-os_nova,master,I6e901e48edb9b758eb657d953c9089aec6a705a3,Fix default of neutron_plugin_type,ABANDONED,2022-11-29 13:46:41.000000000,2022-11-30 13:24:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-29 13:46:41.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/134ce135996d8c785c4a2ec008fbeaab9b7eab22', 'message': 'Fix default of neutron_plugin_type\n\nCurrent way of defining default does not work and nova will still fail\nif neutron_plugin_type is undefined.\n\nChange-Id: I6e901e48edb9b758eb657d953c9089aec6a705a3\n'}]",0,866011,134ce135996d8c785c4a2ec008fbeaab9b7eab22,4,2,1,28619,,,0,"Fix default of neutron_plugin_type

Current way of defining default does not work and nova will still fail
if neutron_plugin_type is undefined.

Change-Id: I6e901e48edb9b758eb657d953c9089aec6a705a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/11/866011/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,134ce135996d8c785c4a2ec008fbeaab9b7eab22,osa/ovn,"{% if (neutron_plugin_type | default('') == ""ml2.ovs"") %}","{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %}",1,1
openstack%2Ftripleo-ansible~865268,openstack/tripleo-ansible,master,I706fc8b26c569c916c4832e9a1845f527b2eb325,bnr - Molecule configuration modification to avoid puppet warnings,ABANDONED,2022-11-22 11:49:47.000000000,2022-11-30 13:00:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 11:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a4f5208e475d07f712c2afcad1f996c4308f208', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 2, 'created': '2022-11-22 13:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c44e17e26fe686702fe413f19d227e109b9a8b2c', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 3, 'created': '2022-11-22 13:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e802e1e525af6da488378b92a22794a7d00c0a8a', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 4, 'created': '2022-11-23 12:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43b9fa8386413a791eaffe1a3d1c7aa85ef77178', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 5, 'created': '2022-11-23 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20c1f105424cddadd5faf2d7f6a8a9feb434ab91', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 6, 'created': '2022-11-23 13:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c4720c0c8685c3892b85288bb9df23551fab861', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 7, 'created': '2022-11-24 11:22:59.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2dca22386ae929bf5774c1c21e8c5bde8dfdd5d7', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}]",0,865268,2dca22386ae929bf5774c1c21e8c5bde8dfdd5d7,16,2,7,34423,,,0,"bnr - Molecule configuration modification to avoid puppet warnings

Patches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue
Since hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.

Change-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/865268/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml'],1,6a4f5208e475d07f712c2afcad1f996c4308f208,bnr_molecule," version: 5 defaults: data_hash: json_data hierarchy: - name: ""service_names"" path: ""{{ ansible_user_dir }}/hieradata/service_names.json"" - name: ""service_configs"" path: ""{{ ansible_user_dir }}/hieradata/service_configs.json"" - name: Insert some data into service_names.json copy: dest: ""{{ ansible_user_dir }}/hieradata/service_configs.json"" content: | { ""service_names"": [ ""mysql"", ""mysql_client"", ""tripleo_validations"" ] } ", --- :backends: - json :json: :datadir: {{ ansible_user_dir }}/hieradata :hierarchy: - service_configs,21,7
openstack%2Fmanila-tempest-plugin~865536,openstack/manila-tempest-plugin,master,I783194a10b0f39823def07e5af93f36168c5a217,"Fix argument name in ""delete_share_group_type_spec""",MERGED,2022-11-24 12:12:53.000000000,2022-11-30 12:33:38.000000000,2022-11-30 11:10:09.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-11-24 12:12:53.000000000', 'files': ['manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b729094ac1b9e1d5f664a163052e8d5e4a62fdbe', 'message': 'Fix argument name in ""delete_share_group_type_spec""\n\nThe method is in the scope of group so it should be\nnamed as ""share_group_type_id"".\n\nChange-Id: I783194a10b0f39823def07e5af93f36168c5a217\n'}]",4,865536,b729094ac1b9e1d5f664a163052e8d5e4a62fdbe,15,4,1,19262,,,0,"Fix argument name in ""delete_share_group_type_spec""

The method is in the scope of group so it should be
named as ""share_group_type_id"".

Change-Id: I783194a10b0f39823def07e5af93f36168c5a217
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/36/865536/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/services/share/v2/json/shares_client.py'],1,b729094ac1b9e1d5f664a163052e8d5e4a62fdbe,share_group_type_id," def delete_share_group_type_spec(self, share_group_type_id, group_spec_key, share_group_type_id, group_spec_key)"," def delete_share_group_type_spec(self, share_type_id, group_spec_key, share_type_id, group_spec_key)",2,2
openstack%2Ftripleo-ansible~865727,openstack/tripleo-ansible,stable/zed,Iccda95cde0e309af00ce6b918ab1acab68e548dd,Don't use meta:end_play after growvols check,MERGED,2022-11-28 08:30:17.000000000,2022-11-30 12:22:15.000000000,2022-11-30 12:22:15.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 08:30:17.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5712ec1bcea9739092b698029e3e71ea0e72523', 'message': ""Don't use meta:end_play after growvols check\n\nAccording to the documentation, meta: end_play will apply to all\nhosts, which is fine if every host is deploying the same image.\nHowever if there is a mixture of overcloud-full and\novercloud-hardened-uefi-full the playbook won't run correctly on some\nhosts.\n\nThis change moves to a conditional block to run as expected on each\nhost.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html\n\nChange-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd\n(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)\n""}]",0,865727,f5712ec1bcea9739092b698029e3e71ea0e72523,8,4,1,9816,,,0,"Don't use meta:end_play after growvols check

According to the documentation, meta: end_play will apply to all
hosts, which is fine if every host is deploying the same image.
However if there is a mixture of overcloud-full and
overcloud-hardened-uefi-full the playbook won't run correctly on some
hosts.

This change moves to a conditional block to run as expected on each
host.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html

Change-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd
(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/865727/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,f5712ec1bcea9739092b698029e3e71ea0e72523,growvols-check-stable/zed," - name: Run growvols block when: find_growvols.rc == 0 block: - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout"," - name: Stopping playbook when no growvols utility is found meta: end_play when: find_growvols.rc != 0 - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout",13,14
openstack%2Fplacement~864385,openstack/placement,master,I12dce16a7f18bb065e1412d2f2d9bd91452d8672,Policy defaults improvement spec,MERGED,2022-11-14 05:19:59.000000000,2022-11-30 12:20:55.000000000,2022-11-30 12:18:47.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-14 05:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d2f10a02aab6028ca8648aff011c8490fc324fdd', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 2, 'created': '2022-11-15 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/98f361d8639400e710c42fefc8fc2ae5aa901b36', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 3, 'created': '2022-11-15 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7d9771cfce2d072b22026f2d83815f045816ad06', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 4, 'created': '2022-11-30 04:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ca8e791217ed30891e8174ae11551964352132a4', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 5, 'created': '2022-11-30 04:08:27.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/2023.1/approved/policy-defaults-improvement.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/bacd2c039345dd12f22b0474b8a0f6a691a8ed98', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nPartial implement blueprint policy-defaults-improvement\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}]",18,864385,bacd2c039345dd12f22b0474b8a0f6a691a8ed98,26,4,5,8556,,,0,"Policy defaults improvement spec

This spec is to improve the policies default
as per the community wide goal
- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html

APIImpact

Partial implement blueprint policy-defaults-improvement

Change-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672
",git fetch https://review.opendev.org/openstack/placement refs/changes/85/864385/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/2023.1/approved/policy-defaults-improvement.rst']",2,d2f10a02aab6028ca8648aff011c8490fc324fdd,policy-defaults-improvement,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Policy Defaults Improvement =========================== This spec is to improve the placement APIs policy as the directions decided in `RBAC community-wide goal <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ Problem description =================== While discussing the new RBAC (scope_type and project admin vs system admin things) with operators in berlin ops meetup and via emails, and policy popup meetings, we got the feedback that we need to keep the legacy admin behaviour same as it is otherwise it is going to be a big breaking change for many of the operators. Same feedback for scope_type. - https://etherpad.opendev.org/p/BER-2022-OPS-SRBAC - https://etherpad.opendev.org/p/rbac-operator-feedback By considering the feedback, we decided to make all the policy to be project scoped, release project reader role, and not to change the legacy admin behaviour. Use Cases --------- Ideally most operators should be able to run without modifying policy, as such we need to have defaults closure to the usage. Proposed change =============== The `RBAC community-wide goal <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ defines all the direction and implementation usage of policy. This proposal is to implement the phase 1 and phase 2 of the `RBAC community-wide goal <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ Alternatives ------------ Keep the policy defaults same as it is and expect operators to override them to behave as per their usage. Data model impact ----------------- None REST API impact --------------- The placement APIs policy will modified to add reader roles, scoped to projects, and keep legacy behaviour same as it is. Security impact --------------- Easier to understand policy defaults will help keep the system secure. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- New APIs must add policies that follow the new pattern. Upgrade impact -------------- The API policies defaults roles have been modified which might effect the deployment if it use the default policy defined. If deployment overrides these policies then, they need to start considering the new default policy rules. Implementation ============== Assignee(s) ----------- Primary assignee: gmann Feature Liaison --------------- Feature liaison: dansmith Work Items ---------- * Scope all policy to project * Add project reader role in policy * Modify policy rule unit tests Dependencies ============ None Testing ======= Modify or add the policy unit tests. Documentation Impact ==================== API Reference should be kept consistent with any policy changes, in particular around the default reader role. References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2023.1 - Introduced ",,168,0
openstack%2Fdevstack~865481,openstack/devstack,stable/wallaby,Id218cf2ad5fbb9cae5828972366fe85911e500b2,Remove centos-9-stream jobs on stable/wallaby,MERGED,2022-11-24 00:31:43.000000000,2022-11-30 12:20:52.000000000,2022-11-30 12:18:44.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 00:31:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1ea0d4416a8b13696d750339f077a5ceed8a6424', 'message': ""Remove centos-9-stream jobs on stable/wallaby\n\nAlready n-v devstack-platform-centos-9-stream has been failing\nlast 2 months.\n\nConsidering that there isn't a lot of traffic on stable/wallaby\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes this job no to\nwaste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}]",1,865481,1ea0d4416a8b13696d750339f077a5ceed8a6424,12,2,1,22873,,,0,"Remove centos-9-stream jobs on stable/wallaby

Already n-v devstack-platform-centos-9-stream has been failing
last 2 months.

Considering that there isn't a lot of traffic on stable/wallaby
and we have a centos job in newer branches so any backport
patch gets tested there, the commit removes this job no to
waste CI resources.

Change-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/865481/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ea0d4416a8b13696d750339f077a5ceed8a6424,,, name: devstack-platform-centos-9-stream parent: tempest-full-py3 description: CentOS 9 Stream platform test nodeset: devstack-single-node-centos-9-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-centos-9-stream,0,11
openstack%2Fdevstack~865818,openstack/devstack,master,I8bee430029dcc719629bd92451c2791571f8a30c,[doc] Update Ubuntu to 22.04,MERGED,2022-11-28 10:21:43.000000000,2022-11-30 12:19:45.000000000,2022-11-30 12:18:41.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-28 10:21:43.000000000', 'files': ['doc/source/index.rst', 'tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/818d1a225d54291d1da1f8011f92affb2998d0e9', 'message': '[doc] Update Ubuntu to 22.04\n\nThis updates documentation to reflect the switch to\nUbuntu 22.04 (jammy) in the CI:\nhttps://review.opendev.org/c/openstack/devstack/+/860795\n\nChange-Id: I8bee430029dcc719629bd92451c2791571f8a30c\n'}]",4,865818,818d1a225d54291d1da1f8011f92affb2998d0e9,14,3,1,22873,,,0,"[doc] Update Ubuntu to 22.04

This updates documentation to reflect the switch to
Ubuntu 22.04 (jammy) in the CI:
https://review.opendev.org/c/openstack/devstack/+/860795

Change-Id: I8bee430029dcc719629bd92451c2791571f8a30c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/865818/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tools/install_pip.sh']",2,818d1a225d54291d1da1f8011f92affb2998d0e9,," # pip on Ubuntu 20.04 and higher is new enough, too"," # pip on Ubuntu 20.04 is new enough, too",2,2
openstack%2Ftripleo-upgrade~865699,openstack/tripleo-upgrade,master,I15add6d240ea072bc972cf9b7713b2b59c51d7ed,[ffwd3] Introduce roles_data adjustment for wallaby,ABANDONED,2022-11-25 16:20:36.000000000,2022-11-30 12:08:40.000000000,,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 16:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9fc5e353ab94630632cfce6fbfbdf2d333accec5', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}, {'number': 2, 'created': '2022-11-25 16:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/62e183338a456c80c292573b094233a841b03316', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}, {'number': 3, 'created': '2022-11-28 13:51:01.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ea5db29d9229c2bf3d1e7f415b0f36b79d5973e2', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}]",2,865699,ea5db29d9229c2bf3d1e7f415b0f36b79d5973e2,8,3,3,11166,,,0,"[ffwd3] Introduce roles_data adjustment for wallaby

Change-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/865699/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,9fc5e353ab94630632cfce6fbfbdf2d333accec5,,"- name: ""Drop {{item}} service"" replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- {{item}}$)' replace: '' loop: - ""OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI"" - ""OS::TripleO::Services::CinderBackendDellPs"" - ""OS::TripleO::Services::CinderBackendVRTSHyperScale"" - ""OS::TripleO::Services::Ec2Api"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::FluentdAlt"" - ""OS::TripleO::Services::Keepalived"" - ""OS::TripleO::Services::MistralApi"" - ""OS::TripleO::Services::MistralEngine"" - ""OS::TripleO::Services::MistralEventEngine"" - ""OS::TripleO::Services::MistralExecutor"" - ""OS::TripleO::Services::NeutronLbaasv2Agent"" - ""OS::TripleO::Services::NeutronLbaasv2Api"" - ""OS::TripleO::Services::NeutronML2FujitsuCfab"" - ""OS::TripleO::Services::NeutronML2FujitsuFossw"" - ""OS::TripleO::Services::NeutronSriovHostConfig"" - ""OS::TripleO::Services::NovaConsoleauth"" - ""OS::TripleO::Services::Ntp"" - ""OS::TripleO::Services::OpenDaylightApi"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenShift::GlusterFS"" - ""OS::TripleO::Services::OpenShift::Infra"" - ""OS::TripleO::Services::OpenShift::Master"" - ""OS::TripleO::Services::OpenShift::Worker"" - ""OS::TripleO::Services::PankoApi"" - ""OS::TripleO::Services::Rear"" - ""OS::TripleO::Services::SaharaApi"" - ""OS::TripleO::Services::SaharaEngine"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClientAlt"" - ""OS::TripleO::Services::SkydiveAgent"" - ""OS::TripleO::Services::SkydiveAnalyzer"" - ""OS::TripleO::Services::Tacker"" - ""OS::TripleO::Services::TripleoUI"" - ""OS::TripleO::Services::UndercloudMinionMessaging"" - ""OS::TripleO::Services::UndercloudUpgradeEphemeralHeat"" - ""OS::TripleO::Services::Zaqar"" ",,47,1
openstack%2Fopenstack-ansible-lxc_hosts~861676,openstack/openstack-ansible-lxc_hosts,master,Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac,Add option to disable lxc interface management,MERGED,2022-10-18 00:09:17.000000000,2022-11-30 11:26:11.000000000,2022-11-30 11:25:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-18 00:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c9d2f147836f1c4baed5e131157a53b84f09fb06', 'message': 'Add option to disable lxc interface management\n\nThis change adds a new role default option which will allow operators\nto omit the deployment of specific lxc bridge network config. This\nchange is being implemented because, as an operator, I have a host\nsetup specifically built for OpenStack which includes an interface\nconfig covering the lxc deployment. Currently when running a deployment\nthe role will attempt to deploy a new interface file which at best\nconflicts with the host setup and at worst fails to run due to the\ninterface being in a state unknown to OSA.\n\nThe new config option `lxc_net_managed` is default **true** keeping\nthe existing expectations, but when set to **false** the role will\nno longer deploy an interface file or attempt to bring up the interface\nusing the distro tools.\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac\n'}, {'number': 2, 'created': '2022-11-29 16:27:13.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/lxc_net_managed-7a898d07c240b424.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9385ec8011b8af129eb3354f990695e67897943a', 'message': 'Add option to disable lxc interface management\n\nThis change adds a new role default option which will allow operators\nto omit the deployment of specific lxc bridge network config. This\nchange is being implemented because, as an operator, I have a host\nsetup specifically built for OpenStack which includes an interface\nconfig covering the lxc deployment. Currently when running a deployment\nthe role will attempt to deploy a new interface file which at best\nconflicts with the host setup and at worst fails to run due to the\ninterface being in a state unknown to OSA.\n\nThe new config option `lxc_net_managed` is default **true** keeping\nthe existing expectations, but when set to **false** the role will\nno longer deploy an interface file or attempt to bring up the interface\nusing the distro tools.\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac\n'}]",1,861676,9385ec8011b8af129eb3354f990695e67897943a,13,4,2,7353,,,0,"Add option to disable lxc interface management

This change adds a new role default option which will allow operators
to omit the deployment of specific lxc bridge network config. This
change is being implemented because, as an operator, I have a host
setup specifically built for OpenStack which includes an interface
config covering the lxc deployment. Currently when running a deployment
the role will attempt to deploy a new interface file which at best
conflicts with the host setup and at worst fails to run due to the
interface being in a state unknown to OSA.

The new config option `lxc_net_managed` is default **true** keeping
the existing expectations, but when set to **false** the role will
no longer deploy an interface file or attempt to bring up the interface
using the distro tools.

Signed-off-by: Kevin Carter <kevin@cloudnull.com>
Change-Id: Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/76/861676/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_net.yml', 'releasenotes/notes/lxc_net_managed-7a898d07c240b424.yaml', 'defaults/main.yml']",3,c9d2f147836f1c4baed5e131157a53b84f09fb06,,# Allow OSA to generate the LXC network configuration and manage the interface state. lxc_net_managed: true ,,15,0
openstack%2Fcharm-designate~865557,openstack/charm-designate,stable/zed,I48a04ac619204ba109d87ca05de7cbe308592486,Add check to expose internal endpoints,MERGED,2022-11-24 18:32:58.000000000,2022-11-30 11:10:49.000000000,2022-11-30 11:10:49.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 18:32:58.000000000', 'files': ['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/4d50f9ab40c8948771a7338949a84a3899c426d7', 'message': 'Add check to expose internal endpoints\n\nCurrently, the charm ignores the use-internal-endpoints config\noption that is being inherited from the Openstack Layer. This\npatch adds a check to ensure that the internal endpoint is exposed\nif this is set to True.\n\nCloses-bug: #1995188\nChange-Id: I48a04ac619204ba109d87ca05de7cbe308592486\n(cherry picked from commit 8a4940bbb108124246ad3ae830964cf58dfc9ec3)\n'}]",1,865557,4d50f9ab40c8948771a7338949a84a3899c426d7,8,4,1,14567,,,0,"Add check to expose internal endpoints

Currently, the charm ignores the use-internal-endpoints config
option that is being inherited from the Openstack Layer. This
patch adds a check to ensure that the internal endpoint is exposed
if this is set to True.

Closes-bug: #1995188
Change-Id: I48a04ac619204ba109d87ca05de7cbe308592486
(cherry picked from commit 8a4940bbb108124246ad3ae830964cf58dfc9ec3)
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/57/865557/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py']",2,4d50f9ab40c8948771a7338949a84a3899c426d7,, if hookenv.config('use-internal-endpoints'): endpoint.expose_endpoint(instance.internal_url) else: endpoint.expose_endpoint(instance.public_url), endpoint.expose_endpoint(instance.public_url),11,2
openstack%2Fnova~863902,openstack/nova,stable/victoria,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-11-07 17:01:14.000000000,2022-11-30 11:02:40.000000000,2022-11-30 11:00:11.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 17:01:14.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6dda4f7ca3f25a11cd0178352ad24fe2e8b74785', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)\n'}]",1,863902,6dda4f7ca3f25a11cd0178352ad24fe2e8b74785,8,3,1,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

changes:
adds return server from _live_migrate in _integrated_helpers

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)
(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)
(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)
(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)
(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/863902/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",2,6dda4f7ca3f25a11cd0178352ad24fe2e8b74785,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) ",,63,1
openstack%2Fdevstack~865479,openstack/devstack,stable/yoga,Id218cf2ad5fbb9cae5828972366fe85911e500b2,Remove centos-8/9-stream jobs on stable/yoga,MERGED,2022-11-24 00:20:45.000000000,2022-11-30 11:02:23.000000000,2022-11-30 11:00:07.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 00:20:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/03fbda125175883b621e4187f88f020034ed85cc', 'message': ""Remove centos-8/9-stream jobs on stable/yoga\n\nThe following 2 already n-v jobs have been failing:\n* devstack-platform-centos-8-stream - most of 2022\n* devstack-platform-centos-9-stream - last 2 months\n\nConsidering that there isn't a lot of traffic on stable/yoga\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes those 2 jobs\nnot to waste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}]",2,865479,03fbda125175883b621e4187f88f020034ed85cc,14,2,1,22873,,,0,"Remove centos-8/9-stream jobs on stable/yoga

The following 2 already n-v jobs have been failing:
* devstack-platform-centos-8-stream - most of 2022
* devstack-platform-centos-9-stream - last 2 months

Considering that there isn't a lot of traffic on stable/yoga
and we have a centos job in newer branches so any backport
patch gets tested there, the commit removes those 2 jobs
not to waste CI resources.

Change-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/865479/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03fbda125175883b621e4187f88f020034ed85cc,,, name: devstack-platform-centos-8-stream parent: tempest-full-py3 description: CentOS 8 Stream platform test nodeset: devstack-single-node-centos-8-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: name: devstack-platform-centos-9-stream parent: tempest-full-py3 description: CentOS 9 Stream platform test nodeset: devstack-single-node-centos-9-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-centos-8-stream - devstack-platform-centos-9-stream,0,22
openstack%2Fpuppet-openstack-integration~866097,openstack/puppet-openstack-integration,master,Ibd7b112646eff0b4b3a5732e9aab88291b859783,Updated from Puppet OpenStack modules constraints,MERGED,2022-11-30 02:19:18.000000000,2022-11-30 10:42:20.000000000,2022-11-30 10:42:20.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 02:19:18.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7de1041ffd63d06c248e5b38a5dc1fd842f2b8cf', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ibd7b112646eff0b4b3a5732e9aab88291b859783\n'}]",2,866097,7de1041ffd63d06c248e5b38a5dc1fd842f2b8cf,9,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ibd7b112646eff0b4b3a5732e9aab88291b859783
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/866097/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,7de1041ffd63d06c248e5b38a5dc1fd842f2b8cf,openstack/puppet/constraints, :ref => 'v6.1.0', :ref => 'v6.0.2',1,1
openstack%2Fpuppet-neutron~865933,openstack/puppet-neutron,master,I4d1509232daf18c213664545bda1d7f7aa05b93b,Remove support for networking-ansible,MERGED,2022-11-29 03:33:03.000000000,2022-11-30 09:18:12.000000000,2022-11-30 09:17:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 03:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2afe51556e8c6bed2a6223e82aa137a230bcc260', 'message': 'Remove support for networking-ansible\n\nWe deprecated the support during Zed cycle[1], because the plugin has\nbeen unmaintained. So now we can remove the whole implementation.\n\n[1] f82a231bad28f8bf9c4c2b3938d99091a54cfd3a\n\nChange-Id: I4d1509232daf18c213664545bda1d7f7aa05b93b\n'}, {'number': 2, 'created': '2022-11-29 03:51:05.000000000', 'files': ['manifests/plugins/ml2/networking_ansible.pp', 'spec/defines/neutron_plugins_ml2_networking_ansible_host_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_ansible_spec.rb', 'manifests/plugins/ml2/networking_ansible_host.pp', 'releasenotes/notes/remove-networking-ansible-cf18494c238d2e0b.yaml', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1e55ead168ff053921e72615855fce79124e5883', 'message': 'Remove support for networking-ansible\n\nWe deprecated the support during Zed cycle[1], because the plugin has\nbeen unmaintained. So now we can remove the whole implementation.\n\n[1] f82a231bad28f8bf9c4c2b3938d99091a54cfd3a\n\nChange-Id: I4d1509232daf18c213664545bda1d7f7aa05b93b\n'}]",1,865933,1e55ead168ff053921e72615855fce79124e5883,11,3,2,9816,,,0,"Remove support for networking-ansible

We deprecated the support during Zed cycle[1], because the plugin has
been unmaintained. So now we can remove the whole implementation.

[1] f82a231bad28f8bf9c4c2b3938d99091a54cfd3a

Change-Id: I4d1509232daf18c213664545bda1d7f7aa05b93b
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/33/865933/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/networking_ansible.pp', 'spec/defines/neutron_plugins_ml2_networking_ansible_host_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_ansible_spec.rb', 'manifests/plugins/ml2/networking_ansible_host.pp', 'releasenotes/notes/remove-networking-ansible-cf18494c238d2e0b.yaml']",5,2afe51556e8c6bed2a6223e82aa137a230bcc260,,--- upgrade: - | Support for the ``networking-ansible`` plugin has been removed. ,,4,356
openstack%2Fneutron~860471,openstack/neutron,master,I6373a3c213b24ec957e4d2ea7fc42524517d10d5,Spread OVN metadata agent heartbeat response in time,MERGED,2022-10-05 15:00:59.000000000,2022-11-30 09:15:07.000000000,2022-11-29 14:06:15.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 15:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c8d845c2debe71d400edd08d40294902ed3d845', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}, {'number': 2, 'created': '2022-10-05 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19fd6667011fdaf3464f0df0838beb03c3e6ef83', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nRelated-Bug: #1991817\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}, {'number': 3, 'created': '2022-10-06 10:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f199e4b424dafc6166e03a31188fb7d47e98dc36', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}, {'number': 4, 'created': '2022-10-06 13:01:21.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/628442aed7400251f12809a45605bd717f494c4e', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nRelated-Bug: #1991817\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}]",10,860471,628442aed7400251f12809a45605bd717f494c4e,31,7,4,30463,,,0,"Spread OVN metadata agent heartbeat response in time

To avoid mass response of OVN metadata agents on
heartbeat update - event on OVN Southbound
SB_Global table nb_cfg entry increment, this patch postpone
Chassis/Chassis_Private table update for random number
of seconds in range of ( cfg.CONF.agent_down_time // 2 ).

Related-Bug: #1991817
Change-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/860471/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,4c8d845c2debe71d400edd08d40294902ed3d845,bug/1991817,"from random import randrangefrom oslo_config import cfg self.first_run = True def _update_chassis(self, row): table = ('Chassis_Private' if self.agent.has_chassis_private else 'Chassis') self.agent.sb_idl.db_set( table, self.agent.chassis, ('external_ids', { ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY: str(row.nb_cfg)})).execute() if self.first_run: interval = 0 self.first_run = False else: try: interval = randrange(0, max(cfg.CONF.agent_down_time // 2, 1)) except cfg.NoSuchOptError: interval = 0 LOG.debug(""Delaying updating chassis table for %s seconds"", interval) timer = threading.Timer(interval, _update_chassis, [self, row]) timer.start()"," table = ('Chassis_Private' if self.agent.has_chassis_private else 'Chassis') self.agent.sb_idl.db_set( table, self.agent.chassis, ('external_ids', { ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY: str(row.nb_cfg)})).execute()",24,6
openstack%2Fnova-specs~857838,openstack/nova-specs,master,Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5,spec: allowing target state for evacuate,MERGED,2022-09-15 09:13:48.000000000,2022-11-30 09:08:23.000000000,2022-11-29 19:52:25.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-15 09:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f46417c45ff63387996476a6f37f733ce6daa6e8', 'message': 'spec: allowing target state for evacuate\n\nThis is to enhance the evacuate instance API to allow operator setting\ntarget state.\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 2, 'created': '2022-10-04 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7fe3d8be06ac4c97d1eb8c69e6b5a5780f10e17', 'message': 'spec: allowing target state for evacuate\n\nThis is to enhance the evacuate instance API to allow operator setting\ntarget state.\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 3, 'created': '2022-10-11 07:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fa65da285ba0aa8941db070cb0837046e1965cf7', 'message': 'spec: allowing target state for evacuate\n\nThis is to enhance the evacuate instance API to allow operator setting\ntarget state.\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 4, 'created': '2022-10-27 08:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/79579e61679b96ce1d1d483cb96630b3ab811c43', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 5, 'created': '2022-10-27 11:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/12db0f83bf7f6ecaba402b4bbd27adfc7addf367', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 6, 'created': '2022-10-27 11:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d69926db39bc099d1c74cd2aaf2cc19540da457c', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 7, 'created': '2022-10-31 10:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/642ac9c042b1d2a6792a1988ec503b4c395bf3e7', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 8, 'created': '2022-10-31 11:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/883ce5d4a77107fdb239cd34dbda1b42ef45135a', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 9, 'created': '2022-11-16 09:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/adcff1d7b4f55745d6bb89b0c1b8b2c783c80583', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 10, 'created': '2022-11-16 09:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/479f8c81a402b79617974dfe35acb984656b981d', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 11, 'created': '2022-11-16 12:31:38.000000000', 'files': ['specs/2023.1/approved/allowing-target-state-for-evacuate.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/66fe2b62853c5fe77a5c0622939f7c340f9a422e', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}]",99,857838,66fe2b62853c5fe77a5c0622939f7c340f9a422e,69,8,11,7730,,,0,"spec: allowing target state for evacuate

Any evacuated instances will be stopped at destination

Implement: bp/allowing-target-state-for-evacuate
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/38/857838/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/antelope/approved/allowing-target-state-for-evacuate.rst'],1,f46417c45ff63387996476a6f37f733ce6daa6e8,bp/allowing-target-state-for-evacuate,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Allowing target state for evacuate ================================== https://blueprints.launchpad.net/nova/+spec/allowing-target-state-for-evacuate In certain circumstances the operator may have desire when evacuating running instances from a service down to set target state as stop even if they were considered as running in the source host. Problem description =================== The current evacuate instance API does not allow operators to set a desired target state to the evacuated instances. Use Cases --------- For some specific use-cases that refer to end users an operator of a private cloud may have necessity to evacuate instances to a destination host as stopped even if they were running on source host. Some public cloud also prefer to evacuate instances as stopped, like Amazon AWS. Proposed change =============== #. ``POST /servers/{server_id}/action`` API API will start accepting optional `targetState` argument in body of type enum (stop, start). If nothing is specified the current behavior stay the same. Alternatives ------------ It may be possible to enhance the API resetState to accept RUNNING and SHUTOFF. Data model impact ----------------- None. REST API impact --------------- A microversion bump is expected. ``POST /servers/{server_id}/action`` .. code-block:: { ""evacuate"": { ""host"": ""b419863b7d814906a68fb31703c0dbd6"", ""onSharedStorage"": ""False"", ""targetState"": ""stop"" } } Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- The nova api-ref will updated to reflect the changes. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- Upgrade notes will be added describing new option targetState. Implementation ============== Assignee(s) ----------- Primary assignee: sahid-ferdjaoui Other contributors: None Feature Liaison --------------- Feature liaison: None Work Items ---------- - API changes with microversion - Testing for the changes. Dependencies ============ None. Testing ======= - Unit or functional testing for API change. Documentation Impact ==================== The api-ref will be updated to reflect the changes. References ========== * https://docs.openstack.org/api-ref/compute/?expanded=evacuate-server-evacuate-action-detail,inject-network-information-injectnetworkinfo-action-detail#evacuate-server-evacuate-action History ======= .. list-table:: Revisions :header-rows: 1 * - Antelope - First introduction ",,155,0
openstack%2Fpuppet-ironic~865775,openstack/puppet-ironic,master,I9c84ea89ed6a1844b9facf95bd405ba51790401c,Add support for [agent] command_wait_* options,MERGED,2022-11-26 17:35:46.000000000,2022-11-30 09:05:59.000000000,2022-11-30 09:04:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 17:35:46.000000000', 'files': ['spec/classes/ironic_drivers_agent_spec.rb', 'releasenotes/notes/agent-command_wait_opts-8cf9e6f81ba70064.yaml', 'manifests/drivers/agent.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6fd748956f0d44584cc38df1886ca7b3b9e96fdd', 'message': 'Add support for [agent] command_wait_* options\n\n... so that users can tune how asynchronous commands completion is\nhandled.\n\nChange-Id: I9c84ea89ed6a1844b9facf95bd405ba51790401c\n'}]",0,865775,6fd748956f0d44584cc38df1886ca7b3b9e96fdd,11,3,1,9816,,,0,"Add support for [agent] command_wait_* options

... so that users can tune how asynchronous commands completion is
handled.

Change-Id: I9c84ea89ed6a1844b9facf95bd405ba51790401c
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/75/865775/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_drivers_agent_spec.rb', 'releasenotes/notes/agent-command_wait_opts-8cf9e6f81ba70064.yaml', 'manifests/drivers/agent.pp']",3,6fd748956f0d44584cc38df1886ca7b3b9e96fdd,agent-tunables,"# [*command_wait_attempts*] # (optional) Number of attempts to check for asynchronous commands completion # before timing out. # Defaults to $::os_service_default # # [*command_wait_interval*] # (optional) Number of seconds to wait for between checks for asynchronous # commands completion. # Defaults to $::os_service_default # $command_wait_attempts = $::os_service_default, $command_wait_interval = $::os_service_default, 'agent/command_wait_attempts': value => $command_wait_attempts; 'agent/command_wait_interval': value => $command_wait_interval;",,29,2
openstack%2Fos-net-config~864996,openstack/os-net-config,master,Icd019e62a045cab05df82421298100a79c2a669f,Updates to tox and setup.cfg files,MERGED,2022-11-18 07:48:05.000000000,2022-11-30 09:01:59.000000000,2022-11-30 09:00:43.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 07:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ce7b80ec8dca345b9cdccac90527d5eb0107b244', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n'}, {'number': 2, 'created': '2022-11-18 12:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/52cbb60ab904b9cc007ed3cefa7d2e2fc1ff49bf', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n'}, {'number': 3, 'created': '2022-11-18 18:41:57.000000000', 'files': ['requirements.txt', 'setup.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4ed6d471c487a2ac972cf073170d8204e15ec408', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n'}]",2,864996,4ed6d471c487a2ac972cf073170d8204e15ec408,16,4,3,33688,,,0,"Updates to tox and setup.cfg files

Using upper-constraints when creating tox environments is
currently having an issue. Updated old version for packages
like pbr, oslo.concurrency, oslo.utils.

Change-Id: Icd019e62a045cab05df82421298100a79c2a669f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/96/864996/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py', 'setup.cfg', 'tox.ini']",4,ce7b80ec8dca345b9cdccac90527d5eb0107b244,build_fix,"minversion = 3.18.0 envlist = docs,linters,pep8ignore_basepython_conflict = Truecommands = stestr run --slowest {posargs}","minversion = 2.0 envlist = py38,pep8 -c{env:TOX_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/master}commands = stestr run --slowest {posargs}",11,8
openstack%2Ftripleo-ansible~866010,openstack/tripleo-ansible,stable/train,I8d7440af098c6dab12773e5a99f01e5ecb8a6b95,Move inventory filters to tripleo-upgrade,MERGED,2022-11-29 13:45:36.000000000,2022-11-30 09:00:41.000000000,2022-11-30 09:00:41.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-11-29 13:45:36.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py', 'tripleo_ansible/tests/plugins/filter/test_tripleo_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58046adb5baf52b7ace24c4c40c6b16f42e5dc04', 'message': 'Move inventory filters to tripleo-upgrade\n\nThe inventory filters for tripleo-upgrade were originally merged to\ntripleo-ansible to promote re-use however we want to avoid adding this\nas a dependency for tripleo-upgrade as it is not necessarily running on\nthe undercloud where we can assume tripleo-ansible is installed.\nThe use case for these filters is quite obscure and specific to the\ntripleo-upgade playbooks (manually parsing the inventory yaml in an\nansible task) so the easiest option is to move them to tripleo-upgrade.\n\nDepends-On: https://review.opendev.org/727426\nChange-Id: I8d7440af098c6dab12773e5a99f01e5ecb8a6b95\n(cherry picked from commit 5208ba8b8f80739c1ef4ff44f7c44f2b606de6e3)\n'}]",1,866010,58046adb5baf52b7ace24c4c40c6b16f42e5dc04,10,6,1,8297,,,0,"Move inventory filters to tripleo-upgrade

The inventory filters for tripleo-upgrade were originally merged to
tripleo-ansible to promote re-use however we want to avoid adding this
as a dependency for tripleo-upgrade as it is not necessarily running on
the undercloud where we can assume tripleo-ansible is installed.
The use case for these filters is quite obscure and specific to the
tripleo-upgade playbooks (manually parsing the inventory yaml in an
ansible task) so the easiest option is to move them to tripleo-upgrade.

Depends-On: https://review.opendev.org/727426
Change-Id: I8d7440af098c6dab12773e5a99f01e5ecb8a6b95
(cherry picked from commit 5208ba8b8f80739c1ef4ff44f7c44f2b606de6e3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/866010/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py', 'tripleo_ansible/tests/plugins/filter/test_tripleo_inventory.py']",2,58046adb5baf52b7ace24c4c40c6b16f42e5dc04,,,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tripleo_ansible.ansible_plugins.filter import tripleo_inventory from tripleo_ansible.tests import base as tests_base static_inventory = """""" overcloud: children: allovercloud: {} allovercloud: children: Compute: {} Controller: {} vars: {} Controller: children: overcloud_Controller: {} overcloud_Controller: hosts: overcloud-controller-0: {foo_bar: baz} vars: tripleo_role_name: Controller Compute: children: overcloud_Compute: {} overcloud_Compute: hosts: overcloud-novacompute-0: {foo_bar: baz} vars: tripleo_role_name: Compute """""" dynamic_inventory = """""" { ""overcloud"": { ""children"": [ ""allovercloud"" ] }, ""allovercloud"": { ""children"": [ ""Compute"", ""Controller"" ], ""vars"" : {} }, ""Controller"" : { ""children"": [ ""overcloud_Controller"" ] }, ""overcloud_Controller"" : { ""hosts"": [ ""overcloud-controller-0"" ], ""vars"": { ""tripleo_role_name"": ""Controller"" } }, ""Compute"" : { ""children"": [ ""overcloud_Compute"" ] }, ""overcloud_Compute"" : { ""hosts"": [""overcloud-novacompute-0"" ], ""vars"": { ""tripleo_role_name"": ""Compute"" } } } """""" class TestInventoryFilters(tests_base.TestCase): def setUp(self): super(TestInventoryFilters, self).setUp() def _test_hostmap(self, inventory): expected = { ""Compute"": [""overcloud-novacompute-0""], ""overcloud_Compute"": [""overcloud-novacompute-0""], ""Controller"": [""overcloud-controller-0""], ""overcloud_Controller"": [""overcloud-controller-0""], ""overcloud"": [""overcloud-controller-0"", ""overcloud-novacompute-0""], ""allovercloud"": [""overcloud-controller-0"", ""overcloud-novacompute-0""], } result = tripleo_inventory.to_inventory_hostmap(inventory) self.assertEqual(expected, result) def test_hostmap_static(self): self._test_hostmap(static_inventory) def test_hostmap_dynamic(self): self._test_hostmap(dynamic_inventory) def _test_rolemap(self, inventory): expected = { ""overcloud"": [""Compute"", ""Controller""], ""allovercloud"": [""Compute"", ""Controller""], ""Controller"": [""Controller""], ""overcloud_Controller"": [""Controller""], ""Compute"": [""Compute""], ""overcloud_Compute"": [""Compute""] } result = tripleo_inventory.to_inventory_rolemap(inventory) self.assertEqual(expected, result) def test_rolemap_static(self): self._test_rolemap(static_inventory) def test_rolemap_dynamic(self): self._test_rolemap(dynamic_inventory) def _test_roles(self, inventory): expected = [""Compute"", ""Controller""] result = tripleo_inventory.to_inventory_roles(inventory) self.assertEqual(expected, result) def test_roles_static(self): self._test_roles(static_inventory) def test_roles_dynamic(self): self._test_roles(dynamic_inventory) ",0,229
openstack%2Ftripleo-heat-templates~865400,openstack/tripleo-heat-templates,stable/wallaby,If0e91f1b4956f451346256487c3626ed7899643b,Fix tripleo_delegate_to parameter in heat-engine,MERGED,2022-11-24 01:21:08.000000000,2022-11-30 09:00:37.000000000,2022-11-30 09:00:37.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-24 01:21:08.000000000', 'files': ['deployment/heat/heat-engine-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a7965bf0a1ce1fe54c59f968bb5e04c3b44ab6b', 'message': ""Fix tripleo_delegate_to parameter in heat-engine\n\nIa9d3c8d0a3098191b2d8b12fc24eee4517c6c521 introduces the new logic to\ntripleo_delegate_to parameter. Unfortunately, there is an unnecessary\ncharacter, '| |' in the line.\nThis blocks 'overcloud external-upgrade run'. This fix remove the\nadditonal '|' from the line.\n\nCloses-Bug: #1996492\nChange-Id: If0e91f1b4956f451346256487c3626ed7899643b\n(cherry picked from commit 4a1abe6c0a72215cf4878cee1830ea69a9663eb1)\n(cherry picked from commit 97052ac0400269bf2dfb57857262e5c8168be5de)\n""}]",5,865400,1a7965bf0a1ce1fe54c59f968bb5e04c3b44ab6b,23,4,1,25613,,,0,"Fix tripleo_delegate_to parameter in heat-engine

Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521 introduces the new logic to
tripleo_delegate_to parameter. Unfortunately, there is an unnecessary
character, '| |' in the line.
This blocks 'overcloud external-upgrade run'. This fix remove the
additonal '|' from the line.

Closes-Bug: #1996492
Change-Id: If0e91f1b4956f451346256487c3626ed7899643b
(cherry picked from commit 4a1abe6c0a72215cf4878cee1830ea69a9663eb1)
(cherry picked from commit 97052ac0400269bf2dfb57857262e5c8168be5de)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/865400/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-engine-container-puppet.yaml'],1,1a7965bf0a1ce1fe54c59f968bb5e04c3b44ab6b,deploy_exclude-stable/zed-stable/wallaby," tripleo_delegate_to: ""{{ groups['heat_engine'] | difference(groups['excluded_overcloud']) }}"""," tripleo_delegate_to: ""{{ groups['heat_engine'] | | difference(groups['excluded_overcloud']) }}""",1,1
openstack%2Fpuppet-nova~865813,openstack/puppet-nova,master,I4acfc7e903e0666e48c49c1911e67af8ab48d425,Clean up parameters for service validation,MERGED,2022-11-28 09:50:18.000000000,2022-11-30 08:59:46.000000000,2022-11-30 08:58:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:50:18.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-service-validation-b93f63908515c246.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/dfb0351f88d6eb6ad07a3744ae3ad37829e6af28', 'message': 'Clean up parameters for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameters were left for interface compatibility but have had no\neffect since then.\n\n[1] 2476bd9af54f3df68fdb57085a25d9754fff455e\n\nChange-Id: I4acfc7e903e0666e48c49c1911e67af8ab48d425\n'}]",1,865813,dfb0351f88d6eb6ad07a3744ae3ad37829e6af28,10,3,1,9816,,,0,"Clean up parameters for service validation

... service validation was deprecated during Yoga cycle by [1].
The parameters were left for interface compatibility but have had no
effect since then.

[1] 2476bd9af54f3df68fdb57085a25d9754fff455e

Change-Id: I4acfc7e903e0666e48c49c1911e67af8ab48d425
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/13/865813/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-service-validation-b93f63908515c246.yaml']",2,dfb0351f88d6eb6ad07a3744ae3ad37829e6af28,remove-service-validation,--- upgrade: - | The ``validate`` parameter and the ``validation_options`` parameter of the ``nova::api`` class have been removed. ,,5,21
openstack%2Fpuppet-oslo~865771,openstack/puppet-oslo,master,Iae1c155692fec845a8cab0ae284eeeaaf3336962,Add common implementation to manage [os_brick] options,MERGED,2022-11-26 16:55:23.000000000,2022-11-30 08:57:28.000000000,2022-11-30 08:56:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/320036fd230030974ae48f8a9ff3f2489e392fb1', 'message': 'Add common implementation to manage [os_brick] options\n\nThe os-brick library now supports its own lock_path configuration. This\nadds the defined resource type to manage the option so that we can\nreuse this implementation in some modules.\n\nDepends-on: https://review.opendev.org/c/openstack/os-brick/+/849324\nChange-Id: Iae1c155692fec845a8cab0ae284eeeaaf3336962\n'}, {'number': 2, 'created': '2022-11-28 00:54:29.000000000', 'files': ['spec/defines/oslo_os_brick_spec.rb', 'manifests/os_brick.pp', 'releasenotes/notes/os_brick-444b69e1384bc260.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7e187f637a5f80c4ded88deaae4699aadb228d3f', 'message': 'Add common implementation to manage [os_brick] options\n\nThe os-brick library now supports its own lock_path configuration. This\nadds the defined resource type to manage the option so that we can\nreuse this implementation in some modules.\n\nDepends-on: https://review.opendev.org/c/openstack/os-brick/+/849324\nChange-Id: Iae1c155692fec845a8cab0ae284eeeaaf3336962\n'}]",2,865771,7e187f637a5f80c4ded88deaae4699aadb228d3f,14,3,2,9816,,,0,"Add common implementation to manage [os_brick] options

The os-brick library now supports its own lock_path configuration. This
adds the defined resource type to manage the option so that we can
reuse this implementation in some modules.

Depends-on: https://review.opendev.org/c/openstack/os-brick/+/849324
Change-Id: Iae1c155692fec845a8cab0ae284eeeaaf3336962
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/71/865771/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_os_brick_spec.rb', 'manifests/os_brick.pp', 'releasenotes/notes/os_brick-444b69e1384bc260.yaml']",3,320036fd230030974ae48f8a9ff3f2489e392fb1,os-brick-lock_path,--- features: - | The new ``oslo::os_brick`` defined resource type has been added. This can be used to manage the ``[os_brick]`` options provided by the ``os-brick`` library. ,,64,0
openstack%2Fpuppet-neutron~865814,openstack/puppet-neutron,master,I40782633478784b599bcba9ca29b525f2b952ece,Clean up parameter for service validation,MERGED,2022-11-28 09:52:14.000000000,2022-11-30 08:53:07.000000000,2022-11-30 08:52:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:52:14.000000000', 'files': ['releasenotes/notes/remove-service-validation-ea042dda42e67fd4.yaml', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/eb1178f73c622f1a5970f9f7316f6935be51277d', 'message': 'Clean up parameter for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameter was left for interface compatibility but has had no\neffect since then.\n\n[1] 35659b8d918e8e10e8dbbadf29339d04069bceb3\n\nChange-Id: I40782633478784b599bcba9ca29b525f2b952ece\n'}]",0,865814,eb1178f73c622f1a5970f9f7316f6935be51277d,9,3,1,9816,,,0,"Clean up parameter for service validation

... service validation was deprecated during Yoga cycle by [1].
The parameter was left for interface compatibility but has had no
effect since then.

[1] 35659b8d918e8e10e8dbbadf29339d04069bceb3

Change-Id: I40782633478784b599bcba9ca29b525f2b952ece
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/865814/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-service-validation-ea042dda42e67fd4.yaml', 'manifests/server.pp']",2,eb1178f73c622f1a5970f9f7316f6935be51277d,remove-service-validation,,"# DEPRECATED PARAMETERS # # [*validate*] # (Optional) Whether to validate the service is working after any service refreshes # Defaults to undef # # DEPRECATED PARAMETERS $validate = undef, if $validate != undef { warning('The neutron::server::validate parameter has been deprecated and has no effect') } ",4,12
openstack%2Fpuppet-octavia~864837,openstack/puppet-octavia,master,Iae52c40aba07cf2cba49bca885bbaa33f8451ccf,Drop redundant class inclusion check,MERGED,2022-11-17 03:39:10.000000000,2022-11-30 08:40:18.000000000,2022-11-30 08:40:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 03:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f61bca7e59f3299d8f2022432a9cd96174c0d856', 'message': 'Drop redundant class inclusion check\n\nThe include function should be handle the case when the class is\nalready included in the catalog, and it does not fail in case the class\nis already declared in resource-like format.\n\nChange-Id: Iae52c40aba07cf2cba49bca885bbaa33f8451ccf\n'}, {'number': 2, 'created': '2022-11-17 03:40:26.000000000', 'files': ['manifests/worker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/edf3a4b38dcbcc1dcf727ff5687908cbeb5976f5', 'message': 'Drop redundant class inclusion check\n\nThe include function should be handle the case when the class is\nalready included in the catalog, and it does not fail in case the class\nis already included by resource-like declaration.\n\nChange-Id: Iae52c40aba07cf2cba49bca885bbaa33f8451ccf\n'}]",3,864837,edf3a4b38dcbcc1dcf727ff5687908cbeb5976f5,12,3,2,9816,,,0,"Drop redundant class inclusion check

The include function should be handle the case when the class is
already included in the catalog, and it does not fail in case the class
is already included by resource-like declaration.

Change-Id: Iae52c40aba07cf2cba49bca885bbaa33f8451ccf
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/37/864837/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/worker.pp'],1,f61bca7e59f3299d8f2022432a9cd96174c0d856,, include octavia::controller, if !defined(Class['octavia::controller']) { include octavia::controller },1,4
openstack%2Fpuppet-swift~865568,openstack/puppet-swift,stable/zed,I390f3c7bbfbbbc7217f81e8a0312e5db201ef409,Format IPv6 address for ring device,MERGED,2022-11-25 16:20:41.000000000,2022-11-30 08:38:02.000000000,2022-11-30 08:38:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 16:20:41.000000000', 'files': ['manifests/storage/node.pp', 'spec/defines/swift_storage_node_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7af17ae2540a0d778d15a85d5f72dcfb5ed2c233', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n(cherry picked from commit a8ef5f69060adda86433ff2de4c761a0f86f68c3)\n'}]",0,865568,7af17ae2540a0d778d15a85d5f72dcfb5ed2c233,9,3,1,9816,,,0,"Format IPv6 address for ring device

The IPv6 addresses in ring_*_device resource names should be surrounded
by []. This ensures the address is properly formatted when the resource
is define in swift::storage::node.

Closes-Bug: #1997295
Change-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409
(cherry picked from commit a8ef5f69060adda86433ff2de4c761a0f86f68c3)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/68/865568/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/node.pp', 'spec/defines/swift_storage_node_spec.rb']",2,7af17ae2540a0d778d15a85d5f72dcfb5ed2c233,bug/1997295," let :title do ""1"" end context 'with valid preconditons and IPv4 address' do :zone => ""1"", it 'should contain ring devices' do is_expected.to contain_ring_object_device(""127.0.0.1:6010/1"") is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") end let :params do { :zone => 'invalid', :mnt_base_dir => '/srv/node' } end context 'with valid preconditions and IPv6 address' do :zone => ""1"", :mnt_base_dir => '/srv/node', :storage_local_net_ip => '::1', } end let :pre_condition do ""class { 'swift': swift_hash_path_suffix => 'foo' } class { 'swift::storage': storage_local_net_ip => '::1' }"" end it 'should contain ring devices with IPv6 address' do is_expected.to contain_ring_object_device(""[::1]:6010/1"") is_expected.to contain_ring_container_device(""[::1]:6011/1"") is_expected.to contain_ring_account_device(""[::1]:6012/1"") end end context 'with valid preconditons and policy_index=1' do let :params do { :zone => ""1"", it 'should contain ring devices' do is_expected.to contain_ring_object_device(""1:127.0.0.1:6010/1"") is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") end"," describe 'with valid preconditons should contain ring devices' do :zone => ""1"", let :title do ""1"" end it { is_expected.to contain_ring_object_device(""127.0.0.1:6010/1"") } it { is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") } it { is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") } let(:title) { '1' } let :params do { :zone => 'invalid', :mnt_base_dir => '/srv/node' } end describe 'with valid preconditons and policy_index=1 should contain ring devices' do :zone => ""1"", let :title do ""1"" end it { is_expected.to contain_ring_object_device(""1:127.0.0.1:6010/1"") } it { is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") } it { is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") }",51,28
openstack%2Fpuppet-swift~865569,openstack/puppet-swift,stable/zed,I762f0780ba25536aa616482a49d59c7db69924d6,Ensure consistent IPv6 address format,MERGED,2022-11-25 16:21:08.000000000,2022-11-30 08:38:00.000000000,2022-11-30 08:38:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 16:21:08.000000000', 'files': ['lib/puppet/type/ring_account_device.rb', 'lib/puppet/type/ring_container_device.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'lib/puppet/type/ring_object_device.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4b37f4c4df42c3069b502ee9f539fdb5d0d4c897', 'message': 'Ensure consistent IPv6 address format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nCloses-Bug: #1997313\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n(cherry picked from commit 249f466f94441ae554478467949378d81b034f89)\n'}]",0,865569,4b37f4c4df42c3069b502ee9f539fdb5d0d4c897,9,3,1,9816,,,0,"Ensure consistent IPv6 address format

This change ensures the shortened address representations are always
used for ring devices to avoid broken idempotency caused by different
representations (shortened[1] vs canonical[2]).

[1] ::1
[2] 0000:0000:0000:0000:0000:0000:0000:0001

Closes-Bug: #1997313
Change-Id: I762f0780ba25536aa616482a49d59c7db69924d6
(cherry picked from commit 249f466f94441ae554478467949378d81b034f89)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/69/865569/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/ring_account_device.rb', 'lib/puppet/type/ring_container_device.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'lib/puppet/type/ring_object_device.rb']",4,4b37f4c4df42c3069b502ee9f539fdb5d0d4c897,bug/1997313," munge do |value| # If storage policy_index is specified first strip that off. # Resource name is not required to start with a policy_index if !value.split(/^\d+:/)[1].nil? value_without_policy = value.split(/^\d+:/)[1] else value_without_policy = value end # we have to have URI Scheme so we just add http:// and ignore it later uri = URI('http://' + value_without_policy) ip = IPAddr.new(uri.host) if ip.ipv6? value.gsub(uri.host, '[' + ip.to_s + ']') else value end end", port_device = uri.port,43,8
openstack%2Fpuppet-openstack-integration~865792,openstack/puppet-openstack-integration,master,Ic5b5327a1462cbe980356b8716f0558710abc6b1,Manila: Remove workaround for missing sudoers record,MERGED,2022-11-28 06:35:02.000000000,2022-11-30 08:25:27.000000000,2022-11-30 08:25:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 06:35:02.000000000', 'files': ['manifests/manila.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bc70d756b667aa6b5927efd1d20bcbd97c3ddfc3', 'message': 'Manila: Remove workaround for missing sudoers record\n\n... because it has been fixed in the manila package [1].\n\n[1] https://review.rdoproject.org/r/c/openstack/manila-distgit/+/44699\n\nChange-Id: Ic5b5327a1462cbe980356b8716f0558710abc6b1\n'}]",0,865792,bc70d756b667aa6b5927efd1d20bcbd97c3ddfc3,7,3,1,9816,,,0,"Manila: Remove workaround for missing sudoers record

... because it has been fixed in the manila package [1].

[1] https://review.rdoproject.org/r/c/openstack/manila-distgit/+/44699

Change-Id: Ic5b5327a1462cbe980356b8716f0558710abc6b1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/92/865792/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/manila.pp'],1,bc70d756b667aa6b5927efd1d20bcbd97c3ddfc3,,," # TODO(tkajinam): This should be fixed in the RDO package if $::osfamily == 'RedHat' { file_line { 'manila-sudoers-privsep-helper': path => '/etc/sudoers.d/manila', line => 'manila ALL = (root) NOPASSWD: /usr/bin/privsep-helper *', require => Anchor['manila::config::begin'], notify => Anchor['manila::config::end'] } }",0,10
openstack%2Fpuppet-openstack-integration~865796,openstack/puppet-openstack-integration,master,I329fab00774d131018ba65f374d7515fc439148a,Enable manila-data service,MERGED,2022-11-28 07:24:57.000000000,2022-11-30 08:25:25.000000000,2022-11-30 08:25:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1fcc25a9a3020cbeaba01502323b87a8ac940208', 'message': ""Enable manila-data service\n\nThe puppet-manila module now supports setting up the service. Let's\nenable the feature in our CI jobs.\n\nDepeneds-on: https://review.opendev.org/865795\nChange-Id: I329fab00774d131018ba65f374d7515fc439148a\n""}, {'number': 2, 'created': '2022-11-28 08:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/83fbb0d50a951d013913eb4d16382e15037f6a8d', 'message': ""Enable manila-data service\n\nThe puppet-manila module now supports setting up the service. Let's\nenable the feature in our CI jobs.\n\nDepeneds-on: https://review.opendev.org/865795\nChange-Id: I329fab00774d131018ba65f374d7515fc439148a\n""}, {'number': 3, 'created': '2022-11-28 14:32:29.000000000', 'files': ['manifests/manila.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/06ba3a80f667473826ba7673ad3124c7c8ac3814', 'message': ""Enable manila-data service\n\nThe puppet-manila module now supports setting up the service. Let's\nenable the feature in our CI jobs.\n\nDepends-on: https://review.opendev.org/865795\nChange-Id: I329fab00774d131018ba65f374d7515fc439148a\n""}]",1,865796,06ba3a80f667473826ba7673ad3124c7c8ac3814,14,3,3,9816,,,0,"Enable manila-data service

The puppet-manila module now supports setting up the service. Let's
enable the feature in our CI jobs.

Depends-on: https://review.opendev.org/865795
Change-Id: I329fab00774d131018ba65f374d7515fc439148a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/96/865796/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/manila.pp'],1,1fcc25a9a3020cbeaba01502323b87a8ac940208,manila-data-service, class { 'manila::data': },,1,0
openstack%2Fheat~835679,openstack/heat,stable/train,I5f14453ebab75d89672c6eea12de46d48a5147f3,Pre-empt in-progress nested stack updates on new update,MERGED,2022-03-30 06:08:10.000000000,2022-11-30 08:16:55.000000000,2022-11-30 08:15:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-03-30 06:08:10.000000000', 'files': ['heat/engine/check_resource.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_simultaneous_update.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/eb64824fd64eb0ce2679f2793344bdfa33e96918', 'message': 'Pre-empt in-progress nested stack updates on new update\n\nIf the parent resource of a nested stack is locked due to an IN_PROGRESS\nupdate, cancel the nested stack update (which will result in the parent\nresource being marked FAILED and releasing the lock so that the new\ntraversal can begin acting on it). This also cancels all descendants of\nthe nested stack.\n\nThis means that a concurrent update no longer gets blocked at a nested\nstack boundary until the previous update has finished.\n\nChange-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3\nTask: 17760\n(cherry picked from commit 8cd6a06736c27d2dd50340c03987631143f3484d)\n'}]",3,835679,eb64824fd64eb0ce2679f2793344bdfa33e96918,12,3,1,8833,,,0,"Pre-empt in-progress nested stack updates on new update

If the parent resource of a nested stack is locked due to an IN_PROGRESS
update, cancel the nested stack update (which will result in the parent
resource being marked FAILED and releasing the lock so that the new
traversal can begin acting on it). This also cancels all descendants of
the nested stack.

This means that a concurrent update no longer gets blocked at a nested
stack boundary until the previous update has finished.

Change-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3
Task: 17760
(cherry picked from commit 8cd6a06736c27d2dd50340c03987631143f3484d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/79/835679/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/check_resource.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_simultaneous_update.py', 'heat/engine/resource.py']",4,eb64824fd64eb0ce2679f2793344bdfa33e96918,," def handle_preempt(self): """"""Pre-empt an in-progress update when a new update is available. This method is called when a previous convergence update is in progress but a new update for the resource is available. By default it does nothing, but subclasses may override it to cancel the in-progress update if it is safe to do so. Note that this method does not run in the context of the in-progress update and has no access to runtime information about it; nor is it safe to make changes to the Resource in the database. If implemented, this method should cause the existing update to complete by external means. If this leaves the resource in a FAILED state, that should be taken into account in needs_replace_failed(). """""" return ",,112,1
openstack%2Fpuppet-designate~865724,openstack/puppet-designate,stable/yoga,Ia969cc31b380950a87c0be0b911cc214b4219d82,Fix ineffective max_header_line,MERGED,2022-11-26 16:38:11.000000000,2022-11-30 08:06:12.000000000,2022-11-30 08:06:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:38:11.000000000', 'files': ['manifests/api.pp', 'spec/classes/designate_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/bda94de190f55695072575295161381ab23c9002', 'message': 'Fix ineffective max_header_line\n\nThe [service:api] max_header_line parameter has had no effect since\nTrain and it was effectively replaced by the [DEFAULT] max_header_line\nparameter provided by oslo.service.\n\nThis updates the parameter definition accordingly.\n\nCloses-Bug: #1967825\nChange-Id: Ia969cc31b380950a87c0be0b911cc214b4219d82\n(cherry picked from commit f39567e17b6e98a4cdf15608756a5463df32de39)\n'}]",0,865724,bda94de190f55695072575295161381ab23c9002,9,3,1,9816,,,0,"Fix ineffective max_header_line

The [service:api] max_header_line parameter has had no effect since
Train and it was effectively replaced by the [DEFAULT] max_header_line
parameter provided by oslo.service.

This updates the parameter definition accordingly.

Closes-Bug: #1967825
Change-Id: Ia969cc31b380950a87c0be0b911cc214b4219d82
(cherry picked from commit f39567e17b6e98a4cdf15608756a5463df32de39)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/24/865724/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/designate_api_spec.rb']",2,bda94de190f55695072575295161381ab23c9002,bug/1967825, is_expected.to contain_designate_config('DEFAULT/max_header_line').with_value('<SERVICE DEFAULT>') is_expected.to contain_designate_config('DEFAULT/max_header_line').with_value(params[:max_header_line]), is_expected.to contain_designate_config('service:api/max_header_line').with_value('<SERVICE DEFAULT>') is_expected.to contain_designate_config('service:api/max_header_line').with_value(params[:max_header_line]),8,3
openstack%2Fpuppet-designate~865769,openstack/puppet-designate,master,Iecc650fe94846a2f643ff2bf0b613026a1fb6570,Remove cleanup of [service:api] max_header_line,MERGED,2022-11-26 16:37:47.000000000,2022-11-30 08:06:10.000000000,2022-11-30 08:06:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:37:47.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d9634ff74a9393ac7e665bdc5ed7ab6cd0591d75', 'message': 'Remove cleanup of [service:api] max_header_line\n\n... because the logic was added during the previous cycle[1] and\nthe option should be removed when a deployment is upgraded to Zed.\n\n[1] f39567e17b6e98a4cdf15608756a5463df32de39\n\nChange-Id: Iecc650fe94846a2f643ff2bf0b613026a1fb6570\n'}]",0,865769,d9634ff74a9393ac7e665bdc5ed7ab6cd0591d75,7,3,1,9816,,,0,"Remove cleanup of [service:api] max_header_line

... because the logic was added during the previous cycle[1] and
the option should be removed when a deployment is upgraded to Zed.

[1] f39567e17b6e98a4cdf15608756a5463df32de39

Change-Id: Iecc650fe94846a2f643ff2bf0b613026a1fb6570
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/69/865769/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,d9634ff74a9393ac7e665bdc5ed7ab6cd0591d75,,, # TODO(tkajinam): Remove this after Zed release designate_config { 'service:api/max_header_line': ensure => absent; } ,0,5
openstack%2Fpuppet-cinder~865812,openstack/puppet-cinder,master,I16936b092df46c689813b80557e24542b7d43093,Clean up parameter for service validation,MERGED,2022-11-28 09:47:48.000000000,2022-11-30 07:27:58.000000000,2022-11-30 07:26:58.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ed44f4693a7de5d88b6d2a5c6f37e1375869f8ef', 'message': 'Clean up parameter for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameter was left for interface compatibility but has had no\neffect since then.\n\n[1] d944a76b95fb82fe161159954f3dfe720726bcfc\n\nChange-Id: I16936b092df46c689813b80557e24542b7d43093\n'}, {'number': 2, 'created': '2022-11-28 13:49:22.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-service-validation-badea962c3a0394e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f1cee735a2df6f920a501800a8c02679aa2606a7', 'message': 'Clean up parameter for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameter was left for interface compatibility but has had no\neffect since then.\n\n[1] d944a76b95fb82fe161159954f3dfe720726bcfc\n\nChange-Id: I16936b092df46c689813b80557e24542b7d43093\n'}]",2,865812,f1cee735a2df6f920a501800a8c02679aa2606a7,16,3,2,9816,,,0,"Clean up parameter for service validation

... service validation was deprecated during Yoga cycle by [1].
The parameter was left for interface compatibility but has had no
effect since then.

[1] d944a76b95fb82fe161159954f3dfe720726bcfc

Change-Id: I16936b092df46c689813b80557e24542b7d43093
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/12/865812/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-service-validation-badea962c3a0394e.yaml']",2,ed44f4693a7de5d88b6d2a5c6f37e1375869f8ef,remove-service-validation,--- upgrade: - | The ``cinder::api::validate`` parameter has been removed. ,,4,6
openstack%2Fpuppet-keystone~865613,openstack/puppet-keystone,master,Ib4c7565462e32be2d4dab4b0c538410ad98aefaf,Remove deprecated keystone::service,MERGED,2022-11-25 01:39:42.000000000,2022-11-30 07:21:29.000000000,2022-11-30 07:20:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 01:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/676895f43f851410f8c3a1b053b90dbf9749baf9', 'message': 'Remove deprecated keystone::service\n\nThis defined resource type was deprecated during the past cycle[1] and\ncan be removed.\n\n[1] 05c5605e98fcc0da33386065c2c315d69103b891\n\nChange-Id: Ib4c7565462e32be2d4dab4b0c538410ad98aefaf\n'}, {'number': 2, 'created': '2022-11-25 04:11:03.000000000', 'files': ['releasenotes/notes/remove-keystone-service-defined-type-639c799d5a266d1c.yaml', 'spec/classes/keystone_service_spec.rb', 'manifests/service.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/76505f1c12443703ffe047503b2c2bde1d25c830', 'message': 'Remove deprecated keystone::service\n\nThis defined resource type was deprecated during the past cycle[1] and\ncan be removed.\n\n[1] 05c5605e98fcc0da33386065c2c315d69103b891\n\nChange-Id: Ib4c7565462e32be2d4dab4b0c538410ad98aefaf\n'}]",3,865613,76505f1c12443703ffe047503b2c2bde1d25c830,16,3,2,9816,,,0,"Remove deprecated keystone::service

This defined resource type was deprecated during the past cycle[1] and
can be removed.

[1] 05c5605e98fcc0da33386065c2c315d69103b891

Change-Id: Ib4c7565462e32be2d4dab4b0c538410ad98aefaf
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/13/865613/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-keystone-service-defined-type-639c799d5a266d1c.yaml', 'manifests/service.pp']",2,676895f43f851410f8c3a1b053b90dbf9749baf9,,,"# == Class keystone::service # # DEPRECATED !! # Encapsulates the keystone service to a class. # # === Parameters # # [*ensure*] # (Optional) The desired state of the keystone service # Defaults to undef # # [*service_name*] # (Optional) The name of the keystone service # Defaults to $::keystone::params::service_name # # [*enable*] # (Optional) Whether to enable the keystone service # Defaults to true # # [*hasstatus*] # (Optional) Whether the keystone service has status # Defaults to true # # [*hasrestart*] # (Optional) Whether the keystone service has restart # Defaults to true # class keystone::service ( $ensure = undef, $service_name = $::keystone::params::service_name, $enable = true, $hasstatus = true, $hasrestart = true, ) inherits keystone::params { include keystone::deps warning('The keystone::service class is deprecated and will be removed in a future release,') service { 'keystone': ensure => $ensure, name => $service_name, enable => $enable, hasstatus => $hasstatus, hasrestart => $hasrestart, tag => 'keystone-service', } } ",4,48
openstack%2Faodh~863038,openstack/aodh,master,Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4,DNM: Test CI,ABANDONED,2022-10-31 12:57:34.000000000,2022-11-30 07:05:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-31 12:57:34.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/39b7cae31c5ccf152aebecaca9e3f49cc1c2eddf', 'message': 'DNM: Test CI\n\nChange-Id: Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4\n'}]",1,863038,39b7cae31c5ccf152aebecaca9e3f49cc1c2eddf,5,1,1,16137,,,0,"DNM: Test CI

Change-Id: Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4
",git fetch https://review.opendev.org/openstack/aodh refs/changes/38/863038/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,39b7cae31c5ccf152aebecaca9e3f49cc1c2eddf,,,,1,0
openstack%2Faodh~863039,openstack/aodh,stable/xena,I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31,DNM: Test CI,ABANDONED,2022-10-31 12:59:09.000000000,2022-11-30 07:04:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-31 12:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/b6394580bd638a185baacce65a31dd0d43115995', 'message': 'DNM: Test CI\n\nChange-Id: I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31\n'}, {'number': 2, 'created': '2022-11-02 12:32:00.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/17a25fb36cf0bd3839f5ef2f9850531bce172f65', 'message': 'DNM: Test CI\n\nDepends-On: https://review.opendev.org/c/openstack/ceilometer/+/863197\n\nChange-Id: I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31\n'}]",0,863039,17a25fb36cf0bd3839f5ef2f9850531bce172f65,5,1,2,16137,,,0,"DNM: Test CI

Depends-On: https://review.opendev.org/c/openstack/ceilometer/+/863197

Change-Id: I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31
",git fetch https://review.opendev.org/openstack/aodh refs/changes/39/863039/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b6394580bd638a185baacce65a31dd0d43115995,,,,1,0
openstack%2Fdevstack~741220,openstack/devstack,master,Ie36ff70397ca8f0c5c3ca1eccb45243483a91761,[DNM] Fix the surrogatepass not allowed error,NEW,2020-07-15 14:22:36.000000000,2022-11-30 07:01:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6bcdd3a951bba1da08141a16ae1abe690a2343ab', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n""}, {'number': 2, 'created': '2020-07-20 06:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2259edcc01ec59485a9a3b58cfac5e050dd9e99c', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 3, 'created': '2020-09-29 02:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/566f3e4d43168565e3dddf8a1d62abc60ec6ed8c', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 4, 'created': '2020-10-21 10:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/120da2639e422cd1f2943ed44d300d540be142ab', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 5, 'created': '2020-10-23 07:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f866da8bbe1d43ac82c011040778d95d828bae4', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 6, 'created': '2020-12-07 01:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c161cf85d2aa387c884f842fef7c21a72fc433d8', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 7, 'created': '2021-02-10 06:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3fd3ab6898c304bfb169f85002286b4e99b4bb54', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 8, 'created': '2021-04-15 04:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/55b40a681991c95abad0fb413110ba09bb106515', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 9, 'created': '2021-10-29 03:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/14c38f038b88f4e9f5b968754224889a265ec7d5', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 10, 'created': '2021-10-29 08:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25221ff1a836e9b0fd3d2a118ff166991b9b2959', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 11, 'created': '2022-01-06 06:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a8fea986710c4e3a4a3257747abf110a7202239b', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 12, 'created': '2022-01-07 01:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/494d200413863f328a14ef345e7e21a775436362', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 13, 'created': '2022-01-07 05:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c64d3bb26ce395d2e9bfbc9dfbf157a1b25e74f', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 14, 'created': '2022-01-07 08:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fab95498d11c4ac19ddc8ac66d4f5a737ecfb682', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 15, 'created': '2022-01-10 03:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/636ad34a8de84cc369b3f4ba5870f53c0d9f6470', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 16, 'created': '2022-02-23 09:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/74e3c3c23f75f74ca11b40c0c80ec8284134f9f9', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 17, 'created': '2022-02-24 07:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0db8ee77b30bea021ecab714b4cdbbf19d46cebc', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 18, 'created': '2022-02-24 09:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3cb9dbd9e53583c9e540a4fb46c91ad7a2732057', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 19, 'created': '2022-03-17 06:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ad2742c4194acd9e63cf74e5efdcc8895931a6f', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 20, 'created': '2022-03-17 06:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2830d78d067ab7160b60ba741c9883369daffa8', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 21, 'created': '2022-03-22 08:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/60bf6c20fbdb85ca5c4f5f45c94087d0774fd1ef', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 22, 'created': '2022-03-23 07:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/875ca010f70d6732d3ed0fab5e669e2d7bbd5e70', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 23, 'created': '2022-03-23 07:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c16ae49170cf658d1f7e24dd2f69a7e9d8951db', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 24, 'created': '2022-03-24 08:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2fc2e4adca29f4419bbc9707ebb5cd1a9a987ee8', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 25, 'created': '2022-04-26 02:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9832013c4efcc401832d4864ab9fa471cd27b409', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 26, 'created': '2022-05-05 07:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ef9b912f5eb1caf0ed70c75924a71114f0080fb', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 27, 'created': '2022-05-16 01:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/09f7db97eaaf360a431b4f16a3a7317fc9dedc5c', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 28, 'created': '2022-05-31 09:05:08.000000000', 'files': ['tools/install_pip.sh', 'tools/outfilter.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ec28dd655c0887411f3e3067d92d394a5cc297b', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}]",2,741220,7ec28dd655c0887411f3e3067d92d394a5cc297b,58,2,28,32071,,,0,"[DNM] Fix the surrogatepass not allowed error

supplement:
1.fix the loader missing required argument error

Change-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/741220/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/fixup_stuff.sh']",2,6bcdd3a951bba1da08141a16ae1abe690a2343ab,change-741220," echo $(python3 -c ""import os; import $package; print(os.path.split(os.path.realpath($package.__file__))[0])"")"," echo $(python -c ""import os; import $package; print(os.path.split(os.path.realpath($package.__file__))[0])"")",2,2
openstack%2Fpuppet-neutron~865617,openstack/puppet-neutron,master,I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,Remove wrong deprecation mark of project_* properties,MERGED,2022-11-25 03:11:51.000000000,2022-11-30 06:53:05.000000000,2022-11-30 06:53:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 03:11:51.000000000', 'files': ['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7c752068f1d747f1218a54ed3f1b07ebee970d1b', 'message': 'Remove wrong deprecation mark of project_* properties\n\nThe project_name property and the project_id property are not meant to\nbe deprecated because these replaces the old tenant_* properties. This\nchange removes the (DEPRECATED) marks erroneously added.\n\nChange-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41\n'}]",1,865617,7c752068f1d747f1218a54ed3f1b07ebee970d1b,11,3,1,9816,,,0,"Remove wrong deprecation mark of project_* properties

The project_name property and the project_id property are not meant to
be deprecated because these replaces the old tenant_* properties. This
change removes the (DEPRECATED) marks erroneously added.

Change-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/17/865617/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb']",2,7c752068f1d747f1218a54ed3f1b07ebee970d1b,, desc 'The name of the project which will own the network.' desc 'A uuid identifying the project which will own the network.', desc 'The name of the project which will own the network.(DEPRECATED)' desc 'A uuid identifying the project which will own the network.(DEPRECATED)',4,4
openstack%2Fpuppet-glance~865808,openstack/puppet-glance,master,Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1,Remove parameters for native ssl support,MERGED,2022-11-28 09:31:27.000000000,2022-11-30 06:50:07.000000000,2022-11-30 06:49:09.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d36a38c276cd0743ee63a3112515d867a409c15f', 'message': 'Remove parameters for native ssl support\n\nThese parameters were deprecated during the previous cycle by [1] and\nhave had no effect. These parameters are not really used by recent\nglance.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nRelated-Bug: #1965776\nChange-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1\n'}, {'number': 2, 'created': '2022-11-28 14:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/4ab4b3a81ec9d20096b3402b4287d2192f067a73', 'message': 'Remove parameters for native ssl support\n\nThese parameters were deprecated during the previous cycle by [1] and\nhave had no effect. These parameters are not really used by recent\nglance.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nRelated-Bug: #1965776\nChange-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1\n'}, {'number': 3, 'created': '2022-11-29 01:16:59.000000000', 'files': ['releasenotes/notes/remove-native-ssl-e88e094e772612dd.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/493c8289005ccdb62461746b5fb00edab19b38cd', 'message': 'Remove parameters for native ssl support\n\nThese parameters were deprecated during the previous cycle by [1] and\nhave had no effect. These parameters are not really used by recent\nglance.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nDepends-on: https://review.opendev.org/865924\nRelated-Bug: #1965776\nChange-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1\n'}]",2,865808,493c8289005ccdb62461746b5fb00edab19b38cd,14,4,3,9816,,,0,"Remove parameters for native ssl support

These parameters were deprecated during the previous cycle by [1] and
have had no effect. These parameters are not really used by recent
glance.

[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0

Depends-on: https://review.opendev.org/865924
Related-Bug: #1965776
Change-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/08/865808/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-native-ssl-e88e094e772612dd.yaml', 'manifests/api.pp']",2,d36a38c276cd0743ee63a3112515d867a409c15f,bug/1965776,," $cert_file = undef, $key_file = undef, $ca_file = undef, ['cert_file', 'key_file', 'ca_file'].each |String $ssl_opt| { if getvar($ssl_opt) != undef { warning(""The ${ssl_opt} parameter has been deprecated and has no effect."") } } ",8,9
openstack%2Fpuppet-openstacklib~865488,openstack/puppet-openstacklib,master,Ie88fce429e1b73a89820a94e8635ed6ad906b07f,inet6_prefix: Simplify exception handling,MERGED,2022-11-24 03:17:59.000000000,2022-11-30 05:58:07.000000000,2022-11-30 05:58:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 03:17:59.000000000', 'files': ['lib/puppet/functions/inet6_prefix.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/779c96bc49b303f364954c6b942a2824d0995343', 'message': 'inet6_prefix: Simplify exception handling\n\nThe following exceptions all inherit IPAddr::Error, which inherits\nArgumentError.\n  - IPAddr::AddressFamilyError\n  - IPAddr::InvalidAddressError\n  - IPAddr::InvalidPrefixError\n\nBecause we use the same logic for all of these exceptions, we can just\ncatch the base ArgumentError instead of listing all these separately.\n\nChange-Id: Ie88fce429e1b73a89820a94e8635ed6ad906b07f\n'}]",3,865488,779c96bc49b303f364954c6b942a2824d0995343,14,3,1,9816,,,0,"inet6_prefix: Simplify exception handling

The following exceptions all inherit IPAddr::Error, which inherits
ArgumentError.
  - IPAddr::AddressFamilyError
  - IPAddr::InvalidAddressError
  - IPAddr::InvalidPrefixError

Because we use the same logic for all of these exceptions, we can just
catch the base ArgumentError instead of listing all these separately.

Change-Id: Ie88fce429e1b73a89820a94e8635ed6ad906b07f
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/88/865488/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/inet6_prefix.rb'],1,779c96bc49b303f364954c6b942a2824d0995343,," rescue ArgumentError, NoMethodError => e"," rescue IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError => e",1,1
openstack%2Fheat~809226,openstack/heat,stable/victoria,I82db78daa37fe27455c9ff349b0dc09501600152,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 09:07:18.000000000,2022-11-30 05:55:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 09:07:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/199ef0799d169c0bf61f1c987e9dc1df7fa2ee85', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I82db78daa37fe27455c9ff349b0dc09501600152\n'}]",0,809226,199ef0799d169c0bf61f1c987e9dc1df7fa2ee85,5,3,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I82db78daa37fe27455c9ff349b0dc09501600152
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/809226/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,199ef0799d169c0bf61f1c987e9dc1df7fa2ee85,c7-to-c8-stable/wallaby-stable/victoria, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fheat~809227,openstack/heat,stable/ussuri,I82db78daa37fe27455c9ff349b0dc09501600152,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 09:07:43.000000000,2022-11-30 05:55:16.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-09-16 09:07:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/0563d79a7527ca46fc5310c345fab67fe0134628', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I82db78daa37fe27455c9ff349b0dc09501600152\n'}]",0,809227,0563d79a7527ca46fc5310c345fab67fe0134628,7,3,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I82db78daa37fe27455c9ff349b0dc09501600152
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/809227/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0563d79a7527ca46fc5310c345fab67fe0134628,c7-to-c8-stable/ussuri, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fheat~809228,openstack/heat,stable/train,I82db78daa37fe27455c9ff349b0dc09501600152,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 09:08:08.000000000,2022-11-30 05:37:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-16 09:08:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/1fd10114b862e800c21322608859810f565ff782', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I82db78daa37fe27455c9ff349b0dc09501600152\n'}]",1,809228,1fd10114b862e800c21322608859810f565ff782,5,1,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I82db78daa37fe27455c9ff349b0dc09501600152
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/809228/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1fd10114b862e800c21322608859810f565ff782,c7-to-c8-stable/train, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fheat~813155,openstack/heat,stable/train,Ic0ecf8b241a87644d7200635fadc5795066b7b37,"Partial Revert ""Change py2/grenade jobs to non-voting""",ABANDONED,2021-10-08 09:26:34.000000000,2022-11-30 05:35:16.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-08 09:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/002daba81dc73695fbcd2d087851ae364a4a5b41', 'message': 'Revert ""Change py2/grenade jobs to non-voting""\n\nThis reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.\n\nReason for revert: Those seem to work now.\n\nChange-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37\n'}, {'number': 2, 'created': '2021-10-08 09:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/44ba9c5a61538ea6dd0850a9e3eea84f5a909196', 'message': 'Partial Revert ""Change py2/grenade jobs to non-voting""\n\nThis reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.\n\nReason for revert: Those seem to work now.\n\nChange-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37\n'}, {'number': 3, 'created': '2021-10-08 11:05:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/18e0e661a0dc3c042bf7083c9b2b9805ec1e8fa0', 'message': 'Partial Revert ""Change py2/grenade jobs to non-voting""\n\nThis reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.\n\nReason for revert: Those seem to work now.\n\nChange-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37\n'}]",0,813155,18e0e661a0dc3c042bf7083c9b2b9805ec1e8fa0,8,2,3,8833,,,0,"Partial Revert ""Change py2/grenade jobs to non-voting""

This reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.

Reason for revert: Those seem to work now.

Change-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/813155/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,002daba81dc73695fbcd2d087851ae364a4a5b41,volumev2-removal,, voting: false voting: false voting: false,0,3
openstack%2Fheat~798057,openstack/heat,stable/train,I6f517a38aade8418e9a0f6a105a569c2cdf473ef,Make the failing multi-node grenade job non-voting,ABANDONED,2021-06-25 08:41:02.000000000,2022-11-30 05:34:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-25 08:41:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/ec3a115be5da475828a62524eacf7100bbfa1489', 'message': ""Make the failing multi-node grenade job non-voting\n\nWe've not fixed py2 jobs since a long time. Telemetry services\ndon't work with py2. Multinode grenade job is failing in train\nas we can't https://review.opendev.org/c/openstack/heat/+/738731\nto stein. Let's only run the py3 and the single node\ngrenade job as voting in train. Also removes all non-voting jobs\nfrom gate queue.\n\nChange-Id: I6f517a38aade8418e9a0f6a105a569c2cdf473ef\n""}]",0,798057,ec3a115be5da475828a62524eacf7100bbfa1489,4,2,1,8833,,,0,"Make the failing multi-node grenade job non-voting

We've not fixed py2 jobs since a long time. Telemetry services
don't work with py2. Multinode grenade job is failing in train
as we can't https://review.opendev.org/c/openstack/heat/+/738731
to stein. Let's only run the py3 and the single node
grenade job as voting in train. Also removes all non-voting jobs
from gate queue.

Change-Id: I6f517a38aade8418e9a0f6a105a569c2cdf473ef
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/798057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ec3a115be5da475828a62524eacf7100bbfa1489,, voting: false, - grenade-heat-multinode - heat-functional-orig-mysql-lbaasv2 - heat-functional-convg-mysql-lbaasv2,1,3
openstack%2Fpuppet-openstack-integration~865924,openstack/puppet-openstack-integration,master,I72fd6841d24197e9c747116437d49911e9c5b8b0,Glance: Stop setting native ssl parameters,MERGED,2022-11-29 01:16:18.000000000,2022-11-30 05:12:55.000000000,2022-11-30 05:12:55.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 01:16:18.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/36f5e3962cda999c39f3fc8b76d517d4f8d419bb', 'message': 'Glance: Stop setting native ssl parameters\n\nGlance has already removed support for native ssl support[1]. These\nglance::api class parameters were also deprecated and will be removed\nduring this cycle.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nDepends-on: https://review.opendev.org/834501\nChange-Id: I72fd6841d24197e9c747116437d49911e9c5b8b0\n'}]",1,865924,36f5e3962cda999c39f3fc8b76d517d4f8d419bb,9,4,1,9816,,,0,"Glance: Stop setting native ssl parameters

Glance has already removed support for native ssl support[1]. These
glance::api class parameters were also deprecated and will be removed
during this cycle.

[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0

Depends-on: https://review.opendev.org/834501
Change-Id: I72fd6841d24197e9c747116437d49911e9c5b8b0
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/24/865924/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,36f5e3962cda999c39f3fc8b76d517d4f8d419bb,bug/1965776," # TODO(tkajinam): Glance no longer supports native ssl since Ussuri release, # so these parameters are unused now. $crt_file = undef $crt_file = undef"," $crt_file = undef $crt_file = undef cert_file => $crt_file, key_file => $key_file,",4,4
openstack%2Fpuppet-oslo~865458,openstack/puppet-oslo,master,I5c295c747a0f19757e3b3c7eaf990b32d7e1af11,cache: Support array value for tls_allowed_ciphers,MERGED,2022-11-23 18:02:50.000000000,2022-11-30 05:08:48.000000000,2022-11-30 05:08:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 18:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/58afe237f92cf81bcae7be08cd6baa3a703622e9', 'message': 'cache: Support array value for tls_allowed_ciphers\n\nThe [oslo_cache] tls_allowed_ciphers option takes a colon-seprated\nlist. This change allows usage of a native array value to set\nthe value so that users can more easily compose up the value without\nconsidering the actual value format.\n\nChange-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11\n'}, {'number': 2, 'created': '2022-11-23 18:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/38bf0e78d085afba9b35c3c45ad8995cf47e0582', 'message': 'cache: Support array value for tls_allowed_ciphers\n\nThe [oslo_cache] tls_allowed_ciphers option takes a colon-seprated\nlist. This change allows usage of a native array value to set\nthe value so that users can more easily compose up the value without\nconsidering the actual value format.\n\nChange-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11\n'}, {'number': 3, 'created': '2022-11-24 01:41:08.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/053264927508064e7c832c88b080dec8b85a290e', 'message': 'cache: Support array value for tls_allowed_ciphers\n\nThe [oslo_cache] tls_allowed_ciphers option takes a colon-seprated\nlist. This change allows usage of a native array value to set\nthe value so that users can more easily compose up the value without\nconsidering the actual value format.\n\nChange-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11\n'}]",1,865458,053264927508064e7c832c88b080dec8b85a290e,15,3,3,9816,,,0,"cache: Support array value for tls_allowed_ciphers

The [oslo_cache] tls_allowed_ciphers option takes a colon-seprated
list. This change allows usage of a native array value to set
the value so that users can more easily compose up the value without
considering the actual value format.

Change-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/58/865458/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",2,58afe237f92cf81bcae7be08cd6baa3a703622e9,puppet-ciphers-array," 'cache/tls_allowed_ciphers' => { value => join(any2array($tls_allowed_ciphers), ':') },"," 'cache/tls_allowed_ciphers' => { value => $tls_allowed_ciphers },",9,9
openstack%2Fpuppet-tripleo~866100,openstack/puppet-tripleo,master,I82e13be62555ca0109aa32ce97f1433312ae22e5,Use same hosts for glance api backends,ABANDONED,2022-11-30 04:48:09.000000000,2022-11-30 04:52:27.000000000,,[],"[{'number': 1, 'created': '2022-11-30 04:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/927526d5b5f919dd4f077d14b7dddb3bdcf50417', 'message': 'Use same hosts for glance api endpoints\n\nCurrently both glance-api and glance-internal-api has their backend\nservers deployed at GlanceApiNetwork. This change ensures haproxy\nproxies the traffic in the same network.\n\nCloses-Bug: #1998227\nChange-Id: I82e13be62555ca0109aa32ce97f1433312ae22e5\n'}, {'number': 2, 'created': '2022-11-30 04:49:10.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/864245be101f02adca94a9c19727910b3b69ab94', 'message': 'Use same hosts for glance api backends\n\nCurrently both glance-api and glance-internal-api has their backend\nservers deployed at GlanceApiNetwork. This change ensures haproxy\nproxies the traffic in the same network.\n\nCloses-Bug: #1998227\nChange-Id: I82e13be62555ca0109aa32ce97f1433312ae22e5\n'}]",0,866100,864245be101f02adca94a9c19727910b3b69ab94,3,0,2,9816,,,0,"Use same hosts for glance api backends

Currently both glance-api and glance-internal-api has their backend
servers deployed at GlanceApiNetwork. This change ensures haproxy
proxies the traffic in the same network.

Closes-Bug: #1998227
Change-Id: I82e13be62555ca0109aa32ce97f1433312ae22e5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/00/866100/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,927526d5b5f919dd4f077d14b7dddb3bdcf50417,," ip_addresses => lookup('glance_api_node_ips', undef, undef, $controller_hosts_real), server_names => lookup('glance_api_node_names', undef, undef, $controller_hosts_names_real),"," ip_addresses => lookup('glance_api_internal_node_ips', undef, undef, $controller_hosts_real), server_names => lookup('glance_api_internal_node_names', undef, undef, $controller_hosts_names_real),",2,2
openstack%2Fcinder~865416,openstack/cinder,master,Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5,Limit number of concurrent volume upload operations,NEW,2022-11-23 11:32:45.000000000,2022-11-30 03:45:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-11-23 11:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8dca71f867c1f7509219d7acfe6e4e0f1d84cf1c', 'message': 'WIP: Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO/bandwidth. this also increases load on\nthe image conversion dir if there are other operations also running\non that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}, {'number': 2, 'created': '2022-11-28 06:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da5b1d5f161fa2c9ff51e0a5b3cb1793eeabff70', 'message': 'WIP: Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO/bandwidth. this also increases load on\nthe image conversion dir if there are other operations also running\non that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}, {'number': 3, 'created': '2022-11-28 07:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f1cd5f8c41388d9321cf6ff857e28b8d968bdbd', 'message': 'WIP: Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO/bandwidth. this also increases load on\nthe image conversion dir if there are other operations also running\non that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}, {'number': 4, 'created': '2022-11-28 14:22:38.000000000', 'files': ['cinder/opts.py', 'releasenotes/notes/limit-upload-operations-7b5e2b9cf6c2fb7b.yaml', 'cinder/volume/manager.py', 'cinder/cmd/volume.py', 'cinder/tests/unit/volume/test_image.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccbb355ff92595b36b3536a6a755ed3760515e07', 'message': 'Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO bandwidth. After that we use python IO to\ncopy that exported volume to glance which again is IO consuming\noperation. This also increases load on the image conversion dir\nif there are other operations also running on that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}]",2,865416,ccbb355ff92595b36b3536a6a755ed3760515e07,48,2,4,27615,,,0,"Limit number of concurrent volume upload operations

In cases where backend takes huge amount time and IO bandwidth,
it could add load to the system and hence cause issues.
Like in case of rbd, we export the volume first which, depending
on the number of concurrent operations, can take upto several
minutes and a lot of IO bandwidth. After that we use python IO to
copy that exported volume to glance which again is IO consuming
operation. This also increases load on the image conversion dir
if there are other operations also running on that directory.

Change-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/865416/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/manager.py', 'cinder/cmd/volume.py']",3,8dca71f867c1f7509219d7acfe6e4e0f1d84cf1c,865416,"from typing import Unionupload_volume_opt = cfg.IntOpt('upload_max_operations', default=5, min=0, help='Maximum number of concurrent ' 'upload volume to image operations. ' 'Value of 0 means unlimited') CONF.register_opt(upload_volume_opt) backend: str, _semaphore: Union[eventlet.semaphore.Semaphore, utils.Semaphore]) -> None: cluster=cluster, semaphore=_semaphore)def _launch_services_win32(semaphore: Union[eventlet.semaphore.Semaphore, utils.Semaphore]) -> None: _launch_service(launcher, single_backend_name, semaphore)def _launch_services_posix(semaphore: Union[eventlet.semaphore.Semaphore, utils.Semaphore]) -> None: _launch_service(launcher, backend, semaphore) semaphore = utils.semaphore_factory(CONF.upload_max_operations, 1) _launch_services_win32(semaphore) else: _launch_services_posix(semaphore)"," backend: str) -> None: cluster=cluster)def _launch_services_win32() -> None: _launch_service(launcher, single_backend_name)def _launch_services_posix() -> None: _launch_service(launcher, backend) _launch_services_win32() else: _launch_services_posix()",29,8
openstack%2Fneutron-fwaas-dashboard~847117,openstack/neutron-fwaas-dashboard,master,I3f23839b506662be93d560ee39c5259d71125a99,Imported Translations from Zanata,MERGED,2022-06-22 03:31:50.000000000,2022-11-30 03:11:37.000000000,2022-11-30 03:10:15.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30380}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-22 03:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/e09b299e1a59619e7a98878bcdea3742453d087d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3f23839b506662be93d560ee39c5259d71125a99\n'}, {'number': 2, 'created': '2022-09-15 02:32:02.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/57498255d021ceb664fe40c6a4c25fd75d1938b6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3f23839b506662be93d560ee39c5259d71125a99\n'}]",0,847117,57498255d021ceb664fe40c6a4c25fd75d1938b6,12,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3f23839b506662be93d560ee39c5259d71125a99
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/17/847117/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po']",3,e09b299e1a59619e7a98878bcdea3742453d087d,zanata/translations,,"# Jose Porrua <jose.porrua@netapp.com>, 2016. #zanata # Eduardo Gonzalez Gutierrez <dabarren@gmail.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: neutron-fwaas-dashboard\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2020-04-22 07:50+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-09-27 03:49+0000\n"" ""Last-Translator: Eduardo Gonzalez Gutierrez <dabarren@gmail.com>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Bug Fixes"" msgstr ""Corrección de errores"" msgid ""Current Series Release Notes"" msgstr ""Notas de la versión actual"" msgid ""New Features"" msgstr ""Nuevas Funcionalidades"" ",5,55
openstack%2Fpuppet-nova~841604,openstack/puppet-nova,master,I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,Fix typo,ABANDONED,2022-05-12 14:23:50.000000000,2022-11-30 02:50:02.000000000,,"[{'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 14:23:50.000000000', 'files': ['releasenotes/notes/libvirt-virtlogd-f4e2618a87fbab5a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/baf9bee28cb2eaddcbd6a27f586b7940ae952283', 'message': 'Fix typo\n\nChange-Id: I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7\n'}]",2,841604,baf9bee28cb2eaddcbd6a27f586b7940ae952283,5,2,1,28522,,,0,"Fix typo

Change-Id: I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/04/841604/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-virtlogd-f4e2618a87fbab5a.yaml'],1,baf9bee28cb2eaddcbd6a27f586b7940ae952283,fix-misspelling, virtlogd configuration., virtlogd configration.,1,1
openstack%2Fpuppet-openstack-integration~864194,openstack/puppet-openstack-integration,master,I77e146a862f524334290db139340c2d87fc8c81f,DNM Test CloudSIG RDO Zed promoted packages,ABANDONED,2022-11-10 09:59:59.000000000,2022-11-30 02:49:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-10 09:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/abee61f0f4f8f2ee0579802bcc195fde119752d1', 'message': 'DNM Test CloudSIG RDO Zed promoted packages\n\nChange-Id: I77e146a862f524334290db139340c2d87fc8c81f\n'}, {'number': 2, 'created': '2022-11-10 11:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e1c9c23e3cc3ecf416a9242ea29d8c68a1991646', 'message': 'DNM Test CloudSIG RDO Zed promoted packages\n\nChange-Id: I77e146a862f524334290db139340c2d87fc8c81f\n'}, {'number': 3, 'created': '2022-11-10 15:36:11.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b286cb767a904ea18d241e5df9314ab82f68738', 'message': 'DNM Test CloudSIG RDO Zed promoted packages\n\nChange-Id: I77e146a862f524334290db139340c2d87fc8c81f\n'}]",0,864194,1b286cb767a904ea18d241e5df9314ab82f68738,7,1,3,16312,,,0,"DNM Test CloudSIG RDO Zed promoted packages

Change-Id: I77e146a862f524334290db139340c2d87fc8c81f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/864194/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,abee61f0f4f8f2ee0579802bcc195fde119752d1,stable/zed," manage_rdo => true, 'temp-delorean.repo' => ""https://logserver.rdoproject.org/65/45965/2/check/validate-buildsys-tags/7e237d5/buildset/repos/cloud9s-openstack-zed-release/"","," manage_rdo => false, 'delorean.repo' => $delorean_repo, 'delorean-deps.repo' => $delorean_deps_repo",2,3
openstack%2Fpuppet-openstack-integration~864219,openstack/puppet-openstack-integration,stable/zed,Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1,DNM Test scenario001 in zed,ABANDONED,2022-11-10 16:56:36.000000000,2022-11-30 02:49:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-10 16:56:36.000000000', 'files': ['test', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/84cde6aa1ebc52a34014ef5cdfac8d60da680aac', 'message': 'DNM Test scenario001 in zed\n\nChange-Id: Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1\n'}]",0,864219,84cde6aa1ebc52a34014ef5cdfac8d60da680aac,3,1,1,16312,,,0,"DNM Test scenario001 in zed

Change-Id: Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/864219/1 && git format-patch -1 --stdout FETCH_HEAD,"['test', 'zuul.d/layout.yaml']",2,84cde6aa1ebc52a34014ef5cdfac8d60da680aac,dnm,, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario002-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario003-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario004-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario005-tempest-ubuntu-focal - puppet-openstack-integration-7-scenario002-tempest-centos-9-stream - puppet-openstack-integration-7-scenario003-tempest-centos-9-stream - puppet-openstack-integration-7-scenario004-tempest-centos-9-stream - puppet-openstack-integration-7-scenario005-tempest-centos-9-stream,0,9
openstack%2Fpuppet-nova~856583,openstack/puppet-nova,stable/yoga,I2d0ab2472f940ef6edac662e167033881ab09086,Wire-in max_client_requests for libvirt,MERGED,2022-09-09 12:36:49.000000000,2022-11-30 02:46:39.000000000,2022-11-30 02:45:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 12:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bb6d427ed85438401d7acf81e3f97cc7004c2261', 'message': 'Wire-in max_client_requests for libvirt\n\nLibvirt setting for (admin_/)max_client_requests is an important\nconfiguration to be tweaked when serving long running requests.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2d0ab2472f940ef6edac662e167033881ab09086\n(cherry picked from commit de886cd1dda892aa74ebeae00e0d17d391862f86)\n'}, {'number': 2, 'created': '2022-11-29 15:21:41.000000000', 'files': ['releasenotes/notes/nova_libvirt_max_client_requests-1709c1d7a282264d.yaml', 'manifests/compute/libvirt/virtnodedevd.pp', 'spec/classes/nova_compute_libvirt_virtsecretd_spec.rb', 'manifests/compute/libvirt/virtsecretd.pp', 'spec/classes/nova_compute_libvirt_virtproxyd_spec.rb', 'manifests/compute/libvirt/virtqemud.pp', 'spec/classes/nova_compute_libvirt_virtqemud_spec.rb', 'manifests/compute/libvirt/virtproxyd.pp', 'spec/classes/nova_compute_libvirt_virtnodedevd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/db940667755e9e3ed4b309fbe0a12aec4c239c96', 'message': 'Wire-in max_client_requests for libvirt\n\nLibvirt setting for (admin_/)max_client_requests is an important\nconfiguration to be tweaked when serving long running requests.\n\n Conflicts:\n\tmanifests/compute/libvirt/libvirtd.pp\n\tspec/classes/nova_compute_libvirt_libvirtd_spec.rb\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2d0ab2472f940ef6edac662e167033881ab09086\n(cherry picked from commit de886cd1dda892aa74ebeae00e0d17d391862f86)\n'}]",2,856583,db940667755e9e3ed4b309fbe0a12aec4c239c96,14,4,2,6926,,,0,"Wire-in max_client_requests for libvirt

Libvirt setting for (admin_/)max_client_requests is an important
configuration to be tweaked when serving long running requests.

 Conflicts:
	manifests/compute/libvirt/libvirtd.pp
	spec/classes/nova_compute_libvirt_libvirtd_spec.rb

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I2d0ab2472f940ef6edac662e167033881ab09086
(cherry picked from commit de886cd1dda892aa74ebeae00e0d17d391862f86)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/83/856583/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_libvirt_max_client_requests-1709c1d7a282264d.yaml', 'manifests/compute/libvirt/virtnodedevd.pp', 'spec/classes/nova_compute_libvirt_virtsecretd_spec.rb', 'manifests/compute/libvirt/virtsecretd.pp', 'spec/classes/nova_compute_libvirt_virtproxyd_spec.rb', 'manifests/compute/libvirt/virtqemud.pp', 'spec/classes/nova_compute_libvirt_virtqemud_spec.rb', 'manifests/compute/libvirt/virtproxyd.pp', 'spec/classes/nova_compute_libvirt_virtnodedevd_spec.rb']",9,bb6d427ed85438401d7acf81e3f97cc7004c2261,," it { is_expected.to contain_virtnodedevd_config('max_client_requests').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_virtnodedevd_config('admin_max_client_requests').with_value('<SERVICE DEFAULT>')} { :log_level => 3, :log_outputs => '3:syslog', :log_filters => '1:logging 4:object 4:json 4:event 1:util', :max_clients => 1024, :admin_max_clients => 5, :max_client_requests => 42, :admin_max_client_requests => 55, :ovs_timeout => 10, it { is_expected.to contain_virtnodedevd_config('max_client_requests').with_value(params[:max_client_requests])} it { is_expected.to contain_virtnodedevd_config('admin_max_client_requests').with_value(params[:admin_max_client_requests])}"," { :log_level => 3, :log_outputs => '3:syslog', :log_filters => '1:logging 4:object 4:json 4:event 1:util', :max_clients => 1024, :admin_max_clients => 5, :ovs_timeout => 10,",156,75
openstack%2Fovsdbapp~854963,openstack/ovsdbapp,master,I1ad6db737b36670c04865e5f51da5d0214063350,Continue to reconnect until no error is thrown,ABANDONED,2022-08-29 11:05:20.000000000,2022-11-30 02:07:46.000000000,,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-08-29 11:05:20.000000000', 'files': ['ovsdbapp/backend/ovs_idl/connection.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/04e6bbfa0ee9b4525677662cadd5d69447305e3f', 'message': 'Continue to reconnect until no error is thrown\n\nCloses-bug: #1988039\n\nChange-Id: I1ad6db737b36670c04865e5f51da5d0214063350\n'}]",4,854963,04e6bbfa0ee9b4525677662cadd5d69447305e3f,7,7,1,30380,,,0,"Continue to reconnect until no error is thrown

Closes-bug: #1988039

Change-Id: I1ad6db737b36670c04865e5f51da5d0214063350
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/63/854963/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/connection.py'],1,04e6bbfa0ee9b4525677662cadd5d69447305e3f,," while True: errors += 1 with self.lock: self.idl.force_reconnect() try: idlutils.wait_for_change(self.idl, self.timeout) break except Exception as e: # This could throw the same exception as idl.run() # or Exception(""timeout""), either way continue LOG.exception(e) sleep = min(2 ** errors, 60) LOG.info(""Trying to recover, sleeping %s seconds"", sleep) time.sleep(sleep) continue"," errors += 1 with self.lock: self.idl.force_reconnect() try: idlutils.wait_for_change(self.idl, self.timeout) except Exception as e: # This could throw the same exception as idl.run() # or Exception(""timeout""), either way continue LOG.exception(e) sleep = min(2 ** errors, 60) LOG.info(""Trying to recover, sleeping %s seconds"", sleep) time.sleep(sleep) continue",15,13
openstack%2Ftripleo-common~865247,openstack/tripleo-common,stable/wallaby,Ic96679548a553960f1242850e42f9eec6e4a45f0,Fix token cache expires_at check,MERGED,2022-11-22 09:08:30.000000000,2022-11-30 00:56:51.000000000,2022-11-30 00:55:49.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 09:08:30.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59f80edb87c1f2e17d81caceb11c5b49403a4b90', 'message': ""Fix token cache expires_at check\n\nTokens can have a expires_at field (specifically, we're seeing this issue\nwith Satellite). The token does not an expires_in. This patch allows for\nthe lookup lookup of either key from the token to resolve\ncached token authentication issues.\n\nExample token:\n```\n{'token': '$2a$09$1b6453892473a467d0737uJ56J02CLEXEkOaX0pdLWgLMlg.qWDSi',\n 'expires_at': '2022-10-28T04:54:58.296Z',\n 'issued_at': '2022-10-17T23:45:09.306Z'}\n```\n\nIt's unnecessary to get the local time, since tokens have Zulu time. So just\ndatetime.now() is sufficient. But to perform the comparison, we need to convert\nthe string datetime from the return value into a valid datetime object.\n\nThis change corrects the describe behavior.\n\nResolves: rhbz#2134075\nChange-Id: Ic96679548a553960f1242850e42f9eec6e4a45f0\n(cherry picked from commit 6e4e430b46cfdce21663fa1f2417ae925aede97e)\n""}]",0,865247,59f80edb87c1f2e17d81caceb11c5b49403a4b90,8,3,1,30073,,,0,"Fix token cache expires_at check

Tokens can have a expires_at field (specifically, we're seeing this issue
with Satellite). The token does not an expires_in. This patch allows for
the lookup lookup of either key from the token to resolve
cached token authentication issues.

Example token:
```
{'token': '$2a$09$1b6453892473a467d0737uJ56J02CLEXEkOaX0pdLWgLMlg.qWDSi',
 'expires_at': '2022-10-28T04:54:58.296Z',
 'issued_at': '2022-10-17T23:45:09.306Z'}
```

It's unnecessary to get the local time, since tokens have Zulu time. So just
datetime.now() is sufficient. But to perform the comparison, we need to convert
the string datetime from the return value into a valid datetime object.

This change corrects the describe behavior.

Resolves: rhbz#2134075
Change-Id: Ic96679548a553960f1242850e42f9eec6e4a45f0
(cherry picked from commit 6e4e430b46cfdce21663fa1f2417ae925aede97e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/47/865247/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,59f80edb87c1f2e17d81caceb11c5b49403a4b90,," if data: # expires_in is an integer value from the issued_at time. # We will use this to determine if the token should be expired # https://www.rfc-editor.org/rfc/rfc6749#section-4.2.2 if data.get('expires_in'): now = datetime.now(tzlocal()) expires_in = data.get('expires_in') token_time = dt_parse(data.get('issued_at')) if (now - token_time).seconds < expires_in: return data['token'] # TODO(bshephar) Remove once Satellite returns expected expiry # expires_at uses UTC date and time format. Although, this # field doesn't appear in the RFC for OAuth. It appears some # API's return a response with expires_at instead of expires_in # https://www.rfc-editor.org/rfc/rfc6749 # https://bugzilla.redhat.com/show_bug.cgi?id=2134075 # https://bugzilla.redhat.com/show_bug.cgi?id=2138743 elif data.get('expires_at'): now = datetime.utcnow() expires = datetime.strptime(data.get('expires_at'), ""%Y-%m-%dT%H:%M:%S.%fZ"") if now < expires: return data['token'] # If we don't have expires_in or expires_at. We can just # return the token since it probably doesn't expire. else:", if data and data.get('issued_at'): token_time = dt_parse(data.get('issued_at')) now = datetime.now(tzlocal()) expires_in = data.get('expires_in') if not expires_in or (now - token_time).seconds < expires_in:,125,5
openstack%2Ftripleo-validations~865958,openstack/tripleo-validations,stable/zed,If153ef72d9fbc0cbae7c1275ba866331f864995f,Fix ansible 2.14 incompatibility,MERGED,2022-11-29 08:59:56.000000000,2022-11-30 00:56:47.000000000,2022-11-30 00:55:48.000000000,"[{'_account_id': 8833}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 08:59:56.000000000', 'files': ['roles/repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4013da99e2d0d537331eeacc00bae9d34bc8405a', 'message': 'Fix ansible 2.14 incompatibility\n\nThe warn parameter of command/shell module was deprecated was\nremoved in 2.14[1].\n\n[1] https://github.com/ansible/ansible/pull/77411\n\nCloses-Bug: #1998098\nChange-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f\n(cherry picked from commit 1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d)\n'}]",1,865958,4013da99e2d0d537331eeacc00bae9d34bc8405a,11,5,1,8833,,,0,"Fix ansible 2.14 incompatibility

The warn parameter of command/shell module was deprecated was
removed in 2.14[1].

[1] https://github.com/ansible/ansible/pull/77411

Closes-Bug: #1998098
Change-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f
(cherry picked from commit 1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/865958/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repos/tasks/main.yml'],1,4013da99e2d0d537331eeacc00bae9d34bc8405a,,, args: warn: false,0,2
openstack%2Ftripleo-heat-templates~860691,openstack/tripleo-heat-templates,master,Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,Removing NIC scripts as the heat network config is no longer supported,MERGED,2022-10-07 13:13:24.000000000,2022-11-30 00:55:59.000000000,2022-11-30 00:55:59.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-07 13:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffaa31137a487e0b959f5480df39bb4de9b9d9e2', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n\ttools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/859520/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}, {'number': 2, 'created': '2022-10-07 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12c20f7c39c04d508b6052b2994719884fd3273e', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n\ttools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}, {'number': 3, 'created': '2022-10-18 07:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3315c8d8585c574f1c006bd85b8db65787597073', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n        tools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}, {'number': 4, 'created': '2022-10-18 07:38:54.000000000', 'files': ['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e098b8172bdfdfa488bcd8b43049ed362c59cc2d', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n        tools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}]",5,860691,e098b8172bdfdfa488bcd8b43049ed362c59cc2d,23,6,4,32926,,,0,"Removing NIC scripts as the heat network config is no longer supported

Function of these scripts is now carried out by ansible roles,
making them unnecessary.

Removed scripts:
        tools/convert_nic_config.py
        tools/merge-new-params-nic-config-script.py

Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/860691/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py']",2,ffaa31137a487e0b959f5480df39bb4de9b9d9e2,tools/drop-nic-scripts,,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import collections import datetime import os import re import shutil import sys import yaml def parse_opts(argv): parser = argparse.ArgumentParser( description='Convert to new NIC config templates with ' 'OS::Heat::Value resources.') parser.add_argument('-t', '--template', metavar='TEMPLATE_FILE', help=(""Existing NIC config template to convert.""), required=True) parser.add_argument('--discard-comments', metavar='DISCARD_COMMENTS', help=""Discard comments from the template. (The "" ""scripts functions to keep YAML file comments in "" ""place, does not work in all scenarios.)"", default=False) opts = parser.parse_args(argv[1:]) return opts def to_commented_yaml(filename): """"""Convert comments into 'comments<num>: ...' YAML"""""" out_str = '' last_non_comment_spaces = '' with open(filename, 'r') as f: comment_count = 0 for line in f: # skip blank line if line.isspace(): continue char_count = 0 spaces = '' for char in line: char_count += 1 if char == ' ': spaces += ' ' next elif char == '#': comment_count += 1 comment = line[char_count:-1] last_non_comment_spaces = spaces out_str += ""%scomment%i_%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, len(spaces), comment) break else: last_non_comment_spaces = spaces out_str += line # inline comments check m = re.match("".*:.*#(.*)"", line) if m: comment_count += 1 out_str += ""%s inline_comment%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, m.group(1)) break with open(filename, 'w') as f: f.write(out_str) return out_str def to_normal_yaml(filename): """"""Convert back to normal #commented YAML"""""" with open(filename, 'r') as f: data = f.read() out_str = '' next_line_break = False for line in data.split('\n'): # get_input not supported by run-os-net-config.sh script line = line.replace('get_input: ', '') # Normal comments m = re.match("" +comment[0-9]+_([0-9]+): '(.*)'.*"", line) # Inline comments i = re.match("" +inline_comment[0-9]+: '(.*)'.*"", line) if m: if next_line_break: out_str += '\n' next_line_break = False for x in range(0, int(m.group(1))): out_str += "" "" out_str += ""#%s\n"" % m.group(2) elif i: out_str += "" #%s\n"" % i.group(1) next_line_break = False else: if next_line_break: out_str += '\n' out_str += line next_line_break = True if next_line_break: out_str += '\n' with open(filename, 'w') as f: f.write(out_str) return out_str class TemplateDumper(yaml.SafeDumper): def represent_ordered_dict(self, data): return self.represent_dict(data.items()) def description_presenter(self, data): if not len(data) > 80: return self.represent_scalar('tag:yaml.org,2002:str', data) return self.represent_scalar('tag:yaml.org,2002:str', data, style='>') class TemplateLoader(yaml.SafeLoader): def construct_mapping(self, node): self.flatten_mapping(node) return collections.OrderedDict(self.construct_pairs(node)) TemplateDumper.add_representer(str, TemplateDumper.description_presenter) TemplateDumper.add_representer(bytes, TemplateDumper.description_presenter) TemplateDumper.add_representer(collections.OrderedDict, TemplateDumper.represent_ordered_dict) TemplateLoader.add_constructor(yaml.resolver.BaseResolver.DEFAULT_MAPPING_TAG, TemplateLoader.construct_mapping) def write_template(template, filename=None): with open(filename, 'w') as f: yaml.dump(template, f, TemplateDumper, width=120, default_flow_style=False) def validate_template(template): if not os.path.exists(template): raise RuntimeError('Template not provided.') if not os.path.isfile(template): raise RuntimeError('Template %s is not a file.') pass def backup_template(template): extension = datetime.datetime.now().strftime('%Y%m%d%H%M%S') backup_filename = os.path.realpath(template) + '.' + extension if os.path.exists(backup_filename): raise RuntimeError('Backup file: %s already exists. Aborting!' % backup_filename) shutil.copyfile(template, backup_filename) print('The original template was saved as: %s' % backup_filename) def needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources'].get('OsNetConfigImpl') if (net_config_res and net_config_res[ 'type'] == 'OS::Heat::SoftwareConfig'): backup_template(OPTS.template) if not OPTS.discard_comments: # Convert comments '# ...' into 'comments<num>: ...' # is not lost when loading the data. to_commented_yaml(OPTS.template) return True return False def convert_to_heat_value_resource(): if needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources']['OsNetConfigImpl'] net_config_res_props = net_config_res['properties'] # set the type to OS::Heat::Value net_config_res['type'] = 'OS::Heat::Value' del net_config_res_props['group'] old_config = net_config_res_props['config'] new_config = old_config['str_replace']['params']['$network_config'] del net_config_res_props['config'] net_config_res_props['value'] = new_config outputs = template['outputs'] del outputs['OS::stack_id'] outputs['config'] = {} outputs['config']['value'] = 'get_attr[OsNetConfigImpl, value]' write_template(template, filename=OPTS.template) if not OPTS.discard_comments: # Convert previously converted comments, 'comments<num>: ...' # YAML back to normal #commented YAML to_normal_yaml(OPTS.template) print('The update template was saved as: %s' % OPTS.template) else: print('Template does not need conversion: %s' % OPTS.template) OPTS = parse_opts(sys.argv) convert_to_heat_value_resource() ",0,493
openstack%2Ftripleo-heat-templates~852441,openstack/tripleo-heat-templates,master,Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37,Remove reference to Contrail,MERGED,2022-08-08 14:52:24.000000000,2022-11-30 00:55:55.000000000,2022-11-30 00:55:55.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-08 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a606c9a3c0440490bcae06a0df95cc4ba5193bc', 'message': 'Remove reference to Contrail\n\n... because Contrail support was already removed from this repository.\n\nChange-Id: Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37\n'}, {'number': 2, 'created': '2022-10-13 05:20:19.000000000', 'files': ['environments/neutron-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8443a1be425e4ffdc90dbc2b2cb8453d68c5abff', 'message': 'Remove reference to Contrail\n\n... because Contrail support was already removed from this repository.\n\nChange-Id: Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37\n'}]",0,852441,8443a1be425e4ffdc90dbc2b2cb8453d68c5abff,11,4,2,9816,,,0,"Remove reference to Contrail

... because Contrail support was already removed from this repository.

Change-Id: Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/852441/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-bgpvpn.yaml'],1,4a606c9a3c0440490bcae06a0df95cc4ba5193bc,,,# - OpenContrail: BGPVPN:OpenContrail:networking_bgpvpn.neutron.services.service_drivers.opencontrail.opencontrail.OpenContrailBGPVPNDriver:default,0,1
openstack%2Ftripleo-heat-templates~852440,openstack/tripleo-heat-templates,master,Ic01100b74acdf9ba9490aaa8a307580f40f3e032,OpendaylightApiNetwork is no longer used,MERGED,2022-08-08 14:52:24.000000000,2022-11-30 00:55:52.000000000,2022-11-30 00:55:52.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-08 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d41424318bdb3422c974b1f662634f9e0c6da58f', 'message': 'Remove reference to OpenDaylight\n\n... because OpenDaylight support was removed long ago[1].\n\n[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3\n\nChange-Id: Ic01100b74acdf9ba9490aaa8a307580f40f3e032\n'}, {'number': 2, 'created': '2022-10-13 05:20:04.000000000', 'files': ['environments/neutron-l2gw.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d98eaa115fce2c82f91641acf5daf42ce67fee34', 'message': 'OpendaylightApiNetwork is no longer used\n\n... since OpenDaylight support was removed by [1].\n\nThis also cleans up a few remaining references in environment files.\n\n[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3\n\nChange-Id: Ic01100b74acdf9ba9490aaa8a307580f40f3e032\n'}]",0,852440,d98eaa115fce2c82f91641acf5daf42ce67fee34,11,4,2,9816,,,0,"OpendaylightApiNetwork is no longer used

... since OpenDaylight support was removed by [1].

This also cleans up a few remaining references in environment files.

[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3

Change-Id: Ic01100b74acdf9ba9490aaa8a307580f40f3e032
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/852440/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-l2gw.yaml', 'environments/neutron-bgpvpn.yaml']",2,d41424318bdb3422c974b1f662634f9e0c6da58f,,,# - OpenDaylight: BGPVPN:OpenDaylight:networking_odl.bgpvpn.odl_v2.OpenDaylightBgpvpnDriver:default,0,2
openstack%2Ftripleo-ansible~865104,openstack/tripleo-ansible,master,I6b6843c58ec597d44bd0d1098bf524adb310198b,Add default value to bond_interface_ovs_options,ABANDONED,2022-11-21 06:45:35.000000000,2022-11-30 00:43:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 06:45:35.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_generate_inventory_network_config.py', 'tripleo_ansible/tests/modules/test_tripleo_generate_inventory_network_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63f5c6777992d4dcd4ed56e91881fe7e51d60c35', 'message': ""Add default value to bond_interface_ovs_options\n\nbond_interface_ovs_options didn't have a default option.\nBecause of that, the network_config except bonding or ovs interfaces\nfailed due to the lack or the option assignment.\n\nThis fix introduces the default value, '', to bond_interface_ovs_options\nto prevent the failure in those cases.\n\nChange-Id: I6b6843c58ec597d44bd0d1098bf524adb310198b\n""}]",1,865104,63f5c6777992d4dcd4ed56e91881fe7e51d60c35,7,2,1,25613,,,0,"Add default value to bond_interface_ovs_options

bond_interface_ovs_options didn't have a default option.
Because of that, the network_config except bonding or ovs interfaces
failed due to the lack or the option assignment.

This fix introduces the default value, '', to bond_interface_ovs_options
to prevent the failure in those cases.

Change-Id: I6b6843c58ec597d44bd0d1098bf524adb310198b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/865104/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_generate_inventory_network_config.py', 'tripleo_ansible/tests/modules/test_tripleo_generate_inventory_network_config.py']",2,63f5c6777992d4dcd4ed56e91881fe7e51d60c35,bond_interface_ovs_options," 'bond_interface_ovs_options': '', 'bond_interface_ovs_options': '',",,3,0
openstack%2Fnova~829049,openstack/nova,stable/xena,I741cb6b29a67da8c60708c6251c441d778ca74d0,Fix the wrong exception used to retry detach API calls,MERGED,2022-02-15 07:00:25.000000000,2022-11-30 00:09:38.000000000,2022-11-30 00:08:28.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-15 07:00:25.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/513241a7e4f3f3246c75e66a910db6c864c3981e', 'message': 'Fix the wrong exception used to retry detach API calls\n\nWhen cinderclient receives an error response from API, it raises one\nof the exceptions from the cinderclient.exceptions module instead of\nthe cinderclient.apiclient.exceptions module.\n\nThis change fixes the wrong exception used to detect 500 error from\ncinder API, so that API calls to detach volumes are properly retried.\n\nCloses-Bug: #1944043\nChange-Id: I741cb6b29a67da8c60708c6251c441d778ca74d0\n(cherry picked from commit f6206269b71d9bcaf65aa0313c21cc6b75a54fb3)\n'}]",3,829049,513241a7e4f3f3246c75e66a910db6c864c3981e,18,5,1,9816,,,0,"Fix the wrong exception used to retry detach API calls

When cinderclient receives an error response from API, it raises one
of the exceptions from the cinderclient.exceptions module instead of
the cinderclient.apiclient.exceptions module.

This change fixes the wrong exception used to detect 500 error from
cinder API, so that API calls to detach volumes are properly retried.

Closes-Bug: #1944043
Change-Id: I741cb6b29a67da8c60708c6251c441d778ca74d0
(cherry picked from commit f6206269b71d9bcaf65aa0313c21cc6b75a54fb3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/829049/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']",2,513241a7e4f3f3246c75e66a910db6c864c3981e,bug/1944043-stable/xena," (isinstance(e, cinder_exception.ClientException) and e.code == 500)) (isinstance(e, cinder_exception.ClientException) and e.code == 500)) (isinstance(e, cinder_exception.ClientException) and e.code == 500))",from cinderclient import apiclient as cinder_apiclient type(e) == cinder_apiclient.exceptions.InternalServerError) type(e) == cinder_apiclient.exceptions.InternalServerError) type(e) == cinder_apiclient.exceptions.InternalServerError),30,22
openstack%2Fovsdbapp~834982,openstack/ovsdbapp,master,I97245fd3880e18d6e4f22337426444bd91b444f1,Avoid race conditions when deleting bridges,ABANDONED,2022-03-23 23:38:01.000000000,2022-11-29 23:59:18.000000000,,"[{'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 23:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/27f052de06d9f09aabfb7f881fe2068fff268e58', 'message': 'Avoid race conditions when deleting bridges\n\nIn the trunk implementation of the ml2/ovs mechanism driver there is a\nrace condition with os-vif, in the case of DPDK with vhostuserclient.\nTo avoid this, in this change we add to the delete bridge command the\nability to decide whether to delete the bridge or not based on how\nrecently the bridge was last updated. This will enable ovsdb\ntransactions executed by os-vif and the ml2/ovs trunk manager to be\nmutually isolated.\n\nPartial-Bug: #1869244\nChange-Id: I97245fd3880e18d6e4f22337426444bd91b444f1\n'}, {'number': 2, 'created': '2022-03-24 22:59:48.000000000', 'files': ['ovsdbapp/schema/open_vswitch/impl_idl.py', 'ovsdbapp/schema/open_vswitch/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/093932ff80f0442b06816eadf4283cd7ee50a7d2', 'message': 'Avoid race conditions when deleting bridges\n\nIn the trunk implementation of the ml2/ovs mechanism driver there is a\nrace condition with os-vif, in the case of DPDK with vhostuserclient.\nTo avoid this, in this change we add to the delete bridge command the\nability to decide whether to delete the bridge or not based on how\nrecently the bridge was last updated. This will enable ovsdb\ntransactions executed by os-vif and the ml2/ovs trunk manager to be\nmutually isolated.\n\nPartial-Bug: #1869244\nChange-Id: I97245fd3880e18d6e4f22337426444bd91b444f1\n'}]",9,834982,093932ff80f0442b06816eadf4283cd7ee50a7d2,12,5,2,4694,,,0,"Avoid race conditions when deleting bridges

In the trunk implementation of the ml2/ovs mechanism driver there is a
race condition with os-vif, in the case of DPDK with vhostuserclient.
To avoid this, in this change we add to the delete bridge command the
ability to decide whether to delete the bridge or not based on how
recently the bridge was last updated. This will enable ovsdb
transactions executed by os-vif and the ml2/ovs trunk manager to be
mutually isolated.

Partial-Bug: #1869244
Change-Id: I97245fd3880e18d6e4f22337426444bd91b444f1
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/82/834982/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/open_vswitch/impl_idl.py', 'ovsdbapp/schema/open_vswitch/commands.py']",2,27f052de06d9f09aabfb7f881fe2068fff268e58,recency-interval,"import time def __init__(self, api, name, if_exists, recency_interval): self.recency_interval = recency_interval if recency_interval: update_time = br.external_ids.get('update_time', None) if not update_time: msg = (""recency_interval of %s was specified for bridge %s, "" ""deletion, and the bridge doesn't have update time"") LOG.error(msg) raise RuntimeError(msg) elapsed_secs = time.time() - float(update_time) if elapsed_secs > recency_interval: return"," def __init__(self, api, name, if_exists):",15,3
openstack%2Ftripleo-heat-templates~865955,openstack/tripleo-heat-templates,stable/train,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-29 08:49:38.000000000,2022-11-29 23:24:09.000000000,2022-11-29 23:24:09.000000000,"[{'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 08:49:38.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b17daedddfde90ea19ed71e46ca25b21503bb83d', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nConflicts:\n\tdeployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml\n\n(wallaby to train)\nConflicts:\n\tdeployment/database/redis-pacemaker-puppet.yaml\n\tdeployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)\n(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)\n(cherry picked from commit 3fc9478a863980e4448434f413ff3e878ccf04ab)\n""}]",2,865955,b17daedddfde90ea19ed71e46ca25b21503bb83d,12,5,1,9816,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Conflicts:
	deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml

(wallaby to train)
Conflicts:
	deployment/database/redis-pacemaker-puppet.yaml
	deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)
(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)
(cherry picked from commit 3fc9478a863980e4448434f413ff3e878ccf04ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/865955/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,b17daedddfde90ea19ed71e46ca25b21503bb83d,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fneutron-lib~865517,openstack/neutron-lib,master,Iec317f00827b05455dba369afcb6f1fd8f0fca71,"""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values",MERGED,2022-11-24 09:42:13.000000000,2022-11-29 23:16:10.000000000,2022-11-29 23:15:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 09:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7d2742c37405c19e41b165a7b9d3197b18273da2', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}, {'number': 2, 'created': '2022-11-24 16:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/42edcc02f593d76c02f28fd5876a5d3d5a7f0b07', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}, {'number': 3, 'created': '2022-11-25 08:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/04a500355aaf562bdb7cdc1ba2a67ce24ca712b9', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}, {'number': 4, 'created': '2022-11-28 14:44:09.000000000', 'files': ['neutron_lib/api/converters.py', 'neutron_lib/tests/unit/api/test_conversions.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f2bb7c72cd1fa8bfd25431834dde6dbfcf4d0b72', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}]",2,865517,f2bb7c72cd1fa8bfd25431834dde6dbfcf4d0b72,16,4,4,16688,,,0,"""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values

Change-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71
Closes-Bug: #1997680
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/17/865517/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/converters.py', 'neutron_lib/tests/unit/api/test_conversions.py']",2,7d2742c37405c19e41b165a7b9d3197b18273da2,bug/1997680," input_exp = (('00:11:22:33:44:55', '00:11:22:33:44:55'), ('00:11:22:33:44:5', '00:11:22:33:44:05'), ('0:1:2:3:4:5', '00:01:02:03:04:05'), ('ca:FE:cA:Fe:a:E', 'ca:fe:ca:fe:0a:0e'), ('12345678901', '01:23:45:67:89:01'), ('012345678901', '01:23:45:67:89:01'), ) for input, expected in input_exp: self.assertEqual( expected, converters.convert_to_sanitized_mac_address(input)) eui_address = netaddr.EUI(input) self.assertEqual( expected, converters.convert_to_sanitized_mac_address(eui_address))"," self.assertEqual( '00:11:22:33:44:55', converters.convert_to_sanitized_mac_address('00:11:22:33:44:55')) self.assertEqual( '00:11:22:33:44:05', converters.convert_to_sanitized_mac_address('00:11:22:33:44:5')) self.assertEqual( '00:01:02:03:04:05', converters.convert_to_sanitized_mac_address('0:1:2:3:4:5')) self.assertEqual( 'ca:fe:ca:fe:0a:0e', converters.convert_to_sanitized_mac_address('ca:FE:cA:Fe:a:E')) self.assertEqual( '01:23:45:67:89:01', converters.convert_to_sanitized_mac_address('12345678901')) self.assertEqual( '01:23:45:67:89:01', converters.convert_to_sanitized_mac_address('012345678901'))",21,19
openstack%2Fpython-openstackclient~865987,openstack/python-openstackclient,master,I6ed5f54079b88bc9fdfa24474a480a2786eda745,Adding volume backend commands to volume v3,MERGED,2022-11-29 12:53:14.000000000,2022-11-29 23:05:02.000000000,2022-11-29 23:03:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 12:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/992ff8345fe765ceaf6c5839f56cd26251a66357', 'message': 'Adding volume backend commands to volume v3\n\nTask: 46959\nStory: 2010454\nChange-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745\n'}, {'number': 2, 'created': '2022-11-29 13:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87702a936fc2c558dab86831e5781398b11ea5ef', 'message': 'Adding volume backend commands to volume v3\n\nTask: 46959\nStory: 2010454\nChange-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745\n'}, {'number': 3, 'created': '2022-11-29 13:46:11.000000000', 'files': ['releasenotes/notes/add_volume_backend_commands_to_volumeV3-145b114e40ab8615.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f0f54f01001db657b3ed7d618dfd1078f2dde580', 'message': 'Adding volume backend commands to volume v3\n\nTask: 46959\nStory: 2010454\nChange-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745\n'}]",4,865987,f0f54f01001db657b3ed7d618dfd1078f2dde580,16,2,3,16198,,,0,"Adding volume backend commands to volume v3

Task: 46959
Story: 2010454
Change-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/87/865987/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,992ff8345fe765ceaf6c5839f56cd26251a66357,ipo/2010454, volume_backend_capability_show = openstackclient.volume.v2.volume_backend:ShowCapability volume_backend_pool_list = openstackclient.volume.v2.volume_backend:ListPool ,,3,0
openstack%2Ftripleo-heat-templates~865935,openstack/tripleo-heat-templates,stable/wallaby,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-29 03:41:12.000000000,2022-11-29 22:52:41.000000000,2022-11-29 22:52:41.000000000,"[{'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 03:41:12.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fc9478a863980e4448434f413ff3e878ccf04ab', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nConflicts:\n\tdeployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)\n(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)\n""}]",0,865935,3fc9478a863980e4448434f413ff3e878ccf04ab,13,7,1,9816,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Conflicts:
	deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)
(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/865935/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,3fc9478a863980e4448434f413ff3e878ccf04ab,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fnova~858129,openstack/nova,master,I4218fb39ce80800be8c95da7132b3b74226ad10a,extend_volume of libvirt/volume/fc should not use device_path,MERGED,2022-09-16 12:44:00.000000000,2022-11-29 22:04:04.000000000,2022-11-29 22:02:15.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-16 12:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fb7fdb8351afd96cfc4a224ddf9585857cb2b72', 'message': ""extend_volume of libvirt/volume/fc should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1989894\nChange-Id: I4218fb39ce80800be8c95da7132b3b74226ad10a\n""}, {'number': 2, 'created': '2022-09-16 13:05:11.000000000', 'files': ['nova/virt/libvirt/volume/fibrechannel.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9fa785fa809d6ffbb93dc4eec0c1b4955bfec20', 'message': ""extend_volume of libvirt/volume/fc should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1989894\nChange-Id: I4218fb39ce80800be8c95da7132b3b74226ad10a\n""}]",8,858129,f9fa785fa809d6ffbb93dc4eec0c1b4955bfec20,55,7,2,20733,,,0,"extend_volume of libvirt/volume/fc should not use device_path

The connection_info['data']['device_path'] field is not always
available. In cases that it was not available, it would cause
the debug code to raise a KeyError instead of proceeding.

Other similar debug messages in the same file do not include
device_path. As a simple fix, just drop the device_path from
the log.

Closes-Bug: #1989894
Change-Id: I4218fb39ce80800be8c95da7132b3b74226ad10a
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/858129/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/fibrechannel.py'],1,8fb7fdb8351afd96cfc4a224ddf9585857cb2b72,lp_1989894,," connection_info['data']['device_path'],",0,1
openstack%2Frequirements~864899,openstack/requirements,master,I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7,update constraint for neutron-lib to new release 3.2.0,MERGED,2022-11-17 13:33:54.000000000,2022-11-29 22:03:14.000000000,2022-11-29 22:02:10.000000000,"[{'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32238}, {'_account_id': 33607}]","[{'number': 1, 'created': '2022-11-17 13:33:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/37f003c28c59e534d9a1047f4af5f58d23ae3db8', 'message': 'update constraint for neutron-lib to new release 3.2.0\n\nmeta: version: 3.2.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: Ie318b4a9f6ae9561c514c8b2d9d84f4dd1d5d677\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7\n'}]",5,864899,37f003c28c59e534d9a1047f4af5f58d23ae3db8,26,6,1,11131,,,0,"update constraint for neutron-lib to new release 3.2.0

meta: version: 3.2.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: Ie318b4a9f6ae9561c514c8b2d9d84f4dd1d5d677
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/864899/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,37f003c28c59e534d9a1047f4af5f58d23ae3db8,new-release,neutron-lib===3.2.0,neutron-lib===3.1.0,1,1
openstack%2Fnova~855664,openstack/nova,master,Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,Don't provide MTU value in metadata service if DHCP is enabled,MERGED,2022-09-02 14:02:19.000000000,2022-11-29 22:03:09.000000000,2022-11-29 22:02:04.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-02 14:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8f82f03e25d09dd8b25f67cb4643c3530f59560', 'message': 'WIP Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}, {'number': 2, 'created': '2022-09-07 08:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f453381cc937b8d0d9978de5254eb89eee1f0dc', 'message': 'WIP Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}, {'number': 3, 'created': '2022-10-21 09:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db933a78051bc23f8e57ba5a7c21eb2c74e3bcc1', 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}, {'number': 4, 'created': '2022-11-29 15:12:24.000000000', 'files': ['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bdc79af30151f683c0f462bc6c69da30ebcbcf9', 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}]",23,855664,6bdc79af30151f683c0f462bc6c69da30ebcbcf9,45,4,4,11975,,,0,"Don't provide MTU value in metadata service if DHCP is enabled

For networks with subnets with enabled DHCP service don't provide
mtu value in the metadata. That way cloud-init will not configure it
""statically"" in e.g. netplan's config file and guest OS will use MTU
value provided by the DHCP service.


Closes-Bug: #1899487
Change-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/855664/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/netutils.py'],1,b8f82f03e25d09dd8b25f67cb4643c3530f59560,bug/1899487,"from oslo_log import log as logging LOG = logging.getLogger(__name__) LOG.error(""SK; subnet_v4: %s"", subnet_v4) LOG.error(""SK; subnet_v6: %s"", subnet_v6) LOG.error(""SK; looking for ethlink for vif: %s"", vif) LOG.error(""SK; link found: %s"", link) 'mtu': _get_link_mtu(vif),def _get_link_mtu(vif): for subnet in vif['network']['subnets']: if subnet['meta'].get('dhcp_server'): return None return vif['network']['meta'].get('mtu') "," 'mtu': vif['network']['meta'].get('mtu'),",14,1
openstack%2Fmanila~852094,openstack/manila,stable/yoga,Ie49dbe4633a34d1832f0dedb658d83ec74d351df,Fix reference to deprecated quota_driver option,MERGED,2022-08-04 17:21:06.000000000,2022-11-29 21:57:05.000000000,2022-11-29 21:55:13.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-08-04 17:21:06.000000000', 'files': ['releasenotes/notes/bug-1983125-cb9118c3fa26a6f2.yaml', 'manila/quota.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e4c8c723340dcb76ad508295cd22554d0cbe5f38', 'message': 'Fix reference to deprecated quota_driver option\n\nThe commit 76cfc9405ea8b318e8b1c589fa245f86a5827b71 moved all quota_*\noptions to the separate quota section but the commit missed one usage\nof the old quota_driver option, and the remaining usage causes\nthe following warning warning to appear repeatedly.\n\nConfig option None.quota_driver is deprecated.\nUse option quota.driver instead.\n\nThis replaces the remaining usage to get rid of that warning.\n\nRelated-Bug: #1934025\nCloses-Bug: #1983125\nChange-Id: Ie49dbe4633a34d1832f0dedb658d83ec74d351df\n(cherry picked from commit 68a5e93ff9ba00b58804ad8b9d12d48cdc25802f)\n'}]",2,852094,e4c8c723340dcb76ad508295cd22554d0cbe5f38,11,3,1,16643,,,0,"Fix reference to deprecated quota_driver option

The commit 76cfc9405ea8b318e8b1c589fa245f86a5827b71 moved all quota_*
options to the separate quota section but the commit missed one usage
of the old quota_driver option, and the remaining usage causes
the following warning warning to appear repeatedly.

Config option None.quota_driver is deprecated.
Use option quota.driver instead.

This replaces the remaining usage to get rid of that warning.

Related-Bug: #1934025
Closes-Bug: #1983125
Change-Id: Ie49dbe4633a34d1832f0dedb658d83ec74d351df
(cherry picked from commit 68a5e93ff9ba00b58804ad8b9d12d48cdc25802f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/94/852094/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1983125-cb9118c3fa26a6f2.yaml', 'manila/quota.py']",2,e4c8c723340dcb76ad508295cd22554d0cbe5f38,bug/1983125, self._driver_cls = CONF.quota.driver, self._driver_cls = CONF.quota_driver,7,1
openstack%2Fmanila~862966,openstack/manila,stable/yoga,Ibd05406b4af7c99795f1bca2d4989790430b616b,Set configured_ip_versions fact in cephfs driver,MERGED,2022-10-28 23:34:05.000000000,2022-11-29 21:56:13.000000000,2022-11-29 21:55:11.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-28 23:34:05.000000000', 'files': ['releasenotes/notes/bug-1991776-cephfs-configured-ip-versions-fd87976fdb848e8c.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f2111d5414ce45dc1189c34d10718147bcd783b6', 'message': 'Set configured_ip_versions fact in cephfs driver\n\nWithout it, we lose the memoization optimization\nin the ""get_configured_ip_versions"" method, and\ncause a warning log to be emitted one too many\ntimes than desired.\n\nChange-Id: Ibd05406b4af7c99795f1bca2d4989790430b616b\nCloses-Bug: #1991776\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit bdfafcdada6c4912c7bc93c59c9690a18296dc8a)\n(cherry picked from commit 5f9c037a3e929a90ced92f34eaaef32a9ebf2aac)\n'}]",2,862966,f2111d5414ce45dc1189c34d10718147bcd783b6,9,4,1,16643,,,0,"Set configured_ip_versions fact in cephfs driver

Without it, we lose the memoization optimization
in the ""get_configured_ip_versions"" method, and
cause a warning log to be emitted one too many
times than desired.

Change-Id: Ibd05406b4af7c99795f1bca2d4989790430b616b
Closes-Bug: #1991776
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit bdfafcdada6c4912c7bc93c59c9690a18296dc8a)
(cherry picked from commit 5f9c037a3e929a90ced92f34eaaef32a9ebf2aac)
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/862966/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1991776-cephfs-configured-ip-versions-fd87976fdb848e8c.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py']",3,f2111d5414ce45dc1189c34d10718147bcd783b6,bug/1991776," self.assertEqual(set(configured_ip_version), helper.configured_ip_versions)",,9,1
openstack%2Fkolla-ansible~861774,openstack/kolla-ansible,master,I638a41953332dbd1210031b3318b6c7ab8f867cb,RBD: Don't query Ceph on stats for exclusive pools,ABANDONED,2022-10-18 16:00:42.000000000,2022-11-29 21:54:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-18 16:00:42.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae29fab49a1f4ac71461be67ea878ad4c8e5d309', 'message': 'RBD: Don\'t query Ceph on stats for exclusive pools\n\nCollecting stats for provisioned_capacity_gb takes a long time since\ncinder have to query each individual image for the provisioned size.\nIf the pool is used just for Cinder and/or are willing to accept\na potential deviation in Cinder stats we could just not retrieve this\ninformation and calculate this based on the DB information for the\nvolumes.\n\nThis patch adds configuration option\n`cinder_backend_defaults_rbd_exclusive_cinder_pool` that\nallows us to enable/disable the size collection and thus improve the stats\nreporting speed.\n\nThis configuration option is set to ""true"" in kolla as it is also in\ncinder. The reason why this patch is explicitly defining this value is\nthat this option was changed in mid-cycle.\n\nThis option will be rendered in [backend_defaults] as most of\nkolla openstack deployments use ceph as dedicated storage, moreover\nthis is default value and can be overriden via config override.\n\nCloses-Bug: #1993321\nChange-Id: I638a41953332dbd1210031b3318b6c7ab8f867cb\n'}]",7,861774,ae29fab49a1f4ac71461be67ea878ad4c8e5d309,11,2,1,27339,,,0,"RBD: Don't query Ceph on stats for exclusive pools

Collecting stats for provisioned_capacity_gb takes a long time since
cinder have to query each individual image for the provisioned size.
If the pool is used just for Cinder and/or are willing to accept
a potential deviation in Cinder stats we could just not retrieve this
information and calculate this based on the DB information for the
volumes.

This patch adds configuration option
`cinder_backend_defaults_rbd_exclusive_cinder_pool` that
allows us to enable/disable the size collection and thus improve the stats
reporting speed.

This configuration option is set to ""true"" in kolla as it is also in
cinder. The reason why this patch is explicitly defining this value is
that this option was changed in mid-cycle.

This option will be rendered in [backend_defaults] as most of
kolla openstack deployments use ceph as dedicated storage, moreover
this is default value and can be overriden via config override.

Closes-Bug: #1993321
Change-Id: I638a41953332dbd1210031b3318b6c7ab8f867cb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/861774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2']",2,ae29fab49a1f4ac71461be67ea878ad4c8e5d309,,[backend_defaults] rbd_exclusive_cinder_pool = {{ cinder_backend_defaults_rbd_exclusive_cinder_pool | bool }} ,,5,0
openstack%2Fneutron~866038,openstack/neutron,master,Ic52107fdf96e2db7c26cc9a023843430775cb775,"Do not mock the hash method for testing ""get_vlan_device_name""",MERGED,2022-11-29 15:51:15.000000000,2022-11-29 21:53:46.000000000,2022-11-29 21:52:28.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:51:15.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/macvtap/test_macvtap_common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/895f818cb3052d055bef9bbe2efc5c71cd0626cf', 'message': 'Do not mock the hash method for testing ""get_vlan_device_name""\n\nInstead of this, use the same algorith used by the method to build\nthe device name.\n\nCloses-Bug: #1998228\nChange-Id: Ic52107fdf96e2db7c26cc9a023843430775cb775\n'}]",1,866038,895f818cb3052d055bef9bbe2efc5c71cd0626cf,12,7,1,16688,,,0,"Do not mock the hash method for testing ""get_vlan_device_name""

Instead of this, use the same algorith used by the method to build
the device name.

Closes-Bug: #1998228
Change-Id: Ic52107fdf96e2db7c26cc9a023843430775cb775
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/866038/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/macvtap/test_macvtap_common.py'],1,895f818cb3052d055bef9bbe2efc5c71cd0626cf,bug/1998228," from oslo_utils import encodeutils def _hash_prefix(self, value): hashed_name = hashlib.new('sha1', usedforsecurity=False) hashed_name.update(encodeutils.to_utf8(value)) return hashed_name.hexdigest()[0:6] def test_get_vlan_device_name(self): self.assertEqual('11ch' + self._hash_prefix('11charrrrrr') + '.1', self.assertEqual('14ch' + self._hash_prefix('14charrrrrrrrr') + '.1', self.assertEqual( '14ch' + self._hash_prefix('14charrrrrrrrr') + '.1111', m_common.get_vlan_device_name('14charrrrrrrrr', ""1111""))","from unittest import mockMOCKED_HASH = ""MOCKEDHASH"" class MockSHA(object): def hexdigest(self): return MOCKED_HASH @mock.patch.object(hashlib, 'sha1', return_value=MockSHA()) def test_get_vlan_device_name(self, mocked_hash): hash_used = MOCKED_HASH[0:6] self.assertEqual('11ch' + hash_used + '.1', self.assertEqual('14ch' + hash_used + '.1', self.assertEqual('14ch' + hash_used + '.1111', m_common.get_vlan_device_name('14charrrrrrrrr', ""1111""))",14,16
openstack%2Fpython-openstackclient~859969,openstack/python-openstackclient,stable/yoga,I6842dabd7acb4e3a78f894e55e616625757eb6a4,compute: Require image when rebuilding a volume-backed server,MERGED,2022-09-30 10:32:28.000000000,2022-11-29 21:53:39.000000000,2022-11-29 21:52:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-30 10:32:28.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/53d8667b4bdd749177f39473674a917c0ad5df22', 'message': ""compute: Require image when rebuilding a volume-backed server\n\nA volume-backed server will have no image attribute (or rather the image\nproperty will be set to the empty string). As such, if you want to try\nrebuild you will need to specify an image [*]. Enforce this.\n\n[*] Before microversion 2.93, this must be the same image. However, we\ndon't touch on that here. This will be addressed later.\n\nChange-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4\nStory: 2010297\nTask: 46290\n(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)\n(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)\n""}]",2,859969,53d8667b4bdd749177f39473674a917c0ad5df22,14,3,1,15334,,,0,"compute: Require image when rebuilding a volume-backed server

A volume-backed server will have no image attribute (or rather the image
property will be set to the empty string). As such, if you want to try
rebuild you will need to specify an image [*]. Enforce this.

[*] Before microversion 2.93, this must be the same image. However, we
don't touch on that here. This will be addressed later.

Change-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4
Story: 2010297
Task: 46290
(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)
(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/69/859969/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,53d8667b4bdd749177f39473674a917c0ad5df22,story/2010297," # If parsed_args.image is not set and if the instance is image backed, # default to the currently used one. If the instance is volume backed, # it is not trivial to fetch the current image and probably better # to error out in this case and ask user to supply the image. if not server.image: msg = _( 'The --image option is required when rebuilding a ' 'volume-backed server' ) raise exceptions.CommandError(msg) image = image_client.get_image(server.image['id'])"," # If parsed_args.image is not set, default to the currently used one. image_id = server.to_dict().get('image', {}).get('id') image = image_client.get_image(image_id)",30,3
openstack%2Fpython-openstackclient~859971,openstack/python-openstackclient,stable/wallaby,I6842dabd7acb4e3a78f894e55e616625757eb6a4,compute: Require image when rebuilding a volume-backed server,MERGED,2022-09-30 10:34:02.000000000,2022-11-29 21:53:39.000000000,2022-11-29 21:52:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-30 10:34:02.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ad924068f89439fbf2fbaaf394280eeeefd6c3e9', 'message': ""compute: Require image when rebuilding a volume-backed server\n\nA volume-backed server will have no image attribute (or rather the image\nproperty will be set to the empty string). As such, if you want to try\nrebuild you will need to specify an image [*]. Enforce this.\n\n[*] Before microversion 2.93, this must be the same image. However, we\ndon't touch on that here. This will be addressed later.\n\nChange-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4\nStory: 2010297\nTask: 46290\n(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)\n(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)\n(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)\n(cherry picked from commit db417598ed958b3f1877906d5d1bc7c5896ea168)\n""}]",2,859971,ad924068f89439fbf2fbaaf394280eeeefd6c3e9,14,3,1,15334,,,0,"compute: Require image when rebuilding a volume-backed server

A volume-backed server will have no image attribute (or rather the image
property will be set to the empty string). As such, if you want to try
rebuild you will need to specify an image [*]. Enforce this.

[*] Before microversion 2.93, this must be the same image. However, we
don't touch on that here. This will be addressed later.

Change-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4
Story: 2010297
Task: 46290
(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)
(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)
(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)
(cherry picked from commit db417598ed958b3f1877906d5d1bc7c5896ea168)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/71/859971/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,ad924068f89439fbf2fbaaf394280eeeefd6c3e9,story/2010297," # If parsed_args.image is not set and if the instance is image backed, # default to the currently used one. If the instance is volume backed, # it is not trivial to fetch the current image and probably better # to error out in this case and ask user to supply the image. if not server.image: msg = _( 'The --image option is required when rebuilding a ' 'volume-backed server' ) raise exceptions.CommandError(msg) image = image_client.get_image(server.image['id'])"," # If parsed_args.image is not set, default to the currently used one. image_id = server.to_dict().get('image', {}).get('id') image = image_client.get_image(image_id)",30,3
openstack%2Fnova~838976,openstack/nova,master,Ifed0fa16053228990a6a8df8d4c666521db7e329,Handle mdev devices in libvirt 7.7+,MERGED,2022-04-22 02:54:26.000000000,2022-11-29 21:53:28.000000000,2022-11-29 21:52:22.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8992}, {'_account_id': 9708}, {'_account_id': 10910}, {'_account_id': 11604}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-22 02:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b142b53fbac3f0776e94718cba38539b26c9c42', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 2, 'created': '2022-07-25 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6024bc80fb1f4b41d32829830dbf3e6dea9f97ca', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 3, 'created': '2022-07-26 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5994693b3811f6762f5a174259ae2cf93fe26ce', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 4, 'created': '2022-08-02 08:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caaf4e85d1d2f1c643b8ee2bceac7ddae43a04f5', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 5, 'created': '2022-11-14 15:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4b0f0460c1ac9475921975d13e7a48fe756ebc8', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 6, 'created': '2022-11-16 17:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/880c75f76f3999ee39d1498f75ca467befeec2b9', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 7, 'created': '2022-11-18 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f791649018db94d5e1caba162059f9d237a2a804', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 8, 'created': '2022-11-18 15:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fab5370bd0f6ebe4ac566fd6b1b7ee1d82f8b01', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 9, 'created': '2022-11-18 15:16:51.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1951656.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a28b907c4f0dbba6e141a8fbea807e6cb0438977', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}]",72,838976,a28b907c4f0dbba6e141a8fbea807e6cb0438977,100,9,9,8992,,,0,"Handle mdev devices in libvirt 7.7+

Libvirt 7.7 changed the mdev device naming to include the parent PCI
device when listing node devices. The domain, however, will still only
see the UUID and not see the parent PCI device. Changing the parsing to
simply drop the PCI identifier is not enough as the device cannot be
found when attempting to lookup the new ID.

Modify the Libvirt Driver's _get_mediated_device_information to tolerate
different formats of the mdev name. This first uses the legacy behavior
by trying to lookup the device name that is passed in (typically
mdev_<uuid> format) and if that is not found, iterates the list of mdev
node devices until the right UUID is found and selects that one.

Note that the lookup of the mdev device by UUID are needed in order
to keep the ability to recreate assigned mediated devices on a reboot of
the compute node.

Additionally, the libvirt utils parsing method mdev_name2uuid, has
been updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>
formats.

Closes-Bug: 1951656

Change-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/838976/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/utils.py']",4,2b142b53fbac3f0776e94718cba38539b26c9c42,bug/1951656-2," mdev_uuid = mdev_name[5:].replace('_', '-') if len(mdev_uuid) > 36: mdev_uuid = mdev_uuid[:36] return str(uuid.UUID(mdev_uuid))"," return str(uuid.UUID(mdev_name[5:].replace('_', '-')))",73,3
openstack%2Fopenstack-ansible-os_octavia~864819,openstack/openstack-ansible-os_octavia,master,I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394,Adding octavia_provider_network_mtu-parameter parameter,MERGED,2022-11-21 17:32:19.000000000,2022-11-29 21:31:59.000000000,2022-11-29 21:29:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-21 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/968180fa638b8a534c489147806a2850571ae5b8', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}, {'number': 2, 'created': '2022-11-21 17:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/3942f4b2a9a9204079f4d9f9f3cae477b118a282', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}, {'number': 3, 'created': '2022-11-24 17:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e563ca0c68a9da4c9be6834b8f2a3c80ca09fcc3', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}, {'number': 4, 'created': '2022-11-25 16:32:24.000000000', 'files': ['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/octavia_provider_network_mtu-parameter-62978008dfe0882e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2f1a3b4db1664cd9492bd32d1bad1793d5e61368', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}]",3,864819,2f1a3b4db1664cd9492bd32d1bad1793d5e61368,17,3,4,14552,,,0,"Adding octavia_provider_network_mtu-parameter parameter

The `octavia_provider_network_mtu-parameter` defaults to 1500
to not accidentially use `global_physnet_mtu` on deployment with
large MTU settings

Change-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/19/864819/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/octavia_provider_network_mtu-parameter-62978008dfe0882e.yaml']",2,968180fa638b8a534c489147806a2850571ae5b8,,--- features: - | A new parameter `octavia_provider_network_mtu` is added to set the MTU to 1500 by default. This is important for deployments which allow jumbo frames while setting the management to the standard Ethernet MTU. The MTU can be still changed at any point during the initial octavia deployment or with the `openstack network set --mtu` command line. upgrade: - | A new parameter `octavia_provider_network_mtu` is added to set the MTU to 1500 by default. This is important for deployments which allow jumbo frames while setting the management to the standard Ethernet MTU. The MTU can be still changed at any point during the initial octavia deployment or with the `openstack network set --mtu` command line. ,,18,0
openstack%2Fopenstack-ansible-os_octavia~855074,openstack/openstack-ansible-os_octavia,master,Ic22ec379983e43aa5f2b55fd4543b4aa70762354,Adopt output structure to new collections version,MERGED,2022-08-29 18:14:52.000000000,2022-11-29 21:30:58.000000000,2022-11-29 21:29:56.000000000,"[{'_account_id': 14288}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-08-29 18:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a2193d6e34357b19915f80e86e3cac67d645571b', 'message': 'Change networks_info output structure\n\nWith commit [1] to collection output structure of networks_info module\nhas been changed. With that we adpot to the new format.\n\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45\n\nChange-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354\n'}, {'number': 2, 'created': '2022-11-24 17:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7930f234e88fe7ab709455b76d39d53033236f30', 'message': 'Adopt output structure to new collections version\n\nWith commit [1] to collection output structure of networks_info module\nhas been changed. With that we adpot to the new format.\n\nReturn values for keypair have also changed\n\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354\n'}, {'number': 3, 'created': '2022-11-25 11:57:50.000000000', 'files': ['tasks/octavia_post_install.yml', 'tasks/octavia_keypair.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c31bbc215c2f69f9738350b9e9a592b728d8e12b', 'message': 'Adopt output structure to new collections version\n\nWith commit [1] to collection output structure of networks_info module\nhas been changed. With that we adpot to the new format.\n\nReturn values for keypair have also changed\n\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354\n'}]",0,855074,c31bbc215c2f69f9738350b9e9a592b728d8e12b,13,4,3,28619,,,0,"Adopt output structure to new collections version

With commit [1] to collection output structure of networks_info module
has been changed. With that we adpot to the new format.

Return values for keypair have also changed

[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553
Change-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/74/855074/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_post_install.yml'],1,a2193d6e34357b19915f80e86e3cac67d645571b,," octavia_neutron_management_network_uuid: ""{{ get_net_info.networks[0].id }}"""," octavia_neutron_management_network_uuid: ""{{ get_net_info.openstack_networks[0].id }}""",1,1
openstack%2Fcharm-interface-ceph-client~865917,openstack/charm-interface-ceph-client,master,Ie2e6d8ec460311fa4e63335f322aaae07dca5842,implement reactive.Endpoint.manage_flags to clear flags on departed hook,MERGED,2022-11-28 22:06:25.000000000,2022-11-29 21:29:51.000000000,2022-11-29 21:29:51.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 22:06:25.000000000', 'files': ['unit_tests/test_requires.py', 'src/lib/base_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/d9f3b53ca0cf30e47347a68beab59da5c03ce4c7', 'message': 'implement reactive.Endpoint.manage_flags to clear flags on departed hook\n\nChange-Id: Ie2e6d8ec460311fa4e63335f322aaae07dca5842\n'}]",2,865917,d9f3b53ca0cf30e47347a68beab59da5c03ce4c7,7,2,1,31420,,,0,"implement reactive.Endpoint.manage_flags to clear flags on departed hook

Change-Id: Ie2e6d8ec460311fa4e63335f322aaae07dca5842
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/17/865917/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_requires.py', 'src/lib/base_requires.py']",2,d9f3b53ca0cf30e47347a68beab59da5c03ce4c7,clear_flags_after_departed," def manage_flags(self): """""" Set states corresponding to the data we have. """""" reactive.toggle_flag( self.expand_name(""{endpoint_name}.connected""), self.is_joined ) if not self.is_joined: self.broken() ",,20,0
openstack%2Ftripleo-heat-templates~863142,openstack/tripleo-heat-templates,master,Id093613f9d410eb3fe5564a724c0f75275eeb4e8,Deploy separate glance-api services for OSSN-0090,MERGED,2022-11-01 14:44:49.000000000,2022-11-29 21:26:54.000000000,2022-11-28 17:09:09.000000000,"[{'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-01 14:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e052c0561902bc1252abb2678fc94aa07217917', 'message': 'WIP: Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public and\n  Admin keystone endpoints.\n- An ""internal facing only"" service, accessible via the Internal\n  keystone endpoint.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 2, 'created': '2022-11-01 18:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d22735ddc76080c9914a488b74403df61571db5', 'message': 'WIP: Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public and\n  Admin keystone endpoints.\n- An ""internal facing only"" service, accessible via the Internal\n  keystone endpoint.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 3, 'created': '2022-11-08 15:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93d5ebab53c3869dd6887b79756ac0a3861f2bf3', 'message': 'Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public and\n  Admin keystone endpoints.\n- An ""internal facing only"" service, accessible via the Internal\n  keystone endpoint.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 4, 'created': '2022-11-21 20:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5a423aeab5f7fd591948c17249304e10abaabe4', 'message': 'Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public\n  keystone endpoint.\n- An ""internal facing only"" service, accessible via the Admin and\n  Internal keystone endpoints.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 5, 'created': '2022-11-24 18:07:50.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'roles/Controller.yaml', 'roles/ControllerOpenstack.yaml', 'deployment/glance/glance-api-internal-container-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'sample-env-generator/ssl.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data_standalone.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/glance-internal-service-86274f56712ffaac.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d60969cb55344e9004721dee04ed1d685d95a39f', 'message': 'Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public\n  keystone endpoint.\n- An ""internal facing only"" service, accessible via the Admin and\n  Internal keystone endpoints.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}]",40,863142,d60969cb55344e9004721dee04ed1d685d95a39f,48,5,5,21129,,,0,"Deploy separate glance-api services for OSSN-0090

This patch adopts the recommendation outlined in  OSSN-0090 [1], in
which two instances of the glance-api service are deployed:
- A ""user facing"" glance-api service, accessible via the Public
  keystone endpoint.
- An ""internal facing only"" service, accessible via the Admin and
  Internal keystone endpoints.

The user facing instance is configured so it does not report any image
location information. This is achieved by configuring glance-api.conf
with the show_image_direct_url and show_multiple_locations set to False.

The internal service operates on a separate TCP port (defaults to 9293)
with its own glance-api.conf that configures show_image_direct_url and
show_multiple_locations set to True.

In order for cinder and nova to have access to the image location data,
both services are configured to access glance via the internal service.

[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090

Closes-Bug: #1822540
Depends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959
Depends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0
Change-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/863142/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'roles/Controller.yaml', 'roles/ControllerOpenstack.yaml', 'deployment/glance/glance-api-internal-container-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'sample-env-generator/ssl.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/glance-internal-service-86274f56712ffaac.yaml', 'roles/ControllerSriov.yaml']",25,3e052c0561902bc1252abb2678fc94aa07217917,glance-api-internal, - OS::TripleO::Services::GlanceApiInternal,,274,55
openstack%2Fovn-octavia-provider~865906,openstack/ovn-octavia-provider,stable/zed,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:01.000000000,2022-11-29 21:13:21.000000000,2022-11-29 21:12:22.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:01.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fe3b69206f7d3b31a7149d2051451ddd6fdcc45a', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",3,865906,fe3b69206f7d3b31a7149d2051451ddd6fdcc45a,17,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/06/865906/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,fe3b69206f7d3b31a7149d2051451ddd6fdcc45a,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fmanila~863283,openstack/manila,stable/zed,Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52,Raise an exc if no VIP/backend is available,MERGED,2022-11-02 12:13:09.000000000,2022-11-29 21:06:08.000000000,2022-11-29 21:05:08.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-11-02 12:13:09.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1990150-cephadm-cephnfs-backend-fails-start-raise-exc-7459302bf662fdd6.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/65d447b7b1818255657868974208c15511cbdd72', 'message': 'Raise an exc if no VIP/backend is available\n\nWhen deploying Manila CephFS NFS with cephadm,\nthe manila share service fails to start with the error\n""Backend cephfsnfs supports neither IPv4 nor IPv6"".\n\nThis happens because the NFS Ganesha daemon fails\nto start for some reason and therefore the driver never\ngets the location of the NFS Ganesha service\nthat will be used as the backend.\n\nWe should raise an error in this case with more information\nabout the failure.\n\nThis change adds this to the NFSClusterProtocol helper.\n\nCloses-Bug: #1990150\n\nChange-Id: Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52\n(cherry picked from commit 8276fa3c88f17744d65f53124b91b26c4c62d2d0)\n'}]",1,863283,65d447b7b1818255657868974208c15511cbdd72,11,4,1,29474,,,0,"Raise an exc if no VIP/backend is available

When deploying Manila CephFS NFS with cephadm,
the manila share service fails to start with the error
""Backend cephfsnfs supports neither IPv4 nor IPv6"".

This happens because the NFS Ganesha daemon fails
to start for some reason and therefore the driver never
gets the location of the NFS Ganesha service
that will be used as the backend.

We should raise an error in this case with more information
about the failure.

This change adds this to the NFSClusterProtocol helper.

Closes-Bug: #1990150

Change-Id: Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52
(cherry picked from commit 8276fa3c88f17744d65f53124b91b26c4c62d2d0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/863283/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1990150-cephadm-cephnfs-backend-fails-start-raise-exc-7459302bf662fdd6.yaml']",3,65d447b7b1818255657868974208c15511cbdd72,bug/1990150,"--- fixes: - | When deploying Manila CephFS NFS with cephadm, the manila share service fails to start with the error ""Backend cephfsnfs supports neither IPv4 nor IPv6"". This happens because the NFS Ganesha daemon fails to start for some reason, and therefore the driver never gets the location of the NFS Ganesha service that will be used as the backend. We rely on the operator to make sure the CephFS NFS cluster is available when initializing the driver. With this fix in place, we raise an exception to explicitly notify the operator and allow them to take further action. ",,40,0
openstack%2Fpython-openstackclient~862696,openstack/python-openstackclient,master,If940ed5cce6c5ab4193ab1494738149370da9aad,Improve `server dump create` helptext,MERGED,2022-10-26 13:50:53.000000000,2022-11-29 20:53:25.000000000,2022-11-29 20:52:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-26 13:50:53.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e76609650fd322cca6eb899aa6125c0450727b7c', 'message': 'Improve `server dump create` helptext\n\nThe `server dump create` command instructs Nova to trigger a crash\ndump in the guest OS. Assuming the guest supports this, the resulting\ndump file will be located in the guest, in a location dependent on the\nguest OS. Explain all that in the helptext.\n\nStory: 2010384\n\nChange-Id: If940ed5cce6c5ab4193ab1494738149370da9aad\n'}]",0,862696,e76609650fd322cca6eb899aa6125c0450727b7c,7,2,1,8864,,,0,"Improve `server dump create` helptext

The `server dump create` command instructs Nova to trigger a crash
dump in the guest OS. Assuming the guest supports this, the resulting
dump file will be located in the guest, in a location dependent on the
guest OS. Explain all that in the helptext.

Story: 2010384

Change-Id: If940ed5cce6c5ab4193ab1494738149370da9aad
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/862696/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,e76609650fd322cca6eb899aa6125c0450727b7c,," memory, and also crash the server(s). This is contingent on guest operating system support, and the location of the dump file inside the guest will depend on the exact guest operating system."," memory, and also crash the server(s). OSC sees the dump file (server dump) as a kind of resource.",3,2
openstack%2Fpython-openstackclient~863949,openstack/python-openstackclient,master,I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be,Add note about microversion 2.87 in server rescue help,MERGED,2022-11-07 23:05:01.000000000,2022-11-29 20:51:46.000000000,2022-11-29 20:49:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 23:05:01.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d7aa53b9a2bb1969abee90b9d0a547230886aa0f', 'message': 'Add note about microversion 2.87 in server rescue help\n\nThe ability to rescue a volume-backed server was added in compute\nmicroversion 2.87 [1].\n\nThis adds a note to the command help to improve user experience.\n\n[1] https://docs.openstack.org/nova/latest/user/rescue.html\n\nChange-Id: I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be\n'}]",0,863949,d7aa53b9a2bb1969abee90b9d0a547230886aa0f,7,2,1,4690,,,0,"Add note about microversion 2.87 in server rescue help

The ability to rescue a volume-backed server was added in compute
microversion 2.87 [1].

This adds a note to the command help to improve user experience.

[1] https://docs.openstack.org/nova/latest/user/rescue.html

Change-Id: I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/863949/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,d7aa53b9a2bb1969abee90b9d0a547230886aa0f,server-rescue-help," _description = _( ""Put server in rescue mode. "" ""Specify ``--os-compute-api-version 2.87`` or higher to rescue a "" ""server booted from a volume."" )"," _description = _(""Put server in rescue mode"")",5,1
openstack%2Fmanila~862720,openstack/manila,stable/yoga,Ic17ac43160092445ec11ada41c0eb6eaf525b6d0,Allow setting endpoint_type for glance,MERGED,2022-10-26 21:38:17.000000000,2022-11-29 20:51:04.000000000,2022-11-29 20:49:55.000000000,"[{'_account_id': 9542}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-26 21:38:17.000000000', 'files': ['manila/tests/image/test_image.py', 'manila/image/glance.py', 'releasenotes/notes/bug-1991396-add-glance-endpoint-type-151777f255e423a3.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/0994740ab9746d494a89f98cb99278477d30c040', 'message': 'Allow setting endpoint_type for glance\n\ncurrently Manila always uses public endpoint of Glance, which\nmay not be possible in certain deployment scenarios.\n\nChange-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0\nCloses-Bug: #1991396\n(cherry picked from commit 111104b9a2fd54de2559041249bdb7a10c64664c)\n(cherry picked from commit 440881392ce610a0d3d73fb5ce9ac423cfc60f59)\n'}]",2,862720,0994740ab9746d494a89f98cb99278477d30c040,12,5,1,16643,,,0,"Allow setting endpoint_type for glance

currently Manila always uses public endpoint of Glance, which
may not be possible in certain deployment scenarios.

Change-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0
Closes-Bug: #1991396
(cherry picked from commit 111104b9a2fd54de2559041249bdb7a10c64664c)
(cherry picked from commit 440881392ce610a0d3d73fb5ce9ac423cfc60f59)
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/862720/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/image/test_image.py', 'manila/image/glance.py', 'releasenotes/notes/bug-1991396-add-glance-endpoint-type-151777f255e423a3.yaml']",3,0994740ab9746d494a89f98cb99278477d30c040,bug/1991396,--- fixes: - | Deployers now can specify ``[glance]endpoint_type`` configuration option (defaults to ``publicURL`` for backward compatibility) so that Manila uses Glance endpoint other than the public one (see `bug 1991396 <https://bugs.launchpad.net/manila/+bug/1991396>`_). ,,15,0
openstack%2Fpython-openstackclient~865283,openstack/python-openstackclient,master,Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2,Add test for creating volume from source,MERGED,2022-11-22 14:32:10.000000000,2022-11-29 20:50:57.000000000,2022-11-29 20:49:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 14:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d8cac265f2053fa320096ed9073c77996617a20a', 'message': 'Add test for creating volume from source\n\nThis patch adds a test to create a new volume from source.\nWe also include code changes to pass the right size i.e. either\nsize passed by the user via --size argument or the source volume\nsize. This case is already handled at the API layer[1] but it\nhelps being consistent with passing the right size value as in case\nof creating a volume from snapshot or backup.\n\n[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382\n\nChange-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2\n'}, {'number': 2, 'created': '2022-11-22 15:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ebf614b84a32fda56fa27eff7f15788dc1d52509', 'message': 'Add test for creating volume from source\n\nThis patch adds a test to create a new volume from source.\nWe also include code changes to pass the right size i.e. either\nsize passed by the user via --size argument or the source volume\nsize. This case is already handled at the API layer[1] but it\nhelps being consistent with passing the right size value as in case\nof creating a volume from snapshot or backup.\n\n[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382\n\nChange-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2\n'}, {'number': 3, 'created': '2022-11-23 08:52:21.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4710cbeca6638cc78880f2c4fc22d74aa7bb7c41', 'message': 'Add test for creating volume from source\n\nThis patch adds a test to create a new volume from source.\nWe also include code changes to pass the right size i.e. either\nsize passed by the user via --size argument or the source volume\nsize. This case is already handled at the API layer[1] but it\nhelps being consistent with passing the right size value as in case\nof creating a volume from snapshot or backup.\n\n[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382\n\nChange-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2\n'}]",6,865283,4710cbeca6638cc78880f2c4fc22d74aa7bb7c41,12,2,3,27615,,,0,"Add test for creating volume from source

This patch adds a test to create a new volume from source.
We also include code changes to pass the right size i.e. either
size passed by the user via --size argument or the source volume
size. This case is already handled at the API layer[1] but it
helps being consistent with passing the right size value as in case
of creating a volume from snapshot or backup.

[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382

Change-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/865283/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py']",2,d8cac265f2053fa320096ed9073c77996617a20a,," def test_volume_create_with_source_volume(self): source_vol = ""source_vol"" arglist = [ '--source', self.new_volume.id, source_vol, ] verifylist = [ ('source', self.new_volume.id), ('name', source_vol), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.volumes_mock.get.return_value = self.new_volume # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_once_with( size=self.new_volume.size, snapshot_id=None, name=source_vol, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=self.new_volume.id, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) ",,43,4
openstack%2Fironic~865988,openstack/ironic,master,I0551a9be557378bd0213f045bb3792b3ed489684,benchmark: Create allocations for nodes,NEW,2022-11-29 13:37:11.000000000,2022-11-29 20:37:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 13:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/557d793dfce933377a1cdda16e303566f2f9f8f7', 'message': 'benchmark: Create allocations for nodes\n\nCreate an allocation for each node.\n\nChange-Id: I0551a9be557378bd0213f045bb3792b3ed489684\n'}, {'number': 2, 'created': '2022-11-29 15:03:22.000000000', 'files': ['tools/benchmark/do_not_run_create_benchmark_data.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/096d5a854b4c8b0e94c3f008ae176c8ac9fb2194', 'message': 'benchmark: Create allocations for nodes\n\nCreate an allocation for each node.\n\nChange-Id: I0551a9be557378bd0213f045bb3792b3ed489684\n'}]",1,865988,096d5a854b4c8b0e94c3f008ae176c8ac9fb2194,8,1,2,24245,,,0,"benchmark: Create allocations for nodes

Create an allocation for each node.

Change-Id: I0551a9be557378bd0213f045bb3792b3ed489684
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/865988/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/benchmark/do_not_run_create_benchmark_data.py'],1,557d793dfce933377a1cdda16e303566f2f9f8f7,benchmark,from ironic.objects import allocationdef _create_allocation(new_node): new_alloc = allocation.Allocation() new_alloc.node_id = new_node.id new_alloc.name = new_node.name + '_alloc' new_alloc.resource_class = 'CUSTOM_BAREMETAL' new_alloc.create() return new_alloc new_alloc = _create_allocation(new_node) new_node.update({'allocation_id': new_alloc.id}) new_node.save(),,13,0
openstack%2Foctavia-dashboard~858576,openstack/octavia-dashboard,master,I34cd06054c9eecde8f4938786de1d52dc7c78614,Add ability to create Prometheus listener,ABANDONED,2022-09-20 19:28:33.000000000,2022-11-29 20:21:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-20 19:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/96a5739d120b6e299a481c018811ee4dce784ac3', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 2, 'created': '2022-09-20 19:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/5c938b05dc72911149c9c74263bf43417434f2b1', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 3, 'created': '2022-09-20 20:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/4e48040c42a6d589aef272ae44c0a8bcbe289f96', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 4, 'created': '2022-10-04 18:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/f809af246373738e4db91999ac42cd33fb2cb62d', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 5, 'created': '2022-10-04 19:57:22.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'releasenotes/notes/add-ability-to-create-Prometheus-listener-42c22822637119ca.yaml', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/27c3cc481acc7bc0d49962d0a5cd226a13097542', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}]",5,858576,27c3cc481acc7bc0d49962d0a5cd226a13097542,18,3,5,33408,,,0,"Add ability to create Prometheus listener

This changes allows the user to create a Prometheus listener through Horizon.

Story 2010300
Task 46296

Change-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/76/858576/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'releasenotes/notes/add-ability-to-create-Prometheus-listener-42c22822637119ca.yaml', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.html']",9,96a5739d120b6e299a481c018811ee4dce784ac3,," <div class=""col-xs-12 col-sm-8 col-md-6""> <div class=""form-group""> <label class=""control-label required"" translate>Prometheus</label> <div class=""form-field""> <div class=""btn-group""> <label class=""btn btn-default"" ng-repeat=""option in model.yesNoOptions"" ng-model=""model.spec.loadbalancer.prometheus"" uib-btn-radio=""option.value"">{$ ::option.label $}</label> </div> </div> </div> </div> </div> <div class=""row"" ng-if=""model.spec.loadbalancer.prometheus""> <div class=""col-xs-12 col-sm-8 col-md-6""> <div class=""form-group""> <label translate class=""control-label"" for=""prometheus_port"">Prometheus port</label> <input name=""prometheus_port"" id=""prometheus_port"" type=""number"" class=""form-control"" ng-pattern=""/^\d+$/"" min=""1"" max=""65535"" ng-model=""model.spec.loadbalancer.prometheus_port"" ng-required=""model.spec.loadbalancer.prometheus""> </div> </div>",,88,8
openstack%2Fmanila-tempest-plugin~865376,openstack/manila-tempest-plugin,master,I1f36dfd37f3ba77c2df6341aad6497d9491921be,Wait for snapshot status after revertion,MERGED,2022-11-23 08:51:21.000000000,2022-11-29 20:11:45.000000000,2022-11-29 20:11:45.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-11-23 08:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/10792499799e48836034fd7f9183d710330e7ded', 'message': 'Wait for snapshot status after revertion\n\nSometimes there are failures in snapshot revertion\ntests for the reason that the snapshot is deleted\nin the teardown stage while it\'s still in ""restoring""\nstatus.\nWaiting for snapshot to be in ""available"" status will\navoid this problem.\n\nChange-Id: I1f36dfd37f3ba77c2df6341aad6497d9491921be\n'}, {'number': 2, 'created': '2022-11-24 07:32:13.000000000', 'files': ['manila_tempest_tests/tests/api/test_revert_to_snapshot.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bb087c788126b1aa4e7a50257a9be0528da7fcd7', 'message': 'Wait for snapshot status after revertion\n\nSometimes there are failures in snapshot revertion\ntests for the reason that the snapshot is deleted\nin the teardown stage while it\'s still in ""restoring""\nstatus.\nWaiting for snapshot to be in ""available"" status will\navoid this problem.\n\nChange-Id: I1f36dfd37f3ba77c2df6341aad6497d9491921be\n'}]",9,865376,bb087c788126b1aa4e7a50257a9be0528da7fcd7,16,3,2,19262,,,0,"Wait for snapshot status after revertion

Sometimes there are failures in snapshot revertion
tests for the reason that the snapshot is deleted
in the teardown stage while it's still in ""restoring""
status.
Waiting for snapshot to be in ""available"" status will
avoid this problem.

Change-Id: I1f36dfd37f3ba77c2df6341aad6497d9491921be
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/76/865376/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_revert_to_snapshot.py'],1,10792499799e48836034fd7f9183d710330e7ded,waiter_for_revert," waiters.wait_for_resource_status( self.shares_v2_client, snapshot['id'], 'available', resource_name='snapshot') waiters.wait_for_resource_status( self.shares_v2_client, snapshot1['id'], 'available', resource_name='snapshot') waiters.wait_for_resource_status( self.shares_v2_client, snapshot['id'], 'available', resource_name='snapshot')",,9,0
openstack%2Fopenstack-ansible-openstack_hosts~860658,openstack/openstack-ansible-openstack_hosts,master,Ic7135573bd16697d5fe289e9f3838843eb047cc8,"Revert ""Use pam_env for su commands on Centos-9""",MERGED,2022-10-07 19:36:43.000000000,2022-11-29 20:08:40.000000000,2022-11-29 20:07:38.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-07 19:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/54c9b12949fb38b87e4fe47952d10ecd20c07695', 'message': 'Revert ""Use pam_env for su commands on Centos-9""\n\nThis reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.\n\nReason for revert: RHBA-2022:4082 has packages released which resolve the bug\n\nChange-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8\n'}, {'number': 2, 'created': '2022-10-07 19:39:28.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d0d7c8a16fa6228ccf4021d1a8d0632818845afc', 'message': 'Revert ""Use pam_env for su commands on Centos-9""\n\nThis reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.\n\nReason for revert: RHBA-2022:4082 has packages released which resolve the bug\n\nChange-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8\n'}]",0,860658,d0d7c8a16fa6228ccf4021d1a8d0632818845afc,10,5,2,25023,,,0,"Revert ""Use pam_env for su commands on Centos-9""

This reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.

Reason for revert: RHBA-2022:4082 has packages released which resolve the bug

Change-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/58/860658/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,54c9b12949fb38b87e4fe47952d10ecd20c07695,osa/centos-9,"- name: Ensure environement is applied during sudo lineinfile: path: /etc/pam.d/sudo line: ""session required pam_env.so readenv=1 user_readenv=0"" regexp: 'session\s+required\s+pam_env\.so' insertbefore: '^@include' when: ansible_facts['distribution'] | lower == 'debian'",# NOTE(jrosser) Remove this task when https://access.redhat.com/errata/RHBA-2022:4082 # has a fix merged to Centos-9 as well as RHEL. - name: Ensure environement is applied during su community.general.pamd: name: su type: auth control: sufficient module_path: pam_rootok.so new_type: auth new_control: required new_module_path: pam_env.so state: before when: - ansible_facts['distribution'] == 'CentOS' - ansible_facts['distribution_version'] == '9',7,15
openstack%2Fpython-openstackclient~865703,openstack/python-openstackclient,master,I2d55747b1226207946f80f04b80b4685e3eea3f9,docs: Typo fix,MERGED,2022-11-25 17:29:02.000000000,2022-11-29 20:06:38.000000000,2022-11-29 20:04:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 17:29:02.000000000', 'files': ['doc/source/contributor/humaninterfaceguide.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/948198643f84c0a41ad6c1935214c9627376712d', 'message': 'docs: Typo fix\n\nChange-Id: I2d55747b1226207946f80f04b80b4685e3eea3f9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,865703,948198643f84c0a41ad6c1935214c9627376712d,7,2,1,15334,,,0,"docs: Typo fix

Change-Id: I2d55747b1226207946f80f04b80b4685e3eea3f9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/865703/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/humaninterfaceguide.rst'],1,948198643f84c0a41ad6c1935214c9627376712d,docs, (``-``) internally between words (``--like-this``). Underscores (``_``) shall not, (``-`` internally between words (``--like-this``). Underscores (``_``) shall not,1,1
openstack%2Fdevstack~865480,openstack/devstack,stable/xena,Id218cf2ad5fbb9cae5828972366fe85911e500b2,Remove centos-8/9-stream jobs on stable/xena,MERGED,2022-11-24 00:26:38.000000000,2022-11-29 20:06:23.000000000,2022-11-29 20:04:25.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 00:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26f7f5b772d9737bfc8ab79e989b9fb484fef932', 'message': ""Remove centos-8/9-stream jobs on stable/yoga\n\nThe following 2 already n-v jobs have been failing:\n* devstack-platform-centos-8-stream - most of 2022\n* devstack-platform-centos-9-stream - last 2 months\n\nConsidering that there isn't a lot of traffic on stable/yoga\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes those 2 jobs\nnot to waste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}, {'number': 2, 'created': '2022-11-24 00:32:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e0c09e5f33af329b5d9c879248a5aa068aa79342', 'message': ""Remove centos-8/9-stream jobs on stable/xena\n\nThe following 2 already n-v jobs have been failing:\n* devstack-platform-centos-8-stream - most of 2022\n* devstack-platform-centos-9-stream - last 2 months\n\nConsidering that there isn't a lot of traffic on stable/xena\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes those 2 jobs\nnot to waste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}]",0,865480,e0c09e5f33af329b5d9c879248a5aa068aa79342,9,2,2,22873,,,0,"Remove centos-8/9-stream jobs on stable/xena

The following 2 already n-v jobs have been failing:
* devstack-platform-centos-8-stream - most of 2022
* devstack-platform-centos-9-stream - last 2 months

Considering that there isn't a lot of traffic on stable/xena
and we have a centos job in newer branches so any backport
patch gets tested there, the commit removes those 2 jobs
not to waste CI resources.

Change-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/865480/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,26f7f5b772d9737bfc8ab79e989b9fb484fef932,,, name: devstack-platform-centos-8-stream parent: tempest-full-py3 description: CentOS 8 Stream platform test nodeset: devstack-single-node-centos-8-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: name: devstack-platform-centos-9-stream parent: tempest-full-py3 description: CentOS 9 Stream platform test nodeset: devstack-single-node-centos-9-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-centos-8-stream - devstack-platform-centos-9-stream,0,22
openstack%2Fpuppet-oslo~865483,openstack/puppet-oslo,master,If346affd48013f4f553a5fddc93524a8408cc605,Fox wrong format of [cache] backend_argument,MERGED,2022-11-24 01:48:23.000000000,2022-11-29 20:05:44.000000000,2022-11-29 20:05:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 01:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/df409bc4d00afc9eaf3d8f4c901f3d1a8b59a331', 'message': 'Fox wrong format of [cache] backend_argument\n\nThis option is not a ListOpt but a MultiStrOpt. So an array values\nshould NOT be converted to the colon-separated list format.\n\nChange-Id: If346affd48013f4f553a5fddc93524a8408cc605\n'}, {'number': 2, 'created': '2022-11-24 01:49:21.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/6f502efdc1caef69aa33db5f2946b81f63a8d09f', 'message': 'Fox wrong format of [cache] backend_argument\n\nThis option is not a ListOpt but a MultiStrOpt. So an array values\nshould NOT be converted to the colon-separated list format.\n\nCloses-Bug: #1997603\nChange-Id: If346affd48013f4f553a5fddc93524a8408cc605\n'}]",1,865483,6f502efdc1caef69aa33db5f2946b81f63a8d09f,10,3,2,9816,,,0,"Fox wrong format of [cache] backend_argument

This option is not a ListOpt but a MultiStrOpt. So an array values
should NOT be converted to the colon-separated list format.

Closes-Bug: #1997603
Change-Id: If346affd48013f4f553a5fddc93524a8408cc605
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/83/865483/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",2,df409bc4d00afc9eaf3d8f4c901f3d1a8b59a331,bug/1997603," 'cache/backend_argument' => { value => $backend_argument },"," 'cache/backend_argument' => { value => join(any2array($backend_argument), ',') },",3,3
openstack%2Fpuppet-keystone~865616,openstack/puppet-keystone,master,I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b,Remove keystone_puppet_config resource type,MERGED,2022-11-25 03:05:35.000000000,2022-11-29 20:00:33.000000000,2022-11-29 19:59:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 03:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4cfad595829ffaf634eb615ec1fe9cb707323fdb', 'message': 'Remove keystone_puppet_config resource type\n\nThis is no longer used since we replaced the configuration file by\nclouds.yaml. The resource was already deprecated by [1] in the past\ncycle so can be removed.\n\n[1] c140a44aebb271558c81e528aba8b6dcb4989a62\n\nChange-Id: I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b\n'}, {'number': 2, 'created': '2022-11-25 03:06:06.000000000', 'files': ['releasenotes/notes/remove-keystone_puppet_config-2eba1350a2d2fd85.yaml', 'spec/unit/provider/keystone_puppet_config/ini_setting_spec.rb', 'lib/puppet/type/keystone_puppet_config.rb', 'lib/puppet/provider/keystone_puppet_config/ini_setting.rb', 'manifests/deps.pp', 'spec/unit/type/keystone_puppet_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/aa394b17757baee5f168e6ff3ecc8957be8e42cc', 'message': 'Remove keystone_puppet_config resource type\n\nThis is no longer used since we replaced the configuration file by\nclouds.yaml. The resource was already deprecated by [1] in the past\ncycle so can be removed.\n\n[1] c140a44aebb271558c81e528aba8b6dcb4989a62\n\nChange-Id: I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b\n'}]",0,865616,aa394b17757baee5f168e6ff3ecc8957be8e42cc,9,3,2,9816,,,0,"Remove keystone_puppet_config resource type

This is no longer used since we replaced the configuration file by
clouds.yaml. The resource was already deprecated by [1] in the past
cycle so can be removed.

[1] c140a44aebb271558c81e528aba8b6dcb4989a62

Change-Id: I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/16/865616/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-keystone_puppet_config-2eba1350a2d2fd85.yaml', 'lib/puppet/type/keystone_puppet_config.rb', 'lib/puppet/provider/keystone_puppet_config/ini_setting.rb', 'manifests/deps.pp']",4,4cfad595829ffaf634eb615ec1fe9cb707323fdb,,, # credential file for keystone api access should be generated during # configuration phase Anchor['keystone::config::begin'] -> Keystone_puppet_config<||> ~> Anchor['keystone::config::end'] ,4,28
openstack%2Fpuppet-neutron~865614,openstack/puppet-neutron,master,Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202,Remove deprecated mech_driver defined resource type,MERGED,2022-11-25 01:42:59.000000000,2022-11-29 19:23:45.000000000,2022-11-29 19:22:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 01:42:59.000000000', 'files': ['manifests/plugins/ml2/mech_driver.pp', 'releasenotes/notes/remove-mech_driver-resource-type-8037e8e1fcd6901c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/55c77ffd34c7d9aac618432a58fc17ed94daaa6e', 'message': 'Remove deprecated mech_driver defined resource type\n\n... because it was deprecated during the previous cycle[1] and its\nimplementation is empty.\n\n[1] 069b2226a9d521865725d84fe950558cb7c06036\n\nChange-Id: Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202\n'}]",0,865614,55c77ffd34c7d9aac618432a58fc17ed94daaa6e,8,3,1,9816,,,0,"Remove deprecated mech_driver defined resource type

... because it was deprecated during the previous cycle[1] and its
implementation is empty.

[1] 069b2226a9d521865725d84fe950558cb7c06036

Change-Id: Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/865614/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/mech_driver.pp', 'releasenotes/notes/remove-mech_driver-resource-type-8037e8e1fcd6901c.yaml']",2,55c77ffd34c7d9aac618432a58fc17ed94daaa6e,,--- upgrade: - | The ``neutron::plugin::ml2::mech_driver`` defined resource type has been removed. ,,5,35
openstack%2Foctavia-dashboard~839967,openstack/octavia-dashboard,master,I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c,Address RemovedInDjango40Warning,MERGED,2022-04-29 16:30:58.000000000,2022-11-29 19:17:08.000000000,2022-11-29 19:16:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30434}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-29 16:30:58.000000000', 'files': ['octavia_dashboard/dashboards/project/load_balancer/urls.py', 'octavia_dashboard/tests/urls.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/96c18c8cf5115a8b532007bd33d09c99bfcb4091', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c\n'}]",2,839967,96c18c8cf5115a8b532007bd33d09c99bfcb4091,11,5,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/67/839967/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/dashboards/project/load_balancer/urls.py', 'octavia_dashboard/tests/urls.py']",2,96c18c8cf5115a8b532007bd33d09c99bfcb4091,,"from django.urls import re_path re_path(r'', include(openstack_dashboard.urls))","from django.conf.urls import url url(r'', include(openstack_dashboard.urls))",4,4
openstack%2Fpuppet-cinder~865794,openstack/puppet-cinder,master,I9ebb3f6a214222457547f687c6f3abd2b9c058fb,NetApp: Deprecate support for netapp_copyoffload_tool_path,MERGED,2022-11-28 06:48:24.000000000,2022-11-29 19:09:19.000000000,2022-11-29 19:08:16.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 06:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/76fe0e5dedd32a090657f597f90f492e99ef4fb8', 'message': 'NetApp: Deprecate support for netapp_copyoffload_tool_path\n\n... because the parameter was already deprecated in cinder.\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/847733\nChange-Id: I9ebb3f6a214222457547f687c6f3abd2b9c058fb\n'}, {'number': 2, 'created': '2022-11-28 15:54:18.000000000', 'files': ['releasenotes/notes/deprecate-netapp_copyoffload_tool_path-02f160e6dc687df1.yaml', 'manifests/backend/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/daa5d5cb188daaf3ecd9a9a97f087416feca26ae', 'message': 'NetApp: Deprecate support for netapp_copyoffload_tool_path\n\n... because the parameter was already deprecated in cinder.\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/847733\nChange-Id: I9ebb3f6a214222457547f687c6f3abd2b9c058fb\n'}]",4,865794,daa5d5cb188daaf3ecd9a9a97f087416feca26ae,15,3,2,9816,,,0,"NetApp: Deprecate support for netapp_copyoffload_tool_path

... because the parameter was already deprecated in cinder.

Depends-on: https://review.opendev.org/c/openstack/cinder/+/847733
Change-Id: I9ebb3f6a214222457547f687c6f3abd2b9c058fb
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/94/865794/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-netapp_copyoffload_tool_path-02f160e6dc687df1.yaml', 'manifests/backend/netapp.pp']",2,76fe0e5dedd32a090657f597f90f492e99ef4fb8,,"# DEPRECATED PARAMETERS # # [*netapp_copyoffload_tool_path*] # (optional) This option specifies the path of the NetApp Copy Offload tool # binary. Ensure that the binary has execute permissions set which allow the # effective user of the cinder-volume process to execute the file. # Defaults to undef # # DEPRECATED PARAMETERS $netapp_copyoffload_tool_path = undef, if $netapp_copyoffload_tool_path != undef { warning(""The netapp_copyoffload_tool_path parameter has been deprecated \ and will be removed in a future release."") } ""${name}/netapp_copyoffload_tool_path"": value => pick($netapp_copyoffload_tool_path, $::os_service_default);","# [*netapp_copyoffload_tool_path*] # (optional) This option specifies the path of the NetApp Copy Offload tool # binary. Ensure that the binary has execute permissions set which allow the # effective user of the cinder-volume process to execute the file. # Defaults to $::os_service_default. # $netapp_copyoffload_tool_path = $::os_service_default, ""${name}/netapp_copyoffload_tool_path"": value => $netapp_copyoffload_tool_path;",21,8
openstack%2Fpuppet-openstacklib~865487,openstack/puppet-openstacklib,master,I7c633f8d12e4678910872b7782273b2ca2c76d65,"Revert ""Add old ruby support to inet6_prefix""",MERGED,2022-11-24 03:06:27.000000000,2022-11-29 18:52:38.000000000,2022-11-29 18:52:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 03:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3592fa8030455d2faeed1e8c46e2c7a2fa2c25e5', 'message': 'Revert ""Add old ruby support to inet6_prefix""\n\nThis reverts commit efffd27a414000eea0a85dae3162ed65b636cb3b.\n\nReason for revert:\nThe logic was added to support ruby 1.x.x which does not contain [1],\nbut recent operating systems no longer ship such an old version.\n\nCentOS 9: Ruby 3.0\nCentOS 8: Ruby 2.5\nUbuntu 20.04: Ruby 2.7\n\n[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4\n\nChange-Id: I7c633f8d12e4678910872b7782273b2ca2c76d65\n'}, {'number': 2, 'created': '2022-11-24 03:07:11.000000000', 'files': ['lib/puppet/functions/inet6_prefix.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e0d95463803d3c63589db365976dbe8fb0b7d7d8', 'message': 'Revert ""Add old ruby support to inet6_prefix""\n\nThis reverts commit efffd27a414000eea0a85dae3162ed65b636cb3b.\n\nReason for revert:\nThe logic was added to support ruby 1.x which does not contain [1], but\nrecent operating systems no longer ship such an old version.\n\nCentOS 9: Ruby 3.0\nCentOS 8: Ruby 2.5\nUbuntu 20.04: Ruby 2.7\n\n[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4\n\nChange-Id: I7c633f8d12e4678910872b7782273b2ca2c76d65\n'}]",0,865487,e0d95463803d3c63589db365976dbe8fb0b7d7d8,8,3,2,9816,,,0,"Revert ""Add old ruby support to inet6_prefix""

This reverts commit efffd27a414000eea0a85dae3162ed65b636cb3b.

Reason for revert:
The logic was added to support ruby 1.x which does not contain [1], but
recent operating systems no longer ship such an old version.

CentOS 9: Ruby 3.0
CentOS 8: Ruby 2.5
Ubuntu 20.04: Ruby 2.7

[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4

Change-Id: I7c633f8d12e4678910872b7782273b2ca2c76d65
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/87/865487/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/inet6_prefix.rb'],1,3592fa8030455d2faeed1e8c46e2c7a2fa2c25e5,," rescue IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError => e"," # NOTE(tobias-urdin): Add support for older version of the ipaddr # lib where ArgumentError hasn't been replaced yet. if IPAddr.const_defined?('InvalidAddressError') exp = [IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError] else exp = [ArgumentError, NoMethodError] end rescue *exp",1,10
openstack%2Fpuppet-swift~865451,openstack/puppet-swift,master,I694ca4c046f490e4ffecf2101f3f147a69045162,Remove logic for old swift-ring-builder,MERGED,2022-11-23 17:18:39.000000000,2022-11-29 18:52:11.000000000,2022-11-29 18:52:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 17:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/71c4ca62d115d4b16a0ca5ae2b970090ce93aa28', 'message': 'Remove logic for old swift releases\n\nswift 2.10.0 was released on 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 2, 'created': '2022-11-23 17:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a8ffacd2d22a7d9ac165a2979356b9e22930d3ea', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released on 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 3, 'created': '2022-11-23 17:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fb584cfa4c5eb7eb11ce2a495992112f81b89507', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 4, 'created': '2022-11-23 19:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/cdd8b28f0ce672859bbfabae140325a7002a5b38', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 5, 'created': '2022-11-23 19:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/179ecf4020412b86cb73cd84ce1d22af18fa1035', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nThis also updates the logic to skip the header lines, to make it more\nrobust. The new logic works even when any additional lines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 6, 'created': '2022-11-23 19:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7bde933eb50e2053b477c15d2229a6703d8c3a84', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nThis also updates the logic to skip the header lines, to make it more\nrobust. The new logic works even when any additional lines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 7, 'created': '2022-11-23 19:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/94717f9b4405d67be15b2c1e5195c663a079b22e', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nThis also updates the logic to skip the header lines, to make it more\nrobust. The new logic works even when any additional lines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 8, 'created': '2022-11-23 19:23:34.000000000', 'files': ['spec/unit/puppet/provider/ring_container_device/swift_ring_builder_spec.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'spec/unit/puppet/provider/ring_object_device/swift_ring_builder_spec.rb', 'spec/unit/puppet/provider/ring_account_device/swift_ring_builder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8ac0db49280b7c4451bff6a3e66c13d43a167b12', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions. The output format depends on the version currently\ninstalled, thus the latest logic should work as long as the same\nrelease (or even a bit older release) is installed.\n\nThis also updates the logic to skip the header lines. The new logic\nis considered to be more robust, because it works even when additional\nlines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}]",0,865451,8ac0db49280b7c4451bff6a3e66c13d43a167b12,15,3,8,9816,,,0,"Remove logic for old swift-ring-builder

swift 2.10.0 was released in 2016. We no longer need to support even
older versions. The output format depends on the version currently
installed, thus the latest logic should work as long as the same
release (or even a bit older release) is installed.

This also updates the logic to skip the header lines. The new logic
is considered to be more robust, because it works even when additional
lines are added.

Change-Id: I694ca4c046f490e4ffecf2101f3f147a69045162
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/51/865451/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/puppet/provider/ring_container_device/swift_ring_builder_spec.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'spec/unit/puppet/provider/ring_object_device/swift_ring_builder_spec.rb', 'spec/unit/puppet/provider/ring_account_device/swift_ring_builder_spec.rb']",4,71c4ca62d115d4b16a0ca5ae2b970090ce93aa28,," let :account_builder_output do provider.class.stubs(:swift_ring_builder).returns account_builder_output provider.expects(:swift_ring_builder).returns account_builder_output describe ""with a storage policy_index set"" do"," let :account_builder_output_2_9_1 do provider.class.stubs(:swift_ring_builder).returns account_builder_output_2_9_1 provider.expects(:swift_ring_builder).returns account_builder_output_2_9_1 describe ""with a storage policy_index set on swift 2.9.1+"" do it 'should be able to lookup the local ring and build an object 2.2.2+' do # Swift 1.8 output provider.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 The overload factor is 0.00% (0.000000) Devices: id region zone ip address port replication ip replication port name weight partitions balance meta 1 1 1 192.168.101.13 6002 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 192.168.101.14 6002 1 1.00 262144 200.00 m2 0 1 3 192.168.101.15 6002 192.168.101.15 6002 1 1.00 262144-100.00 m2 3 1 1 192.168.101.16 6002 192.168.101.16 6002 1 1.00 262144-100.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.16:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '200.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql 'm2' end it 'should be able to lookup the local ring and build an object 1.8+' do # Swift 1.8+ output provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id region zone ip address port replication ip replication port name weight partitions balance meta 1 1 1 192.168.101.13 6002 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 192.168.101.14 6002 1 1.00 262144 200.00 m2 0 1 3 192.168.101.15 6002 192.168.101.15 6002 1 1.00 262144-100.00 m2 3 1 1 192.168.101.16 6002 192.168.101.16 6002 1 1.00 262144-100.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.16:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '200.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql 'm2' end it 'should be able to lookup the local ring and build an object 1.8.0' do # Swift 1.8 output provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id region zone ip address port name weight partitions balance meta 1 1 1 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 1 1.00 262144 200.00 m2 0 1 3 192.168.101.15 6002 1 1.00 262144-100.00 m2 3 1 1 192.168.101.16 6002 1 1.00 262144-100.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.16:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '200.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql 'm2' end it 'should be able to lookup the local ring and build an object 1.7' do # Swift 1.7 output provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id region zone ip address port name weight partitions balance meta 1 1 1 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 1 1.00 262144 0.00 0 1 3 192.168.101.15 6002 1 1.00 262144 0.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql '' end it 'should be able to lookup the local ring and build an object legacy' do provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id zone ip address port name weight partitions balance meta 2 2 192.168.101.14 6002 1 1.00 262144 0.00 0 3 192.168.101.15 6002 1 1.00 262144 0.00 1 1 192.168.101.13 6002 1 1.00 262144 0.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql 'none' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql 'none' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql '' end",23,660
openstack%2Fpuppet-nova~865460,openstack/puppet-nova,master,I1a1b43f040c8acc30a85164b03312683ab9002dc,Support array value for console_ssl_ciphers,MERGED,2022-11-23 18:12:40.000000000,2022-11-29 18:49:29.000000000,2022-11-29 18:49:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 18:12:40.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6d566d2d4075e21c969a1c90c1eb243ed44035eb', 'message': 'Support array value for console_ssl_ciphers\n\nThe [colsone] ssl_ciphers option takes a colon-separated list. This\nchange allows usage of a native array value to set the value so that\nusers can more easily compose up the value without considering\nthe actual value format.\n\nChange-Id: I1a1b43f040c8acc30a85164b03312683ab9002dc\n'}]",0,865460,6d566d2d4075e21c969a1c90c1eb243ed44035eb,8,3,1,9816,,,0,"Support array value for console_ssl_ciphers

The [colsone] ssl_ciphers option takes a colon-separated list. This
change allows usage of a native array value to set the value so that
users can more easily compose up the value without considering
the actual value format.

Change-Id: I1a1b43f040c8acc30a85164b03312683ab9002dc
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/60/865460/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,6d566d2d4075e21c969a1c90c1eb243ed44035eb,puppet-ciphers-array," context 'with array used for console_ssl_ciphers' do let :params do { :console_ssl_ciphers => ['kEECDH+aECDSA+AES', 'kEECDH+AES+aRSA', 'kEDH+aRSA+AES'] } end it {is_expected.to contain_nova_config('console/ssl_ciphers').with_value('kEECDH+aECDSA+AES:kEECDH+AES+aRSA:kEDH+aRSA+AES') } end",,9,1
openstack%2Ftripleo-validations~865957,openstack/tripleo-validations,master,If153ef72d9fbc0cbae7c1275ba866331f864995f,Fix ansible 2.14 incompatibility,MERGED,2022-11-29 08:58:55.000000000,2022-11-29 18:44:02.000000000,2022-11-29 18:42:47.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 08:58:55.000000000', 'files': ['roles/repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d', 'message': 'Fix ansible 2.14 incompatibility\n\nThe warn parameter of command/shell module was deprecated was\nremoved in 2.14[1].\n\n[1] https://github.com/ansible/ansible/pull/77411\n\nCloses-Bug: #1998098\nChange-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f\n'}]",1,865957,1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d,9,5,1,8833,,,0,"Fix ansible 2.14 incompatibility

The warn parameter of command/shell module was deprecated was
removed in 2.14[1].

[1] https://github.com/ansible/ansible/pull/77411

Closes-Bug: #1998098
Change-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/865957/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repos/tasks/main.yml'],1,1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d,,, args: warn: false,0,2
openstack%2Fvalidations-common~865863,openstack/validations-common,master,Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba,Fix ansible 2.14 incompatibility,MERGED,2022-11-28 15:18:32.000000000,2022-11-29 18:43:56.000000000,2022-11-29 18:42:45.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-28 15:18:32.000000000', 'files': ['validations_common/roles/check_latest_packages_version/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/899b8f5c625c58717f186a330a3e6890fcd187e4', 'message': 'Fix ansible 2.14 incompatibility\n\nThe warn parameter of command/shell module was deprecated was\nremoved in 2.14[1].\n\n[1] https://github.com/ansible/ansible/pull/77411\n\nCloses-Bug: #1998098\nChange-Id: Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba\n'}]",2,865863,899b8f5c625c58717f186a330a3e6890fcd187e4,12,4,1,8833,,,0,"Fix ansible 2.14 incompatibility

The warn parameter of command/shell module was deprecated was
removed in 2.14[1].

[1] https://github.com/ansible/ansible/pull/77411

Closes-Bug: #1998098
Change-Id: Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/865863/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/check_latest_packages_version/molecule/default/prepare.yml'],1,899b8f5c625c58717f186a330a3e6890fcd187e4,,, args: warn: false,0,2
openstack%2Fpuppet-pacemaker~863036,openstack/puppet-pacemaker,master,Id010a392df0047d53dfab1c21cc78021c8c1aabf,Add fence_watchdog (sbd) stonith agent,MERGED,2022-10-31 12:54:58.000000000,2022-11-29 18:42:48.000000000,2022-11-29 18:42:48.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 30126}, {'_account_id': 35080}]","[{'number': 1, 'created': '2022-10-31 12:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/2aa263cfe574afdfd7c0f536771c7a546a33398d', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nIn addition to the above, this commit fixes a typo (extra space)\nin the agents manifests.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 2, 'created': '2022-11-02 19:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/542b0d3213c7c6ca3d08ed3845a5999add33e833', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nIn addition to the above, this commit fixes a typo (extra space)\nin the agents manifests.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 3, 'created': '2022-11-02 19:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/cbcce44a5b845d4251fa61e4760b7c1cf235a969', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nIn addition to the above, this commit fixes a typo (extra space)\nin the agents manifests.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 4, 'created': '2022-11-09 13:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/69dacf9ddcf2373956598ef46e7211c868233b07', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 5, 'created': '2022-11-09 13:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ba726fecbb20fef7e82d91d89a6b4ab5e61ba902', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 6, 'created': '2022-11-09 14:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/0d58a249b094f939a4a9886247189cbe096b2662', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 7, 'created': '2022-11-09 14:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/f0db0c623a7557891e36ffb00223f2cc2ad21a0a', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 8, 'created': '2022-11-18 06:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/76062800e2a18fcd4f1749388d60dfd11a2bf082', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 9, 'created': '2022-11-25 15:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/17761d5a18a8c251075e55b0cde32cfdba426be7', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 10, 'created': '2022-11-25 15:35:02.000000000', 'files': ['agent_generator/agent_generator.rb', 'agent_generator/src_xml/fence_watchdog.xml', 'manifests/stonith/fence_rhevm.pp', 'manifests/stonith/fence_watchdog.pp', 'manifests/stonith/fence_redfish.pp', 'lib/puppet/provider/pcmk_stonith/default.rb', 'agent_generator/variables.sh'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/397fbfd47097260ed75bd34d4e23b8cac335a43f', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}]",11,863036,397fbfd47097260ed75bd34d4e23b8cac335a43f,36,7,10,30126,,,0,"Add fence_watchdog (sbd) stonith agent

This commit adds a new stonith agent ""fence_watchdog"", allowing
operators to define a stonith device called ""watchdog"" (name is
hard coded in pacemaker) and eventually add this to the clusters
stonith topology.

Since this is a special dummy stonith device it is exempted from
having a constraint rule preventing it from running on the same
cluster nodes that is in charge of monitoring.

The ""watchdog"" resource needs the sbd daemon to be enabled and
depends on a valid watchdog timer device - either phisical or
virtual - to perform self-fencing when required.

Change-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/36/863036/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/stonith/fence_bladecenter.pp', 'manifests/stonith/fence_imm.pp', 'manifests/stonith/fence_virt.pp', 'manifests/stonith/fence_cisco_mds.pp', 'manifests/stonith/fence_ironic.pp', 'manifests/stonith/fence_ilo.pp', 'manifests/stonith/fence_kubevirt.pp', 'manifests/stonith/fence_apc_snmp.pp', 'manifests/stonith/fence_brocade.pp', 'manifests/stonith/fence_eaton_snmp.pp', 'manifests/stonith/fence_vmware_soap.pp', 'manifests/stonith/fence_ilo3.pp', 'manifests/stonith/fence_ibmblade.pp', 'manifests/stonith/fence_wti.pp', 'manifests/stonith/fence_intelmodular.pp', 'manifests/stonith/fence_scsi.pp', 'manifests/stonith/fence_amt.pp', 'manifests/stonith/fence_crosslink.pp', 'manifests/stonith/fence_rsb.pp', 'manifests/stonith/fence_ilo_mp.pp', 'manifests/stonith/fence_ipmilan.pp', 'manifests/stonith/fence_rhevm.pp', 'manifests/stonith/fence_cisco_ucs.pp', 'manifests/stonith/fence_hpblade.pp', 'manifests/stonith/fence_ilo4.pp', 'manifests/stonith/fence_ipdu.pp', 'agent_generator/variables.sh', 'agent_generator/agent_generator.rb', 'manifests/stonith/fence_ilo2.pp', 'agent_generator/src_xml/fence_watchdog.xml', 'manifests/stonith/fence_apc.pp', 'manifests/stonith/fence_idrac.pp', 'manifests/stonith/fence_watchdog.pp', 'manifests/stonith/fence_ifmib.pp', 'manifests/stonith/fence_redfish.pp', 'manifests/stonith/fence_compute.pp', 'manifests/stonith/fence_eps.pp', 'manifests/stonith/fence_drac5.pp', 'manifests/stonith/fence_kdump.pp']",39,2aa263cfe574afdfd7c0f536771c7a546a33398d,,# [*interval*],# [*interval*],302,102
openstack%2Ftripleo-heat-templates~865934,openstack/tripleo-heat-templates,stable/zed,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-29 03:40:15.000000000,2022-11-29 18:42:42.000000000,2022-11-29 18:42:42.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 03:40:15.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fde20f941d0452d875ade3c86caf0a7ed34b789f', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)\n""}]",0,865934,fde20f941d0452d875ade3c86caf0a7ed34b789f,12,5,1,9816,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/865934/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,fde20f941d0452d875ade3c86caf0a7ed34b789f,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fironic~865996,openstack/ironic,enable_alternative_storage_for_inventory,Ie174904420691be64ce6ca10bca3231f45a5bc58,WIP: Enable alternative storage for inventory,ABANDONED,2022-11-29 18:14:14.000000000,2022-11-29 18:32:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 18:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76c1984ab9fe3ca0dc77aad7cbb06de7c33c953e', 'message': 'WIP: Enable alternative storage for inventory\n\nThe Ironic inspector allows users to choose between SQL, Swift and NoStore. Ironic should offer similar functionality.\n\nChange-Id: Ie174904420691be64ce6ca10bca3231f45a5bc58\n'}]",0,865996,76c1984ab9fe3ca0dc77aad7cbb06de7c33c953e,4,1,1,35099,,,0,"WIP: Enable alternative storage for inventory

The Ironic inspector allows users to choose between SQL, Swift and NoStore. Ironic should offer similar functionality.

Change-Id: Ie174904420691be64ce6ca10bca3231f45a5bc58
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/865996/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,76c1984ab9fe3ca0dc77aad7cbb06de7c33c953e,,,,0,0
openstack%2Fpuppet-ceilometer~865497,openstack/puppet-ceilometer,master,Id18b9221703eda9311b81c5a5dfdd41cc68f5424,Remove implementations to set up Ceilometer DB,MERGED,2022-11-24 04:52:55.000000000,2022-11-29 18:24:07.000000000,2022-11-29 18:22:54.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 04:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/767e6b336d6512cff292803d64c313f26ebe7bd2', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}, {'number': 2, 'created': '2022-11-24 04:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/451949eade7797a36e6d49a327ab03d00f3faf0f', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}, {'number': 3, 'created': '2022-11-24 05:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/01586da5e0347b0c672f82c9c06b4af2644c1bb8', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\nThis also updates the outdated example manifests to adapt to\nthe recent refactoring.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}, {'number': 4, 'created': '2022-11-24 05:08:23.000000000', 'files': ['spec/classes/ceilometer_db_postgresql_spec.rb', 'examples/site.pp', 'manifests/db/postgresql.pp', 'spec/classes/ceilometer_db_spec.rb', 'manifests/db.pp', 'spec/classes/ceilometer_db_mysql_spec.rb', 'examples/ceilometer_with_gnocchi.pp', 'manifests/deps.pp', 'manifests/db/mysql.pp', 'releasenotes/notes/remove-db-opts-89c03fa40ae3cde2.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/834d9a6780c33233cef141a7b6007dbfe527ae08', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\nThis also updates the outdated example manifests to adapt to\nthe removal and the recent refactoring.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}]",0,865497,834d9a6780c33233cef141a7b6007dbfe527ae08,13,4,4,9816,,,0,"Remove implementations to set up Ceilometer DB

Ceilometer no longer requires its own database since metric/event
storage was offloaded to Gnocchi/Panko. These implementations were
formally deprecated during the previous cycle[1] so can be removed.

This also updates the outdated example manifests to adapt to
the removal and the recent refactoring.

[1] 60882c29dff6b5302d982eaf79796913c4a8bea9

Change-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/97/865497/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_db_postgresql_spec.rb', 'manifests/db/postgresql.pp', 'spec/classes/ceilometer_db_spec.rb', 'manifests/db.pp', 'spec/classes/ceilometer_db_mysql_spec.rb', 'manifests/db/mysql.pp', 'releasenotes/notes/remove-db-opts-89c03fa40ae3cde2.yaml']",7,767e6b336d6512cff292803d64c313f26ebe7bd2,,--- upgrade: - | The following classes have been removed. - ``ceilometer::db`` - ``ceilometer::db::mysql`` - ``ceilometer::db::postgresql`` ,,8,397
openstack%2Fopenstack-ansible-os_heat~865564,openstack/openstack-ansible-os_heat,stable/yoga,If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc,Install git into heat containers,MERGED,2022-11-25 12:07:23.000000000,2022-11-29 18:12:32.000000000,2022-11-29 18:11:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-25 12:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f9fcb7b3d92326d1f3a5110d2298ba7c02551f5e', 'message': 'Install git into placement containers\n\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)\n'}, {'number': 2, 'created': '2022-11-25 12:11:06.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/38ba2096338c9f3de53cf027518ee6ca338611fb', 'message': 'Install git into heat containers\n\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)\n'}]",1,865564,38ba2096338c9f3de53cf027518ee6ca338611fb,12,3,2,28619,,,0,"Install git into heat containers

If venv_wheel_build_enable is defined to False, placement will fail to
clone and install repositories due to missing git binary.

Change-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc
Related-Bug: #1989506
Closes-Bug: #1995536
(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/64/865564/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,f9fcb7b3d92326d1f3a5110d2298ba7c02551f5e,, - git,,2,0
openstack%2Fpuppet-manila~865795,openstack/puppet-manila,master,I4ed63ae3992735352fd0f5a317e998074e127127,Support manila-data service,MERGED,2022-11-28 07:08:23.000000000,2022-11-29 18:10:34.000000000,2022-11-29 18:09:27.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/efa94415ffc4ef2bed29bf35b40d8c8def88a32b', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to manage share\nmigration. This change introduces support for the service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 2, 'created': '2022-11-28 07:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8775e148109b18a0c74557de518d63de46d69ee5', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 3, 'created': '2022-11-28 07:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f573a995b33676b1a144260386861733ffaff1b5', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 4, 'created': '2022-11-28 08:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c6e54173bebc8bf9240f99d660deb3e2c4f5126f', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 5, 'created': '2022-11-28 08:21:35.000000000', 'files': ['manifests/data.pp', 'manifests/params.pp', 'spec/classes/manila_data_spec.rb', 'releasenotes/notes/manila-data-61845c37605e9afe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/11e2e6a7c751dd703b08d67951e188d64834e220', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}]",0,865795,11e2e6a7c751dd703b08d67951e188d64834e220,14,3,5,9816,,,0,"Support manila-data service

Manila provides the separate manila-data service to process
host-assisted share migration. This change introduces support for
the service.

Change-Id: I4ed63ae3992735352fd0f5a317e998074e127127
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/95/865795/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/data.pp', 'manifests/params.pp', 'spec/classes/manila_data_spec.rb', 'releasenotes/notes/manila-data-61845c37605e9afe.yaml']",4,efa94415ffc4ef2bed29bf35b40d8c8def88a32b,manila-data-service,--- features: - | The new ``manila::data`` class has been added. This class configures the ``manila-data`` service. ,,178,0
openstack%2Fpuppet-manila~865786,openstack/puppet-manila,master,Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914,Use $::os_service_default by default,MERGED,2022-11-28 04:52:32.000000000,2022-11-29 18:09:25.000000000,2022-11-29 18:09:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 04:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8baf00c666debf9c79b71177107e652d93223ecc', 'message': 'Simplify handling of scheduler_driver\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern using\n $::os_service_default .\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 2, 'created': '2022-11-28 07:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/343de6eadae64ef0a7176a2f2de90da4fb918d2a', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 3, 'created': '2022-11-28 07:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bf7c6ed49526dc88b3535ba8401a72dd941eea75', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 4, 'created': '2022-11-28 07:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/6e13e5935a55963b786ebb861d74fa770af15126', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 5, 'created': '2022-11-28 08:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/248109ba3e0596b478ed50b004db29b1d628282b', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 6, 'created': '2022-11-28 15:40:15.000000000', 'files': ['manifests/scheduler.pp', 'releasenotes/notes/scheduler_driver-os_service_default-5b7e2e78d93c6abe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c0e8c3848137a76f830d688c7fa9a95226262e61', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}]",5,865786,c0e8c3848137a76f830d688c7fa9a95226262e61,17,3,6,9816,,,0,"Use $::os_service_default by default

This change prepares getting rid of the additional logic to manage
the scheduler_driver option, to follow the global pattern to use
 $::os_service_default by default.

Change-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/86/865786/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler.pp', 'releasenotes/notes/scheduler_driver-os_service_default-5b7e2e78d93c6abe.yaml']",2,8baf00c666debf9c79b71177107e652d93223ecc,,--- features: - | Using a false value fo ``manila::scheduler::scheduler_driver`` has been deprecated and the specified value will be directly rendered into manila.conf in a future release. Use ``$::os_service_default`` if the service default should be used. ,,14,5
openstack%2Fpuppet-manila~865780,openstack/puppet-manila,master,I30fa9fdc73164f898bf46d2983c807ec2bcd5451,Ensure [DEFAULT] scheduler_driver is cleared by default,MERGED,2022-11-28 02:18:33.000000000,2022-11-29 18:09:24.000000000,2022-11-29 18:09:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 02:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/089c2e4f10d714c3286d7d5efd0d692866f4ab56', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 2, 'created': '2022-11-28 02:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e2a07477d93639466a3ddb15b37430131deb536d', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 3, 'created': '2022-11-28 07:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/29ad686b89fcb07c398a49c3f02165dbb52d0efe', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 4, 'created': '2022-11-28 07:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8b64680be8bf389bc4d9bf9ea617ebb304480508', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 5, 'created': '2022-11-28 07:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5e0c3eb87c1ab266b870898422986ffd13d666cb', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 6, 'created': '2022-11-28 08:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/15042d22dcead240e48c341803fb91e435c69c06', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 7, 'created': '2022-11-28 08:21:58.000000000', 'files': ['spec/classes/manila_scheduler_spec.rb', 'manifests/scheduler.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/525aae76e8d5dc2ab09de241c7c4a572e5ffac12', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}]",0,865780,525aae76e8d5dc2ab09de241c7c4a572e5ffac12,15,3,7,9816,,,0,"Ensure [DEFAULT] scheduler_driver is cleared by default

... otherwise the old setting can be left in manila.conf.

This also refactors unit tests for the manila::share class.

Change-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/80/865780/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_scheduler_spec.rb', 'manifests/scheduler.pp']",2,089c2e4f10d714c3286d7d5efd0d692866f4ab56,, } else { manila_config { 'DEFAULT/scheduler_driver': value => $::os_service_default; },,6,0
openstack%2Fopenstack-ansible~865805,openstack/openstack-ansible,master,I925a148febce2bbdc09e60020828947589905dcf,Do not duplicate vers in nfs mount options,MERGED,2022-11-28 09:04:46.000000000,2022-11-29 18:08:08.000000000,2022-11-29 18:06:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-28 09:04:46.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce656384dcb6afd22f3cea5de39fa4f5d9724e90', 'message': 'Do not duplicate vers in nfs mount options\n\nOn ubuntu 22.04 specifying vers and nfsvers raising error during mount:\nmount.nfs: multiple version options not permitted\n\nTo make NFS jobs passing for 22.04 we drop out vers.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/865518/\nChange-Id: I925a148febce2bbdc09e60020828947589905dcf\n'}]",0,865805,ce656384dcb6afd22f3cea5de39fa4f5d9724e90,8,3,1,28619,,,0,"Do not duplicate vers in nfs mount options

On ubuntu 22.04 specifying vers and nfsvers raising error during mount:
mount.nfs: multiple version options not permitted

To make NFS jobs passing for 22.04 we drop out vers.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/865518/
Change-Id: I925a148febce2bbdc09e60020828947589905dcf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/865805/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'],1,ce656384dcb6afd22f3cea5de39fa4f5d9724e90,," nfs_mount_options: nfsvers=4,noatime,rw,bg,intr,async,timeo=60"," nfs_mount_options: vers=4,nfsvers=4,noatime,rw,bg,intr,async,timeo=60",1,1
openstack%2Fpuppet-manila~865770,openstack/puppet-manila,master,I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f,Remove cleanup of [DEFAULT] network_api_class,MERGED,2022-11-26 16:43:44.000000000,2022-11-29 18:04:36.000000000,2022-11-29 18:04:36.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:43:44.000000000', 'files': ['manifests/network/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5080fb84dc8eadff7b4ad4c759c1938be7dc0d93', 'message': 'Remove cleanup of [DEFAULT] network_api_class\n\n... because the logic was added during Yoga cycle[1] and the old option\nshould be removed when a deployment is upgraded to Yoga.\n\n[1] e7330687baa66c3c8d55aeb581643e4a227b6568\n\nChange-Id: I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f\n'}]",0,865770,5080fb84dc8eadff7b4ad4c759c1938be7dc0d93,7,3,1,9816,,,0,"Remove cleanup of [DEFAULT] network_api_class

... because the logic was added during Yoga cycle[1] and the old option
should be removed when a deployment is upgraded to Yoga.

[1] e7330687baa66c3c8d55aeb581643e4a227b6568

Change-Id: I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/70/865770/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/network/neutron.pp'],1,5080fb84dc8eadff7b4ad4c759c1938be7dc0d93,,, # TODO(tkajinam): Remove this after Yoga release manila_config { 'DEFAULT/network_api_class': ensure => absent; } ,0,5
openstack%2Fopenstack-ansible-os_nova~864984,openstack/openstack-ansible-os_nova,stable/yoga,I4195153658c867f259226e80cefac0fcac4caac5,Isolate vif for ovs backend by default,MERGED,2022-11-19 09:50:54.000000000,2022-11-29 17:58:48.000000000,2022-11-29 17:57:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-19 09:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3f122128011638a1a2af4b02d38c572abdc623d3', 'message': 'Isolate vif for ovs backend by default\n\nWithout that patch all deployers that did use OVS had to remember to\napply override for their deployments.\nNow OSA will enable isolation of vif by default when OVS is used.\n\nChange-Id: I4195153658c867f259226e80cefac0fcac4caac5\nRelated-Bug: #1734320\n(cherry picked from commit d6cd1096af83a99718ae11b24106f9f419eb32c9)\n'}, {'number': 2, 'created': '2022-11-19 09:51:22.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f7b18ee465e9cbb3ff85348d8db6aaecb450822e', 'message': 'Isolate vif for ovs backend by default\n\nWithout that patch all deployers that did use OVS had to remember to\napply override for their deployments.\nNow OSA will enable isolation of vif by default when OVS is used.\n\nChange-Id: I4195153658c867f259226e80cefac0fcac4caac5\nRelated-Bug: #1734320\n(cherry picked from commit d6cd1096af83a99718ae11b24106f9f419eb32c9)\n'}]",2,864984,f7b18ee465e9cbb3ff85348d8db6aaecb450822e,12,2,2,28619,,,0,"Isolate vif for ovs backend by default

Without that patch all deployers that did use OVS had to remember to
apply override for their deployments.
Now OSA will enable isolation of vif by default when OVS is used.

Change-Id: I4195153658c867f259226e80cefac0fcac4caac5
Related-Bug: #1734320
(cherry picked from commit d6cd1096af83a99718ae11b24106f9f419eb32c9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/84/864984/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,3f122128011638a1a2af4b02d38c572abdc623d3,,"{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ",,5,0
openstack%2Fovn-octavia-provider~865909,openstack/ovn-octavia-provider,stable/wallaby,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:40.000000000,2022-11-29 17:43:05.000000000,2022-11-29 17:41:55.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:40.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b3d20d2204a901ab913b6a91faf3f83ee78d12b9', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",0,865909,b3d20d2204a901ab913b6a91faf3f83ee78d12b9,9,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/09/865909/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,b3d20d2204a901ab913b6a91faf3f83ee78d12b9,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fpuppet-glance~865793,openstack/puppet-glance,master,Ic83d6595cd23319e286719c2e7f766ea1aa3e4da,Assert db purge cron job,MERGED,2022-11-28 06:39:41.000000000,2022-11-29 17:21:13.000000000,2022-11-29 17:21:13.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 06:39:41.000000000', 'files': ['spec/acceptance/10_basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1c0d3e01812a97678a9be97fc7d4be717ce18e81', 'message': 'Assert db purge cron job\n\nThis makes sure the db purge cron job is properly configured in\nacceptance tests. The job was enabled in the common manifest a while\nago by the dependent change.\n\nDepends-on: https://review.opendev.org/792743\nChange-Id: Ic83d6595cd23319e286719c2e7f766ea1aa3e4da\n'}]",0,865793,1c0d3e01812a97678a9be97fc7d4be717ce18e81,7,3,1,9816,,,0,"Assert db purge cron job

This makes sure the db purge cron job is properly configured in
acceptance tests. The job was enabled in the common manifest a while
ago by the dependent change.

Depends-on: https://review.opendev.org/792743
Change-Id: Ic83d6595cd23319e286719c2e7f766ea1aa3e4da
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/93/865793/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_glance_spec.rb'],1,1c0d3e01812a97678a9be97fc7d4be717ce18e81,, describe cron do it { is_expected.to have_entry('1 0 * * * glance-manage db purge --age_in_days 30 --max_rows 100 >>/var/log/glance/glance-rowsflush.log 2>&1').with_user('glance') } end,,4,0
openstack%2Ftripleo-ansible~865309,openstack/tripleo-ansible,master,Idcd98906c5ce13f065fcdea344a1c9424509cc2d,Generic playbook to run standalone roles,ABANDONED,2022-11-22 16:20:45.000000000,2022-11-29 16:55:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 16:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/759d91981fe7b179a8b5356ac03808ee946e71b8', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}, {'number': 2, 'created': '2022-11-23 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63e610cd4313a03a87e1537ed9a1e20232a88e9f', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}, {'number': 3, 'created': '2022-11-24 14:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c86b6eb7babeb56859e8a103f46f196e8dfcaacf', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}, {'number': 4, 'created': '2022-11-24 14:49:52.000000000', 'files': ['tripleo_ansible/playbooks/standalone-playbook.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/756d4c702b16b873bc5b6dca2e758905056cf32b', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variable in [2]\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/19\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}]",11,865309,756d4c702b16b873bc5b6dca2e758905056cf32b,21,6,4,32968,,,0,"Generic playbook to run standalone roles

This pach introduces the new standalone-playbook.yaml, a generic atomic
playbook that can be configured inside the ansible-runner container to
run the tasks in any arbitrary file in any role.

Complementary to the corresponding changes in tripleo-common[1], but they
can be merged separatedly.

The ansibleee-operator will take care of filling the contents of the
env variable in [2]

[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308
[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/19

Change-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/865309/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/standalone-playbook.yaml'],1,759d91981fe7b179a8b5356ac03808ee946e71b8,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - hosts: ""{{ primary_role_name | default([]) }}:{{ deploy_target_host | default('overcloud') }}"" name: Deploy TripleO Operating System Configure strategy: tripleo_free any_errors_fatal: true become: true tasks: - name: Generic standalone playbook running {{ standalone_role }} | {{ standalone_role_tasks }} import_role: name: ""{{ standalone_role }}"" tasks_from: ""{{ standalone_role_tasks }}"" ",,27,0
openstack%2Ftripleo-common~865308,openstack/tripleo-common,master,If9af1257f0600c9ab1529fdcb985c08525cf8ef7,Use a generic playbook to run custom tasks,ABANDONED,2022-11-22 16:14:31.000000000,2022-11-29 16:54:55.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 16:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3ae645d9b0a521a29da5a398fcce45fc4f3080c', 'message': 'Add new configuration file extravars\n\nRegrettably, ansible-runner does not allow to pass directly\n--extra-vars to the underlying ansible-playbook command from the CLI,\nit requires those extra-vars to be located in the extravars file.\nWe require a couple of well defined extravars to be able to run files\ninside roles directly with the help of a generic playbook.\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}, {'number': 2, 'created': '2022-11-23 15:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66215232bd972c5050302f8b24e1e42ab0ea749b', 'message': 'Add new configuration file extravars\n\nRegrettably, ansible-runner does not allow to pass directly\n--extra-vars to the underlying ansible-playbook command from the CLI,\nit requires those extra-vars to be located in the extravars file.\nWe require a couple of well defined extravars to be able to run files\ninside roles directly with the help of a generic playbook.\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}, {'number': 3, 'created': '2022-11-24 14:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4bd583f56d2b4d9b122ec02fd68086152566d0c', 'message': 'Use a generic playbook to run custom tasks\n\nThe entrypoint must replace the environment variables in the\nstandalone-playbook.yaml generic playbook so arbitrary roles\nand tasks can be run inside the ansible-runner container.\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}, {'number': 4, 'created': '2022-11-24 14:04:15.000000000', 'files': ['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8175ee852f00cef79dc9b25d80d31b53af4b852', 'message': 'Use a generic playbook to run custom tasks\n\nThe entrypoint must replace the environment variables in the\nstandalone-playbook.yaml generic playbook so arbitrary roles\nand tasks can be run inside the ansible-runner container.\n\nRelated with https://review.opendev.org/c/openstack/tripleo-ansible/+/865309\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}]",2,865308,c8175ee852f00cef79dc9b25d80d31b53af4b852,15,5,4,32968,,,0,"Use a generic playbook to run custom tasks

The entrypoint must replace the environment variables in the
standalone-playbook.yaml generic playbook so arbitrary roles
and tasks can be run inside the ansible-runner container.

Related with https://review.opendev.org/c/openstack/tripleo-ansible/+/865309

Change-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/865308/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh', 'container-images/kolla/tripleo-ansible-ee/extravars', 'container-images/tcib/tripleo-ansible-ee/tripleo-ansible-ee.yaml']",3,a3ae645d9b0a521a29da5a398fcce45fc4f3080c,,- run: >- cp /usr/share/openstack-tripleo-common-containers/container-images/kolla/tripleo-ansible-ee/extravars /runner/env/extravars && chmod 777 /runner/env/extravars,,8,0
openstack%2Fnetworking-sfc~865982,openstack/networking-sfc,master,I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b,Cleanup tox.ini,MERGED,2022-11-29 11:08:31.000000000,2022-11-29 16:38:12.000000000,2022-11-29 16:37:01.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:08:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f3de0806c8bac71605edab30fffefee0380edf1f', 'message': 'Cleanup tox.ini\n\nFor details see the mail:\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html\n\nChange-Id: I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b\n'}]",0,865982,f3de0806c8bac71605edab30fffefee0380edf1f,8,3,1,8313,,,0,"Cleanup tox.ini

For details see the mail:
https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html

Change-Id: I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/82/865982/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f3de0806c8bac71605edab30fffefee0380edf1f,cleanup-tox,,install_command = pip install {opts} {packages},0,1
openstack%2Fopenstack-ansible-os_neutron~864872,openstack/openstack-ansible-os_neutron,master,I1a0c1b5a125c72635efc89c9763aa41bfb503a3f,Allow to set dnsmasq configuration options,MERGED,2022-11-17 11:17:21.000000000,2022-11-29 16:20:09.000000000,2022-11-29 16:18:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-17 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a475446dbd17c8cd3d5299d076127bfac1ce3794', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}, {'number': 2, 'created': '2022-11-22 09:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ebcc9827aebd145d247de8dbcca882d855d6b1f8', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}, {'number': 3, 'created': '2022-11-23 12:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/af75464657d5fc26b6a79ce6848468b946e641ea', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}, {'number': 4, 'created': '2022-11-23 14:20:18.000000000', 'files': ['releasenotes/notes/neutron-dhcp-config-list-3e9354e5da138b53.yaml', 'templates/dnsmasq-neutron.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2d53620286fb139ffe7e292907c1935a29d20c02', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}]",5,864872,2d53620286fb139ffe7e292907c1935a29d20c02,21,3,4,31792,,,0,"Allow to set dnsmasq configuration options

This is useful to work around
https://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting
""no-negcache"" into neutron_dhcp_config_list.

Change-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/72/864872/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/dnsmasq-neutron.conf.j2', 'defaults/main.yml']",2,a475446dbd17c8cd3d5299d076127bfac1ce3794,dnsmasq-options,# Dnsmasq has furthermore some options in its configuration that are not # key/value pairs but just options. A deployer can configure those with this # list: neutron_dhcp_config_list: [] ,,8,0
openstack%2Fneutron-dynamic-routing~865983,openstack/neutron-dynamic-routing,master,Ib1406e3c3c394765e289c36b0f3abccc36db467f,Cleanup tox.ini,MERGED,2022-11-29 11:10:32.000000000,2022-11-29 15:27:06.000000000,2022-11-29 15:25:55.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:10:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c5a2214b4af66f43f24ee235871073621f30c22c', 'message': 'Cleanup tox.ini\n\nFor details see the mail:\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html\n\nChange-Id: Ib1406e3c3c394765e289c36b0f3abccc36db467f\n'}]",0,865983,c5a2214b4af66f43f24ee235871073621f30c22c,8,3,1,8313,,,0,"Cleanup tox.ini

For details see the mail:
https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html

Change-Id: Ib1406e3c3c394765e289c36b0f3abccc36db467f
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/83/865983/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c5a2214b4af66f43f24ee235871073621f30c22c,cleanup-tox,,install_command =pip install {opts} {packages},0,1
openstack%2Fopenstack-ansible~865705,openstack/openstack-ansible,master,I84066bb25f64d6fc8742caade691495244aa9de3,Do not explicitly define NFS version in mount options,ABANDONED,2022-11-25 18:13:09.000000000,2022-11-29 15:27:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-25 18:13:09.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4125c359e2384da97e6e3ad75c29e1523742f517', 'message': ""Do not explicitly define NFS version in mount options\n\nCurrently our cinder & glance gates are broken[1].\n\nTLDR, we can't define NFS version twice in mount options.\nI see no reason of defining NFS version at all since it can be\nautonegotiated.\n\n[1] https://zuul.opendev.org/t/openstack/build/07862b60e8b64062a432004150f9efbe/log/logs/host/cinder-volume.service.journal-19-33-56.log.txt#6762\n\nChange-Id: I84066bb25f64d6fc8742caade691495244aa9de3\n""}]",2,865705,4125c359e2384da97e6e3ad75c29e1523742f517,6,2,1,32666,,,0,"Do not explicitly define NFS version in mount options

Currently our cinder & glance gates are broken[1].

TLDR, we can't define NFS version twice in mount options.
I see no reason of defining NFS version at all since it can be
autonegotiated.

[1] https://zuul.opendev.org/t/openstack/build/07862b60e8b64062a432004150f9efbe/log/logs/host/cinder-volume.service.journal-19-33-56.log.txt#6762

Change-Id: I84066bb25f64d6fc8742caade691495244aa9de3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/865705/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'],1,4125c359e2384da97e6e3ad75c29e1523742f517,," nfs_mount_options: noatime,rw,bg,intr,async,timeo=60"," nfs_mount_options: vers=4,nfsvers=4,noatime,rw,bg,intr,async,timeo=60",1,1
openstack%2Fpython-tripleoclient~824929,openstack/python-tripleoclient,master,I5080afe3b96d286f3712f80f0e35e75a18b51a21,Wire-in nova-hw-machine-type-upgrade env,ABANDONED,2022-01-17 12:10:17.000000000,2022-11-29 15:27:00.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 10135}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-17 12:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e3a33f2c1318e3339ed4eadcd6196fb5fb3065a', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-01-17 12:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6f749d7e96e0cde2ff9e6c5548fa036eb78122b', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-01-19 12:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d49f9a77d9d5741bececb4c9bafe60dcb42650a', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-02-02 23:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bec681765f943360d9e5ee3697798c03b3a6a86b', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-09-20 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/38bb222509f954edfb0baaa1fc2f837f6343f2d3', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nMultiple envs are required for mixed-rhel cases.\nThere is changes in defaults of Heat paramters that need\nto be held back while running upgrade prepare. But as there\nis no more upgrade converge step, because of ephmeral Heat\nspecifics, the client hooks would need to remove those\nextra converge env files, whenever required.\n\nIn particular, for a HW machine type in Nova, the converge\nwill need to be run with an extra file to hold back the machine\ntype to a pre-upgrade run (the most recent) value. Later on,\nthe moment you no longer have EL8 nodes (all upgraded) this\nvalue could be removed by some hook in the tripleo client code\n(TBD).\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-09-20 12:40:13.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61b4861cbffa934f990af557bef73492d73c82fb', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nMultiple envs are required for mixed-rhel cases.\nThere is changes in defaults of Heat parameters that need\nto be held back while running upgrade prepare. But as there\nis no more upgrade converge step, because of ephemeral Heat\nspecifics, the client hooks would need to remove those\nextra converge env files, whenever required.\n\nIn particular, for a HW machine type in Nova, the converge\nwill need to be run with an extra file to hold back the machine\ntype to a pre-upgrade run (the most recent) value. Later on,\nthe moment you no longer have EL8 nodes (all upgraded) this\nvalue could be removed by some hook in the tripleo client code\n(TBD).\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",16,824929,61b4861cbffa934f990af557bef73492d73c82fb,41,11,6,6926,,,0,"Wire-in nova-hw-machine-type-upgrade env

Make upgrade envs util taking a list of upgrade envs
as well. Add an extra upgrade env that pins NovaHWMachineType
during upgrade.

Multiple envs are required for mixed-rhel cases.
There is changes in defaults of Heat parameters that need
to be held back while running upgrade prepare. But as there
is no more upgrade converge step, because of ephemeral Heat
specifics, the client hooks would need to remove those
extra converge env files, whenever required.

In particular, for a HW machine type in Nova, the converge
will need to be run with an extra file to hold back the machine
type to a pre-upgrade run (the most recent) value. Later on,
the moment you no longer have EL8 nodes (all upgraded) this
value could be removed by some hook in the tripleo client code
(TBD).

Change-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21
related: rhbz#1946961
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/824929/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py']",4,6e3a33f2c1318e3339ed4eadcd6196fb5fb3065a,pin_hw_machine_type, upgrade_templates = constants.UPGRADE_PREPARE_ENV self.upgrade_templates) upgrade_templates = constants.UPGRADE_CONVERGE_ENV, template = constants.UPGRADE_PREPARE_ENV self.template) template = constants.UPGRADE_CONVERGE_ENV,40,14
openstack%2Ftap-as-a-service~865984,openstack/tap-as-a-service,master,I936c121d37c2b19da48836607917dccfd50d5b22,Cleanup tox.ini,MERGED,2022-11-29 11:13:46.000000000,2022-11-29 15:19:42.000000000,2022-11-29 15:19:42.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:13:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3b110ff4059f6b2102940f6ddc7feacbd0b71e11', 'message': 'Cleanup tox.ini\n\nFor details see the mail:\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html\n\nChange-Id: I936c121d37c2b19da48836607917dccfd50d5b22\n'}]",0,865984,3b110ff4059f6b2102940f6ddc7feacbd0b71e11,7,3,1,8313,,,0,"Cleanup tox.ini

For details see the mail:
https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html

Change-Id: I936c121d37c2b19da48836607917dccfd50d5b22
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/84/865984/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3b110ff4059f6b2102940f6ddc7feacbd0b71e11,cleanup-tox,,install_command = pip install {opts} {packages},0,1
openstack%2Fcharm-nova-cloud-controller~862246,openstack/charm-nova-cloud-controller,stable/train,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:26:25.000000000,2022-11-29 14:45:07.000000000,2022-11-29 14:45:07.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/8ab85af3820bf98b65edb839a382e15050f0c28f', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:13:47.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3e22bce2d9432497068785369a4b04e8c814ffdb', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",0,862246,3e22bce2d9432497068785369a4b04e8c814ffdb,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/46/862246/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,8ab85af3820bf98b65edb839a382e15050f0c28f,bug/1992789-stable/train, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~862245,openstack/charm-nova-cloud-controller,stable/ussuri,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:26:08.000000000,2022-11-29 14:45:05.000000000,2022-11-29 14:45:05.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/de0220b8ecf02c26e27ede89efae9cece0215b82', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:13:07.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b40ea5d3eb65dd6d91f7cf1bdffdfd93705aa256', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",1,862245,b40ea5d3eb65dd6d91f7cf1bdffdfd93705aa256,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/45/862245/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,de0220b8ecf02c26e27ede89efae9cece0215b82,bug/1992789-stable/ussuri, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~862243,openstack/charm-nova-cloud-controller,stable/victoria,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:25:19.000000000,2022-11-29 14:45:03.000000000,2022-11-29 14:45:03.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/312ac5573868c70e0e9335fdc525ae11b846e832', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:12:20.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e2518f359ee2d4c28bafe4ed6c4e2211e6ad6547', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",1,862243,e2518f359ee2d4c28bafe4ed6c4e2211e6ad6547,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/43/862243/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,312ac5573868c70e0e9335fdc525ae11b846e832,bug/1992789-stable/victoria, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~862242,openstack/charm-nova-cloud-controller,stable/wallaby,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:25:04.000000000,2022-11-29 14:45:01.000000000,2022-11-29 14:45:01.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/520bca10184bcb176f231139ce5280c6ec38ec71', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:11:11.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/80a19d8b4237fc5514be648ac8f8535aee972998', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",1,862242,80a19d8b4237fc5514be648ac8f8535aee972998,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/42/862242/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,520bca10184bcb176f231139ce5280c6ec38ec71,bug/1992789-stable/wallaby, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~862244,openstack/charm-nova-cloud-controller,stable/xena,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:25:47.000000000,2022-11-29 14:44:59.000000000,2022-11-29 14:44:59.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/14841d5efd9d8617be5c43e240652f6749fa23e1', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:10:19.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1d7fc0f13742b22cc5e949c08c68800ecbaaeccb', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",3,862244,1d7fc0f13742b22cc5e949c08c68800ecbaaeccb,14,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/44/862244/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,14841d5efd9d8617be5c43e240652f6749fa23e1,bug/1992789-stable/xena, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-neutron-api~860430,openstack/charm-neutron-api,stable/train,I1596352db38bb423019b7d15efe5a217730d8066,"Pin importlib-metadata, -resources for py37",MERGED,2022-10-05 12:49:06.000000000,2022-11-29 14:35:38.000000000,2022-11-29 14:35:38.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 12:49:06.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6fddfaac8a7d5103695fba1c6b609180234c108d', 'message': 'Pin importlib-metadata, -resources for py37\n\nimportlib-metadata 5.0.0 breaks compatibility with setuptools that is\npinned in the train track for bionic; thus this pins allows the py37\ntests to pass.\n\nChange-Id: I1596352db38bb423019b7d15efe5a217730d8066\n'}]",1,860430,6fddfaac8a7d5103695fba1c6b609180234c108d,7,3,1,20870,,,0,"Pin importlib-metadata, -resources for py37

importlib-metadata 5.0.0 breaks compatibility with setuptools that is
pinned in the train track for bionic; thus this pins allows the py37
tests to pass.

Change-Id: I1596352db38bb423019b7d15efe5a217730d8066
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/30/860430/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6fddfaac8a7d5103695fba1c6b609180234c108d,pin-importlib-metadata-stable/train,importlib-metadata<5.0.0; python_version < '3.8' importlib-resources<5.8.0; python_version < '3.8',,2,0
openstack%2Ftripleo-common~865139,openstack/tripleo-common,master,Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,Align tss user config with qemu and nova use cases,MERGED,2022-11-21 14:44:03.000000000,2022-11-29 14:33:10.000000000,2022-11-29 14:32:03.000000000,"[{'_account_id': 6926}, {'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-21 14:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f7ffe8bab962016f45be36842b19e98312d7cce', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-11-21 15:13:35.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7981fdd68a9bfa52e82be42d8e1b1a24484bf928', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nThere is no upgrade impact as vTPM had never been technically released\nin the layered downstream product.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",7,865139,7981fdd68a9bfa52e82be42d8e1b1a24484bf928,23,9,2,6926,,,0,"Align tss user config with qemu and nova use cases

In order to fix swtpm logs access permissions and to use the same
approach among Compute specific users (qemu, tss, libvirt, nova):

* Add nova to tss group for swtpm tool to function in virtqemud
  when running w/o root access.
* Change tss user uid/gid/home dir config in TCIB similarly to qemu,
  for consistency reasons.

There is no upgrade impact as vTPM had never been technically released
in the layered downstream product.

Related: rhbz#1782128

Change-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/865139/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tss_user_id-604d300610a66488.yaml', 'container-images/kolla/base/uid_gid_manage.sh']",2,7f7ffe8bab962016f45be36842b19e98312d7cce,swtpm_logs,"_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,tss,kolla'_SUPPORTED_USERS['tss']='tss 59 59'","_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,kolla'_SUPPORTED_USERS['tss']='tss 42485 42485 /var/lib/tpm kolla'",13,2
openstack%2Fcharm-manila-ganesha~856694,openstack/charm-manila-ganesha,stable/train,I4236cb4784062807d53381380d9d161ce2f450ee,Use hacluster.add_location(),ABANDONED,2022-09-09 10:22:28.000000000,2022-11-29 14:31:14.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 10:22:28.000000000', 'files': ['src/reactive/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/255febc466dd156c20df080ae40573b0d885369b', 'message': ""Use hacluster.add_location()\n\nThis change removes the workaround that was needed when the hacluster\ninterface didn't have a method to define colocations.\n\nRelated-Bug: #1880644\nChange-Id: I4236cb4784062807d53381380d9d161ce2f450ee\n(cherry picked from commit f2d9ed37090607676c5c6b54ea797c55e228d2af)\n""}]",1,856694,255febc466dd156c20df080ae40573b0d885369b,5,3,1,12549,,,0,"Use hacluster.add_location()

This change removes the workaround that was needed when the hacluster
interface didn't have a method to define colocations.

Related-Bug: #1880644
Change-Id: I4236cb4784062807d53381380d9d161ce2f450ee
(cherry picked from commit f2d9ed37090607676c5c6b54ea797c55e228d2af)
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/94/856694/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/manila_ganesha.py'],1,255febc466dd156c20df080ae40573b0d885369b,bug/1880644," hacluster.add_colocation('ganesha_with_vip', 'inf', ('res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips')) hacluster.add_colocation('manila_with_vip', 'inf', ('res_manila_share_manila_share', 'grp_ganesha_vips'))"," # This is a bit of a nasty hack to ensure that we can colocate the # services to make manila + ganesha colocate. This can be tidied up # once # https://bugs.launchpad.net/charm-interface-hacluster/+bug/1880644 # is resolved import relations.hacluster.interface_hacluster.common as hacluster_common # noqa crm = hacluster_common.CRM() crm.colocation('ganesha_with_vip', 'inf', 'res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips') crm.colocation('manila_with_vip', 'inf', 'res_manila_share_manila_share', 'grp_ganesha_vips') hacluster.manage_resources(crm)",6,16
openstack%2Fcharm-octavia-diskimage-retrofit~859663,openstack/charm-octavia-diskimage-retrofit,stable/train,I33f16434a11210e1b585b790263abd225862c756,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 17:12:32.000000000,2022-11-29 14:28:48.000000000,2022-11-29 14:28:48.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:12:32.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/6d74f143ffdf3764b1fde56d2915f69a8d30c831', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I33f16434a11210e1b585b790263abd225862c756\n'}]",2,859663,6d74f143ffdf3764b1fde56d2915f69a8d30c831,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I33f16434a11210e1b585b790263abd225862c756
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/63/859663/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,6d74f143ffdf3764b1fde56d2915f69a8d30c831,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d935a04074740e14feb0b73d485952b2546ae04c"", ""branch"": ""527dd64fc4b9a6b0f8d80a3c2c0b865155050275"", ""branch"": ""fb46dec78d390571753d21876bbba689bbbca9e4"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"", ""branch"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",9,9
openstack%2Fcharm-neutron-api-plugin-ironic~859660,openstack/charm-neutron-api-plugin-ironic,stable/train,I9103a86ea05142d3225d95a64a01dc66e4755c47,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 17:10:48.000000000,2022-11-29 14:27:47.000000000,2022-11-29 14:27:47.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:10:48.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/842a1e541abd33fa562050b980d606391601cf28', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I9103a86ea05142d3225d95a64a01dc66e4755c47\n'}]",2,859660,842a1e541abd33fa562050b980d606391601cf28,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I9103a86ea05142d3225d95a64a01dc66e4755c47
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/60/859660/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,842a1e541abd33fa562050b980d606391601cf28,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""da16f317315280269821acb21338018bf0825a5a"", ""branch"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",6,6
openstack%2Fcharm-octavia-dashboard~859662,openstack/charm-octavia-dashboard,stable/train,I0abf6410ddc3f1f1a546a0e6e3350489fd90edec,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 17:12:00.000000000,2022-11-29 14:25:24.000000000,2022-11-29 14:25:24.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:12:00.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/4273be24bab1e3a59c4cfeb8e131c59948e6866a', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I0abf6410ddc3f1f1a546a0e6e3350489fd90edec\n'}]",2,859662,4273be24bab1e3a59c4cfeb8e131c59948e6866a,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I0abf6410ddc3f1f1a546a0e6e3350489fd90edec
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/62/859662/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,4273be24bab1e3a59c4cfeb8e131c59948e6866a,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06031deac8b37e912dc69f1c6d2e2634696d2547"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",5,5
openstack%2Fkolla-ansible~865817,openstack/kolla-ansible,master,Iafa24db06ad46bcfe250451ed98bc3c48d8a5138,Removal of dockerSDK check for other container engines,MERGED,2022-11-28 10:09:52.000000000,2022-11-29 14:01:40.000000000,2022-11-29 14:00:35.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-11-28 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ed82b486cb602d86e7aab2cfde383b1e1a6bbf2', 'message': 'Small fixes\n\nTypo fix and adding condition on not checking docket SDK version\nwhen container engine is not docker\n\nSigned-off-by: Ivan Halomi <i.halomi@partner.samsung.com>\nChange-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138\n'}, {'number': 2, 'created': '2022-11-28 10:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f6b341836013f46aca8e94ce6756ec5e9ab7b30', 'message': 'Small fixes\n\nTypo fix and adding condition on not checking docker SDK version\nwhen container engine is not docker\n\nSigned-off-by: Ivan Halomi <i.halomi@partner.samsung.com>\nChange-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138\n'}, {'number': 3, 'created': '2022-11-28 12:11:11.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/swift/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/652b9cfe0ef2e5d7a950bde8580a18d80bb6f512', 'message': 'Removal of dockerSDK check for other container engines\n\nTypo fix and adding condition on not checking docker SDK version\nwhen container engine is not docker\n\nThis is a followup to Ic30b67daa2e215524096ad1f4385c569e3d41b95\nSigned-off-by: Ivan Halomi <i.halomi@partner.samsung.com>\nChange-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138\n'}]",8,865817,652b9cfe0ef2e5d7a950bde8580a18d80bb6f512,14,3,3,35105,,,0,"Removal of dockerSDK check for other container engines

Typo fix and adding condition on not checking docker SDK version
when container engine is not docker

This is a followup to Ic30b67daa2e215524096ad1f4385c569e3d41b95
Signed-off-by: Ivan Halomi <i.halomi@partner.samsung.com>
Change-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/865817/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/swift/tasks/reconfigure.yml']",2,7ed82b486cb602d86e7aab2cfde383b1e1a6bbf2,," command: ""{{ kolla_container_engine }} exec -u root {{ item.name }} /usr/local/bin/kolla_set_configs --check"""," command: ""{{ kolla_container_engine }}exec -u root {{ item.name }} /usr/local/bin/kolla_set_configs --check""",4,2
openstack%2Ftripleo-ansible~865977,openstack/tripleo-ansible,stable/train,I5290f65965164a55594e2ec9fd1022ee9320397b,[Train Only] Delete duplicate filter definition.,ABANDONED,2022-11-29 10:58:44.000000000,2022-11-29 13:52:48.000000000,,"[{'_account_id': 6816}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:58:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5323b8def1e8aa7e7145b763beba93068cf414df', 'message': ""[Train Only] Delete duplicate filter definition.\n\nThis code creates filters that are duplicate of those created in\ntripleo_upgrade.py[1]. This duplication is a source of error if\npatches are created for one and not the other.\n\nWe remove the one here and let the one in tripleo-upgrade be the\nsource of truth as those filters are specific to tripleo-upgrade.\n\nTrain only because that file doesn't exist in later version.\n\n[1] https://opendev.org/openstack/tripleo-upgrade/src/branch/stable/wallaby/filter_plugins/tripleo_upgrade.py#L1\n\nRelated-Bug: #1994081\n\nChange-Id: I5290f65965164a55594e2ec9fd1022ee9320397b\n""}]",1,865977,5323b8def1e8aa7e7145b763beba93068cf414df,4,2,1,8297,,,0,"[Train Only] Delete duplicate filter definition.

This code creates filters that are duplicate of those created in
tripleo_upgrade.py[1]. This duplication is a source of error if
patches are created for one and not the other.

We remove the one here and let the one in tripleo-upgrade be the
source of truth as those filters are specific to tripleo-upgrade.

Train only because that file doesn't exist in later version.

[1] https://opendev.org/openstack/tripleo-upgrade/src/branch/stable/wallaby/filter_plugins/tripleo_upgrade.py#L1

Related-Bug: #1994081

Change-Id: I5290f65965164a55594e2ec9fd1022ee9320397b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/865977/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py'],1,5323b8def1e8aa7e7145b763beba93068cf414df,,,"#!/usr/bin/env python # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import six import sys import yaml def to_inventory_hostmap(data): # Flattens inventory to a group->host mapping if isinstance(data, six.string_types): inventory = yaml.safe_load(data) else: inventory = data group_host_map = {} todo = collections.deque(inventory.keys()) while todo: group = todo.popleft() if 'hosts' in inventory[group]: group_host_map[group] = list(inventory[group]['hosts']) else: if 'children' in inventory[group]: for child in inventory[group]['children']: # Children have not all been flattened yet # so postpone flattening this group if child in todo: todo.append(group) break else: group_host_map[group] = [] for child in inventory[group]['children']: group_host_map[group] += group_host_map[child] group_host_map[group].sort() return group_host_map def to_inventory_rolemap(data): # Falttens inventory to a group->role mapping if isinstance(data, six.string_types): inventory = yaml.safe_load(data) else: inventory = data group_role_map = {} todo = collections.deque(inventory.keys()) while todo: group = todo.popleft() if 'tripleo_role_name' in inventory[group].get('vars', {}): group_role_map[group] = [inventory[group]['vars']['tripleo_role_name']] else: if 'children' in inventory[group]: for child in inventory[group]['children']: # Children have not all been flattened yet # so postpone flattening this group if child in todo: todo.append(group) break else: group_role_map[group] = [] for child in inventory[group]['children']: group_role_map[group] += group_role_map[child] group_role_map[group].sort() return group_role_map def to_inventory_roles(data): # Returns list of tripleo roles in inventory if isinstance(data, six.string_types): inventory = yaml.safe_load(data) else: inventory = data roles = {} for group, group_data in six.iteritems(inventory): group_role = group_data.get('vars', {}).get('tripleo_role_name', None) if group_role is not None: roles[group_role] = True return sorted(list(roles)) class FilterModule(object): def filters(self): return { 'to_inventory_hostmap': to_inventory_hostmap, 'to_inventory_rolemap': to_inventory_rolemap, 'to_inventory_roles': to_inventory_roles, } ",0,104
openstack%2Fkolla-ansible~847769,openstack/kolla-ansible,master,I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f,ovn: Break out role into ovn-db and ovn-controller roles,MERGED,2022-06-27 11:38:56.000000000,2022-11-29 13:48:52.000000000,2022-11-29 13:46:27.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-27 11:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c1daff5536fa106a489b78e82c3df4664795066', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 2, 'created': '2022-06-27 12:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d421f3eb9048f55dac68eb487054f2d1d6bd5933', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 3, 'created': '2022-06-27 15:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f614ca3065a85b0fe48ad792d377087c5dec4bbd', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 4, 'created': '2022-06-27 16:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a94b599ebf06e8fd6e89babfd2ceea0015a4ab9c', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 5, 'created': '2022-06-28 11:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a14fb6af25b4561b6b0d03015b5c9718dbcaa25', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 6, 'created': '2022-06-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/028aa1117b4c81674f177d57c87a8fcd300e6054', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 7, 'created': '2022-06-28 14:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4e464e8a241ec30a953a38511c5a3ecc4422a84', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 8, 'created': '2022-07-29 14:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58c55d578d1410407d348b0227b63cf34ff1640b', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 9, 'created': '2022-07-29 14:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e970a30fc1e9e6cf37c7ea8124f3f37c7bb1b75b', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 10, 'created': '2022-08-01 11:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46461c0b1fc65452b2fb473deba29633485de708', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 11, 'created': '2022-08-01 14:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80187416cdb1f3eb6096583ebc56d70f77e7bda8', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 12, 'created': '2022-08-22 16:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ca099f959bbc003b006946ca2f8dd0003559e91', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 13, 'created': '2022-08-22 16:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfe0f30fe888f1f0bfef4c9f22e48582220b8bd8', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 14, 'created': '2022-10-05 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e620f7ed6a83fa1ef181e01614fbf3212182da3b', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 15, 'created': '2022-10-18 12:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c16b281b56bb6b33d2fc90a6cfa7df83bed66ebb', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 16, 'created': '2022-10-18 13:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d4301493ecc3edc1de0550f508d1a917abbc960', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 17, 'created': '2022-11-15 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77fae36de937634a50d589feef9bb61db58aff31', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 18, 'created': '2022-11-23 09:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9edf36b9ee342ffad7612007e82b5a4dfb06d51f', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 19, 'created': '2022-11-23 09:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/611cd44d64ebdb4bb274a54b789bf5be2fa2ae14', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 20, 'created': '2022-11-28 12:52:32.000000000', 'files': ['ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-controller/tasks/config.yml', 'ansible/roles/ovn-db/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/tasks/pull.yml', 'ansible/site.yml', 'ansible/roles/ovn-db/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/upgrade.yml', 'ansible/roles/ovn-controller/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/handlers/main.yml', 'ansible/roles/ovn-db/tasks/precheck.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/ovn-controller/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/reconfigure.yml', 'ansible/roles/ovn-db/tasks/pull.yml', 'ansible/roles/ovn-controller/vars/main.yml', 'ansible/roles/ovn-db/tasks/stop.yml', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/vars/main.yml', 'ansible/roles/ovn-controller/tasks/precheck.yml', 'ansible/roles/ovn-db/templates/ovn-northd.json.j2', 'ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'releasenotes/notes/ovn-controller-ecb49695dc377e88.yaml', 'ansible/roles/ovn-controller/tasks/deploy.yml', 'ansible/roles/ovn-controller/tasks/setup-ovs.yml', 'ansible/roles/ovn-db/tasks/main.yml', 'ansible/roles/ovn-controller/templates/ovn-controller.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'zuul.d/base.yaml', 'ansible/roles/ovn-controller/tasks/upgrade.yml', 'ansible/roles/ovn-db/tasks/config.yml', 'ansible/roles/ovn-controller/tasks/main.yml', 'ansible/roles/ovn-controller/tasks/stop.yml', 'ansible/roles/ovn-controller/defaults/main.yml', 'ansible/roles/ovn-controller/tasks/reconfigure.yml', 'ansible/roles/ovn-db/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63a7968d8d968663c4a19be164a0bdfb641491ea', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}]",47,847769,63a7968d8d968663c4a19be164a0bdfb641491ea,79,6,20,22629,,,0,"ovn: Break out role into ovn-db and ovn-controller roles

Instead of handling everything in one role - let's have small
fit-for-purpose roles, because in reality these are two hosts
roles and performance should be better with this approach.

[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html

Change-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/847769/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn-controller/tasks/bootstrap.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-controller/tasks/config.yml', 'ansible/roles/ovn-db/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/tasks/pull.yml', 'ansible/site.yml', 'ansible/roles/ovn-db/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/upgrade.yml', 'ansible/roles/ovn-controller/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/handlers/main.yml', 'ansible/roles/ovn-db/tasks/precheck.yml', 'ansible/roles/ovn-controller/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/reconfigure.yml', 'ansible/roles/ovn-db/tasks/pull.yml', 'ansible/roles/ovn-controller/vars/main.yml', 'ansible/roles/ovn-db/tasks/stop.yml', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/tasks/check.yml', 'ansible/roles/ovn-db/tasks/bootstrap.yml', 'ansible/roles/ovn-db/vars/main.yml', 'ansible/roles/ovn-controller/tasks/precheck.yml', 'ansible/roles/ovn-db/templates/ovn-northd.json.j2', 'ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-controller/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/main.yml', 'ansible/roles/ovn-controller/templates/ovn-controller.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'ansible/roles/ovn-controller/tasks/upgrade.yml', 'ansible/roles/ovn-db/tasks/config.yml', 'ansible/roles/ovn-controller/tasks/main.yml', 'ansible/roles/ovn-controller/tasks/stop.yml', 'ansible/roles/ovn-controller/defaults/main.yml', 'ansible/roles/ovn-controller/tasks/check.yml', 'ansible/roles/ovn-controller/tasks/reconfigure.yml', 'ansible/roles/ovn-db/handlers/main.yml']",35,1c1daff5536fa106a489b78e82c3df4664795066,," service: ""{{ ovn_db_services[service_name] }}"" service: ""{{ ovn_db_services[service_name] }}"" service: ""{{ ovn_db_services[service_name] }}"" service: ""{{ ovn_db_services[service_name] }}"""," service: ""{{ ovn_services[service_name] }}"" service: ""{{ ovn_services[service_name] }}"" service: ""{{ ovn_services[service_name] }}"" service: ""{{ ovn_services[service_name] }}""",80,24
openstack%2Fproject-config~865433,openstack/project-config,master,I92bc12b8f712e28962d24dd6474cfce22b81222c,Ensure NetworkManager doesn't override /etc/resolv.conf,MERGED,2022-11-23 14:12:54.000000000,2022-11-29 13:44:53.000000000,2022-11-29 13:19:44.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 14:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0ed80fc09880081148438d04ec0137e9d1e0498f', 'message': ""Ensure NetworkManager doesn't override /etc/resolv.conf\n\nUntil now, whenever NetworkManager gets reloaded/restarted/lease\nrefresh, it would override the /etc/resolv.conf file with the\nnameservers and related it gets from the network.\n\nThis patch ensures this won't happen ever again.\n\nChange-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c\n""}, {'number': 2, 'created': '2022-11-24 08:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e919a9b1171efe98aa4051700a63aa5318c63e75', 'message': ""Ensure NetworkManager doesn't override /etc/resolv.conf\n\nUntil now, whenever NetworkManager gets reloaded/restarted/lease\nrefresh, it would override the /etc/resolv.conf file with the\nnameservers and related it gets from the network.\n\nThis patch ensures this won't happen ever again.\n\nChange-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c\n""}, {'number': 3, 'created': '2022-11-28 08:25:31.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-boot-settings'], 'web_link': 'https://opendev.org/openstack/project-config/commit/368bb77ee36d3bdae42cf77e57cfaa2718f383f4', 'message': ""Ensure NetworkManager doesn't override /etc/resolv.conf\n\nUntil now, whenever NetworkManager gets reloaded/restarted/lease\nrefresh, it would override the /etc/resolv.conf file with the\nnameservers and related it gets from the network.\n\nThis patch ensures this won't happen ever again.\n\nChange-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c\n""}]",6,865433,368bb77ee36d3bdae42cf77e57cfaa2718f383f4,17,4,3,28223,,,0,"Ensure NetworkManager doesn't override /etc/resolv.conf

Until now, whenever NetworkManager gets reloaded/restarted/lease
refresh, it would override the /etc/resolv.conf file with the
nameservers and related it gets from the network.

This patch ensures this won't happen ever again.

Change-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/865433/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/finalise.d/89-boot-settings', 'nodepool/elements/nodepool-base/install.d/92-venv-crudini']",2,0ed80fc09880081148438d04ec0137e9d1e0498f,unbound/networkmanager,"#!/bin/bash # Copyright (c) 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # dib-lint: disable=setu setpipefail if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -e python3 -m venv /usr/crudini-env if [[ ${DIB_RELEASE} == 'xenial' ]]; then # The pip on xenial can't figure out it shouldn't install # the latest pip; this is the last to support 3.5 /usr/crudini-env/bin/pip install --upgrade pip==20.3.4 else /usr/crudini-env/bin/pip install --upgrade pip fi /usr/crudini-env/bin/pip install crudini ",,35,0
openstack%2Fovn-bgp-agent~865640,openstack/ovn-bgp-agent,master,If614e421bc9739ff9891c62353a768bd9c1fe309,Change strip by split when suitable,ABANDONED,2022-11-29 08:14:27.000000000,2022-11-29 13:37:12.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:14:27.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d8f982b8e901953414f5172d92e7a4b93241943d', 'message': 'Change strip by split when suitable\n\nChange-Id: If614e421bc9739ff9891c62353a768bd9c1fe309\n'}]",3,865640,d8f982b8e901953414f5172d92e7a4b93241943d,6,2,1,23567,,,0,"Change strip by split when suitable

Change-Id: If614e421bc9739ff9891c62353a768bd9c1fe309
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/40/865640/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py']",2,d8f982b8e901953414f5172d92e7a4b93241943d,," mock_p.assert_called_once_with(port.strip(""cr-lrp-""))"," mock_p.assert_called_once_with(port.split(""cr-lrp-"")[1])",3,3
openstack%2Frequirements~865963,openstack/requirements,master,I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08,update constraint for neutron-lib to new release 3.2.0,ABANDONED,2022-11-29 09:16:27.000000000,2022-11-29 13:35:13.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 09:16:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ddfd68f95a8badae43df5137adfd74164603fee', 'message': 'update constraint for neutron-lib to new release 3.2.0\n\nnew version 3.2.0\n\nChange-Id: I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08\n'}]",2,865963,6ddfd68f95a8badae43df5137adfd74164603fee,6,2,1,33607,,,0,"update constraint for neutron-lib to new release 3.2.0

new version 3.2.0

Change-Id: I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/865963/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6ddfd68f95a8badae43df5137adfd74164603fee,bug-1986969,neutron-lib===3.2.0,neutron-lib===3.1.0,1,1
openstack%2Fproject-config~865686,openstack/project-config,master,I1dc5e5ed9f93ad40f2089891c63b530994b290f2,Use kolla.config for kolla-ansible in gerrit,MERGED,2022-11-25 13:35:45.000000000,2022-11-29 12:59:03.000000000,2022-11-29 12:50:42.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-11-25 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aba207ace7a5317ec0965b37e083c6e81485881f', 'message': 'Use kolla-core group for kolla-ansible in gerrit\n\nThe kolla project has decided that it no longer needs to have a\ndedicated kolla-ansible-core group that is different from the kolla-core\ngroup. Membership between the two groups has already been synced, so\nthis change is essentially a no-op, but allows us to only maintain a\nsingle group going forward.\n\n[0] https://meetings.opendev.org/meetings/kolla/2022/kolla.2022-11-23-14.00.log.html\n\nChange-Id: I1dc5e5ed9f93ad40f2089891c63b530994b290f2\n'}, {'number': 2, 'created': '2022-11-28 14:59:23.000000000', 'files': ['gerrit/acls/openstack/kolla-ansible.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/98c69f6fa9402a187ca30c29c3140e63a5050a5f', 'message': 'Use kolla.config for kolla-ansible in gerrit\n\nThe kolla project has decided that it no longer needs to have a\ndedicated kolla-ansible-core group that is different from the kolla-core\ngroup. Membership between the two groups has already been synced, so\nthis change is essentially a no-op, but allows us to only maintain a\nsingle group going forward.\n\n[0] https://meetings.opendev.org/meetings/kolla/2022/kolla.2022-11-23-14.00.log.html\n\nChange-Id: I1dc5e5ed9f93ad40f2089891c63b530994b290f2\n'}]",2,865686,98c69f6fa9402a187ca30c29c3140e63a5050a5f,14,4,2,13252,,,0,"Use kolla.config for kolla-ansible in gerrit

The kolla project has decided that it no longer needs to have a
dedicated kolla-ansible-core group that is different from the kolla-core
group. Membership between the two groups has already been synced, so
this change is essentially a no-op, but allows us to only maintain a
single group going forward.

[0] https://meetings.opendev.org/meetings/kolla/2022/kolla.2022-11-23-14.00.log.html

Change-Id: I1dc5e5ed9f93ad40f2089891c63b530994b290f2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/865686/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/kolla-ansible.config'],1,aba207ace7a5317ec0965b37e083c6e81485881f,merge-kolla-groups,abandon = group kolla-core editHashtags = group kolla-core label-Backport-Candidate = -2..+2 group kolla-corelabel-Code-Review = -2..+2 group kolla-core label-Review-Priority = -1..+2 group kolla-core label-Workflow = -1..+1 group kolla-core toggleWipState = group kolla-core,abandon = group kolla-ansible-core editHashtags = group kolla-ansible-core label-Backport-Candidate = -2..+2 group kolla-ansible-corelabel-Code-Review = -2..+2 group kolla-ansible-core label-Review-Priority = -1..+2 group kolla-ansible-core label-Workflow = -1..+1 group kolla-ansible-core toggleWipState = group kolla-ansible-core,7,7
openstack%2Fbarbican~842455,openstack/barbican,master,Ib01714e6462470dd5c3f6f06b52a3afeff573696,Remove six,MERGED,2022-05-19 02:43:57.000000000,2022-11-29 12:50:50.000000000,2022-11-29 12:49:48.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-19 02:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ab61ee526c7e5a9348074115c317487705db76c4', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 2, 'created': '2022-05-19 02:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/186b632f69ca8243c887b29b949bb4993530dbc2', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 3, 'created': '2022-05-19 04:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7bd53dcfff3a14381a49a50932512b0baa70f183', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 4, 'created': '2022-07-30 06:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5c5e94be28e27bee9585fc9b5695c1e7854dffd6', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 5, 'created': '2022-10-28 12:02:30.000000000', 'files': ['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/api/__init__.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6d34865522406d3e9c279f011d414e68a22a04bf', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}]",0,842455,6d34865522406d3e9c279f011d414e68a22a04bf,17,5,5,9816,,,0,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

Also, This removes B314 test from documentation because its actual
implementation was already removed[1].

[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5

Change-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696
",git fetch https://review.opendev.org/openstack/barbican refs/changes/55/842455/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/api/__init__.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py']",39,ab61ee526c7e5a9348074115c317487705db76c4,remove-six,"import builtins with mock.patch(builtins.__name__ + '.open',","import six with mock.patch(six.moves.builtins.__name__ + '.open',",121,162
openstack%2Fnova~863901,openstack/nova,stable/wallaby,Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,[compute] always set instance.host in post_livemigration,MERGED,2022-11-07 16:57:01.000000000,2022-11-29 12:02:39.000000000,2022-11-29 12:01:33.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 16:57:01.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43c0e40d288960760a6eaad05cb9670e01ef40d0', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)\n(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)\n'}]",6,863901,43c0e40d288960760a6eaad05cb9670e01ef40d0,28,3,1,34860,,,0,"[compute] always set instance.host in post_livemigration

This change add a new _post_live_migration_update_host
function that wraps _post_live_migration and just ensures
that if we exit due to an exception instance.host is set
to the destination host.

when we are in _post_live_migration the guest has already
started running on the destination host and we cannot revert.
Sometimes admins or users will hard reboot the instance expecting
that to fix everything when the vm enters the error state after
the failed migrations. Previously this would end up recreating the
instance on the source node leading to possible data corruption if
the instance used shared storage.

Change-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153
Partial-Bug: #1628606
(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)
(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)
(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)
(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/863901/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",3,43c0e40d288960760a6eaad05cb9670e01ef40d0,bug/1628606," self.assertEqual(self.dest.host, server['OS-EXT-SRV-ATTR:host'])"," # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host'])",63,6
openstack%2Fhorizon~831035,openstack/horizon,stable/xena,I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10,Get ports directly instead of via loop,MERGED,2022-02-25 22:06:57.000000000,2022-11-29 12:01:51.000000000,2022-11-29 12:00:48.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-25 22:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/85132116cf6feb259656e8f349e070cf6635da95', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 2, 'created': '2022-04-06 11:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5387ae5b68f5921249eb086360e0d0b75f7ad38d', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 3, 'created': '2022-04-06 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d6c44966e20f2f012b8d594f7a7fd0d0ea6ec53', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 4, 'created': '2022-07-22 13:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dbfa542237a6a4eeea2154d72d0fdd18de6a3743', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 5, 'created': '2022-07-22 14:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/12594fa717570e88442490b15c6aeb83564f6c53', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 6, 'created': '2022-07-23 22:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5653682193912190d53ba38f4fca374204437176', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 7, 'created': '2022-07-23 22:53:18.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/instances/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1561fcce55371c6b2d93a31b83ca533dea82f746', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}]",16,831035,1561fcce55371c6b2d93a31b83ca533dea82f746,29,4,7,19298,,,0,"Get ports directly instead of via loop

In order to get a list of available ports, the current implementation
of the form code in `project/instances/attach_interface` loops through
the available networks in the project and requests a list of ports for
each via the Neutron API. This implementation is O(N) in time with a
large prefactor (the time for a Neutron API call) where N is the
number of networks.

Instead of calling the Neutron API for each network this change uses
one call to the Neutron API to get the list of ports on all networks
and filters this list via a list comprehension. While this
implementation is still O(N) the prefactor is significantly smaller.

Includes some unit test fixes to workaround the fact that patch
6ac31e0 is not backported beyond Y.

Closes-Bug: #1943639
Change-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/831035/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/instances/tests.py']",2,85132116cf6feb259656e8f349e070cf6635da95,lp_1943639," @helpers.create_mocks({api.neutron: ('network_list_for_tenant', 'port_list_with_trunk_types')}) self.mock_port_list_with_trunk_types.return_value = self.ports.list() self.mock_port_list_with_trunk_types.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=self.tenant.id) @helpers.create_mocks({api.neutron: ('network_list_for_tenant', 'port_list_with_trunk_types'), self.mock_port_list_with_trunk_types.return_value = self.ports.list() self.mock_port_list_with_trunk_types.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=self.tenant.id)"," @helpers.create_mocks({api.neutron: ('network_list_for_tenant',)}) @helpers.create_mocks({api.neutron: ('network_list_for_tenant',),",21,11
openstack%2Ftripleo-heat-templates~865881,openstack/tripleo-heat-templates,master,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-28 18:41:56.000000000,2022-11-29 11:59:37.000000000,2022-11-29 11:59:37.000000000,"[{'_account_id': 8833}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-28 18:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38423a5805bb95c448fe5e2144590c9fb36bca43', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n""}, {'number': 2, 'created': '2022-11-28 19:08:12.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59300dfb30c5ee9c8186ee4b28f9c57e9b345647', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n""}]",4,865881,59300dfb30c5ee9c8186ee4b28f9c57e9b345647,14,6,2,30126,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/865881/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,38423a5805bb95c448fe5e2144590c9fb36bca43,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fcharm-neutron-k8s~865965,openstack/charm-neutron-k8s,stable/xena,I5415ea8f6b3941494f3d8504a9518a5781c404a9,Refactor bundle for series alignment,MERGED,2022-11-29 09:41:25.000000000,2022-11-29 11:55:51.000000000,2022-11-29 11:03:20.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 09:41:25.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/db0337e38e533d9520f5b9de8f8c228c10f96120', 'message': 'Refactor bundle for series alignment\n\nSet default series of bundle to jammy, provide charm specific\nseries when needed.\n\nDrop to a single traefik instance for public ingress.\n\nChange-Id: I5415ea8f6b3941494f3d8504a9518a5781c404a9\n'}]",0,865965,db0337e38e533d9520f5b9de8f8c228c10f96120,7,2,1,935,,,0,"Refactor bundle for series alignment

Set default series of bundle to jammy, provide charm specific
series when needed.

Drop to a single traefik instance for public ingress.

Change-Id: I5415ea8f6b3941494f3d8504a9518a5781c404a9
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/65/865965/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,db0337e38e533d9520f5b9de8f8c228c10f96120,shuffle-bundle,, traefik-public: workload-status: active workload-status-message-regex: '^$',3,28
openstack%2Ftripleo-quickstart-extras~863590,openstack/tripleo-quickstart-extras,master,I89a7897e6a4cbf83149302a0ea856b151623b9ba,Added script to spin an instance on external compute,MERGED,2022-11-04 06:45:49.000000000,2022-11-29 11:29:56.000000000,2022-11-29 11:29:56.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-11-04 06:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64a9f52003d38917fe32050f0be7095e93377d3a', 'message': '[DNM] validation check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 2, 'created': '2022-11-04 11:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7521ed75908eab395af0e4bab26285eec548c439', 'message': '[DNM] validation check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 3, 'created': '2022-11-05 00:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af549b5783558aa00d650b91dab2a4d2919f7314', 'message': '[DNM] validation check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 4, 'created': '2022-11-16 10:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a14c3d9f78180a0ca32f19b5b3db17b0f823e0f2', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 5, 'created': '2022-11-16 14:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/feb367d29436437ec55f009e0abe5ed7ed767268', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 6, 'created': '2022-11-18 10:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6c3f4bdc7087c92d9bd93c22bbf05b0d3356fe25', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 7, 'created': '2022-11-24 07:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6d4c9d2731e9c75ae98f4d6b9b9616977154988f', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 8, 'created': '2022-11-25 04:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8dba94abf98a7269a09e00b42aa8e1d29ec3ed8c', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 9, 'created': '2022-11-28 12:26:06.000000000', 'files': ['roles/external-data-plane-management/templates/validate_edpm.sh.j2', 'roles/external-data-plane-management/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a66b23e7522ff612552b6ab8759e45945ea13afd', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}]",15,863590,a66b23e7522ff612552b6ab8759e45945ea13afd,44,5,9,12393,,,0,"Added script to spin an instance on external compute

validate_edpm.sh.j2 adds the script to spin an instance
on external compute in order to validate the external
compute deployment.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/90/863590/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/external-data-plane-management/templates/validate_edpm.sh.j2', 'roles/external-data-plane-management/defaults/main.yml']",2,64a9f52003d38917fe32050f0be7095e93377d3a,standalone-roles, # Values for validation tempest_cidr: '192.168.24.0/24',,57,0
openstack%2Fhorizon~861821,openstack/horizon,stable/ussuri,I076a97a6f943ab74a2db8bc5179a7db194009db4,Fix app cred create without project_id for domain admins,MERGED,2022-10-19 05:42:26.000000000,2022-11-29 11:26:39.000000000,2022-11-29 11:25:39.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-19 05:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/14856d0ccf3bde6b3283824ef31e3bdd412f0517', 'message': 'Fix app cred create without project_id for domain admins\n\nUsers with domain admin role that are not cloud admins are\nnot able to get scoped context and create an application\ncredential with project_id, so this change forces the\nscoped context in that particular case.\n\nCloses-bug: #1827120\nChange-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4\n(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)\n'}, {'number': 2, 'created': '2022-11-22 18:47:55.000000000', 'files': ['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aad971e54c54f9255ebb0a9ab3d0dd097ec2a192', 'message': 'Fix app cred create without project_id for domain admins\n\nUsers with domain admin role that are not cloud admins are\nnot able to get scoped context and create an application\ncredential with project_id, so this change forces the\nscoped context in that particular case.\n\nCloses-bug: #1827120\nChange-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4\n(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)\n(cherry picked from commit 778a52e66aeab883b31db729e04944eeecfec6a2)\n(cherry picked from commit 13e821a079134a458b24593d9593e0e5318e6cd6)\n(cherry picked from commit 084ee8aaea703d99720c0cdc2751b6479dab3b2f)\n(cherry picked from commit 2f8aaa03e8ed4c2c8e3628f1f723f304b24b1f82)\n(cherry picked from commit 37caed80e67fe71abf44a877908ffdf708239515)\n'}]",0,861821,aad971e54c54f9255ebb0a9ab3d0dd097ec2a192,11,3,2,29313,,,0,"Fix app cred create without project_id for domain admins

Users with domain admin role that are not cloud admins are
not able to get scoped context and create an application
credential with project_id, so this change forces the
scoped context in that particular case.

Closes-bug: #1827120
Change-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4
(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)
(cherry picked from commit 778a52e66aeab883b31db729e04944eeecfec6a2)
(cherry picked from commit 13e821a079134a458b24593d9593e0e5318e6cd6)
(cherry picked from commit 084ee8aaea703d99720c0cdc2751b6479dab3b2f)
(cherry picked from commit 2f8aaa03e8ed4c2c8e3628f1f723f304b24b1f82)
(cherry picked from commit 37caed80e67fe71abf44a877908ffdf708239515)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/861821/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py']",2,14856d0ccf3bde6b3283824ef31e3bdd412f0517,bug/1827120-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,"def keystoneclient(request, admin=False, force_scoped=False): if (is_domain_admin(request) and not is_domain_context_specified and not force_scoped): # NOTE(ganso): users with domain admin role that are not cloud admins are # not able to get scoped context and create an application credential with # project_id, so only in this particular case we force a scoped context force_scoped = False if (request.user.project_id and request.session.get(""domain_token"") and not policy.check( ((""identity"", ""identity:update_domain""),), request)): force_scoped = True manager = keystoneclient( request, force_scoped=force_scoped).application_credentials","def keystoneclient(request, admin=False): if is_domain_admin(request) and not is_domain_context_specified: manager = keystoneclient(request).application_credentials",58,3
openstack%2Fansible-collection-kolla~830436,openstack/ansible-collection-kolla,master,I9918eb081ed88d4c754950e6297c5bbfd6c1595d,Fix incorrect Docker URL for RHEL distro,ABANDONED,2022-02-22 14:46:25.000000000,2022-11-29 11:26:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-22 14:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/d269549c7a657c0182dcae19aa859031aec7a1c7', 'message': 'Fix incorrect Docker URL for RedHat distro\n\nCloses-Bug: #1952150\nChange-Id: I9918eb081ed88d4c754950e6297c5bbfd6c1595d\n'}, {'number': 2, 'created': '2022-02-22 15:10:14.000000000', 'files': ['roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/31800291f95799164d21cce1b7ec3bc030e321da', 'message': 'Fix incorrect Docker URL for RHEL distro\n\nCloses-Bug: #1952150\nChange-Id: I9918eb081ed88d4c754950e6297c5bbfd6c1595d\n'}]",2,830436,31800291f95799164d21cce1b7ec3bc030e321da,8,2,2,26285,,,0,"Fix incorrect Docker URL for RHEL distro

Closes-Bug: #1952150
Change-Id: I9918eb081ed88d4c754950e6297c5bbfd6c1595d
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/36/830436/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/defaults/main.yml'],1,d269549c7a657c0182dcae19aa859031aec7a1c7,bug/1952150,"docker_yum_url: ""https://download.docker.com/linux/{{ 'rhel' if ansible_facts.distribution | lower == 'redhat' else ansible_facts.distribution | lower }}""","docker_yum_url: ""https://download.docker.com/linux/{{ ansible_facts.distribution | lower }}""",1,1
openstack%2Fpython-watcherclient~759097,openstack/python-watcherclient,master,I1a0e0aca2c49a76f35cf0085c875db49f1f98e19,Remove the unused coding style modules,ABANDONED,2020-10-21 16:10:55.000000000,2022-11-29 11:25:16.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-10-21 16:10:55.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/17c93a2d680beb9439d2938b5c88393f95ce3892', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I1a0e0aca2c49a76f35cf0085c875db49f1f98e19\n'}]",0,759097,17c93a2d680beb9439d2938b5c88393f95ce3892,5,3,1,26285,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: I1a0e0aca2c49a76f35cf0085c875db49f1f98e19
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/97/759097/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,17c93a2d680beb9439d2938b5c88393f95ce3892,,,flake8==2.5.5 hacking==0.12.0mccabe==0.2.1pyflakes==0.8.1,0,4
openstack%2Ffreezer-api~640408,openstack/freezer-api,master,I601c668bac078e983113c34ec1a8d06294b0c12a,Rebuild elasticsearch DSL,ABANDONED,2019-03-01 15:53:56.000000000,2022-11-29 11:24:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 26285}]","[{'number': 1, 'created': '2019-03-01 15:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/30e91c0e011415ba769c4db1903f54db0fd0928d', 'message': 'Rebuild elasticsearch DSL\n\nwhen use elasticsearch as storage backend, freezer-api can not\nwork well,it report ""transport error"", this is because after\nelasticsearch 5.x version, it has remove filtered section,\nbut now we still use it.so we need to rebuild elasticsearch DSL.\nfiltered deprecated in ES 2.x and remove in ES 5.x\nrefer to [0][1]\n[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html\n[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\n\nChange-Id: I601c668bac078e983113c34ec1a8d06294b0c12a\n'}, {'number': 2, 'created': '2019-03-02 06:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/bf21da36f7ff7b67fa2424fb638b4171f9389e17', 'message': 'Rebuild elasticsearch DSL\n\nwhen use elasticsearch as storage backend, freezer-api can not\nwork well,it report ""transport error"", this is because after\nelasticsearch 5.x version, it has remove filtered section,\nbut now we still use it.so we need to rebuild elasticsearch DSL.\nfiltered deprecated in ES 2.x and remove in ES 5.x\nrefer to [0][1]\n[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html\n[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\n\nChange-Id: I601c668bac078e983113c34ec1a8d06294b0c12a\n'}, {'number': 3, 'created': '2019-03-02 10:54:55.000000000', 'files': ['freezer_api/storage/elasticv2.py', 'freezer_api/storage/elastic.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cca7398ce57aa1566041a2200ea4df1902bd3ddb', 'message': 'Rebuild elasticsearch DSL\n\nwhen use elasticsearch as storage backend, freezer-api can not\nwork well,it report ""transport error"", this is because after\nelasticsearch 5.x version, it has remove filtered section,\nbut now we still use it.so we need to rebuild elasticsearch DSL.\nfiltered deprecated in ES 2.x and remove in ES 5.x\nrefer to [0][1]\n[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html\n[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\n\nChange-Id: I601c668bac078e983113c34ec1a8d06294b0c12a\n'}]",0,640408,cca7398ce57aa1566041a2200ea4df1902bd3ddb,11,3,3,26285,,,0,"Rebuild elasticsearch DSL

when use elasticsearch as storage backend, freezer-api can not
work well,it report ""transport error"", this is because after
elasticsearch 5.x version, it has remove filtered section,
but now we still use it.so we need to rebuild elasticsearch DSL.
filtered deprecated in ES 2.x and remove in ES 5.x
refer to [0][1]
[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html
[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html

Change-Id: I601c668bac078e983113c34ec1a8d06294b0c12a
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/08/640408/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/storage/elasticv2.py', 'freezer_api/storage/elastic.py']",2,30e91c0e011415ba769c4db1903f54db0fd0928d,," def get_base_search_filter(user_id, search=None, version=False): #version flag used for elasticsearch server's version > 5.x if version: return base_filter, match_list, match_not_list base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) must_match.append( must_match.append( return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search,version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}}"," def get_base_search_filter(user_id, search=None): base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) base_filter.append( base_filter.append( query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}}",48,48
openstack%2Fnova~865624,openstack/nova,stable/train,I016bc1812404ce1019c71b7a3363f34acc3f8aed,Block unsupported instance ops with accelerators.,ABANDONED,2022-11-25 07:38:13.000000000,2022-11-29 11:14:57.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 07:38:13.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06c248611d7d6fb01d9dbd37d8f0e8f8a859d2df', 'message': 'Block unsupported instance ops with accelerators.\n\nThe block is applied to primary operations, such as pause\nor shelve, but not to their reverse operations, like\nunpause or unshelve, because that is not necessary.\n\nAdded functional tests for various instance operations,\nincluding those that work and those that fail.\nRebuild functional test passes.\n\nConflicts:\n      nova/api/openstack/compute/servers.py\n      nova/tests/unit/compute/test_compute_api.py\n\nRelated-Bug: #1978983\nChange-Id: I016bc1812404ce1019c71b7a3363f34acc3f8aed\nBlueprint: nova-cyborg-interaction\n(cherry picked from commit 89dbd08976da6faabb5c8d0e7a29f4b7f9e8b812)\n'}]",4,865624,06c248611d7d6fb01d9dbd37d8f0e8f8a859d2df,6,2,1,34860,,,0,"Block unsupported instance ops with accelerators.

The block is applied to primary operations, such as pause
or shelve, but not to their reverse operations, like
unpause or unshelve, because that is not necessary.

Added functional tests for various instance operations,
including those that work and those that fail.
Rebuild functional test passes.

Conflicts:
      nova/api/openstack/compute/servers.py
      nova/tests/unit/compute/test_compute_api.py

Related-Bug: #1978983
Change-Id: I016bc1812404ce1019c71b7a3363f34acc3f8aed
Blueprint: nova-cyborg-interaction
(cherry picked from commit 89dbd08976da6faabb5c8d0e7a29f4b7f9e8b812)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/865624/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",8,06c248611d7d6fb01d9dbd37d8f0e8f8a859d2df,bug/1978983," except (exception.QuotaError, exception.ForbiddenWithAccelerators) as error: except (exception.QuotaError, exception.ForbiddenWithAccelerators) as error:", except exception.QuotaError as error: except exception.QuotaError as error:,45,10
openstack%2Fnova~863900,openstack/nova,stable/wallaby,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-11-07 16:57:01.000000000,2022-11-29 11:10:44.000000000,2022-11-29 11:08:36.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 16:57:01.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed1ea71489b60c0f95d76ab05f554cd046c60bac', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n'}]",1,863900,ed1ea71489b60c0f95d76ab05f554cd046c60bac,9,3,1,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

changes:
adds return server from _live_migrate in _integrated_helpers

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)
(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)
(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)
(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/863900/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",2,ed1ea71489b60c0f95d76ab05f554cd046c60bac,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) ",,63,1
openstack%2Fnova~865922,openstack/nova,master,Id29ce352df84168d0a45512e2c59820aefc75943,Temporary skip some volume detach test in nova-lvm job,MERGED,2022-11-28 23:59:22.000000000,2022-11-29 11:10:43.000000000,2022-11-29 11:08:29.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 23:59:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa779016d79b97f61677293d779fd25d9b37e9f', 'message': ""Temporary skip some volume detach test in nova-lvm job\n\nA few tests related to volume detach are timeout in\nnova-lvm job (failing 100%[1]). Root cause of timeout is not\nknown and it may take time to find and fix the issue. To unblock\ngate and keep runing rest of the tests in lvm job, let's skip\nthe failing tests until they are fixed.\n\nRelated-Bug: #1998148\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=nova-lvm&branch=master&skip=0\n\nChange-Id: Id29ce352df84168d0a45512e2c59820aefc75943\n""}]",3,865922,2aa779016d79b97f61677293d779fd25d9b37e9f,10,3,1,8556,,,0,"Temporary skip some volume detach test in nova-lvm job

A few tests related to volume detach are timeout in
nova-lvm job (failing 100%[1]). Root cause of timeout is not
known and it may take time to find and fix the issue. To unblock
gate and keep runing rest of the tests in lvm job, let's skip
the failing tests until they are fixed.

Related-Bug: #1998148

[1] https://zuul.opendev.org/t/openstack/builds?job_name=nova-lvm&branch=master&skip=0

Change-Id: Id29ce352df84168d0a45512e2c59820aefc75943
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/865922/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2aa779016d79b97f61677293d779fd25d9b37e9f,bug/1998148," # Skip slow tests. Also, skip some volume detach tests until bug#1998148 # is fixed. tempest_exclude_regex: (^tempest\.(api\.compute\.(volumes\.test_attach_volume\.AttachVolumeTestJSON\.test_attach_detach_volume|servers\.(test_server_rescue\.ServerStableDeviceRescueTest\.test_stable_device_rescue_disk_virtio_with_volume_attached|test_server_rescue_negative\.ServerRescueNegativeTestJSON\.test_rescued_vm_detach_volume)))|.*\[.*\bslow\b.*\])", # Skip slow tests. tempest_exclude_regex: .*\[.*\bslow\b.*\],3,2
openstack%2Fironic-inspector~863626,openstack/ironic-inspector,stable/ussuri,Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21,Fix port id vs uuid in ValidateInterfacesHook,MERGED,2022-11-04 15:45:42.000000000,2022-11-29 11:09:26.000000000,2022-11-29 11:07:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 15:45:42.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6c372e67b79182eda0f90389668fc5c57c9bbf12', 'message': 'Fix port id vs uuid in ValidateInterfacesHook\n\nfollow-up to Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\n\nUse id attribute instead of uuid. This caused an exception when an unexpected\nport was being deleted.\n\nStory: 2008698\nTask: 42007\nChange-Id: Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21\n(cherry picked from commit 22853a74b5f30c0047a1ffab039f983e2563a335)\n'}]",1,863626,6c372e67b79182eda0f90389668fc5c57c9bbf12,12,3,1,32553,,,0,"Fix port id vs uuid in ValidateInterfacesHook

follow-up to Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17

Use id attribute instead of uuid. This caused an exception when an unexpected
port was being deleted.

Story: 2008698
Task: 42007
Change-Id: Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21
(cherry picked from commit 22853a74b5f30c0047a1ffab039f983e2563a335)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/26/863626/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py']",2,6c372e67b79182eda0f90389668fc5c57c9bbf12,fix2008698-stable/ussuri," {'port': port.id,"," {'port': port.uuid,",2,2
openstack%2Ftripleo-ci~864724,openstack/tripleo-ci,master,I7cc3b191e9af124878f037bcf0f837d353a44f8f,Add edpm base jobs,MERGED,2022-11-16 11:45:19.000000000,2022-11-29 11:05:43.000000000,2022-11-29 11:05:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-16 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/edad39e38b6c9a29799f891d1fa5ba6d12799273', 'message': 'Add tripleo-ci-centos-9-standalone-external-compute-options job\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 2, 'created': '2022-11-24 04:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/45a0009700deeccdb50430335ec1ac5002b87825', 'message': 'Add tripleo-ci-standalone-external-compute-options job\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 3, 'created': '2022-11-24 09:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1d7698f3d64a46ec6a4c7ad44c71cb0658c7ab47', 'message': 'Add edpm base jobs\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nedpm jobs are parented from multinode cs9 distro jobs. When we\nuse multi parenting with the existing jobs then tags and playbook\nvars are not getting overriden in multi parenting.\n\nIn order to fix that, we have added a new edpm base job which\nwill be shared in RDO/downstream also.\n\nHere is the new parent structure\ntripleo-ci-base-multinode-standard\ntripleo-ci-base-multinode-edpm-standard\ntripleo-ci-base-required-projects-edpm-upstream\ntripleo-ci-base-edpm-centos-9\ntripleo-ci-standalone-external-compute-options\nthen actual job: tripleo-ci-centos-9-standalone-external-compute-target-host\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 4, 'created': '2022-11-25 04:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/289bcd5b16217a8f4043b4b8910eeecc35a4b0c3', 'message': 'Add edpm base jobs\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nedpm jobs are parented from multinode cs9 distro jobs. When we\nuse multi parenting with the existing jobs then tags and playbook\nvars are not getting overriden in multi parenting.\n\nIn order to fix that, we have added a new edpm base job which\nwill be shared in RDO/downstream also.\n\nHere is the new parent structure\ntripleo-ci-base-multinode-standard\ntripleo-ci-base-multinode-edpm-standard\ntripleo-ci-base-required-projects-edpm-upstream\ntripleo-ci-base-edpm-centos-9\ntripleo-ci-standalone-external-compute-options\nthen actual job: tripleo-ci-centos-9-standalone-external-compute-target-host\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 5, 'created': '2022-11-28 09:31:10.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c84c3e22c1341c2388dbed10b410d7f348ae0d7', 'message': 'Add edpm base jobs\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nedpm jobs are parented from multinode cs9 distro jobs. When we\nuse multi parenting with the existing jobs then tags and playbook\nvars are not getting overriden in multi parenting.\n\nIn order to fix that, we have added a new edpm base job which\nwill be shared in RDO/downstream also.\n\nHere is the new parent structure\ntripleo-ci-base-multinode-standard\ntripleo-ci-base-multinode-edpm-standard\ntripleo-ci-base-required-projects-edpm-upstream\ntripleo-ci-base-edpm-centos-9\nthen actual job: tripleo-ci-centos-9-standalone-external-compute-target-host\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}]",7,864724,5c84c3e22c1341c2388dbed10b410d7f348ae0d7,24,6,5,12393,,,0,"Add edpm base jobs

In order to add the periodic version of external compute jobs,
we need to create a seperate job which contains the reusable
job definitions. It can be reused in RDO, Downstream and
Upstream job definitions.

edpm jobs are parented from multinode cs9 distro jobs. When we
use multi parenting with the existing jobs then tags and playbook
vars are not getting overriden in multi parenting.

In order to fix that, we have added a new edpm base job which
will be shared in RDO/downstream also.

Here is the new parent structure
tripleo-ci-base-multinode-standard
tripleo-ci-base-multinode-edpm-standard
tripleo-ci-base-required-projects-edpm-upstream
tripleo-ci-base-edpm-centos-9
then actual job: tripleo-ci-centos-9-standalone-external-compute-target-host

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/864724/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,edad39e38b6c9a29799f891d1fa5ba6d12799273,standalone-roles, - job: name: tripleo-ci-centos-9-standalone-external-compute-options- job: name: tripleo-ci-centos-9-standalone-external-compute-target-host parent: tripleo-ci-base-multinode-centos-9 branches: - master - stable/zed - job: name: tripleo-ci-centos-9-standalone-external-compute-target-host parent: tripleo-ci-centos-9-standalone-external-compute-options ,- job: name: tripleo-ci-centos-9-standalone-external-compute-target-host parent: tripleo-ci-base-multinode-centos-9 branches: - master - stable/zed,13,5
openstack%2Frequirements~864989,openstack/requirements,stable/victoria,I8b22e921785abb2c144bc0a8c446e3485ce739a7,[CVE-2022-40023] Bump Mako version to 1.2.2,ABANDONED,2022-11-21 12:43:41.000000000,2022-11-29 10:41:42.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 12:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8afa93282104c482da2916f123fe79d4c0680493', 'message': '[CVE-2022-40023] Bump Mako version to 1.2.2\n\nStory: 2010320\nChange-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7\n(cherry picked from commit 759b34c0a2d538464c8dc3e8ebd96f0f1bb2c090)\n'}, {'number': 2, 'created': '2022-11-21 12:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d2a93b1942b6252afbeab2b199e8bf6478e8b2e5', 'message': '[CVE-2022-40023] Bump Mako version to 1.2.2\n\nStory: 2010320\nChange-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7\n(cherry picked from commit 759b34c0a2d538464c8dc3e8ebd96f0f1bb2c090)\n'}, {'number': 3, 'created': '2022-11-25 16:11:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/25932cffe53e60f6c7e61e8ad1b4497176de3108', 'message': '[CVE-2022-40023] Bump Mako version to 1.2.2\n\nStory: 2010320\nChange-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7\n'}]",1,864989,25932cffe53e60f6c7e61e8ad1b4497176de3108,9,2,3,32927,,,0,"[CVE-2022-40023] Bump Mako version to 1.2.2

Story: 2010320
Change-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/864989/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8afa93282104c482da2916f123fe79d4c0680493,story/2010320-stable/victoria,<<<<<<< HEAD (f831f1 Raise upper diskimage-builder===3.24.0)======= Mako===1.2.2 pyScss===1.4.0 sphinxcontrib-htmlhelp===2.0.0 >>>>>>> CHANGE (759b34 [CVE-2022-40023] Bump Mako version to 1.2.2),,6,0
openstack%2Fovn-octavia-provider~864817,openstack/ovn-octavia-provider,master,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-21 13:25:07.000000000,2022-11-29 10:15:15.000000000,2022-11-29 10:14:09.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-21 13:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/efbeefcda7ddf0bdffd49dc83c49c6a9bff91f70', 'message': 'Make clear distintion between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distintion between Octavia HM and OVN LB HCs.\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 2, 'created': '2022-11-22 07:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/43eedaf6e508d14387e3b7fbb6ae5dadd7d8eed8', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 3, 'created': '2022-11-22 15:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c2f152f8acbe2e1f67ee2e5de04f7e9098691b94', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 4, 'created': '2022-11-25 09:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5a4c55ba5425d30fe09263a49d608b72b487d5a8', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 5, 'created': '2022-11-25 10:17:59.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9cb8cd5054e64ab7fd13b4b63259b639b4f26c50', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}]",15,864817,9cb8cd5054e64ab7fd13b4b63259b639b4f26c50,24,4,5,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/864817/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,efbeefcda7ddf0bdffd49dc83c49c6a9bff91f70,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_id')"," @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id')",34,32
openstack%2Fmagnum~865440,openstack/magnum,stable/yoga,I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,Make configure-agent-env.service idempotent.,MERGED,2022-11-23 15:04:01.000000000,2022-11-29 10:13:37.000000000,2022-11-29 10:12:35.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 15:04:01.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f77471678d13a13dddfc54dbdf41f050f43e2660', 'message': ""Make configure-agent-env.service idempotent.\n\nWhen the configure-agent-env.service service is restarted it will fail\nwhen it tries to create the directory /etc/kubernetes, leaving the\nsystem 'degraded' from systemd's perspective, this change adds the '-p'\nflag to mkdir to fail silently if the directory already exists.\n\nChange-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0\nRelated-Bug: #1982872\n(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)\n""}]",0,865440,f77471678d13a13dddfc54dbdf41f050f43e2660,7,2,1,2424,,,0,"Make configure-agent-env.service idempotent.

When the configure-agent-env.service service is restarted it will fail
when it tries to create the directory /etc/kubernetes, leaving the
system 'degraded' from systemd's perspective, this change adds the '-p'
flag to mkdir to fail silently if the directory already exists.

Change-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0
Related-Bug: #1982872
(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/40/865440/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'],1,f77471678d13a13dddfc54dbdf41f050f43e2660,bug/1982872, mkdir -p /etc/kubernetes/, mkdir /etc/kubernetes/,1,1
openstack%2Fmagnum~865436,openstack/magnum,stable/zed,I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,Make configure-agent-env.service idempotent.,MERGED,2022-11-23 14:59:33.000000000,2022-11-29 10:13:37.000000000,2022-11-29 10:12:33.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 14:59:33.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/11348ce7a818b24e34ea1d861f22e65af5592e3b', 'message': ""Make configure-agent-env.service idempotent.\n\nWhen the configure-agent-env.service service is restarted it will fail\nwhen it tries to create the directory /etc/kubernetes, leaving the\nsystem 'degraded' from systemd's perspective, this change adds the '-p'\nflag to mkdir to fail silently if the directory already exists.\n\nChange-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0\nRelated-Bug: #1982872\n(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)\n""}]",0,865436,11348ce7a818b24e34ea1d861f22e65af5592e3b,7,2,1,2424,,,0,"Make configure-agent-env.service idempotent.

When the configure-agent-env.service service is restarted it will fail
when it tries to create the directory /etc/kubernetes, leaving the
system 'degraded' from systemd's perspective, this change adds the '-p'
flag to mkdir to fail silently if the directory already exists.

Change-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0
Related-Bug: #1982872
(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/865436/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'],1,11348ce7a818b24e34ea1d861f22e65af5592e3b,bug/1982872, mkdir -p /etc/kubernetes/, mkdir /etc/kubernetes/,1,1
openstack%2Fskyline-console~865948,openstack/skyline-console,master,Ib1418d2f4ba79ff7fb619365b8f71734d112e69d,fix: fix health_status in magnum cluster,MERGED,2022-11-29 07:44:23.000000000,2022-11-29 10:02:01.000000000,2022-11-29 10:01:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-29 07:44:23.000000000', 'files': ['src/pages/container-infra/containers/Clusters/Detail/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b4f23fd78c6bc4223e9ee8e7c2f54a660a0200b0', 'message': 'fix: fix health_status in magnum cluster\n\nIt should not use valueMap for health_status\n\nChange-Id: Ib1418d2f4ba79ff7fb619365b8f71734d112e69d\n'}]",0,865948,b4f23fd78c6bc4223e9ee8e7c2f54a660a0200b0,8,2,1,33689,,,0,"fix: fix health_status in magnum cluster

It should not use valueMap for health_status

Change-Id: Ib1418d2f4ba79ff7fb619365b8f71734d112e69d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/48/865948/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/Clusters/Detail/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx']",2,b4f23fd78c6bc4223e9ee8e7c2f54a660a0200b0,fix-magnum-ui," render: (value) => healthStatus[value] || value || '-',"," valueMap: healthStatus,",2,2
openstack%2Fansible-collection-kolla~864993,openstack/ansible-collection-kolla,stable/yoga,Ic2a21f31309edbf17d6c841167dff41addff6698,Install drpm only on RHEL-derivates major version 8,MERGED,2022-11-18 06:38:41.000000000,2022-11-29 09:33:19.000000000,2022-11-29 09:32:24.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-18 06:38:41.000000000', 'files': ['roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/682ae88fb5bc003e510142ec0202d116e55207c9', 'message': 'Install drpm only on RHEL-derivates major version 8\n\ndrpm is not available on RHEL9 clones\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/864920\nChange-Id: Ic2a21f31309edbf17d6c841167dff41addff6698\n'}]",2,864993,682ae88fb5bc003e510142ec0202d116e55207c9,12,2,1,22629,,,0,"Install drpm only on RHEL-derivates major version 8

drpm is not available on RHEL9 clones

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/864920
Change-Id: Ic2a21f31309edbf17d6c841167dff41addff6698
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/93/864993/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/tasks/install.yml'],1,682ae88fb5bc003e510142ec0202d116e55207c9,kolla_yoga_rl9," when: ansible_facts.os_family == 'RedHat' and ansible_facts.distribution_major_version == ""8""", when: ansible_facts.os_family == 'RedHat',1,1
openstack%2Ftripleo-ansible~865928,openstack/tripleo-ansible,master,I3214109f4f75620abc25d48db86179a8a411ccc7,Hide output which can contain password strings,MERGED,2022-11-29 01:58:55.000000000,2022-11-29 09:09:39.000000000,2022-11-29 09:09:39.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-29 01:58:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc758a2fbdda193b0a161bf4de36ffde5df789f6', 'message': 'Hide output which can contain password strings\n\nThe change I68a89e413b7c3eecb747386998bd36314250384b introduced\nthe task to check whether the password is valid but this task dumps\na raw password string in case password authentication failed for some\nreason (eg. the user is not yet created).\n\nThis change ensures the output is hidden, unless users explicitly\nenable sensitive logs.\n\nCloses-Bug: #1998158\nChange-Id: I3214109f4f75620abc25d48db86179a8a411ccc7\n'}]",0,865928,fc758a2fbdda193b0a161bf4de36ffde5df789f6,9,4,1,9816,,,0,"Hide output which can contain password strings

The change I68a89e413b7c3eecb747386998bd36314250384b introduced
the task to check whether the password is valid but this task dumps
a raw password string in case password authentication failed for some
reason (eg. the user is not yet created).

This change ensures the output is hidden, unless users explicitly
enable sensitive logs.

Closes-Bug: #1998158
Change-Id: I3214109f4f75620abc25d48db86179a8a411ccc7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/865928/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'],1,fc758a2fbdda193b0a161bf4de36ffde5df789f6,bug/1998158," # needed because the module dumps the raw output in case auth fails no_log: ""{{ tripleo_keystone_resources_hide_sensitive_logs | bool }}""",,2,0
openstack%2Fkeystoneauth~863834,openstack/keystoneauth,master,I16763742dd802bf1a82d8d407097baf7c97b1b28,Remove python-dev from bindep,ABANDONED,2022-11-07 09:54:43.000000000,2022-11-29 08:28:15.000000000,,"[{'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 09:54:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f44176adf9d16fd53453613cee56db1295ee9f71', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: I16763742dd802bf1a82d8d407097baf7c97b1b28\n""}]",1,863834,f44176adf9d16fd53453613cee56db1295ee9f71,6,2,1,28522,,,0,"Remove python-dev from bindep

It is no longer supported by jammy and lead us to the following errors with the announce-release job.

```
No package matching 'python-dev' is available
```

Change-Id: I16763742dd802bf1a82d8d407097baf7c97b1b28
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/34/863834/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f44176adf9d16fd53453613cee56db1295ee9f71,drop-python-dev-from-bindep,,python-dev [platform:dpkg test],0,1
openstack%2Fnova~865658,openstack/nova,master,If2bc7786778d9a8354a31c8c3b7f3232ad3a5193,Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next,ABANDONED,2022-11-25 10:09:09.000000000,2022-11-29 08:27:06.000000000,,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 10:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd6f0cf77f38899b3fdccd5e0191da68c52752e5', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 2, 'created': '2022-11-25 10:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/276797113c2565b0312bea3ebccf04195eb2ec94', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 3, 'created': '2022-11-28 10:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1201c7ea6f79ec3d68e2e3dc6f0de151dc8b8a1f', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/842240\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 4, 'created': '2022-11-28 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a66275de8c2527270718848d07f80be29e2eebd7', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/842240\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/840410\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 5, 'created': '2022-11-28 14:46:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/69a1c0710e96605120fb56e9812b07619aa6d2ff', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/840410\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}]",13,865658,69a1c0710e96605120fb56e9812b07619aa6d2ff,31,6,5,7166,,,0,"Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next

We identified the jobs as consistently failing due to
tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk

Removing the tempest test until we figure out the root cause and fix it.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/840410
Change-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193
Related-Bug: #1940425
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/865658/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dd6f0cf77f38899b3fdccd5e0191da68c52752e5,, # FIXME(sbauza): test_live_migration_with_trunk is skipped due a neutron # issue identified in bug #1940425 tempest_exclude_regex: tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk # FIXME(sbauza): test_live_migration_with_trunk is skipped due a neutron # issue identified in bug #1940425 tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap)|tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment|tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk, tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap)|tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment,6,1
openstack%2Ftrove-tempest-plugin~865858,openstack/trove-tempest-plugin,master,Ia87bcc7e63ecebbfe92662431f0a81508034e18e,Add python3.9 support,MERGED,2022-11-28 14:57:57.000000000,2022-11-29 07:01:08.000000000,2022-11-29 07:01:08.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-28 14:57:57.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/fe377e07847a515e34274b9173e37fde71a38c4d', 'message': 'Add python3.9 support\n\nAdd python3.9 support and set the default test env to py39\n\nChange-Id: Ia87bcc7e63ecebbfe92662431f0a81508034e18e\n'}]",0,865858,fe377e07847a515e34274b9173e37fde71a38c4d,6,2,1,26285,,,0,"Add python3.9 support

Add python3.9 support and set the default test env to py39

Change-Id: Ia87bcc7e63ecebbfe92662431f0a81508034e18e
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/58/865858/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,fe377e07847a515e34274b9173e37fde71a38c4d,,"envlist = py39,pypy,pep8","envlist = py36,py35,pypy,pep8",2,3
openstack%2Fskyline-console~865932,openstack/skyline-console,master,Id9b70108f4ac2dac289bb50fa83eeab18f08199e,fix: Move the keypair to node spec when create cluster instance,MERGED,2022-11-29 03:32:41.000000000,2022-11-29 06:45:32.000000000,2022-11-29 06:44:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-29 03:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2ca943f21251a3d4aae0f286590f89a18305c186', 'message': 'fix: Move the keypair to node spec when create cluster instance\n\nIn order to be consistent with the cluster template creating, move the keypair to node spec step when create cluster template\n\nChange-Id: Id9b70108f4ac2dac289bb50fa83eeab18f08199e\n'}, {'number': 2, 'created': '2022-11-29 03:33:58.000000000', 'files': ['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0c3a946d2196929c582407bf5a489ef2b56fbb5d', 'message': 'fix: Move the keypair to node spec when create cluster instance\n\nIn order to be consistent with the cluster template creating, move the keypair to node spec step when create cluster instance\n\nChange-Id: Id9b70108f4ac2dac289bb50fa83eeab18f08199e\n'}]",0,865932,0c3a946d2196929c582407bf5a489ef2b56fbb5d,9,3,2,33689,,,0,"fix: Move the keypair to node spec when create cluster instance

In order to be consistent with the cluster template creating, move the keypair to node spec step when create cluster instance

Change-Id: Id9b70108f4ac2dac289bb50fa83eeab18f08199e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/32/865932/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx']",4,2ca943f21251a3d4aae0f286590f89a18305c186,fix-magnum-ui,,"import globalKeypairStore from 'stores/nova/keypair';import { getKeyPairHeader } from 'resources/nova/keypair'; this.keyPairStore = globalKeypairStore; this.getKeypairs(); this.updateState(); async getKeypairs() { await this.keyPairStore.fetchList(); } get keypairs() { return this.keyPairStore.list.data || []; } get nameForStateUpdate() { return ['clusterTemplate']; } const { clusterTemplate, initKeyPair } = this.state; const { keypair_id } = clusterTemplate || {}; { name: 'keypair', label: t('Keypair'), type: 'select-table', required: !keypair_id, data: this.keypairs, initValue: initKeyPair, isLoading: this.keyPairStore.list.isLoading, header: getKeyPairHeader(this), tip: t( 'The SSH key is a way to remotely log in to the cluster instance. If it’s not set, the value of this in template will be used.' ), filterParams: [ { label: t('Name'), name: 'name', }, ], columns: [ { title: t('Name'), dataIndex: 'name', }, { title: t('Fingerprint'), dataIndex: 'fingerprint', }, ], },",84,64
openstack%2Ftripleo-ansible~865728,openstack/tripleo-ansible,stable/zed,I6edef63e60623ea3b51386593d76b18092dd7f30,Ensure $tuned_params is restored after grub2-mkconfig,MERGED,2022-11-28 08:31:01.000000000,2022-11-29 05:48:09.000000000,2022-11-29 05:48:09.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-28 08:31:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8d2f40660e669d9f8e9bb487802df0647b7cb71', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)\n'}]",1,865728,e8d2f40660e669d9f8e9bb487802df0647b7cb71,8,4,1,9816,,,0,"Ensure $tuned_params is restored after grub2-mkconfig

The playbook cli-overcloud-node-kernelargs.yaml calls the tuned role
and then the tripleo_kernel role.

The tuned role executes the following command:
    tuned-adm profile throughput-performance

This has the side-effect of adding $tuned_params to the options line
of /boot/loader/entries files, which is required to add its kernel
arguments from /boot/grub2/grubenv.

However when grub2-mkconfig is called, $tuned_params is *removed* from
the /boot/loader/entries files, breaking the enablement of the tuned
profile.

This change runs tuned-adm after grub2-mkconfig, which adds back
$tuned_params if there is an active profile.

Change-Id: I6edef63e60623ea3b51386593d76b18092dd7f30
Resolves: rhbz#2122949
(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/865728/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,e8d2f40660e669d9f8e9bb487802df0647b7cb71,bz/2139922-stable/zed," - name: Check for active tuned profile stat: path: ""/etc/tuned/active_profile"" register: tuned_active_profile - name: Ensure $tuned_params is restored to /boot/loader/entries files shell: >- tuned-adm profile $(cat /etc/tuned/active_profile) environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" when: - tuned_active_profile.stat.exists - tuned_active_profile.stat.size | int > 0 ",,15,0
openstack%2Fironic~864466,openstack/ironic,bugfix/18.1,Id6f8996e4d103f849325f54fe0619b4acb43453a,Add SNMPv3 authentication functionality,MERGED,2022-11-15 03:07:45.000000000,2022-11-29 05:25:34.000000000,2022-11-29 05:24:01.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-15 03:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a23309d915180047163d39ebadb30649ce75bfc3', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}, {'number': 2, 'created': '2022-11-15 09:15:05.000000000', 'files': ['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/98e8f5e50f7eb3420b131647b217e2567cef3144', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}]",6,864466,98e8f5e50f7eb3420b131647b217e2567cef3144,22,3,2,28806,,,0,"Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	ironic/common/utils.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/864466/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py']",10,a23309d915180047163d39ebadb30649ce75bfc3,snmp-18.1," snmp_client = snmp.SNMPClient( address=d_info['irmc_address'], port=d_info['irmc_snmp_port'], version=d_info['irmc_snmp_version'], read_community=d_info['irmc_snmp_community'], user=d_info.get('irmc_snmp_user'), auth_proto=d_info.get('irmc_snmp_auth_proto'), auth_key=d_info.get('irmc_snmp_auth_password'), priv_proto=d_info.get('irmc_snmp_priv_proto'), priv_key=d_info.get('irmc_snmp_priv_password'))"," snmp_client = snmp.SNMPClient(d_info['irmc_address'], d_info['irmc_snmp_port'], d_info['irmc_snmp_version'], d_info['irmc_snmp_community'], d_info['irmc_snmp_security'])",551,60
openstack%2Ftripleo-common~865873,openstack/tripleo-common,stable/zed,Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0,Define container image used by GlanceApiInternal service,MERGED,2022-11-28 17:42:11.000000000,2022-11-29 04:45:01.000000000,2022-11-29 04:43:55.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 17:42:11.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84749a7256b11912653a79bf70ada64cd13bb788', 'message': 'Define container image used by GlanceApiInternal service\n\nGlanceApiInternal is a new tripleo service, and it uses the same\ncontainer image as the GlanceApi and GlanceApiEdge services.\n\nChange-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\n(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)\n'}]",2,865873,84749a7256b11912653a79bf70ada64cd13bb788,13,3,1,21129,,,0,"Define container image used by GlanceApiInternal service

GlanceApiInternal is a new tripleo service, and it uses the same
container image as the GlanceApi and GlanceApiEdge services.

Change-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0
(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/865873/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,84749a7256b11912653a79bf70ada64cd13bb788,glance-api-internal, - ContainerGlanceApiInternalConfigImage - OS::TripleO::Services::GlanceApiInternal,,2,0
openstack%2Fironic~864465,openstack/ironic,bugfix/19.0,Id6f8996e4d103f849325f54fe0619b4acb43453a,Add SNMPv3 authentication functionality,MERGED,2022-11-15 03:06:27.000000000,2022-11-29 04:33:34.000000000,2022-11-29 04:32:18.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-15 03:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1cb1f1330a5116ae2d0d8deca2b977cfc46fa05', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}, {'number': 2, 'created': '2022-11-15 09:13:46.000000000', 'files': ['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e482d4012ce006c485b572ddba275da3365d345f', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}]",6,864465,e482d4012ce006c485b572ddba275da3365d345f,21,3,2,28806,,,0,"Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	ironic/common/utils.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/864465/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py']",10,f1cb1f1330a5116ae2d0d8deca2b977cfc46fa05,snmp-19.0," snmp_client = snmp.SNMPClient( address=d_info['irmc_address'], port=d_info['irmc_snmp_port'], version=d_info['irmc_snmp_version'], read_community=d_info['irmc_snmp_community'], user=d_info.get('irmc_snmp_user'), auth_proto=d_info.get('irmc_snmp_auth_proto'), auth_key=d_info.get('irmc_snmp_auth_password'), priv_proto=d_info.get('irmc_snmp_priv_proto'), priv_key=d_info.get('irmc_snmp_priv_password'))"," snmp_client = snmp.SNMPClient(d_info['irmc_address'], d_info['irmc_snmp_port'], d_info['irmc_snmp_version'], d_info['irmc_snmp_community'], d_info['irmc_snmp_security'])",551,60
openstack%2Ftripleo-heat-templates~865782,openstack/tripleo-heat-templates,stable/wallaby,Ib59bb985fe15f612f93a33b1a688427e684654dd,Deprecate DeployedServerPortMap,ABANDONED,2022-11-28 03:05:47.000000000,2022-11-29 04:22:25.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 03:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698af3a1b019d61f4119e7c828903501cb2fcc29', 'message': 'Deprecate DeployedServerPortMap\n\nThe environment\nenvironments/deployed-server-deployed-neutron-ports.yaml, the\ndeployed-neutron-port.yaml template, and DeployedServerPortMap parameter\nare deprecated in favor of NodePortMap, ControlPlaneVipData, and\nVipPortMap, which can be used with the generated\nenvironments/deployed-ports.yaml.\n\nChange-Id: Ib59bb985fe15f612f93a33b1a688427e684654dd\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 26be3179905c7751812aa10a0af9f56e58e7ef08)\n'}, {'number': 2, 'created': '2022-11-29 01:25:37.000000000', 'files': ['.gitignore', 'environments/deployed-ports.j2.yaml', 'releasenotes/notes/deprecate-deployed-server-port-map-99d4d6a01f630d04.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'environments/deployed-server-deployed-neutron-ports.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfc2b9f8eddf4d20b1bcf8871751551b771d94e9', 'message': 'Deprecate DeployedServerPortMap\n\nThe environment\nenvironments/deployed-server-deployed-neutron-ports.yaml, the\ndeployed-neutron-port.yaml template, and DeployedServerPortMap parameter\nare deprecated in favor of NodePortMap, ControlPlaneVipData, and\nVipPortMap, which can be used with the generated\nenvironments/deployed-ports.yaml.\n\nChange-Id: Ib59bb985fe15f612f93a33b1a688427e684654dd\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 26be3179905c7751812aa10a0af9f56e58e7ef08)\n'}]",0,865782,dfc2b9f8eddf4d20b1bcf8871751551b771d94e9,6,3,2,30073,,,0,"Deprecate DeployedServerPortMap

The environment
environments/deployed-server-deployed-neutron-ports.yaml, the
deployed-neutron-port.yaml template, and DeployedServerPortMap parameter
are deprecated in favor of NodePortMap, ControlPlaneVipData, and
VipPortMap, which can be used with the generated
environments/deployed-ports.yaml.

Change-Id: Ib59bb985fe15f612f93a33b1a688427e684654dd
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 26be3179905c7751812aa10a0af9f56e58e7ef08)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/865782/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'environments/deployed-ports.j2.yaml', 'releasenotes/notes/deprecate-deployed-server-port-map-99d4d6a01f630d04.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'environments/deployed-server-deployed-neutron-ports.yaml']",6,698af3a1b019d61f4119e7c828903501cb2fcc29,,"# ****************************************************************************** # DEPRECATED: The environment # environments/deployed-server-deployed-neutron-ports.yaml, the # deployed-neutron-port.yaml template, and DeployedServerPortMap parameter are # deprecated in favor of NodePortMap, ControlPlaneVipData, and VipPortMap, # which can be used with the generated environments/deployed-ports.yaml # ******************************************************************************",,85,8
openstack%2Fcharm-cinder~865921,openstack/charm-cinder,master,I47fc2cd2a7e2f956083461fbf04f375f0de136e3,Remove the changes from charmhelpers,ABANDONED,2022-11-28 23:14:15.000000000,2022-11-28 23:15:20.000000000,,[],"[{'number': 1, 'created': '2022-11-28 23:14:15.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/28eab47bfee183c2bc1c43d93e7a08f34aa75fd2', 'message': 'Remove the changes from charmhelpers\n\nChange-Id: I47fc2cd2a7e2f956083461fbf04f375f0de136e3\n'}]",0,865921,28eab47bfee183c2bc1c43d93e7a08f34aa75fd2,2,0,1,35369,,,0,"Remove the changes from charmhelpers

Change-Id: I47fc2cd2a7e2f956083461fbf04f375f0de136e3
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/21/865921/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",3,28eab47bfee183c2bc1c43d93e7a08f34aa75fd2,remove_auth_uri_from_keystone_authtoken,auth_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},www_authenticate_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},4,4
openstack%2Ftripleo-ansible~863181,openstack/tripleo-ansible,master,Icaa639af18b46fe81c5e37682c10aeab317929c8,tripleo_nova_compute: use config_template for configuration,MERGED,2022-11-01 21:05:14.000000000,2022-11-28 22:22:48.000000000,2022-11-28 22:22:48.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-01 21:05:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/tasks/configure.yml', 'ansible-test-env-podman.rc'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e06b0ea9671d26a9fec96166722b64236746622', 'message': 'tripleo_nova_compute: use config_template for configuration\n\nSwitch to using openstack.config_template for configuring nova.conf\ninstead of inifile. openstack.config_template is much more performant,\nand supports the ListOpt and MultiStrOpt configuration types used in\nOpenStack.\n\nAlso adds a missing environment variable to ansible-test-env-podman.rc\nfor running the tripleo_compute_node molecule test locally.\n\nChange-Id: Icaa639af18b46fe81c5e37682c10aeab317929c8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",7,863181,4e06b0ea9671d26a9fec96166722b64236746622,25,4,1,7144,,,0,"tripleo_nova_compute: use config_template for configuration

Switch to using openstack.config_template for configuring nova.conf
instead of inifile. openstack.config_template is much more performant,
and supports the ListOpt and MultiStrOpt configuration types used in
OpenStack.

Also adds a missing environment variable to ansible-test-env-podman.rc
for running the tripleo_compute_node molecule test locally.

Change-Id: Icaa639af18b46fe81c5e37682c10aeab317929c8
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/863181/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_compute/tasks/configure.yml', 'ansible-test-env-podman.rc']",2,4e06b0ea9671d26a9fec96166722b64236746622,standalone-roles,"export TRIPLEO_ANSIBLE_COMPUTE_NODE_MOLECULE_VOLUMES=""['$HOME/.cache/tripleo-ansible/containers:/var/lib/containers:rw','/sys/fs/cgroup:/sys/fs/cgroup:rw']""",,7,15
openstack%2Fkolla-ansible~864971,openstack/kolla-ansible,stable/yoga,Ife7767904efe64602531fa3eb163c78260650909,init-runonce: use CirrOS 0.6.0,MERGED,2022-11-18 08:16:25.000000000,2022-11-28 22:16:08.000000000,2022-11-28 22:15:06.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-18 08:16:25.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cc884df3ce9776b0d0217020a444baf7c7c4605', 'message': 'init-runonce: use CirrOS 0.6.0\n\nCirrOS 0.6.0 was released yesterday. Has newer kernel and userspace,\nbetter network configuration (more IPv6 stuff) and some other\nimprovements.\n\nChange-Id: Ife7767904efe64602531fa3eb163c78260650909\n(cherry picked from commit e17a0ca24ac16aa4071f7a4d36a537e1e812e9f3)\n'}]",0,864971,5cc884df3ce9776b0d0217020a444baf7c7c4605,10,2,1,22629,,,0,"init-runonce: use CirrOS 0.6.0

CirrOS 0.6.0 was released yesterday. Has newer kernel and userspace,
better network configuration (more IPv6 stuff) and some other
improvements.

Change-Id: Ife7767904efe64602531fa3eb163c78260650909
(cherry picked from commit e17a0ca24ac16aa4071f7a4d36a537e1e812e9f3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/864971/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,5cc884df3ce9776b0d0217020a444baf7c7c4605,kolla_yoga_rl9,CIRROS_RELEASE=0.6.0IMAGE_URL=https://github.com/cirros-dev/cirros/releases/download/${CIRROS_RELEASE}/ IMAGE=cirros-${CIRROS_RELEASE}-${ARCH}-disk.img,IMAGE_URL=https://github.com/cirros-dev/cirros/releases/download/0.5.1/ IMAGE=cirros-0.5.1-${ARCH}-disk.img,3,2
openstack%2Fkolla-ansible~864973,openstack/kolla-ansible,stable/yoga,Ia0a3620bae21984933756331bb5937ce681d3237,CI: set cpu_model to Nehalem for kvm jobs,MERGED,2022-11-18 14:31:27.000000000,2022-11-28 22:14:47.000000000,2022-11-28 22:12:43.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-18 14:31:27.000000000', 'files': ['tests/templates/nova-compute-overrides.j2', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f34d15e46e8122987a8135acf86bcfc569bc1a5', 'message': 'CI: set cpu_model to Nehalem for kvm jobs\n\nRHEL 9 are being compiled for the x86_64-v2 architecture which is\nnewer than the qemu default of qemu64. Nehalem is apparently the\noldest model that works for x86_64-v2 and is expected to work on\nIntel and AMD cpus with kvm or qemu.\n\nSee devstack change [0].\n\n[0]: Ibd6e11b59f3c8655bc60ace7383a08458b2177f2\n\nChange-Id: Ia0a3620bae21984933756331bb5937ce681d3237\n(cherry picked from commit aa1b19c3c0a1d71f5dc4212d2fece3a41e3c2714)\n'}]",0,864973,4f34d15e46e8122987a8135acf86bcfc569bc1a5,10,2,1,22629,,,0,"CI: set cpu_model to Nehalem for kvm jobs

RHEL 9 are being compiled for the x86_64-v2 architecture which is
newer than the qemu default of qemu64. Nehalem is apparently the
oldest model that works for x86_64-v2 and is expected to work on
Intel and AMD cpus with kvm or qemu.

See devstack change [0].

[0]: Ibd6e11b59f3c8655bc60ace7383a08458b2177f2

Change-Id: Ia0a3620bae21984933756331bb5937ce681d3237
(cherry picked from commit aa1b19c3c0a1d71f5dc4212d2fece3a41e3c2714)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/864973/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/nova-compute-overrides.j2', 'zuul.d/base.yaml']",2,4f34d15e46e8122987a8135acf86bcfc569bc1a5,kolla_yoga_rl9, - ^tests/templates/nova-compute-overrides.j2,,10,0
openstack%2Fcharm-interface-ceph-client~865916,openstack/charm-interface-ceph-client,master,I6ee3f53f2ebe2204b37dd7033eda77d670c11458,just black,NEW,2022-11-28 22:02:16.000000000,2022-11-28 22:05:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-28 22:02:16.000000000', 'files': ['src/ceph_mds/requires.py', 'unit_tests/test_provides.py', 'test-requirements.txt', 'src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'src/lib/base_requires.py', 'src/lib/base_provides.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/133389153d4c4a6254ea7c58c672c9814e754bdc', 'message': 'just black\n\nChange-Id: I6ee3f53f2ebe2204b37dd7033eda77d670c11458\n'}]",0,865916,133389153d4c4a6254ea7c58c672c9814e754bdc,2,1,1,31420,,,0,"just black

Change-Id: I6ee3f53f2ebe2204b37dd7033eda77d670c11458
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/16/865916/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/ceph_mds/requires.py', 'unit_tests/test_provides.py', 'test-requirements.txt', 'src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'src/lib/base_requires.py', 'src/lib/base_provides.py', 'tox.ini']",9,133389153d4c4a6254ea7c58c672c9814e754bdc,black,commands = flake8 {posargs} black --check {toxinidir} [testenv:format] envdir = {toxworkdir}/pep8 deps = -r{toxinidir}/test-requirements.txt commands = black {toxinidir}exclude=.tox max-line-length = 88,commands = flake8 {posargs},327,302
openstack%2Fdesignate~864058,openstack/designate,stable/victoria,I052fb7ad90b4134ebe4c4e6a4784064c176eaaee,Specify AXFR transfer timeout for dnspython v1.,ABANDONED,2022-11-08 19:26:17.000000000,2022-11-28 21:23:13.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 19:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/48d2454c00bfc08a5cdb65121497f09886f8de08', 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\nBy default there is no timeout at all, so we set infinity.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}, {'number': 2, 'created': '2022-11-09 12:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ffd6fbf393685bd70c67ea42097c185a2811ee92', 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}, {'number': 3, 'created': '2022-11-09 12:14:11.000000000', 'files': ['designate/dnsutils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/dda3c31465683f5f64403b75d7d599db17af6e93', 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}]",3,864058,dda3c31465683f5f64403b75d7d599db17af6e93,8,2,3,32927,,,0,"Specify AXFR transfer timeout for dnspython v1.

If we specify message timeout and do not specify AXFR transfer timeout
we face with error in dnspython v1:
https://github.com/rthalley/dnspython/issues/390
The bug was fixed in v2:
https://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375
It's risky to update dnspython to version 2 because there are changes in interfaces
and eventlet requires updates too to be compatible with dnspython.
So it's simpler to set transfer timeout.

Closes-Bug: 1940563
Change-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee
",git fetch https://review.opendev.org/openstack/designate refs/changes/58/864058/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/dnsutils.py'],1,48d2454c00bfc08a5cdb65121497f09886f8de08,bug/1940563," timeout=1, port=srv['port'], source=source, lifetime=float('inf'))"," timeout=1, port=srv['port'], source=source)",2,1
openstack%2Fcharm-hacluster~865785,openstack/charm-hacluster,master,I8be6ac75979a276d7359cd96b123ca57342a7328,Add the python libmaas ppa,ABANDONED,2022-11-28 04:39:37.000000000,2022-11-28 21:06:31.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 04:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d53b521ad0a9cd8da109f8629719a9913169c347', 'message': 'Add the python libmaas ppa\n\nThis is to ensure we can install the latest python3-libmaas.\nThe main motivation is to fix jammy support\n(currently the version of python3-libmaas in the official repos\ndoes not support jammy).\n\nCloses-Bug: #1998069\nChange-Id: I8be6ac75979a276d7359cd96b123ca57342a7328\n'}, {'number': 2, 'created': '2022-11-28 04:52:58.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e92e64f309881eba81ee199afc202c69ca9c5c51', 'message': 'Add the python libmaas ppa\n\nThis is to ensure we can install the latest python3-libmaas.\nThe main motivation is to fix jammy support\n(currently the version of python3-libmaas in the official repos\ndoes not support jammy).\n\nCloses-Bug: #1998069\nChange-Id: I8be6ac75979a276d7359cd96b123ca57342a7328\n'}]",4,865785,e92e64f309881eba81ee199afc202c69ca9c5c51,8,3,2,34352,,,0,"Add the python libmaas ppa

This is to ensure we can install the latest python3-libmaas.
The main motivation is to fix jammy support
(currently the version of python3-libmaas in the official repos
does not support jammy).

Closes-Bug: #1998069
Change-Id: I8be6ac75979a276d7359cd96b123ca57342a7328
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/85/865785/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,d53b521ad0a9cd8da109f8629719a9913169c347,libmaas-ppa," add_source, # add the ppa for the latest python-libmaas version add_source('ppa:maas/python-libmaas') apt_update(fatal=True)",,4,0
openstack%2Ftripleo-ansible~865887,openstack/tripleo-ansible,stable/zed,I9df1a5b498f455f68b732cb2d54b0a85e58eeb93,Fix repo problems in tripleo_collectd,ABANDONED,2022-11-28 19:25:15.000000000,2022-11-28 19:42:04.000000000,,[],"[{'number': 1, 'created': '2022-11-28 19:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8733c20845656ccb33afbd27d55313469e63f2b6', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n(cherry picked from commit c9d7238d3325663f36762ede64c424682ef3f5cd)\n'}, {'number': 2, 'created': '2022-11-28 19:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c05f301dc0da729727276ac5bf6fa58dce91e221', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)\n'}, {'number': 3, 'created': '2022-11-28 19:40:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8994b5570e00dfdc1aac729700134a996a1bd61e', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)\n'}]",0,865887,8994b5570e00dfdc1aac729700134a996a1bd61e,4,0,3,30893,,,0,"Fix repo problems in tripleo_collectd

Closes-Bug: #1979972
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93
(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/865887/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",10,8733c20845656ccb33afbd27d55313469e63f2b6,, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg:O - /opt/yum.repos.d:/etc/yum.repos.d:O - /etc/dnf/vars:/etc/dnf/vars:O, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars,32,37
openstack%2Ftripleo-ansible~865600,openstack/tripleo-ansible,stable/wallaby,I9df1a5b498f455f68b732cb2d54b0a85e58eeb93,Fix repo problems in tripleo_collectd,ABANDONED,2022-11-24 20:03:34.000000000,2022-11-28 19:17:26.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 20:03:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abbebbdaa57c6d65a5ffab58b4a81a1a49b6949c', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit c9d7238d3325663f36762ede64c424682ef3f5cd)\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n'}]",6,865600,abbebbdaa57c6d65a5ffab58b4a81a1a49b6949c,5,2,1,30893,,,0,"Fix repo problems in tripleo_collectd

Closes-Bug: #1979972
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit c9d7238d3325663f36762ede64c424682ef3f5cd)
Change-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/865600/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",11,abbebbdaa57c6d65a5ffab58b4a81a1a49b6949c,, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg:O - /opt/yum.repos.d:/etc/yum.repos.d:O - /etc/dnf/vars:/etc/dnf/vars:O, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars,33,30
openstack%2Fneutron~865871,openstack/neutron,master,Ic38280eafaf500cbea4deae9fe2befa012fad861,Use the neutron-lib constant for PACKET_RATE_LIMIT table number (2),MERGED,2022-11-28 17:11:10.000000000,2022-11-28 18:48:35.000000000,2022-11-28 18:45:55.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 17:11:10.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b64ac90133d77d1615022125aa56890a3e169d9', 'message': 'Use the neutron-lib constant for PACKET_RATE_LIMIT table number (2)\n\nThis patch completes the missing bits from [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865590\n\nRelated-Bug: #1938966\nChange-Id: Ic38280eafaf500cbea4deae9fe2befa012fad861\n'}]",0,865871,5b64ac90133d77d1615022125aa56890a3e169d9,10,4,1,16688,,,0,"Use the neutron-lib constant for PACKET_RATE_LIMIT table number (2)

This patch completes the missing bits from [1].

[1]https://review.opendev.org/c/openstack/neutron/+/865590

Related-Bug: #1938966
Change-Id: Ic38280eafaf500cbea4deae9fe2befa012fad861
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/865871/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'],1,5b64ac90133d77d1615022125aa56890a3e169d9,bug/1938966," table_id=ovs_constants.PACKET_RATE_LIMIT), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE, table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE, table_id=ovs_constants.TRANSIENT_TABLE,"," table_id=59), table_id=60), table_id=60), table_id=60), table_id=60), table_id=60, table_id=60), table_id=60), table_id=60, table_id=60,",10,10
openstack%2Fneutron~864215,openstack/neutron,master,Ic47c10ea2ba07347f32f75aa5de3c69e9e261780,[OVN] Prevent maintenance task fail resource stdattr does not exist,MERGED,2022-11-10 15:44:55.000000000,2022-11-28 18:46:59.000000000,2022-11-28 18:45:40.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 15:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84a5663f5fd9fad480b82a392dc4debae3360e71', 'message': '[WIP] [OVN] Prevent maintenance task fail resource stdattr does not exist\n\nCloses-Bug: #1996180\nChange-Id: Ic47c10ea2ba07347f32f75aa5de3c69e9e261780\n'}, {'number': 2, 'created': '2022-11-11 10:55:48.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81004125c4592f2378d8434e41ec2db41a42886b', 'message': ""[OVN] Prevent maintenance task fail resource stdattr does not exist\n\nIn the maintenance task, the method that fixes the missing or not\nupdated resources ``DBInconsistenciesPeriodics._fix_create_update``\nnot won't exit if the resource is not found in the Neutron database.\nWhen the OVN revision number is bumped, now the method retrieves the\nresource standard attributes register. If this register does not\nexist, that means the resource has been deleted.\n\nThe method catches the ``StandardAttributeIDNotFound`` exception and\nlogs an error.\n\nCloses-Bug: #1996180\nChange-Id: Ic47c10ea2ba07347f32f75aa5de3c69e9e261780\n""}]",7,864215,81004125c4592f2378d8434e41ec2db41a42886b,36,6,2,16688,,,0,"[OVN] Prevent maintenance task fail resource stdattr does not exist

In the maintenance task, the method that fixes the missing or not
updated resources ``DBInconsistenciesPeriodics._fix_create_update``
not won't exit if the resource is not found in the Neutron database.
When the OVN revision number is bumped, now the method retrieves the
resource standard attributes register. If this register does not
exist, that means the resource has been deleted.

The method catches the ``StandardAttributeIDNotFound`` exception and
logs an error.

Closes-Bug: #1996180
Change-Id: Ic47c10ea2ba07347f32f75aa5de3c69e9e261780
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/864215/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ovn_revision_numbers_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,84a5663f5fd9fad480b82a392dc4debae3360e71,bug/1996180," try: if not ovn_obj: res_map['ovn_create'](context, n_obj) else: if row.resource_type == ovn_const.TYPE_SECURITY_GROUP_RULES: LOG.error(""SG rule %s found with a revision number while "" ""this resource doesn't support updates"", row.resource_uuid) elif row.resource_type == ovn_const.TYPE_SECURITY_GROUPS: # In OVN, we don't care about updates to security groups, # so just bump the revision number to whatever it's # supposed to be. else: ext_ids = getattr(ovn_obj, 'external_ids', {}) ovn_revision = int(ext_ids.get( ovn_const.OVN_REV_NUM_EXT_ID_KEY, -1)) # If the resource exist in the OVN DB but the revision # number is different from Neutron DB, updated it. if ovn_revision != n_obj['revision_number']: res_map['ovn_update'](context, n_obj) else: # If the resource exist and the revision number # is equal on both databases just bump the revision on # the cache table. revision_numbers_db.bump_revision(context, n_obj, row.resource_type) except revision_numbers_db.StandardAttributeIDNotFound: LOG.error('Standard attribute ID not found for object ID %s', n_obj['id'])"," if not ovn_obj: res_map['ovn_create'](context, n_obj) else: if row.resource_type == ovn_const.TYPE_SECURITY_GROUP_RULES: LOG.error(""SG rule %s found with a revision number while "" ""this resource doesn't support updates"", row.resource_uuid) elif row.resource_type == ovn_const.TYPE_SECURITY_GROUPS: # In OVN, we don't care about updates to security groups, # so just bump the revision number to whatever it's # supposed to be. revision_numbers_db.bump_revision(context, n_obj, row.resource_type) else: ext_ids = getattr(ovn_obj, 'external_ids', {}) ovn_revision = int(ext_ids.get( ovn_const.OVN_REV_NUM_EXT_ID_KEY, -1)) # If the resource exist in the OVN DB but the revision # number is different from Neutron DB, updated it. if ovn_revision != n_obj['revision_number']: res_map['ovn_update'](context, n_obj) else: # If the resource exist and the revision number # is equal on both databases just bump the revision on # the cache table.",33,38
