id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fenterprise-wg~master~Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7,openstack/enterprise-wg,master,Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7,Retire enterprise-wg repo,MERGED,2021-06-18 00:10:55.000000000,2021-06-21 17:37:57.000000000,2021-06-21 17:37:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/enterprise-wg/commit/2a1929c1dc0fd7f2b845f8136395cc4e4b933e81', 'message': 'Retire enterprise-wg repo\n\nAs discussed in TC meeting[1], TC is retiring the\nenterprise-wg repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7\n'}, {'number': 2, 'created': '2021-06-18 17:13:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/enterprise-wg/commit/bb4cfb598fbded0aec95b1a960cf2b9d6d537a93', 'message': 'Retire enterprise-wg repo\n\nAs discussed in TC meeting[1], TC is retiring the\nenterprise-wg repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7\n'}]",0,796966,bb4cfb598fbded0aec95b1a960cf2b9d6d537a93,9,3,2,8556,,,0,"Retire enterprise-wg repo

As discussed in TC meeting[1], TC is retiring the
enterprise-wg repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7
",git fetch https://review.opendev.org/openstack/enterprise-wg refs/changes/66/796966/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2a1929c1dc0fd7f2b845f8136395cc4e4b933e81,retire-enterprise-wg,"This project is no longer maintained. The contents of this repository are still available in the Git source code management system. To see the contents of this repository before it reached its end of life, please check out the previous commit with ""git checkout HEAD^1"". (Optional:) For an alternative project, please see <alternative project name> at <alternative project URL>. For any further questions, please email openstack-discuss@lists.openstack.org or join #openstack-dev on OFTC. ",,14,0
openstack%2Fgovernance-uc~master~I108328a22c5b8e941fef057ef90574b9d1217754,openstack/governance-uc,master,I108328a22c5b8e941fef057ef90574b9d1217754,Retire governance-uc repo,MERGED,2021-06-18 00:19:50.000000000,2021-06-21 17:37:53.000000000,2021-06-21 17:37:53.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/75a38c5c002c53dbf3999ba06f37286981abc1ef', 'message': 'Retire governance-uc repo\n\nAs discussed in TC meeting[1], TC is retiring the\ngovernance-uc repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I108328a22c5b8e941fef057ef90574b9d1217754\n'}, {'number': 2, 'created': '2021-06-18 17:13:02.000000000', 'files': ['reference/uc-election-feb2017.rst', '.gitignore', 'reference/uc-election-aug2017.rst', 'README.rst', 'setup.py', 'doc/source/_exts/teamtable.py', 'reference/members', 'resolutions/index.rst', 'reference/uc-election-feb2020.rst', 'reference/uc-election-aug2018.rst', 'reference/index.rst', 'requirements.txt', 'doc/source/_themes/governance/sidebartoc_menu.html', 'reference/charter.rst', 'doc/source/reference', 'resolutions/20182407-new-auc-recognition-criteria.rst', 'reference/uc-election-aug2019.rst', '.zuul.yaml', 'doc/source/conf.py', 'reference/running-a-uc-election.rst', 'doc/source/index.rst', 'doc/source/_exts/members.py', 'reference/new-uc-group-requirements.rst', 'reference/uc-election-feb2018.rst', 'doc/source/_static/.placeholder', 'reference/uc-election-sep2019.rst', 'doc/source/_themes/governance/theme.conf', 'reference/uc-election-feb2019.rst', 'setup.cfg', 'tox.ini', 'reference/teams.yaml', 'reference/working-groups.yaml'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/5f6a68896324b85fe208a9d80abef4daa66177d8', 'message': 'Retire governance-uc repo\n\nAs discussed in TC meeting[1], TC is retiring the\ngovernance-uc repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I108328a22c5b8e941fef057ef90574b9d1217754\n'}]",0,796970,5f6a68896324b85fe208a9d80abef4daa66177d8,10,3,2,8556,,,0,"Retire governance-uc repo

As discussed in TC meeting[1], TC is retiring the
governance-uc repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I108328a22c5b8e941fef057ef90574b9d1217754
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/70/796970/2 && git format-patch -1 --stdout FETCH_HEAD,"['reference/uc-election-feb2017.rst', '.gitignore', 'reference/uc-election-aug2017.rst', 'README.rst', 'setup.py', 'doc/source/_exts/teamtable.py', 'reference/members', 'resolutions/index.rst', 'reference/uc-election-feb2020.rst', 'reference/uc-election-aug2018.rst', 'reference/index.rst', 'requirements.txt', 'doc/source/_themes/governance/sidebartoc_menu.html', 'reference/charter.rst', 'doc/source/reference', 'resolutions/20182407-new-auc-recognition-criteria.rst', 'reference/uc-election-aug2019.rst', '.zuul.yaml', 'doc/source/conf.py', 'reference/running-a-uc-election.rst', 'doc/source/index.rst', 'doc/source/_exts/members.py', 'reference/new-uc-group-requirements.rst', 'reference/uc-election-feb2018.rst', 'doc/source/_static/.placeholder', 'reference/uc-election-sep2019.rst', 'doc/source/_themes/governance/theme.conf', 'reference/uc-election-feb2019.rst', 'setup.cfg', 'tox.ini', 'reference/teams.yaml', 'reference/working-groups.yaml']",32,75a38c5c002c53dbf3999ba06f37286981abc1ef,retire-governance-uc,,"Fault-Genes Working Group: chairs: - name: Nemat Bidokhti irc: email: - name: Rochelle (Rocky) Grober irc: email: mission: > The Fault Genes Working Group's goal is to be the DNA of OpenStack fault-tolerance. url: https://wiki.openstack.org/wiki/Fault_Genes_Working_Group status: active aucs: - name: irc: email: expires-in: extra-aucs: - name: email: expires-in: comment: LCOO Working Group: chairs: - name: Jamey McCabe irc: email: mission: > The working group aims to collaborate with the Product Working Group (PWG), other working groups and community-wide stakeholders to define the use cases and identify and prioritize the requirements which are needed to deploy, manage, and run services on top of OpenStack. url: https://wiki.openstack.org/wiki/LCOO status: active aucs: - name: irc: email: expires-in: extra-aucs: - name: email: expires-in: comment: ",11,1771
openstack%2Fworkload-ref-archs~master~I935d26a6b6b8fc137491674b7f81667127a58137,openstack/workload-ref-archs,master,I935d26a6b6b8fc137491674b7f81667127a58137,Retire workload-ref-archs repo,MERGED,2021-06-18 00:17:44.000000000,2021-06-21 17:37:51.000000000,2021-06-21 17:37:51.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/64294ded3d40746f91cb3c3cbc14787ac1b9ff81', 'message': 'Retire workload-ref-archs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nworkload-ref-archs repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I935d26a6b6b8fc137491674b7f81667127a58137\n'}, {'number': 2, 'created': '2021-06-18 17:12:48.000000000', 'files': ['test-requirements.txt', 'doc/source/financial/research-and-practice-of-next-generation-financial-cloud-network-based-on-open-source-sdn-controller.pdf', 'README.rst', 'doc/source/usage.rst', 'doc/source/web-applications/web-applications.rst', 'setup.py', 'doc/source/big-data/sample/heat/BigData.yaml', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'doc/source/financial/maturity-analysis-blockchain.pdf', 'workload-ref-archs/ecommerce/sample/heat/nested/launch_sql_layer.yaml', 'doc/source/financial/open-source-maturity-analysis-messageq.docx', 'doc/source/financial/unionpay-shanghaibank-sdn-financial-cloud.docx', 'LICENSE', 'doc/source/web-applications/sample/heat/nested/heat_sql_tier.yaml', 'doc/source/web-applications/sample/heat/nested/setup_net_sg.yaml', 'doc/source/web-applications/sample/heat/nested/heat_app_tier.yaml', 'doc/source/web-applications/sample/heat/README.rst', 'doc/source/big-data/figures/figure01.png', 'workload-ref-archs/ecommerce/sample/heat/eCommerceStatic.yaml', 'workload-ref-archs/tests/base.py', '.mailmap', 'releasenotes/source/index.rst', 'doc/source/web-applications/sample/heat/WebAppStatic.yaml', 'MANIFEST.in', 'doc/source/installation.rst', 'doc/source/web-applications/sample/heat/nested/heat_web_tier.yaml', 'workload-ref-archs/tests/__init__.py', 'setup.cfg', 'tox.ini', 'workload-ref-archs/ecommerce/sample/heat/README.rst', 'doc/source/financial/unionpay-financial-cloud-five-high-production-requirement-using-openstack.pdf', 'doc/source/contributing.rst', '.gitignore', 'workload-ref-archs/ecommerce/sample/heat/nested/launch_services_layer.yaml', 'doc/source/big-data/sample/heat/README.rst', 'doc/source/web-applications/figures/figure02.png', 'workload-ref-archs/__init__.py', 'doc/source/big-data/figures/figure03.png', 'releasenotes/source/_templates/.placeholder', 'doc/source/web-applications/sample/heat/WebAppAutoScaling.yaml', 'requirements.txt', 'workload-ref-archs/tests/test_workload-ref-archs.py', 'doc/source/big-data/figures/figure02.png', 'doc/source/financial/open-source-maturity-analysis-json.docx', 'releasenotes/source/_static/.placeholder', 'doc/source/web-applications/figures/figure01.png', 'doc/source/web-applications/figures/figure04.png', 'workload-ref-archs/ecommerce/sample/heat/eCommerceAutoScaling.yaml', '.zuul.yaml', 'doc/source/conf.py', 'workload-ref-archs/ecommerce/sample/heat/nested/launch_web_layer.yaml', 'workload-template.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/web-applications/figures/figure03.png', 'doc/source/big-data/figures/figure04.png', 'doc/source/big-data/big-data.rst', 'doc/source/readme.rst', 'workload-ref-archs/ecommerce/sample/heat/nested/setup_network.yaml', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/4f68968bedbb7ff0adbab20e268f014093b0df41', 'message': 'Retire workload-ref-archs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nworkload-ref-archs repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I935d26a6b6b8fc137491674b7f81667127a58137\n'}]",0,796967,4f68968bedbb7ff0adbab20e268f014093b0df41,10,3,2,8556,,,0,"Retire workload-ref-archs repo

As discussed in TC meeting[1], TC is retiring the
workload-ref-archs repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I935d26a6b6b8fc137491674b7f81667127a58137
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/67/796967/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/financial/research-and-practice-of-next-generation-financial-cloud-network-based-on-open-source-sdn-controller.pdf', 'README.rst', 'doc/source/usage.rst', 'doc/source/web-applications/web-applications.rst', 'setup.py', 'doc/source/big-data/sample/heat/BigData.yaml', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'doc/source/financial/maturity-analysis-blockchain.pdf', 'workload-ref-archs/ecommerce/sample/heat/nested/launch_sql_layer.yaml', 'doc/source/financial/open-source-maturity-analysis-messageq.docx', 'doc/source/financial/unionpay-shanghaibank-sdn-financial-cloud.docx', 'LICENSE', 'doc/source/web-applications/sample/heat/nested/heat_sql_tier.yaml', 'doc/source/web-applications/sample/heat/nested/setup_net_sg.yaml', 'doc/source/web-applications/sample/heat/nested/heat_app_tier.yaml', 'doc/source/web-applications/sample/heat/README.rst', 'doc/source/big-data/figures/figure01.png', 'workload-ref-archs/ecommerce/sample/heat/eCommerceStatic.yaml', 'workload-ref-archs/tests/base.py', '.mailmap', 'releasenotes/source/index.rst', 'doc/source/web-applications/sample/heat/WebAppStatic.yaml', 'MANIFEST.in', 'doc/source/installation.rst', 'doc/source/web-applications/sample/heat/nested/heat_web_tier.yaml', 'workload-ref-archs/tests/__init__.py', 'setup.cfg', 'tox.ini', 'workload-ref-archs/ecommerce/sample/heat/README.rst', 'doc/source/financial/unionpay-financial-cloud-five-high-production-requirement-using-openstack.pdf', 'doc/source/contributing.rst', '.gitignore', 'workload-ref-archs/ecommerce/sample/heat/nested/launch_services_layer.yaml', 'doc/source/big-data/sample/heat/README.rst', 'doc/source/web-applications/figures/figure02.png', 'workload-ref-archs/__init__.py', 'doc/source/big-data/figures/figure03.png', 'releasenotes/source/_templates/.placeholder', 'doc/source/web-applications/sample/heat/WebAppAutoScaling.yaml', 'requirements.txt', 'workload-ref-archs/tests/test_workload-ref-archs.py', 'doc/source/big-data/figures/figure02.png', 'doc/source/financial/open-source-maturity-analysis-json.docx', 'releasenotes/source/_static/.placeholder', 'doc/source/web-applications/figures/figure01.png', 'doc/source/web-applications/figures/figure04.png', 'workload-ref-archs/ecommerce/sample/heat/eCommerceAutoScaling.yaml', '.zuul.yaml', 'doc/source/conf.py', 'workload-ref-archs/ecommerce/sample/heat/nested/launch_web_layer.yaml', 'workload-template.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/web-applications/figures/figure03.png', 'doc/source/big-data/figures/figure04.png', 'doc/source/big-data/big-data.rst', 'doc/source/readme.rst', 'workload-ref-archs/ecommerce/sample/heat/nested/setup_network.yaml', 'HACKING.rst', 'releasenotes/source/conf.py']",62,64294ded3d40746f91cb3c3cbc14787ac1b9ff81,retire-workload-ref-archs,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Glance Release Notes documentation build configuration file, created by # sphinx-quickstart on Tue Nov 3 17:40:50 2015. # # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'oslosphinx', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'workload-ref-archs Release Notes' copyright = u'2016, OpenStack Foundation' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'default' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'GlanceReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'GlanceReleaseNotes.tex', u'Glance Release Notes Documentation', u'Glance Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'glancereleasenotes', u'Glance Release Notes Documentation', [u'Glance Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'GlanceReleaseNotes', u'Glance Release Notes Documentation', u'Glance Developers', 'GlanceReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",11,6222
openstack%2Farch-wg~master~Ib6d7bceada9b41d87785ea90e27761435439596c,openstack/arch-wg,master,Ib6d7bceada9b41d87785ea90e27761435439596c,Retire arch-wg repo,MERGED,2021-06-18 00:09:10.000000000,2021-06-21 17:37:48.000000000,2021-06-21 17:37:48.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/arch-wg/commit/0fc63785f31689e819ddc04f6312cf447250bf28', 'message': 'Retire arch-wg repo\n\nAs discussed in TC meeting[1], TC is retiring the\narch-wg repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ib6d7bceada9b41d87785ea90e27761435439596c\n'}, {'number': 2, 'created': '2021-06-18 17:12:33.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'README.rst', 'setup.py', 'doc/source/conf.py', 'proposals/nova-compute-api.rst', 'doc/source/index.rst', 'requirements.txt', 'reports/README.rst', '.testr.conf', 'active/base-services.rst', 'setup.cfg', 'tests/test_fake.py', 'tox.ini', 'tests/__init__.py', 'proposals/README.rst'], 'web_link': 'https://opendev.org/openstack/arch-wg/commit/33f4d817d41494b97260948ff579ef020cfd13a6', 'message': 'Retire arch-wg repo\n\nAs discussed in TC meeting[1], TC is retiring the\narch-wg repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ib6d7bceada9b41d87785ea90e27761435439596c\n'}]",0,796964,33f4d817d41494b97260948ff579ef020cfd13a6,12,4,2,8556,,,0,"Retire arch-wg repo

As discussed in TC meeting[1], TC is retiring the
arch-wg repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ib6d7bceada9b41d87785ea90e27761435439596c
",git fetch https://review.opendev.org/openstack/arch-wg refs/changes/64/796964/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'README.rst', 'setup.py', 'doc/source/conf.py', 'proposals/nova-compute-api.rst', 'doc/source/index.rst', 'requirements.txt', 'reports/README.rst', '.testr.conf', 'active/base-services.rst', 'setup.cfg', 'tests/test_fake.py', 'tox.ini', 'tests/__init__.py', 'proposals/README.rst']",16,0fc63785f31689e819ddc04f6312cf447250bf28,retire-arch-wg,,"Add proposals for Architecture WG collaboration here. These are mostly free-form documents, that should answer a few base questions: * What specifically do you think is in need of architectural design work in OpenStack? * What background supports your claim that there's need to spend resources analyzing, designing, and changing OpenStack in this way? * Do you have ideas for what the Architecture Working Group would do with this proposal? This would generally be, but is not limited to, some of the following things: * Produce an accurate analysis on the current state of [topic]. * Produce a cross-project spec and/or community goal for OpenStack to work to support findings. * Find and integrate existing solutions from outside OpenStack via drivers/plugins/etc. As long as the proposal is on-topic for OpenStack, we will merge it and begin work to either accept it and gather support for working on it, improve the proposal, or reject it. The ultimate goal is to move the proposal out of here into backlog or active. The proposal should be ammended with next-steps before or while it is moved to backlog or active. Rejected proposals will be moved to rejected. ",12,929
openstack%2Fproject-navigator-data~master~Ibbdf7099298e1eb5c0209298b67b667434488526,openstack/project-navigator-data,master,Ibbdf7099298e1eb5c0209298b67b667434488526,Retire project-navigator-data repo,MERGED,2021-06-18 00:10:29.000000000,2021-06-21 17:35:46.000000000,2021-06-21 17:35:46.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/81e6402ee0d91ebd0e219ed88d70aa7d2e365c15', 'message': 'Retire project-navigator-data repo\n\nAs discussed in TC meeting[1], TC is retiring the\nproject-navigator-data repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ibbdf7099298e1eb5c0209298b67b667434488526\n'}, {'number': 2, 'created': '2021-06-18 17:12:19.000000000', 'files': ['releases/bexar/glance.json', 'releases/mitaka/trove.json', 'releases/mitaka/swift.json', 'releases/icehouse/swift.json', 'releases/essex/swift.json', 'releases/liberty/sahara.json', 'releases/kilo/barbican.json', 'schema.json', 'releases/folsom/swift.json', 'releases/kilo/freezer.json', 'releases/bexar/nova.json', 'releases/liberty/nova.json', 'releases/mitaka/murano.json', 'releases/mitaka/dragonflow.json', 'releases/newton/dragonflow.json', 'releases/mitaka/cinder.json', 'releases/grizzly/swift.json', 'releases/cactus/swift.json', 'releases/mitaka/sahara.json', 'releases/grizzly/glance.json', 'releases/diablo/nova.json', 'releases/ocata/nova.json', 'releases/liberty/glance.json', 'releases/ocata/karbor.json', 'releases/newton/nova.json', 'releases/ocata/barbican.json', 'releases/kilo/cinder.json', 'releases/ocata/sahara.json', 'releases/essex/glance.json', 'releases/havana/nova.json', 'releases/ocata/freezer.json', 'releases/newton/murano.json', 'releases/liberty/murano.json', 'releases/juno/cinder.json', 'releases/mitaka/glance.json', 'releases/juno/swift.json', 'releases/newton/heat.json', 'releases/diablo/glance.json', 'releases/ocata/dragonflow.json', '.zuul.yaml', 'releases/liberty/barbican.json', 'releases/juno/trove.json', 'releases/bexar/swift.json', 'releases/cactus/nova.json', 'releases/kilo/swift.json', 'releases/ocata/trove.json', 'releases/austin/nova.json', 'releases/havana/cinder.json', 'releases/grizzly/cinder.json', 'releases/juno/sahara.json', 'releases/ocata/murano.json', 'README.rst', 'releases/kilo/sahara.json', 'releases/ocata/tricircle.json', 'setup.py', 'releases/ocata/cinder.json', 'releases/ocata/heat.json', 'releases/folsom/nova.json', 'releases/newton/magnum.json', 'releases/newton/trove.json', 'releases/essex/nova.json', 'releases/juno/glance.json', 'releases/newton/sahara.json', 'validate.py', 'releases/mitaka/freezer.json', 'releases/folsom/glance.json', 'releases/mitaka/nova.json', 'releases/havana/barbican.json', 'releases/kilo/trove.json', 'releases/newton/cinder.json', 'releases/newton/manila.json', 'setup.cfg', 'tox.ini', 'releases/icehouse/cinder.json', 'releases/kilo/glance.json', 'releases/austin/swift.json', '.gitignore', 'releases/icehouse/barbican.json', 'releases/icehouse/nova.json', 'releases/kilo/nova.json', 'releases/liberty/freezer.json', 'releases/juno/nova.json', 'releases/newton/senlin.json', 'releases/ocata/manila.json', 'releases/liberty/swift.json', 'releases/ocata/glance.json', 'releases/juno/barbican.json', 'releases/newton/barbican.json', 'releases/mitaka/barbican.json', 'releases/pike/nova.json', 'releases/newton/keystone.json', 'releases/havana/swift.json', 'releases/liberty/trove.json', 'releases/icehouse/glance.json', 'releases/cactus/glance.json', 'releases/newton/swift.json', 'releases/folsom/cinder.json', 'releases/havana/glance.json', 'releases/diablo/swift.json', 'releases/grizzly/nova.json', 'releases/icehouse/trove.json', 'releases/newton/freezer.json', 'releases/newton/glance.json', 'releases/ocata/swift.json', 'releases/queens/nova.json', 'releases/liberty/cinder.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/824ca86eccfd4f8363448e5d4304c0089fcedace', 'message': 'Retire project-navigator-data repo\n\nAs discussed in TC meeting[1], TC is retiring the\nproject-navigator-data repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ibbdf7099298e1eb5c0209298b67b667434488526\n'}]",0,796965,824ca86eccfd4f8363448e5d4304c0089fcedace,13,4,2,8556,,,0,"Retire project-navigator-data repo

As discussed in TC meeting[1], TC is retiring the
project-navigator-data repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ibbdf7099298e1eb5c0209298b67b667434488526
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/65/796965/2 && git format-patch -1 --stdout FETCH_HEAD,"['releases/bexar/glance.json', 'releases/mitaka/trove.json', 'releases/mitaka/swift.json', 'releases/icehouse/swift.json', 'releases/essex/swift.json', 'releases/liberty/sahara.json', 'releases/kilo/barbican.json', 'schema.json', 'releases/folsom/swift.json', 'releases/kilo/freezer.json', 'releases/bexar/nova.json', 'releases/liberty/nova.json', 'releases/mitaka/murano.json', 'releases/mitaka/dragonflow.json', 'releases/newton/dragonflow.json', 'releases/mitaka/cinder.json', 'releases/grizzly/swift.json', 'releases/cactus/swift.json', 'releases/mitaka/sahara.json', 'releases/grizzly/glance.json', 'releases/diablo/nova.json', 'releases/ocata/nova.json', 'releases/liberty/glance.json', 'releases/ocata/karbor.json', 'releases/newton/nova.json', 'releases/ocata/barbican.json', 'releases/kilo/cinder.json', 'releases/ocata/sahara.json', 'releases/essex/glance.json', 'releases/havana/nova.json', 'releases/ocata/freezer.json', 'releases/newton/murano.json', 'releases/liberty/murano.json', 'releases/juno/cinder.json', 'releases/mitaka/glance.json', 'releases/juno/swift.json', 'releases/newton/heat.json', 'releases/diablo/glance.json', 'releases/ocata/dragonflow.json', '.zuul.yaml', 'releases/liberty/barbican.json', 'releases/juno/trove.json', 'releases/bexar/swift.json', 'releases/cactus/nova.json', 'releases/kilo/swift.json', 'releases/ocata/trove.json', 'releases/austin/nova.json', 'releases/havana/cinder.json', 'releases/grizzly/cinder.json', 'releases/juno/sahara.json', 'releases/ocata/murano.json', 'README.rst', 'releases/kilo/sahara.json', 'releases/ocata/tricircle.json', 'setup.py', 'releases/ocata/cinder.json', 'releases/ocata/heat.json', 'releases/folsom/nova.json', 'releases/newton/magnum.json', 'releases/newton/trove.json', 'releases/essex/nova.json', 'releases/juno/glance.json', 'releases/newton/sahara.json', 'validate.py', 'releases/mitaka/freezer.json', 'releases/folsom/glance.json', 'releases/mitaka/nova.json', 'releases/havana/barbican.json', 'releases/kilo/trove.json', 'releases/newton/cinder.json', 'releases/newton/manila.json', 'setup.cfg', 'tox.ini', 'releases/icehouse/cinder.json', 'releases/kilo/glance.json', 'releases/austin/swift.json', '.gitignore', 'releases/icehouse/barbican.json', 'releases/icehouse/nova.json', 'releases/kilo/nova.json', 'releases/liberty/freezer.json', 'releases/juno/nova.json', 'releases/newton/senlin.json', 'releases/ocata/manila.json', 'releases/liberty/swift.json', 'releases/ocata/glance.json', 'releases/juno/barbican.json', 'releases/newton/barbican.json', 'releases/mitaka/barbican.json', 'releases/pike/nova.json', 'releases/newton/keystone.json', 'releases/havana/swift.json', 'releases/liberty/trove.json', 'releases/icehouse/glance.json', 'releases/cactus/glance.json', 'releases/newton/swift.json', 'releases/folsom/cinder.json', 'releases/havana/glance.json', 'releases/diablo/swift.json', 'releases/grizzly/nova.json', 'releases/icehouse/trove.json', 'releases/newton/freezer.json', 'releases/newton/glance.json', 'releases/ocata/swift.json', 'releases/queens/nova.json', 'releases/liberty/cinder.json']",106,81e6402ee0d91ebd0e219ed88d70aa7d2e365c15,retire-project-navigator-data,,"{ ""versions"": [ { ""id"": ""v2.0"", ""status"": ""CURRENT"" }, { ""id"": ""v1.0"", ""status"": ""DEPRECATED"" } ] } ",12,1370
openstack%2Fopenstack-specs~master~Ieb37227e6b80a64ead680ece315973e2f040da6e,openstack/openstack-specs,master,Ieb37227e6b80a64ead680ece315973e2f040da6e,Retire openstack-specs repo,MERGED,2021-06-18 00:08:51.000000000,2021-06-21 17:35:24.000000000,2021-06-21 17:35:24.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/fa1daf5eeaa2fe0d9c48cf18260617cca64bdb10', 'message': 'Retire openstack-specs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nopenstack-specs repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ieb37227e6b80a64ead680ece315973e2f040da6e\n'}, {'number': 2, 'created': '2021-06-18 17:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/75bed26c57fa36d3fae7abc7892e67075cd6a47f', 'message': 'Retire openstack-specs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nopenstack-specs repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ieb37227e6b80a64ead680ece315973e2f040da6e\n'}, {'number': 3, 'created': '2021-06-18 17:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/abd26ae5fd9edfdc14de5308e5245bf7fc939a42', 'message': 'Retire openstack-specs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nopenstack-specs repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ieb37227e6b80a64ead680ece315973e2f040da6e\n'}, {'number': 4, 'created': '2021-06-18 17:23:36.000000000', 'files': ['doc/source/contributing.rst', '.gitignore', 'doc/source/specs', 'specs/no-downward-sql-migration.rst', 'test-requirements.txt', 'specs/supported-messaging-drivers.rst', 'README.rst', 'specs/enable-python-3-int-func-tests.rst', 'setup.py', 'specs/service-catalog.rst', 'CONTRIBUTING.rst', 'requirements.txt', 'specs/library-stable-branches.rst', 'specs/.placeholder', 'specs/cors-support.rst', 'specs/deprecate-cli.rst', 'LICENSE', 'specs/return-request-id.rst', 'template.rst', 'specs/log-guidelines.rst', 'specs/chronicles-of-a-dlm.rst', '.zuul.yaml', 'specs/cli-sorting-args.rst', 'specs/requirements-management.rst', '.mailmap', 'doc/source/conf.py', 'specs/eventlet-best-practices.rst', 'specs/clouds-yaml-support.rst', 'MANIFEST.in', 'doc/source/index.rst', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/51789f3b4f29e25dfb64785e44354463f6bd4dcc', 'message': 'Retire openstack-specs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nopenstack-specs repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ieb37227e6b80a64ead680ece315973e2f040da6e\n'}]",2,796963,51789f3b4f29e25dfb64785e44354463f6bd4dcc,19,4,4,8556,,,0,"Retire openstack-specs repo

As discussed in TC meeting[1], TC is retiring the
openstack-specs repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ieb37227e6b80a64ead680ece315973e2f040da6e
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/63/796963/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', '.gitignore', 'doc/source/specs', 'specs/no-downward-sql-migration.rst', 'test-requirements.txt', 'specs/supported-messaging-drivers.rst', 'README.rst', 'specs/enable-python-3-int-func-tests.rst', 'setup.py', 'specs/service-catalog.rst', 'CONTRIBUTING.rst', 'requirements.txt', 'specs/library-stable-branches.rst', 'specs/.placeholder', 'specs/cors-support.rst', 'specs/deprecate-cli.rst', 'LICENSE', 'specs/return-request-id.rst', 'template.rst', 'specs/log-guidelines.rst', 'specs/chronicles-of-a-dlm.rst', '.zuul.yaml', 'specs/cli-sorting-args.rst', 'specs/requirements-management.rst', '.mailmap', 'doc/source/conf.py', 'specs/eventlet-best-practices.rst', 'specs/clouds-yaml-support.rst', 'MANIFEST.in', 'doc/source/index.rst', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini']",33,fa1daf5eeaa2fe0d9c48cf18260617cca64bdb10,retire-openstack-specs,,[tox] minversion = 1.6 envlist = docs skipsdist = True [testenv] basepython = python3 usedevelop = True setenv = VIRTUAL_ENV={envdir} deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:venv] commands = {posargs} [testenv:docs] commands = sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html [testenv:spelling] deps = -r{toxinidir}/requirements.txt sphinxcontrib-spelling PyEnchant commands = sphinx-build -b spelling doc/source doc/build/spelling ,12,3608
openstack%2Fcharm-deployment-guide~master~I273027c6c7ac8baef1f850ea47e1c65ba2490ec1,openstack/charm-deployment-guide,master,I273027c6c7ac8baef1f850ea47e1c65ba2490ec1,Add support info to Trilio page,MERGED,2021-06-14 14:47:15.000000000,2021-06-21 17:34:14.000000000,2021-06-21 17:33:02.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 14:47:15.000000000', 'files': ['deploy-guide/source/app-trilio-vault.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f266eaa367ad4306411bf76833d6b769c987e23d', 'message': 'Add support info to Trilio page\n\nAdd ""Supported combinations"" section to the Trilio\npage. This was taken verbatim from the 21.03_Trilio\nRelease Notes page.\n\nCloses-Bug: #1926385\nChange-Id: I273027c6c7ac8baef1f850ea47e1c65ba2490ec1\n'}]",0,796288,f266eaa367ad4306411bf76833d6b769c987e23d,7,2,1,30561,,,0,"Add support info to Trilio page

Add ""Supported combinations"" section to the Trilio
page. This was taken verbatim from the 21.03_Trilio
Release Notes page.

Closes-Bug: #1926385
Change-Id: I273027c6c7ac8baef1f850ea47e1c65ba2490ec1
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/88/796288/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-trilio-vault.rst'],1,f266eaa367ad4306411bf76833d6b769c987e23d,lp1926385-add-support-info-trilio,Supported combinations ---------------------- The below table shows the support status for versions of TrilioVault for each version of Ubuntu and OpenStack. .. list-table:: **Supported combinations** :header-rows: 1 :widths: 12 12 20 20 * - Ubuntu - OpenStack - TrilioVault 4.0 - TrilioVault 4.1 * - Bionic - Queens - ✔ - ✔ * - Bionic - Stein - ✔ - ✔ * - Bionic - Train - ✔ - ✔ * - Bionic - Ussuri - X - ✔ * - Focal - Ussuri - X - ✔ ,,40,0
openstack%2Ftripleo-ansible~master~I936c2054e03e269be4dc7a6c2f02878feb288f5d,openstack/tripleo-ansible,master,I936c2054e03e269be4dc7a6c2f02878feb288f5d,Properly detect default whole-disk image,MERGED,2021-05-06 01:55:21.000000000,2021-06-21 17:29:31.000000000,2021-06-21 17:29:31.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-06 01:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0000b486c82401ac962a7d2b890d6217261b0771', 'message': 'Properly detect default whole-disk image\n\nPreviously the whole-disk default detection worked by looking for\novercloud-full.raw with no .vmlinuz or .initrd file, but our tooling\nwill never produce this by default.\n\nThe overcloud image build command will generate\novercloud-hardened-uefi-full.qcow2, and the upload command will\nconvert this to overcloud-hardened-uefi-full.raw. This commit changes\nthe whole-disk default detection to simply look for the presence of\nfile overcloud-hardened-uefi-full.raw.\n\nChange-Id: I936c2054e03e269be4dc7a6c2f02878feb288f5d\nBlueprint: whole-disk-default\n'}, {'number': 2, 'created': '2021-06-16 01:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0582959428a190dc802aed54d514aa544b11324', 'message': 'Properly detect default whole-disk image\n\nPreviously the whole-disk default detection worked by looking for\novercloud-full.raw with no .vmlinuz or .initrd file, but our tooling\nwill never produce this by default.\n\nThe overcloud image build command will generate\novercloud-hardened-uefi-full.qcow2, and the upload command will\nconvert this to overcloud-hardened-uefi-full.raw. This commit changes\nthe whole-disk default detection to simply look for the presence of\nfile overcloud-hardened-uefi-full.raw.\n\nChange-Id: I936c2054e03e269be4dc7a6c2f02878feb288f5d\nBlueprint: whole-disk-default\n'}, {'number': 3, 'created': '2021-06-20 22:10:54.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25e099891dc94230b9c5a0dab7cab1f510334a5d', 'message': 'Properly detect default whole-disk image\n\nPreviously the whole-disk default detection worked by looking for\novercloud-full.raw with no .vmlinuz or .initrd file, but our tooling\nwill never produce this by default.\n\nThe overcloud image build command will generate\novercloud-hardened-uefi-full.qcow2, and the upload command will\nconvert this to overcloud-hardened-uefi-full.raw. This commit changes\nthe whole-disk default detection to simply look for the presence of\nfile overcloud-hardened-uefi-full.raw.\n\nChange-Id: I936c2054e03e269be4dc7a6c2f02878feb288f5d\nBlueprint: whole-disk-default\n'}]",0,789973,25e099891dc94230b9c5a0dab7cab1f510334a5d,26,6,3,4571,,,0,"Properly detect default whole-disk image

Previously the whole-disk default detection worked by looking for
overcloud-full.raw with no .vmlinuz or .initrd file, but our tooling
will never produce this by default.

The overcloud image build command will generate
overcloud-hardened-uefi-full.qcow2, and the upload command will
convert this to overcloud-hardened-uefi-full.raw. This commit changes
the whole-disk default detection to simply look for the presence of
file overcloud-hardened-uefi-full.raw.

Change-Id: I936c2054e03e269be4dc7a6c2f02878feb288f5d
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/789973/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'],1,0000b486c82401ac962a7d2b890d6217261b0771,bp/whole-disk-default, - name: stat overcloud-hardened-uefi-full.raw stat: path: /var/lib/ironic/images/overcloud-full.raw get_checksum: false register: overcloud_hardened_uefi_full_stat - name: Set partition file based default image - not overcloud_hardened_uefi_full_stat.stat.exists|bool href: file:///var/lib/ironic/images/overcloud-hardened-uefi-full.raw when: - overcloud_hardened_uefi_full_stat.stat.exists|bool when: - not overcloud_full_stat.stat.exists|bool - not overcloud_hardened_uefi_full_stat.stat.exists|bool, - name: Set file based default image href: file:///var/lib/ironic/images/overcloud-full.raw when: - overcloud_full_stat.stat.exists|bool - not overcloud_full_initrd_stat.stat.exists|bool when: not overcloud_full_stat.stat.exists|bool,13,5
openstack%2Ftripleo-heat-templates~master~If256b2b70f3a62648eb9563903c2adfb9b31fea9,openstack/tripleo-heat-templates,master,If256b2b70f3a62648eb9563903c2adfb9b31fea9,Drop mistral configuration from post deploy,MERGED,2021-06-21 06:32:36.000000000,2021-06-21 17:29:21.000000000,2021-06-21 17:29:21.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-21 06:32:36.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_post.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/574cf27691638a7bb0170f7920ace405d3bd5eb1', 'message': ""Drop mistral configuration from post deploy\n\nThough we still have the option to enable mistral\nin the undercloud, we don't use it for overcloud\ndeployment.\n\nNote: We can get rid of UndercloudPostPy* resources once\nnova is not supported for node deployment.\n\nChange-Id: If256b2b70f3a62648eb9563903c2adfb9b31fea9\n""}]",0,797228,574cf27691638a7bb0170f7920ace405d3bd5eb1,9,5,1,8833,,,0,"Drop mistral configuration from post deploy

Though we still have the option to enable mistral
in the undercloud, we don't use it for overcloud
deployment.

Note: We can get rid of UndercloudPostPy* resources once
nova is not supported for node deployment.

Change-Id: If256b2b70f3a62648eb9563903c2adfb9b31fea9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/797228/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_post.py']",2,574cf27691638a7bb0170f7920ace405d3bd5eb1,,,"from mistralclient.api import client as mistralclient WORKBOOK_PATH = '/usr/share/openstack-tripleo-common/workbooks' THT_DIR = '/usr/share/openstack-tripleo-heat-templates'def _configure_workbooks_and_workflows(mistral): for workbook in [w for w in mistral.workbooks.list() if w.name.startswith('tripleo')]: mistral.workbooks.delete(workbook.name) managed_tag = 'tripleo-common-managed' all_workflows = mistral.workflows.list() workflows_delete = [w.name for w in all_workflows if managed_tag in w.tags] # in order to delete workflows they should have no triggers associated for trigger in [t for t in mistral.cron_triggers.list() if t.workflow_name in workflows_delete]: mistral.cron_triggers.delete(trigger.name) for workflow_name in workflows_delete: mistral.workflows.delete(workflow_name) for workbook in [f for f in os.listdir(WORKBOOK_PATH) if os.path.isfile(os.path.join(WORKBOOK_PATH, f))]: mistral.workbooks.create(os.path.join(WORKBOOK_PATH, workbook)) print('INFO: Undercloud post - Mistral workbooks configured successfully.') mistral_api_enabled = 'true' in _run_command( ['hiera', 'mistral_api_enabled']).lower()if not mistral_api_enabled: print('WARNING: Undercloud Post - Mistral API is disabled.') if mistral_api_enabled: mistral = mistralclient.client(mistral_url=sdk.workflow.get_endpoint(), session=sdk.session) _configure_workbooks_and_workflows(mistral)",0,37
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/wallaby,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-16 15:50:37.000000000,2021-06-21 17:29:02.000000000,2021-06-21 17:29:02.000000000,"[{'_account_id': 8833}, {'_account_id': 19234}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 15:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0', 'message': 'Remove heat::heat_keystone_clients_url definition\n\nDuring Queens release cycle it was decided that\nclients_keystone/auth_uri should be defined and should point to\npublic URL to allow instances run some API calls.\n\nTwo changes were added:\n\n- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add\n  related definitions to puppet-heat\n- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add\n  appropriate hiera defition to THT\n\nBut hiera definition in THT was incorrect:\nheat::heat_keystone_clients_url was defined instead of\nheat::heat_clients_keystone_uri.\n\nheat_clients_keystone_uri parameter was removed from puppet-heat\nduring Train release cycle:\nI507fd2beecface5f8de35d18bfb546a653c6ef51\n\nPartial-Bug: #1916386\nChange-Id: I2797da50489e3812aa58415e2e6ba44894a89094\n(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)\n'}, {'number': 2, 'created': '2021-06-18 13:43:12.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e941e4ef217fdb58429045809c4592f3ce03b33', 'message': 'Remove heat::heat_keystone_clients_url definition\n\nDuring Queens release cycle it was decided that\nclients_keystone/auth_uri should be defined and should point to\npublic URL to allow instances run some API calls.\n\nTwo changes were added:\n\n- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add\n  related definitions to puppet-heat\n- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add\n  appropriate hiera defition to THT\n\nBut hiera definition in THT was incorrect:\nheat::heat_keystone_clients_url was defined instead of\nheat::heat_clients_keystone_uri.\n\nheat_clients_keystone_uri parameter was removed from puppet-heat\nduring Train release cycle:\nI507fd2beecface5f8de35d18bfb546a653c6ef51\n\nPartial-Bug: #1916386\nChange-Id: I2797da50489e3812aa58415e2e6ba44894a89094\n(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)\n'}]",0,796656,5e941e4ef217fdb58429045809c4592f3ce03b33,15,5,2,9816,,,0,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/796656/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-base-puppet.yaml'],1,c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0,bug/1916386-wallaby,," heat::heat_keystone_clients_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix] }",0,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I74874b81002fe435752a5cd724d2df9683b0cdbf,openstack/tripleo-heat-templates,stable/wallaby,I74874b81002fe435752a5cd724d2df9683b0cdbf,Add post_upgrade_task and remove puppet-ceph pkg,MERGED,2021-06-18 08:59:20.000000000,2021-06-21 17:28:56.000000000,2021-06-21 17:28:56.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-18 08:59:20.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17de50a8d1802192c347c75effd8bb5a176fd05a', 'message': 'Add post_upgrade_task and remove puppet-ceph pkg\n\nAdds a post_upgrade_task to remove the puppet-ceph package which\nis no longer required.\n\nAlso see change I9cd63ee34dfd964f18a33043980703660b0a55d7 for\nthe ceph-ansible version.\n\nChange-Id: I74874b81002fe435752a5cd724d2df9683b0cdbf\n(cherry picked from commit e85da3e9ed08ca6bd04adee7e23bfe14f8cd36a4)\n'}]",0,797007,17de50a8d1802192c347c75effd8bb5a176fd05a,10,4,1,6796,,,0,"Add post_upgrade_task and remove puppet-ceph pkg

Adds a post_upgrade_task to remove the puppet-ceph package which
is no longer required.

Also see change I9cd63ee34dfd964f18a33043980703660b0a55d7 for
the ceph-ansible version.

Change-Id: I74874b81002fe435752a5cd724d2df9683b0cdbf
(cherry picked from commit e85da3e9ed08ca6bd04adee7e23bfe14f8cd36a4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/797007/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,17de50a8d1802192c347c75effd8bb5a176fd05a,, post_upgrade_tasks: - name: Clean puppet-ceph package when: - (step | int) == 3 package: name: puppet-ceph state: absent,,7,0
openstack%2Fhorizon~stable%2Ftrain~I1bbf3b23717f9924974920d6569e018b94e3dbe8,openstack/horizon,stable/train,I1bbf3b23717f9924974920d6569e018b94e3dbe8,Add horizontal scrollbar to role dropdown,ABANDONED,2021-06-21 15:16:08.000000000,2021-06-21 17:16:46.000000000,,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 15:16:08.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/components/_membership.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e44954fa14967327dbfdb66bc30be7687413bc87', 'message': 'Add horizontal scrollbar to role dropdown\n\nManage members dialog has a dropdown which lists all the role names.\nIf a role name is long enough, it pushes all the roles to the left\nand hides them partially. This patch adds horizontal scrollbar for\nsuch cases.\n\nCloses-Bug: #1926511\n\nChange-Id: I1bbf3b23717f9924974920d6569e018b94e3dbe8\n'}]",0,797297,e44954fa14967327dbfdb66bc30be7687413bc87,4,3,1,30746,,,0,"Add horizontal scrollbar to role dropdown

Manage members dialog has a dropdown which lists all the role names.
If a role name is long enough, it pushes all the roles to the left
and hides them partially. This patch adds horizontal scrollbar for
such cases.

Closes-Bug: #1926511

Change-Id: I1bbf3b23717f9924974920d6569e018b94e3dbe8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/97/797297/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/scss/components/_membership.scss'],1,e44954fa14967327dbfdb66bc30be7687413bc87,bug/1926511-stable/train, max-width: 300px; overflow-x: auto;,,2,0
openstack%2Fansible-collections-openstack~master~I9e64913cd157f2985ef720ddecfbeb9ad996fa2c,openstack/ansible-collections-openstack,master,I9e64913cd157f2985ef720ddecfbeb9ad996fa2c,Switch user_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 17:16:09.000000000,2021-06-21 17:16:09.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/60ea8f51bb6337d41a36565223eb329b2d6304ef', 'message': 'Switch iuser_info module to OpenStackModule\n\nDrop deprecated block to keep simplicity.\n\nChange-Id: I9e64913cd157f2985ef720ddecfbeb9ad996fa2c\n'}, {'number': 2, 'created': '2021-05-21 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/107440b848aa2982d8675b7c4cb8a0ad9bd22dc3', 'message': 'Switch iuser_info module to OpenStackModule\n\nDrop deprecated block to keep simplicity.\n\nChange-Id: I9e64913cd157f2985ef720ddecfbeb9ad996fa2c\n'}, {'number': 3, 'created': '2021-05-21 12:02:02.000000000', 'files': ['plugins/modules/identity_user_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/555178ecc6961c1f123d50eaa3c0ee8ebaec3922', 'message': 'Switch user_info module to OpenStackModule\n\nDrop deprecated block to keep simplicity.\n\nChange-Id: I9e64913cd157f2985ef720ddecfbeb9ad996fa2c\n'}]",8,792428,555178ecc6961c1f123d50eaa3c0ee8ebaec3922,32,2,3,27900,,,0,"Switch user_info module to OpenStackModule

Drop deprecated block to keep simplicity.

Change-Id: I9e64913cd157f2985ef720ddecfbeb9ad996fa2c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/28/792428/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_user_info.py'],1,60ea8f51bb6337d41a36565223eb329b2d6304ef,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityUserInfoModule(OpenStackModule): argument_spec = dict( deprecated_names = ('openstack.cloud.identity_user_facts') def run(self): name = self.params['name'] domain = self.params['domain'] filters = self.params['filters'] dom = self.conn.get_domain(domain)['id'] dom = self.conn.search_domains(filters={'name': domain}) self.fail_json(msg='Domain name or ID does not exist') users = self.conn.search_users(name, filters) self.exit_json(changed=False, openstack_users=users) def main(): module = IdentityUserInfoModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_full_argument_spec, openstack_cloud_from_module, ) def main(): argument_spec = openstack_full_argument_spec( module = AnsibleModule(argument_spec) is_old_facts = module._name == 'openstack.cloud.identity_user_facts' if is_old_facts: module.deprecate(""The 'openstack.cloud.identity_user_facts' module has been renamed to 'openstack.cloud.identity_user_info', "" ""and the renamed one no longer returns ansible_facts"", version='2.0.0', collection_name='openstack.cloud') sdk, opcloud = openstack_cloud_from_module(module) try: name = module.params['name'] domain = module.params['domain'] filters = module.params['filters'] dom = opcloud.get_domain(domain)['id'] dom = opcloud.search_domains(filters={'name': domain}) module.fail_json(msg='Domain name or ID does not exist') users = opcloud.search_users(name, filters) if is_old_facts: module.exit_json(changed=False, ansible_facts=dict( openstack_users=users)) else: module.exit_json(changed=False, openstack_users=users) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e)) ",16,30
openstack%2Fkolla-ansible~stable%2Fussuri~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/ussuri,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:42:20.000000000,2021-06-21 17:14:32.000000000,2021-06-21 17:13:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 07:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c86630889fcf46b6bac559d8e1f892c32a94f537', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)\n'}, {'number': 2, 'created': '2021-06-18 07:42:35.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46898f4e3f035ec7cd17be159c7c76687ffff52e', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)\n'}]",0,796870,46898f4e3f035ec7cd17be159c7c76687ffff52e,19,4,2,30491,,,0,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/796870/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,c86630889fcf46b6bac559d8e1f892c32a94f537,," ansible_python_version=$($ansible_python_cmdline -c 'import sys; print(str(sys.version_info[0])+"".""+str(sys.version_info[1]))') local python_dir python_dir=""python${ansible_python_version}"" if test -f /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/share/kolla-ansible fi elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then if test -f /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/local/share/kolla-ansible fi elif [[ ${dir_name} == ~/.local/bin ]]; then if test -f ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=~/.local/share/kolla-ansible fi elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/${python_dir}/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"""," BASEDIR=/usr/share/kolla-ansible elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then BASEDIR=/usr/local/share/kolla-ansible elif [[ ${dir_name} == ~/.local/bin ]]; then BASEDIR=~/.local/share/kolla-ansible elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)""",26,8
openstack%2Fansible-collections-openstack~master~I359fcf8d815413b52b993b343c458c8c986bc247,openstack/ansible-collections-openstack,master,I359fcf8d815413b52b993b343c458c8c986bc247,Switch ProjectAccess module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 17:04:10.000000000,2021-06-21 17:04:10.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/01dca893401f7591ac33fbf851297798e50b7e43', 'message': 'Switch ProjectAccess module to OpenStackModule\n\nSwitch project_access module to the general OpenStackModule.\n\nChange-Id: I359fcf8d815413b52b993b343c458c8c986bc247\n'}, {'number': 2, 'created': '2021-05-21 07:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/421b9dcda713cbe40657707ac29e7b339d438bee', 'message': 'Switch ProjectAccess module to OpenStackModule\n\nSwitch project_access module to the general OpenStackModule.\n\nChange-Id: I359fcf8d815413b52b993b343c458c8c986bc247\n'}, {'number': 3, 'created': '2021-06-17 10:28:21.000000000', 'files': ['plugins/modules/project_access.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7446ab23b8ae61983a28d23911e0a4927b3ebae1', 'message': 'Switch ProjectAccess module to OpenStackModule\n\nSwitch project_access module to the general OpenStackModule.\n\nChange-Id: I359fcf8d815413b52b993b343c458c8c986bc247\n'}]",0,792419,7446ab23b8ae61983a28d23911e0a4927b3ebae1,15,2,3,27900,,,0,"Switch ProjectAccess module to OpenStackModule

Switch project_access module to the general OpenStackModule.

Change-Id: I359fcf8d815413b52b993b343c458c8c986bc247
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/19/792419/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/project_access.py'],1,01dca893401f7591ac33fbf851297798e50b7e43,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityProjectAccess(OpenStackModule): argument_spec = dict( module_kwargs = dict( ] ) def run(self): state = self.params['state'] resource_name = self.params['resource_name'] resource_type = self.params['resource_type'] target_project_id = self.params['target_project_id'] _get_resource = self.conn.get_flavor _list_resource_access = self.conn.list_flavor_access _add_resource_access = self.conn.add_flavor_access _remove_resource_access = self.conn.remove_flavor_access _get_resource = self.conn.get_volume_type _list_resource_access = self.conn.get_volume_type_access _add_resource_access = self.conn.add_volume_type_access _remove_resource_access = self.conn.remove_volume_type_access else: self.exit_json( changed=False, resource_name=resource_name, resource_type=resource_type, error=""Not implemented."") self.exit_json( changed=False, resource_name=resource_name, resource_type=resource_type, error=""Not found."") self.exit_json( changed=False, resource_name=resource_name, resource_type=resource_type, error=""Missing project_id in resource output."") if self.check_mode or not changed_access: self.exit_json( changed=changed_access, resource=resource, id=resource_id) self.exit_json( changed=True, resource=resource, id=resource_id) def main(): module = IdentityProjectAccess() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, ], **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) state = module.params['state'] resource_name = module.params['resource_name'] resource_type = module.params['resource_type'] target_project_id = module.params['target_project_id'] try: _get_resource = cloud.get_flavor _list_resource_access = cloud.list_flavor_access _add_resource_access = cloud.add_flavor_access _remove_resource_access = cloud.remove_flavor_access _get_resource = cloud.get_volume_type _list_resource_access = cloud.get_volume_type_access _add_resource_access = cloud.add_volume_type_access _remove_resource_access = cloud.remove_volume_type_access else: module.exit_json(changed=False, resource_name=resource_name, resource_type=resource_type, error=""Not implemented."") module.exit_json(changed=False, resource_name=resource_name, resource_type=resource_type, error=""Not found."") module.exit_json(changed=False, resource_name=resource_name, resource_type=resource_type, error=""Missing project_id in resource output."") if module.check_mode or not changed_access: module.exit_json(changed=changed_access, resource=resource, id=resource_id) module.exit_json(changed=True, resource=resource, id=resource_id) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), **module.params)",43,48
openstack%2Fansible-collections-openstack~master~I67df08cced62fb729cb1d4fbb43ac5977fca61de,openstack/ansible-collections-openstack,master,I67df08cced62fb729cb1d4fbb43ac5977fca61de,Switch role_assignment module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 17:04:07.000000000,2021-06-21 17:04:07.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4a10bfb33cb29cc93cabe399eb0c55259bd67b7a', 'message': 'Switch role_assignment module to OpenStackModule\n\nSwitch role_assignment module to the general OpenStackModule.\n\nChange-Id: I67df08cced62fb729cb1d4fbb43ac5977fca61de\n'}, {'number': 2, 'created': '2021-05-21 07:26:10.000000000', 'files': ['plugins/modules/role_assignment.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/025887840015c7a0048b08a021d07fb2f257aac7', 'message': 'Switch role_assignment module to OpenStackModule\n\nSwitch role_assignment module to the general OpenStackModule.\n\nChange-Id: I67df08cced62fb729cb1d4fbb43ac5977fca61de\n'}]",0,792416,025887840015c7a0048b08a021d07fb2f257aac7,26,3,2,27900,,,0,"Switch role_assignment module to OpenStackModule

Switch role_assignment module to the general OpenStackModule.

Change-Id: I67df08cced62fb729cb1d4fbb43ac5977fca61de
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/16/792416/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/role_assignment.py'],1,4a10bfb33cb29cc93cabe399eb0c55259bd67b7a,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityRoleAssignmentModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( ], supports_check_mode=True ) def _system_state_change(self, state, assignment): if state == 'present' and not assignment: return True elif state == 'absent' and assignment: return True return False def _build_kwargs(self, user, group, project, domain): kwargs = {} if user: kwargs['user'] = user if group: kwargs['group'] = group if project: kwargs['project'] = project if domain: kwargs['domain'] = domain return kwargs def run(self): role = self.params.get('role') user = self.params.get('user') group = self.params.get('group') project = self.params.get('project') domain = self.params.get('domain') state = self.params.get('state') r = self.conn.get_role(role) if r is None: self.fail_json(msg=""Role %s is not valid"" % role) d = self.conn.get_domain(name_or_id=domain) if d is None: self.fail_json(msg=""Domain %s is not valid"" % domain) u = self.conn.get_user(user, domain_id=filters['domain']) else: u = self.conn.get_user(user) self.fail_json(msg=""User %s is not valid"" % user) g = self.conn.get_group(group, domain_id=filters['domain']) else: g = self.conn.get_group(group) if g is None: self.fail_json(msg=""Group %s is not valid"" % group) p = self.conn.get_project(project, domain_id=filters['domain']) p = self.conn.get_project(project) self.fail_json(msg=""Project %s is not valid"" % project) assignment = self.conn.list_role_assignments(filters=filters) if self.check_mode: self.exit_json(changed=self._system_state_change(state, assignment)) kwargs = self._build_kwargs(user, group, project, domain_id) self.conn.grant_role(role, **kwargs) kwargs = self._build_kwargs(user, group, project, domain_id) self.conn.revoke_role(role, **kwargs) self.exit_json(changed=changed) def main(): module = IdentityRoleAssignmentModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(state, assignment): if state == 'present' and not assignment: return True elif state == 'absent' and assignment: return True return False def _build_kwargs(user, group, project, domain): kwargs = {} if user: kwargs['user'] = user if group: kwargs['group'] = group if project: kwargs['project'] = project if domain: kwargs['domain'] = domain return kwargs def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( ]) module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) role = module.params.get('role') user = module.params.get('user') group = module.params.get('group') project = module.params.get('project') domain = module.params.get('domain') state = module.params.get('state') sdk, cloud = openstack_cloud_from_module(module) try: r = cloud.get_role(role) if r is None: module.fail_json(msg=""Role %s is not valid"" % role) d = cloud.get_domain(name_or_id=domain) if d is None: module.fail_json(msg=""Domain %s is not valid"" % domain) u = cloud.get_user(user, domain_id=filters['domain']) else: u = cloud.get_user(user) module.fail_json(msg=""User %s is not valid"" % user) g = cloud.get_group(group, domain_id=filters['domain']) else: g = cloud.get_group(group) if g is None: module.fail_json(msg=""Group %s is not valid"" % group) p = cloud.get_project(project, domain_id=filters['domain']) p = cloud.get_project(project) module.fail_json(msg=""Project %s is not valid"" % project) assignment = cloud.list_role_assignments(filters=filters) if module.check_mode: module.exit_json(changed=_system_state_change(state, assignment)) kwargs = _build_kwargs(user, group, project, domain_id) cloud.grant_role(role, **kwargs) kwargs = _build_kwargs(user, group, project, domain_id) cloud.revoke_role(role, **kwargs) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",58,63
openstack%2Fpuppet-cinder~stable%2Fwallaby~If08fce9443281e65636aaaa99e3139732435f6f7,openstack/puppet-cinder,stable/wallaby,If08fce9443281e65636aaaa99e3139732435f6f7,Improve cinder_type properties regex,MERGED,2021-06-20 13:06:24.000000000,2021-06-21 17:01:45.000000000,2021-06-21 17:01:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-06-20 13:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f4c84bff759cee17b1e9058e882be1e37b2f7295', 'message': 'Improve cinder_type properties regex\n\nThis changes the regex for properties managed with\nthe cinder_type resource so that it supports the\nformat Cinder needs for multiattach and similar.\n\n  multiattach=<is> True\n\nThis patch is needed so that cinder_type resources\ncan set the above.\n\nSee regex testing here [1]. Needs to be backported\nto older versions so that cinder_type can be\nproperly used there as well.\n\n[1] https://regexr.com/5imqk\n\nChange-Id: If08fce9443281e65636aaaa99e3139732435f6f7\n(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)\n'}, {'number': 2, 'created': '2021-06-20 14:39:11.000000000', 'files': ['lib/puppet/type/cinder_type.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a3976afb609c9ab19ea802205b7b15e0be37f0ec', 'message': 'Improve cinder_type properties regex\n\nThis changes the regex for properties managed with\nthe cinder_type resource so that it supports the\nformat Cinder needs for multiattach and similar.\n\n  multiattach=<is> True\n\nThis patch is needed so that cinder_type resources\ncan set the above.\n\nSee regex testing here [1]. Needs to be backported\nto older versions so that cinder_type can be\nproperly used there as well.\n\n[1] https://regexr.com/5imqk\n\nChange-Id: If08fce9443281e65636aaaa99e3139732435f6f7\n(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)\n'}]",0,797194,a3976afb609c9ab19ea802205b7b15e0be37f0ec,8,5,2,9816,,,0,"Improve cinder_type properties regex

This changes the regex for properties managed with
the cinder_type resource so that it supports the
format Cinder needs for multiattach and similar.

  multiattach=<is> True

This patch is needed so that cinder_type resources
can set the above.

See regex testing here [1]. Needs to be backported
to older versions so that cinder_type can be
properly used there as well.

[1] https://regexr.com/5imqk

Change-Id: If08fce9443281e65636aaaa99e3139732435f6f7
(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/94/797194/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/cinder_type.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb']",2,f4c84bff759cee17b1e9058e882be1e37b2f7295,," :properties => ['key=value', 'new_key=new_value', 'multiattach=""<is> True""'], .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=new_value', '--property', 'multiattach=""<is> True""', '--public', 'Backend_1'])properties=""key=\'value\', new_key=\'new_value\', multiattach=\'<is> True\'"""," :properties => ['key=value', 'new_key=new_value'], .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=new_value', '--public', 'Backend_1'])properties=""key=\'value\', new_key=\'new_value\'""",4,4
openstack%2Ftripleo-quickstart~master~Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff,openstack/tripleo-quickstart,master,Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff,[DNM] Include metrics QDR in FS039 (TLS-e) testing,ABANDONED,2021-05-17 18:42:48.000000000,2021-06-21 17:01:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-17 18:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/684a856e30cf7bcb891a1a7e5e4f8c65a8e0b6db', 'message': '[TEST] Include metrics QDR in FS039 (TLS-e) testing\n\nTest commit in order to get CI to run against https://review.opendev.org/c/openstack/tripleo-heat-templates/+/786700\n\nChange-Id: Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff\n'}, {'number': 2, 'created': '2021-05-17 18:45:05.000000000', 'files': ['config/general_config/featureset039.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ffaba4352558dc2fe8552653851aee8403ffce9', 'message': '[DNM] Include metrics QDR in FS039 (TLS-e) testing\n\nTest commit in order to get CI to run against https://review.opendev.org/c/openstack/tripleo-heat-templates/+/786700\n\nChange-Id: Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff\n'}]",0,791817,4ffaba4352558dc2fe8552653851aee8403ffce9,5,2,2,30893,,,0,"[DNM] Include metrics QDR in FS039 (TLS-e) testing

Test commit in order to get CI to run against https://review.opendev.org/c/openstack/tripleo-heat-templates/+/786700

Change-Id: Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/17/791817/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset039.yml'],1,684a856e30cf7bcb891a1a7e5e4f8c65a8e0b6db,csibbitt-1947116-test-qdr-in-fs039, -e {{ overcloud_templates_path }}/environments/metrics/qdr-edge-only.yaml,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8453ed584ec62458622522bd99fb7fda60afe022,openstack/tripleo-heat-templates,stable/victoria,I8453ed584ec62458622522bd99fb7fda60afe022,"Revert ""Always run network config for undercloud""",MERGED,2021-06-18 14:51:48.000000000,2021-06-21 16:55:09.000000000,2021-06-21 16:55:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:51:48.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f58effc74cbcee34320566351f02706aeb85aa80', 'message': 'Revert ""Always run network config for undercloud""\n\nThis reverts commit c2c2111ef5aaef12e3a9fe70f4569e606de2cfe6.\n\nReason for revert: Merged before master and the var is incorrect.\n\nChange-Id: I8453ed584ec62458622522bd99fb7fda60afe022\n'}]",0,797098,f58effc74cbcee34320566351f02706aeb85aa80,12,3,1,14985,,,0,"Revert ""Always run network config for undercloud""

This reverts commit c2c2111ef5aaef12e3a9fe70f4569e606de2cfe6.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: I8453ed584ec62458622522bd99fb7fda60afe022
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/797098/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,f58effc74cbcee34320566351f02706aeb85aa80,bug/1930151-stable/victoria,," NetworkDeploymentAction: ['CREATE','UPDATE']",0,1
openstack%2Ftripleo-ansible~master~I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,openstack/tripleo-ansible,master,I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,More descriptive task names,MERGED,2021-06-11 10:22:53.000000000,2021-06-21 16:41:02.000000000,2021-06-21 16:41:02.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32029}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-11 10:22:53.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/138f9f6708546cf17f28334be93ee2acc3fbf9a8', 'message': 'More descriptive task names\n\nAs highlighted by marios on [1] and [2] the task names were\nnot descriptive of what it was being done, as it implied that some kind\nof verification was being done.\n\nThis patch does not change any functionality, but it changes the names\nof the tasks to something more according to what it is being done.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml\n[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml\n\nChange-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127\n'}]",0,795980,138f9f6708546cf17f28334be93ee2acc3fbf9a8,12,8,1,32968,,,0,"More descriptive task names

As highlighted by marios on [1] and [2] the task names were
not descriptive of what it was being done, as it implied that some kind
of verification was being done.

This patch does not change any functionality, but it changes the names
of the tasks to something more according to what it is being done.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml
[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml

Change-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/795980/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml']",2,138f9f6708546cf17f28334be93ee2acc3fbf9a8,change_tasks_names,- name: Ensure cephmon container is running,- name: Unpause ceph mon container if paused,3,3
openstack%2Fansible-collections-openstack~master~I57c2c558bd01c984453fb11048e8a888ec4d9eea,openstack/ansible-collections-openstack,master,I57c2c558bd01c984453fb11048e8a888ec4d9eea,Switch identity_role module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 16:19:07.000000000,2021-06-21 16:19:07.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f880e545885d2b757f65cad98ec67919f820e1fe', 'message': 'Switch identity_role module to OpenStackModule\n\nChange-Id: I57c2c558bd01c984453fb11048e8a888ec4d9eea\n'}, {'number': 2, 'created': '2021-05-21 07:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/832cbabda4f4a68c0147fccf85885e44ae5d2e1a', 'message': 'Switch identity_role module to OpenStackModule\n\nChange-Id: I57c2c558bd01c984453fb11048e8a888ec4d9eea\n'}, {'number': 3, 'created': '2021-05-21 12:14:58.000000000', 'files': ['plugins/modules/identity_role.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0cbaeb6fbb5de9ca8aab9445324f951491306693', 'message': 'Switch identity_role module to OpenStackModule\n\nChange-Id: I57c2c558bd01c984453fb11048e8a888ec4d9eea\n'}]",0,792430,0cbaeb6fbb5de9ca8aab9445324f951491306693,17,2,3,27900,,,0,"Switch identity_role module to OpenStackModule

Change-Id: I57c2c558bd01c984453fb11048e8a888ec4d9eea
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/30/792430/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_role.py'],1,f880e545885d2b757f65cad98ec67919f820e1fe,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class IdentityRoleModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _system_state_change(self, state, role): if state == 'present' and not role: return True if state == 'absent' and role: return True return False def run(self): name = self.params.get('name') state = self.params.get('state') role = self.conn.get_role(name) if self.check_mode: self.exit_json(changed=self._system_state_change(state, role)) role = self.conn.create_role(name) self.exit_json(changed=changed, role=role) self.conn.delete_role(name) self.exit_json(changed=changed) def main(): module = IdentityRoleModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(state, role): if state == 'present' and not role: return True if state == 'absent' and role: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) name = module.params.get('name') state = module.params.get('state') sdk, cloud = openstack_cloud_from_module(module) try: role = cloud.get_role(name) if module.check_mode: module.exit_json(changed=_system_state_change(state, role)) role = cloud.create_role(name) module.exit_json(changed=changed, role=role) cloud.delete_role(name) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",27,31
openstack%2Ftripleo-ansible~master~I2d4738a78f5fa1c94844d7a51fb7f50cf832c070,openstack/tripleo-ansible,master,I2d4738a78f5fa1c94844d7a51fb7f50cf832c070,Write prepared container images tags to a file,ABANDONED,2021-06-16 08:06:06.000000000,2021-06-21 16:18:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 08:06:06.000000000', 'files': ['tripleo_ansible/playbooks/cli-container-image-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/355db551ea69a8bae1dce19eac119ed5daa732a0', 'message': 'Write prepared container images tags to a file\n\nSince ephemeral heat containers require a mechanism to auto-evaluate\nimage/tag for it to use, always store the resulted prepared container\nimages info as a file, additionally to stdout. It defaults to\n$HOME/container_images.yaml.\n\nChange-Id: I2d4738a78f5fa1c94844d7a51fb7f50cf832c070\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,796598,355db551ea69a8bae1dce19eac119ed5daa732a0,6,4,1,6926,,,0,"Write prepared container images tags to a file

Since ephemeral heat containers require a mechanism to auto-evaluate
image/tag for it to use, always store the resulted prepared container
images info as a file, additionally to stdout. It defaults to
$HOME/container_images.yaml.

Change-Id: I2d4738a78f5fa1c94844d7a51fb7f50cf832c070
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/796598/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-container-image-prepare.yaml'],1,355db551ea69a8bae1dce19eac119ed5daa732a0,prep_images_output," output_env_file: container_images.yaml - name: Set fact for output env file set_fact: cip_output_env_file: ""{{ lookup('env', 'HOME') ~ '/' ~ output_env_file }}"" - name: Write output to file to {{ cip_output_env_file }} dest: ""{{ cip_output_env_file }}"" - name: Write output to console as well"," - name: Write output to file to {{ output_env_file }} dest: ""{{ output_env_file }}"" when: output_env_file is defined - name: Write output to console when: output_env_file is not defined",7,5
openstack%2Fpython-tripleoclient~master~I52e1c27541f8f748b045ae29dfa7a718e12cb903,openstack/python-tripleoclient,master,I52e1c27541f8f748b045ae29dfa7a718e12cb903,Write prepared container images tags to a file,ABANDONED,2021-06-16 08:34:22.000000000,2021-06-21 16:18:13.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 08:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/633d6cbb64b4d389113d40248068930a098fa380', 'message': ""Write prepared container images tags to a file\n\nSimilarly to 'overcloud container image prepare', make sure\n'tripleo container image prepare' always stores the resulted\nimages tags info into a file. It picks the same default\n~/container_images.yaml destination for that.\n\nThis would help to auto-evaluate the image/tag to be used with\nephemeral heat, had that container_images.yaml file been\nprepared earlier by a user.\n\nDepends-On: https://review.opendev.org/+/796598\n\nChange-Id: I52e1c27541f8f748b045ae29dfa7a718e12cb903\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2021-06-16 08:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/43466c4be43e32caf041b7cff16440a2e12bc537', 'message': ""Write prepared container images tags to a file\n\nSimilarly to 'overcloud container image prepare', make sure\n'tripleo container image prepare' always stores the resulted\nimages tags info into a file. It picks the same default\n~/container_images.yaml destination for that.\n\nThis would help to auto-evaluate the image/tag to be used with\nephemeral heat, had that container_images.yaml file been\nprepared earlier by a user.\n\nDepends-On: https://review.opendev.org/c/796606\n\nChange-Id: I52e1c27541f8f748b045ae29dfa7a718e12cb903\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2021-06-16 08:38:17.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a68879d7be76d89cd56632a836965ac852892b3', 'message': ""Write prepared container images tags to a file\n\nSimilarly to 'overcloud container image prepare', make sure\n'tripleo container image prepare' always stores the resulted\nimages tags info into a file. It picks the same default\n~/container_images.yaml destination for that.\n\nThis would help to auto-evaluate the image/tag to be used with\nephemeral heat, had that container_images.yaml file been\nprepared earlier by a user.\n\nDepends-On: https://review.opendev.org/c/796598\n\nChange-Id: I52e1c27541f8f748b045ae29dfa7a718e12cb903\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",3,796606,7a68879d7be76d89cd56632a836965ac852892b3,12,5,3,6926,,,0,"Write prepared container images tags to a file

Similarly to 'overcloud container image prepare', make sure
'tripleo container image prepare' always stores the resulted
images tags info into a file. It picks the same default
~/container_images.yaml destination for that.

This would help to auto-evaluate the image/tag to be used with
ephemeral heat, had that container_images.yaml file been
prepared earlier by a user.

Depends-On: https://review.opendev.org/c/796598

Change-Id: I52e1c27541f8f748b045ae29dfa7a718e12cb903
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/796606/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/test_container_image.py']",3,633d6cbb64b4d389113d40248068930a098fa380,prep_images_output," 'log_file': 'container_image_prepare.log', 'output_env_file': 'container_images.yaml', 'debug': True} verbosity=3, workdir=mock.ANY)"," 'log_file': 'container_image_prepare.log', 'debug': True} verbosity=3, workdir=mock.ANY)",19,4
openstack%2Fmanila~master~Ifdf0633bc60d58da9d626aa148d63e57660714a1,openstack/manila,master,Ifdf0633bc60d58da9d626aa148d63e57660714a1,test_git_review,ABANDONED,2021-06-21 10:46:32.000000000,2021-06-21 16:09:10.000000000,,[],"[{'number': 1, 'created': '2021-06-21 10:46:32.000000000', 'files': ['manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a474884ace5d41e6cafcb1c13b530e73f3e766d', 'message': 'test_git_review\n\nChange-Id: Ifdf0633bc60d58da9d626aa148d63e57660714a1\n'}]",0,797277,2a474884ace5d41e6cafcb1c13b530e73f3e766d,3,0,1,30384,,,0,"test_git_review

Change-Id: Ifdf0633bc60d58da9d626aa148d63e57660714a1
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/797277/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/v2/shares.py'],1,2a474884ace5d41e6cafcb1c13b530e73f3e766d,,test_test ,,1,0
openstack%2Fironic~master~I76821c032180a58d0f99d31110fbe0f844c0cb3f,openstack/ironic,master,I76821c032180a58d0f99d31110fbe0f844c0cb3f,Add additional node indexes,MERGED,2021-04-29 00:49:05.000000000,2021-06-21 16:06:47.000000000,2021-05-21 14:19:59.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-29 00:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0134fafd0e93a177e1270bfec4f66dd1c49c953', 'message': ""WIP: Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 2, 'created': '2021-04-29 00:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/702c623731ea73f83c9e2263e84441ce1def586d', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 3, 'created': '2021-05-04 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ffdb3c9f4c68cd9be5400ba7368502ec84b03b2', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 4, 'created': '2021-05-06 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c634b9a0c0ee9dcae9473d06022adf167bf56ab8', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 5, 'created': '2021-05-06 15:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d857b9e69575fbe86ed5c55304ca756c6eb16b6d', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 6, 'created': '2021-05-17 19:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73bd5b6f2907af7ba5f92d7f97d42c31976cc44e', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 7, 'created': '2021-05-17 21:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1a62d959ae4ca61395bf6fb0247cad18e23b93f', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 8, 'created': '2021-05-17 22:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14ec4ac933fdbca908881ae7e800b1657ae3efeb', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 9, 'created': '2021-05-17 23:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7df4a2915fedce093932d21580a754fd46e42250', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 10, 'created': '2021-05-18 13:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6abaad2bed205058add3a6b218b1b68c32685ba', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 11, 'created': '2021-05-18 13:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f53f1db77091d463bc5bb91322829afe756ba05', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}, {'number': 12, 'created': '2021-05-18 13:55:40.000000000', 'files': ['ironic/cmd/status.py', 'ironic/db/sqlalchemy/alembic/versions/ac00b586ab95_node_indexes.py', 'releasenotes/notes/create_node_indexes-841b679e6cf332fd.yaml', 'doc/source/admin/tuning.rst', 'ironic/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/205a8b3037b62cbae7f5385f4d9b9404a702414e', 'message': ""Add additional node indexes\n\nSecure RBAC, along with numerous periodics, and even some common API\naccess patterns heavily access the ironic database and sometimes cause\nqueries across multiple columns to match nodes to return.\n\nNone of this is bad, but what is bad is we didn't have indexes on these\ncolumns.\n\nThis change adds docs, and the schema upgrade to create the column\nindexes, and a release note to provide more visible documentation\nfor operators.\n\nIt must be stressed that this does *not* improve query times\nwhen all records are asked for on a database connection.\n\nAlso adds an upgrade check in to raise a warning for operator\nvisibility.\n\nStory: 2008863\nTask: 42392\nChange-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f\n""}]",21,788625,205a8b3037b62cbae7f5385f4d9b9404a702414e,60,4,12,11655,,,0,"Add additional node indexes

Secure RBAC, along with numerous periodics, and even some common API
access patterns heavily access the ironic database and sometimes cause
queries across multiple columns to match nodes to return.

None of this is bad, but what is bad is we didn't have indexes on these
columns.

This change adds docs, and the schema upgrade to create the column
indexes, and a release note to provide more visible documentation
for operators.

It must be stressed that this does *not* improve query times
when all records are asked for on a database connection.

Also adds an upgrade check in to raise a warning for operator
visibility.

Story: 2008863
Task: 42392
Change-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/788625/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/database-indexes.rst', 'ironic/db/sqlalchemy/alembic/versions/ac00b586ab95_node_indexes.py', 'releasenotes/notes/create_node_indexes-841b679e6cf332fd.yaml', 'ironic/db/sqlalchemy/models.py']",5,f0134fafd0e93a177e1270bfec4f66dd1c49c953,story/2008863," Index('owner_idx', 'owner'), Index('lessee_idx', 'lessee'), Index('driver_idx', 'driver'), Index('provision_state_idx', 'provision_state'), Index('reservation_idx', 'reservation'), Index('maintenance_idx', 'maintenance'), Index('conductor_group_idx', 'conductor_group'), Index('resource_class_idx', 'resource_class'),",,163,0
openstack%2Fopenstack-helm~master~I0ad86c9d53db3533b65a41387bbd426c9023d6ee,openstack/openstack-helm,master,I0ad86c9d53db3533b65a41387bbd426c9023d6ee,Update gate scripts for Ceph CSI RBD Provisioner,MERGED,2021-06-11 14:31:50.000000000,2021-06-21 16:06:43.000000000,2021-06-21 16:03:05.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 29974}, {'_account_id': 30449}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-06-11 14:31:50.000000000', 'files': ['tools/deployment/component/ceph/ceph-ns-activate.sh', 'tools/deployment/armada/manifests/armada-osh.yaml', 'tools/deployment/developer/ceph/045-ceph-ns-activate.sh', 'doc/source/specs/tenant-ceph.rst', 'tools/deployment/component/ceph/ceph.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48738f5426638c75819cec89897c0ffcfcd834ff', 'message': 'Update gate scripts for Ceph CSI RBD Provisioner\n\nThis patch updates the gate scripts so that the Ceph CSI RBD Provisioner\nwill be tested appropriately and is documented properly.\n\nChange-Id: I0ad86c9d53db3533b65a41387bbd426c9023d6ee\n'}]",0,796025,48738f5426638c75819cec89897c0ffcfcd834ff,21,9,1,22636,,,0,"Update gate scripts for Ceph CSI RBD Provisioner

This patch updates the gate scripts so that the Ceph CSI RBD Provisioner
will be tested appropriately and is documented properly.

Change-Id: I0ad86c9d53db3533b65a41387bbd426c9023d6ee
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/796025/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/ceph/ceph-ns-activate.sh', 'tools/deployment/armada/manifests/armada-osh.yaml', 'tools/deployment/developer/ceph/045-ceph-ns-activate.sh', 'doc/source/specs/tenant-ceph.rst', 'tools/deployment/component/ceph/ceph.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh']",7,48738f5426638c75819cec89897c0ffcfcd834ff,update-ceph-csi-provisioner, csi_rbd_provisioner: true,,19,2
openstack%2Fironic~bugfix%2F18.0~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,bugfix/18.0,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-21 09:02:53.000000000,2021-06-21 15:52:53.000000000,2021-06-21 14:18:26.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 09:02:53.000000000', 'files': ['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0bbbba77c28549b7d24bf97ce7764409e7585c99', 'message': 'Fix node detail instance_uuid request handling\n\nThe instance_uuid handling on the detailed node information\nendpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),\nwhich is used by services such as Nova for explicit node status\nlookups, previously had special conditional logic surrounding it\nwhich skipped the inclusion of the API requestor project-id, from\nbeing incorporated into the database query.\n\nUltimately, this allowed an authenticated user to obtain a partially\nredacted node entry where sensitive informational fields were scrubbed\nfrom the response payload.\n\nWith this fix, queries for an explicit instance_uuid now follow the\nstandard path inside the Ironic API to the database which includes\ninclusion of a requestor Project-ID if required by configured policy.\n\nChange-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3\nStory: 2008976\nTask: 42620\n(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)\n'}]",0,797211,0bbbba77c28549b7d24bf97ce7764409e7585c99,11,2,1,23851,,,0,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/797211/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",4,0bbbba77c28549b7d24bf97ce7764409e7585c99,secure-rbac-bugfix/18.0," possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, 'instance_uuid': instance_uuid } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired if instance_uuid: # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. # NOTE(TheJulia): This is done after the query as # instance_uuid is a unique constraint in the DB # and we cannot pass a limit of 0 to sqlalchemy # and expect a response. limit = 0"," if instance_uuid: # NOTE(rloo) if instance_uuid is specified, the other query # parameters are ignored. Since there can be at most one node that # has this instance_uuid, we do not want to generate a 'next' link. nodes = self._get_nodes_by_instance(instance_uuid) # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. limit = 0 else: possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired def _get_nodes_by_instance(self, instance_uuid): """"""Retrieve a node by its instance uuid. It returns a list with the node, or an empty list if no node is found. """""" try: node = objects.Node.get_by_instance_uuid(api.request.context, instance_uuid) return [node] except exception.InstanceNotFound: return [] ",138,58
openstack%2Fcharm-deployment-guide~master~If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b,openstack/charm-deployment-guide,master,If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b,Fix broken hyperlinks,MERGED,2021-06-21 14:56:23.000000000,2021-06-21 15:48:05.000000000,2021-06-21 15:45:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-21 14:56:23.000000000', 'files': ['deploy-guide/source/app-policy-overrides.rst', 'deploy-guide/source/app-ceph-rbd-mirror.rst', 'deploy-guide/source/app-ha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e61379839114518fc74d56dd0db4a847a583f27e', 'message': ""Fix broken hyperlinks\n\nThese links aren't really broken but web team reporting\ntools see them as such, probably due to redirection\ntime (?).\n\nChange-Id: If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b\n""}]",0,797321,e61379839114518fc74d56dd0db4a847a583f27e,7,2,1,30561,,,0,"Fix broken hyperlinks

These links aren't really broken but web team reporting
tools see them as such, probably due to redirection
time (?).

Change-Id: If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/21/797321/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/app-policy-overrides.rst', 'deploy-guide/source/app-ceph-rbd-mirror.rst', 'deploy-guide/source/app-ha.rst']",3,e61379839114518fc74d56dd0db4a847a583f27e,fix-broken-links,.. _Deploying to specific machines: https://juju.is/docs/olm/advanced-application-deployment#heading--deploying-to-specific-machines,.. _Deploying to specific machines: https://jaas.ai/docs/deploying-advanced-applications#heading--deploying-to-specific-machines,3,3
openstack%2Fkolla-ansible~stable%2Ftrain~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/train,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:03:43.000000000,2021-06-21 15:47:27.000000000,2021-06-21 15:46:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 12:03:43.000000000', 'files': ['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/362838dec696485814b981168fed0ea1077ae27b', 'message': 'Do not set pid file for iscsid\n\nKolla Ansible runs iscsid in the foreground (-f) and\na recent change to iscsid in CentOS 8 (both Linux and Stream)\ncaused it to reject setting pid file in such a case.\nPID file is irrelevant in this scenario so this commit\nremoves its parameter.\n\nCloses-Bug: #1933033\nChange-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d\n(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)\n'}]",0,797270,362838dec696485814b981168fed0ea1077ae27b,9,3,1,14826,,,0,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/797270/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml']",2,362838dec696485814b981168fed0ea1077ae27b,bug/1933033-stable/train,--- fixes: - | Fixes ``iscsid`` failing in current CentOS 8 based images due to pid file being needlessly set. `LP#1933033 <https://launchpad.net/bugs/1933033>`__ ,,7,1
openstack%2Fcharm-deployment-guide~master~I112db5c4e6bf22f09757ca0ed5788140d124deab,openstack/charm-deployment-guide,master,I112db5c4e6bf22f09757ca0ed5788140d124deab,De-appendicize nova-cells page,MERGED,2021-06-04 20:47:22.000000000,2021-06-21 15:47:11.000000000,2021-06-21 15:44:52.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-04 20:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/595f34118e531c689947a4eacfe172a6eeb0852a', 'message': 'De-appendicize nova-cells page\n\nRename the nova-cells page\n\nAdd a corresponding redirect and redirect test\n\nChange-Id: I112db5c4e6bf22f09757ca0ed5788140d124deab\n'}, {'number': 2, 'created': '2021-06-07 17:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d4cb2565eaddd5a97285eb447c3ece19d6d0a1c7', 'message': 'De-appendicize nova-cells page\n\nRename the nova-cells page\n\nAdd a corresponding redirect and redirect test\n\nChange-Id: I112db5c4e6bf22f09757ca0ed5788140d124deab\n'}, {'number': 3, 'created': '2021-06-21 15:09:34.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/nova-cells.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b495131bef5e2afff68b92ec12a491cb6ebbb7ef', 'message': 'De-appendicize nova-cells page\n\nRename the nova-cells page\n\nAdd a corresponding redirect and redirect test\n\nChange-Id: I112db5c4e6bf22f09757ca0ed5788140d124deab\n'}]",0,794898,b495131bef5e2afff68b92ec12a491cb6ebbb7ef,14,3,3,30561,,,0,"De-appendicize nova-cells page

Rename the nova-cells page

Add a corresponding redirect and redirect test

Change-Id: I112db5c4e6bf22f09757ca0ed5788140d124deab
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/98/794898/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/nova-cells.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/index.rst']",4,595f34118e531c689947a4eacfe172a6eeb0852a,de-app, nova-cells, app-nova-cells,3,2
openstack%2Fmanila~master~I7ab152192740d477110b0d1d626b059bb2881cce,openstack/manila,master,I7ab152192740d477110b0d1d626b059bb2881cce,test_git_review,ABANDONED,2021-06-21 10:37:46.000000000,2021-06-21 15:46:18.000000000,,[],"[{'number': 1, 'created': '2021-06-21 10:37:46.000000000', 'files': ['manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4dcffce0df44d7265605606b9418e316d7268d48', 'message': 'test_git_review\n\nChange-Id: I7ab152192740d477110b0d1d626b059bb2881cce\n'}]",0,797274,4dcffce0df44d7265605606b9418e316d7268d48,3,0,1,30384,,,0,"test_git_review

Change-Id: I7ab152192740d477110b0d1d626b059bb2881cce
",git fetch https://review.opendev.org/openstack/manila refs/changes/74/797274/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/v2/shares.py'],1,4dcffce0df44d7265605606b9418e316d7268d48,,,,1,0
openstack%2Fpython-tripleoclient~master~Ieef12cc62515d565463658e03c6b494f171dedf0,openstack/python-tripleoclient,master,Ieef12cc62515d565463658e03c6b494f171dedf0,Add roles override for unused services,ABANDONED,2021-06-18 18:55:57.000000000,2021-06-21 15:45:15.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 18:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d53e69c09852fc844d2d82f6339f8ee6b8507470', 'message': 'Add roles override for unused services\n\nWe used to remove unused services from the roles file prior to doing\ndeploys as this reduced the number of stacks and prevented extra\ncontainers from being fetched. This was lost when we moved away from\nswift. This changes pulls some of the code we use to do this for\nstandalone and applies it to the overcloud deployment.\n\nChange-Id: Ieef12cc62515d565463658e03c6b494f171dedf0\nRelated-Bug: #1932584\n'}, {'number': 2, 'created': '2021-06-18 19:50:32.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/88df634be6c5a51081dc9b2e989d75334d3ec53d', 'message': 'Add roles override for unused services\n\nWe used to remove unused services from the roles file prior to doing\ndeploys as this reduced the number of stacks and prevented extra\ncontainers from being fetched. This was lost when we moved away from\nswift. This changes pulls some of the code we use to do this for\nstandalone and applies it to the overcloud deployment.\n\nChange-Id: Ieef12cc62515d565463658e03c6b494f171dedf0\nRelated-Bug: #1932584\n'}]",1,797150,88df634be6c5a51081dc9b2e989d75334d3ec53d,6,3,2,14985,,,0,"Add roles override for unused services

We used to remove unused services from the roles file prior to doing
deploys as this reduced the number of stacks and prevented extra
containers from being fetched. This was lost when we moved away from
swift. This changes pulls some of the code we use to do this for
standalone and applies it to the overcloud deployment.

Change-Id: Ieef12cc62515d565463658e03c6b494f171dedf0
Related-Bug: #1932584
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/50/797150/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,d53e69c09852fc844d2d82f6339f8ee6b8507470,bug/1932584," roles_file_path = parsed_args.roles_file roles_data = utils.fetch_roles_file( roles_file_path, parsed_args.templates) to_remove = set() for key, value in env.get('resource_registry', {}).items(): if (key.startswith('OS::TripleO::Services::') and value == 'OS::Heat::None'): to_remove.add(key) if to_remove: for role in roles_data: for service in to_remove: try: role.get('ServicesDefault', []).remove(service) except ValueError: pass self.log.info('Removing unused services, updating roles') # This will clean up the directory and set it up again self._populate_templates_dir(parsed_args.templates, parsed_args.stack.lower()) roles_file_path = os.path.join( new_tht_root, 'roles-data-override.yaml') with open(roles_file_path, ""w"") as f: f.write(yaml.safe_dump(roles_data)) env_files_tracker, roles_file_path, roles_file_path,"," env_files_tracker, parsed_args.roles_file, parsed_args.roles_file,",26,2
openstack%2Fsahara-dashboard~master~Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39,openstack/sahara-dashboard,master,Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39,Enable tls-proxy in test job,NEW,2021-06-17 07:42:41.000000000,2021-06-21 15:40:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2021-06-17 07:42:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/2e516e35d0e85afc9faefc55b4cba8379d07103c', 'message': 'Enable tls-proxy in test job\n\nChange-Id: Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39\n'}]",0,796775,2e516e35d0e85afc9faefc55b4cba8379d07103c,3,2,1,12404,,,0,"Enable tls-proxy in test job

Change-Id: Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/75/796775/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2e516e35d0e85afc9faefc55b4cba8379d07103c,exame-tls-proxy,, tls-proxy: false,0,1
openstack%2Fsahara-tests~master~If3939c0b4ad9d81105f60f83be74c73ecd8429eb,openstack/sahara-tests,master,If3939c0b4ad9d81105f60f83be74c73ecd8429eb,Enable tls-proxy in test jobs,NEW,2021-06-17 07:45:21.000000000,2021-06-21 15:40:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2021-06-17 07:45:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/ee04fed8f2a44844dbcb592022f617718d9b3fda', 'message': 'Enable tls-proxy in test jobs\n\nChange-Id: If3939c0b4ad9d81105f60f83be74c73ecd8429eb\n'}]",0,796776,ee04fed8f2a44844dbcb592022f617718d9b3fda,3,2,1,12404,,,0,"Enable tls-proxy in test jobs

Change-Id: If3939c0b4ad9d81105f60f83be74c73ecd8429eb
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/76/796776/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee04fed8f2a44844dbcb592022f617718d9b3fda,exame-tls-proxy, vars:, devstack_services: tls-proxy: false group-vars: subnode: devstack_services: tls-proxy: false vars: devstack_services: tls-proxy: false,0,8
openstack%2Fsahara~master~I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1,openstack/sahara,master,I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1,Enable tls-support in test job,NEW,2021-06-17 07:39:57.000000000,2021-06-21 15:40:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2021-06-17 07:39:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/92e759b24010256340cefbbf4e63bd73aa1d7226', 'message': 'Enable tls-support in test job\n\nChange-Id: I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1\n'}]",0,796774,92e759b24010256340cefbbf4e63bd73aa1d7226,3,2,1,12404,,,0,"Enable tls-support in test job

Change-Id: I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1
",git fetch https://review.opendev.org/openstack/sahara refs/changes/74/796774/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,92e759b24010256340cefbbf4e63bd73aa1d7226,exame-tls-proxy,, tls-proxy: false group-vars: subnode: devstack_services: tls-proxy: false,0,5
openstack%2Ftrove~stable%2Focata~I6994c37fd159289fb755e5b59cf4c1896d18fe3d,openstack/trove,stable/ocata,I6994c37fd159289fb755e5b59cf4c1896d18fe3d,Failed to build mongo image,ABANDONED,2018-05-02 20:08:34.000000000,2021-06-21 15:33:04.000000000,,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 24739}, {'_account_id': 32029}]","[{'number': 1, 'created': '2018-05-02 20:08:34.000000000', 'files': ['integration/scripts/files/elements/ubuntu-mongodb/install.d/20-mongodb'], 'web_link': 'https://opendev.org/openstack/trove/commit/f625c4a244409134bb0762cde43825454f78dbc1', 'message': 'Failed to build mongo image\n\nMongodb is no more available in version 3.2.6\n\nPartial-Bug: #1743405\nChange-Id: I6994c37fd159289fb755e5b59cf4c1896d18fe3d\n(cherry picked from commit 5e16c93cfddc7cd0e45910c1ad4571a67846e5c7)\n'}]",0,565892,f625c4a244409134bb0762cde43825454f78dbc1,6,4,1,18665,,,0,"Failed to build mongo image

Mongodb is no more available in version 3.2.6

Partial-Bug: #1743405
Change-Id: I6994c37fd159289fb755e5b59cf4c1896d18fe3d
(cherry picked from commit 5e16c93cfddc7cd0e45910c1ad4571a67846e5c7)
",git fetch https://review.opendev.org/openstack/trove refs/changes/92/565892/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/ubuntu-mongodb/install.d/20-mongodb'],1,f625c4a244409134bb0762cde43825454f78dbc1,bug/1743405,apt-get --allow-unauthenticated -y install mongodb-org=3.2.11,apt-get --allow-unauthenticated -y install mongodb-org=3.2.6,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia5a6b7faa65401e61b39ac36d049f40a48c346a6,openstack/tripleo-heat-templates,stable/wallaby,Ia5a6b7faa65401e61b39ac36d049f40a48c346a6,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:36:19.000000000,2021-06-21 15:32:22.000000000,2021-06-21 15:31:01.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:36:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c97152f2064cf544aa6f43d9f2a910a36020544', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia5a6b7faa65401e61b39ac36d049f40a48c346a6\n'}]",0,789890,0c97152f2064cf544aa6f43d9f2a910a36020544,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia5a6b7faa65401e61b39ac36d049f40a48c346a6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/789890/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0c97152f2064cf544aa6f43d9f2a910a36020544,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftacker~stable%2Focata~I02833fb0be37c7cb5842b5c20110755d9d150300,openstack/tacker,stable/ocata,I02833fb0be37c7cb5842b5c20110755d9d150300,Author: Wangchenglong Date: Aug.7th 2017,ABANDONED,2017-08-07 03:20:02.000000000,2021-06-21 15:31:21.000000000,,"[{'_account_id': 792}, {'_account_id': 2874}, {'_account_id': 24173}]","[{'number': 1, 'created': '2017-08-07 03:20:02.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/dcdda4c6f285da7343119a204faff67637d4cc3b', 'message': 'Author: Wangchenglong\nDate: Aug.7th 2017\n\n  Get the last heat limits=2 event eventA before sending signal,\n  and in scale_wait function, get the heat limits=2 evnetB.\n  Compare these two event id, if they are not equals and the eventB\n  resource status is not ""SIGNAL_COMPLETE"", it means heat\n  auto_scaling is in progress.\n  If the events id are the same, it means signal occurred within\n  cool down window or capability reaches the limit, no events generated\n  from heat or the signal is not received. Five seconds is well enough\n  to get the signal if the network is ok.\n  Tacker VNF status should switch back to ACTIVE when this\n  scenario occurring.\n\nChange-Id: I02833fb0be37c7cb5842b5c20110755d9d150300\n'}]",0,491325,dcdda4c6f285da7343119a204faff67637d4cc3b,6,3,1,24173,,,0,"Author: Wangchenglong
Date: Aug.7th 2017

  Get the last heat limits=2 event eventA before sending signal,
  and in scale_wait function, get the heat limits=2 evnetB.
  Compare these two event id, if they are not equals and the eventB
  resource status is not ""SIGNAL_COMPLETE"", it means heat
  auto_scaling is in progress.
  If the events id are the same, it means signal occurred within
  cool down window or capability reaches the limit, no events generated
  from heat or the signal is not received. Five seconds is well enough
  to get the signal if the network is ok.
  Tacker VNF status should switch back to ACTIVE when this
  scenario occurring.

Change-Id: I02833fb0be37c7cb5842b5c20110755d9d150300
",git fetch https://review.opendev.org/openstack/tacker refs/changes/25/491325/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,dcdda4c6f285da7343119a204faff67637d4cc3b,fix_bug_1706336,"from datetime import datetime policy_rsc, limit=2, t1 = datetime.utcnow() limit=2, else: t2 = datetime.utcnow() if (t2 - t1).seconds > 5: error_reason = _('when signal occured within cool down' 'window or capability reaches the limit,' 'no events generated from heat,' 'so ignor it') LOG.warning(error_reason) break"," policy_rsc, limit=1, limit=1,",13,3
openstack%2Fpuppet-nova~stable%2Fwallaby~I92af8c82febbcdd09512aa05130e9bba0b21e83f,openstack/puppet-nova,stable/wallaby,I92af8c82febbcdd09512aa05130e9bba0b21e83f,Add parameter to set the libvirt max_number of guests with encrypted memory,MERGED,2021-06-17 15:27:49.000000000,2021-06-21 15:31:07.000000000,2021-06-21 15:29:25.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-17 15:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a61b04f993b299255b71193ff7841c8f7115ec08', 'message': 'Add parameter to set the libvirt max_number of guests with encrypted memory\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/666616\n\nConflicts:\nmanifests/compute/libvirt.pp\n\nChange-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f\n(cherry picked from commit 6d1bad02a977f824a4e18687729972082e62ac52)\n'}, {'number': 2, 'created': '2021-06-20 13:18:44.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/compute-libvirt-num_memory_encrypted_guests-cdd63ade872a1a01.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b256cb0a27bc45d19b4e67034728cb6c2c74cc35', 'message': 'Add parameter to set the libvirt max_number of guests with encrypted memory\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/666616\n\nConflicts:\n\tmanifests/compute/libvirt.pp\n\nChange-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f\n(cherry picked from commit 6d1bad02a977f824a4e18687729972082e62ac52)\n'}]",3,796880,b256cb0a27bc45d19b4e67034728cb6c2c74cc35,16,5,2,17216,,,0,"Add parameter to set the libvirt max_number of guests with encrypted memory

Depends-On: https://review.opendev.org/c/openstack/nova/+/666616

Conflicts:
	manifests/compute/libvirt.pp

Change-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f
(cherry picked from commit 6d1bad02a977f824a4e18687729972082e62ac52)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/796880/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/compute-libvirt-num_memory_encrypted_guests-cdd63ade872a1a01.yaml', 'manifests/compute/libvirt.pp']",3,a61b04f993b299255b71193ff7841c8f7115ec08,num_memory_encrypted_guests_w,"# [*num_memory_encrypted_guests*] # (optional) The maximum number of guests with encrypted memory which can # run concurrently on this compute host. # Defaults to $::os_service_default # $num_memory_encrypted_guests = $::os_service_default, 'DEFAULT/compute_driver': value => $compute_driver; 'DEFAULT/preallocate_images': value => $preallocate_images; 'vnc/server_listen': value => $vncserver_listen; 'libvirt/virt_type': value => $virt_type; 'libvirt/cpu_mode': value => $cpu_mode_default; 'libvirt/snapshot_image_format': value => $snapshot_image_format; 'libvirt/snapshots_directory': value => $snapshots_directory; 'libvirt/inject_password': value => $inject_password; 'libvirt/inject_key': value => $inject_key; 'libvirt/inject_partition': value => $inject_partition; 'libvirt/hw_disk_discard': value => $hw_disk_discard; 'libvirt/hw_machine_type': value => $hw_machine_type; 'libvirt/enabled_perf_events': value => join(any2array($enabled_perf_events), ','); 'libvirt/rx_queue_size': value => $rx_queue_size; 'libvirt/tx_queue_size': value => $tx_queue_size; 'libvirt/file_backed_memory': value => $file_backed_memory; 'libvirt/volume_use_multipath': value => $volume_use_multipath; 'libvirt/nfs_mount_options': value => $nfs_mount_options; 'libvirt/num_pcie_ports': value => $num_pcie_ports; 'libvirt/mem_stats_period_seconds': value => $mem_stats_period_seconds; 'libvirt/pmem_namespaces': value => $pmem_namespaces; 'libvirt/swtpm_enabled': value => $swtpm_enabled; 'libvirt/swtpm_user' : value => $swtpm_user; 'libvirt/swtpm_group': value => $swtpm_group; 'libvirt/max_queues': value => $max_queues; 'libvirt/num_memory_encrypted_guests': value => $num_memory_encrypted_guests;"," 'DEFAULT/compute_driver': value => $compute_driver; 'DEFAULT/preallocate_images': value => $preallocate_images; 'vnc/server_listen': value => $vncserver_listen; 'libvirt/virt_type': value => $virt_type_real; 'libvirt/cpu_mode': value => $cpu_mode_default; 'libvirt/snapshot_image_format': value => $snapshot_image_format_real; 'libvirt/snapshots_directory': value => $snapshots_directory; 'libvirt/inject_password': value => $inject_password_real; 'libvirt/inject_key': value => $inject_key_real; 'libvirt/inject_partition': value => $inject_partition_real; 'libvirt/hw_disk_discard': value => $hw_disk_discard_real; 'libvirt/hw_machine_type': value => $hw_machine_type_real; 'libvirt/enabled_perf_events': value => join(any2array($enabled_perf_events_real), ','); 'libvirt/rx_queue_size': value => $rx_queue_size; 'libvirt/tx_queue_size': value => $tx_queue_size; 'libvirt/file_backed_memory': value => $file_backed_memory; 'libvirt/volume_use_multipath': value => $volume_use_multipath; 'libvirt/nfs_mount_options': value => $nfs_mount_options; 'libvirt/num_pcie_ports': value => $num_pcie_ports; 'libvirt/mem_stats_period_seconds': value => $mem_stats_period_seconds; 'libvirt/pmem_namespaces': value => $pmem_namespaces; 'libvirt/swtpm_enabled': value => $swtpm_enabled; 'libvirt/swtpm_user' : value => $swtpm_user; 'libvirt/swtpm_group': value => $swtpm_group; 'libvirt/max_queues': value => $max_queues;",40,25
openstack%2Ftripleo-validations~stable%2Fwallaby~If2578fcd069ba60e33b375c04ba2912affce53e0,openstack/tripleo-validations,stable/wallaby,If2578fcd069ba60e33b375c04ba2912affce53e0,Use OS_CLOUD environment variable,MERGED,2021-06-21 07:02:06.000000000,2021-06-21 15:30:55.000000000,2021-06-21 15:30:55.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-21 07:02:06.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1d166b03f43069739170d517ff9ccc8a41a79f64', 'message': 'Use OS_CLOUD environment variable\n\nIf OS_CLOUD env variable is set, that should be used.\n\nChange-Id: If2578fcd069ba60e33b375c04ba2912affce53e0\n(cherry picked from commit ee6e66649fd14656db1a1f49eb8463821b475393)\n'}]",0,797208,1d166b03f43069739170d517ff9ccc8a41a79f64,7,6,1,8833,,,0,"Use OS_CLOUD environment variable

If OS_CLOUD env variable is set, that should be used.

Change-Id: If2578fcd069ba60e33b375c04ba2912affce53e0
(cherry picked from commit ee6e66649fd14656db1a1f49eb8463821b475393)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/08/797208/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,1d166b03f43069739170d517ff9ccc8a41a79f64,bug/1931172-stable/wallaby," cfg.StrOpt('os-cloud', default=os.environ.get('OS_CLOUD'), help=('Provide authentication with clouds.yaml file.')),"," cfg.StrOpt('os-cloud', default=None, help=('Provide authentication ' 'with clouds.yaml file.')),",2,2
openstack%2Fpython-tackerclient~stable%2Focata~I52a99aaaba5f0c39a22ded3c0c2355454938dd71,openstack/python-tackerclient,stable/ocata,I52a99aaaba5f0c39a22ded3c0c2355454938dd71,"tackerclient provides os-service-type as an input parameter, but when user inputs something different with ""nfv-orchestration"" it does not work.",ABANDONED,2017-07-20 06:49:59.000000000,2021-06-21 15:30:09.000000000,,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 10487}, {'_account_id': 16237}, {'_account_id': 24173}]","[{'number': 1, 'created': '2017-07-20 06:49:59.000000000', 'files': ['tackerclient/tacker/client.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/663dd7ca94b88b7e2dbaf456844eae5562d973ac', 'message': 'tackerclient provides os-service-type as an input parameter, but\nwhen user inputs something different with ""nfv-orchestration"" it does not work.\n\nit is because when constructing client in tackerclient.tacker.client.make_client\nfunction, the service_type value is not put in the tacker_client instatiated parameters.\n\nAnd the tackerclient.client.construct_http_client put ""nfv-orchestration"" as the default value\nfor service_type.\n\nWe need to add service_type=instance._service_type to let user choose what service type they want.\n\nChange-Id: I52a99aaaba5f0c39a22ded3c0c2355454938dd71\nCloses-Bug:#1705372\n'}]",2,485463,663dd7ca94b88b7e2dbaf456844eae5562d973ac,8,5,1,24173,,,0,"tackerclient provides os-service-type as an input parameter, but
when user inputs something different with ""nfv-orchestration"" it does not work.

it is because when constructing client in tackerclient.tacker.client.make_client
function, the service_type value is not put in the tacker_client instatiated parameters.

And the tackerclient.client.construct_http_client put ""nfv-orchestration"" as the default value
for service_type.

We need to add service_type=instance._service_type to let user choose what service type they want.

Change-Id: I52a99aaaba5f0c39a22ded3c0c2355454938dd71
Closes-Bug:#1705372
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/63/485463/1 && git format-patch -1 --stdout FETCH_HEAD,['tackerclient/tacker/client.py'],1,663dd7ca94b88b7e2dbaf456844eae5562d973ac,bug/1705372," service_type=instance._service_type,",,1,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/ussuri,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:03:15.000000000,2021-06-21 15:27:00.000000000,2021-06-21 15:25:39.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 12:03:15.000000000', 'files': ['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0e39cd320b227489acc1c3d81ab772696114dfa', 'message': 'Do not set pid file for iscsid\n\nKolla Ansible runs iscsid in the foreground (-f) and\na recent change to iscsid in CentOS 8 (both Linux and Stream)\ncaused it to reject setting pid file in such a case.\nPID file is irrelevant in this scenario so this commit\nremoves its parameter.\n\nCloses-Bug: #1933033\nChange-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d\n(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)\n'}]",0,797269,f0e39cd320b227489acc1c3d81ab772696114dfa,11,3,1,14826,,,0,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/797269/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml']",2,f0e39cd320b227489acc1c3d81ab772696114dfa,bug/1933033-stable/ussuri,--- fixes: - | Fixes ``iscsid`` failing in current CentOS 8 based images due to pid file being needlessly set. `LP#1933033 <https://launchpad.net/bugs/1933033>`__ ,,7,1
openstack%2Foslo-specs~master~I41ca7856d5900ff1805bce017ede4d08528f1e7a,openstack/oslo-specs,master,I41ca7856d5900ff1805bce017ede4d08528f1e7a,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 07:58:26.000000000,2021-06-21 15:21:49.000000000,2021-06-21 15:20:21.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-24 07:58:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/ad4af697d1bfbdd9fde6d11e345d0a2bedfd3fd0', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I41ca7856d5900ff1805bce017ede4d08528f1e7a\n'}]",0,768449,ad4af697d1bfbdd9fde6d11e345d0a2bedfd3fd0,8,3,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I41ca7856d5900ff1805bce017ede4d08528f1e7a
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/49/768449/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ad4af697d1bfbdd9fde6d11e345d0a2bedfd3fd0,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fansible-collections-openstack~master~I86ebbcc52b6558f4110fc439ed13fb590dddb590,openstack/ansible-collections-openstack,master,I86ebbcc52b6558f4110fc439ed13fb590dddb590,Switch hostaggregate module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 15:20:38.000000000,2021-06-21 15:20:38.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a3c9267d385ebeac30e7c4bc4c8956dba33d67f2', 'message': 'Switch hostaggregate module to OpenStackModule\n\nChange-Id: I86ebbcc52b6558f4110fc439ed13fb590dddb590\n'}, {'number': 2, 'created': '2021-05-21 07:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0c2a46102d606819fc304ae7e8659fadc1ee3f50', 'message': 'Switch hostaggregate module to OpenStackModule\n\nChange-Id: I86ebbcc52b6558f4110fc439ed13fb590dddb590\n'}, {'number': 3, 'created': '2021-06-17 09:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7c2082c7fd61009220d14f17a28d4a276afd5073', 'message': 'Switch hostaggregate module to OpenStackModule\n\nChange-Id: I86ebbcc52b6558f4110fc439ed13fb590dddb590\n'}, {'number': 4, 'created': '2021-06-17 10:41:32.000000000', 'files': ['plugins/modules/host_aggregate.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fa7526a0ec2c28823d41edce3caaf66b14f90e68', 'message': 'Switch hostaggregate module to OpenStackModule\n\nChange-Id: I86ebbcc52b6558f4110fc439ed13fb590dddb590\n'}]",0,792435,fa7526a0ec2c28823d41edce3caaf66b14f90e68,16,2,4,27900,,,0,"Switch hostaggregate module to OpenStackModule

Change-Id: I86ebbcc52b6558f4110fc439ed13fb590dddb590
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/35/792435/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/host_aggregate.py'],1,a3c9267d385ebeac30e7c4bc4c8956dba33d67f2,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ComputeHostAggregateModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _needs_update(self, aggregate): new_metadata = (self.params['metadata'] or {}) if self.params['availability_zone'] is not None: new_metadata['availability_zone'] = self.params['availability_zone'] if self.params['name'] != aggregate.name: return True if self.params['hosts'] is not None: if self.params['purge_hosts']: if set(self.params['hosts']) != set(aggregate.hosts): return True else: intersection = set(self.params['hosts']).intersection(set(aggregate.hosts)) if set(self.params['hosts']) != intersection: return True if self.params['availability_zone'] is not None: if self.params['availability_zone'] != aggregate.availability_zone: return True if self.params['metadata'] is not None: if new_metadata != aggregate.metadata: return True return False def _system_state_change(self, aggregate): state = self.params['state'] if state == 'absent' and aggregate: return True if state == 'present': if aggregate is None: return True return self._needs_update(aggregate) return False def _update_hosts(self, aggregate, hosts, purge_hosts): if hosts is None: return hosts_to_add = set(hosts) - set(aggregate.hosts) for i in hosts_to_add: self.conn.add_host_to_aggregate(aggregate.id, i) if not purge_hosts: return hosts_to_remove = set(aggregate.hosts) - set(hosts) for i in hosts_to_remove: self.conn.remove_host_from_aggregate(aggregate.id, i) def run(self): name = self.params['name'] metadata = self.params['metadata'] availability_zone = self.params['availability_zone'] hosts = self.params['hosts'] purge_hosts = self.params['purge_hosts'] state = self.params['state'] if metadata is not None: metadata.pop('availability_zone', None) aggregates = self.conn.search_aggregates(name_or_id=name) if self.check_mode: self.exit_json(changed=self._system_state_change(aggregate)) aggregate = self.conn.create_aggregate( name=name, availability_zone=availability_zone) self._update_hosts(aggregate, hosts, False) if metadata: self.conn.set_aggregate_metadata(aggregate.id, metadata) if self._needs_update(aggregate): if availability_zone is not None: aggregate = self.conn.update_aggregate( aggregate.id, name=name, availability_zone=availability_zone) self.conn.set_aggregate_metadata(aggregate.id, metas) self._update_hosts(aggregate, hosts, purge_hosts) self.exit_json(changed=changed) self._update_hosts(aggregate, [], True) self.conn.delete_aggregate(aggregate.id) self.exit_json(changed=changed) def main(): module = ComputeHostAggregateModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _needs_update(module, aggregate): new_metadata = (module.params['metadata'] or {}) if module.params['availability_zone'] is not None: new_metadata['availability_zone'] = module.params['availability_zone'] if module.params['name'] != aggregate.name: return True if module.params['hosts'] is not None: if module.params['purge_hosts']: if set(module.params['hosts']) != set(aggregate.hosts): return True else: intersection = set(module.params['hosts']).intersection(set(aggregate.hosts)) if set(module.params['hosts']) != intersection: return True if module.params['availability_zone'] is not None: if module.params['availability_zone'] != aggregate.availability_zone: return True if module.params['metadata'] is not None: if new_metadata != aggregate.metadata: return True return False def _system_state_change(module, aggregate): state = module.params['state'] if state == 'absent' and aggregate: return True if state == 'present': if aggregate is None: return True return _needs_update(module, aggregate) return False def _update_hosts(cloud, aggregate, hosts, purge_hosts): if hosts is None: return hosts_to_add = set(hosts) - set(aggregate.hosts) for i in hosts_to_add: cloud.add_host_to_aggregate(aggregate.id, i) if not purge_hosts: return hosts_to_remove = set(aggregate.hosts) - set(hosts) for i in hosts_to_remove: cloud.remove_host_from_aggregate(aggregate.id, i) def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) name = module.params['name'] metadata = module.params['metadata'] availability_zone = module.params['availability_zone'] hosts = module.params['hosts'] purge_hosts = module.params['purge_hosts'] state = module.params['state'] if metadata is not None: metadata.pop('availability_zone', None) sdk, cloud = openstack_cloud_from_module(module) try: aggregates = cloud.search_aggregates(name_or_id=name) if module.check_mode: module.exit_json(changed=_system_state_change(module, aggregate)) aggregate = cloud.create_aggregate(name=name, availability_zone=availability_zone) _update_hosts(cloud, aggregate, hosts, False) if metadata: cloud.set_aggregate_metadata(aggregate.id, metadata) if _needs_update(module, aggregate): if availability_zone is not None: aggregate = cloud.update_aggregate(aggregate.id, name=name, availability_zone=availability_zone) cloud.set_aggregate_metadata(aggregate.id, metas) _update_hosts(cloud, aggregate, hosts, purge_hosts) module.exit_json(changed=changed) _update_hosts(cloud, aggregate, [], True) cloud.delete_aggregate(aggregate.id) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",88,93
openstack%2Fkolla-ansible~stable%2Fwallaby~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/wallaby,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:02:52.000000000,2021-06-21 15:17:24.000000000,2021-06-21 15:15:35.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 12:02:52.000000000', 'files': ['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ecddf74d7d2a58d4f62ad990c0705737b737b006', 'message': 'Do not set pid file for iscsid\n\nKolla Ansible runs iscsid in the foreground (-f) and\na recent change to iscsid in CentOS 8 (both Linux and Stream)\ncaused it to reject setting pid file in such a case.\nPID file is irrelevant in this scenario so this commit\nremoves its parameter.\n\nCloses-Bug: #1933033\nChange-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d\n(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)\n'}]",0,797267,ecddf74d7d2a58d4f62ad990c0705737b737b006,9,3,1,14826,,,0,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/797267/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml']",2,ecddf74d7d2a58d4f62ad990c0705737b737b006,bug/1933033-stable/wallaby,--- fixes: - | Fixes ``iscsid`` failing in current CentOS 8 based images due to pid file being needlessly set. `LP#1933033 <https://launchpad.net/bugs/1933033>`__ ,,7,1
openstack%2Fkolla-ansible~stable%2Fussuri~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,stable/ussuri,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-06-20 08:15:39.000000000,2021-06-21 15:17:19.000000000,2021-06-21 15:15:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 08:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/005ee8d81759440cc708a3879cb261e6e55b2fd1', 'message': 'octavia: Ensure service auth project exists\n\nKolla Ansible supports configuration of the project used by Octavia to\ncommunicate with other services, via octavia_service_auth_project. Until\nUssuri, this was set to admin. In Ussuri it changed to service. It may\nalso be set to a different value.\n\nKolla Ansible currently gives the octavia user the admin role in the\nproject, but it does not ensure that the project exists. For admin and\nservice projects, this is not a problem. If the project has been\ncustomised however, it will not necessarily exist, which will cause\nOctavia deployment to fail.\n\nThis change fixes the issue by ensuring that the service auth project\nexists, in addition to the service project.\n\nCloses-Bug: #1922100\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)\n'}, {'number': 2, 'created': '2021-06-20 08:17:28.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a343753a7c224a64d2fb77471083d17bcc78d05e', 'message': 'octavia: Ensure service auth project exists\n\nKolla Ansible supports configuration of the project used by Octavia to\ncommunicate with other services, via octavia_service_auth_project. Until\nUssuri, this was set to admin. In Ussuri it changed to service. It may\nalso be set to a different value.\n\nKolla Ansible currently gives the octavia user the admin role in the\nproject, but it does not ensure that the project exists. For admin and\nservice projects, this is not a problem. If the project has been\ncustomised however, it will not necessarily exist, which will cause\nOctavia deployment to fail.\n\nThis change fixes the issue by ensuring that the service auth project\nexists, in addition to the service project.\n\nCloses-Bug: #1922100\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)\n'}]",0,797112,a343753a7c224a64d2fb77471083d17bcc78d05e,15,3,2,30491,,,0,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/797112/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml']",3,005ee8d81759440cc708a3879cb261e6e55b2fd1,,"--- fixes: - | Fixes an issue with Octavia deployment when using a custom service auth project. If ``octavia_service_auth_project`` is set to a project that does not exist, Octavia deployment would fail. The project is now created. `LP#1922100 <https://bugs.launchpad.net/kolla-ansible/+bug/1922100>`__ ",,112,15
openstack%2Fkolla-ansible~stable%2Fvictoria~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/victoria,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:02:57.000000000,2021-06-21 15:17:05.000000000,2021-06-21 15:15:39.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 12:02:57.000000000', 'files': ['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77d70f0d8fbaec529379d84ca2b695b31d89535a', 'message': 'Do not set pid file for iscsid\n\nKolla Ansible runs iscsid in the foreground (-f) and\na recent change to iscsid in CentOS 8 (both Linux and Stream)\ncaused it to reject setting pid file in such a case.\nPID file is irrelevant in this scenario so this commit\nremoves its parameter.\n\nCloses-Bug: #1933033\nChange-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d\n(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)\n'}]",0,797268,77d70f0d8fbaec529379d84ca2b695b31d89535a,9,3,1,14826,,,0,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/797268/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml']",2,77d70f0d8fbaec529379d84ca2b695b31d89535a,bug/1933033-stable/victoria,--- fixes: - | Fixes ``iscsid`` failing in current CentOS 8 based images due to pid file being needlessly set. `LP#1933033 <https://launchpad.net/bugs/1933033>`__ ,,7,1
openstack%2Fironic~master~Ieefc184c01cd056880e7d6b467207308784e3ba0,openstack/ironic,master,Ieefc184c01cd056880e7d6b467207308784e3ba0,WIP: Tea pot response,ABANDONED,2021-02-02 00:03:53.000000000,2021-06-21 15:11:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-02 00:03:53.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/common/exception.py', 'ironic/api/controllers/v1/ramdisk.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/76c8603c8f49af8e985673e3d30752ee030bc622', 'message': 'WIP: Tea pot response\n\nSignal to the API requestor when something is absurd and\nthe API won\'t do it.... by indicating the API is a Tea Pot.\n\nIn all seriousness, the API should likely say ""this is not""\nan endpoint that a user should be trying ot use. I could see\nsystem, but we don\'t have a good way to restrict it in the\nsystem/project scoped universe. So it becomes IM_A_TEAPOT\n\nNote: Python3.9 apparently adds the HTTP 418 response code\nsupport. It doesn\'t appear to get populated at present, but\nit is a minor detail in the grand scheme of things.\n\nChange-Id: Ieefc184c01cd056880e7d6b467207308784e3ba0\n'}]",7,773548,76c8603c8f49af8e985673e3d30752ee030bc622,8,1,1,11655,,,0,"WIP: Tea pot response

Signal to the API requestor when something is absurd and
the API won't do it.... by indicating the API is a Tea Pot.

In all seriousness, the API should likely say ""this is not""
an endpoint that a user should be trying ot use. I could see
system, but we don't have a good way to restrict it in the
system/project scoped universe. So it becomes IM_A_TEAPOT

Note: Python3.9 apparently adds the HTTP 418 response code
support. It doesn't appear to get populated at present, but
it is a minor detail in the grand scheme of things.

Change-Id: Ieefc184c01cd056880e7d6b467207308784e3ba0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/773548/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/common/exception.py', 'ironic/api/controllers/v1/ramdisk.py']",3,76c8603c8f49af8e985673e3d30752ee030bc622,secure-rbac, req_policy_values = api.request.context.to_policy_values() if req_policy_values.get('project_id'): raise exception.InvalidUtilityRequest( 'A user has attempted to access a utility API.') req_policy_values = api.request.context.to_policy_values() if req_policy_values.get('project_id'): raise exception.InvalidUtilityRequest(),,51,0
openstack%2Faodh~stable%2Focata~I3f12811684a49794bca87c4a10b18d45879da773,openstack/aodh,stable/ocata,I3f12811684a49794bca87c4a10b18d45879da773,Support same projects in different domain,ABANDONED,2018-07-06 10:33:11.000000000,2021-06-21 15:04:04.000000000,,"[{'_account_id': 1669}, {'_account_id': 5112}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-06 10:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/721255f64c9506c85374a6f26ac779d172981ea0', 'message': ""Support same projects in different domain\n\nGetting 500 error when there are same project name\nin different domain.\nSelecting one domain from service_credentials.\ne.g. services(or service) projects are in default and service_domain\nhaving differrent id. so this selects default's services project\ninstead of service_domain's services project\n\nChange-Id: I3f12811684a49794bca87c4a10b18d45879da773\nCloses-Bug: #1776375\n(backported from commit e923493e4feec239c9fe9b58736960a40e373bee)\n""}, {'number': 2, 'created': '2018-07-06 11:28:01.000000000', 'files': ['aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/f0a6e009047150418ad5e3bef040dcf660a164c1', 'message': ""Support same projects in different domain\n\nGetting 500 error when there are same project name\nin different domain.\nSelecting one domain from service_credentials.\ne.g. services(or service) projects are in default and service_domain\nhaving differrent id. so this selects default's services project\ninstead of service_domain's services project\n\nChange-Id: I3f12811684a49794bca87c4a10b18d45879da773\nCloses-Bug: #1776375\n(backported from commit e923493e4feec239c9fe9b58736960a40e373bee)\n""}]",0,580603,f0a6e009047150418ad5e3bef040dcf660a164c1,29,4,2,5112,,,0,"Support same projects in different domain

Getting 500 error when there are same project name
in different domain.
Selecting one domain from service_credentials.
e.g. services(or service) projects are in default and service_domain
having differrent id. so this selects default's services project
instead of service_domain's services project

Change-Id: I3f12811684a49794bca87c4a10b18d45879da773
Closes-Bug: #1776375
(backported from commit e923493e4feec239c9fe9b58736960a40e373bee)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/03/580603/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py']",2,721255f64c9506c85374a6f26ac779d172981ea0,bug/1776375," ks_client.domains.list.return_value = [mock.Mock( id='<my-uuid>', name='Default')]",,19,1
openstack%2Ftripleo-quickstart~master~Ief63794bebf1050744e1a54e554f5234d6337373,openstack/tripleo-quickstart,master,Ief63794bebf1050744e1a54e554f5234d6337373,Moving the Ceph Pacific repos to -stream,MERGED,2021-06-07 09:55:18.000000000,2021-06-21 15:02:41.000000000,2021-06-21 15:01:14.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-07 09:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ccc26c77fa2b8257738b21597f2a05dc236f83ff', 'message': 'Moving the Ceph Pacific repos to -stream\n\nAs per [1] [2] both cephadm and ceph-ansible are now available in the\n-pacific 8-stream repos.\nThis change just moves the quickstart Ceph related references to the\nnew repos.\n\n[1] https://cbs.centos.org/koji/packageinfo?packageID=8439\n[2] https://cbs.centos.org/koji/packageinfo?packageID=3726\n\nChange-Id: Ief63794bebf1050744e1a54e554f5234d6337373\n'}, {'number': 2, 'created': '2021-06-16 09:07:30.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1731386eb85ed8870247667723bd40f3214e088e', 'message': 'Moving the Ceph Pacific repos to -stream\n\nAs per [1] [2] both cephadm and ceph-ansible are now available in the\n-pacific 8-stream repos.\nThis change just moves the quickstart Ceph related references to the\nnew repos.\n\n[1] https://cbs.centos.org/koji/packageinfo?packageID=8439\n[2] https://cbs.centos.org/koji/packageinfo?packageID=3726\n\nChange-Id: Ief63794bebf1050744e1a54e554f5234d6337373\n'}]",0,795078,1731386eb85ed8870247667723bd40f3214e088e,52,10,2,25402,,,0,"Moving the Ceph Pacific repos to -stream

As per [1] [2] both cephadm and ceph-ansible are now available in the
-pacific 8-stream repos.
This change just moves the quickstart Ceph related references to the
new repos.

[1] https://cbs.centos.org/koji/packageinfo?packageID=8439
[2] https://cbs.centos.org/koji/packageinfo?packageID=3726

Change-Id: Ief63794bebf1050744e1a54e554f5234d6337373
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/795078/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",7,ccc26c77fa2b8257738b21597f2a05dc236f83ff,centos-storage-sig, baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/storage/x86_64/ceph-pacific, baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-pacific,7,7
openstack%2Fcharm-deployment-guide~master~I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb,openstack/charm-deployment-guide,master,I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb,De-appendicize rgw-multisite page,MERGED,2021-06-08 18:17:56.000000000,2021-06-21 14:54:12.000000000,2021-06-21 14:52:51.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-08 18:17:56.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/app-ceph-rbd-mirror.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/rgw-multisite.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e3cb5ac3d093af46f9210ffe83411ecbf9ae72ed', 'message': 'De-appendicize rgw-multisite page\n\nRename the rgw-multisite page\n\nAdd a corresponding redirect and redirect test\n\nMake appropriate edits in the doc set where required\n\nChange-Id: I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb\n'}]",0,795393,e3cb5ac3d093af46f9210ffe83411ecbf9ae72ed,7,2,1,30561,,,0,"De-appendicize rgw-multisite page

Rename the rgw-multisite page

Add a corresponding redirect and redirect test

Make appropriate edits in the doc set where required

Change-Id: I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/93/795393/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/app-ceph-rbd-mirror.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/rgw-multisite.rst']",5,e3cb5ac3d093af46f9210ffe83411ecbf9ae72ed,de-app,,,4,2
openstack%2Fcharm-deployment-guide~master~If4c900886622e7608042c868e3f9b548de7d3421,openstack/charm-deployment-guide,master,If4c900886622e7608042c868e3f9b548de7d3421,Remove mention of appendices,MERGED,2021-06-08 19:13:26.000000000,2021-06-21 14:52:15.000000000,2021-06-21 14:50:56.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-08 19:13:26.000000000', 'files': ['deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/app-bridge-interface-configuration.rst', 'deploy-guide/source/upgrade-issues.rst', 'deploy-guide/source/app-ha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5869e40d1faa5bba1f38a98ff05aa12fda48d1d1', 'message': 'Remove mention of appendices\n\nAppendices are now pages.\n\nChange-Id: If4c900886622e7608042c868e3f9b548de7d3421\n'}]",0,795402,5869e40d1faa5bba1f38a98ff05aa12fda48d1d1,7,2,1,30561,,,0,"Remove mention of appendices

Appendices are now pages.

Change-Id: If4c900886622e7608042c868e3f9b548de7d3421
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/02/795402/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/app-bridge-interface-configuration.rst', 'deploy-guide/source/upgrade-issues.rst', 'deploy-guide/source/app-ha.rst']",5,5869e40d1faa5bba1f38a98ff05aa12fda48d1d1,de-app, page).Refer to the :doc:`Open Virtual Network <app-ovn>` page for more information on, appendix).Refer to appendix :doc:`Open Virtual Network <app-ovn>` for more information on,9,9
openstack%2Fcharms.ceph~master~I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa,openstack/charms.ceph,master,I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa,Utils for managing modules and setting config,MERGED,2021-06-21 13:38:45.000000000,2021-06-21 14:44:49.000000000,2021-06-21 14:44:49.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-21 13:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/6cac793350b4b9b3d62ebef99016fddceae0368b', 'message': ""Utils for managing modules and setting config\n\nThe methods for checking modules are taken from the ceph-mon\ncharm and charmhelpers.contrib.storage.linux.ceph module. When\nthis lands I'll update the ch methods to emit a deprecation warning\nand  update the ceph-mon charm to use these methods instead.\n\nChange-Id: I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa\n""}, {'number': 2, 'created': '2021-06-21 13:52:25.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/e8240a764e9e59e87dc1bed0bdef81b8c552f982', 'message': ""Utils for managing modules and setting config\n\nThe methods for checking modules are taken from the ceph-mon\ncharm and charmhelpers.contrib.storage.linux.ceph module. When\nthis lands I'll update the ch methods to emit a deprecation warning\nand  update the ceph-mon charm to use these methods instead.\n\nChange-Id: I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa\n""}]",0,797315,e8240a764e9e59e87dc1bed0bdef81b8c552f982,8,2,2,12549,,,0,"Utils for managing modules and setting config

The methods for checking modules are taken from the ceph-mon
charm and charmhelpers.contrib.storage.linux.ceph module. When
this lands I'll update the ch methods to emit a deprecation warning
and  update the ceph-mon charm to use these methods instead.

Change-Id: I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/15/797315/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_utils.py']",2,6cac793350b4b9b3d62ebef99016fddceae0368b,add-more-utils," class CephManagerAndConfig(unittest.TestCase): MODULE_OUT = b"""""" { ""enabled_modules"": [ ""dashboard"", ""iostat"", ""restful"" ]}"""""" @patch.object(utils.subprocess, 'check_output') def test_enabled_manager_modules(self, _check_output): _check_output.return_value = self.MODULE_OUT self.assertEqual( utils.enabled_manager_modules(), ['dashboard', 'iostat', 'restful']) @patch.object(utils, 'enabled_manager_modules') def test_is_mgr_module_enabled(self, _enabled_manager_modules): _enabled_manager_modules.return_value = ['dashboard', 'restful'] self.assertTrue( utils.is_mgr_module_enabled('dashboard')) self.assertFalse( utils.is_mgr_module_enabled('ostrich')) @patch.object(utils, 'is_mgr_module_enabled') @patch.object(utils.subprocess, 'check_call') def test_mgr_enable_module(self, _check_call, _is_mgr_module_enabled): _is_mgr_module_enabled.return_value = True utils.mgr_enable_module('dashboard') self.assertFalse(_check_call.called) _is_mgr_module_enabled.return_value = False utils.mgr_enable_module('dashboard') _check_call.assert_called_once_with( ['ceph', 'mgr', 'module', 'enable', 'dashboard']) @patch.object(utils, 'is_mgr_module_enabled') @patch.object(utils.subprocess, 'check_call') def test_mgr_disable_module(self, _check_call, _is_mgr_module_enabled): _is_mgr_module_enabled.return_value = False utils.mgr_disable_module('dashboard') self.assertFalse(_check_call.called) _is_mgr_module_enabled.return_value = True utils.mgr_disable_module('dashboard') _check_call.assert_called_once_with( ['ceph', 'mgr', 'module', 'disable', 'dashboard']) @patch.object(utils.subprocess, 'check_call') def test_ceph_config_set(self, _check_call): utils.ceph_config_set('mgr/dashboard/ssl', 'true', 'mgr') _check_call.assert_called_once_with( ['ceph', 'config', 'set', 'mgr', 'mgr/dashboard/ssl', 'true']) @patch.object(utils.subprocess, 'check_output') def test_ceph_config_get(self, _check_output): utils.ceph_config_get('mgr/dashboard/ssl', 'mgr') _check_output.assert_called_once_with( ['ceph', 'config', 'get', 'mgr', 'mgr/dashboard/ssl'])",,190,0
openstack%2Fnova~master~I5a020d2632f0338d230c7851629a7a93f242a826,openstack/nova,master,I5a020d2632f0338d230c7851629a7a93f242a826,[DNM] testing with force_legacy_port_binding workaround,ABANDONED,2020-04-29 17:42:07.000000000,2021-06-21 14:40:41.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-29 17:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b92fd0dfbd7ae4512ca766742e62d5efecb641d1', 'message': '[DNM] testing with force_legacy_port_binding workaround\n\nThis patch is intended to demonstrate that the\nnew force_legacy_port_binding added in the previous patch\ndoes not break anything.\n\nChange-Id: I5a020d2632f0338d230c7851629a7a93f242a826\n'}, {'number': 2, 'created': '2020-04-30 17:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e0c1c44e29ba6205cf441f1230fc3cbb346e460', 'message': '[DNM] testing with force_legacy_port_binding workaround\n\nThis patch is intended to demonstrate that the\nnew force_legacy_port_binding added in the previous patch\ndoes not break anything.\n\nChange-Id: I5a020d2632f0338d230c7851629a7a93f242a826\n'}, {'number': 3, 'created': '2020-05-12 11:45:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f78c7d044ee00f62d7a8ebaed30b0ce35bd984b', 'message': '[DNM] testing with force_legacy_port_binding workaround\n\nThis patch is intended to demonstrate that the\nnew force_legacy_port_binding added in the previous patch\ndoes not break anything.\n\nChange-Id: I5a020d2632f0338d230c7851629a7a93f242a826\n'}]",3,724387,6f78c7d044ee00f62d7a8ebaed30b0ce35bd984b,22,8,3,11604,,,0,"[DNM] testing with force_legacy_port_binding workaround

This patch is intended to demonstrate that the
new force_legacy_port_binding added in the previous patch
does not break anything.

Change-Id: I5a020d2632f0338d230c7851629a7a93f242a826
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/724387/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b92fd0dfbd7ae4512ca766742e62d5efecb641d1,bug/1815989, vars: devstack_local_conf: $NOVA_CONF: workarounds: force_legacy_port_binding: True workarounds: force_legacy_port_binding: True workarounds: force_legacy_port_binding: True,,9,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I88203eaf7f6ef5d1fead379ea3b4be854781b928,openstack/tripleo-heat-templates,stable/wallaby,I88203eaf7f6ef5d1fead379ea3b4be854781b928,Set proper upper constraints for wallaby,ABANDONED,2021-06-21 10:03:20.000000000,2021-06-21 14:26:42.000000000,,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8532}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-21 10:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f85221404f3904eaf216f2351155f5c0bde5d839', 'message': 'Set proper upper constraints for wallaby\n\nChange-Id: I88203eaf7f6ef5d1fead379ea3b4be854781b928\n'}, {'number': 2, 'created': '2021-06-21 10:33:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95b0aa91a234799846e78ac003c362814f673cba', 'message': 'Set proper upper constraints for wallaby\n\nChange-Id: I88203eaf7f6ef5d1fead379ea3b4be854781b928\n'}]",0,797251,95b0aa91a234799846e78ac003c362814f673cba,5,14,2,11090,,,0,"Set proper upper constraints for wallaby

Change-Id: I88203eaf7f6ef5d1fead379ea3b4be854781b928
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/797251/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f85221404f3904eaf216f2351155f5c0bde5d839,tox_wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt}, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fnova~master~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,master,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,MERGED,2021-01-06 18:58:11.000000000,2021-06-21 14:22:05.000000000,2021-06-21 14:19:10.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 18:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/294bb12380b08007cdd0d035c6f7d7e293f08f00', 'message': '[WIP] test numa and vcpu topologies\n\ntrying to repo a case where vm faile to but with a mix\nof explict cpu and numa toplovies\n\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n'}, {'number': 2, 'created': '2021-01-06 19:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d9419b6fc7b998c5f2d4b1754a527b211a72d2f', 'message': '[WIP] test numa and vcpu topologies\n\ntrying to repo a case where vm faile to but with a mix\nof explict cpu and numa toplovies\n\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n'}, {'number': 3, 'created': '2021-01-07 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2adfea58c6b04aa9683122ebd4c51df8bda28a5a', 'message': 'test numa and vcpu topologies bug: #1910466\n\nThis change repoduces bug #1910466\nWhen hw:cpu_max_[sockets|cores|threads] is configured\nin addtion to explict numa topologies nova is currently\nincapable of generating the correct vcpu topology\nresulting in an index out of range error as we attempt\nto retrive the first toplogy from an empty list.\n\nThis change reporduces the error via 2 new functional\ntests.\n\nRelated-Bug: #1910466\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n'}, {'number': 4, 'created': '2021-03-25 20:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feeb053b5fa59b590b84ec4ce75882635364b166', 'message': 'Test numa and vcpu topologies bug: #1910466\n\nThis change repoduces bug #1910466\nWhen hw:cpu_max_[sockets|cores|threads] is configured\nin addition to explict numa topologies nova is currently\nincapable of generating the correct vcpu topology\nresulting in an index out of range error as we attempt\nto retrive the first toplogy from an empty list.\n\nThis change reporduces the error via two new functional\ntests.\n\nRelated-Bug: #1910466\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n'}, {'number': 5, 'created': '2021-03-31 00:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/288d64d7cdb0cb04b1e5ae1b10be664f85f4a511', 'message': 'Test numa and vcpu topologies bug: #1910466\n\nThis change reproduces bug #1910466\nWhen hw:cpu_max_[sockets|cores|threads] is configured\nin addition to an explict numa topologies and cpu pinning\nnova is currently incapable of generating the correct\nvirtual CPU topology resulting in an index out of range\nerror as we attempt to retrieve the first topology\nfrom an empty list.\n\nThis change reproduces the error via a new functional\ntest.\n\nRelated-Bug: #1910466\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n'}, {'number': 6, 'created': '2021-06-18 11:34:45.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe25fa13e0572aafb62b28bf7fa843a1860e5010', 'message': 'Test numa and vcpu topologies bug: #1910466\n\nThis change reproduces bug #1910466\nWhen hw:cpu_max_[sockets|cores|threads] is configured\nin addition to an explict numa topologies and cpu pinning\nnova is currently incapable of generating the correct\nvirtual CPU topology resulting in an index out of range\nerror as we attempt to retrieve the first topology\nfrom an empty list.\n\nThis change reproduces the error via a new functional\ntest.\n\nRelated-Bug: #1910466\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n'}]",53,769601,fe25fa13e0572aafb62b28bf7fa843a1860e5010,42,4,6,11604,,,0,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/769601/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,294bb12380b08007cdd0d035c6f7d7e293f08f00,bug/1910466," def test_create_server_with_numa_and_cpu_topology(self): """"""Create a server with two NUMA nodes. This should pass and result in a guest NUMA topology with two NUMA nodes. """""" host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=4, cpu_threads=1, kB_mem=(1024 * 1024 * 16)) # GB # create 1024 * 2 MB huge pages, and allocate the rest of the 16 GB as # small pages for cell in host_info.numa_topology.cells: huge_pages = 1024 small_pages = (host_info.kB_mem - (2048 * huge_pages)) // 4 cell.mempages = fakelibvirt.create_mempages([ (4, small_pages), (2048, huge_pages), ]) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:numa_nodes': '2', 'hw:max_sockets': '2', 'hw:max_cores': '2', 'hw:max_threads': '8', 'hw:cpu_policy': 'dedicated', 'hw:mem_page_size': 'large'} flavor_id = self._create_flavor(vcpu=8, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 8} server = self._run_build_test(flavor_id, expected_usage=expected_usage) ctx = nova_context.get_admin_context() inst = objects.Instance.get_by_uuid(ctx, server['id']) self.assertEqual(2, len(inst.numa_topology.cells)) self.assertEqual(2048, inst.numa_topology.cells[0].pagesize) # kB self.assertEqual(1024, inst.numa_topology.cells[0].memory) # MB from pprint import pprint pprint(inst.numa_topology.cells[0].cpu_topology) def test_create_server_with_numa_and_cpu_and_memory_topology(self): """"""Create a server with two NUMA nodes. This should pass and result in a guest NUMA topology with two NUMA nodes. """""" host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=4, cpu_threads=1, kB_mem=(1024 * 1024 * 16)) # GB # create 1024 * 2 MB huge pages, and allocate the rest of the 16 GB as # small pages for cell in host_info.numa_topology.cells: huge_pages = 1024 small_pages = (host_info.kB_mem - (2048 * huge_pages)) // 4 cell.mempages = fakelibvirt.create_mempages([ (4, small_pages), (2048, huge_pages), ]) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:numa_nodes': '2', 'hw:max_sockets': '2', 'hw:max_cores': '2', 'hw:max_threads': '8', 'hw:cpu_policy': 'dedicated', 'hw:mem_page_size': 'large', 'hw:numa_cpus.0': '0,1,2,3', 'hw:numa_cpus.1': '4,5,6,7', 'hw:numa_mem.0': '1024', 'hw:numa_mem.1': '1024'} flavor_id = self._create_flavor(vcpu=8, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 8} server = self._run_build_test(flavor_id, expected_usage=expected_usage) ctx = nova_context.get_admin_context() inst = objects.Instance.get_by_uuid(ctx, server['id']) self.assertEqual(2, len(inst.numa_topology.cells)) self.assertEqual(2048, inst.numa_topology.cells[0].pagesize) # kB self.assertEqual(1024, inst.numa_topology.cells[0].memory) # MB from pprint import pprint pprint(inst.numa_topology.cells[0].cpu_topology) ",,76,112
openstack%2Fcinder~stable%2Fstein~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/stein,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-21 13:09:49.000000000,2021-06-21 14:21:57.000000000,2021-06-21 14:19:42.000000000,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 13:09:49.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b5215331622ba1dc15b5332a91752aa3ce0f6c4', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)\n(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)\n(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)\n(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)\n(cherry picked from commit 80ab7cb90b58cdb9da95fef36ed39f510e8acd7a)\n'}]",0,797294,6b5215331622ba1dc15b5332a91752aa3ce0f6c4,13,3,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)
(cherry picked from commit 80ab7cb90b58cdb9da95fef36ed39f510e8acd7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/797294/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,6b5215331622ba1dc15b5332a91752aa3ce0f6c4,unity-fix-typo,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fkolla~master~I3560c3a2bee4e391cac841b9bcd8b8d2199f920d,openstack/kolla,master,I3560c3a2bee4e391cac841b9bcd8b8d2199f920d,Remove rally,MERGED,2021-06-02 14:41:00.000000000,2021-06-21 14:20:04.000000000,2021-06-21 14:17:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-02 14:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cd7cb8bdb3bc4e72bf109fdc06b6f9632e6c4c8', 'message': 'Remove rally\n\nRemove rally project as planned\n\nChange-Id: I3560c3a2bee4e391cac841b9bcd8b8d2199f920d\n'}, {'number': 2, 'created': '2021-06-17 05:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a8b195450c1652a638328c317bbfc0777680320', 'message': 'Remove rally\n\nRemove rally project as planned\n\nChange-Id: I3560c3a2bee4e391cac841b9bcd8b8d2199f920d\n'}, {'number': 3, 'created': '2021-06-20 13:22:27.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'releasenotes/notes/remove-rally-image-249782f1a1123b71.yaml', 'README.rst', 'docker/rally/Dockerfile.j2', 'docker/rally/extend_start.sh', 'roles/kolla-build-config/defaults/main.yml', 'tools/version-check.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e6cea7b93df7b60619c1348f18356579bf4e0946', 'message': 'Remove rally\n\nRemove rally project as planned\n\nChange-Id: I3560c3a2bee4e391cac841b9bcd8b8d2199f920d\n'}]",7,794238,e6cea7b93df7b60619c1348f18356579bf4e0946,26,3,3,26285,,,0,"Remove rally

Remove rally project as planned

Change-Id: I3560c3a2bee4e391cac841b9bcd8b8d2199f920d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/794238/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'releasenotes/notes/remove-rally-image-249782f1a1123b71.yaml', 'README.rst', 'docker/rally/Dockerfile.j2', 'docker/rally/extend_start.sh', 'roles/kolla-build-config/defaults/main.yml', 'tools/version-check.py', 'kolla/common/config.py']",10,7cd7cb8bdb3bc4e72bf109fdc06b6f9632e6c4c8,remove-rally, 'rally-user': { # unused user (rally dropped)," 'rally', 'rally': { 'type': 'url', 'location': ('$tarballs_base/openstack/rally/' 'rally-3.2.0.tar.gz')}, 'rally-plugin-openstack': { 'type': 'url', 'location': ('$tarballs_base/openstack/rally-openstack/' 'rally-openstack-2.1.0.tar.gz')}, 'rally-user': {",6,93
openstack%2Fneutron~master~Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9,openstack/neutron,master,Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9,"Revert ""Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""""",ABANDONED,2021-06-21 10:06:06.000000000,2021-06-21 14:08:38.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 10:06:06.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/db/models/l3ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e250fbba4011d27f423d7ccd7e71ec05e74ffef6', 'message': 'Revert ""Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""""\n\nThis reverts commit cc3dc7c8508a142b614ee9cfe3f4a6766f62d8b8.\n\nReason for revert: bug #1932483\n\nChange-Id: Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9\n'}]",0,797266,e250fbba4011d27f423d7ccd7e71ec05e74ffef6,11,7,1,9531,,,0,"Revert ""Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""""

This reverts commit cc3dc7c8508a142b614ee9cfe3f4a6766f62d8b8.

Reason for revert: bug #1932483

Change-Id: Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/797266/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/db/models/l3ha.py']",2,e250fbba4011d27f423d7ccd7e71ec05e74ffef6,bug/1930397, port = orm.relationship(models_v2.Port) agent = orm.relationship(agent_model.Agent)," port = orm.relationship(models_v2.Port, lazy='joined') agent = orm.relationship(agent_model.Agent, lazy='joined')",2,3
openstack%2Fhorizon~master~I27d6262016f0fb33b3d43b959639897ec0ec3c4b,openstack/horizon,master,I27d6262016f0fb33b3d43b959639897ec0ec3c4b,Fix typo for 'Instance ID =' in chinese,ABANDONED,2021-05-29 02:00:02.000000000,2021-06-21 14:07:17.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-29 02:00:02.000000000', 'files': ['openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b3f7299ba9841f2e74783187c90fe3572854a5c1', 'message': ""Fix typo for 'Instance ID =' in chinese\n\nThis patch changes meaning of 'Instance ID =' to '实例 ID ='.\n\nCloses-Bug: #1929360\nChange-Id: I27d6262016f0fb33b3d43b959639897ec0ec3c4b\n""}]",0,793654,b3f7299ba9841f2e74783187c90fe3572854a5c1,4,2,1,23950,,,0,"Fix typo for 'Instance ID =' in chinese

This patch changes meaning of 'Instance ID =' to '实例 ID ='.

Closes-Bug: #1929360
Change-Id: I27d6262016f0fb33b3d43b959639897ec0ec3c4b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/793654/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'],1,b3f7299ba9841f2e74783187c90fe3572854a5c1,,"msgstr ""实例 ID =""","msgstr ""示例 ID =""",1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/wallaby,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:37:22.000000000,2021-06-21 14:06:18.000000000,2021-06-21 14:04:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 07:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c68828343127029a9dd5dc1272617b4662e72d80', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)\n'}, {'number': 2, 'created': '2021-06-21 09:40:19.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e76e05654d948cd089611a717b7bf8614696621', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)\n'}]",0,796867,2e76e05654d948cd089611a717b7bf8614696621,12,4,2,30491,,,0,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/796867/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,c68828343127029a9dd5dc1272617b4662e72d80,," ansible_python_version=$($ansible_python_cmdline -c 'import sys; print(str(sys.version_info[0])+"".""+str(sys.version_info[1]))') local python_dir python_dir=""python${ansible_python_version}"" if test -f /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/share/kolla-ansible fi elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then if test -f /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/local/share/kolla-ansible fi elif [[ ${dir_name} == ~/.local/bin ]]; then if test -f ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=~/.local/share/kolla-ansible fi elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/${python_dir}/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"""," BASEDIR=/usr/share/kolla-ansible elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then BASEDIR=/usr/local/share/kolla-ansible elif [[ ${dir_name} == ~/.local/bin ]]; then BASEDIR=~/.local/share/kolla-ansible elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)""",26,8
openstack%2Freleases~master~I78c47e1ea84364b55298d928982b79ddc8306cf1,openstack/releases,master,I78c47e1ea84364b55298d928982b79ddc8306cf1,Retire puppet-glare,MERGED,2021-05-17 13:46:13.000000000,2021-06-21 14:04:27.000000000,2021-06-21 14:04:27.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 13:46:13.000000000', 'files': ['deliverables/xena/puppet-glare.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/df9075b74d247a4df9120fd767436d7be7643063', 'message': 'Retire puppet-glare\n\nRetiring this project according to the latest governance updates.\n\nhttps://opendev.org/openstack/governance/commit/1397701e0712297262a784fa7d2dd495205e849d\n\nChange-Id: I78c47e1ea84364b55298d928982b79ddc8306cf1\n'}]",0,791757,df9075b74d247a4df9120fd767436d7be7643063,8,6,1,28522,,,0,"Retire puppet-glare

Retiring this project according to the latest governance updates.

https://opendev.org/openstack/governance/commit/1397701e0712297262a784fa7d2dd495205e849d

Change-Id: I78c47e1ea84364b55298d928982b79ddc8306cf1
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/791757/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/puppet-glare.yaml'],1,df9075b74d247a4df9120fd767436d7be7643063,retire-puppet-glare,,--- launchpad: puppet-glare release-model: cycle-with-intermediary team: Puppet OpenStack type: trailing repository-settings: openstack/puppet-glare: {} ,0,7
openstack%2Freleases~master~I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8,openstack/releases,master,I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8,reapply the missing ocata-eol tag,MERGED,2021-05-28 14:40:49.000000000,2021-06-21 14:04:10.000000000,2021-06-21 14:04:10.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 14:40:49.000000000', 'files': ['deliverables/ocata/os-cloud-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/73aa450565dce9aabbaba110ec55750f4a81ef61', 'message': 'reapply the missing ocata-eol tag\n\nChange-Id: I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8\n'}]",0,793611,73aa450565dce9aabbaba110ec55750f4a81ef61,8,5,1,28522,,,0,"reapply the missing ocata-eol tag

Change-Id: I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/793611/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/os-cloud-config.yaml'],1,73aa450565dce9aabbaba110ec55750f4a81ef61,os-cloud-ocata, - projects: - hash: 185bed9d6ae89e0439d17b4b289dee5d8a6d73a7 repo: openstack/os-cloud-config version: ocata-eol,,4,0
openstack%2Freleases~master~I849c42a92c4ccd9b10c3693e38f845b5aea00237,openstack/releases,master,I849c42a92c4ccd9b10c3693e38f845b5aea00237,[Puppet OpenStack] Fix some bugs in the last train release,MERGED,2021-06-17 07:05:52.000000000,2021-06-21 14:04:04.000000000,2021-06-21 14:04:04.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-17 07:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9f2b0ad10b13cca8a056878f7195e5b13f99e241', 'message': '[Puppet OpenStack] Fix some bugs in the last train release\n\nThe previous release commit set the wrong has about puppet-nova and\nreleased 15.8.0 based on the exactly same has as 15.7.0. Also,\npuppet-murano had 15.4.1 in its metadata.json while released version\nwas 15.5.0.\n\nChange-Id: I849c42a92c4ccd9b10c3693e38f845b5aea00237\n'}, {'number': 2, 'created': '2021-06-17 07:06:39.000000000', 'files': ['deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-murano.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6639de7b8fb98f782b9475cadd3d744db26c645c', 'message': '[Puppet OpenStack] Fix some bugs in the last train release\n\nThe previous release commit set the wrong has about puppet-nova and\nreleased 15.8.0 based on the exactly same hash as 15.7.0. Also,\npuppet-murano had 15.4.1 in its metadata.json while released version\nwas 15.5.0.\n\nChange-Id: I849c42a92c4ccd9b10c3693e38f845b5aea00237\n'}]",2,796770,6639de7b8fb98f782b9475cadd3d744db26c645c,18,5,2,9816,,,0,"[Puppet OpenStack] Fix some bugs in the last train release

The previous release commit set the wrong has about puppet-nova and
released 15.8.0 based on the exactly same hash as 15.7.0. Also,
puppet-murano had 15.4.1 in its metadata.json while released version
was 15.5.0.

Change-Id: I849c42a92c4ccd9b10c3693e38f845b5aea00237
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/796770/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-murano.yaml']",2,9f2b0ad10b13cca8a056878f7195e5b13f99e241,puppet-nova-train, - version: 15.5.1 projects: - repo: openstack/puppet-murano hash: 6f29cf4e77d96fba764493903da8f3d01937d4ea,,8,0
openstack%2Fpython-openstackclient~master~I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0,openstack/python-openstackclient,master,I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:07:56.000000000,2021-06-21 13:58:40.000000000,2021-06-21 13:56:44.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-17 17:07:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/98979cfc7f27e323e576af58b5b5d9c0594a8a70', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0\n'}]",0,796915,98979cfc7f27e323e576af58b5b5d9c0594a8a70,12,5,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/15/796915/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,98979cfc7f27e323e576af58b5b5d9c0594a8a70,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id3b2afee89be1fdf3008cfd53906766d94c00549,openstack/tripleo-heat-templates,stable/ussuri,Id3b2afee89be1fdf3008cfd53906766d94c00549,Bump ovs and ovn versions to 2.15 for FFWD.,MERGED,2021-06-11 15:20:46.000000000,2021-06-21 13:45:28.000000000,2021-06-21 13:45:28.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 15:20:46.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a81309da123aedfb48804d6a3ea4b3ec7dc0504', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\n(cherry picked from commit bb1a8557529d37088e51bfd349d1cc6671cdc153)\nResolves: rhbz#1966476\nChange-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549\n'}]",0,795889,1a81309da123aedfb48804d6a3ea4b3ec7dc0504,24,4,1,26343,,,0,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

(cherry picked from commit bb1a8557529d37088e51bfd349d1cc6671cdc153)
Resolves: rhbz#1966476
Change-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/795889/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,1a81309da123aedfb48804d6a3ea4b3ec7dc0504,," UpgradeLeappToInstall: ['openvswitch2.15','ovn2.15']"," UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']",1,1
openstack%2Fcinder~stable%2Ftrain~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/train,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-21 08:37:59.000000000,2021-06-21 13:41:16.000000000,2021-06-21 12:37:24.000000000,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-21 08:37:59.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/80ab7cb90b58cdb9da95fef36ed39f510e8acd7a', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)\n(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)\n(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)\n(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)\n'}]",0,797210,80ab7cb90b58cdb9da95fef36ed39f510e8acd7a,15,4,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/797210/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,80ab7cb90b58cdb9da95fef36ed39f510e8acd7a,unity-fix-typo,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fopenstacksdk~feature%2Fr1~I19c4b76258eb22897b3ae5d9573b01ea4ce8022b,openstack/openstacksdk,feature/r1,I19c4b76258eb22897b3ae5d9573b01ea4ce8022b,Stop sending tenant_id to Neutron,MERGED,2021-05-07 13:36:41.000000000,2021-06-21 13:39:32.000000000,2021-06-21 13:35:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-07 13:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3ce74551a80a978bc97887b447dae13775598e60', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 2, 'created': '2021-05-07 13:37:34.000000000', 'files': ['openstack/tests/unit/network/v2/test_auto_allocated_topology.py', 'openstack/network/v2/pool_member.py', 'openstack/network/v2/port.py', 'openstack/tests/unit/network/v2/test_subnet.py', 'openstack/network/v2/security_group_rule.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/address_group.py', 'openstack/network/v2/health_monitor.py', 'openstack/tests/unit/network/v2/test_health_monitor.py', 'releasenotes/notes/stop-using-tenant-id-42eb35139ba9eeff.yaml', 'openstack/network/v2/network_ip_availability.py', 'openstack/network/v2/security_group.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/tests/unit/network/v2/test_security_group.py', 'openstack/network/v2/subnet.py', 'openstack/network/v2/metering_label_rule.py', 'openstack/tests/unit/network/v2/test_qos_policy.py', 'openstack/tests/unit/network/v2/test_pool.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'openstack/network/v2/pool.py', 'openstack/tests/unit/network/v2/test_pool_member.py', 'openstack/tests/unit/network/v2/test_metering_label.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/unit/network/v2/test_service_profile.py', 'openstack/tests/unit/network/v2/test_router.py', 'openstack/tests/unit/network/v2/test_network_ip_availability.py', 'openstack/network/v2/quota.py', 'openstack/network/v2/service_profile.py', 'openstack/tests/unit/network/v2/test_quota.py', 'openstack/network/v2/rbac_policy.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/tests/unit/network/v2/test_security_group_rule.py', 'openstack/tests/unit/network/v2/test_load_balancer.py', 'openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_vpn_service.py', 'openstack/tests/unit/network/v2/test_address_group.py', 'openstack/tests/unit/network/v2/test_network.py', 'openstack/tests/unit/network/v2/test_subnet_pool.py', 'openstack/tests/unit/network/v2/test_metering_label_rule.py', 'openstack/tests/unit/network/v2/test_rbac_policy.py', 'openstack/network/v2/vpn_service.py', 'openstack/network/v2/address_scope.py', 'openstack/network/v2/trunk.py', 'openstack/network/v2/network.py', 'openstack/network/v2/metering_label.py', 'openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/auto_allocated_topology.py', 'openstack/network/v2/qos_policy.py', 'openstack/network/v2/load_balancer.py', 'openstack/tests/unit/network/v2/test_address_scope.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/70a06d99908c9a56cb28715c62e8ebe6f076a87d', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}]",0,790257,70a06d99908c9a56cb28715c62e8ebe6f076a87d,9,2,2,27900,,,0,"Stop sending tenant_id to Neutron

For a long time we are supporting both tenant_id and project_id for most
of the networking resources. tenant_id is deprecated since long time
already and we should stop sending it ourselves to Neutron, while
leaving it as attribute where it was present.

Change-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/57/790257/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_auto_allocated_topology.py', 'openstack/network/v2/pool_member.py', 'openstack/network/v2/port.py', 'openstack/tests/unit/network/v2/test_subnet.py', 'openstack/network/v2/security_group_rule.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/address_group.py', 'openstack/network/v2/health_monitor.py', 'openstack/tests/unit/network/v2/test_health_monitor.py', 'releasenotes/notes/stop-using-tenant-id-42eb35139ba9eeff.yaml', 'openstack/network/v2/network_ip_availability.py', 'openstack/network/v2/security_group.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/tests/unit/network/v2/test_security_group.py', 'openstack/network/v2/subnet.py', 'openstack/network/v2/metering_label_rule.py', 'openstack/tests/unit/network/v2/test_qos_policy.py', 'openstack/tests/unit/network/v2/test_pool.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'openstack/network/v2/pool.py', 'openstack/tests/unit/network/v2/test_pool_member.py', 'openstack/tests/unit/network/v2/test_metering_label.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/unit/network/v2/test_service_profile.py', 'openstack/tests/unit/network/v2/test_router.py', 'openstack/tests/unit/network/v2/test_network_ip_availability.py', 'openstack/network/v2/quota.py', 'openstack/network/v2/service_profile.py', 'openstack/tests/unit/network/v2/test_quota.py', 'openstack/network/v2/rbac_policy.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/tests/unit/network/v2/test_security_group_rule.py', 'openstack/tests/unit/network/v2/test_load_balancer.py', 'openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_vpn_service.py', 'openstack/tests/unit/network/v2/test_address_group.py', 'openstack/tests/unit/network/v2/test_network.py', 'openstack/tests/unit/network/v2/test_subnet_pool.py', 'openstack/tests/unit/network/v2/test_metering_label_rule.py', 'openstack/tests/unit/network/v2/test_rbac_policy.py', 'openstack/network/v2/vpn_service.py', 'openstack/network/v2/address_scope.py', 'openstack/network/v2/trunk.py', 'openstack/network/v2/network.py', 'openstack/network/v2/metering_label.py', 'openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/auto_allocated_topology.py', 'openstack/network/v2/qos_policy.py', 'openstack/network/v2/load_balancer.py', 'openstack/tests/unit/network/v2/test_address_scope.py', 'openstack/cloud/_network.py']",51,3ce74551a80a978bc97887b447dae13775598e60,sdk_cloud_network, router['project_id'] = project_id, router['tenant_id'] = project_id,169,113
openstack%2Freleases~master~I8476688ca820543eb8ad508b52d441b7f7901c54,openstack/releases,master,I8476688ca820543eb8ad508b52d441b7f7901c54,[oslo] Transition Ocata to End of Life,MERGED,2021-06-09 19:09:48.000000000,2021-06-21 13:37:51.000000000,2021-06-21 13:37:51.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:09:48.000000000', 'files': ['deliverables/ocata/oslo.config.yaml', 'deliverables/ocata/oslotest.yaml', 'deliverables/ocata/oslo.policy.yaml', 'deliverables/ocata/mox3.yaml', 'deliverables/ocata/oslo.middleware.yaml', 'deliverables/ocata/oslo.service.yaml', 'deliverables/ocata/futurist.yaml', 'deliverables/ocata/oslo.privsep.yaml', 'deliverables/ocata/automaton.yaml', 'deliverables/ocata/oslo.db.yaml', 'deliverables/ocata/osprofiler.yaml', 'deliverables/ocata/debtcollector.yaml', 'deliverables/ocata/oslo.reports.yaml', 'deliverables/ocata/oslo.vmware.yaml', 'deliverables/ocata/oslosphinx.yaml', 'deliverables/ocata/oslo.cache.yaml', 'deliverables/ocata/oslo.i18n.yaml', 'deliverables/ocata/tooz.yaml', 'deliverables/ocata/oslo.context.yaml', 'deliverables/ocata/oslo.serialization.yaml', 'deliverables/ocata/oslo.concurrency.yaml', 'deliverables/ocata/oslo.versionedobjects.yaml', 'deliverables/ocata/oslo.messaging.yaml', 'deliverables/ocata/oslo.utils.yaml', 'deliverables/ocata/oslo.log.yaml', 'deliverables/ocata/stevedore.yaml', 'deliverables/ocata/oslo.rootwrap.yaml', 'deliverables/ocata/taskflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0e3f81791e226c9c04c3a6bf16cbcf7f5d734dc1', 'message': ""[oslo] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I8476688ca820543eb8ad508b52d441b7f7901c54\n""}]",0,795668,0e3f81791e226c9c04c3a6bf16cbcf7f5d734dc1,7,3,1,17685,,,0,"[oslo] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I8476688ca820543eb8ad508b52d441b7f7901c54
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/795668/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/oslo.config.yaml', 'deliverables/ocata/oslotest.yaml', 'deliverables/ocata/oslo.policy.yaml', 'deliverables/ocata/mox3.yaml', 'deliverables/ocata/oslo.middleware.yaml', 'deliverables/ocata/oslo.service.yaml', 'deliverables/ocata/futurist.yaml', 'deliverables/ocata/oslo.privsep.yaml', 'deliverables/ocata/automaton.yaml', 'deliverables/ocata/oslo.db.yaml', 'deliverables/ocata/osprofiler.yaml', 'deliverables/ocata/debtcollector.yaml', 'deliverables/ocata/oslo.reports.yaml', 'deliverables/ocata/oslo.vmware.yaml', 'deliverables/ocata/oslosphinx.yaml', 'deliverables/ocata/oslo.cache.yaml', 'deliverables/ocata/oslo.i18n.yaml', 'deliverables/ocata/tooz.yaml', 'deliverables/ocata/oslo.context.yaml', 'deliverables/ocata/oslo.serialization.yaml', 'deliverables/ocata/oslo.concurrency.yaml', 'deliverables/ocata/oslo.versionedobjects.yaml', 'deliverables/ocata/oslo.messaging.yaml', 'deliverables/ocata/oslo.utils.yaml', 'deliverables/ocata/oslo.log.yaml', 'deliverables/ocata/stevedore.yaml', 'deliverables/ocata/oslo.rootwrap.yaml', 'deliverables/ocata/taskflow.yaml']",28,0e3f81791e226c9c04c3a6bf16cbcf7f5d734dc1,ocata-eol, - version: ocata-eol projects: - repo: openstack/taskflow hash: 06770dd0b3960fdab5a0dbefc0b8869c345c0204,,112,0
openstack%2Fopenstacksdk~feature%2Fr1~I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a,openstack/openstacksdk,feature/r1,I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a,Add cleanup function for DNS resource,MERGED,2021-06-08 08:42:02.000000000,2021-06-21 13:37:03.000000000,2021-06-21 13:35:00.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-08 08:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ea51f09115ff320a3d8c6f8652e90a5692dd4e54', 'message': 'Add cleanup function for DNS resource\n\nExtended the _service_cleanup method of proxy DNS to cleanup DNS zones and FloatingIPs.\nAdded a separate method unset_floating_ip which calls upate_floating_ip with attrs.\nExtended the unit test class TestDnsFloatIP() with the new method.\n\nChange-Id: I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a\n'}, {'number': 2, 'created': '2021-06-08 09:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7b9c7c197b1371ecdfb4f63f091187e3690da174', 'message': 'Add cleanup function for DNS resource\n\nExtended the _service_cleanup method of proxy DNS to cleanup DNS zones and FloatingIPs.\nAdded a separate method unset_floating_ip which calls upate_floating_ip with attrs.\nExtended the unit test class TestDnsFloatIP() with the new method.\n\nChange-Id: I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a\n'}, {'number': 3, 'created': '2021-06-08 10:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a44f5043951f848e1825ca001b4d4190a2ef0cac', 'message': 'Add cleanup function for DNS resource\n\nExtended the _service_cleanup method of proxy DNS to cleanup DNS zones and FloatingIPs.\nAdded a separate method unset_floating_ip which calls upate_floating_ip with attrs.\nExtended the unit test class TestDnsFloatIP() with the new method.\n\nChange-Id: I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a\n'}, {'number': 4, 'created': '2021-06-08 12:49:52.000000000', 'files': ['openstack/dns/v2/_proxy.py', 'openstack/tests/unit/dns/v2/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d6c51c5335da758c636062dbf552ae916eabb947', 'message': 'Add cleanup function for DNS resource\n\nExtended the _service_cleanup method of proxy DNS to cleanup DNS zones and FloatingIPs.\nAdded a separate method unset_floating_ip which calls upate_floating_ip with attrs.\nExtended the unit test class TestDnsFloatIP() with the new method.\n\nChange-Id: I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a\n'}]",10,795257,d6c51c5335da758c636062dbf552ae916eabb947,20,2,4,32671,,,0,"Add cleanup function for DNS resource

Extended the _service_cleanup method of proxy DNS to cleanup DNS zones and FloatingIPs.
Added a separate method unset_floating_ip which calls upate_floating_ip with attrs.
Extended the unit test class TestDnsFloatIP() with the new method.

Change-Id: I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/57/795257/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/dns/v2/_proxy.py', 'openstack/tests/unit/dns/v2/test_proxy.py']",2,ea51f09115ff320a3d8c6f8652e90a5692dd4e54,," def test_floating_ip_unset(self): self._verify( 'openstack.proxy.Proxy._update', self.proxy.unset_floating_ip, method_args=['value'], method_kwargs={}, expected_args=[floating_ip.FloatingIP, 'value'], expected_kwargs={'ptrdname': None}) ",,41,1
openstack%2Fopenstacksdk~feature%2Fr1~I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7,openstack/openstacksdk,feature/r1,I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7,Switch networking function in cloud layer to proxy,MERGED,2021-05-07 13:36:13.000000000,2021-06-21 13:35:22.000000000,2021-06-21 13:35:22.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-07 13:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e5731107dee711521e0eb130077c4b042ff1f19c', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 2, 'created': '2021-05-07 13:37:22.000000000', 'files': ['openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_quotas.py', 'openstack/cloud/_network_common.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'openstack/tests/functional/cloud/test_router.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_normalize.py', 'releasenotes/notes/use-proxy-layer-dfc3764d52bc1f2a.yaml', 'openstack/tests/functional/cloud/test_quotas.py', 'openstack/tests/unit/cloud/test_port.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/cloud/_floating_ip.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6db391f674077970b113006e52eeac103b6c1dea', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}]",0,790256,6db391f674077970b113006e52eeac103b6c1dea,11,2,2,27900,,,0,"Switch networking function in cloud layer to proxy

We need to complete rework of our cloud layer to rely on proxy layer
instead of reimplementing direct API calls. This time networking
functions are touched.

Change-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/790256/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_quotas.py', 'openstack/cloud/_network_common.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'openstack/tests/functional/cloud/test_router.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_normalize.py', 'releasenotes/notes/use-proxy-layer-dfc3764d52bc1f2a.yaml', 'openstack/tests/functional/cloud/test_quotas.py', 'openstack/tests/unit/cloud/test_port.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/cloud/_floating_ip.py', 'openstack/cloud/_network.py']",17,e5731107dee711521e0eb130077c4b042ff1f19c,sdk_cloud_network," query = {} if name_or_id: query['name'] = name_or_id if filters: query.update(filters) return list(self.network.networks(**query)) query = {} if name_or_id: query['name'] = name_or_id if filters: query.update(filters) return list(self.network.routers(**query)) query = {} if name_or_id: query['name'] = name_or_id if filters: query.update(filters) return list(self.network.subnets(**query)) return list(self.network.networks(**filters)) return list(self.network.routers(**filters)) return list(self.network.subnets(**filters)) if not filters: filters = {} return list(self.network.ports(**filters)) if not filters: filters = {} return self.network.find_network( name_or_id=name_or_id, ignore_missing=True, **filters) return self.network.get_network(id) if not filters: filters = {} return self.network.find_router( name_or_id=name_or_id, ignore_missing=True, **filters) if not filters: filters = {} return self.network.find_subnet( name_or_id=name_or_id, ignore_missing=True, **filters) return self.network.get_subnet(id) if not filters: filters = {} return self.network.find_port( name_or_id=name_or_id, ignore_missing=True, **filters) return self.network.get_port(id) network['project_id'] = project_id network = self.network.create_network(**network) return network network = self.network.update_network(network, **kwargs) return network self.network.delete_network(network) self.network.update_quota(proj, **kwargs) return self.network.get_quota(proj, details) self.network.delete_quota(proj) return self.network.find_firewall_rule( name_or_id, ignore_missing=True, **filters) return self.network.find_firewall_policy( name_or_id, ignore_missing=True, **filters) return self.network.find_firewall_group( name_or_id, ignore_missing=True, **filters) return self.network.add_interface_to_router( router=router, subnet_id=subnet_id, port_id=port_id ) if not subnet_id and not port_id: self.network.remove_interface_from_router( router=router, subnet_id=subnet_id, port_id=port_id ) return self.network.create_router(**router) return self.network.update_router(curr_router, **router) router = self.network.find_router(name_or_id, ignore_missing=True) self.network.delete_router(router) return self.network.create_subnet(**subnet) subnet = self.network.find_subnet(name_or_id, ignore_missing=True) self.network.delete_subnet(subnet) return self.network.update_subnet(curr_subnet, **subnet) return self.network.create_port(**kwargs) return self.network.update_port(port, **kwargs) port = self.network.find_port(name_or_id) self.network.delete_port(port) ","from openstack import proxy networks = self.list_networks( filters if isinstance(filters, dict) else None) return _utils._filter_list(networks, name_or_id, filters) routers = self.list_routers( filters if isinstance(filters, dict) else None) return _utils._filter_list(routers, name_or_id, filters) subnets = self.list_subnets( filters if isinstance(filters, dict) else None) return _utils._filter_list(subnets, name_or_id, filters) data = self.network.get(""/networks"", params=filters) return self._get_and_munchify('networks', data) resp = self.network.get(""/routers"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching router list"") return self._get_and_munchify('routers', data) data = self.network.get(""/subnets"", params=filters) return self._get_and_munchify('subnets', data) resp = self.network.get(""/ports"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching port list"") return self._get_and_munchify('ports', data) return _utils._get_entity(self, 'network', name_or_id, filters) resp = self.network.get('/networks/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting network with ID {id}"".format(id=id) ) network = self._get_and_munchify('network', data) return network return _utils._get_entity(self, 'router', name_or_id, filters) return _utils._get_entity(self, 'subnet', name_or_id, filters) resp = self.network.get('/subnets/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting subnet with ID {id}"".format(id=id) ) subnet = self._get_and_munchify('subnet', data) return subnet return _utils._get_entity(self, 'port', name_or_id, filters) resp = self.network.get('/ports/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting port with ID {id}"".format(id=id) ) port = self._get_and_munchify('port', data) return port network['tenant_id'] = project_id data = self.network.post(""/networks"", json={'network': network}) return self._get_and_munchify('network', data) data = proxy._json_response(self.network.put( ""/networks/{net_id}"".format(net_id=network.id), json={""network"": kwargs}), error_message=""Error updating network {0}"".format(name_or_id)) return self._get_and_munchify('network', data) exceptions.raise_from_response(self.network.delete( ""/networks/{network_id}"".format(network_id=network['id']))) exceptions.raise_from_response( self.network.put( '/quotas/{project_id}'.format(project_id=proj.id), json={'quota': kwargs}), error_message=(""Error setting Neutron's quota for "" ""project {0}"".format(proj.id))) url = '/quotas/{project_id}'.format(project_id=proj.id) if details: url = url + ""/details"" data = proxy._json_response( self.network.get(url), error_message=(""Error fetching Neutron's quota for "" ""project {0}"".format(proj.id))) return self._get_and_munchify('quota', data) exceptions.raise_from_response( self.network.delete( '/quotas/{project_id}'.format(project_id=proj.id)), error_message=(""Error deleting Neutron's quota for "" ""project {0}"".format(proj.id))) return self.network.find_firewall_rule(name_or_id, **filters) return self.network.find_firewall_policy(name_or_id, **filters) return self.network.find_firewall_group(name_or_id, **filters) json_body = {} if subnet_id: json_body['subnet_id'] = subnet_id if port_id: json_body['port_id'] = port_id return proxy._json_response( self.network.put( ""/routers/{router_id}/add_router_interface"".format( router_id=router['id']), json=json_body), error_message=""Error attaching interface to router {0}"".format( router['id'])) json_body = {} if subnet_id: json_body['subnet_id'] = subnet_id if port_id: json_body['port_id'] = port_id if not json_body: exceptions.raise_from_response( self.network.put( ""/routers/{router_id}/remove_router_interface"".format( router_id=router['id']), json=json_body), error_message=""Error detaching interface from router {0}"".format( router['id'])) data = proxy._json_response( self.network.post(""/routers"", json={""router"": router}), error_message=""Error creating router {0}"".format(name)) return self._get_and_munchify('router', data) resp = self.network.put( ""/routers/{router_id}"".format(router_id=curr_router['id']), json={""router"": router}) data = proxy._json_response( resp, error_message=""Error updating router {0}"".format(name_or_id)) return self._get_and_munchify('router', data) router = self.get_router(name_or_id) exceptions.raise_from_response(self.network.delete( ""/routers/{router_id}"".format(router_id=router['id']), error_message=""Error deleting router {0}"".format(name_or_id))) response = self.network.post(""/subnets"", json={""subnet"": subnet}) return self._get_and_munchify('subnet', response) subnet = self.get_subnet(name_or_id) exceptions.raise_from_response(self.network.delete( ""/subnets/{subnet_id}"".format(subnet_id=subnet['id']))) response = self.network.put( ""/subnets/{subnet_id}"".format(subnet_id=curr_subnet['id']), json={""subnet"": subnet}) return self._get_and_munchify('subnet', response) data = proxy._json_response( self.network.post(""/ports"", json={'port': kwargs}), error_message=""Error creating port for network {0}"".format( network_id)) return self._get_and_munchify('port', data) data = proxy._json_response( self.network.put( ""/ports/{port_id}"".format(port_id=port['id']), json={""port"": kwargs}), error_message=""Error updating port {0}"".format(name_or_id)) return self._get_and_munchify('port', data) port = self.get_port(name_or_id=name_or_id) exceptions.raise_from_response( self.network.delete( ""/ports/{port_id}"".format(port_id=port['id'])), error_message=""Error deleting port {0}"".format(name_or_id))",540,347
openstack%2Fopenstacksdk~feature%2Fr1~I981892aaba8d3f476a5d1ad71d22ab82b8798975,openstack/openstacksdk,feature/r1,I981892aaba8d3f476a5d1ad71d22ab82b8798975,Add access to the resource attribute by server-side name,MERGED,2021-05-07 13:35:44.000000000,2021-06-21 13:35:18.000000000,2021-06-21 13:35:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-07 13:35:44.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/03b2b3b00e42ae6d3e959e93d6ce301e06adc163', 'message': 'Add access to the resource attribute by server-side name\n\nIn order to keep backward compatibility while we are switching more and\nmore things to the proxy layer add possibility to get attribute (in dict\nstyle only) by server-side attribute name. While we do this inform user\nnot to use this anymore.\n\nChange-Id: I981892aaba8d3f476a5d1ad71d22ab82b8798975\n'}]",0,790175,03b2b3b00e42ae6d3e959e93d6ce301e06adc163,6,2,1,27900,,,0,"Add access to the resource attribute by server-side name

In order to keep backward compatibility while we are switching more and
more things to the proxy layer add possibility to get attribute (in dict
style only) by server-side attribute name. While we do this inform user
not to use this anymore.

Change-Id: I981892aaba8d3f476a5d1ad71d22ab82b8798975
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/790175/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,03b2b3b00e42ae6d3e959e93d6ce301e06adc163,,"import warnings if not real_item: # In order to maintain backwards compatibility where we were # returning Munch (and server side names) and Resource object with # normalized attributes we can offer dict access via server side # names. for attr, component in self._attributes_iterator(tuple([Body])): if component.name == name: warnings.warn( 'Access to ""%s[%s]"" is deprecated. ' 'Please access using ""%s.%s"" attribute.' % (self.__class__, name, self.__class__, attr), DeprecationWarning) return getattr(self, attr)",,24,0
openstack%2Fpython-openstackclient~master~Id7ca925e0ada03e259f0ecaf3e02af11c900641e,openstack/python-openstackclient,master,Id7ca925e0ada03e259f0ecaf3e02af11c900641e,volume: Add more missing 'volume backup *' options,MERGED,2021-06-10 14:59:04.000000000,2021-06-21 13:21:58.000000000,2021-06-21 13:20:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-10 14:59:04.000000000', 'files': ['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'setup.cfg', 'releasenotes/notes/add-missing-volume-backup-opts-b9246aded87427ce.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7f66dfe0e3e8720e847211494c185d7d4983ba5b', 'message': ""volume: Add more missing 'volume backup *' options\n\nAdd an additional '--no-property' option to the 'volume backup set'\ncommand, along with a brand spanking new 'volume backup unset' command.\n\nChange-Id: Id7ca925e0ada03e259f0ecaf3e02af11c900641e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,795828,7f66dfe0e3e8720e847211494c185d7d4983ba5b,7,2,1,15334,,,0,"volume: Add more missing 'volume backup *' options

Add an additional '--no-property' option to the 'volume backup set'
command, along with a brand spanking new 'volume backup unset' command.

Change-Id: Id7ca925e0ada03e259f0ecaf3e02af11c900641e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/28/795828/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'setup.cfg', 'releasenotes/notes/add-missing-volume-backup-opts-b9246aded87427ce.yaml']",5,7f66dfe0e3e8720e847211494c185d7d4983ba5b,cinder-gaps, Add ``--property`` and ``--no-property`` options to the ``volume backup set`` command to set a metadata property or remove all metadata properties from an existing backup. - | Add new ``volume backup unset`` command to allow unsetting of properties from an existing volume backup., Add ``--property`` option the ``volume backup set`` command to set a metadata property on an existing backup.,251,5
openstack%2Fkuryr-kubernetes~master~I2ee06734ece04c2707f2ac95060bd451f0725089,openstack/kuryr-kubernetes,master,I2ee06734ece04c2707f2ac95060bd451f0725089,Increase keystoneauth's connection pool size,MERGED,2021-06-18 13:09:05.000000000,2021-06-21 13:17:18.000000000,2021-06-21 13:15:44.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-18 13:09:05.000000000', 'files': ['kuryr_kubernetes/clients.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7a6fb928655b7b5468d07b2be687fba70aea6a3b', 'message': ""Increase keystoneauth's connection pool size\n\nWith Kuryr running up to 1000 greenthreads, the default urllib3 pool\nsize of 10 is way too little. This commit increases it on the\nkeystoneauth side, effectively setting it for the openstacksdk\nconnections.\n\nChange-Id: I2ee06734ece04c2707f2ac95060bd451f0725089\n""}]",0,797080,7a6fb928655b7b5468d07b2be687fba70aea6a3b,9,4,1,11600,,,0,"Increase keystoneauth's connection pool size

With Kuryr running up to 1000 greenthreads, the default urllib3 pool
size of 10 is way too little. This commit increases it on the
keystoneauth side, effectively setting it for the openstacksdk
connections.

Change-Id: I2ee06734ece04c2707f2ac95060bd451f0725089
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/80/797080/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/clients.py'],1,7a6fb928655b7b5468d07b2be687fba70aea6a3b,fix-pool-warnings,"from keystoneauth1 import session as k_session # NOTE(mdulko): To get rid of warnings about connection pool being full # we need to ""tweak"" the keystoneauth's adapters increasing # the maximum pool size. for scheme in list(session.session.adapters): session.session.mount(scheme, k_session.TCPKeepAliveAdapter( pool_maxsize=1000)) ",,9,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I67e9c892a945d04eff59427a0161aafceb136560,openstack/kolla-ansible,stable/wallaby,I67e9c892a945d04eff59427a0161aafceb136560,tox: Add find command to allowlist_externals list,MERGED,2021-06-21 09:35:50.000000000,2021-06-21 13:16:16.000000000,2021-06-21 13:14:46.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 09:35:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf58c04605b2529ac3dee007dc1aefac5e1e6643', 'message': 'tox: Add find command to allowlist_externals list\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n\nChange-Id: I67e9c892a945d04eff59427a0161aafceb136560\n(cherry picked from commit 13965f40c740d8bee696b3f847190d75a19b062c)\n'}]",0,797260,cf58c04605b2529ac3dee007dc1aefac5e1e6643,7,3,1,14826,,,0,"tox: Add find command to allowlist_externals list

whitelist_externals is deprecated now, use allowlist_externals
instead. see[0]
Add find command to allowlist_externals list to fix a warning.[1]

[0]: https://tox.readthedocs.io/en/latest/config.html
[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945

Change-Id: I67e9c892a945d04eff59427a0161aafceb136560
(cherry picked from commit 13965f40c740d8bee696b3f847190d75a19b062c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/797260/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cf58c04605b2529ac3dee007dc1aefac5e1e6643,,minversion = 3.18allowlist_externals = findallowlist_externals = makeallowlist_externals = bash find,minversion = 3.1whitelist_externals = findwhitelist_externals = makewhitelist_externals = bash,5,4
openstack%2Fpython-openstackclient~master~Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c,openstack/python-openstackclient,master,Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c,volume: Add 'volume group snapshot *' commands,MERGED,2021-06-03 17:01:39.000000000,2021-06-21 13:13:42.000000000,2021-06-21 13:09:41.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-03 17:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3991923e17c4d07d3358ab1e9b029ca3c4dce158', 'message': 'volume: Add \'volume group snapshot *\' commands\n\nThese mirror the \'cinder group-snapshot-*\' commands, with arguments\ncopied across essentially verbatim. The only significant departure is\nthe replacement of ""tenant"" terminology with ""project"".\n\n  volume group snapshot create\n  volume group snapshot delete\n  volume group snapshot list\n  volume group snapshot show\n\nChange-Id: Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-06-10 14:59:04.000000000', 'files': ['openstackclient/tests/unit/volume/v3/test_volume_group_snapshot.py', 'doc/source/cli/commands.rst', 'openstackclient/volume/v3/volume_group_snapshot.py', 'doc/source/cli/data/cinder.csv', 'doc/source/cli/command-objects/volume-group-snapshot.rst', 'releasenotes/notes/add-volume-group-snapshot-commands-27fa8920d55f6bdb.yaml', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/34de2d3352aaef5c1bb86a5441cc8781e03b5587', 'message': 'volume: Add \'volume group snapshot *\' commands\n\nThese mirror the \'cinder group-snapshot-*\' commands, with arguments\ncopied across essentially verbatim. The only significant departure is\nthe replacement of ""tenant"" terminology with ""project"".\n\n  volume group snapshot create\n  volume group snapshot delete\n  volume group snapshot list\n  volume group snapshot show\n\nChange-Id: Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,794644,34de2d3352aaef5c1bb86a5441cc8781e03b5587,9,2,2,15334,,,0,"volume: Add 'volume group snapshot *' commands

These mirror the 'cinder group-snapshot-*' commands, with arguments
copied across essentially verbatim. The only significant departure is
the replacement of ""tenant"" terminology with ""project"".

  volume group snapshot create
  volume group snapshot delete
  volume group snapshot list
  volume group snapshot show

Change-Id: Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/44/794644/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v3/test_volume_group_snapshot.py', 'doc/source/cli/commands.rst', 'openstackclient/volume/v3/volume_group_snapshot.py', 'doc/source/cli/data/cinder.csv', 'doc/source/cli/command-objects/volume-group-snapshot.rst', 'releasenotes/notes/add-volume-group-snapshot-commands-27fa8920d55f6bdb.yaml', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py']",8,3991923e17c4d07d3358ab1e9b029ca3c4dce158,cinder-gaps," self.group_snapshots = mock.Mock() self.group_snapshots.resource_class = fakes.FakeResource(None, {})class FakeVolumeGroupSnapshot: """"""Fake one or more volume group snapshots."""""" @staticmethod def create_one_volume_group_snapshot(attrs=None, methods=None): """"""Create a fake group snapshot. :param attrs: A dictionary with all attributes :param methods: A dictionary with all methods :return: A FakeResource object with id, name, description, etc. """""" attrs = attrs or {} # Set default attribute group_snapshot_info = { 'id': uuid.uuid4().hex, 'name': f'group-snapshot-{uuid.uuid4().hex}', 'description': f'description-{uuid.uuid4().hex}', 'status': random.choice(['available']), 'group_id': uuid.uuid4().hex, 'group_type_id': uuid.uuid4().hex, 'project_id': uuid.uuid4().hex, } # Overwrite default attributes if there are some attributes set group_snapshot_info.update(attrs) group_snapshot = fakes.FakeResource( None, group_snapshot_info, methods=methods, loaded=True) return group_snapshot @staticmethod def create_volume_group_snapshots(attrs=None, count=2): """"""Create multiple fake group snapshots. :param attrs: A dictionary with all attributes of group snapshot :param count: The number of group snapshots to be faked :return: A list of FakeResource objects """""" group_snapshots = [] for n in range(0, count): group_snapshots.append( FakeVolumeGroupSnapshot.create_one_volume_group_snapshot(attrs) ) return group_snapshots ",,573,4
openstack%2Fpython-openstackclient~master~Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f,openstack/python-openstackclient,master,Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f,volume: Add 'volume group type *' commands,MERGED,2021-06-03 17:01:39.000000000,2021-06-21 13:11:49.000000000,2021-06-21 13:09:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-03 17:01:39.000000000', 'files': ['releasenotes/notes/add-volume-group-type-commands-13eabc7664a5c2bc.yaml', 'openstackclient/volume/v3/volume_group_type.py', 'openstackclient/tests/unit/volume/v3/test_volume_group_type.py', 'doc/source/cli/commands.rst', 'doc/source/cli/command-objects/volume-group-type.rst', 'doc/source/cli/data/cinder.csv', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/83551d2a0c7604179c0988c13d58455a6b289cc8', 'message': ""volume: Add 'volume group type *' commands\n\nThese mirror the 'cinder group-type-*' commands, with arguments copied\nacross essentially verbatim. The only significant departure is the\nmerging of some commands, such as 'group-type-default' and\n'group-type-list' into 'group type list', and 'group-type-update' and\n'group-type-key' into 'group type set/unset'.\n\n  volume group type create\n  volume group type delete\n  volume group type list\n  volume group type show\n  volume group type set\n  volume group type unset\n\nChange-Id: Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,794643,83551d2a0c7604179c0988c13d58455a6b289cc8,9,2,1,15334,,,0,"volume: Add 'volume group type *' commands

These mirror the 'cinder group-type-*' commands, with arguments copied
across essentially verbatim. The only significant departure is the
merging of some commands, such as 'group-type-default' and
'group-type-list' into 'group type list', and 'group-type-update' and
'group-type-key' into 'group type set/unset'.

  volume group type create
  volume group type delete
  volume group type list
  volume group type show
  volume group type set
  volume group type unset

Change-Id: Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/43/794643/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-volume-group-type-commands-13eabc7664a5c2bc.yaml', 'openstackclient/volume/v3/volume_group_type.py', 'openstackclient/tests/unit/volume/v3/test_volume_group_type.py', 'doc/source/cli/commands.rst', 'doc/source/cli/command-objects/volume-group-type.rst', 'doc/source/cli/data/cinder.csv', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py']",8,83551d2a0c7604179c0988c13d58455a6b289cc8,cinder-gaps," def create_one_volume_group_type(attrs=None, methods=None): :param methods: A dictionary with all methods methods=methods,", def create_one_volume_group_type(attrs=None):,919,9
openstack%2Fcharm-rabbitmq-server~master~Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c,openstack/charm-rabbitmq-server,master,Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c,If rabbit cluster is partioned show that in status,MERGED,2021-06-17 13:38:03.000000000,2021-06-21 13:08:33.000000000,2021-06-21 13:08:33.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-17 13:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/72b7bf1ff9895830dd2eecae4b3302b07f19b6d5', 'message': 'If rabbit cluster is partioned show that in status\n\nIf rabbit cluster is partioned show that in status. This check\nonly works on focal+, prior to that the check is ignored.\n\nChange-Id: Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c\nCloses-Bug: 1930417\n'}, {'number': 2, 'created': '2021-06-21 08:47:13.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fbf3bda59a7fdf2f9bd56f220bb5798210bb8b72', 'message': 'If rabbit cluster is partioned show that in status\n\nIf rabbit cluster is partioned show that in status. This check\nonly works on focal+, prior to that the check is ignored.\n\nChange-Id: Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c\nCloses-Bug: 1930417\n'}]",2,796843,fbf3bda59a7fdf2f9bd56f220bb5798210bb8b72,14,4,2,12549,,,0,"If rabbit cluster is partioned show that in status

If rabbit cluster is partioned show that in status. This check
only works on focal+, prior to that the check is ignored.

Change-Id: Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c
Closes-Bug: 1930417
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/43/796843/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbit_utils.py', 'hooks/rabbit_utils.py']",2,72b7bf1ff9895830dd2eecae4b3302b07f19b6d5,bug/1930417,"def get_cluster_status(cmd_timeout=None): """"""Raturn rabbit cluster status :param cmd_timeout: How long to give the command to complete. :type cmd_timeout: int :returns: Rabbitmq cluster status :rtype: dict :raises: NotImplementedError, subprocess.TimeoutExpired, """""" if caching_cmp_pkgrevno('rabbitmq-server', '3.8.2') >= 0: cmd = [RABBITMQ_CTL, 'cluster_status', '--formatter=json'] if cmd_timeout: output = subprocess.check_output( cmd, timeout=cmd_timeout).decode('utf-8') else: output = subprocess.check_output(cmd).decode('utf-8') return json.loads(output) else: # rabbitmqctl has not implemented the formatter option. raise NotImplementedError try: status = get_cluster_status() if get_running: return status['running_nodes'] return status['disk_nodes'] + status['ram_nodes'] except NotImplementedError: out = rabbitmqctl_normalized_output('cluster_status') cluster_status = {} for m in re.finditer(r""{([^,]+),(?!\[{)\[([^\]]*)"", out): state = m.group(1) items = m.group(2).split(',') items = [x.replace(""'"", '').strip() for x in items] cluster_status.update({state: items}) if get_running: return cluster_status.get('running_nodes', []) return cluster_status.get('disc', []) + cluster_status.get('ram', []) @cached def is_partitioned(): """"""Check whether rabbitmq cluster is partitioned. :returns: Whether cluster is partitioned :rtype: bool :raises: NotImplementedError, subprocess.TimeoutExpired, """""" status = get_cluster_status(cmd_timeout=60) return status.get('partitions') != {} # Check if cluster is partitioned try: if peer_ids and len(related_units(peer_ids[0])) and is_partitioned(): return ('blocked', 'Rabbit is partitioned') except (subprocess.TimeoutExpired, NotImplementedError): pass "," if caching_cmp_pkgrevno('rabbitmq-server', '3.8.2') >= 0: cmd = [RABBITMQ_CTL, 'cluster_status', '--formatter=json'] output = subprocess.check_output(cmd).decode('utf-8') decoded = json.loads(output) if get_running: return decoded['running_nodes'] return decoded['disk_nodes'] + decoded['ram_nodes'] out = rabbitmqctl_normalized_output('cluster_status') cluster_status = {} for m in re.finditer(r""{([^,]+),(?!\[{)\[([^\]]*)"", out): state = m.group(1) items = m.group(2).split(',') items = [x.replace(""'"", '').strip() for x in items] cluster_status.update({state: items}) if get_running: return cluster_status.get('running_nodes', []) return cluster_status.get('disc', []) + cluster_status.get('ram', [])",94,18
openstack%2Ftripleo-heat-templates~master~I3370aa089428c7a15179e43ed6cde6a527471d81,openstack/tripleo-heat-templates,master,I3370aa089428c7a15179e43ed6cde6a527471d81,Re-add the unbound resolver to scenario 003,ABANDONED,2021-06-01 13:36:43.000000000,2021-06-21 13:03:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-01 13:36:43.000000000', 'files': ['ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bca2a9cdee8652486b94ae774b8b1199201b282', 'message': 'Re-add the unbound resolver to scenario 003\n\nThe unbound resolver template and related code was not added to scenario 003\ntriggers. A previous patch removed it so it can be re-added after the relevant\ntripleo-ci patch lands.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793964\nChange-Id: I3370aa089428c7a15179e43ed6cde6a527471d81\n'}]",0,793969,0bca2a9cdee8652486b94ae774b8b1199201b282,5,2,1,6681,,,0,"Re-add the unbound resolver to scenario 003

The unbound resolver template and related code was not added to scenario 003
triggers. A previous patch removed it so it can be re-added after the relevant
tripleo-ci patch lands.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793964
Change-Id: I3370aa089428c7a15179e43ed6cde6a527471d81
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/793969/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario003-standalone.yaml'],1,0bca2a9cdee8652486b94ae774b8b1199201b282,fix-unbound-ci, OS::TripleO::Services::Unbound: ../../deployment/unbound/unbound-container-ansible.yaml,,1,0
openstack%2Fmanila-ui~stable%2Fwallaby~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/wallaby,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-18 21:26:54.000000000,2021-06-21 13:02:56.000000000,2021-06-21 13:01:01.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-18 21:26:54.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b7d87e886a1d71e02034b7dde9b96be3beabdb6a', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n'}]",0,797105,b7d87e886a1d71e02034b7dde9b96be3beabdb6a,10,3,1,16643,,,0,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/05/797105/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py']",8,b7d87e886a1d71e02034b7dde9b96be3beabdb6a,bug/1931641,"from manila_ui.dashboards import utils [("""", """")] + [(utils.transform_dashed_name(sgt.id), sgt.name) for sgt in share_group_types] ) ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (one available)""), ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (multiple available)""), share_group_type=utils.transform_dashed_name(data['sgt']),"," [("""", """")] + [(sgt.id, sgt.name) for sgt in share_group_types]) ""data-sgt-%s"" % sgt.id: _( ""Share Types (one available)""), ""data-sgt-%s"" % sgt.id: _( ""Share Types (multiple available)""), share_group_type=data['sgt'],",87,41
openstack%2Fkolla-ansible~stable%2Fvictoria~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/victoria,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:39:29.000000000,2021-06-21 12:51:18.000000000,2021-06-21 12:49:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 07:39:29.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/421d7acfb205517f47e32fe98a2a0295b544de9b', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)\n'}]",0,796869,421d7acfb205517f47e32fe98a2a0295b544de9b,9,4,1,30491,,,0,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/796869/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,421d7acfb205517f47e32fe98a2a0295b544de9b,," ansible_python_version=$($ansible_python_cmdline -c 'import sys; print(str(sys.version_info[0])+"".""+str(sys.version_info[1]))') local python_dir python_dir=""python${ansible_python_version}"" if test -f /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/share/kolla-ansible fi elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then if test -f /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/local/share/kolla-ansible fi elif [[ ${dir_name} == ~/.local/bin ]]; then if test -f ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=~/.local/share/kolla-ansible fi elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/${python_dir}/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"""," BASEDIR=/usr/share/kolla-ansible elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then BASEDIR=/usr/local/share/kolla-ansible elif [[ ${dir_name} == ~/.local/bin ]]; then BASEDIR=~/.local/share/kolla-ansible elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)""",26,8
openstack%2Fcharm-trilio-wlm~master~I924ae61d66f718c6ec03f5012922171efffdb7ba,openstack/charm-trilio-wlm,master,I924ae61d66f718c6ec03f5012922171efffdb7ba,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:14:07.000000000,2021-06-21 12:50:02.000000000,2021-06-21 12:50:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/43c896292ec9f4214af86c64b4deb458d0250b99', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I924ae61d66f718c6ec03f5012922171efffdb7ba\n'}, {'number': 2, 'created': '2021-06-21 09:52:03.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/c7b1058820ac38dbec63828e345bdfea1bc20405', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I924ae61d66f718c6ec03f5012922171efffdb7ba\n'}]",0,791224,c7b1058820ac38dbec63828e345bdfea1bc20405,19,3,2,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I924ae61d66f718c6ec03f5012922171efffdb7ba
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/24/791224/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,43c896292ec9f4214af86c64b4deb458d0250b99,batch-update,fa66fefe-b3eb-11eb-b1ba-7bc1cd5ccabe,bedf1af8-64d9-11eb-9075-bf74326d81a8,1,1
openstack%2Fkolla~stable%2Fussuri~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/ussuri,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:46:44.000000000,2021-06-21 12:49:59.000000000,2021-06-21 12:47:02.000000000,"[{'_account_id': 11928}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-06-18 07:46:44.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5c676e4a9303b1177501dee7e010c0f66013d1f6', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)\n'}]",0,797015,5c676e4a9303b1177501dee7e010c0f66013d1f6,9,4,1,30491,,,0,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/797015/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml']",2,5c676e4a9303b1177501dee7e010c0f66013d1f6,pip_local-stable/wallaby-stable/victoria-stable/ussuri,--- fixes: - | Fix support for kolla install in ``~/.local``. `LP#1930544 <https://launchpad.net/bugs/1930544>`__ ,,6,0
openstack%2Fkolla~stable%2Fwallaby~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/wallaby,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:38:42.000000000,2021-06-21 12:49:58.000000000,2021-06-21 12:46:53.000000000,"[{'_account_id': 11928}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-06-18 07:38:42.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8cd42eccc0d125c1496e110d276f17583526424c', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)\n'}]",0,796868,8cd42eccc0d125c1496e110d276f17583526424c,9,4,1,30491,,,0,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/796868/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml']",2,8cd42eccc0d125c1496e110d276f17583526424c,pip_local-stable/wallaby,--- fixes: - | Fix support for kolla install in ``~/.local``. `LP#1930544 <https://launchpad.net/bugs/1930544>`__ ,,6,0
openstack%2Fkolla~stable%2Fvictoria~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/victoria,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:42:41.000000000,2021-06-21 12:49:14.000000000,2021-06-21 12:46:58.000000000,"[{'_account_id': 11928}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-06-18 07:42:41.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/08e95e5324925b785fa539d2abac21945e58487d', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)\n'}]",0,796871,08e95e5324925b785fa539d2abac21945e58487d,9,4,1,30491,,,0,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/796871/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml']",2,08e95e5324925b785fa539d2abac21945e58487d,pip_local-stable/wallaby-stable/victoria,--- fixes: - | Fix support for kolla install in ``~/.local``. `LP#1930544 <https://launchpad.net/bugs/1930544>`__ ,,6,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~If6893492a854956b6b3b19cf5ed36411daf0a1b0,openstack/python-tripleoclient,stable/wallaby,If6893492a854956b6b3b19cf5ed36411daf0a1b0,Remove iscsi from IronicEnabledDeployInterfaces,MERGED,2021-06-15 20:40:17.000000000,2021-06-21 12:45:43.000000000,2021-06-21 12:44:03.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 20:40:17.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ebf9d48a3190d2bebed7c6a02d7c32df4a7ef1a', 'message': 'Remove iscsi from IronicEnabledDeployInterfaces\n\nIscsi is deprecated and should no longer be used\n\nRelated-Bug: #1931417\nChange-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0\n(cherry picked from commit 0f0352a5b856c44f589d1ab6adb189142216498a)\n'}]",0,796451,2ebf9d48a3190d2bebed7c6a02d7c32df4a7ef1a,12,3,1,14985,,,0,"Remove iscsi from IronicEnabledDeployInterfaces

Iscsi is deprecated and should no longer be used

Related-Bug: #1931417
Change-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0
(cherry picked from commit 0f0352a5b856c44f589d1ab6adb189142216498a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/796451/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,2ebf9d48a3190d2bebed7c6a02d7c32df4a7ef1a,remove-iscsi-stable/wallaby," 'IronicEnabledDeployInterfaces': ['direct', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'ansible',"," 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible',",4,4
openstack%2Ftripleo-validations~stable%2Fwallaby~Ia8b78c0e81d716718139aec17f959a1a9955025e,openstack/tripleo-validations,stable/wallaby,Ia8b78c0e81d716718139aec17f959a1a9955025e,Use and ownership info for the check_flavors module,MERGED,2021-06-15 15:00:41.000000000,2021-06-21 12:44:06.000000000,2021-06-21 12:44:06.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 15:00:41.000000000', 'files': ['library/check_flavors.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/149b72e5999b7191d61b4d2f84b8c462cde4bcd9', 'message': 'Use and ownership info for the check_flavors module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e\n(cherry picked from commit 81bd49d628c50398c9f001f2b20ae3060d2b7835)\n'}]",0,796509,149b72e5999b7191d61b4d2f84b8c462cde4bcd9,10,6,1,32926,,,0,"Use and ownership info for the check_flavors module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e
(cherry picked from commit 81bd49d628c50398c9f001f2b20ae3060d2b7835)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/796509/1 && git format-patch -1 --stdout FETCH_HEAD,['library/check_flavors.py'],1,149b72e5999b7191d61b4d2f84b8c462cde4bcd9,,"""""""check_flavors module Used by the collect_flavors_and_verify_profiles validation. """""" - Used by the collect_flavors_and_verify_profiles - Owned by the 'DFG Compute & DFG Hardware Provisioning'",,5,1
openstack%2Fnova~master~Id2703ea4439d587a1a7a878796a79709fae5ea61,openstack/nova,master,Id2703ea4439d587a1a7a878796a79709fae5ea61,api: Log correct client IP if load balancer in use,MERGED,2021-04-18 12:28:25.000000000,2021-06-21 12:38:59.000000000,2021-06-21 12:36:58.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 30441}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-18 12:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41852a38c5f261addada6260ae8622a51e50c354', 'message': ""When Nova-Api runs behind the load balancer or Reverse proxy,\nLoadbalancer IP is getting logged in nova_api.log instead of end user source ip by RequestLog\n\nIt should check for CONF.api.use_forwarded_for and\nthen uses key 'HTTP_X_FORWARDED_FOR' to get the client ip.\n\nChange-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61\n""}, {'number': 2, 'created': '2021-04-18 12:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f6e884f4108e5ee6ca1953772e900fcba0312d2', 'message': ""When Nova-Api runs behind the load balancer or Reverse proxy,\nLoadbalancer IP is getting logged in nova_api.log instead of end user source ip by RequestLog\n\nIt should check for CONF.api.use_forwarded_for and\nthen uses key 'HTTP_X_FORWARDED_FOR' to get the client ip.\n\nCloses-Bug: #1913605\nChange-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61\n""}, {'number': 3, 'created': '2021-05-06 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3381d913d90a4972d95948bdc1fa6ed943e2b874', 'message': ""When Nova-Api runs behind the load balancer or Reverse proxy,\nLoadbalancer IP is getting logged in nova_api.log instead of end user source ip by RequestLog\n\nIt should check for CONF.api.use_forwarded_for and\nthen uses key 'HTTP_X_FORWARDED_FOR' to get the client ip.\n\nCloses-Bug: #1913605\nChange-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61\n""}, {'number': 4, 'created': '2021-05-25 09:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff9b88154e456b98ebec7c838d1e9a6f3ae275b4', 'message': ""When Nova-Api runs behind the load balancer or Reverse proxy,\nLoadbalancer IP is getting logged in nova_api.log instead of end user source ip by RequestLog\n\nIt should check for CONF.api.use_forwarded_for and\nthen uses key 'HTTP_X_FORWARDED_FOR' to get the client ip.\n\nCloses-Bug: #1913605\nChange-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61\n""}, {'number': 5, 'created': '2021-06-09 22:21:26.000000000', 'files': ['nova/api/openstack/requestlog.py', 'nova/tests/unit/api/openstack/test_requestlog.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/375a8452bbb2b3d12fbf82f725e977c3ce4b09b7', 'message': ""api: Log correct client IP if load balancer in use\n\nWhen Nova-Api runs behind the load balancer or Reverse proxy,\nLoadbalancer IP is getting logged in nova_api.log instead of end user\nsource ip by RequestLog\n\nIt should check for CONF.api.use_forwarded_for and then uses key\n'HTTP_X_FORWARDED_FOR' to get the client ip.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1913605\n\nChange-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61\n""}]",2,786766,375a8452bbb2b3d12fbf82f725e977c3ce4b09b7,59,8,5,32881,,,0,"api: Log correct client IP if load balancer in use

When Nova-Api runs behind the load balancer or Reverse proxy,
Loadbalancer IP is getting logged in nova_api.log instead of end user
source ip by RequestLog

It should check for CONF.api.use_forwarded_for and then uses key
'HTTP_X_FORWARDED_FOR' to get the client ip.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1913605

Change-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/786766/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/requestlog.py'],1,41852a38c5f261addada6260ae8622a51e50c354,bug/1913605,"import nova.conf CONF = nova.conf.CONF remote_address = req.environ.get('REMOTE_ADDR', '-') if CONF.api.use_forwarded_for: remote_address = req.environ.get('HTTP_X_FORWARDED_FOR', remote_address ) data = { 'REMOTE_ADDR': remote_address,"," data = { 'REMOTE_ADDR': req.environ.get('REMOTE_ADDR', '-'),",11,1
openstack%2Fkolla~stable%2Fvictoria~If69536387513ca221e03a80878016532a41aef87,openstack/kolla,stable/victoria,If69536387513ca221e03a80878016532a41aef87,Fix build of masakari-monitors image,MERGED,2021-06-18 17:36:42.000000000,2021-06-21 12:34:02.000000000,2021-06-21 12:32:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 17:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70e54792885505db97e422aa7f353fdde769aa96', 'message': ""Fix build of masakari-monitors image\n\nThe CentOS 8 Advanced Virtualization repository recently added libvirt\n7.0.0. The current version of libvirt-python fails to build against it:\n\n    running build\n    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt\n    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml\n    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml\n    Found 0 functions in libvirt-override-api.xml\n    Generated 389 wrapper functions\n    Missing type converters:\n    char ** *:1\n    char **:1\n    ERROR: failed virDomainAuthorizedSSHKeysGet\n    ERROR: failed virDomainAuthorizedSSHKeysSet\n    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1\n\nWe need at least libvirt-python v6.10.0.\n\nChange-Id: If69536387513ca221e03a80878016532a41aef87\n(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)\n""}, {'number': 2, 'created': '2021-06-18 17:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/21078e4a97478d1d172ad3189f3bdbe7fa1b5f4b', 'message': ""Fix build of masakari-monitors image\n\nThe CentOS 8 Advanced Virtualization repository recently added libvirt\n7.0.0. The current version of libvirt-python fails to build against it:\n\n    running build\n    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt\n    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml\n    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml\n    Found 0 functions in libvirt-override-api.xml\n    Generated 389 wrapper functions\n    Missing type converters:\n    char ** *:1\n    char **:1\n    ERROR: failed virDomainAuthorizedSSHKeysGet\n    ERROR: failed virDomainAuthorizedSSHKeysSet\n    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1\n\nWe need at least libvirt-python v6.10.0.\n\nChange-Id: If69536387513ca221e03a80878016532a41aef87\n(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)\n""}, {'number': 3, 'created': '2021-06-18 17:53:50.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/29048206ed67323b318f35f5756d41e8e83f5b8d', 'message': ""Fix build of masakari-monitors image\n\nThe CentOS 8 Advanced Virtualization repository recently added libvirt\n7.0.0. The current version of libvirt-python fails to build against it:\n\n    running build\n    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt\n    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml\n    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml\n    Found 0 functions in libvirt-override-api.xml\n    Generated 389 wrapper functions\n    Missing type converters:\n    char ** *:1\n    char **:1\n    ERROR: failed virDomainAuthorizedSSHKeysGet\n    ERROR: failed virDomainAuthorizedSSHKeysSet\n    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1\n\nWe need at least libvirt-python v6.10.0.\n\nCloses-Bug: #1931817\nChange-Id: If69536387513ca221e03a80878016532a41aef87\n(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)\n""}]",0,797102,29048206ed67323b318f35f5756d41e8e83f5b8d,12,4,3,28295,,,0,"Fix build of masakari-monitors image

The CentOS 8 Advanced Virtualization repository recently added libvirt
7.0.0. The current version of libvirt-python fails to build against it:

    running build
    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt
    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml
    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml
    Found 0 functions in libvirt-override-api.xml
    Generated 389 wrapper functions
    Missing type converters:
    char ** *:1
    char **:1
    ERROR: failed virDomainAuthorizedSSHKeysGet
    ERROR: failed virDomainAuthorizedSSHKeysSet
    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1

We need at least libvirt-python v6.10.0.

Closes-Bug: #1931817
Change-Id: If69536387513ca221e03a80878016532a41aef87
(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/797102/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,70e54792885505db97e422aa7f353fdde769aa96,,<<<<<<< HEAD (d52bb8 Pin td-agent to 4.0.* to fix missing logs) ======= {% if distro_package_manager == 'dnf' %}&& sed -i -e 's/libvirt-python===.*/libvirt-python===6.10.0/' /requirements/upper-constraints.txt {% endif %}\ >>>>>>> CHANGE (715d79 Fix build of masakari-monitors image),,4,0
openstack%2Freleases~master~I227190c07435dc0bd755acf8c848d51ff5dbd7ee,openstack/releases,master,I227190c07435dc0bd755acf8c848d51ff5dbd7ee,[kolla] Transition Train to EM,MERGED,2021-05-11 15:09:20.000000000,2021-06-21 12:26:38.000000000,2021-06-21 12:26:38.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 15:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b4fe541f2274bd2f9c37314100c470d9b319a68b', 'message': '[kolla] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I227190c07435dc0bd755acf8c848d51ff5dbd7ee\n'}, {'number': 2, 'created': '2021-06-19 18:56:33.000000000', 'files': ['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kolla-cli.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bf48fbae492ab559f4397c103e21cb91fb13f5ca', 'message': '[kolla] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I227190c07435dc0bd755acf8c848d51ff5dbd7ee\n'}]",0,790751,bf48fbae492ab559f4397c103e21cb91fb13f5ca,18,5,2,17685,,,0,"[kolla] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I227190c07435dc0bd755acf8c848d51ff5dbd7ee
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/790751/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kolla-cli.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml']",4,b4fe541f2274bd2f9c37314100c470d9b319a68b,train-em, - version: train-em projects: - repo: openstack/kolla hash: fc0ebe07c2e88ee000caf43d7ba67ceed7d7a842,,20,0
openstack%2Fkolla~stable%2Fussuri~If69536387513ca221e03a80878016532a41aef87,openstack/kolla,stable/ussuri,If69536387513ca221e03a80878016532a41aef87,Fix build of masakari-monitors image,MERGED,2021-06-20 07:52:43.000000000,2021-06-21 12:09:25.000000000,2021-06-21 12:07:56.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 07:52:43.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/253c215f1ea1ce9547fff7442c570248494c7115', 'message': ""Fix build of masakari-monitors image\n\nThe CentOS 8 Advanced Virtualization repository recently added libvirt\n7.0.0. The current version of libvirt-python fails to build against it:\n\n    running build\n    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt\n    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml\n    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml\n    Found 0 functions in libvirt-override-api.xml\n    Generated 389 wrapper functions\n    Missing type converters:\n    char ** *:1\n    char **:1\n    ERROR: failed virDomainAuthorizedSSHKeysGet\n    ERROR: failed virDomainAuthorizedSSHKeysSet\n    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1\n\nWe need at least libvirt-python v6.10.0.\n\nCloses-Bug: #1931817\nChange-Id: If69536387513ca221e03a80878016532a41aef87\n(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)\n""}]",0,797109,253c215f1ea1ce9547fff7442c570248494c7115,10,5,1,30491,,,0,"Fix build of masakari-monitors image

The CentOS 8 Advanced Virtualization repository recently added libvirt
7.0.0. The current version of libvirt-python fails to build against it:

    running build
    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt
    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml
    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml
    Found 0 functions in libvirt-override-api.xml
    Generated 389 wrapper functions
    Missing type converters:
    char ** *:1
    char **:1
    ERROR: failed virDomainAuthorizedSSHKeysGet
    ERROR: failed virDomainAuthorizedSSHKeysSet
    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1

We need at least libvirt-python v6.10.0.

Closes-Bug: #1931817
Change-Id: If69536387513ca221e03a80878016532a41aef87
(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/797109/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,253c215f1ea1ce9547fff7442c570248494c7115,, {% if distro_package_manager == 'dnf' %}&& sed -i -e 's/libvirt-python===.*/libvirt-python===6.10.0/' /requirements/upper-constraints.txt {% endif %}\,,1,0
openstack%2Fkolla-ansible~master~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,master,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-20 14:18:26.000000000,2021-06-21 11:51:37.000000000,2021-06-21 11:49:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 14:18:26.000000000', 'files': ['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/18a0af6954f48a03bc125fd690347e3ef259096f', 'message': 'Do not set pid file for iscsid\n\nKolla Ansible runs iscsid in the foreground (-f) and\na recent change to iscsid in CentOS 8 (both Linux and Stream)\ncaused it to reject setting pid file in such a case.\nPID file is irrelevant in this scenario so this commit\nremoves its parameter.\n\nCloses-Bug: #1933033\nChange-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d\n'}]",2,797192,18a0af6954f48a03bc125fd690347e3ef259096f,16,4,1,30491,,,0,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/797192/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/templates/iscsid.json.j2', 'releasenotes/notes/bug-1933033-76746d127285cfe8.yaml']",2,18a0af6954f48a03bc125fd690347e3ef259096f,bug/1933033,--- fixes: - | Fixes ``iscsid`` failing in current CentOS 8 based images due to pid file being needlessly set. `LP#1933033 <https://launchpad.net/bugs/1933033>`__ ,,7,1
openstack%2Fopenstack-ansible-os_nova~master~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,master,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-17 14:54:10.000000000,2021-06-21 11:45:12.000000000,2021-06-21 11:43:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-17 14:54:10.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9244767bcdb613a984d69699e56467a762cb4f14', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n'}]",0,796852,9244767bcdb613a984d69699e56467a762cb4f14,10,3,1,11290,,,0,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/52/796852/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9244767bcdb613a984d69699e56467a762cb4f14,,"nova_spicehtml5_git_repo: ""{{ spicehtml5_git_repo | default('https://gitlab.freedesktop.org/spice/spice-html5.git') }}"" nova_spicehtml5_git_install_branch: ""{{ spicehtml5_git_install_branch | default('master') }}""",nova_spicehtml5_git_repo: https://gitlab.freedesktop.org/spice/spice-html5.git nova_spicehtml5_git_install_branch: master,2,2
openstack%2Fcharm-mysql-router~stable%2F21.04~Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd,openstack/charm-mysql-router,stable/21.04,Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd,Configure /run/mysql location for PID file,MERGED,2021-06-16 09:09:17.000000000,2021-06-21 11:36:25.000000000,2021-06-21 11:36:25.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 09:09:17.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/templates/mysqlrouter.service', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3582c9cf11ceccb8e67492320114fa30da4b9981', 'message': ""Configure /run/mysql location for PID file\n\nEnsure that a location in /run is used for the PID file for\nthe mysqlrouter instance - this ensures that in the event\nof a power outage, the old PID file will not be present and\nthe daemon will correctly startup when the machine starts up.\n\nUpdate systemd configuration to create /run/mysql and to use\nthe mysql user and group to execute the daemon.\n\nSwitch to 'forking' mode to ensure that the mysqlrouter process\ngets tracked by systemd.\n\nCloses-Bug: 1931095\nChange-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd\n(cherry picked from commit 72aca90ea3551a95ecf0bf301fd626bfb8b25a97)\n""}]",0,796610,3582c9cf11ceccb8e67492320114fa30da4b9981,8,4,1,935,,,0,"Configure /run/mysql location for PID file

Ensure that a location in /run is used for the PID file for
the mysqlrouter instance - this ensures that in the event
of a power outage, the old PID file will not be present and
the daemon will correctly startup when the machine starts up.

Update systemd configuration to create /run/mysql and to use
the mysql user and group to execute the daemon.

Switch to 'forking' mode to ensure that the mysqlrouter process
gets tracked by systemd.

Closes-Bug: 1931095
Change-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd
(cherry picked from commit 72aca90ea3551a95ecf0bf301fd626bfb8b25a97)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/10/796610/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'src/templates/mysqlrouter.service', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",3,3582c9cf11ceccb8e67492320114fa30da4b9981,stable/bug/1931095," mrc.name = 'foobar' 'DEFAULT': { 'client_ssl_mode': ""PASSTHROUGH"", 'pid_file': '/run/mysql/mysqlrouter-foobar.pid' },"," 'DEFAULT': {'client_ssl_mode': ""PASSTHROUGH""},",25,4
openstack%2Fpython-cloudkittyclient~master~I3224ca9b96a181de8c0251d0bd589135e098d557,openstack/python-cloudkittyclient,master,I3224ca9b96a181de8c0251d0bd589135e098d557,docs: Update Freenode to OFTC,MERGED,2021-06-08 08:18:58.000000000,2021-06-21 11:25:05.000000000,2021-06-21 11:23:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-06-08 08:18:58.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/0608c0527bd34cfa1968568d32731dc46d1ba0d1', 'message': 'docs: Update Freenode to OFTC\n\nChange-Id: I3224ca9b96a181de8c0251d0bd589135e098d557\n'}]",0,795254,0608c0527bd34cfa1968568d32731dc46d1ba0d1,8,3,1,15197,,,0,"docs: Update Freenode to OFTC

Change-Id: I3224ca9b96a181de8c0251d0bd589135e098d557
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/54/795254/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,0608c0527bd34cfa1968568d32731dc46d1ba0d1,,* IRC channel #cloudkitty at `OFTC <http://oftc.net>`_,* IRC channel #cloudkitty at FreeNode,1,1
openstack%2Ftripleo-common~master~I4aef31ea2e2f5665e63cb2dae598428d4654b0ca,openstack/tripleo-common,master,I4aef31ea2e2f5665e63cb2dae598428d4654b0ca,Update image build dependencies,MERGED,2021-04-30 04:20:11.000000000,2021-06-21 11:17:04.000000000,2021-06-21 11:15:00.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-30 04:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/341b4b9a1c91e57184203788e082bb0cdb39ff19', 'message': 'Update image build dependencies\n\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8 has the same\ndependencies as tripleo-buildimage-overcloud-hardened-full-centos-8\n\nBlueprint: whole-disk-default\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\nChange-Id: I4aef31ea2e2f5665e63cb2dae598428d4654b0ca\n'}, {'number': 2, 'created': '2021-04-30 04:37:35.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/99974ab82aa546d57bf28894a7274aaaa5d408e1', 'message': 'Update image build dependencies\n\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8 has the same\ndependencies as tripleo-buildimage-overcloud-hardened-full-centos-8\n\nBlueprint: whole-disk-default\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\nChange-Id: I4aef31ea2e2f5665e63cb2dae598428d4654b0ca\n'}]",0,788880,99974ab82aa546d57bf28894a7274aaaa5d408e1,12,6,2,4571,,,0,"Update image build dependencies

tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 has the same
dependencies as tripleo-buildimage-overcloud-hardened-full-centos-8

Blueprint: whole-disk-default
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878
Change-Id: I4aef31ea2e2f5665e63cb2dae598428d4654b0ca
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/788880/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,341b4b9a1c91e57184203788e082bb0cdb39ff19,bp/whole-disk-default, - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: dependencies: *deps_unit_lint,,2,0
openstack%2Ftripleo-heat-templates~master~Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,openstack/tripleo-heat-templates,master,Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,Add support for designate standalone jobs,MERGED,2021-06-07 20:39:44.000000000,2021-06-21 11:15:05.000000000,2021-06-21 11:15:05.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29775}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-07 20:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0df9754c5ea252314717754ea9441a443149f76d', 'message': ""Add support for standalone jobs\n\nThis patch adds the UnboundListenIPs that allows the deployer to specify\nan IP to be used in the event that neutron isn't being used to manage\nthe overcloud networks - as is the case for standalone deployments.\n\nChange-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41\n""}, {'number': 2, 'created': '2021-06-07 20:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e6c4bb386c5faa8367e7f63fa668349e49b77c9', 'message': ""Add support for designate standalone jobs\n\nThis patch adds the UnboundListenIPs that allows the deployer to specify\nan IP to be used in the event that neutron isn't being used to manage\nthe overcloud networks - as is the case for standalone deployments.\n\nChange-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41\n""}, {'number': 3, 'created': '2021-06-07 21:02:08.000000000', 'files': ['ci/environments/scenario003-standalone.yaml', 'deployment/unbound/unbound-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/857807247d8f1a7270fdade30f570bf2f17789ce', 'message': ""Add support for designate standalone jobs\n\nThis patch adds the UnboundListenIPs that allows the deployer to specify\nan IP to be used in the event that neutron isn't being used to manage\nthe overcloud networks - as is the case for standalone deployments.\n\nChange-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41\n""}]",0,795181,857807247d8f1a7270fdade30f570bf2f17789ce,13,11,3,6681,,,0,"Add support for designate standalone jobs

This patch adds the UnboundListenIPs that allows the deployer to specify
an IP to be used in the event that neutron isn't being used to manage
the overcloud networks - as is the case for standalone deployments.

Change-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/795181/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/unbound/unbound-container-ansible.yaml'],1,0df9754c5ea252314717754ea9441a443149f76d,," UnboundListenIPs: default: [] description: A list of IPs to add to the externally accessible interface (e.g. interface on the external network or the VIP interface in standalone). If provided, the number of IPs must match the number of deployed Unbound instances. If left empty, the deployment will create additonal IPs using the external network. type: comma_delimited_list - name: Get list of provided listen ips when: - step|int == 1 set_fact: unbound_listen_ips: { get_param: UnboundListenIPs } - name: Distribute configured unbound listen IPs across nodes when: - step|int == 1 - unbound_listen_ips|length > 0 block: - name: Set the unbound host ip fact set_fact: tripleo_unbound_listen_interfaces: ""[ '{{ item.0 }}' ]"" delegate_to: ""{{ item.1 }}"" delegate_facts: true with_together: - ""{{ unbound_listen_ips }}"" - ""{{ groups.unbound }}"" - unbound_listen_ips|length == 0",,29,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,stable/victoria,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-06-20 08:15:12.000000000,2021-06-21 11:02:02.000000000,2021-06-21 11:00:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 08:15:12.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d6906bbb8b43a046dc3810d34e0522e7ff9c836', 'message': 'octavia: Ensure service auth project exists\n\nKolla Ansible supports configuration of the project used by Octavia to\ncommunicate with other services, via octavia_service_auth_project. Until\nUssuri, this was set to admin. In Ussuri it changed to service. It may\nalso be set to a different value.\n\nKolla Ansible currently gives the octavia user the admin role in the\nproject, but it does not ensure that the project exists. For admin and\nservice projects, this is not a problem. If the project has been\ncustomised however, it will not necessarily exist, which will cause\nOctavia deployment to fail.\n\nThis change fixes the issue by ensuring that the service auth project\nexists, in addition to the service project.\n\nCloses-Bug: #1922100\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)\n'}]",0,797111,1d6906bbb8b43a046dc3810d34e0522e7ff9c836,9,3,1,30491,,,0,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/797111/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml']",3,1d6906bbb8b43a046dc3810d34e0522e7ff9c836,,"--- fixes: - | Fixes an issue with Octavia deployment when using a custom service auth project. If ``octavia_service_auth_project`` is set to a project that does not exist, Octavia deployment would fail. The project is now created. `LP#1922100 <https://bugs.launchpad.net/kolla-ansible/+bug/1922100>`__ ",,14,15
openstack%2Ftripleo-common~master~I5a1900d4e50395065b6b56876ab9ee10f01fae05,openstack/tripleo-common,master,I5a1900d4e50395065b6b56876ab9ee10f01fae05,Add TypeError exception when parsing addresses,MERGED,2021-06-16 17:57:58.000000000,2021-06-21 10:58:59.000000000,2021-06-21 10:57:26.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-16 17:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa2b2691f2b5caa1cfdf34e1f0d0fe56ce08c8fc', 'message': 'Add TypeError exception when parsing addresses\n\nWhen parsing addresses the value could be None, if that is the case, we\nneed to handle the result and return it accordingly. This change adds\nthe expected TypeError when dealing with a null value.\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I5a1900d4e50395065b6b56876ab9ee10f01fae05\n'}, {'number': 2, 'created': '2021-06-16 18:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8e7be911bb5d056a65e9da27058bfd51ee718d83', 'message': 'Add TypeError exception when parsing addresses\n\nWhen parsing addresses the value could be None, if that is the case, we\nneed to handle the result and return it accordingly. This change adds\nthe expected TypeError when dealing with a null value.\n\nAdditionally the overcloudrc will now process the data ahead of time and\nensure that the items in the array have an assosiated value before\nfeeding the data into the mapped function.\n\nChange-Id: I5a1900d4e50395065b6b56876ab9ee10f01fae05\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-06-16 18:37:06.000000000', 'files': ['tripleo_common/utils/common.py', 'tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eaeb230f838f5a806daf70845fe970c77534e1bc', 'message': 'Add TypeError exception when parsing addresses\n\nWhen parsing addresses the value could be None, if that is the case, we\nneed to handle the result and return it accordingly. This change adds\nthe expected TypeError when dealing with a null value.\n\nAdditionally the overcloudrc will now process the data ahead of time and\nensure that the items in the array have an assosiated value before\nfeeding the data into the mapped function.\n\nChange-Id: I5a1900d4e50395065b6b56876ab9ee10f01fae05\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,796718,eaeb230f838f5a806daf70845fe970c77534e1bc,19,4,3,7353,,,0,"Add TypeError exception when parsing addresses

When parsing addresses the value could be None, if that is the case, we
need to handle the result and return it accordingly. This change adds
the expected TypeError when dealing with a null value.

Additionally the overcloudrc will now process the data ahead of time and
ensure that the items in the array have an assosiated value before
feeding the data into the mapped function.

Change-Id: I5a1900d4e50395065b6b56876ab9ee10f01fae05
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/796718/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/common.py'],1,aa2b2691f2b5caa1cfdf34e1f0d0fe56ce08c8fc,," except (socket.error, TypeError):", except socket.error:,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,stable/wallaby,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-06-20 08:13:57.000000000,2021-06-21 10:57:52.000000000,2021-06-21 10:55:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 08:13:57.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbd474cc4801b1918b7e267e0ad6e23282079974', 'message': 'octavia: Ensure service auth project exists\n\nKolla Ansible supports configuration of the project used by Octavia to\ncommunicate with other services, via octavia_service_auth_project. Until\nUssuri, this was set to admin. In Ussuri it changed to service. It may\nalso be set to a different value.\n\nKolla Ansible currently gives the octavia user the admin role in the\nproject, but it does not ensure that the project exists. For admin and\nservice projects, this is not a problem. If the project has been\ncustomised however, it will not necessarily exist, which will cause\nOctavia deployment to fail.\n\nThis change fixes the issue by ensuring that the service auth project\nexists, in addition to the service project.\n\nCloses-Bug: #1922100\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)\n'}]",0,797110,cbd474cc4801b1918b7e267e0ad6e23282079974,9,3,1,30491,,,0,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/797110/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml']",3,cbd474cc4801b1918b7e267e0ad6e23282079974,,"--- fixes: - | Fixes an issue with Octavia deployment when using a custom service auth project. If ``octavia_service_auth_project`` is set to a project that does not exist, Octavia deployment would fail. The project is now created. `LP#1922100 <https://bugs.launchpad.net/kolla-ansible/+bug/1922100>`__ ",,14,15
openstack%2Ftripleo-heat-templates~master~Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32,openstack/tripleo-heat-templates,master,Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32,Remove or fix outdated/incorrect neutron hieradata definitions,MERGED,2021-03-13 12:59:19.000000000,2021-06-21 10:57:09.000000000,2021-06-21 10:57:09.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-13 12:59:19.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/updates/update-from-ml2-ovs-from-rocky.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02bb4b8aa095619f2bc07aeb7302c2f333093569', 'message': 'Remove or fix outdated/incorrect neutron hieradata definitions\n\n- neutron::server::qos_notification_drivers was deprecated in Ocata\n  change: Ie95e8d07273d168da0fe9ae1635774b230683efa\n- neutron::server::placement::www_authenticate_uri is incorrect:\n  neutron::server::placement::auth_url should be used instead and it is\n  already defined\n- neutron::agents::ml2::networking_baremetal::username should be used\n  instead of neutron::agents::ml2::networking_baremetal::user\n- neutron::agents::metadata::auth_password,\n  neutron::agents::metadata::auth_url and\n  neutron::agents::metadata::auth_tenant were deprecated in Newton\n  change: I2c88f8523630ad0246785190f90b7a02fc704153\n- neutron::agents::ovn_metadata::auth_password,\n  neutron::agents::ovn_metadata::auth_url and\n  neutron::agents::ovn_metadata::auth_tenant are likely artifacts that\n  were not removed when service template for OVN Metadata service was\n  copied from Neutron Metadata service definition.\n\nPartial-Bug: #1916386\nChange-Id: Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32\n'}]",2,780413,02bb4b8aa095619f2bc07aeb7302c2f333093569,19,6,1,19234,,,0,"Remove or fix outdated/incorrect neutron hieradata definitions

- neutron::server::qos_notification_drivers was deprecated in Ocata
  change: Ie95e8d07273d168da0fe9ae1635774b230683efa
- neutron::server::placement::www_authenticate_uri is incorrect:
  neutron::server::placement::auth_url should be used instead and it is
  already defined
- neutron::agents::ml2::networking_baremetal::username should be used
  instead of neutron::agents::ml2::networking_baremetal::user
- neutron::agents::metadata::auth_password,
  neutron::agents::metadata::auth_url and
  neutron::agents::metadata::auth_tenant were deprecated in Newton
  change: I2c88f8523630ad0246785190f90b7a02fc704153
- neutron::agents::ovn_metadata::auth_password,
  neutron::agents::ovn_metadata::auth_url and
  neutron::agents::ovn_metadata::auth_tenant are likely artifacts that
  were not removed when service template for OVN Metadata service was
  copied from Neutron Metadata service definition.

Partial-Bug: #1916386
Change-Id: Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/780413/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/updates/update-from-ml2-ovs-from-rocky.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",11,02bb4b8aa095619f2bc07aeb7302c2f333093569,bug/1916386,," neutron::server::placement::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",2,28
openstack%2Ftripleo-ansible~stable%2Fwallaby~I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97,openstack/tripleo-ansible,stable/wallaby,I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97,Remove become: true from the role,MERGED,2021-06-10 11:33:22.000000000,2021-06-21 10:56:57.000000000,2021-06-21 10:56:57.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-10 11:33:22.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cb6a99c4b56cf4b401d4f5507025095fa937487', 'message': 'Remove become: true from the role\n\nThe role is always executed with --become, as it is specified in the\ndocumentation. The CLI also invokes the role with --become parameter. In\nthis case, we were currently implementing a non consistent become\npolicy. As almost all the tasks in the role require root access, it is\nmore consistent to remove all the become: true entries and launch the\nrole with --become parameter.\n\nDepends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\nChange-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\n(cherry picked from commit fad1ea42cea2087e85948ab666978a2c32d60a00)\n'}]",0,795629,6cb6a99c4b56cf4b401d4f5507025095fa937487,9,8,1,32968,,,0,"Remove become: true from the role

The role is always executed with --become, as it is specified in the
documentation. The CLI also invokes the role with --become parameter. In
this case, we were currently implementing a non consistent become
policy. As almost all the tasks in the role require root access, it is
more consistent to remove all the become: true entries and launch the
role with --become parameter.

Depends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758
Change-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97
(cherry picked from commit fad1ea42cea2087e85948ab666978a2c32d60a00)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/795629/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml']",10,6cb6a99c4b56cf4b401d4f5507025095fa937487,change-792978-6-stable/wallaby,, become: true,0,26
openstack%2Ftripleo-quickstart-extras~master~I438220744bdb1d426c8484d8548716278737ff86,openstack/tripleo-quickstart-extras,master,I438220744bdb1d426c8484d8548716278737ff86,Run os-net-config as part of node provisioning,MERGED,2021-05-07 17:31:31.000000000,2021-06-21 10:56:52.000000000,2021-06-21 10:56:52.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-07 17:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/da74d17ebb2184e3068cf4068b738b9e7dd30bd0', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\nRelated: blueprint network-data-v2-ports\n""}, {'number': 2, 'created': '2021-05-07 17:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a49e8f95c833d911bd6ced1dd64f9da0dda05ab5', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/790286\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\n""}, {'number': 3, 'created': '2021-05-07 18:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/88dbcc3b6d1204393bb620f7122da6ca722b22c9', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/790286\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\n""}, {'number': 4, 'created': '2021-05-10 11:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12f882e6b3a991cfcce1b8e2cc396592d3f377a9', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/790286\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\n""}, {'number': 5, 'created': '2021-05-14 09:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d0a451986c468ccd68160831b3ca8aa51f21172d', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/790286\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\n""}, {'number': 6, 'created': '2021-06-03 18:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/94d18355e911fb7dc37d099e1e1c4ee61904ca68', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/790286\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\n""}, {'number': 7, 'created': '2021-06-08 06:10:18.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud_baremetal_deploy.yaml.j2', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d6482cd149ba888660577f11a98c3f8873baf840', 'message': ""Run os-net-config as part of node provisioning\n\nRender in the network_config from the node topology_map\nand switch the 'node provision' command to use the\n'--network-config' option so that the tripleo_network_config\nrole is applied to deployed nodes prior to running the\novercloud deploy command.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/790286\nChange-Id: I438220744bdb1d426c8484d8548716278737ff86\n""}]",0,790287,d6482cd149ba888660577f11a98c3f8873baf840,40,6,7,24245,,,0,"Run os-net-config as part of node provisioning

Render in the network_config from the node topology_map
and switch the 'node provision' command to use the
'--network-config' option so that the tripleo_network_config
role is applied to deployed nodes prior to running the
overcloud deploy command.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/790286
Change-Id: I438220744bdb1d426c8484d8548716278737ff86
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/87/790287/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-deploy/templates/overcloud_baremetal_deploy.yaml.j2', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,da74d17ebb2184e3068cf4068b738b9e7dd30bd0,network-data-v2, {% if network_provision|bool %}--network-config{% endif %} \, {% if network_provision|bool %}--network-ports{% endif %} \,8,3
openstack%2Fkolla-ansible~stable%2Fussuri~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,stable/ussuri,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-20 18:44:47.000000000,2021-06-21 10:28:19.000000000,2021-06-21 10:26:49.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:44:47.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a1e9b60736e6ed94445e9c4d219190c067df60c', 'message': 'Fix parsing of infra.mariadb.xinetd logs\n\nCurrently the logs tagged with infra.mariadb.xinetd flow into\nelasticsearch with no hostname or programname attach, thus making\nnavigating the logs very hard.\n\nThe quick fix is renaming the tag to infra.mariadb-xinetd, which is just\nenought to ensure the logs are processed correctly with the existing\nfilters.\n\nTrivialFix\n\nChange-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8\n(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)\n'}]",0,797202,9a1e9b60736e6ed94445e9c4d219190c067df60c,9,4,1,30491,,,0,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/797202/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,9a1e9b60736e6ed94445e9c4d219190c067df60c,fix-mariadb-xinetd-logs-stable/wallaby-stable/victoria-stable/ussuri, tag infra.mariadb-xinetd, tag infra.mariadb.xinetd,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,stable/victoria,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-20 18:44:15.000000000,2021-06-21 10:28:08.000000000,2021-06-21 10:26:44.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:44:15.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/903601a7a3f0b2050598053f7b43368c21a4af98', 'message': 'Fix parsing of infra.mariadb.xinetd logs\n\nCurrently the logs tagged with infra.mariadb.xinetd flow into\nelasticsearch with no hostname or programname attach, thus making\nnavigating the logs very hard.\n\nThe quick fix is renaming the tag to infra.mariadb-xinetd, which is just\nenought to ensure the logs are processed correctly with the existing\nfilters.\n\nTrivialFix\n\nChange-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8\n(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)\n'}]",0,797201,903601a7a3f0b2050598053f7b43368c21a4af98,9,4,1,30491,,,0,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/797201/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,903601a7a3f0b2050598053f7b43368c21a4af98,fix-mariadb-xinetd-logs-stable/wallaby-stable/victoria, tag infra.mariadb-xinetd, tag infra.mariadb.xinetd,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,stable/wallaby,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-20 18:43:55.000000000,2021-06-21 10:27:39.000000000,2021-06-21 10:25:25.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:43:55.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/381e3a40dc45d3636ba8ea437aee402a3fec713b', 'message': 'Fix parsing of infra.mariadb.xinetd logs\n\nCurrently the logs tagged with infra.mariadb.xinetd flow into\nelasticsearch with no hostname or programname attach, thus making\nnavigating the logs very hard.\n\nThe quick fix is renaming the tag to infra.mariadb-xinetd, which is just\nenought to ensure the logs are processed correctly with the existing\nfilters.\n\nTrivialFix\n\nChange-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8\n(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)\n'}]",0,797200,381e3a40dc45d3636ba8ea437aee402a3fec713b,9,4,1,30491,,,0,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/797200/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,381e3a40dc45d3636ba8ea437aee402a3fec713b,fix-mariadb-xinetd-logs-stable/wallaby, tag infra.mariadb-xinetd, tag infra.mariadb.xinetd,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,stable/ussuri,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-20 18:46:52.000000000,2021-06-21 10:26:36.000000000,2021-06-21 10:25:11.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52703cae59424aafcfad34967749897b613185f2', 'message': 'Stop fluentd deprecation warnings of type vs @type\n\nCurrently when elasticsearch log output is enabled there are lots\nof warnings going into elasticsearch about type being deprecated\nand needing to move to @type. This change stops those warnings.\n\nTrivialFix\n\nChange-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6\n(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)\n'}, {'number': 2, 'created': '2021-06-20 18:47:37.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0cc46ff2a4218e49ceb3f308952f784427c9a42d', 'message': 'Stop fluentd deprecation warnings of type vs @type\n\nCurrently when elasticsearch log output is enabled there are lots\nof warnings going into elasticsearch about type being deprecated\nand needing to move to @type. This change stops those warnings.\n\nTrivialFix\n\nChange-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6\n(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)\n'}]",0,797205,0cc46ff2a4218e49ceb3f308952f784427c9a42d,13,4,2,30491,,,0,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/797205/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,52703cae59424aafcfad34967749897b613185f2,fix-fluentd-warning-stable/wallaby-stable/victoria-stable/ussuri," @type elasticsearch<<<<<<< HEAD (e38237 Merge ""Add the ansible_managed header for admin-openrc.sh"" i) ======= {% if neutron_enable_tls_backend | bool %} <match syslog.{{ syslog_neutron_tls_proxy_facility }}.**> @type copy <store> @type file path /var/log/kolla/neutron-tls-proxy/neutron-tls-proxy.*.log output_tag false output_time false append true compress gzip <buffer> timekey_use_utc </buffer> </store> {% if log_direct_to_elasticsearch %} <store> @type elasticsearch host {{ elasticsearch_address }} port {{ elasticsearch_port }} scheme {{ fluentd_elasticsearch_scheme }} {% if fluentd_elasticsearch_path != '' %} path {{ fluentd_elasticsearch_path }} {% endif %} {% if fluentd_elasticsearch_scheme == 'https' %} ssl_version {{ fluentd_elasticsearch_ssl_version }} ssl_verify {{ fluentd_elasticsearch_ssl_verify }} {% endif %} {% if fluentd_elasticsearch_user != '' and fluentd_elasticsearch_password != ''%} user {{ fluentd_elasticsearch_user }} password {{ fluentd_elasticsearch_password }} {% endif %} logstash_format true logstash_prefix {{ kibana_log_prefix }} flush_interval 15s reconnect_on_error true buffer_type file buffer_path /var/lib/fluentd/data/elasticsearch.buffer/{{ syslog_neutron_tls_proxy_facility }}.* </store> {% elif enable_monasca | bool %} <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ monasca_log_api_internal_endpoint }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_neutron_tls_proxy_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store> {% endif %} </match> {% endif %} >>>>>>> CHANGE (5283eb Stop fluentd deprecation warnings of type vs @type)", type elasticsearch,65,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,stable/victoria,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-20 18:45:50.000000000,2021-06-21 10:26:29.000000000,2021-06-21 10:25:05.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:45:50.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5283eb8bfe1978ca67d78abd8759a6351697e05e', 'message': 'Stop fluentd deprecation warnings of type vs @type\n\nCurrently when elasticsearch log output is enabled there are lots\nof warnings going into elasticsearch about type being deprecated\nand needing to move to @type. This change stops those warnings.\n\nTrivialFix\n\nChange-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6\n(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)\n'}]",0,797204,5283eb8bfe1978ca67d78abd8759a6351697e05e,9,4,1,30491,,,0,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/797204/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,5283eb8bfe1978ca67d78abd8759a6351697e05e,fix-fluentd-warning-stable/wallaby-stable/victoria, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,stable/wallaby,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-06-20 18:41:21.000000000,2021-06-21 10:26:26.000000000,2021-06-21 10:24:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:41:21.000000000', 'files': ['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/189c1c245906d4d78e061c98f88e480f0ac95ae9', 'message': 'Fix neutron-ovn-metadata-agent with policy.yaml\n\nThe config.json template for neutron-ovn-metadata-agent uses a\nhard-coded policy file name of policy.json. This prevents use of a\npolicy.yaml file with this service. This patch fixes this.\n\nTrivialFix\n\nChange-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a\n(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)\n'}]",0,797197,189c1c245906d4d78e061c98f88e480f0ac95ae9,9,3,1,30491,,,0,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/797197/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'],1,189c1c245906d4d78e061c98f88e480f0ac95ae9,," } {% if neutron_policy_file is defined %},{ ""source"": ""{{ container_config_directory }}/{{ neutron_policy_file }}"", ""dest"": ""/etc/neutron/{{ neutron_policy_file }}"", ""owner"": ""neutron"", ""perm"": ""0600"" }{% endif %}"," }, { ""source"": ""{{ container_config_directory }}/policy.json"", ""dest"": ""/etc/neutron/policy.json"", ""owner"": ""neutron"", ""perm"": ""0600"", ""optional"": true }",6,7
openstack%2Fkolla-ansible~stable%2Fwallaby~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,stable/wallaby,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-20 18:45:31.000000000,2021-06-21 10:24:57.000000000,2021-06-21 10:24:57.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:45:31.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/252671f8ba3f057fcf17c95c2ea1451b9040a326', 'message': 'Stop fluentd deprecation warnings of type vs @type\n\nCurrently when elasticsearch log output is enabled there are lots\nof warnings going into elasticsearch about type being deprecated\nand needing to move to @type. This change stops those warnings.\n\nTrivialFix\n\nChange-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6\n(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)\n'}]",0,797203,252671f8ba3f057fcf17c95c2ea1451b9040a326,8,4,1,30491,,,0,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/797203/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,252671f8ba3f057fcf17c95c2ea1451b9040a326,fix-fluentd-warning-stable/wallaby, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fmasakari~master~Ic75176119249e48a23db8b75c43b4552fbbeee98,openstack/masakari,master,Ic75176119249e48a23db8b75c43b4552fbbeee98,not wait when error occurs in stop or start.,ABANDONED,2021-05-07 01:54:59.000000000,2021-06-21 10:10:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 01:54:59.000000000', 'files': ['masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/d118f3215123292aaad7449f09b9f9440a1a6473', 'message': 'not wait when error occurs in stop or start.\n\nWhen processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.\n\nChange-Id: Ic75176119249e48a23db8b75c43b4552fbbeee98\n'}]",4,790199,d118f3215123292aaad7449f09b9f9440a1a6473,4,2,1,32722,,,0,"not wait when error occurs in stop or start.

When processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.

Change-Id: Ic75176119249e48a23db8b75c43b4552fbbeee98
",git fetch https://review.opendev.org/openstack/masakari refs/changes/99/790199/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py']",2,d118f3215123292aaad7449f09b9f9440a1a6473,," class InstanceStartFailed(MasakariException): msg_fmt = _(""Failed to start instance %(instance_uuid)s"") class InstanceStopFailed(MasakariException): msg_fmt = _(""Failed to stop instance %(instance_uuid)s"")",,30,0
openstack%2Freleases~master~I5d9024528d08487a7582e0a0e73576b22708a6cf,openstack/releases,master,I5d9024528d08487a7582e0a0e73576b22708a6cf,Fix validation to ensure that first release of series isn't a bugfix,MERGED,2021-06-15 12:27:14.000000000,2021-06-21 10:09:54.000000000,2021-06-21 10:09:54.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/13876d836ed6c759523da721220c6b336b3b2458', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThese changes reactivate this check.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 2, 'created': '2021-06-15 12:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cdcdfe7bcad31e1d522c4d9fc7cc90443f3ef37f', 'message': ""[WIP] Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThese changes reactivate this check.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 3, 'created': '2021-06-15 13:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2c4114729bc166e8992e7793935e9a61d1d842f6', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThe described situation was allowed by checks that we introduced during\nWallaby [2]. Those was designed to ensure that we can build sdist from the\nproposed tag. Indeed, they temporarly created the new git tag to build sdist\nfrom it.  However we never delete this tag after our tests so this temporary\ntag is see as an existing tag and so that led us to the observed bug.\n\nWe check that the first version number of series isn't a bugfix after we tried\nto build the sdist, so the tag remain available, and so the check is skipped.\n\nWe should notice that surely impacted other checks in the same manner.\nHopefully it didn't have too much side effects.\n\nThese changes delete the temporary tag after usage to ensure to restore\nthe initial environment and to stop skipping next checks.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 4, 'created': '2021-06-15 14:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3fa5ac14ffd88e2bfa05246691ab101116847981', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThe described situation was allowed by checks that we introduced during\nWallaby [2]. Those was designed to ensure that we can build sdist from the\nproposed tag. Indeed, they temporarly created the new git tag to build sdist\nfrom it.  However we never delete this tag after our tests so this temporary\ntag is see as an existing tag and so that led us to the observed bug.\n\nWe check that the first version number of series isn't a bugfix after we tried\nto build the sdist, so the tag remain available, and so the check is skipped.\n\nWe should notice that it surely impacted other checks in the same manner.\nHopefully it didn't have too much side effects.\n\nThese changes delete the temporary tag after usage to ensure to restore\nthe initial environment and to stop skipping next checks.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 5, 'created': '2021-06-16 15:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/93ac9ab74c4c6a979ca7743d25c1317f612c508c', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThe described situation was allowed by checks that we introduced during\nWallaby [2]. Those was designed to ensure that we can build sdist from the\nproposed tag. Indeed, they temporarly created the new git tag to build sdist\nfrom it.  However we never delete this tag after our tests so this temporary\ntag is see as an existing tag and so that led us to the observed bug.\n\nWe check that the first version number of series isn't a bugfix after we tried\nto build the sdist, so the tag remain available, and so the check is skipped.\n\nWe should notice that it surely impacted other checks in the same manner.\nHopefully it didn't have too much side effects.\n\nThese changes delete the temporary tag after usage to ensure to restore\nthe initial environment and to stop skipping next checks.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 6, 'created': '2021-06-17 11:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/455e34ae23f4cad5329ffb3b33d14c3344490e8f', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThe described situation was allowed by checks that we introduced during\nWallaby [2]. Those was designed to ensure that we can build sdist from the\nproposed tag. Indeed, they temporarly created the new git tag to build sdist\nfrom it.  However we never delete this tag after our tests so this temporary\ntag is see as an existing tag and so that led us to the observed bug.\n\nWe check that the first version number of series isn't a bugfix after we tried\nto build the sdist, so the tag remain available, and so the check is skipped.\n\nWe should notice that it surely impacted other checks in the same manner.\nHopefully it didn't have too much side effects.\n\nThese changes delete the temporary tag after usage to ensure to restore\nthe initial environment and to stop skipping next checks.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 7, 'created': '2021-06-17 11:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f2d061d685abd0313667346fc609009801560da2', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThe described situation was allowed by checks that we introduced during\nWallaby [2]. Those was designed to ensure that we can build sdist from the\nproposed tag. Indeed, they temporarly created the new git tag to build sdist\nfrom it.  However we never delete this tag after our tests so this temporary\ntag is see as an existing tag and so that led us to the observed bug.\n\nOur validation check that the first version number of series isn't a bugfix\nafter it tried to build the sdist from the new tag, so, without these\nchanges the new tag created previously remain available in the repo, and so\na couple of next checks are skipped, including the validation of the\nversion number, because these checks are decorated to ignore existing\ntags.\n\nWe should notice that it surely impacted other checks in the same manner.\nHopefully it didn't have too much side effects.\n\nThese changes delete the temporary tag after usage to ensure to restore\nthe initial environment and to stop skipping next checks.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}, {'number': 8, 'created': '2021-06-17 11:48:22.000000000', 'files': ['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/gitutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/9504e96b5df4bd26d87c36681fecca5b27872a9d', 'message': ""Fix validation to ensure that first release of series isn't a bugfix\n\nWe recently observed that this check was skipped. Indeed it was\npossible to propose a bugfix version on the first release of a series\nwithout facing validation errors [1].\n\nThe described situation was allowed by checks that we introduced\nduring Wallaby [2]. Those was designed to ensure that we can\nbuild sdist from the proposed tag. Indeed, they temporarly created\nthe new git tag to build sdist from it. However we never delete this\ntag after our tests so this temporary tag is see as an existing tag\nand so that led us to the observed bug.\n\nOur validation check that the first version number of series isn't a\nbugfix after it tried to build the sdist from the new tag, so, without\nthis patch the tag newly created by the sdist check remains available\nin the repo, and so a couple of next checks are skipped, including the\nvalidation of the version number, because these checks are decorated\nto ignore existing tags.\n\nIndeed the function decorated with `skip_existing_tags` detect this\ntemporary tag as an existing tag, so, the decorated functions are\nskipped.\n\nWe should notice that it surely impacted other checks in the same manner.\nIndeed, all validation functions decorated with this function\n`skip_existing_tags` are impacted by this bug.\nHopefully it didn't have too much side effects.\n\nThese changes delete the temporary tag after usage to ensure to restore\nthe initial environment and to stop skipping next checks.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795836\n[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645\n\nChange-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf\n""}]",0,796456,9504e96b5df4bd26d87c36681fecca5b27872a9d,23,3,8,28522,,,0,"Fix validation to ensure that first release of series isn't a bugfix

We recently observed that this check was skipped. Indeed it was
possible to propose a bugfix version on the first release of a series
without facing validation errors [1].

The described situation was allowed by checks that we introduced
during Wallaby [2]. Those was designed to ensure that we can
build sdist from the proposed tag. Indeed, they temporarly created
the new git tag to build sdist from it. However we never delete this
tag after our tests so this temporary tag is see as an existing tag
and so that led us to the observed bug.

Our validation check that the first version number of series isn't a
bugfix after it tried to build the sdist from the new tag, so, without
this patch the tag newly created by the sdist check remains available
in the repo, and so a couple of next checks are skipped, including the
validation of the version number, because these checks are decorated
to ignore existing tags.

Indeed the function decorated with `skip_existing_tags` detect this
temporary tag as an existing tag, so, the decorated functions are
skipped.

We should notice that it surely impacted other checks in the same manner.
Indeed, all validation functions decorated with this function
`skip_existing_tags` are impacted by this bug.
Hopefully it didn't have too much side effects.

These changes delete the temporary tag after usage to ensure to restore
the initial environment and to stop skipping next checks.

[1] https://review.opendev.org/c/openstack/releases/+/795836
[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645

Change-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/796456/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/validate.py'],1,13876d836ed6c759523da721220c6b336b3b2458,fix-first-series-release-check,,@skip_existing_tags,0,1
openstack%2Fcharm-manila-generic~master~I00723438f781d619611ae7f5585a6407df619816,openstack/charm-manila-generic,master,I00723438f781d619611ae7f5585a6407df619816,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:36.000000000,2021-06-21 10:07:56.000000000,2021-06-21 10:07:56.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:10:36.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/80e7b7d7280234f864433952156f041425a90034', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I00723438f781d619611ae7f5585a6407df619816\n'}]",0,791201,80e7b7d7280234f864433952156f041425a90034,11,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I00723438f781d619611ae7f5585a6407df619816
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/01/791201/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,80e7b7d7280234f864433952156f041425a90034,batch-update,fa168dd4-b3eb-11eb-802a-afc8395d4a99,bea18094-64d9-11eb-883d-5f75cf4464d7,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,stable/victoria,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-06-20 18:42:01.000000000,2021-06-21 10:07:40.000000000,2021-06-21 10:05:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:42:01.000000000', 'files': ['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f557229ef67cc6bcccf2772132501d76dad96bc4', 'message': 'Fix neutron-ovn-metadata-agent with policy.yaml\n\nThe config.json template for neutron-ovn-metadata-agent uses a\nhard-coded policy file name of policy.json. This prevents use of a\npolicy.yaml file with this service. This patch fixes this.\n\nTrivialFix\n\nChange-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a\n(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)\n'}]",0,797198,f557229ef67cc6bcccf2772132501d76dad96bc4,9,3,1,30491,,,0,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/797198/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'],1,f557229ef67cc6bcccf2772132501d76dad96bc4,," } {% if neutron_policy_file is defined %},{ ""source"": ""{{ container_config_directory }}/{{ neutron_policy_file }}"", ""dest"": ""/etc/neutron/{{ neutron_policy_file }}"", ""owner"": ""neutron"", ""perm"": ""0600"" }{% endif %}"," }, { ""source"": ""{{ container_config_directory }}/policy.json"", ""dest"": ""/etc/neutron/policy.json"", ""owner"": ""neutron"", ""perm"": ""0600"", ""optional"": true }",6,7
openstack%2Fneutron~master~I7870b869a755054ef1989f86ebdd3470ec5cf435,openstack/neutron,master,I7870b869a755054ef1989f86ebdd3470ec5cf435,"Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""",MERGED,2021-06-02 14:30:13.000000000,2021-06-21 10:06:06.000000000,2021-06-16 19:38:44.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 14:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b8a02a5460c8b99c87f24bb30b7fc5b1b945c94', 'message': 'Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\n\nThis method, when called from outside an active session, must create\na new one, given the context.\n\nThis patch also changes the L3HARouterAgentPortBinding.port\nrelationship to be ""joined"". That will retrieve the port object in the\nmain query and the returned object won\'t need to make a second DB call.\nThe SQL query looks like http://paste.openstack.org/show/806275/.\n\nChange-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435\nCloses-Bug: #1930397\n'}, {'number': 2, 'created': '2021-06-03 15:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76a4b28e3fca525ab58e774f2b9620843b459e23', 'message': 'Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\n\nThis method, when called from outside an active session, must create\na new one, given the context.\n\nThis patch also changes the L3HARouterAgentPortBinding.port and\nL3HARouterAgentPortBinding.agent relationships to be ""joined"". That\nwill retrieve the port object in the main query and the returned\nobject won\'t need to make a second DB call. The SQL query looks\nlike http://paste.openstack.org/show/806275/.\n\nChange-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435\nCloses-Bug: #1930397\n'}, {'number': 3, 'created': '2021-06-08 15:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff2eb955c51c5350df51dbe2ec956c5a49ae1bff', 'message': 'Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\n\nThis method, when called from outside an active session, must create\na new one, given the context.\n\nThis patch also changes the L3HARouterAgentPortBinding.port and\nL3HARouterAgentPortBinding.agent relationships to be ""joined"". That\nwill retrieve the port and the agent DB registers in the main query\nand the returned object won\'t need to make subqueries to retrieve\nthem. The SQL query looks like\nhttp://paste.openstack.org/show/806275/.\n\nChange-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435\nCloses-Bug: #1930397\n'}, {'number': 4, 'created': '2021-06-09 12:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/435d849c6d6cffc6bd03eecf0441c24a135241b0', 'message': 'Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\n\nThis method, when called from outside an active session, must create\na new one, given the context.\n\nThis patch also changes the L3HARouterAgentPortBinding.port and\nL3HARouterAgentPortBinding.agent relationships to be ""joined"". That\nwill retrieve the port and the agent DB registers in the main query\nand the returned object won\'t need to make subqueries to retrieve\nthem. The SQL query looks like\nhttp://paste.openstack.org/show/806275/.\n\nChange-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435\nCloses-Bug: #1930397\n'}, {'number': 5, 'created': '2021-06-09 17:01:33.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/db/models/l3ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc3dc7c8508a142b614ee9cfe3f4a6766f62d8b8', 'message': 'Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\n\nThis method, when called from outside an active session, must create\na new one, given the context.\n\nThis patch also changes the L3HARouterAgentPortBinding.port and\nL3HARouterAgentPortBinding.agent relationships to be ""joined"". That\nwill retrieve the port and the agent DB registers in the main query\nand the returned object won\'t need to make subqueries to retrieve\nthem. The SQL query looks like\nhttp://paste.openstack.org/show/806275/.\n\nChange-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435\nCloses-Bug: #1930397\n'}]",6,794236,cc3dc7c8508a142b614ee9cfe3f4a6766f62d8b8,87,7,5,16688,,,0,"Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""

This method, when called from outside an active session, must create
a new one, given the context.

This patch also changes the L3HARouterAgentPortBinding.port and
L3HARouterAgentPortBinding.agent relationships to be ""joined"". That
will retrieve the port and the agent DB registers in the main query
and the returned object won't need to make subqueries to retrieve
them. The SQL query looks like
http://paste.openstack.org/show/806275/.

Change-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435
Closes-Bug: #1930397
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/794236/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/db/models/l3ha.py']",2,3b8a02a5460c8b99c87f24bb30b7fc5b1b945c94,bug/1930397," port = orm.relationship(models_v2.Port, lazy='joined')", port = orm.relationship(models_v2.Port),2,1
openstack%2Fkolla-ansible~stable%2Fussuri~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,stable/ussuri,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-06-20 18:42:30.000000000,2021-06-21 10:06:05.000000000,2021-06-21 10:04:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:42:30.000000000', 'files': ['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/005d4b89fff8a841d4ac254608f59864ecdd9e54', 'message': 'Fix neutron-ovn-metadata-agent with policy.yaml\n\nThe config.json template for neutron-ovn-metadata-agent uses a\nhard-coded policy file name of policy.json. This prevents use of a\npolicy.yaml file with this service. This patch fixes this.\n\nTrivialFix\n\nChange-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a\n(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)\n'}]",0,797199,005d4b89fff8a841d4ac254608f59864ecdd9e54,9,3,1,30491,,,0,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/797199/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'],1,005d4b89fff8a841d4ac254608f59864ecdd9e54,," } {% if neutron_policy_file is defined %},{ ""source"": ""{{ container_config_directory }}/{{ neutron_policy_file }}"", ""dest"": ""/etc/neutron/{{ neutron_policy_file }}"", ""owner"": ""neutron"", ""perm"": ""0600"" }{% endif %}"," }, { ""source"": ""{{ container_config_directory }}/policy.json"", ""dest"": ""/etc/neutron/policy.json"", ""owner"": ""neutron"", ""perm"": ""0600"", ""optional"": true }",6,7
openstack%2Fvalidations-common~master~I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f,openstack/validations-common,master,I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f,DNM Zuul job generalization,ABANDONED,2021-06-02 07:18:57.000000000,2021-06-21 10:04:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-02 07:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6dba126cd860a220e1623abc18f2eda5e316f515', 'message': 'DNM Zuul job generalization\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f\n'}, {'number': 2, 'created': '2021-06-02 07:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f5d5ca4f2fccb3ce92a85a7871522caaa0802047', 'message': 'DNM Zuul job generalization\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f\n'}, {'number': 3, 'created': '2021-06-02 07:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ac5fff794ec79926cadf16d479ca98aac910a619', 'message': 'DNM Zuul job generalization\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f\n'}, {'number': 4, 'created': '2021-06-02 08:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3a0d996e47c4718f15b54f285b1a8c13727d4936', 'message': 'DNM Zuul job generalization\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f\n'}, {'number': 5, 'created': '2021-06-02 08:44:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c5b4c154246edcbb312a5d5fd8c9c96148367f54', 'message': 'DNM Zuul job generalization\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f\n'}]",0,794144,c5b4c154246edcbb312a5d5fd8c9c96148367f54,8,1,5,32926,,,0,"DNM Zuul job generalization

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/44/794144/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6dba126cd860a220e1623abc18f2eda5e316f515,molecule/jobgeneralization," vars: validations_common_role_name: .* files: - ""^validations_common/roles/{{ validations_common_role_name }}/.*""", files: - ^validations_common/roles/check_selinux_mode/.* files: - ^validations_common/roles/ntp/.* files: - ^validations_common/roles/service_status/.* files: - ^validations_common/roles/advanced_format_512e_support/.* files: - ^validations_common/roles/dns/.* files: - ^validations_common/roles/haproxy/.* files: - ^validations_common/roles/check_cpu/.* files: - ^validations_common/roles/check_ram/.* files: - ^validations_common/roles/check_disk_space/.* files: - ^validations_common/roles/xfs_check_ftype/.* files: - ^validations_common/roles/check_latest_packages_version/.* files: - ^validations_common/roles/validate_selinux/.*,4,24
openstack%2Fcharm-openstack-dashboard~master~I7b8a01658837a0c1b8d61a38198e5c92fa101198,openstack/charm-openstack-dashboard,master,I7b8a01658837a0c1b8d61a38198e5c92fa101198,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:30.000000000,2021-06-21 10:00:32.000000000,2021-06-21 10:00:32.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 12:47:30.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/80f808f4c0ff3fbbdd2ca646c66adca10868d2fb', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I7b8a01658837a0c1b8d61a38198e5c92fa101198\n'}]",0,791170,80f808f4c0ff3fbbdd2ca646c66adca10868d2fb,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I7b8a01658837a0c1b8d61a38198e5c92fa101198
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/70/791170/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,80f808f4c0ff3fbbdd2ca646c66adca10868d2fb,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-neutron-api~master~I1716adb376414077f128c23c286e968dff57793e,openstack/charm-neutron-api,master,I1716adb376414077f128c23c286e968dff57793e,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:55.000000000,2021-06-21 09:56:45.000000000,2021-06-21 09:56:45.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 12:46:55.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/cf1d22f582e45b6f0ab7794004c052fa587b79b2', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I1716adb376414077f128c23c286e968dff57793e\n'}]",0,791165,cf1d22f582e45b6f0ab7794004c052fa587b79b2,13,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I1716adb376414077f128c23c286e968dff57793e
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/65/791165/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,cf1d22f582e45b6f0ab7794004c052fa587b79b2,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Ftripleo-heat-templates~master~Ief8f157c3a758c398aa0e6791dea75c035393ee8,openstack/tripleo-heat-templates,master,Ief8f157c3a758c398aa0e6791dea75c035393ee8,Remove PciPassthroughFilter from NovaSchedulerAvailableFilters,MERGED,2021-06-16 11:01:23.000000000,2021-06-21 09:45:30.000000000,2021-06-21 09:45:30.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 11:01:23.000000000', 'files': ['environments/ovs-hw-offload.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-mlnx-agent.yaml', 'environments/services/neutron-sriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f94c38476e1c297c7ca5887b9563fa6673d780ba', 'message': 'Remove PciPassthroughFilter from NovaSchedulerAvailableFilters\n\nThis patch removes PciPassthroughFilter from\nNovaSchedulerAvailableFilters definitions when\n""nova.scheduler.filters.all_filters"" presents in the list:\nPciPassthroughFilter is part of nova.scheduler.filters.all_filters\nand there is no reason to define it separately.\n\nCloses-bug: #1932146\nChange-Id: Ief8f157c3a758c398aa0e6791dea75c035393ee8\n'}]",0,796625,f94c38476e1c297c7ca5887b9563fa6673d780ba,22,11,1,19234,,,0,"Remove PciPassthroughFilter from NovaSchedulerAvailableFilters

This patch removes PciPassthroughFilter from
NovaSchedulerAvailableFilters definitions when
""nova.scheduler.filters.all_filters"" presents in the list:
PciPassthroughFilter is part of nova.scheduler.filters.all_filters
and there is no reason to define it separately.

Closes-bug: #1932146
Change-Id: Ief8f157c3a758c398aa0e6791dea75c035393ee8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/796625/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ovs-hw-offload.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-mlnx-agent.yaml', 'environments/services/neutron-sriov.yaml']",5,f94c38476e1c297c7ca5887b9563fa6673d780ba,bug/1932146, NovaSchedulerAvailableFilters: ['nova.scheduler.filters.all_filters']," NovaSchedulerAvailableFilters: [""nova.scheduler.filters.all_filters"",""nova.scheduler.filters.pci_passthrough_filter.PciPassthroughFilter""]",5,5
openstack%2Ftripleo-heat-templates~master~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,master,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-11 14:42:19.000000000,2021-06-21 09:45:20.000000000,2021-06-21 09:45:20.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 14:42:19.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f702f7bb1452138811f42309b032f9747182e97', 'message': 'Limit collectds memory usage\n\nto guard nodes from running out of memory.\n\nIf there is a connection issue with collectd not being able to\nwrite to event or metrics endpoints, this can lead to accumulating\nto large portions of memory. Limiting the memory usage via podman\nmemory will prevent the container to grow limitless. In case of\nusing more than 512 MB, podman will restart the container.\n\nChange-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28\n'}]",0,796026,2f702f7bb1452138811f42309b032f9747182e97,28,5,1,4264,,,0,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/796026/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,2f702f7bb1452138811f42309b032f9747182e97,collectd_memory, mem_limit: 512m,,1,0
openstack%2Fceilometer~master~Ic017be5aeb605dd7b5b2723b111337a8611e43bd,openstack/ceilometer,master,Ic017be5aeb605dd7b5b2723b111337a8611e43bd,Remove references to Ocata and Newton,MERGED,2021-06-18 12:05:03.000000000,2021-06-21 09:31:10.000000000,2021-06-21 09:27:47.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 12:05:03.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4efa64e09d9463359f36442836b7020eec6a0046', 'message': 'Remove references to Ocata and Newton\n\nfrom the docs.\n\nChange-Id: Ic017be5aeb605dd7b5b2723b111337a8611e43bd\n'}]",0,797070,4efa64e09d9463359f36442836b7020eec6a0046,9,3,1,4264,,,0,"Remove references to Ocata and Newton

from the docs.

Change-Id: Ic017be5aeb605dd7b5b2723b111337a8611e43bd
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/70/797070/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,4efa64e09d9463359f36442836b7020eec6a0046,docs,," Ocata ~~~~~ To install Ceilometer, see the Ocata Telemetry Data Collection service `install guide <https://docs.openstack.org/project-install-guide/telemetry/ocata/>`__ Newton ~~~~~~ To install Ceilometer, see the Newton Telemetry Data Collection service `install guide <https://docs.openstack.org/project-install-guide/telemetry/newton/>`__",0,12
openstack%2Fneutron~master~I1d60c9c694a6d6821f3ab5a8ab96cbee9c3244c1,openstack/neutron,master,I1d60c9c694a6d6821f3ab5a8ab96cbee9c3244c1,Fix QoS dscp rule permissions in documentation,MERGED,2021-06-15 12:31:42.000000000,2021-06-21 09:21:49.000000000,2021-06-21 09:19:09.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 12:31:42.000000000', 'files': ['doc/source/admin/config-qos.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f656aab7ca338a2bec405f548de535eab0a897f', 'message': 'Fix QoS dscp rule permissions in documentation\n\nCloses bug: #1932016\n\nChange-Id: I1d60c9c694a6d6821f3ab5a8ab96cbee9c3244c1\n'}]",0,796457,8f656aab7ca338a2bec405f548de535eab0a897f,9,3,1,29350,,,0,"Fix QoS dscp rule permissions in documentation

Closes bug: #1932016

Change-Id: I1d60c9c694a6d6821f3ab5a8ab96cbee9c3244c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/796457/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos.rst'],1,8f656aab7ca338a2bec405f548de535eab0a897f,fix_dscp_rule_policy_on_qos_doc_page," ""create_policy_dscp_marking_rule"": ""rule:regular_user"", ""delete_policy_dscp_marking_rule"": ""rule:regular_user"", ""update_policy_dscp_marking_rule"": ""rule:regular_user"","," ""create_dscp_marking_rule"": ""rule:regular_user"", ""delete_dscp_marking_rule"": ""rule:regular_user"", ""update_dscp_marking_rule"": ""rule:regular_user"",",3,3
openstack%2Fneutron~stable%2Fvictoria~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/neutron,stable/victoria,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-06-18 07:43:45.000000000,2021-06-21 09:21:25.000000000,2021-06-21 09:19:01.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:43:45.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5666d76ad76402ef88b277b49ba130cc0db7e555', 'message': ""ovn: Don't use dict.remove() for filtering dhcp ports in db-sync\n\nThe db-sync script removes ovnmeta ports because sometimes removing\nreserved_dhcp_port in the loop doesn't work.\n\nCloses-Bug: #1932421\n\nChange-Id: I78673b6a85f1c872e70026da82124d1ba2326562\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)\n""}]",0,797013,5666d76ad76402ef88b277b49ba130cc0db7e555,10,4,1,8655,,,0,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Closes-Bug: #1932421

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/797013/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,5666d76ad76402ef88b277b49ba130cc0db7e555,wip-stable/wallaby-stable/victoria," # Get only DHCP ports that don't belong to agent, it should return # only OVN metadata ports dhcp_ports = [ p for p in self.core_plugin.get_ports( ctx, filters=dict( network_id=[net['id']], device_owner=[ constants.DEVICE_OWNER_DISTRIBUTED, constants.DEVICE_OWNER_DHCP])) if not utils.is_neutron_dhcp_agent_port(p)]"," dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict( network_id=[net['id']], device_owner=[ constants.DEVICE_OWNER_DISTRIBUTED, constants.DEVICE_OWNER_DHCP])) for port in dhcp_ports: # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port): dhcp_ports.remove(port)",10,10
openstack%2Fkuryr-kubernetes~master~I94a3372c5a18442b1063444c2cf4276be5ccca11,openstack/kuryr-kubernetes,master,I94a3372c5a18442b1063444c2cf4276be5ccca11,Add the regenerate option in building kuryr-controller image,MERGED,2021-06-17 07:39:39.000000000,2021-06-21 09:11:28.000000000,2021-06-21 09:09:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-17 07:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8564187273c7dd21bd1b5862c793714fce734220', 'message': 'Add the regenerate option in building kuryr-controller image\n\nChange-Id: I94a3372c5a18442b1063444c2cf4276be5ccca11\n'}, {'number': 2, 'created': '2021-06-17 13:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02d670e247e5e535ca99c7d3995e2a64be68434e', 'message': 'Add the regenerate option in building kuryr-controller image\n\nChange-Id: I94a3372c5a18442b1063444c2cf4276be5ccca11\n'}, {'number': 3, 'created': '2021-06-17 13:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/05ce11ebb65e6ed251f515e30595c024514ce0fb', 'message': 'Add the regenerate option in building kuryr-controller image\n\nChange-Id: I94a3372c5a18442b1063444c2cf4276be5ccca11\n'}, {'number': 4, 'created': '2021-06-18 10:24:42.000000000', 'files': ['doc/source/installation/containerized.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d0d27f6e2befd74a98fa3652d9478f3e0578050', 'message': 'Add the regenerate option in building kuryr-controller image\n\nChange-Id: I94a3372c5a18442b1063444c2cf4276be5ccca11\n'}]",6,796773,9d0d27f6e2befd74a98fa3652d9478f3e0578050,17,3,4,33240,,,0,"Add the regenerate option in building kuryr-controller image

Change-Id: I94a3372c5a18442b1063444c2cf4276be5ccca11
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/73/796773/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation/containerized.rst'],1,8564187273c7dd21bd1b5862c793714fce734220,containerized,"Alternatively, you can also build the controller image by running the script below: .. code-block:: console $ contrib/regenerate_controller_pod.sh ",,6,0
openstack%2Fcloudkitty-dashboard~master~I2de39baabc3bf4c507f5e6840696f48e7ec737ae,openstack/cloudkitty-dashboard,master,I2de39baabc3bf4c507f5e6840696f48e7ec737ae,docs: Update Freenode to OFTC,MERGED,2021-05-31 08:57:08.000000000,2021-06-21 09:07:54.000000000,2021-06-17 11:13:35.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29313}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-05-31 08:57:08.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/53162a1a6a57a077fe03af606398cadff28eee2d', 'message': 'docs: Update Freenode to OFTC\n\nChange-Id: I2de39baabc3bf4c507f5e6840696f48e7ec737ae\n'}]",0,793741,53162a1a6a57a077fe03af606398cadff28eee2d,10,11,1,15197,,,0,"docs: Update Freenode to OFTC

Change-Id: I2de39baabc3bf4c507f5e6840696f48e7ec737ae
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/41/793741/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,53162a1a6a57a077fe03af606398cadff28eee2d,,:IRC: #cloudkitty @ oftc.net,:IRC: #cloudkitty @ freenode,2,2
openstack%2Fcharm-neutron-api-plugin-arista~master~If6d9eb33a026f7b2383b7f9c72687f283c295233,openstack/charm-neutron-api-plugin-arista,master,If6d9eb33a026f7b2383b7f9c72687f283c295233,rebuild - restore c-h proxy env vars for add-apt-repository,ABANDONED,2021-05-13 13:11:17.000000000,2021-06-21 08:53:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/ce90754305dbbd81e1191d90214c9f1040505901', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: If6d9eb33a026f7b2383b7f9c72687f283c295233\n'}, {'number': 2, 'created': '2021-06-16 13:17:43.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/9a5a90df391673825d13988e08bfd05c7c488594', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: If6d9eb33a026f7b2383b7f9c72687f283c295233\n'}]",0,791208,9a5a90df391673825d13988e08bfd05c7c488594,15,3,2,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: If6d9eb33a026f7b2383b7f9c72687f283c295233
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/08/791208/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ce90754305dbbd81e1191d90214c9f1040505901,batch-update,fa25842e-b3eb-11eb-914d-e7e7337876e7,beb126d4-64d9-11eb-8a5a-0b9c14b07681,1,1
openstack%2Fneutron~stable%2Fwallaby~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/neutron,stable/wallaby,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-06-18 07:43:10.000000000,2021-06-21 08:51:42.000000000,2021-06-21 08:49:41.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:43:10.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26f366119f09b637a56214a3a024ba1b7e65a2f9', 'message': ""ovn: Don't use dict.remove() for filtering dhcp ports in db-sync\n\nThe db-sync script removes ovnmeta ports because sometimes removing\nreserved_dhcp_port in the loop doesn't work.\n\nCloses-Bug: #1932421\n\nChange-Id: I78673b6a85f1c872e70026da82124d1ba2326562\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)\n""}]",0,796872,26f366119f09b637a56214a3a024ba1b7e65a2f9,16,4,1,8655,,,0,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Closes-Bug: #1932421

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/796872/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,26f366119f09b637a56214a3a024ba1b7e65a2f9,wip-stable/wallaby," # Get only DHCP ports that don't belong to agent, it should return # only OVN metadata ports dhcp_ports = [ p for p in self.core_plugin.get_ports( ctx, filters=dict( network_id=[net['id']], device_owner=[ constants.DEVICE_OWNER_DISTRIBUTED, constants.DEVICE_OWNER_DHCP])) if not utils.is_neutron_dhcp_agent_port(p)]"," dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict( network_id=[net['id']], device_owner=[ constants.DEVICE_OWNER_DISTRIBUTED, constants.DEVICE_OWNER_DHCP])) for port in dhcp_ports: # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port): dhcp_ports.remove(port)",10,10
openstack%2Fcharm-neutron-api-plugin-arista~master~I433ff1ba39de876b6f38e290b7f615766e3425b9,openstack/charm-neutron-api-plugin-arista,master,I433ff1ba39de876b6f38e290b7f615766e3425b9,Work around test fixture not working on hirsute,MERGED,2021-06-18 13:23:59.000000000,2021-06-21 08:49:35.000000000,2021-06-21 08:49:35.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 13:23:59.000000000', 'files': ['src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/23135f0908501ecbc92cdf9409b76b65a506ab60', 'message': 'Work around test fixture not working on hirsute\n\nSee https://github.com/openstack-charmers/charm-arista-virt-test-fixture/issues/11\n\nChange-Id: I433ff1ba39de876b6f38e290b7f615766e3425b9\n'}]",0,797081,23135f0908501ecbc92cdf9409b76b65a506ab60,10,3,1,31289,,,0,"Work around test fixture not working on hirsute

See https://github.com/openstack-charmers/charm-arista-virt-test-fixture/issues/11

Change-Id: I433ff1ba39de876b6f38e290b7f615766e3425b9
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/81/797081/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/hirsute-wallaby.yaml'],1,23135f0908501ecbc92cdf9409b76b65a506ab60,fixture-hirsute, # NOTE(lourot): workaround - this charm doesn't work on hirsute+ yet # see https://github.com/openstack-charmers/charm-arista-virt-test-fixture/issues/11 series: groovy ,,4,0
openstack%2Fcharm-tempest~master~Ie65f9714ca80ae8e4a13e9785c5e6afc997934d3,openstack/charm-tempest,master,Ie65f9714ca80ae8e4a13e9785c5e6afc997934d3,THIS CHARM IS DEPRECATED,MERGED,2021-06-18 09:36:46.000000000,2021-06-21 08:49:18.000000000,2021-06-21 08:49:18.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 09:36:46.000000000', 'files': ['src/README.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/06905fee08816b1e0d6a2186f56aeb04bfeee321', 'message': ""THIS CHARM IS DEPRECATED\n\nSee https://review.opendev.org/c/openstack/charm-guide/+/797034\n\nIts functional tests are written with the deprecated\nAmulet framework (replaced by Zaza). Our CI system\nzOSCI can't run Amulet tests.\n\nChange-Id: Ie65f9714ca80ae8e4a13e9785c5e6afc997934d3\nRelated-Bug: #1828424\n""}]",0,797037,06905fee08816b1e0d6a2186f56aeb04bfeee321,6,2,1,31289,,,0,"THIS CHARM IS DEPRECATED

See https://review.opendev.org/c/openstack/charm-guide/+/797034

Its functional tests are written with the deprecated
Amulet framework (replaced by Zaza). Our CI system
zOSCI can't run Amulet tests.

Change-Id: Ie65f9714ca80ae8e4a13e9785c5e6afc997934d3
Related-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/37/797037/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'README.md']",2,06905fee08816b1e0d6a2186f56aeb04bfeee321,bug/1828424,> **WARNING**: DO NOT USE OR CONTRIBUTE. > [THIS CHARM IS DEPRECATED](https://docs.openstack.org/charm-guide/latest/openstack-charms.html). ,,6,0
openstack%2Foctavia~master~I64b5c70fca7f1cacb2ef10c2b61f28b9000c7504,openstack/octavia,master,I64b5c70fca7f1cacb2ef10c2b61f28b9000c7504,Fix new errors with SQLAlchemy 1.4,MERGED,2021-06-18 06:38:00.000000000,2021-06-21 08:38:25.000000000,2021-06-21 08:36:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 06:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/95020ca1ecfd04d722ae8542dce82a35ecaaea11', 'message': 'Fix new errors and warnings with SQLAlchemy 1.4\n\nFixed in Repositories.get_amphora_stats:\n  TypeError: unsupported operand type(s) for +:\n  \'ImmutableColumnCollection\' and \'list\'\n\nFixed in many places:\n  KeyError: ""Deferred loader for attribute \'id\' failed to populate\n  correctly""\n\n  Modifying an object without using a transaction created some issues\n  with the next query. SQLAlchemy flushed and expired the modified\n  object while it still needed to read one attribute. This is a weird\n  behavior in SQLAlchemy>=1.4 (perhaps a bug), but using transactions\n  seems the correct way to update the objects.\n\n  Note: The message in the SQLAlchemy exception is totally bogus.\n\nFixed warnings with the _tags relationships:\n  relationship \'LoadBalancer._tags\' will copy column load_balancer.id to\n  column tags.resource_id, which conflicts with relationship(s):\n  \'HealthMonitor._tags\' [...] To silence this warning, add the parameter\n  \'overlaps=""_tags,_tags,_tags""\' to the \'LoadBalancer._tags\'\n  relationship.\n\nChange-Id: I64b5c70fca7f1cacb2ef10c2b61f28b9000c7504\n'}, {'number': 2, 'created': '2021-06-18 09:29:38.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/db/test_models.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c58a2c7c65feb7a9aa74c1f116865e14da511614', 'message': 'Fix new errors with SQLAlchemy 1.4\n\nFixed in Repositories.get_amphora_stats:\n  TypeError: unsupported operand type(s) for +:\n  \'ImmutableColumnCollection\' and \'list\'\n\nFixed in many places:\n  KeyError: ""Deferred loader for attribute \'id\' failed to populate\n  correctly""\n\n  Modifying an object without using a transaction created some issues\n  with the next query. SQLAlchemy flushed and expired the modified\n  object while it still needed to read one attribute. This is a weird\n  behavior in SQLAlchemy>=1.4 (perhaps a bug), but using transactions\n  seems the correct way to update the objects.\n\n  Note: The message in the SQLAlchemy exception is totally bogus.\n\nChange-Id: I64b5c70fca7f1cacb2ef10c2b61f28b9000c7504\n'}]",0,796994,c58a2c7c65feb7a9aa74c1f116865e14da511614,11,4,2,29244,,,0,"Fix new errors with SQLAlchemy 1.4

Fixed in Repositories.get_amphora_stats:
  TypeError: unsupported operand type(s) for +:
  'ImmutableColumnCollection' and 'list'

Fixed in many places:
  KeyError: ""Deferred loader for attribute 'id' failed to populate
  correctly""

  Modifying an object without using a transaction created some issues
  with the next query. SQLAlchemy flushed and expired the modified
  object while it still needed to read one attribute. This is a weird
  behavior in SQLAlchemy>=1.4 (perhaps a bug), but using transactions
  seems the correct way to update the objects.

  Note: The message in the SQLAlchemy exception is totally bogus.

Change-Id: I64b5c70fca7f1cacb2ef10c2b61f28b9000c7504
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/796994/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/tests/functional/db/test_models.py']",3,95020ca1ecfd04d722ae8542dce82a35ecaaea11,," with self.session.begin(): health_monitor.name = 'test1' with self.session.begin(): vip.ip_address = ""10.0.0.1"" with self.session.begin(): l7policy.action = constants.L7POLICY_ACTION_REDIRECT_TO_POOL l7policy.redirect_pool_id = pool.id with self.session.begin(): l7policy.action = constants.L7POLICY_ACTION_REDIRECT_TO_POOL l7policy.redirect_pool_id = self.FAKE_UUID_2"," health_monitor.name = 'test1' vip.ip_address = ""10.0.0.1"" l7policy.action = constants.L7POLICY_ACTION_REDIRECT_TO_POOL l7policy.redirect_pool_id = pool.id l7policy.action = constants.L7POLICY_ACTION_REDIRECT_TO_POOL l7policy.redirect_pool_id = self.FAKE_UUID_2",27,15
openstack%2Ftripleo-quickstart~master~I01dd6aeeeda2b0207e8a892f8bfccd40382feff7,openstack/tripleo-quickstart,master,I01dd6aeeeda2b0207e8a892f8bfccd40382feff7,rm - OS::TripleO::Undercloud::Net::SoftwareConfig,ABANDONED,2021-05-10 12:34:25.000000000,2021-06-21 07:47:03.000000000,,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-10 12:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6dce4485c39823f693f01ce99727dcb730982d5f', 'message': ""rm - OS::TripleO::Undercloud::Net::SoftwareConfig\n\nDon't set the Net::Software config override in\nfeutureset021 and feutureset063.\n\nThe resource is no longer used since:\nhttps://review.opendev.org/752368\n\nChange-Id: I01dd6aeeeda2b0207e8a892f8bfccd40382feff7\nCloses-Bug: #1927953\n""}, {'number': 2, 'created': '2021-05-12 10:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/756ae351b746f8acf406379b781a454ec3233cf7', 'message': ""rm - OS::TripleO::Undercloud::Net::SoftwareConfig\n\nDon't set the Net::Software config override in\nfeutureset021 and feutureset063.\n\nThe resource is no longer used since:\nhttps://review.opendev.org/752368\n\nAlso enable nova on the underclouf for feutureset063.\nIt is testing for hypervisor count in the overcloud-deploy\nscript. Without nova on the undercloud this tests\ncontinues to loop until the job times out.\n\nChange-Id: I01dd6aeeeda2b0207e8a892f8bfccd40382feff7\nCloses-Bug: #1927953\nCloses-Bug: #1928199\n""}, {'number': 3, 'created': '2021-05-12 13:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a66cc326ffb07af5317081c69bb97076b711bca0', 'message': ""rm - OS::TripleO::Undercloud::Net::SoftwareConfig\n\nDon't set the Net::Software config override in\nfeutureset021 and feutureset063.\n\nThe resource is no longer used since:\nhttps://review.opendev.org/752368\n\nAlso enable nova and swift on the undercloud for\nfeutureset063. It is testing for hypervisor count\nin the overcloud-deploy script. Without nova on the\nundercloud this tests continues to loop until the job\ntimes out. Swift is required for glance with nova.\n\nChange-Id: I01dd6aeeeda2b0207e8a892f8bfccd40382feff7\nCloses-Bug: #1927953\nCloses-Bug: #1928199\n""}, {'number': 4, 'created': '2021-05-12 17:17:38.000000000', 'files': ['config/general_config/featureset063.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3a2d24a5865a6a71fa499d2c243bfdcce65862df', 'message': ""rm - OS::TripleO::Undercloud::Net::SoftwareConfig\n\nDon't set the Net::Software config override in\nfeutureset063.\n\nThe resource is no longer used since:\n  https://review.opendev.org/752368\n\nAlso enable nova and swift on the undercloud for\nfeutureset063. It is testing for hypervisor count\nin the overcloud-deploy script. Without nova on the\nundercloud this tests continues to loop until the job\ntimes out. Swift is required for glance with nova.\n\nCloses-Bug: #1927953\nCloses-Bug: #1928199\nChange-Id: I01dd6aeeeda2b0207e8a892f8bfccd40382feff7\n""}]",2,790430,3a2d24a5865a6a71fa499d2c243bfdcce65862df,18,5,4,24245,,,0,"rm - OS::TripleO::Undercloud::Net::SoftwareConfig

Don't set the Net::Software config override in
feutureset063.

The resource is no longer used since:
  https://review.opendev.org/752368

Also enable nova and swift on the undercloud for
feutureset063. It is testing for hypervisor count
in the overcloud-deploy script. Without nova on the
undercloud this tests continues to loop until the job
times out. Swift is required for glance with nova.

Closes-Bug: #1927953
Closes-Bug: #1928199
Change-Id: I01dd6aeeeda2b0207e8a892f8bfccd40382feff7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/790430/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset021.yml', 'config/general_config/featureset063.yml']",2,6dce4485c39823f693f01ce99727dcb730982d5f,bug/1927953,,"undercloud_resource_registry_args: ""OS::TripleO::Undercloud::Net::SoftwareConfig"": ""{{ undercloud_templates_path }}/net-config-undercloud.yaml""",0,4
openstack%2Fhorizon~master~I08ebdd65165486eb7b8c40980f90c8ef21378447,openstack/horizon,master,I08ebdd65165486eb7b8c40980f90c8ef21378447,[DNR] Test gate jobs,ABANDONED,2021-06-21 05:07:52.000000000,2021-06-21 07:14:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-21 05:07:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/29d2d25ff7fce043202132bef8aab71bb8e32523', 'message': '[DNR] Test gate jobs\n\nChange-Id: I08ebdd65165486eb7b8c40980f90c8ef21378447\n'}]",0,797225,29d2d25ff7fce043202132bef8aab71bb8e32523,3,1,1,29313,,,0,"[DNR] Test gate jobs

Change-Id: I08ebdd65165486eb7b8c40980f90c8ef21378447
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/797225/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,29d2d25ff7fce043202132bef8aab71bb8e32523,,,,1,0
openstack%2Fkolla-ansible~master~I68017d1ca1ee87da0002d60b09898784aadde3a8,openstack/kolla-ansible,master,I68017d1ca1ee87da0002d60b09898784aadde3a8,Add the configfs kernel module when using iscsid,ABANDONED,2017-10-11 16:56:49.000000000,2021-06-21 07:11:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 18061}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-11 16:56:49.000000000', 'files': ['ansible/roles/iscsi/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8df3fe3d23d69b43b7be0f2a128fe1e9a3a39977', 'message': 'Add the configfs kernel module when using iscsid\n\nWithout the configfs module the iscsid container fails to start as it\ncannot create /sys/kernel/config\n\nChange-Id: I68017d1ca1ee87da0002d60b09898784aadde3a8\n'}]",4,511296,8df3fe3d23d69b43b7be0f2a128fe1e9a3a39977,8,6,1,18061,,,0,"Add the configfs kernel module when using iscsid

Without the configfs module the iscsid container fails to start as it
cannot create /sys/kernel/config

Change-Id: I68017d1ca1ee87da0002d60b09898784aadde3a8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/511296/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/iscsi/tasks/config.yml'],1,8df3fe3d23d69b43b7be0f2a128fe1e9a3a39977,, - name: Add configfs kernel module modeprobe: name: configfs state: present,,5,0
openstack%2Ftripleo-docs~master~I7f48a84205b199bffdc0f166403fc25c1eb6e07e,openstack/tripleo-docs,master,I7f48a84205b199bffdc0f166403fc25c1eb6e07e,Document node provision ansible_playbook iface,MERGED,2021-06-16 12:04:30.000000000,2021-06-21 07:04:11.000000000,2021-06-21 07:02:39.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 12:04:30.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8d164d73ac214e8e4a9feab9d3dbe7e0c89599ae', 'message': 'Document node provision ansible_playbook iface\n\nAdd documentation for the overcloud node provision\nansible_playbook interface. This interface allow\nthe user to specify playbooks and extra vars that\nwill be executed against the deployed nodes prior\nto network configuration.\n\nDepends-On: https://review.opendev.org/794017\nChange-Id: I7f48a84205b199bffdc0f166403fc25c1eb6e07e\n'}]",0,796635,8d164d73ac214e8e4a9feab9d3dbe7e0c89599ae,10,3,1,24245,,,0,"Document node provision ansible_playbook iface

Add documentation for the overcloud node provision
ansible_playbook interface. This interface allow
the user to specify playbooks and extra vars that
will be executed against the deployed nodes prior
to network configuration.

Depends-On: https://review.opendev.org/794017
Change-Id: I7f48a84205b199bffdc0f166403fc25c1eb6e07e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/35/796635/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,8d164d73ac214e8e4a9feab9d3dbe7e0c89599ae,network-data-v2,"* ``ansible_playbooks``: A list of dict for Ansible playbooks and Ansible vars, the playbooks are run against the role instances after node provisioning, prior to the node network configuration. See :ref:`ansible-playbook-properties` for more details and examples. .. note:: Playbooks only run if '--network-config' is enabled. .. _ansible-playbook-properties: Ansible Playbooks ----------------- The role ``ansible_playbooks`` takes a list of playbook definitions, supporting the ``playbook`` and ``extra_vars`` sub-properties. * ``playbook``: The path (relative to the roles definition YAML file) to the ansible playbook. * ``extra_vars``: Extra Ansible variables to set when running the playbook. .. note:: Playbooks only run if '--network-config' is enabled. Run arbitrary playbooks: .. code-block:: yaml ansible_playbooks: - playbook: a_playbook.yaml - playbook: b_playbook.yaml Run arbitrary playbooks with extra variables defined for one of the playbooks: .. code-block:: yaml ansible_playbooks: - playbook: a_playbook.yaml extra_vars: param1: value1 param2: value2 - playbook: b_playbook.yaml ",,42,0
openstack%2Fpython-octaviaclient~stable%2Fussuri~Ibc39478ab220d014264f066db041d7d2e28cb7b1,openstack/python-octaviaclient,stable/ussuri,Ibc39478ab220d014264f066db041d7d2e28cb7b1,Dropping lower-constraints job,MERGED,2021-06-18 07:05:36.000000000,2021-06-21 07:00:59.000000000,2021-06-21 06:59:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:05:36.000000000', 'files': ['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/441547ff7f9ea56bfd55d3521025150c3033729f', 'message': ""Dropping lower-constraints job\n\nWe decided to drop lower-constraints jobs in the Octavia projects on\nstable branches. They consume too much time to get them updated.\nWe're still maintaining those jobs on master branches.\n\nChange-Id: Ibc39478ab220d014264f066db041d7d2e28cb7b1\n""}]",0,796996,441547ff7f9ea56bfd55d3521025150c3033729f,9,4,1,29244,,,0,"Dropping lower-constraints job

We decided to drop lower-constraints jobs in the Octavia projects on
stable branches. They consume too much time to get them updated.
We're still maintaining those jobs on master branches.

Change-Id: Ibc39478ab220d014264f066db041d7d2e28cb7b1
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/96/796996/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",3,441547ff7f9ea56bfd55d3521025150c3033729f,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,66
openstack%2Fsecurity-doc~master~Ic9b9885d4c6e6da57be026adfabcfa53e05c5587,openstack/security-doc,master,Ic9b9885d4c6e6da57be026adfabcfa53e05c5587,Updated from openstack-manuals,MERGED,2021-06-20 08:27:16.000000000,2021-06-21 06:28:57.000000000,2021-06-21 06:26:12.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-20 08:27:16.000000000', 'files': ['common/source/locale/ja/LC_MESSAGES/common.po', 'common/source/locale/tr_TR/LC_MESSAGES/common.po', 'common/source/locale/de/LC_MESSAGES/common.po', 'common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/8ac414cf22919d3d7cb0ca6a0ff60afa1e303dd7', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ic9b9885d4c6e6da57be026adfabcfa53e05c5587\n'}]",0,797188,8ac414cf22919d3d7cb0ca6a0ff60afa1e303dd7,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ic9b9885d4c6e6da57be026adfabcfa53e05c5587
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/88/797188/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/source/locale/ja/LC_MESSAGES/common.po', 'common/source/locale/tr_TR/LC_MESSAGES/common.po', 'common/source/locale/de/LC_MESSAGES/common.po', 'common/source/locale/id/LC_MESSAGES/common.po']",4,8ac414cf22919d3d7cb0ca6a0ff60afa1e303dd7,openstack/openstack-manuals,"""POT-Creation-Date: 2021-06-05 07:46+0000\n""","""POT-Creation-Date: 2021-02-01 15:12+0000\n""""The OpenStack community lives in the #openstack IRC channel on the Freenode "" ""network. You can hang out, ask questions, or get immediate feedback for "" ""urgent and pressing issues. To install an IRC client or use a browser-based "" ""client, go to `https://webchat.freenode.net/ <https://webchat.freenode."" ""net>`_. You can also use `Colloquy <http://colloquy.info/>`_ (Mac OS X), "" ""`mIRC <http://www.mirc.com/>`_ (Windows), or XChat (Linux). When you are in "" ""the IRC channel and want to share code or command output, the generally "" ""accepted method is to use a Paste Bin. The OpenStack project has one at "" ""`Paste <http://paste.openstack.org>`_. Just paste your longer amounts of "" ""text or logs in the web form and you get a URL that you can paste into the "" ""channel. The OpenStack IRC channel is ``#openstack`` on ``irc.freenode."" ""net``. You can find a list of all OpenStack IRC channels on the `IRC page on "" ""the wiki <https://wiki.openstack.org/wiki/IRC>`_."" msgstr """" ""Komunitas OpenStack tinggal di saluran #openstack IRC pada jaringan "" ""Freenode. Anda bisa nongkrong, mengajukan pertanyaan, atau mendapatkan umpan "" ""balik segera untuk masalah mendesak dan mendesak. Untuk menginstal klien IRC "" ""atau menggunakan klien berbasis browser, buka `https://webchat.freenode.net/ "" ""<https://webchat.freenode.net>` _. Anda juga dapat menggunakan `Koloid "" ""(http://colloquy.info/>` _ (Mac OS X), `mIRC <http://www.mirc.com/>` _ "" ""(Windows), atau XChat (Linux). Bila Anda berada di saluran IRC dan ingin "" ""berbagi kode atau keluaran perintah, metode yang diterima secara umum adalah "" ""dengan menggunakan Paste Bin. Proyek OpenStack memiliki satu di `Paste "" ""<http://paste.openstack.org>` _. Cukup tempelkan teks teks atau log Anda "" ""yang lebih lama ke formulir web dan Anda mendapatkan URL yang dapat Anda "" ""tempel ke saluran. Saluran OpenStack IRC adalah `` # openstack`` pada `` irc."" ""freenode.net``. Anda dapat menemukan daftar semua saluran IRC OpenStack di "" ""halaman `IRC di wiki <https://wiki.openstack.org/wiki/IRC>` _."" msgid """"""To provide feedback on documentation, join our IRC channel ``#openstack-"" ""doc`` on the Freenode IRC network, or `report a bug in Launchpad <https://"" ""bugs.launchpad.net/openstack/+filebug>`_ and choose the particular project "" ""that the documentation is a part of."" msgstr """" ""Untuk memberikan masukan tentang dokumentasi, ikuti saluran IRC ``#openstack-"" ""doc`` kami di jaringan Freenode IRC, atau `report a bug in Launchpad "" ""<https://bugs.launchpad.net/openstack/+filebug>`_ dan pilih proyek tertentu "" ""yang menjadi bagian dokumentasi."" msgid """"",4,144
openstack%2Ftraining-guides~master~Idd0148874a66d182426d14c4b4f8673d5d942549,openstack/training-guides,master,Idd0148874a66d182426d14c4b4f8673d5d942549,Imported Translations from Zanata,MERGED,2021-06-20 08:22:07.000000000,2021-06-21 06:24:14.000000000,2021-06-21 06:21:54.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-20 08:22:07.000000000', 'files': ['doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/bef81a40bf6343b3f65d7c85f741e753ee910131', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Idd0148874a66d182426d14c4b4f8673d5d942549\n'}]",0,797187,bef81a40bf6343b3f65d7c85f741e753ee910131,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Idd0148874a66d182426d14c4b4f8673d5d942549
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/87/797187/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po']",2,bef81a40bf6343b3f65d7c85f741e753ee910131,zanata/translations,"""POT-Creation-Date: 2021-05-28 09:04+0000\n""","""POT-Creation-Date: 2020-10-26 07:30+0000\n""msgid """" ""If you are attempting the steps above before the Upstream Institute class "" ""and need assistance you can find mentors in the #openstack-upstream-"" ""institute channel on irc.freenode.net."" msgstr """" ""Jika Anda mencoba langkah-langkah di atas sebelum kelas Upstream Institute "" ""dan membutuhkan bantuan, Anda dapat menemukan mentor di saluran # openstack-"" ""upstream-institute di irc.freenode.net."" ",6,14
openstack%2Fkolla-ansible~master~If099002b0c3308c4d259c06ae86fd5663f74b6ca,openstack/kolla-ansible,master,If099002b0c3308c4d259c06ae86fd5663f74b6ca,Support multipath disk for bluestore in kolla-ansible,ABANDONED,2018-09-05 08:17:13.000000000,2021-06-21 06:02:51.000000000,,"[{'_account_id': 7488}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24250}, {'_account_id': 24574}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-09-05 08:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/faffd0433f62fbd4289ee1acc28fb2b0fa9338ab', 'message': ""Deploy bluestore directly with partition name in kolla-ansible\n\n1.In the bluestore initialization code, the device name and the\npartition sequence are used to splicing the partition name, but\nthis causes a certain code redundancy and doesn't support other\ndevices, such as bcache devices. This patch solves this problem\nand uses the partition name directly.\n2.Optimized the return information of find_disks.py, only returns\nvalid disk information, does not return null values.\n3.When osd_initial_weight is auto, kolla will calculate the weight\naccording to the size of the disk, so when using bluestore, it need\nto calculate the weight according to the size of the block.\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n""}, {'number': 2, 'created': '2018-09-05 08:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3b6bc297848f8169fdec9e9076a3a02f3b835ea', 'message': ""Use partition name directly for bluestore\n\n1.In the bluestore initialization code, the device name and the\npartition sequence are used to splicing the partition name, but\nthis causes a certain code redundancy and doesn't support other\ndevices, such as bcache devices. This patch solves this problem\nand uses the partition name directly.\n2.Optimized the return information of find_disks.py, only returns\nvalid disk information, does not return null values.\n3.When osd_initial_weight is auto, kolla will calculate the weight\naccording to the size of the disk, so when using bluestore, it need\nto calculate the weight according to the size of the block.\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n""}, {'number': 3, 'created': '2018-09-06 03:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb8f9f09b191048f35a8cb4a298363f313683a3f', 'message': ""Use partition name for bluestore in kolla-ansible\n\n1.In the bluestore initialization code, the device name and the\npartition sequence are used to splicing the partition name, but\nthis causes a certain code redundancy and doesn't support other\ndevices, such as bcache devices. This patch solves this problem\nand uses the partition name directly.\n2.Optimized the return information of find_disks.py, only returns\nvalid disk information, does not return null values.\n3.When osd_initial_weight is auto, kolla will calculate the weight\naccording to the size of the disk, so when using bluestore, it need\nto calculate the weight according to the size of the block.\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n""}, {'number': 4, 'created': '2018-11-01 01:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46a23241c3395154603626799d3e30c9aafda234', 'message': 'Support multipath disk for bluestore in kolla-ansible\n\nSupport for bluestore osd deployment on multipath disks.\n\nCloses-bug: #1741489\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n'}, {'number': 5, 'created': '2018-11-01 01:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8f8db348f827e90b549b1e1433df03ac03c9289', 'message': 'Support multipath disk for bluestore in kolla-ansible\n\nSupport for bluestore osd deployment on multipath disks.\n\nCloses-bug: #1741489\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n'}, {'number': 6, 'created': '2019-04-29 10:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/740ee750e67f6d342dabcad3fa9112d86f6f9eb9', 'message': 'Support multipath disk for bluestore in kolla-ansible\n\nSupport for bluestore osd deployment on multipath disks.\n\nCloses-bug: #1741489\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n'}, {'number': 7, 'created': '2019-05-05 08:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a4f8b50d2911436a23c0eb0c023fd5a800ae7f2', 'message': 'Support multipath disk for bluestore in kolla-ansible\n\nSupport for bluestore osd deployment on multipath disks.\n\nCloses-bug: #1741489\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n'}, {'number': 8, 'created': '2019-07-11 07:13:38.000000000', 'files': ['ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/ceph/tasks/start_osds.yml', 'ansible/roles/ceph/templates/60-ceph-by-parttypeuuid.rules', 'ansible/group_vars/all.yml', 'doc/source/reference/storage/ceph-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/14bd805926d16eb5e893058b0d18e438b3091c92', 'message': 'Support multipath disk for bluestore in kolla-ansible\n\nSupport for bluestore osd deployment on multipath disks.\n\nCloses-bug: #1741489\n\nChange-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca\nDepends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1\n'}]",0,599962,14bd805926d16eb5e893058b0d18e438b3091c92,26,8,8,24250,,,0,"Support multipath disk for bluestore in kolla-ansible

Support for bluestore osd deployment on multipath disks.

Closes-bug: #1741489

Change-Id: If099002b0c3308c4d259c06ae86fd5663f74b6ca
Depends-On: I5b544a966edf5f0814cc14fd964d04c4687045e1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/599962/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/ceph/tasks/start_osds.yml']",2,faffd0433f62fbd4289ee1acc28fb2b0fa9338ab,bug/1741489," JOURNAL_PARTITION: ""{{ item.1.journal | default('') }}"""," JOURNAL_PARTITION: ""{{ item.1.journal }}""",31,27
openstack%2Fcyborg~master~I13e74ef3c66d71380e6fa0d0e773afcda359b0fc,openstack/cyborg,master,I13e74ef3c66d71380e6fa0d0e773afcda359b0fc,docs: Update Freenode to OFTC,MERGED,2021-06-03 07:26:49.000000000,2021-06-21 05:54:37.000000000,2021-06-21 05:53:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-03 07:26:49.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/708fb1550454646470e0d48862cff5caf0310a5c', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\n\nChange-Id: I13e74ef3c66d71380e6fa0d0e773afcda359b0fc\n'}]",0,794453,708fb1550454646470e0d48862cff5caf0310a5c,10,3,1,31412,,,0,"docs: Update Freenode to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html

Change-Id: I13e74ef3c66d71380e6fa0d0e773afcda359b0fc
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/53/794453/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,708fb1550454646470e0d48862cff5caf0310a5c,,We use the #openstack-cyborg channel on the OFTC IRC network.,We use the #openstack-cyborg IRC channel.,1,1
openstack%2Fcinder~master~Ic798c0ff45faa1df6374bf39cc5660d25b369fee,openstack/cinder,master,Ic798c0ff45faa1df6374bf39cc5660d25b369fee,volume api: Remove unused get_snapshot_metadata_value method,MERGED,2021-04-30 18:06:39.000000000,2021-06-21 05:23:00.000000000,2021-06-16 17:30:48.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-30 18:06:39.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b841a3aff763b3345cf3107330ceb1b2f2721a98', 'message': 'volume api: Remove unused get_snapshot_metadata_value method\n\nThis method is not used.\n\nChange-Id: Ic798c0ff45faa1df6374bf39cc5660d25b369fee\n'}]",0,788992,b841a3aff763b3345cf3107330ceb1b2f2721a98,56,8,1,4523,,,0,"volume api: Remove unused get_snapshot_metadata_value method

This method is not used.

Change-Id: Ic798c0ff45faa1df6374bf39cc5660d25b369fee
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/788992/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,b841a3aff763b3345cf3107330ceb1b2f2721a98,,," def get_snapshot_metadata_value(self, snapshot, key): LOG.info(""Get snapshot metadata value not implemented."", resource=snapshot) ",0,4
openstack%2Fcinder~master~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,master,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-16 14:38:24.000000000,2021-06-21 05:22:11.000000000,2021-06-17 12:19:46.000000000,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 14:38:24.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n'}]",0,796685,8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2,20,4,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/796685/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2,unity-fix-typo,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fcinder~master~I46e676cfd885a38008772f8ae20742da4955ae81,openstack/cinder,master,I46e676cfd885a38008772f8ae20742da4955ae81,PowerMax Driver - Fix for create group from source,MERGED,2021-03-16 10:20:59.000000000,2021-06-21 05:21:47.000000000,2021-06-16 17:33:14.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 31016}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-03-16 10:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/810baaf72f560adcf904903f7647663e9603830d', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 2, 'created': '2021-03-16 12:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a4837fde26108e39fb427a1db7c989f805afb75', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 3, 'created': '2021-03-19 14:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76df20b4161844df59fc77e2475846b1be150594', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 4, 'created': '2021-03-24 12:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c507ba06ad1000a36f094800a7e3b2c061fd152', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 5, 'created': '2021-03-25 14:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18a872ed5c70eea77c79d7f69436585e82a20c6c', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 6, 'created': '2021-04-02 13:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb579fc1387e31f094048183776dfa462cc7c173', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 7, 'created': '2021-04-09 12:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba7b26d386269a809251d1af3cdcca731b424d46', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 8, 'created': '2021-05-13 15:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c68a2e9efb635c2b3525532801b7ade9ef48f896', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}, {'number': 9, 'created': '2021-05-17 15:09:15.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'releasenotes/notes/powermax-create-grp-source-560139c0850e60ce.yaml', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9af47a2fc4cf4652ade9a90dc38d270be5809e03', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n'}]",3,780774,9af47a2fc4cf4652ade9a90dc38d270be5809e03,220,5,9,12670,,,0,"PowerMax Driver - Fix for create group from source

Fix for creating a group from the source when the source
storage group is replicated. The newly created target group
must not be replicated initially so the replicate group API can
succeed.  A few force flags are also required to add and
remove from a replicated storage group.  The modify snap API
also needs a force flag.

Change-Id: I46e676cfd885a38008772f8ae20742da4955ae81
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/780774/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'releasenotes/notes/powermax-create-grp-source-560139c0850e60ce.yaml', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",8,810baaf72f560adcf904903f7647663e9603830d,merge_sync_clone_checks," force = ( ""true"" if utils.FORCE_VOL_EDIT in extra_specs else ""false"") ""star"": 'false', ""force"": force, if volume_details and isinstance(volume_details, dict): s_in['snapshotSrcs'] if s_in and s_in.get( 'snapshotSrcs') else list()) s_in['snapshotLnks'][0] if s_in and s_in.get( 'snapshotLnks') else dict())"," ""star"": 'false', ""force"": 'false', if volume_details: s_in['snapshotSrcs'] if s_in.get('snapshotSrcs') else list()) s_in['snapshotLnks'][0] if s_in.get('snapshotLnks') else dict())",214,41
openstack%2Fneutron~stable%2Fwallaby~If76c6ee1734f544abdd4196431351d4328ad26fd,openstack/neutron,stable/wallaby,If76c6ee1734f544abdd4196431351d4328ad26fd,Read keepalived initial state in parallel to interface monitoring,MERGED,2021-06-18 07:33:06.000000000,2021-06-21 05:10:34.000000000,2021-06-21 05:09:16.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:33:06.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8576690c19015f869dc2e454d16752b69490b99e', 'message': 'Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread does not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)\n'}]",0,796865,8576690c19015f869dc2e454d16752b69490b99e,33,3,1,11975,,,0,"Read keepalived initial state in parallel to interface monitoring

The initial router state method is now a thread that is executed
in parallel with the ""ip monitor"" thread. If by any circumstance
this thread does not read the interface IP addresses on time, the
state of the router will be defined as ""backup"".

Related-Bug: #1917793

Change-Id: If76c6ee1734f544abdd4196431351d4328ad26fd
(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/796865/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py']",2,8576690c19015f869dc2e454d16752b69490b99e,bug/1917793-stable/wallaby,"from neutron.common import utils as common_utilsINITIAL_STATE_READ_TIMEOUT = 10 self._initial_state = None @property def initial_state(self): return self._initial_state @initial_state.setter def initial_state(self, state): if not self._initial_state: LOG.debug('Initial status of router %s is %s', self.router_id, state) self._initial_state = state def run(self): self._thread_initial_state = threading.Thread( target=self.handle_initial_state) self._thread_initial_state.start() # NOTE(ralonsoh): if the initial status is not read in a defined # timeout, ""backup"" state is set. self._thread_initial_state.join(timeout=INITIAL_STATE_READ_TIMEOUT) if not self.initial_state: LOG.warning('Timeout reading the initial status of router %s, ' 'state is set to ""backup"".', self.router_id) self.write_state_change('backup') self.notify_agent('backup') cidr = common_utils.ip_to_cidr(self.cidr) # NOTE(ralonsoh): ""get_devices_with_ip"" without passing an IP # address performs one single pyroute2 command. Because the number # of interfaces in the namespace is reduced, this is faster. for address in ip_lib.get_devices_with_ip(self.namespace): if (address['name'] == self.interface and address['cidr'] == cidr): if not self.initial_state: self.write_state_change(state) self.notify_agent(state) except Exception: if not self.initial_state: LOG.exception('Failed to get initial status of router %s', self.router_id) self.initial_state = state"," def run(self): self.handle_initial_state() ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: LOG.debug('Initial status of router %s is %s', self.router_id, state) self.write_state_change(state) self.notify_agent(state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id)",60,10
openstack%2Fopenstack-helm-infra~master~Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2,openstack/openstack-helm-infra,master,Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2,Enable Ceph CSI Provisioner to Stand Alone,MERGED,2021-06-10 22:37:30.000000000,2021-06-21 04:19:03.000000000,2021-06-21 04:17:52.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 30449}, {'_account_id': 30746}, {'_account_id': 32190}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-06-10 22:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dca387d71716be734bf26a3f6c29a23638c7da1f', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}, {'number': 2, 'created': '2021-06-11 14:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44a0ecf6eaa6c1fc7931c7457bce3e2bc33c0a65', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nAlso, the deployment scripts are updated so that the old RBD and\nCSI RBD provisioners are separately enabled/disabled as needed.\nThe original RBD provisioner is now deprecated.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}, {'number': 3, 'created': '2021-06-11 16:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5fa8c1089b55e4519e6ea720d639247cab728320', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nAlso, the deployment scripts are updated so that the old RBD and\nCSI RBD provisioners are separately enabled/disabled as needed.\nThe original RBD provisioner is now deprecated.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}, {'number': 4, 'created': '2021-06-15 02:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b92b83aab5ac8700d00b1462f1e68886da70f915', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nAlso, the deployment scripts are updated so that the old RBD and\nCSI RBD provisioners are separately enabled/disabled as needed.\nThe original RBD provisioner is now deprecated.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}, {'number': 5, 'created': '2021-06-15 02:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6476675edbb6d732cd63887ddaf9f4905ac2e4c4', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nAlso, the deployment scripts are updated so that the old RBD and\nCSI RBD provisioners are separately enabled/disabled as needed.\nThe original RBD provisioner is now deprecated.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}, {'number': 6, 'created': '2021-06-15 03:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebb885d680e1a8faa3358003fd23cb049ee62c9e', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nAlso, the deployment scripts are updated so that the old RBD and\nCSI RBD provisioners are separately enabled/disabled as needed.\nThe original RBD provisioner is now deprecated.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}, {'number': 7, 'created': '2021-06-15 14:48:41.000000000', 'files': ['tools/deployment/osh-infra-logging-tls/030-radosgw-osh-infra.sh', 'ceph-provisioners/Chart.yaml', 'ceph-provisioners/templates/deployment-csi-rbd-provisioner.yaml', 'releasenotes/notes/ceph-provisioners.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-provisioners/templates/configmap-etc-client.yaml', 'tools/deployment/tenant-ceph/040-tenant-ceph.sh', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml', 'ceph-mon/values.yaml', 'ceph-provisioners/templates/job-bootstrap.yaml', 'tools/deployment/osh-infra-logging-tls/025-ceph-ns-activate.sh', 'tools/deployment/tenant-ceph/030-ceph.sh', 'releasenotes/notes/ceph-mon.yaml', 'tools/deployment/multinode/035-ceph-ns-activate.sh', 'tools/deployment/osh-infra-logging/025-ceph-ns-activate.sh', 'tools/deployment/tenant-ceph/045-tenant-ceph-ns-activate.sh', 'ceph-provisioners/templates/job-namespace-client-ceph-config.yaml', 'tools/deployment/osh-infra-logging-tls/020-ceph.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'tools/deployment/tenant-ceph/060-radosgw-openstack.sh', 'doc/source/testing/ceph-resiliency/failure-domain.rst', 'ceph-provisioners/values.yaml', 'tools/deployment/armada/manifests/armada-ceph.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-mon/Chart.yaml', 'tools/deployment/osh-infra-logging/030-radosgw-osh-infra.sh', 'tools/deployment/openstack-support/025-ceph-ns-activate.sh', 'ceph-provisioners/templates/configmap-etc-csi.yaml', 'tools/deployment/multinode/030-ceph.sh', 'ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml', 'tools/deployment/multinode/115-radosgw-osh-infra.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9404f89c22c25d6ebf4fe791edf94fd554b6c9a', 'message': ""Enable Ceph CSI Provisioner to Stand Alone\n\nThe current implementation of the Ceph CSI provisioner is tied too\nclosely with the older Ceph RBD provisioner, which doesn't let the\ndeployer deploy Ceph CSI provisioner without the old RBD provisioner.\n\nThis patchset will decouple them such that they can be deployed\nindependently from one another.\n\nA few other changes are needed as well:\n1) The deployment/gate scripts are updated so that the old RBD and\n   CSI RBD provisioners are separately enabled/disabled as needed.\n   The original RBD provisioner is now deprecated.\n2) Ceph-mon chart is updated because it had some RBD storageclass\n   data in values.yaml that is not needed for ceph-mon deployment.\n3) Fixed a couple of bugs in job-cephfs-client-key.yaml where RBD\n   parameters were being used instead of cephfs parameters.\n\nChange-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2\n""}]",0,795907,d9404f89c22c25d6ebf4fe791edf94fd554b6c9a,28,8,7,22636,,,0,"Enable Ceph CSI Provisioner to Stand Alone

The current implementation of the Ceph CSI provisioner is tied too
closely with the older Ceph RBD provisioner, which doesn't let the
deployer deploy Ceph CSI provisioner without the old RBD provisioner.

This patchset will decouple them such that they can be deployed
independently from one another.

A few other changes are needed as well:
1) The deployment/gate scripts are updated so that the old RBD and
   CSI RBD provisioners are separately enabled/disabled as needed.
   The original RBD provisioner is now deprecated.
2) Ceph-mon chart is updated because it had some RBD storageclass
   data in values.yaml that is not needed for ceph-mon deployment.
3) Fixed a couple of bugs in job-cephfs-client-key.yaml where RBD
   parameters were being used instead of cephfs parameters.

Change-Id: Icb5f78dcefa51990baf1b6d92411eb641c2ea9e2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/795907/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/values.yaml', 'ceph-provisioners/templates/configmap-etc-csi.yaml', 'ceph-provisioners/templates/deployment-csi-rbd-provisioner.yaml', 'ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml']",4,dca387d71716be734bf26a3f6c29a23638c7da1f,update-ceph-csi-provisioner,{{- if and .Values.manifests.deployment_csi_rbd_provisioner .Values.deployment.csi_rbd_provisioner }},{{- if and .Values.manifests.deployment_csi_rbd_provisioner .Values.deployment.rbd_provisioner }},31,7
openstack%2Ftrove~master~Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792,openstack/trove,master,Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792,Fix backup using customized container image registry,MERGED,2021-06-20 21:11:07.000000000,2021-06-21 03:20:38.000000000,2021-06-21 03:19:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-20 21:11:07.000000000', 'files': ['trove/guestagent/datastore/mysql/service.py', 'releasenotes/notes/xena-fix-backup-custom-image-registry.yaml', 'trove/guestagent/utils/docker.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6d2ab68a8aa0406ee6320e778b8e290827c9e730', 'message': 'Fix backup using customized container image registry\n\nChange-Id: Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792\nStory: 2008996\nTask: 42658\n'}]",0,797218,6d2ab68a8aa0406ee6320e778b8e290827c9e730,7,2,1,6732,,,0,"Fix backup using customized container image registry

Change-Id: Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792
Story: 2008996
Task: 42658
",git fetch https://review.opendev.org/openstack/trove refs/changes/18/797218/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql/service.py', 'releasenotes/notes/xena-fix-backup-custom-image-registry.yaml', 'trove/guestagent/utils/docker.py']",3,6d2ab68a8aa0406ee6320e778b8e290827c9e730,bridge-network," LOG.debug(f'Removing existing container {name}') LOG.info( f'Running container {name}, image: {image}, ' f'network_mode: {network_mode}, volumes: {volumes}, ' f'command: {command}')",,10,1
openstack%2Fpython-cinderclient~master~I4212ff37ced9d67085a34ed244ff700d6f9572d8,openstack/python-cinderclient,master,I4212ff37ced9d67085a34ed244ff700d6f9572d8,Switch testing to Xena testing runtime,ABANDONED,2021-05-28 08:12:34.000000000,2021-06-21 03:05:52.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 08:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/dcd3275189c4445cff36588f846c3170f8b213f1', 'message': 'Switch testing to Xena testing runtime\n\nUpating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I4212ff37ced9d67085a34ed244ff700d6f9572d8\n'}, {'number': 2, 'created': '2021-05-28 09:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4c0c26664fbffb7c97ed1031e9bcd354a080ca38', 'message': 'Switch testing to Xena testing runtime\n\nUpdating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I4212ff37ced9d67085a34ed244ff700d6f9572d8\n'}, {'number': 3, 'created': '2021-06-21 00:41:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b459421d5b8c9eec09ef2001e4130534b7d6ce90', 'message': 'Switch testing to Xena testing runtime\n\nUpdating the testing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I4212ff37ced9d67085a34ed244ff700d6f9572d8\n'}]",2,793551,b459421d5b8c9eec09ef2001e4130534b7d6ce90,12,2,3,31825,,,0,"Switch testing to Xena testing runtime

Updating the testing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I4212ff37ced9d67085a34ed244ff700d6f9572d8
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/51/793551/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dcd3275189c4445cff36588f846c3170f8b213f1,, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fzaqar~master~I4407ab803cf3dfd66ab3c5b25f8f0db85147cdc5,openstack/zaqar,master,I4407ab803cf3dfd66ab3c5b25f8f0db85147cdc5,[community goal] Update contributor documentation,MERGED,2021-06-15 02:12:51.000000000,2021-06-21 02:29:33.000000000,2021-06-21 02:28:26.000000000,"[{'_account_id': 8556}, {'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f96eafe526c2fcbcd374d8bc275fa34b1e92ed33', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I4407ab803cf3dfd66ab3c5b25f8f0db85147cdc5\n'}, {'number': 2, 'created': '2021-06-15 08:29:02.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fad3fa1416f2611bd883f3c46ddb2225f68e57e6', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I4407ab803cf3dfd66ab3c5b25f8f0db85147cdc5\n'}]",0,796332,fad3fa1416f2611bd883f3c46ddb2225f68e57e6,10,3,2,8846,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: I4407ab803cf3dfd66ab3c5b25f8f0db85147cdc5
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/32/796332/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,f96eafe526c2fcbcd374d8bc275fa34b1e92ed33,project-ptl-and-contrib-docs, contributor/contributing,,60,9
openstack%2Frequirements~master~Ic7da4eb020f001959c8060c433922a23ff29eba7,openstack/requirements,master,Ic7da4eb020f001959c8060c433922a23ff29eba7,Use py3 as the default runtime for tox,MERGED,2021-04-20 06:53:40.000000000,2021-06-20 23:37:40.000000000,2021-06-20 23:36:34.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 06:53:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd6bfd668c3be77a208835500f3f863669cd68d5', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Ic7da4eb020f001959c8060c433922a23ff29eba7\n'}]",0,787116,bd6bfd668c3be77a208835500f3f863669cd68d5,8,3,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Ic7da4eb020f001959c8060c433922a23ff29eba7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/787116/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bd6bfd668c3be77a208835500f3f863669cd68d5,,"envlist = validate,py3,pep8,pip-install","envlist = validate,py36,py38,pep8,pip-install",1,1
openstack%2Frequirements~master~Iecc516fc4be310f5bd85d46a00b596801c96562a,openstack/requirements,master,Iecc516fc4be310f5bd85d46a00b596801c96562a,Updated from generate-constraints,MERGED,2021-06-18 06:34:39.000000000,2021-06-20 23:30:36.000000000,2021-06-20 23:29:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 06:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ade304ec117f41045dadf353d1eab5e99857ebe9', 'message': 'Updated from generate-constraints\n\nChange-Id: Iecc516fc4be310f5bd85d46a00b596801c96562a\n'}, {'number': 2, 'created': '2021-06-20 06:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/01924c5354161271e9c95ef4962ed34bfa5ec39e', 'message': 'Updated from generate-constraints\n\nChange-Id: Iecc516fc4be310f5bd85d46a00b596801c96562a\n'}, {'number': 3, 'created': '2021-06-20 20:40:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7772e841b75884792e995cb5125287f9d8ed3143', 'message': 'Updated from generate-constraints\n\nChange-Id: Iecc516fc4be310f5bd85d46a00b596801c96562a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,796993,7772e841b75884792e995cb5125287f9d8ed3143,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Iecc516fc4be310f5bd85d46a00b596801c96562a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/796993/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ade304ec117f41045dadf353d1eab5e99857ebe9,openstack/requirements/constraints/noclob,types-enum34===0.1.6moto===2.0.9psycopg2===2.9.1XStatic-Angular===1.8.2.1types-paramiko===0.1.7sphinxcontrib.datatemplates===0.8.1eventlet===0.31.0httpcore===0.13.6psycopg2-binary===2.9.1google-api-python-client===2.9.0SQLAlchemy-Utils===0.37.7pytest-xdist===2.3.0docutils===0.17.1types-ipaddress===0.1.3boto3===1.17.97elementpath===2.2.3Sphinx===4.0.2botocore===1.20.97cmd2===2.1.1types-cryptography===3.3.3GitPython===3.1.18pkg-resources===0.0.0execnet===1.9.0httpx===0.18.2fasteners===0.16.3python-linstor===1.8.0,types-enum34===0.1.5moto===2.0.8psycopg2===2.8.6XStatic-Angular===1.5.8.0types-paramiko===0.1.4sphinxcontrib.datatemplates===0.7.2eventlet===0.30.2httpcore===0.13.4psycopg2-binary===2.8.6google-api-python-client===2.8.0SQLAlchemy-Utils===0.37.6pytest-xdist===2.2.1apipkg===1.5docutils===0.16types-ipaddress===0.1.2boto3===1.17.93elementpath===2.2.2Sphinx===3.5.4botocore===1.20.93cmd2===2.0.1types-cryptography===0.1.2GitPython===3.1.17execnet===1.8.1httpx===0.18.1fasteners===0.14.1python-linstor===1.7.3setuptools===57.0.0,26,27
openstack%2Fironic~master~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,master,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-16 18:05:14.000000000,2021-06-20 22:40:08.000000000,2021-06-20 22:38:19.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-16 18:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c0431c7c20bf8ba25232b052850c75bcb7684f7', 'message': 'Fix node detail instance_uuid request handling\n\nThe instance_uuid handling on the detailed node information\nendpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),\nwhich is used by services such as Nova for explicit node status\nlookups, previously had special conditional logic surrounding it\nwhich skipped the inclusion of the API requestor project-id, from\nbeing incorporated into the database query.\n\nUltimately, this allowed an authenticated user to obtain a partially\nredacted node entry where sensitive informational fields were scrubbed\nfrom the response payload.\n\nWith this fix, queries for an explicit instance_uuid now follow the\nstandard path inside the Ironic API to the database which includes\ninclusion of a requestor Project-ID if required by configured policy.\n\nChange-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3\nStory: 2008976\nTask: 42620\n'}, {'number': 2, 'created': '2021-06-16 18:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d520d4f2353d96743c582ea7f4eb2d64e4c3019', 'message': 'Fix node detail instance_uuid request handling\n\nThe instance_uuid handling on the detailed node information\nendpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),\nwhich is used by services such as Nova for explicit node status\nlookups, previously had special conditional logic surrounding it\nwhich skipped the inclusion of the API requestor project-id, from\nbeing incorporated into the database query.\n\nUltimately, this allowed an authenticated user to obtain a partially\nredacted node entry where sensitive informational fields were scrubbed\nfrom the response payload.\n\nWith this fix, queries for an explicit instance_uuid now follow the\nstandard path inside the Ironic API to the database which includes\ninclusion of a requestor Project-ID if required by configured policy.\n\nChange-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3\nStory: 2008976\nTask: 42620\n'}, {'number': 3, 'created': '2021-06-17 15:55:34.000000000', 'files': ['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/be3c153d56e7f94a128438adcc5c717c50336bed', 'message': 'Fix node detail instance_uuid request handling\n\nThe instance_uuid handling on the detailed node information\nendpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),\nwhich is used by services such as Nova for explicit node status\nlookups, previously had special conditional logic surrounding it\nwhich skipped the inclusion of the API requestor project-id, from\nbeing incorporated into the database query.\n\nUltimately, this allowed an authenticated user to obtain a partially\nredacted node entry where sensitive informational fields were scrubbed\nfrom the response payload.\n\nWith this fix, queries for an explicit instance_uuid now follow the\nstandard path inside the Ironic API to the database which includes\ninclusion of a requestor Project-ID if required by configured policy.\n\nChange-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3\nStory: 2008976\nTask: 42620\n'}]",11,796720,be3c153d56e7f94a128438adcc5c717c50336bed,24,7,3,11655,,,0,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/796720/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",4,6c0431c7c20bf8ba25232b052850c75bcb7684f7,secure-rbac," possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, 'instance_uuid': instance_uuid } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired if instance_uuid: # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. # NOTE(TheJulia): This is done after the query as # instance_uuid is a unique constraint in the DB # and we cannot pass a limit of 0 to sqlalchemy # and expect a response. limit = 0 DEPRECATED Internal Method - Will be removed in the future. # NOTE(TheJulia): This method is completely unused and will be removed # in the future."," if instance_uuid: # NOTE(rloo) if instance_uuid is specified, the other query # parameters are ignored. Since there can be at most one node that # has this instance_uuid, we do not want to generate a 'next' link. nodes = self._get_nodes_by_instance(instance_uuid) # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. limit = 0 else: possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired",142,49
openstack%2Ftempest~master~I9e3eb3cc06c0a10a48d9309a183b14eda210d40f,openstack/tempest,master,I9e3eb3cc06c0a10a48d9309a183b14eda210d40f,"Remove ""active"" attribute from the allowed_address_pairs",MERGED,2021-06-08 13:18:03.000000000,2021-06-20 20:17:21.000000000,2021-06-20 20:15:34.000000000,"[{'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 13:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e8a9c9cebd09d344631f5d1e184eb45ac7dcc06', 'message': 'Remove ""active"" attribute from the allowed_address_pairs\n\nAttribute ""active"" is going to be added to the allowed_address_pairs\nin the patch [1] and will not be available in older branches.\nTo make our existing allowed_address_pairs API tests to be passing in\nboth cases, with and without that ""active"" attribute, this patch\nremoves that field from the allowed_address_pairs which are returned\nby the Neutron server.\n\nWe could make expected results of those tests to be dependend on the\navailable Neutron\'s API extensions but in that case existing tests may\nfail randomly as all tests are always using same IP addresses thus\nallowed_address_pair may be active=True or active=False.\n\nTo properly check active/inactive allowed address pairs there will be\nadditional tests added to the neutron-tempest-plugin in the follow up\npatch.\nSimilar change is also proposed to the neutron-tempest-plugin in [2].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\n\nRelated-Bug: #1928466\nChange-Id: I9e3eb3cc06c0a10a48d9309a183b14eda210d40f\n'}, {'number': 2, 'created': '2021-06-15 07:09:12.000000000', 'files': ['tempest/api/network/test_allowed_address_pair.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c8fe320f6acd5437d83d3603aaa1910c80317f7', 'message': 'Remove ""active"" attribute from the allowed_address_pairs\n\nAttribute ""active"" is going to be added to the allowed_address_pairs\nin the patch [1] and will not be available in older branches.\nTo make our existing allowed_address_pairs API tests to be passing in\nboth cases, with and without that ""active"" attribute, this patch\nremoves that field from the allowed_address_pairs which are returned\nby the Neutron server.\n\nWe could make expected results of those tests to be dependend on the\navailable Neutron\'s API extensions but in that case existing tests may\nfail randomly as all tests are always using same IP addresses thus\nallowed_address_pair may be active=True or active=False.\n\nTo properly check active/inactive allowed address pairs there will be\nadditional tests added to the neutron-tempest-plugin in the follow up\npatch.\nSimilar change is also proposed to the neutron-tempest-plugin in [2].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\n\nRelated-Bug: #1928466\nChange-Id: I9e3eb3cc06c0a10a48d9309a183b14eda210d40f\n'}]",2,795325,1c8fe320f6acd5437d83d3603aaa1910c80317f7,30,3,2,11975,,,0,"Remove ""active"" attribute from the allowed_address_pairs

Attribute ""active"" is going to be added to the allowed_address_pairs
in the patch [1] and will not be available in older branches.
To make our existing allowed_address_pairs API tests to be passing in
both cases, with and without that ""active"" attribute, this patch
removes that field from the allowed_address_pairs which are returned
by the Neutron server.

We could make expected results of those tests to be dependend on the
available Neutron's API extensions but in that case existing tests may
fail randomly as all tests are always using same IP addresses thus
allowed_address_pair may be active=True or active=False.

To properly check active/inactive allowed address pairs there will be
additional tests added to the neutron-tempest-plugin in the follow up
patch.
Similar change is also proposed to the neutron-tempest-plugin in [2].

[1] https://review.opendev.org/c/openstack/neutron/+/601336
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788

Related-Bug: #1928466
Change-Id: I9e3eb3cc06c0a10a48d9309a183b14eda210d40f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/795325/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_allowed_address_pair.py'],1,2e8a9c9cebd09d344631f5d1e184eb45ac7dcc06,bug/1928466," for pair in allowed_address_pair: pair.pop('active', None)",,2,0
openstack%2Fneutron~stable%2Ftrain~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,stable/train,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2021-06-17 13:10:27.000000000,2021-06-20 20:17:17.000000000,2021-06-20 20:15:43.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:10:27.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/83f7b3bdfd9fde1eb2e64f7c321b7020c3ac9fbd', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso that users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nConflicts:\n    neutron/agent/common/utils.py\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)\n'}]",0,796836,83f7b3bdfd9fde1eb2e64f7c321b7020c3ac9fbd,23,4,1,11975,,,0,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Conflicts:
    neutron/agent/common/utils.py

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/796836/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml']",7,83f7b3bdfd9fde1eb2e64f7c321b7020c3ac9fbd,bug/1926693-stable/train,"--- fixes: - | The new ``resource_provider_defualt_hypervisor`` option has been added, to replace the default hypervisor name to locates the root resource provider without giving a complete list of interfaces or bridges in the ``resource_provider_hypervisors`` option. This option is located in the ``[ovs]`` ini-section for ``ovs-agent`` and ``[sriov_nic]`` ini-section for ``sriov-agent``. ",,55,11
openstack%2Fneutron~stable%2Fvictoria~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,stable/victoria,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2021-06-17 13:05:17.000000000,2021-06-20 19:31:32.000000000,2021-06-20 19:30:13.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:05:17.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c9979612eb07d55a8f1f8515c3abea5327c3ec9', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso that users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)\n'}]",0,796672,9c9979612eb07d55a8f1f8515c3abea5327c3ec9,14,4,1,11975,,,0,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/796672/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml']",7,9c9979612eb07d55a8f1f8515c3abea5327c3ec9,bug/1926693-stable/wallaby-stable/victoria,"--- fixes: - | The new ``resource_provider_defualt_hypervisor`` option has been added, to replace the default hypervisor name to locates the root resource provider without giving a complete list of interfaces or bridges in the ``resource_provider_hypervisors`` option. This option is located in the ``[ovs]`` ini-section for ``ovs-agent`` and ``[sriov_nic]`` ini-section for ``sriov-agent``. ",,55,11
openstack%2Fcinder~master~I5108fd51effa4d72581654ed450d191a13e0e964,openstack/cinder,master,I5108fd51effa4d72581654ed450d191a13e0e964,Fix: Schema validation for attachment create API,MERGED,2021-03-26 17:07:48.000000000,2021-06-20 19:10:07.000000000,2021-06-17 19:21:57.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 17:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8cc71f8e5b7da0c86796bb3a45735d5fccc7ad5c', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n""}, {'number': 2, 'created': '2021-03-29 10:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/838edad498d28e06fede1363a09c490772e8224e', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n""}, {'number': 3, 'created': '2021-03-30 05:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dea394a6862373643327b2e2bc57a86ccd7fd794', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n""}, {'number': 4, 'created': '2021-03-30 06:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/108668cce01bb3dba37914347daed195f4d391a3', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n""}, {'number': 5, 'created': '2021-03-30 14:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8203171702b1c8a80894236420a79aa402d4e54d', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n""}, {'number': 6, 'created': '2021-06-16 15:26:46.000000000', 'files': ['cinder/api/v3/attachments.py', 'api-ref/source/v3/attachments.inc', 'cinder/api/schemas/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/560318c82e9951464361560e57ce0b67011cce74', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n""}]",13,783389,560318c82e9951464361560e57ce0b67011cce74,123,4,6,27615,,,0,"Fix: Schema validation for attachment create API

Currently the schema validation for attachment create assumes that
instance UUID will always be present in the request but that is
not the case when glance calls cinder for attachment.
Also there isn't any schema validation for MV3.54 which accepts
attachment mode in the request hence failing requests passing mode.
This patch removes the instance_uuid from required parameters and
adds schema validation for MV3.54.

Change-Id: I5108fd51effa4d72581654ed450d191a13e0e964
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/783389/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/attachments.py', 'cinder/api/schemas/attachments.py']",2,8cc71f8e5b7da0c86796bb3a45735d5fccc7ad5c,783389," 'required': ['volume_uuid'], create_v354 = { 'type': 'object', 'properties': { 'type': 'object', 'attachment': { 'type': 'object', 'properties': { 'instance_uuid': parameter_types.uuid, 'connector': {'type': ['object', 'null']}, 'volume_uuid': parameter_types.uuid, 'mode': {'type': 'string', 'enum': ['rw', 'ro']}, }, 'required': ['volume_uuid'], 'additionalProperties': False, }, }, 'required': ['attachment'], 'additionalProperties': False, }"," 'required': ['instance_uuid', 'volume_uuid'],",24,2
openstack%2Fpuppet-cinder~master~I2db1eb941615e5b773096c7a0b9df3eb1f11ee24,openstack/puppet-cinder,master,I2db1eb941615e5b773096c7a0b9df3eb1f11ee24,Add support for cinder_internal_tenant_* parameters,MERGED,2021-06-16 00:33:10.000000000,2021-06-20 17:10:38.000000000,2021-06-20 17:09:18.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 00:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6193e3ab87a4e907ab1d03b0274efb0b4256c758', 'message': 'Add support for cinder_internal_tenant_* parameters\n\nChange-Id: I2db1eb941615e5b773096c7a0b9df3eb1f11ee24\n'}, {'number': 2, 'created': '2021-06-16 03:42:21.000000000', 'files': ['releasenotes/notes/internal_tenant-733c568ffd415bd0.yaml', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a19b83c650757fde8b9997a38730549d427a13fe', 'message': 'Add support for cinder_internal_tenant_* parameters\n\nChange-Id: I2db1eb941615e5b773096c7a0b9df3eb1f11ee24\n'}]",0,796573,a19b83c650757fde8b9997a38730549d427a13fe,18,3,2,9816,,,0,"Add support for cinder_internal_tenant_* parameters

Change-Id: I2db1eb941615e5b773096c7a0b9df3eb1f11ee24
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/73/796573/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/internal_tenant-733c568ffd415bd0.yaml', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp']",3,6193e3ab87a4e907ab1d03b0274efb0b4256c758,internal_tenant,"# [*cinder_internal_tenant_project_id*] # (optional) ID of the project which will be used as the Cinder internal # tenant. # Defaults to $::os_service_default. # # [*cinder_internal_tenant_user_id*] # (optional) ID of the user to be used in volume operations as the Cinder # internal tenant. # Defaults to $::os_service_default. # $cinder_internal_tenant_project_id = $::os_service_default, $cinder_internal_tenant_user_id = $::os_service_default,",,37,1
openstack%2Fcinder~master~Ia2337bd69821497f42d4f99d09df87780394d4d5,openstack/cinder,master,Ia2337bd69821497f42d4f99d09df87780394d4d5,LVM: Use --readonly for lvdisplay in lv_has_snapshot,MERGED,2021-01-22 22:07:22.000000000,2021-06-20 16:54:37.000000000,2021-06-17 19:18:11.000000000,"[{'_account_id': 1004}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 22:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fe6a6d2fe1307486332a211f3e5dbc4fb71d1e2', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, crashes have also\nbeen observed on this call to lvdisplay.\n\nRelated-Bug: #1901783\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n'}, {'number': 2, 'created': '2021-06-10 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2dc992998be31194d2a0510cfc85b1f99244b45d', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, crashes have also\nbeen observed on this call to lvdisplay.\n\nRelated-Bug: #1901783\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n'}, {'number': 3, 'created': '2021-06-15 13:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eee4705e023b3d4c3b15969d213d8ec8e3959b7a', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, we only need readonly\nmode for lvdisplay.\n\nRelated-Bug: #1901783\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n'}, {'number': 4, 'created': '2021-06-16 15:09:09.000000000', 'files': ['cinder/brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/02f609c714ac1d7f87a2277eaa11fd7be2f57995', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, we only need readonly\nmode for lvdisplay.\n\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n'}]",0,772126,02f609c714ac1d7f87a2277eaa11fd7be2f57995,125,6,4,4523,,,0,"LVM: Use --readonly for lvdisplay in lv_has_snapshot

Follow-on to Ib2a6dac8d074decf, we only need readonly
mode for lvdisplay.

Change-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/772126/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/brick/local_dev/lvm.py'],1,8fe6a6d2fe1307486332a211f3e5dbc4fb71d1e2,," 'Attr', '--readonly', '%s/%s' % (self.vg_name, name)]"," 'Attr', '%s/%s' % (self.vg_name, name)]",2,1
openstack%2Fkolla-ansible~stable%2Fussuri~I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,openstack/kolla-ansible,stable/ussuri,I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,Add the ansible_managed header for admin-openrc.sh,MERGED,2021-06-17 09:07:11.000000000,2021-06-20 15:39:04.000000000,2021-06-20 15:37:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-17 09:07:11.000000000', 'files': ['ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53cab0c3c997a08fa4669faaf68ad18674453a20', 'message': ""Add the ansible_managed header for admin-openrc.sh\n\nThis change inform us that the file is 'Ansible managed'\n\nTrivialFix\n\nChange-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 4d6a79d217a69d78db45d766f6d04a047bd8fecf)\n""}]",0,796804,53cab0c3c997a08fa4669faaf68ad18674453a20,15,6,1,14200,,,0,"Add the ansible_managed header for admin-openrc.sh

This change inform us that the file is 'Ansible managed'

TrivialFix

Change-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 4d6a79d217a69d78db45d766f6d04a047bd8fecf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/796804/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,53cab0c3c997a08fa4669faaf68ad18674453a20,admin-openrc,# {{ ansible_managed }} ,,2,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,openstack/kolla-ansible,stable/victoria,I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,Add the ansible_managed header for admin-openrc.sh,MERGED,2021-06-17 09:06:34.000000000,2021-06-20 15:38:58.000000000,2021-06-20 15:37:50.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-17 09:06:34.000000000', 'files': ['ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b6af5094ff6d466f15bf5c83f063f0d487cc3eb', 'message': ""Add the ansible_managed header for admin-openrc.sh\n\nThis change inform us that the file is 'Ansible managed'\n\nTrivialFix\n\nChange-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 4d6a79d217a69d78db45d766f6d04a047bd8fecf)\n""}]",0,796803,5b6af5094ff6d466f15bf5c83f063f0d487cc3eb,13,7,1,14200,,,0,"Add the ansible_managed header for admin-openrc.sh

This change inform us that the file is 'Ansible managed'

TrivialFix

Change-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 4d6a79d217a69d78db45d766f6d04a047bd8fecf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/796803/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,5b6af5094ff6d466f15bf5c83f063f0d487cc3eb,admin-openrc,# {{ ansible_managed }} ,,2,0
openstack%2Fopenstack-helm-images~master~I27b8573676518c3d2c9abd01cabfc2b6122f51aa,openstack/openstack-helm-images,master,I27b8573676518c3d2c9abd01cabfc2b6122f51aa,Update monasca-api image,MERGED,2021-06-01 14:30:42.000000000,2021-06-20 15:24:24.000000000,2021-06-20 15:20:29.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-06-01 14:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/23798067be9fb7c3b970f8009ad11f880425c461', 'message': 'Update monasca-api image\n\nAdd apache profile\n\nChange-Id: I27b8573676518c3d2c9abd01cabfc2b6122f51aa\n'}, {'number': 2, 'created': '2021-06-01 16:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/03480a052fc79325bc53ee889d8154ea15953dba', 'message': 'Update monasca-api image\n\nAdd apache profile\n\nChange-Id: I27b8573676518c3d2c9abd01cabfc2b6122f51aa\n'}, {'number': 3, 'created': '2021-06-18 14:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0227b61ad607414fcc6afc3fdc9d76e5c7b567cc', 'message': 'Update monasca-api image\n\nAdd apache profile\n\nChange-Id: I27b8573676518c3d2c9abd01cabfc2b6122f51aa\n'}, {'number': 4, 'created': '2021-06-18 15:15:31.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c9b014b3c5b32915a1495453f9076b9ae633b3ab', 'message': 'Update monasca-api image\n\nAdd apache profile\n\nChange-Id: I27b8573676518c3d2c9abd01cabfc2b6122f51aa\n'}]",0,793979,c9b014b3c5b32915a1495453f9076b9ae633b3ab,16,5,4,31746,,,0,"Update monasca-api image

Add apache profile

Change-Id: I27b8573676518c3d2c9abd01cabfc2b6122f51aa
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/79/793979/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,23798067be9fb7c3b970f8009ad11f880425c461,monasca-image,"monasca_api_profile=${monasca_api_profile:-""'apache monasca api'""}","monasca_api_profile=${monasca_api_profile:-""'monasca api'""}",2,2
openstack%2Fnova~stable%2Fstein~I83817f7301680801beaee375825f02eda526eda1,openstack/nova,stable/stein,I83817f7301680801beaee375825f02eda526eda1,Validate id as integer for os-aggregates,MERGED,2020-11-27 12:26:27.000000000,2021-06-20 15:11:38.000000000,2021-06-20 15:10:15.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26250}]","[{'number': 1, 'created': '2020-11-27 12:26:27.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9448291d8f3ff6bef85d3bca4aa21c1e6036b3f1', 'message': ""Validate id as integer for os-aggregates\n\nAccording to the api-ref, the id passed to calls in os-aggregates is\nsupposed to be an integer. No function validated this, so any value\npassed to these functions would directly reach the DB. While this is\nfine for SQLite, making a query with a string for an integer column on\nother databases like PostgreSQL results in a DBError exception and thus\na HTTP 500 instead of 400 or 404.\n\nThis commit adds validation for the id parameter the same way it's\nalready done for other endpoints.\n\nChange-Id: I83817f7301680801beaee375825f02eda526eda1\nCloses-Bug: 1865040\n(cherry picked from commit 2e70a1717f25652912886cbefa3f40e6df908c00)\n(cherry picked from commit 4653245ddcf989ebac4b964a41d881d78cf9ae2c)\n""}]",0,764308,9448291d8f3ff6bef85d3bca4aa21c1e6036b3f1,27,5,1,15334,,,0,"Validate id as integer for os-aggregates

According to the api-ref, the id passed to calls in os-aggregates is
supposed to be an integer. No function validated this, so any value
passed to these functions would directly reach the DB. While this is
fine for SQLite, making a query with a string for an integer column on
other databases like PostgreSQL results in a DBError exception and thus
a HTTP 500 instead of 400 or 404.

This commit adds validation for the id parameter the same way it's
already done for other endpoints.

Change-Id: I83817f7301680801beaee375825f02eda526eda1
Closes-Bug: 1865040
(cherry picked from commit 2e70a1717f25652912886cbefa3f40e6df908c00)
(cherry picked from commit 4653245ddcf989ebac4b964a41d881d78cf9ae2c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/764308/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py']",2,9448291d8f3ff6bef85d3bca4aa21c1e6036b3f1,bug/1865040,"from nova import utils @wsgi.expected_errors((400, 404)) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) try: try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) @wsgi.expected_errors((400, 404, 409)) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) @wsgi.expected_errors((400, 404, 409)) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) "," @wsgi.expected_errors(404) @wsgi.expected_errors((404, 409)) @wsgi.expected_errors((404, 409))",85,21
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6fac9ff39892c08453c050816f61a4bcee4bddf0,openstack/tripleo-heat-templates,stable/wallaby,I6fac9ff39892c08453c050816f61a4bcee4bddf0,Add param for RBD disk cache modes,MERGED,2021-06-08 05:59:40.000000000,2021-06-20 14:28:00.000000000,2021-06-20 14:26:50.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-08 05:59:40.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/rbd-disk-cache-modes-284a73271741ea62.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/808f66e7ab4c4822285cb8f677961f5b8b213192', 'message': 'Add param for RBD disk cache modes\n\nNew parameter to control RBD disk caching modes.\n\nConflicts:\ndeployment/nova/nova-compute-container-puppet.yaml\ndeployment/nova/nova-libvirt-container-puppet.yaml\n\nDepends-On: https://review.opendev.org/795212\nChange-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 8a3cf6aa87ce5c4bcd9bc2713b7b2a86546bc450)\n'}]",0,795214,808f66e7ab4c4822285cb8f677961f5b8b213192,19,8,1,17216,,,0,"Add param for RBD disk cache modes

New parameter to control RBD disk caching modes.

Conflicts:
deployment/nova/nova-compute-container-puppet.yaml
deployment/nova/nova-libvirt-container-puppet.yaml

Depends-On: https://review.opendev.org/795212
Change-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8a3cf6aa87ce5c4bcd9bc2713b7b2a86546bc450)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/795214/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/rbd-disk-cache-modes-284a73271741ea62.yaml']",3,808f66e7ab4c4822285cb8f677961f5b8b213192,rbd_disk_cache_mode,--- features: - | New parameter `RbdDiskCachemodes` allows to override the disk cache modes for RBD. Defaults to ['network=writeback']. ,,18,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,openstack/kolla-ansible,stable/wallaby,I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559,Add the ansible_managed header for admin-openrc.sh,MERGED,2021-06-17 09:05:50.000000000,2021-06-20 14:20:43.000000000,2021-06-20 14:19:18.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-17 09:05:50.000000000', 'files': ['ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ba041019ecbb08e9c2b05cd3a832dc8fcd3f1ec', 'message': ""Add the ansible_managed header for admin-openrc.sh\n\nThis change inform us that the file is 'Ansible managed'\n\nTrivialFix\n\nChange-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 4d6a79d217a69d78db45d766f6d04a047bd8fecf)\n""}]",0,796802,5ba041019ecbb08e9c2b05cd3a832dc8fcd3f1ec,16,8,1,14200,,,0,"Add the ansible_managed header for admin-openrc.sh

This change inform us that the file is 'Ansible managed'

TrivialFix

Change-Id: I99ebeb493ff9c3c7af0010ce1efea45c7f9a2559
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 4d6a79d217a69d78db45d766f6d04a047bd8fecf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/796802/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,5ba041019ecbb08e9c2b05cd3a832dc8fcd3f1ec,admin-openrc,# {{ ansible_managed }} ,,2,0
openstack%2Fkolla-ansible~master~Id0144e8fa518e3236cb94ba2e3961fb455d36443,openstack/kolla-ansible,master,Id0144e8fa518e3236cb94ba2e3961fb455d36443,Reduce container metrics cardinality,MERGED,2021-03-30 14:53:56.000000000,2021-06-20 13:58:32.000000000,2021-06-20 11:10:48.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-30 14:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e508658552f97a371e38c11f5e606d585d99abd', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 2, 'created': '2021-05-25 10:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ca3a16f4e4b4976f21648be4d11962254c02925', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 3, 'created': '2021-05-25 10:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e11d3954e1e2c3ec2e26c8ae6a54ac70a48ff5b', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 4, 'created': '2021-05-25 10:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2361d2a8026d891bd2c463bea29d276e50b98ab', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 5, 'created': '2021-05-25 11:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cee1848784581e7569fdebe31f7bd0a9fd78b905', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 6, 'created': '2021-05-31 11:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce07d202cbbef4695c73fc707790e288473d905c', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 7, 'created': '2021-05-31 19:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/863e4abf98431a757db75b32afbf588a90dc7f65', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 8, 'created': '2021-06-07 08:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65ef715f5636d5140388bce769e62e19d3763b02', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 9, 'created': '2021-06-07 09:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4137b4c317c33093c38b18426e6a418f59a0d43', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 10, 'created': '2021-06-15 19:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c385c75340b18cd72f91d9755ff3de2321141ec4', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}, {'number': 11, 'created': '2021-06-16 06:10:58.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/reduce-cadvisor-cardinality-1213854b9fe0c828.yaml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6259158e3eff4aff9770b7044b0179a7de533aa', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443\n'}]",5,783887,c6259158e3eff4aff9770b7044b0179a7de533aa,57,9,11,32657,,,0,"Reduce container metrics cardinality

Adds support for passing extra runtime options to cAdvisor.
By default new options disable exporting rarely useful metrics
and labels by cAdvisor. This helps reducing the load on Prometheus
and cAdvisor itself.

Change-Id: Id0144e8fa518e3236cb94ba2e3961fb455d36443
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/783887/11 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/reduce-cadvisor-cardinality-1213854b9fe0c828.yaml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml']",4,6e508658552f97a371e38c11f5e606d585d99abd,,"# List of extra parameters passed to cAdvisor. By default system cgroups # and container labels are not exposed to reduce time series cardinality. #prometheus_cadvisor_cmdline_extras: ""--docker_only --store_container_labels=false"" ",,15,1
openstack%2Fpuppet-cinder~master~I564528663a3d2f83136b98ed46e09e373a9ad6de,openstack/puppet-cinder,master,I564528663a3d2f83136b98ed46e09e373a9ad6de,Allow for '-' in volume type property values,MERGED,2021-06-15 09:14:05.000000000,2021-06-20 13:03:28.000000000,2021-06-19 18:56:19.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-06-15 09:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1769a0fc8d5917b8e76015232ea3734b25e0ec64', 'message': ""Allow for '-' in property values\n\nWe have a case where our volume_backend_names contain dashes.\n\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n""}, {'number': 2, 'created': '2021-06-15 14:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e465c0e253e0e58182501427ae243327f735eb6a', 'message': ""Allow for '-' in property values\n\nAlso update unit-test to cover this scenario.\n\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n""}, {'number': 3, 'created': '2021-06-17 09:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/59e32ef904c0ba6c83dcc4d3358f5fa084c9e1f1', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n""}, {'number': 4, 'created': '2021-06-19 02:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dbd963bc225aeeb173a3b750452e828c517fbe3d', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n""}, {'number': 5, 'created': '2021-06-19 02:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1df1746ba8bb642f7a51401b66e153460b4397b0', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n""}, {'number': 6, 'created': '2021-06-19 02:37:37.000000000', 'files': ['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/62899eba67f134a92fb863b5a9b6dcfc3e18aa56', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n""}]",7,796409,62899eba67f134a92fb863b5a9b6dcfc3e18aa56,22,4,6,25600,,,0,"Allow for '-' in volume type property values

There's no validation going on (yet) in cinder as to which characters
are allowed in properties. So this change alters the regex to cast a
wide net catching '-' and other possible valid variations.

Also update unit-test to cover this scenario.

Closes-Bug: #1932272
Change-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/09/796409/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/cinder_type/openstack.rb'],1,1769a0fc8d5917b8e76015232ea3734b25e0ec64,," json_input = JSON.parse(input.gsub(/u'([\w-]*)'/, '""\1""').gsub(/'/, '""'))"," json_input = JSON.parse(input.gsub(/u'(\w*)'/, '""\1""').gsub(/'/, '""'))",1,1
openstack%2Fkolla-ansible~master~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,master,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-03 17:09:27.000000000,2021-06-20 11:47:42.000000000,2021-06-20 11:46:30.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-03 17:09:27.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c7ba86e05637d715065bac60839fcaab2db760c', 'message': 'Stop fluentd deprecation warnings of type vs @type\n\nCurrently when elasticsearch log output is enabled there are lots\nof warnings going into elasticsearch about type being deprecated\nand needing to move to @type. This change stops those warnings.\n\nTrivialFix\n\nChange-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6\n'}]",0,794648,0c7ba86e05637d715065bac60839fcaab2db760c,12,6,1,782,,,0,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/794648/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,0c7ba86e05637d715065bac60839fcaab2db760c,fix-fluentd-warning, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fkolla-ansible~master~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,master,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-03 17:18:42.000000000,2021-06-20 11:03:12.000000000,2021-06-20 11:00:56.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 17:18:42.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f1248fee5b4c067b7033dbf8731f4d83be0d86d', 'message': 'Fix parsing of infra.mariadb.xinetd logs\n\nCurrently the logs tagged with infra.mariadb.xinetd flow into\nelasticsearch with no hostname or programname attach, thus making\nnavigating the logs very hard.\n\nThe quick fix is renaming the tag to infra.mariadb-xinetd, which is just\nenought to ensure the logs are processed correctly with the existing\nfilters.\n\nTrivialFix\n\nChange-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8\n'}]",0,794650,7f1248fee5b4c067b7033dbf8731f4d83be0d86d,11,4,1,782,,,0,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/794650/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,7f1248fee5b4c067b7033dbf8731f4d83be0d86d,fix-mariadb-xinetd-logs, tag infra.mariadb-xinetd, tag infra.mariadb.xinetd,1,1
openstack%2Fkolla-ansible~master~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,master,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-04-29 08:11:26.000000000,2021-06-20 11:02:13.000000000,2021-06-20 11:00:42.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-29 08:11:26.000000000', 'files': ['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b132775eb4b8c373837772974b03518e3e09f61', 'message': 'Fix neutron-ovn-metadata-agent with policy.yaml\n\nThe config.json template for neutron-ovn-metadata-agent uses a\nhard-coded policy file name of policy.json. This prevents use of a\npolicy.yaml file with this service. This patch fixes this.\n\nTrivialFix\n\nChange-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a\n'}]",2,788688,0b132775eb4b8c373837772974b03518e3e09f61,10,3,1,14826,,,0,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/788688/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2'],1,0b132775eb4b8c373837772974b03518e3e09f61,," } {% if neutron_policy_file is defined %},{ ""source"": ""{{ container_config_directory }}/{{ neutron_policy_file }}"", ""dest"": ""/etc/neutron/{{ neutron_policy_file }}"", ""owner"": ""neutron"", ""perm"": ""0600"" }{% endif %}"," }, { ""source"": ""{{ container_config_directory }}/policy.json"", ""dest"": ""/etc/neutron/policy.json"", ""owner"": ""neutron"", ""perm"": ""0600"", ""optional"": true }",6,7
openstack%2Fkolla-ansible~master~Ic898efe42b21b01c45d4621af2cf90ecd7afc398,openstack/kolla-ansible,master,Ic898efe42b21b01c45d4621af2cf90ecd7afc398,Remove rally deployment,MERGED,2021-06-03 01:07:22.000000000,2021-06-20 10:56:45.000000000,2021-06-20 10:55:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 01:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/902ce0c2e2cc6cb264cb19cae424299683d4d69d', 'message': 'Remove rally deployment\n\nRemove rally role as planned\n\nChange-Id: Ic898efe42b21b01c45d4621af2cf90ecd7afc398\n'}, {'number': 2, 'created': '2021-06-16 01:19:21.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/rally/tasks/reconfigure.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/rally/tasks/pull.yml', 'README.rst', 'ansible/roles/rally/tasks/check.yml', 'ansible/roles/rally/templates/rally.json.j2', 'ansible/site.yml', 'ansible/roles/rally/tasks/deploy-containers.yml', 'ansible/roles/rally/tasks/deploy.yml', 'ansible/inventory/all-in-one', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/rally/templates/rally.conf.j2', 'releasenotes/notes/remove-rally-deployment-6c7718e404b359a6.yaml', 'etc/kolla/globals.yml', 'ansible/roles/common/templates/cron-logrotate-rally.conf.j2', 'ansible/roles/rally/tasks/bootstrap_service.yml', 'ansible/roles/common/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/rally/tasks/main.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/rally/tasks/upgrade.yml', 'ansible/roles/rally/tasks/stop.yml', 'ansible/roles/rally/tasks/copy-certs.yml', 'ansible/roles/rally/tasks/precheck.yml', 'ansible/roles/rally/handlers/main.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/group_vars/all.yml', 'tests/templates/inventory.j2', 'ansible/roles/rally/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3009109616db2f54a853345792d2316d48e3d4e0', 'message': 'Remove rally deployment\n\nRemove rally role as planned\n\nChange-Id: Ic898efe42b21b01c45d4621af2cf90ecd7afc398\n'}]",2,794359,3009109616db2f54a853345792d2316d48e3d4e0,14,3,2,26285,,,0,"Remove rally deployment

Remove rally role as planned

Change-Id: Ic898efe42b21b01c45d4621af2cf90ecd7afc398
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/794359/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/rally/tasks/reconfigure.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/rally/tasks/pull.yml', 'README.rst', 'ansible/roles/rally/tasks/check.yml', 'ansible/roles/rally/templates/rally.json.j2', 'ansible/site.yml', 'ansible/roles/rally/tasks/deploy-containers.yml', 'ansible/roles/rally/tasks/deploy.yml', 'ansible/inventory/all-in-one', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/rally/templates/rally.conf.j2', 'releasenotes/notes/remove-rally-deployment-6c7718e404b359a6.yaml', 'etc/kolla/globals.yml', 'ansible/roles/common/templates/cron-logrotate-rally.conf.j2', 'ansible/roles/rally/tasks/bootstrap_service.yml', 'ansible/roles/common/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/rally/tasks/main.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/rally/tasks/upgrade.yml', 'ansible/roles/rally/tasks/stop.yml', 'ansible/roles/rally/tasks/copy-certs.yml', 'ansible/roles/rally/tasks/precheck.yml', 'ansible/roles/rally/handlers/main.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/group_vars/all.yml', 'tests/templates/inventory.j2', 'ansible/roles/rally/tasks/check-containers.yml']",30,902ce0c2e2cc6cb264cb19cae424299683d4d69d,remove-rally,,"--- - name: Check rally containers become: true kolla_docker: action: ""compare_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ item.value.container_name }}"" image: ""{{ item.value.image }}"" volumes: ""{{ item.value.volumes }}"" dimensions: ""{{ item.value.dimensions }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ rally_services }}"" notify: - ""Restart {{ item.key }} container"" ",5,334
openstack%2Ftrove~master~Iae4d8fc52a50da4fd347270271f6761ce766d5c3,openstack/trove,master,Iae4d8fc52a50da4fd347270271f6761ce766d5c3,Add float types to load_items to support configuration parameters of float type,MERGED,2021-05-25 06:01:43.000000000,2021-06-20 10:09:22.000000000,2021-06-20 10:08:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 06:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f94fe02360b203bc0072215359daa7c18fdba29b', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nStory: 2008917\nTask: 42508\nChange-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3\n'}, {'number': 2, 'created': '2021-06-17 20:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7f3a8f6c8eda1abd2a280f2b2093b85ec23249fe', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nStory: 2008917\nTask: 42508\nChange-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3\n'}, {'number': 3, 'created': '2021-06-20 03:36:07.000000000', 'files': ['trove/configuration/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/189d3493a844231dfa10062b5e632a3e931e50f2', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nStory: 2008917\nTask: 42508\nChange-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3\n'}]",0,792871,189d3493a844231dfa10062b5e632a3e931e50f2,29,2,3,31525,,,0,"Add float types to load_items to support configuration parameters of float type

Complement missing float types when loading configuration group parameters
so that parameters of type float can be attached into the trove instance successfully

Story: 2008917
Task: 42508
Change-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3
",git fetch https://review.opendev.org/openstack/trove refs/changes/71/792871/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/configuration/models.py'],1,f94fe02360b203bc0072215359daa7c18fdba29b,story/2008917, elif rule.data_type == 'float': item.configuration_value = float(item.configuration_value),,2,0
openstack%2Ftripleo-ansible~master~I0b8d96e40b0427458e977094f641f2f42ceaa199,openstack/tripleo-ansible,master,I0b8d96e40b0427458e977094f641f2f42ceaa199,"Only write inventory network-config if ""configure_networking""",MERGED,2021-06-14 08:48:11.000000000,2021-06-20 09:22:34.000000000,2021-06-20 09:22:34.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-14 08:48:11.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6645a155d004cb1c7e80f4e5f19836550af6bce', 'message': 'Only write inventory network-config if ""configure_networking""\n\nWhen overcloud node provision command is ran with \'--network-ports\'\nand not \'--network-config\', don\'t write the file with extra ansible\ninventory network configuration.\n\nWhen \'--network-ports\' is used the network configuration is done as\npart of the deploy steps playbook, and the THT parameters should be\nthe source of truth.\n\nDepends-On: https://review.opendev.org/794017\nChange-Id: I0b8d96e40b0427458e977094f641f2f42ceaa199\n'}]",0,796245,c6645a155d004cb1c7e80f4e5f19836550af6bce,17,5,1,24245,,,0,"Only write inventory network-config if ""configure_networking""

When overcloud node provision command is ran with '--network-ports'
and not '--network-config', don't write the file with extra ansible
inventory network configuration.

When '--network-ports' is used the network configuration is done as
part of the deploy steps playbook, and the THT parameters should be
the source of truth.

Depends-On: https://review.opendev.org/794017
Change-Id: I0b8d96e40b0427458e977094f641f2f42ceaa199
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/796245/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'],1,c6645a155d004cb1c7e80f4e5f19836550af6bce,network-data-v2, when: configure_networking|default(false) when: configure_networking|default(false), when: manage_network_ports|default(false) when: manage_network_ports|default(false),2,2
openstack%2Fopenstack-manuals~master~I2dbcb85e82785a763c250f32ef1344348ef48710,openstack/openstack-manuals,master,I2dbcb85e82785a763c250f32ef1344348ef48710,Imported Translations from Zanata,MERGED,2021-06-20 07:32:22.000000000,2021-06-20 08:35:11.000000000,2021-06-20 08:17:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 07:32:22.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/bn_IN/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/fr/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/tr_TR/LC_MESSAGES/common.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/common/source/locale/ja/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f781a175e9be7a0fd6f50e283b05c4bc32166dd0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2dbcb85e82785a763c250f32ef1344348ef48710\n'}]",0,797186,f781a175e9be7a0fd6f50e283b05c4bc32166dd0,8,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2dbcb85e82785a763c250f32ef1344348ef48710
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/797186/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/bn_IN/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/fr/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/tr_TR/LC_MESSAGES/common.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/common/source/locale/ja/LC_MESSAGES/common.po']",12,f781a175e9be7a0fd6f50e283b05c4bc32166dd0,zanata/translations,"""POT-Creation-Date: 2021-06-05 07:46+0000\n""","""POT-Creation-Date: 2021-02-01 15:12+0000\n""""The OpenStack community lives in the #openstack IRC channel on the Freenode "" ""network. You can hang out, ask questions, or get immediate feedback for "" ""urgent and pressing issues. To install an IRC client or use a browser-based "" ""client, go to `https://webchat.freenode.net/ <https://webchat.freenode."" ""net>`_. You can also use `Colloquy <http://colloquy.info/>`_ (Mac OS X), "" ""`mIRC <http://www.mirc.com/>`_ (Windows), or XChat (Linux). When you are in "" ""the IRC channel and want to share code or command output, the generally "" ""accepted method is to use a Paste Bin. The OpenStack project has one at "" ""`Paste <http://paste.openstack.org>`_. Just paste your longer amounts of "" ""text or logs in the web form and you get a URL that you can paste into the "" ""channel. The OpenStack IRC channel is ``#openstack`` on ``irc.freenode."" ""net``. You can find a list of all OpenStack IRC channels on the `IRC page on "" ""the wiki <https://wiki.openstack.org/wiki/IRC>`_."" msgstr """" ""OpenStack コミュニティーは、Freenode ネットワークに #openstack IRC チャンネル"" ""を持っています。緊急の問題に関して、ここに参加して、質問して、すぐにフィード"" ""バックを得ることができます。IRC クライアントをインストールする場合、ブラウ"" ""ザーベースのクライアントを使用する場合、`https://webchat.freenode.net/ "" ""<https://webchat.freenode.net>`_ にアクセスしてください。`Colloquy <http://"" ""colloquy.info/>`_ (Mac OS X)、`mIRC <http://www.mirc.com/>`_ (Windows)、"" ""XChat (Linux) を使用することもできます。IRC チャンネルに参加して、コードやコ"" ""マンドの出力を共有したい場合、一般的に Paste Bin を使用する方法があります。"" ""OpenStack プロジェクトには `Paste <http://paste.openstack.org>`_ があります。"" ""長いテキストやログをウェブフォームに貼り付けるだけです。そして、URL を取得し"" ""て IRC チャンネルに貼り付けます。OpenStack の IRC チャンネルは ``irc."" ""freenode.net`` にある ``#openstack`` です。OpenStack の IRC チャンネル一覧は "" ""`Wiki の IRC ページ <https://wiki.openstack.org/wiki/IRC>`_ にあります。"" msgid """"",119,392
openstack%2Fcontributor-guide~master~If93649d8acf3c28a8920ab33b95e701af6b1e4c5,openstack/contributor-guide,master,If93649d8acf3c28a8920ab33b95e701af6b1e4c5,Imported Translations from Zanata,MERGED,2021-06-20 06:10:29.000000000,2021-06-20 08:17:13.000000000,2021-06-20 08:15:23.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 06:10:29.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-common.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-common.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/05633a3b69024da47be45e7b8569f6676b78aac1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If93649d8acf3c28a8920ab33b95e701af6b1e4c5\n'}]",0,797184,05633a3b69024da47be45e7b8569f6676b78aac1,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If93649d8acf3c28a8920ab33b95e701af6b1e4c5
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/84/797184/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-common.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-common.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po']",20,05633a3b69024da47be45e7b8569f6676b78aac1,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2021. #zanata""POT-Creation-Date: 2021-06-16 09:08+0000\n""""PO-Revision-Date: 2021-06-19 07:20+0000\n""""If a change is found to be flawed later, it may be necessary to revert the "" ""broken commit. This is much easier to do if there are not other unrelated "" ""code changes entangled with the original commit."" msgstr """" ""If a change is found to be flawed later, it may be necessary to revert the "" ""broken commit. This is much easier to do if there are not other unrelated "" ""code changes entangled with the original commit."" msgid """"msgid ""Structural split of Changes"" msgstr ""Structural split of Changes"" msgid """" ""The cardinal rule for creating good commits is to ensure there is only one "" ""\""logical change\"" per commit. There are many reasons why this is an "" ""important rule:"" msgstr """" ""The cardinal rule for creating good commits is to ensure there is only one "" ""\""logical change\"" per commit. There are many reasons why this is an "" ""important rule:"" ""The smaller the amount of code being changed, the quicker and easier it is "" ""to review and identify potential flaws."" msgstr """" ""The smaller the amount of code being changed, the quicker and easier it is "" ""to review and identify potential flaws."" msgid """"""When browsing history using ``git annotate`` or ``git blame``, small well "" ""defined changes also aid in isolating exactly where and why a piece of code "" ""came from."" msgstr """" ""When browsing history using ``git annotate`` or ``git blame``, small well "" ""defined changes also aid in isolating exactly where and why a piece of code "" ""came from."" msgid """" ""When troubleshooting problems using Git's bisect capability, small well "" ""defined changes will aid in isolating exactly where the code problem was "" ""introduced."" msgstr """" ""When troubleshooting problems using Git's bisect capability, small well "" ""defined changes will aid in isolating exactly where the code problem was "" ""introduced."" msgid """"","""POT-Creation-Date: 2020-03-23 13:39+0000\n""""PO-Revision-Date: 2020-03-24 06:27+0000\n""",169,936
openstack%2Fkolla-ansible~master~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,master,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-03-31 12:24:40.000000000,2021-06-20 08:13:50.000000000,2021-06-17 08:44:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-31 12:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69b060e5e6ad081b0d6d24df812635e88878077d', 'message': ""DNM: Test octavia with a non-standard service auth project\n\nExpecting this to fail since the project isn't created.\n\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n""}, {'number': 2, 'created': '2021-03-31 13:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36a5ad396902d54dcfd8a065a47e4a8d1126f060', 'message': ""DNM: Test octavia with a non-standard service auth project\n\nExpecting this to fail since the project isn't created.\n\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n""}, {'number': 3, 'created': '2021-03-31 14:57:35.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/octavia-create-service-auth-project-aa38b12ebb601777.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd', 'message': 'octavia: Ensure service auth project exists\n\nKolla Ansible supports configuration of the project used by Octavia to\ncommunicate with other services, via octavia_service_auth_project. Until\nUssuri, this was set to admin. In Ussuri it changed to service. It may\nalso be set to a different value.\n\nKolla Ansible currently gives the octavia user the admin role in the\nproject, but it does not ensure that the project exists. For admin and\nservice projects, this is not a problem. If the project has been\ncustomised however, it will not necessarily exist, which will cause\nOctavia deployment to fail.\n\nThis change fixes the issue by ensuring that the service auth project\nexists, in addition to the service project.\n\nCloses-Bug: #1922100\nChange-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0\n'}]",0,784090,fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd,16,5,3,14826,,,0,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/784090/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'zuul.d/project.yaml']",2,69b060e5e6ad081b0d6d24df812635e88878077d,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8-source-monasca - kolla-ansible-centos8-source-cephadm - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,1,52
openstack%2Fcharm-swift-storage~master~I9d657f34ee567149a7f0b504776cb40cd1629221,openstack/charm-swift-storage,master,I9d657f34ee567149a7f0b504776cb40cd1629221,Add impish to metadata.yaml,MERGED,2021-06-03 09:26:05.000000000,2021-06-20 08:11:18.000000000,2021-06-20 08:11:18.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d2fdf4bdacdca68180328c8af30f454280c7dc05', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I9d657f34ee567149a7f0b504776cb40cd1629221\n'}, {'number': 2, 'created': '2021-06-18 20:36:44.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/8a7bde93a1e69da31c2c062b78aaf4f86b26ec96', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I9d657f34ee567149a7f0b504776cb40cd1629221\n'}]",0,794543,8a7bde93a1e69da31c2c062b78aaf4f86b26ec96,10,3,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I9d657f34ee567149a7f0b504776cb40cd1629221
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/43/794543/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,d2fdf4bdacdca68180328c8af30f454280c7dc05,charm-metadata-impish,- impish,,1,0
openstack%2Fkolla-ansible~master~Ieb39b41a6f493bd00c687610ba043a1b4e5945e7,openstack/kolla-ansible,master,Ieb39b41a6f493bd00c687610ba043a1b4e5945e7,Fix up 'Persist nova libvirt secrets in a Docker volume',MERGED,2021-06-18 18:59:11.000000000,2021-06-20 07:57:55.000000000,2021-06-19 21:32:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 18:59:11.000000000', 'files': ['ansible/roles/nova-cell/templates/nova-libvirt.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1fc58e74d0a026192b64934b7b23b5ee752dedcc', 'message': ""Fix up 'Persist nova libvirt secrets in a Docker volume'\n\nFollow up fix for Ia7e923dddb77ff6db3c9160af931354a2b305e8d, which\nbroke the cephadm jobs.\n\nChange-Id: Ieb39b41a6f493bd00c687610ba043a1b4e5945e7\nRelated-Bug: #1821696\n""}]",0,797151,1fc58e74d0a026192b64934b7b23b5ee752dedcc,13,3,1,14826,,,0,"Fix up 'Persist nova libvirt secrets in a Docker volume'

Follow up fix for Ia7e923dddb77ff6db3c9160af931354a2b305e8d, which
broke the cephadm jobs.

Change-Id: Ieb39b41a6f493bd00c687610ba043a1b4e5945e7
Related-Bug: #1821696
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/797151/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova-libvirt.json.j2'],1,1fc58e74d0a026192b64934b7b23b5ee752dedcc,," ""perm"": ""0600"", ""merge"": true ""perm"": ""0600"""," ""perm"": ""0600"" ""perm"": ""0600"", ""merge"": true",3,3
openstack%2Fkolla-ansible~stable%2Fwallaby~I611af46794894fe76da5e74a491db3500810341a,openstack/kolla-ansible,stable/wallaby,I611af46794894fe76da5e74a491db3500810341a,Update blazar.conf template,MERGED,2021-06-18 08:49:40.000000000,2021-06-19 20:07:23.000000000,2021-06-19 20:05:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 08:49:40.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13deb4304cecf4dcd17ed09f8574faf6f999ee46', 'message': 'Update blazar.conf template\n\nOur blazar.conf template was using some deprecated or removed options.\n\nChange-Id: I611af46794894fe76da5e74a491db3500810341a\n(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)\n'}]",0,797018,13deb4304cecf4dcd17ed09f8574faf6f999ee46,9,3,1,15197,,,0,"Update blazar.conf template

Our blazar.conf template was using some deprecated or removed options.

Change-Id: I611af46794894fe76da5e74a491db3500810341a
(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/797018/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,13deb4304cecf4dcd17ed09f8574faf6f999ee46,blazar-config-stable/wallaby,[nova],[physical:host] on_start = on_start on_end = on_endblazar_username = {{ blazar_keystone_user }} blazar_password = {{ blazar_keystone_password }} blazar_project_name = service,1,9
openstack%2Fkolla-ansible~stable%2Fwallaby~I45bacefc7912870c48f618e27ff759f9c249dc33,openstack/kolla-ansible,stable/wallaby,I45bacefc7912870c48f618e27ff759f9c249dc33,Redis configuration syntax update,MERGED,2021-06-18 09:45:12.000000000,2021-06-19 20:06:29.000000000,2021-06-19 20:05:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 33158}]","[{'number': 1, 'created': '2021-06-18 09:45:12.000000000', 'files': ['ansible/roles/redis/templates/redis.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b79d2a4f0ba4e8e24a6af45e83878d3f24265087', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\n\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I45bacefc7912870c48f618e27ff759f9c249dc33\n(cherry picked from commit f3314eacd74cf68b50b2bfca77eff9f53c1d8e54)\n'}]",0,797023,b79d2a4f0ba4e8e24a6af45e83878d3f24265087,9,4,1,30491,,,0,"Redis configuration syntax update

Replication syntax of Redis config files updated to
Redis 5.x.

Signed-off-by: Petr Tuma <p.tuma@partner.samsung.com>
Change-Id: I45bacefc7912870c48f618e27ff759f9c249dc33
(cherry picked from commit f3314eacd74cf68b50b2bfca77eff9f53c1d8e54)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/797023/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/redis/templates/redis.conf.j2'],1,b79d2a4f0ba4e8e24a6af45e83878d3f24265087,redis_conf_master-stable/wallaby,replica-serve-stale-data yes replica-read-only yesreplica-priority 100client-output-buffer-limit replica 256mb 64mb 60replicaof {{ redis_master_address }} 6379,slave-serve-stale-data yes slave-read-only yesslave-priority 100client-output-buffer-limit slave 256mb 64mb 60slaveof {{ redis_master_address }} 6379,5,5
openstack%2Fkolla-ansible~stable%2Fvictoria~I611af46794894fe76da5e74a491db3500810341a,openstack/kolla-ansible,stable/victoria,I611af46794894fe76da5e74a491db3500810341a,Update blazar.conf template,MERGED,2021-06-18 08:54:19.000000000,2021-06-19 20:06:27.000000000,2021-06-19 20:05:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 08:54:19.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a75a489e367cbb643322270316899f0c419a0844', 'message': 'Update blazar.conf template\n\nOur blazar.conf template was using some deprecated or removed options.\n\nChange-Id: I611af46794894fe76da5e74a491db3500810341a\n(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)\n'}]",0,797019,a75a489e367cbb643322270316899f0c419a0844,9,3,1,15197,,,0,"Update blazar.conf template

Our blazar.conf template was using some deprecated or removed options.

Change-Id: I611af46794894fe76da5e74a491db3500810341a
(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/797019/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,a75a489e367cbb643322270316899f0c419a0844,blazar-config-stable/victoria,[nova],[physical:host] on_start = on_start on_end = on_endblazar_username = {{ blazar_keystone_user }} blazar_password = {{ blazar_keystone_password }} blazar_project_name = service,1,9
openstack%2Fkolla-ansible~stable%2Fussuri~I611af46794894fe76da5e74a491db3500810341a,openstack/kolla-ansible,stable/ussuri,I611af46794894fe76da5e74a491db3500810341a,Update blazar.conf template,MERGED,2021-06-18 08:54:43.000000000,2021-06-19 20:06:26.000000000,2021-06-19 20:05:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 08:54:43.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8dc48aca090f055f8a79b5008c36c1d84ec6f12c', 'message': 'Update blazar.conf template\n\nOur blazar.conf template was using some deprecated or removed options.\n\nChange-Id: I611af46794894fe76da5e74a491db3500810341a\n(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)\n'}]",0,797020,8dc48aca090f055f8a79b5008c36c1d84ec6f12c,12,3,1,15197,,,0,"Update blazar.conf template

Our blazar.conf template was using some deprecated or removed options.

Change-Id: I611af46794894fe76da5e74a491db3500810341a
(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/797020/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,8dc48aca090f055f8a79b5008c36c1d84ec6f12c,blazar-config-stable/ussuri,[nova],[physical:host] on_start = on_start on_end = on_endblazar_username = {{ blazar_keystone_user }} blazar_password = {{ blazar_keystone_password }} blazar_project_name = service,1,9
openstack%2Fkolla-ansible~stable%2Fvictoria~I45bacefc7912870c48f618e27ff759f9c249dc33,openstack/kolla-ansible,stable/victoria,I45bacefc7912870c48f618e27ff759f9c249dc33,Redis configuration syntax update,MERGED,2021-02-26 13:19:32.000000000,2021-06-19 20:02:58.000000000,2021-06-19 20:01:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-26 13:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/293f54be7c92fb31e8ed1698d41927820cf070b7', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\n\nCloses-Bug: #1915013\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I45bacefc7912870c48f618e27ff759f9c249dc33\n(cherry picked from commit 8799825485662d67ae64b525fb27758875351d64)\n'}, {'number': 2, 'created': '2021-06-18 09:57:02.000000000', 'files': ['ansible/roles/redis/templates/redis.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef270b693ed02854cdcd2e88db68a6523ee878e6', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\n\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I45bacefc7912870c48f618e27ff759f9c249dc33\n(cherry picked from commit f3314eacd74cf68b50b2bfca77eff9f53c1d8e54)\n'}]",0,777747,ef270b693ed02854cdcd2e88db68a6523ee878e6,13,3,2,33158,,,0,"Redis configuration syntax update

Replication syntax of Redis config files updated to
Redis 5.x.

Signed-off-by: Petr Tuma <p.tuma@partner.samsung.com>
Change-Id: I45bacefc7912870c48f618e27ff759f9c249dc33
(cherry picked from commit f3314eacd74cf68b50b2bfca77eff9f53c1d8e54)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/777747/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/redis/templates/redis.conf.j2'],1,293f54be7c92fb31e8ed1698d41927820cf070b7,redis_conf_master-stable/wallaby-stable/victoria,replica-serve-stale-data yes replica-read-only yesreplica-priority 100client-output-buffer-limit replica 256mb 64mb 60replicaof {{ redis_master_address }} 6379,slave-serve-stale-data yes slave-read-only yesslave-priority 100client-output-buffer-limit slave 256mb 64mb 60slaveof {{ redis_master_address }} 6379,5,5
openstack%2Fnova~stable%2Fwallaby~Ie36401c782f023d1d5f2623732619105dc2cfa24,openstack/nova,stable/wallaby,Ie36401c782f023d1d5f2623732619105dc2cfa24,Reject open redirection in the console proxy,MERGED,2021-05-15 07:18:21.000000000,2021-06-19 18:49:28.000000000,2021-06-19 18:47:59.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-15 07:18:21.000000000', 'files': ['releasenotes/notes/console-proxy-reject-open-redirect-4ac0a7895acca7eb.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/470925614223c8dd9b1233f54f5a96c02b2d4f70', 'message': 'Reject open redirection in the console proxy\n\nOur console proxies (novnc, serial, spice) run in a websockify server\nwhose request handler inherits from the python standard\nSimpleHTTPRequestHandler. There is a known issue [1] in the\nSimpleHTTPRequestHandler which allows open redirects by way of URLs\nin the following format:\n\n  http://vncproxy.my.domain.com//example.com/%2F..\n\nwhich if visited, will redirect a user to example.com.\n\nWe can intercept a request and reject requests that pass a redirection\nURL beginning with ""//"" by implementing the\nSimpleHTTPRequestHandler.send_head() method containing the\nvulnerability to reject such requests with a 400 Bad Request.\n\nThis code is copied from a patch suggested in one of the issue comments\n[2].\n\nCloses-Bug: #1927677\n\n[1] https://bugs.python.org/issue32084\n[2] https://bugs.python.org/issue32084#msg306545\n\nChange-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24\n(cherry picked from commit 781612b33282ed298f742c85dab58a075c8b793e)\n'}]",0,791577,470925614223c8dd9b1233f54f5a96c02b2d4f70,28,4,1,4690,,,0,"Reject open redirection in the console proxy

Our console proxies (novnc, serial, spice) run in a websockify server
whose request handler inherits from the python standard
SimpleHTTPRequestHandler. There is a known issue [1] in the
SimpleHTTPRequestHandler which allows open redirects by way of URLs
in the following format:

  http://vncproxy.my.domain.com//example.com/%2F..

which if visited, will redirect a user to example.com.

We can intercept a request and reject requests that pass a redirection
URL beginning with ""//"" by implementing the
SimpleHTTPRequestHandler.send_head() method containing the
vulnerability to reject such requests with a 400 Bad Request.

This code is copied from a patch suggested in one of the issue comments
[2].

Closes-Bug: #1927677

[1] https://bugs.python.org/issue32084
[2] https://bugs.python.org/issue32084#msg306545

Change-Id: Ie36401c782f023d1d5f2623732619105dc2cfa24
(cherry picked from commit 781612b33282ed298f742c85dab58a075c8b793e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/791577/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/console-proxy-reject-open-redirect-4ac0a7895acca7eb.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",3,470925614223c8dd9b1233f54f5a96c02b2d4f70,bug/1927677," def test_reject_open_redirect(self): # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET //example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data) ",,76,0
openstack%2Fnova~master~I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a,openstack/nova,master,I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a,Retry lvm volume and volume group query,MERGED,2021-06-14 12:16:59.000000000,2021-06-19 18:41:05.000000000,2021-06-16 16:21:33.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 12:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfbe2a8a8eaf1227969151f3bf5009e88ea183e7', 'message': 'Retry volume group query\n\nThe nova.virt.libvirt.storage.lvm.get_volume_group_info() intermittently\nfails with error code 11 (EAGAIN). So this patch enabled the retry in\noslo_concurrency.processutils for the vgs calls.\n\nChange-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a\nCloses-Bug: #1931710\n'}, {'number': 2, 'created': '2021-06-14 12:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bff51f7ac2f998a6e361310e63ed5f14ef4ff45', 'message': 'Retry lvm volume and volume group query\n\nWe observed that the vgs and lvs queries the our lvm driver uses can\nintermittently fail with error code 11 (EAGAIN). So this patch enabled\nthe retry in oslo_concurrency.processutils for these calls.\n\nChange-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a\nCloses-Bug: #1931710\n'}, {'number': 3, 'created': '2021-06-15 10:44:37.000000000', 'files': ['nova/tests/unit/privsep/test_fs.py', 'nova/privsep/fs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e59fc77c3d924cfab6ddcd780ae0604a84e64c30', 'message': 'Retry lvm volume and volume group query\n\nWe observed that the vgs and lvs queries the our lvm driver uses can\nintermittently fail with error code 11 (EAGAIN). So this patch enabled\nthe retry in oslo_concurrency.processutils for these calls.\n\nChange-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a\nCloses-Bug: #1931710\n'}]",4,796269,e59fc77c3d924cfab6ddcd780ae0604a84e64c30,48,5,3,9708,,,0,"Retry lvm volume and volume group query

We observed that the vgs and lvs queries the our lvm driver uses can
intermittently fail with error code 11 (EAGAIN). So this patch enabled
the retry in oslo_concurrency.processutils for these calls.

Change-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a
Closes-Bug: #1931710
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/796269/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/privsep/test_fs.py', 'nova/privsep/fs.py']",2,dfbe2a8a8eaf1227969151f3bf5009e88ea183e7,bug/1931710," # NOTE(gibi): We see intermittent faults querying volume groups failing # with error code -11, hence the retry. See bug 1931710 return processutils.execute( 'vgs', '--noheadings', '--nosuffix', '--separator', '|', '--units', 'b', '-o', 'vg_size,vg_free', vg, attempts=3, delay_on_retry=True, )"," return processutils.execute('vgs', '--noheadings', '--nosuffix', '--separator', '|', '--units', 'b', '-o', 'vg_size,vg_free', vg)",10,4
openstack%2Fpython-tripleoclient~master~Ib0c57e57fe5771d914ffd2a93c911cb325152f8b,openstack/python-tripleoclient,master,Ib0c57e57fe5771d914ffd2a93c911cb325152f8b,overcloud deploy - net ports with baremetal deploy,MERGED,2021-05-27 11:44:18.000000000,2021-06-19 17:53:53.000000000,2021-06-19 17:52:47.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 11:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4f8041c44677dff435f8791f5af88c2be8b7233', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 2, 'created': '2021-05-27 21:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8354f30c879a2b32a37fdc8f2070ce5562c7d06', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 3, 'created': '2021-05-28 06:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ad1dfdafc585cdead3ba6d834b2c1260e6d4a00', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 4, 'created': '2021-05-31 11:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2746d97e5856b35c279276a5958bc2f825330c27', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 5, 'created': '2021-06-01 00:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd633f595ffaeaae8c410617e5ffd5418911af89', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 6, 'created': '2021-06-01 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/995fe1a17a1f7159990f7bd889e9d3234c6067a3', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 7, 'created': '2021-06-03 07:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/91b1ae3b20f4ee4f2b9da5d50e8fc551baf1d8c5', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 8, 'created': '2021-06-03 13:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02d7578519b2206a27441cc1e84c035c4e2329e9', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 9, 'created': '2021-06-05 00:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf3bdea26a2c311355c195848c4bf42879c8f315', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 10, 'created': '2021-06-07 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/07daa5e3e84bc96d1372eaba04e79bdb4bf1bdbc', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 11, 'created': '2021-06-10 19:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0702c31bace5bab69578078251a128cd4287bae9', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 12, 'created': '2021-06-11 09:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fcf2ba2e09212d6315f7dd30f9f5858031da0b64', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 13, 'created': '2021-06-14 09:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/995ce61e1f1d8eb244634f902b8e2cb42350899b', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}, {'number': 14, 'created': '2021-06-16 13:28:41.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05b47bc07ed3ecf1768c5d78929e19538ab8ae85', 'message': 'overcloud deploy - net ports with baremetal deploy\n\n--network-ports\n  Deploy network ports during baremetal node provisioning.\n\n--network-config (implies --network-ports)\n  Deploy network ports and apply the network configuration\n  by applying the tripleo_network_config role on the nodes.\n\nChange-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b\n'}]",21,793385,05b47bc07ed3ecf1768c5d78929e19538ab8ae85,57,4,14,24245,,,0,"overcloud deploy - net ports with baremetal deploy

--network-ports
  Deploy network ports during baremetal node provisioning.

--network-config (implies --network-ports)
  Deploy network ports and apply the network configuration
  by applying the tripleo_network_config role on the nodes.

Change-Id: Ib0c57e57fe5771d914ffd2a93c911cb325152f8b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/793385/9 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,d4f8041c44677dff435f8791f5af88c2be8b7233,network-data-v2," if ((parsed_args.network_ports or parsed_args.network_config) and not parsed_args.baremetal_deployment): raise oscexc.CommandError( ""Error: --baremetal-deployment must be used when using"" ""--network-ports or --network-config"") ""ssh_user_name"": parsed_args.overcloud_ssh_user, ""manage_network_ports"": (parsed_args.network_ports or parsed_args.network_config), ""working_dir"": self.working_dir if parsed_args.network_config: inventory_file = os.path.join(self.working_dir, 'tripleo-ansible-inventory.yaml') with open(inventory_file, 'r') as f: inventory = yaml.safe_load(f.read()) with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-overcloud-node-network-config.yaml', inventory=inventory, workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=oooutils.playbook_verbosity(self=self), ) parser.add_argument('--network-ports', help=_('Enable provisioning of network ports'), default=False, action=""store_true"") parser.add_argument('--network-config', help=_('Apply network config to provisioned ' 'nodes. (Implies ""--network-ports"")'), default=False, action=""store_true"")"," ""ssh_user_name"": parsed_args.overcloud_ssh_user",35,1
openstack%2Fnova~master~Idf4650f36952331f02d7512580c21451f3ee3b63,openstack/nova,master,Idf4650f36952331f02d7512580c21451f3ee3b63,Allow X-OpenStack-Nova-API-Version header in CORS,MERGED,2021-06-14 20:55:37.000000000,2021-06-19 17:22:01.000000000,2021-06-16 15:48:41.000000000,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 20:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6be9a968504437545dfac63023eeecc20bd6de6a', 'message': ""Allow X-OpenStack-Nova-API-Version header in CORS\n\nBy default, we don't currently allow the Nova microversion\nheader for CORS requests.  It should be something that is\nincluded out of the box because it's part of the core API.\n\nDeployers can workaround this by overriding allow_headers,\nbut we should provide a better experience out of the box.\n\nChange-Id: Idf4650f36952331f02d7512580c21451f3ee3b63\n""}, {'number': 2, 'created': '2021-06-14 20:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/529d93d67d3112a9026fbe2390e9ccabd6b2d34e', 'message': ""Allow X-OpenStack-Nova-API-Version header in CORS\n\nBy default, we don't currently allow the Nova microversion\nheader for CORS requests.  It should be something that is\nincluded out of the box because it's part of the core API.\n\nDeployers can workaround this by overriding allow_headers,\nbut we should provide a better experience out of the box.\n\nCloses: #1931908\nChange-Id: Idf4650f36952331f02d7512580c21451f3ee3b63\n""}, {'number': 3, 'created': '2021-06-15 11:35:55.000000000', 'files': ['nova/middleware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b02a95a18b5da37db6d4f30a5dea07e2a4187245', 'message': ""Allow X-OpenStack-Nova-API-Version header in CORS\n\nBy default, we don't currently allow the Nova microversion\nheader for CORS requests.  It should be something that is\nincluded out of the box because it's part of the core API.\n\nDeployers can workaround this by overriding allow_headers,\nbut we should provide a better experience out of the box.\n\nCloses-Bug: #1931908\nChange-Id: Idf4650f36952331f02d7512580c21451f3ee3b63\n""}]",4,796319,b02a95a18b5da37db6d4f30a5dea07e2a4187245,42,3,3,1004,,,0,"Allow X-OpenStack-Nova-API-Version header in CORS

By default, we don't currently allow the Nova microversion
header for CORS requests.  It should be something that is
included out of the box because it's part of the core API.

Deployers can workaround this by overriding allow_headers,
but we should provide a better experience out of the box.

Closes-Bug: #1931908
Change-Id: Idf4650f36952331f02d7512580c21451f3ee3b63
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/796319/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/middleware.py'],1,6be9a968504437545dfac63023eeecc20bd6de6a,bug/1931908," 'X-Tenant-Id', 'X-OpenStack-Nova-API-Version'],"," 'X-Tenant-Id'],",2,1
openstack%2Fpython-tripleoclient~master~Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d,openstack/python-tripleoclient,master,Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d,Make 'ansible_playbooks' pre-network config only,MERGED,2021-06-01 17:58:40.000000000,2021-06-19 16:32:49.000000000,2021-06-19 16:31:41.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-01 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7dc69d46e6eccd3d5e6a21287e068c47552abd15', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 2, 'created': '2021-06-03 07:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/81e1ca17da3533a189200076f8e633a9d0cae5c7', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 3, 'created': '2021-06-03 13:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/638f23caa35e57585a6351dc72022984b823d1ef', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 4, 'created': '2021-06-05 00:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dbe41bf1f66d01123603b812b86f42fd523c1ca8', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 5, 'created': '2021-06-07 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cece967f19fd0e869f7be803e9008d4d1d3b88ec', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 6, 'created': '2021-06-10 19:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c6f5575dee3172ab4dd69bf0d29f945822edcd0', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 7, 'created': '2021-06-11 09:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6cb7eb1d1306b29237db9f84d062fec1fd0e369', 'message': 'Refactor bm post deploy playbooks to utils\n\nAdd methods in utils module to run playbooks against\nnodes provisioned by the baremetal deploy workflow.\n\nRe-factor the implementation in node provision to use\nthe new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n'}, {'number': 8, 'created': '2021-06-14 09:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2c014d30393f1a9dcb49231cbfa75618f60b733', 'message': ""Make 'ansible_playbooks' pre-network config only\n\nDistingushing between pre- and post- network config\nplaybooks is not neccecary. Anything post-network\nconfig can be done using the THT extra config interfaces.\n\nAlso, refactor bm post deploy playbooks to utils:\n* Add methods in utils module to run playbooks against\n  nodes provisioned by the baremetal deploy workflow.\n* Re-factors the implementation in node provision to use\n  the new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n""}, {'number': 9, 'created': '2021-06-14 09:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a0e6fe9d6669fab6bb31997be7eeac361092424', 'message': ""Make 'ansible_playbooks' pre-network config only\n\nDistingushing between pre- and post- network config\nplaybooks is not neccecary. Anything post-network\nconfig can be done using the THT extra config interfaces.\n\nAlso, refactor bm post deploy playbooks to utils:\n* Add methods in utils module to run playbooks against\n  nodes provisioned by the baremetal deploy workflow.\n* Re-factors the implementation in node provision to use\n  the new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n""}, {'number': 10, 'created': '2021-06-16 13:28:41.000000000', 'files': ['tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c3a8abfdc1f0e66418cf1f9b0db6cd88ebb607c3', 'message': ""Make 'ansible_playbooks' pre-network config only\n\nDistingushing between pre- and post- network config\nplaybooks is not neccecary. Anything post-network\nconfig can be done using the THT extra config interfaces.\n\nAlso, refactor bm post deploy playbooks to utils:\n* Add methods in utils module to run playbooks against\n  nodes provisioned by the baremetal deploy workflow.\n* Re-factors the implementation in node provision to use\n  the new methods in utils module.\n\nChange-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d\n""}]",6,794017,c3a8abfdc1f0e66418cf1f9b0db6cd88ebb607c3,53,4,10,24245,,,0,"Make 'ansible_playbooks' pre-network config only

Distingushing between pre- and post- network config
playbooks is not neccecary. Anything post-network
config can be done using the THT extra config interfaces.

Also, refactor bm post deploy playbooks to utils:
* Add methods in utils module to run playbooks against
  nodes provisioned by the baremetal deploy workflow.
* Re-factors the implementation in node provision to use
  the new methods in utils module.

Change-Id: Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/794017/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_node.py', 'tripleoclient/utils.py']",2,7dc69d46e6eccd3d5e6a21287e068c47552abd15,network-data-v2," def rel_or_abs_path_role_playbook(roles_file_dir, playbook): if os.path.isabs(playbook): playbook_path = playbook else: # Load for playbook relative to the roles file playbook_path = os.path.join(roles_file_dir, playbook) return playbook_path def validate_roles_playbooks(roles_file_dir, roles): not_found = [] playbooks = [] for role in roles: playbooks.extend(role.get('ansible_playbooks', [])) for x in playbooks: path = rel_or_abs_path_role_playbook(roles_file_dir, x['playbook']) if not os.path.exists(path) or not os.path.isfile(path): not_found.append(path) if not_found: raise exceptions.InvalidPlaybook( 'Invalid Playbook(s) {}, file(s) not found.'.format( ', '.join(not_found))) def run_role_playbook(self, inventory, relative_dir, playbook, limit_hosts=None, extra_vars=dict()): playbook_path = rel_or_abs_path_role_playbook(relative_dir, playbook) playbook_dir = os.path.basename(playbook_path) with TempDirs() as tmp: run_ansible_playbook( playbook=playbook_path, inventory=inventory, workdir=tmp, playbook_dir=playbook_dir, verbosity=playbook_verbosity(self=self), limit_hosts=limit_hosts, extra_vars=extra_vars, ) def run_role_playbooks(self, parsed_args, working_dir, roles_file_dir, roles): if not parsed_args.network_ports and not parsed_args.network_config: return inventory_file = os.path.join(working_dir, 'tripleo-ansible-inventory.yaml') with open(inventory_file, 'r') as f: inventory = yaml.safe_load(f.read()) # Pre-Network Config for role in roles: for x in role.get('ansible_playbooks', []): if not x.get('pre_network'): continue run_role_playbook(self, inventory, roles_file_dir, x['playbook'], limit_hosts=role['name'], extra_vars=x.get('extra_vars', {})) # Network Config if parsed_args.network_config: run_role_playbook(self, inventory, constants.ANSIBLE_TRIPLEO_PLAYBOOKS, 'cli-overcloud-node-network-config.yaml') # Post-Network Config for role in roles: for x in role.get('ansible_playbooks', []): if x.get('pre_network'): continue run_role_playbook(self, inventory, roles_file_dir, x['playbook'], limit_hosts=role['name'], extra_vars=x.get('extra_vars', {}))",,84,71
openstack%2Fnova~master~Id3e4452883f6a3cf44ff58b39ded82e882e28c23,openstack/nova,master,Id3e4452883f6a3cf44ff58b39ded82e882e28c23,"Move 'check-cherry-picks' test to gate, n-v check",MERGED,2021-06-16 11:04:46.000000000,2021-06-19 16:28:13.000000000,2021-06-17 21:42:14.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 11:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc19200e718edc21c52f50eff1fd90f3f8207e14', 'message': ""Move 'check-cherry-picks' test to gate\n\nThis currently runs in the 'check' pipeline, which causes otherwise\nperfectly valid backports to report as failing CI. There's no reason a\nstable core shouldn't be encouraged to review these patches: we simply\nwant to prevent them *merging* before their parent(s). Resolve this\nconflict by moving the check to separate job in the 'gate' pipeline.\n\nChange-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-06-16 14:52:49.000000000', 'files': ['.zuul.yaml', 'tox.ini', 'tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/98b01c9a59df4912f5a162c2c52d1f00c84d24c2', 'message': ""Move 'check-cherry-picks' test to gate, n-v check\n\nThis currently runs in the 'check' pipeline, as part of the pep8 job,\nwhich causes otherwise perfectly valid backports to report as failing\nCI. There's no reason a stable core shouldn't be encouraged to review\nthese patches: we simply want to prevent them *merging* before their\nparent(s). Resolve this conflict by moving the check to separate voting\njob in the 'gate' pipeline as well as a non-voting job in the 'check'\npipeline to catch more obvious issues.\n\nChange-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,796626,98b01c9a59df4912f5a162c2c52d1f00c84d24c2,27,5,2,15334,,,0,"Move 'check-cherry-picks' test to gate, n-v check

This currently runs in the 'check' pipeline, as part of the pep8 job,
which causes otherwise perfectly valid backports to report as failing
CI. There's no reason a stable core shouldn't be encouraged to review
these patches: we simply want to prevent them *merging* before their
parent(s). Resolve this conflict by moving the check to separate voting
job in the 'gate' pipeline as well as a non-voting job in the 'check'
pipeline to catch more obvious issues.

Change-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/796626/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,fc19200e718edc21c52f50eff1fd90f3f8207e14,cherry-pick-in-gate-queue,[testenv:validate-backport] description = Determine whether a backport is ready to be merged by checking whether it has already been merged to master or more recent stable branches. deps = skipsdist = true commands = bash tools/check-cherry-picks.sh ,passenv = DISABLE_CHERRY_PICK_CHECK bash tools/check-cherry-picks.sh,22,4
openstack%2Ftrove~master~Ie62e9aa1863d705a60b244981c9dee160d50d2dc,openstack/trove,master,Ie62e9aa1863d705a60b244981c9dee160d50d2dc,Support customized database container images in DevStack,MERGED,2021-06-18 11:16:44.000000000,2021-06-19 14:58:56.000000000,2021-06-19 14:57:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 11:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/78a9f32e67064298c343cddcae18f32159fd7455', 'message': 'Support customized database container images in DevStack\n\nStory: 2008990\nTask: 42643\nChange-Id: Ie62e9aa1863d705a60b244981c9dee160d50d2dc\n'}, {'number': 2, 'created': '2021-06-19 04:47:53.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/trove/commit/03e5512695f95aae4822c78db9f4cf9ec6eef7f9', 'message': 'Support customized database container images in DevStack\n\nStory: 2008990\nTask: 42643\nChange-Id: Ie62e9aa1863d705a60b244981c9dee160d50d2dc\n'}]",0,797057,03e5512695f95aae4822c78db9f4cf9ec6eef7f9,13,2,2,6732,,,0,"Support customized database container images in DevStack

Story: 2008990
Task: 42643
Change-Id: Ie62e9aa1863d705a60b244981c9dee160d50d2dc
",git fetch https://review.opendev.org/openstack/trove refs/changes/57/797057/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,78a9f32e67064298c343cddcae18f32159fd7455,catalyst-dockerhub," # Customized database container images TROVE_DATABASE_IMAGE_MYSQL=${TROVE_DATABASE_IMAGE_MYSQL:-""catalystcloud/mysql""} TROVE_DATABASE_IMAGE_POSTGRES=${TROVE_DATABASE_IMAGE_POSTGRES:-""catalystcloud/postgres""}",,7,0
openstack%2Fnova~master~I4a94760cebef4bb62da64189477636cc1002ffbe,openstack/nova,master,I4a94760cebef4bb62da64189477636cc1002ffbe,db: Remove dead code,MERGED,2021-04-14 17:43:16.000000000,2021-06-19 14:40:39.000000000,2021-06-17 12:19:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 17:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27d8accef1161b3648dd12d01c6e2769c00b347e', 'message': ""db: Remove dead code\n\nChange I532c7918a8e2c887f29d2f0e1e33b80f2b3a7507 removed the\n'nova.db.sqlalchemy.migration.db_null_instance_uuid_scan' function. It\nshould have also removed the '_process_null_records' function from this\nmodule.\n\nChange I42b302afbb1cfede7a0f7b16485a596cd70baf17 removed the XenAPI virt\ndriver and tests. These tests were the only users of the\n'nova.tests.unit.db.fakes' module which should have been removed then.\n\nRemove both now.\n\nChange-Id: I4a94760cebef4bb62da64189477636cc1002ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-11 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/223e43ed335307c687f7eda7895fe80d203d86f1', 'message': ""db: Remove dead code\n\nChange I532c7918a8e2c887f29d2f0e1e33b80f2b3a7507 removed the\n'nova.db.sqlalchemy.migration.db_null_instance_uuid_scan' function. It\nshould have also removed the '_process_null_records' function from this\nmodule.\n\nChange I42b302afbb1cfede7a0f7b16485a596cd70baf17 removed the XenAPI virt\ndriver and tests. These tests were the only users of the\n'nova.tests.unit.db.fakes' module which should have been removed then.\n\nRemove both now.\n\nChange-Id: I4a94760cebef4bb62da64189477636cc1002ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-06-15 15:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f98771961edf32f27014e3c692a1034b43c1ef2d', 'message': ""db: Remove dead code\n\nChange I532c7918a8e2c887f29d2f0e1e33b80f2b3a7507 removed the\n'nova.db.sqlalchemy.migration.db_null_instance_uuid_scan' function. It\nshould have also removed the '_process_null_records' function from this\nmodule.\n\nChange I42b302afbb1cfede7a0f7b16485a596cd70baf17 removed the XenAPI virt\ndriver and tests. These tests were the only users of the\n'nova.tests.unit.db.fakes' module which should have been removed then.\n\nRemove both now.\n\nChange-Id: I4a94760cebef4bb62da64189477636cc1002ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-16 09:12:12.000000000', 'files': ['nova/tests/unit/db/fakes.py', 'nova/db/sqlalchemy/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6df671fea75e1c91c0d28f364aeef5872cc7815a', 'message': ""db: Remove dead code\n\nChange I532c7918a8e2c887f29d2f0e1e33b80f2b3a7507 removed the\n'nova.db.sqlalchemy.migration.db_null_instance_uuid_scan' function. It\nshould have also removed the '_process_null_records' function from this\nmodule.\n\nChange I42b302afbb1cfede7a0f7b16485a596cd70baf17 removed the XenAPI virt\ndriver and tests. These tests were the only users of the\n'nova.tests.unit.db.fakes' module which should have been removed then.\n\nRemove both now.\n\nChange-Id: I4a94760cebef4bb62da64189477636cc1002ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,786291,6df671fea75e1c91c0d28f364aeef5872cc7815a,47,4,4,15334,,,0,"db: Remove dead code

Change I532c7918a8e2c887f29d2f0e1e33b80f2b3a7507 removed the
'nova.db.sqlalchemy.migration.db_null_instance_uuid_scan' function. It
should have also removed the '_process_null_records' function from this
module.

Change I42b302afbb1cfede7a0f7b16485a596cd70baf17 removed the XenAPI virt
driver and tests. These tests were the only users of the
'nova.tests.unit.db.fakes' module which should have been removed then.

Remove both now.

Change-Id: I4a94760cebef4bb62da64189477636cc1002ffbe
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/786291/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/fakes.py', 'nova/db/sqlalchemy/migration.py']",2,27d8accef1161b3648dd12d01c6e2769c00b347e,bp/remove-sqlalchemy-migrate,,"from sqlalchemy.sql import nulldef _process_null_records(table, col_name, check_fkeys, delete=False): """"""Queries the database and optionally deletes the NULL records. :param table: sqlalchemy.Table object. :param col_name: The name of the column to check in the table. :param check_fkeys: If True, check the table for foreign keys back to the instances table and if not found, return. :param delete: If true, run a delete operation on the table, else just query for number of records that match the NULL column. :returns: The number of records processed for the table and column. """""" records = 0 if col_name in table.columns: # NOTE(mriedem): filter out tables that don't have a foreign key back # to the instances table since they could have stale data even if # instances.uuid wasn't NULL. if check_fkeys: fkey_found = False fkeys = table.c[col_name].foreign_keys or [] for fkey in fkeys: if fkey.column.table.name == 'instances': fkey_found = True if not fkey_found: return 0 if delete: records = table.delete().where( table.c[col_name] == null() ).execute().rowcount else: records = len(list( table.select().where(table.c[col_name] == null()).execute() )) return records ",0,171
openstack%2Fproject-config~master~I2d63409561ca23423c69f1ad7662ac66d4f322c6,openstack/project-config,master,I2d63409561ca23423c69f1ad7662ac66d4f322c6,Normalize projects.yaml,MERGED,2021-06-19 06:09:21.000000000,2021-06-19 13:42:27.000000000,2021-06-19 13:39:12.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-19 06:09:21.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/11891e883f5c790404d15bbbf640b5d3d59395f9', 'message': 'Normalize projects.yaml\n\nChange-Id: I2d63409561ca23423c69f1ad7662ac66d4f322c6\n'}]",0,797171,11891e883f5c790404d15bbbf640b5d3d59395f9,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I2d63409561ca23423c69f1ad7662ac66d4f322c6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/797171/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,11891e883f5c790404d15bbbf640b5d3d59395f9,project-yaml-normalization," description: RETIRED, Action plans to solve Enterprise needs and issues for OpenStack adoption. description: RETIRED, scripts and useful references to track contributions by users."," description: RETIRED, Action plans to solve Enterprise needs and issues for OpenStack adoption. description: RETIRED, scripts and useful references to track contributions by users.",4,2
openstack%2Fnova~master~I72a5ba0ea317bf74c70308ed6405638efef6e72d,openstack/nova,master,I72a5ba0ea317bf74c70308ed6405638efef6e72d,db: Remove unused DB methods,MERGED,2021-04-14 17:43:16.000000000,2021-06-19 13:30:11.000000000,2021-06-19 13:28:43.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 17:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f27718cba160d8cbacea69ae0b05c0f686853e66', 'message': ""db: Remove unused DB methods\n\nThe following methods were found in 'nova.db.api' but not implemented\n'nova.db.sqlalchemy.api'.\n\n- pcidevice_online_data_migration\n- security_group_rule_count_by_group\n- security_group_rule_create\n- security_group_rule_destroy\n- security_group_rule_get\n- security_group_rule_get_by_instance\n- security_group_rule_get_by_security_group\n\nAll the 'security_group_'-prefixed methods should have been removed in\nchange I6aba959eff1e50af4ac040148c7177f235a09a1f alongside their\nimplementations, while the 'pcidevice_online_data_migration' method\nshould have gone in change Idb033e9e52b149372308eabb19c5774e10c56156\nalongside its implementation. Resolve this now.\n\nChange-Id: I72a5ba0ea317bf74c70308ed6405638efef6e72d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-11 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bfcdcf314c2d985142ef49d5987047ff88d1297', 'message': ""db: Remove unused DB methods\n\nThe following methods were found in 'nova.db.api' but not implemented\n'nova.db.sqlalchemy.api'.\n\n- pcidevice_online_data_migration\n- security_group_rule_count_by_group\n- security_group_rule_create\n- security_group_rule_destroy\n- security_group_rule_get\n- security_group_rule_get_by_instance\n- security_group_rule_get_by_security_group\n\nAll the 'security_group_'-prefixed methods should have been removed in\nchange I6aba959eff1e50af4ac040148c7177f235a09a1f alongside their\nimplementations, while the 'pcidevice_online_data_migration' method\nshould have gone in change Idb033e9e52b149372308eabb19c5774e10c56156\nalongside its implementation. Resolve this now.\n\nChange-Id: I72a5ba0ea317bf74c70308ed6405638efef6e72d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-06-15 15:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2d60e0084dfb2659e07720a9fa6cdc52998d4fe', 'message': ""db: Remove unused DB methods\n\nThe following methods were found in 'nova.db.api' but not implemented\n'nova.db.sqlalchemy.api'.\n\n- pcidevice_online_data_migration\n- security_group_rule_count_by_group\n- security_group_rule_create\n- security_group_rule_destroy\n- security_group_rule_get\n- security_group_rule_get_by_instance\n- security_group_rule_get_by_security_group\n\nAll the 'security_group_'-prefixed methods should have been removed in\nchange I6aba959eff1e50af4ac040148c7177f235a09a1f alongside their\nimplementations, while the 'pcidevice_online_data_migration' method\nshould have gone in change Idb033e9e52b149372308eabb19c5774e10c56156\nalongside its implementation. Resolve this now.\n\nChange-Id: I72a5ba0ea317bf74c70308ed6405638efef6e72d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-16 09:12:12.000000000', 'files': ['nova/db/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6cad899ca0de3662c19caa13636b19989c83f7a', 'message': ""db: Remove unused DB methods\n\nThe following methods were found in 'nova.db.api' but not implemented\n'nova.db.sqlalchemy.api'.\n\n- pcidevice_online_data_migration\n- security_group_rule_count_by_group\n- security_group_rule_create\n- security_group_rule_destroy\n- security_group_rule_get\n- security_group_rule_get_by_instance\n- security_group_rule_get_by_security_group\n\nAll the 'security_group_'-prefixed methods should have been removed in\nchange I6aba959eff1e50af4ac040148c7177f235a09a1f alongside their\nimplementations, while the 'pcidevice_online_data_migration' method\nshould have gone in change Idb033e9e52b149372308eabb19c5774e10c56156\nalongside its implementation. Resolve this now.\n\nChange-Id: I72a5ba0ea317bf74c70308ed6405638efef6e72d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,786293,d6cad899ca0de3662c19caa13636b19989c83f7a,56,4,4,15334,,,0,"db: Remove unused DB methods

The following methods were found in 'nova.db.api' but not implemented
'nova.db.sqlalchemy.api'.

- pcidevice_online_data_migration
- security_group_rule_count_by_group
- security_group_rule_create
- security_group_rule_destroy
- security_group_rule_get
- security_group_rule_get_by_instance
- security_group_rule_get_by_security_group

All the 'security_group_'-prefixed methods should have been removed in
change I6aba959eff1e50af4ac040148c7177f235a09a1f alongside their
implementations, while the 'pcidevice_online_data_migration' method
should have gone in change Idb033e9e52b149372308eabb19c5774e10c56156
alongside its implementation. Resolve this now.

Change-Id: I72a5ba0ea317bf74c70308ed6405638efef6e72d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/786293/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/api.py'],1,f27718cba160d8cbacea69ae0b05c0f686853e66,bp/remove-sqlalchemy-migrate,,"#################### def security_group_rule_create(context, values): """"""Create a new security group."""""" return IMPL.security_group_rule_create(context, values) def security_group_rule_get_by_security_group(context, security_group_id, columns_to_join=None): """"""Get all rules for a given security group."""""" return IMPL.security_group_rule_get_by_security_group( context, security_group_id, columns_to_join=columns_to_join) def security_group_rule_get_by_instance(context, instance_uuid): """"""Get all rules for a given instance."""""" return IMPL.security_group_rule_get_by_instance(context, instance_uuid) def security_group_rule_destroy(context, security_group_rule_id): """"""Deletes a security group rule."""""" return IMPL.security_group_rule_destroy(context, security_group_rule_id) def security_group_rule_get(context, security_group_rule_id): """"""Gets a security group rule."""""" return IMPL.security_group_rule_get(context, security_group_rule_id) def security_group_rule_count_by_group(context, security_group_id): """"""Count rules in a given security group."""""" return IMPL.security_group_rule_count_by_group(context, security_group_id) def pcidevice_online_data_migration(context, max_count): return IMPL.pcidevice_online_data_migration(context, max_count) ",0,39
openstack%2Fnova~stable%2Fwallaby~I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220,openstack/nova,stable/wallaby,I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220,Stop leaking ceph df cmd in RBD utils,MERGED,2021-05-18 13:09:48.000000000,2021-06-19 13:30:07.000000000,2021-06-19 13:28:29.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 13:09:48.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ede75c65edbcb27557831ae6f5c3a9f81f23a0e', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n(cherry picked from commit 86af7feed06f08ddb3ef65122089216708d53a06)\n'}]",0,791939,5ede75c65edbcb27557831ae6f5c3a9f81f23a0e,16,5,1,23950,,,0,"Stop leaking ceph df cmd in RBD utils

If the ceph df command fails in the get_pool_info
method of RBD utils the actual command executed
if seen by the users in the fault error message.

This hides the command behind a StorageError
exception and logs the exception instead of leaking
it to the users.

Change-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220
Closes-Bug: 1926978
(cherry picked from commit 86af7feed06f08ddb3ef65122089216708d53a06)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/791939/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/storage/rbd_utils.py']",2,5ede75c65edbcb27557831ae6f5c3a9f81f23a0e,789374-stable/wallaby," try: out, _ = processutils.execute(*args) except processutils.ProcessExecutionError: LOG.exception('Could not determine disk usage') raise exception.StorageError( reason='Could not determine disk usage') "," out, _ = processutils.execute(*args)",14,1
openstack%2Fnova~master~Icf813985ef6c4a618ecde437323068c0cb013960,openstack/nova,master,Icf813985ef6c4a618ecde437323068c0cb013960,tests: Merge flavor tests,MERGED,2021-03-29 14:46:44.000000000,2021-06-19 13:03:44.000000000,2021-06-16 15:07:01.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-29 14:46:44.000000000', 'files': ['nova/tests/unit/test_flavor_extra_specs.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/unit/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6dbc8e5416f1019a0a454566aceb397e8c216c79', 'message': ""tests: Merge flavor tests\n\nThe 'test_flavors' and 'test_flavor_extra_specs' tests from the\n'nova.tests.unit' module were testing functionality found in each of\n'nova.objects.flavor' and 'nova.compute.flavors', both of which have\ntheir own tests. Merge these in.\n\nChange-Id: Icf813985ef6c4a618ecde437323068c0cb013960\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,783662,6dbc8e5416f1019a0a454566aceb397e8c216c79,31,5,1,15334,,,0,"tests: Merge flavor tests

The 'test_flavors' and 'test_flavor_extra_specs' tests from the
'nova.tests.unit' module were testing functionality found in each of
'nova.objects.flavor' and 'nova.compute.flavors', both of which have
their own tests. Merge these in.

Change-Id: Icf813985ef6c4a618ecde437323068c0cb013960
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/783662/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_flavor_extra_specs.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/unit/test_flavors.py']",4,6dbc8e5416f1019a0a454566aceb397e8c216c79,compute_rpc_6.0,,"# Copyright 2011 Ken Pepple # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Unit Tests for flavors code """""" from nova.compute import flavors from nova import context from nova.db import api as db from nova import exception from nova import objects from nova.objects import base as obj_base from nova import test class FlavorTestCase(test.TestCase): """"""Test cases for flavor code."""""" def test_will_not_get_instance_by_unknown_flavor_id(self): # Ensure get by flavor raises error with wrong flavorid. self.assertRaises(exception.FlavorNotFound, flavors.get_flavor_by_flavor_id, 'unknown_flavor') def test_will_get_instance_by_flavor_id(self): default_flavor = objects.Flavor.get_by_name( context.get_admin_context(), 'm1.small') flavorid = default_flavor.flavorid fetched = flavors.get_flavor_by_flavor_id(flavorid) self.assertIsInstance(fetched, objects.Flavor) self.assertEqual(default_flavor.flavorid, fetched.flavorid) class FlavorToolsTest(test.TestCase): def setUp(self): super().setUp() self.context = context.get_admin_context() def _dict_to_metadata(self, data): return [{'key': key, 'value': value} for key, value in data.items()] def _test_extract_flavor(self, prefix): flavor = objects.Flavor.get_by_name(self.context, 'm1.small') flavor_p = obj_base.obj_to_primitive(flavor) metadata = {} flavors.save_flavor_info(metadata, flavor, prefix) instance = {'system_metadata': self._dict_to_metadata(metadata)} _flavor = flavors.extract_flavor(instance, prefix) _flavor_p = obj_base.obj_to_primitive(_flavor) props = flavors.system_metadata_flavor_props.keys() for key in list(flavor_p.keys()): if key not in props: del flavor_p[key] self.assertEqual(flavor_p, _flavor_p) def test_extract_flavor(self): self._test_extract_flavor('') def test_extract_flavor_no_sysmeta(self): instance = {} prefix = '' result = flavors.extract_flavor(instance, prefix) self.assertIsNone(result) def test_extract_flavor_prefix(self): self._test_extract_flavor('foo_') def test_save_flavor_info(self): flavor = objects.Flavor.get_by_name(self.context, 'm1.small') example = {} example_prefix = {} for key in flavors.system_metadata_flavor_props.keys(): example['instance_type_%s' % key] = flavor[key] example_prefix['fooinstance_type_%s' % key] = flavor[key] metadata = {} flavors.save_flavor_info(metadata, flavor) self.assertEqual(example, metadata) metadata = {} flavors.save_flavor_info(metadata, flavor, 'foo') self.assertEqual(example_prefix, metadata) def test_flavor_numa_extras_are_saved(self): flavor = objects.Flavor.get_by_name(self.context, 'm1.small') flavor['extra_specs'] = { 'hw:numa_mem.0': '123', 'hw:numa_cpus.0': '456', 'hw:numa_mem.1': '789', 'hw:numa_cpus.1': 'ABC', 'foo': 'bar', } sysmeta = flavors.save_flavor_info({}, flavor) _flavor = flavors.extract_flavor({'system_metadata': sysmeta}) expected_extra_specs = { 'hw:numa_mem.0': '123', 'hw:numa_cpus.0': '456', 'hw:numa_mem.1': '789', 'hw:numa_cpus.1': 'ABC', } self.assertEqual(expected_extra_specs, _flavor['extra_specs']) class FlavorFilteringTest(test.TestCase): """"""Test cases for the filter option available for FlavorList.get_all."""""" def setUp(self): super().setUp() self.context = context.get_admin_context() def assertFilterResults(self, filters, expected): flavors = objects.FlavorList.get_all(self.context, filters=filters) inst_names = [i.name for i in flavors] self.assertEqual(inst_names, expected) def test_no_filters(self): filters = None expected = ['m1.tiny', 'm1.small', 'm1.medium', 'm1.large', 'm1.xlarge', 'm1.tiny.specs'] self.assertFilterResults(filters, expected) def test_min_memory_mb_filter(self): # Exclude tiny instance which is 512 MB. filters = dict(min_memory_mb=513) expected = ['m1.small', 'm1.medium', 'm1.large', 'm1.xlarge'] self.assertFilterResults(filters, expected) def test_min_root_gb_filter(self): # Exclude everything but large and xlarge which have >= 80 GB. filters = dict(min_root_gb=80) expected = ['m1.large', 'm1.xlarge'] self.assertFilterResults(filters, expected) def test_min_memory_mb_AND_root_gb_filter(self): # Exclude everything but large and xlarge which have >= 80 GB. filters = dict(min_memory_mb=16384, min_root_gb=80) expected = ['m1.xlarge'] self.assertFilterResults(filters, expected) class CreateFlavorTest(test.TestCase): def assertInvalidInput(self, *create_args, **create_kwargs): self.assertRaises(exception.InvalidInput, flavors.create, *create_args, **create_kwargs) def test_memory_must_be_positive_db_integer(self): self.assertInvalidInput('flavor1', 'foo', 1, 120) self.assertInvalidInput('flavor1', -1, 1, 120) self.assertInvalidInput('flavor1', 0, 1, 120) self.assertInvalidInput('flavor1', db.MAX_INT + 1, 1, 120) flavors.create('flavor1', 1, 1, 120) def test_vcpus_must_be_positive_db_integer(self): self.assertInvalidInput('flavor`', 64, 'foo', 120) self.assertInvalidInput('flavor1', 64, -1, 120) self.assertInvalidInput('flavor1', 64, 0, 120) self.assertInvalidInput('flavor1', 64, db.MAX_INT + 1, 120) flavors.create('flavor1', 64, 1, 120) def test_root_gb_must_be_nonnegative_db_integer(self): self.assertInvalidInput('flavor1', 64, 1, 'foo') self.assertInvalidInput('flavor1', 64, 1, -1) self.assertInvalidInput('flavor1', 64, 1, db.MAX_INT + 1) flavors.create('flavor1', 64, 1, 0) flavors.create('flavor2', 64, 1, 120) def test_ephemeral_gb_must_be_nonnegative_db_integer(self): self.assertInvalidInput('flavor1', 64, 1, 120, ephemeral_gb='foo') self.assertInvalidInput('flavor1', 64, 1, 120, ephemeral_gb=-1) self.assertInvalidInput('flavor1', 64, 1, 120, ephemeral_gb=db.MAX_INT + 1) flavors.create('flavor1', 64, 1, 120, ephemeral_gb=0) flavors.create('flavor2', 64, 1, 120, ephemeral_gb=120) def test_swap_must_be_nonnegative_db_integer(self): self.assertInvalidInput('flavor1', 64, 1, 120, swap='foo') self.assertInvalidInput('flavor1', 64, 1, 120, swap=-1) self.assertInvalidInput('flavor1', 64, 1, 120, swap=db.MAX_INT + 1) flavors.create('flavor1', 64, 1, 120, swap=0) flavors.create('flavor2', 64, 1, 120, swap=1) def test_rxtx_factor_must_be_positive_float(self): self.assertInvalidInput('flavor1', 64, 1, 120, rxtx_factor='foo') self.assertInvalidInput('flavor1', 64, 1, 120, rxtx_factor=-1.0) self.assertInvalidInput('flavor1', 64, 1, 120, rxtx_factor=0.0) flavor = flavors.create('flavor1', 64, 1, 120, rxtx_factor=1.0) self.assertEqual(1.0, flavor.rxtx_factor) flavor = flavors.create('flavor2', 64, 1, 120, rxtx_factor=1.1) self.assertEqual(1.1, flavor.rxtx_factor) def test_rxtx_factor_must_be_within_sql_float_range(self): # We do * 10 since this is an approximation and we need to make sure # the difference is noticeble. over_rxtx_factor = db.SQL_SP_FLOAT_MAX * 10 self.assertInvalidInput('flavor1', 64, 1, 120, rxtx_factor=over_rxtx_factor) flavor = flavors.create('flavor2', 64, 1, 120, rxtx_factor=db.SQL_SP_FLOAT_MAX) self.assertEqual(db.SQL_SP_FLOAT_MAX, flavor.rxtx_factor) def test_is_public_must_be_valid_bool_string(self): self.assertInvalidInput('flavor1', 64, 1, 120, is_public='foo') flavors.create('flavor1', 64, 1, 120, is_public='TRUE') flavors.create('flavor2', 64, 1, 120, is_public='False') flavors.create('flavor3', 64, 1, 120, is_public='Yes') flavors.create('flavor4', 64, 1, 120, is_public='No') flavors.create('flavor5', 64, 1, 120, is_public='Y') flavors.create('flavor6', 64, 1, 120, is_public='N') flavors.create('flavor7', 64, 1, 120, is_public='1') flavors.create('flavor8', 64, 1, 120, is_public='0') flavors.create('flavor9', 64, 1, 120, is_public='true') def test_flavorid_populated(self): flavor1 = flavors.create('flavor1', 64, 1, 120) self.assertIsNotNone(flavor1.flavorid) flavor2 = flavors.create('flavor2', 64, 1, 120, flavorid='') self.assertIsNotNone(flavor2.flavorid) flavor3 = flavors.create('flavor3', 64, 1, 120, flavorid='foo') self.assertEqual('foo', flavor3.flavorid) def test_default_values(self): flavor1 = flavors.create('flavor1', 64, 1, 120) self.assertIsNotNone(flavor1.flavorid) self.assertEqual(flavor1.ephemeral_gb, 0) self.assertEqual(flavor1.swap, 0) self.assertEqual(flavor1.rxtx_factor, 1.0) def test_basic_create(self): # Ensure instance types can be created. ctxt = context.get_admin_context() original_list = objects.FlavorList.get_all(ctxt) # Create new type and make sure values stick flavor = flavors.create('flavor', 64, 1, 120) self.assertEqual(flavor.name, 'flavor') self.assertEqual(flavor.memory_mb, 64) self.assertEqual(flavor.vcpus, 1) self.assertEqual(flavor.root_gb, 120) # Ensure new type shows up in list new_list = objects.FlavorList.get_all(ctxt) self.assertNotEqual(len(original_list), len(new_list), 'flavor was not created') def test_create_then_delete(self): ctxt = context.get_admin_context() original_list = objects.FlavorList.get_all(ctxt) flavor = flavors.create('flavor', 64, 1, 120) # Ensure new type shows up in list new_list = objects.FlavorList.get_all(ctxt) self.assertNotEqual(len(original_list), len(new_list), 'instance type was not created') flavor.destroy() self.assertRaises(exception.FlavorNotFound, objects.Flavor.get_by_name, ctxt, flavor.name) # Deleted instance should not be in list anymore new_list = objects.FlavorList.get_all(ctxt) self.assertEqual(len(original_list), len(new_list)) for i, f in enumerate(original_list): self.assertIsInstance(f, objects.Flavor) self.assertEqual(f.flavorid, new_list[i].flavorid) def test_duplicate_names_fail(self): # Ensures that name duplicates raise FlavorExists flavors.create('flavor', 256, 1, 120, 200, 'flavor1') self.assertRaises(exception.FlavorExists, flavors.create, 'flavor', 64, 1, 120) def test_duplicate_flavorids_fail(self): # Ensures that flavorid duplicates raise FlavorExists flavors.create('flavor1', 64, 1, 120, flavorid='flavorid') self.assertRaises(exception.FlavorIdExists, flavors.create, 'flavor2', 64, 1, 120, flavorid='flavorid') ",383,436
openstack%2Fansible-role-collect-logs~master~I42016fd82d01db25b1506f07d8631f98e8da399f,openstack/ansible-role-collect-logs,master,I42016fd82d01db25b1506f07d8631f98e8da399f,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 16:56:20.000000000,2021-06-19 09:46:19.000000000,2021-06-19 09:46:19.000000000,"[{'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-06-17 16:56:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4b54d972a4eaeac251449dd127c4abc52536ccc3', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I42016fd82d01db25b1506f07d8631f98e8da399f\n'}]",0,796897,4b54d972a4eaeac251449dd127c4abc52536ccc3,6,2,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I42016fd82d01db25b1506f07d8631f98e8da399f
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/97/796897/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4b54d972a4eaeac251449dd127c4abc52536ccc3,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Freleases~master~Id6da7720250c2a88725b1518b7d6effe8b0bdfcb,openstack/releases,master,Id6da7720250c2a88725b1518b7d6effe8b0bdfcb,Make final Train releases for Kolla,MERGED,2021-06-18 16:37:44.000000000,2021-06-19 09:26:45.000000000,2021-06-19 09:26:45.000000000,"[{'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-18 16:37:44.000000000', 'files': ['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c25abba211ac32c1083b6f8d0376f4927a8cede6', 'message': 'Make final Train releases for Kolla\n\nChange-Id: Id6da7720250c2a88725b1518b7d6effe8b0bdfcb\n'}]",0,797140,c25abba211ac32c1083b6f8d0376f4927a8cede6,9,4,1,30491,,,0,"Make final Train releases for Kolla

Change-Id: Id6da7720250c2a88725b1518b7d6effe8b0bdfcb
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/797140/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml']",3,c25abba211ac32c1083b6f8d0376f4927a8cede6,train-kolla-final, - version: 9.4.0 projects: - repo: openstack/kolla hash: fa53a60c149026ff6641e1e1d9bae240dd888f3d,,16,0
openstack%2Fpython-tripleoclient~master~I1e4f8dde9f56311bed8dcbe1b08ade09225fd595,openstack/python-tripleoclient,master,I1e4f8dde9f56311bed8dcbe1b08ade09225fd595,overcloud deploy - provision virtual ips,MERGED,2021-05-27 11:44:18.000000000,2021-06-19 05:33:06.000000000,2021-06-19 05:31:59.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-27 11:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d95537c57892e27963767ec40adbea115479263', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 2, 'created': '2021-05-27 21:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f0edf50fde0bc5ccc7c408d2652ae5ce38c0e777', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 3, 'created': '2021-05-28 06:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3dfcb1539a4673635ae5efdabeaa1d3a799dceba', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 4, 'created': '2021-05-31 11:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9b9ff86389de2f8c83939d83476f3a0e730d19c8', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 5, 'created': '2021-06-01 00:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b270d74e8bf4da452737eb55e6824b1023ff5c28', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 6, 'created': '2021-06-01 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92e2386f394220a8d16ec53f6d1eac0eccebdcfc', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 7, 'created': '2021-06-03 07:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab4b9a586de316c82caef49007ac59288277a2f3', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 8, 'created': '2021-06-05 00:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05010371bb1cd3e3ba6b9c83580053d199b81ee2', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 9, 'created': '2021-06-07 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d47551b7c390663e8007c2961ba4538fbf1fbc8', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nDepends-On: https://review.opendev.org/795080\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 10, 'created': '2021-06-10 19:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c8ed19650abeea0c87bca36eb3026fc923b412f', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nDepends-On: https://review.opendev.org/795080\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 11, 'created': '2021-06-11 09:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/78bc304497df6950dd104220386d74cefeb1bd1f', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nDepends-On: https://review.opendev.org/795080\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 12, 'created': '2021-06-14 08:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2321c2bbae915893e78d9f2a3aed65c154f3d455', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nDepends-On: https://review.opendev.org/795080\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}, {'number': 13, 'created': '2021-06-16 13:28:41.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_network.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ef077696a0da413cb6038128ea8a0510d9c0e7c3', 'message': 'overcloud deploy - provision virtual ips\n\nWhen the --vip-file argument provides the vip_data.yaml\nprovision Virtual IPs and include the deployed network\nenvironment file in user environments.\n\nDepends-On: https://review.opendev.org/795080\nChange-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595\n'}]",21,793384,ef077696a0da413cb6038128ea8a0510d9c0e7c3,75,6,13,24245,,,0,"overcloud deploy - provision virtual ips

When the --vip-file argument provides the vip_data.yaml
provision Virtual IPs and include the deployed network
environment file in user environments.

Depends-On: https://review.opendev.org/795080
Change-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/793384/11 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_network.py', 'tripleoclient/v1/overcloud_deploy.py']",2,5d95537c57892e27963767ec40adbea115479263,network-data-v2," self._provision_virtual_ips(parsed_args, new_tht_root)) created_env_files.extend( if parsed_args.vip_file: networks_file_path = os.path.abspath(parsed_args.networks_file) if not self._is_network_data_v2(networks_file_path): raise exceptions.CommandError( 'The --vip-file option can only be used in combination ' 'with a network data v2 format networks file. The ' 'provided file {} is network data v1 format'.format( networks_file_path)) def _is_network_data_v2(self, networks_file_path): with open(networks_file_path, 'r') as f: network_data = yaml.safe_load(f.read()) for network in network_data: if 'ip_subnet' in network or 'ipv6_subnet' in network: return False return True if not self._is_network_data_v2(networks_file_path): return [] def _provision_virtual_ips(self, parsed_args, tht_root): if not parsed_args.vips_file: return [] vip_file_path = os.path.abspath(parsed_args.vip_file) output_path = utils.build_user_env_path( 'networks-deployed.yaml', tht_root) extra_vars = { ""stack_name"": parsed_args.stack, ""vip_data_path"": vip_file_path, ""vip_deployed_path"": output_path, } with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-overcloud-network-vip-provision.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=oooutils.playbook_verbosity(self=self), extra_vars=extra_vars, ) with open(output_path, 'r') as fp: parameter_defaults = yaml.safe_load(fp) utils.write_user_environment( parameter_defaults, 'virtual-ips-deployed.yaml', tht_root, parsed_args.stack) return [output_path] '--vip-file', dest='vip_file', help=_('Configuration file describing the network Virtual IPs.')) parser.add_argument("," with open(networks_file_path, 'r') as f: network_data = yaml.safe_load(f.read()) for network in network_data: if 'ip_subnet' in network or 'ipv6_subnet' in network: return []",63,6
openstack%2Fironic~master~I1654e1333f95d4c3ffd25daa2b80ae4cf1033d91,openstack/ironic,master,I1654e1333f95d4c3ffd25daa2b80ae4cf1033d91,Don't run the inspector job on changes to inspector tests,MERGED,2021-06-17 16:56:38.000000000,2021-06-19 05:06:33.000000000,2021-06-18 22:15:14.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-17 16:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4986b1cfea083755cf180820d0cae48744bb5cef', 'message': ""Don't run the inspector job on changes to inspector tests\n\nThe current irrelevant-files contains the ironic tests directory, but\nnot the inspector one.\n\nChange-Id: I1654e1333f95d4c3ffd25daa2b80ae4cf1033d91\n""}, {'number': 2, 'created': '2021-06-17 17:01:32.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a8a77ec5be12fed105623bc2de6fd79a5fb5158', 'message': ""Don't run the inspector job on changes to inspector tests\n\nThe current irrelevant-files contains the ironic tests directory, but\nnot the inspector one.\n\nChange-Id: I1654e1333f95d4c3ffd25daa2b80ae4cf1033d91\n""}]",0,796898,5a8a77ec5be12fed105623bc2de6fd79a5fb5158,14,4,2,10239,,,0,"Don't run the inspector job on changes to inspector tests

The current irrelevant-files contains the ironic tests directory, but
not the inspector one.

Change-Id: I1654e1333f95d4c3ffd25daa2b80ae4cf1033d91
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/796898/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,4986b1cfea083755cf180820d0cae48744bb5cef,gate, irrelevant-files: # This job is also run on inspector - ^ironic_inspector/locale/.*$ - ^ironic_inspector/test/.*$,,4,0
openstack%2Fdesignate-tempest-plugin~master~Ied4d4d37b3e5428f69b6ba2b0cfecb99d7125f2c,openstack/designate-tempest-plugin,master,Ied4d4d37b3e5428f69b6ba2b0cfecb99d7125f2c,Improve the zone import API tests,MERGED,2021-06-16 00:43:22.000000000,2021-06-19 05:06:14.000000000,2021-06-19 05:05:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-16 00:43:22.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_imports.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cddf4158411ae6fa33414c68a2eece1df4632391', 'message': 'Improve the zone import API tests\n\nThis patch improves the zone import API tests such that they will\nwait for a completed status before advancing. This not only insures\nthe test didn\'t get stuck in ""PENDING"", but also assures the import\nrecord has been updated with the zone ID allowing the zone to be\ncleaned up at test completion.\n\nChange-Id: Ied4d4d37b3e5428f69b6ba2b0cfecb99d7125f2c\n'}]",0,796575,cddf4158411ae6fa33414c68a2eece1df4632391,8,2,1,11628,,,0,"Improve the zone import API tests

This patch improves the zone import API tests such that they will
wait for a completed status before advancing. This not only insures
the test didn't get stuck in ""PENDING"", but also assures the import
record has been updated with the zone ID allowing the zone to be
cleaned up at test completion.

Change-Id: Ied4d4d37b3e5428f69b6ba2b0cfecb99d7125f2c
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/75/796575/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_zones_imports.py'],1,cddf4158411ae6fa33414c68a2eece1df4632391,," # Make sure we complete the import and have the zone_id for cleanup waiters.wait_for_zone_import_status( self.client, zone_import['id'], const.COMPLETE) # Make sure we complete the import and have the zone_id for cleanup waiters.wait_for_zone_import_status( self.client, zone_import['id'], const.COMPLETE) # Make sure we complete the import and have the zone_id for cleanup waiters.wait_for_zone_import_status( self.client, zone_import['id'], const.COMPLETE) # Make sure we complete the import and have the zone_id for cleanup waiters.wait_for_zone_import_status( self.client, zone_import['id'], const.COMPLETE) # Make sure we complete the import and have the zone_id for cleanup waiters.wait_for_zone_import_status( self.client, zone_import['id'], const.COMPLETE)"," LOG.info('Ensure we respond with PENDING') self.assertEqual(const.PENDING, zone_import['status']) LOG.info('Ensure we respond with PENDING') self.assertEqual(const.PENDING, zone_import['status'])",15,4
openstack%2Fopenstack-zuul-jobs~master~Ib0388771ee1d9151850f4513f016b85b2970df93,openstack/openstack-zuul-jobs,master,Ib0388771ee1d9151850f4513f016b85b2970df93,Add FIPS job,MERGED,2021-05-11 00:43:51.000000000,2021-06-19 04:57:19.000000000,2021-06-19 04:55:38.000000000,"[{'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 00:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6f0c7e6cd0754349de725e2649ec9fd9c6117d9b', 'message': 'Add FIPS job\n\nThe job makes sure that functional tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\nChange-Id: Ib0388771ee1d9151850f4513f016b85b2970df93\n'}, {'number': 2, 'created': '2021-05-12 18:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c3ec3616c588fce70e0ee2cc44e1612e2c2186c5', 'message': 'Add FIPS job\n\nThe job makes sure that functional tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\nChange-Id: Ib0388771ee1d9151850f4513f016b85b2970df93\n'}, {'number': 3, 'created': '2021-05-21 18:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f37980ebf330d946ed6411ebfbfd03afa24b956b', 'message': 'Add FIPS job\n\nThe job makes sure that functional tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\nChange-Id: Ib0388771ee1d9151850f4513f016b85b2970df93\n'}, {'number': 4, 'created': '2021-06-04 19:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/81d0858976d3aaabdaa59a4ea9a9af2fb6b53ef6', 'message': 'Add FIPS job\n\nThe job makes sure that functional tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/794879\nChange-Id: Ib0388771ee1d9151850f4513f016b85b2970df93\n'}, {'number': 5, 'created': '2021-06-07 17:54:25.000000000', 'files': ['zuul.d/jobs.yaml', 'playbooks/fips/enable-fips.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c3c1b422abbe9e91d71cce0e4f0f539ba999eecc', 'message': 'Add FIPS job\n\nThe job makes sure that functional tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\nChange-Id: Ib0388771ee1d9151850f4513f016b85b2970df93\n'}]",2,790534,c3c1b422abbe9e91d71cce0e4f0f539ba999eecc,20,6,5,9914,,,0,"Add FIPS job

The job makes sure that functional tests pass when the nodes are
set to be in fips mode.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778
Change-Id: Ib0388771ee1d9151850f4513f016b85b2970df93
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/34/790534/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yml', 'zuul.d/jobs.yaml']",2,6f0c7e6cd0754349de725e2649ec9fd9c6117d9b,add_fips_job, name: openstack-tox-functional-py36-fips parent: openstack-tox-functional-py36 nodeset: devstack-single-node-centos-8 description: | Functional testing for a FIPS enabled Centos 8 system pre-run: playbooks/enable-fips.yaml - job:,,12,0
openstack%2Fpuppet-vitrage~master~I48f24f1bc334048069fc0afc66455d050b445d1d,openstack/puppet-vitrage,master,I48f24f1bc334048069fc0afc66455d050b445d1d,Drop Fedora support,MERGED,2021-06-12 07:19:04.000000000,2021-06-19 02:56:18.000000000,2021-06-19 02:55:10.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/51bf357a0d072110223f08c96eee9db63538b9d6', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I48f24f1bc334048069fc0afc66455d050b445d1d\n""}, {'number': 2, 'created': '2021-06-12 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/36f3557477522c5f85d6a0d7789cf6dac96e198f', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I48f24f1bc334048069fc0afc66455d050b445d1d\n""}, {'number': 3, 'created': '2021-06-14 10:34:01.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-dea28a8118c81fa4.yaml', 'spec/classes/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/51fb72306a6751a5d49364ec26809516a792992c', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I48f24f1bc334048069fc0afc66455d050b445d1d\n""}]",0,796106,51fb72306a6751a5d49364ec26809516a792992c,14,3,3,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I48f24f1bc334048069fc0afc66455d050b445d1d
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/06/796106/3 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-dea28a8118c81fa4.yaml']",2,51bf357a0d072110223f08c96eee9db63538b9d6,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-watcher~master~Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5,openstack/puppet-watcher,master,Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5,Drop Fedora support,MERGED,2021-06-12 07:04:24.000000000,2021-06-19 02:52:33.000000000,2021-06-19 02:51:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/0752be87ed651ade53c5b6966c7be4b31137b729', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5\n""}, {'number': 2, 'created': '2021-06-12 14:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/f9bd7e728e528725b174d749df5ce7db74933ef0', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5\n""}, {'number': 3, 'created': '2021-06-12 14:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/1150538095e9cadec8369a1f832cf3b71d56a1ec', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5\n""}, {'number': 4, 'created': '2021-06-15 11:32:57.000000000', 'files': ['metadata.json', 'spec/classes/watcher_wsgi_apache_spec.rb', 'releasenotes/notes/drop-fedora-56709758aa310b8d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/db032d682940315d9e8bf9995895bfd30b52ee21', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5\n""}]",0,796103,db032d682940315d9e8bf9995895bfd30b52ee21,16,3,4,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ia6de5e2c389edaecd560f1f13a19fcf17b9f6bb5
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/03/796103/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-56709758aa310b8d.yaml']",2,0752be87ed651ade53c5b6966c7be4b31137b729,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fcinder~master~I3a0e80a5efaa6a762e6862068c8b2023b68e2657,openstack/cinder,master,I3a0e80a5efaa6a762e6862068c8b2023b68e2657,Drop support for SQLite < 3.7,ABANDONED,2021-05-27 08:50:06.000000000,2021-06-19 02:12:20.000000000,,"[{'_account_id': 5314}, {'_account_id': 12670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 08:50:06.000000000', 'files': ['cinder/tests/unit/db/test_purge.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddad1a783bf452814272bba2771d1a2c195856e8', 'message': 'Drop support for SQLite < 3.7\n\nBoth Ubuntu 18.04 [1] and CentOS 8 [2] provide sufficiently new versions\nof SQLite that make this check unnecessary now.\n\n[1] https://packages.ubuntu.com/bionic/sqlite3\n[2] http://mirror.centos.org/centos/7/os/x86_64/Packages/\n\nChange-Id: I3a0e80a5efaa6a762e6862068c8b2023b68e2657\n'}]",3,793324,ddad1a783bf452814272bba2771d1a2c195856e8,16,3,1,31412,,,0,"Drop support for SQLite < 3.7

Both Ubuntu 18.04 [1] and CentOS 8 [2] provide sufficiently new versions
of SQLite that make this check unnecessary now.

[1] https://packages.ubuntu.com/bionic/sqlite3
[2] http://mirror.centos.org/centos/7/os/x86_64/Packages/

Change-Id: I3a0e80a5efaa6a762e6862068c8b2023b68e2657
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/793324/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/db/test_purge.py'],1,ddad1a783bf452814272bba2771d1a2c195856e8,,, # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # So return early to skip this test if running SQLite < 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] < 3 or (tup[0] == 3 and tup[1] < 7): self.skipTest( 'sqlite version too old for reliable SQLA foreign_keys'),0,9
openstack%2Fmanila~master~I45a43b875baf5810eab2c2775f7896d75324ae87,openstack/manila,master,I45a43b875baf5810eab2c2775f7896d75324ae87,[DNM] Unit test examples,ABANDONED,2021-06-18 19:24:19.000000000,2021-06-19 01:35:42.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 19:24:19.000000000', 'files': ['zuul.d/project.yaml', 'manila/tests/share/drivers/purestorage/test_flashblade.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/796ce7611fbce68b2da1ca92ef9f5a5ee3bb68a4', 'message': '[DNM] Unit test examples\n\nChange-Id: I45a43b875baf5810eab2c2775f7896d75324ae87\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,797152,796ce7611fbce68b2da1ca92ef9f5a5ee3bb68a4,5,2,1,16643,,,0,"[DNM] Unit test examples

Change-Id: I45a43b875baf5810eab2c2775f7896d75324ae87
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/797152/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'manila/tests/share/drivers/purestorage/test_flashblade.py']",2,796ce7611fbce68b2da1ca92ef9f5a5ee3bb68a4,PURE_DRIVER," self.purity_fb = self._patch( self._sys.api_version = mock.Mock() class FakePureFBVersion: versions = '1.6' self._sys.api_version.list_versions = mock.Mock( return_value=FakePureFBVersion) self.purity_fb.rest.ApiException = FakePurityFBException self.purity_fb.PurityFb.return_value = self._sys self.mock_object(self.driver, '_get_flashblade_filesystem_by_name', mock.Mock(return_value='fake_dataset')) self.mock_object(self.driver, '_get_flashblade_snapshot_by_name', mock.Mock(return_value='fake_snapshot')) self._sys.file_systems.create_file_systems.assert_called_once_with( self.purity_fb.FileSystem( name=""share-%s-manila"" % test_nfs_share['id'], provisioned=test_nfs_share['size'], hard_limit_enabled=True, fast_remove_directory_enabled=True, snapshot_directory_enabled=True, nfs=self.purity_fb.NfsRule(enabled=True, rules="""")) ) self._sys.file_systems.create_file_systems.assert_called_once_with( self.purity_fb.FileSystem( name=""share-%s-manila"" % test_nfs_share['id'], provisioned=test_cifs_share['size'], hard_limit_enabled=True, fast_remove_directory_enabled=True, snapshot_directory_enabled=True, smb=self.purity_fb.ProtocolRule(enabled=True)) ) def test_delete_share_not_found(self): self.mock_object( self.driver, '_get_flashblade_filesystem_by_name', mock.Mock(side_effect=exception.ShareResourceNotFound( share_id=test_nfs_share['id']))) self.driver.delete_share(None, test_nfs_share) self._sys.file_systems.update_file_systems.assert_not_called() self._sys.file_systems.delete_file_systems.assert_not_called() def test_delete_share(self): self.mock_object(self.driver, '_get_flashblade_filesystem_by_name') self.driver.delete_share(None, test_nfs_share) share_name = ""share-%s-manila"" % test_nfs_share['id'] self.driver._get_flashblade_filesystem_by_name.assert_called_once_with( share_name) self._sys.file_systems.update_file_systems.assert_called_once_with( name=share_name, attributes=self.purity_fb.FileSystem( nfs=self.purity_fb.NfsRule(v3_enabled=False, v4_1_enabled=False), smb=self.purity_fb.ProtocolRule(enabled=False), destroyed=True, ), ) self._sys.file_systems.delete_file_systems.assert_called_once_with( name=share_name)"," purity_fb = self._patch( purity_fb.rest.ApiException = FakePurityFBException purity_fb.FlashBlade.return_value = self._sys def test_delete_share(self): self.driver.delete_share(None, test_nfs_share)",65,92
openstack%2Fnova~master~I70219a094e473da113c9855b610c11faea50f3b3,openstack/nova,master,I70219a094e473da113c9855b610c11faea50f3b3,db: Reintroduce validation of shadow table schema,MERGED,2021-06-17 10:11:12.000000000,2021-06-19 01:07:08.000000000,2021-06-19 01:04:15.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-17 10:11:12.000000000', 'files': ['nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4de5a92d4e79776a5329c4020518f70f4f633a4e', 'message': ""db: Reintroduce validation of shadow table schema\n\nThis was removed in change I9b964c8e68051a995635a3d5f5aa09af2b0dcb82 but\nit's still a valid thing to do. Reintroduce it, cleaning up the test in\nthe process by removing references to dump tables (which were removed\nentirely in change I17db7cdaad2c6368092b4fb00d5959711ad249f9) as well as\nreferences to migrations that no longer exist as they've been squashed.\n\nChange-Id: I70219a094e473da113c9855b610c11faea50f3b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,796814,4de5a92d4e79776a5329c4020518f70f4f633a4e,19,4,1,15334,,,0,"db: Reintroduce validation of shadow table schema

This was removed in change I9b964c8e68051a995635a3d5f5aa09af2b0dcb82 but
it's still a valid thing to do. Reintroduce it, cleaning up the test in
the process by removing references to dump tables (which were removed
entirely in change I17db7cdaad2c6368092b4fb00d5959711ad249f9) as well as
references to migrations that no longer exist as they've been squashed.

Change-Id: I70219a094e473da113c9855b610c11faea50f3b3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/796814/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_db_api.py'],1,4de5a92d4e79776a5329c4020518f70f4f633a4e,bp/remove-sqlalchemy-migrate," """"""Validate shadow table schema. Shadow tables should have an identical schema to the main table. """""" # some tables don't have shadow tables so skip these if table_name in [ 'tags', 'resource_providers', 'allocations', 'inventories', 'resource_provider_aggregates', 'console_auth_tokens', ]: # we also don't need to check the shadow tables themselves shadow_table_name = f'shadow_{table_name}' table = Table(table_name, metadata, autoload=True) shadow_table = Table(shadow_table_name, metadata, autoload=True) columns = {c.name: c for c in table.columns} shadow_columns = {c.name: c for c in shadow_table.columns} for name, column in columns.items(): self.assertIn( name, shadow_columns, f'Missing column {column} in table {shadow_table_name}') shadow_column = shadow_columns[name] self.assertIsInstance( shadow_column.type, type(column.type), f'Different types in {table_name}.{column} ' f'({type(column.type)}) and {shadow_table_name}.{column} ' f'({shadow_column.type})') for name, column in shadow_columns.items(): self.assertIn( name, columns, f'Extra column {column} in table {shadow_table_name}') "," # NOTE(rpodolyaka): migration 209 introduced a few new tables, # which don't have shadow tables and it's # completely OK, so we should skip them here if table_name.startswith(""dump_""): # NOTE(snikitin): migration 266 introduced a new table 'tags', # which have no shadow table and it's # completely OK, so we should skip it here # NOTE(cdent): migration 314 introduced three new # ('resource_providers', 'allocations' and 'inventories') # with no shadow table and it's OK, so skip. # 318 adds one more: 'resource_provider_aggregates'. # NOTE(PaulMurray): migration 333 adds 'console_auth_tokens' if table_name in ['tags', 'resource_providers', 'allocations', 'inventories', 'resource_provider_aggregates', 'console_auth_tokens']: continue ",37,17
openstack%2Fnova~stable%2Fwallaby~I8296e4be9f0706fab043451b856efadbb7bd41f6,openstack/nova,stable/wallaby,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,MERGED,2021-06-02 16:56:56.000000000,2021-06-19 01:06:02.000000000,2021-06-19 01:04:38.000000000,"[{'_account_id': 9373}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-02 16:56:56.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/46aa3f4ec769e948d9eb73604bf9b66f4b0230b0', 'message': 'Honor [neutron]http_retries in the manual client\n\nChange Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side\nconfig option for specifying neutron client retries that maps to the\nksa connect_retries config option to provide parity with the cinder and\nglance clients that have nova side config options.\n\nThat change missed passing CONF.neutron.http_retries to the manual\nclient used for calling the port binding API. This sets the\nconnect_retries attribute on the manual ksa client so http_retries\nwill be honored.\n\nCloses-Bug: #1929886\nRelated-Bug: #1866937\n\nChange-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6\n(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)\n'}]",0,794186,46aa3f4ec769e948d9eb73604bf9b66f4b0230b0,24,5,1,4690,,,0,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/794186/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,46aa3f4ec769e948d9eb73604bf9b66f4b0230b0,bug/1929886, client.connect_retries = CONF.neutron.http_retries,,3,0
openstack%2Fnova~master~I9b964c8e68051a995635a3d5f5aa09af2b0dcb82,openstack/nova,master,I9b964c8e68051a995635a3d5f5aa09af2b0dcb82,db: Remove 'nova.db.sqlalchemy.utils',MERGED,2021-04-14 17:43:16.000000000,2021-06-19 01:05:54.000000000,2021-06-19 01:03:53.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 17:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55d44d33a6bee23170d346075070df0428fef42a', 'message': ""db: Remove 'nova.db.sqlalchemy.utils'\n\nThis was missed in change I17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nChange-Id: I9b964c8e68051a995635a3d5f5aa09af2b0dcb82\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-11 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9bf63521ab4e1331f7bb68b9f57e1af8258e47a', 'message': ""db: Remove 'nova.db.sqlalchemy.utils'\n\nThis was missed in change I17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nChange-Id: I9b964c8e68051a995635a3d5f5aa09af2b0dcb82\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-06-15 15:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ba925405fc167b99a53c71b2ad21b568fe5be75', 'message': ""db: Remove 'nova.db.sqlalchemy.utils'\n\nThis was missed in change I17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nChange-Id: I9b964c8e68051a995635a3d5f5aa09af2b0dcb82\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-16 09:12:12.000000000', 'files': ['nova/tests/unit/db/test_migration_utils.py', 'nova/exception.py', 'nova/db/sqlalchemy/utils.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/194df1fa628b4c4ba4a20e7e869f192e4f3c81e8', 'message': ""db: Remove 'nova.db.sqlalchemy.utils'\n\nThis was missed in change I17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nChange-Id: I9b964c8e68051a995635a3d5f5aa09af2b0dcb82\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,786292,194df1fa628b4c4ba4a20e7e869f192e4f3c81e8,42,3,4,15334,,,0,"db: Remove 'nova.db.sqlalchemy.utils'

This was missed in change I17db7cdaad2c6368092b4fb00d5959711ad249f9.

Change-Id: I9b964c8e68051a995635a3d5f5aa09af2b0dcb82
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/786292/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_migration_utils.py', 'nova/exception.py', 'nova/db/sqlalchemy/utils.py', 'nova/tests/unit/db/test_db_api.py']",4,55d44d33a6bee23170d346075070df0428fef42a,bp/remove-sqlalchemy-migrate,"from sqlalchemy import Column, Stringclass TestDeleteFromSelect( test_fixtures.OpportunisticDBTestMixin, test.NoDBTestCase, ): def setUp(self): # NOTE(sdague): the oslo_db base test case completely # invalidates our logging setup, we actually have to do that # before it is called to keep this from vomitting all over our # test output. self.useFixture(nova_fixtures.StandardLogging()) super().setUp() self.engine = enginefacade.writer.get_engine() self.meta = MetaData(bind=self.engine) def test_delete_from_select(self): table_name = ""__test_deletefromselect_table__"" uuidstrs = [] for unused in range(10): uuidstrs.append(uuidutils.generate_uuid(dashed=False)) conn = self.engine.connect() test_table = Table( table_name, self.meta, Column( 'id', Integer, primary_key=True, nullable=False, autoincrement=True, ), Column('uuid', String(36), nullable=False), ) test_table.create() # Add 10 rows to table for uuidstr in uuidstrs: ins_stmt = test_table.insert().values(uuid=uuidstr) conn.execute(ins_stmt) # Delete 4 rows in one chunk column = test_table.c.id query_delete = sql.select( [column], test_table.c.id < 5 ).order_by(column) delete_statement = sqlalchemy_api.DeleteFromSelect( test_table, query_delete, column) result_delete = conn.execute(delete_statement) # Verify we delete 4 rows self.assertEqual(result_delete.rowcount, 4) query_all = sql.select( [test_table] ).where(test_table.c.uuid.in_(uuidstrs)) rows = conn.execute(query_all).fetchall() # Verify we still have 6 rows in table self.assertEqual(len(rows), 6) class TestDeleteFromSelectPostgreSQL(TestDeleteFromSelect): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture class TestDeleteFromSelectMySQL(TestDeleteFromSelect): FIXTURE = test_fixtures.MySQLOpportunisticFixture ","from sqlalchemy import Columnfrom nova.db.sqlalchemy import utils as db_utils self.assertTrue(db_utils.check_shadow_table(self.engine, table_name))",62,348
openstack%2Fdevstack-plugin-ceph~master~Ie14a453f96689f574f1b388ab8f6e5467a59b7f7,openstack/devstack-plugin-ceph,master,Ie14a453f96689f574f1b388ab8f6e5467a59b7f7,Remove redundant Fedora version check,MERGED,2021-06-18 15:44:42.000000000,2021-06-19 00:29:01.000000000,2021-06-19 00:27:51.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 15:44:42.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/503781a9f8d0dc3b336c6d273d05d2ba35cc4546', 'message': ""Remove redundant Fedora version check\n\nSeems a trace from older code. It doesn't make\nmuch sense to allow all Fedora versions that\nmatches f[0-9][0-9] and then check for specific\nFedora versions in the following lines.\n\nRemove this check and just allow some specific\nversions\n\nChange-Id: Ie14a453f96689f574f1b388ab8f6e5467a59b7f7\n""}]",0,797134,503781a9f8d0dc3b336c6d273d05d2ba35cc4546,7,2,1,6413,,,0,"Remove redundant Fedora version check

Seems a trace from older code. It doesn't make
much sense to allow all Fedora versions that
matches f[0-9][0-9] and then check for specific
Fedora versions in the following lines.

Remove this check and just allow some specific
versions

Change-Id: Ie14a453f96689f574f1b388ab8f6e5467a59b7f7
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/34/797134/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,503781a9f8d0dc3b336c6d273d05d2ba35cc4546,remove-redundant-fedora-version-check," if [[ ! ${DISTRO} =~ (focal|bionic|xenial|f31|f32|f33|f34) ]]; then Please use Ubuntu Xenial, Ubuntu Bionic, Ubuntu Focal or Fedora 31-34"""," if [[ ${DISTRO} =~ f[0-9][0-9] ]]; then # Assume all versions of Fedora are fine as of 2018. return fi if [[ ! ${DISTRO} =~ (focal|bionic|xenial|f31|f32) ]]; then Please use Ubuntu Xenial, Ubuntu Bionic, Ubuntu Focal, Fedora 31 or Fedora 32""",3,8
openstack%2Frequirements~master~Ieb2cea16b6d9111986e4b8e377c560bcdf07cad9,openstack/requirements,master,Ieb2cea16b6d9111986e4b8e377c560bcdf07cad9,Downgrade validation lib to 1.1.0,MERGED,2021-06-18 09:21:53.000000000,2021-06-19 00:25:49.000000000,2021-06-19 00:24:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 09:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9771fa66f8e5bf72d525fb5310c42700f1d3fa66', 'message': 'Downgrade validation lib to 1.1.0\n\nVersion 1.2.0 has a regression performing expansion\nof $HOME variable [1]\n\nThis proposes to pin previeus version while waiting\nfor a fix [2] ends up in follwing release\n\n[1] https://opendev.org/openstack/validations-libs/src/tag/1.2.0/validations_libs/constants.py#L25\n[2] https://review.opendev.org/c/openstack/validations-libs/+/797008\n\nChange-Id: Ieb2cea16b6d9111986e4b8e377c560bcdf07cad9\n'}, {'number': 2, 'created': '2021-06-18 09:41:15.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/960c75301338423c2b78c06742dca09ed30b07bd', 'message': 'Downgrade validation lib to 1.1.0\n\nVersion 1.2.0 has a regression performing expansion\nof $HOME variable [1]\n\nThis proposes to pin previeus version while waiting\nfor a fix [2] ends up in follwing release\n\n[1] https://opendev.org/openstack/validations-libs/src/tag/1.2.0/validations_libs/constants.py#L25\n[2] https://review.opendev.org/c/openstack/validations-libs/+/797008\n\nChange-Id: Ieb2cea16b6d9111986e4b8e377c560bcdf07cad9\n'}]",0,797011,960c75301338423c2b78c06742dca09ed30b07bd,14,2,2,27329,,,0,"Downgrade validation lib to 1.1.0

Version 1.2.0 has a regression performing expansion
of $HOME variable [1]

This proposes to pin previeus version while waiting
for a fix [2] ends up in follwing release

[1] https://opendev.org/openstack/validations-libs/src/tag/1.2.0/validations_libs/constants.py#L25
[2] https://review.opendev.org/c/openstack/validations-libs/+/797008

Change-Id: Ieb2cea16b6d9111986e4b8e377c560bcdf07cad9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/797011/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9771fa66f8e5bf72d525fb5310c42700f1d3fa66,validations-libs,validations-libs===1.1.0,validations-libs===1.2.0,1,1
openstack%2Ftripleo-heat-templates~master~I74874b81002fe435752a5cd724d2df9683b0cdbf,openstack/tripleo-heat-templates,master,I74874b81002fe435752a5cd724d2df9683b0cdbf,Add post_upgrade_task and remove puppet-ceph pkg,MERGED,2021-06-15 08:28:59.000000000,2021-06-18 23:16:59.000000000,2021-06-18 23:16:59.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-15 08:28:59.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e85da3e9ed08ca6bd04adee7e23bfe14f8cd36a4', 'message': 'Add post_upgrade_task and remove puppet-ceph pkg\n\nAdds a post_upgrade_task to remove the puppet-ceph package which\nis no longer required.\n\nAlso see change I9cd63ee34dfd964f18a33043980703660b0a55d7 for\nthe ceph-ansible version.\n\nChange-Id: I74874b81002fe435752a5cd724d2df9683b0cdbf\n'}]",0,796403,e85da3e9ed08ca6bd04adee7e23bfe14f8cd36a4,17,6,1,6796,,,0,"Add post_upgrade_task and remove puppet-ceph pkg

Adds a post_upgrade_task to remove the puppet-ceph package which
is no longer required.

Also see change I9cd63ee34dfd964f18a33043980703660b0a55d7 for
the ceph-ansible version.

Change-Id: I74874b81002fe435752a5cd724d2df9683b0cdbf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/796403/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,e85da3e9ed08ca6bd04adee7e23bfe14f8cd36a4,remove_puppet_ceph, post_upgrade_tasks: - name: Clean puppet-ceph package when: - (step | int) == 3 package: name: puppet-ceph state: absent,,7,0
openstack%2Fneutron~stable%2Ftrain~If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,openstack/neutron,stable/train,If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,Make phynet paramter also is optional when network_segment_range enabled,MERGED,2021-06-08 11:26:30.000000000,2021-06-18 23:14:30.000000000,2021-06-18 23:13:09.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 11:26:30.000000000', 'files': ['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dc65804ae760d7cf05a65e50b63b337ac9151e5', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)\n'}]",0,795280,4dc65804ae760d7cf05a65e50b63b337ac9151e5,18,4,1,28329,,,0,"Make phynet paramter also is optional when network_segment_range enabled

When network_segment_range plugin is not enabled, we can create a provider
network without physical_network parameter. In order to compatibility,
We should support to not provide physical_network parameter when create
provider network with network_segment_range plugin enabled.

Closes-Bug: #1914842
Change-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252
(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/795280/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py']",2,4dc65804ae760d7cf05a65e50b63b337ac9151e5,bug/1914842-stable/train, if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters): if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters):, if network_type == constants.TYPE_VLAN: if network_type == constants.TYPE_VLAN:,80,4
openstack%2Fswift~master~I8baef6ba35a2f59eac30695943a671d53228e75c,openstack/swift,master,I8baef6ba35a2f59eac30695943a671d53228e75c,Allow floats for a couple more intervals,MERGED,2021-06-04 19:52:18.000000000,2021-06-18 23:07:59.000000000,2021-06-18 23:06:33.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 19:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8c653237c03a07c372071ad368ff994878afbe53', 'message': 'Allow floats for a couple more intervals\n\nSomehow I missed these on the first go-round.\n\nChange-Id: I8baef6ba35a2f59eac30695943a671d53228e75c\nRelated-Change: I91e9bc02d94fe7ea6e89307305705c383087845a\n'}, {'number': 2, 'created': '2021-06-07 22:34:54.000000000', 'files': ['swift/common/container_sync_realms.py', 'swift/proxy/server.py', 'test/unit/common/test_container_sync_realms.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eacebbb167e2d57d0f12c32914fdbfcb0587b9fe', 'message': 'Allow floats for a couple more intervals\n\nSomehow I missed these on the first go-round.\n\nChange-Id: I8baef6ba35a2f59eac30695943a671d53228e75c\nRelated-Change: I91e9bc02d94fe7ea6e89307305705c383087845a\n'}]",2,794893,eacebbb167e2d57d0f12c32914fdbfcb0587b9fe,22,3,2,15343,,,0,"Allow floats for a couple more intervals

Somehow I missed these on the first go-round.

Change-Id: I8baef6ba35a2f59eac30695943a671d53228e75c
Related-Change: I91e9bc02d94fe7ea6e89307305705c383087845a
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/794893/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/container_sync_realms.py', 'swift/proxy/server.py', 'test/unit/common/test_container_sync_realms.py']",3,8c653237c03a07c372071ad368ff994878afbe53,," ""Error in '%s' with mtime_check_interval: "" ""could not convert string to float: 'invalid'"" % fpath]})"," ""Error in '%s' with mtime_check_interval: invalid literal "" ""for int() with base 10: 'invalid'"" % fpath]})",4,4
openstack%2Fdevstack-gate~master~If7b870331cae42e3250bdf548c572f7067d835f5,openstack/devstack-gate,master,If7b870331cae42e3250bdf548c572f7067d835f5,Keep only legacy jobs which actually test the d-g code path,MERGED,2021-06-08 22:47:40.000000000,2021-06-18 22:45:42.000000000,2021-06-18 22:45:42.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 22:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/535d27c301196a62ca82101b166b1755827c2a46', 'message': ""Keep only legacy jobs which actually test the d-g code path\n\nOnly legacy jobs test the devstack-gate code and all the zuulv3 native jobs\nuse the devstack only.\n\nMany of the current job running in this gate has been converted to\nzuulv3 with same name so we are running zuulv3 native job which does\nnot use d-g code on d-g gate.\n\nExample: Ibe613a48116aed9cbcc7c689a50c1ef9fba60f05 migrated the neutron\ngreande job to zuulv3 native.\n\nAlso this remove ocata legacy job which is EOL.\n\nTo cover the testing for supporting the stable branches in d-g, we have\n'legacy-tempest-neutron-full-stable' job running on last supported stable\nbranch (stable/wallaby - https://review.opendev.org/c/openstack/devstack-gate/+/785003)\n\nWe are not adding any stable branch grenade legacy job here as preparing the\none will be more work. If any issue occur for grenade legacy job side then we can\nfix/test it via depends-on.\n\nChange-Id: If7b870331cae42e3250bdf548c572f7067d835f5\n""}, {'number': 2, 'created': '2021-06-10 17:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7e97b4357fbf9ffe53a629fd775b6d7b965ce921', 'message': ""Keep only legacy jobs which actually test the d-g code path\n\nOnly legacy jobs test the devstack-gate code and all the zuulv3 native jobs\nuse the devstack only.\n\nMany of the current job running in this gate has been converted to\nzuulv3 with same name so we are running zuulv3 native job which does\nnot use d-g code on d-g gate.\n\nExample: Ibe613a48116aed9cbcc7c689a50c1ef9fba60f05 migrated the neutron\ngreande job to zuulv3 native.\n\nAlso this remove ocata legacy job which is EOL.\n\nTo cover the testing for supporting the stable branches in d-g, we have\n'legacy-tempest-neutron-full-stable' job running on last supported stable\nbranch (stable/wallaby - https://review.opendev.org/c/openstack/devstack-gate/+/785003).\nAdding it in gate pipeline too to have 'integrated' queue testing.\n\nAlso removing the below broken jobs, they need more work to migrate to latest distro\nor so but we do not have bandwidth to fix them now.\n- legacy-tempest-dsvm-neutron-full-centos-7:\n- legacy-tempest-dsvm-multinode-full:\n\nWe are not adding any stable branch grenade legacy job here as preparing the\none will be more work. If any issue occur for grenade legacy job side then we can\nfix/test it via depends-on.\n\nChange-Id: If7b870331cae42e3250bdf548c572f7067d835f5\n""}, {'number': 3, 'created': '2021-06-11 10:35:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/225e56e8fbaa40c43fd01edbd459a96254c7accb', 'message': ""Keep only legacy jobs which actually test the d-g code path\n\nOnly legacy jobs test the devstack-gate code and all the zuulv3 native jobs\nuse the devstack only.\n\nMany of the current job running in this gate has been converted to\nzuulv3 with same name so we are running zuulv3 native job which does\nnot use d-g code on d-g gate.\n\nExample: Ibe613a48116aed9cbcc7c689a50c1ef9fba60f05 migrated the neutron\ngreande job to zuulv3 native.\n\nAlso this remove ocata legacy job which is EOL.\n\nTo cover the testing for supporting the stable branches in d-g, we have\n'legacy-tempest-neutron-full-stable' job running on last supported stable\nbranch (stable/wallaby - https://review.opendev.org/c/openstack/devstack-gate/+/785003).\nAdding it in gate pipeline too to have 'integrated' queue testing.\n\nAlso removing the below broken jobs, they need more work to migrate to latest distro\nor so but we do not have bandwidth to fix them now.\n- legacy-tempest-dsvm-neutron-full-centos-7:\n- legacy-tempest-dsvm-multinode-full:\n\nWe are not adding any stable branch grenade legacy job here as preparing the\none will be more work. If any issue occur for grenade legacy job side then we can\nfix/test it via depends-on.\n\nChange-Id: If7b870331cae42e3250bdf548c572f7067d835f5\n""}]",4,795426,225e56e8fbaa40c43fd01edbd459a96254c7accb,16,3,3,8556,,,0,"Keep only legacy jobs which actually test the d-g code path

Only legacy jobs test the devstack-gate code and all the zuulv3 native jobs
use the devstack only.

Many of the current job running in this gate has been converted to
zuulv3 with same name so we are running zuulv3 native job which does
not use d-g code on d-g gate.

Example: Ibe613a48116aed9cbcc7c689a50c1ef9fba60f05 migrated the neutron
greande job to zuulv3 native.

Also this remove ocata legacy job which is EOL.

To cover the testing for supporting the stable branches in d-g, we have
'legacy-tempest-neutron-full-stable' job running on last supported stable
branch (stable/wallaby - https://review.opendev.org/c/openstack/devstack-gate/+/785003).
Adding it in gate pipeline too to have 'integrated' queue testing.

Also removing the below broken jobs, they need more work to migrate to latest distro
or so but we do not have bandwidth to fix them now.
- legacy-tempest-dsvm-neutron-full-centos-7:
- legacy-tempest-dsvm-multinode-full:

We are not adding any stable branch grenade legacy job here as preparing the
one will be more work. If any issue occur for grenade legacy job side then we can
fix/test it via depends-on.

Change-Id: If7b870331cae42e3250bdf548c572f7067d835f5
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/26/795426/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,535d27c301196a62ca82101b166b1755827c2a46,deprecate-devstack-gate,, - integrated-gate-py3 - neutron-grenade - neutron-grenade-multinode - neutron-grenade-dvr-multinode: voting: false - legacy-tempest-dsvm-neutron-full-ocata: voting: false - neutron-tempest-plugin-api: voting: false queue: integrated - neutron-grenade - neutron-grenade-multinode,0,12
openstack%2Ftripleo-heat-templates~master~Ia50435c0560ed76791d1859612f625a1b776a8b2,openstack/tripleo-heat-templates,master,Ia50435c0560ed76791d1859612f625a1b776a8b2,Add network-v2 default files + vip data examples,MERGED,2021-06-07 09:57:26.000000000,2021-06-18 22:33:24.000000000,2021-06-18 22:33:24.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 09:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/675edece5fcb8f0711447ed064d5b9d714c80fa4', 'message': 'Add network-v2 default files + vip data examples\n\nAdd a default file for network data and vip data to\nuse with network-data-v2.\n\nThe network data is an empty list, i.e no network\nisolation is the default.\n\nThe default vip data file keeps one entry for the\nctlplane network, which is the only Virtual IP in\nthe no network isolation scenarios.\n\nRelated-Blueprint: blueprint network-data-v2-ports\nChange-Id: Ia50435c0560ed76791d1859612f625a1b776a8b2\n'}, {'number': 2, 'created': '2021-06-07 10:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/266f74c3bf645657b5ccc51833023452d2db608e', 'message': 'Add network-v2 default files + vip data examples\n\nAdd a default file for network data and vip data to\nuse with network-data-v2.\n\nThe network data is an empty list, i.e no network\nisolation is the default.\n\nThe default vip data file keeps one entry for the\nctlplane network, which is the only Virtual IP in\nthe no network isolation scenarios.\n\nRelated-Blueprint: blueprint network-data-v2-ports\nChange-Id: Ia50435c0560ed76791d1859612f625a1b776a8b2\n'}, {'number': 3, 'created': '2021-06-07 11:22:53.000000000', 'files': ['vip_data_default.yaml', 'network-data-samples/vip-data-fixed-ip.yaml', 'network_data_default.yaml', 'network-data-samples/vip-data-routed-networks.yaml', 'tools/yaml-validate.py', 'network-data-samples/vip-data-default-network-isolation.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be0b91ef564e618ee719d06915cc1dab4624560b', 'message': 'Add network-v2 default files + vip data examples\n\nAdd a default file for network data and vip data to\nuse with network-data-v2.\n\nThe network data is an empty list, i.e no network\nisolation is the default.\n\nThe default vip data file keeps one entry for the\nctlplane network, which is the only Virtual IP in\nthe no network isolation scenarios.\n\nRelated-Blueprint: blueprint network-data-v2-ports\nChange-Id: Ia50435c0560ed76791d1859612f625a1b776a8b2\n'}]",0,795080,be0b91ef564e618ee719d06915cc1dab4624560b,23,4,3,24245,,,0,"Add network-v2 default files + vip data examples

Add a default file for network data and vip data to
use with network-data-v2.

The network data is an empty list, i.e no network
isolation is the default.

The default vip data file keeps one entry for the
ctlplane network, which is the only Virtual IP in
the no network isolation scenarios.

Related-Blueprint: blueprint network-data-v2-ports
Change-Id: Ia50435c0560ed76791d1859612f625a1b776a8b2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/795080/2 && git format-patch -1 --stdout FETCH_HEAD,"['vip_data_default.yaml', 'network-data-samples/vip-data-fixed-ip.yaml', 'network_data_default.yaml', 'network-data-samples/vip-data-routed-networks.yaml', 'network-data-samples/vip-data-default-network-isolation.yaml']",5,675edece5fcb8f0711447ed064d5b9d714c80fa4,network-data-v2,# Exmaple vip data file for the default network-isolation scenario - network: storage_mgmt - network: internal_api - network: storage - network: external - network: ctlplane ,,37,0
openstack%2Fironic~master~Ie7acabf84c0460569c37804972c2dfdcf5d5e221,openstack/ironic,master,Ie7acabf84c0460569c37804972c2dfdcf5d5e221,Fix typos in inspection docs,MERGED,2021-06-16 12:21:54.000000000,2021-06-18 22:18:59.000000000,2021-06-18 22:15:22.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-16 12:21:54.000000000', 'files': ['doc/source/admin/inspection.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/df228c5b943419bf37709cf5db0ca7d1a038f180', 'message': 'Fix typos in inspection docs\n\nA follow-up to commit 50b84c9aede3b54a5c0fcda7c64aa0f720cc8582.\n\nChange-Id: Ie7acabf84c0460569c37804972c2dfdcf5d5e221\n'}]",0,796640,df228c5b943419bf37709cf5db0ca7d1a038f180,9,3,1,10239,,,0,"Fix typos in inspection docs

A follow-up to commit 50b84c9aede3b54a5c0fcda7c64aa0f720cc8582.

Change-Id: Ie7acabf84c0460569c37804972c2dfdcf5d5e221
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/796640/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/inspection.rst'],1,df228c5b943419bf37709cf5db0ca7d1a038f180,managed-inspection,"is the only way to conduct inspection using :ref:`redfish-virtual-media` orimportant is ``extra_kernel_params``, which allows adding kernel parameters forFor the callback URL the ironic-inspector endpoint from the service catalog is","is the only way to conductor inspection using :ref:`redfish-virtual-media` orimportant is ``extra_kernel_params``, which allows add kernel parameters forFor callback URL the ironic-inspector endpoint from the service catalog is",3,3
openstack%2Fironic-lib~master~I655917f1c44b68118ce22fcf479f3f317636ac98,openstack/ironic-lib,master,I655917f1c44b68118ce22fcf479f3f317636ac98,Update min version of tox to use allowlist,MERGED,2021-06-15 08:00:00.000000000,2021-06-18 22:17:10.000000000,2021-06-18 22:15:36.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:00:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f7db05cc9d60d469377550459ae65f99f3506aaa', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I655917f1c44b68118ce22fcf479f3f317636ac98\n'}]",0,796390,f7db05cc9d60d469377550459ae65f99f3506aaa,7,2,1,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I655917f1c44b68118ce22fcf479f3f317636ac98
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/90/796390/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f7db05cc9d60d469377550459ae65f99f3506aaa,allowlist-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic039860e14b37dbc39262a86fdec8b01f687b616,openstack/tripleo-heat-templates,stable/wallaby,Ic039860e14b37dbc39262a86fdec8b01f687b616,"Revert ""Always run network config for undercloud""",MERGED,2021-06-18 14:52:07.000000000,2021-06-18 21:44:27.000000000,2021-06-18 21:44:27.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:52:07.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d095f314d7c6552b967fbd9eff906acb4f5de1a', 'message': 'Revert ""Always run network config for undercloud""\n\nThis reverts commit c2966ca0fb4a477492031275d792e3c5f8b6b5a5.\n\nReason for revert: Merged before master and the var is incorrect.\n\nChange-Id: Ic039860e14b37dbc39262a86fdec8b01f687b616\n'}]",0,797099,2d095f314d7c6552b967fbd9eff906acb4f5de1a,7,3,1,14985,,,0,"Revert ""Always run network config for undercloud""

This reverts commit c2966ca0fb4a477492031275d792e3c5f8b6b5a5.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: Ic039860e14b37dbc39262a86fdec8b01f687b616
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/797099/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,2d095f314d7c6552b967fbd9eff906acb4f5de1a,bug/1930151-stable/wallaby,," NetworkDeploymentAction: ['CREATE','UPDATE']",0,1
openstack%2Fcharm-guide~master~I288b5eb8221aedb061b826288cfc102d74e96793,openstack/charm-guide,master,I288b5eb8221aedb061b826288cfc102d74e96793,Add new nova-compute action to RNs,MERGED,2021-06-17 14:54:39.000000000,2021-06-18 21:42:12.000000000,2021-06-18 21:41:03.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 14:54:39.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d06d415cddfe6fa36217af175eb50d98c17a8483', 'message': 'Add new nova-compute action to RNs\n\nAlso fix up wording for the Glance section.\n\nPartial-Bug: #1911011\nChange-Id: I288b5eb8221aedb061b826288cfc102d74e96793\n'}]",0,796873,d06d415cddfe6fa36217af175eb50d98c17a8483,7,2,1,30561,,,0,"Add new nova-compute action to RNs

Also fix up wording for the Glance section.

Partial-Bug: #1911011
Change-Id: I288b5eb8221aedb061b826288cfc102d74e96793
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/73/796873/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,d06d415cddfe6fa36217af175eb50d98c17a8483,2110-docs,"The glance charm has acquired some new configuration options: These options are used to set an external S3 compatible storage backend for Glance. S3 support in the charm is enabled only for Ussuri and later releases. nova-compute charm: number of hosted VMs ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The nova-compute charm has a new action: ``instance-count``. This action returns the number of VMs hosted on a nova-compute unit, whether they be running, suspended, or stopped.",The glance charm has new config options as:Those options can be used for setting an external S3 compatible storage as one of the supported Glance backend. S3 support in the charm is enabled only for Ussuri and later releases.,12,4
openstack%2Fnova~master~I4cc34c2da4be55c6d260e81f07738e4f82fdb21b,openstack/nova,master,I4cc34c2da4be55c6d260e81f07738e4f82fdb21b,Do not create attachment for old root volume,ABANDONED,2021-06-11 07:53:39.000000000,2021-06-18 21:40:19.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 07:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1fd9a7b9e5d4c9d5e87d0890737361126f1aa69', 'message': 'Do not create attachment for old root volume\n\nWhen rebuilding instance, it is unnecessary to create\nnew attachment for old root volume.\n\nChange-Id: I4cc34c2da4be55c6d260e81f07738e4f82fdb21b\nCloses-bug: #1931683\n'}, {'number': 2, 'created': '2021-06-16 08:20:44.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3089a749a478f43f89c8263b62557091897856ef', 'message': 'Do not create attachment for old root volume\n\nWhen rebuilding instance, it is unnecessary to create\nnew attachment for old root volume.\n\nChange-Id: I4cc34c2da4be55c6d260e81f07738e4f82fdb21b\nCloses-bug: #1931683\n'}]",0,795950,3089a749a478f43f89c8263b62557091897856ef,19,2,2,21797,,,0,"Do not create attachment for old root volume

When rebuilding instance, it is unnecessary to create
new attachment for old root volume.

Change-Id: I4cc34c2da4be55c6d260e81f07738e4f82fdb21b
Closes-bug: #1931683
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/795950/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,f1fd9a7b9e5d4c9d5e87d0890737361126f1aa69,bug/1931683, if bdm.attachment_id and not bdm.is_root:, if bdm.attachment_id:,1,1
openstack%2Fcharm-deployment-guide~master~I31c6a0d422e2d662ac063de480e46a483164a6f9,openstack/charm-deployment-guide,master,I31c6a0d422e2d662ac063de480e46a483164a6f9,Improve wording: enabling deferred service events,MERGED,2021-06-14 15:28:43.000000000,2021-06-18 21:39:25.000000000,2021-06-18 21:37:44.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 15:28:43.000000000', 'files': ['deploy-guide/source/deferred-events.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5efd6ec67eaa7f490c4bd323a3117fc4271c4407', 'message': 'Improve wording: enabling deferred service events\n\nAs mentioned in the company chat today by ivoks.\n\nChange-Id: I31c6a0d422e2d662ac063de480e46a483164a6f9\n'}]",0,796292,5efd6ec67eaa7f490c4bd323a3117fc4271c4407,7,2,1,30561,,,0,"Improve wording: enabling deferred service events

As mentioned in the company chat today by ivoks.

Change-Id: I31c6a0d422e2d662ac063de480e46a483164a6f9
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/92/796292/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deferred-events.rst'],1,5efd6ec67eaa7f490c4bd323a3117fc4271c4407,wording-for-enabling-deferred-restarts,Deferred service events are disabled by default for all charms. To enable them for a charm:To disable deferred service events for a charm:,To enable deferred service events for a charm make a configuration change:By default the feature is disabled. To disable deferred service events:,3,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I95a6c0a2f2e52abb83bf5c235711a8394556aaff,openstack/tripleo-heat-templates,stable/wallaby,I95a6c0a2f2e52abb83bf5c235711a8394556aaff,"Revert ""Always run network config for undercloud""",MERGED,2021-06-18 14:51:29.000000000,2021-06-18 21:30:53.000000000,2021-06-18 21:30:53.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:51:29.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a15698b7f91156dbaa9b35afe5b49d6df4e182b0', 'message': 'Revert ""Always run network config for undercloud""\n\nThis reverts commit c2966ca0fb4a477492031275d792e3c5f8b6b5a5.\n\nReason for revert: Merged before master and the var is incorrect.\n\nChange-Id: I95a6c0a2f2e52abb83bf5c235711a8394556aaff\n'}]",0,797097,a15698b7f91156dbaa9b35afe5b49d6df4e182b0,7,3,1,14985,,,0,"Revert ""Always run network config for undercloud""

This reverts commit c2966ca0fb4a477492031275d792e3c5f8b6b5a5.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: I95a6c0a2f2e52abb83bf5c235711a8394556aaff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/797097/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,a15698b7f91156dbaa9b35afe5b49d6df4e182b0,bug/1930151-stable/wallaby,," NetworkDeploymentAction: ['CREATE','UPDATE']",0,1
openstack%2Fcinder~master~I37bb71b69b91429782bb9242809e5f56ea4850c2,openstack/cinder,master,I37bb71b69b91429782bb9242809e5f56ea4850c2,PowerMax Docs - Corrections to QoS section,MERGED,2021-05-27 10:22:42.000000000,2021-06-18 21:01:14.000000000,2021-06-18 20:57:56.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 10:22:42.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e42cd74397e496780201cac2605ab5819e5e7d1', 'message': 'PowerMax Docs - Corrections to QoS section\n\nCorrecting inaccuracies in\n1. ""openstack server add volume""\n2. ""openstack volume qos associate""\n3. ""openstack volume qos create""\n\nChange-Id: I37bb71b69b91429782bb9242809e5f56ea4850c2\n'}]",0,793365,2e42cd74397e496780201cac2605ab5819e5e7d1,16,4,1,12670,,,0,"PowerMax Docs - Corrections to QoS section

Correcting inaccuracies in
1. ""openstack server add volume""
2. ""openstack volume qos associate""
3. ""openstack volume qos create""

Change-Id: I37bb71b69b91429782bb9242809e5f56ea4850c2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/793365/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,2e42cd74397e496780201cac2605ab5819e5e7d1,qos_doc_corrections, $ openstack server add volume my_instance my_volume --property DistributionType=OnFailure \ $ openstack volume qos associate my_qos my_volume_type, $ openstack server add volume my_volume my_instance --property DistributionType=Always \ $ openstack volume qos associate my_qos my_volume,3,3
openstack%2Fcinder~master~I4a877013d4518494e86f3112513625e2e945fffb,openstack/cinder,master,I4a877013d4518494e86f3112513625e2e945fffb,Remove unused _db_error code from cmd/manage.py,MERGED,2021-03-30 22:01:23.000000000,2021-06-18 21:00:05.000000000,2021-06-18 20:57:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-30 22:01:23.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57eb79d26559b916faf779f492252765653df602', 'message': 'Remove unused _db_error code from cmd/manage.py\n\nThis method is not used.\n\nChange-Id: I4a877013d4518494e86f3112513625e2e945fffb\n'}]",0,783978,57eb79d26559b916faf779f492252765653df602,37,6,1,4523,,,0,"Remove unused _db_error code from cmd/manage.py

This method is not used.

Change-Id: I4a877013d4518494e86f3112513625e2e945fffb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/783978/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,57eb79d26559b916faf779f492252765653df602,,,"def _db_error(caught_exception): print('%s' % caught_exception) print(_(""The above error may show that the database has not "" ""been created.\nPlease create a database using "" ""'cinder-manage db sync' before running this command."")) sys.exit(1) ",0,8
openstack%2Fmonasca-notification~stable%2Fussuri~I69e3e7db54b995e45810532a1dd940ac8b68921f,openstack/monasca-notification,stable/ussuri,I69e3e7db54b995e45810532a1dd940ac8b68921f,Fix Grafana URL in email notification,MERGED,2021-06-18 15:42:59.000000000,2021-06-18 20:58:27.000000000,2021-06-18 20:58:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-18 15:42:59.000000000', 'files': ['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/9dd0ea54c9727c431c0a2391a37dbc8f79069f64', 'message': ""Fix Grafana URL in email notification\n\n- Remove prefix 'dim_' from dimensions in Drilldown Dashboard\n- Same was done for Monasca-UI [1]\n\n[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599\n\nChange-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f\n""}]",0,797133,9dd0ea54c9727c431c0a2391a37dbc8f79069f64,6,2,1,28062,,,0,"Fix Grafana URL in email notification

- Remove prefix 'dim_' from dimensions in Drilldown Dashboard
- Same was done for Monasca-UI [1]

[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599

Change-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/33/797133/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py']",2,9dd0ea54c9727c431c0a2391a37dbc8f79069f64,," metric_query += ""&%s=%s"" % (key, value)"," metric_query += ""&dim_%s=%s"" % (key, value)",2,2
openstack%2Fmonasca-notification~stable%2Fvictoria~I69e3e7db54b995e45810532a1dd940ac8b68921f,openstack/monasca-notification,stable/victoria,I69e3e7db54b995e45810532a1dd940ac8b68921f,Fix Grafana URL in email notification,MERGED,2021-06-18 15:38:24.000000000,2021-06-18 20:57:09.000000000,2021-06-18 20:57:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-18 15:38:24.000000000', 'files': ['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3192ffbf2df445393e68b2b5679a0f7c895c8dba', 'message': ""Fix Grafana URL in email notification\n\n- Remove prefix 'dim_' from dimensions in Drilldown Dashboard\n- Same was done for Monasca-UI [1]\n\n[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599\n\nChange-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f\n""}]",0,797131,3192ffbf2df445393e68b2b5679a0f7c895c8dba,6,2,1,28062,,,0,"Fix Grafana URL in email notification

- Remove prefix 'dim_' from dimensions in Drilldown Dashboard
- Same was done for Monasca-UI [1]

[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599

Change-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/31/797131/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py']",2,3192ffbf2df445393e68b2b5679a0f7c895c8dba,," metric_query += ""&%s=%s"" % (key, value)"," metric_query += ""&dim_%s=%s"" % (key, value)",2,2
openstack%2Fbarbican~master~Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,openstack/barbican,master,Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,Add FIPS gate job,MERGED,2020-10-30 20:33:49.000000000,2021-06-18 20:51:43.000000000,2021-06-18 20:49:44.000000000,"[{'_account_id': 4146}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-30 20:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/182ecbf0dfc917221190a89721096551ef6d129a', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 2, 'created': '2020-11-02 20:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/00b62454cd3d48d47a82801ddaceb1918aac8980', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 3, 'created': '2020-11-03 17:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8c2615a3ac1fbed3f52b9cf28f0b91f2c7c5091a', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 4, 'created': '2020-11-03 18:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d8a96402cc2325c018b133c79ebc49b44f089921', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 5, 'created': '2020-11-09 22:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8353b6b7dccd03d17ef0b7b953cc7625a133c1d4', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 6, 'created': '2020-11-10 18:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4d689ff78b17d495fa1fbf39c495e1b1626b101e', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 7, 'created': '2020-11-11 20:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/598e9794cd71198e2187527e84ad5de087307bfd', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 8, 'created': '2020-11-11 21:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a355d6a17d44834bc065078fe0339d1d0a5a0440', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 9, 'created': '2020-11-12 20:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/dc6cbfbb45fd78da3e67ad95a62071b5315d680c', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 10, 'created': '2020-11-12 20:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/97f117f01fdd68810fabbd50268d238e43a7e5f4', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 11, 'created': '2020-11-13 20:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4b47b6991dd9926d118c92339b4982c61d2d0db0', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 12, 'created': '2020-11-13 21:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/523e2b694afaf02cc5ce55b9f63f98d629bc3601', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 13, 'created': '2020-11-13 21:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/72eaaa30f5a7c82e9d872d763fdf6b3a668c2cb6', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\n""}, {'number': 14, 'created': '2020-11-18 18:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d3a569563a978904d490fce0b2f2e1a31ea62bc7', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/#/c/751966/\n""}, {'number': 15, 'created': '2020-11-18 22:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/492c4dabdb2771beb17cca416ea5f690ff71e329', 'message': ""DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  Ultimately, we're going to\nwant to add this job to a more central repo to make sure we can\ninherit and reuse it in other projects.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/#/c/751966/\nDepends-On: https://review.opendev.org/#/c/756434/\nDepends-On: https://review.opendev.org/#/c/756158/\n""}, {'number': 16, 'created': '2021-04-21 20:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a79fbdaab5cc239a647070c880fe72bdfb3e7cce', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/787438\n'}, {'number': 17, 'created': '2021-04-21 21:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c55efd539c552bce1110b4202a7e733fc3fda6ea', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/787438\n'}, {'number': 18, 'created': '2021-04-29 14:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/98b7a54a380fdd453bf9dfbfdf39a8438ffd26eb', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\n'}, {'number': 19, 'created': '2021-05-10 20:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3a54ceda8b7ab7220cc878930b0001249a34d593', 'message': 'Add FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\n'}, {'number': 20, 'created': '2021-06-03 16:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a0d0a488a457a5a8d2a6a11eaf899a96d3bf53cc', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\nAlso added a test centos 8 job with no fips enabled to try to see\nif the problems with repos are related to fips settings.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/787438\n'}, {'number': 21, 'created': '2021-06-04 19:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/19adb6936f79a6c895df63f82a10f4b0a94f15ca', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\nAlso added a test centos 8 job with no fips enabled to try to see\nif the problems with repos are related to fips settings.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/787438\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/794879\n'}, {'number': 22, 'created': '2021-06-04 19:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/53bc95d68b7c32fe43ce4299adceef8498996a30', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\nAlso added a test centos 8 job with no fips enabled to try to see\nif the problems with repos are related to fips settings.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/794879\n'}, {'number': 23, 'created': '2021-06-07 18:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/28fe50622f2491cbe03cefca9f86c4b83dcd0e5f', 'message': 'DNM: testing FIPS gate job\n\nTesting a new FIPS enabled gate job here.  This job will be\nfor Centos 8 with FIPS enabled.  This will use a playbook in\nthe devstack repo to enable FIPS.\n\nTemporarily remove dogtag bindep dependencies\nAlso added a test centos 8 job with no fips enabled to try to see\nif the problems with repos are related to fips settings.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\n'}, {'number': 24, 'created': '2021-06-10 22:02:38.000000000', 'files': ['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/94a45c1ecdaa87791e97bed73d0468f056532570', 'message': 'Add FIPS gate job\n\nAdd a new FIPS enabled gate job  This job will be\nfor Centos 8 with FIPS enabled, and will use a playbook in\nzuul-jobs to enable FIPS.\n\nThe dogtag bindep dependencies are curently broken.  Lets\ntemporarily remove them here until we can figure out how to\nfix them and thereby fix the dogtag gate.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\n'}]",0,760665,94a45c1ecdaa87791e97bed73d0468f056532570,88,6,24,9914,,,0,"Add FIPS gate job

Add a new FIPS enabled gate job  This job will be
for Centos 8 with FIPS enabled, and will use a playbook in
zuul-jobs to enable FIPS.

The dogtag bindep dependencies are curently broken.  Lets
temporarily remove them here until we can figure out how to
fix them and thereby fix the dogtag gate.

Change-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b
Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778
",git fetch https://review.opendev.org/openstack/barbican refs/changes/65/760665/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', '.zuul.yaml']",2,182ecbf0dfc917221190a89721096551ef6d129a,add_fips_job, name: barbican-tox-functional-fips nodeset: devstack-single-node-centos-8 parent: barbican-tox-functional description: | Functional testing for a FIPS enabled Centos 8 system pre-run: playbooks/enable-fips.yaml - job: - barbican-tox-functional-fips,,31,0
openstack%2Fcharm-guide~master~I5a42166472ae9f2d4e930583cf72b0e76b2e580c,openstack/charm-guide,master,I5a42166472ae9f2d4e930583cf72b0e76b2e580c,Deprecate charm-tempest,MERGED,2021-06-18 09:29:12.000000000,2021-06-18 20:43:25.000000000,2021-06-18 20:42:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-06-18 09:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/22a1be59299ca2f290f017149017b487a22ab987', 'message': 'Deprecate charm-tempest\n\nChange-Id: I5a42166472ae9f2d4e930583cf72b0e76b2e580c\nRelated-Bug: #1828424\n'}, {'number': 2, 'created': '2021-06-18 14:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/361de775a770d86ddd241dfc30b3cc6e038f3cc5', 'message': 'Deprecate charm-tempest\n\nChange-Id: I5a42166472ae9f2d4e930583cf72b0e76b2e580c\nRelated-Bug: #1828424\n'}, {'number': 3, 'created': '2021-06-18 20:26:01.000000000', 'files': ['doc/source/2110.rst', 'doc/source/openstack-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/52782f8c2379c951e748d4317a2d56f8acaa949a', 'message': 'Deprecate charm-tempest\n\nChange-Id: I5a42166472ae9f2d4e930583cf72b0e76b2e580c\nRelated-Bug: #1828424\n'}]",1,797034,52782f8c2379c951e748d4317a2d56f8acaa949a,14,2,3,31289,,,0,"Deprecate charm-tempest

Change-Id: I5a42166472ae9f2d4e930583cf72b0e76b2e580c
Related-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/34/797034/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/2110.rst', 'doc/source/openstack-charms.rst']",2,22a1be59299ca2f290f017149017b487a22ab987,bug/1828424,* `tempest`_.. _tempest: https://opendev.org/openstack/charm-tempest/,* `tempest`_.. _tempest: https://opendev.org/openstack/charm-tempest/,10,4
openstack%2Fmanila-ui~stable%2Ftrain~I5382eb49901436fa38a0c076060cd4a4033a2182,openstack/manila-ui,stable/train,I5382eb49901436fa38a0c076060cd4a4033a2182,Drop lower constraints testing,MERGED,2021-06-16 23:40:59.000000000,2021-06-18 20:32:26.000000000,2021-06-18 20:30:12.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-16 23:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/645ca89c6ffd57efad6eaea4d35aa8aa1c13cf8c', 'message': 'Drop lower constraints testing\n\nThe lower-constraints job is failing because\nthe lower-constraints.txt file is out of date\nwith reality - a new pip dependency resolver [1]\nnow lets us know that several packages have\nconflicting lower bounds. There is no gain\nexpected if we retroactively attempt to fix\nlower constraints for required packages in this\nolder stable branch - deployers have already\nwrangled through the requirements to identify\nwhat versions of packages are needed for\nmanila_ui to work.\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: I5382eb49901436fa38a0c076060cd4a4033a2182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit c5e5999869f97e2a3e6b3be11d25a917428cae96)\n(cherry picked from commit 117c3fdc9fc0369bcdd467ddea39ce26d8e20026)\n'}, {'number': 2, 'created': '2021-06-16 23:42:38.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/8c90062bddda41ad0308f434340931a030ae152e', 'message': 'Drop lower constraints testing\n\nThe lower-constraints job is failing because\nthe lower-constraints.txt file is out of date\nwith reality - a new pip dependency resolver [1]\nnow lets us know that several packages have\nconflicting lower bounds. There is no gain\nexpected if we retroactively attempt to fix\nlower constraints for required packages in this\nolder stable branch - deployers have already\nwrangled through the requirements to identify\nwhat versions of packages are needed for\nmanila_ui to work.\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: I5382eb49901436fa38a0c076060cd4a4033a2182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit c5e5999869f97e2a3e6b3be11d25a917428cae96)\n(cherry picked from commit 117c3fdc9fc0369bcdd467ddea39ce26d8e20026)\n'}]",0,796663,8c90062bddda41ad0308f434340931a030ae152e,13,3,2,16643,,,0,"Drop lower constraints testing

The lower-constraints job is failing because
the lower-constraints.txt file is out of date
with reality - a new pip dependency resolver [1]
now lets us know that several packages have
conflicting lower bounds. There is no gain
expected if we retroactively attempt to fix
lower constraints for required packages in this
older stable branch - deployers have already
wrangled through the requirements to identify
what versions of packages are needed for
manila_ui to work.

[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html

Change-Id: I5382eb49901436fa38a0c076060cd4a4033a2182
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit c5e5999869f97e2a3e6b3be11d25a917428cae96)
(cherry picked from commit 117c3fdc9fc0369bcdd467ddea39ce26d8e20026)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/63/796663/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,645ca89c6ffd57efad6eaea4d35aa8aa1c13cf8c,drop-lower-constraints-testing,"<<<<<<< HEAD (aad56b Merge ""Drop legacy dsvm job & change zuulv3 integration job"")======= >>>>>>> CHANGE (117c3f Drop lower constraints testing)",,10,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d,openstack/tripleo-ansible,stable/wallaby,Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d,Change default permission for cephx keyring files,MERGED,2021-06-18 12:39:13.000000000,2021-06-18 20:03:03.000000000,2021-06-18 20:03:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-18 12:39:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/tasks/create_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_client/tasks/sync.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29087adce9312c506ba785faf40c4ef8fe7b0118', 'message': 'Change default permission for cephx keyring files\n\nWhen we create cephx keys on the undercloud and\ncopy them to overcloud ceph clients, ensure that\nthey have permission mode 600.\n\nChange-Id: Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d\n(cherry picked from commit d5c08266a7b8e8ee4c3f7da445114428976dea9c)\n'}]",0,797029,29087adce9312c506ba785faf40c4ef8fe7b0118,8,3,1,18002,,,0,"Change default permission for cephx keyring files

When we create cephx keys on the undercloud and
copy them to overcloud ceph clients, ensure that
they have permission mode 600.

Change-Id: Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d
(cherry picked from commit d5c08266a7b8e8ee4c3f7da445114428976dea9c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/797029/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_client/tasks/create_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_client/tasks/sync.yml']",2,29087adce9312c506ba785faf40c4ef8fe7b0118,chmod_cephx-stable/wallaby," mode: ""{{ '600' if item[0] | regex_search('.*.keyring$') else '644' }}""",,2,4
openstack%2Fironic-python-agent-builder~master~I42091bde2be25a52399fe66c2ca4600274dd0350,openstack/ironic-python-agent-builder,master,I42091bde2be25a52399fe66c2ca4600274dd0350,Update min version of tox to use allowlist,MERGED,2021-06-15 08:01:34.000000000,2021-06-18 19:56:18.000000000,2021-06-18 19:54:57.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:01:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/70ffdc565b61f9a2598108797c27255d94971c15', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I42091bde2be25a52399fe66c2ca4600274dd0350\n'}]",0,796391,70ffdc565b61f9a2598108797c27255d94971c15,8,3,1,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I42091bde2be25a52399fe66c2ca4600274dd0350
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/91/796391/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,70ffdc565b61f9a2598108797c27255d94971c15,allowlist-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fcinder~master~Ie6abaaa33a6f02cf909cf4131f924ff6e3df86d2,openstack/cinder,master,Ie6abaaa33a6f02cf909cf4131f924ff6e3df86d2,Tests: Improve cascade delete coverage,MERGED,2020-07-27 21:06:07.000000000,2021-06-18 19:47:58.000000000,2021-06-18 19:46:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32029}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-27 21:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1ee63512527414fe7f220bbb0dc954129029868', 'message': 'Tests: Improve cascade delete coverage\n\nAdd a test for unmanage+cascade volume delete\nin the volume manager.\n\nChange-Id: Ie6abaaa33a6f02cf909cf4131f924ff6e3df86d2\n'}, {'number': 2, 'created': '2020-08-10 13:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/504d1a831ed21c2a68ab5fb36e29b810f884725a', 'message': 'Tests: Improve cascade delete coverage\n\nAdd a test for unmanage+cascade volume delete\nin the volume manager.\n\nChange-Id: Ie6abaaa33a6f02cf909cf4131f924ff6e3df86d2\n'}, {'number': 3, 'created': '2021-01-05 14:14:40.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f6a3cac37e906c41c769da50f1f0c607edcaaa4', 'message': 'Tests: Improve cascade delete coverage\n\nAdd a test for unmanage+cascade volume delete\nin the volume manager.\n\nChange-Id: Ie6abaaa33a6f02cf909cf4131f924ff6e3df86d2\n'}]",0,743414,8f6a3cac37e906c41c769da50f1f0c607edcaaa4,106,32,3,4523,,,0,"Tests: Improve cascade delete coverage

Add a test for unmanage+cascade volume delete
in the volume manager.

Change-Id: Ie6abaaa33a6f02cf909cf4131f924ff6e3df86d2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/743414/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,e1ee63512527414fe7f220bbb0dc954129029868,," def test_unmanage_cascade_delete_fails(self): volume = tests_utils.create_volume( self.context, **self.volume_params) self.volume.create_volume(self.context, volume) manager = vol_manager.VolumeManager() self.assertRaises(exception.Invalid, manager.delete_volume, self.context, volume, unmanage_only=True, cascade=True) self.volume.delete_volume(self.context, volume) ",,14,0
openstack%2Fmanila-ui~stable%2Fussuri~I5382eb49901436fa38a0c076060cd4a4033a2182,openstack/manila-ui,stable/ussuri,I5382eb49901436fa38a0c076060cd4a4033a2182,Drop lower constraints testing,MERGED,2021-06-16 23:38:50.000000000,2021-06-18 19:45:45.000000000,2021-06-18 19:43:29.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-16 23:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/e43895051466e15c07168504108224ac94d2d020', 'message': 'Drop lower constraints testing\n\nThe lower-constraints job is failing because\nthe lower-constraints.txt file is out of date\nwith reality - a new pip dependency resolver [1]\nnow lets us know that several packages have\nconflicting lower bounds. There is no gain\nexpected if we retroactively attempt to fix\nlower constraints for required packages in this\nolder stable branch - deployers have already\nwrangled through the requirements to identify\nwhat versions of packages are needed for\nmanila_ui to work.\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: I5382eb49901436fa38a0c076060cd4a4033a2182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit c5e5999869f97e2a3e6b3be11d25a917428cae96)\n'}, {'number': 2, 'created': '2021-06-16 23:40:15.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/117c3fdc9fc0369bcdd467ddea39ce26d8e20026', 'message': 'Drop lower constraints testing\n\nThe lower-constraints job is failing because\nthe lower-constraints.txt file is out of date\nwith reality - a new pip dependency resolver [1]\nnow lets us know that several packages have\nconflicting lower bounds. There is no gain\nexpected if we retroactively attempt to fix\nlower constraints for required packages in this\nolder stable branch - deployers have already\nwrangled through the requirements to identify\nwhat versions of packages are needed for\nmanila_ui to work.\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: I5382eb49901436fa38a0c076060cd4a4033a2182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit c5e5999869f97e2a3e6b3be11d25a917428cae96)\n'}]",0,796662,117c3fdc9fc0369bcdd467ddea39ce26d8e20026,13,3,2,16643,,,0,"Drop lower constraints testing

The lower-constraints job is failing because
the lower-constraints.txt file is out of date
with reality - a new pip dependency resolver [1]
now lets us know that several packages have
conflicting lower bounds. There is no gain
expected if we retroactively attempt to fix
lower constraints for required packages in this
older stable branch - deployers have already
wrangled through the requirements to identify
what versions of packages are needed for
manila_ui to work.

[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html

Change-Id: I5382eb49901436fa38a0c076060cd4a4033a2182
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit c5e5999869f97e2a3e6b3be11d25a917428cae96)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/62/796662/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,e43895051466e15c07168504108224ac94d2d020,drop-lower-constraints-testing,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,7,6
openstack%2Fcinder~stable%2Fussuri~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/ussuri,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-18 09:16:46.000000000,2021-06-18 19:20:55.000000000,2021-06-18 18:05:44.000000000,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 09:16:46.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/35d56b6805392dc0e3d67c66b951327b2355bda2', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)\n(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)\n(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)\n'}]",0,797022,35d56b6805392dc0e3d67c66b951327b2355bda2,15,3,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/797022/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,35d56b6805392dc0e3d67c66b951327b2355bda2,unity-fix-typo,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~I6bbe66b699ce5ab245bb9779b61b5c4625eba927,openstack/ansible-role-python_venv_build,stable/ussuri,I6bbe66b699ce5ab245bb9779b61b5c4625eba927,Do not drop all wheels with venv_rebuild,MERGED,2021-02-04 16:26:58.000000000,2021-06-18 19:05:00.000000000,2021-06-18 19:03:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-04 16:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/36d64c93ab3ea6415a1244ddf40e621670bbfb1d', 'message': ""Do not drop all wheels with venv_rebuild\n\nRemoval of venv_build_host_wheel_path leads to all wheels for all\nservices being dropped which results in other role brokeness\nsince we build wheels only when requirements or constraints\nfile is changed. Also we technically don't need to clean it up, since\nremoval of just rest of the files will lead to wheels being rebuild.\n\nThis change should make usage venv_rebuild safe and not breaking wheels\nfor all services rather then single one.\n\nChange-Id: I6bbe66b699ce5ab245bb9779b61b5c4625eba927\nRelated-Bug: #1914301\n(cherry picked from commit 9e7877d55af8088533f623deccfa8f3b48dfc398)\n""}, {'number': 2, 'created': '2021-06-03 08:16:32.000000000', 'files': ['tests/test.yml', 'tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/73ac14dfaa5b7df9927190b0a5e66de11d5baac5', 'message': ""Do not drop all wheels with venv_rebuild\n\nRemoval of venv_build_host_wheel_path leads to all wheels for all\nservices being dropped which results in other role brokeness\nsince we build wheels only when requirements or constraints\nfile is changed. Also we technically don't need to clean it up, since\nremoval of just rest of the files will lead to wheels being rebuild.\n\nThis change should make usage venv_rebuild safe and not breaking wheels\nfor all services rather then single one.\n\nChange-Id: I6bbe66b699ce5ab245bb9779b61b5c4625eba927\nRelated-Bug: #1914301\n(cherry picked from commit 9e7877d55af8088533f623deccfa8f3b48dfc398)\n""}]",0,773971,73ac14dfaa5b7df9927190b0a5e66de11d5baac5,26,4,2,28619,,,0,"Do not drop all wheels with venv_rebuild

Removal of venv_build_host_wheel_path leads to all wheels for all
services being dropped which results in other role brokeness
since we build wheels only when requirements or constraints
file is changed. Also we technically don't need to clean it up, since
removal of just rest of the files will lead to wheels being rebuild.

This change should make usage venv_rebuild safe and not breaking wheels
for all services rather then single one.

Change-Id: I6bbe66b699ce5ab245bb9779b61b5c4625eba927
Related-Bug: #1914301
(cherry picked from commit 9e7877d55af8088533f623deccfa8f3b48dfc398)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/71/773971/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_wheel_build.yml'],1,36d64c93ab3ea6415a1244ddf40e621670bbfb1d,bug/1914301-stable/ussuri,," - ""{{ venv_build_host_wheel_path }}""",0,1
openstack%2Fpython-heatclient~master~Ie183f7f5b02c6008de70d81e248211d453276c39,openstack/python-heatclient,master,Ie183f7f5b02c6008de70d81e248211d453276c39,Add Python3 xena unit tests,MERGED,2021-03-19 19:43:12.000000000,2021-06-18 19:02:11.000000000,2021-06-18 19:00:00.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 19:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/dd526b41b39b7fb556e150fe7491a5da0942e330', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ie183f7f5b02c6008de70d81e248211d453276c39\n'}, {'number': 2, 'created': '2021-04-04 14:01:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/490e6b68f629222791b45fb909d282ef510bd03c', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nDepends-On:  https://review.opendev.org/c/openstack/python-heatclient/+/784712\n\nChange-Id: Ie183f7f5b02c6008de70d81e248211d453276c39\n'}]",0,781882,490e6b68f629222791b45fb909d282ef510bd03c,14,2,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Depends-On:  https://review.opendev.org/c/openstack/python-heatclient/+/784712

Change-Id: Ie183f7f5b02c6008de70d81e248211d453276c39
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/82/781882/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dd526b41b39b7fb556e150fe7491a5da0942e330,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fkolla-ansible~master~Ia7e923dddb77ff6db3c9160af931354a2b305e8d,openstack/kolla-ansible,master,Ia7e923dddb77ff6db3c9160af931354a2b305e8d,Persist nova libvirt secrets in a Docker volume,MERGED,2019-04-08 11:24:21.000000000,2021-06-18 18:59:47.000000000,2021-06-17 09:14:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 25238}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-04-08 11:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a20fc448524441d19053d90ce198c854fcd2c6fa', 'message': 'Persist nova libvirt secrets in a Docker volume\n\nLibvirt secrets must be persisted across restarts in order for encrypted\nvolumes to be useable after a shutdown.\n\nWithout this, instances with encrypted volumes failed to start with\nVolumeEncryptionNotSupported.\n\nChange-Id: Ia7e923dddb77ff6db3c9160af931354a2b305e8d\nCloses-Bug: #1821696\n'}, {'number': 2, 'created': '2019-04-08 12:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63696d4414f33ad1488542676fb61e574648099d', 'message': 'Persist nova libvirt secrets in a Docker volume\n\nLibvirt secrets must be persisted across restarts in order for encrypted\nvolumes to be useable after a shutdown.\n\nWithout this, instances with encrypted volumes failed to start with\nVolumeEncryptionNotSupported.\n\nChange-Id: Ia7e923dddb77ff6db3c9160af931354a2b305e8d\nCloses-Bug: #1821696\n'}, {'number': 3, 'created': '2019-04-08 12:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73814fb59b4993211a05ca5b10736e5ca3ab4f0e', 'message': 'Persist nova libvirt secrets in a Docker volume\n\nLibvirt secrets must be persisted across restarts in order for encrypted\nvolumes to be useable after a shutdown.\n\nWithout this, instances with encrypted volumes failed to start with\nVolumeEncryptionNotSupported.\n\nWe also modify config.json for the nova_libvirt container to merge the\n/etc/libvirt/secrets directory, to ensure that secrets added in the\ncontainer during runtime are not overwritten when the container\nrestarts.\n\nChange-Id: Ia7e923dddb77ff6db3c9160af931354a2b305e8d\nCloses-Bug: #1821696\n'}, {'number': 4, 'created': '2021-01-26 16:45:46.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/persist-libvirt-secrets-6e07ab2914f40ad3.yaml', 'ansible/roles/nova-cell/templates/nova-libvirt.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c63eb20d92febabbcb0dacbc35b0c89771d7202', 'message': ""Persist nova libvirt secrets in a Docker volume\n\nLibvirt may reasonably expect that its secrets directory\n(/etc/libvirt/secrets) is persistent. However, the nova_libvirt\ncontainer does not map the secrets directory to a volume, so it will not\nsurvive a recreation of the container. Furthermore, if Cinder or Nova\nCeph RBD integration is enabled, nova_libvirt's config.json includes an\nentry for /etc/libvirt/secrets which will wipe out the directory on a\nrestart of the container.\n\nPreviously, this appeared to cause an issue with encrypted volumes,\nwhich could fail to attach in certain situations as described in bug\n1821696. Nova has since made a related change, and the issue can no\nlonger be reproduced. However, making the secret store persistent seems\nlike a sensible thing to do, and may prevent hitting other corner cases.\n\nThis change maps /etc/libvirt/secrets to a Docker volume in the\nnova_libvirt container.  We also modify config.json for the nova_libvirt\ncontainer to merge the /etc/libvirt/secrets directory, to ensure that\nsecrets added in the container during runtime are not overwritten when\nthe container restarts.\n\nChange-Id: Ia7e923dddb77ff6db3c9160af931354a2b305e8d\nRelated-Bug: #1821696\n""}]",2,650853,1c63eb20d92febabbcb0dacbc35b0c89771d7202,19,6,4,14826,,,0,"Persist nova libvirt secrets in a Docker volume

Libvirt may reasonably expect that its secrets directory
(/etc/libvirt/secrets) is persistent. However, the nova_libvirt
container does not map the secrets directory to a volume, so it will not
survive a recreation of the container. Furthermore, if Cinder or Nova
Ceph RBD integration is enabled, nova_libvirt's config.json includes an
entry for /etc/libvirt/secrets which will wipe out the directory on a
restart of the container.

Previously, this appeared to cause an issue with encrypted volumes,
which could fail to attach in certain situations as described in bug
1821696. Nova has since made a related change, and the issue can no
longer be reproduced. However, making the secret store persistent seems
like a sensible thing to do, and may prevent hitting other corner cases.

This change maps /etc/libvirt/secrets to a Docker volume in the
nova_libvirt container.  We also modify config.json for the nova_libvirt
container to merge the /etc/libvirt/secrets directory, to ensure that
secrets added in the container during runtime are not overwritten when
the container restarts.

Change-Id: Ia7e923dddb77ff6db3c9160af931354a2b305e8d
Related-Bug: #1821696
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/650853/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/defaults/main.yml'],1,a20fc448524441d19053d90ce198c854fcd2c6fa,bug/1821696," - ""nova_libvirt_secrets:/etc/libvirt/secrets""",,1,0
openstack%2Fbarbican~master~I36fb10445413fb1ec4046ab6c2525eae47d85ea1,openstack/barbican,master,I36fb10445413fb1ec4046ab6c2525eae47d85ea1,Fix alembic migrations,MERGED,2021-06-11 19:57:11.000000000,2021-06-18 18:59:38.000000000,2021-06-18 18:58:08.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-06-11 19:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d5d5255cc3dea9ac3bc279a0f5b3068fab6d729', 'message': 'Fix alembic migrations\n\nA change was introduced to SQL Alchemy 1.4.8 that breaks our Alembic\nmigrations.  Specifically it breaks the ""add_secret_consumers"" migration\nbecause it attempts to check for a table using an object that is no\nlonger allowed to call that function.\n\nThis patch removes the bespoke validation, because alembic should take\ncare of checking the schema.\n\nStory: 2008967\nTask:  42606\n\nChange-Id: I36fb10445413fb1ec4046ab6c2525eae47d85ea1\n'}, {'number': 2, 'created': '2021-06-15 20:49:53.000000000', 'files': ['barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3a76ced8637682a424c994963f5cb12d4af6cefc', 'message': 'Fix alembic migrations\n\nA change was introduced to SQL Alchemy 1.4.8 that breaks our Alembic\nmigrations.  Specifically it breaks the ""add_secret_consumers"" migration\nbecause it attempts to check for a table using an object that is no\nlonger allowed to call that function.\n\nThis patch removes the bespoke validation, because alembic should take\ncare of checking the schema.\n\nStory: 2008967\nTask:  42606\n\nChange-Id: I36fb10445413fb1ec4046ab6c2525eae47d85ea1\n'}]",0,796059,3a76ced8637682a424c994963f5cb12d4af6cefc,12,4,2,7973,,,0,"Fix alembic migrations

A change was introduced to SQL Alchemy 1.4.8 that breaks our Alembic
migrations.  Specifically it breaks the ""add_secret_consumers"" migration
because it attempts to check for a table using an object that is no
longer allowed to call that function.

This patch removes the bespoke validation, because alembic should take
care of checking the schema.

Story: 2008967
Task:  42606

Change-Id: I36fb10445413fb1ec4046ab6c2525eae47d85ea1
",git fetch https://review.opendev.org/openstack/barbican refs/changes/59/796059/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py'],1,0d5d5255cc3dea9ac3bc279a0f5b3068fab6d729,story/2008967," op.create_table( ""secret_consumer_metadata"", # ModelBase sa.Column(""id"", sa.String(length=36), nullable=False), sa.Column(""created_at"", sa.DateTime(), nullable=False), sa.Column(""updated_at"", sa.DateTime(), nullable=False), sa.Column(""deleted_at"", sa.DateTime(), nullable=True), sa.Column(""deleted"", sa.Boolean(), nullable=False), sa.Column(""status"", sa.String(length=20), nullable=False), # SecretConsumerMetadatum sa.Column(""secret_id"", sa.String(36), nullable=False), sa.Column(""project_id"", sa.String(36), nullable=False), sa.Column(""service"", sa.String(255), nullable=False), sa.Column(""resource_type"", sa.String(255), nullable=False), sa.Column(""resource_id"", sa.String(36), nullable=False), # Constraints and Indexes sa.PrimaryKeyConstraint(""id""), sa.ForeignKeyConstraint([""secret_id""], [""secrets.id""]), sa.UniqueConstraint( ""secret_id"", ""resource_id"", name=""_secret_consumer_resource_uc"" ), sa.Index(""ix_secret_consumer_metadata_secret_id"", ""secret_id""), sa.Index(""ix_secret_consumer_metadata_resource_id"", ""resource_id""), )"," ctx = op.get_context() con = op.get_bind() table_exists = ctx.dialect.has_table(con.engine, ""secret_consumer_metadata"") if not table_exists: op.create_table( ""secret_consumer_metadata"", # ModelBase sa.Column(""id"", sa.String(length=36), nullable=False), sa.Column(""created_at"", sa.DateTime(), nullable=False), sa.Column(""updated_at"", sa.DateTime(), nullable=False), sa.Column(""deleted_at"", sa.DateTime(), nullable=True), sa.Column(""deleted"", sa.Boolean(), nullable=False), sa.Column(""status"", sa.String(length=20), nullable=False), # SecretConsumerMetadatum sa.Column(""secret_id"", sa.String(36), nullable=False), sa.Column(""project_id"", sa.String(36), nullable=False), sa.Column(""service"", sa.String(255), nullable=False), sa.Column(""resource_type"", sa.String(255), nullable=False), sa.Column(""resource_id"", sa.String(36), nullable=False), # Constraints and Indexes sa.PrimaryKeyConstraint(""id""), sa.ForeignKeyConstraint([""secret_id""], [""secrets.id""]), sa.UniqueConstraint( ""secret_id"", ""resource_id"", name=""_secret_consumer_resource_uc"" ), sa.Index(""ix_secret_consumer_metadata_secret_id"", ""secret_id""), sa.Index(""ix_secret_consumer_metadata_resource_id"", ""resource_id""), )",24,29
openstack%2Fmanila-ui~stable%2Fvictoria~I5382eb49901436fa38a0c076060cd4a4033a2182,openstack/manila-ui,stable/victoria,I5382eb49901436fa38a0c076060cd4a4033a2182,Drop lower constraints testing,MERGED,2021-06-16 23:32:38.000000000,2021-06-18 18:58:25.000000000,2021-06-18 18:55:57.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-16 23:32:38.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/c5e5999869f97e2a3e6b3be11d25a917428cae96', 'message': 'Drop lower constraints testing\n\nThe lower-constraints job is failing because\nthe lower-constraints.txt file is out of date\nwith reality - a new pip dependency resolver [1]\nnow lets us know that several packages have\nconflicting lower bounds. There is no gain\nexpected if we retroactively attempt to fix\nlower constraints for required packages in this\nolder stable branch - deployers have already\nwrangled through the requirements to identify\nwhat versions of packages are needed for\nmanila_ui to work.\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\n\nChange-Id: I5382eb49901436fa38a0c076060cd4a4033a2182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,796741,c5e5999869f97e2a3e6b3be11d25a917428cae96,9,3,1,16643,,,0,"Drop lower constraints testing

The lower-constraints job is failing because
the lower-constraints.txt file is out of date
with reality - a new pip dependency resolver [1]
now lets us know that several packages have
conflicting lower bounds. There is no gain
expected if we retroactively attempt to fix
lower constraints for required packages in this
older stable branch - deployers have already
wrangled through the requirements to identify
what versions of packages are needed for
manila_ui to work.

[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html

Change-Id: I5382eb49901436fa38a0c076060cd4a4033a2182
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/41/796741/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,c5e5999869f97e2a3e6b3be11d25a917428cae96,drop-lower-constraints-testing,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,141
openstack%2Fpython-cinderclient~master~I966cfcc1f1aa528385a57f2012bf2540e3d3edc4,openstack/python-cinderclient,master,I966cfcc1f1aa528385a57f2012bf2540e3d3edc4,Add Python3 xena unit tests,MERGED,2021-03-15 08:41:42.000000000,2021-06-18 18:56:46.000000000,2021-06-18 18:54:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 08:41:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/202c1a321f32f45b5c8013ae05cf57ed5dc339f6', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I966cfcc1f1aa528385a57f2012bf2540e3d3edc4\n'}]",0,780497,202c1a321f32f45b5c8013ae05cf57ed5dc339f6,14,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I966cfcc1f1aa528385a57f2012bf2540e3d3edc4
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/97/780497/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,202c1a321f32f45b5c8013ae05cf57ed5dc339f6,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fopenstack-ansible~master~Ib164f59f55a5847b2a55af3eb9bae1086fcf1109,openstack/openstack-ansible,master,Ib164f59f55a5847b2a55af3eb9bae1086fcf1109,[doc] Fix 'installing with limited connectivity' reference,MERGED,2021-06-18 12:36:57.000000000,2021-06-18 18:49:05.000000000,2021-06-18 18:45:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-18 12:36:57.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'doc/source/user/limited-connectivity/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3db8ee648b44dffceff7c46d331047cdb6cfc32f', 'message': ""[doc] Fix 'installing with limited connectivity' reference\n\nThe AIO Quickstart guide included an instruction to look for 'Installing with\nlimited connectivity' in the appendix but this no longer lives in the appendix.\n\nThis patch replaces this instruction with a link to the correct page.\n\nCloses-Bug: 1926447\nChange-Id: Ib164f59f55a5847b2a55af3eb9bae1086fcf1109\n""}]",0,797075,3db8ee648b44dffceff7c46d331047cdb6cfc32f,8,3,1,33633,,,0,"[doc] Fix 'installing with limited connectivity' reference

The AIO Quickstart guide included an instruction to look for 'Installing with
limited connectivity' in the appendix but this no longer lives in the appendix.

This patch replaces this instruction with a link to the correct page.

Closes-Bug: 1926447
Change-Id: Ib164f59f55a5847b2a55af3eb9bae1086fcf1109
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/797075/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'doc/source/user/limited-connectivity/index.rst']",2,3db8ee648b44dffceff7c46d331047cdb6cfc32f,bug/1926447,.. _limited-connectivity: ,,4,3
openstack%2Fopenstack-ansible~master~I6447f2dfec0d2cf67f9dfebc3975bab96562d9a2,openstack/openstack-ansible,master,I6447f2dfec0d2cf67f9dfebc3975bab96562d9a2,Use openstack_repo_url for requirements_git_url,MERGED,2021-06-17 10:43:01.000000000,2021-06-18 18:47:26.000000000,2021-06-18 18:45:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-17 10:43:01.000000000', 'files': ['playbooks/defaults/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9547975ce710617f2dd003da63ad16715fbb8272', 'message': ""Use openstack_repo_url for requirements_git_url\n\nCurrentlly we may use use different proto for repo server, while only\nhttp is currently supported. Anyway it's worth\nto simplify statement and use previously defined openstack_repo_url.\n\nChange-Id: I6447f2dfec0d2cf67f9dfebc3975bab96562d9a2\n""}]",0,796820,9547975ce710617f2dd003da63ad16715fbb8272,16,3,1,28619,,,0,"Use openstack_repo_url for requirements_git_url

Currentlly we may use use different proto for repo server, while only
http is currently supported. Anyway it's worth
to simplify statement and use previously defined openstack_repo_url.

Change-Id: I6447f2dfec0d2cf67f9dfebc3975bab96562d9a2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/796820/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/source_install.yml'],1,9547975ce710617f2dd003da63ad16715fbb8272,,"requirements_git_url: ""{{ openstack_repo_url ~ '/constraints/upper_constraints_' ~ requirements_git_install_branch ~ '.txt' }}"" ","requirements_git_url: ""{{ openstack_service_internaluri_proto ~ '://' ~ internal_lb_vip_address ~ ':' ~ repo_server_port ~ '/constraints/upper_constraints_' ~ requirements_git_install_branch ~ '.txt' }}""",1,1
openstack%2Fvalidations-common~master~I1d7e1d79f4689b14a0743bd42c27baf3379f54b0,openstack/validations-common,master,I1d7e1d79f4689b14a0743bd42c27baf3379f54b0,Remove messages very specific to CI,MERGED,2021-05-25 00:26:15.000000000,2021-06-18 18:46:49.000000000,2021-06-18 18:43:26.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-05-25 00:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f0ecbd357435dfcd90d8097b83cdae77abcbd647', 'message': 'Remove message specific to CI\n\nWe expect validations are used not only in upstream CI but also in\nactual deployments when operators want to check status of their\ndeployments as part of daily check jobs, and having such message\nwould confuse operators because they might not understand what that CI\nmeans and the log files mentioned are not created by TripleO.\n\nChange-Id: I1d7e1d79f4689b14a0743bd42c27baf3379f54b0\n'}, {'number': 2, 'created': '2021-05-25 00:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/80f3734a14a8ccfc3531ffdca1f3adc72cee6d03', 'message': 'Remove messages very specific to CI\n\nWe expect validations are used not only in upstream CI but also in\nactual deployments when operators want to check status of their\ndeployments as part of daily check jobs, and having such message\nwould confuse operators because they might not understand what that CI\nmeans and the log files mentioned are not created by TripleO.\n\nChange-Id: I1d7e1d79f4689b14a0743bd42c27baf3379f54b0\n'}, {'number': 3, 'created': '2021-06-18 09:14:29.000000000', 'files': ['validations_common/roles/service_status/tasks/containers.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/aa6006d0021cc95fc20f56b8d675fea92f9e548b', 'message': 'Remove messages very specific to CI\n\nWe expect validations are used not only in upstream CI but also in\nactual deployments when operators want to check status of their\ndeployments as part of daily check jobs, and having such message\nwould confuse operators because they might not understand what that CI\nmeans and the log files mentioned are not created by TripleO.\n\nChange-Id: I1d7e1d79f4689b14a0743bd42c27baf3379f54b0\n'}]",0,792864,aa6006d0021cc95fc20f56b8d675fea92f9e548b,12,7,3,9816,,,0,"Remove messages very specific to CI

We expect validations are used not only in upstream CI but also in
actual deployments when operators want to check status of their
deployments as part of daily check jobs, and having such message
would confuse operators because they might not understand what that CI
means and the log files mentioned are not created by TripleO.

Change-Id: I1d7e1d79f4689b14a0743bd42c27baf3379f54b0
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/64/792864/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/service_status/tasks/containers.yaml'],1,f0ecbd357435dfcd90d8097b83cdae77abcbd647,ci-log,," On CI, please check the following locations /var/log/extras/failed_containers.log /var/log/extras/podman On CI, please check the following locations /var/log/extras/failed_containers.log /var/log/extras/docker",0,6
openstack%2Fansible-role-collect-logs~master~I8a2f19fd091e827458f6769612c46341259047f3,openstack/ansible-role-collect-logs,master,I8a2f19fd091e827458f6769612c46341259047f3,Refactor zuul jobs,MERGED,2021-06-14 13:34:51.000000000,2021-06-18 18:43:59.000000000,2021-06-18 18:43:59.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-14 13:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/66ef37e82df50e9b4d19a6823404412c38f32c2c', 'message': 'Split zuul job config in two\n\nSplit project zuul config into integration and tox config files.\nThis should allow us to modify only tox.yaml and avoid forcing\nzuul to run integration jobs.\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 2, 'created': '2021-06-14 15:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f6c2b71770afad203830069234116dccb5255f15', 'message': 'Refactor zuul jobs\n\n- Split project zuul config into integration and tox config files.\n  This should allow us to modify only tox.yaml and avoid forcing\n  zuul to run integration jobs.\n- Avoid using content provider job\n- Keep only scenario001 running by default\n- Allow enabling multinode job when placeholder risky.md file is\n  touched.\n- Run integration jobs only on check.\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 3, 'created': '2021-06-14 15:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ac092e6380adba0a1d28bd2fd14f506915c8752d', 'message': 'Refactor zuul jobs\n\n- Split project zuul config into integration and tox config files.\n  This should allow us to modify only tox.yaml and avoid forcing\n  zuul to run integration jobs.\n- Avoid using content provider job\n- Keep only scenario001 running by default\n- Allow enabling multinode job when placeholder risky.md file is\n  touched.\n- Run integration jobs only on check.\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 4, 'created': '2021-06-14 15:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0fc14138ec2de7e7d6c0113085578c0fdba9bd37', 'message': 'Refactor zuul jobs\n\n- Split project zuul config into integration and tox config files.\n  This should allow us to modify only tox.yaml and avoid forcing\n  zuul to run integration jobs.\n- Avoid using content provider job\n- Keep only scenario001 running by default\n- Allow enabling multinode job when placeholder risky.md file is\n  touched.\n- Run integration jobs only on check.\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 5, 'created': '2021-06-15 12:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/99460a82810eae322475efc009410cb9b88fcb1b', 'message': 'Refactor zuul jobs\n\n- Split project zuul config into integration and tox config files.\n  This should allow us to modify only tox.yaml and avoid forcing\n  zuul to run integration jobs.\n- Avoid using content provider job\n- Integration jobs are now running as experimental.\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 6, 'created': '2021-06-15 12:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/dd0ef6ad03b84dada132115fa8463c64f32b91ff', 'message': 'Refactor zuul jobs\n\n- Split project zuul config into integration and tox config files.\n  This should allow us to modify only tox.yaml and avoid forcing\n  zuul to run integration jobs.\n- Avoid using content provider job\n- Integration jobs are now running as experimental.\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 7, 'created': '2021-06-16 10:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/aa83027242956d203c8ad85116469a0aa8e5cc28', 'message': 'Refactor zuul jobs\n\n- Avoid using content provider job and the second standalone one\n- Integration jobs are now running as experimental\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}, {'number': 8, 'created': '2021-06-18 14:52:58.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/cc6ff6f07c7ee66589791600821d3cb484455493', 'message': 'Refactor zuul jobs\n\n- Avoid using content provider job and the second standalone one\n- Integration jobs are now running as experimental\n\nChange-Id: I8a2f19fd091e827458f6769612c46341259047f3\n'}]",13,796278,cc6ff6f07c7ee66589791600821d3cb484455493,36,7,8,24162,,,0,"Refactor zuul jobs

- Avoid using content provider job and the second standalone one
- Integration jobs are now running as experimental

Change-Id: I8a2f19fd091e827458f6769612c46341259047f3
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/78/796278/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tox.yaml', 'zuul.d/integration.yaml']",2,66ef37e82df50e9b4d19a6823404412c38f32c2c,perf/gate," # do not put requirements.txt here, as it can have a huge impact - ^Puppetfile.*$ - ^doc/.*$ - ^etc/.*$ - ^lower-constraints.txt$ - ^metadata.json$ - ^releasenotes/.*$ - ^spec/.*$ - ^test-requirements.txt$ - ^vars/sova-patterns.yml$ - ^zuul.d/tox./yaml$ - tox.ini","--- - job: name: tox-ansible-test-sanity description: Runs ansible-test sanity (tox -e sanity) parent: tox vars: tox_envlist: sanity # dynamic tox env added by tox-ansible # we want to run sanity only on py38 instead of implicit 2.6-3.9 range tox_extra_args: -- --python 3.8 - job: name: tox-ansible-test-units description: Runs ansible-test sanity (tox -e sanity) parent: tox vars: tox_envlist: units # dynamic tox env added by tox-ansible # we want to run sanity only on py36 instead of implicit 2.6-3.9 range # tox_extra_args: -- --python 3.6 - job: name: zuul-ansible-role-collect-logs description: Validate that zuul can use that role. parent: base run: test-playbooks/zuul-ansible-role-collect-logs.yaml roles: - zuul: opendev.org/openstack/ansible-role-collect-logs irrelevant-files: - ^vars/sova-patterns.yml$ - openstack-tox-linters - openstack-tox-molecule - tox-ansible-test-sanity - tox-ansible-test-units - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ # do not put requirements.txt here, as it can have a huge impact - ^test-requirements.txt$ - ^lower-constraints.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^vars/sova-patterns.yml$",57,44
openstack%2Ftripleo-ansible~master~I6ce262a6e77a4d40b6ff246240d21390289cc54b,openstack/tripleo-ansible,master,I6ce262a6e77a4d40b6ff246240d21390289cc54b,Ensure we get the relevant fcontext overrides,MERGED,2021-03-23 10:05:49.000000000,2021-06-18 18:43:37.000000000,2021-06-18 18:43:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-23 10:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f1851ca01e391a4f5441b16ebcc5e07a5972150', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 2, 'created': '2021-03-23 11:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a48de7ef4fa29643d38be0f3900706d25366485', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 3, 'created': '2021-03-26 08:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84a10f87cb192cd76893c228d5c9c0deddd59760', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 4, 'created': '2021-03-26 13:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f9d71a6124a51b18930c3660def050aba5cc251', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 5, 'created': '2021-04-12 11:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3636e79c0b7374e2722d660c81a33aa679d498e9', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 6, 'created': '2021-06-17 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b03a5e2aaf63c608d89a0098620c60e11e8353c8', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 7, 'created': '2021-06-18 09:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36448b0fa25c8b506e1b20dd91b795d98802bcfc', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 8, 'created': '2021-06-18 10:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f3688aee0530ed81e3a51cfa3a4a91e121b19982', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n- we have to ensure SELinux is enabled on the host before actually\n  creating the rules.\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}, {'number': 9, 'created': '2021-06-18 10:47:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/custom_config/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/tasks/create_persistent_directories.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/preexisting_config/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_frr/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/host_prep.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/608fdfae85be5e1d6d20d49c62583e48ce5a0bc5', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n- we have to ensure SELinux is enabled on the host before actually\n  creating the rules.\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n""}]",0,782393,608fdfae85be5e1d6d20d49c62583e48ce5a0bc5,41,7,9,28223,,,0,"Ensure we get the relevant fcontext overrides

Until now, running a restorecon could break the SELinux labels. In order
to avoid such an issue, we can override the existing rules pushed in
/etc/selinux/targeted/contexts/ using fcontext. It makes the change
persistent across reboots.

Please note the following:
- sefcontext triggers a policy reload
- fcontext doesn't actually apply the labels
- creating the fcontext entry before creating the file allows to get the
  file created with the right labels directly
- we have to ensure SELinux is enabled on the host before actually
  creating the rules.

Change-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/782393/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_collectd/tasks/create_persistent_directories.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_frr/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/host_prep.yml']",6,4f1851ca01e391a4f5441b16ebcc5e07a5972150,sefcontext,"- name: Create fcontext entry for multipath directory sefcontext: target: ""/etc/multipath(/.*)?"" setype: container_file_t state: present ",,39,0
openstack%2Ftripleo-upgrade~master~I31d6228720248908a66e05d5c145bad6a2c85312,openstack/tripleo-upgrade,master,I31d6228720248908a66e05d5c145bad6a2c85312,Set config_heat_extra_yaml before building converge script.,MERGED,2021-06-17 07:39:35.000000000,2021-06-18 18:43:20.000000000,2021-06-18 18:43:20.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 07:39:35.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8c50d3eb4e5ff63016fa73e9411db906aa19b57e', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n""}]",0,796772,8c50d3eb4e5ff63016fa73e9411db906aa19b57e,12,4,1,26343,,,0,"Set config_heat_extra_yaml before building converge script.

The converge script requires from the parameter config_heat_extra_yaml
to be set before we build the script, otherwise it won't add the
config_heat_extra.yaml file in the converge command.

This patch modifies the order, so common/build_extra_template.yaml is
executed before creating the script.

Change-Id: I31d6228720248908a66e05d5c145bad6a2c85312
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/796772/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,8c50d3eb4e5ff63016fa73e9411db906aa19b57e,,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool , # TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool,5,5
openstack%2Fkayobe-config-dev~stable%2Ftrain~I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4,openstack/kayobe-config-dev,stable/train,I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4,CI: Sync with Kayobe jobs,MERGED,2021-06-09 20:17:43.000000000,2021-06-18 18:21:31.000000000,2021-06-18 18:21:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-09 20:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/d4174c41fd7705c1f77ef084eb4a745d26c80f02', 'message': 'CI: Sync with Kayobe jobs\n\nChange-Id: I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4\n'}, {'number': 2, 'created': '2021-06-10 07:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/09aafe61a9d37555b1f8d61153f6ae0b3b5b9aaa', 'message': 'CI: Sync with Kayobe jobs\n\nChange-Id: I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4\nDepend-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795733\n'}, {'number': 3, 'created': '2021-06-10 08:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/dac966fd3e1d5e8a643d8b5da69a9a761112dbcf', 'message': 'CI: Sync with Kayobe jobs\n\nChange-Id: I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795733\n'}, {'number': 4, 'created': '2021-06-14 12:28:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/c69b35e2fc930f9bd029dc8562a83adb5a0c76d7', 'message': 'CI: Sync with Kayobe jobs\n\nChange-Id: I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/795745\n'}]",0,795692,c69b35e2fc930f9bd029dc8562a83adb5a0c76d7,15,4,4,15197,,,0,"CI: Sync with Kayobe jobs

Change-Id: I8738df6ca0f7d58d6d80dc5dbac404b45729b1a4
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/795745
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/92/795692/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d4174c41fd7705c1f77ef084eb4a745d26c80f02,, - kayobe-overcloud-centos7 - kayobe-overcloud-centos8 - kayobe-overcloud-host-configure-centos7 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos7 - kayobe-seed-centos7 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos7 - kayobe-overcloud-centos7 - kayobe-overcloud-centos8 - kayobe-overcloud-host-configure-centos7 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos7 - kayobe-seed-centos7 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos7 , - kayobe-overcloud-centos - kayobe-seed-centos - kayobe-overcloud-centos - kayobe-seed-centos,16,4
openstack%2Ftripleo-common~master~Ic2769b69bf4b34669886dde1ef663d561d9e6173,openstack/tripleo-common,master,Ic2769b69bf4b34669886dde1ef663d561d9e6173,Cleanup utils 2/2,MERGED,2021-03-08 11:34:21.000000000,2021-06-18 18:14:40.000000000,2021-03-17 01:26:57.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 11:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/309985b43f8cd86299532ed7846568782ff281c2', 'message': 'Cleanup utils 2/2\n\nRemoves remaining unused utility methods.\n\nChange-Id: Ic2769b69bf4b34669886dde1ef663d561d9e6173\n'}, {'number': 2, 'created': '2021-03-08 13:41:35.000000000', 'files': ['tripleo_common/tests/utils/test_swift.py', 'tripleo_common/utils/tarball.py', 'tripleo_common/tests/utils/test_stack.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/plan.py', 'tripleo_common/utils/template.py', 'tripleo_common/utils/swift.py', 'tripleo_common/update.py', 'tripleo_common/utils/stack.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e1b91448161d0abcf91cd9fa594ac71ebf26e31a', 'message': 'Cleanup utils 2/2\n\nRemoves remaining unused utility methods.\n\nChange-Id: Ic2769b69bf4b34669886dde1ef663d561d9e6173\n'}]",1,779225,e1b91448161d0abcf91cd9fa594ac71ebf26e31a,15,4,2,8833,,,0,"Cleanup utils 2/2

Removes remaining unused utility methods.

Change-Id: Ic2769b69bf4b34669886dde1ef663d561d9e6173
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/779225/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_swift.py', 'tripleo_common/utils/tarball.py', 'tripleo_common/tests/utils/test_stack.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/plan.py', 'tripleo_common/utils/template.py', 'tripleo_common/utils/swift.py', 'tripleo_common/update.py', 'tripleo_common/utils/stack.py']",10,309985b43f8cd86299532ed7846568782ff281c2,refactor_clean_utils,,"import timefrom heatclient import exc as heat_exc from swiftclient import exceptions as swiftexceptions from tripleo_common import constants from tripleo_common import update from tripleo_common.utils import plan as plan_utils from tripleo_common.utils import template as templatesdef validate_stack_and_flatten_parameters(heat, processed_data, env): params = env.get('parameter_defaults') fields = { 'template': processed_data['template'], 'files': processed_data['files'], 'environment': processed_data['environment'], 'show_nested': True } processed_data = { 'heat_resource_tree': heat.stacks.validate(**fields), 'environment_parameters': params, } if processed_data['heat_resource_tree']: flattened = {'resources': {}, 'parameters': {}} _flat_it(flattened, 'Root', processed_data['heat_resource_tree']) processed_data['heat_resource_tree'] = flattened return processed_data def deploy_stack(swift, heat, container, skip_deploy_identifier=False, timeout_mins=240): try: stack = heat.stacks.get(container, resolve_outputs=False) except heat_exc.HTTPNotFound: stack = None stack_is_new = stack is None # update StackAction, DeployIdentifier parameters = dict() if not skip_deploy_identifier: parameters['DeployIdentifier'] = int(time.time()) else: parameters['DeployIdentifier'] = '' parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' try: env = plan_utils.get_env(swift, container) except swiftexceptions.ClientException as err: err_msg = (""Error retrieving environment for plan %s: %s"" % ( container, err)) LOG.exception(err_msg) raise RuntimeError(err_msg) set_tls_parameters(parameters, env) try: plan_utils.update_in_env(swift, env, 'parameter_defaults', parameters) except swiftexceptions.ClientException as err: err_msg = (""Error updating environment for plan %s: %s"" % ( container, err)) LOG.exception(err_msg) raise RuntimeError(err_msg) if not stack_is_new: try: LOG.debug('Checking for compatible neutron mechanism drivers') msg = update.check_neutron_mechanism_drivers(env, stack, swift, container) if msg: raise RuntimeError(msg) except swiftexceptions.ClientException as err: err_msg = (""Error getting template %s: %s"" % ( container, err)) LOG.exception(err_msg) raise RuntimeError(err_msg) # process all plan files and create or update a stack processed_data = templates.process_templates( swift, heat, container=container, prune_services=True ) stack_args = processed_data.copy() stack_args['timeout_mins'] = timeout_mins if stack_is_new: try: swift.copy_object( ""%s-swift-rings"" % container, ""swift-rings.tar.gz"", ""%s-swift-rings/%s-%d"" % ( container, ""swift-rings.tar.gz"", time.time())) swift.delete_object( ""%s-swift-rings"" % container, ""swift-rings.tar.gz"") except swiftexceptions.ClientException: pass LOG.info(""Perfoming Heat stack create"") try: return heat.stacks.create(**stack_args) except heat_exc.HTTPException as err: err_msg = ""Error during stack creation: %s"" % (err,) LOG.exception(err_msg) raise RuntimeError(err_msg) LOG.info(""Performing Heat stack update"") stack_args['existing'] = 'true' try: return heat.stacks.update(stack.id, **stack_args) except heat_exc.HTTPException as err: err_msg = ""Error during stack update: %s"" % (err,) LOG.exception(err_msg) raise RuntimeError(err_msg) def set_tls_parameters(parameters, env, local_ca_path=constants.LOCAL_CACERT_PATH): def get_camap(): return env['parameter_defaults'].get('CAMap', {}) def get_updated_camap_entry(entry_name, cacert, orig_camap): ca_map_entry = { entry_name: { 'content': cacert } } orig_camap.update(ca_map_entry) return orig_camap cacert_string = get_local_cacert(local_ca_path) if cacert_string: parameters['CAMap'] = get_updated_camap_entry( 'undercloud-ca', cacert_string, get_camap()) def get_local_cacert(local_ca_path): # Since the undercloud has TLS by default, we'll add the undercloud's # CA to be trusted by the overcloud. try: with open(local_ca_path, 'rb') as ca_file: return ca_file.read().decode('utf-8') except IOError: # If the file wasn't found it means that the undercloud's TLS # was explicitly disabled or another CA is being used. So we'll # let the user handle this. return None except Exception: raise ",11,2567
openstack%2Fpython-openstackclient~master~I3b2c0cb92b8a53cc1c0cefa3313b80f59c9e5835,openstack/python-openstackclient,master,I3b2c0cb92b8a53cc1c0cefa3313b80f59c9e5835,volume: Add 'volume group *' commands,MERGED,2021-06-03 17:01:39.000000000,2021-06-18 18:07:05.000000000,2021-06-18 18:05:39.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-03 17:01:39.000000000', 'files': ['releasenotes/notes/add-volume-group-commands-b121d6ec7da9779a.yaml', 'openstackclient/volume/v3/volume_group.py', 'doc/source/cli/commands.rst', 'doc/source/cli/data/cinder.csv', 'doc/source/cli/command-objects/volume-group.rst', 'openstackclient/tests/unit/volume/v3/test_volume_group.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c2e8523a98a0dd33e0203c47e94384420c14f9c', 'message': 'volume: Add \'volume group *\' commands\n\nThese mirror the \'cinder group-*\' commands, with arguments copied across\nessentially verbatim. The only significant departures are the\nreplacement of ""tenant"" terminology with ""project"" and the merging of\nthe various volume group replication action commands into the parent\nvolume group (e.g. \'openstack volume group set --enable-replication\'\ninstead of \'cinder group enable-replication\')\n\n  volume group create\n  volume group delete\n  volume group list\n  volume group show\n  volume group set\n  volume group failover\n\nChange-Id: I3b2c0cb92b8a53cc1c0cefa3313b80f59c9e5835\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,794642,4c2e8523a98a0dd33e0203c47e94384420c14f9c,7,2,1,15334,,,0,"volume: Add 'volume group *' commands

These mirror the 'cinder group-*' commands, with arguments copied across
essentially verbatim. The only significant departures are the
replacement of ""tenant"" terminology with ""project"" and the merging of
the various volume group replication action commands into the parent
volume group (e.g. 'openstack volume group set --enable-replication'
instead of 'cinder group enable-replication')

  volume group create
  volume group delete
  volume group list
  volume group show
  volume group set
  volume group failover

Change-Id: I3b2c0cb92b8a53cc1c0cefa3313b80f59c9e5835
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/42/794642/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-volume-group-commands-b121d6ec7da9779a.yaml', 'openstackclient/volume/v3/volume_group.py', 'doc/source/cli/commands.rst', 'doc/source/cli/data/cinder.csv', 'doc/source/cli/command-objects/volume-group.rst', 'openstackclient/tests/unit/volume/v3/test_volume_group.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py']",8,4c2e8523a98a0dd33e0203c47e94384420c14f9c,cinder-gaps," self.groups = mock.Mock() self.groups.resource_class = fakes.FakeResource(None, {}) self.group_types = mock.Mock() self.group_types.resource_class = fakes.FakeResource(None, {}) self.volume_types = mock.Mock() self.volume_types.resource_class = fakes.FakeResource(None, {})FakeVolumeType = volume_v2_fakes.FakeVolumeType class FakeVolumeGroup: """"""Fake one or more volume groups."""""" @staticmethod def create_one_volume_group(attrs=None): """"""Create a fake group. :param attrs: A dictionary with all attributes of group :return: A FakeResource object with id, name, status, etc. """""" attrs = attrs or {} group_type = attrs.pop('group_type', None) or uuid.uuid4().hex volume_types = attrs.pop('volume_types', None) or [uuid.uuid4().hex] # Set default attribute group_info = { 'id': uuid.uuid4().hex, 'status': random.choice([ 'available', ]), 'availability_zone': f'az-{uuid.uuid4().hex}', 'created_at': '2015-09-16T09:28:52.000000', 'name': 'first_group', 'description': f'description-{uuid.uuid4().hex}', 'group_type': group_type, 'volume_types': volume_types, 'volumes': [f'volume-{uuid.uuid4().hex}'], 'group_snapshot_id': None, 'source_group_id': None, 'project_id': f'project-{uuid.uuid4().hex}', } # Overwrite default attributes if there are some attributes set group_info.update(attrs) group = fakes.FakeResource( None, group_info, loaded=True) return group @staticmethod def create_volume_groups(attrs=None, count=2): """"""Create multiple fake groups. :param attrs: A dictionary with all attributes of group :param count: The number of groups to be faked :return: A list of FakeResource objects """""" groups = [] for n in range(0, count): groups.append(FakeVolumeGroup.create_one_volume_group(attrs)) return groups class FakeVolumeGroupType: """"""Fake one or more volume group types."""""" @staticmethod def create_one_volume_group_type(attrs=None): """"""Create a fake group type. :param attrs: A dictionary with all attributes of group type :return: A FakeResource object with id, name, description, etc. """""" attrs = attrs or {} # Set default attribute group_type_info = { 'id': uuid.uuid4().hex, 'name': f'group-type-{uuid.uuid4().hex}', 'description': f'description-{uuid.uuid4().hex}', 'is_public': random.choice([True, False]), 'group_specs': {}, } # Overwrite default attributes if there are some attributes set group_type_info.update(attrs) group_type = fakes.FakeResource( None, group_type_info, loaded=True) return group_type @staticmethod def create_volume_group_types(attrs=None, count=2): """"""Create multiple fake group types. :param attrs: A dictionary with all attributes of group type :param count: The number of group types to be faked :return: A list of FakeResource objects """""" group_types = [] for n in range(0, count): group_types.append( FakeVolumeGroupType.create_one_volume_group_type(attrs) ) return group_types",,1162,9
openstack%2Fpython-openstackclient~master~I6af66f966a221437ff79fabcb0b81fd38586fe67,openstack/python-openstackclient,master,I6af66f966a221437ff79fabcb0b81fd38586fe67,tests: Rename 'FakeType' -> 'FakeVolumeType',MERGED,2021-06-03 17:01:39.000000000,2021-06-18 18:03:59.000000000,2021-06-18 18:02:34.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-03 17:01:39.000000000', 'files': ['openstackclient/tests/unit/volume/v1/fakes.py', 'openstackclient/tests/unit/volume/v2/test_type.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/volume/v1/test_type.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_consistency_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5faa9ef8058a161a0637dceb91f213ac5ac39070', 'message': ""tests: Rename 'FakeType' -> 'FakeVolumeType'\n\nThere are more types than just volume types.\n\nChange-Id: I6af66f966a221437ff79fabcb0b81fd38586fe67\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,794641,5faa9ef8058a161a0637dceb91f213ac5ac39070,7,2,1,15334,,,0,"tests: Rename 'FakeType' -> 'FakeVolumeType'

There are more types than just volume types.

Change-Id: I6af66f966a221437ff79fabcb0b81fd38586fe67
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/41/794641/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v1/fakes.py', 'openstackclient/tests/unit/volume/v2/test_type.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/volume/v1/test_type.py', 'openstackclient/tests/unit/volume/v2/test_consistency_group.py', 'openstackclient/tests/unit/volume/v2/test_volume.py']",8,5faa9ef8058a161a0637dceb91f213ac5ac39070,cinder-gaps, volume_type = volume_fakes.FakeVolumeType.create_one_volume_type(), volume_type = volume_fakes.FakeType.create_one_type(),91,84
openstack%2Fpython-heatclient~master~If483ce49a04affbb88736c61a2b35319bffd6582,openstack/python-heatclient,master,If483ce49a04affbb88736c61a2b35319bffd6582,Update lower-constraints.txt to current py38,ABANDONED,2021-04-04 14:00:17.000000000,2021-06-18 17:45:29.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-04 14:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/07f1ff9227ebd61b75dd556659a7c03b819c1014', 'message': 'Fix lower constraints job\n\nUpdate constraints\n\nChange-Id: If483ce49a04affbb88736c61a2b35319bffd6582\n'}, {'number': 2, 'created': '2021-04-21 10:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/2ec28f2652fe66ced4ae3fb2e315fd7ffd5cfb98', 'message': 'Update lower-constraints.txt to current py38\n\nChange-Id: If483ce49a04affbb88736c61a2b35319bffd6582\n'}, {'number': 3, 'created': '2021-06-02 05:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/bf97b92b557e6e7863a61fee0b7efd3d7b47ff5c', 'message': 'Update lower-constraints.txt to current py38\n\nChange-Id: If483ce49a04affbb88736c61a2b35319bffd6582\n'}, {'number': 4, 'created': '2021-06-16 16:27:31.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/c3caf8ecc19d990a7ffc48064a7db1b3a6e20266', 'message': 'Update lower-constraints.txt to current py38\n\nChange-Id: If483ce49a04affbb88736c61a2b35319bffd6582\n'}]",2,784712,c3caf8ecc19d990a7ffc48064a7db1b3a6e20266,16,4,4,12404,,,0,"Update lower-constraints.txt to current py38

Change-Id: If483ce49a04affbb88736c61a2b35319bffd6582
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/12/784712/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,07f1ff9227ebd61b75dd556659a7c03b819c1014,fix-lower-constraints,install_command = pip install {opts} {packages},,46,46
openstack%2Fopenstack-helm-infra~master~If7359d4b7560f22c3b76f996ff78437b1365b041,openstack/openstack-helm-infra,master,If7359d4b7560f22c3b76f996ff78437b1365b041,Updating python in osd-common-ceph-disk.sh,ABANDONED,2021-03-25 05:07:06.000000000,2021-06-18 17:41:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-25 05:07:06.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bea4d13f34a52efbd4bc0d7c6947ec493e1b2da3', 'message': 'Updating python in osd-common-ceph-disk.sh\n\nChange-Id: If7359d4b7560f22c3b76f996ff78437b1365b041\n'}]",1,782897,bea4d13f34a52efbd4bc0d7c6947ec493e1b2da3,5,2,1,31561,,,0,"Updating python in osd-common-ceph-disk.sh

Change-Id: If7359d4b7560f22c3b76f996ff78437b1365b041
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/782897/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl'],1,bea4d13f34a52efbd4bc0d7c6947ec493e1b2da3,,"eval CRUSH_FAILURE_DOMAIN_TYPE=$(cat /etc/ceph/storage.json | python3 -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""failure_domain""]))') eval CRUSH_FAILURE_DOMAIN_NAME=$(cat /etc/ceph/storage.json | python3 -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""failure_domain_name""]))') eval CRUSH_FAILURE_DOMAIN_BY_HOSTNAME=$(cat /etc/ceph/storage.json | python3 -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""failure_domain_by_hostname""]))')eval DEVICE_CLASS=$(cat /etc/ceph/storage.json | python3 -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""device_class""]))')","eval CRUSH_FAILURE_DOMAIN_TYPE=$(cat /etc/ceph/storage.json | python -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""failure_domain""]))') eval CRUSH_FAILURE_DOMAIN_NAME=$(cat /etc/ceph/storage.json | python -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""failure_domain_name""]))') eval CRUSH_FAILURE_DOMAIN_BY_HOSTNAME=$(cat /etc/ceph/storage.json | python -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""failure_domain_by_hostname""]))')eval DEVICE_CLASS=$(cat /etc/ceph/storage.json | python -c 'import sys, json; data = json.load(sys.stdin); print(json.dumps(data[""device_class""]))')",4,4
openstack%2Fvalidations-libs~master~I13ba1b2eb0b11c2aded35b44c7fbae643210a269,openstack/validations-libs,master,I13ba1b2eb0b11c2aded35b44c7fbae643210a269,Fix VALIDATIONS_LOG_BASEDIR constant when $HOME is undefined,MERGED,2021-06-18 09:00:20.000000000,2021-06-18 17:35:12.000000000,2021-06-18 17:33:30.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 27978}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-18 09:00:20.000000000', 'files': ['validations_libs/constants.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0a7a45f9050f1682daabce49cb36963679d4a127', 'message': ""Fix VALIDATIONS_LOG_BASEDIR constant when $HOME is undefined\n\nWhen $HOME environment variable is not defined below definition\nraises TypeError:\n\n  VALIDATIONS_LOG_BASEDIR = os.path.join(os.environ.get('HOME'), 'validations')\n\nThis replaces it by using os.path.expanduser[1] function\n\n  VALIDATIONS_LOG_BASEDIR = os.path.expanduser('~/validations')\n\nThis issue has been detected by Tobiko CI jobs [2]:\n\n validations_libs/constants.py:25: in <module>\n    VALIDATIONS_LOG_BASEDIR = os.path.join(os.environ.get('HOME'), 'validations')\n posixpath.py:76: in join\n    a = os.fspath(a)\nE   TypeError: expected str, bytes or os.PathLike object, not NoneType\n\n[1] https://docs.python.org/3.6/library/os.path.html#os.path.expanduser\n[2] https://813cfae3a1563ccfbfb3-c77d7211b8c124ad183202888cc1ebe6.ssl.cf5.rackcdn.com/796831/4/check/devstack-tobiko-gate/67bcea8/tobiko_results_04_faults_faults.html\n\nChange-Id: I13ba1b2eb0b11c2aded35b44c7fbae643210a269\n""}]",0,797008,0a7a45f9050f1682daabce49cb36963679d4a127,10,7,1,27329,,,0,"Fix VALIDATIONS_LOG_BASEDIR constant when $HOME is undefined

When $HOME environment variable is not defined below definition
raises TypeError:

  VALIDATIONS_LOG_BASEDIR = os.path.join(os.environ.get('HOME'), 'validations')

This replaces it by using os.path.expanduser[1] function

  VALIDATIONS_LOG_BASEDIR = os.path.expanduser('~/validations')

This issue has been detected by Tobiko CI jobs [2]:

 validations_libs/constants.py:25: in <module>
    VALIDATIONS_LOG_BASEDIR = os.path.join(os.environ.get('HOME'), 'validations')
 posixpath.py:76: in join
    a = os.fspath(a)
E   TypeError: expected str, bytes or os.PathLike object, not NoneType

[1] https://docs.python.org/3.6/library/os.path.html#os.path.expanduser
[2] https://813cfae3a1563ccfbfb3-c77d7211b8c124ad183202888cc1ebe6.ssl.cf5.rackcdn.com/796831/4/check/devstack-tobiko-gate/67bcea8/tobiko_results_04_faults_faults.html

Change-Id: I13ba1b2eb0b11c2aded35b44c7fbae643210a269
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/08/797008/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,0a7a45f9050f1682daabce49cb36963679d4a127,fix-expand-user-path,# NOTE(fressi) The HOME folder environment variable may be undefined. VALIDATIONS_LOG_BASEDIR = os.path.expanduser('~/validations'),"VALIDATIONS_LOG_BASEDIR = os.path.join(os.environ.get('HOME'), 'validations')",2,1
openstack%2Ftripleo-heat-templates~master~Id74ba956cf29241c93849602ab05c21c1ccb2b06,openstack/tripleo-heat-templates,master,Id74ba956cf29241c93849602ab05c21c1ccb2b06,Add support for OVS DPDK pmd auto balance parameters.,MERGED,2021-05-08 13:04:04.000000000,2021-06-18 17:34:56.000000000,2021-06-18 17:33:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14972}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-08 13:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/480030871fd6f0f5e7cf9ab9c72d33920fa01e9d', 'message': 'Add support for OVS DPDK pmd auto balance parameters.\n\nThis patch adds 3 new THT parameters to configure OVS DPDK pmd\nauto balance feature, OvsPmdLoadThreshold (PMD load threshold)\nOvsPmdImprovementThreshold (variance in PMD improvement threshold)\nOvsPmdRebalInterval (minimum time between 2 consecutive\nPMD auto load balancing iterations).\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/790251\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\nChange-Id: Id74ba956cf29241c93849602ab05c21c1ccb2b06\n'}, {'number': 2, 'created': '2021-05-31 16:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f352d74abec7f8344a4b3893ea3478aa498f31dc', 'message': 'Add support for OVS DPDK pmd auto balance parameters.\n\nThis patch adds 3 new role specific THT parameters to configure OVS DPDK\npmd auto balance feature, OvsPmdLoadThreshold (PMD load threshold)\nOvsPmdImprovementThreshold (variance in PMD improvement threshold)\nOvsPmdRebalInterval (minimum time between 2 consecutive\nPMD auto load balancing iterations).\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/790251\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\nChange-Id: Id74ba956cf29241c93849602ab05c21c1ccb2b06\n'}, {'number': 3, 'created': '2021-06-17 13:39:33.000000000', 'files': ['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'releasenotes/notes/ovs-dpdk-pmd-params-55df11e67acb6736.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec444622dc2c002386893885378c3f6d8da0b184', 'message': 'Add support for OVS DPDK pmd auto balance parameters.\n\nThis patch adds 3 new role specific THT parameters to configure OVS DPDK\npmd auto balance feature, OvsPmdLoadThreshold (PMD load threshold)\nOvsPmdImprovementThreshold (variance in PMD improvement threshold)\nOvsPmdRebalInterval (minimum time between 2 consecutive\nPMD auto load balancing iterations).\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/790251\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\nChange-Id: Id74ba956cf29241c93849602ab05c21c1ccb2b06\n'}]",7,790333,ec444622dc2c002386893885378c3f6d8da0b184,45,8,3,14972,,,0,"Add support for OVS DPDK pmd auto balance parameters.

This patch adds 3 new role specific THT parameters to configure OVS DPDK
pmd auto balance feature, OvsPmdLoadThreshold (PMD load threshold)
OvsPmdImprovementThreshold (variance in PMD improvement threshold)
OvsPmdRebalInterval (minimum time between 2 consecutive
PMD auto load balancing iterations).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/790251
Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Id74ba956cf29241c93849602ab05c21c1ccb2b06
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/790333/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'releasenotes/notes/ovs-dpdk-pmd-params-55df11e67acb6736.yaml']",2,480030871fd6f0f5e7cf9ab9c72d33920fa01e9d,pmd_parameters,"--- features: - Add support for OVS DPDK pmd auto balance parameters. This feature adds 3 new THT parameters to set pmd-auto-lb-load-threshold, pmd-auto-lb-improvement-threshold, and pmd-auto-lb-rebal-interval in OVS through OvsPmdLoadThreshold, OvsPmdImprovementThreshold and OvsPmdRebalInterval respectively. ",,53,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0d43f42c0d0b092218f78b32ac3bfd198c988de0,openstack/tripleo-ansible,stable/wallaby,I0d43f42c0d0b092218f78b32ac3bfd198c988de0,Refresh instance after adding allocation,MERGED,2021-06-06 19:49:10.000000000,2021-06-18 17:34:54.000000000,2021-06-18 17:33:27.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-06 19:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e818822bca1050989237902f651b2e5b269e060', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n(cherry picked from commit f661f34c90b747772219f8a68a65128dafe871e1)\n'}, {'number': 2, 'created': '2021-06-16 13:37:21.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7186bf54b94b541f48ff84482108341c9cf037f', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n(cherry picked from commit f661f34c90b747772219f8a68a65128dafe871e1)\n'}]",0,795002,e7186bf54b94b541f48ff84482108341c9cf037f,13,4,2,24245,,,0,"Refresh instance after adding allocation

When the baremetal deployment workflow does the
""Check Existing"" task it will create a baremetal
allocation for provisioned nodes that does not
already hae one.

After creating the allocation, refresh the instance
to ensure the hostname is correctly represented in
the object returned in the list of ""found"" nodes.

Closes-Bug: #1929555
Change-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0
(cherry picked from commit f661f34c90b747772219f8a68a65128dafe871e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/795002/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,3e818822bca1050989237902f651b2e5b269e060,bug/1929555-stable/wallaby, # Refresh the instance after adding the allocation # See: https://bugs.launchpad.net/tripleo/+bug/1929555 instance = provisioner.show_instance(instance.uuid),,8,2
openstack%2Fosc-placement~master~I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6,openstack/osc-placement,master,I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6,default to max version when no session,MERGED,2021-06-02 16:56:07.000000000,2021-06-18 17:31:44.000000000,2021-06-18 17:30:24.000000000,"[{'_account_id': 9708}, {'_account_id': 10273}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 16:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/663b6bb249a1a60852440c08bc1999565aaafb08', 'message': '[WIP] default to max version when no session\n\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}, {'number': 2, 'created': '2021-06-02 16:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5ab6c57efcc952e9fbb452912dd65a5a48a38542', 'message': '[WIP] default to max version when no session\n\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}, {'number': 3, 'created': '2021-06-02 17:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6b522905ad565397b15b052ce8a5d4bc4febd8c6', 'message': '[WIP] default to max version when no session\n\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}, {'number': 4, 'created': '2021-06-02 17:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/bd13bb30fc568c67ad680c48596092f09623e08c', 'message': 'default to max version when no session\n\nThis change fixes a regresssion intoduced\nby the supprot for microverion auto-negotiation\nwhich resulted in the inablity to generate\nbash autocompltion.\n\nWhen the client_manager does not have a api session established\nsuch as when being invoked for auto completion this\nchange modifies get_version to return version.MAX_VERSION_NO_GAP\n\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}, {'number': 5, 'created': '2021-06-02 17:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3e14ebc9388a06619bbd0e494acc9890aca66c79', 'message': 'default to max version when no session\n\nThis change fixes a regresssion intoduced\nby the supprot for microverion auto-negotiation\nwhich resulted in the inablity to generate\nbash autocompltion.\n\nWhen the client_manager does not have a api session established\nsuch as when being invoked for auto completion this\nchange modifies get_version to return version.MAX_VERSION_NO_GAP\n\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}, {'number': 6, 'created': '2021-06-09 14:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f8c0428f5da00d78908e57a1ee391f04100bc283', 'message': 'default to max version when no session\n\nThis change fixes a regresssion intoduced\nby the supprot for microverion auto-negotiation\nwhich resulted in the inablity to generate\nbash autocompltion.\n\nWhen the client_manager does not have a api session established\nsuch as when being invoked for auto completion this\nchange modifies get_version to return version.MAX_VERSION_NO_GAP\n\nStory: #2008958\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}, {'number': 7, 'created': '2021-06-09 14:39:12.000000000', 'files': ['osc_placement/version.py', 'osc_placement/tests/unit/test_version.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/281ace20df8bd01f4cb8ae29c39d80e754a9d0a3', 'message': 'default to max version when no session\n\nThis change fixes a regresssion intoduced\nby the supprot for microverion auto-negotiation\nwhich resulted in the inablity to generate\nbash autocompltion.\n\nWhen the client_manager does not have a api session established\nsuch as when being invoked for auto completion this\nchange modifies get_version to return version.MAX_VERSION_NO_GAP\n\nStory: #2008958\nTask: #42592\nChange-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6\n'}]",4,794276,281ace20df8bd01f4cb8ae29c39d80e754a9d0a3,23,4,7,11604,,,0,"default to max version when no session

This change fixes a regresssion intoduced
by the supprot for microverion auto-negotiation
which resulted in the inablity to generate
bash autocompltion.

When the client_manager does not have a api session established
such as when being invoked for auto completion this
change modifies get_version to return version.MAX_VERSION_NO_GAP

Story: #2008958
Task: #42592
Change-Id: I90e1e3caeaa22ff51df515226b3ac5c7b64c88b6
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/76/794276/2 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/version.py'],1,663b6bb249a1a60852440c08bc1999565aaafb08,fix-bash-completion, if not obj.app.client_manager.session: return SUPPORTED_VERSIONS[-1],,2,0
openstack%2Ftripleo-heat-templates~master~I59bfe69dbb5f3d525ac6f6d655577d24036328c0,openstack/tripleo-heat-templates,master,I59bfe69dbb5f3d525ac6f6d655577d24036328c0,OVN DBs clustering,MERGED,2021-02-12 20:13:41.000000000,2021-06-18 17:04:11.000000000,2021-06-18 17:02:40.000000000,"[{'_account_id': 5756}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11952}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-12 20:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8b04d29f67467967e35e747050cc0bb761018b3', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 2, 'created': '2021-02-12 23:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eff304bc2abea447cff863e0891f97f9296f7da4', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 3, 'created': '2021-02-22 18:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/314804cf64608558b3c155cde1cc24ee1ea6c6c0', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 4, 'created': '2021-02-23 11:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/577286f4406cab2279f01b38fe25ea2d23ebd27d', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 5, 'created': '2021-02-25 11:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34232d05d4fd8545c8076f0f9e3eb3853a7b3da5', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 6, 'created': '2021-02-25 17:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a030dfab8935032958ae4d185a4303088034a1e', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 7, 'created': '2021-02-25 21:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35c7312d85b5bc15028c89e5fd1057f608d2e8c8', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 8, 'created': '2021-03-01 20:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a35b02439c1897510d405903add56df1ea917707', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 9, 'created': '2021-03-02 11:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eaa27dd76438907ad05d635e1195e976984f943a', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 10, 'created': '2021-03-03 18:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2c0fcd88ceda3dbe5d1c7ddec385259b6c6be35', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 11, 'created': '2021-03-03 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be75c54b16a38d1bfd705f9ca047c611f47f1ee2', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 12, 'created': '2021-03-06 08:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/026efb78414d48d382d5d01f24ece2be49f9a67e', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 13, 'created': '2021-03-06 08:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94db6ed9ec85c8498d9411bd073631806638934b', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 14, 'created': '2021-03-06 20:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf6087f50b9133500ff2fa19e85740e9bf86654d', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 15, 'created': '2021-03-06 23:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e99ec4e0a65be39ab84823c0c30036398c1f25e', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 16, 'created': '2021-03-07 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a5adc70a197040d9fcd8034a75f78e211c39258', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779094\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 17, 'created': '2021-03-07 18:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c0358e6f86c4b23d56d112a919311e463ce4099', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779094\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 18, 'created': '2021-03-08 17:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f2a8808d95c16e3982cc280273aca6bfb90b5bf', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779094\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 19, 'created': '2021-03-09 20:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b3b1e1eaf31b5d9adfe0eacdeaf9a768fa5fea7', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779094\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 20, 'created': '2021-03-12 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcfea7cf23ddaff5bf5d366907ef25227e5f0747', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 21, 'created': '2021-03-12 17:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3b7fd0eb83f7213a84c0a08f06ff98221d2722f', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 22, 'created': '2021-03-15 10:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6206b07d29317fe5c97f1c59cd67ee42c7e0bd24', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 23, 'created': '2021-03-16 08:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4f9c416e8d6e326665556d2a3e0ab5af588f653', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 24, 'created': '2021-03-16 12:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e15e3c4c148d61562ee915c4592de145a705d47', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 25, 'created': '2021-03-16 18:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe4fc99f231bb853deac4c2433853c7dea2d13c4', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 26, 'created': '2021-03-17 06:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c08092959cb140dce2a711e887db76736ec1280', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 27, 'created': '2021-03-17 08:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ffafcea35baae95a80dae96acf4d53875f282e2', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 28, 'created': '2021-04-11 08:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0cb37225a1ef67268f9e49edb0562f75e22ca15', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 29, 'created': '2021-04-11 09:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46149fe4b903f9d5d6f9b6288cc128d955f86d3b', 'message': 'WIP: OVN DB clustering\n\nClustering the two OVN databases increases reliability. The cluster acts\nin multi-active mode.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 30, 'created': '2021-04-13 09:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b90ffdfa5cca2c6abbe5b98fb2802aecdef1fce', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 31, 'created': '2021-04-14 08:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/117b5817b7f60f40b310f133711850ed98625ea5', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778066\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 32, 'created': '2021-04-21 12:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0741525cfaea15355bf52a247d97d2ceb86cb73c', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 33, 'created': '2021-06-07 16:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8480f9a361b84dd211a1c59e8051feb139afa802', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795155\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 34, 'created': '2021-06-07 16:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb7e116ac1ac8ef66d3eefd1a5a3482a039b1a64', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795155\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}, {'number': 35, 'created': '2021-06-15 06:06:32.000000000', 'files': ['releasenotes/notes/add-ovn-dbs-cluster-support-6193cba5be432865.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/baf4a16149d2a31ccb331cc96b89871e71c00734', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795155\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n'}]",5,775444,baf4a16149d2a31ccb331cc96b89871e71c00734,158,11,35,6469,,,0,"OVN DBs clustering

We introduce support for running both the NB and SB OVN databases in
clustered mode. This OVN DBs clustered mode is based on OVNs own
clustering protocol and does not rely on pacemaker.

Clustering the two OVN databases increases reliability. The cluster
works in active-active mode and has the potential to be more
resilient and performant.

See
https://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model
for more information.

Co-Authored-By: Michele Baldessari <michele@acksyn.org>

Related-Bug: #1931133
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795155

Change-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/775444/15 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/docker-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/ovn/ovn-dbs-cluster-puppet.yaml']",9,b8b04d29f67467967e35e747050cc0bb761018b3,ovn-cluster,"heat_template_version: rocky description: > OpenStack containerized OVN DBs service in cluster mode parameters: EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json OVNNorthboundServerPort: description: Port of the OVN Northbound DB server type: number default: 6641 OVNSouthboundServerPort: description: Port of the OVN Southbound DB server type: number default: 6642 ConfigDebug: default: false description: Whether to run config management (e.g. Puppet) in debug mode. type: boolean ContainerCli: type: string default: 'podman' description: CLI tool used to manage containers. constraints: - allowed_values: ['docker', 'podman'] DeployIdentifier: default: '' type: string description: > Setting this to a unique value will re-run any deployment tasks which perform configuration on a Heat stack-update. EnableInternalTLS: type: boolean default: false InternalTLSCAFile: default: '/etc/ipa/ca.crt' type: string description: Specifies the default CA cert to use if TLS is used for services in the internal network. CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. OvnDBSCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service conditions: puppet_debug_enabled: {get_param: ConfigDebug} docker_enabled: {equals: [{get_param: ContainerCli}, 'docker']} internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} key_size_override_unset: {equals: [{get_param: OvnDBSCertificateKeySize}, '']} resources: ContainersCommon: type: ../containers-common.yaml OVNDbsBase: type: ./ovn-dbs-container-puppet.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} OVNNorthboundServerPort: {get_param: OVNNorthboundServerPort} OVNSouthboundServerPort: {get_param: OVNSouthboundServerPort} outputs: role_data: description: Role data for the OVN Dbs HA role. value: service_name: ovn_dbs firewall_rules: '121 OVN DB server ports': proto: 'tcp' dport: # Control port for pcmk remote bundle - 3125 - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort} config_settings: map_merge: - get_attr: [OVNDbsBase, role_data, config_settings] - tripleo::haproxy::ovn_dbs_manage_lb: false - if: - internal_tls_enabled - generate_service_certificates: true tripleo::profile::base::neutron::agents::ovn::protocol: 'ssl' ovn_dbs_certificate_specs: service_certificate: '/etc/pki/tls/certs/ovn_dbs.crt' service_key: '/etc/pki/tls/private/ovn_dbs.key' hostname: str_replace: template: ""%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} principal: str_replace: template: ""ovn_dbs/%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: OvnDBSCertificateKeySize} - {} - ovn::northd::dbs_cluster_remote_addr: ""%{hiera('ovn_dbs_bootstrap_node_ip')}"" - ovn::northd::dbs_cluster_local_addr: str_replace: template: ""%{hiera('NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} service_config_settings: {} # BEGIN DOCKER SETTINGS metadata_settings: if: - internal_tls_enabled - - service: ovn_dbs network: {get_param: [ServiceNetMap, OvnDbsNetwork]} type: vip - service: ovn_dbs network: {get_param: [ServiceNetMap, OvnDbsNetwork]} type: node - null host_prep_tasks: - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" with_items: - { 'path': /var/log/containers/openvswitch, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/openvswitch/ovn, 'setype': container_file_t } update_tasks: - name: Tear-down non-HA and pacemaker ovn-dbs containers when: - step|int == 1 block: &ovn_dbs_teardown_nonha - name: Remove non-HA and pacemaker ovn-dbs containers include_role: name: tripleo_container_rm vars: tripleo_container_cli: ""{{ container_cli }}"" tripleo_containers_to_rm: - ovn_north_db_server - ovn_south_db_server - ovn_northd - ovn_dbs upgrade_tasks: - name: Tear-down non-HA and pacemaker ovn-dbs container when: - step|int == 0 block: *ovn_dbs_teardown_nonha ",,194,8
openstack%2Fopenstack-ansible-os_neutron~master~I4b11d3484c99e538ecd6f7d05570486b5f59c782,openstack/openstack-ansible-os_neutron,master,I4b11d3484c99e538ecd6f7d05570486b5f59c782,Add ovn clustering support,MERGED,2021-06-02 16:17:29.000000000,2021-06-18 17:02:34.000000000,2021-06-18 17:01:10.000000000,"[{'_account_id': 13095}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-02 16:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/504e5dc857503ec0abf092594ecf32b83b8006a3', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 2, 'created': '2021-06-02 16:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/10371c8cc7315b139452d00c937ae3d5bd9a492a', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 3, 'created': '2021-06-03 18:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/bcb73f87eab040274dd8d583eb1d5674bb69ee9d', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 4, 'created': '2021-06-03 18:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/290614358ff11408ffc17a2d89b1a080c8733258', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 5, 'created': '2021-06-03 18:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ca1b2578e1fe5290114d62720edc24e21b90384b', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 6, 'created': '2021-06-07 14:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/268d716ac0cc5a45ec70cc54c085f1cd957b8320', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 7, 'created': '2021-06-08 04:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ae044e9bfda957d60af3135b8ed494ec3199ed56', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 8, 'created': '2021-06-08 04:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/13cca754f6b05a7c7802b375a771664ffcd2ca14', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 9, 'created': '2021-06-09 12:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/722b270594da2ca8e26ab1bd2a49f59764a5d1ed', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 10, 'created': '2021-06-10 16:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/48b168f1eec37603a33b9a7e598f08f500f10853', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 11, 'created': '2021-06-10 16:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a3276dee10e930875a83f988ef9d0ac4ee365cb5', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 12, 'created': '2021-06-10 16:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/50894ba23f53894538fd8d65f052dd6a8730e237', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 13, 'created': '2021-06-10 16:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/376f1c82d4cc1f728997eba146b401636c959766', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 14, 'created': '2021-06-10 19:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/455afa10d7888b7b4d994f590a4a5f5c3bcbd1c4', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 15, 'created': '2021-06-10 19:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3d821dfc0e3c2bb8c9cbe9cca250f19f0eeeb7d8', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 16, 'created': '2021-06-10 19:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e634a53293ab617f8c3596af36d564033a5fd4ca', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}, {'number': 17, 'created': '2021-06-15 18:59:06.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml', 'templates/ovn-central.j2', 'handlers/main.yml', 'defaults/main.yml', 'tasks/providers/ovn_cluster_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d6198cdd32053e9e14ba7d163e31b5cbed2cdb10', 'message': 'Add ovn clustering support\n\nThis patch will add ovn clustering support, Basically it will use first\nnode to start cluster and then new nodes will use leader node to join\ncluster.\n\nChange-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782\n'}]",27,794266,d6198cdd32053e9e14ba7d163e31b5cbed2cdb10,66,5,17,28752,,,0,"Add ovn clustering support

This patch will add ovn clustering support, Basically it will use first
node to start cluster and then new nodes will use leader node to join
cluster.

Change-Id: I4b11d3484c99e538ecd6f7d05570486b5f59c782
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/66/794266/17 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/providers/setup_ovs_ovn.yml', 'defaults/main.yml']",2,504e5dc857503ec0abf092594ecf32b83b8006a3,osa/neutron-ovn-cluster,"neutron_ovn_host_group: ""neutron_ovn_northd"" neutron_ovn_primary_cluster_node: ""{{ hostvars[groups[neutron_ovn_host_group][0]]['ansible_facts']['hostname'] }}""",,3,10
openstack%2Fpython-openstackclient~master~I328d5c981cb32b2ee9a4b1bd43aa36b22347ff63,openstack/python-openstackclient,master,I328d5c981cb32b2ee9a4b1bd43aa36b22347ff63,volume: Add missing 'volume backup *' options,MERGED,2021-06-03 17:01:39.000000000,2021-06-18 16:57:30.000000000,2021-06-18 16:56:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-03 17:01:39.000000000', 'files': ['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'doc/source/cli/data/cinder.csv', 'releasenotes/notes/add-missing-volume-backup-opts-b9246aded87427ce.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/524af4a23efde62989ad55ecebabff0b50395308', 'message': ""volume: Add missing 'volume backup *' options\n\nAdd a couple of missing options to each command:\n\n  volume backup create\n    --no-incremental\n    --property\n    --availability-zone\n\n  volume backup set\n    --property\n\nMost of these are version dependent so we add the relevant version\nchecks as part of this work. While we're here, we also make the\nformatting a little easier on the eye in places.\n\nChange-Id: I328d5c981cb32b2ee9a4b1bd43aa36b22347ff63\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,794640,524af4a23efde62989ad55ecebabff0b50395308,7,2,1,15334,,,0,"volume: Add missing 'volume backup *' options

Add a couple of missing options to each command:

  volume backup create
    --no-incremental
    --property
    --availability-zone

  volume backup set
    --property

Most of these are version dependent so we add the relevant version
checks as part of this work. While we're here, we also make the
formatting a little easier on the eye in places.

Change-Id: I328d5c981cb32b2ee9a4b1bd43aa36b22347ff63
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/40/794640/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'doc/source/cli/data/cinder.csv', 'releasenotes/notes/add-missing-volume-backup-opts-b9246aded87427ce.yaml']",4,524af4a23efde62989ad55ecebabff0b50395308,cinder-gaps,"--- features: - | Add ``--no-incremental``, ``--property`` and ``--availability-zone`` options to ``volume backup create`` command, allowing users to request a non-incremental backup, set a metadata property on the created backup, and set an availability zone on the created backup, respectively. - | Add ``--property`` option the ``volume backup set`` command to set a metadata property on an existing backup. fixes: - | The ``--name`` and ``--description`` options of the ``volume backup set`` command will now verify the version requested on the client side. Previously this would fail on the server side. ",,337,54
openstack%2Fcharm-gnocchi~master~Ia87c1c6a6f5023a51c1590f000e0178085b4fb33,openstack/charm-gnocchi,master,Ia87c1c6a6f5023a51c1590f000e0178085b4fb33,Add impish to metadata.yaml,MERGED,2021-06-03 09:12:37.000000000,2021-06-18 16:55:17.000000000,2021-06-18 16:55:17.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:12:37.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/ce23b7957ea969c92a57aa193a23c4af510e0296', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ia87c1c6a6f5023a51c1590f000e0178085b4fb33\n'}]",0,794500,ce23b7957ea969c92a57aa193a23c4af510e0296,8,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ia87c1c6a6f5023a51c1590f000e0178085b4fb33
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/00/794500/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,ce23b7957ea969c92a57aa193a23c4af510e0296,charm-metadata-impish,- impish,,1,0
openstack%2Fpython-openstackclient~master~I64aa0b4a8d4468baa8c63e5e30ee31de68df999d,openstack/python-openstackclient,master,I64aa0b4a8d4468baa8c63e5e30ee31de68df999d,volume: Add 'volume message *' commands,MERGED,2021-03-19 11:58:20.000000000,2021-06-18 16:55:08.000000000,2021-06-18 16:52:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-19 11:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3aba1f57896415275c3bc81ae63d57c6d325a3dd', 'message': ""volume: Add 'volumn message *' commands\n\nThis patch implements the necessary commands to utilize the Messages API\nintroduced in Cinder API version 3.3. Version 3.5 built upon this by\nimplementing pagination support for these commands which is present in\nthis patch as well.\n\n  volume message get <ID>\n  volume message list\n  volume message delete <ID>\n\nChange-Id: I64aa0b4a8d4468baa8c63e5e30ee31de68df999d\n""}, {'number': 2, 'created': '2021-03-19 15:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9f3e322f32dc0e257fd9c21c7b8d01982a1a5283', 'message': ""volume: Add 'volumn message *' commands\n\nThis patch implements the necessary commands to utilize the Messages API\nintroduced in Cinder API version 3.3. Version 3.5 built upon this by\nimplementing pagination support for these commands which is present in\nthis patch as well.\n\n  volume message get <ID>\n  volume message list\n  volume message delete <ID>\n\nChange-Id: I64aa0b4a8d4468baa8c63e5e30ee31de68df999d\n""}, {'number': 3, 'created': '2021-03-19 15:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cf9c133edfaf6e4a156c886f524fe502bfcd3720', 'message': ""volume: Add 'volume message *' commands\n\nThis patch implements the necessary commands to utilize the Messages API\nintroduced in Cinder API version 3.3. Version 3.5 built upon this by\nimplementing pagination support for these commands which is present in\nthis patch as well.\n\n  volume message get <ID>\n  volume message list\n  volume message delete <ID>\n\nChange-Id: I64aa0b4a8d4468baa8c63e5e30ee31de68df999d\n""}, {'number': 4, 'created': '2021-05-26 10:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/05d47b866b61f36f36482d082ec1efffdeaef3dd', 'message': ""volume: Add 'volume message *' commands\n\nThis patch implements the necessary commands to utilize the Messages API\nintroduced in Cinder API version 3.3. Version 3.5 built upon this by\nimplementing pagination support for these commands which is present in\nthis patch as well.\n\n  volume message get <ID>\n  volume message list\n  volume message delete <ID>\n\nChange-Id: I64aa0b4a8d4468baa8c63e5e30ee31de68df999d\n""}, {'number': 5, 'created': '2021-06-03 17:01:39.000000000', 'files': ['openstackclient/volume/v3/volume_message.py', 'doc/source/cli/commands.rst', 'openstackclient/tests/unit/volume/v3/test_volume_message.py', 'doc/source/cli/data/cinder.csv', 'releasenotes/notes/add-volume-message-commands-89a590a1549c333e.yaml', 'setup.cfg', 'doc/source/cli/command-objects/volume-message.rst', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0eddab36e52e813e2329ac10044fa4f67830efec', 'message': ""volume: Add 'volume message *' commands\n\nThis patch implements the necessary commands to utilize the Messages API\nintroduced in Cinder API version 3.3. Version 3.5 built upon this by\nimplementing pagination support for these commands which is present in\nthis patch as well.\n\n  volume message get\n  volume message list\n  volume message delete\n\nChange-Id: I64aa0b4a8d4468baa8c63e5e30ee31de68df999d\n""}]",8,781637,0eddab36e52e813e2329ac10044fa4f67830efec,17,2,5,15334,,,0,"volume: Add 'volume message *' commands

This patch implements the necessary commands to utilize the Messages API
introduced in Cinder API version 3.3. Version 3.5 built upon this by
implementing pagination support for these commands which is present in
this patch as well.

  volume message get
  volume message list
  volume message delete

Change-Id: I64aa0b4a8d4468baa8c63e5e30ee31de68df999d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/37/781637/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v3/test_message.py', 'doc/source/cli/commands.rst', 'releasenotes/notes/add-volume-message-commands-89a590a1549c333e.yaml', 'setup.cfg', 'doc/source/cli/command-objects/volume-message.rst', 'openstackclient/volume/v3/message.py', 'openstackclient/tests/unit/volume/v3/fakes.py']",7,3aba1f57896415275c3bc81ae63d57c6d325a3dd,cinder-gaps,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import random from unittest import mock import uuid from openstackclient.tests.unit import fakes from openstackclient.tests.unit.identity.v3 import fakes as identity_fakes from openstackclient.tests.unit import utils class FakeVolumeClient(object): def __init__(self, **kwargs): self.auth_token = kwargs['token'] self.management_url = kwargs['endpoint'] self.messages = mock.Mock() self.messages.resource_class = fakes.FakeResource(None, {}) class TestVolume(utils.TestCommand): def setUp(self): super().setUp() self.app.client_manager.volume = FakeVolumeClient( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN ) self.app.client_manager.identity = identity_fakes.FakeIdentityv3Client( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN ) class FakeMessage(object): """"""Fake one or more messages."""""" @staticmethod def create_one_message(attrs=None): """"""Create a fake message. :param attrs: A dictionary with all attributes of message :return: A FakeResource object with id, name, status, etc. """""" attrs = attrs or {} # Set default attribute message_info = { 'created_at': '2016-02-11T11:17:37.000000', 'event_id': f'VOLUME_{random.randint(1, 999999):06d}', 'guaranteed_until': '2016-02-11T11:17:37.000000', 'id': uuid.uuid4().hex, 'message_level': 'ERROR', 'request_id': f'req-{uuid.uuid4().hex}', 'resource_type': 'VOLUME', 'resource_uuid': uuid.uuid4().hex, 'user_message': f'message-{uuid.uuid4().hex}', } # Overwrite default attributes if there are some attributes set message_info.update(attrs) message = fakes.FakeResource( None, message_info, loaded=True) return message @staticmethod def create_messages(attrs=None, count=2): """"""Create multiple fake messages. :param attrs: A dictionary with all attributes of message :param count: The number of messages to be faked :return: A list of FakeResource objects """""" messages = [] for n in range(0, count): messages.append(FakeMessage.create_one_message(attrs)) return messages @staticmethod def get_messages(messages=None, count=2): """"""Get an iterable MagicMock object with a list of faked messages. If messages list is provided, then initialize the Mock object with the list. Otherwise create one. :param messages: A list of FakeResource objects faking messages :param count: The number of messages to be faked :return An iterable Mock object with side_effect set to a list of faked messages """""" if messages is None: messages = FakeMessage.create_messages(count) return mock.Mock(side_effect=messages) ",,578,0
openstack%2Fpython-openstackclient~master~If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42,openstack/python-openstackclient,master,If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42,volume: Add 'volume attachment *' commands,MERGED,2021-05-25 11:32:54.000000000,2021-06-18 16:53:44.000000000,2021-06-18 16:51:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-25 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/362ccad58d53c24f9d1f4e8f0dd27c61ff44f55c', 'message': 'volume: Add \'attachment *\' commands\n\nThese mirror the \'cinder attachment-*\' commands, with arguments copied\nacross essentially verbatim. The only significant departure is the\nreplacement of ""tenant"" terminology with ""project"".\n\nFull support for filtering is deferred for now since that\'s a more\ncomplicated change that requires additional commands be added first.\nTODOs are included to this effect.\n\nChange-Id: If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-05-26 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f4ad88bd471bf34278af1b123ce309f5e16888a7', 'message': 'volume: Add \'attachment *\' commands\n\nThese mirror the \'cinder attachment-*\' commands, with arguments copied\nacross essentially verbatim. The only significant departure is the\nreplacement of ""tenant"" terminology with ""project"".\n\nFull support for filtering is deferred for now since that\'s a more\ncomplicated change that requires additional commands be added first.\nTODOs are included to this effect.\n\nChange-Id: If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2021-05-26 10:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/514bf42748b01a9af97ff3af27cf9e1cca6b7d49', 'message': 'volume: Add \'attachment *\' commands\n\nThese mirror the \'cinder attachment-*\' commands, with arguments copied\nacross essentially verbatim. The only significant departure is the\nreplacement of ""tenant"" terminology with ""project"".\n\n  volume attachment create\n  volume attachment delete\n  volume attachment list\n  volume attachment complete\n  volume attachment set\n  volume attachment show\n\nFull support for filtering is deferred for now since that\'s a more\ncomplicated change that requires additional commands be added first.\nTODOs are included to this effect.\n\nChange-Id: If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2021-06-03 17:01:39.000000000', 'files': ['openstackclient/volume/v3/volume_attachment.py', 'doc/source/cli/commands.rst', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'doc/source/cli/data/cinder.csv', 'setup.cfg', 'releasenotes/notes/add-volume-attachment-commands-db2974c6460fa3bc.yaml', 'doc/source/cli/command-objects/volume-attachment.rst', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6dc94e1fb85595653dcdd24185c914b9df1741df', 'message': 'volume: Add \'volume attachment *\' commands\n\nThese mirror the \'cinder attachment-*\' commands, with arguments copied\nacross essentially verbatim. The only significant departure is the\nreplacement of ""tenant"" terminology with ""project"".\n\n  volume attachment create\n  volume attachment delete\n  volume attachment list\n  volume attachment complete\n  volume attachment set\n  volume attachment show\n\nFull support for filtering is deferred for now since that\'s a more\ncomplicated change that requires additional commands be added first.\nTODOs are included to this effect.\n\nChange-Id: If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,792951,6dc94e1fb85595653dcdd24185c914b9df1741df,17,2,4,15334,,,0,"volume: Add 'volume attachment *' commands

These mirror the 'cinder attachment-*' commands, with arguments copied
across essentially verbatim. The only significant departure is the
replacement of ""tenant"" terminology with ""project"".

  volume attachment create
  volume attachment delete
  volume attachment list
  volume attachment complete
  volume attachment set
  volume attachment show

Full support for filtering is deferred for now since that's a more
complicated change that requires additional commands be added first.
TODOs are included to this effect.

Change-Id: If47c2b56fe65ee2cee07c000d6ae3688d5ef3b42
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/51/792951/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v3/volume_attachment.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'setup.cfg', 'doc/source/cli/command-objects/volume-attachment.rst', 'openstackclient/tests/unit/volume/v3/fakes.py']",5,362ccad58d53c24f9d1f4e8f0dd27c61ff44f55c,cinder-gaps,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import random from unittest import mock import uuid from cinderclient import api_versions from openstackclient.tests.unit.compute.v2 import fakes as compute_fakes from openstackclient.tests.unit import fakes from openstackclient.tests.unit.identity.v3 import fakes as identity_fakes from openstackclient.tests.unit import utils from openstackclient.tests.unit.volume.v2 import fakes as volume_v2_fakes class FakeVolumeClient(object): def __init__(self, **kwargs): self.auth_token = kwargs['token'] self.management_url = kwargs['endpoint'] self.api_version = api_versions.APIVersion('3.0') self.attachments = mock.Mock() self.attachments.resource_class = fakes.FakeResource(None, {}) self.volumes = mock.Mock() self.volumes.resource_class = fakes.FakeResource(None, {}) class TestVolume(utils.TestCommand): def setUp(self): super(TestVolume, self).setUp() self.app.client_manager.volume = FakeVolumeClient( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN ) self.app.client_manager.identity = identity_fakes.FakeIdentityv3Client( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN ) self.app.client_manager.compute = compute_fakes.FakeComputev2Client( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN, ) # TODO(stephenfin): Check if the responses are actually the same FakeVolume = volume_v2_fakes.FakeVolume class FakeVolumeAttachment: """"""Fake one or more volume attachments."""""" @staticmethod def create_one_volume_attachment(attrs=None): """"""Create a fake volume attachment. :param attrs: A dictionary with all attributes of volume attachment :return: A FakeResource object with id, status, etc. """""" attrs = attrs or {} attachment_id = uuid.uuid4().hex volume_id = attrs.pop('volume_id', None) or uuid.uuid4().hex server_id = attrs.pop('instance', None) or uuid.uuid4().hex # Set default attribute attachment_info = { 'id': attachment_id, 'volume_id': volume_id, 'instance': server_id, 'status': random.choice([ 'attached', 'attaching', 'detached', 'reserved', 'error_attaching', 'error_detaching', 'deleted', ]), 'attach_mode': random.choice(['ro', 'rw']), 'attached_at': '2015-09-16T09:28:52.000000', 'detached_at': None, 'connection_info': { 'access_mode': 'rw', 'attachment_id': attachment_id, 'auth_method': 'CHAP', 'auth_password': 'AcUZ8PpxLHwzypMC', 'auth_username': '7j3EZQWT3rbE6pcSGKvK', 'cacheable': False, 'driver_volume_type': 'iscsi', 'encrypted': False, 'qos_specs': None, 'target_discovered': False, 'target_iqn': f'iqn.2010-10.org.openstack:volume-{attachment_id}', 'target_lun': '1', 'target_portal': '192.168.122.170:3260', 'volume_id': volume_id, }, } # Overwrite default attributes if there are some attributes set attachment_info.update(attrs) attachment = fakes.FakeResource( None, attachment_info, loaded=True) return attachment @staticmethod def create_volume_attachments(attrs=None, count=2): """"""Create multiple fake volume attachments. :param attrs: A dictionary with all attributes of volume attachment :param count: The number of volume attachments to be faked :return: A list of FakeResource objects """""" attachments = [] for n in range(0, count): attachments.append( FakeVolumeAttachment.create_one_volume_attachment(attrs)) return attachments @staticmethod def get_volume_attachments(attachments=None, count=2): """"""Get an iterable MagicMock object with a list of faked volumes. If attachments list is provided, then initialize the Mock object with the list. Otherwise create one. :param attachments: A list of FakeResource objects faking volume attachments :param count: The number of volume attachments to be faked :return An iterable Mock object with side_effect set to a list of faked volume attachments """""" if attachments is None: attachments = FakeVolumeAttachment.create_volume_attachments(count) return mock.Mock(side_effect=attachments) ",,1228,0
openstack%2Ftripleo-quickstart-extras~master~I27e1589c2ff9f2ca16bb162e0661375c96e095be,openstack/tripleo-quickstart-extras,master,I27e1589c2ff9f2ca16bb162e0661375c96e095be,build-test-package: Set distro for downstream case,MERGED,2021-06-15 14:13:47.000000000,2021-06-18 16:51:43.000000000,2021-06-18 16:51:43.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:13:47.000000000', 'files': ['roles/build-test-packages/tasks/dlrn-build.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ba32ad8e37fcba32b15ca760e2826406e9f2608', 'message': 'build-test-package: Set distro for downstream case\n\n`use_upstream_spec` is set to true in downstream case in [1],\nIf we use upstream spec we should correctly set distro otherwise\nrpm-master will be used and rpm build can fail for older branches\nbecause spec is from master.\n\n[1] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/build-test-packages/templates/projects.ini.j2#L34\n\nChange-Id: I27e1589c2ff9f2ca16bb162e0661375c96e095be\n'}]",0,796486,8ba32ad8e37fcba32b15ca760e2826406e9f2608,24,6,1,29775,,,0,"build-test-package: Set distro for downstream case

`use_upstream_spec` is set to true in downstream case in [1],
If we use upstream spec we should correctly set distro otherwise
rpm-master will be used and rpm build can fail for older branches
because spec is from master.

[1] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/build-test-packages/templates/projects.ini.j2#L34

Change-Id: I27e1589c2ff9f2ca16bb162e0661375c96e095be
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/86/796486/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/dlrn-build.yml'],1,8ba32ad8e37fcba32b15ca760e2826406e9f2608,," - {regexp: 'distro=.*', line: 'distro={{ release }}-rdo'}",,1,0
openstack%2Fkeystone~master~If7eeb8b09ef8fd5d7879eb13b6430a7e8a30f826,openstack/keystone,master,If7eeb8b09ef8fd5d7879eb13b6430a7e8a30f826,Allows LDAP extra attributes to be exposed to the end user,NEW,2019-08-08 11:48:10.000000000,2021-06-18 16:49:52.000000000,,"[{'_account_id': 8866}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-08 11:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/426e06eca8c99767bf9b6025c2f0e969d24efa5e', 'message': 'Allows LDAP extra attributes to be exposed to the end user\n\nWhen configuring the ldap driver, there is the possibility to add\nextra attributes to the user/group. This allows those attributes\nto be exposed to the API results.\n\nChange-Id: If7eeb8b09ef8fd5d7879eb13b6430a7e8a30f826\nCloses-Bug: #1839441\n'}, {'number': 2, 'created': '2019-08-09 08:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ac5ba392d5ae776a788826ba955ecab5e103319', 'message': 'Allows LDAP extra attributes to be exposed to the end user\n\nWhen configuring the ldap driver, there is the possibility to add\nextra attributes to the user/group. This allows those attributes\nto be exposed to the API results.\n\nChange-Id: If7eeb8b09ef8fd5d7879eb13b6430a7e8a30f826\nCloses-Bug: #1839441\n'}, {'number': 3, 'created': '2021-06-18 14:14:55.000000000', 'files': ['releasenotes/notes/bug-1839441-c72e83d1774ddcb8.yaml', 'keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/71dff81f164993fc3737f279dbc3e30285a0b29a', 'message': 'Allows LDAP extra attributes to be exposed to the end user\n\nWhen configuring the ldap driver, there is the possibility to add\nextra attributes to the user/group. This allows those attributes\nto be exposed to the API results.\n\nChange-Id: If7eeb8b09ef8fd5d7879eb13b6430a7e8a30f826\nCloses-Bug: #1839441\n'}]",0,675303,71dff81f164993fc3737f279dbc3e30285a0b29a,10,2,3,5575,,,0,"Allows LDAP extra attributes to be exposed to the end user

When configuring the ldap driver, there is the possibility to add
extra attributes to the user/group. This allows those attributes
to be exposed to the API results.

Change-Id: If7eeb8b09ef8fd5d7879eb13b6430a7e8a30f826
Closes-Bug: #1839441
",git fetch https://review.opendev.org/openstack/keystone refs/changes/03/675303/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/test_backend_ldap.py']",2,426e06eca8c99767bf9b6025c2f0e969d24efa5e,bug1839441," def test_user_extra_attribute_mapping_with_new_attribute(self): self.config_fixture.config( group='ldap', user_additional_attribute_mapping=['newattr:name']) self.load_backends() user = self.new_user_ref(name='EXTRA_ATTRIBUTES', password='extra', domain_id=CONF.identity.default_domain_id) user = PROVIDERS.identity_api.create_user(user) dn, attrs = PROVIDERS.identity_api.driver.user._ldap_get(user['id']) self.assertThat([user['name']], matchers.Equals(attrs['newattr'])) 'fake:valid', 'invalid1', 'invalid2:', expected_dict = {'name': 'description', 'password': 'gecos', 'valid': 'fake'}"," 'fake:invalid', 'invalid1', 'invalid2:', expected_dict = {'description': 'name', 'gecos': 'password', 'fake': 'invalid', 'invalid2': ''}",21,14
openstack%2Fvalidations-libs~master~I502c9f1bf27b7ab0ac65c26367e5d622d8ed22cd,openstack/validations-libs,master,I502c9f1bf27b7ab0ac65c26367e5d622d8ed22cd,Module docstring for validation_libs.constants,MERGED,2021-06-17 06:20:17.000000000,2021-06-18 16:35:23.000000000,2021-06-18 16:32:36.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-17 06:20:17.000000000', 'files': ['validations_libs/constants.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b425c3ad73390202495e455eab6ee46428a2e0d7', 'message': 'Module docstring for validation_libs.constants\n\nConsidering how important it is for VF to work,\nI think it deserves a module level docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I502c9f1bf27b7ab0ac65c26367e5d622d8ed22cd\n'}]",0,796759,b425c3ad73390202495e455eab6ee46428a2e0d7,8,5,1,32926,,,0,"Module docstring for validation_libs.constants

Considering how important it is for VF to work,
I think it deserves a module level docstring.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I502c9f1bf27b7ab0ac65c26367e5d622d8ed22cd
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/59/796759/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,b425c3ad73390202495e455eab6ee46428a2e0d7,constats/docstrings,"""""""Default paths for validation playbook directory, validation groups definitions and validation logs are defined here. These paths are used in an absence of user defined overrides, or as a fallback, when custom locations fail. """""" ",,8,0
openstack%2Fvalidations-common~master~I8d6d5057fa08be1ccd84c01837d6e4c93ce01b89,openstack/validations-common,master,I8d6d5057fa08be1ccd84c01837d6e4c93ce01b89,Removing superfluous imports from tests,MERGED,2021-06-17 06:33:29.000000000,2021-06-18 16:34:07.000000000,2021-06-18 16:32:43.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-17 06:33:29.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_output.py', 'validations_common/tests/library/test_check_package_update.py', 'validations_common/tests/callback_plugins/test_fail_if_no_hosts.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'validations_common/tests/callback_plugins/test_validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d57f09298d39ab9899f9c2de4bc4168497e0e321', 'message': 'Removing superfluous imports from tests\n\nSeveral unnecessary imports were removed from test modules.\nImports of the validations_common.tests.fakes were kept.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8d6d5057fa08be1ccd84c01837d6e4c93ce01b89\n'}]",0,796763,d57f09298d39ab9899f9c2de4bc4168497e0e321,9,8,1,32926,,,0,"Removing superfluous imports from tests

Several unnecessary imports were removed from test modules.
Imports of the validations_common.tests.fakes were kept.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I8d6d5057fa08be1ccd84c01837d6e4c93ce01b89
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/796763/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/tests/callback_plugins/test_validation_output.py', 'validations_common/tests/library/test_check_package_update.py', 'validations_common/tests/callback_plugins/test_fail_if_no_hosts.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'validations_common/tests/callback_plugins/test_validation_json.py']",5,d57f09298d39ab9899f9c2de4bc4168497e0e321,purge/unusedtestimports,,import validations_common.library.reportentry as validation,0,7
openstack%2Fvalidations-libs~master~Ic5d7bf8e440a44105bf00866ca92a085a0826500,openstack/validations-libs,master,Ic5d7bf8e440a44105bf00866ca92a085a0826500,Literal substituted with DEFAULT_VALIDATIONS_BASEDIR,MERGED,2021-06-17 06:25:48.000000000,2021-06-18 16:34:04.000000000,2021-06-18 16:32:33.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-17 06:25:48.000000000', 'files': ['validations_libs/constants.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9c19f7d22160c7b26e42c73beb8e1dc71c6634d2', 'message': ""Literal substituted with DEFAULT_VALIDATIONS_BASEDIR\n\nThe existing constant evaluates to the prefix of another constant.\nNo need to keep them separate.\n\nArguably, the risk of someone changing one of the constants,\nwithout the other, is already minimal. But it's better to be\nextra sure.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic5d7bf8e440a44105bf00866ca92a085a0826500\n""}]",0,796762,9c19f7d22160c7b26e42c73beb8e1dc71c6634d2,9,7,1,32926,,,0,"Literal substituted with DEFAULT_VALIDATIONS_BASEDIR

The existing constant evaluates to the prefix of another constant.
No need to keep them separate.

Arguably, the risk of someone changing one of the constants,
without the other, is already minimal. But it's better to be
extra sure.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic5d7bf8e440a44105bf00866ca92a085a0826500
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/62/796762/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,9c19f7d22160c7b26e42c73beb8e1dc71c6634d2,aniblepath/redundancy,"ANSIBLE_VALIDATION_DIR = os.path.join( DEFAULT_VALIDATIONS_BASEDIR, 'validation-playbooks')",ANSIBLE_VALIDATION_DIR = '/usr/share/ansible/validation-playbooks',3,1
openstack%2Fvalidations-common~master~I61641a1d4ddd017451b4aa7aea1e6eae6439b53d,openstack/validations-common,master,I61641a1d4ddd017451b4aa7aea1e6eae6439b53d,Removing the 'PIP_+' string from tox.ini,MERGED,2021-06-11 14:25:03.000000000,2021-06-18 16:32:40.000000000,2021-06-18 16:32:40.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 14:25:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/66be6d9f914c1b6afda293f2f9122b00ac90737f', 'message': 'Removing the \'PIP_+\' string from tox.ini\n\nPresence of the string causes following error,\nwhen running molecule tests on local:\n\'Error: error parsing host environment variables: name ""PIP_+  VIRTUAL_ENV"" has white spaces, poorly formatted name\'\n\nAfter removing it the molecule tests are able to run successfuly.\n\nFurthermore I found no reference to the purpose of the string\nin either the tox documentation, or by searching for the same\nstring on github. It appears we are the only project hosting code\non the service, using this particular setting.\n\nI therefore assume that it is nonessential.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I61641a1d4ddd017451b4aa7aea1e6eae6439b53d\n'}]",0,796024,66be6d9f914c1b6afda293f2f9122b00ac90737f,8,8,1,32926,,,0,"Removing the 'PIP_+' string from tox.ini

Presence of the string causes following error,
when running molecule tests on local:
'Error: error parsing host environment variables: name ""PIP_+  VIRTUAL_ENV"" has white spaces, poorly formatted name'

After removing it the molecule tests are able to run successfuly.

Furthermore I found no reference to the purpose of the string
in either the tox documentation, or by searching for the same
string on github. It appears we are the only project hosting code
on the service, using this particular setting.

I therefore assume that it is nonessential.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I61641a1d4ddd017451b4aa7aea1e6eae6439b53d
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/24/796024/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,66be6d9f914c1b6afda293f2f9122b00ac90737f,tox/pipfix, VIRTUAL_ENV={envdir}, PIP_+ VIRTUAL_ENV={envdir},1,1
openstack%2Fopenstack-specs~master~Ia61ffaa6785ee2c784da8a5573aa04623d231611,openstack/openstack-specs,master,Ia61ffaa6785ee2c784da8a5573aa04623d231611,Instances auto evacuation,ABANDONED,2015-12-15 10:24:15.000000000,2021-06-18 16:29:52.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1297}, {'_account_id': 2394}, {'_account_id': 2417}, {'_account_id': 2537}, {'_account_id': 5545}, {'_account_id': 6537}, {'_account_id': 7404}, {'_account_id': 7973}, {'_account_id': 8099}, {'_account_id': 8215}, {'_account_id': 8716}, {'_account_id': 8731}, {'_account_id': 8878}, {'_account_id': 11564}, {'_account_id': 12404}, {'_account_id': 14091}, {'_account_id': 14307}, {'_account_id': 14447}, {'_account_id': 15397}, {'_account_id': 17211}, {'_account_id': 17517}, {'_account_id': 17860}, {'_account_id': 19206}, {'_account_id': 20172}]","[{'number': 1, 'created': '2015-12-15 10:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/5390757ecdf628c5f82c976d376a22b92a7a7071', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 2, 'created': '2016-02-08 14:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d441158738367b93cec382fc68f5da8d5fd4d97c', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 3, 'created': '2016-03-21 11:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d11de2fe613876ae79d198497c525725c75e211d', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 4, 'created': '2016-03-21 11:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/ed180790c4704a3b6e5fa3c32476366575e00718', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 5, 'created': '2016-03-21 12:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/fe5c4d0a91008b084dfd4135c1d414e77c8a4f6c', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 6, 'created': '2016-04-11 10:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/335c82d9202cd690519b6c426a899b7dd01481e0', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 7, 'created': '2016-04-14 14:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f9ec3a0ef24dfa3948241e9033a44c8ac53d9281', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}, {'number': 8, 'created': '2016-07-13 08:22:24.000000000', 'files': ['specs/instance-auto-evacuation.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/fe171d3e8aa1a78f71f7d61eb2ec6538a9c2c1ab', 'message': 'Instances auto evacuation\n\nUnified workload auto-evacuation mechanism for Openstack.\n\nCo-authored-by: Timofey Durakov <tdurakov@mirantis.com>\nChange-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611\n'}]",64,257809,fe171d3e8aa1a78f71f7d61eb2ec6538a9c2c1ab,51,26,8,14819,,,0,"Instances auto evacuation

Unified workload auto-evacuation mechanism for Openstack.

Co-authored-by: Timofey Durakov <tdurakov@mirantis.com>
Change-Id: Ia61ffaa6785ee2c784da8a5573aa04623d231611
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/09/257809/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/instance-auto-evacuation.rst'],1,5390757ecdf628c5f82c976d376a22b92a7a7071,257809,"========================== Instances auto evacuation ========================== Openstack project requires unified auto-evacuation mechanism. Problem description =================== Host evacuation is essential cloud platforms feature, which allows to reduce instance downtime. On relatively big environments it could be hard to track all potential problems and make workoads evacuation in time. Openstack project already has instruments for gathering statistics, migration workloads, and workflow orchestration. While it possible to make workload migration manually, Openstack needs a unified approach for workload auto-evacuation. Proposed functionality should enable automatic detection of potential problems and evacuate instances from suffering node. Proposed change =============== Process of workload evacuation could be splitted in 3 parts: - gathering statistics - triggering auto-evacuation - moving workloads Workflow: +-------------------------------------------+ | +----------+ +-----------+ | | | | alarm | | | | |Ceilometer+---------------> Mistral | | | | | | | | | +----------+ +-----+-----+ | | | | | +-------------------------+------> | | | | | | | | Schedules appropriate | +----v---+ | | | workload migration type | | | | | | | | Nova | | | +-------------------------+ | | | | +--------+ | | | +-------------------------------------------+ Ceilometer has alarms abstraction that allows to specify metrics to watch, threshold value, and uri that should be requested. When the metric meets threshold ceilometer notifies evacuation workflow controller that triggers the whole process. Auto-evacuation controller makes decision, which type of instance migration is more preferable. Decision should be made based on info, that ceilometer had provided. Nova execute workload migration. Several options available: -live-migration -cold-migration -evacuation(rebuild) Alternatives ------------ -Not to introduce this functionality -Use Heat instead of Mistral -Create API in nova for host auto-evacuation - nova scheduler could pick appropriate host for instance being migrated, so nova could acts as workflow controller. Ceilometer will execute nova host-evacuate then. Implementation ============== Assignee(s) ----------- TBD Work Items ---------- TBD Dependencies ============ - None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Kilo - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,102,0
openstack%2Fopenstack-specs~master~Id3ede2672c13d98cb25a3fe0f3e38e2abea5c790,openstack/openstack-specs,master,Id3ede2672c13d98cb25a3fe0f3e38e2abea5c790,blueprint mysql-cluster-support,ABANDONED,2017-02-07 00:05:01.000000000,2021-06-18 16:29:38.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 11536}, {'_account_id': 17386}, {'_account_id': 19283}]","[{'number': 1, 'created': '2017-02-07 00:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/425fec52c42cd0bdce158c28dbbc1fe24bf345d6', 'message': 'blueprint mysql-cluster-support\n\n Cross-project Spec file for mysql-cluster-support\n\nChange-Id: Id3ede2672c13d98cb25a3fe0f3e38e2abea5c790\n'}, {'number': 2, 'created': '2017-02-08 18:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/fd14773bbe7611bb119838662ba8e37ab9ff58e4', 'message': 'blueprint mysql-cluster-support\n\n Cross-project Spec file for mysql-cluster-support\n\nChange-Id: Id3ede2672c13d98cb25a3fe0f3e38e2abea5c790\n'}, {'number': 3, 'created': '2017-02-08 18:10:53.000000000', 'files': ['specs/mysql-cluster-support.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/99e424a6bc0d6e2b3b28e658c0c3af1fd61f6fff', 'message': 'blueprint mysql-cluster-support\n\n Cross-project Spec file for mysql-cluster-support\n\nChange-Id: Id3ede2672c13d98cb25a3fe0f3e38e2abea5c790\n'}]",0,429940,99e424a6bc0d6e2b3b28e658c0c3af1fd61f6fff,8,5,3,19283,,,0,"blueprint mysql-cluster-support

 Cross-project Spec file for mysql-cluster-support

Change-Id: Id3ede2672c13d98cb25a3fe0f3e38e2abea5c790
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/40/429940/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/mysql-cluster-support.rst'],1,425fec52c42cd0bdce158c28dbbc1fe24bf345d6,bp/mysql-cluster-support,"================================== MySQL Cluster Support ================================== Launchpad blueprint: https://blueprints.launchpad.net/oslo.db/+spec/mysql-cluster-support OpenStack today uses the standard MySQL DB with the InnoDB engine as the back-bone of the core services. InnoDB is an active/passive database with limited high-availability and scale-out capabilities. MySQL Cluster is a variant of the MySQL Database that uses the NDB (Network Database) engine. This database is ideal for massive scale-out and has been used in the telecommunication industry extensively over the years. Key Benefits for MySQL Cluster: - 99.999% Availability - Shared Nothing Architecture, no points of failure - Synchronous Replication - Auto Sharding of Data - Auto Fail-over - Self-Healing - Max. of 255 nodes in cluster (48 data nodes, other nodes SQL/API) - SQL and API nodes scale-out horizontally via load balancing Key Benefits for OpenStack: - Highly-Available DB back-end - Massively scalible DB back-end - Reduced operational impact of planned or unplanned DB maintenance. - Reduced complexity compared to InnoDB clustering. - No shared storage or 3rd party clustering software required. Links to information on MySQL Cluster: Documentation: https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster.html MySQL Cluster Overview: https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-overview.html Limitations of MySQL Cluster: https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-limitations.html Problem description =================== The following challenges exist for supporting MySQL Cluster today: - Table row length limited to 14k in NDB vs 65k in InnoDB - Hardcoding of SQL statements such as ""mysql_engine=InnoDB"" - Strict adherence to ordering of SQL operations for foreign keys, constraints, and indexes. - No support for Savepoints - No support for Nested transactions These challenges can be addressed by using the proposed changes in the next section. Proposed change =============== - Enhance oslo.db to add the configuration setting of mysql_storage_engine so that operators can select either InnoDB or NDBCLUSTER to enable the correct logic in the SQL Alchemy and Alembic migration scripts. The plan is to target the database section of the cfg.CONF.database namespace for this option to make it available across all OpenStack services. - Patch SQL Alchemy and Alembic database migration scripts to have logic to modify table schemas and behavior to fit within the constraints of MySQL Cluster (NDB). For example, change the column size 255 char strings to something smaller for columns that only hold the state of a service component that consumes less than 10 or 20 characters. Or converting large string columns (i.e. over 1024 chars.) to TEXT to reduce the size of the row length. - Patch SQL Alchemy and Alembic database migration scripts to properly handle the ordering of operations against foreign keys, constraints, and indexes. - Patch service components to transparently work with any MySQL Cluster (NDB) changes. This includes database related api.py and model.py files for handling schema modifications or hard-coded use cases or features (savepoints and nested). These changes will be validated and tested to ensure that: - Zero impact to functionality of APIs, CLIs, and service processes. - Zero impact on operators using MySQL InnoDB. - Minimal operator overhead for enabling NDB functionality. Alternatives ------------ Through the design, architecture, and implementation of these changes the following alternative approaches are being considered: - Creating a new NDB dialect for SQL Alchemy to enable the use of in-line substitutions of column definitions based on dialect. This could potentially reduce IF/THEN logic blocks. - Reducing the column sizes across service databases where appropriate and sensible. Doing this would impact both InnoDB and NDB use cases but reduce the amount of overhead in maintaining conditional logic. This could lead to better efficiency in not only the patches, but in the database structures. Some services like Cinder, Nova, and Neutron have already run into the 65k limit in InnoDB which has forced some columns to migrate to separate tables. Implementation ============== Assignee(s) ----------- Primary assignee: Octave Orgeron (octave.orgeron@oracle.com) Work Items ---------- Phase 1: - Patch oslo.db to support mysql_storage_engine setting. - Patch Keystone - Patch Cinder - Patch Glance - Patch Heat - Patch Ironic - Patch Neutron - Patch Nova Phase 2: - Patch other services (TBD) Dependencies ============ - Oslo.db change-set: https://review.openstack.org/427970 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,158,0
openstack%2Fopenstack-specs~master~I6a0957f9c1437627c6310d36d652b2fb3cb63eb9,openstack/openstack-specs,master,I6a0957f9c1437627c6310d36d652b2fb3cb63eb9,A common policy scenario across all projects,ABANDONED,2015-11-16 03:55:53.000000000,2021-06-18 16:29:19.000000000,,"[{'_account_id': 2}, {'_account_id': 4}, {'_account_id': 7}, {'_account_id': 136}, {'_account_id': 170}, {'_account_id': 330}, {'_account_id': 748}, {'_account_id': 782}, {'_account_id': 1207}, {'_account_id': 1916}, {'_account_id': 1921}, {'_account_id': 1941}, {'_account_id': 2218}, {'_account_id': 2243}, {'_account_id': 2417}, {'_account_id': 2472}, {'_account_id': 2537}, {'_account_id': 4240}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 5638}, {'_account_id': 5707}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6484}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7198}, {'_account_id': 7225}, {'_account_id': 7665}, {'_account_id': 7725}, {'_account_id': 7973}, {'_account_id': 8099}, {'_account_id': 8119}, {'_account_id': 8215}, {'_account_id': 8731}, {'_account_id': 8978}, {'_account_id': 9444}, {'_account_id': 10420}, {'_account_id': 10608}, {'_account_id': 10670}, {'_account_id': 11333}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 12404}, {'_account_id': 13781}, {'_account_id': 14307}, {'_account_id': 17211}, {'_account_id': 17860}, {'_account_id': 17862}, {'_account_id': 18338}, {'_account_id': 22348}, {'_account_id': 23185}]","[{'number': 1, 'created': '2015-11-16 03:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/ea74983d2ae6cec10fd81516d07e05ff68726904', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 2, 'created': '2015-11-21 04:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/14856866fdd5eb36ad8c9210b837f14680118dbb', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 3, 'created': '2015-11-23 23:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/7850c7d13afdcf326f9677cc3885a052cd771887', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 4, 'created': '2016-01-14 03:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/466676406d7c5bd3b18e52129288db3d9734d2f4', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 5, 'created': '2016-01-29 18:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/ac064f9b1bf0c4921629ef85bb46faa5bb46b6f4', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 6, 'created': '2016-03-30 01:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/daad6a2bc70dd8059664fed29fb619c3d081d344', 'message': 'Conventional roles for default policy files\n\nAll projects enforcing role based access controls should provide a\ndefault policy file that expresses real-world use cases, beyond the\nbinary ""admin or not."" This spec is the first step in that direction by\nintroducing service-specific admins and read-only roles.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 7, 'created': '2016-04-04 03:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/32ea552b17f603ce638d2d935f4405d56a8dbd7d', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 8, 'created': '2016-04-25 18:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/dc6090b1454a48f8447384e0a03c37a280c2a050', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}, {'number': 9, 'created': '2020-12-17 21:41:52.000000000', 'files': ['specs/common-default-policy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e301823d784ca53f261563142d06c2475fd68896', 'message': 'A common policy scenario across all projects\n\nAll projects should provide a policy file based around a more rich\nscenario than simply is a user the global admin or not.\n\nChange-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9\n'}]",112,245629,e301823d784ca53f261563142d06c2475fd68896,86,53,9,7191,,,0,"A common policy scenario across all projects

All projects should provide a policy file based around a more rich
scenario than simply is a user the global admin or not.

Change-Id: I6a0957f9c1437627c6310d36d652b2fb3cb63eb9
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/29/245629/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/common-default-policy.rst'],1,ea74983d2ae6cec10fd81516d07e05ff68726904,common-default-policy,"===================== Common Default Policy ===================== https://blueprints.launchpad.net//+spec/common-default-policy Maintaining policy is hard for operators. As a side effect of keystone's V2 roles and devstack's default roles most services simply assume a member or admin priviledge seperation for there service. This is really only sufficient for the most trivial of deployments. As a community we need to develop a simple standard usage policy environment such that we encorporate some of the common deployment patterns of OpenStack and reduce the policy burdens on operators. Problem description =================== For customizability roles in OpenStack are defined at runtime by administrators and stored in the keystone database. Keystone therefore does not ship with any roles by default. In contrast policy files are static files that are typically shipped with the project defining what roles are required to access an endpoint. This mismatch has meant that in development services that use policy files (and most either do or are working that way) must ship with default configuration files that may or may not reflect the actual roles that are present in a deployment. Largely as a side effect of Keystone V2 initially having only an admin/member role distinction and devstack testing a simple deployment scenario by default most service policy files ship a policy file consisting of only the admin/non-admin distinction using the admin role (Note that you must have some role on the project to be authenticated but there is no need to define this role by name). A result of this is largely the all powerful admin role that must be created in deployments and overly powerful service users. Having shipped these policy files we then expect deployers to customize them to suit their needs. However, as these are security critical files that must be updated and re-merged with every release there is a general reluctance to modify these files, or at least very little. Proposed change =============== I would like to define a single, simple, common scenario that will be enabled and shipped as the default policy file for services. This scenario will be backwards compatible with the current admin/member that we currently have. As individual services are not aware of all the roles in the deployment there is no issue with defining roles in policy files that are not available in the deployment. These just never be present in a token and therefore never match. This means that there is no danger in changing these policy files to use roles prior to them being available from keystone. The only chance of collision here is that we create a role with the same name but different meaning to one that exists in a deployment. For this to happen/be useful the deployment must already be modifying policy files and can therefore plan a migration to the new role names or continue to ship their custom policy files. We do not expect to come up with a scenario that solves problems for everyone. There will always be custom requirements that involve a more complex policy setup that are not relevant to the general community. The aim here is to create a scenario that will improve control for the deployers who do not wish to make their own policy modifications. The roles --------- **admin**: Due to its prevelance today we need to maintain the 'admin' role. A user with this role is all powerful and is expected to be able to do anything in OpenStack. Ideally this scope would only extend to the project the user has the role on (like all roles should), however there are circumstances today where the admin role implies having admin on the entire deployment and is capable of doing things in other projects. This role should be strictly controlled in any deployment. **project_admin**: To distinguish from the _admin_ role that for historical reasons may cross project boundaries the _project_admin_ role gives users administrative rights within a project. **service**: The service role should only be given to service users, these are the users that are in auth_token middleware and are able to validate other user's tokens. **{service_type}_admin**: A role that gives administrative access to one service. The service type here is the identifying service type that is available from the service catalog. For example there would be a *_compute_admin_* and an *_image_admin_* role and not a *nova_admin* or *glance_admin* role. In the same way as _admin_ these are ideally scoped to the project however they convey the ability to do operations that are across projects when required. Eg. The *identity_admin* role should be able to create new domains, something for which there is not an obvious project to scope to. **observer**: The observer role allows a user to discover the resources available within a project but to have no access to create anything new. This is often termed the accountant role. Related Proposals ----------------- There are a number of proposals from keystone that have tried to make roles and policy more approachable. `Dynamic policy`_ was an attempt to make policy managable from keystone via API and have services fetch policy files dynamically. This would make updating and changing policy easier however it creates an additional link between each service and keystone. It also removes some of the control that services have over their default policy as this is now stored in the keystone database and not automatically updated with a new version. `Implied roles`_ is an attempt to make roles that imply other roles. This would allow policy files to more finely specify the roles required to perform an operation but not require administrators to delegate all these roles individually. As an example reading an image from glance may require the ImageReader role, creating a volume in cinder may require VolumeCreator role. However a role called InstanceCreator to boot an instance in nova may be created that implies all other roles such as ImageReader and VolumeCreator may be delegated. This provides the ability to delegate and enforce on only the fine grained roles, however still allow simple delegation of higher level composite abilities to users. `Admin Project`_ is an upcoming change to keystone to an attempt to limit the cross project abilities of the admin role. It allows you to specify one (or a small number) of projects that are deemed the *admin project*. This project is the only project that is capable of being granted the *admin* role and adminstrators must therefore authenticate to this project before performing any operations that cross project boundaries. This would typically relate to the *{service_type}_admin* roles such that you would have to be authenticated against the admin project to do cross project operations. These specifications make it easier to customize roles for deployers however they do not directly address the problem of administrators not being willing to modify policy. .. _Implied roles: https://review.openstack.org/#/c/125704/ .. _Dynamic policy: https://review.openstack.org/#/c/133814/ .. _Admin Project: https://review.openstack.org/#/c/242232/ Implementation ============== Assignee(s) ----------- Primary assignee: jamielennox Though I expect to engage at least one core team member per service to actually determine which APIs should be accessible by individual roles. This is something that only someone with an understanding of the API should do. Work Items ---------- The intention will be that the new scenario is backwards compatible with the policy files that we are currently shipping with services. The admin/member distinction that is currently in use will still be available there will just be additional roles suggested in policies. There is therefore not a strict ordering to any of the work items as the functionality will be available as services change their own policy files. I also expect a change like this to take time to filter across all of the services. - Create a wiki/other document for describing the scenario and roles available in the default policy. We never want the default policy to include all possible use cases but we want to be able to control and review additions to the default policy in future. - Create additional roles in devstack for testing. - Modify each individual service to provide a policy file that implements the above scenario. - Ensure that horizon (as a consumer of policy files) is capable of correctly displaying available actions to users based on a more complex policy. - Update installers/configuration management systems to create new roles. Dependencies ============ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Mitaka - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,200,0
openstack%2Fopenstack-specs~master~Ie7c41836f1072669f634e37d38e1ab9ab4a9c925,openstack/openstack-specs,master,Ie7c41836f1072669f634e37d38e1ab9ab4a9c925,remove unicode from code,ABANDONED,2021-01-05 09:29:47.000000000,2021-06-18 16:29:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-05 09:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/0b38a99b26c2f596e41c366288864909f68b0815', 'message': 'remove unicode from code\n\nChange-Id: Ie7c41836f1072669f634e37d38e1ab9ab4a9c925\n'}, {'number': 2, 'created': '2021-01-05 10:23:58.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/61cd5cfa8c81b7950fc14314a31b16958d87bc62', 'message': 'remove unicode from code\n\nChange-Id: Ie7c41836f1072669f634e37d38e1ab9ab4a9c925\n'}]",2,769295,61cd5cfa8c81b7950fc14314a31b16958d87bc62,6,2,2,32020,,,0,"remove unicode from code

Change-Id: Ie7c41836f1072669f634e37d38e1ab9ab4a9c925
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/95/769295/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,0b38a99b26c2f596e41c366288864909f68b0815,,"project = 'openstack-specs' 'OpenStack Foundation', 'manual'),","project = u'openstack-specs' u'OpenStack Foundation', 'manual'),",2,2
openstack%2Fopenstack-specs~master~If9be934ee783b385872282fe13aba928d362a59d,openstack/openstack-specs,master,If9be934ee783b385872282fe13aba928d362a59d,Update home-page,ABANDONED,2019-01-11 11:48:05.000000000,2021-06-18 16:29:06.000000000,,"[{'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-11 11:48:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/0c0c33c43c115bc0634241a7e81eb76471e218d5', 'message': 'Update home-page\n\nChange-Id: If9be934ee783b385872282fe13aba928d362a59d\n'}]",1,630175,0c0c33c43c115bc0634241a7e81eb76471e218d5,8,6,1,26297,,,0,"Update home-page

Change-Id: If9be934ee783b385872282fe13aba928d362a59d
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/75/630175/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0c0c33c43c115bc0634241a7e81eb76471e218d5,,home-page = https://git.openstack.org/cgit/openstack/openstack-specs,home-page = http://www.openstack.org/,1,1
openstack%2Fopenstack-specs~master~I440c4d6a19835fcf3b87ea9cc376a96de6582fa7,openstack/openstack-specs,master,I440c4d6a19835fcf3b87ea9cc376a96de6582fa7,Add bandit integration spec,ABANDONED,2016-04-19 16:23:09.000000000,2021-06-18 16:29:01.000000000,,"[{'_account_id': 3}, {'_account_id': 17277}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-04-19 16:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e6f9d46f4fc828eae9f40fde7e0ae92194678f82', 'message': 'Add bandit integration spec\n\nWIP - DO NOT MERGE\n\nWith the latest release of bandit, v1.0.1, more stable functionality,\nand consistant results are available. This spec will attempt to\nincorporate bandit into as many OpenStack projects as possible in\norder to provide a proactive security vulnerability analysis as new\ncode is submitted and reviewed.\n\nChange-Id: I440c4d6a19835fcf3b87ea9cc376a96de6582fa7\n'}, {'number': 2, 'created': '2016-04-21 16:20:34.000000000', 'files': ['specs/bandit-integration.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/4a2b7ea5dbddcc96d95e98cee9e16452cc53d172', 'message': 'Add bandit integration spec\n\nWIP - DO NOT MERGE\n\nWith the latest release of bandit, v1.0.1, more stable functionality,\nand consistant results are available. This spec will attempt to\nincorporate bandit into as many OpenStack projects as possible in\norder to provide a proactive security vulnerability analysis as new\ncode is submitted and reviewed.\n\nChange-Id: I440c4d6a19835fcf3b87ea9cc376a96de6582fa7\n'}]",2,307909,4a2b7ea5dbddcc96d95e98cee9e16452cc53d172,11,3,2,17277,,,0,"Add bandit integration spec

WIP - DO NOT MERGE

With the latest release of bandit, v1.0.1, more stable functionality,
and consistant results are available. This spec will attempt to
incorporate bandit into as many OpenStack projects as possible in
order to provide a proactive security vulnerability analysis as new
code is submitted and reviewed.

Change-Id: I440c4d6a19835fcf3b87ea9cc376a96de6582fa7
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/09/307909/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/bandit-integration.rst'],1,e6f9d46f4fc828eae9f40fde7e0ae92194678f82,bandit_integration-wip,"===================================================== Broader Bandit Integration Across Big Tent Projects ===================================================== Most big tent projects currently do not have any type of security vulnerability verification for new code submissions. Bandit provides the ability to flag possible security vulnerabilities, which would allow possible threats to be addressed prior to code submissions. Bandit provides functionality that can be leveraged to identify existing possible security vulnerabilities and that can identify possible security vulnerabilities in new code submissions (utilizing a baseline). Problem description =================== Security continues to be a significant issue for many products available today. Being able to quickly identify security vulnerabilities and implement a resolution for them is extremely valuable. Many OpenStack projects do not have any type of security threat analysis on existing or new code. This means secuirty vulnerabilites are typically found in a reactive approach. Utilizing a verification tool as code is submitted for review could allow security threats to be identified using a proactive approach. New code could not only be checked prior to submission, but it could also be checked, via gate tests, when it is submitted to a project for review. While some projects currently utilize bandit (whether it is gate tests and/or tox support), most of these projects still utilize the old configuration functionality of bandit. This configuration functionality requires maintanance in order to add new bandit tests/plugins as they are merged into bandit. The new configuration functionality relies on a default test suite to be run without the need for a configuration file, greatly simplifying how projects can utilize bandit. Also, support for the old configuration functionality will be removed in the future. Proposed change =============== This proposal provides a possible solution to the lack of security threat analysis for many OpenStack proejcts. Bandit can be leveraged to help identify potential security vulnerabilities before they are merged into a project's code base. Depending on a project's needs, bandit can be integrated into test gates or simply into a tox test environment. If a project so desires, a configuration file can be utilized to specify the tests bandit will run and/or skip, but typically it is best to run the entire test suite (default functionality). Although some OpenStack projects already have bandit integrated into gate tests and/or tox test environments, bandit has undergone significant refactoring to improve threat identification and simplify maintenance of the tool's configuration. It is in the best interest for these projects to pick up this new functionality as soon as possible, as support for the original configuration is planned to be removed in a future release of bandit. Alternatives ------------ Projects can continue to merge code without some type of security vulnerability check, which can increase the risk associated with security. Existing projects with old bandit configuration that are not updated will no longer function properly once the backward compatibility is removed. This could result in projects abandoning bandit in favor of a quick solution. Implementation ============== Assignee(s) ----------- Primary assignee: name, IRC nic, etc. Work Items ---------- Currently targeted projects: - Barbican - Ceilometer - Cinder - Glance - Heat - Horizon - Keystone - Neutron - Nova - Swift Additional projects can also adopt bandit following the items below as well: * Bandit can be integrated into a tox test environment, similar to pep8, in any big tent project. * Projects which already utilize bandit, but are still dependent on the old configuration file (bandit.yaml) should be updated to utilize the latest configuration functionality available in the bandit v1.0.1, or later, release. * Possible security vulnerabilies flagged by bandit can then be addressed by the project team on a priority basis. * If a project desires, a bandit configuration file (.bandit) can be populated to specify which tests are run and/or which are skipped (by default, all tests currently available are run). * Bandit can be introduced as a gate test (recommend starting as experimental) which can verify that new code submissions do not introduce new security vulnerabilities. Dependencies ============ - Requires bandit v1.0.1 or higher for proper configuration options History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Newton - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,128,0
openstack%2Fopenstack-specs~master~I8601c28f67ca63cfef830b98727f4342aa690a42,openstack/openstack-specs,master,I8601c28f67ca63cfef830b98727f4342aa690a42,Update min tox version to 2.0,ABANDONED,2018-11-02 06:47:03.000000000,2021-06-18 16:28:58.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-02 06:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/80ae79e3a7a7895266f76a86768bbfbb2a1be456', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I8601c28f67ca63cfef830b98727f4342aa690a42\n'}, {'number': 2, 'created': '2018-11-03 07:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/ae62a771104083559f2c6d0aa0121248171bf44d', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I8601c28f67ca63cfef830b98727f4342aa690a42\nCloses-Bug:  #1801478\n'}, {'number': 3, 'created': '2019-01-12 05:22:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/a4744c3aab7b22ec4c3a489f72b33eb4c19dea28', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I8601c28f67ca63cfef830b98727f4342aa690a42\nCloses-Bug:  #1801478\n'}]",0,615030,a4744c3aab7b22ec4c3a489f72b33eb4c19dea28,12,5,3,28543,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I8601c28f67ca63cfef830b98727f4342aa690a42
Closes-Bug:  #1801478
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/30/615030/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,80ae79e3a7a7895266f76a86768bbfbb2a1be456,bug/1801478,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fopenstack-specs~master~I86a994ca94e2d6a2a4e3753ffab107afc38d3dec,openstack/openstack-specs,master,I86a994ca94e2d6a2a4e3753ffab107afc38d3dec,Instance Users for Cloud Interaction,ABANDONED,2015-09-10 17:13:26.000000000,2021-06-18 16:28:52.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 170}, {'_account_id': 782}, {'_account_id': 1091}, {'_account_id': 1528}, {'_account_id': 2218}, {'_account_id': 4190}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 5754}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 6601}, {'_account_id': 7063}, {'_account_id': 7662}, {'_account_id': 7973}, {'_account_id': 8866}, {'_account_id': 9003}, {'_account_id': 9237}, {'_account_id': 9664}, {'_account_id': 10670}, {'_account_id': 11536}, {'_account_id': 12385}, {'_account_id': 14926}, {'_account_id': 15168}, {'_account_id': 17860}, {'_account_id': 26553}]","[{'number': 1, 'created': '2015-09-10 17:13:26.000000000', 'files': ['specs/instance-users.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/572ddf4ff0efd163d839a829f037c2bb50adc2fd', 'message': 'Instance Users for Cloud Interaction\n\nInstances have need to some times interact with the cloud that it is\nrunning under. This can include getting keys from Barbican, putting\nmessages in a Zaqar queue, getting a file from Swift, etc. All of\nthese services require a fresh Keystone token.\n\nAPIImpact\n\nChange-Id: I86a994ca94e2d6a2a4e3753ffab107afc38d3dec\n'}]",59,222293,572ddf4ff0efd163d839a829f037c2bb50adc2fd,39,28,1,9237,,,0,"Instance Users for Cloud Interaction

Instances have need to some times interact with the cloud that it is
running under. This can include getting keys from Barbican, putting
messages in a Zaqar queue, getting a file from Swift, etc. All of
these services require a fresh Keystone token.

APIImpact

Change-Id: I86a994ca94e2d6a2a4e3753ffab107afc38d3dec
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/93/222293/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/instance-users.rst'],1,572ddf4ff0efd163d839a829f037c2bb50adc2fd,instance-users,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Instance Users for Cloud Interaction ========================================== https://blueprints.launchpad.net/nova/+spec/instance-users Instances have need to some times interact with the cloud that it is running under. This can include getting keys from Barbican, putting messages in a Zaqar queue, getting a file from Swift, etc. All of these services require a fresh Keystone token. Problem description =================== Instances need a secure way of getting fresh Keystone Tokens so that they can talk to other OpenStack services. It is very challenging to get secrets securely to Instances today. Especially in light of AutoScaling. Barbican is the official OpenStack secret store, but it needs a Keystone Token for an account with appropriate permissions to download a secret. This leads to a major problem. ""How do you get a secret securely to the Instance in order to get a Secret from the Secret store?"" Another need is getting a secret to an Instance in order for it to connect to a Zaqar queue in order to process requests directed to a Guest Agent running on that Instance. Zaqar only allows you to talk to it with a Keystone Token. Heat for example needs to bind its Guest Agent to Zaqar to enable Software Deployments to work securely and with low overhead. In addition, the user that launches the Instance needs a way to associate resources they control with the Instance User so that the Instance's Tokens have the authorization it needs to fetch resources or utilize them as needed. By having a user per Instance that needs Tokens, the Instance only is granted access to just the secrets that it needs. Other considerations: * Keystone is moving away from being an Identity provider due to scaling issues. They therefore have strongly requested instance users be implemented with some form of federated identity. They are implementing a simple x509 based federation, and would prefer it to be used. * Barbican provides an x509 CA. * Nova UserData's not very secure. It outlasts an Instances deletion due to Soft Deletes. * Instances can exist for a very long time. (Pets. Years...) * Instances can be shut down, suspended or shelved for significant periods of time. (Can't refresh certificates before they expire) * Instances can be snapshotted. Secrets stored on the root drive will get copied to new instances. * Non root ephemeral drives aren't snapshotted. * Heat would like to use Zaqar for its Guest Agent. This means Heat Software Deployments can not be relied upon. * While the Nova MD server is arguably secure for VM's, It is not for Bare Metal. * The Nova MD servver is not trusted by many so can't be the only mechanism. ConfigDrive can be an alternative. * ConfigDrive data's cant be refreshed. * Technologies change. The API should be abstract enough to allow the Authentication mechanism to change without the user knowing. * If the CA is ever compromised or the certificate algorithm is, there needs to be a way to reissue all the certificates. * Because so many different hypervisors exist, perhaps part of the authentication mechanism should be left up to the driver. That way, the driver can decide which of the tradeoffs are best to make for it. * The app catalog needs instance users to be ubiquitous to make more Cloud enabled software to be easily written. * To be ubiquitous, instance users must be easy to implement by operators. As few new services as possible should be added. * CRL's don't scale well. Need to decouple the invalidation logic from the certificate lifetime. OCSP Perhaps? Some Driver specific Phase 1 Authentication options: * IPMI Console: Authenticated side channel between physical machine and Instance. * Hypervisor -> VM: * IP based Service in network namespace on Hypervisor attached only to VM. * Extra ephemeral disk created/written by Hypervisor. * Nova Metadata service (Has authentication by IP address and Antispoofing rules.) Amazon ran into the same exact issue and have details of their implementation here: http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html They mention the same issues with AutoScaling. In summary, they have extended their Nova equivalent API: * To take in IAM Profile on boot, (aws ec2 run-instances --iam-instance-profile role_name ...) * Extended their metadata server to hand out fresh tokens to the Instance upon request with that role. (curl http://169.254.169.254/latest/meta-data/iam/security-credentials/role_name) Use Cases ---------- Developers will use this when writing generic heat templates to allow Instances to securely fetch secrets they need to properly operate from Barbican without storing secrets in the Nova and/or Heat database. This allows contributing such templates to the app-catalog. Various OpenStack services that launch Instances with Guest Agents can use this to allow communication between controller nodes and the guest agent via Zaqar. Such services include: * Heat * Sahara * Trove * Murano * Octavia * Any other that uses a Guest Agent Various new applications can be created that interact with OpenStack services. * A website VM that stores/retrieves stuff in Swift * A Nagios application could be written that uses credentials to monitor the VM's in the tenant its running on automatically. An application on a Instance may know its malfunctioning and need a Keystone Token to tell LBaaS to administratively disable itself from the Pool. There are many many other use cases..... Project Priority ----------------- None Proposed change =============== Do to considerations in the Problem Description there should be two phases to the Authentication: 1. Driver specific authentication from Instance to Instance User Service to get a fresh Keystone Certificate for the Instance. 2. A certificate issued for the Instance so that it can authenticate with Keystone and get a Keystone Token. Initial Phase 1 workflow with Serial Console: * Instance fetches initial Instance User information from the Nova Meta Data server or ConfigDrive. This includes endpoint and auth type=""SerialConsole"". * Instance contacts the Instance User Service endpoint with its instance ID asking for a Certificate. * Instance User Service generates a tempurl and a random token returning it to the Instance. * The Instance prints out a specially formatted message to the serial console including the random token. * The Instance User Service connects to the Instances serial console and waits for the random token timing out after a while. If token found and matches, the certificate is provisioned and the tempurl becomes authorized for certificate retrieval. * The Instance keeps trying to fetch the certificate from the tempurl until it becomes authorized or a specified timeout happens. * Certificate is retrieved by the Instance. Phase 2, Instance already has certificate, wants a token: * Instance contacts the Meta Data server and retrieves the Keystone endpoint or fetches the Keystone endpoint from ConfigDrive. * Instance contacts Keystone using the Instance User Certificate it obtained through Phase 1, getting back a token. ------------------------------------------ For the initial implementation, to ensure the maximum number of hypervisors are supported, the Phase 1 Serial Console Log authentication type will be chosen. Three OpenStack services will be combined to solve the ultimate problem. * Barbican being a Certificate Authority for issuing instance certificates. * Keystone for authentication. Nova Instance Users will have its own domain configured with x509 federated authentication using the Barbican CA. This solution is compatible with clouds that have a read only LDAP domain. * Nova, see next line. The Instance User Service mentioned above will be provided as part of Nova itself due to: * Nova knows when instances are created and deleted. * Nova has the hypervisor plugins and has direct access to the backchannels for Phase 1 Authentication. * The App Catalog and Operators need to be able to easily install this, and already need to install the additional Barbican Service. Too many additional services are undesirable. Diagram showing basic workflow. It shows: * User getting a user getting back the instance user id (To allow its use with setting up acl's. not shown in diagram, * Phase 1 Authentication using SerialConsoleLog plugin * Phase 2 Authentication to let the Instance get a Token that can be used to contact other OpenStack services such as Barbican or Zaqar :: User Nova Instance Barbican Keystone + Create Instance + + + + | & precreate | | | Get User ID | | User ID | | | From Instance | +-----------------> | | ID | | +----------------------------------------------> | <----------------------------------------------+ | | User ID | | | <-----------------+ | | | | User ID | | | | | | Create | | | | +-------------> | | | | | | | | | | | | | | Get TmpURL | | | | <-------------+ | | | +-------------> | | | | TmpURL + | | | | | RandomStr | | | | | | | | | | | | | | | RandomStr | | | | | Via | | | | | Console | | | | <-------------+ | | | | | | | | | Get | | | | | Certificate | | | | <-------------+ Create | | | | | Certificate | | | +------------------------------> | | | | | | | | Call Back | | | | | Later | | | | +-------------> | | | | | | | | | Get | | | | | Certificate | | | | <-------------+ Get | | | | | Certificate | | | +------------------------------> | | <------------------------------+ | | | Return | | | | | Certificate | | | | | | | | | +-------------> | | | | Return | | Get Token | | | Certificate| | Using | | | | | Certificate | | | +--------------------------------> | | <--------------------------------+ | | | Token | | The following changes will therefore be needed to be made to Nova: * The DB will be modified to add the following fields to an instance * instance_user_id - The instance_user_id associated with an Instance. Its nullable. It is null if an instance user has not been created yet. * A new flag will be added to the Nova Server Create API to enable the server's instance_user_id to be allocated at the time of server create and returned synchronously from the create call. This will be used by orchestration systems such as Heat to enable the Instance User permissions to resources it needs. For example, via Barbican Container ACL's. The instance_user_id will be fetched from Keystone synchronously. The user will not be explicitly created. Nova will basically hand the instance id to keystone and it will return the keystone user id that will be associated with the instance via a certificate at some future point. * The instance delete code will be extended to notify Keystone when an instance_user_id is set and needs deleting. * The Nova Meta Data server and Config Drive data are extended to contain the file /openstack/latest/keystone.json containing the following fields: * keystone_url, * region, * instance_id, * instance_user_id, * auth_type This data will be retrieved via a new base class InstanceUserMetaData. Other Meta Data plugins can add other static data specific to their implementation. Note: The data only shows in Config Drive if the instance user flag was specified on server create. * A new InstanceUserMetaData plugin named SerialConsoleLogInstanceUserMetaData inheriting from InstanceUserMetaData will be created. It will add the ""instance_user_url"" key with a url value and set the value of ""auth_type"" to ""SerialConsoleLog"". * The nova-api will be extended with another server similar to the Meta Data server called the Instance User server. It has the following features: * Restricted ip subnet access. Only the cloud external networks need to be able to access it. * It will support posting to the endpoint: /v1/auth/<plugintype>/<instanceid> * Each auth plugin type will have its own implementation. The only initial plugin will be SerialConsoleLog. Its function will be described later. * A nova specific plugin will be written for Keystone to validate its x509 certificates. This will entail making an RPC call to nova conductor that validates the instance is still in state=""Active"". This means no scalability problem is created by using a CRL. The certificate is invalidated the moment the instance is deleted. The initial phase 1 authentication plugin to the Instance User server will have the following behavior: * On contact it will generate a random string, place it in the nova db in its own table: SerialConsoleLog(instance_id, random_string, state, timestamp) setting state = ""to_verify"", timestamp=now() and both instance_id and random_string. The random string and url to fetch the certificate is then returned. * The Instance is expected to print to the console: ""*** Instance User Auth: <therandomstring> ***"" * The instance can then contact the url given back to it using the random string for authentication. On contact, the endpoint will: Fetch the corresponding row from the nova database. If the state is still ""to_verify"" the endpoint will fetch the last 20 lines of the instances console logs. It will look for the last occurrence of the string ""*** Instance User Auth: <therandomstring> ***"". It will then compare the random string stored in the database. If a match is found, the state in the database is updated to be ""verified"". If the state is still unverified after the log check, the return value will be 503. The client will then wait and retry. It may take some time for the console logs to be updated. If the state is ""verified"", then the randomstring provided by the instance will be checked against the one in state. If they do not match a 401 will be returned. Barbican will be contacted to fetch the certificate and returned to the instance if it exists. If it doesn't, Barbican will be contacted to create the certificate. In either case, if the certificate is not yet ready because it gets asynchronously created by Barbican, 503 is returned and the client is expected to wait a few seconds and try again. Once the certificate is retrieved, the row in the nova database will be deleted, preventing further retrieval without a fresh Phase 1 pass. The following features will be needed from Keystone: * x509 Federation with a Barbican CA. * Plugable validation on the x509 Federation endpoint. * An API to call, passing information contained in the certificate and synchronously retrieve the Keystone User ID associated with it. Optionally it should advertise a User Creation notification event for others to consume. * The delete method called on a Federated User ID should remove any roles assigned and optionally advertise a User Deletion notification event. The following features will be needed from Barbican: * A single CA managed by an admin account associated with the Instance User Server that is able to provision x509 user certificates based on a DN containing the nova instance uuid. * Certificate Storage The following features will be needed from Ironic: * Serial Console Log support. This is expected to be complete by the time of implementation. * Alternately, other Ironic plugins can be provided by the teams creating Ironic drivers. Alternatives ------------ Example Phase 1 workflow with Trusted Meta Data Server: * Instance fetches initial Instance User information from the Nova Meta Data server. This includes Instance User Server endpoint and auth type=""TrustedMetadata"". * Instance contacts the endpoint url returned which will be the Nova Meta Data server. * Meta Data server relays the request to the Instance User Service, adding a preshared secret for authentication and specifying the Instances ID. * Instance User Server validates the Meta Data server's secret, provisions and then returns the appropriate Instance Certificate. Example Phase 1 workflow with Special Disk Support: * Instance fetches initial Instance User information from the Nova Meta Data server or ConfigDrive. This includes endpoint and auth type=""SpecialDisk"". * Instance contacts the Instance User Service endpoint with its Instance ID asking for a Certificate. * Instance User Service generates a tempurl and a random token. * Instance User Service contacts a Nova API extension that passes the random token/tempurl to the nova-compute node running the Instance. * Nova Compute gets the message, creates a 1M dos file system containing the tempurl and the token in a file. It then gets attached to the VM. * The Instance waits for the temporary file system to show up, contacts the tempurl using the token specified in the file. * The Instance User Service provisions the certificate and returns it. A more specific, Barbican only solution is specified here: https://blueprints.launchpad.net/barbican/+spec/vm-integration The Barbican team has expressed its preference towards the instance-user spec over the vm-integration spec. Data model impact ----------------- <TODO> REST API impact --------------- <TODO> Security impact --------------- This change allows Instances to discover the Keystone endpoint associated with their Instance, what Region, and a certificate that allows keystone authentication. No initial privileges will be granted to the User so in theory, it won't be able to do anything unless some other user associates a trust with the Instance User or ACL's on Barbican resources. This change is a net security enhancement since users today must create a Keystone User manually, handling a password, pass it through Heat and/or Nova, storing it in those databases unencrypted and storing the password permanently in the Instance. With this change, all of those things are avoided. No one can login to the Instance and copy its credentials since it is never given direct access to them. Notifications impact -------------------- None Other end user impact --------------------- This change will probably will impact the OpenStack unified client to enable it to easily fetch its user certificate itself. Adding the server create flag to the python-novaclient will also be needed. Performance Impact ------------------ The new code will be called once when an Instance needs to retrieve its initial certificate. Other deployer impact --------------------- To enable the feature, a new Keystone Domain will need to be created by the deployer and passed in the config to Nova. Barbican will need to be setup with a CA, and the CA registered with the Keystone Domain. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: kevpn Work Items ---------- * Add new Config Options * Implement Metadata Server API additions. * Extend the API to support the new parameter. Dependencies ============ None currently. More specs will be added in Barbican, Keystone, Keystone Client, Heat, Barbican, Barbican Client, OpenStackClient and Nova Client to make this feature truly useful to the community. Testing ======= I think unit testing the new endpoint is easily done. Documentation Impact ==================== This change will impact the documentation related to the new Metadata Server API, and Server Create API, but it is a minimal change. References ========== * A lot of discussion with various folks at the Vancouver Summit. History ======= Optional section for liberty intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Liberty - Introduced * - Liberty - Added the Server Create Stopped workflow * - Liberty - Removed the Server Create Stopped workflow. Heat doesnt need it. * - Liberty - Password authentication to x509 as suggested by the Keystone team. * - Liberty - Switched to certificate passing as suggested by the Keystone team. Switched to barbican storing the cert as suggested by the Barbican team. * - Liberty - Greatly enhanced the problem description section. Restarted the implementation section from scratch. partially filled it out so we can discuss it. * - Mitaka - Switched to a cross project spec since it got stalled in nova specs. ",,524,0
openstack%2Fopenstack-specs~master~I87f3ea32ec26f64fe16e3ad26c98ee81429fb9c3,openstack/openstack-specs,master,I87f3ea32ec26f64fe16e3ad26c98ee81429fb9c3,Fix author-email in setup.cfg,ABANDONED,2019-01-22 11:47:41.000000000,2021-06-18 16:28:47.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 11:47:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f91f67268ae83cf42fcb35131980f585448ced66', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I87f3ea32ec26f64fe16e3ad26c98ee81429fb9c3\n'}]",0,632435,f91f67268ae83cf42fcb35131980f585448ced66,5,3,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I87f3ea32ec26f64fe16e3ad26c98ee81429fb9c3
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/35/632435/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f91f67268ae83cf42fcb35131980f585448ced66,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-specs~master~I5d3835991e787a1675c041ff974ccc85559786f2,openstack/openstack-specs,master,I5d3835991e787a1675c041ff974ccc85559786f2,Changed the home-page link for openstack-specs,ABANDONED,2016-10-24 12:32:25.000000000,2021-06-18 16:28:45.000000000,,"[{'_account_id': 3}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 22255}]","[{'number': 1, 'created': '2016-10-24 12:32:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/49593f3fd00cce53fcec630639c6b0362ddfb1d9', 'message': 'Changed the home-page link for openstack-specs\n\nThe homepage pointed to correct link.\n\nChange-Id: I5d3835991e787a1675c041ff974ccc85559786f2\n'}]",0,390298,49593f3fd00cce53fcec630639c6b0362ddfb1d9,8,4,1,20630,,,0,"Changed the home-page link for openstack-specs

The homepage pointed to correct link.

Change-Id: I5d3835991e787a1675c041ff974ccc85559786f2
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/98/390298/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,49593f3fd00cce53fcec630639c6b0362ddfb1d9,home-page,home-page = http://specs.openstack.org/openstack/openstack-specs/,home-page = http://www.openstack.org/,1,1
openstack%2Fopenstack-specs~master~Iebd500b14076b9aa6ed07a4cf49057f26478a595,openstack/openstack-specs,master,Iebd500b14076b9aa6ed07a4cf49057f26478a595,Advancing the protocal of the website to HTTPS in log-guidelines.rst.,ABANDONED,2018-11-13 18:03:04.000000000,2021-06-18 16:28:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-13 18:03:04.000000000', 'files': ['specs/chronicles-of-a-dlm.rst', 'specs/no-downward-sql-migration.rst', 'specs/library-stable-branches.rst', 'specs/cli-sorting-args.rst', 'specs/enable-python-3-int-func-tests.rst', 'specs/service-catalog.rst', 'specs/eventlet-best-practices.rst', 'specs/cors-support.rst', 'specs/return-request-id.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f3ce260817bc8f6223fe84424985463b782cc487', 'message': 'Advancing the protocal of the website to HTTPS in log-guidelines.rst.\n\nChange-Id: Iebd500b14076b9aa6ed07a4cf49057f26478a595\n'}]",0,617759,f3ce260817bc8f6223fe84424985463b782cc487,3,1,1,29423,,,0,"Advancing the protocal of the website to HTTPS in log-guidelines.rst.

Change-Id: Iebd500b14076b9aa6ed07a4cf49057f26478a595
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/59/617759/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/chronicles-of-a-dlm.rst', 'specs/no-downward-sql-migration.rst', 'specs/library-stable-branches.rst', 'specs/cli-sorting-args.rst', 'specs/enable-python-3-int-func-tests.rst', 'specs/service-catalog.rst', 'specs/eventlet-best-practices.rst', 'specs/cors-support.rst', 'specs/return-request-id.rst']",9,f3ce260817bc8f6223fe84424985463b782cc487,,[*] https://eavesdrop.openstack.org/meetings/crossproject/2015/crossproject.2015-08-04-21.01.log.html[1] https://eavesdrop.openstack.org/meetings/crossproject/2015/crossproject.2015-07-28-21.03.log.html,[*] http://eavesdrop.openstack.org/meetings/crossproject/2015/crossproject.2015-08-04-21.01.log.html[1] http://eavesdrop.openstack.org/meetings/crossproject/2015/crossproject.2015-07-28-21.03.log.html,22,22
openstack%2Fopenstack-specs~master~I78dba1a153ed28b3bcaf9ed1638290b032ab230f,openstack/openstack-specs,master,I78dba1a153ed28b3bcaf9ed1638290b032ab230f,Stop running testr in the environment under test.,ABANDONED,2015-08-28 03:13:27.000000000,2021-06-18 16:28:35.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 782}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5263}, {'_account_id': 13070}, {'_account_id': 17860}, {'_account_id': 20229}]","[{'number': 1, 'created': '2015-08-28 03:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/919056ca7d4cbc6eed1af556a462ad8e483c18a6', 'message': 'Stop running testr in the environment under test.\n\nChange-Id: I78dba1a153ed28b3bcaf9ed1638290b032ab230f\n'}, {'number': 2, 'created': '2015-09-01 21:59:15.000000000', 'files': ['specs/testr-and-tox.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d8792f2ae42c18096132e2f4651182427373c015', 'message': 'Stop running testr in the environment under test.\n\nChange-Id: I78dba1a153ed28b3bcaf9ed1638290b032ab230f\n'}]",13,218070,d8792f2ae42c18096132e2f4651182427373c015,15,10,2,4190,,,0,"Stop running testr in the environment under test.

Change-Id: I78dba1a153ed28b3bcaf9ed1638290b032ab230f
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/70/218070/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/testr-and-tox.rst'],1,919056ca7d4cbc6eed1af556a462ad8e483c18a6,testr-constant-python,".. This template should be in ReSTructured text. For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/openstack/+spec/awesome-thing should be named specs/awesome-thing.rst. Wrap text at 79 columns. Do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. ================================== Testr and tox refactoring ================================== OpenStack currently runs testr within the Python environment that is being tested. This leads to poor developer experiences. CI is largely unaffected (though enhanced features can't be deployed as-is). Problem description =================== 1. The bug where testr's storage format is Python version specific affect developers on a regular basis. Even switching to e.g. SQLite won't prevent this being a problem, because SQLite also revs its format from time to time. 2. testr doesn't know what environment tests ran from and thus doesn't annotate them properly, leading to poor reporting of test failures. 3. testr cannot parallelise across environments (because it doesn't know about them). Proposed change =============== Create a separate tox environment for running testr itself. For instance, ``tox -etestr``. That will have as its dependencies testr and nothing else. From within that environment, testr will call back into tox to run each test(s) that are being run. For the meantime, CI would use the pyN entry points, but the default for tox would be configured to use the testr entry point. Alternatives ------------ Don't have testr installations managed by tox. Infra are worried about the impact on test image churn that this may imply, since we often want to use the latest testr features. Image uploads to some of our test clouds are currently problematic. Use ostestr rather than testr. We might do this, or not - its orthogonal to the key change here, but may provide a good place to encapsulate any local logic we need. Implementation ============== Assignee(s) ----------- Primary assignee: Robert Collins, lifeless Work Items ---------- 1. Figure out how to do the new environment minimally and nicely. 2. Update the project testing interface to document this as an expected entry point. 3. Move one project across as an exemplar. 4. Update our cookiecutter template. 5. Rollout across the board. Dependencies ============ None. History ======= .. list-table:: Revisions :header-rows: 1 * - Mitaka - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,113,0
openstack%2Fopenstack-specs~master~Iaa112614178cc937de0da675826661a313990ceb,openstack/openstack-specs,master,Iaa112614178cc937de0da675826661a313990ceb,OSC command naming convention,ABANDONED,2016-04-20 16:33:40.000000000,2021-06-18 16:28:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 170}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 8099}, {'_account_id': 11536}, {'_account_id': 13781}, {'_account_id': 16308}, {'_account_id': 17405}, {'_account_id': 17860}, {'_account_id': 18479}]","[{'number': 1, 'created': '2016-04-20 16:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/c4a0adf863769362d836144fc943a303aeb5e556', 'message': 'OSC command naming convention\n\nIn OSC when developers are implementing commands from their\nspecific project, there are no guidelines or convention for\nthem to follow. This can potentially cause issues where the\nuser is left confused of what a command actually does if the\ndeveloper uses a broad command name. This spec proposes\nintroducing a guideline for naming new commands.\n\nChange-Id: Iaa112614178cc937de0da675826661a313990ceb\n'}, {'number': 2, 'created': '2016-04-21 18:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d9e8e0bc560daa0a2e6d31fbfc91ae4d9fb30a6e', 'message': 'OSC command naming convention\n\nIn OSC when developers are implementing commands from their\nspecific project, there are no guidelines or convention for\nthem to follow. This can potentially cause issues where the\nuser is left confused of what a command actually does if the\ndeveloper uses a broad command name. This spec proposes\nintroducing a guideline for naming new commands.\n\nCo-Authored-By: Sheel Rana <ranasheel2000@gmail.com>\n\nChange-Id: Iaa112614178cc937de0da675826661a313990ceb\n'}, {'number': 3, 'created': '2016-04-22 16:04:43.000000000', 'files': ['specs/osc_command_naming_convention.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e97dcd220825ddd2c693446f78b9d10acdff28c4', 'message': 'OSC command naming convention\n\nIn OSC when developers are implementing commands from their\nspecific project, there are no guidelines or convention for\nthem to follow. This can potentially cause issues where the\nuser is left confused of what a command actually does if the\ndeveloper uses a broad command name. This spec proposes\nintroducing a guideline for naming new commands.\n\nCo-Authored-By: Slade Baumann <baumann@us.ibm.com>\nCo-Authored-By: Jacob Gregor <jgregor@us.ibm.com>\nCo-Authored-By: Sheel Rana <ranasheel2000@gmail.com>\n\nChange-Id: Iaa112614178cc937de0da675826661a313990ceb\n'}]",9,308460,e97dcd220825ddd2c693446f78b9d10acdff28c4,22,12,3,17405,,,0,"OSC command naming convention

In OSC when developers are implementing commands from their
specific project, there are no guidelines or convention for
them to follow. This can potentially cause issues where the
user is left confused of what a command actually does if the
developer uses a broad command name. This spec proposes
introducing a guideline for naming new commands.

Co-Authored-By: Slade Baumann <baumann@us.ibm.com>
Co-Authored-By: Jacob Gregor <jgregor@us.ibm.com>
Co-Authored-By: Sheel Rana <ranasheel2000@gmail.com>

Change-Id: Iaa112614178cc937de0da675826661a313990ceb
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/60/308460/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/osc_command_naming_convention.rst'],1,c4a0adf863769362d836144fc943a303aeb5e556,oscnaming,"================================== OSC Command Naming Convention ================================== https://blueprints.launchpad.net/python-openstackclient/+spec/osc-command-naming-convention Problem description =================== The openstackclient seeks to make a client that is as user friendly as possible. However, in OSC when developers are implementing commands from their specific project, there are no guidelines or convention for them to follow. This can potentially cause issues where the user is left confused as to what a command actually does if the developer uses a broad command name. For example, currently the 'snapshot' command in OSC refers to the Cinder API. There are other projects that use snapshot, like Heat. If the user wants to create a snapshot using Heat, they will more than likely try using the 'snapshot' command initially before realizing they need to use the 'stack snapshot' command. This spec hopes to come up with a naming convention for new functionality in OSC for developers to follow. This will help take the stress off of the OSC community leaders when other projects bring ideas and commands to them. It will also take stress off of other project developers as they will be able to focus on writing quality code and not on whether they are naming their commands correctly or not. And most importantly, it will help keep the OSC consistent and intuitive for users. Proposed change =============== **The Keyword Approach** In order to create better consistency within OSC for both developers and users, commands should have a ""keyword"", or the area affected by the command, that precedes the commands. The purpose of this ""keyword"" is to help differentiate similarly named commands. So in order to keep these commands intuitive and consistent, they should be formatted as the following: openstack ""keyword"" ""command"" <""additional arguments""> For example, currently there is a ""snapshot"" command implemented in the OSC that is used for volumes. This is can be misleading to both users and developers new to OSC as they may think that this command can be used for any project that supports snapshots. So in order to avoid any confusion, this command should actually be called 'volume snapshot' rather than just 'snapshot'. Alternatives ------------ **First Come, First Serve** One alternative method of command naming guidelines would be what we like to call ""First Come, First Serve"". This method is loosely followed already in the commands implemented in OSC (even if this wasn't followed on purpose). When a new resource is brought over to OSC, we first check if there is another command with that same name. If there isn't, we use the resource's keyword/ name as the actual command in OSC. Otherwise, we put the object it is interacting with or the project it is from in front of it's name. Hypothetical Example: Cinder comes up with the resource ""flavor"" that describes flavors for volumes (it doesn't make sense, but bear with me). So we check if ""flavor"" is used in OSC. Oh, it appears that ""flavor"" is already a command being used under compute v2 for nova flavors. So since that exists, we will choose to make the Cinder flavor command ""openstack volume flavor <action>"", because ""openstack flavor <action>"" has already been created. There are a few situations where this is the case right now in OSC. Such as ""snapshot"" vs ""stack snapshot"" with Cinder and Heat respectively (even though Heat-Client is a plugin to OSC, the demonstration still applies). And there will most likely be more in the future as projects learn from each other and adopt similar naming conventions. Implementation ============== Assignee(s) ----------- Reviewers and code creators in OpenStack Work Items ---------- For any commands implemented in the future, developers should follow these guidelines so that their commands are consistent and intuitive to the user. Dependencies ============ - `Cinder Command Implementation Blueprint <https://blueprints.launchpad.net/python-openstackclient/+spec/cinder-command-support>`__ - `Cinder Command Discussion <https://etherpad.openstack.org/p/cinder-command-support>`__ - `OSC Meeting Detailing Resource Naming <http://eavesdrop.openstack.org/meetings/openstackclient/2016/openstackclient.2016-03-31-19.00.html>`__ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Newton - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,116,0
openstack%2Fopenstack-specs~master~I837ff2b8a99532b619345c9d0b38fe38eb7bff8e,openstack/openstack-specs,master,I837ff2b8a99532b619345c9d0b38fe38eb7bff8e,Trivial: Update pypi url to new url,ABANDONED,2018-05-01 06:43:28.000000000,2021-06-18 16:28:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-01 06:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/190dc77d351acffcdc6ed0d166ce824514644d49', 'message': 'Trivial: Update pypi url to new url\n\nChange-Id: I837ff2b8a99532b619345c9d0b38fe38eb7bff8e\n'}, {'number': 2, 'created': '2018-05-01 16:01:15.000000000', 'files': ['specs/chronicles-of-a-dlm.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/22a1c4efed3314a181a1cfba209c494d1c696d09', 'message': 'Trivial: Update pypi url to new url\n\nChange-Id: I837ff2b8a99532b619345c9d0b38fe38eb7bff8e\n'}]",0,565449,22a1c4efed3314a181a1cfba209c494d1c696d09,5,1,2,27336,,,0,"Trivial: Update pypi url to new url

Change-Id: I837ff2b8a99532b619345c9d0b38fe38eb7bff8e
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/49/565449/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/chronicles-of-a-dlm.rst'],1,190dc77d351acffcdc6ed0d166ce824514644d49,,.. _zkshell: https://pypi.python.org/project/zk_shell/.. _python-consul: https://pypi.python.org/project/python-consul,.. _zkshell: https://pypi.python.org/pypi/zk_shell/.. _python-consul: https://pypi.python.org/pypi/python-consul,2,2
openstack%2Fopenstack-specs~master~I33b182538e3243b13f78b917ef47cc15de54f4c5,openstack/openstack-specs,master,I33b182538e3243b13f78b917ef47cc15de54f4c5,Drop MANIFEST.in - it's not needed by pbr,ABANDONED,2016-10-24 12:43:38.000000000,2021-06-18 16:28:16.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 9796}, {'_account_id': 11564}]","[{'number': 1, 'created': '2016-10-24 12:43:38.000000000', 'files': ['MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/406b2b5f88e68814460a6061d4c67368d05314e2', 'message': ""Drop MANIFEST.in - it's not needed by pbr\n\nOpenstack-specs already uses PBR:- setuptools.setup(\n                    setup_requires=['pbr'],\n                    pbr=True)\n\nThis patch removes `MANIFEST.in` file as pbr generates a\nsensible manifest from git files and some standard files\nand it removes the need for an explicit `MANIFEST.in` file.\n\nChange-Id: I33b182538e3243b13f78b917ef47cc15de54f4c5\n""}]",0,390313,406b2b5f88e68814460a6061d4c67368d05314e2,12,4,1,20630,,,0,"Drop MANIFEST.in - it's not needed by pbr

Openstack-specs already uses PBR:- setuptools.setup(
                    setup_requires=['pbr'],
                    pbr=True)

This patch removes `MANIFEST.in` file as pbr generates a
sensible manifest from git files and some standard files
and it removes the need for an explicit `MANIFEST.in` file.

Change-Id: I33b182538e3243b13f78b917ef47cc15de54f4c5
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/13/390313/1 && git format-patch -1 --stdout FETCH_HEAD,['MANIFEST.in'],1,406b2b5f88e68814460a6061d4c67368d05314e2,drop-manifest,,include AUTHORS include ChangeLog exclude .gitignore exclude .gitreview global-exclude *.pyc ,0,6
openstack%2Fopenstack-specs~master~I1e53ebd014a09a3a3453e86aebcd9eb5d48a5bb7,openstack/openstack-specs,master,I1e53ebd014a09a3a3453e86aebcd9eb5d48a5bb7,Remove pbr warnerrors in favor of sphinx check,ABANDONED,2018-02-01 03:49:04.000000000,2021-06-18 16:28:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-01 03:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/53154f116a3b57a315b6ba3b8aa5b78a45ddb03a', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting, which is\nreplaced by ""warning-is-error"" in sphinx releases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/ 2017-March/113085.html\n\nChange-Id: I1e53ebd014a09a3a3453e86aebcd9eb5d48a5bb7\nCloses-Bug:#1693670\n'}, {'number': 2, 'created': '2018-02-20 00:07:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/0d3661246fc34ed1d601a41874f8edf9478d9986', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting, which is\nreplaced by ""warning-is-error"" in sphinx releases >= 1.5 [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113085.html\n\nChange-Id: I1e53ebd014a09a3a3453e86aebcd9eb5d48a5bb7\nCloses-Bug:#1693670\n'}]",1,539795,0d3661246fc34ed1d601a41874f8edf9478d9986,7,3,2,19853,,,0,"Remove pbr warnerrors in favor of sphinx check

This change removes the now unused ""warnerrors"" setting, which is
replaced by ""warning-is-error"" in sphinx releases >= 1.5 [1].

[1] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113085.html

Change-Id: I1e53ebd014a09a3a3453e86aebcd9eb5d48a5bb7
Closes-Bug:#1693670
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/95/539795/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,53154f116a3b57a315b6ba3b8aa5b78a45ddb03a,bug/1693670,warning-is-error = 1,warnerrors = True,1,1
openstack%2Fopenstack-specs~master~Id94d612ab5bea317a221581039f321bd649b406e,openstack/openstack-specs,master,Id94d612ab5bea317a221581039f321bd649b406e,Delimiter - Cross Project Quota Enforcement and Management,ABANDONED,2016-02-24 23:03:59.000000000,2021-06-18 16:28:08.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 136}, {'_account_id': 170}, {'_account_id': 330}, {'_account_id': 782}, {'_account_id': 1207}, {'_account_id': 1297}, {'_account_id': 1736}, {'_account_id': 1941}, {'_account_id': 2033}, {'_account_id': 2472}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6484}, {'_account_id': 8866}, {'_account_id': 8912}, {'_account_id': 9003}, {'_account_id': 9664}, {'_account_id': 9775}, {'_account_id': 10263}, {'_account_id': 11057}, {'_account_id': 11819}, {'_account_id': 11904}, {'_account_id': 12237}, {'_account_id': 15054}, {'_account_id': 15359}, {'_account_id': 17254}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-02-24 23:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e4a8863a950d1d454982139253e46e463ca335cc', 'message': 'Delimiter - A Quota Library to Enforce and Manage Quota\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common library at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a central library so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 2, 'created': '2016-02-29 09:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/aa47d59561bdc8a677275aef50d8d7d2e9d0c9b8', 'message': 'Delimiter - Cross Project Quota Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 3, 'created': '2016-02-29 09:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d4b563d3242517a948757898051a46ac20f26ced', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 4, 'created': '2016-02-29 09:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/26cb9ab26fe753b8ee23de04b328e070d50c6fc7', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 5, 'created': '2016-03-14 19:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/8b246852f892c0534ed88de927ab459b9a525d88', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 6, 'created': '2016-03-18 07:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e94713a77b03e5f1e8f56252214e5b1ca49a8bb7', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 7, 'created': '2016-03-18 07:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f03ada73e6cd6295689bffe1e939dd8a9f8241a2', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 8, 'created': '2016-03-29 20:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d650d620c12ab29e7cfb074ff8aaeae4f9a314d2', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 9, 'created': '2016-04-26 21:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/8384774ece0ca93a17e0277c51ffea2fa131b41e', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common entity so that new and existing projects can seek benefit\nfrom it. This common entity will be a library.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}, {'number': 10, 'created': '2016-05-05 00:39:15.000000000', 'files': ['specs/delimiter-cross-project-quota-enforcement.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/215ed500858190851b89e6fdbed7d1b07fa5fb8d', 'message': 'Delimiter - Cross Project Quota Enforcement and Management\n\nQuotas are common and the same time complex peice of code that every project\nin OpenStack needs for proper usage and management of resources. It seems\nthat even though it is a common requirement there is not a common entity at\npresent which enforces quota where as the approach taken by OpenStack is to\nhave every project build its own quota framework (database tables, businees\nlogic, etc) needed to enforce and manage quotas. Hence, this is an attempt\nto build a common library so that new and existing projects can seek benefit\nfrom it.\n\nChange-Id: Id94d612ab5bea317a221581039f321bd649b406e\n'}]",145,284454,215ed500858190851b89e6fdbed7d1b07fa5fb8d,69,29,10,10263,,,0,"Delimiter - Cross Project Quota Enforcement and Management

Quotas are common and the same time complex peice of code that every project
in OpenStack needs for proper usage and management of resources. It seems
that even though it is a common requirement there is not a common entity at
present which enforces quota where as the approach taken by OpenStack is to
have every project build its own quota framework (database tables, businees
logic, etc) needed to enforce and manage quotas. Hence, this is an attempt
to build a common library so that new and existing projects can seek benefit
from it.

Change-Id: Id94d612ab5bea317a221581039f321bd649b406e
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/54/284454/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/quota-library.rst'],1,e4a8863a950d1d454982139253e46e463ca335cc,delimeter,"======================================================= Delimiter - A Quota Library to Enforce and Manage Quota ======================================================= No blueprint, this is intended as a reference document. Quotas are common and the same time complex peice of code that every project in OpenStack needs for proper usage and management of resources. It seems that even though it is a common requirement there is not a common library at present which enforces quota where as the approach taken by OpenStack is to have every project build its own quota framework (database tables, businees logic, etc) needed to enforce and manage quotas. Hence, this is an attempt to build a central library so that new and existing projects can seek benefit from it. Problem description =================== As mentioned above Quota are comman across various projects in Openstack and its surprising to see that even the code pattern used are comman for various reasons[3][4]. It won't be surprising that if a new project want to get a quickstart on quota they might end of following the same pattern, business logic and we might end up having code duplication. Code duplication is not always good and it is worst when the source has problems in which case the project following the same pattern tends to inherit the problems which source had. For example the quota operations are not atomic, they have minimal concurrency related features which prevent to behave them wrongly in an highly realistic/concurrent envoirnment. [5] has a list of few bugs which were opened as a result. So we think that it would be better to have a Quota library which is common for all projects with the goal to :- 1. Zero or no code duplication across project who plan to enfore and manage quotas. The function `quota_class_get_default` implement in Nova[3] and the way it is implemented in Cinder is exactly the same[4] 2. Help to add new features to the library and make it available for all the projects in Openstack who want to consume them. For example Nested Quota feature - which allows hierarchical ownership of projects and distribution, management of resources in a hierachy was first introduced in Cinder[1]. Later Nova[2] decided to take the same approach as implemented for Cinder. Going ahead if a new project plans to avail the benefits of Nested Quota, we don't want them to re-invent the wheel but make use of ""delimiter"" library and get the needed feature. This helps to save time and move quickly. 3. Help focus on making quota enforcement and management better by addressing issues such as concurrency, atomicity, etc which are still prevelant in quota module for every OpenStack project. Proposed change =============== Alternatives ------------ Implementation ============== Assignee(s) ----------- Primary assignee: vilobhmm Additional contributors: harlowja Work Items ---------- Dependencies ============ None References ========== [1] Cinder Nested Quota Driver https://review.openstack.org/#/c/173141/ [2] Nova Nested Quota Driver https://review.openstack.org/#/c/209969/ [3] Nova quota_class_get_default https://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/api.py#L3248-L3259 [4] Cinder quota_class_get_default https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L642-L653 [5] Quota Bugs : * https://bugs.launchpad.net/nova/+bug/1202896 * https://bugs.launchpad.net/nova/+bug/1098380 * https://bugs.launchpad.net/nova/+bug/1212798 * https://bugs.launchpad.net/nova/+bug/1284424 * https://bugs.launchpad.net/nova/+bug/1301532 * https://bugs.launchpad.net/nova/+bug/1353962 * https://bugs.launchpad.net/nova/+bug/1434317 * https://bugs.launchpad.net/nova/+bug/1523793 * https://bugs.launchpad.net/nova/+bug/1118066 * https://bugs.launchpad.net/nova/+bug/1284708 * https://bugs.launchpad.net/nova/+bug/1292090 * https://bugs.launchpad.net/nova/+bug/1337991 * https://bugs.launchpad.net/nova/+bug/1192287 * https://bugs.launchpad.net/nova/+bug/1246668 * https://bugs.launchpad.net/cinder/+bug/1307487 * https://bugs.launchpad.net/cinder/+bug/1518513 * https://bugs.launchpad.net/cinder/+bug/1278339 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Mitaka - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,125,0
openstack%2Fopenstack-specs~master~I479092025020fadc9bd8c6d9ab74ed386820eb53,openstack/openstack-specs,master,I479092025020fadc9bd8c6d9ab74ed386820eb53,Add asynchronous user event support to OpenStack,ABANDONED,2015-05-27 02:17:31.000000000,2021-06-18 16:28:04.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 170}, {'_account_id': 4190}, {'_account_id': 4257}, {'_account_id': 4715}, {'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6537}, {'_account_id': 6794}, {'_account_id': 12321}, {'_account_id': 12606}, {'_account_id': 17860}]","[{'number': 1, 'created': '2015-05-27 02:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f2e2fb1ae446a5a4bf01bf74361bb324cb2a3e3e', 'message': ""Add asynchronous user event support to OpenStack\n\nNote: still some TODO's, but up so people can contribute.\n\nChange-Id: I479092025020fadc9bd8c6d9ab74ed386820eb53\nRef: https://etherpad.openstack.org/p/liberty-cross-project-user-notifications\n""}, {'number': 2, 'created': '2015-05-27 02:54:26.000000000', 'files': ['specs/user-events.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/5269867f79666f445d5d72af3de714be25f946ac', 'message': ""Add asynchronous user event support to OpenStack\n\nNote: still some TODO's, but up so people can contribute.\n\nChange-Id: I479092025020fadc9bd8c6d9ab74ed386820eb53\nRef: https://etherpad.openstack.org/p/liberty-cross-project-user-notifications\n""}]",28,185822,5269867f79666f445d5d72af3de714be25f946ac,21,13,2,4715,,,0,"Add asynchronous user event support to OpenStack

Note: still some TODO's, but up so people can contribute.

Change-Id: I479092025020fadc9bd8c6d9ab74ed386820eb53
Ref: https://etherpad.openstack.org/p/liberty-cross-project-user-notifications
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/22/185822/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/user-events.rst'],1,f2e2fb1ae446a5a4bf01bf74361bb324cb2a3e3e,,"===================================== Getting OpenStack Events to the User ===================================== Currently OpenStack services have no way to send messages to end users interacting with the API and users can not get asyncronous events and have to poll our REST API. Reference: https://etherpad.openstack.org/p/liberty-cross-project-user-notifications Problem description =================== 1. Many log messages and RPC notification contain great information that would really help the user to self-diagnose problems instead of having to ask for support from the cloud operator. 2. There are a growing amount of non-user triggered actions, for example autoscaling, timed snapshots, etc. These actions have little avenue for informing the user that they occured and what the result was. This could be greatly improved by having events that could be sent to the user. 3. Many of OpenStack's API return a 202 (they only accept the request then return). This leaves it to the user to poll the resource to see if/when it completes. This could be improved by providing an event stream (websocket) that a client could wait on to see when it is done. All of the above are done in an inconsistant manner and would benefit from a cohesive solution. Proposed change =============== Create a small service that a user can ask for a websocket connection to get events. To achieve this we can model a solution based off of https://launchpad.net/txlongpoll. txlongpoll is a simple protocol converter between AMPQ and longpoll (obviously we would want to use websockets and integrate with oslo.messaging). This relies on each OpenStack service sending user events to a per-resource topic name constructed like the following: :: hash('<project>/<noun>/<uuid>') eg. hash('nova/server/29b2653a157f4570be037c77b02c74d7') The point of hashing the queue name based on the resource is to prevent users from attempting to connect to non-user related queues and to not have overly noisy event streams. The content of the notification is mostly links to the relavant resources so that the user can retieve the new state. The point of this API is simply to provide the asyncronous event not the actual content so there is no polling. This allows this new API to be totally unauthenticated as it does not provide any private information (just a link to a REST resource that is authenticated). This also makes the payload less likely to change as we won't need to keep adding new fields and thus won't need a versioning scheme. The event format sent to the user will be:: {'id': six.text_type(uuid.uuid4()), 'timestamp': timeutils.utcnow(), 'priority': 'INFO', 'type': 'STATE_CHANGE', 'links': [{'rel': 'resource', 'href': 'https://example.com/servers/29b26..'}]} {'id': six.text_type(uuid.uuid4()), 'timestamp': timeutils.utcnow(), 'priority': 'WARN', 'type': 'MESSAGE', 'links': [{'rel': 'resource', 'href': 'https://example.com/servers/29b26..'}, {'rel': 'message', 'href': 'https://example.com/objects/29b89..'}]} The event ""type"" is so the user can filter out changes that they don't care about (these are based on the main use cases). The types that will be supported are: * STATE_CHANGE: the operational state of the resource has changed * PROPERTY_CHANGE: someone has updated the resource properties * MESSAGE: a direct message from the service to the user related to the resouce. Note: the message will be required in MESSAGE but optional in STATE_CHANGE and PROPERTY_CHANGE. The storage of the message body will be in Swift or Zaqar. TODO(asalkeld): define the format of the MESSAGE posted. The user would then consume the events with any of the available websocket libraries. TODO(asalkeld) put an example usage here once I have done some rescearch on the different libraries. Alternatives ------------ Instead of using AMPQ we could use Zaqar and have short TTL's on the messages. This can still potentially be an optional deployment, but reusing the AMPQ infrastructure seemed like an easyier pathway to get widespread deployment. The main issue here is getting WebSocket events to users. Implementation ============== Assignee(s) ----------- Primary assignee: Angus Salkeld, asalkeld. (others welcome) Work Items ---------- * create the events server in oslo.messaging (tentative - or standalone repo) * add any needed helper functions into oslo.messaging to assist in creating the messages. * add support to python-openstackclient * for project in openstack: send(user events that make sense) * document the setup of the service. * document the client side usage. * add support to devstack * test in the gate that the user events are received (tempest tests). * where existing clients have --wait on async resource actions we could transition over to using websockets instead of polling. Dependencies ============ - websocket libraries: - https://flask-socketio.readthedocs.org/en/latest/ (not python 3 yet) - http://autobahn.ws/python/ (uses twisted or asyncio) - https://pypi.python.org/pypi/websocket-client/ (LGPL) History ======= .. list-table:: Revisions :header-rows: 1 * - Liberty - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,167,0
openstack%2Fopenstack-specs~master~I271ea74513e7e2eb907b0e979fdd3f2f6e935f80,openstack/openstack-specs,master,I271ea74513e7e2eb907b0e979fdd3f2f6e935f80,DNS and SSL Certificates,ABANDONED,2015-09-25 22:36:56.000000000,2021-06-18 16:28:00.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 741}, {'_account_id': 7973}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 9237}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2015-09-25 22:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/245bbf99d879eed87ce42afe6b0a12bf7a044e47', 'message': 'DNS and SSL Certificates\n\nThis spec covers a mechanism to allow users to get SSL Certificates\nassociated with their DNS entries.\n\nChange-Id: I271ea74513e7e2eb907b0e979fdd3f2f6e935f80\n'}, {'number': 2, 'created': '2015-09-28 16:32:42.000000000', 'files': ['specs/dns-certs.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/7867a5f264039eecfcdb9a5d947b485866d10612', 'message': 'DNS and SSL Certificates\n\nThis spec covers a mechanism to allow users to get SSL Certificates\nassociated with their DNS entries.\n\nChange-Id: I271ea74513e7e2eb907b0e979fdd3f2f6e935f80\n'}]",16,228074,7867a5f264039eecfcdb9a5d947b485866d10612,16,10,2,9237,,,0,"DNS and SSL Certificates

This spec covers a mechanism to allow users to get SSL Certificates
associated with their DNS entries.

Change-Id: I271ea74513e7e2eb907b0e979fdd3f2f6e935f80
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/74/228074/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/dns-certs.rst'],1,245bbf99d879eed87ce42afe6b0a12bf7a044e47,,".. ================== DNS Certificates ================== There is currently a lack of integration between DNSaaS and the OpenStack Certificate service (Barbican) Problem description =================== As a cloud developer, I would like to contribute heat stacks to the OpenStack App Catalog (http://apps.openstack.org). Some of the most common applications are web apps. Often these web applications need to handle usernames/passwords or some other sensitive information. Currently there's not much choice except doing a self signed certificate and making the users of the software click through a big security warning. There needs to be a way to programatically ask for a SSL certificate that goes along with a DNS entry managed by DNSaaS. Proposed change =============== DNSaaS provides a nice way to give a tenant a domain. You can manage entries on it, create subdomains, and transfer them to other tenants. Whats lacking currently is an API to Create/Fetch a Certificate with the DNS entry, and a way to associate wild card certs and CA's with a domain. There are two main components involved. Designate and Barbican. The API could be added to either. I'm proposing adding it to Designate since Designate is the API that is aware of which tenants have access to which DNS entries. This change can also be further enhanced with the Instance User spec to make it easier to fetch keys all the way down to the instance. For a given DNS Zone, there needs to be a way to associate either: * A Barbican container for a wild card certificate. Any requests for a certificate for the Zone will provide that certificate. * A Barbican CA. Designate will create a certificate in Barbican using that CA whenever an Instance needs a certificate in a given Zone. If a subdomain is created and a wild card certificate is associated with the parent, the subdomain will have no wild card cert set. If a Barbican CA is associated with a domain and a subdomain is created, the Barbican CA sticks. If a Barbican CA is associated with a parent domain and the subdomain's CA is then set, then only the subdomain is affected. The parent retains its origional CA. If a subdomain is transferred from one tenant to another, by default the parents CA should still stay in affect. This allows a cloud operator to have one single CA manage a domain, with a subdomain for each tenant easily. The CA is owned by the cloud operator and specific certificates are handed out to the users upon request. When using a site CA, this allows only the one site CA to need to be loaded into the site's browsers for the entire cloud. This scales much better in an organization. To play nicely with Instance Users, Designate will own the certificate containers and will use Barbican ACL's to make the container read only available to the Tenant owning the Instance its created for. This allows Barbican to destroy/revoke the Certificates if a domain is transferred between tenants or a domain is deleted. Heat will need to be extended to support the various resources needed for the workflow. Horizon will also need to be extended to cover the functionality. Alternatives ------------ Keep doing things as is. Implementation ============== Assignee(s) ----------- Primary assignee: kfox1111 Work Items ---------- Dependencies ============ None known. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Mitaka - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,116,0
openstack%2Fproject-navigator-data~master~I8bb1a9a9d510be050306a407e31d8dffb1e93da8,openstack/project-navigator-data,master,I8bb1a9a9d510be050306a407e31d8dffb1e93da8,Correct the tox option for skipping sdist generation,ABANDONED,2021-06-17 17:07:04.000000000,2021-06-18 16:26:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 17:07:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/ee47d1e5497dc68dfdb385f81849973e09323d6d', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I8bb1a9a9d510be050306a407e31d8dffb1e93da8\n'}]",0,796913,ee47d1e5497dc68dfdb385f81849973e09323d6d,3,1,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I8bb1a9a9d510be050306a407e31d8dffb1e93da8
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/13/796913/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ee47d1e5497dc68dfdb385f81849973e09323d6d,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Fproject-navigator-data~master~Iba91dd8ea13ba10f332ad576c6f0dae025af411c,openstack/project-navigator-data,master,Iba91dd8ea13ba10f332ad576c6f0dae025af411c,Add nova entry for rocky,ABANDONED,2018-08-29 22:09:33.000000000,2021-06-18 16:26:52.000000000,,"[{'_account_id': 3153}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-08-29 22:09:33.000000000', 'files': ['releases/rocky/nova.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/4263993916712baeee4369502f8882c9e9135106', 'message': 'Add nova entry for rocky\n\nTaken from the compute API microversion history docs:\n\nhttps://docs.openstack.org/nova/rocky/reference/api-microversion-history.html\n\nChange-Id: Iba91dd8ea13ba10f332ad576c6f0dae025af411c\n'}]",0,597720,4263993916712baeee4369502f8882c9e9135106,8,6,1,4690,,,0,"Add nova entry for rocky

Taken from the compute API microversion history docs:

https://docs.openstack.org/nova/rocky/reference/api-microversion-history.html

Change-Id: Iba91dd8ea13ba10f332ad576c6f0dae025af411c
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/20/597720/1 && git format-patch -1 --stdout FETCH_HEAD,['releases/rocky/nova.json'],1,4263993916712baeee4369502f8882c9e9135106,nova-rocky-version,"{ ""versions"": [ { ""id"": ""v2.0"", ""status"": ""SUPPORTED"" }, { ""id"": ""v2.1"", ""status"": ""CURRENT"", ""version"": ""2.65"", ""min_version"": ""2.1"" } ] } ",,14,0
openstack%2Fproject-navigator-data~master~I6ba6911af06d2b61d9209e5880bb218369ca4cd2,openstack/project-navigator-data,master,I6ba6911af06d2b61d9209e5880bb218369ca4cd2,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 15:01:25.000000000,2021-06-18 16:26:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-04 15:01:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/441ed0f898c90c0dfe7238a80c0521855feae1cb', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I6ba6911af06d2b61d9209e5880bb218369ca4cd2\n'}]",0,622347,441ed0f898c90c0dfe7238a80c0521855feae1cb,7,3,1,17499,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I6ba6911af06d2b61d9209e5880bb218369ca4cd2
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/47/622347/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,441ed0f898c90c0dfe7238a80c0521855feae1cb,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fproject-navigator-data~master~I37baedf3e199f49e4574956af13ce2ff48ca7f82,openstack/project-navigator-data,master,I37baedf3e199f49e4574956af13ce2ff48ca7f82,Align nova microversion declaration,ABANDONED,2017-04-24 11:58:58.000000000,2021-06-18 16:26:43.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-04-24 11:58:58.000000000', 'files': ['releases/liberty/nova.json', 'releases/ocata/nova.json', 'README.rst', 'releases/kilo/nova.json', 'releases/mitaka/nova.json', 'schema.json', 'releases/newton/nova.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/e2a5775c5ee278c9cf4fabe474ad844813293cf4', 'message': 'Align nova microversion declaration\n\nThe data in this repo is normalized, not a direct copy of the data\nemitted by the project. While it is true that Nova returns \'version\' and\nnot \'max_version\', the intent is for the structures here to match the\nAPI-WG spec. (Thus, keystone lists ""CURRENT"" not ""stable"", for instance)\n\nChange-Id: I37baedf3e199f49e4574956af13ce2ff48ca7f82\n'}]",0,459255,e2a5775c5ee278c9cf4fabe474ad844813293cf4,6,2,1,2,,,0,"Align nova microversion declaration

The data in this repo is normalized, not a direct copy of the data
emitted by the project. While it is true that Nova returns 'version' and
not 'max_version', the intent is for the structures here to match the
API-WG spec. (Thus, keystone lists ""CURRENT"" not ""stable"", for instance)

Change-Id: I37baedf3e199f49e4574956af13ce2ff48ca7f82
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/55/459255/1 && git format-patch -1 --stdout FETCH_HEAD,"['releases/liberty/nova.json', 'releases/ocata/nova.json', 'README.rst', 'releases/kilo/nova.json', 'releases/mitaka/nova.json', 'schema.json', 'releases/newton/nova.json']",7,e2a5775c5ee278c9cf4fabe474ad844813293cf4,454691," ""max_version"": ""2.38"","," ""version"": ""2.38"",",8,13
openstack%2Fproject-navigator-data~master~Ia646d5e1ae460f6902552bdf3bda3c343e84bb47,openstack/project-navigator-data,master,Ia646d5e1ae460f6902552bdf3bda3c343e84bb47,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-24 02:09:42.000000000,2021-06-18 16:26:37.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 02:09:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/46c5d00644601d298aa5283d08f8d455c079f72f', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: Ia646d5e1ae460f6902552bdf3bda3c343e84bb47\n'}]",0,632851,46c5d00644601d298aa5283d08f8d455c079f72f,6,4,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: Ia646d5e1ae460f6902552bdf3bda3c343e84bb47
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/51/632851/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,46c5d00644601d298aa5283d08f8d455c079f72f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fproject-navigator-data~master~I7d79a65e22c5d93561c87aa439673c303825f890,openstack/project-navigator-data,master,I7d79a65e22c5d93561c87aa439673c303825f890,Update min tox version to 2.0,ABANDONED,2018-11-02 07:17:50.000000000,2021-06-18 16:26:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-02 07:17:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/7dd5257417e901ba661840cb629cd804b1e973ce', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I7d79a65e22c5d93561c87aa439673c303825f890\n'}]",0,615066,7dd5257417e901ba661840cb629cd804b1e973ce,3,1,1,28543,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I7d79a65e22c5d93561c87aa439673c303825f890
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/66/615066/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7dd5257417e901ba661840cb629cd804b1e973ce,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Farch-wg~master~I79846806b1b2d3fde700de7c3a28d52dbd5dc47e,openstack/arch-wg,master,I79846806b1b2d3fde700de7c3a28d52dbd5dc47e,Replace freenode ref with OFTC,ABANDONED,2021-05-31 21:17:16.000000000,2021-06-18 16:25:39.000000000,,[],"[{'number': 1, 'created': '2021-05-31 21:17:16.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/arch-wg/commit/d3846d9142c6ada936bd8cf5740f6e9fefb2f33a', 'message': 'Replace freenode ref with OFTC\n\nAlso update ML name.\n\nChange-Id: I79846806b1b2d3fde700de7c3a28d52dbd5dc47e\n'}]",0,793863,d3846d9142c6ada936bd8cf5740f6e9fefb2f33a,2,0,1,8556,,,0,"Replace freenode ref with OFTC

Also update ML name.

Change-Id: I79846806b1b2d3fde700de7c3a28d52dbd5dc47e
",git fetch https://review.opendev.org/openstack/arch-wg refs/changes/63/793863/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,d3846d9142c6ada936bd8cf5740f6e9fefb2f33a,oftc,* Email: `openstack-discuss mailing list` * IRC: #openstack-meeting-alt on OFTC.. _openstack-discuss mailing list: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss,* Email: `openstack-dev mailing list` * IRC: #openstack-meeting-alt on Freenode.. _openstack-dev mailing list: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev,3,3
openstack%2Farch-wg~master~Id3130f4f98cf934f67caa78573a501aa978cdebf,openstack/arch-wg,master,Id3130f4f98cf934f67caa78573a501aa978cdebf,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-04 09:32:14.000000000,2021-06-18 16:25:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-04 09:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/arch-wg/commit/4308773bc89e5b10bcffe3e6dd5ab694cd6622c0', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Id3130f4f98cf934f67caa78573a501aa978cdebf\n'}, {'number': 2, 'created': '2021-05-04 09:32:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/arch-wg/commit/ab162177fa303c5291aea7c736835cc4b48430e7', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id3130f4f98cf934f67caa78573a501aa978cdebf\n""}]",0,789540,ab162177fa303c5291aea7c736835cc4b48430e7,4,1,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id3130f4f98cf934f67caa78573a501aa978cdebf
",git fetch https://review.opendev.org/openstack/arch-wg refs/changes/40/789540/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4308773bc89e5b10bcffe3e6dd5ab694cd6622c0,,description_file =build_dir = doc/build source_dir = doc/source,description-file =build-dir = doc/build source-dir = doc/source,3,3
openstack%2Farch-wg~master~I586180e0e0673b78354ea2e57033725a174ac6d5,openstack/arch-wg,master,I586180e0e0673b78354ea2e57033725a174ac6d5,"Applying the HTTPS protocal in base-services.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type",ABANDONED,2018-11-13 14:34:49.000000000,2021-06-18 16:25:31.000000000,,[],"[{'number': 1, 'created': '2018-11-13 14:34:49.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/arch-wg/commit/9e65e708dc0349b88689002cecff88a50fe7a83e', 'message': ""Applying the HTTPS protocal in base-services.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type\n\nChange-Id: I586180e0e0673b78354ea2e57033725a174ac6d5\n""}]",0,617669,9e65e708dc0349b88689002cecff88a50fe7a83e,2,0,1,29423,,,0,"Applying the HTTPS protocal in base-services.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type

Change-Id: I586180e0e0673b78354ea2e57033725a174ac6d5
",git fetch https://review.opendev.org/openstack/arch-wg refs/changes/69/617669/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,9e65e708dc0349b88689002cecff88a50fe7a83e,,.. _openstack-dev mailing list: https://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev.. _weekly meeting schedule: https://eavesdrop.openstack.org/#Architecture_Working_Group.. _debated: https://lists.openstack.org/pipermail/openstack-dev/2016-May/095452.html.. image:: https://docs.openstack.org/admin-guide/_images/openstack-arch-kilo-logical-v1.png,.. _openstack-dev mailing list: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev.. _weekly meeting schedule: http://eavesdrop.openstack.org/#Architecture_Working_Group.. _debated: http://lists.openstack.org/pipermail/openstack-dev/2016-May/095452.html.. image:: http://docs.openstack.org/admin-guide/_images/openstack-arch-kilo-logical-v1.png,4,4
openstack%2Fnova~master~Ibc967be291853e23027d9b8210ece572adcc80c9,openstack/nova,master,Ibc967be291853e23027d9b8210ece572adcc80c9,Handle OPERATION_FAILED error during detach,MERGED,2021-06-14 10:35:27.000000000,2021-06-18 16:25:13.000000000,2021-06-18 16:22:09.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 10:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b23fa820ff60e9b86566f6ef0016f999c0ec0e8', 'message': 'Handle OPERATION_FAILED error during detach\n\nWhile libvirt 4.1 started to use DEVICE_MISSING for most of the cases\nthere is still one[1] using OPERATION_FAILED when the device is missing\nduring detach. So nova needs to handle that properly.\n\nRevert this when libvirt merges[1] and nova bumps the min version over\nto that release.\n\n[1] https://listman.redhat.com/archives/libvir-list/2021-June/msg00337.html\\\n\nChange-Id: Ibc967be291853e23027d9b8210ece572adcc80c9\nCloses-Bug: #1931716\n'}, {'number': 2, 'created': '2021-06-14 17:40:32.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb67ec24e31d79749f2fa515fa69d861dfb12244', 'message': 'Handle OPERATION_FAILED error during detach\n\nWhile libvirt 4.1 started to use DEVICE_MISSING for most of the cases\nthere is still one[1] using OPERATION_FAILED when the device is missing\nduring detach. So nova needs to handle that properly.\n\nRevert this when libvirt merges[1] and nova bumps the min version over\nto that release.\n\n[1] https://listman.redhat.com/archives/libvir-list/2021-June/msg00337.html\n\nChange-Id: Ibc967be291853e23027d9b8210ece572adcc80c9\nCloses-Bug: #1931716\n'}]",4,796255,eb67ec24e31d79749f2fa515fa69d861dfb12244,91,4,2,9708,,,0,"Handle OPERATION_FAILED error during detach

While libvirt 4.1 started to use DEVICE_MISSING for most of the cases
there is still one[1] using OPERATION_FAILED when the device is missing
during detach. So nova needs to handle that properly.

Revert this when libvirt merges[1] and nova bumps the min version over
to that release.

[1] https://listman.redhat.com/archives/libvir-list/2021-June/msg00337.html

Change-Id: Ibc967be291853e23027d9b8210ece572adcc80c9
Closes-Bug: #1931716
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/796255/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7b23fa820ff60e9b86566f6ef0016f999c0ec0e8,bug/1931716," def test__detach_with_retry_live_dev_not_found_operation_failed( self, state ): """"""Tests that exception is raised if a live detach is requested, but the device is not found in the live domain and libvirt signalled that with an OPERATION_FAILED error message instead of the DEVICE_MISSING. See bug 1931716. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = state # for simplicity do a live only detach mock_guest.has_persistent_configuration.return_value = False mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' # there will only one device query when the code checks that device # existing in the live domain before it attempts to detach it mock_get_device_conf_func = mock.Mock(return_value=mock_dev) # simulate that libvirt raises an error synchronously with # OPERATION_FAILED error code mock_guest.detach_device.side_effect = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, msg='error', error_message='disk vdb not found', error_code=fakelibvirt.VIR_ERR_OPERATION_FAILED) self.assertRaises( exception.DeviceNotFound, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_guest.detach_device.assert_called_once_with( mock_dev, persistent=False, live=True) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) @ddt.data(power_state.RUNNING, power_state.PAUSED)",,55,1
openstack%2Fworkload-ref-archs~master~Ia71e235ec791fdd73c310213008f9113d680b8ea,openstack/workload-ref-archs,master,Ia71e235ec791fdd73c310213008f9113d680b8ea,Use py3 as the default runtime for tox,ABANDONED,2021-04-27 06:55:31.000000000,2021-06-18 16:25:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 06:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/36f49ca9dc17d00bed8f76321dcd9d3f4b8fbf01', 'message': 'Use py3 as the default runtime for tox\n\nChange-Id: Ia71e235ec791fdd73c310213008f9113d680b8ea\n'}, {'number': 2, 'created': '2021-04-27 06:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/04a3c718d33b9aba5a233794f044cb0360f57209', 'message': 'Use py3 as the default runtime for tox\nMoving on py3 as the default runtime for tox to avoid to update this at each new cycle.\n\nChange-Id: Ia71e235ec791fdd73c310213008f9113d680b8ea\n'}, {'number': 3, 'created': '2021-04-27 07:01:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/dc2f4ed0364fbea1455940ce6e7dd991953382ef', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at each new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.7\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.\n\nChange-Id: Ia71e235ec791fdd73c310213008f9113d680b8ea\n""}]",0,788173,dc2f4ed0364fbea1455940ce6e7dd991953382ef,5,1,3,32921,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.7

During Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.

Change-Id: Ia71e235ec791fdd73c310213008f9113d680b8ea
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/73/788173/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,36f49ca9dc17d00bed8f76321dcd9d3f4b8fbf01,,"envlist = py3,py27,pypy,pep8","envlist = py37,py36,py27,pypy,pep8",1,1
openstack%2Fworkload-ref-archs~master~I421cdf465e00483428a649930f1d37d16c6fe459,openstack/workload-ref-archs,master,I421cdf465e00483428a649930f1d37d16c6fe459,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:42:56.000000000,2021-06-18 16:24:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-20 02:42:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/92c4637382b530eb99f5b7f032632779314b660d', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I421cdf465e00483428a649930f1d37d16c6fe459\n'}]",0,787040,92c4637382b530eb99f5b7f032632779314b660d,3,1,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I421cdf465e00483428a649930f1d37d16c6fe459
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/40/787040/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,92c4637382b530eb99f5b7f032632779314b660d,,"envlist = py3,py27,pypy,pep8","envlist = py37,py36,py27,pypy,pep8",1,1
openstack%2Fworkload-ref-archs~master~If53a2edbb8b351b9dea8ba49bb35145a34714159,openstack/workload-ref-archs,master,If53a2edbb8b351b9dea8ba49bb35145a34714159,Switch to newer openstackdocstheme and reno versions,ABANDONED,2020-06-10 14:28:29.000000000,2021-06-18 16:24:54.000000000,,"[{'_account_id': 12651}, {'_account_id': 14091}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-10 14:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/9281d6e6ae220ff3c9a9d2e58e2cc94f184244ab', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_version to not auto-version the documents.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nCleanup requirements, tox.ini, setup.py for Python3.\n\nChange-Id: If53a2edbb8b351b9dea8ba49bb35145a34714159\n""}, {'number': 2, 'created': '2020-06-10 14:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/6f1a2fe017d0fcdc57e2de0f40d524c3e1173f31', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_version to not auto-version the documents.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nCleanup requirements, tox.ini, setup.py for Python3.\nFix build problems.\n\nChange-Id: If53a2edbb8b351b9dea8ba49bb35145a34714159\n""}, {'number': 3, 'created': '2020-07-23 07:07:04.000000000', 'files': ['doc/source/index.rst', 'requirements.txt', 'test-requirements.txt', 'setup.py', 'doc/source/conf.py', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'MANIFEST.in', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/4b680136359a8889b055d720e6e691da7ea2efb4', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_version to not auto-version the documents.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nCleanup requirements, tox.ini, setup.py for Python3.\nFix build problems.\n\nChange-Id: If53a2edbb8b351b9dea8ba49bb35145a34714159\n""}]",0,734859,4b680136359a8889b055d720e6e691da7ea2efb4,10,4,3,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_version to not auto-version the documents.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

Remove docs requirements from lower-constraints, they are not needed
during install or test but only for docs building.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Cleanup requirements, tox.ini, setup.py for Python3.
Fix build problems.

Change-Id: If53a2edbb8b351b9dea8ba49bb35145a34714159
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/59/734859/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini', 'MANIFEST.in', 'releasenotes/source/conf.py']",8,9281d6e6ae220ff3c9a9d2e58e2cc94f184244ab,reno-openstackdocstheme,# openstackdocstheme options openstackdocs_repo_name = 'openstack/workload-ref-archs' openstackdocs_auto_name = False openstackdocs_bug_project = 'workload-ref-archs' openstackdocs_bug_tag = 'workload-ref-archs' pygments_style = 'native',"pygments_style = 'sphinx'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' ",35,108
openstack%2Fworkload-ref-archs~master~If53c4d28a9b536d2aa074002d44122dd0ae81656,openstack/workload-ref-archs,master,If53c4d28a9b536d2aa074002d44122dd0ae81656,Sync Sphinx requirement,ABANDONED,2019-10-10 07:19:05.000000000,2021-06-18 16:24:50.000000000,,"[{'_account_id': 14091}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 07:19:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/3d3c9a9c88938a9f5f9ddcf7c2a80d1368f0f5a0', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: If53c4d28a9b536d2aa074002d44122dd0ae81656\n'}]",0,687807,3d3c9a9c88938a9f5f9ddcf7c2a80d1368f0f5a0,4,2,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: If53c4d28a9b536d2aa074002d44122dd0ae81656
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/07/687807/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3d3c9a9c88938a9f5f9ddcf7c2a80d1368f0f5a0,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Fworkload-ref-archs~master~If431077cb8c093fe648ce4d99acfd2ca619f349f,openstack/workload-ref-archs,master,If431077cb8c093fe648ce4d99acfd2ca619f349f,"Remove the deprecated ""giturl"" option",ABANDONED,2018-01-15 02:22:33.000000000,2021-06-18 16:24:46.000000000,,"[{'_account_id': 19930}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-15 02:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/c9265bc7134c56c2c94b4081cb72d7c6b074a7b0', 'message': 'Remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: If431077cb8c093fe648ce4d99acfd2ca619f349f\n'}, {'number': 2, 'created': '2018-01-15 03:52:35.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/423346d3d3d9dd4036612e8bd33973fbe77c4184', 'message': 'Remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: If431077cb8c093fe648ce4d99acfd2ca619f349f\n'}]",0,533445,423346d3d3d9dd4036612e8bd33973fbe77c4184,7,2,2,16523,,,0,"Remove the deprecated ""giturl"" option

From openstackdocstheme 1.18.0, valid Git URLs can be retrieved by
openstackdocstheme[1], we do not need giturl option anymore.

[1] https://review.openstack.org/532163

Change-Id: If431077cb8c093fe648ce4d99acfd2ca619f349f
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/45/533445/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c9265bc7134c56c2c94b4081cb72d7c6b074a7b0,giturl,,giturl = u'https://git.openstack.org/cgit/openstack/workload-ref-archs/tree/doc/source'# source tree,0,2
openstack%2Fworkload-ref-archs~master~Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567,openstack/workload-ref-archs,master,Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567,[WIP] Reference architecture for containerized applications,ABANDONED,2018-01-07 18:29:18.000000000,2021-06-18 16:24:43.000000000,,"[{'_account_id': 14091}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-01-07 18:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/e811c19bde552514687b6fbab6f41d52dd49c485', 'message': 'Reference architecture for containerized applications\n\nChange-Id: Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567\n'}, {'number': 2, 'created': '2018-01-07 18:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/ed3d2787a8900569fa3a437445f36f8b99f7851b', 'message': '[WIP] Reference architecture for containerized applications\n\nChange-Id: Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567\n'}, {'number': 3, 'created': '2018-01-07 19:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/5551b55a36f3d7a93564c0e00ef8875ca8d045a5', 'message': '[WIP] Reference architecture for containerized applications\n\nChange-Id: Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567\n'}, {'number': 4, 'created': '2018-01-07 20:06:49.000000000', 'files': ['doc/source/index.rst', 'doc/source/containerized-applications/containerized-applications.rst'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/efb1ef43e79459f00e32cc34c9fb4718334ef0e5', 'message': '[WIP] Reference architecture for containerized applications\n\nChange-Id: Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567\n'}]",4,531613,efb1ef43e79459f00e32cc34c9fb4718334ef0e5,8,3,4,11536,,,0,"[WIP] Reference architecture for containerized applications

Change-Id: Ifd1f20e0eb1c0113ab2a465b4d51c35fd70fd567
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/13/531613/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/containerized-applications/containerized-applications.rst'],1,e811c19bde552514687b6fbab6f41d52dd49c485,,"OpenStack Workload Reference Architecture: Containerized Applications ===================================================================== Introduction ------------ Containerized applications become a major trend in business today. They represent a new way to develop, deploy and manage applications so that the applications are easier to be deployed and upgraded, have better portability, manageability and many other goods. A containerized application is the same as a traditional application in functionality but, typically, its internal architecture is designed differently so that it can be easily containerized. A typical containerized application is developed as a set of small and modular components in which each component can be packaged and deployed independently. Eventually, each application component runs as a container and the entire application is composed by a set of containerized components that loosely work with other other. The popularity of container technologies could be an opportunity for OpenStack. For cloud providers who already adopt OpenStack, their offerings will be more competitive by bringing into container technologies and turn them into cloud services. For cloud consumers, they are probably happier if they are offered a feasible way to run their containerized applications on OpenStack. The reminding question is how to integrate OpenStack with various container technologies so that both cloud providers and cloud consumers can take advantage of. Intended for enterprise IT architects, this reference architecture describes the architecture and services required by a simple containerized application. We identify and recommend the required and optional OpenStack services for a containerized workload. Lastly, we will provide tested implementation files you can use to install and instantiate a containerized application environment using Wordpress as the sample application. These files are Heat templates that will create the containers for each application component. TBD: Add a figure OpenStack for Containerized Applications ---------------------------------------- TBD Structuring an OpenStack Containerized Applications --------------------------------------------------- TBD Demonstration and Sample Code ----------------------------- TBD Scope and Assumptions --------------------- TBD Summary ------- TBD ",,64,0
openstack%2Fops-tags-team~master~Ib5bd5abc4bc58f118612136f752adbf4805d46e8,openstack/ops-tags-team,master,Ib5bd5abc4bc58f118612136f752adbf4805d46e8,Add ops:ha tag,ABANDONED,2015-07-09 14:36:39.000000000,2021-06-18 16:24:09.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 4625}, {'_account_id': 9060}, {'_account_id': 9444}, {'_account_id': 10348}, {'_account_id': 12651}]","[{'number': 1, 'created': '2015-07-09 14:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/41a010dd2450c58461e9deb26d4b6e6f82407c9f', 'message': 'Add ops:ha tag\n\nThis tag provides information to operators regarding\nthe redundancy capabilities of the projects in OpenStack.\n\nChange-Id: Ib5bd5abc4bc58f118612136f752adbf4805d46e8\n'}, {'number': 2, 'created': '2016-03-31 16:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/7b3f0b214fc497efa8abcd1621c1a8bf30826d6f', 'message': 'Add ops:ha tag\n\nThis tag provides information to operators regarding\nthe redundancy capabilities of the projects in OpenStack.\n\nChange-Id: Ib5bd5abc4bc58f118612136f752adbf4805d46e8\n'}, {'number': 3, 'created': '2016-03-31 16:44:12.000000000', 'files': ['descriptions/ops-ha.rst', 'kilo/ops-ha.json'], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/16dc42837e6ad1a7758d4beb9b931c88ed5f2a9a', 'message': 'Add ops:ha tag\n\nThis tag provides information to operators regarding\nthe redundancy capabilities of the projects in OpenStack.\n\nChange-Id: Ib5bd5abc4bc58f118612136f752adbf4805d46e8\n'}]",20,200128,16dc42837e6ad1a7758d4beb9b931c88ed5f2a9a,28,9,3,10348,,,0,"Add ops:ha tag

This tag provides information to operators regarding
the redundancy capabilities of the projects in OpenStack.

Change-Id: Ib5bd5abc4bc58f118612136f752adbf4805d46e8
",git fetch https://review.opendev.org/openstack/ops-tags-team refs/changes/28/200128/1 && git format-patch -1 --stdout FETCH_HEAD,"['descriptions/ops-ha.rst', 'kilo/ops-ha.json']",2,41a010dd2450c58461e9deb26d4b6e6f82407c9f,add_opstag_ha,"{ ""Compute (Nova)"": { ""status"": ""available"", ""caveat"": ""Nova API services depends upon MySQL and RabbitMQ that must also be deployed in a redundant manner. This does not include compute nodes."", ""link"": ""http://docs.openstack.org/high-availability-guide/content/ha-aa-haproxy.html"" }, ""Object Storage (Swift)"": { ""status"": ""available"" ""caveat"": ""Swift API services depend upon memcached and MySQL that must also be deployed in a redundant manner."", ""link"": ""http://docs.openstack.org/high-availability-guide/content/ha-aa-haproxy.html"" }, ""Image service (Glance)"": { ""status"": ""available"", ""caveat"": ""Glance API services depend upon MySQL that must also be deployed in a redundant manner."", ""link"": ""http://docs.openstack.org/high-availability-guide/content/s-glance-api.html"" }, ""Identity (Keystone)"": { ""status"": ""available"", ""caveat"": ""Keystone depends upon MySQL that must also be deployed in a redundant manner."", ""link"": ""http://docs.openstack.org/high-availability-guide/content/s-keystone.html"" }, ""Dashboard (Horizon)"": { ""status"": ""available"", ""link"": ""http://docs.openstack.org/high-availability-guide/content/ha-aa-haproxy.html"" }, ""Networking (Neutron)"": { ""status"": ""available"", ""caveat"": ""Neutron depends upon MySQL and RabbitMQ that must also be deployed in a redundant manner."", ""link"": ""http://docs.openstack.org/high-availability-guide/content/s-neutron-server.html"" }, ""Block Storage (Cinder)"": { ""status"": ""available"", ""caveat"": ""Cinder depends upon MySQL and RabbitMQ that must also be deployed in a redundant manner."", ""link"": ""http://docs.openstack.org/high-availability-guide/content/s-cinder-api.html"" }, ""Telemetry (Ceilometer)"": { ""status"": ""available"", ""caveat"": ""Ceilometer depends upon MySQL, MongoDB and RabbitMQ that must also be deployed in a redundant manner. Currently there is no documentation for a redundant MongoDB deployment"", ""link"": ""http://docs.openstack.org/high-availability-guide/content/s-ceilometer-agent-central.html"" }, ""Orchestration (Heat)"": { ""status"": ""not available"" }, ""Database service (Trove)"": { ""status"": ""not available"", }, ""Data processing service (Sahara)"": { ""status"": ""not available"", }, ""Bare metal service (Ironic)"": { ""status"": ""not available"" }, } ",,118,0
openstack%2Fops-tags-team~master~Id4b3d50cee232e3ee8321a73cad155c20c4bd7b8,openstack/ops-tags-team,master,Id4b3d50cee232e3ee8321a73cad155c20c4bd7b8,Add directory and stub data for Pike,ABANDONED,2017-06-28 16:30:14.000000000,2021-06-18 16:24:05.000000000,,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 12651}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-06-28 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/d79562336ce19cf459dd129e1b485dd3a3d6bd58', 'message': 'Add directory and stub data for Pike\n\nAdds the pike directory and fills it with the latest\nsurvey data for production use.\n\nChange-Id: Id4b3d50cee232e3ee8321a73cad155c20c4bd7b8\n'}, {'number': 2, 'created': '2017-06-28 16:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/67d179776a209e69828abfd33ea78876d5eda99d', 'message': 'Add directory and stub data for Pike\n\nAdds the pike directory and fills it with the latest\nsurvey data for production use, and the newest install\nguide status.\n\nChange-Id: Id4b3d50cee232e3ee8321a73cad155c20c4bd7b8\n'}, {'number': 3, 'created': '2017-06-29 04:12:09.000000000', 'files': ['pike/ops-docs-install-guide.json', 'pike/ops-production-use.json'], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/c170d4a6260a546ce493057c752e718658a14503', 'message': 'Add directory and stub data for Pike\n\nAdds the pike directory and fills it with the latest\nsurvey data for production use, and the newest install\nguide status.\n\nChange-Id: Id4b3d50cee232e3ee8321a73cad155c20c4bd7b8\n'}]",0,478555,c170d4a6260a546ce493057c752e718658a14503,14,4,3,612,,,0,"Add directory and stub data for Pike

Adds the pike directory and fills it with the latest
survey data for production use, and the newest install
guide status.

Change-Id: Id4b3d50cee232e3ee8321a73cad155c20c4bd7b8
",git fetch https://review.opendev.org/openstack/ops-tags-team refs/changes/55/478555/2 && git format-patch -1 --stdout FETCH_HEAD,['pike/ops-production-use.json'],1,d79562336ce19cf459dd129e1b485dd3a3d6bd58,pike-updates-prep,"{ ""Compute service (Nova)"": { ""status"": ""95%"" }, ""Object Storage service (Swift)"": { ""status"": ""52%"" }, ""Image service (Glance)"": { ""status"": ""95%"" }, ""Identity service (Keystone)"": { ""status"": ""96%"" }, ""Dashboard (Horizon)"": { ""status"": ""87%"" }, ""Networking service (Neutron)"": { ""status"": ""93%"" }, ""Block Storage service (Cinder)"": { ""status"": ""88%"" }, ""Telemetry service (Ceilometer)"": { ""status"": ""55%"" }, ""Orchestration service (Heat)"": { ""status"": ""67%"" }, ""Database service (Trove)"": { ""status"": ""13%"" }, ""Data Processing service (Sahara)"": { ""status"": ""10%"" }, ""Bare Metal service (Ironic)"": { ""status"": ""21%"" }, ""Message service (Zaqar)"": { ""status"": ""4%"" }, ""Key Management service (Barbican)"": { ""status"": ""9%"" }, ""DNS service (Designate)"": { ""status"": ""16%"" }, ""Shared File Systems service (Manila)"": { ""status"": ""14%"" }, ""Benchmark service (Rally)"": { ""status"": ""23%"" }, ""Containers service (Magnum)"": { ""status"": ""11%"" }, ""Application Catalog service (Murano)"": { ""status"": ""11%"" }, ""Deployment service (TripleO)"": { ""status"": ""9%"" }, ""Governance service (Congress)"": { ""status"": ""2%"" }, ""Container-based deployment tools (Kolla)"": { ""status"": ""12%"" }, ""Workflow service (Mistral)"": { ""status"": ""5%"" }, ""Message Broker service (Cue)"": { ""status"": ""2%"" }, ""Software Dev Lifecycle Management service (Solum)"": { ""status"": ""2%"" }, ""Key-Value Store as a Service (Magnetodb)"": { ""status"": ""2%"" } } ",,106,0
openstack%2Fops-tags-team~master~I412b5576ab569a8705e9dddf8ecb83b40c258d8d,openstack/ops-tags-team,master,I412b5576ab569a8705e9dddf8ecb83b40c258d8d,Update docs-install-guide tag for OpenStackAnsible,ABANDONED,2017-06-01 10:06:28.000000000,2021-06-18 16:24:02.000000000,,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 2799}, {'_account_id': 10278}, {'_account_id': 12651}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-06-01 10:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/e4328e480a3806c45786d4b1483b516c7ffd07ae', 'message': 'Update docs-install-guide tag for OpenStackAnsible\n\nChange-Id: I412b5576ab569a8705e9dddf8ecb83b40c258d8d\n'}, {'number': 2, 'created': '2017-06-02 13:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/7523af2cb4d71daec62c67c44e74761c9439f080', 'message': 'Update docs-install-guide tag for OpenStackAnsible\n\nChange-Id: I412b5576ab569a8705e9dddf8ecb83b40c258d8d\n'}, {'number': 3, 'created': '2017-08-31 14:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/d908884d3e589ac55c86a262ccafce07eacf0bbf', 'message': 'Update docs-install-guide tag for OpenStackAnsible\n\nChange-Id: I412b5576ab569a8705e9dddf8ecb83b40c258d8d\n'}, {'number': 4, 'created': '2017-09-13 22:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/1f3eef0fd9704ca8211fe691992099f32e8787ae', 'message': 'Update docs-install-guide tag for OpenStackAnsible\n\nChange-Id: I412b5576ab569a8705e9dddf8ecb83b40c258d8d\n'}, {'number': 5, 'created': '2018-03-27 14:56:55.000000000', 'files': ['liberty/ops-docs-install-guide.json', 'ocata/ops-docs-install-guide.json', 'juno/ops-docs-install-guide.json', 'mitaka/ops-docs-install-guide.json', 'newton/ops-docs-install-guide.json', 'kilo/ops-docs-install-guide.json'], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/a08895c52a2105d7f28ddb1e9756c44ce935bdd0', 'message': 'Update docs-install-guide tag for OpenStackAnsible\n\nChange-Id: I412b5576ab569a8705e9dddf8ecb83b40c258d8d\n'}]",6,469827,a08895c52a2105d7f28ddb1e9756c44ce935bdd0,19,8,5,2799,,,0,"Update docs-install-guide tag for OpenStackAnsible

Change-Id: I412b5576ab569a8705e9dddf8ecb83b40c258d8d
",git fetch https://review.opendev.org/openstack/ops-tags-team refs/changes/27/469827/5 && git format-patch -1 --stdout FETCH_HEAD,"['liberty/ops-docs-install-guide.json', 'ocata/ops-docs-install-guide.json', 'mitaka/ops-docs-install-guide.json', 'newton/ops-docs-install-guide.json']",4,e4328e480a3806c45786d4b1483b516c7ffd07ae,osa_tags," ""Ansible playbooks and roles for deployment (OpenStackAnsible)"": { ""stauts"": ""available"" },",,16,0
openstack%2Fops-tags-team~master~I41009474bdac373dba78671676b6ebc03f26a213,openstack/ops-tags-team,master,I41009474bdac373dba78671676b6ebc03f26a213,Optimizing the safety of the http link site in index.rst.,ABANDONED,2018-11-13 18:10:08.000000000,2021-06-18 16:23:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-13 18:10:08.000000000', 'files': ['descriptions/index.rst'], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/887554f01458ccb1b925a76bbed86f399b784c7e', 'message': 'Optimizing the safety of the http link site in index.rst.\n\nChange-Id: I41009474bdac373dba78671676b6ebc03f26a213\n'}]",0,617764,887554f01458ccb1b925a76bbed86f399b784c7e,3,1,1,29423,,,0,"Optimizing the safety of the http link site in index.rst.

Change-Id: I41009474bdac373dba78671676b6ebc03f26a213
",git fetch https://review.opendev.org/openstack/ops-tags-team refs/changes/64/617764/1 && git format-patch -1 --stdout FETCH_HEAD,['descriptions/index.rst'],1,887554f01458ccb1b925a76bbed86f399b784c7e,,[1] https://governance.openstack.org/reference/tag-template.html,[1] http://governance.openstack.org/reference/tag-template.html,1,1
openstack%2Fuc-recognition~master~I7138eb9c8170ed06b48ad3bfbbb61e108190a227,openstack/uc-recognition,master,I7138eb9c8170ed06b48ad3bfbbb61e108190a227,update commiters url,ABANDONED,2019-12-18 07:29:04.000000000,2021-06-18 16:23:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-18 07:29:04.000000000', 'files': ['tools/get_active_commiters.py'], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/d5508a83ff29bc147da1cd137bd4bc8a7e9430b3', 'message': 'update commiters url\n\nChange-Id: I7138eb9c8170ed06b48ad3bfbbb61e108190a227\n'}]",0,699571,d5508a83ff29bc147da1cd137bd4bc8a7e9430b3,3,1,1,30717,,,0,"update commiters url

Change-Id: I7138eb9c8170ed06b48ad3bfbbb61e108190a227
",git fetch https://review.opendev.org/openstack/uc-recognition refs/changes/71/699571/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/get_active_commiters.py'],1,d5508a83ff29bc147da1cd137bd4bc8a7e9430b3,," 'review.opendev.org', port=29418,"," 'review.openstack.org', port=29418,",1,1
openstack%2Fuc-recognition~master~Ib4900ead9d57db49282869adfe7665e04b0da77e,openstack/uc-recognition,master,Ib4900ead9d57db49282869adfe7665e04b0da77e,Update WG collection scripts for AUC,ABANDONED,2016-07-15 03:29:11.000000000,2021-06-18 16:23:02.000000000,,"[{'_account_id': 612}, {'_account_id': 12651}]","[{'number': 1, 'created': '2016-07-15 03:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/625d31985e178dda089c7aee9ff523bc6d78eba4', 'message': 'Update WG collection scripts for AUC\n\nThis change includes an update get_meeting_data script that includes\ncollecting data for additional working groups.  Get_active_wg_members\nhas also been updated to show eligible WG members from the current\nrelease cycle.\n\nChange-Id: Ib4900ead9d57db49282869adfe7665e04b0da77e\n'}, {'number': 2, 'created': '2016-07-15 03:31:01.000000000', 'files': ['tools/get_active_wg_members.py', 'tools/get_meeting_data.sh'], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/d487e29c1b1ea0aab327cf8800eeb301f1fa2c8f', 'message': 'Update WG collection scripts for AUC\n\nThis change includes an update get_meeting_data script that includes\ncollecting data for additional working groups.  Get_active_wg_members\nhas also been updated to show eligible WG members from the current\nrelease cycle.\n\nChange-Id: Ib4900ead9d57db49282869adfe7665e04b0da77e\n'}]",0,342543,d487e29c1b1ea0aab327cf8800eeb301f1fa2c8f,9,2,2,12651,,,0,"Update WG collection scripts for AUC

This change includes an update get_meeting_data script that includes
collecting data for additional working groups.  Get_active_wg_members
has also been updated to show eligible WG members from the current
release cycle.

Change-Id: Ib4900ead9d57db49282869adfe7665e04b0da77e
",git fetch https://review.opendev.org/openstack/uc-recognition refs/changes/43/342543/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/get_active_wg_members.py', 'tools/get_meeting_data.sh']",2,625d31985e178dda089c7aee9ff523bc6d78eba4,update_wg_scripts,"MEETINGS=""operators_ops_tools_monitoring ops_tags _operator_tags"" MEETINGS=""$MEETINGS large_deployment_team large_deployments_team large_deployments_team_monthly_meeting""MEETINGS=""$MEETINGS telcowg uc user_committee scientific_wg diversity"" MEETINGS=""$MEETINGS operators_telco_nfv ops_meetups_team""","MEETINGS=""operators_ops_tools_monitoring ops_tags _operator_tags large_deployments_team_august_2015_meeting"" MEETINGS=""$MEETINGS large_deployment_team large_deployments_team large_deployment_team_january_2015_meeting"" MEETINGS=""$MEETINGS large_deployments_team_december_2015_meeting large_deployments_team_february_2016_meeting"" MEETINGS=""$MEETINGS large_deployments_team_january_2016_meeting large_deployments_team_monthly_meeting"" MEETINGS=""$MEETINGS large_deployments_team_october_2015_meeting large_deployments_team_september_2015_meeting""MEETINGS=""$MEETINGS telcowg uc user_committee""",16,15
openstack%2Fuc-recognition~master~I94f4e5a6cf61b4d7b1dedf58d82f97ea04b5bc98,openstack/uc-recognition,master,I94f4e5a6cf61b4d7b1dedf58d82f97ea04b5bc98,Modify AskOpenStackMods Script for AUC Requirements,ABANDONED,2016-07-14 05:40:26.000000000,2021-06-18 16:22:58.000000000,,"[{'_account_id': 612}, {'_account_id': 12651}]","[{'number': 1, 'created': '2016-07-14 05:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/99cf60016d67b01a29dc2a579b530ec5ab3d7147', 'message': 'Modify AskOpenStackMods Script for AUC Requirements\nThis change updates the karma and last active thresholds to\nalign with the newly defined AUC requirements for Ask OpenStack\nModerators.\n\nChange-Id: I94f4e5a6cf61b4d7b1dedf58d82f97ea04b5bc98\n'}, {'number': 2, 'created': '2016-07-14 05:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/9af8e92a95a65d72e887e0694882313c32414e98', 'message': 'Modify AskOpenStackMods Script for AUC Requirements\n\nThis change updates the karma and last active thresholds to\nalign with the newly defined AUC requirements for Ask OpenStack\nModerators.\n\nChange-Id: I94f4e5a6cf61b4d7b1dedf58d82f97ea04b5bc98\n'}, {'number': 3, 'created': '2016-07-14 05:42:44.000000000', 'files': ['tools/get_active_moderator.py'], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/3531b901f8fecdbf172b0d2ed7a101996c6af3f6', 'message': 'Modify AskOpenStackMods Script for AUC Requirements\n\nThis change updates the karma and last active thresholds to\nalign with the newly defined AUC requirements for Ask OpenStack\nModerators.\n\nChange-Id: I94f4e5a6cf61b4d7b1dedf58d82f97ea04b5bc98\n'}]",0,341955,3531b901f8fecdbf172b0d2ed7a101996c6af3f6,18,2,3,12651,,,0,"Modify AskOpenStackMods Script for AUC Requirements

This change updates the karma and last active thresholds to
align with the newly defined AUC requirements for Ask OpenStack
Moderators.

Change-Id: I94f4e5a6cf61b4d7b1dedf58d82f97ea04b5bc98
",git fetch https://review.opendev.org/openstack/uc-recognition refs/changes/55/341955/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/get_active_moderator.py'],1,99cf60016d67b01a29dc2a579b530ec5ab3d7147,update_mod_requirements,"auc_candidates = [] # This variable should be updated after each OpenStack release so that # it only returns user that have been active in the current release cycle. last_release_date = datetime.date(2016, 04, 07)def get_active_users(user_data): for user in user_data: last_seen_at = datetime.date.fromtimestamp( if last_seen_at > last_release_date: print ""{: <20} {: <20}"".format(user['username'], str(user['id'])) user_data = get_user_data(karma_level=500) get_active_users(user_data)","def get_active_users(user_data, last_active_days=180): now = datetime.datetime.now() active_threshold = now - datetime.timedelta(days=last_active_days) for user in user_data: last_seen_at = datetime.datetime.fromtimestamp( if last_seen_at > active_threshold: print ""{: <20} {: <20}"".format(user['username'], str(user['id'])) user_data = get_user_data(karma_level=200) get_active_users(user_data, last_active_days=180) ",11,10
openstack%2Fuc-recognition~master~Ic6f6623fc9de378372e91648f7cd06f0e33b53f3,openstack/uc-recognition,master,Ic6f6623fc9de378372e91648f7cd06f0e33b53f3,Add .gitreview file to repository,ABANDONED,2016-07-14 05:46:27.000000000,2021-06-18 16:22:52.000000000,,"[{'_account_id': 612}, {'_account_id': 704}]","[{'number': 1, 'created': '2016-07-14 05:46:27.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/7424ddaacdc22fdcd7a241b614aa77045089a060', 'message': 'Add .gitreview file to repository\n\nAdding .gitreview file to repository so that gerrit information\ncan be sourced automatically for contributors to this repo.\n\nChange-Id: Ic6f6623fc9de378372e91648f7cd06f0e33b53f3\n'}]",0,341958,7424ddaacdc22fdcd7a241b614aa77045089a060,8,2,1,12651,,,0,"Add .gitreview file to repository

Adding .gitreview file to repository so that gerrit information
can be sourced automatically for contributors to this repo.

Change-Id: Ic6f6623fc9de378372e91648f7cd06f0e33b53f3
",git fetch https://review.opendev.org/openstack/uc-recognition refs/changes/58/341958/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7424ddaacdc22fdcd7a241b614aa77045089a060,add_gitreview_file,[gerrit] host=review.openstack.org port=29418 project=openstack/uc-recognition.git ,,4,0
openstack%2Fgovernance-uc~master~I478d640e3f5473ef7f694b59a0b2500cf680202e,openstack/governance-uc,master,I478d640e3f5473ef7f694b59a0b2500cf680202e,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-14 06:19:01.000000000,2021-06-18 16:22:18.000000000,,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 06:19:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/525480b85d5fec5e2c9c600cc10ca7c0a7933251', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I478d640e3f5473ef7f694b59a0b2500cf680202e\n""}]",0,791362,525480b85d5fec5e2c9c600cc10ca7c0a7933251,5,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I478d640e3f5473ef7f694b59a0b2500cf680202e
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/62/791362/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,525480b85d5fec5e2c9c600cc10ca7c0a7933251,,description_file =author_email = user-committee@lists.openstack.org home_page = https://governance.openstack.org/uc/,description-file =author-email = user-committee@lists.openstack.org home-page = https://governance.openstack.org/uc/,3,3
openstack%2Fkolla~stable%2Fwallaby~I1f58262109dd27a4c4ee9b60d87010170b5ea7bb,openstack/kolla,stable/wallaby,I1f58262109dd27a4c4ee9b60d87010170b5ea7bb,"Revert ""libvirt: pin edk2-ovmf""",MERGED,2021-06-09 08:39:30.000000000,2021-06-18 16:18:45.000000000,2021-06-18 16:17:22.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 08:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/37e22ee88d56c4a518acaa0ee29b72aa46d37d83', 'message': 'Revert ""libvirt: pin edk2-ovmf""\n\nlibvirt-6.0.0-36.el8 was built [0] and released for CentOS Stream 8. It\nincludes a backport of a commit [1] from libvirt 7.4.0 to avoid erroring\nout on unknown firmware features, which fixes the issue seen with the\nnewer edk2-ovmf package.\n\nThis reverts commit b22089051ca1c1aa5e88412801d0327c4d6c725f.\n\n[0] https://koji.mbox.centos.org/koji/buildinfo?buildID=17918\n[1] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n\nChange-Id: I1f58262109dd27a4c4ee9b60d87010170b5ea7bb\n(cherry picked from commit f36523cdb3b0391fd5060dea651764899ed5b0ce)\n'}, {'number': 2, 'created': '2021-06-18 05:36:21.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0eb21df301b73265d18871aa5c7fe9c142f4ae2', 'message': 'Revert ""libvirt: pin edk2-ovmf""\n\nThe ""internal error: unknown feature amd-sev-es"" error in libvirt seen\nwith the edk2-ovmf package is fixed by a commit in libvirt 7.4.0 [0] to\navoid erroring out on unknown QEMU firmware features.\n\nCentOS Stream 8 was wrongly using the CentOS 8 advanced-virtualization\nrepository [1] instead of the CentOS Stream 8 one [2]. This is fixed by\ncentos-release-advanced-virtualization-1.0-3 [3], which should bring\nlibvirt-7.4.0-1 into our nova-libvirt image.\n\nThis reverts commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063.\n\n[0] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n[1] http://mirror.centos.org/centos/8/virt/x86_64/advanced-virtualization/\n[2] http://mirror.centos.org/centos/8-stream/virt/x86_64/advancedvirt-common/\n[3] https://koji.mbox.centos.org/koji/buildinfo?buildID=18004\n\nChange-Id: I1f58262109dd27a4c4ee9b60d87010170b5ea7bb\n(cherry picked from commit 8ec8ef3d8a1a852187bbaf4b592f0739e2796abd)\n'}]",0,795499,a0eb21df301b73265d18871aa5c7fe9c142f4ae2,24,5,2,15197,,,0,"Revert ""libvirt: pin edk2-ovmf""

The ""internal error: unknown feature amd-sev-es"" error in libvirt seen
with the edk2-ovmf package is fixed by a commit in libvirt 7.4.0 [0] to
avoid erroring out on unknown QEMU firmware features.

CentOS Stream 8 was wrongly using the CentOS 8 advanced-virtualization
repository [1] instead of the CentOS Stream 8 one [2]. This is fixed by
centos-release-advanced-virtualization-1.0-3 [3], which should bring
libvirt-7.4.0-1 into our nova-libvirt image.

This reverts commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063.

[0] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9
[1] http://mirror.centos.org/centos/8/virt/x86_64/advanced-virtualization/
[2] http://mirror.centos.org/centos/8-stream/virt/x86_64/advancedvirt-common/
[3] https://koji.mbox.centos.org/koji/buildinfo?buildID=18004

Change-Id: I1f58262109dd27a4c4ee9b60d87010170b5ea7bb
(cherry picked from commit 8ec8ef3d8a1a852187bbaf4b592f0739e2796abd)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/795499/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/Dockerfile.j2'],1,37e22ee88d56c4a518acaa0ee29b72aa46d37d83,edk2-ovmf-stable/wallaby, 'edk2-ovmf', # TODO(mnasiadka): Remove pin after https://bugzilla.redhat.com/show_bug.cgi?id=1961558#c10 is fixed 'edk2-ovmf-20200602gitca407c7246bf-4.el8',1,2
openstack%2Fvalidations-libs~master~I6ef708b6d39ac56354881b89421ff4c0771c6ab5,openstack/validations-libs,master,I6ef708b6d39ac56354881b89421ff4c0771c6ab5,get_formatted_data optimization,MERGED,2021-06-17 13:03:55.000000000,2021-06-18 16:11:58.000000000,2021-06-18 16:09:59.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-17 13:03:55.000000000', 'files': ['validations_libs/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a9515a3182eba5452cc0ee85d3c9082d809dc891', 'message': ""get_formatted_data optimization\n\nThe property previously used multiple loops and nested\nconditions for making a dictionary copy with formatted keys.\n\nNow it uses just one.\nCould be reduced further assuming substitution of 'Id' for 'ID'.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6ef708b6d39ac56354881b89421ff4c0771c6ab5\n""}]",0,796834,a9515a3182eba5452cc0ee85d3c9082d809dc891,8,5,1,32926,,,0,"get_formatted_data optimization

The property previously used multiple loops and nested
conditions for making a dictionary copy with formatted keys.

Now it uses just one.
Could be reduced further assuming substitution of 'Id' for 'ID'.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6ef708b6d39ac56354881b89421ff4c0771c6ab5
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/34/796834/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/validation.py'],1,a9515a3182eba5452cc0ee85d3c9082d809dc891,get_formated_data, >>> print(val.get_formated_data) for key in metadata: if key == 'id': data[key.upper()] = metadata.get(key) else: data[key.capitalize()] = metadata.get(key)," >>> print(val.get_data) if metadata: for key in metadata.keys(): if key in map(str.lower, self._col_keys): for k in self._col_keys: if key == k.lower(): output_key = k data[output_key] = self.get_metadata.get(key) else: # Get all other values: data[key] = self.get_metadata.get(key)",7,11
openstack%2Fkayobe~stable%2Ftrain~I8e175d53caaa22f3bb87653703b9f067ad4e1b52,openstack/kayobe,stable/train,I8e175d53caaa22f3bb87653703b9f067ad4e1b52,Update CentOS 8 docs to use 8.4 image,MERGED,2021-06-17 12:54:00.000000000,2021-06-18 16:09:42.000000000,2021-06-18 16:07:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-17 12:54:00.000000000', 'files': ['doc/source/centos8.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/de5fa9ac0bd17a5e1140cb7725d4e7d3841d74f5', 'message': 'Update CentOS 8 docs to use 8.4 image\n\nChange-Id: I8e175d53caaa22f3bb87653703b9f067ad4e1b52\n'}]",0,796833,de5fa9ac0bd17a5e1140cb7725d4e7d3841d74f5,8,3,1,15197,,,0,"Update CentOS 8 docs to use 8.4 image

Change-Id: I8e175d53caaa22f3bb87653703b9f067ad4e1b52
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/33/796833/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/centos8.rst'],1,de5fa9ac0bd17a5e1140cb7725d4e7d3841d74f5,centos84-seed-vm-stable/train, seed_vm_root_image: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.4.2105-20210603.0.x86_64.qcow2, seed_vm_root_image: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I20da47f8dfbf48f6ee46e60a07c00482545cb444,openstack/python-tripleoclient,stable/wallaby,I20da47f8dfbf48f6ee46e60a07c00482545cb444,overcloud deploy - provision networks,MERGED,2021-06-14 17:03:29.000000000,2021-06-18 16:05:45.000000000,2021-06-18 16:02:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-14 17:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/040e111d5eeedee8cfcc937b802876ec9f519873', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n(cherry picked from commit 2b2e52c88235ac49a0c7fb76eeb40a0989d0a6ed)\n'}, {'number': 2, 'created': '2021-06-18 00:57:08.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f84d3c71145bb87d2eb5b559184cf28338e1539', 'message': 'overcloud deploy - provision networks\n\nWhen the network file provided as input to the overcloud\ndeploy command is a network-v2 format file. Provision\nnetworks and include the deployed network environment\nfile in user environments.\n\nChange-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444\n(cherry picked from commit 2b2e52c88235ac49a0c7fb76eeb40a0989d0a6ed)\n'}]",0,796303,8f84d3c71145bb87d2eb5b559184cf28338e1539,13,3,2,7144,,,0,"overcloud deploy - provision networks

When the network file provided as input to the overcloud
deploy command is a network-v2 format file. Provision
networks and include the deployed network environment
file in user environments.

Change-Id: I20da47f8dfbf48f6ee46e60a07c00482545cb444
(cherry picked from commit 2b2e52c88235ac49a0c7fb76eeb40a0989d0a6ed)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/796303/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,040e111d5eeedee8cfcc937b802876ec9f519873,," self._provision_networks(parsed_args, new_tht_root)) created_env_files.extend( @staticmethod def _is_network_data_v2(networks_file_path): with open(networks_file_path, 'r') as f: network_data = yaml.safe_load(f.read()) for network in network_data: if 'ip_subnet' in network or 'ipv6_subnet' in network: return False return True def _provision_networks(self, parsed_args, tht_root): # Parse the network data, if any network have 'ip_subnet' or # 'ipv6_subnet' keys this is not a network-v2 format file. In this # case do nothing. networks_file_path = utils.get_networks_file_path( parsed_args.networks_file, parsed_args.templates) if not self._is_network_data_v2(networks_file_path): return [] output_path = utils.build_user_env_path( 'networks-deployed.yaml', tht_root) extra_vars = { ""network_data_path"": networks_file_path, ""network_deployed_path"": output_path, ""overwrite"": True, } with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-overcloud-network-provision.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=utils.playbook_verbosity(self=self), extra_vars=extra_vars, ) return [output_path] ",,95,6
openstack%2Ftripleo-validations~stable%2Fwallaby~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,stable/wallaby,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-06-01 14:39:02.000000000,2021-06-18 16:05:33.000000000,2021-06-18 16:02:56.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-01 14:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7201e1860492581931fbf7d6cf2d3b1c3856e4b2', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit 46567181662ac6fe3ef5659ebc4ff90d10f0884b)\n'}, {'number': 2, 'created': '2021-06-10 13:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/045f71589dad0e5bb076b0dd3ae4df7ca07c3093', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n'}, {'number': 3, 'created': '2021-06-10 13:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/26319e7d5e607a98d34f8bf9a14eceeed9a14f92', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n'}, {'number': 4, 'created': '2021-06-11 13:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/efb1b368766f8bdce1a97103e9d4af1792446e9b', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n'}, {'number': 5, 'created': '2021-06-11 14:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5b7662454c5558899c8f952f9159486b7d983526', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit efb1b368766f8bdce1a97103e9d4af1792446e9b)\n'}, {'number': 6, 'created': '2021-06-11 14:10:15.000000000', 'files': ['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/74c30cf49147dedad2944da332b58079bc703200', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n'}]",0,793927,74c30cf49147dedad2944da332b58079bc703200,19,7,6,27419,,,0,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/793927/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/molecule/default/molecule.yml']",10,7201e1860492581931fbf7d6cf2d3b1c3856e4b2,tsx_flag_compute,"--- provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" ",,339,0
openstack%2Fopenstack-ansible-os_neutron~master~I6d1686ab79647acfc086f21864bde14c8a1a1a49,openstack/openstack-ansible-os_neutron,master,I6d1686ab79647acfc086f21864bde14c8a1a1a49,Change task ordering to perform smooth upgrades,MERGED,2021-04-28 14:48:56.000000000,2021-06-18 15:52:39.000000000,2021-06-18 15:51:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-04-28 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/25c2c531207e5edb498db219e2f4d17950b001b8', 'message': 'DNM Change task ordering to perform smooth upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 2, 'created': '2021-04-28 15:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2fa1666f4a82dd7751d5a5b2cc5342581ade0e0e', 'message': 'DNM Change task ordering to perform smooth upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 3, 'created': '2021-04-28 17:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7ab1f8177add3e498716a4b8dcac6f0ec4b35909', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 4, 'created': '2021-04-28 19:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/237337091bfe51b2dd4d8940066bf61678d24d23', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 5, 'created': '2021-04-29 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2ae4c4f7ddf1ba4335e351409d2f4e2ff050fd9e', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 6, 'created': '2021-04-29 06:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/cedcc5280534101b7708ebd79ca000f1b92ace12', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 7, 'created': '2021-04-29 13:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d1df2079e45fbf10ca5576f6e6cac18d931c4437', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 8, 'created': '2021-04-29 13:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/bafe0bc871ec081e3cabbb4ecfe89d3de9d4ed34', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}, {'number': 9, 'created': '2021-05-13 09:07:45.000000000', 'files': ['tasks/neutron_pre_install.yml', 'tasks/neutron_db_setup.yml', 'tasks/neutron_post_install.yml', 'handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/57638854532690b61c4abc6d735c17f31950b7e6', 'message': 'Change task ordering to perform smooth upgrades\n\nCurrently we symlink /etc/neutron to empty directory at pre-stage,\nand filling it with config only during post_install. This means,\nthat policies and rootwrap filters are not working properly until\nplaybook execution finish. Additionally, we replace sudoers file\nwith new path in it, which makes current operations impossible for\nthe service, since rootwrap can not gain sudo privileges.\n\nWith this change we move symlinking and rootwrap steps to handlers,\nwhich means that we will do replace configs while service is stopped.\n\nDuring post_install we place all of the configs inside the venv,\nwhich is versioned at the moment.\n\nThis way we minimise downtime of the service while performing upgrades\n\nChange-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49\n'}]",1,788501,57638854532690b61c4abc6d735c17f31950b7e6,35,3,9,28619,,,0,"Change task ordering to perform smooth upgrades

Currently we symlink /etc/neutron to empty directory at pre-stage,
and filling it with config only during post_install. This means,
that policies and rootwrap filters are not working properly until
playbook execution finish. Additionally, we replace sudoers file
with new path in it, which makes current operations impossible for
the service, since rootwrap can not gain sudo privileges.

With this change we move symlinking and rootwrap steps to handlers,
which means that we will do replace configs while service is stopped.

During post_install we place all of the configs inside the venv,
which is versioned at the moment.

This way we minimise downtime of the service while performing upgrades

Change-Id: I6d1686ab79647acfc086f21864bde14c8a1a1a49
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/01/788501/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/neutron_pre_install.yml', 'tasks/neutron_post_install.yml', 'handlers/main.yml', 'vars/main.yml']",4,25c2c531207e5edb498db219e2f4d17950b001b8,788501,"neutron_conf_version_dir: ""{{ (neutron_install_method == 'distro') | ternary(neutron_conf_dir, (neutron_bin | dirname) + '/etc/neutron') }}"" target_f: ""{{ neutron_conf_version_dir }}/api-paste.ini"" target_f: ""{{ neutron_conf_version_dir }}/rootwrap.conf"""," target_f: ""{{ neutron_conf_dir }}/api-paste.ini"" target_f: ""{{ neutron_conf_dir }}/rootwrap.conf""",41,34
openstack%2Fpython-heatclient~master~Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e,openstack/python-heatclient,master,Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e,fix lower constraint job,MERGED,2021-06-18 05:33:05.000000000,2021-06-18 15:43:15.000000000,2021-06-18 15:41:55.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 05:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b9bfe495e6d66b60cc54a902622f09830602578e', 'message': 'fix lower constraint job\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 2, 'created': '2021-06-18 05:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/fbe8e0447df88cf086a18bbd23f779d86edf18fc', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 3, 'created': '2021-06-18 06:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/c535824cb6819ab9c032faba0b565d72f505c884', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 4, 'created': '2021-06-18 06:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/410968cefba113f1eff269c1529c793d42440173', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 5, 'created': '2021-06-18 06:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/873313912faace6c4d6544ed113496b89d17b45b', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 6, 'created': '2021-06-18 06:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/2e1477b08c0a31714e9e5218b60ee78544ffb53c', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 7, 'created': '2021-06-18 07:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/97e1aacf880d8728059e0ce5aec9ffcb123c8d73', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 8, 'created': '2021-06-18 07:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4726c0d078b6233a67a1001f2ce0fb845d952a95', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}, {'number': 9, 'created': '2021-06-18 07:38:53.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/eff0d181f011799baa4aa9ba6ada269fab7b01ac', 'message': 'fix lower constraint job\n\nAlso fix PrettyTable requirement\n\nChange-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e\n'}]",0,796989,eff0d181f011799baa4aa9ba6ada269fab7b01ac,18,3,9,12404,,,0,"fix lower constraint job

Also fix PrettyTable requirement

Change-Id: Ib16d87a2d068a1dabdeb8470a5473c0882fbea4e
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/89/796989/4 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,b9bfe495e6d66b60cc54a902622f09830602578e,fix-lower-constraints,,hacking==0.12.0,0,1
openstack%2Fmonasca-notification~stable%2Fwallaby~I69e3e7db54b995e45810532a1dd940ac8b68921f,openstack/monasca-notification,stable/wallaby,I69e3e7db54b995e45810532a1dd940ac8b68921f,Fix Grafana URL in email notification,MERGED,2021-06-18 13:40:06.000000000,2021-06-18 15:34:21.000000000,2021-06-18 15:34:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-18 13:40:06.000000000', 'files': ['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/a837e58b99e20d689848f25602fd726b4be449b5', 'message': ""Fix Grafana URL in email notification\n\n- Remove prefix 'dim_' from dimensions in Drilldown Dashboard\n- Same was done for Monasca-UI [1]\n\n[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599\n\nChange-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f\n(cherry picked from commit fa2454a3c9c524773891e53d2d61f9227a9a2d46)\n""}]",0,797093,a837e58b99e20d689848f25602fd726b4be449b5,6,2,1,28062,,,0,"Fix Grafana URL in email notification

- Remove prefix 'dim_' from dimensions in Drilldown Dashboard
- Same was done for Monasca-UI [1]

[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599

Change-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f
(cherry picked from commit fa2454a3c9c524773891e53d2d61f9227a9a2d46)
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/93/797093/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py']",2,a837e58b99e20d689848f25602fd726b4be449b5,797002-stable/wallaby," metric_query += ""&%s=%s"" % (key, value)"," metric_query += ""&dim_%s=%s"" % (key, value)",2,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~I1d8619c8420144a35f9d74a7d820419d86fa101d,openstack/tripleo-upgrade,stable/train,I1d8619c8420144a35f9d74a7d820419d86fa101d,Add task to remove particular actors from leapp,MERGED,2021-06-16 13:40:33.000000000,2021-06-18 15:32:59.000000000,2021-06-18 15:32:59.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8532}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-16 13:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dca046704f154c981a09a808cfe6c6d8d59540e0', 'message': 'Remove persistentnetnamesdisable actor from leapp\n\nThis patch removes persistentnetnamesdisable from leapp in case of\nundercloud is run from virtual machine.\n\nChange-Id: I1d8619c8420144a35f9d74a7d820419d86fa101d\n'}, {'number': 2, 'created': '2021-06-16 18:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7ed6eb1179fec3c00fed1363bd8ccc189ac7e819', 'message': 'Add task to remove particular actors from leapp\n\nThis patch adds task to remove actors.  This patch also removes\npersistentnetnamesdisable from leapp in case of undercloud is run from\nvirtual machine.\n\nChange-Id: I1d8619c8420144a35f9d74a7d820419d86fa101d\n'}, {'number': 3, 'created': '2021-06-16 19:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8435fc1720e03acd476d145945f49e61f5616aa9', 'message': 'Add task to remove particular actors from leapp\n\nThis patch adds task to remove actors that are in conflict with RHOSP.\nThis patch also removes persistentnetnamesdisable from leapp in case of\nundercloud is run from virtual machine.\n\nChange-Id: I1d8619c8420144a35f9d74a7d820419d86fa101d\n'}, {'number': 4, 'created': '2021-06-17 11:49:01.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9d503e0152bef1e6cce6e2c80dfc0e904d23633a', 'message': 'Add task to remove particular actors from leapp\n\nThis patch adds task to remove actors that are in conflict with RHOSP.\nThis patch also removes persistentnetnamesdisable from leapp in case of\nundercloud is run from virtual machine.\n\nChange-Id: I1d8619c8420144a35f9d74a7d820419d86fa101d\n'}]",4,796675,9d503e0152bef1e6cce6e2c80dfc0e904d23633a,14,11,4,11090,,,0,"Add task to remove particular actors from leapp

This patch adds task to remove actors that are in conflict with RHOSP.
This patch also removes persistentnetnamesdisable from leapp in case of
undercloud is run from virtual machine.

Change-Id: I1d8619c8420144a35f9d74a7d820419d86fa101d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/75/796675/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,dca046704f154c981a09a808cfe6c6d8d59540e0,actors_to_remove,- name: Remove persistentnetnamesdisable actor file: path: /usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/persistentnetnamesdisable/actor.py state: absent ,,5,0
openstack%2Freleases~master~I56bd83c4d70e751df6576a38111a5fa5ef656dac,openstack/releases,master,I56bd83c4d70e751df6576a38111a5fa5ef656dac,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:09:09.000000000,2021-06-18 15:26:53.000000000,2021-06-18 15:26:53.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-17 17:09:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/releases/commit/5b2e171f0cd38b0f281c33df9cae196b8bf8203d', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I56bd83c4d70e751df6576a38111a5fa5ef656dac\n'}]",0,796916,5b2e171f0cd38b0f281c33df9cae196b8bf8203d,7,3,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I56bd83c4d70e751df6576a38111a5fa5ef656dac
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/796916/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5b2e171f0cd38b0f281c33df9cae196b8bf8203d,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Fopenstack-ansible~master~Ie917c479a336b7a6ab87418f80784a57678b16ec,openstack/openstack-ansible,master,Ie917c479a336b7a6ab87418f80784a57678b16ec,add openvswitch to the log collect,MERGED,2021-06-09 15:17:28.000000000,2021-06-18 15:25:15.000000000,2021-06-18 15:23:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-09 15:17:28.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0cbffbd7657d52f1ba6c32a954bb8f039199fee0', 'message': 'add openvswitch to the log collect\n\nChange-Id: Ie917c479a336b7a6ab87418f80784a57678b16ec\n'}]",0,795572,0cbffbd7657d52f1ba6c32a954bb8f039199fee0,8,3,1,13095,,,0,"add openvswitch to the log collect

Change-Id: Ie917c479a336b7a6ab87418f80784a57678b16ec
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/795572/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,0cbffbd7657d52f1ba6c32a954bb8f039199fee0,, openvswitch \,,1,0
openstack%2Fopenstack-ansible~master~I079da1803369ba24276788954663b2a7a09f6001,openstack/openstack-ansible,master,I079da1803369ba24276788954663b2a7a09f6001,Rename black/white list variables,MERGED,2021-06-16 12:05:05.000000000,2021-06-18 15:23:42.000000000,2021-06-18 15:21:02.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-16 12:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f24e09a1c9fb5cb86df9db5c03100f85ecd34eba', 'message': 'Rename black/white list variables\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/796629\nChange-Id: I079da1803369ba24276788954663b2a7a09f6001\n'}, {'number': 2, 'created': '2021-06-18 08:36:03.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_zun.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_murano.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_ironic.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_horizon.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2', 'inventory/group_vars/utility_all.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'osa_toolkit/ip.py', 'tests/roles/bootstrap-host/templates/user_variables_barbican.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/273c0e9d95780619de35a79d91ce9bd11ebb124c', 'message': 'Rename black/white list variables\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/796629\nChange-Id: I079da1803369ba24276788954663b2a7a09f6001\n'}]",0,796636,273c0e9d95780619de35a79d91ce9bd11ebb124c,11,4,2,28619,,,0,"Rename black/white list variables

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/796629
Change-Id: I079da1803369ba24276788954663b2a7a09f6001
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/796636/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_zun.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_murano.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_ironic.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_horizon.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2', 'inventory/group_vars/utility_all.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'osa_toolkit/ip.py', 'tests/roles/bootstrap-host/templates/user_variables_barbican.yml.j2']",15,f24e09a1c9fb5cb86df9db5c03100f85ecd34eba,,tempest_test_includelist:,tempest_test_whitelist:,31,40
openstack%2Fopenstack-ansible~master~I3952aa9dfbd150e9f1475e9084a53a8719165add,openstack/openstack-ansible,master,I3952aa9dfbd150e9f1475e9084a53a8719165add,Unfreeze roles after RC1,MERGED,2021-06-10 17:14:02.000000000,2021-06-18 15:23:05.000000000,2021-06-18 15:23:05.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-10 17:14:02.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37c96250de11c167accffa39eda213e5127598ef', 'message': 'Unfreeze roles after RC1\n\nChange-Id: I3952aa9dfbd150e9f1475e9084a53a8719165add\n'}]",0,795851,37c96250de11c167accffa39eda213e5127598ef,9,3,1,28619,,,0,"Unfreeze roles after RC1

Change-Id: I3952aa9dfbd150e9f1475e9084a53a8719165add
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/795851/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,37c96250de11c167accffa39eda213e5127598ef,, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: stable-5.0 version: master version: master version: master version: master version: master version: master version: master version: master version: master, version: 6f354a7a4b1e44f5aaa0e4860896e3cb8bbb88e1 version: 434478c28955327e36ac098d2843b90427bf964c version: 57efa55efbc1d16ee1538786c93af27d916d4039 version: 60de69f0ec7c4476fc7455e3a698f8d740cba6be version: 13657acfb26742ea10906c3f5a008f35561174e8 version: 834b2927a70ff0482cc4066f6797ab89240da47c version: b5fe49d98601f62055365645df47ef1bae30ee74 version: e3a82d3a884b262d196e8288787bd34814fafd06 version: 02727291afaaf3920fc11d3018ea088af5e4f1b0 version: 9e943af97604214809ffeb966a5914af4e6f1f2f version: fe04707b0b87c40596335f8506e6a87e429cbf9d version: 713a0576d882ff3f13da7d5ac3cefb9775ce90ed version: af0c55f6832f13242ed04357fe4180b5d8318771 version: 66d3b942ac759b28e9aef92ff8928627de2480c0 version: a38daa515d8dda3120af8d6cf4088bc9ae009d1f version: 9375d4d1d673209c96f85a8863532003f5b82ec5 version: d0323e9bb1dbd5be70d9d8d25a977b3afdb1ba66 version: f9ed9485ccf29d616652c09686d5768abc9ac1e0 version: d120669a7d8f14af3ab1ba1ee3b438ac88225358 version: b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7 version: ac545c353ea85aa7410e09a7155fd07f013da146 version: c70c34b85053cf948ccfc3ccf229c6a22e400cad version: f1e08dab1bf3f02d030925514b6b65fc56c0b10e version: 4bcf6aef0e0c575e1d1dd61f5c9ed71921fe62c6 version: fb96a661ffa0e156245824890dd74b1f17a383f9 version: 9f3dfd20b06d324a5b34eadc47651585fd414d73 version: 415b5ad7a88c3a08e367cb5c83ea0cb7a9ece3ba version: 1fe2df61d21a08b85f1ff906a9a5129f299d28ee version: efd06dfaadb8ddafc66aa48fd615617917d6d897 version: 5e0a408fdb89ff2d5a0fe890230e083113e89451 version: c42711e1cf407e7830f6c4263482dc06b432683a version: 4e88bdb7da94a8be4e4eb48c313aff6fadbce685 version: e64e815dd358575539f754a43ac17b0b9fcc4834 version: b2056f6f4daf3ef94d2636f31310f3254e7ec2fd version: 5fab204977a768a0a30a5685b97b1fd817b1f1bf version: 243198ecedd8fcb61b08cffc9e2c28b5dd674ad1 version: eefafc352788ec9ba96a80036c666eeed27b58c0 version: f9300539c59eea82d1597de1e8c56ccb9eba9572 version: b96ce882213d5944fd72f5607b909877fc17c461 version: 906e596a81fd10b4c6275ff622c632b740fbe33d version: 3771143280aa64d2b5d4724626ef38af770d9bf0 version: 9f1416dd12741015f90a597ed0c1fe116cc09999 version: f51699d0e721e1c0fc016e92d09c62abb44a9e45 version: f89b7f0aaf69b9d0877e6380bfc009f24b4e3f84 version: 1c06fe38f0aaa251e50c321bdb2f7cb8c5391d17 version: 840f47f4b9e2874019630fd70a77fe31be6aacd0 version: 3b402db6b1577dee76aa54d5480c0e4cfcafe97d version: 8a80f9785783250a46a0f689d7fe5e8c7c993a09 version: 5340b650e513ed6323602879c0db841681c5bc59 version: ad399343c9568f6f496be6159a6ca4893169a579 version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c version: ab9861e35c23342fa30c703d29e370da590ea582 version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: 69a80aea9e07a2495d0a5ce67f8305add05ff10f version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: 70d3c59efea4c3080fa66aeef75eadd0a032a83e version: 9d14e194caa46fb503d1be72c96916cd90b88997 version: 00a542c7fccf56cb6314f04b949c62eede2f6f17 version: e5de91480723fa43de7e0a240d3b0727adf8738a version: 82dcd020fa950d1df3a2a71e263cb0cce3386874 version: 95f74142a397fa94444fae429fea32b184b03e9b version: e5bbd440a7895db946afef8a434e821914183b03,64,64
openstack%2Fpuppet-tripleo~master~I69dcd883478e9a8c2f551a21cd05283c7dda26da,openstack/puppet-tripleo,master,I69dcd883478e9a8c2f551a21cd05283c7dda26da,WIP qdr ssl support,ABANDONED,2021-06-18 15:16:32.000000000,2021-06-18 15:18:16.000000000,,[{'_account_id': 9257}],"[{'number': 1, 'created': '2021-06-18 15:16:32.000000000', 'files': ['spec/classes/tripleo_profile_base_qdr_spec.rb', 'manifests/profile/base/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6c71e574dc51e4e6f63b8f6f86fa50b32ab7fb45', 'message': 'WIP qdr ssl support\n\nChange-Id: I69dcd883478e9a8c2f551a21cd05283c7dda26da\n'}]",0,797123,6c71e574dc51e4e6f63b8f6f86fa50b32ab7fb45,3,1,1,9257,,,0,"WIP qdr ssl support

Change-Id: I69dcd883478e9a8c2f551a21cd05283c7dda26da
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/797123/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_qdr_spec.rb', 'manifests/profile/base/qdr.pp']",2,6c71e574dc51e4e6f63b8f6f86fa50b32ab7fb45,qdr-ssl-for-review,"# [*listener_require_ssl*] # (optional) Require the use of SSL on the connection # Defaults to false # # [*listener_ssl_cert_db*] # (optional) Path to certificate db # Defaults to undef # # [*listener_ssl_cert_file*] # (optional) Path to certificat file # Defaults to undef # # [*listener_ssl_key_file*] # (optional) Path to private key file # Defaults to undef # $listener_require_ssl = false, $listener_ssl_cert_db = undef, $listener_ssl_cert_file = undef, $listener_ssl_key_file = undef, if $listener_require_ssl { $ssl_opts = {'sslProfile' => ""Router.${::fqdn}""} } else { $ssl_opts = {} } $memo + [merge($ssl_opts, {'host' => $node, 'port' => '31460'})] default => [merge($ssl_opts, {'host' => '0.0.0.0', 'role' => 'inter-router'})], listener_addr => '0.0.0.0', listener_port => ""${qdr_listener_port}"", listener_require_ssl => $listener_require_ssl, listener_ssl_cert_db => $listener_ssl_cert_db, listener_ssl_cert_file => $listener_ssl_cert_file, listener_ssl_key_file => $listener_ssl_key_file, router_mode => $router_mode, connectors => $connectors, extra_listeners => $extra_listeners, extra_addresses => $extra_addresses, log_enable => ""${qdr_log_enable}"","," $memo + [{'host' => $node, 'port' => '31460'}] default => [{'host' => '0.0.0.0', 'role' => 'inter-router'}], listener_addr => '0.0.0.0', listener_port => ""${qdr_listener_port}"", router_mode => $router_mode, connectors => $connectors, extra_listeners => $extra_listeners, extra_addresses => $extra_addresses, log_enable => ""${qdr_log_enable}"",",83,11
openstack%2Fcharm-trilio-wlm~master~I7836754529a8b5d067a86077e1e004fa2f53ec6e,openstack/charm-trilio-wlm,master,I7836754529a8b5d067a86077e1e004fa2f53ec6e,Remove experimental from s3 options,MERGED,2021-06-17 23:51:16.000000000,2021-06-18 15:07:46.000000000,2021-06-18 15:07:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 23:51:16.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/trilio_wlm.py', 'src/tests/bundles/bionic-train-41-s3.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/2c6d31f6682629653d99d8c872e3f444906eb408', 'message': 'Remove experimental from s3 options\n\nRemove the experimental status from the S3 options. Update the\nREADME documentation to provide informationf or configuring the\nappropriate backend to use for NFS or S3 storage.\n\nChange-Id: I7836754529a8b5d067a86077e1e004fa2f53ec6e\n'}]",0,796961,2c6d31f6682629653d99d8c872e3f444906eb408,7,3,1,8992,,,0,"Remove experimental from s3 options

Remove the experimental status from the S3 options. Update the
README documentation to provide informationf or configuring the
appropriate backend to use for NFS or S3 storage.

Change-Id: I7836754529a8b5d067a86077e1e004fa2f53ec6e
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/61/796961/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/trilio_wlm.py', 'src/tests/bundles/bionic-train-41-s3.yaml']",4,2c6d31f6682629653d99d8c872e3f444906eb408,s3-not-experimental, backup-target-type: s3, backup-target-type: experimental-s3,59,10
openstack%2Fkuryr-kubernetes~master~I2dd1e8989caf004b3dee0cb51780a45ce8d9353c,openstack/kuryr-kubernetes,master,I2dd1e8989caf004b3dee0cb51780a45ce8d9353c,Show error messages when resources are stuck,MERGED,2021-06-17 15:36:13.000000000,2021-06-18 15:07:34.000000000,2021-06-18 15:06:08.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-17 15:36:13.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a17e5502c2702632317b8f51fb404a3e7c8874ea', 'message': ""Show error messages when resources are stuck\n\nIf an Octavia loadbalancer is stuck in PENDING_UPDATE state or Neutron\nport is DOWN despite being plugged there's not much Kuryr can do. For\nsuch cases we need to clearly message the user that the error they're\nseeing is caused by OpenStack service misbehaving and not Kuryr.\n\nThis commit does so by making sure in such cases we raise a distinct\nversion of ResourceNotReady exception.\n\nChange-Id: I2dd1e8989caf004b3dee0cb51780a45ce8d9353c\nCloses-Bug: 1918711\n""}]",0,796881,a17e5502c2702632317b8f51fb404a3e7c8874ea,14,3,1,11600,,,0,"Show error messages when resources are stuck

If an Octavia loadbalancer is stuck in PENDING_UPDATE state or Neutron
port is DOWN despite being plugged there's not much Kuryr can do. For
such cases we need to clearly message the user that the error they're
seeing is caused by OpenStack service misbehaving and not Kuryr.

This commit does so by making sure in such cases we raise a distinct
version of ResourceNotReady exception.

Change-Id: I2dd1e8989caf004b3dee0cb51780a45ce8d9353c
Closes-Bug: 1918711
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/796881/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py']",4,a17e5502c2702632317b8f51fb404a3e7c8874ea,meaningful-error-on-stuck-resources, except k_exc.PortNotReady:, except k_exc.ResourceNotReady:,20,3
openstack%2Freleases~master~Ie002b86a868ab73b1f5729ec6a505bf153dc0b0f,openstack/releases,master,Ie002b86a868ab73b1f5729ec6a505bf153dc0b0f,[DNM] PoC to ensure that our validation checks are fixed,ABANDONED,2021-06-15 14:12:09.000000000,2021-06-18 15:04:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-15 14:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/baeb0d685607c2d88141e195bfe01a71176ded14', 'message': ""[DNM] PoC to ensure that our validation checks are fixed\n\nThe goal is mostly to ensure that we can't release a bugfix as a new first\nversion for a series.\n\nChange-Id: Ie002b86a868ab73b1f5729ec6a505bf153dc0b0f\n""}, {'number': 2, 'created': '2021-06-15 14:54:24.000000000', 'files': ['deliverables/xena/oslo.middleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f9bcc1e890865dafa5c4bc18ff3266706cbd9ec4', 'message': ""[DNM] PoC to ensure that our validation checks are fixed\n\nThe goal is mostly to ensure that we can't release a bugfix as a new first\nversion for a series.\n\nChange-Id: Ie002b86a868ab73b1f5729ec6a505bf153dc0b0f\n""}]",0,796485,f9bcc1e890865dafa5c4bc18ff3266706cbd9ec4,7,1,2,28522,,,0,"[DNM] PoC to ensure that our validation checks are fixed

The goal is mostly to ensure that we can't release a bugfix as a new first
version for a series.

Change-Id: Ie002b86a868ab73b1f5729ec6a505bf153dc0b0f
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/796485/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.middleware.yaml'],1,baeb0d685607c2d88141e195bfe01a71176ded14,fix-first-series-release-check,releases: - version: 4.2.1 projects: - repo: openstack/oslo.middleware hash: 43ab17010a93bff92f7f0a64d4aae1cc54480ae0,,5,0
openstack%2Fnova~master~I9f103827c6efbbadc49acd3d87d98aa9ed54cd63,openstack/nova,master,I9f103827c6efbbadc49acd3d87d98aa9ed54cd63,Saving security group to info_cache,NEW,2021-04-15 01:26:09.000000000,2021-06-18 15:04:05.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2021-04-15 01:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15b9931b3646dc08ca3e72c2496a5a247fafbef9', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 2, 'created': '2021-04-20 08:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/737afb162380b338d86f3a86d1961083dd64a451', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 3, 'created': '2021-05-16 11:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40f9aa022ff634a08536bdca36efadf6967b7c32', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 4, 'created': '2021-05-16 12:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2715982bba30469a243c0b854de90c283aa8e15a', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 5, 'created': '2021-05-16 12:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfef2dc8c2fa1d758be167a1c3deabd2b017cfe9', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 6, 'created': '2021-05-16 13:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bc5a91aed6e44d6bea4ee7b157859021d7b5e1e', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 7, 'created': '2021-05-16 13:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dc9d6f963566798f7310a9583a28eef2af6a7c3', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 8, 'created': '2021-05-16 13:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a3c4709e492af8bee3f228ea0c4ec1fd6027e21', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 9, 'created': '2021-05-16 13:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9604e7de417d28be24cdc9e0b4defa770cf6c583', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 10, 'created': '2021-05-16 13:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abc51048af8b9e6317346de5ecaac99b1ede1465', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 11, 'created': '2021-05-16 14:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3903d751b9dc4907be48543af1b25c36a660bbb', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 12, 'created': '2021-05-16 14:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b78a24dcd0c961b8d505528a3789b3805c8ebbe2', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 13, 'created': '2021-05-18 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb682fdacf61a179d3b81dbac14772883169d3fd', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 14, 'created': '2021-05-18 12:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a1735d71efb0bacc32465e77e33ecbca8afc99c', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 15, 'created': '2021-05-18 13:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b6f3d8db0c52862c45b70dfb2a54be83cffe510', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 16, 'created': '2021-05-18 14:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c49c0826f2e42e9788b257b1d0a37c6b84493e8', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 17, 'created': '2021-05-18 14:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/705373c2a814fcc92e65eeaa9070678c5664d2e4', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 18, 'created': '2021-05-18 15:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d3de79866bc184f49622dcfd6e32a4c8fadfc36', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 19, 'created': '2021-05-18 15:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/228fad05b263a9b2e68ce49bfd2ee8a382342c9b', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 20, 'created': '2021-05-18 16:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cefd61432dfde750c525086d5054958f0ed2305', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 21, 'created': '2021-05-19 00:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d967bae9d55d649c72b9e1040c229c2817291a5e', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 22, 'created': '2021-05-20 10:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c63ece3430ce17f5cfc2b5dca40b5f4787a2ba2f', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 23, 'created': '2021-05-27 06:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d924f1992783c6e47b4ceae6c925781c1487d6d7', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 24, 'created': '2021-05-27 06:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e93c818314f3870c4a468a25b65e2378b2b3bd0b', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 25, 'created': '2021-05-27 07:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/050166d834e8a0575c4c54c36513b72799954710', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 26, 'created': '2021-05-27 08:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c26638e90c4e31c44cf1fff40f88a264224635a5', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 27, 'created': '2021-05-27 08:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e078984599f86552a4ac36ddbb52c26322c99ea7', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 28, 'created': '2021-05-27 09:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5868a0b1c3220b3aaacfba88e96702d12811b39d', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 29, 'created': '2021-05-27 09:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e295c08891b38e803fd3ab5562564bd11e56bb96', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 30, 'created': '2021-05-27 10:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96672ae8d83aa3cec407bb84e03d6458230d0bbc', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 31, 'created': '2021-05-27 12:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a63f5fc730040d3bba7b27c26386418de08597d5', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 32, 'created': '2021-05-27 13:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e84492f093e5b426bf5f84e48b07041319d9e6eb', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 33, 'created': '2021-05-27 13:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bf5b0b79135797722f41689ab19f0be03ea6fa5', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 34, 'created': '2021-05-27 14:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/558597e9b0b5b2de77399397ec1a51a829a3359a', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 35, 'created': '2021-05-27 15:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d358e3dd1124d4005e6709bbbf0c7697572a86c', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\n'}, {'number': 36, 'created': '2021-05-29 03:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c511f63a86f8c1f7a1774d6b83e8a5882e769b4', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 37, 'created': '2021-05-29 06:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d7ec5a03c6a87cc84386f3432aa3b4d5fbdd6dc', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 38, 'created': '2021-05-29 07:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/184285c26868c4cfd6ead669001a538c97da98cf', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 39, 'created': '2021-05-29 12:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29ee41617ab8b612366720728d29cd97b5f09036', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 40, 'created': '2021-05-30 11:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8088071cc302b5a3d500d828b7425c2c79501b9', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 41, 'created': '2021-05-30 11:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df57e5f0f5f0a13fe385e5ec2973a69ddbb6f5c6', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 42, 'created': '2021-05-30 12:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b98c95429022fbfa9cc427d00db98900762ac898', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 43, 'created': '2021-05-30 12:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59ac76a1a68f21758c1166f4a2dea4b0a0615c2a', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 44, 'created': '2021-05-30 13:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccfc6ffde6846d8b50653fc84216df5c71ede224', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 45, 'created': '2021-05-30 14:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb9a1d2814467525e84f248e1bdc9bf4b7893a7d', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 46, 'created': '2021-05-30 14:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc6cbb783e7e6366ecb0d49e7c4cc4528436139', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 47, 'created': '2021-06-01 02:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/710644e1e04b709dfd05193e53aaef8756f15bd0', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 48, 'created': '2021-06-01 03:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b026b912fa282e965ebf0cd7b6c89c9ca52be426', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 49, 'created': '2021-06-01 04:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49386746ddd93196c6889268eee51af59f4fbfa5', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 50, 'created': '2021-06-01 06:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1aed6cd45c3a51155255518f7b2533abac59faf', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 51, 'created': '2021-06-01 11:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72c33912e8b0e7b8c217d0d45c60314482a6f635', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 52, 'created': '2021-06-02 01:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14a28fa02782753fc032ee50c6684566e5dab834', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 53, 'created': '2021-06-07 00:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcb08a74702806e424d8f198e7123460d13349b9', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 54, 'created': '2021-06-07 04:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a6aa6c044dab6b929c8e0188e3724efd589f7a8', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\n'}, {'number': 55, 'created': '2021-06-15 00:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b73e0065522efc48db1d01d94a3c06ba90ffa58', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\nImplements: rework-security-group-retrieving\n'}, {'number': 56, 'created': '2021-06-15 14:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af71a5dd2c87838397244b7f0684699de06408a2', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\nImplements: rework-security-group-retrieving\n'}, {'number': 57, 'created': '2021-06-15 15:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70e4ab4a5fd8513dd8c75cf811f7b14d0b470528', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\nImplements: rework-security-group-retrieving\n'}, {'number': 58, 'created': '2021-06-16 00:03:43.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/api/openstack/compute/views/servers.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/network/test_security_group.py', 'nova/tests/unit/api/openstack/compute/test_extended_ips.py', 'nova/network/security_group_api.py', 'nova/network/neutron.py', 'nova/network/model.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_extended_ips_mac.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6cb7fd5e7ed7f4f702cc63a641a6ed6a22eb5e88', 'message': 'Saving security group to info_cache\n\nSaving security group into info_cache table and avoid\nquerying neutron server directly. port update event\nwill be fed back to nova and state will eventually synced.\nalthough there will might be a delay of several 2\n\nChange-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63\nCloses-Bug: #1923560\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/792491\nImplements: #rework-security-group-retrieving\n'}]",26,786348,6cb7fd5e7ed7f4f702cc63a641a6ed6a22eb5e88,201,4,58,29071,,,0,"Saving security group to info_cache

Saving security group into info_cache table and avoid
querying neutron server directly. port update event
will be fed back to nova and state will eventually synced.
although there will might be a delay of several 2

Change-Id: I9f103827c6efbbadc49acd3d87d98aa9ed54cd63
Closes-Bug: #1923560
Depends-On: https://review.opendev.org/c/openstack/tempest/+/792491
Implements: #rework-security-group-retrieving
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/786348/38 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutron.py', 'nova/api/openstack/compute/views/servers.py', 'nova/network/model.py']",3,15b9931b3646dc08ca3e72c2496a5a247fafbef9,speed-up-server-detail," preserve_on_delete=False, security_groups=list(), **kwargs): self['security_groups'] = security_groups"," preserve_on_delete=False, **kwargs):",13,8
openstack%2Fkolla~stable%2Ftrain~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/train,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:47:44.000000000,2021-06-18 15:02:56.000000000,2021-06-18 15:01:14.000000000,"[{'_account_id': 11928}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 07:47:44.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fa53a60c149026ff6641e1e1d9bae240dd888f3d', 'message': 'Fix _get_images_dir when pip-installed with --user\n\nThere are two cases where pip installs kolla share into ~/.local/share/kolla:\n\n- with `pip install --user kolla`\n- with `pip install kolla` as non-root\n\nThis patch helps kolla find the share dir in these cases.\n\nCloses-Bug: #1930544\n\nChange-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba\n(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)\n'}]",0,797016,fa53a60c149026ff6641e1e1d9bae240dd888f3d,12,4,1,30491,,,0,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/797016/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/bug-1930544-a8926990f3a578a9.yaml']",2,fa53a60c149026ff6641e1e1d9bae240dd888f3d,pip_local-stable/wallaby-stable/victoria-stable/ussuri-stable/train,--- fixes: - | Fix support for kolla install in ``~/.local``. `LP#1930544 <https://launchpad.net/bugs/1930544>`__ ,,6,0
openstack%2Fcinder~master~I146690276e8a21b9193304d93965428558f1387f,openstack/cinder,master,I146690276e8a21b9193304d93965428558f1387f,create encryption volume with existing secret,ABANDONED,2020-10-12 10:21:28.000000000,2021-06-18 15:02:44.000000000,,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-10-12 10:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5501d32239100246ba1d5dfa687c3afb30b4ba21', 'message': ""create encryption volume with existing secret\n\nWhen 'volume_same_encryption' is not set or is False, the operation is the same as before. If True, create encryption volume with existing secret, the secret uuid in the metadata. Its backup and the volume restored by its backup will use the same encryption, so, the secret must no be deleted.\n\n Implements: blueprint create-encryption-volume-support-get-secret-from-kms\n\nChange-Id: I146690276e8a21b9193304d93965428558f1387f\n""}, {'number': 2, 'created': '2020-10-12 10:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b1791a9352424f2bcb3f18ecd7bc3845727fa9b', 'message': ""create encryption volume with existing secret\n\nWhen 'volume_same_encryption' is not set or is False, the operation\nis the same as before. If True, create encryption volume with existing\nsecret, the secret uuid in the metadata. Its backup and the volume\nrestored by its backup will use the same encryption, so, the secret\nmust no be deleted.\n\nImplements: blueprint create-encryption-volume-support-get-secret-from-kms\n\nChange-Id: I146690276e8a21b9193304d93965428558f1387f\n""}, {'number': 3, 'created': '2020-10-13 01:28:56.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/volume_utils.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a63a9f85087a0d7600205f1aafead0a919850f46', 'message': ""create encryption volume with existing secret\n\nWhen 'volume_same_encryption' is not set or is False, the operation\nis the same as before. If True, create encryption volume with existing\nsecret, the secret uuid in the metadata. Its backup and the volume\nrestored by its backup will use the same encryption, so, the secret\nmust no be deleted.\n\nImplements: blueprint create-encryption-volume-support-get-secret-from-kms\n\nChange-Id: I146690276e8a21b9193304d93965428558f1387f\n""}]",2,757528,a63a9f85087a0d7600205f1aafead0a919850f46,43,15,3,30754,,,0,"create encryption volume with existing secret

When 'volume_same_encryption' is not set or is False, the operation
is the same as before. If True, create encryption volume with existing
secret, the secret uuid in the metadata. Its backup and the volume
restored by its backup will use the same encryption, so, the secret
must no be deleted.

Implements: blueprint create-encryption-volume-support-get-secret-from-kms

Change-Id: I146690276e8a21b9193304d93965428558f1387f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/757528/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/volume_utils.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/exception.py']",4,5501d32239100246ba1d5dfa687c3afb30b4ba21,encryption_volume," class InvalidSecret(Invalid): message = _(""Algorithm or bit_length of Secret %(encryption_key_id) "" ""is different from volume-type encryption"")",,55,26
openstack%2Fcharm-guide~master~I1fdb00b54b111540bee83dd1f1001b1c865fc1e0,openstack/charm-guide,master,I1fdb00b54b111540bee83dd1f1001b1c865fc1e0,Deprecate charm-barbican-softhsm,MERGED,2021-06-16 12:20:47.000000000,2021-06-18 15:01:53.000000000,2021-06-18 14:59:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-16 12:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/91e3f0426f7accce24a31ad161c319f3f2be5d8b', 'message': 'Deprecate charm-barbican-softhsm\n\nChange-Id: I1fdb00b54b111540bee83dd1f1001b1c865fc1e0\n'}, {'number': 2, 'created': '2021-06-16 12:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1b6203c7fbe5283f955560e936ffe7d4da0b3f47', 'message': 'Deprecate charm-barbican-softhsm\n\nChange-Id: I1fdb00b54b111540bee83dd1f1001b1c865fc1e0\nRelated-Bug: #1828424\n'}, {'number': 3, 'created': '2021-06-16 13:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/305f52999af284c5dc303fa27aea4e66d22270ab', 'message': 'Deprecate charm-barbican-softhsm\n\nChange-Id: I1fdb00b54b111540bee83dd1f1001b1c865fc1e0\nRelated-Bug: #1828424\n'}, {'number': 4, 'created': '2021-06-18 09:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b83ba299c27eb1dc5a8793c28b42ed75ea546de6', 'message': 'Deprecate charm-barbican-softhsm\n\nChange-Id: I1fdb00b54b111540bee83dd1f1001b1c865fc1e0\nRelated-Bug: #1828424\n'}, {'number': 5, 'created': '2021-06-18 14:18:54.000000000', 'files': ['doc/source/2110.rst', 'doc/source/openstack-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/371500caa166353003d5bad1b00f764db07696b7', 'message': 'Deprecate charm-barbican-softhsm\n\nChange-Id: I1fdb00b54b111540bee83dd1f1001b1c865fc1e0\nRelated-Bug: #1828424\n'}]",3,796639,371500caa166353003d5bad1b00f764db07696b7,18,3,5,31289,,,0,"Deprecate charm-barbican-softhsm

Change-Id: I1fdb00b54b111540bee83dd1f1001b1c865fc1e0
Related-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/39/796639/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-charms.rst'],1,91e3f0426f7accce24a31ad161c319f3f2be5d8b,bug/1828424,* `barbican-softhsm`_.. _barbican-softhsm: https://opendev.org/openstack/charm-barbican-softhsm/,* `barbican-softhsm`_.. _barbican-softhsm: https://opendev.org/openstack/charm-barbican-softhsm/,2,2
openstack%2Fbarbican~master~I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453,openstack/barbican,master,I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453,Fix unit tests and migration to unblock gate,MERGED,2021-06-14 14:07:27.000000000,2021-06-18 14:59:10.000000000,2021-06-15 21:57:02.000000000,"[{'_account_id': 5314}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 14:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/85b2df08843011cb2cc47317a3a096569ebcefa6', 'message': ""Fix unit tests to unblock gate\n\nCurrently there are 2 failing unit tests:\n\n- test_soft_deleting_expired_secrets: Caused by passing a column instead\n  of a table on the query creation.\n\n- test_should_raise_for_pycrypto_stored_key_no_private_key: Caused by\n  the conjunction of Barbican using scoped sessions and SQLAlchemy's\n  identity mapping.\n\nThis patch fixes those 2 tests.\n\nChange-Id: I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453\n""}, {'number': 2, 'created': '2021-06-14 15:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0f129df9a628c8dbad0249edd33ffc2614de9199', 'message': ""Fix unit tests and migration to unblock gate\n\nCurrently there are 2 failing unit tests:\n\n- test_soft_deleting_expired_secrets: Caused by passing a column instead\n  of a table on the query creation.\n\n- test_should_raise_for_pycrypto_stored_key_no_private_key: Caused by\n  the conjunction of Barbican using scoped sessions and SQLAlchemy's\n  identity mapping.\n\nAnd a migration issue on add_secret_consumers.\n\nThis patch fixes all those issues to unblock the gate.\n\nStory: 2008967\n\nChange-Id: I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453\n""}, {'number': 3, 'created': '2021-06-14 15:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/74566587e60987945297ab67457e9e6958c65334', 'message': ""Fix unit tests and migration to unblock gate\n\nCurrently there are 2 failing unit tests:\n\n- test_soft_deleting_expired_secrets: Caused by passing a column instead\n  of a table on the query creation.\n\n- test_should_raise_for_pycrypto_stored_key_no_private_key: Caused by\n  the conjunction of Barbican using scoped sessions and SQLAlchemy's\n  identity mapping.\n\nAnd a migration issue on add_secret_consumers.\n\nThis patch fixes all those issues to unblock the gate.\n\nStory: 2008967\n\nChange-Id: I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453\n""}, {'number': 4, 'created': '2021-06-14 16:26:15.000000000', 'files': ['barbican/tests/tasks/test_certificate_resources.py', 'barbican/model/clean.py', 'barbican/model/models.py', 'barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1ae4badb1a78a6ce8dfcbddfe478506b7af10624', 'message': ""Fix unit tests and migration to unblock gate\n\nCurrently there are 2 failing unit tests:\n\n- test_soft_deleting_expired_secrets: Caused by passing a column instead\n  of a table on the query creation.\n\n- test_should_raise_for_pycrypto_stored_key_no_private_key: Caused by\n  the conjunction of Barbican using scoped sessions and SQLAlchemy's\n  identity mapping.\n\nAnd a migration issue on add_secret_consumers.\n\nThis patch fixes all those issues to unblock the gate.\n\nStory: 2008967\n\nChange-Id: I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453\n""}]",5,796284,1ae4badb1a78a6ce8dfcbddfe478506b7af10624,21,4,4,9535,,,0,"Fix unit tests and migration to unblock gate

Currently there are 2 failing unit tests:

- test_soft_deleting_expired_secrets: Caused by passing a column instead
  of a table on the query creation.

- test_should_raise_for_pycrypto_stored_key_no_private_key: Caused by
  the conjunction of Barbican using scoped sessions and SQLAlchemy's
  identity mapping.

And a migration issue on add_secret_consumers.

This patch fixes all those issues to unblock the gate.

Story: 2008967

Change-Id: I6dc7d2671f2ba9d97af42d3155ae2bf3a8e33453
",git fetch https://review.opendev.org/openstack/barbican refs/changes/84/796284/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/tasks/test_certificate_resources.py', 'barbican/model/clean.py', 'barbican/model/models.py']",3,85b2df08843011cb2cc47317a3a096569ebcefa6,fix-unittests, secret_ref.delete(session) secret_acl.delete(session), session.delete(secret_ref) session.delete(secret_acl),8,5
openstack%2Fcinder~master~I16b58dc2252ad60c322141ded5be1efc4db6c58d,openstack/cinder,master,I16b58dc2252ad60c322141ded5be1efc4db6c58d,allow project_id/user_id in create_snapshot filter,NEW,2021-06-01 05:32:19.000000000,2021-06-18 14:59:04.000000000,,"[{'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 05:32:19.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a70c74f786de5c9749c159b3587a052d8488a9b0', 'message': 'allow project_id/user_id in create_snapshot filter\n\n_create_snapshot is only passing the size attribute from the original\nvolume request spec, this allows user_id/project_id) to also be\nevaluated by the filter.\n\nCloses-bug: #1928400\nChange-Id: I16b58dc2252ad60c322141ded5be1efc4db6c58d\n'}]",1,793885,a70c74f786de5c9749c159b3587a052d8488a9b0,19,2,1,25635,,,0,"allow project_id/user_id in create_snapshot filter

_create_snapshot is only passing the size attribute from the original
volume request spec, this allows user_id/project_id) to also be
evaluated by the filter.

Closes-bug: #1928400
Change-Id: I16b58dc2252ad60c322141ded5be1efc4db6c58d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/793885/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,a70c74f786de5c9749c159b3587a052d8488a9b0,bug/1928400," # NOTE(aussieade) require project_id and user_id to support # filter_functions like filter_function=volume.project_id != ""<uuid>"" size=volume.size, user_id=volume.user_id, project_id=volume.project_id)}", size=volume.size)},4,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,stable/train,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 19:14:38.000000000,2021-06-18 14:52:16.000000000,2021-06-17 20:23:49.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 19:14:38.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec1a78829a9db51e1140c5bae68500bf6e94e3b5', 'message': ""Always run network config for undercloud\n\nWe need to ensure that os-net-config is run on upgrades. On the\nundercloud we want the os-net-config to always run so let's set the\nNetworkDeploymentAction correctly.\n\nChange-Id: I749714c1f0af3787020f3e9b88f752d272b91d37\nRelated-Bug: #1930151\n(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)\n""}]",0,796731,ec1a78829a9db51e1140c5bae68500bf6e94e3b5,8,3,1,14985,,,0,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/796731/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,ec1a78829a9db51e1140c5bae68500bf6e94e3b5,bug/1930151-stable/train," NetworkDeploymentAction: ['CREATE','UPDATE']",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,stable/wallaby,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 19:11:56.000000000,2021-06-18 14:52:07.000000000,2021-06-17 20:06:59.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 19:11:56.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2966ca0fb4a477492031275d792e3c5f8b6b5a5', 'message': ""Always run network config for undercloud\n\nWe need to ensure that os-net-config is run on upgrades. On the\nundercloud we want the os-net-config to always run so let's set the\nNetworkDeploymentAction correctly.\n\nChange-Id: I749714c1f0af3787020f3e9b88f752d272b91d37\nRelated-Bug: #1930151\n(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)\n""}]",0,796728,c2966ca0fb4a477492031275d792e3c5f8b6b5a5,10,3,1,14985,,,0,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/796728/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,c2966ca0fb4a477492031275d792e3c5f8b6b5a5,bug/1930151-stable/wallaby," NetworkDeploymentAction: ['CREATE','UPDATE']",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,stable/victoria,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 19:13:28.000000000,2021-06-18 14:51:48.000000000,2021-06-18 05:18:52.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 19:13:28.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2c2111ef5aaef12e3a9fe70f4569e606de2cfe6', 'message': ""Always run network config for undercloud\n\nWe need to ensure that os-net-config is run on upgrades. On the\nundercloud we want the os-net-config to always run so let's set the\nNetworkDeploymentAction correctly.\n\nChange-Id: I749714c1f0af3787020f3e9b88f752d272b91d37\nRelated-Bug: #1930151\n(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)\n""}]",0,796729,c2c2111ef5aaef12e3a9fe70f4569e606de2cfe6,13,3,1,14985,,,0,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/796729/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,c2c2111ef5aaef12e3a9fe70f4569e606de2cfe6,bug/1930151-stable/victoria," NetworkDeploymentAction: ['CREATE','UPDATE']",,1,0
openstack%2Fcloudkitty~master~I4eb7b6d3daa15d57fe9e44a53cfc40e86c953172,openstack/cloudkitty,master,I4eb7b6d3daa15d57fe9e44a53cfc40e86c953172,docs: Update Freenode to OFTC,MERGED,2021-05-31 08:55:58.000000000,2021-06-18 14:49:43.000000000,2021-06-18 14:48:04.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29313}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-05-31 08:55:58.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a80b05587dc5f88a8c19049ae66c8ab5155eadbf', 'message': 'docs: Update Freenode to OFTC\n\nChange-Id: I4eb7b6d3daa15d57fe9e44a53cfc40e86c953172\n'}]",0,793740,a80b05587dc5f88a8c19049ae66c8ab5155eadbf,9,11,1,15197,,,0,"docs: Update Freenode to OFTC

Change-Id: I4eb7b6d3daa15d57fe9e44a53cfc40e86c953172
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/40/793740/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,a80b05587dc5f88a8c19049ae66c8ab5155eadbf,,"You can reach us thought IRC (#cloudkitty @ oftc.net), or on the official","You can reach us thought IRC (#cloudkitty @freenode.net), or on the official",2,2
openstack%2Fopenstack-helm-images~master~I50e05b0733637e0f2ca715c4a3d700e5547399a1,openstack/openstack-helm-images,master,I50e05b0733637e0f2ca715c4a3d700e5547399a1,Remove old versions,ABANDONED,2021-06-01 16:52:04.000000000,2021-06-18 14:41:27.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 16:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7c14ac27fbc80e7059f08272073a5c7c23ed8b08', 'message': 'Remove old versions\n\nCinder codebase does include versions from queens while while\nneutron from pike\nZuul CI failing because it includes old versions yet.\n\nChange-Id: I50e05b0733637e0f2ca715c4a3d700e5547399a1\n'}, {'number': 2, 'created': '2021-06-18 14:40:19.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eabe4a313188dc9047d2c540be4e6b38519f92ff', 'message': 'Remove old versions\n\nCinder codebase does include versions from queens while while\nneutron from pike\nZuul CI failing because it includes old versions yet.\n\nChange-Id: I50e05b0733637e0f2ca715c4a3d700e5547399a1\n'}]",0,794009,eabe4a313188dc9047d2c540be4e6b38519f92ff,9,2,2,31746,,,0,"Remove old versions

Cinder codebase does include versions from queens while while
neutron from pike
Zuul CI failing because it includes old versions yet.

Change-Id: I50e05b0733637e0f2ca715c4a3d700e5547399a1
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/09/794009/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,7c14ac27fbc80e7059f08272073a5c7c23ed8b08,monasca-image,," - <<: *cinder_project repository: openstackhelm/cinder build_args: - ""FROM='{{ base_repository }}'"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='cinder'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='fluent lvm ceph qemu'"" - ""PIP_PACKAGES='pycrypto python-swiftclient'"" - ""WHEELS='{{ wheels_location }}'"" - ""KEEP_ALL_WHEELS=yes"" tags: *imagetag - context: ""."" repository: openstackhelm/neutron build_args: - ""FROM='{{ base_repository }}'"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='neutron'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='fluent linuxbridge openvswitch'"" - ""DIST_PACKAGES='jq'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" - ""KEEP_ALL_WHEELS=yes"" tags: *imagetag - context: ""."" repository: openstackhelm/neutron build_args: - ""FROM=docker.io/ubuntu:18.04"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='neutron'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='fluent neutron linuxbridge openvswitch'"" - ""DIST_PACKAGES='ethtool lshw'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" - ""KEEP_ALL_WHEELS=yes"" tags: - ""{{ shortbranchname }}-18.04-sriov"" - ""{{ shortbranchname }}-18.04-sriov-{{ currentdate }}"" - context: ""."" repository: openstackhelm/horizon build_args: - ""FROM='{{ base_repository }}'"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='horizon'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='fluent apache'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" - ""KEEP_ALL_WHEELS=yes"" tags: *imagetag - context: "".""",0,53
openstack%2Ftripleo-heat-templates~master~I7b20399d55c3de82c8aeddc3317c9972409217da,openstack/tripleo-heat-templates,master,I7b20399d55c3de82c8aeddc3317c9972409217da,Set tripleo_cephadm rbd mirror vars,MERGED,2021-06-14 13:57:03.000000000,2021-06-18 14:31:53.000000000,2021-06-18 14:31:53.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-14 13:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fbe1bff887d984be5aecb54f60a30090cbf9582', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n'}, {'number': 2, 'created': '2021-06-14 14:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39b75efda701524bc40cec7ffc3070e1a00db878', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n'}, {'number': 3, 'created': '2021-06-14 14:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7816fe49c469d77b5392c1a104c19d09e18ca81c', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n'}, {'number': 4, 'created': '2021-06-14 18:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f142f41c9774389e803042fb37f62c5fe7b8d7e', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n'}, {'number': 5, 'created': '2021-06-15 13:25:20.000000000', 'files': ['deployment/cephadm/ceph-rbdmirror.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33f7868d551745ed4cbd219ab82128940acb99b8', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n'}]",0,796283,33f7868d551745ed4cbd219ab82128940acb99b8,32,6,5,25402,,,0,"Set tripleo_cephadm rbd mirror vars

This patch introduces the logic of adding and setting the rbd mirror
parameters required, later in the process, by cephadm.
By doing this we can not only deploy the rbd-mirror daemon (via the
cephadm spec file), but also run a set of ceph commands to properly
configure mirroring on a given pool.

Depends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103
Change-Id: I7b20399d55c3de82c8aeddc3317c9972409217da
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/796283/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-rbdmirror.yaml'],1,6fbe1bff887d984be5aecb54f60a30090cbf9582,cephadm_rbdmirror," external_deploy_tasks: list_concat: - {get_attr: [CephBase, role_data, external_deploy_tasks]} - - name: ceph_rbdmirror_external_deploy_init when: step|int == 1 tags: - ceph block: - name: set cephadm rbdmirror vars set_fact: cephadm_rbdmirror: tripleo_cephadm_rbd_mirror_configure: {get_param: CephRbdMirrorConfigure} tripleo_cephadm_rbd_mirror_pool: {get_param: CephRbdMirrorPool} tripleo_cephadm_rbd_mirror_remote_cluster: {get_param: CephRbdMirrorRemoteCluster} tripleo_cephadm_rbd_mirror_remote_user: {get_param: CephRbdMirrorRemoteUser} ", external_deploy_tasks: [],16,1
openstack%2Fcharm-deployment-guide~master~I98a687a9ac9a3336ece99a4ecb2a00189453869d,openstack/charm-deployment-guide,master,I98a687a9ac9a3336ece99a4ecb2a00189453869d,Add operation: Scale back an application with hacluster,MERGED,2021-06-10 21:58:53.000000000,2021-06-18 14:24:48.000000000,2021-06-18 14:23:27.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-10 21:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0997d19c3dbe8c8e1cbc06a9e7c31aae365bdf2f', 'message': 'Add operation: Scale back an application with hacluster\n\nAdd a cloud operation for scaling back an application\nthat is in HA via the hacluster charm.\n\nChange-Id: I98a687a9ac9a3336ece99a4ecb2a00189453869d\n'}, {'number': 2, 'created': '2021-06-11 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/616cc3c88ff1a964518e33b5f26486c7491891ef', 'message': ""Add operation: Scale back an application with hacluster\n\nAdd a cloud operation for scaling back an application\nthat is in HA via the hacluster charm.\n\nThe hacluster 'status' action was deliberately not used\ndue to non-human-friendly output concerns.\n\nI'm not sure whether it is best to update cluster_count\npre or post removal.\n\nChange-Id: I98a687a9ac9a3336ece99a4ecb2a00189453869d\n""}, {'number': 3, 'created': '2021-06-17 20:55:26.000000000', 'files': ['deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-scale-back-with-hacluster.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5f4ace92ce1dafe569f0ccdb2f2cb0afc14c227f', 'message': ""Add operation: Scale back an application with hacluster\n\nAdd a cloud operation for scaling back an application\nthat is in HA via the hacluster charm.\n\nThe hacluster 'status' action was deliberately not used\ndue to non-human-friendly output concerns.\n\nI'm not sure whether it is best to update cluster_count\npre or post removal.\n\nChange-Id: I98a687a9ac9a3336ece99a4ecb2a00189453869d\n""}]",2,795904,5f4ace92ce1dafe569f0ccdb2f2cb0afc14c227f,14,3,3,30561,,,0,"Add operation: Scale back an application with hacluster

Add a cloud operation for scaling back an application
that is in HA via the hacluster charm.

The hacluster 'status' action was deliberately not used
due to non-human-friendly output concerns.

I'm not sure whether it is best to update cluster_count
pre or post removal.

Change-Id: I98a687a9ac9a3336ece99a4ecb2a00189453869d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/04/795904/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-scale-back-with-hacluster.rst']",2,0997d19c3dbe8c8e1cbc06a9e7c31aae365bdf2f,cdg-ops,":orphan: ================================================== Scale back an application with the hacluster charm ================================================== Preamble -------- Scaling back an application with the hacluster charm implies the removal of one or more of the application's units. This is easily done with generic Juju commands and actions available to the hacluster charm. .. note:: Since the application being scaled back is already in HA mode the removal of one of its cluster members should not cause any interruption of cloud services. .. caution:: Scaling back an application will also remove an hacluster unit. It is recommended to have at least three hacluster units per application. An odd number is also suggested. Post-removal, if there are not enough hacluster units present to satisfy the currently set value of the hacluster charm option ``cluster_count``, the principal application will be disabled due to loss of quorum. Quorum issues are ignored if this option is set to less than three. Procedure --------- If the unit being removed is in a 'lost' state (as seen in :command:`juju status`) please first see the `Notes`_ section. List the application units ~~~~~~~~~~~~~~~~~~~~~~~~~~ Display the units, in this case for the vault application: .. code-block:: none juju status vault This article will be based on the following output: .. code-block:: console Unit Workload Agent Machine Public address Ports Message vault/0* active idle 0/lxd/5 10.0.0.227 8200/tcp Unit is ready (active: true, mlock: disabled) vault-hacluster/0* active idle 10.0.0.227 Unit is ready and clustered vault-mysql-router/0* active idle 10.0.0.227 Unit is ready vault/1 active idle 1/lxd/5 10.0.0.234 8200/tcp Unit is ready (active: true, mlock: disabled) vault-hacluster/1 active idle 10.0.0.234 Unit is ready and clustered vault-mysql-router/1 active idle 10.0.0.234 Unit is ready vault/2 active idle 2/lxd/6 10.0.0.233 8200/tcp Unit is ready (active: true, mlock: disabled) vault-hacluster/2 active idle 10.0.0.233 Unit is ready and clustered vault-mysql-router/2 active idle 10.0.0.233 Unit is ready In the below example, unit ``vault/1`` will be removed. Pause the subordinate hacluster unit ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Pause the hacluster unit that corresponds to the principle application unit being removed. Here, unit ``vault-hacluster/1`` corresponds to unit ``vault/1``: .. code-block:: none juju run-action --wait vault-hacluster/1 pause .. caution:: Unit numbers for a subordinate unit and its corresponding principal unit are not necessarily the same (e.g. it is possible to have ``vault-hacluster/2`` correspond to ``vault/1``). Remove the principal application unit ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Remove the principal application unit: .. code-block:: none juju remove-unit vault/1 This will also remove the hacluster subordinate unit (and any other subordinate units). Update the ``cluster_count`` value ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Inform the hacluster charm about the new number of hacluster units, two here: .. code-block:: none juju config vault-hacluster cluster_count=2 In this example a count of two (less than three) removes quorum functionality. This scenario is not desirable and is shown as an example only. Update Corosync ~~~~~~~~~~~~~~~ Remove Corosync nodes from its ring and update ``corosync.conf`` to reflect the updated number of nodes (``min_quorum`` is recalculated): .. code-block:: none juju run-action --wait hacluster/leader update-ring i-really-mean-it=true In this example, the final :command:`juju status vault` output is: .. code-block:: console Unit Workload Agent Machine Public address Ports Message vault/0* active idle 0/lxd/5 10.0.0.227 8200/tcp Unit is ready (active: true, mlock: disabled) vault-hacluster/0* active idle 10.0.0.227 Unit is ready and clustered vault-mysql-router/0* active idle 10.0.0.227 Unit is ready vault/2 active idle 2/lxd/6 10.0.0.233 8200/tcp Unit is ready (active: true, mlock: disabled) vault-hacluster/2 active idle 10.0.0.233 Unit is ready and clustered vault-mysql-router/2 active idle 10.0.0.233 Unit is ready Notes ----- Pre-removal, in the case where the principal application unit has transitioned to a 'lost' state (e.g. dropped off the network due to a hardware failure), #. the first step (pause the hacluster unit) can be skipped #. the second step (remove the principal unit) can be replaced by: .. code-block:: none juju remove-machine N --force N is the Juju machine ID (see the :command:`juju status` command) where the unit to be removed is running. .. warning:: Removing the machine by force will naturally remove any other units that may be present, including those from an entirely different application. ",,146,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0bd6da56605d2699f1bcda5ea24848296b380d25,openstack/tripleo-heat-templates,stable/victoria,I0bd6da56605d2699f1bcda5ea24848296b380d25,Aodh: define authtoken parameters in AodhApi service,ABANDONED,2021-06-18 14:20:08.000000000,2021-06-18 14:22:33.000000000,,[],"[{'number': 1, 'created': '2021-06-18 14:20:08.000000000', 'files': ['deployment/aodh/aodh-base.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f2b069b4289f6e629ff5644018f9f10a6e443f8', 'message': 'Aodh: define authtoken parameters in AodhApi service\n\n... because these parameters are used in aodh-api service only.\n\nChange-Id: I0bd6da56605d2699f1bcda5ea24848296b380d25\n(cherry picked from commit 23434faf920dc4760c38553bd7cc74cf61dc4172)\n'}]",0,797095,7f2b069b4289f6e629ff5644018f9f10a6e443f8,2,0,1,9816,,,0,"Aodh: define authtoken parameters in AodhApi service

... because these parameters are used in aodh-api service only.

Change-Id: I0bd6da56605d2699f1bcda5ea24848296b380d25
(cherry picked from commit 23434faf920dc4760c38553bd7cc74cf61dc4172)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/797095/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/aodh/aodh-base.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",2,7f2b069b4289f6e629ff5644018f9f10a6e443f8,aodh-at-params-stable/victoria," aodh::keystone::authtoken::project_name: 'service' aodh::keystone::authtoken::user_domain_name: 'Default' aodh::keystone::authtoken::project_domain_name: 'Default' aodh::keystone::authtoken::password: {get_param: AodhPassword} aodh::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } aodh::keystone::authtoken::auth_url: { get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } aodh::keystone::authtoken::region_name: {get_param: KeystoneRegion} aodh::keystone::authtoken::interface: 'internal'",,8,8
openstack%2Fproject-config~master~I381bc4688888a893a664e41ab38ca0a83c4bd2b3,openstack/project-config,master,I381bc4688888a893a664e41ab38ca0a83c4bd2b3,Update project gating for retiring openstack-specs repo,MERGED,2021-06-18 01:12:57.000000000,2021-06-18 14:14:03.000000000,2021-06-18 13:09:27.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 01:12:57.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/openstack-specs.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/001f22cf1ff0cd29efdcd7845a37cd2aab498c95', 'message': 'Update project gating for retiring openstack-specs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nopenstack-specs repo.\n\nAlso updating the ACl for this repo to openstack/retired.config\nso that TC can finish the retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-specs/+/796963\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I381bc4688888a893a664e41ab38ca0a83c4bd2b3\n'}]",0,796980,001f22cf1ff0cd29efdcd7845a37cd2aab498c95,8,3,1,8556,,,0,"Update project gating for retiring openstack-specs repo

As discussed in TC meeting[1], TC is retiring the
openstack-specs repo.

Also updating the ACl for this repo to openstack/retired.config
so that TC can finish the retirement.

Needed-By: https://review.opendev.org/c/openstack/openstack-specs/+/796963

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I381bc4688888a893a664e41ab38ca0a83c4bd2b3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/796980/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'gerrit/acls/openstack/openstack-specs.config']",3,001f22cf1ff0cd29efdcd7845a37cd2aab498c95,retire-openstack-specs,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group Change Owner abandon = group Project Bootstrappers abandon = group cross-project-spec-liaisons-chair exclusiveGroupPermissions = abandon label-Workflow label-Rollcall-Vote = -1..+1 group cross-project-spec-liaisons label-Workflow = -1..+0 group Change Owner label-Workflow = -1..+1 group Project Bootstrappers label-Workflow = -1..+1 group cross-project-spec-liaisons [access ""refs/tags/*""] pushSignedTag = group cross-project-spec-liaisons-chair [label ""Code-Review""] copyAllScoresOnTrivialRebase = true defaultValue = 0 function = NoOp value = -2 Unused -2 value = -1 This patch needs further work before it can be merged value = 0 No score value = +1 Looks good to me value = +2 Unused +2 [label ""Rollcall-Vote""] copyAllScoresOnTrivialRebase = true defaultValue = 0 function = NoOp value = -1 No value = 0 Abstain value = +1 Yes [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",3,41
openstack%2Fproject-config~master~Ifc2c490357bf4aa0d647011d9d76f838b3046c94,openstack/project-config,master,Ifc2c490357bf4aa0d647011d9d76f838b3046c94,Update project gating for retiring workload-ref-archs repo,MERGED,2021-06-18 01:05:14.000000000,2021-06-18 14:07:11.000000000,2021-06-18 13:09:20.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 01:05:14.000000000', 'files': ['gerrit/acls/openstack/workload-ref-archs.config', 'zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a55297343ee5589702b93ab2cddfcefda0ac14dd', 'message': 'Update project gating for retiring workload-ref-archs repo\n\nAs discussed in TC meeting[1], TC is retiring the\nworkload-ref-archs repo.\n\nAlso updating the ACl for this repo to openstack/retired.config\nso that TC can finish the retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/workload-ref-archs/+/796967\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ifc2c490357bf4aa0d647011d9d76f838b3046c94\n'}]",0,796978,a55297343ee5589702b93ab2cddfcefda0ac14dd,8,3,1,8556,,,0,"Update project gating for retiring workload-ref-archs repo

As discussed in TC meeting[1], TC is retiring the
workload-ref-archs repo.

Also updating the ACl for this repo to openstack/retired.config
so that TC can finish the retirement.

Needed-By: https://review.opendev.org/c/openstack/workload-ref-archs/+/796967

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ifc2c490357bf4aa0d647011d9d76f838b3046c94
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/796978/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/workload-ref-archs.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml']",3,a55297343ee5589702b93ab2cddfcefda0ac14dd,retire-workload-ref-archs, - noop-jobs,,3,15
openstack%2Fopenstack-ansible~stable%2Fvictoria~I5fe41c1d6387eadbda326840774cda8d2bdc0c82,openstack/openstack-ansible,stable/victoria,I5fe41c1d6387eadbda326840774cda8d2bdc0c82,Bump SHAs for stable/victoria,ABANDONED,2021-05-23 18:18:56.000000000,2021-06-18 14:03:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-23 18:18:56.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f778b280c1d9c07c535793b06d992d0477dd052d', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I5fe41c1d6387eadbda326840774cda8d2bdc0c82\n'}]",0,792750,f778b280c1d9c07c535793b06d992d0477dd052d,3,1,1,28619,,,0,"Bump SHAs for stable/victoria

Change-Id: I5fe41c1d6387eadbda326840774cda8d2bdc0c82
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/792750/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,f778b280c1d9c07c535793b06d992d0477dd052d,bump_osa, version: 57efa55efbc1d16ee1538786c93af27d916d4039 version: 42167284f700b70dac06c1c30220b31fdffd160f version: 589a571b443f4078f498d9c1398542046c5945f3, version: 59a80f9a443dd16b780eff9360eac987a55a5c67 version: 79a44cd9cc20f4e4fd3e0f377e97c98cda43413f version: f185e409dac0e29811abf5a21b041503f2725a4c,60,60
openstack%2Fopenstack-ansible~stable%2Fussuri~I6e9b010f90c1fb812ba2c172f933c92ee3fbc13a,openstack/openstack-ansible,stable/ussuri,I6e9b010f90c1fb812ba2c172f933c92ee3fbc13a,Bump SHAs for stable/ussuri,ABANDONED,2021-05-23 18:18:53.000000000,2021-06-18 14:03:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-23 18:18:53.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/38954b1396db8c17c615016379d4cdb29abc73c9', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: I6e9b010f90c1fb812ba2c172f933c92ee3fbc13a\n'}]",0,792749,38954b1396db8c17c615016379d4cdb29abc73c9,4,2,1,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: I6e9b010f90c1fb812ba2c172f933c92ee3fbc13a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/792749/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,38954b1396db8c17c615016379d4cdb29abc73c9,bump_osa, version: 57efa55efbc1d16ee1538786c93af27d916d4039, version: 59a80f9a443dd16b780eff9360eac987a55a5c67,52,52
openstack%2Fnova-specs~master~Id58d2f88c0021c30c8ced90e82fcddf14d310c3d,openstack/nova-specs,master,Id58d2f88c0021c30c8ced90e82fcddf14d310c3d,Fix the bp link in the cyborg admin token spec,MERGED,2021-06-09 08:00:35.000000000,2021-06-18 14:01:27.000000000,2021-06-18 13:59:41.000000000,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 08:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f33529bfe22062d7d8e3a2f70a72fec5c4cf90e6', 'message': 'Fix the bp link in the cyborg admin token spec\n\nBlueprint: cyborg-admin-user-client\nChange-Id: Id58d2f88c0021c30c8ced90e82fcddf14d310c3d\n'}, {'number': 2, 'created': '2021-06-18 13:33:20.000000000', 'files': ['specs/xena/approved/cyborg-admin-user-client.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/45af48ea8dd939a7dce3588b2cf2c0baffae6296', 'message': 'Fix the bp link in the cyborg admin token spec\n\nAlso renamed the spec file to match with the name of the bp.\n\nBlueprint: cyborg-admin-user-client\nChange-Id: Id58d2f88c0021c30c8ced90e82fcddf14d310c3d\n'}]",0,795493,45af48ea8dd939a7dce3588b2cf2c0baffae6296,13,2,2,9708,,,0,"Fix the bp link in the cyborg admin token spec

Also renamed the spec file to match with the name of the bp.

Blueprint: cyborg-admin-user-client
Change-Id: Id58d2f88c0021c30c8ced90e82fcddf14d310c3d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/93/795493/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/cyborg-no-user-token.rst'],1,f33529bfe22062d7d8e3a2f70a72fec5c4cf90e6,bp/cyborg-admin-user-client,https://blueprints.launchpad.net/nova/+spec/cyborg-admin-user-client,https://blueprints.launchpad.net/nova/+spec/cyborg-no-user-token,1,1
openstack%2Fvalidations-common~master~Id5990bba88f37636f3884553968dcbeb5c4ea88a,openstack/validations-common,master,Id5990bba88f37636f3884553968dcbeb5c4ea88a,Loop variable name conflict resolution,MERGED,2021-06-16 14:46:03.000000000,2021-06-18 14:00:44.000000000,2021-06-18 14:00:44.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 14:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a359771a17b97161aa1457e8de7cd2215dd39f87', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 2, 'created': '2021-06-17 05:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c99771c9047b0d9a78bc82a6e9ba1b5988d41d27', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 3, 'created': '2021-06-17 06:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b881b241c4133a9df19ae22b29523fe09e1c2aba', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 4, 'created': '2021-06-17 07:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0e6b17ee69f065f059b7ace00ae9d3d4938b1a63', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 5, 'created': '2021-06-17 08:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0b9f0a6ad6a7653de765fcfb940f1d1e8be7794c', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 6, 'created': '2021-06-17 11:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6ae6b39a689b823505d132143d6e7c5f864600f9', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 7, 'created': '2021-06-17 11:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/80b30edecaa14f860eb889b8dbd43a0b6072e6f6', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 8, 'created': '2021-06-17 12:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a813eedef5d167924a65c2583c08552234b36279', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 9, 'created': '2021-06-17 12:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/32424f0150e7bda1213cc903d934de6d85526cce', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 10, 'created': '2021-06-17 12:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/068bd0d8ee1fec7a961fb7c9db0277bf2cd6fce3', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 11, 'created': '2021-06-17 12:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3302178a989e57ab72ce46d4de3a9299fea8a59b', 'message': 'DNM Should get rid of warning\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n'}, {'number': 12, 'created': '2021-06-18 05:58:26.000000000', 'files': ['roles/validations/tasks/validations.yaml', 'roles/validations/tasks/run.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/12fc1f62f314fa82309d4d4e60f494ce0fcbeb00', 'message': ""Loop variable name conflict resolution\n\nThis change resolves name collision and prevents possible\nissues with the loop behavior, as noted by the warning:\n\n\tThe loop variable 'item' is already in use. You should set the\n\t`loop_var` value in the `loop_control` option for the task to something else to\n\tavoid variable collisions and unexpected behavior.\n\nhttps://zuul.opendev.org/t/openstack/build/ed45cae1f67343ed875b6f7126ca80c9/log/job-output.txt#3713-3717\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a\n""}]",1,796686,12fc1f62f314fa82309d4d4e60f494ce0fcbeb00,29,6,12,32926,,,0,"Loop variable name conflict resolution

This change resolves name collision and prevents possible
issues with the loop behavior, as noted by the warning:

	The loop variable 'item' is already in use. You should set the
	`loop_var` value in the `loop_control` option for the task to something else to
	avoid variable collisions and unexpected behavior.

https://zuul.opendev.org/t/openstack/build/ed45cae1f67343ed875b6f7126ca80c9/log/job-output.txt#3713-3717

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id5990bba88f37636f3884553968dcbeb5c4ea88a
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/86/796686/12 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validations/tasks/validations.yaml', 'roles/validations/tasks/run.yaml']",2,a359771a17b97161aa1457e8de7cd2215dd39f87,ci-taks/nameconflict," - status != ""PASSED"" loop_control: loop_var: ""{{ status }}"""," - item != ""PASSED"" loop: ""{{ status }}""",6,4
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic68a0374b07f328e1bcb12d32acd24f03e628768,openstack/openstack-ansible-openstack_hosts,master,Ic68a0374b07f328e1bcb12d32acd24f03e628768,Make sure tzdata is installed in containers,ABANDONED,2021-06-17 14:33:10.000000000,2021-06-18 14:00:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-17 14:33:10.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/redhat-8.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/31eb291b2a646d3af36eb23e98c766b16c09cb8d', 'message': 'Make sure tzdata is installed in containers\n\nThe tzdata package is needed so that the /etc/localtime symlink points\nto an existing file and so that the timezone is actually applied to the\nsystem.\n\nChange-Id: Ic68a0374b07f328e1bcb12d32acd24f03e628768\n'}]",0,796850,31eb291b2a646d3af36eb23e98c766b16c09cb8d,8,2,1,819,,,0,"Make sure tzdata is installed in containers

The tzdata package is needed so that the /etc/localtime symlink points
to an existing file and so that the timezone is actually applied to the
system.

Change-Id: Ic68a0374b07f328e1bcb12d32acd24f03e628768
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/50/796850/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/redhat-8.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml']",4,31eb291b2a646d3af36eb23e98c766b16c09cb8d,install-tzdata, - tzdata,,4,0
openstack%2Fproject-config~master~I5027b597210026242b4a386fd00437b80e874c52,openstack/project-config,master,I5027b597210026242b4a386fd00437b80e874c52,Update project gating for retiring governance-uc repo,MERGED,2021-06-18 00:57:46.000000000,2021-06-18 13:56:02.000000000,2021-06-18 13:09:05.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 00:57:46.000000000', 'files': ['gerrit/acls/openstack/governance-uc.config', 'zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5519ca4a2b36daa9c539f54a777656a13276900a', 'message': 'Update project gating for retiring governance-uc repo\n\nAs discussed in TC meeting[1], TC is retiring the\ngovernance-uc repo.\n\nAlso updating the ACl for this repo to openstack/retired.config\nso that TC can finish the retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/governance-uc/+/796970\nChange-Id: I5027b597210026242b4a386fd00437b80e874c52\n'}]",0,796976,5519ca4a2b36daa9c539f54a777656a13276900a,9,3,1,8556,,,0,"Update project gating for retiring governance-uc repo

As discussed in TC meeting[1], TC is retiring the
governance-uc repo.

Also updating the ACl for this repo to openstack/retired.config
so that TC can finish the retirement.

Needed-By: https://review.opendev.org/c/openstack/governance-uc/+/796970
Change-Id: I5027b597210026242b4a386fd00437b80e874c52
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/796976/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/governance-uc.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml']",3,5519ca4a2b36daa9c539f54a777656a13276900a,retire-governance-uc, - noop-jobs,,3,41
openstack%2Ftripleo-ci-health-queries~master~I3f1074bf01fc5ebbe4d88485248ca9b5cdc1fed4,openstack/tripleo-ci-health-queries,master,I3f1074bf01fc5ebbe4d88485248ca9b5cdc1fed4,Query to test addition of new query parameters and logstash keyword,MERGED,2021-06-11 13:29:17.000000000,2021-06-18 13:55:46.000000000,2021-06-18 13:55:46.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-06-11 13:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/196b0a73ac3e39b7e894d431cda817f4c5d0fa7a', 'message': 'Query to test logstash query as a parameter\n\nChange-Id: I3f1074bf01fc5ebbe4d88485248ca9b5cdc1fed4\n'}, {'number': 2, 'created': '2021-06-11 16:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/3441d939c306284cbd6a5a7ca5ae2559f8980bfb', 'message': 'Query to test addition of new query parameters and logstash keyword\n\nChange-Id: I3f1074bf01fc5ebbe4d88485248ca9b5cdc1fed4\n'}, {'number': 3, 'created': '2021-06-11 16:25:55.000000000', 'files': ['output/elastic-recheck/Test 1.yaml', 'output/elastic-recheck/1929461.yaml', 'output/sova-pattern-generated.json', 'output/elastic-recheck/Test 2.yaml', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/1a351df6ed6e21f1b126a673fc2bbda5e82bc89d', 'message': 'Query to test addition of new query parameters and logstash keyword\n\nChange-Id: I3f1074bf01fc5ebbe4d88485248ca9b5cdc1fed4\n'}]",0,796007,1a351df6ed6e21f1b126a673fc2bbda5e82bc89d,15,3,3,32458,,,0,"Query to test addition of new query parameters and logstash keyword

Change-Id: I3f1074bf01fc5ebbe4d88485248ca9b5cdc1fed4
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/07/796007/2 && git format-patch -1 --stdout FETCH_HEAD,"['output/sova-pattern-generated.json', 'output/elastic-recheck/Test with full logstash query.yaml', 'src/data/queries.yml']",3,196b0a73ac3e39b7e894d431cda817f4c5d0fa7a,moreparam_regex," - id: Test with full logstash query logstash: 'message:""ReadTimeoutError: HTTPConnectionPool"" AND (tags:""console"") AND voting:1 AND build_status:SUCCESS AND NOT build_name:neutron*' regex: ""ReadTimeoutError: HTTPConnectionPool"" tags: console",,18,0
openstack%2Fproject-config~master~I0e1006db26c77c9f36ca62517eb040d7b5e6706f,openstack/project-config,master,I0e1006db26c77c9f36ca62517eb040d7b5e6706f,Update project gating for retiring project-navigator-data repo,MERGED,2021-06-18 00:51:50.000000000,2021-06-18 13:50:08.000000000,2021-06-18 13:08:58.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 00:51:50.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/acls/openstack/project-navigator-data.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2ef22635168c09c7574cc96e88a75f499b9515a9', 'message': 'Update project gating for retiring project-navigator-data repo\n\nAs discussed in TC meeting[1], TC is retiring the\nproject-navigator-data repo.\n\nAlso updating the ACl for this repo to openstack/retired.config\nso that TC can finish the retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/project-navigator-data/+/796965\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I0e1006db26c77c9f36ca62517eb040d7b5e6706f\n'}]",0,796975,2ef22635168c09c7574cc96e88a75f499b9515a9,8,3,1,8556,,,0,"Update project gating for retiring project-navigator-data repo

As discussed in TC meeting[1], TC is retiring the
project-navigator-data repo.

Also updating the ACl for this repo to openstack/retired.config
so that TC can finish the retirement.

Needed-By: https://review.opendev.org/c/openstack/project-navigator-data/+/796965

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I0e1006db26c77c9f36ca62517eb040d7b5e6706f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/796975/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/project-navigator-data.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml']",3,2ef22635168c09c7574cc96e88a75f499b9515a9,retire-project-navigator-data, - noop-jobs,,3,15
openstack%2Fproject-config~master~I0a3ac3c0af0fda3d5559acbb13236447e393a083,openstack/project-config,master,I0a3ac3c0af0fda3d5559acbb13236447e393a083,Update retiring enterprise-wg repo ACL to openstack/retired.config,MERGED,2021-06-18 00:46:10.000000000,2021-06-18 13:40:18.000000000,2021-06-18 13:08:52.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 00:46:10.000000000', 'files': ['gerrit/projects.yaml', 'gerrit/acls/openstack/enterprise-wg.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8e1044c6ab809b57e23253269bd17fd5c39dee47', 'message': 'Update retiring enterprise-wg repo ACL to openstack/retired.config\n\nThis commit updates the ACl for enterprise-wg repo\nto openstack/retired.config so that TC can finish\nthis repo retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/enterprise-wg/+/796966\nChange-Id: I0a3ac3c0af0fda3d5559acbb13236447e393a083\n'}]",0,796974,8e1044c6ab809b57e23253269bd17fd5c39dee47,8,3,1,8556,,,0,"Update retiring enterprise-wg repo ACL to openstack/retired.config

This commit updates the ACl for enterprise-wg repo
to openstack/retired.config so that TC can finish
this repo retirement.

Needed-By: https://review.opendev.org/c/openstack/enterprise-wg/+/796966
Change-Id: I0a3ac3c0af0fda3d5559acbb13236447e393a083
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/796974/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/openstack/enterprise-wg.config']",2,8e1044c6ab809b57e23253269bd17fd5c39dee47,retire-enterprise-wg,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group enterprise-wg-core label-Code-Review = -2..+2 group enterprise-wg-core label-Workflow = -1..+1 group enterprise-wg-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",2,15
openstack%2Fkolla-ansible~stable%2Fussuri~I1727a6706520130793d31f8b514d955993d2c2a5,openstack/kolla-ansible,stable/ussuri,I1727a6706520130793d31f8b514d955993d2c2a5,Merge glance sections for nova.conf.j2,MERGED,2021-06-18 10:09:14.000000000,2021-06-18 13:21:49.000000000,2021-06-18 13:19:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-18 10:09:14.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf0e09a6f366986a253e0855c37b2a672f65dabf', 'message': 'Merge glance sections for nova.conf.j2\n\nChange-Id: I1727a6706520130793d31f8b514d955993d2c2a5\n(cherry picked from commit 6b61cbe6f44943d1a47f5eff7873c7e12d55209c)\n'}]",0,797042,bf0e09a6f366986a253e0855c37b2a672f65dabf,9,3,1,15197,,,0,"Merge glance sections for nova.conf.j2

Change-Id: I1727a6706520130793d31f8b514d955993d2c2a5
(cherry picked from commit 6b61cbe6f44943d1a47f5eff7873c7e12d55209c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/797042/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,bf0e09a6f366986a253e0855c37b2a672f65dabf,nova_template-stable/ussuri,debug = {{ nova_logging_debug }},[glance] debug = {{ nova_logging_debug }} cafile = {{ openstack_cacert }} ,1,4
openstack%2Fkolla-ansible~stable%2Fvictoria~I1727a6706520130793d31f8b514d955993d2c2a5,openstack/kolla-ansible,stable/victoria,I1727a6706520130793d31f8b514d955993d2c2a5,Merge glance sections for nova.conf.j2,MERGED,2021-06-18 10:07:30.000000000,2021-06-18 13:21:44.000000000,2021-06-18 13:19:24.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-18 10:07:30.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d9198294fe17882fee75eeb903792bed4f0ba5b', 'message': 'Merge glance sections for nova.conf.j2\n\nChange-Id: I1727a6706520130793d31f8b514d955993d2c2a5\n(cherry picked from commit 6b61cbe6f44943d1a47f5eff7873c7e12d55209c)\n'}]",0,797026,9d9198294fe17882fee75eeb903792bed4f0ba5b,10,3,1,15197,,,0,"Merge glance sections for nova.conf.j2

Change-Id: I1727a6706520130793d31f8b514d955993d2c2a5
(cherry picked from commit 6b61cbe6f44943d1a47f5eff7873c7e12d55209c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/797026/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,9d9198294fe17882fee75eeb903792bed4f0ba5b,nova_template-stable/victoria,debug = {{ nova_logging_debug }},[glance] debug = {{ nova_logging_debug }} cafile = {{ openstack_cacert }} ,1,4
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ifd2afe69f01afb799b5693a1d6971904ca50f5bc,openstack/tripleo-heat-templates,stable/victoria,Ifd2afe69f01afb799b5693a1d6971904ca50f5bc,Add option for enabling rsyslog reopenOnTruncate,ABANDONED,2021-06-15 14:25:46.000000000,2021-06-18 13:21:43.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/430ce59cc5d8f069abd37e77e2e605b7734d5549', 'message': 'Add option for enabling rsyslog reopenOnTruncate\n\nreopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.\n\nSetting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature\n\nChange-Id: Ifd2afe69f01afb799b5693a1d6971904ca50f5bc\n'}, {'number': 2, 'created': '2021-06-18 13:13:45.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e34e213e91c974d7387e638e75f93a753473f7c2', 'message': 'Add option for enabling rsyslog reopenOnTruncate\n\nreopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.\n\nSetting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature\n\n(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)\nChange-Id: Ifd2afe69f01afb799b5693a1d6971904ca50f5bc\n'}]",0,796437,e34e213e91c974d7387e638e75f93a753473f7c2,21,3,2,31510,,,0,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)
Change-Id: Ifd2afe69f01afb799b5693a1d6971904ca50f5bc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/796437/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,430ce59cc5d8f069abd37e77e2e605b7734d5549,rsyslog-reopen-on-truncate-victoria," RsyslogReopenOnTruncate: default: false description: Rsyslog imfile reopenOnTruncate parameter type: boolean - {get_param: RsyslogReopenOnTruncate} - tripleo::profile::base::logging::rsyslog::reopen_on_truncate: ""on"" - {} - if:",,8,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I1727a6706520130793d31f8b514d955993d2c2a5,openstack/kolla-ansible,stable/wallaby,I1727a6706520130793d31f8b514d955993d2c2a5,Merge glance sections for nova.conf.j2,MERGED,2021-06-18 10:05:17.000000000,2021-06-18 13:21:30.000000000,2021-06-18 13:19:19.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-18 10:05:17.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c24a56b7d6a030be959395b68f40e1dddf50885c', 'message': 'Merge glance sections for nova.conf.j2\n\nChange-Id: I1727a6706520130793d31f8b514d955993d2c2a5\n(cherry picked from commit 6b61cbe6f44943d1a47f5eff7873c7e12d55209c)\n'}]",0,797025,c24a56b7d6a030be959395b68f40e1dddf50885c,8,3,1,15197,,,0,"Merge glance sections for nova.conf.j2

Change-Id: I1727a6706520130793d31f8b514d955993d2c2a5
(cherry picked from commit 6b61cbe6f44943d1a47f5eff7873c7e12d55209c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/797025/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,c24a56b7d6a030be959395b68f40e1dddf50885c,nova_template-stable/wallaby,debug = {{ nova_logging_debug }},[glance] debug = {{ nova_logging_debug }} cafile = {{ openstack_cacert }} ,1,4
openstack%2Fproject-config~master~Ibdb8ad87eb2a36485d25191187628a3e3cfa7d7d,openstack/project-config,master,Ibdb8ad87eb2a36485d25191187628a3e3cfa7d7d,End project gating for retiring arch-wg repo,MERGED,2021-06-17 23:51:25.000000000,2021-06-18 13:19:57.000000000,2021-06-18 13:06:42.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 23:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b6de77148d14a09d2354952f23da9697743e7c8', 'message': 'End project gating for retiring arch-wg repo\n\nAs discussed in TC meeting[1], TC is retiring the\narch-wg repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ibdb8ad87eb2a36485d25191187628a3e3cfa7d7d\n'}, {'number': 2, 'created': '2021-06-18 00:42:34.000000000', 'files': ['gerrit/acls/openstack/arch-wg.config', 'zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f31f0d58eff825148ed04ffb2b222482a44ff46a', 'message': 'End project gating for retiring arch-wg repo\n\nAs discussed in TC meeting[1], TC is retiring the\narch-wg repo.\n\nAlso updating the ACl for this repo to openstack/retired.config\nso that TC can finish the retirement.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ibdb8ad87eb2a36485d25191187628a3e3cfa7d7d\n'}]",0,796962,f31f0d58eff825148ed04ffb2b222482a44ff46a,10,3,2,8556,,,0,"End project gating for retiring arch-wg repo

As discussed in TC meeting[1], TC is retiring the
arch-wg repo.

Also updating the ACl for this repo to openstack/retired.config
so that TC can finish the retirement.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ibdb8ad87eb2a36485d25191187628a3e3cfa7d7d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/796962/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,7b6de77148d14a09d2354952f23da9697743e7c8,retire-arch-wg, - noop-jobs, check: jobs: - openstack-tox-py27 gate: jobs: - openstack-tox-py27,1,6
openstack%2Fmonasca-notification~master~I69e3e7db54b995e45810532a1dd940ac8b68921f,openstack/monasca-notification,master,I69e3e7db54b995e45810532a1dd940ac8b68921f,Fix Grafana URL in email notification,MERGED,2021-06-18 08:23:11.000000000,2021-06-18 13:19:41.000000000,2021-06-18 13:19:41.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-06-18 08:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/99a7edb3fd58c562c4f822bdc28d8c3617651171', 'message': ""Fix Grafana URL in email notification\n\n- Remove prefix 'dim_' from dimensions in Drilldown Dashboard\n- Same was done for Monasca-UI [1]\n\n[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599\n\nChange-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f\n""}, {'number': 2, 'created': '2021-06-18 09:06:37.000000000', 'files': ['tests/test_email_notification.py', 'monasca_notification/plugins/email_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/fa2454a3c9c524773891e53d2d61f9227a9a2d46', 'message': ""Fix Grafana URL in email notification\n\n- Remove prefix 'dim_' from dimensions in Drilldown Dashboard\n- Same was done for Monasca-UI [1]\n\n[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599\n\nChange-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f\n""}]",0,797002,fa2454a3c9c524773891e53d2d61f9227a9a2d46,12,2,2,28062,,,0,"Fix Grafana URL in email notification

- Remove prefix 'dim_' from dimensions in Drilldown Dashboard
- Same was done for Monasca-UI [1]

[1] https://review.opendev.org/c/openstack/monasca-ui/+/782599

Change-Id: I69e3e7db54b995e45810532a1dd940ac8b68921f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/02/797002/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/plugins/email_notifier.py'],1,99a7edb3fd58c562c4f822bdc28d8c3617651171,797002," metric_query += ""&%s=%s"" % (key, value)"," metric_query += ""&dim_%s=%s"" % (key, value)",1,1
openstack%2Fproject-config~master~I860620e34a225557a1ab5ffd668f5b5c87969070,openstack/project-config,master,I860620e34a225557a1ab5ffd668f5b5c87969070,Update retiring ops-tags-team repo ACL to openstack/retired.config,MERGED,2021-06-18 00:35:15.000000000,2021-06-18 13:13:23.000000000,2021-06-18 13:03:32.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 00:35:15.000000000', 'files': ['gerrit/acls/openstack/ops-tags-team.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb6649e6afb952d0dc3229f562143a97b195b4cf', 'message': 'Update retiring ops-tags-team repo ACL to openstack/retired.config\n\nThis commit updates the ACl for ops-tags-team repo\nto openstack/retired.config so that TC can finish\nthis repo retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/ops-tags-team/+/796968\nChange-Id: I860620e34a225557a1ab5ffd668f5b5c87969070\n'}]",0,796972,fb6649e6afb952d0dc3229f562143a97b195b4cf,10,3,1,8556,,,0,"Update retiring ops-tags-team repo ACL to openstack/retired.config

This commit updates the ACl for ops-tags-team repo
to openstack/retired.config so that TC can finish
this repo retirement.

Needed-By: https://review.opendev.org/c/openstack/ops-tags-team/+/796968
Change-Id: I860620e34a225557a1ab5ffd668f5b5c87969070
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/796972/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/ops-tags-team.config', 'gerrit/projects.yaml']",2,fb6649e6afb952d0dc3229f562143a97b195b4cf,retire-ops-tags-team," description: RETIRED, Work of the User Committee's Ops Tags Team. acl-config: /home/gerrit2/acls/openstack/retired.config", description: Work of the User Committee's Ops Tags Team.,2,15
openstack%2Fproject-config~master~Ic274cd03b6fe52087cfd4f71bc2305e72e6fdb05,openstack/project-config,master,Ic274cd03b6fe52087cfd4f71bc2305e72e6fdb05,Update retiring uc-recognition repo ACL to openstack/retired.config,MERGED,2021-06-18 00:31:58.000000000,2021-06-18 13:04:21.000000000,2021-06-18 13:00:27.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 00:31:58.000000000', 'files': ['gerrit/acls/openstack/uc-recognition.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/abed4f0818c81ac5ebd77a7d45a2ebf65229e724', 'message': 'Update retiring uc-recognition repo ACL to openstack/retired.config\n\nThis commit updates the ACl for uc-recognition repo\nto openstack/retired.config so that TC can finish\nthis repo retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/uc-recognition/+/796969\nChange-Id: Ic274cd03b6fe52087cfd4f71bc2305e72e6fdb05\n'}]",0,796971,abed4f0818c81ac5ebd77a7d45a2ebf65229e724,8,3,1,8556,,,0,"Update retiring uc-recognition repo ACL to openstack/retired.config

This commit updates the ACl for uc-recognition repo
to openstack/retired.config so that TC can finish
this repo retirement.

Needed-By: https://review.opendev.org/c/openstack/uc-recognition/+/796969
Change-Id: Ic274cd03b6fe52087cfd4f71bc2305e72e6fdb05
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/796971/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/uc-recognition.config', 'gerrit/projects.yaml']",2,abed4f0818c81ac5ebd77a7d45a2ebf65229e724,retire-uc-recognition," description: RETIRED, scripts and useful references to track contributions by users. acl-config: /home/gerrit2/acls/openstack/retired.config", description: scripts and useful references to track contributions by users.,2,15
openstack%2Fopenstack-ansible~stable%2Fussuri~Icfad750ec533af9ccdba2412e2df404873e69363,openstack/openstack-ansible,stable/ussuri,Icfad750ec533af9ccdba2412e2df404873e69363,Bump SHAs for stable/ussuri,MERGED,2021-06-06 18:24:30.000000000,2021-06-18 12:39:27.000000000,2021-06-18 12:37:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-06 18:24:30.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd024de2bf3605016412d765f8105a543da9ced5', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: Icfad750ec533af9ccdba2412e2df404873e69363\n'}]",0,794999,dd024de2bf3605016412d765f8105a543da9ced5,10,3,1,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: Icfad750ec533af9ccdba2412e2df404873e69363
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/794999/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,dd024de2bf3605016412d765f8105a543da9ced5,bump_osa, version: 57efa55efbc1d16ee1538786c93af27d916d4039, version: 59a80f9a443dd16b780eff9360eac987a55a5c67,52,52
openstack%2Foctavia~stable%2Fvictoria~I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,openstack/octavia,stable/victoria,I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,Fix rsyslog configuration when disabling logs,MERGED,2021-05-17 07:23:06.000000000,2021-06-18 12:36:50.000000000,2021-06-18 12:33:57.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:23:06.000000000', 'files': ['octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/common/jinja/logging/templates/10-rsyslog.conf.template', 'releasenotes/notes/fix-error-in-rsyslog-config-a316a7856e1a847a.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2195a45a1ba14736211bd7305989e8ae9d5d9934', 'message': 'Fix rsyslog configuration when disabling logs\n\nFix an invalid rsyslog configuration when disabling both log offloading\nand local log storage.\n\nStory 2008782\nTask 42173\n\nChange-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7\n(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)\n'}]",0,791657,2195a45a1ba14736211bd7305989e8ae9d5d9934,16,4,1,6469,,,0,"Fix rsyslog configuration when disabling logs

Fix an invalid rsyslog configuration when disabling both log offloading
and local log storage.

Story 2008782
Task 42173

Change-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7
(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/791657/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/common/jinja/logging/templates/10-rsyslog.conf.template', 'releasenotes/notes/fix-error-in-rsyslog-config-a316a7856e1a847a.yaml']",3,2195a45a1ba14736211bd7305989e8ae9d5d9934,,--- fixes: - | Fix an issue with the rsyslog configuration file in the Amphora when the log offloading feature and the local log storage feature are both disabled. ,,35,13
openstack%2Foctavia~master~I70fa2fbe5936847e701d2d8dfb6069e33de9c889,openstack/octavia,master,I70fa2fbe5936847e701d2d8dfb6069e33de9c889,Update contributor documentation,MERGED,2021-05-26 18:12:22.000000000,2021-06-18 12:36:22.000000000,2021-06-18 12:34:06.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-26 18:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/09745ba11458037153884cae699f6dc6909da9d2', 'message': 'Update contributor documentation\n\nThere is a new IRC network in town.\n\nChange-Id: I70fa2fbe5936847e701d2d8dfb6069e33de9c889\n'}, {'number': 2, 'created': '2021-06-16 16:36:50.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2bcb344fb9cde1b73a5e2b93289737b90bd8cc9a', 'message': 'Update contributor documentation\n\nThere is a new IRC network in town.\n\nChange-Id: I70fa2fbe5936847e701d2d8dfb6069e33de9c889\n'}]",1,793216,2bcb344fb9cde1b73a5e2b93289737b90bd8cc9a,12,5,2,1131,,,0,"Update contributor documentation

There is a new IRC network in town.

Change-Id: I70fa2fbe5936847e701d2d8dfb6069e33de9c889
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/793216/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,09745ba11458037153884cae699f6dc6909da9d2,update-irc," ``#openstack-octavia`` channel on the IRC network described in https://docs.openstack.org/contributors/common/irc.html during working hours in their timezone. The channel is logged, so if you ask a question when no one is around, you can check the log to see if it's been answered: http://eavesdrop.openstack.org/irclogs/%23openstack-octavia/ The Octavia team meets weekly on IRC. Please see the OpenStackFeel free to ask in ``#openstack-octavia`` or at the weekly meeting if you"," ``#openstack-lbaas`` channel on Freenode during working hours in their timezone. The channel is logged, so if you ask a question when no one is around, you can check the log to see if it's been answered: http://eavesdrop.openstack.org/irclogs/%23openstack-lbaas/ The Octavia team meets weekly on freenode IRC. Please see the OpenStackFeel free to ask in ``#openstack-lbaas`` or at the weekly meeting if you",8,6
openstack%2Fansible-role-collect-logs~master~I1b5ada8e4e45089a5cc4394d47f6eadb3ee7ac1d,openstack/ansible-role-collect-logs,master,I1b5ada8e4e45089a5cc4394d47f6eadb3ee7ac1d,Adding /home/*/*/*.ya?ml to collect list,ABANDONED,2020-12-08 15:45:09.000000000,2021-06-18 12:34:38.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29268}]","[{'number': 1, 'created': '2020-12-08 15:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/637aab6af6516c2b5bc1c98cab62c1ae1eefb9c5', 'message': ""Adding /home/*/*/*.ya?ml to collect list\n\nIt's pretty common to have templates in a subfolder of the stack user.\nWe should get them too.\n\nChange-Id: I1b5ada8e4e45089a5cc4394d47f6eadb3ee7ac1d\n""}, {'number': 2, 'created': '2020-12-08 16:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8e956568ab424aca5e152bae7d93259384dccc14', 'message': ""Adding /home/*/*/*.ya?ml to collect list\n\nIt's pretty common to have templates in a subfolder of the stack user.\nWe should get them too.\n\nChange-Id: I1b5ada8e4e45089a5cc4394d47f6eadb3ee7ac1d\n""}, {'number': 3, 'created': '2020-12-08 16:08:33.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2cb57babbfedf35f7af8602dc4c52a28f62c9924', 'message': ""Adding /home/*/*/*.ya?ml to collect list\n\nIt's pretty common to have templates in a subfolder of the stack user.\nWe should get them too.\n\nChange-Id: I1b5ada8e4e45089a5cc4394d47f6eadb3ee7ac1d\n""}]",0,766026,2cb57babbfedf35f7af8602dc4c52a28f62c9924,21,4,3,27419,,,0,"Adding /home/*/*/*.ya?ml to collect list

It's pretty common to have templates in a subfolder of the stack user.
We should get them too.

Change-Id: I1b5ada8e4e45089a5cc4394d47f6eadb3ee7ac1d
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/26/766026/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,637aab6af6516c2b5bc1c98cab62c1ae1eefb9c5,, - /home/*/*/*.yml - /home/*/*/*.yaml,,2,0
openstack%2Ftripleo-quickstart~master~If0e0fc1dc9a2e9c73500eec8f8d3824fe11681fb,openstack/tripleo-quickstart,master,If0e0fc1dc9a2e9c73500eec8f8d3824fe11681fb,Ceph and Compute roles need more memory,ABANDONED,2021-02-02 19:48:58.000000000,2021-06-18 12:34:31.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-02 19:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca1446fd01f1166dd6d65963e8b4d017c9d0cc1c', 'message': 'Ceph role needs more memory\n\nAs per this error:\n  Memory size is too small for requested image, if it is less than\n  (image size + reserved RAM size), will break the IPA deployments.\n  Image size: 4528 MiB, Memory size: 4096 MiB, Reserved size: 0 MiB.\n\nChange-Id: If0e0fc1dc9a2e9c73500eec8f8d3824fe11681fb\n'}, {'number': 2, 'created': '2021-02-02 23:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/edd349798502b0ebda56a3b6072d39615fade5e9', 'message': 'Ceph and Compute roles need more memory\n\nAs per this error:\n  Memory size is too small for requested image, if it is less than\n  (image size + reserved RAM size), will break the IPA deployments.\n  Image size: 4528 MiB, Memory size: 4096 MiB, Reserved size: 0 MiB.\n\nChange-Id: If0e0fc1dc9a2e9c73500eec8f8d3824fe11681fb\n'}, {'number': 3, 'created': '2021-02-03 00:26:14.000000000', 'files': ['config/nodes/3ctlr_2comp_3ceph.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/023fb51222a1965f6f41a9efda729eae7581a130', 'message': 'Ceph and Compute roles need more memory\n\nAs per this error:\n  Memory size is too small for requested image, if it is less than\n  (image size + reserved RAM size), will break the IPA deployments.\n  Image size: 4528 MiB, Memory size: 4096 MiB, Reserved size: 0 MiB.\n\nChange-Id: If0e0fc1dc9a2e9c73500eec8f8d3824fe11681fb\n'}]",3,773791,023fb51222a1965f6f41a9efda729eae7581a130,10,5,3,27419,,,0,"Ceph and Compute roles need more memory

As per this error:
  Memory size is too small for requested image, if it is less than
  (image size + reserved RAM size), will break the IPA deployments.
  Image size: 4528 MiB, Memory size: 4096 MiB, Reserved size: 0 MiB.

Change-Id: If0e0fc1dc9a2e9c73500eec8f8d3824fe11681fb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/91/773791/1 && git format-patch -1 --stdout FETCH_HEAD,['config/nodes/3ctlr_2comp_3ceph.yml'],1,ca1446fd01f1166dd6d65963e8b4d017c9d0cc1c,,ceph_memory: 8192,ceph_memory: 4096,1,1
openstack%2Ftripleo-quickstart~master~I9d787fb576938deb5611d8dd15260e25a2aca4e5,openstack/tripleo-quickstart,master,I9d787fb576938deb5611d8dd15260e25a2aca4e5,Adding flavor to topology_map,ABANDONED,2021-02-02 22:11:24.000000000,2021-06-18 12:34:21.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-02 22:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/17b3ac57ef254419945ec0329a46e7395ef94995', 'message': 'Adding flavor to topology_map\n\nquickstart-extras are passing this to metalsmith for scheduling\n\nChange-Id: I9d787fb576938deb5611d8dd15260e25a2aca4e5\n'}, {'number': 2, 'created': '2021-02-02 23:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/adc193b4b4e4ebae56f7fdeb7504ed0ed696211b', 'message': 'Adding flavor to topology_map\n\nquickstart-extras are passing this to metalsmith for scheduling\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/773815/\n\nChange-Id: I9d787fb576938deb5611d8dd15260e25a2aca4e5\n'}, {'number': 3, 'created': '2021-02-03 00:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8d11c8565f86a5c7b53c70c184806341fa1345ca', 'message': 'Adding flavor to topology_map\n\nquickstart-extras are passing this to metalsmith for scheduling\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/773815/\n\nChange-Id: I9d787fb576938deb5611d8dd15260e25a2aca4e5\n'}, {'number': 4, 'created': '2021-02-03 00:26:31.000000000', 'files': ['config/nodes/3ctlr_2comp_3ceph.yml', 'config/nodes/1ctlr_1comp_1ceph.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/41b8474a9a2ca3d6e8033dbc646bd7be9183ec04', 'message': 'Adding flavor to topology_map\n\nquickstart-extras are passing this to metalsmith for scheduling\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/773815/\n\nChange-Id: I9d787fb576938deb5611d8dd15260e25a2aca4e5\n'}]",0,773810,41b8474a9a2ca3d6e8033dbc646bd7be9183ec04,10,7,4,27419,,,0,"Adding flavor to topology_map

quickstart-extras are passing this to metalsmith for scheduling

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/773815/

Change-Id: I9d787fb576938deb5611d8dd15260e25a2aca4e5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/10/773810/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/nodes/3ctlr_2comp_3ceph.yml', 'config/nodes/1ctlr_1comp_1ceph.yml']",2,17b3ac57ef254419945ec0329a46e7395ef94995,scheduler_hints, Compute: scale: 1 flavor: compute Controller: scale: 1 flavor: control flavor: ceph,,10,0
openstack%2Fkolla-ansible~master~I1727a6706520130793d31f8b514d955993d2c2a5,openstack/kolla-ansible,master,I1727a6706520130793d31f8b514d955993d2c2a5,Merge glance sections for nova.conf.j2,MERGED,2021-05-18 09:46:31.000000000,2021-06-18 12:08:14.000000000,2021-06-17 09:12:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-18 09:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c3ec4ea27862a3e3039f74fe86c3a965fe5ac3f', 'message': 'Merge glance session for nova.conf.j2\n\nChange-Id: I1727a6706520130793d31f8b514d955993d2c2a5\n'}, {'number': 2, 'created': '2021-05-19 12:36:08.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b61cbe6f44943d1a47f5eff7873c7e12d55209c', 'message': 'Merge glance sections for nova.conf.j2\n\nChange-Id: I1727a6706520130793d31f8b514d955993d2c2a5\n'}]",4,791913,6b61cbe6f44943d1a47f5eff7873c7e12d55209c,16,5,2,32029,,,0,"Merge glance sections for nova.conf.j2

Change-Id: I1727a6706520130793d31f8b514d955993d2c2a5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/791913/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,4c3ec4ea27862a3e3039f74fe86c3a965fe5ac3f,nova_template,debug = {{ nova_logging_debug }},[glance] debug = {{ nova_logging_debug }} cafile = {{ openstack_cacert }} ,2,4
openstack%2Fcharm-keystone-kerberos~master~Ife8681aa1da902b7d4d20c6ed926261bd4f3e41d,openstack/charm-keystone-kerberos,master,Ife8681aa1da902b7d4d20c6ed926261bd4f3e41d,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:23.000000000,2021-06-18 12:07:14.000000000,2021-06-18 12:07:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/5812f371d9eac6cbe1cbc2174249a612a5318288', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ife8681aa1da902b7d4d20c6ed926261bd4f3e41d\n'}, {'number': 2, 'created': '2021-06-18 10:00:27.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/5d249c3e733f1abeb9093c99a9204bb82f1779d6', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ife8681aa1da902b7d4d20c6ed926261bd4f3e41d\n'}]",0,791192,5d249c3e733f1abeb9093c99a9204bb82f1779d6,18,3,2,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ife8681aa1da902b7d4d20c6ed926261bd4f3e41d
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/92/791192/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,5812f371d9eac6cbe1cbc2174249a612a5318288,batch-update,f9fbb37e-b3eb-11eb-9f92-031cf3417af3,be96acf0-64d9-11eb-bfb9-a3cd2c82eadc,1,1
openstack%2Foctavia-tempest-plugin~master~I89fa52503738bddb50d2bf31394131f07d2ac435,openstack/octavia-tempest-plugin,master,I89fa52503738bddb50d2bf31394131f07d2ac435,DNM Debugging webserver issue in CI,ABANDONED,2021-05-19 08:05:55.000000000,2021-06-18 12:04:39.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 08:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4214087643b1e6d46d369242d4d52255faf7104b', 'message': 'DNM Debugging webserver issue in CI\n\nChange-Id: I89fa52503738bddb50d2bf31394131f07d2ac435\n'}, {'number': 2, 'created': '2021-05-19 12:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c185f0b9812d4c90117f712defa08b2443738035', 'message': 'DNM Debugging webserver issue in CI\n\nChange-Id: I89fa52503738bddb50d2bf31394131f07d2ac435\n'}, {'number': 3, 'created': '2021-05-25 14:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7a02d5e752b5ae5290e95d6e6ac12672a907bd44', 'message': 'DNM Debugging webserver issue in CI\n\nChange-Id: I89fa52503738bddb50d2bf31394131f07d2ac435\n'}, {'number': 4, 'created': '2021-05-25 16:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5f29661dd83bc91a18e0bed6ceb8e75abff6ba05', 'message': 'DNM Debugging webserver issue in CI\n\nChange-Id: I89fa52503738bddb50d2bf31394131f07d2ac435\n'}, {'number': 5, 'created': '2021-05-26 19:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e720fc31a24c4dc0f91ac59e94a17dfd2a2e5ed5', 'message': 'DNM Debugging webserver issue in CI\n\nChange-Id: I89fa52503738bddb50d2bf31394131f07d2ac435\n'}, {'number': 6, 'created': '2021-06-01 08:12:36.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d84c38c46d408b46d789d4bfbe80f47a79f3edfb', 'message': 'DNM Debugging webserver issue in CI\n\nChange-Id: I89fa52503738bddb50d2bf31394131f07d2ac435\n'}]",6,792081,d84c38c46d408b46d789d4bfbe80f47a79f3edfb,15,2,6,29244,,,0,"DNM Debugging webserver issue in CI

Change-Id: I89fa52503738bddb50d2bf31394131f07d2ac435
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/81/792081/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml']",2,4214087643b1e6d46d369242d4d52255faf7104b,, #- octavia-v2-dsvm-noop-api #- octavia-v2-dsvm-noop-api-stable-victoria #- octavia-v2-dsvm-noop-api-stable-ussuri #- octavia-v2-dsvm-noop-api-stable-train #- octavia-v2-dsvm-noop-api-scoped-tokens #- octavia-v2-dsvm-scenario #- octavia-v2-dsvm-scenario-stable-victoria #- octavia-v2-dsvm-scenario-stable-ussuri #- octavia-v2-dsvm-scenario-stable-train #- octavia-v2-dsvm-tls-barbican #- octavia-v2-dsvm-tls-barbican-stable-victoria #- octavia-v2-dsvm-tls-barbican-stable-ussuri #- octavia-v2-dsvm-tls-barbican-stable-train #- octavia-v2-dsvm-scenario-ipv6-only: # voting: false #- octavia-v2-dsvm-scenario-centos-8: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-two-node: # voting: false #- octavia-v2-act-stdby-dsvm-scenario: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-victoria: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-ussuri: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-train: # voting: false #- octavia-v2-dsvm-spare-pool: # voting: false #- octavia-v2-dsvm-spare-pool-stable-victoria: # voting: false #- octavia-v2-dsvm-spare-pool-stable-ussuri: # voting: false #- octavia-v2-dsvm-spare-pool-stable-train: # voting: false #- octavia-v2-dsvm-cinder-amphora: # voting: false ## Third party provider jobs #- neutron-ovn-provider-v2-api: # voting: false #- neutron-ovn-provider-v2-scenario: # voting: false, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-api-stable-victoria - octavia-v2-dsvm-noop-api-stable-ussuri - octavia-v2-dsvm-noop-api-stable-train - octavia-v2-dsvm-noop-api-scoped-tokens - octavia-v2-dsvm-scenario - octavia-v2-dsvm-scenario-stable-victoria - octavia-v2-dsvm-scenario-stable-ussuri - octavia-v2-dsvm-scenario-stable-train - octavia-v2-dsvm-tls-barbican - octavia-v2-dsvm-tls-barbican-stable-victoria - octavia-v2-dsvm-tls-barbican-stable-ussuri - octavia-v2-dsvm-tls-barbican-stable-train - octavia-v2-dsvm-scenario-ipv6-only: voting: false - octavia-v2-dsvm-scenario-centos-8: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-victoria: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-ussuri: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-train: voting: false - octavia-v2-dsvm-spare-pool: voting: false - octavia-v2-dsvm-spare-pool-stable-victoria: voting: false - octavia-v2-dsvm-spare-pool-stable-ussuri: voting: false - octavia-v2-dsvm-spare-pool-stable-train: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false # Third party provider jobs - neutron-ovn-provider-v2-api: voting: false - neutron-ovn-provider-v2-scenario: voting: false,56,43
openstack%2Fkolla-ansible~master~I44726b12358bc3c5898ba952371fb838693aca2c,openstack/kolla-ansible,master,I44726b12358bc3c5898ba952371fb838693aca2c,Set mistral to use internalURL in admin-openrc.sh,MERGED,2020-04-10 13:20:31.000000000,2021-06-18 12:00:17.000000000,2020-04-11 10:39:40.000000000,"[{'_account_id': 14826}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-10 13:20:31.000000000', 'files': ['ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1763afc2558050784e672f334b7833e20a74eee3', 'message': 'Set mistral to use internalURL in admin-openrc.sh\n\nmistralclient osc plugin does not support cacert and insecure [1]\nmistralclient interface support fixed in [2]\n\n[1] https://bugs.launchpad.net/python-mistralclient/+bug/1715091\n[2] https://review.opendev.org/#/q/topic:bug/1854339\n\nChange-Id: I44726b12358bc3c5898ba952371fb838693aca2c\n'}]",0,719003,1763afc2558050784e672f334b7833e20a74eee3,11,5,1,21757,,,0,"Set mistral to use internalURL in admin-openrc.sh

mistralclient osc plugin does not support cacert and insecure [1]
mistralclient interface support fixed in [2]

[1] https://bugs.launchpad.net/python-mistralclient/+bug/1715091
[2] https://review.opendev.org/#/q/topic:bug/1854339

Change-Id: I44726b12358bc3c5898ba952371fb838693aca2c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/719003/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,1763afc2558050784e672f334b7833e20a74eee3,admin-openrc,{% if enable_mistral | bool %} export OS_MISTRAL_ENDPOINT_TYPE=internalURL {% endif %},,3,0
openstack%2Fnova~master~Ibed67854a693c930effd4dba7aca6cd03b65bd92,openstack/nova,master,Ibed67854a693c930effd4dba7aca6cd03b65bd92,Add --task-log option to nova-manage db archive_deleted_rows,MERGED,2021-03-12 23:21:40.000000000,2021-06-18 11:57:15.000000000,2021-06-18 11:54:56.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 23:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/344207d7c5379b954858e12b08957e79f2fc7345', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to hard delete task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for hard deletion.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}, {'number': 2, 'created': '2021-03-25 01:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c879232422ee0d3f69bf0b2348956ade4a73ffb', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}, {'number': 3, 'created': '2021-03-25 07:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a02a075b0d231f70bef57e6bd9794b8c52a8e2a', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}, {'number': 4, 'created': '2021-04-07 21:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06e12bebe63ec2e7fbfeddb059bb26846f8d4249', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}, {'number': 5, 'created': '2021-04-21 22:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1160e976405994b5b79d5f3660829b26719f30c6', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}, {'number': 6, 'created': '2021-04-21 22:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0844fc6df984d73ffa78b4327b5623e9ad4e2f8d', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}, {'number': 7, 'created': '2021-06-17 01:57:29.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'releasenotes/notes/archive-task-logs-fa9dd7c5859b5e30.yaml', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20', 'message': ""Add --task-log option to nova-manage db archive_deleted_rows\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the 'nova-manage db\narchive_deleted_rows' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe 'updated_at' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n""}]",20,780395,bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20,63,4,7,4690,,,0,"Add --task-log option to nova-manage db archive_deleted_rows

The task_log table contains instance usage audit records if
nova-compute has been configured with [DEFAULT]instance_usage_audit =
True. This will be the case if OpenStack Telemetry is being used in the
deployment, as the option causes nova to generate audit information
that Telemetry then retrieves from the server usage audit log API [1].

Historically, there has been no way to delete task_log table records
other than manual database modification. Because of this, task_log
records could pile up over time and operators are forced to perform
manual steps to periodically truncate the table.

This adds a --task-log option to the 'nova-manage db
archive_deleted_rows' CLI to also archive task_log records while
archiving the database. --task-log works in conjunction with --before
if operators desire archving only records that are older than <date>.
The 'updated_at' field is used by --task-log --before <date> to
determine the age of a task_log record for archival.

Closes-Bug: #1877189

[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log

Change-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/780395/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'releasenotes/notes/archive-task-logs-fa9dd7c5859b5e30.yaml', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api.py']",5,344207d7c5379b954858e12b08957e79f2fc7345,bug/1877189,"@pick_context_manager_writer def task_log_destroy_bulk(context, before=None): # NOTE(melwitt): task_log table records are technically soft-deletable but # no other code deletes them, so we'll just provide a way to hard delete # them as part of the database archive process. We use the updated_at # timestamp for archivals that wish to cleanup rows from before a specified # data/time only. query = model_query(context, models.TaskLog) if before: query = query.filter(models.TaskLog.updated_at < before) return query.delete(synchronize_session=False) ",,174,5
openstack%2Fkolla~master~I1f58262109dd27a4c4ee9b60d87010170b5ea7bb,openstack/kolla,master,I1f58262109dd27a4c4ee9b60d87010170b5ea7bb,"Revert ""libvirt: pin edk2-ovmf""",MERGED,2021-06-09 07:45:47.000000000,2021-06-18 11:00:46.000000000,2021-06-18 10:59:26.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30449}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 07:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f36523cdb3b0391fd5060dea651764899ed5b0ce', 'message': 'Revert ""libvirt: pin edk2-ovmf""\n\nlibvirt-6.0.0-36.el8 was built [0] and released for CentOS Stream 8. It\nincludes a backport of a commit [1] from libvirt 7.4.0 to avoid erroring\nout on unknown firmware features, which fixes the issue seen with the\nnewer edk2-ovmf package.\n\nThis reverts commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063.\n\n[0] https://koji.mbox.centos.org/koji/buildinfo?buildID=17918\n[1] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n\nChange-Id: I1f58262109dd27a4c4ee9b60d87010170b5ea7bb\n'}, {'number': 2, 'created': '2021-06-18 05:35:36.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ec8ef3d8a1a852187bbaf4b592f0739e2796abd', 'message': 'Revert ""libvirt: pin edk2-ovmf""\n\nThe ""internal error: unknown feature amd-sev-es"" error in libvirt seen\nwith the edk2-ovmf package is fixed by a commit in libvirt 7.4.0 [0] to\navoid erroring out on unknown QEMU firmware features.\n\nCentOS Stream 8 was wrongly using the CentOS 8 advanced-virtualization\nrepository [1] instead of the CentOS Stream 8 one [2]. This is fixed by\ncentos-release-advanced-virtualization-1.0-3 [3], which should bring\nlibvirt-7.4.0-1 into our nova-libvirt image.\n\nThis reverts commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063.\n\n[0] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n[1] http://mirror.centos.org/centos/8/virt/x86_64/advanced-virtualization/\n[2] http://mirror.centos.org/centos/8-stream/virt/x86_64/advancedvirt-common/\n[3] https://koji.mbox.centos.org/koji/buildinfo?buildID=18004\n\nChange-Id: I1f58262109dd27a4c4ee9b60d87010170b5ea7bb\n'}]",0,795490,8ec8ef3d8a1a852187bbaf4b592f0739e2796abd,26,5,2,15197,,,0,"Revert ""libvirt: pin edk2-ovmf""

The ""internal error: unknown feature amd-sev-es"" error in libvirt seen
with the edk2-ovmf package is fixed by a commit in libvirt 7.4.0 [0] to
avoid erroring out on unknown QEMU firmware features.

CentOS Stream 8 was wrongly using the CentOS 8 advanced-virtualization
repository [1] instead of the CentOS Stream 8 one [2]. This is fixed by
centos-release-advanced-virtualization-1.0-3 [3], which should bring
libvirt-7.4.0-1 into our nova-libvirt image.

This reverts commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063.

[0] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9
[1] http://mirror.centos.org/centos/8/virt/x86_64/advanced-virtualization/
[2] http://mirror.centos.org/centos/8-stream/virt/x86_64/advancedvirt-common/
[3] https://koji.mbox.centos.org/koji/buildinfo?buildID=18004

Change-Id: I1f58262109dd27a4c4ee9b60d87010170b5ea7bb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/795490/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/Dockerfile.j2'],1,f36523cdb3b0391fd5060dea651764899ed5b0ce,edk2-ovmf, 'edk2-ovmf', # TODO(mnasiadka): Remove pin after https://bugzilla.redhat.com/show_bug.cgi?id=1961558#c10 is fixed 'edk2-ovmf-20200602gitca407c7246bf-4.el8',1,2
openstack%2Foctavia~master~Ie21d86f7888a28a9ced56e863c3f8dcf6497e5e5,openstack/octavia,master,Ie21d86f7888a28a9ced56e863c3f8dcf6497e5e5,[Worker]: use retries from conf for tasflow persistence,NEW,2021-04-02 10:59:45.000000000,2021-06-18 10:45:14.000000000,,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 10:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0c0644d9f85ae40c328a981b8feb2128fdf4158d', 'message': ""[Worker]: use retries from conf for tasflow persistence\n\nThere is no retries for taskflow persistence driver by default,\nso when worker is being started and fails to connect to DB,\nworker doesn't try to reconnect.\n\nChange-Id: Ie21d86f7888a28a9ced56e863c3f8dcf6497e5e5\n""}, {'number': 2, 'created': '2021-06-18 08:36:53.000000000', 'files': ['octavia/controller/worker/v2/taskflow_jobboard_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/55a541a2ac4405636dcba0951723e3e16ba2b61f', 'message': ""[Worker]: use retries from conf for tasflow persistence\n\nThere is no retries for taskflow persistence driver by default,\nso when worker is being started and fails to connect to DB,\nworker doesn't try to reconnect.\n\nChange-Id: Ie21d86f7888a28a9ced56e863c3f8dcf6497e5e5\n""}]",0,784561,55a541a2ac4405636dcba0951723e3e16ba2b61f,6,3,2,13636,,,0,"[Worker]: use retries from conf for tasflow persistence

There is no retries for taskflow persistence driver by default,
so when worker is being started and fails to connect to DB,
worker doesn't try to reconnect.

Change-Id: Ie21d86f7888a28a9ced56e863c3f8dcf6497e5e5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/784561/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v2/taskflow_jobboard_driver.py'],1,0c0644d9f85ae40c328a981b8feb2128fdf4158d,fix/taskflow-pers-retiries," 'max_retries': CONF.database.max_retries,",,1,0
openstack%2Fkolla-ansible~stable%2Ftrain~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/train,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:46:36.000000000,2021-06-18 10:39:40.000000000,2021-06-18 10:38:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 07:46:36.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a1b9470584fa3644be15d933de399472ac64812', 'message': 'Support editable installation in all cases\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nAbove is currently working only in virtualenv, but there is no reason to\nnot allow in all cases. This is usefull for example when user is\nbuilding his own docker container with editable kolla-ansible installed\nfrom git without virtualenv.\n\nChange-Id: I185f7c09c3f026fd6926a26001393f066ff1860d\n(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)\n'}]",0,797014,3a1b9470584fa3644be15d933de399472ac64812,8,4,1,30491,,,0,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/797014/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,3a1b9470584fa3644be15d933de399472ac64812,," ansible_python_version=$($ansible_python_cmdline -c 'import sys; print(str(sys.version_info[0])+"".""+str(sys.version_info[1]))') local python_dir python_dir=""python${ansible_python_version}"" if test -f /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 /usr/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/share/kolla-ansible fi elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then if test -f /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 /usr/local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=/usr/local/share/kolla-ansible fi elif [[ ${dir_name} == ~/.local/bin ]]; then if test -f ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ~/.local/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"" else BASEDIR=~/.local/share/kolla-ansible fi elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/${python_dir}/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/${python_dir}/*-packages/kolla-ansible.egg-link)"""," BASEDIR=/usr/share/kolla-ansible elif [[ ${dir_name} == ""/usr/local/bin"" ]]; then BASEDIR=/usr/local/share/kolla-ansible elif [[ ${dir_name} == ~/.local/bin ]]; then BASEDIR=~/.local/share/kolla-ansible elif [[ -n ${VIRTUAL_ENV} ]] && [[ ${dir_name} == ""$(readlink -e ""${VIRTUAL_ENV}/bin"")"" ]]; then if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)""",26,8
openstack%2Fopenstack-ansible~master~I26233ea94da2bc823a8305dc86f7e5ddc8b97a8b,openstack/openstack-ansible,master,I26233ea94da2bc823a8305dc86f7e5ddc8b97a8b,[doc] Update wrapper path,MERGED,2021-06-11 16:12:11.000000000,2021-06-18 10:32:12.000000000,2021-06-18 10:30:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-11 16:12:11.000000000', 'files': ['doc/source/reference/conventions.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67c623f2682246c2f7273f69ba6cd2b48854a89f', 'message': '[doc] Update wrapper path\n\nChange-Id: I26233ea94da2bc823a8305dc86f7e5ddc8b97a8b\nCloses-Bug: #1931012\n'}]",0,796042,67c623f2682246c2f7273f69ba6cd2b48854a89f,8,3,1,28619,,,0,"[doc] Update wrapper path

Change-Id: I26233ea94da2bc823a8305dc86f7e5ddc8b97a8b
Closes-Bug: #1931012
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/796042/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/conventions.rst'],1,67c623f2682246c2f7273f69ba6cd2b48854a89f,bug/1931012,Our ``openstack-ansible`` cli is located in ``/usr/local/bin/openstack-ansible``. It sources an environment variable file located in: ``/usr/local/bin/openstack-ansible.rc``.,Our ``openstack-ansible`` cli is located in ``/usr/bin/openstack-ansible``. It sources an environment variable file located in: ``/usr/bin/openstack-ansible.rc``.,2,2
openstack%2Fpuppet-neutron~master~I3effa4d5ba0c1d22818935b87379d628c1aeb533,openstack/puppet-neutron,master,I3effa4d5ba0c1d22818935b87379d628c1aeb533,Drop Fedora support,MERGED,2021-06-15 06:02:30.000000000,2021-06-18 10:30:14.000000000,2021-06-18 10:28:27.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 06:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/acb03f8c26fe762123b31cf9c392d0ddfbd3237a', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I3effa4d5ba0c1d22818935b87379d628c1aeb533\n""}, {'number': 2, 'created': '2021-06-15 08:11:20.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-765ee280539a1885.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/42ee84d8aafe47fcef1a8c8879b88aa84daf87ae', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I3effa4d5ba0c1d22818935b87379d628c1aeb533\n""}]",0,796374,42ee84d8aafe47fcef1a8c8879b88aa84daf87ae,11,3,2,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I3effa4d5ba0c1d22818935b87379d628c1aeb533
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/74/796374/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-765ee280539a1885.yaml']",2,acb03f8c26fe762123b31cf9c392d0ddfbd3237a,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-neutron~master~I056a6d5acc8312db2405795e2a52e60a0b902383,openstack/puppet-neutron,master,I056a6d5acc8312db2405795e2a52e60a0b902383,Get rid of the $pyvers variable,MERGED,2021-05-21 10:05:01.000000000,2021-06-18 10:28:22.000000000,2021-06-18 10:28:22.000000000,"[{'_account_id': 1131}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 10:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8f48bffcb79f054ced1c42b39d11f9edcef52172', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I056a6d5acc8312db2405795e2a52e60a0b902383\n""}, {'number': 2, 'created': '2021-06-09 11:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/71ca0619e8cc31038799a3147727aa5c9b653b33', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I056a6d5acc8312db2405795e2a52e60a0b902383\n""}, {'number': 3, 'created': '2021-06-09 15:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c1283b8a834e57970c32a31664354cd7b2fdc0c4', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I056a6d5acc8312db2405795e2a52e60a0b902383\n""}, {'number': 4, 'created': '2021-06-14 07:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c09272c3b99a2d8cd235c9addcaec0a9c7ef99f2', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I056a6d5acc8312db2405795e2a52e60a0b902383\n""}, {'number': 5, 'created': '2021-06-15 08:10:15.000000000', 'files': ['manifests/agents/bigswitch.pp', 'spec/classes/neutron_client_spec.rb', 'spec/classes/neutron_services_bgpvpn_spec.rb', 'spec/classes/neutron_agents_ovn_metadata_spec.rb', 'spec/classes/neutron_plugins_ml2_bagpipe_spec.rb', 'spec/classes/neutron_services_l2gw_spec.rb', 'spec/classes/neutron_agents_ml2_vpp_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_ansible_spec.rb', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/params.pp', 'spec/classes/neutron_agents_ml2_mlnx_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_baremetal_spec.rb', 'spec/classes/neutron_services_sfc_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b52c14963e82aedf8e8d02bca1950808a76a796c', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I056a6d5acc8312db2405795e2a52e60a0b902383\n""}]",3,792564,b52c14963e82aedf8e8d02bca1950808a76a796c,27,5,5,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I056a6d5acc8312db2405795e2a52e60a0b902383
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/64/792564/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_vpp_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_ansible_spec.rb', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/params.pp', 'spec/classes/neutron_client_spec.rb', 'spec/classes/neutron_agents_ovn_metadata_spec.rb', 'spec/classes/neutron_agents_ml2_mlnx_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_baremetal_spec.rb', 'spec/classes/neutron_services_sfc_spec.rb']",9,8f48bffcb79f054ced1c42b39d11f9edcef52172,pyvers-removal, { :sfc_package_name => 'python3-networking-sfc' }, if facts[:operatingsystem] == 'Fedora' { :sfc_package_name => 'python3-networking-sfc' } else if facts[:operatingsystemmajrelease] > '7' { :sfc_package_name => 'python3-networking-sfc' } else { :sfc_package_name => 'python-networking-sfc' } end end,32,106
openstack%2Ftripleo-operator-ansible~master~I8b77429737c0256d75fe04fa6535e99a876c9d30,openstack/tripleo-operator-ansible,master,I8b77429737c0256d75fe04fa6535e99a876c9d30,Added publish-openstack-python-tarball job to publish the tarballs,MERGED,2021-05-17 07:07:17.000000000,2021-06-18 10:23:57.000000000,2021-06-18 08:51:45.000000000,"[{'_account_id': 5263}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 07:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ca7faaa39809da4df123c8454c7cb4e977e7db3a', 'message': 'Added job to publish the tarballs\n\nWe are working on consuming tripleo-operator-ansible\nas a rpm from stein onwards in deployment via tripleo-quickstart.\n\nIn order to build the package for different release, we need\ntarball for tripleo-ansible-operator. Currently only tarballs\nare getting created from master branch[1].\n\nWe need the tarballs from tagged release. In order to do that\nwe can add the publish-openstack-python-branch-tarball\njob to publish the tarball.\n\n[1]. https://tarballs.opendev.org/openstack/tripleo-operator-ansible/\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8b77429737c0256d75fe04fa6535e99a876c9d30\n'}, {'number': 2, 'created': '2021-05-17 12:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8ff8e87578a178018142c13dbc9997de5a6d7358', 'message': 'Added publish-openstack-python-tarball job to publish the tarballs\n\nWe are working on consuming tripleo-operator-ansible\nas a rpm from stein onwards in deployment via tripleo-quickstart.\n\nIn order to build the package for different release, we need\ntarball for tripleo-ansible-operator. Currently only tarballs\nare getting created from master branch[1].\n\nWe need the tarballs from tagged release. In order to do that\nwe can add the publish-openstack-python-branch-tarball\njob to publish the tarball.\n\n[1]. https://tarballs.opendev.org/openstack/tripleo-operator-ansible/\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/791745\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8b77429737c0256d75fe04fa6535e99a876c9d30\n'}, {'number': 3, 'created': '2021-06-18 07:41:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d997a4b7cb0633743fe0f0cb7dc4f464e48063ca', 'message': 'Added publish-openstack-python-tarball job to publish the tarballs\n\nWe are working on consuming tripleo-operator-ansible\nas a rpm from stein onwards in deployment via tripleo-quickstart.\n\nIn order to build the package for different release, we need\ntarball for tripleo-ansible-operator. Currently only tarballs\nare getting created from master branch[1].\n\nWe need the tarballs from tagged release. In order to do that\nwe can add the publish-openstack-python-tarball\njob[2] to publish the tarball.\n\n[1]. https://tarballs.opendev.org/openstack/tripleo-operator-ansible/\n\n[2]. https://review.opendev.org/c/openstack/project-config/+/791745\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8b77429737c0256d75fe04fa6535e99a876c9d30\n'}]",3,791645,d997a4b7cb0633743fe0f0cb7dc4f464e48063ca,18,9,3,12393,,,0,"Added publish-openstack-python-tarball job to publish the tarballs

We are working on consuming tripleo-operator-ansible
as a rpm from stein onwards in deployment via tripleo-quickstart.

In order to build the package for different release, we need
tarball for tripleo-ansible-operator. Currently only tarballs
are getting created from master branch[1].

We need the tarballs from tagged release. In order to do that
we can add the publish-openstack-python-tarball
job[2] to publish the tarball.

[1]. https://tarballs.opendev.org/openstack/tripleo-operator-ansible/

[2]. https://review.opendev.org/c/openstack/project-config/+/791745

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I8b77429737c0256d75fe04fa6535e99a876c9d30
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/45/791645/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ca7faaa39809da4df123c8454c7cb4e977e7db3a,remove_uneeded_tq_requirements, post: jobs: - publish-openstack-python-branch-tarball,,4,0
openstack%2Fopenstack-ansible-haproxy_server~master~I568273d0ef1d5ee391a42981e66cc9895b9d71b6,openstack/openstack-ansible-haproxy_server,master,I568273d0ef1d5ee391a42981e66cc9895b9d71b6,Replace whitelist with allowlist naming,MERGED,2021-06-16 11:40:28.000000000,2021-06-18 10:20:36.000000000,2021-06-18 10:19:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-16 11:40:28.000000000', 'files': ['templates/service.j2', 'defaults/main.yml', 'releasenotes/notes/haproxy_allowlist-95aa9b911baeacd9.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/f058cf8d61e0432d650d6bcdaaa338258f475515', 'message': 'Replace whitelist with allowlist naming\n\nChange-Id: I568273d0ef1d5ee391a42981e66cc9895b9d71b6\n'}]",0,796629,f058cf8d61e0432d650d6bcdaaa338258f475515,8,3,1,28619,,,0,"Replace whitelist with allowlist naming

Change-Id: I568273d0ef1d5ee391a42981e66cc9895b9d71b6
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/29/796629/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service.j2', 'defaults/main.yml', 'releasenotes/notes/haproxy_allowlist-95aa9b911baeacd9.yaml']",3,f058cf8d61e0432d650d6bcdaaa338258f475515,,--- upgrade: - | HAProxy ``haproxy_whitelist_networks`` key inside ``haproxy_service_configs`` dictionary has been replaced with ``haproxy_allowlist_networks``. ,,11,5
openstack%2Fopenstack-ansible-galera_server~master~I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc,openstack/openstack-ansible-galera_server,master,I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc,Replace systemd unit overrides with role,MERGED,2021-06-11 16:08:10.000000000,2021-06-18 10:16:36.000000000,2021-06-18 10:15:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-11 16:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/587cfe26d3690389000822ace0aecfdccd63bc87', 'message': 'Replace systemd unit overrides with role\n\nInstead of placing bunch of templates, we can use our systemd_role\nthat is capable of placing just overrides file, that will have same\nfunctionality but also provide ability to easily add required data into\nsystemd overrides.\n\nChange-Id: I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc\n'}, {'number': 2, 'created': '2021-06-11 20:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a468c50bdef52afa18c9816ea69cdc88a5196b46', 'message': 'Replace systemd unit overrides with role\n\nInstead of placing bunch of templates, we can use our systemd_role\nthat is capable of placing just overrides file, that will have same\nfunctionality but also provide ability to easily add required data into\nsystemd overrides.\n\nChange-Id: I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc\n'}, {'number': 3, 'created': '2021-06-12 05:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/45d690b4d2c55c2ec95c80fde6932f9b14d0d990', 'message': 'Replace systemd unit overrides with role\n\nInstead of placing bunch of templates, we can use our systemd_role\nthat is capable of placing just overrides file, that will have same\nfunctionality but also provide ability to easily add required data into\nsystemd overrides.\n\nChange-Id: I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc\n'}, {'number': 4, 'created': '2021-06-12 11:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/138faab1ec6b7af34ccddcf0e10c5fafc8a1962c', 'message': 'Replace systemd unit overrides with role\n\nInstead of placing bunch of templates, we can use our systemd_role\nthat is capable of placing just overrides file, that will have same\nfunctionality but also provide ability to easily add required data into\nsystemd overrides.\n\nChange-Id: I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc\n'}, {'number': 5, 'created': '2021-06-16 12:40:42.000000000', 'files': ['templates/systemd.restart.conf.j2', 'templates/systemd.timeout.conf.j2', 'templates/systemd.slice.conf.j2', 'templates/systemd.without-privatedevices.conf.j2', 'releasenotes/notes/mariadb_systemd_overrides-6536a0ee5e612698.yaml', 'templates/systemd.environment.conf.j2', 'tasks/galera_server_post_install.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/systemd.limits.conf.j2', 'templates/upstart.limits.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/818c5a71b04866445758b186bb51af7b7dcac7e0', 'message': 'Replace systemd unit overrides with role\n\nInstead of placing bunch of templates, we can use our systemd_role\nthat is capable of placing just overrides file, that will have same\nfunctionality but also provide ability to easily add required data into\nsystemd overrides.\n\nChange-Id: I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc\n'}]",0,796041,818c5a71b04866445758b186bb51af7b7dcac7e0,20,3,5,28619,,,0,"Replace systemd unit overrides with role

Instead of placing bunch of templates, we can use our systemd_role
that is capable of placing just overrides file, that will have same
functionality but also provide ability to easily add required data into
systemd overrides.

Change-Id: I7b3b0f4da047f82a49266ef57fba2fbaa24cebdc
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/41/796041/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd.restart.conf.j2', 'templates/systemd.timeout.conf.j2', 'templates/systemd.slice.conf.j2', 'releasenotes/notes/mariadb_systemd_overrides-6536a0ee5e612698.yaml', 'templates/systemd.without-privatedevices.conf.j2', 'tasks/galera_server_post_install.yml', 'templates/systemd.environment.conf.j2', 'defaults/main.yml', 'vars/main.yml', 'templates/systemd.limits.conf.j2', 'templates/upstart.limits.conf.j2']",11,587cfe26d3690389000822ace0aecfdccd63bc87,796041,,# {{ ansible_managed }} # OpenFile limits * - nofile {{ galera_file_limits }} ,71,70
openstack%2Fopenstack-ansible-openstack_hosts~master~Id08720e442da5d183785d2e395c6e234e079a4ce,openstack/openstack-ansible-openstack_hosts,master,Id08720e442da5d183785d2e395c6e234e079a4ce,Don't fail when openstack_pki_install_ca not defined,MERGED,2021-06-13 07:48:44.000000000,2021-06-18 10:12:36.000000000,2021-06-18 10:11:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-13 07:48:44.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/77ff7c7f261a46612866cd3e6e3bb662ab4efbc4', 'message': ""Don't fail when openstack_pki_install_ca not defined\n\nIn some scenarios, it might be possible that openstack_pki_install_ca\nis not defined for some reason. So we should not fail if it's the case.\n\nChange-Id: Id08720e442da5d183785d2e395c6e234e079a4ce\nNeeded-By: https://review.opendev.org/c/openstack/ansible-config_template/+/796151\n""}]",0,796163,77ff7c7f261a46612866cd3e6e3bb662ab4efbc4,8,3,1,28619,,,0,"Don't fail when openstack_pki_install_ca not defined

In some scenarios, it might be possible that openstack_pki_install_ca
is not defined for some reason. So we should not fail if it's the case.

Change-Id: Id08720e442da5d183785d2e395c6e234e079a4ce
Needed-By: https://review.opendev.org/c/openstack/ansible-config_template/+/796151
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/63/796163/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,77ff7c7f261a46612866cd3e6e3bb662ab4efbc4,," pki_install_ca: ""{{ openstack_pki_install_ca | default([]) + openstack_host_ca_certificates }}"""," pki_install_ca: ""{{ openstack_pki_install_ca + openstack_host_ca_certificates }}""",1,1
openstack%2Fopenstack-ansible-os_nova~master~I6735188f5fc75b44f587e6a810c8e8aad73df684,openstack/openstack-ansible-os_nova,master,I6735188f5fc75b44f587e6a810c8e8aad73df684,Drop CentOS 7 specific task,MERGED,2021-06-17 12:32:41.000000000,2021-06-18 10:07:17.000000000,2021-06-18 10:05:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-17 12:32:41.000000000', 'files': ['tasks/nova_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/476c39273efcd1de9ac04b7636fec0ee3e69e6c2', 'message': 'Drop CentOS 7 specific task\n\nCentOS 7 support has been removed for a while and no reason to carry\ntask that is specific to this version.\n\nChange-Id: I6735188f5fc75b44f587e6a810c8e8aad73df684\n'}]",0,796830,476c39273efcd1de9ac04b7636fec0ee3e69e6c2,8,3,1,28619,,,0,"Drop CentOS 7 specific task

CentOS 7 support has been removed for a while and no reason to carry
task that is specific to this version.

Change-Id: I6735188f5fc75b44f587e6a810c8e8aad73df684
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/30/796830/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_install.yml'],1,476c39273efcd1de9ac04b7636fec0ee3e69e6c2,osa-cleanup,,"# NOTE(noonedeadpunk): This task can't be done in python_venv_build role # because installation from file/url can't be used with constraints. # Here we install packages which are missing in disto, so can't be # symlinked inside venv. - name: Install kvm pip packages pip: name: ""{{ nova_compute_kvm_pip_packages }}"" virtualenv: ""{{ nova_bin | dirname }}"" state: present when: - nova_install_method == 'source' - nova_services['nova-compute']['group'] in group_names - ansible_facts['os_family'] | lower == 'redhat' - ansible_facts['distribution_major_version']|int <= 7 ",0,15
openstack%2Fkolla-ansible~stable%2Ftrain~I45bacefc7912870c48f618e27ff759f9c249dc33,openstack/kolla-ansible,stable/train,I45bacefc7912870c48f618e27ff759f9c249dc33,Redis configuration syntax update,ABANDONED,2021-03-09 10:28:33.000000000,2021-06-18 09:45:53.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26740}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-09 10:28:33.000000000', 'files': ['ansible/roles/redis/templates/redis.conf.j2', 'ansible/roles/redis/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/961316431507e9d47dbdbe13dfc85ef7c7cab3b6', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\nDeployments on CentOS / RHEL 7 retain original pre 5.x\nsyntax.\n\nCloses-Bug: #1915013\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I45bacefc7912870c48f618e27ff759f9c249dc33\n(cherry picked from commit 8799825485662d67ae64b525fb27758875351d64)\n'}]",0,779478,961316431507e9d47dbdbe13dfc85ef7c7cab3b6,7,6,1,33158,,,0,"Redis configuration syntax update

Replication syntax of Redis config files updated to
Redis 5.x.
Deployments on CentOS / RHEL 7 retain original pre 5.x
syntax.

Closes-Bug: #1915013
Signed-off-by: Petr Tuma <p.tuma@partner.samsung.com>
Change-Id: I45bacefc7912870c48f618e27ff759f9c249dc33
(cherry picked from commit 8799825485662d67ae64b525fb27758875351d64)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/779478/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/redis/templates/redis.conf.j2', 'ansible/roles/redis/defaults/main.yml']",2,961316431507e9d47dbdbe13dfc85ef7c7cab3b6,redis_conf_train,"redis_replication_syntax: ""{{ 'slave' if kolla_base_distro in ['centos','rhel'] and ansible_distribution_major_version is version(8, '<') else 'replica' }}"" ",,7,5
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f,openstack/python-tripleoclient,stable/wallaby,I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f,Check for the service queue with ephemeral heat,MERGED,2021-06-16 12:12:02.000000000,2021-06-18 09:45:45.000000000,2021-06-18 09:44:13.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 12:12:02.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'templates/ephemeral-heat/heat-pod.yaml.j2'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/918293a65108f7feb163c0769ad122841fc2c095', 'message': ""Check for the service queue with ephemeral heat\n\nHeat creates some listener and worker queues before creating\nthe queue that clients publish message to.\n\nLet's check for the service queue to ensure that all queues\nare created before we make any api call.\n\nAlso uses a constant for the pod name which is used by\npodman for the pod hostname[1].\n\n[1] https://github.com/containers/podman/blob/master/libpod/runtime_pod_infra_linux.go#L34\n\nChange-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f\n(cherry picked from commit 299276e7e21bfe39bd8784ac923383ca1e494b81)\n""}]",0,796571,918293a65108f7feb163c0769ad122841fc2c095,10,3,1,8833,,,0,"Check for the service queue with ephemeral heat

Heat creates some listener and worker queues before creating
the queue that clients publish message to.

Let's check for the service queue to ensure that all queues
are created before we make any api call.

Also uses a constant for the pod name which is used by
podman for the pod hostname[1].

[1] https://github.com/containers/podman/blob/master/libpod/runtime_pod_infra_linux.go#L34

Change-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f
(cherry picked from commit 299276e7e21bfe39bd8784ac923383ca1e494b81)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/796571/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'templates/ephemeral-heat/heat-pod.yaml.j2']",4,918293a65108f7feb163c0769ad122841fc2c095,, app: {{ heat_pod_name }} name: {{ heat_pod_name }}, app: ephemeral-heat name: ephemeral-heat,30,23
openstack%2Fvalidations-libs~master~I55c0f279bbcaa74763132667ab488396a561d35b,openstack/validations-libs,master,I55c0f279bbcaa74763132667ab488396a561d35b,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:15:29.000000000,2021-06-18 09:44:16.000000000,2021-06-18 09:44:16.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-17 17:15:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/db0c72774c7e65c4aad28bcc4dde655a23e57524', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I55c0f279bbcaa74763132667ab488396a561d35b\n'}]",0,796924,db0c72774c7e65c4aad28bcc4dde655a23e57524,7,7,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I55c0f279bbcaa74763132667ab488396a561d35b
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/24/796924/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,db0c72774c7e65c4aad28bcc4dde655a23e57524,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I611af46794894fe76da5e74a491db3500810341a,openstack/kolla-ansible,stable/train,I611af46794894fe76da5e74a491db3500810341a,Update blazar.conf template,ABANDONED,2021-06-18 08:56:20.000000000,2021-06-18 09:41:21.000000000,,[],"[{'number': 1, 'created': '2021-06-18 08:56:20.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12850d3337d3e9c8cb7cf43ed6df060c915d7de5', 'message': 'Update blazar.conf template\n\nOur blazar.conf template was using some deprecated or removed options.\n\nChange-Id: I611af46794894fe76da5e74a491db3500810341a\n(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)\n'}]",0,797021,12850d3337d3e9c8cb7cf43ed6df060c915d7de5,5,0,1,15197,,,0,"Update blazar.conf template

Our blazar.conf template was using some deprecated or removed options.

Change-Id: I611af46794894fe76da5e74a491db3500810341a
(cherry picked from commit 2d82920d8fd05647db9a4ff460784f3cdf1cf019)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/797021/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,12850d3337d3e9c8cb7cf43ed6df060c915d7de5,blazar-config-stable/train,[nova],[physical:host] on_start = on_start on_end = on_endblazar_username = {{ blazar_keystone_user }} blazar_password = {{ blazar_keystone_password }} blazar_project_name = service,1,9
openstack%2Fpuppet-zaqar~master~I5c7faa89d0e719b03c9bb47bb45fa5db4487e0e3,openstack/puppet-zaqar,master,I5c7faa89d0e719b03c9bb47bb45fa5db4487e0e3,Debian and /usr/lib/python3: fix path,MERGED,2021-06-16 11:56:44.000000000,2021-06-18 09:37:31.000000000,2021-06-18 09:37:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 11:56:44.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/d19b7a08e9f613dafd2e561ca6c39b740fa3ec5b', 'message': ""Debian and /usr/lib/python3: fix path\n\nDebian based systems (including Ubuntu and other derivatives) always use\n/usr/lib/python3 (and not /usr/lib/python3.x), therefore, we shouldn't\nuse a variable ${pyver3} instead of the 3.\n\nChange-Id: I5c7faa89d0e719b03c9bb47bb45fa5db4487e0e3\n""}]",0,796631,d19b7a08e9f613dafd2e561ca6c39b740fa3ec5b,7,3,1,6476,,,0,"Debian and /usr/lib/python3: fix path

Debian based systems (including Ubuntu and other derivatives) always use
/usr/lib/python3 (and not /usr/lib/python3.x), therefore, we shouldn't
use a variable ${pyver3} instead of the 3.

Change-Id: I5c7faa89d0e719b03c9bb47bb45fa5db4487e0e3
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/31/796631/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,d19b7a08e9f613dafd2e561ca6c39b740fa3ec5b,debian-and-python3, $zaqar_wsgi_script_source = '/usr/lib/python3/dist-packages/zaqar/transport/wsgi/app.py'," $zaqar_wsgi_script_source = ""/usr/lib/python${pyver3}/dist-packages/zaqar/transport/wsgi/app.py""",1,1
openstack%2Fcharm-tempest~master~I7f8f555ac639df1fc31ed0aac13e0b59ceb4c4ba,openstack/charm-tempest,master,I7f8f555ac639df1fc31ed0aac13e0b59ceb4c4ba,Use unittest.mock instead of mock,ABANDONED,2020-06-08 22:02:37.000000000,2021-06-18 09:33:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/1a41c0762665a5eb3aeecac102f5d519a24dd10e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I7f8f555ac639df1fc31ed0aac13e0b59ceb4c4ba\n'}, {'number': 2, 'created': '2020-06-09 11:31:56.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_tempest.py', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/f1f8b7397e9c912a83223d7335b9955eeb1a26ab', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I7f8f555ac639df1fc31ed0aac13e0b59ceb4c4ba\n""}]",0,734318,f1f8b7397e9c912a83223d7335b9955eeb1a26ab,7,2,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I7f8f555ac639df1fc31ed0aac13e0b59ceb4c4ba
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/18/734318/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_tempest.py', 'unit_tests/__init__.py']",3,1a41c0762665a5eb3aeecac102f5d519a24dd10e,drop_mock,from unittest import mock,import mock,2,3
openstack%2Fcharm-tempest~master~I6c94afbe29bc713f82150e67d9de54ee1867ff9c,openstack/charm-tempest,master,I6c94afbe29bc713f82150e67d9de54ee1867ff9c,reomove invalid key for admin adapter test case,ABANDONED,2020-11-30 07:23:37.000000000,2021-06-18 09:32:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 07:23:37.000000000', 'files': ['unit_tests/test_lib_charm_openstack_tempest.py'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/b2a04a31dc49ea12a15e9b2cd2d43dc172d4ca63', 'message': 'reomove invalid key for admin adapter test case\n\nremove invalid key for admin adapter test case in\ntest_lib_charm_openstack_tempest.py file\n\nChange-Id: I6c94afbe29bc713f82150e67d9de54ee1867ff9c\n'}]",0,764606,b2a04a31dc49ea12a15e9b2cd2d43dc172d4ca63,4,2,1,30643,,,0,"reomove invalid key for admin adapter test case

remove invalid key for admin adapter test case in
test_lib_charm_openstack_tempest.py file

Change-Id: I6c94afbe29bc713f82150e67d9de54ee1867ff9c
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/06/764606/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_lib_charm_openstack_tempest.py'],1,b2a04a31dc49ea12a15e9b2cd2d43dc172d4ca63,fix1130,," 'neutron': 'false', 'neutron': 'false',",0,2
openstack%2Fvalidations-libs~master~Ied557010b31b83fbb823476c6ea4900ee7d9c581,openstack/validations-libs,master,Ied557010b31b83fbb823476c6ea4900ee7d9c581,Reduced complexity of a property method,ABANDONED,2021-01-22 14:25:08.000000000,2021-06-18 09:32:25.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-22 14:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/da0c5e906a13e6875345040de2eae051ffc8bd8b', 'message': ""Reduced complexity of a property method\n\nValidation.get_formated_data was needlesly complex\nNow it relies more on dictionaries it already used.\n\nCouldn't find any other uses of Validation._col_keys,\nmight be candidate for further changes, or reversion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ied557010b31b83fbb823476c6ea4900ee7d9c581\n""}, {'number': 2, 'created': '2021-03-12 07:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/769485d251dc4ee8d22d434478fadcd3548b42e3', 'message': ""Reduced complexity of a property method\n\nValidation.get_formated_data was needlesly complex\nNow it relies more on dictionaries it already used.\n\nCouldn't find any other uses of Validation._col_keys,\nmight be candidate for further changes, or reversion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ied557010b31b83fbb823476c6ea4900ee7d9c581\n""}, {'number': 3, 'created': '2021-06-04 16:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3d766c286184ce1e0b93e84abb2ca2d3fbb33aba', 'message': ""Reduced complexity of a property method\n\nValidation.get_formated_data was needlesly complex\nNow it relies more on dictionaries it already used.\n\nCouldn't find any other uses of Validation._col_keys,\nmight be candidate for further changes, or reversion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ied557010b31b83fbb823476c6ea4900ee7d9c581\n""}, {'number': 4, 'created': '2021-06-07 07:21:43.000000000', 'files': ['validations_libs/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/39a4056ad19b074d83514baaff3c097b37767fb5', 'message': ""Reduced complexity of a property method\n\nValidation.get_formated_data was needlesly complex\nNow it relies more on dictionaries it already used.\n\nCouldn't find any other uses of Validation._col_keys,\nmight be candidate for further changes, or reversion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ied557010b31b83fbb823476c6ea4900ee7d9c581\n""}]",0,771984,39a4056ad19b074d83514baaff3c097b37767fb5,14,5,4,32926,,,0,"Reduced complexity of a property method

Validation.get_formated_data was needlesly complex
Now it relies more on dictionaries it already used.

Couldn't find any other uses of Validation._col_keys,
might be candidate for further changes, or reversion.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ied557010b31b83fbb823476c6ea4900ee7d9c581
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/84/771984/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/validation.py'],1,da0c5e906a13e6875345040de2eae051ffc8bd8b,refactoring/colnames," _col_names = { 'id': 'ID', 'name': 'Name', 'description': 'Description', 'groups': 'Groups' } if key in self._col_names.keys(): data[self._col_names[key]] = metadata[key] data[key] = metadata[key]"," _col_keys = ['ID', 'Name', 'Description', 'Groups'] if key in map(str.lower, self._col_keys): for k in self._col_keys: if key == k.lower(): output_key = k data[output_key] = self.get_metadata.get(key) data[key] = self.get_metadata.get(key)",10,7
openstack%2Fcharm-tempest~master~Idc0752d57e3b8249c39a44a84cff62e510b89d0b,openstack/charm-tempest,master,Idc0752d57e3b8249c39a44a84cff62e510b89d0b,Fix the tox.ini so build is in build/builds/tempest/,ABANDONED,2021-06-10 10:46:10.000000000,2021-06-18 09:32:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-10 10:46:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/d7947ffe6ede5aa6e9c879f62868ef1a16f1dbd6', 'message': 'Fix the tox.ini so build is in build/builds/tempest/\n\nThis will at least allow new versions of the charm to be pushed to the\ncharmstore even if, technically, we are no longer supporting this charm.\n\nChange-Id: Idc0752d57e3b8249c39a44a84cff62e510b89d0b\n'}]",0,795759,d7947ffe6ede5aa6e9c879f62868ef1a16f1dbd6,9,2,1,20870,,,0,"Fix the tox.ini so build is in build/builds/tempest/

This will at least allow new versions of the charm to be pushed to the
charmstore even if, technically, we are no longer supporting this charm.

Change-Id: Idc0752d57e3b8249c39a44a84cff62e510b89d0b
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/59/795759/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d7947ffe6ede5aa6e9c879f62868ef1a16f1dbd6,fix-tox-build-dir, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build src {posargs},1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1,openstack/python-tripleoclient,stable/wallaby,I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1,Don't download configs twice for --setup-only,MERGED,2021-06-16 12:15:30.000000000,2021-06-18 09:26:35.000000000,2021-06-18 09:25:02.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 12:15:30.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/81384692672f9adce1c59eac4ca6d8f81554ad9d', 'message': ""Don't download configs twice for --setup-only\n\nAlso fixes to download the contents to the consistent\nworking directory by default.\n\nChange-Id: I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1\n(cherry picked from commit 4243df7de1310439a6ab1574929327e0cf3554bf)\n""}]",0,796653,81384692672f9adce1c59eac4ca6d8f81554ad9d,11,3,1,8833,,,0,"Don't download configs twice for --setup-only

Also fixes to download the contents to the consistent
working directory by default.

Change-Id: I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1
(cherry picked from commit 4243df7de1310439a6ab1574929327e0cf3554bf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/796653/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,81384692672f9adce1c59eac4ca6d8f81554ad9d,," default=None, if parsed_args.config_download: if not parsed_args.config_download_only: if not parsed_args.setup_only: deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.make_config_download_dir(config_download_dir, parsed_args.stack) deployment.config_download( self.log, self.clients, stack, parsed_args.overcloud_ssh_network, config_download_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks) else: config_dir = parsed_args.config_dir or config_download_dir"," default=os.path.join( constants.CLOUD_HOME_DIR, 'tripleo-config' ), if parsed_args.config_download or parsed_args.setup_only: if not parsed_args.config_download_only and \ not parsed_args.setup_only: deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.make_config_download_dir(config_download_dir, parsed_args.stack) deployment.config_download( self.log, self.clients, stack, parsed_args.overcloud_ssh_network, config_download_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks, setup_only=parsed_args.setup_only ) if parsed_args.setup_only: config_dir = os.path.abspath(parsed_args.config_dir) # Run admin authorize deployment.get_hosts_and_enable_ssh_admin( stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type ) ",32,67
openstack%2Fglance_store~master~If24994dbfa56d77c61cfa2912c07b99dbd42de93,openstack/glance_store,master,If24994dbfa56d77c61cfa2912c07b99dbd42de93,Fix missing log context,NEW,2021-05-10 14:50:04.000000000,2021-06-18 09:26:29.000000000,,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 20104}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:50:04.000000000', 'files': ['requirements.txt', 'glance_store/_drivers/swift/store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/33c808fb6234cd505a47072daee464e5c27b83aa', 'message': ""Fix missing log context\n\n    * After the feature was submitted in the separate thread it's losing\n      the request context. To prevent it we need to use 'oslo_log' library\n      instead of built-in logging and explicitly pass the context into\n      the submitted future.\n\nChange-Id: If24994dbfa56d77c61cfa2912c07b99dbd42de93\n""}]",0,790468,33c808fb6234cd505a47072daee464e5c27b83aa,3,4,1,17031,,,0,"Fix missing log context

    * After the feature was submitted in the separate thread it's losing
      the request context. To prevent it we need to use 'oslo_log' library
      instead of built-in logging and explicitly pass the context into
      the submitted future.

Change-Id: If24994dbfa56d77c61cfa2912c07b99dbd42de93
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/68/790468/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'glance_store/_drivers/swift/store.py']",2,33c808fb6234cd505a47072daee464e5c27b83aa,bp/speedup-image-fragments-upload,"from oslo_log import log as loggingdef run_upload(manager, location, part, context): {'pnum': pnum, 'bsize': bsize, 'chunk_name': chunk_name}, context=context) ""chunks.""), context=context) LOG.debug(msg, context=context) context, manager, location, verifier, context): run_upload, manager, location, part, context))","import logging def run_upload(manager, location, part): {'pnum': pnum, 'bsize': bsize, 'chunk_name': chunk_name}) ""chunks."")) LOG.debug(msg) manager, location, verifier): run_upload, manager, location, part))",10,8
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0d1ce33270ccf8636925c3534812c3b1cf650103,openstack/tripleo-ansible,stable/wallaby,I0d1ce33270ccf8636925c3534812c3b1cf650103,Deploy rbd-mirror using cephadm,MERGED,2021-06-17 05:29:22.000000000,2021-06-18 09:26:22.000000000,2021-06-18 09:24:59.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-17 05:29:22.000000000', 'files': ['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/736285cdbec11c67a9e6a813065214ac2007b15c', 'message': 'Deploy rbd-mirror using cephadm\n\nThis patch enables the support of the rbd-mirror deployment via\nthe spec. The approach is the same used for the other daemons and\nwhen the OS::TripleO::Services::CephRbdMirror is included in a\nTripleO role, the rbd-mirror tasks are executed (the spec is built\nand applied against the Ceph cluster using the ceph_mkspec module).\n\nChange-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103\n(cherry picked from commit 9b6e8a67b5994d12b931fb34e221b4223584b038)\n'}]",0,796664,736285cdbec11c67a9e6a813065214ac2007b15c,11,7,1,25402,,,0,"Deploy rbd-mirror using cephadm

This patch enables the support of the rbd-mirror deployment via
the spec. The approach is the same used for the other daemons and
when the OS::TripleO::Services::CephRbdMirror is included in a
TripleO role, the rbd-mirror tasks are executed (the spec is built
and applied against the Ceph cluster using the ceph_mkspec module).

Change-Id: I0d1ce33270ccf8636925c3534812c3b1cf650103
(cherry picked from commit 9b6e8a67b5994d12b931fb34e221b4223584b038)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/796664/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml']",6,736285cdbec11c67a9e6a813065214ac2007b15c,cephadm_rbdmirror, | combine(cephadm_rbdmirror| default({})),,86,2
openstack%2Fpuppet-watcher~master~I062ade8509d1e3309f90d473bb95fbeebc01cdd0,openstack/puppet-watcher,master,I062ade8509d1e3309f90d473bb95fbeebc01cdd0,Debian and /usr/lib/python3: fix path,MERGED,2021-06-16 11:57:29.000000000,2021-06-18 09:23:35.000000000,2021-06-18 09:23:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 11:57:29.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/a41ebbc11aac1578154642144b2ab8f7c9847424', 'message': ""Debian and /usr/lib/python3: fix path\n\nDebian based systems (including Ubuntu and other derivatives) always use\n/usr/lib/python3 (and not /usr/lib/python3.x), therefore, we shouldn't\nuse a variable ${pyver3} instead of the 3.\n\nChange-Id: I062ade8509d1e3309f90d473bb95fbeebc01cdd0\n""}]",0,796632,a41ebbc11aac1578154642144b2ab8f7c9847424,7,3,1,6476,,,0,"Debian and /usr/lib/python3: fix path

Debian based systems (including Ubuntu and other derivatives) always use
/usr/lib/python3 (and not /usr/lib/python3.x), therefore, we shouldn't
use a variable ${pyver3} instead of the 3.

Change-Id: I062ade8509d1e3309f90d473bb95fbeebc01cdd0
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/32/796632/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,a41ebbc11aac1578154642144b2ab8f7c9847424,debian-and-python3, $watcher_wsgi_script_source = '/usr/lib/python3/dist-packages/watcher/api/app.wsgi'," $watcher_wsgi_script_source = ""/usr/lib/python${pyver3}/dist-packages/watcher/api/app.wsgi""",1,1
openstack%2Fansible-hardening~master~Id3136a5eed068e317aa1a7b33a1149629dc76d77,openstack/ansible-hardening,master,Id3136a5eed068e317aa1a7b33a1149629dc76d77,Remove references to unsupported operating systems,MERGED,2021-03-17 09:35:18.000000000,2021-06-18 09:18:43.000000000,2021-06-18 09:17:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-17 09:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/883c409ea4921e3e28e3635149fc2abc5d59f219', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\nChange-Id: Id3136a5eed068e317aa1a7b33a1149629dc76d77\n'}, {'number': 2, 'created': '2021-03-17 18:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/02a72d3923354d13709ef42757c703f3f87c2aa0', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\nChange-Id: Id3136a5eed068e317aa1a7b33a1149629dc76d77\n'}, {'number': 3, 'created': '2021-05-25 15:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/47ee024533d5492ef564dd068b6a4f5fe233a3bb', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\nChange-Id: Id3136a5eed068e317aa1a7b33a1149629dc76d77\n'}, {'number': 4, 'created': '2021-06-11 10:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/6834c4e1c2004664957b60c63b40d995970694eb', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\nChange-Id: Id3136a5eed068e317aa1a7b33a1149629dc76d77\n'}, {'number': 5, 'created': '2021-06-11 14:14:24.000000000', 'files': ['tasks/rhel7stig/auth.yml', 'tasks/rhel7stig/aide.yml', 'vars/redhat-8.yml', 'tasks/rhel7stig/main.yml', 'tasks/rhel7stig/file_perms.yml', 'defaults/main.yml', 'tasks/rhel7stig/accounts.yml', 'vars/main.yml', 'meta/main.yml', 'tasks/rhel7stig/kernel.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/480dd9d8662ba28b43027a0e909e859c45c5ccf0', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\nChange-Id: Id3136a5eed068e317aa1a7b33a1149629dc76d77\n'}]",0,781061,480dd9d8662ba28b43027a0e909e859c45c5ccf0,18,3,5,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible
Change-Id: Id3136a5eed068e317aa1a7b33a1149629dc76d77
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/61/781061/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rhel7stig/auth.yml', 'tasks/rhel7stig/aide.yml', 'tasks/rhel7stig/main.yml', 'vars/redhat-8.yml', 'tasks/rhel7stig/file_perms.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/rhel7stig/kernel.yml', 'vars/main.yml', 'README.md']",10,883c409ea4921e3e28e3635149fc2abc5d59f219,osa-cleanup,* CentOS 8 * Debian Buster * Ubuntu Bionic * Ubuntu Focal,* CentOS 7 * Debian Jessie * Fedora 27 * openSUSE Leap 42.2 and 42.3 * Red Hat Enterprise Linux 7 * SUSE Linux Enterprise 12 (*experimental*) * Ubuntu 16.04,27,40
openstack%2Fzaqar-ui~master~I11176ef54ca25b130bc2c1c86b8458cbf960312f,openstack/zaqar-ui,master,I11176ef54ca25b130bc2c1c86b8458cbf960312f,Drop horizon-nodejs10-jobs template,MERGED,2021-05-19 16:17:38.000000000,2021-06-18 08:57:14.000000000,2021-06-18 08:55:09.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 16:17:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/98d0021d8affbf124b451fc182bb96de327c63fe', 'message': ""Drop horizon-nodejs10-jobs template\n\nAs we already added horizon-nodejs14-jobs template in this plugin\nand nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs\ntemplate because nodejs10 is already EOL.\n\nChange-Id: I11176ef54ca25b130bc2c1c86b8458cbf960312f\n""}]",0,792203,98d0021d8affbf124b451fc182bb96de327c63fe,16,2,1,29313,,,0,"Drop horizon-nodejs10-jobs template

As we already added horizon-nodejs14-jobs template in this plugin
and nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs
template because nodejs10 is already EOL.

Change-Id: I11176ef54ca25b130bc2c1c86b8458cbf960312f
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/03/792203/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,98d0021d8affbf124b451fc182bb96de327c63fe,drop-nodejs10,, - horizon-nodejs10-jobs,0,1
openstack%2Fkolla-ansible~master~I611af46794894fe76da5e74a491db3500810341a,openstack/kolla-ansible,master,I611af46794894fe76da5e74a491db3500810341a,Update blazar.conf template,MERGED,2021-03-16 13:37:42.000000000,2021-06-18 08:50:24.000000000,2021-06-18 08:47:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-16 13:37:42.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d82920d8fd05647db9a4ff460784f3cdf1cf019', 'message': 'Update blazar.conf template\n\nOur blazar.conf template was using some deprecated or removed options.\n\nChange-Id: I611af46794894fe76da5e74a491db3500810341a\n'}]",0,780848,2d82920d8fd05647db9a4ff460784f3cdf1cf019,10,4,1,15197,,,0,"Update blazar.conf template

Our blazar.conf template was using some deprecated or removed options.

Change-Id: I611af46794894fe76da5e74a491db3500810341a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/780848/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,2d82920d8fd05647db9a4ff460784f3cdf1cf019,blazar-config,[nova],[physical:host] on_start = on_start on_end = on_endblazar_username = {{ blazar_keystone_user }} blazar_password = {{ blazar_keystone_password }} blazar_project_name = service,1,9
openstack%2Fswift~master~I3e5e904ffc0eba7a7e141e1c2d9f9840e4952041,openstack/swift,master,I3e5e904ffc0eba7a7e141e1c2d9f9840e4952041,Add async_pending_last time to object.recon,MERGED,2020-10-16 17:39:40.000000000,2021-06-18 08:13:18.000000000,2021-06-18 08:11:40.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-16 17:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c4e6f2491d33b7e664c14b24cd374cc3cacf547', 'message': ""Add async_pending_last time to object.recon\n\nThe async_pending count isn't near as useful when we don't know how out\nof date it is.\n\nChange-Id: I3e5e904ffc0eba7a7e141e1c2d9f9840e4952041\n""}, {'number': 2, 'created': '2020-10-16 20:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37b6db2e979e1a75ffe94f2dd5f44c36e252ac60', 'message': ""Add async_pending_last time to object.recon\n\nThe async_pending count isn't near as useful when we don't know how out\nof date it is.\n\nChange-Id: I3e5e904ffc0eba7a7e141e1c2d9f9840e4952041\n""}, {'number': 3, 'created': '2021-06-15 15:12:27.000000000', 'files': ['swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py', 'bin/swift-recon-cron'], 'web_link': 'https://opendev.org/openstack/swift/commit/39ad468dfee7ceac1456a67604af774528341a80', 'message': ""Add async_pending_last time to object.recon\n\nThe async_pending count isn't near as useful when we don't know how out\nof date it is.\n\nChange-Id: I3e5e904ffc0eba7a7e141e1c2d9f9840e4952041\n""}]",0,758603,39ad468dfee7ceac1456a67604af774528341a80,12,2,3,15343,,,0,"Add async_pending_last time to object.recon

The async_pending count isn't near as useful when we don't know how out
of date it is.

Change-Id: I3e5e904ffc0eba7a7e141e1c2d9f9840e4952041
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/758603/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/recon.py', 'bin/swift-recon-cron']",2,9c4e6f2491d33b7e664c14b24cd374cc3cacf547,,"import time dump_recon_cache({ 'async_pending': asyncs, 'async_pending_last': time.time(), }, cache_file, logger)"," dump_recon_cache({'async_pending': asyncs}, cache_file, logger)",7,3
openstack%2Fhorizon~master~I3ee4dcaf7a3458ea8326adfccbe688c5f2f1562d,openstack/horizon,master,I3ee4dcaf7a3458ea8326adfccbe688c5f2f1562d,Update instances table is resize confirmed,NEW,2020-12-22 13:08:39.000000000,2021-06-18 08:12:54.000000000,,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-12-22 13:08:39.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa09796c65388963d27b5a1588d6a9c8702ed031', 'message': 'Update instances table is resize confirmed\n\nChange-Id: I3ee4dcaf7a3458ea8326adfccbe688c5f2f1562d\nCloses-Bug: #1909007\n'}]",2,768200,fa09796c65388963d27b5a1588d6a9c8702ed031,9,4,1,1736,,,0,"Update instances table is resize confirmed

Change-Id: I3ee4dcaf7a3458ea8326adfccbe688c5f2f1562d
Closes-Bug: #1909007
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/768200/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/tables.py'],1,fa09796c65388963d27b5a1588d6a9c8702ed031,bug/1909007," (""resized"", True),",,1,0
openstack%2Fneutron~master~I52d63834db8311a7c5764bb3814160f5afb43c6c,openstack/neutron,master,I52d63834db8311a7c5764bb3814160f5afb43c6c,DNM Test jobs where tls-proxy was enabled,ABANDONED,2021-06-11 06:47:53.000000000,2021-06-18 07:13:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 06:47:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/087aa71bed54979eddfa222ea7f0b863a9f8e149', 'message': 'DNM Test jobs where tls-proxy was enabled\n\nChange-Id: I52d63834db8311a7c5764bb3814160f5afb43c6c\n'}]",0,795928,087aa71bed54979eddfa222ea7f0b863a9f8e149,7,1,1,11975,,,0,"DNM Test jobs where tls-proxy was enabled

Change-Id: I52d63834db8311a7c5764bb3814160f5afb43c6c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/795928/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,087aa71bed54979eddfa222ea7f0b863a9f8e149,exame-tls-proxy, - neutron-tempest-iptables_hybrid - neutron-ovn-tempest-ovs-master-fedora," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 # TODO(ralonsoh): this job has been set to non-voting until LP#1930402 # is fixed. - neutron-ovn-tempest-slow: voting: false gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 # TODO(ralonsoh): this job has been disabled until LP#1930402 is fixed. #- neutron-ovn-tempest-slow: #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode periodic: jobs: - neutron-functional - neutron-fullstack - neutron-tempest-postgres-full - neutron-tempest-mariadb-full - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora - neutron-tempest-with-neutron-lib-master - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps - neutron-tempest-plugin-scenario-linuxbridge-nftables - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-nftables",2,100
openstack%2Fheat~master~Ia7aa045ea612bac15315772491ddd9b76edf646f,openstack/heat,master,Ia7aa045ea612bac15315772491ddd9b76edf646f,Make stack snapshot/restore acitons convergence aware,NEW,2020-09-14 10:06:54.000000000,2021-06-18 07:11:15.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-14 10:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/621c7b409c6a5ed71e2b5504f0df648bebdd2318', 'message': 'Make stack snapshot acitons convergence aware\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 2, 'created': '2020-09-14 14:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2b72f57938146e5908ba4d240e38dbf647f25746', 'message': 'Make stack snapshot acitons convergence aware\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 3, 'created': '2020-09-14 15:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6fc1b12939456ee5037f5dc3869571e79c51f063', 'message': 'Make stack snapshot acitons convergence aware\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 4, 'created': '2020-09-15 08:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f731448460387562be6ee08d6279f89efeb377ca', 'message': 'Make stack snapshot acitons convergence aware\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 5, 'created': '2020-09-16 09:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f15bd7ebb4e2e1f0c43accc18f3f9d16c7dd791', 'message': 'Make stack snapshot acitons convergence aware\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 6, 'created': '2020-09-17 07:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/415b3b65c85fcfb1f7ac8928339d5eff3c62a8c6', 'message': 'Make stack snapshot acitons convergence aware\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 7, 'created': '2020-09-27 10:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/09d4fe71351b67f2c26a9fea46a7ddd893c64f58', 'message': 'Make stack snapshot acitons convergence aware\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 8, 'created': '2020-10-30 07:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2f4b7b134f9e7734d762784c2fc94b02d27f8499', 'message': 'Make stack snapshot acitons convergence aware\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 9, 'created': '2020-10-30 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1015d4b58843e625a234a9e3afdd164d0b37298b', 'message': 'Make stack snapshot acitons convergence aware\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 10, 'created': '2020-11-14 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/36930249cc37761565a809c4c2150cf00b055b7e', 'message': 'Make stack snapshot acitons convergence aware\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 11, 'created': '2020-11-14 20:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fec4b135863afc840aadac4b95180da3ecb13ff3', 'message': 'Make stack snapshot acitons convergence aware\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 12, 'created': '2020-11-14 20:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64b0912f7da4687a06984c69b26cb184854adac0', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nBump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 13, 'created': '2020-11-15 04:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c3aa8e4c450e7226c83ddec0ec7669bd494b5b3c', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nBump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 14, 'created': '2020-11-15 05:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ac596ab6f7c5d500801370716d94ce3ee9215c31', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nBump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 15, 'created': '2020-11-15 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5acd30cdb4fc5b40fff84ed980e84ec1bf5cf7bc', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nBump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 16, 'created': '2020-11-15 14:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d8ba704a3c8fa7d8628f5971e763d39dadf5764', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nBump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nAlso bump lower constraint for python-subunit to 1.4.0 to\navoid issue [1].\n[1] https://github.com/testing-cabal/subunit/pull/40\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 17, 'created': '2020-11-15 17:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3eddf7bb9686ffbe4339ca42066e45902a356c17', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 18, 'created': '2020-11-16 04:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d0cb027ff64c17ae03d501d9b7bddd4c7af219f0', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 19, 'created': '2021-03-08 03:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3065dd688ed2ef84c3f9a4b54c5583697bcc7bb0', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 20, 'created': '2021-03-08 06:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9c824cd38f9b816586d5fbe2b953cdadc850dfd1', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 21, 'created': '2021-03-08 08:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/68e858d697ca82237130f6313c0783de896ba201', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 22, 'created': '2021-03-08 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4d89164ba31853b4cd9137930c19e0a2b1d1d035', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 23, 'created': '2021-03-11 03:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ac7cb8def747fde51b6252c675e77f8e6e378b51', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 24, 'created': '2021-03-11 05:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a7c5f2dd7b8f983c1aa43f8c9e269c39c810df72', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}, {'number': 25, 'created': '2021-03-11 07:09:54.000000000', 'files': ['heat/tests/engine/test_check_resource.py', 'heat/tests/engine/test_snapshots.py', 'heat/engine/scheduler.py', 'heat/engine/service.py', 'heat/tests/engine/test_scheduler.py', 'heat/engine/api.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/engine/stack.py', 'releasenotes/notes/make-snapshot-convergence-aware-16311c9a9f03cb95.yaml', 'heat/objects/snapshot.py', 'heat/tests/test_rpc_worker_client.py', 'heat/engine/snapshots.py', 'heat/rpc/worker_client.py', 'heat/tests/engine/test_engine_worker.py', 'releasenotes/notes/upgrade-rpc-version-28958d76f75e3da6.yaml', 'heat/rpc/api.py', 'heat/engine/check_resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/worker.py', 'heat/engine/resources/stack_resource.py', 'heat/engine/resources/openstack/heat/remote_stack.py', 'heat/common/timeutils.py', 'heat/tests/test_resource.py', 'heat/db/sqlalchemy/migrate_repo/versions/088_add_resource_snapshot_table.py', 'heat/tests/common.py', 'heat/rpc/client.py', 'heat/tests/test_convg_stack.py', 'heat/objects/resource_snapshot.py', 'heat/tests/test_stack.py', 'heat/db/sqlalchemy/models.py', 'heat/engine/resource.py', 'heat/tests/test_engine_api_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/be018459b3e0c99e66a8ef812a1b68eee0aba8bb', 'message': 'Make stack snapshot/restore acitons convergence aware\n\nAlso bump worker rpc version to 1.6 to introduce\n`check_resource_delete_snapshot`.\n\nChange-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f\nStory: #1727142\nTask: #39920\n'}]",3,751722,be018459b3e0c99e66a8ef812a1b68eee0aba8bb,67,2,25,12404,,,0,"Make stack snapshot/restore acitons convergence aware

Also bump worker rpc version to 1.6 to introduce
`check_resource_delete_snapshot`.

Change-Id: Ia7aa045ea612bac15315772491ddd9b76edf646f
Story: #1727142
Task: #39920
",git fetch https://review.opendev.org/openstack/heat refs/changes/22/751722/25 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/test_check_resource.py', 'heat/db/sqlalchemy/migrate_repo/versions/087_add_resource_snapshot_table.py', 'heat/tests/engine/test_snapshots.py', 'heat/engine/scheduler.py', 'heat/engine/service.py', 'heat/tests/engine/test_scheduler.py', 'heat/engine/api.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/engine/stack.py', 'releasenotes/notes/make-snapshot-convergence-aware-16311c9a9f03cb95.yaml', 'heat/objects/snapshot.py', 'heat/tests/test_rpc_worker_client.py', 'heat/engine/snapshots.py', 'heat/rpc/worker_client.py', 'heat/tests/engine/test_engine_worker.py', 'heat/rpc/api.py', 'heat/engine/check_resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/worker.py', 'heat/engine/resources/stack_resource.py', 'heat/engine/resources/openstack/heat/remote_stack.py', 'heat/common/timeutils.py', 'heat/tests/test_resource.py', 'heat/tests/common.py', 'heat/tests/test_convg_stack.py', 'heat/objects/resource_snapshot.py', 'heat/tests/test_stack.py', 'heat/db/sqlalchemy/models.py', 'heat/engine/resource.py', 'heat/tests/test_engine_api_utils.py']",30,621c7b409c6a5ed71e2b5504f0df648bebdd2318,story/1727142," def test_format_resource_snapshot(self): def _dummy_resource_snapshot(): rsrc_snap = mock.Mock() rsrc_snap.id = 'foo' rsrc_snap.snapshot_id = 'bar' rsrc_snap.resource_name = 'fake_name' rsrc_snap.data = { 'name': 'fake_name', 'resource_id': 'foo', 'type': 'OS::Nova::Server', 'action': 'CREATE', 'status': 'COMPLETE', 'metadata': {}, 'resource_data': {}} rsrc_snap.created_at = timeutils.utcnow() return rsrc_snap resource_snapshot = _dummy_resource_snapshot() result = api.format_resource_snapshot(resource_snapshot) self.assertIsNotNone(result) self.assertEqual(resource_snapshot.id, result['id']) self.assertEqual( resource_snapshot.snapshot_id, result['snapshot_id']) self.assertEqual( resource_snapshot.resource_name, result['resource_name']) self.assertEqual(resource_snapshot.data, result['data']) self.assertEqual(heat_timeutils.isotime(resource_snapshot.created_at), result['creation_time']) ",,1727,104
openstack%2Fheat~master~Ib443cebc7b832a6cdb6583bb6cc830452357c392,openstack/heat,master,Ib443cebc7b832a6cdb6583bb6cc830452357c392,Calculate resource data prior to legacy updates,MERGED,2018-10-05 22:10:07.000000000,2021-06-18 07:11:07.000000000,2021-06-18 07:08:49.000000000,"[{'_account_id': 12404}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 22:10:07.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9d29e035da797b89dc70807506364083b488c0c6', 'message': 'Calculate resource data prior to legacy updates\n\nEnsure that the StackDefinition is populated with all of the resource data\n(i.e. refid and attribute values) prior to doing a legacy update. This\nensures that it is available for the purposes of obtaining the frozen\ndefinitions of the existing resources prior to starting the update.\n\nObtaining the frozen definition may rely on resolving live data when there\nare no properties data stored (hopefully only very old stacks) or when\nfields other than properties (e.g. metadata) contain intrinsic functions.\n\nChange-Id: Ib443cebc7b832a6cdb6583bb6cc830452357c392\nStory: #2003987\nTask: 26930\n'}]",0,608371,9d29e035da797b89dc70807506364083b488c0c6,9,3,1,4257,,,0,"Calculate resource data prior to legacy updates

Ensure that the StackDefinition is populated with all of the resource data
(i.e. refid and attribute values) prior to doing a legacy update. This
ensures that it is available for the purposes of obtaining the frozen
definitions of the existing resources prior to starting the update.

Obtaining the frozen definition may rely on resolving live data when there
are no properties data stored (hopefully only very old stacks) or when
fields other than properties (e.g. metadata) contain intrinsic functions.

Change-Id: Ib443cebc7b832a6cdb6583bb6cc830452357c392
Story: #2003987
Task: 26930
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/608371/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,9d29e035da797b89dc70807506364083b488c0c6,," # Populate resource data needed for calulating frozen definitions # (particularly for metadata, which doesn't get stored separately). self._update_all_resource_data(for_resources=True, for_outputs=False) ",,5,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic34f1d53c5f344a4e6605a00e5cccd671663a444,openstack/tripleo-heat-templates,stable/wallaby,Ic34f1d53c5f344a4e6605a00e5cccd671663a444,Add glance db purge job,MERGED,2021-06-16 15:55:46.000000000,2021-06-18 07:06:28.000000000,2021-06-18 07:04:51.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 15:55:46.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/glance-db-purge-bb185353a45880c7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733f3ecbe4e4faa6d9d2c6fa613c82d36b69ecd2', 'message': 'Add glance db purge job\n\nThis patch introduces glance_api_cron container to run glance db purge\njob periodically, so that soft-deleted records are removed from glance\ndatabase.\n\nChange-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444\nCloses-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nDepends-on: https://review.opendev.org/#/c/747346/\n(cherry picked from commit 37bb2ecceb6b83e1f0d88523b795e02660acf3f0)\n'}]",2,796658,733f3ecbe4e4faa6d9d2c6fa613c82d36b69ecd2,11,4,1,9816,,,0,"Add glance db purge job

This patch introduces glance_api_cron container to run glance db purge
job periodically, so that soft-deleted records are removed from glance
database.

Change-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444
Closes-Bug: #1892467
Depends-on: https://review.opendev.org/#/c/746452/
Depends-on: https://review.opendev.org/#/c/747346/
(cherry picked from commit 37bb2ecceb6b83e1f0d88523b795e02660acf3f0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/796658/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/glance-db-purge-bb185353a45880c7.yaml']",2,733f3ecbe4e4faa6d9d2c6fa613c82d36b69ecd2,bug/1892467-stable/wallaby,"--- features: - | The ``glance_api_cron`` container has been introduced, which executes db purge job for Glance service. Use GlanceCronDbPurge* parameters to override cron parameters. ",,96,0
openstack%2Fheat~master~I83d9c100f791dce8ce944de2c2bdaa8cbc0767f2,openstack/heat,master,I83d9c100f791dce8ce944de2c2bdaa8cbc0767f2,Always use attributes from ResourceProxy,NEW,2018-09-29 01:11:23.000000000,2021-06-18 06:55:57.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 01:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/291d8be9f92dee4ee996f76b5760d2f740c97cab', 'message': ""Always use attributes from ResourceProxy\n\nPrior to the creation of the StackDefinition class, when fetching resource\nattributes in intrinsic functions we had to determine from the state of the\nresource whether getting the attributes would be a valid thing to do, or if\nwe should just return None as a placeholder. This logic is now taken into\naccount when populating the ResourceProxy with attribute values, so\nintrinsic functions can always rely on being able to call the\nResourceProxy's FnGetAtt() method.\n\nThis change allows us to provide more sophisticated placeholders in the\nResourceProxy when no attribute value is available.\n\nChange-Id: I83d9c100f791dce8ce944de2c2bdaa8cbc0767f2\nStory: #2003915\nTask: 26802\n""}, {'number': 2, 'created': '2018-10-04 01:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/face51fe5f1cefb3330cbf043e769fb15a0ffe69', 'message': ""Always use attributes from ResourceProxy\n\nPrior to the creation of the StackDefinition class, when fetching resource\nattributes in intrinsic functions we had to determine from the state of the\nresource whether getting the attributes would be a valid thing to do, or if\nwe should just return None as a placeholder. This logic is now taken into\naccount when populating the ResourceProxy with attribute values, so\nintrinsic functions can always rely on being able to call the\nResourceProxy's FnGetAtt() method.\n\nThis change allows us to provide more sophisticated placeholders in the\nResourceProxy when no attribute value is available.\n\nChange-Id: I83d9c100f791dce8ce944de2c2bdaa8cbc0767f2\nStory: #2003915\nTask: 26802\n""}, {'number': 3, 'created': '2018-10-05 22:10:07.000000000', 'files': ['heat/tests/aws/test_volume.py', 'heat/engine/hot/functions.py', 'heat/tests/test_metadata_refresh.py', 'heat/tests/test_hot.py', 'heat/tests/test_engine_api_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b2bdda611916927ddda7791a6377dfbc5a6e77b0', 'message': ""Always use attributes from ResourceProxy\n\nPrior to the creation of the StackDefinition class, when fetching resource\nattributes in intrinsic functions we had to determine from the state of the\nresource whether getting the attributes would be a valid thing to do, or if\nwe should just return None as a placeholder. This logic is now taken into\naccount when populating the ResourceProxy with attribute values, so\nintrinsic functions can always rely on being able to call the\nResourceProxy's FnGetAtt() method.\n\nThis change allows us to provide more sophisticated placeholders in the\nResourceProxy when no attribute value is available.\n\nChange-Id: I83d9c100f791dce8ce944de2c2bdaa8cbc0767f2\nStory: #2003915\nTask: 26802\n""}]",0,606228,b2bdda611916927ddda7791a6377dfbc5a6e77b0,7,2,3,4257,,,0,"Always use attributes from ResourceProxy

Prior to the creation of the StackDefinition class, when fetching resource
attributes in intrinsic functions we had to determine from the state of the
resource whether getting the attributes would be a valid thing to do, or if
we should just return None as a placeholder. This logic is now taken into
account when populating the ResourceProxy with attribute values, so
intrinsic functions can always rely on being able to call the
ResourceProxy's FnGetAtt() method.

This change allows us to provide more sophisticated placeholders in the
ResourceProxy when no attribute value is available.

Change-Id: I83d9c100f791dce8ce944de2c2bdaa8cbc0767f2
Story: #2003915
Task: 26802
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/606228/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/functions.py', 'heat/tests/aws/test_volume.py', 'heat/tests/test_metadata_refresh.py', 'heat/tests/test_engine_api_utils.py', 'heat/tests/test_hot.py']",5,291d8be9f92dee4ee996f76b5760d2f740c97cab,," type: OS::Heat::None outputs: rg_name: value: {get_attr: [rg, name]} stack.validate() stack.validate()", type: OS::Nova::Server,26,23
openstack%2Fdevstack~master~Id46afe2d6a14543977838bed7b0e19765730f484,openstack/devstack,master,Id46afe2d6a14543977838bed7b0e19765730f484,Only setup IPv6 on OVN bridge if IP_VERSION has 6,ABANDONED,2021-06-07 13:20:17.000000000,2021-06-18 06:09:11.000000000,,"[{'_account_id': 6773}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 13:20:17.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/18c5989835cc77f1e94dd2eb4e4346c4e4fbcf65', 'message': 'Only setup IPv6 on OVN bridge if IP_VERSION has 6\n\nIf IPv6 is disable on the host (sysctl net.ipv6.conf.all.disable_ipv6=0)\nand IP_VERSION=4, devstack should not do any IPv6 operations, as some of\nthem like `ip -6 addr replace` will throw an error.\n\nChange-Id: Id46afe2d6a14543977838bed7b0e19765730f484\n'}]",0,795107,18c5989835cc77f1e94dd2eb4e4346c4e4fbcf65,7,6,1,8064,,,0,"Only setup IPv6 on OVN bridge if IP_VERSION has 6

If IPv6 is disable on the host (sysctl net.ipv6.conf.all.disable_ipv6=0)
and IP_VERSION=4, devstack should not do any IPv6 operations, as some of
them like `ip -6 addr replace` will throw an error.

Change-Id: Id46afe2d6a14543977838bed7b0e19765730f484
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/795107/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,18c5989835cc77f1e94dd2eb4e4346c4e4fbcf65,ip_version_6," if [[ ""$IP_VERSION"" =~ .*6 ]]; then # Ensure IPv6 RAs are accepted on the interface with the default route. # This is needed for neutron-based devstack clouds to work in # IPv6-only clouds in the gate. Please do not remove this without # talking to folks in Infra. This fix is based on a devstack fix for # neutron L3 agent: https://review.openstack.org/#/c/359490/. default_route_dev=$(ip route | grep ^default | awk '{print $5}') sudo sysctl -w net.ipv6.conf.$default_route_dev.accept_ra=2 sudo sysctl -w net.ipv6.conf.all.forwarding=1 if [ -n ""$IPV6_PUBLIC_RANGE"" ]; then local ipv6_cidr_len=${IPV6_PUBLIC_RANGE#*/} sudo ip -6 addr replace $IPV6_PUBLIC_NETWORK_GATEWAY/$ipv6_cidr_len dev $ext_gw_ifc fi"," # Ensure IPv6 RAs are accepted on the interface with the default route. # This is needed for neutron-based devstack clouds to work in # IPv6-only clouds in the gate. Please do not remove this without # talking to folks in Infra. This fix is based on a devstack fix for # neutron L3 agent: https://review.openstack.org/#/c/359490/. default_route_dev=$(ip route | grep ^default | awk '{print $5}') sudo sysctl -w net.ipv6.conf.$default_route_dev.accept_ra=2 sudo sysctl -w net.ipv6.conf.all.forwarding=1 if [ -n ""$IPV6_PUBLIC_RANGE"" ]; then local ipv6_cidr_len=${IPV6_PUBLIC_RANGE#*/} sudo ip -6 addr replace $IPV6_PUBLIC_NETWORK_GATEWAY/$ipv6_cidr_len dev $ext_gw_ifc",13,12
openstack%2Fheat~master~I9f525e9d5fad017d005fd0ed7c9761eccef108eb,openstack/heat,master,I9f525e9d5fad017d005fd0ed7c9761eccef108eb,Make stack suspend and resume convergence aware,NEW,2019-11-08 03:41:06.000000000,2021-06-18 05:24:10.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 03:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/57d7c00f7b2a64e63f38ad7fa545f3375d2b682f', 'message': 'WIP Migrate suspend and resume\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 2, 'created': '2019-11-08 06:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/873111caaf15e22578f05786a440805c4f598421', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 3, 'created': '2020-06-01 18:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4cb8c9ddfbbfb2bd48a34f7c6faf3dc8fbec5cc8', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 4, 'created': '2020-06-02 11:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4fbbe867d2a4935e6e519d58bbfb19c452430c4c', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 5, 'created': '2020-06-02 12:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/049d6ab45794e534362d9112c1f0e764349dbbf3', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 6, 'created': '2020-06-15 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bbd2ee6fe1821ad3e56260441f4c7d1e18cc7188', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 7, 'created': '2020-06-16 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/919b50cb7297ed54dcecb7197306364e5ff2b448', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 8, 'created': '2020-09-10 23:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b5b9f63f9a88c21caf6d5efc267fbbb19c62e03e', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 9, 'created': '2020-09-14 10:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f9cc086994f82743ee3042c24dd083d59099eef', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 10, 'created': '2020-09-15 08:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a70ed0bd1ab24daed39a3715b94efae55648a46', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 11, 'created': '2020-09-27 10:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/536e5690a84e371cbfe7d88d0c7aeb00b98ae44c', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 12, 'created': '2020-10-30 07:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/da01e76fe068da348d9285b2c18df1a315b30b59', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 13, 'created': '2020-11-02 08:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/667eeeca868d3bc2a6df8cdda90d69e11d23f1f4', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 14, 'created': '2020-11-14 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d0623f5cfbbf4a935aa467521fd4d24f98357f4b', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 15, 'created': '2020-11-14 20:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/91b590710a092d185878a0feaf7528886fd1b909', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 16, 'created': '2020-11-15 17:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b3910b9529fa728a99254e451a31f142b310bbfa', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 17, 'created': '2021-03-08 03:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/61f84d8a1e30ce067b4843eb8487d072e0afbfb4', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 18, 'created': '2021-03-08 06:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/62c24eff746a7e66265efc1d9ddc691bfab419de', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 19, 'created': '2021-03-08 08:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2e956cd15c740b8c1b10350bc17f81c72a61c018', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 20, 'created': '2021-03-08 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/473b6a0fa4bd91e9b27a91892cf1bafde3c9cf90', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 21, 'created': '2021-03-11 03:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8fdaf0f51a994b23b7d4323ca96e195b55de3663', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 22, 'created': '2021-03-11 05:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b8e7ec8a9279a2dcca3064269fbcdcadfc6894fd', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}, {'number': 23, 'created': '2021-03-11 07:09:54.000000000', 'files': ['heat/rpc/worker_client.py', 'heat/tests/api/openstack_v1/test_actions.py', 'heat/rpc/client.py', 'releasenotes/notes/upgrade-rpc-version-28958d76f75e3da6.yaml', 'heat/tests/test_convg_stack.py', 'heat/engine/check_resource.py', 'releasenotes/notes/make-suspend-and-resume-convergence-aware-caa1872cc8ae97f5.yaml', 'heat/engine/stack.py', 'heat/engine/service.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/48d08331c52914d468e49f05cd1050c802a83a39', 'message': 'Make stack suspend and resume convergence aware\n\nChange-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb\nTask: 37220\n'}]",3,693471,48d08331c52914d468e49f05cd1050c802a83a39,65,3,23,8833,,,0,"Make stack suspend and resume convergence aware

Change-Id: I9f525e9d5fad017d005fd0ed7c9761eccef108eb
Task: 37220
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/693471/10 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_convg_stack.py', 'heat/engine/check_resource.py', 'heat/engine/stack.py', 'heat/engine/resource.py', 'heat/engine/service.py']",5,57d7c00f7b2a64e63f38ad7fa545f3375d2b682f,story/1727142," if stack.convergence: stack.thread_group_mgr = self.thread_group_mgr stack.converge_stack(template=stack.t, action=stack.SUSPEND) else: stored_event = NotifyEvent() self.thread_group_mgr.start_with_lock( cnxt, stack, self.engine_id, stack.suspend, notify=stored_event) stored_event.wait() if stack.convergence: stack.thread_group_mgr = self.thread_group_mgr stack.converge_stack(template=stack.t, action=stack.RESUME) else: stored_event = NotifyEvent() self.thread_group_mgr.start_with_lock( cnxt, stack, self.engine_id, stack.resume, notify=stored_event) stored_event.wait()"," stored_event = NotifyEvent() self.thread_group_mgr.start_with_lock(cnxt, stack, self.engine_id, stack.suspend, notify=stored_event) stored_event.wait() stored_event = NotifyEvent() self.thread_group_mgr.start_with_lock(cnxt, stack, self.engine_id, stack.resume, notify=stored_event) stored_event.wait()",42,20
openstack%2Fheat~master~I29685d14f5959addd0e09ab1144dd0af0d1f9551,openstack/heat,master,I29685d14f5959addd0e09ab1144dd0af0d1f9551,Add fail_actions to TestResource and allow actions,NEW,2021-03-08 06:34:22.000000000,2021-06-18 05:23:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 06:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/22de964daf11d278f8305d63200bb792df69038f', 'message': ""Add fail_actions to TestResource and allow actions\n\nAllow TestResource resource type to run handle_xxx for actions:\n* SUSPEND\n* RESUME\n* ADOPT\n* SNAPSHOT\n* CHECK\n\nAdd `fail_actions` property to TestResource resource type.\nThis is a list value which include actions that you would like it to\nfail for scenario tests. For example when set fail_actions to\n['CREATE', 'CHECK'], this TestResource will failed when perform create\nor check actions.\nNote: if you use `fail` property, it will failed on all actions TestResource\nruns. Also delete action will not be affected by `fail` or `fail_actions`.\n\nChange-Id: I29685d14f5959addd0e09ab1144dd0af0d1f9551\n""}, {'number': 2, 'created': '2021-03-08 08:47:25.000000000', 'files': ['heat/engine/resources/openstack/heat/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9504b6813537d40946889a89bfd24ac66bb0ceef', 'message': ""Add fail_actions to TestResource and allow actions\n\nAllow TestResource resource type to run handle_xxx for actions:\n* SUSPEND\n* RESUME\n* SNAPSHOT\n* CHECK\n\nAdd `fail_actions` property to TestResource resource type.\nThis is a list value which include actions that you would like it to\nfail for scenario tests. For example when set fail_actions to\n['CREATE', 'CHECK'], this TestResource will failed when perform create\nor check actions.\nNote: if you use `fail` property, it will failed on all actions TestResource\nruns. Also delete action will not be affected by `fail` or `fail_actions`.\n\nChange-Id: I29685d14f5959addd0e09ab1144dd0af0d1f9551\n""}]",0,779157,9504b6813537d40946889a89bfd24ac66bb0ceef,7,1,2,12404,,,0,"Add fail_actions to TestResource and allow actions

Allow TestResource resource type to run handle_xxx for actions:
* SUSPEND
* RESUME
* SNAPSHOT
* CHECK

Add `fail_actions` property to TestResource resource type.
This is a list value which include actions that you would like it to
fail for scenario tests. For example when set fail_actions to
['CREATE', 'CHECK'], this TestResource will failed when perform create
or check actions.
Note: if you use `fail` property, it will failed on all actions TestResource
runs. Also delete action will not be affected by `fail` or `fail_actions`.

Change-Id: I29685d14f5959addd0e09ab1144dd0af0d1f9551
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/779157/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/test_resource.py'],1,22de964daf11d278f8305d63200bb792df69038f,story/1727142," FAIL_ACTIONS, 'fail_actions', FAIL_ACTIONS: properties.Schema( properties.Schema.LIST, _('Value which can be set to fail the resource for specific ' 'operations to test failure scenarios.'), update_allowed=True, support_status=support.SupportStatus(version='16.0.0'), schema=properties.Schema(properties.Schema.STRING), default=[], ), def handle_check(self): return timeutils.utcnow(), self._wait_secs() def handle_snapshot(self): return timeutils.utcnow(), self._wait_secs() def handle_suspend(self): return timeutils.utcnow(), self._wait_secs() def handle_resume(self): return timeutils.utcnow(), self._wait_secs() def handle_adopt(self): return timeutils.utcnow(), self._wait_secs() fail_actions = self.properties[self.FAIL_ACTIONS] if not fail_prop or self.action not in fail_actions: fail_actions = self.properties[self.FAIL_ACTIONS] if not fail_prop or self.action not in fail_actions: def check_check_complete(self, cookie): return self._check_status_complete(*cookie) def check_snapshot_complete(self, cookie): return self._check_status_complete(*cookie) def check_suspend_complete(self, cookie): return self._check_status_complete(*cookie) def check_resume_complete(self, cookie): return self._check_status_complete(*cookie) def check_adopt_complete(self, cookie): return self._check_status_complete(*cookie) fail_actions = self.properties[self.FAIL_ACTIONS] if self.action != self.DELETE: if fail_prop or self.action in fail_actions: raise ValueError(""Test Resource failed %s"" % self.name)"," if not fail_prop: if not fail_prop: if fail_prop and self.action != self.DELETE: raise ValueError(""Test Resource failed %s"" % self.name)",49,4
openstack%2Fheat~master~I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09,openstack/heat,master,I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09,Make stack check convergence aware,NEW,2019-02-14 10:40:20.000000000,2021-06-18 05:23:50.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-14 10:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/71f54c2c9cf4502319972e02ca637c7f406bc56f', 'message': 'WIP Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 2, 'created': '2019-02-15 04:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea3bc131f48ebc65b334dd8c5eb20f301fe8f9d5', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 3, 'created': '2019-03-14 05:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a68b2d47b5895e4dd9737967a41b1cff82a49d0f', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 4, 'created': '2019-03-14 05:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4617160d545c1ae2b5f8d78db68c7345423be279', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 5, 'created': '2019-11-07 03:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c5390a99e36d3214b7ab84a1cbc86793b819b549', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 6, 'created': '2019-11-07 10:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/698c10fa568eb81e8d0c7d8489fc85d5a4156cd0', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 7, 'created': '2020-06-01 18:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/213a2fc0cb6ab28775d8be0dfeaec5c0d37276d9', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 8, 'created': '2020-06-02 11:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f63e02a4eed200aad59331cf0f250b375608255a', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 9, 'created': '2020-06-02 12:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ba52754b2dd9f1d64f7e6c6f75022871f8fe280', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 10, 'created': '2020-06-15 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8773dbc90e2048d22b57c441504db62cfa41d34e', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 11, 'created': '2020-06-16 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b925236020da3df190531e223c9f6916f3ed6d53', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 12, 'created': '2020-09-10 23:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b14bc2e2a0474ac65a0ea18b5f20241ddb02a173', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 13, 'created': '2020-09-14 10:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ef44b52e2e139d50cfadea020dd259c12a9722fd', 'message': 'Make stack check convergence aware\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\nStory: #1727142\nTask: 17325\n'}, {'number': 14, 'created': '2020-09-15 08:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30d35d35665efc7dc80d06f4f882b8176fac4545', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/746430\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 15, 'created': '2020-09-27 10:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/008a2a8a4a3d5f53d69183102eebfd9c5d6c1a3d', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/754600\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 16, 'created': '2020-10-30 07:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ef644f05436fc2683d3a880ae0c310d27f14e4d', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 17, 'created': '2020-11-02 08:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f95eb1b2d92c5b2de7f147cb9ea92fbfcf8bcddd', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 18, 'created': '2020-11-14 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/611aff728421a55c9930292fe531331a88e536bf', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 19, 'created': '2020-11-14 20:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c8097ca91ffaaf4803dffc5fede3ed75aae28ea', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 20, 'created': '2020-11-15 17:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4b1f7fe2f966996ccc8e72b2b70b4870f01114f6', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 21, 'created': '2021-03-08 03:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/62fb4c8a9fe1ea7be37b6684ac9c754e77b9cdaa', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 22, 'created': '2021-03-08 06:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ef66cc2197450b65958eb2180d8ab488aaaab04f', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 23, 'created': '2021-03-08 08:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b816797b1fcfe0ed2b25f661f353cb97c40a3412', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 24, 'created': '2021-03-08 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bba446026a2578ac1b5358c43740380d77206568', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 25, 'created': '2021-03-11 03:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d919840f28d5386acc58fccd874f163eef9fc1f', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 26, 'created': '2021-03-11 05:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9f70acb742b42c10df6f523cbc68c18fe089d08a', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}, {'number': 27, 'created': '2021-03-11 07:09:54.000000000', 'files': ['heat/rpc/worker_client.py', 'heat/tests/engine/test_check_resource.py', 'heat/tests/convergence/framework/engine_wrapper.py', 'heat/tests/engine/test_engine_worker.py', 'heat_integrationtests/functional/test_template_resource.py', 'heat/tests/convergence/framework/reality.py', 'releasenotes/notes/upgrade-rpc-version-28958d76f75e3da6.yaml', 'heat/objects/sync_point.py', 'heat/engine/check_resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/worker.py', 'heat/engine/service.py', 'releasenotes/notes/make-check-convergence-aware-77f511a423d4c87e.yaml', 'heat/tests/convergence/scenarios/basic_check.py', 'heat/tests/api/openstack_v1/test_actions.py', 'heat/rpc/client.py', 'heat/tests/convergence/framework/worker_wrapper.py', 'heat/tests/engine/service/test_service_engine.py', 'heat/engine/stack.py', 'heat/engine/sync_point.py', 'heat/db/sqlalchemy/models.py', 'heat/engine/resource.py', 'heat/db/sqlalchemy/migrate_repo/versions/087_add_extra_data_to_syncpoint.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/03c0c5408d394a0cb60a4bda59da7d548226ae00', 'message': 'Make stack check convergence aware\n\nStory: #1727142\nTask: 17325\n\nDepends-On: https://review.opendev.org/#/c/762525\nDepends-On: https://review.opendev.org/#/c/762739\n\nChange-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09\n'}]",48,636916,03c0c5408d394a0cb60a4bda59da7d548226ae00,92,4,27,8833,,,0,"Make stack check convergence aware

Story: #1727142
Task: 17325

Depends-On: https://review.opendev.org/#/c/762525
Depends-On: https://review.opendev.org/#/c/762739

Change-Id: I6883a1c2694fb77f76c7b93ed02f9263bfb6bb09
",git fetch https://review.opendev.org/openstack/heat refs/changes/16/636916/24 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/stack.py', 'heat/engine/resource.py', 'heat/engine/service.py']",3,71f54c2c9cf4502319972e02ca637c7f406bc56f,story/1727142," if stack.convergence: stack.thread_group_mgr = self.thread_group_mgr stack.converge_stack(template=stack.t, action=stack.CHECK) else: stored_event = NotifyEvent() self.thread_group_mgr.start_with_lock( cnxt, stack, self.engine_id, stack.check, notify=stored_event) stored_event.wait()"," stored_event = NotifyEvent() self.thread_group_mgr.start_with_lock(cnxt, stack, self.engine_id, stack.check, notify=stored_event) stored_event.wait()",48,36
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I522951cc7ec6034bb6287dd144a9fc433c0090e0,openstack/tripleo-heat-templates,stable/ussuri,I522951cc7ec6034bb6287dd144a9fc433c0090e0,Make UpgradeLeappDevelSkip per-role,MERGED,2021-06-16 09:43:49.000000000,2021-06-18 05:18:31.000000000,2021-06-18 05:15:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 09:43:49.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7815009e47c1393fe1ea181959802dfa70db53a1', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)\n'}]",0,796563,7815009e47c1393fe1ea181959802dfa70db53a1,8,3,1,6816,,,0,"Make UpgradeLeappDevelSkip per-role

When specific roles are deployed, for example CephStorage,
then the parameters for UpgradeLeappDevelSkip are different
to all other roles.

This change makes UpgradeLeappDevelSkip a per-role parameter.

Included in this is the appropriate tagging for the other
parameters which had the same work done in:

- https://review.opendev.org/779522
- https://review.opendev.org/774537

Release notes are included for all of the above too.

Related-Bug: rhbz#1962365

Change-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0
(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/796563/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml']",5,7815009e47c1393fe1ea181959802dfa70db53a1,,"--- other: - | These parameters can now be set per-role - DnfStreams, UpgradeInitCommand, UpgradeLeappCommandOptions, UpgradeLeappDevelSkip, UpgradeLeappToRemove, UpgradeLeappToInstall ",,27,1
openstack%2Ftripleo-validations~master~I7880955f656cb171395a62689678c263829bee8b,openstack/tripleo-validations,master,I7880955f656cb171395a62689678c263829bee8b,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:13:26.000000000,2021-06-18 05:18:25.000000000,2021-06-18 05:16:01.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-17 17:13:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/56adfba6d0a5aa52124846a79f28bd58462b2b21', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I7880955f656cb171395a62689678c263829bee8b\n'}]",0,796922,56adfba6d0a5aa52124846a79f28bd58462b2b21,8,8,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I7880955f656cb171395a62689678c263829bee8b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/796922/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,56adfba6d0a5aa52124846a79f28bd58462b2b21,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Ftripleo-ansible~master~Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d,openstack/tripleo-ansible,master,Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d,Change default permission for cephx keyring files,MERGED,2021-06-08 17:59:30.000000000,2021-06-18 05:16:29.000000000,2021-06-18 05:16:29.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-08 17:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a46b1588c72a05eedaa3761746b40a482d536eb', 'message': 'Change default permission for cephx keyring files\n\nWhen we create cephx keys on the undercloud and\ncopy them to overcloud ceph clients, ensure that\nthey have permission mode 600.\n\nChange-Id: Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d\n'}, {'number': 2, 'created': '2021-06-17 13:19:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/tasks/create_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_client/tasks/sync.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5c08266a7b8e8ee4c3f7da445114428976dea9c', 'message': 'Change default permission for cephx keyring files\n\nWhen we create cephx keys on the undercloud and\ncopy them to overcloud ceph clients, ensure that\nthey have permission mode 600.\n\nChange-Id: Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d\n'}]",2,795390,d5c08266a7b8e8ee4c3f7da445114428976dea9c,31,8,2,18002,,,0,"Change default permission for cephx keyring files

When we create cephx keys on the undercloud and
copy them to overcloud ceph clients, ensure that
they have permission mode 600.

Change-Id: Ifd9f6d4f6807d865d9b0e5e7a51018962ed2d85d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/795390/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_client/tasks/create_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_client/tasks/sync.yml']",2,9a46b1588c72a05eedaa3761746b40a482d536eb,chmod_cephx," mode: ""{{ '600' if item[0] | regex_search('.*.keyring$') else '644' }}""",,2,1
openstack%2Ftripleo-ansible~master~I3711d0ef8cf8daecde2f9593bf3b8214ddc647ca,openstack/tripleo-ansible,master,I3711d0ef8cf8daecde2f9593bf3b8214ddc647ca,Add minor update job to tripleo-ansible zuul layout,MERGED,2021-06-17 09:12:08.000000000,2021-06-18 05:16:17.000000000,2021-06-18 05:16:17.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 09:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c14ddaea504514dad8eeee3d726c0b844c6d3660', 'message': 'Add minor update job to tripleo-ansible zuul layout\n\nThis wires up the master upgrades template so we will gate on\nthe minor update job in tripleo-ansible to prevent issues like\nrelated-bug.\n\nRelated-Bug: 1932261\nChange-Id: I3711d0ef8cf8daecde2f9593bf3b8214ddc647ca\n'}, {'number': 2, 'created': '2021-06-17 14:06:48.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8570786776612deac68e332b51331fac3a755e1', 'message': 'Add minor update job to tripleo-ansible zuul layout\n\nThis wires up the master upgrades template so we will gate on\nthe minor update job in tripleo-ansible to prevent issues like\nrelated-bug.\n\nRelated-Bug: 1932261\nChange-Id: I3711d0ef8cf8daecde2f9593bf3b8214ddc647ca\n'}]",0,796805,e8570786776612deac68e332b51331fac3a755e1,13,6,2,8449,,,0,"Add minor update job to tripleo-ansible zuul layout

This wires up the master upgrades template so we will gate on
the minor update job in tripleo-ansible to prevent issues like
related-bug.

Related-Bug: 1932261
Change-Id: I3711d0ef8cf8daecde2f9593bf3b8214ddc647ca
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/796805/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c14ddaea504514dad8eeee3d726c0b844c6d3660,, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Fvalidations-common~master~Icad8c8c48f7b34002a60aecc6b82e6ac56fd8a70,openstack/validations-common,master,Icad8c8c48f7b34002a60aecc6b82e6ac56fd8a70,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:14:48.000000000,2021-06-18 05:16:13.000000000,2021-06-18 05:16:13.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-17 17:14:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/956de6764f9619e96090dbc7255f743f406f4970', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: Icad8c8c48f7b34002a60aecc6b82e6ac56fd8a70\n'}]",0,796923,956de6764f9619e96090dbc7255f743f406f4970,7,8,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: Icad8c8c48f7b34002a60aecc6b82e6ac56fd8a70
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/23/796923/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,956de6764f9619e96090dbc7255f743f406f4970,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Ftripleo-upgrade~master~I5468d45cefea71a8cf618a6147bc7c6ca59742c3,openstack/tripleo-upgrade,master,I5468d45cefea71a8cf618a6147bc7c6ca59742c3,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:12:48.000000000,2021-06-18 05:15:44.000000000,2021-06-18 05:15:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 17:12:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1f6fcc8dd49af3154e80246adac228ee5a6965a6', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I5468d45cefea71a8cf618a6147bc7c6ca59742c3\n'}]",0,796921,1f6fcc8dd49af3154e80246adac228ee5a6965a6,6,2,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I5468d45cefea71a8cf618a6147bc7c6ca59742c3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/796921/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f6fcc8dd49af3154e80246adac228ee5a6965a6,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Ftripleo-ansible~master~I75d7bebe855e62125e701fea89cf1527e3456535,openstack/tripleo-ansible,master,I75d7bebe855e62125e701fea89cf1527e3456535,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:10:56.000000000,2021-06-18 04:45:46.000000000,2021-06-18 04:41:41.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-17 17:10:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0e000fa769fb6b84951ab8db56e5adc998c4f0a', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I75d7bebe855e62125e701fea89cf1527e3456535\n'}]",0,796918,c0e000fa769fb6b84951ab8db56e5adc998c4f0a,8,6,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I75d7bebe855e62125e701fea89cf1527e3456535
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/796918/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c0e000fa769fb6b84951ab8db56e5adc998c4f0a,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,stable/wallaby,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-06-10 09:08:41.000000000,2021-06-18 04:45:16.000000000,2021-06-18 04:42:18.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 09:08:41.000000000', 'files': ['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_kernel_version.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/99acc1cb493a7c6a7c70b776d9cc5a6aa5944256', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n'}]",0,795749,99acc1cb493a7c6a7c70b776d9cc5a6aa5944256,11,7,1,11491,,,0,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/49/795749/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_kernel_version.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst']",9,99acc1cb493a7c6a7c70b776d9cc5a6aa5944256,,"have some metadata. Here is what a minimal validation would look like: .. code-block:: yaml`pre-deployment` and `hardware` groups: .. code-block:: yamldirectories, you will have to export some Ansible variables first: .. code-block:: consoleinventory file. It should look something like this: .. code-block:: INIHere is a sample module that will always fail .. code-block:: pythonso: .. code-block:: yaml.. Warning:: Each custom module must be accompanied by the most complete unit tests possible. Check which nodes are available with: .. code-block:: console.. code-block:: consolein there: .. code-block:: yamlthe same indentation as ``hosts`` and ``vars``: .. code-block:: yamlrequired: .. code-block:: consoleNow let's add an Ansible task to test that it's all set up properly: .. code-block:: yaml $ cat <<EOF >> roles/undercloud-ram/tasks/main.ymlWhen running it, it should output something like this: .. code-block:: consoleVALIDATIONS_BASEDIR with the value of base path of your git repo: .. code-block:: console $ cd /path/to/git/repo $ export VALIDATIONS_BASEDIR=$(pwd)So, let's replace the hello world task with a real one: .. code-block:: yamlRunning this, we see: .. code-block:: consolethe ``vars`` section: .. code-block:: yamlThen, update ``failed_when`` like this: .. code-block:: yamlAnd ``fail`` like so: .. code-block:: yaml.. code-block:: console .. code-block:: console - ^roles/${NEWROLENAME}/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml - ^molecule-requirements.txtDeveloping your own molecule test(s) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process will create a default Molecule scenario from the skeleton. By using Molecule, you will be able to test it locally and of course it will be executed during the CI checks. In your role directory, you will notice a `molecule` folder which contains a single `Scenario` called `default`. Scenarios are the starting point for a lot of powerful functionality that Molecule offers. A scenario is a kind of a test suite for your newly created role. The Scenario layout +++++++++++++++++++ Within the `molecule/default` folder, you will find those files: .. code-block:: console $ ls molecule.yml converge.yml prepare.yml verify.yml * ``molecule.yml`` is the central configuration entrypoint for `Molecule`. With this file, you can configure each tool that `Molecule` will employ when testing your role. .. note:: `Tripleo-validations` uses a global configuration file for `Molecule`. This file is located at the repository level (``tripleo-validations/.config/molecule/.config.yml``). and defines all the default values for all the ``molecule.yml``. By default, the role addition process will produce an empty ``molecule.yml`` inheriting this ``config.yml`` file. Any key defined in the role ``molecule.yml`` file will override values from the ``config.yml`` file. But, if you want to override the default values set in the ``config.yml`` file, you will have to redefine them completely in your ``molecule.yml`` file. `Molecule` won't merge both configuration files and that's why you will have to redefine them completely. * ``prepare.yml`` is the playbook file that contains everything you need to include before your test. It could include packages installation, file creation, whatever your need on the instance created by the driver. * ``converge.yml`` is the playbook file that contains the call for you role. `Molecule` will invoke this playbook with ``ansible-playbook`` and run it against and instance created by the driver. * ``verify.yml`` is the Ansible file used for testing as Ansible is the default ``Verifier``. This allows you to write specific tests against the state of the container after your role has finished executing. Inspecting the Global Molecule Configuration file +++++++++++++++++++++++++++++++++++++++++++++++++ As mentioned above, ``tripleo-validations`` uses a global configuration for Molecule. .. literalinclude:: ../../../.config/molecule/config.yml :language: yaml * The ``Driver`` provider: ``podman`` is the default. Molecule will use the driver to delegate the task of creating instances. * The ``Platforms`` definitions: Molecule relies on this to know which instances to create, name and to which group each instance belongs. ``Tripleo-validations`` uses ``Universal Base Images (UBI8)`` which are container images based on a foundation of Red Hat Enterprise Linux software. See `Using Red Hat Universal Base Images`_ for details on using Red Hat UBI container images. * The ``Provisioner``: Molecule only provides an Ansible provisioner. Ansible manages the life cycle of the instance based on this configuration. * The ``Scenario`` definition: Molecule relies on this configuration to control the scenario sequence order. * The ``Verifier`` framework. Molecule uses Ansible by default to provide a way to write specific stat checking tests (such as deployment smoke tests) on the target instance. .. _Using Red Hat Universal Base Images: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/building_running_and_managing_containers/index/#using_red_hat_universal_base_images_standard_minimal_and_runtimes Local testing of new roles can be done in two ways: * with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/molecule Running molecule tests with the script run-local-test ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ what Zuul does on a *CentOS 8* machine.","And a new entry in the sphinx documentation index:: $ [vim|emacs] doc/source/index.rst ... Existing validations: .. toctree:: :maxdepth: 2 validations-no-op-details validations-prep-details validations-pre-introspection-details validations-pre-deployment-details validations-post-deployment-details ... have some metadata. Here is what a minimal validation would look like::`pre-deployment` and `hardware` groups::directories, you will have to export some Ansible variables first::inventory file. It should look something like this::Here is a sample module that will always fail::so::Check which nodes are available with::::in there::the same indentation as ``hosts`` and ``vars``::required.::Now let's add an Ansible task to test that it's all set up properly:: $ cd roles $ cat <<EOF >> undercloud-ram/tasks/main.ymlWhen running it, it should output something like this::VALIDATIONS_BASEDIR with the value of base path of your git repo.:: cd /path/to/git/repo export VALIDATIONS_BASEDIR=$(pwd) So, let's replace the hello world task with a real one::Running this, we see::the ``vars`` section::Then, update ``failed_when`` like this::And ``fail`` like so:: - ^roles/${NEWROLENAME}/.*Local testing of new roles can be done in any number of ways, however, the easiest way is via the script `run-local-test` on a *CentOS 8* machaine.what Zuul does.",263,72
openstack%2Fpyeclib~master~Iab0254a68ed32decc24ce6e49e1c92ba074d2c61,openstack/pyeclib,master,Iab0254a68ed32decc24ce6e49e1c92ba074d2c61,Moving to OFTC,ABANDONED,2021-06-01 15:39:45.000000000,2021-06-18 04:44:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-01 15:39:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/2b2fc8ea27d12dd3412cc86ab12324a0b39f4cac', 'message': 'Moving to OFTC\n\nChange-Id: Iab0254a68ed32decc24ce6e49e1c92ba074d2c61\n'}]",0,793993,2b2fc8ea27d12dd3412cc86ab12324a0b39f4cac,3,1,1,30615,,,0,"Moving to OFTC

Change-Id: Iab0254a68ed32decc24ce6e49e1c92ba074d2c61
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/93/793993/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2b2fc8ea27d12dd3412cc86ab12324a0b39f4cac,,"For questions or any other help, come ask in #openstack-swift on OFTC.","For questions or any other help, come ask in #openstack-swift on freenode.",1,1
openstack%2Ftripleo-ansible~master~I680b38643151a2a16205e15edd3ea8703214a2d8,openstack/tripleo-ansible,master,I680b38643151a2a16205e15edd3ea8703214a2d8,"Revert ""Container manage module""",MERGED,2021-06-17 13:28:41.000000000,2021-06-18 04:44:31.000000000,2021-06-18 04:41:21.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-17 13:28:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a24ca732529b282315da114273f6f79001d0a44', 'message': 'Revert ""Container manage module""\n\nThis reverts commit 22bbe1311094be600b9fed426f1ee0a983b8e111.\n\nThis appears to have broken updates. Let\'s revert for now.\n\nChange-Id: I680b38643151a2a16205e15edd3ea8703214a2d8\nRelated-Bug: #1932261\n'}]",0,796857,6a24ca732529b282315da114273f6f79001d0a44,9,7,1,14985,,,0,"Revert ""Container manage module""

This reverts commit 22bbe1311094be600b9fed426f1ee0a983b8e111.

This appears to have broken updates. Let's revert for now.

Change-Id: I680b38643151a2a16205e15edd3ea8703214a2d8
Related-Bug: #1932261
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/796857/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py']",4,6a24ca732529b282315da114273f6f79001d0a44,config-next," 'security_opt': 'label=disable', cdata['net'] = 'host' cdata['net'] = 'none'"," 'security_opt': ['label=disable'], # container-puppet shouldn't detach 'detach': False, cdata['net'] = ['host'] cdata['net'] = ['none']",11,380
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I522951cc7ec6034bb6287dd144a9fc433c0090e0,openstack/tripleo-heat-templates,stable/victoria,I522951cc7ec6034bb6287dd144a9fc433c0090e0,Make UpgradeLeappDevelSkip per-role,MERGED,2021-06-16 09:43:11.000000000,2021-06-18 04:44:29.000000000,2021-06-18 04:42:42.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 09:43:11.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8caac41903e4937d23ab530f3ab3834b2070cd35', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)\n'}]",0,796562,8caac41903e4937d23ab530f3ab3834b2070cd35,8,3,1,6816,,,0,"Make UpgradeLeappDevelSkip per-role

When specific roles are deployed, for example CephStorage,
then the parameters for UpgradeLeappDevelSkip are different
to all other roles.

This change makes UpgradeLeappDevelSkip a per-role parameter.

Included in this is the appropriate tagging for the other
parameters which had the same work done in:

- https://review.opendev.org/779522
- https://review.opendev.org/774537

Release notes are included for all of the above too.

Related-Bug: rhbz#1962365

Change-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0
(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/796562/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml']",5,8caac41903e4937d23ab530f3ab3834b2070cd35,,"--- other: - | These parameters can now be set per-role - DnfStreams, UpgradeInitCommand, UpgradeLeappCommandOptions, UpgradeLeappDevelSkip, UpgradeLeappToRemove, UpgradeLeappToInstall ",,27,1
openstack%2Fpython-tripleoclient~master~I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e,openstack/python-tripleoclient,master,I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e,Use upper constraints with  install command,MERGED,2021-06-17 10:22:33.000000000,2021-06-18 04:44:27.000000000,2021-06-18 04:41:46.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-17 10:22:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8df2e97d221621dcf193aeffca58821440363e22', 'message': 'Use upper constraints with  install command\n\nThis uses relevant upper constraints with install_command.\n\nChange-Id: I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e\nCloses-Bug: #1931986\n'}]",0,796816,8df2e97d221621dcf193aeffca58821440363e22,8,3,1,8833,,,0,"Use upper constraints with  install command

This uses relevant upper constraints with install_command.

Change-Id: I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e
Closes-Bug: #1931986
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/796816/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8df2e97d221621dcf193aeffca58821440363e22,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install {opts} {packages},1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I522951cc7ec6034bb6287dd144a9fc433c0090e0,openstack/tripleo-heat-templates,stable/wallaby,I522951cc7ec6034bb6287dd144a9fc433c0090e0,Make UpgradeLeappDevelSkip per-role,MERGED,2021-06-16 09:42:43.000000000,2021-06-18 04:44:23.000000000,2021-06-18 04:42:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 09:42:43.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61575a7d7b289f2cf6971a966b4889e14a2da976', 'message': 'Make UpgradeLeappDevelSkip per-role\n\nWhen specific roles are deployed, for example CephStorage,\nthen the parameters for UpgradeLeappDevelSkip are different\nto all other roles.\n\nThis change makes UpgradeLeappDevelSkip a per-role parameter.\n\nIncluded in this is the appropriate tagging for the other\nparameters which had the same work done in:\n\n- https://review.opendev.org/779522\n- https://review.opendev.org/774537\n\nRelease notes are included for all of the above too.\n\nRelated-Bug: rhbz#1962365\n\nChange-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0\n(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)\n'}]",0,796561,61575a7d7b289f2cf6971a966b4889e14a2da976,8,3,1,6816,,,0,"Make UpgradeLeappDevelSkip per-role

When specific roles are deployed, for example CephStorage,
then the parameters for UpgradeLeappDevelSkip are different
to all other roles.

This change makes UpgradeLeappDevelSkip a per-role parameter.

Included in this is the appropriate tagging for the other
parameters which had the same work done in:

- https://review.opendev.org/779522
- https://review.opendev.org/774537

Release notes are included for all of the above too.

Related-Bug: rhbz#1962365

Change-Id: I522951cc7ec6034bb6287dd144a9fc433c0090e0
(cherry picked from commit dcddeb3b914e216622e5b091ab78d97b7133b30e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/796561/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'puppet/role.role.j2.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployed-server/deployed-server.yaml', 'releasenotes/notes/upgradeleapp-per-role-ad2e84e317ec1291.yaml']",5,61575a7d7b289f2cf6971a966b4889e14a2da976,,"--- other: - | These parameters can now be set per-role - DnfStreams, UpgradeInitCommand, UpgradeLeappCommandOptions, UpgradeLeappDevelSkip, UpgradeLeappToRemove, UpgradeLeappToInstall ",,27,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,stable/wallaby,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2021-06-10 09:08:41.000000000,2021-06-18 04:44:20.000000000,2021-06-18 04:41:50.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 09:08:41.000000000', 'files': ['doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98cdbd03db7048d1b8ed82205f93976c1862e0a3', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n'}]",0,795748,98cdbd03db7048d1b8ed82205f93976c1862e0a3,10,6,1,11491,,,0,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/48/795748/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst']",9,98cdbd03db7048d1b8ed82205f93976c1862e0a3,,Developer's Guide =================meta-data to provide information to the validation framework.----------------------------------------------------- name: tripleo-validations-centos-8-molecule-${NEWROLENAME} parent: tripleo-validations-centos-8-base - tripleo-validations-centos-8-molecule-${NEWROLENAME} - tripleo-validations-centos-8-molecule-${NEWROLENAME}--------------------------,"======================== Team and repository tags ======================== .. image:: https://governance.openstack.org/tc/badges/tripleo-validations.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. Change things from this point on TripleO Validations =================== A collection of Ansible roles and playbooks to detect and report potential issues during TripleO deployments. The validations will help detect issues early in the deployment process and prevent field engineers from wasting time on misconfiguration or hardware issues in their environments. All validations are written in Ansible and are written in a way that's consumable by the `Mistral validation framework <https://review.opendev.org/#/c/255792/>`_ or by Ansible directly. They are available independently from the UI or the command line client. * Free software: Apache license * Documentation: https://docs.openstack.org/tripleo-validations/latest/ * Release notes: https://docs.openstack.org/releasenotes/tripleo-validations/ * Source: https://opendev.org/openstack/tripleo-validations * Bugs: https://storyboard.openstack.org/#!/project/openstack/tripleo-validations Prerequisites ------------- The TripleO validations require Ansible 2.7 or above:: $ sudo pip install 'ansible>=2.7' Existing validations -------------------- Here are all the validations that currently exist. They're grouped by the deployment stage they're should be run on. Validations can belong to multiple groups. .. include:: validations-groups.rst To add a new group, you will need to edit the ``groups.yaml`` file located in the root of the TripleO Validations directory:: $ [vim|emacs] groups.yaml ... pre-update: - description: >- Validations which try to validate your OpenStack deployment before you update it. ...meta-data to provide information to the Mistral validation framework.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ name: tripleo-validations-centos-7-molecule-${NEWROLENAME} parent: tripleo-validations-centos-7-base - tripleo-validations-centos-7-molecule-${NEWROLENAME} - tripleo-validations-centos-7-molecule-${NEWROLENAME}~~~~~~~~~~~~~~~~~~~~~~~~~~",152,105
openstack%2Ftripleo-validations~stable%2Fwallaby~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,stable/wallaby,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-06-07 12:48:47.000000000,2021-06-18 04:42:14.000000000,2021-06-18 04:42:14.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-07 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ef7886b7078b0dec4ddb84a33e48e0b4ecebe32', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n'}, {'number': 2, 'created': '2021-06-10 07:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/207f1ddaa187428c452e69c9281eea318dc66073', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n'}, {'number': 3, 'created': '2021-06-10 09:08:41.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/19bb19ea3c74feec3ceb6e6c31b14ca5855dae16', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n'}]",1,795098,19bb19ea3c74feec3ceb6e6c31b14ca5855dae16,13,8,3,11491,,,0,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/795098/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'doc/source/readme.rst', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml']",21,1ef7886b7078b0dec4ddb84a33e48e0b4ecebe32,,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Verify hosts: all gather_facts: false vars: new_role_path: ""/tmp/roles/tripleo_skeleton_test"" new_zmol_path: ""/tmp/zuul.d/molecule.yaml"" new_play_path: ""/tmp/playbooks/tripleo-skeleton-test.yaml"" new_role_doc: ""/tmp/doc/source/roles/role-tripleo_skeleton_test.rst"" tasks: - name: Check new role directory is present stat: path: ""{{ new_role_path }}"" register: roles_name_dir - assert: that: - roles_name_dir.stat.exists - roles_name_dir.stat.isdir fail_msg: | {{ new_role_path }} role directory doesn't exist. success_msg: | {{ new_role_path }} role directory does exist. - name: Read zuul molecule file slurp: src: ""{{ new_zmol_path }}"" register: molecule_yaml - name: Print returned information debug: msg: ""{{ molecule_yaml['content'] | b64decode }}"" - name: Check zuul molecule file content (gate/check definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*- tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*name: tripleo-validations-molecule-tripleo_undercloud_conf' line: ' - tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_def failed_when: (zuul_def is changed) or (zuul_def is failed) - name: Check zuul molecule file content (job definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*name: tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*parent: tripleo-validations-centos-8-base$' line: ' name: tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_job_def failed_when: (zuul_job_def is changed) or (zuul_job_def is failed) - name: Check new validation playbook is present stat: path: ""{{ new_play_path }}"" register: play_name_path - assert: that: - play_name_path.stat.exists - play_name_path.stat.isreg fail_msg: | {{ new_play_path }} playbook doesn't exist. success_msg: | {{ new_play_path }} playbook directory does exist. - name: Read new playbook file slurp: src: ""{{ new_play_path }}"" register: playbook_yaml - name: Check playbook content for new role lineinfile: path: ""{{ new_play_path }}"" regexp: '.*- tripleo_skeleton: ' insertafter: '^.*roles:$' line: ' - tripleo_skeleton_test' state: present check_mode: true register: include_role failed_when: (include_role is changed) or (include_role is failed) - name: Print returned information debug: msg: ""{{ playbook_yaml['content'] | b64decode }}"" - name: Check new role doc is present stat: path: ""{{ new_role_doc }}"" register: role_doc_file - assert: that: - role_doc_file.stat.exists - role_doc_file.stat.isreg fail_msg: | {{ new_role_doc }} playbook doesn't exist. success_msg: | {{ new_role_doc }} playbook directory does exist. - name: Read new role documentation file slurp: src: ""{{ new_role_doc }}"" register: doc_file - name: Print returned information debug: msg: ""{{ doc_file['content'] | b64decode }}"" - name: Check role documentation content lineinfile: path: ""{{ new_role_doc }}"" regexp: '.*:role: ' insertafter: '^\.\. ansibleautoplugin::$' line: ' :role: /tmp/roles/tripleo_skeleton_test' state: present check_mode: true register: doc failed_when: (doc is changed) or (doc is failed) ",,646,171
openstack%2Ftripleo-validations~stable%2Fwallaby~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,stable/wallaby,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-06-10 07:55:27.000000000,2021-06-18 04:41:59.000000000,2021-06-18 04:41:59.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 07:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3401c4c1a2b7976b0b2bf62acc1e7bb1ff0caad5', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n'}, {'number': 2, 'created': '2021-06-10 09:08:41.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f3cba823d7424277402720946c76f2f78730e046', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n'}]",0,795622,f3cba823d7424277402720946c76f2f78730e046,10,8,2,11491,,,0,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/795622/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",107,3401c4c1a2b7976b0b2bf62acc1e7bb1ff0caad5,VALIDATION_DEVELOPMENT_WORKFLOW-stable/wallaby,, driver: name: podman,4,216
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e,openstack/tripleo-heat-templates,stable/train,Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e,Create post-deploy.conf on update/upgrade for octavia,MERGED,2021-05-03 18:51:36.000000000,2021-06-18 04:41:11.000000000,2021-06-18 04:41:11.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 18:51:36.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b01176450a199d37bc45c944b167c94e6beaada', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nNote: this was originally merged as:\n    https://review.opendev.org/#/c/750986/\nbut the OctaviaBase references in templates was incorrect so the\noriginal patch was reverted through:\n    https://review.opendev.org/#/c/763561/\nAs the original patch had not been backported, it makes more sense to\nrevert and get a correct fix in place and backport that instead of\nrequiring backporting a series or backporting a squashed commit.\n\nConflicts:\n  deployment/octavia/octavia-api-container-puppet.yaml\n  deployment/octavia/octavia-housekeeping-container-puppet.yaml\n\nChange-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e\nRelated-Bug: #1863595\n(cherry picked from commit 6c11a949fc0b940ebc3815aeb86156bd60df5851)\n'}]",0,789406,2b01176450a199d37bc45c944b167c94e6beaada,21,6,1,6681,,,0,"Create post-deploy.conf on update/upgrade for octavia

Containers are restarted with new command lines during upgrade/updates
before the external_deploy_task are run that create a configuration file
that is used on the command line. This results in octavia services
failing to start.

Note: this was originally merged as:
    https://review.opendev.org/#/c/750986/
but the OctaviaBase references in templates was incorrect so the
original patch was reverted through:
    https://review.opendev.org/#/c/763561/
As the original patch had not been backported, it makes more sense to
revert and get a correct fix in place and backport that instead of
requiring backporting a series or backporting a squashed commit.

Conflicts:
  deployment/octavia/octavia-api-container-puppet.yaml
  deployment/octavia/octavia-housekeeping-container-puppet.yaml

Change-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e
Related-Bug: #1863595
(cherry picked from commit 6c11a949fc0b940ebc3815aeb86156bd60df5851)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/789406/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",5,2b01176450a199d37bc45c944b167c94e6beaada,train," update_tasks: {get_attr: [OctaviaBase, role_data, update_tasks]} upgrade_tasks: {get_attr: [OctaviaBase, role_data, upgrade_tasks]}", upgrade_tasks: [],77,42
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id7308f028f33716be5e3df6699c3f2c12e33e344,openstack/tripleo-heat-templates,stable/ussuri,Id7308f028f33716be5e3df6699c3f2c12e33e344,HA: inject public certificates without blocking container,MERGED,2021-05-07 11:34:34.000000000,2021-06-18 04:41:01.000000000,2021-06-18 04:41:01.000000000,"[{'_account_id': 10459}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-07 11:34:34.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f43f11f7dcbaa077b1b1934473c9143f0e89f90d', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\n(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)\n(squashed with Ic6e4264c5ad46bd2589cc907c365af2d42fde63d)\n(removed a part that should stay in puppet-tripleo before wallaby)\n\nCloses-Bug: #1917868\n\nChange-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344\n(cherry picked from commit 63001263ad011d5a1dcca42fc7c79599fe6c78c8)\n'}]",0,790174,f43f11f7dcbaa077b1b1934473c9143f0e89f90d,36,4,1,20778,,,0,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)
(squashed with Ic6e4264c5ad46bd2589cc907c365af2d42fde63d)
(removed a part that should stay in puppet-tripleo before wallaby)

Closes-Bug: #1917868

Change-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344
(cherry picked from commit 63001263ad011d5a1dcca42fc7c79599fe6c78c8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/790174/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,f43f11f7dcbaa077b1b1934473c9143f0e89f90d,bug/1917868-stable/victoria-stable/ussuri," if {{ container_cli }} ps -f ""id={{ item }}"" --format ""{{ '{{' }}.Names{{ '}}' }}"" | grep -q ""^haproxy-bundle""; then tar -c {{ cert_path }} | {{container_cli}} exec -i {{ item }} tar -C / -xv else {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }} fi", {{ container_cli }} cp {{ cert_path }} {{ item }}:{{ cert_path }},5,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I18bea0f88926f47fe2945bd8c127d6a372efa52f,openstack/tripleo-upgrade,stable/ussuri,I18bea0f88926f47fe2945bd8c127d6a372efa52f,Add validations_result when running validations.,MERGED,2021-06-11 12:37:06.000000000,2021-06-18 04:40:57.000000000,2021-06-18 04:40:57.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-11 12:37:06.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8fc9978f3f50a88c5bd30f6a3f4a7b862f401dc6', 'message': 'Add validations_result when running validations.\n\nWhen merging [0], it was missed part of the solution submitted in [1]\nremoving the register: validations_result. As a consequence, if the\nvalidations command fails then Ansible will show an error saying that\nvalidations_result variable does not exist. This patch adds back\nthe parameter.\nAlso, it corrects the case when the validations_filtered parameter\ndoes not contain any validation. In that case, the validation group\nwill be skipped.\n\n[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b\n\nChange-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f\n(cherry picked from commit efdf4889830e7cc39c92bc5b14e26566a1408bb2)\n'}]",0,795999,8fc9978f3f50a88c5bd30f6a3f4a7b862f401dc6,15,4,1,31245,,,0,"Add validations_result when running validations.

When merging [0], it was missed part of the solution submitted in [1]
removing the register: validations_result. As a consequence, if the
validations command fails then Ansible will show an error saying that
validations_result variable does not exist. This patch adds back
the parameter.
Also, it corrects the case when the validations_filtered parameter
does not contain any validation. In that case, the validation group
will be skipped.

[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b

Change-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f
(cherry picked from commit efdf4889830e7cc39c92bc5b14e26566a1408bb2)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/795999/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,8fc9978f3f50a88c5bd30f6a3f4a7b862f401dc6,," register: validations_result when: - ""validations_filtered|length > 0"" - name: Validation group not executed debug: msg: ""Validation group {{ validation_group }} is skipped."" when: - ""validations_filtered|length == 0""",,8,0
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ibe63195d2c7259255af0026986e4dad1e1e6f26a,openstack/tripleo-upgrade,stable/victoria,Ibe63195d2c7259255af0026986e4dad1e1e6f26a,Remove xinetd when leapp upgrading the Undercloud.,MERGED,2021-06-17 11:10:53.000000000,2021-06-18 02:26:34.000000000,2021-06-18 02:26:34.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 11:10:53.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890', 'message': 'Remove xinetd when leapp upgrading the Undercloud.\n\nxinetd was left aside from the list of packages to remove before\nupgrading the Undercloud and this caused issues with swift_rsync.\n\nChange-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a\n(cherry picked from commit 9e0cac7a643c4b1764033b08f8c4d7a72ea8be37)\n'}]",0,796822,ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890,6,2,1,26343,,,0,"Remove xinetd when leapp upgrading the Undercloud.

xinetd was left aside from the list of packages to remove before
upgrading the Undercloud and this caused issues with swift_rsync.

Change-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a
(cherry picked from commit 9e0cac7a643c4b1764033b08f8c4d7a72ea8be37)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/22/796822/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890,, xinetd,,1,0
openstack%2Fopenstacksdk~feature%2Fr1~I4802c37276cc5e9b5ec8930d69205a1e11ea87a0,openstack/openstacksdk,feature/r1,I4802c37276cc5e9b5ec8930d69205a1e11ea87a0,Temporarily disable nodepool job,MERGED,2021-06-11 14:51:20.000000000,2021-06-18 02:03:28.000000000,2021-06-18 02:01:35.000000000,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-11 14:51:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ccc6478ccbb9a0f6e835663af2ef358ee4e981b9', 'message': 'Temporarily disable nodepool job\n\nnodepool job is blocking us for quite some time with timeouts. Let us\ndisable it for now and rather fix issues later (on a separate branch\nanyway) rather then continue waiting.\n\nChange-Id: I4802c37276cc5e9b5ec8930d69205a1e11ea87a0\n'}]",0,796027,ccc6478ccbb9a0f6e835663af2ef358ee4e981b9,18,5,1,27900,,,0,"Temporarily disable nodepool job

nodepool job is blocking us for quite some time with timeouts. Let us
disable it for now and rather fix issues later (on a separate branch
anyway) rather then continue waiting.

Change-Id: I4802c37276cc5e9b5ec8930d69205a1e11ea87a0
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/796027/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ccc6478ccbb9a0f6e835663af2ef358ee4e981b9,, # - dib-nodepool-functional-openstack-centos-8-stream-src # - dib-nodepool-functional-openstack-centos-8-stream-src, - dib-nodepool-functional-openstack-centos-8-stream-src - dib-nodepool-functional-openstack-centos-8-stream-src,2,2
openstack%2Fproject-config~master~I72fc732771f6c4dc6c35a76afba760c3c553c07e,openstack/project-config,master,I72fc732771f6c4dc6c35a76afba760c3c553c07e,Add gmann to IRC accessbot,MERGED,2021-06-11 10:49:24.000000000,2021-06-18 01:37:15.000000000,2021-06-17 23:30:59.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 10:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c075671e8cdef622c7360e4c890601114ae2526b', 'message': 'Add gmann to IRC accessbot\n\nI might be able to help with few things on IRC,\nespecially ono OpenStack channels for project\nadditions/retirements work on IRC, topic change etc.\n\nChange-Id: I72fc732771f6c4dc6c35a76afba760c3c553c07e\n'}, {'number': 2, 'created': '2021-06-11 13:07:45.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6146aee7c6ed53bcdf2d3e44b83dc4bc69ea45d5', 'message': 'Add gmann to IRC accessbot\n\nI might be able to help with few things on IRC,\nespecially ono OpenStack channels for project\nadditions/retirements work on IRC, topic change etc.\n\nChange-Id: I72fc732771f6c4dc6c35a76afba760c3c553c07e\n'}]",2,795986,6146aee7c6ed53bcdf2d3e44b83dc4bc69ea45d5,12,3,2,8556,,,0,"Add gmann to IRC accessbot

I might be able to help with few things on IRC,
especially ono OpenStack channels for project
additions/retirements work on IRC, topic change etc.

Change-Id: I72fc732771f6c4dc6c35a76afba760c3c553c07e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/795986/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,c075671e8cdef622c7360e4c890601114ae2526b,, - gmann,,1,0
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I892279193c1e29325668803b10dd5c0f7b901efa,openstack/puppet-openstack-integration,stable/ussuri,I892279193c1e29325668803b10dd5c0f7b901efa,Victoria and before: Update TripleO job definitions,MERGED,2021-06-13 03:24:25.000000000,2021-06-18 01:23:27.000000000,2021-06-18 01:23:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 03:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/637e2b1d4661a2f45e778c1b9d9c644af01a28aa', 'message': 'Victoria and before: Update TripleO job definitions\n\nThis change backports the series of patches to update tripleo job\ndefinitions so that it becomes consistent with the job definitions\nin stable/wallaby and later.\n\ne538c69a416ea50a544762c93c38500d241438bc\nRemove all TripleO jobs in CentOS7\n\n1914b7ed1e499d13af4952992d0bf1728ca4db8e\nSkip unnecessary tests for release cut off\nNOTE: only change for tripleo jobs are backported.\n\na12e3c0e063bfd1debc489ca0fa5c17c2d556cfd\nUse low-memory-usage.yaml in tripleo jobs\n\n1176b0bfd4dac40a6bb53834d9d8a2c0735ccf62\nAdd content provider jobs for tripleo based jobs\n\ncabac611610011a70307f8e96e49fc3bd248b823\nSkip content provider job for irrelevant files\n\nChange-Id: I892279193c1e29325668803b10dd5c0f7b901efa\n(cherry picked from commit 9dd0ab57e6336e74c6ff96589ba884671c4f428e)\n'}, {'number': 2, 'created': '2021-06-13 03:26:04.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/12d24fb978070e540d0dcf9e3ea2dac2e6aa079d', 'message': 'Victoria and before: Update TripleO job definitions\n\nThis change backports the series of patches to update tripleo job\ndefinitions so that it becomes consistent with the job definitions\nin stable/wallaby and later.\n\ne538c69a416ea50a544762c93c38500d241438bc\nRemove all TripleO jobs in CentOS7\n\n1914b7ed1e499d13af4952992d0bf1728ca4db8e\nSkip unnecessary tests for release cut off\nNOTE: only change for tripleo jobs are backported.\n\na12e3c0e063bfd1debc489ca0fa5c17c2d556cfd\nUse low-memory-usage.yaml in tripleo jobs\n\n1176b0bfd4dac40a6bb53834d9d8a2c0735ccf62\nAdd content provider jobs for tripleo based jobs\n\ncabac611610011a70307f8e96e49fc3bd248b823\nSkip content provider job for irrelevant files\n\nChange-Id: I892279193c1e29325668803b10dd5c0f7b901efa\n(cherry picked from commit 9dd0ab57e6336e74c6ff96589ba884671c4f428e)\n'}]",0,796159,12d24fb978070e540d0dcf9e3ea2dac2e6aa079d,11,3,2,9816,,,0,"Victoria and before: Update TripleO job definitions

This change backports the series of patches to update tripleo job
definitions so that it becomes consistent with the job definitions
in stable/wallaby and later.

e538c69a416ea50a544762c93c38500d241438bc
Remove all TripleO jobs in CentOS7

1914b7ed1e499d13af4952992d0bf1728ca4db8e
Skip unnecessary tests for release cut off
NOTE: only change for tripleo jobs are backported.

a12e3c0e063bfd1debc489ca0fa5c17c2d556cfd
Use low-memory-usage.yaml in tripleo jobs

1176b0bfd4dac40a6bb53834d9d8a2c0735ccf62
Add content provider jobs for tripleo based jobs

cabac611610011a70307f8e96e49fc3bd248b823
Skip content provider job for irrelevant files

Change-Id: I892279193c1e29325668803b10dd5c0f7b901efa
(cherry picked from commit 9dd0ab57e6336e74c6ff96589ba884671c4f428e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/796159/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,637e2b1d4661a2f45e778c1b9d9c644af01a28aa,centos7-tripleo-stable/ussuri, name: tripleo-puppet-ci-centos-8-undercloud-containers parent: tripleo-ci-centos-8-undercloud-containers irrelevant-files: &irrelevant_files - ^requirements.txt$ - ^.gitreview$ - ^tox.ini$ - job: name: tripleo-puppet-ci-centos-8-content-provider parent: tripleo-ci-centos-8-content-provider irrelevant-files: *irrelevant_files - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider irrelevant-files: *irrelevant_files vars: featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider, name: tripleo-puppet-ci-centos-7-undercloud-containers parent: tripleo-ci-centos-7-undercloud-containers irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ - ^setup.cfg$ - ^setup.py$ - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-puppet-ci-centos-7-undercloud-containers gate: jobs: - tripleo-puppet-ci-centos-7-undercloud-containers - job: name: tripleo-puppet-ci-centos-7-standalone parent: tripleo-ci-centos-7-standalone irrelevant-files: &standalone_irrelevant_files irrelevant-files: *standalone_irrelevant_files - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone,50,33
openstack%2Fnova~stable%2Ftrain~Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675,openstack/nova,stable/train,Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675,Detach is broken for multi-attached fs-based volumes,NEW,2021-06-17 18:19:07.000000000,2021-06-18 01:23:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 29568}]","[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1888022-detach-multiattached-volumes-5fa862aea7f237ea.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f7bef5cf8fc925deec74e3dd43f8a87ae61a9f6', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nNOTE(lyarwood): Conflicts as I0bdf9ccf7bf3fb1f3136c1e4267b9c99732908d5\nand Ia500eb614cf575ab846f64f4b69c9068274c8c1f are not present on\nstable/train.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n(cherry picked from commit 806575cfd5327f96e62462f484118d06d17cbe8d)\n(cherry picked from commit e683f8f0e6cec81b7ef61fc3e76a3f54399f34ff)\n'}]",0,796936,2f7bef5cf8fc925deec74e3dd43f8a87ae61a9f6,4,2,1,10135,,,0,"Detach is broken for multi-attached fs-based volumes

Fixed an issue with detaching multi-attached fs-based volumes.
Volume drivers using _HostMountStateManager are special case.
_HostMountStateManager ensures that the compute node only attempts
to mount a single mountpoint in use by multiple attachments once,
and that it is not unmounted until it is no longer in use by any
attachments. So we can skip the multiattach check for volume drivers
that based on LibvirtMountedFileSystemVolumeDriver.

NOTE(lyarwood): Conflicts as I0bdf9ccf7bf3fb1f3136c1e4267b9c99732908d5
and Ia500eb614cf575ab846f64f4b69c9068274c8c1f are not present on
stable/train.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py

Closes-Bug: 1888022
Change-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675
(cherry picked from commit 806575cfd5327f96e62462f484118d06d17cbe8d)
(cherry picked from commit e683f8f0e6cec81b7ef61fc3e76a3f54399f34ff)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/796936/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1888022-detach-multiattached-volumes-5fa862aea7f237ea.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,2f7bef5cf8fc925deec74e3dd43f8a87ae61a9f6,,"from nova.virt.libvirt.volume import fs as fs_drivers def test_should_disconnect_target_multi_attach_filesystem_driver(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) volume_driver = mock.MagicMock( spec=fs_drivers.LibvirtMountedFileSystemVolumeDriver) self.assertTrue(drvr._should_disconnect_target( self.context, None, True, volume_driver, None)) def test_should_disconnect_target_single_attach_filesystem_driver(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) volume_driver = mock.MagicMock( spec=fs_drivers.LibvirtMountedFileSystemVolumeDriver) self.assertTrue(drvr._should_disconnect_target( self.context, None, False, volume_driver, None)) ",,63,30
openstack%2Fironic~master~Ie2a1905d118d74e83eab5ad64931c685b3059504,openstack/ironic,master,Ie2a1905d118d74e83eab5ad64931c685b3059504,Add documentation for anaconda deploy interface,MERGED,2021-06-12 07:38:12.000000000,2021-06-18 01:22:57.000000000,2021-06-17 08:29:18.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-12 07:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a38d6eae19f7b54d53bffff996a772c626e068a8', 'message': 'Add documentation for anaconda deploy interface\n\nThis adds admin docs on how configure and use the newly added\nanaconda deploy interface.\n\nChange-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504\n'}, {'number': 2, 'created': '2021-06-13 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f04e04cb60b1aa94526a9bf18122d6564495f8c2', 'message': 'Add documentation for anaconda deploy interface\n\nThis adds admin docs on how configure and use the newly added\nanaconda deploy interface.\n\nChange-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504\n'}, {'number': 3, 'created': '2021-06-16 19:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b70f086d479fe2f149ebf478e1f1b3f71a156a6', 'message': 'Add documentation for anaconda deploy interface\n\nThis adds admin docs on how configure and use the newly added\nanaconda deploy interface.\n\nChange-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504\n'}, {'number': 4, 'created': '2021-06-16 21:32:00.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/anaconda-deploy-interface.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/595345ffc43b3652ff249f214e1b90e91e717791', 'message': 'Add documentation for anaconda deploy interface\n\nThis adds admin docs on how configure and use the newly added\nanaconda deploy interface.\n\nChange-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504\n'}]",41,796110,595345ffc43b3652ff249f214e1b90e91e717791,26,5,4,12640,,,0,"Add documentation for anaconda deploy interface

This adds admin docs on how configure and use the newly added
anaconda deploy interface.

Change-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/796110/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/anaconda-deploy-interface.rst']",2,a38d6eae19f7b54d53bffff996a772c626e068a8,anaconda_admin_docs,"Deploying with anaconda deploy interface ======================================== Ironic supports deploying OS with anaconda installer instead of IPA. This deploy interface supports ``pxe``, ``ipxe``, ``redfish-virtual-media`` and ``ilo-virtual-media`` boot interfaces. Configuration ------------- Before using the anaconda deploy interface, it must be enabled. .. code-block:: ini [DEFAULT] ... enabled_deploy_interfaces = direct,anaconda ... Once enabled and the conductor(s) have been restarted, the interface can be set upon creation of a new node: .. code-block:: shell baremetal node create --driver ipmi \ --deploy-interface anaconda \ --boot-interface ipxe or update an existing node: .. code-block:: shell baremetal node set <NODE> --deploy-interface anaconda You can also use it with :ref:`redfish virtual media <redfish-virtual-media-ramdisk>` instead of iPXE. Creating a OS Image ------------------- While anaconda allows installing individual RPMs the default kickstart file expects a OS tarball to be used as the OS image. A OS tarball can be created using following set of commands .. code-block:: shell export BM_CHROOT_DIR=/home/<user>/os-image mkdir -p $(BM_CHROOT_DIR) sudo install -m 0755 -o root -g root -d $(BM_CHROOT_DIR)/dev $(BM_CHROOT_DIR)/proc $(BM_CHROOT_DIR)/run $(BM_CHROOT_DIR)/sys sudo install -m 0755 -o root -g root -d $(BM_CHROOT_DIR)/var $(BM_CHROOT_DIR)/var/cache $(BM_CHROOT_DIR)/var/cache/yum sudo mount --bind /var/cache/yum $(BM_CHROOT_DIR)/var/cache/yum sudo mount --bind /dev $(BM_CHROOT_DIR)/dev sudo mount -t proc proc $(BM_CHROOT_DIR)/proc sudo mount -t tmpfs tmpfs $(BM_CHROOT_DIR)/run sudo mount -t sysfs sysfs $(BM_CHROOT_DIR)/sys sudo cp -r etc $(BM_CHROOT_DIR) sudo yum -y -c /etc/yum.conf --installroot=$(BM_CHROOT_DIR) makecache sudo yum -y -c /etc/yum.conf --installroot=$(BM_CHROOT_DIR) shell baremetal.yum sudo rpm --root $(BM_CHROOT_DIR) --import $(BM_CHROOT_DIR)/etc/pki/rpm-gpg/RPM-GPG-KEY-* sudo truncate -s 0 $(BM_CHROOT_DIR)/etc/machine-id -sudo umount $(BM_CHROOT_DIR)/var/cache/yum -sudo umount $(BM_CHROOT_DIR)/dev -sudo umount $(BM_CHROOT_DIR)/proc -sudo umount $(BM_CHROOT_DIR)/run -sudo umount $(BM_CHROOT_DIR)/sys sudo tar cpzf os-image.tar.gz --xattrs --acls --selinux -C $(BM_CHROOT_DIR) . Where baremetal.yum should look like .. code-block:: ini group install 'Minimal Install' install cloud-init ts run Configuring the OS Image in glance ---------------------------------- Anaconda is a two stage installer - The stage1 consists of the kernel and ramdisk and the second stage lives in a squashfs image. All these components can be found in the CentOS/RHEL/Fedora ISO images. The kernel and ramdisk can be found at ``/images/pxeboot/vmlinuz`` and ``/images/pxeboot/initrd.img`` respectively in the ISO. The stage2 squashfs image can be normally found at ``/LiveOS/squashfs.img`` or ``/images/install.img``. The OS tarball must be configured with following mandatory properties in glance to be use with anaconda deploy driver 1. ``kernel_id`` 2. ``ramdisk_id`` 3. ``stage2_id`` An optional custom kickstart template can also be uploaded to glance and associated with the OS image using ``ks_template`` glance image property. .. code-block:: shell openstack image create --file ./vmlinuz --container-format aki \ --disk-format aki --shared anaconda-kernel-<version> openstack image create --file ./initrd.img --container-format ari \ --disk-format ari --shared anaconda-ramdisk-<version> openstack image create --file ./squashfs.img --container-format ari \ --disk-format ari --shared anaconda-stage-<verison> openstack image create --file ./os-image.tar.gz --container-format \ compressed --disk-format raw --shared \ --property kernel_id=<glance_uuid_vmlinuz> \ --property ramdisk_id=<glance_uuid_ramdisk> \ --property stage2_id=<glance_uuid_stage2> <disto-name-version> Creating a baremetal server --------------------------- Apart from uploading a custom kickstart template to glance and associating it the OS Image as a property in glance, Operators can also set the kickstart template in instance_info. The kickstart template set in instance_info takes precedence over the one set in the glance image. If kickstart template is not found in instance_info or the glance image property the default kickstart template will be used to deploy the OS. .. code-block:: shell openstack baremetal node set $NODE_UUID \ --instance_info ks_template=glance://uuid Limitations ----------- Anaconda deploy interface only work with RedHat based operating systems that use anaconda. Debian based systems cannot be deployed using this deploy interface. ",,136,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I8846c8a22e5b39cdfbf68fc7f814a81e4e99901a,openstack/tripleo-ansible,stable/wallaby,I8846c8a22e5b39cdfbf68fc7f814a81e4e99901a,Use podman collection instead of podman* modules,MERGED,2021-05-27 14:49:24.000000000,2021-06-18 01:21:09.000000000,2021-06-18 01:19:13.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 14:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c2c56bd57fce298faded10a09a315e4fda63d58d', 'message': 'Use podman collection instead of podman* modules\n\nSwitch to using Ansible Podman collections, remove all\npodman modules from tripleo-ansible.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/793168\nChange-Id: I8846c8a22e5b39cdfbf68fc7f814a81e4e99901a\n'}, {'number': 2, 'created': '2021-06-03 11:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c76e854acea940d083841fbfc7954814ce4e0c24', 'message': 'Use podman collection instead of podman* modules\n\nSwitch to using Ansible Podman collections, remove all\npodman modules from tripleo-ansible.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/793168\nChange-Id: I8846c8a22e5b39cdfbf68fc7f814a81e4e99901a\n'}, {'number': 3, 'created': '2021-06-10 12:19:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_volume_info.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_podman_container_rm.yml', 'tripleo_ansible/ansible_plugins/action/podman_containers.py', 'doc/source/modules/modules-podman_container.rst', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', '.ansible-lint', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44c26353e7f52069320b1627b071466709f3678a', 'message': 'Use podman collection instead of podman* modules\n\nSwitch to using Ansible Podman collections, remove all\npodman modules from tripleo-ansible.\n\nChange-Id: I8846c8a22e5b39cdfbf68fc7f814a81e4e99901a\n'}]",0,793433,44c26353e7f52069320b1627b071466709f3678a,19,5,3,10969,,,0,"Use podman collection instead of podman* modules

Switch to using Ansible Podman collections, remove all
podman modules from tripleo-ansible.

Change-Id: I8846c8a22e5b39cdfbf68fc7f814a81e4e99901a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/793433/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_volume_info.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/tripleo_podman_container_rm.yml', 'tripleo_ansible/ansible_plugins/action/podman_containers.py', 'doc/source/modules/modules-podman_container.rst', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', '.ansible-lint', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tox.ini']",36,c2c56bd57fce298faded10a09a315e4fda63d58d,collections-everywhere,," [testenv:modules] deps= {[testenv:linters]deps} commands = bash -c ""cd {toxinidir}/tripleo_ansible/ansible_plugins/tests; molecule test --all;"" {[testenv:linters]commands}",41,4094
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ibe63195d2c7259255af0026986e4dad1e1e6f26a,openstack/tripleo-upgrade,stable/ussuri,Ibe63195d2c7259255af0026986e4dad1e1e6f26a,Remove xinetd when leapp upgrading the Undercloud.,MERGED,2021-06-17 11:11:31.000000000,2021-06-18 01:19:35.000000000,2021-06-18 01:19:35.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 11:11:31.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2fa792ea14e71dfd34761c64a10d0ad0432af56b', 'message': 'Remove xinetd when leapp upgrading the Undercloud.\n\nxinetd was left aside from the list of packages to remove before\nupgrading the Undercloud and this caused issues with swift_rsync.\n\nChange-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a\n(cherry picked from commit 9e0cac7a643c4b1764033b08f8c4d7a72ea8be37)\n(cherry picked from commit ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890)\n'}]",0,796823,2fa792ea14e71dfd34761c64a10d0ad0432af56b,6,2,1,26343,,,0,"Remove xinetd when leapp upgrading the Undercloud.

xinetd was left aside from the list of packages to remove before
upgrading the Undercloud and this caused issues with swift_rsync.

Change-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a
(cherry picked from commit 9e0cac7a643c4b1764033b08f8c4d7a72ea8be37)
(cherry picked from commit ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/23/796823/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,2fa792ea14e71dfd34761c64a10d0ad0432af56b,, xinetd,,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ibe63195d2c7259255af0026986e4dad1e1e6f26a,openstack/tripleo-upgrade,stable/train,Ibe63195d2c7259255af0026986e4dad1e1e6f26a,Remove xinetd when leapp upgrading the Undercloud.,MERGED,2021-06-17 11:12:30.000000000,2021-06-18 01:19:30.000000000,2021-06-18 01:19:30.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 11:12:30.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0776ebc9cd6d694f34ef973c7b5e5473c0fb87e9', 'message': 'Remove xinetd when leapp upgrading the Undercloud.\n\nxinetd was left aside from the list of packages to remove before\nupgrading the Undercloud and this caused issues with swift_rsync.\n\nChange-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a\n(cherry picked from commit 9e0cac7a643c4b1764033b08f8c4d7a72ea8be37)\n(cherry picked from commit ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890)\n(cherry picked from commit 2fa792ea14e71dfd34761c64a10d0ad0432af56b)\n'}]",0,796824,0776ebc9cd6d694f34ef973c7b5e5473c0fb87e9,6,2,1,26343,,,0,"Remove xinetd when leapp upgrading the Undercloud.

xinetd was left aside from the list of packages to remove before
upgrading the Undercloud and this caused issues with swift_rsync.

Change-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a
(cherry picked from commit 9e0cac7a643c4b1764033b08f8c4d7a72ea8be37)
(cherry picked from commit ff2f746e1cd9d86d8ba37c5ae801cb639a2c8890)
(cherry picked from commit 2fa792ea14e71dfd34761c64a10d0ad0432af56b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/796824/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,0776ebc9cd6d694f34ef973c7b5e5473c0fb87e9,, xinetd,,1,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,openstack/puppet-tripleo,stable/victoria,Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,Add pcmk_host_list stonith-fence_compute-fence-nova,MERGED,2021-06-16 11:36:11.000000000,2021-06-18 01:19:26.000000000,2021-06-18 01:19:26.000000000,"[{'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 11:36:11.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5b1025ee70ae498b738f2e6c399581a779bfc362', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)\n(cherry picked from commit ebd5679d116a5f85e67429ecee9ee6f90def5b1a)\n'}]",0,796567,5b1025ee70ae498b738f2e6c399581a779bfc362,13,4,1,20172,,,0,"Add pcmk_host_list stonith-fence_compute-fence-nova

With this change we explicitely tell the stonith-fence_compute-fence-nova
resource which pacemaker nodes it is allowed to fence.

This is a good idea in general as it makes things more explicit and
we do not rely on other pcmk mechanisms (stonith querying the list
of nodes returned by the fence agent) to determine which nodes it
is allowed to fence.

Tested with this change and the stonith resource is correctly set:
[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova
 Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)
  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default
  Meta Attrs: provides=unfencing
  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)
....

Change-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e
(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)
(cherry picked from commit ebd5679d116a5f85e67429ecee9ee6f90def5b1a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/796567/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,5b1025ee70ae498b738f2e6c399581a779bfc362,iha-hostlist-stable/wallaby-stable/victoria," # This passes the explicit host list of compute nodes that the fence_compute stonith device # is in charge of $compute_list = downcase(join(any2array(hiera('compute_instanceha_short_node_names', '')), ',')) pcmk_host_list => $compute_list,"," pcmk_host_list => '',",4,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I31d6228720248908a66e05d5c145bad6a2c85312,openstack/tripleo-upgrade,stable/ussuri,I31d6228720248908a66e05d5c145bad6a2c85312,Set config_heat_extra_yaml before building converge script.,MERGED,2021-06-17 09:19:13.000000000,2021-06-18 01:19:10.000000000,2021-06-18 01:19:10.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-17 09:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6ef0d638c0c78c8da96aae25c81c942e031a9ee6', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n""}, {'number': 2, 'created': '2021-06-17 09:27:38.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/183e7198d9996588b94838c67af0bd4035a719f7', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n(cherry picked from commit 8c50d3eb4e5ff63016fa73e9411db906aa19b57e)\n""}]",0,796668,183e7198d9996588b94838c67af0bd4035a719f7,7,3,2,11166,,,0,"Set config_heat_extra_yaml before building converge script.

The converge script requires from the parameter config_heat_extra_yaml
to be set before we build the script, otherwise it won't add the
config_heat_extra.yaml file in the converge command.

This patch modifies the order, so common/build_extra_template.yaml is
executed before creating the script.

Change-Id: I31d6228720248908a66e05d5c145bad6a2c85312
(cherry picked from commit 8c50d3eb4e5ff63016fa73e9411db906aa19b57e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/68/796668/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,6ef0d638c0c78c8da96aae25c81c942e031a9ee6,,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool , # TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool,5,5
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I31d6228720248908a66e05d5c145bad6a2c85312,openstack/tripleo-upgrade,stable/victoria,I31d6228720248908a66e05d5c145bad6a2c85312,Set config_heat_extra_yaml before building converge script.,MERGED,2021-06-17 09:18:52.000000000,2021-06-18 01:19:07.000000000,2021-06-18 01:19:07.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-17 09:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a4f9d4a1d570a209ae1b2a9e3d304ef965d8d37d', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n""}, {'number': 2, 'created': '2021-06-17 09:27:10.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4f5a49938638d2d8e212acfa5a1347ae626bfe2d', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n(cherry picked from commit 8c50d3eb4e5ff63016fa73e9411db906aa19b57e)\n""}]",0,796667,4f5a49938638d2d8e212acfa5a1347ae626bfe2d,7,3,2,11166,,,0,"Set config_heat_extra_yaml before building converge script.

The converge script requires from the parameter config_heat_extra_yaml
to be set before we build the script, otherwise it won't add the
config_heat_extra.yaml file in the converge command.

This patch modifies the order, so common/build_extra_template.yaml is
executed before creating the script.

Change-Id: I31d6228720248908a66e05d5c145bad6a2c85312
(cherry picked from commit 8c50d3eb4e5ff63016fa73e9411db906aa19b57e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/67/796667/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,a4f9d4a1d570a209ae1b2a9e3d304ef965d8d37d,,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool , # TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool,5,5
openstack%2Ftripleo-upgrade~stable%2Ftrain~I31d6228720248908a66e05d5c145bad6a2c85312,openstack/tripleo-upgrade,stable/train,I31d6228720248908a66e05d5c145bad6a2c85312,Set config_heat_extra_yaml before building converge script.,MERGED,2021-06-17 09:19:45.000000000,2021-06-18 01:19:04.000000000,2021-06-18 01:19:04.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-17 09:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6123d04099ffbc41cc3bfdad8a0a27e9c717e27c', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n""}, {'number': 2, 'created': '2021-06-17 09:28:11.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f4ddb074c4b20cfc0e40c2bc0cd143a032715883', 'message': ""Set config_heat_extra_yaml before building converge script.\n\nThe converge script requires from the parameter config_heat_extra_yaml\nto be set before we build the script, otherwise it won't add the\nconfig_heat_extra.yaml file in the converge command.\n\nThis patch modifies the order, so common/build_extra_template.yaml is\nexecuted before creating the script.\n\nChange-Id: I31d6228720248908a66e05d5c145bad6a2c85312\n(cherry picked from commit 8c50d3eb4e5ff63016fa73e9411db906aa19b57e)\n""}]",0,796669,f4ddb074c4b20cfc0e40c2bc0cd143a032715883,7,3,2,11166,,,0,"Set config_heat_extra_yaml before building converge script.

The converge script requires from the parameter config_heat_extra_yaml
to be set before we build the script, otherwise it won't add the
config_heat_extra.yaml file in the converge command.

This patch modifies the order, so common/build_extra_template.yaml is
executed before creating the script.

Change-Id: I31d6228720248908a66e05d5c145bad6a2c85312
(cherry picked from commit 8c50d3eb4e5ff63016fa73e9411db906aa19b57e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/796669/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,6123d04099ffbc41cc3bfdad8a0a27e9c717e27c,,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool , # TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool,5,5
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I935d5e23a72dfd26d3af84cc29faf4709841297a,openstack/puppet-openstack-integration,stable/ussuri,I935d5e23a72dfd26d3af84cc29faf4709841297a,"Revert ""Switch tripleo jobs to content provider""",MERGED,2021-06-13 03:24:25.000000000,2021-06-18 01:07:48.000000000,2021-06-18 01:07:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 03:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/38741f1cdf59a1ee5669e26ce6d4e0909b0f5973', 'message': 'Revert ""Switch tripleo jobs to content provider""\n\nThis reverts commit e59292626576b5b0580ecf127185776dc6328aa1.\n\nReason for revert.\nThis change was directly submitted to stable/victoria and this reuslts\nin inconsistency between ususri and victoria. The job definition will\nbe fixed later by a consistent change.\n\nChange-Id: I935d5e23a72dfd26d3af84cc29faf4709841297a\n'}, {'number': 2, 'created': '2021-06-13 03:26:04.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/309b075c76220edf558a7d17a7ea3c83e7fbd7f4', 'message': 'Revert ""Switch tripleo jobs to content provider""\n\nThis reverts commit e59292626576b5b0580ecf127185776dc6328aa1.\n\nReason for revert:\nThis change was directly submitted to stable/ussuri and this reuslts\nin inconsistency between ususri and victoria. The job definition will\nbe fixed later by a consistent change.\n\nChange-Id: I935d5e23a72dfd26d3af84cc29faf4709841297a\n'}]",0,796158,309b075c76220edf558a7d17a7ea3c83e7fbd7f4,9,3,2,9816,,,0,"Revert ""Switch tripleo jobs to content provider""

This reverts commit e59292626576b5b0580ecf127185776dc6328aa1.

Reason for revert:
This change was directly submitted to stable/ussuri and this reuslts
in inconsistency between ususri and victoria. The job definition will
be fixed later by a consistent change.

Change-Id: I935d5e23a72dfd26d3af84cc29faf4709841297a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/796158/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,38741f1cdf59a1ee5669e26ce6d4e0909b0f5973,centos7-tripleo-stable/ussuri, name: tripleo-puppet-ci-centos-7-undercloud-containers parent: tripleo-ci-centos-7-undercloud-containers - tripleo-puppet-ci-centos-7-undercloud-containers - tripleo-puppet-ci-centos-7-undercloud-containers name: tripleo-puppet-ci-centos-7-standalone parent: tripleo-ci-centos-7-standalone - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone, name: tripleo-puppet-ci-centos-8-undercloud-containers parent: tripleo-ci-centos-8-undercloud-containers - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: &consumer_job vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: *consumer_job name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *consumer_job - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *consumer_job,10,19
openstack%2Fproject-config~master~I010961ccd9916563574a003e89302a965b78e131,openstack/project-config,master,I010961ccd9916563574a003e89302a965b78e131,Update retiring workload-ref-archs repo ACL to openstack/retired.config,ABANDONED,2021-06-18 00:39:23.000000000,2021-06-18 01:05:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-18 00:39:23.000000000', 'files': ['gerrit/acls/openstack/workload-ref-archs.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d2868915b4c6a5cfcb61eb1b99be61d6a34d969', 'message': 'Update retiring workload-ref-archs repo ACL to openstack/retired.config\n\nThis commit updates the ACl for workload-ref-archs repo\nto openstack/retired.config so that TC can finish\nthis repo retirement.\n\nNeeded-By: https://review.opendev.org/c/openstack/workload-ref-archs/+/796967\nChange-Id: I010961ccd9916563574a003e89302a965b78e131\n'}]",0,796973,2d2868915b4c6a5cfcb61eb1b99be61d6a34d969,3,1,1,8556,,,0,"Update retiring workload-ref-archs repo ACL to openstack/retired.config

This commit updates the ACl for workload-ref-archs repo
to openstack/retired.config so that TC can finish
this repo retirement.

Needed-By: https://review.opendev.org/c/openstack/workload-ref-archs/+/796967
Change-Id: I010961ccd9916563574a003e89302a965b78e131
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/796973/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/workload-ref-archs.config', 'gerrit/projects.yaml']",2,2d2868915b4c6a5cfcb61eb1b99be61d6a34d969,retire-workload-ref-archs," description: RETIRED, OpenStack tenant-level workload reference architectures. acl-config: /home/gerrit2/acls/openstack/retired.config", description: OpenStack tenant-level workload reference architectures.,2,15
openstack%2Ftripleo-common~stable%2Ftrain~Ibaad817f52930380e659180fd8c52dca131cd4f8,openstack/tripleo-common,stable/train,Ibaad817f52930380e659180fd8c52dca131cd4f8,Move rabbitmq healthcheck to something more modern,MERGED,2021-06-16 20:17:06.000000000,2021-06-18 00:56:29.000000000,2021-06-18 00:54:02.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 20:17:06.000000000', 'files': ['healthcheck/rabbitmq'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90725a9ed791794ebb5ba5d913ad00393122cf52', 'message': 'Move rabbitmq healthcheck to something more modern\n\nRabbitmq healthcheck when used against newer rabbitmq versions (seen at\nleast with 3.8.16) is using old interface ""rabbitmqctl\nnode_health_check"" which is deprecated and logs the following:\n\n  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are\n  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.\n\nLet\'s switch to ""rabbitmq-diagnostics check_running"" which should be a\nsufficiently solid check without being too complex/heavy on rabbit\nitself.\n\nChange-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8\nCloses-Bug: #1931298\n(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)\n(cherry picked from commit 62344e944ea9ffa082931dac0bcdccd92320da59)\n(cherry picked from commit f7dabb4625322cbe5b01cb89931faa56f72d0e8e)\n(cherry picked from commit 6ac7803b8a50409de8bad96773b2ed959d7df084)\n'}]",0,796661,90725a9ed791794ebb5ba5d913ad00393122cf52,8,3,1,20172,,,0,"Move rabbitmq healthcheck to something more modern

Rabbitmq healthcheck when used against newer rabbitmq versions (seen at
least with 3.8.16) is using old interface ""rabbitmqctl
node_health_check"" which is deprecated and logs the following:

  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are
  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.

Let's switch to ""rabbitmq-diagnostics check_running"" which should be a
sufficiently solid check without being too complex/heavy on rabbit
itself.

Change-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8
Closes-Bug: #1931298
(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)
(cherry picked from commit 62344e944ea9ffa082931dac0bcdccd92320da59)
(cherry picked from commit f7dabb4625322cbe5b01cb89931faa56f72d0e8e)
(cherry picked from commit 6ac7803b8a50409de8bad96773b2ed959d7df084)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/796661/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/rabbitmq'],1,90725a9ed791794ebb5ba5d913ad00393122cf52,rabbitmq-healthcheck-stable/wallaby-stable/victoria-stable/ussuri-stable/train,rabbitmq-diagnostics check_running || exit 1,rabbitmqctl node_health_check || exit 1,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e,openstack/python-tripleoclient,stable/wallaby,I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e,Use upper constraints with  install command,MERGED,2021-06-17 05:15:59.000000000,2021-06-18 00:56:24.000000000,2021-06-18 00:54:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-17 05:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/38985959cc07b9ef82ca60dd4e461118e9abdca5', 'message': ""Use saved environment for docs build\n\nUse the default and don't rebuild it completely.\n\nChange-Id: I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e\nCloses-Bug: #1931986\n(cherry picked from commit 66291bcd29c485e49c36b7b3b288fce76dcc508b)\n""}, {'number': 2, 'created': '2021-06-17 06:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c3e8774664aefccbd600474aa70ce64dbf22b08', 'message': ""Force use tripleo-common from upper constraints\n\nSomehow it's installing tripleo-common==16.1.0. Let's\nforce it by adding it in docs/requirements as a\nwork-around.\n\nChange-Id: I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e\n""}, {'number': 3, 'created': '2021-06-17 09:55:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/db79c4d2255f0817ec3f387aaef84f02ea58118a', 'message': 'Use upper constraints with  install command\n\nThis uses relevant upper constraints with install_command.\n\nChange-Id: I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e\nCloses-Bug: #1931986\n'}]",0,796752,db79c4d2255f0817ec3f387aaef84f02ea58118a,14,5,3,8833,,,0,"Use upper constraints with  install command

This uses relevant upper constraints with install_command.

Change-Id: I6e63c9b9ff0c83dfdb5fa1e374a881c54f93bf3e
Closes-Bug: #1931986
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/796752/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38985959cc07b9ef82ca60dd4e461118e9abdca5,, sphinx-build -a -W --keep-going -b html doc/source doc/build/html, sphinx-build -a -E -W --keep-going -b html doc/source doc/build/html,1,1
openstack%2Ftripleo-validations~stable%2Fwallaby~Ie936821e3b8055d91bfa3cec992c68a87bf84db2,openstack/tripleo-validations,stable/wallaby,Ie936821e3b8055d91bfa3cec992c68a87bf84db2,Use and ownership info for the ip_range module.,MERGED,2021-06-15 15:01:04.000000000,2021-06-18 00:54:48.000000000,2021-06-18 00:54:48.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 15:01:04.000000000', 'files': ['library/ip_range.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f76cfcfb7a12fe4a85c8485c9b120bd6f0f2046c', 'message': 'Use and ownership info for the ip_range module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2\n(cherry picked from commit e7c06ecf047d69b6946f8b308b396f0081f0e7ed)\n'}]",0,796510,f76cfcfb7a12fe4a85c8485c9b120bd6f0f2046c,8,6,1,32926,,,0,"Use and ownership info for the ip_range module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2
(cherry picked from commit e7c06ecf047d69b6946f8b308b396f0081f0e7ed)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/10/796510/1 && git format-patch -1 --stdout FETCH_HEAD,['library/ip_range.py'],1,f76cfcfb7a12fe4a85c8485c9b120bd6f0f2046c,,"""""""ip_range module Used by the `ctlplane_ip_range` role. """""" - Used by the `ctlplane_ip_range` role. - ""Owned by the DFG: DF""",,5,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I09672ce833d2dcb4fac0edbc8149ac44efa12861,openstack/tripleo-validations,stable/wallaby,I09672ce833d2dcb4fac0edbc8149ac44efa12861,Use and ownership info for the ceph_pools_pg_protection module,MERGED,2021-06-15 14:56:40.000000000,2021-06-18 00:54:43.000000000,2021-06-18 00:54:43.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:56:40.000000000', 'files': ['library/ceph_pools_pg_protection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/785219e8cb8246d71e35a794341ded57ea6916d1', 'message': ""Use and ownership info for the ceph_pools_pg_protection module\n\nAdjusted the module level 'DOCUMENTATION' attribute\nto improve readability/style.\n\nMoved long comment into a new, function level docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861\n(cherry picked from commit 6956d74682338008521cd772ce379baa57417442)\n""}]",0,796503,785219e8cb8246d71e35a794341ded57ea6916d1,8,6,1,32926,,,0,"Use and ownership info for the ceph_pools_pg_protection module

Adjusted the module level 'DOCUMENTATION' attribute
to improve readability/style.

Moved long comment into a new, function level docstring.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861
(cherry picked from commit 6956d74682338008521cd772ce379baa57417442)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/796503/1 && git format-patch -1 --stdout FETCH_HEAD,['library/ceph_pools_pg_protection.py'],1,785219e8cb8246d71e35a794341ded57ea6916d1,,"""""""ceph_pools_pg_protection module Used by the ceph-pg validation. """""" - The Ceph PG overdose protection check (https://ceph.com/community/new-luminous-pg-overdose-protection) is executed by Ceph before a pool is created. If the check does not pass, then the pool is not created. - When TripleO deploys Ceph it triggers ceph-ansible which creates the pools that OpenStack needs. - This validation runs the same check that the overdose protection uses to determine if the user should update their CephPools, PG count, or number of OSDs. Without this check a deployer may have to wait until after Ceph is running, but before the pools are created to realize the deployment will fail. - Used by the ceph-pg validation. - Owned by the ""DFG:Storage Squad:Ceph"" """"""This module never changes state of a target system, it only evaluates if inputs will work when Ceph processes then. There shouldn't be anything like the following result['changed'] = True This module does not currently have fail options. It should only evaluate input and make result of the evaluation available. So it doesn't currently do anything like the following by design. module.fail_json(msg='Failing for invalid input', **result) Exit and pass the key/value results of the simulation """""""," - ""The Ceph PG overdose protection check (https://ceph.com/community/new-luminous-pg-overdose-protection) is executed by Ceph before a pool is created. If the check does not pass, then the pool is not created. When TripleO deploys Ceph it triggers ceph-ansible which creates the pools that OpenStack needs. This validation runs the same check that the overdose protection uses to determine if the user should update their CephPools, PG count, or number of OSDs. Without this check a deployer may have to wait until after Ceph is running but before the pools are created to realize the deployment will fail."" # This module never changes state of a target system, it only # evaluates if inputs will work when Ceph processes then. # There shouldn't be anything like the following # result['changed'] = True # This module does not currently have fail options. It should # only evaluate input and make result of the evaluation available. # So it doesn't currently do anything like the following by design. # module.fail_json(msg='Failing for invalid input', **result) # Exit and pass the key/value results of the simulation",25,13
openstack%2Ftripleo-validations~stable%2Fwallaby~If29759e8826d1ca97c558dac6204bc7926c056b7,openstack/tripleo-validations,stable/wallaby,If29759e8826d1ca97c558dac6204bc7926c056b7,Use and ownership info for the switch_vlans module,MERGED,2021-06-15 14:53:06.000000000,2021-06-18 00:54:38.000000000,2021-06-18 00:54:38.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:53:06.000000000', 'files': ['library/switch_vlans.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ad9c8b3d03b05b9bd01a5ccd4efdd6f9c4400d14', 'message': 'Use and ownership info for the switch_vlans module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If29759e8826d1ca97c558dac6204bc7926c056b7\n(cherry picked from commit 746cd0d17de9d7915d47afc040f20e2528e25b42)\n'}]",0,796499,ad9c8b3d03b05b9bd01a5ccd4efdd6f9c4400d14,8,6,1,32926,,,0,"Use and ownership info for the switch_vlans module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If29759e8826d1ca97c558dac6204bc7926c056b7
(cherry picked from commit 746cd0d17de9d7915d47afc040f20e2528e25b42)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/99/796499/1 && git format-patch -1 --stdout FETCH_HEAD,['library/switch_vlans.py'],1,ad9c8b3d03b05b9bd01a5ccd4efdd6f9c4400d14,,"""""""switch_vlans module Used by the switch_vlans validation. """""" - Used by the switch_vlans validation - Owned by the DF Networking",,5,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I75dfbd2be121f20f9376a39bd984f280fd50a275,openstack/tripleo-validations,stable/wallaby,I75dfbd2be121f20f9376a39bd984f280fd50a275,Use and ownership info for the network_environment module,MERGED,2021-06-15 14:54:17.000000000,2021-06-18 00:54:31.000000000,2021-06-18 00:54:31.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:54:17.000000000', 'files': ['library/network_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8c1a9836222442689d2c2487300f1cc09e3cad0e', 'message': 'Use and ownership info for the network_environment module\n\nAlso reorganized the author list.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I75dfbd2be121f20f9376a39bd984f280fd50a275\n(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)\n'}]",0,796500,8c1a9836222442689d2c2487300f1cc09e3cad0e,8,6,1,32926,,,0,"Use and ownership info for the network_environment module

Also reorganized the author list.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I75dfbd2be121f20f9376a39bd984f280fd50a275
(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/00/796500/1 && git format-patch -1 --stdout FETCH_HEAD,['library/network_environment.py'],1,8c1a9836222442689d2c2487300f1cc09e3cad0e,,"""""""network_environment module Used by the network_environment validation. """""" - Used by the network_environment role. - Owned by the DFG Networkingauthor: - ""Tomas Sedovic"" - ""Martin André"" - ""Florian Fuchs""","author: ""Tomas Sedovic, Martin André, Florian Fuchs""",9,2
openstack%2Ftripleo-validations~stable%2Fwallaby~I7a06b82f8fefca699ed4e510d33400fa28c0b5d6,openstack/tripleo-validations,stable/wallaby,I7a06b82f8fefca699ed4e510d33400fa28c0b5d6,Use and ownership info for the ovs_dpdk_pmd_cpus_check module.,MERGED,2021-06-15 14:57:40.000000000,2021-06-18 00:54:27.000000000,2021-06-18 00:54:27.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:57:40.000000000', 'files': ['library/ovs_dpdk_pmd_cpus_check.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/51185ee0939811b50c371e14e2e1aa53638224f9', 'message': 'Use and ownership info for the ovs_dpdk_pmd_cpus_check module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7a06b82f8fefca699ed4e510d33400fa28c0b5d6\n(cherry picked from commit 201f545bc1d171baacc8af1853be40795ddfb803)\n'}]",0,796505,51185ee0939811b50c371e14e2e1aa53638224f9,7,6,1,32926,,,0,"Use and ownership info for the ovs_dpdk_pmd_cpus_check module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7a06b82f8fefca699ed4e510d33400fa28c0b5d6
(cherry picked from commit 201f545bc1d171baacc8af1853be40795ddfb803)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/05/796505/1 && git format-patch -1 --stdout FETCH_HEAD,['library/ovs_dpdk_pmd_cpus_check.py'],1,51185ee0939811b50c371e14e2e1aa53638224f9,,"""""""ovs_dpdk_pmd_cpus_check module Used by the ovs_dpdk_pmd validation. """""" - Used by ovs_dpdk_pmd validation. - Owned by the DFG:NFV Integration",,5,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I05074d04218c8664b9aff79e18caaad6bae04704,openstack/tripleo-validations,stable/wallaby,I05074d04218c8664b9aff79e18caaad6bae04704,Use and ownership info for the pacemaker module,MERGED,2021-06-15 15:00:11.000000000,2021-06-18 00:54:23.000000000,2021-06-18 00:54:23.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 15:00:11.000000000', 'files': ['library/pacemaker.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d21830ff2fff494ff69e741a6ba5ba6e4d315059', 'message': 'Use and ownership info for the pacemaker module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I05074d04218c8664b9aff79e18caaad6bae04704\n(cherry picked from commit 0dad2560034522deaaa69eba6a6ab6486e056187)\n'}]",0,796508,d21830ff2fff494ff69e741a6ba5ba6e4d315059,7,6,1,32926,,,0,"Use and ownership info for the pacemaker module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I05074d04218c8664b9aff79e18caaad6bae04704
(cherry picked from commit 0dad2560034522deaaa69eba6a6ab6486e056187)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/08/796508/1 && git format-patch -1 --stdout FETCH_HEAD,['library/pacemaker.py'],1,d21830ff2fff494ff69e741a6ba5ba6e4d315059,,"""""""pacemaker module Used by the pacemaker_status validation. """""" - Used by the pacemaker_status validation. - Owned by the DF PIDONE",,5,1
openstack%2Ftripleo-validations~stable%2Fwallaby~Id9b52ef30af3e023992b13f7e78ea9df5481b066,openstack/tripleo-validations,stable/wallaby,Id9b52ef30af3e023992b13f7e78ea9df5481b066,Use and ownership info for the node_disk module.,MERGED,2021-06-15 14:59:46.000000000,2021-06-18 00:54:18.000000000,2021-06-18 00:54:18.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:59:46.000000000', 'files': ['library/node_disks.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af65faeafa97542f7d498e42f23244c4000caed9', 'message': 'Use and ownership info for the node_disk module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id9b52ef30af3e023992b13f7e78ea9df5481b066\n(cherry picked from commit ba98421b886cd320b41e41d32b0c3f62002f53af)\n'}]",0,796507,af65faeafa97542f7d498e42f23244c4000caed9,7,6,1,32926,,,0,"Use and ownership info for the node_disk module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id9b52ef30af3e023992b13f7e78ea9df5481b066
(cherry picked from commit ba98421b886cd320b41e41d32b0c3f62002f53af)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/07/796507/1 && git format-patch -1 --stdout FETCH_HEAD,['library/node_disks.py'],1,af65faeafa97542f7d498e42f23244c4000caed9,,"""""""node_disks module Used by the 'node_disks' validation. """""" - Used by the 'node_disks' validation.",,4,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I6721d614ffe818e72f3f0e8b5ab74316d0d653cc,openstack/tripleo-validations,stable/wallaby,I6721d614ffe818e72f3f0e8b5ab74316d0d653cc,Use and ownership info for the icmp_ping module.,MERGED,2021-06-15 14:58:23.000000000,2021-06-18 00:54:11.000000000,2021-06-18 00:54:11.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:58:23.000000000', 'files': ['library/icmp_ping.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7db51a081b564757921ea14eaca0345925215d23', 'message': 'Use and ownership info for the icmp_ping module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6721d614ffe818e72f3f0e8b5ab74316d0d653cc\n(cherry picked from commit 11cdcb1868563231103559e06d3c8527a1fe2681)\n'}]",0,796506,7db51a081b564757921ea14eaca0345925215d23,7,6,1,32926,,,0,"Use and ownership info for the icmp_ping module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6721d614ffe818e72f3f0e8b5ab74316d0d653cc
(cherry picked from commit 11cdcb1868563231103559e06d3c8527a1fe2681)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/06/796506/1 && git format-patch -1 --stdout FETCH_HEAD,['library/icmp_ping.py'],1,7db51a081b564757921ea14eaca0345925215d23,,"""""""icmp_ping module Used by `node-health` and `check-network-gateway` roles. """""" - Used by `node-health` and `check-network-gateway` roles. - Owned by the DFG:DF and DFG:Networking",,5,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I071c3a9bb75cd020116cf1897db29ab93001f979,openstack/tripleo-validations,stable/wallaby,I071c3a9bb75cd020116cf1897db29ab93001f979,Use and ownership info for the verify_profiles module,MERGED,2021-06-15 14:55:37.000000000,2021-06-18 00:54:07.000000000,2021-06-18 00:54:07.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-15 14:55:37.000000000', 'files': ['library/verify_profiles.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3ab651d374ef0aaa27f72e1818638fb92f45624d', 'message': 'Use and ownership info for the verify_profiles module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I071c3a9bb75cd020116cf1897db29ab93001f979\n(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)\n'}]",0,796502,3ab651d374ef0aaa27f72e1818638fb92f45624d,7,6,1,32926,,,0,"Use and ownership info for the verify_profiles module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I071c3a9bb75cd020116cf1897db29ab93001f979
(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/02/796502/1 && git format-patch -1 --stdout FETCH_HEAD,['library/verify_profiles.py'],1,3ab651d374ef0aaa27f72e1818638fb92f45624d,,"""""""verify_profiles module Used by the collect_flavors_and_verify_profiles validation. """""" - Used by the collect_flavors_and_verify_profiles - Owned jointly by DFG Compute & DFG Hardware Provisioning",,5,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4423fcbd62b09ef323590fc740dd29e1a17777f5,openstack/tripleo-heat-templates,stable/train,I4423fcbd62b09ef323590fc740dd29e1a17777f5,Fix cinder's cephx keyring file permissions,MERGED,2021-06-16 13:56:29.000000000,2021-06-18 00:53:54.000000000,2021-06-18 00:53:54.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-16 13:56:29.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60a0b75eb3c1b83f87dda5c09a0853491fc4675a', 'message': ""Fix cinder's cephx keyring file permissions\n\nThis patch updates cinder's kolla permissions so that cinder can\naccess any cephx keyring associated with CephExternalMultiConfig\nceph clusters. The new approach parses the cluster names out of the\nCephExternalMultiConfig array, and uses a wildcard to grant access\nto all keys (regardless of the key name) defined for each cluster.\nThere is no risk of the wildcard granting improper access to a\nprivileged key (e.g. the admin key), because CephExternalMultiConfig\ndoesn't include privileged keys.\n\nThis patch replaces similar (but more restrictive) code added in\nI73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder\nto access cephx keyrings associated with a new CinderRbdMultiConfig\nparameter, but it didn't cover all potential use cases. For example,\nin a DCN/Edge deployment, cinder services running at the edge need\naccess to the central site's client key in order to perform operations\nlike offline volume migration.\n\nNOTE (pre-Wallaby):\nThe >= Wallaby versions of this patch tweaks code that was introduced\nin Wallaby by I73af5b868de629870a35d38f8436e7025aae791e. Pre-Wallaby\nversions of this patch _adds_ the tweaked code.\n\nCloses-Bug: #1930620\nResolves: rhbz#1962304\nChange-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5\n(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)\n(cherry picked from commit 74e3884b4a21a27262c48b4df8f0e369a5486f87)\nConflicts:\n\tdeployment/cinder/cinder-common-container-puppet.yaml\n(cherry picked from commit bc39ac89d2242bfdce9094e9cb22ee63d293ce28)\n(cherry picked from commit ab2f7cf5cb2962fa4500b7cccd87a249a8f57d37)\n""}]",0,796679,60a0b75eb3c1b83f87dda5c09a0853491fc4675a,7,5,1,21129,,,0,"Fix cinder's cephx keyring file permissions

This patch updates cinder's kolla permissions so that cinder can
access any cephx keyring associated with CephExternalMultiConfig
ceph clusters. The new approach parses the cluster names out of the
CephExternalMultiConfig array, and uses a wildcard to grant access
to all keys (regardless of the key name) defined for each cluster.
There is no risk of the wildcard granting improper access to a
privileged key (e.g. the admin key), because CephExternalMultiConfig
doesn't include privileged keys.

This patch replaces similar (but more restrictive) code added in
I73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder
to access cephx keyrings associated with a new CinderRbdMultiConfig
parameter, but it didn't cover all potential use cases. For example,
in a DCN/Edge deployment, cinder services running at the edge need
access to the central site's client key in order to perform operations
like offline volume migration.

NOTE (pre-Wallaby):
The >= Wallaby versions of this patch tweaks code that was introduced
in Wallaby by I73af5b868de629870a35d38f8436e7025aae791e. Pre-Wallaby
versions of this patch _adds_ the tweaked code.

Closes-Bug: #1930620
Resolves: rhbz#1962304
Change-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5
(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)
(cherry picked from commit 74e3884b4a21a27262c48b4df8f0e369a5486f87)
Conflicts:
	deployment/cinder/cinder-common-container-puppet.yaml
(cherry picked from commit bc39ac89d2242bfdce9094e9cb22ee63d293ce28)
(cherry picked from commit ab2f7cf5cb2962fa4500b7cccd87a249a8f57d37)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/796679/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,60a0b75eb3c1b83f87dda5c09a0853491fc4675a,cinder-cephx-perms," CephExternalMultiConfig: type: json hidden: true description: | List of maps describing extra overrides which will be applied when configuring extra external Ceph clusters. If this list is non-empty, ceph-ansible will run an extra count(list) times using the same parameters as the first run except each parameter within each map will override the defaults. If the following were used, the second run would configure the overcloud to also use the ceph2 cluster with all the previous parameters except /etc/ceph/ceph2.conf would have a mon_host entry containing the value of external_cluster_mon_ips below, and not the default CephExternalMonHost. Subsequent ceph-ansible runs are restricted to just ceph clients. CephExternalMultiConfig may not be used to deploy additional internal Ceph clusters within one Heat stack. The map for each list should contain not tripleo-heat-template parameters but ceph-ansible parameters. - cluster: 'ceph2' fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' external_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" dashboard_enabled: false default: [] list_concat: - - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder - repeat: template: path: /etc/ceph/<%cluster%>.client.*.keyring owner: cinder:cinder perm: '0600' for_each: <%cluster%>: yaql: expression: $.data.multiconfig.select($.cluster) data: multiconfig: {get_param: CephExternalMultiConfig}", - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder,56,15
openstack%2Fcinder~stable%2Fvictoria~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/victoria,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-17 16:41:51.000000000,2021-06-18 00:36:54.000000000,2021-06-17 21:41:30.000000000,"[{'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 16:41:51.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9457f860a0174415160fe88fa103d41170fac16', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)\n(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)\n'}]",0,796864,c9457f860a0174415160fe88fa103d41170fac16,13,4,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/796864/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,c9457f860a0174415160fe88fa103d41170fac16,unity-fix-typo-stable/wallaby-stable/victoria,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I7e1961b590baa3a8f4c44305bba5ccadc48f7cec,openstack/puppet-openstack-integration,stable/ussuri,I7e1961b590baa3a8f4c44305bba5ccadc48f7cec,Switch tripleo jobs to content provider,MERGED,2020-11-02 18:13:44.000000000,2021-06-17 23:51:17.000000000,2020-11-09 14:47:45.000000000,"[{'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-11-02 18:13:44.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e59292626576b5b0580ecf127185776dc6328aa1', 'message': 'Switch tripleo jobs to content provider\n\nContent provider job builds and shares the artifacts among\nconsumer jobs. This removes dependency on docker.io pulls.\n\nThis change also bumps the undercloud job to centos8.\n\nChange-Id: I7e1961b590baa3a8f4c44305bba5ccadc48f7cec\n'}]",0,760983,e59292626576b5b0580ecf127185776dc6328aa1,12,5,1,8175,,,0,"Switch tripleo jobs to content provider

Content provider job builds and shares the artifacts among
consumer jobs. This removes dependency on docker.io pulls.

This change also bumps the undercloud job to centos8.

Change-Id: I7e1961b590baa3a8f4c44305bba5ccadc48f7cec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/83/760983/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,e59292626576b5b0580ecf127185776dc6328aa1,new-ci-job, name: tripleo-puppet-ci-centos-8-undercloud-containers parent: tripleo-ci-centos-8-undercloud-containers - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: &consumer_job vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: *consumer_job name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *consumer_job - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *consumer_job, name: tripleo-puppet-ci-centos-7-undercloud-containers parent: tripleo-ci-centos-7-undercloud-containers - tripleo-puppet-ci-centos-7-undercloud-containers - tripleo-puppet-ci-centos-7-undercloud-containers name: tripleo-puppet-ci-centos-7-standalone parent: tripleo-ci-centos-7-standalone - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone,19,10
openstack%2Fproject-config~master~Ifd84cbe9bca856547efc2939a744ef068c286d36,openstack/project-config,master,Ifd84cbe9bca856547efc2939a744ef068c286d36,Added publish-openstack-python-tarball job,MERGED,2021-05-17 12:38:54.000000000,2021-06-17 23:31:04.000000000,2021-06-17 23:31:04.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-05-17 12:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d00a8971a9ad256ca56e20709145ed069583fa00', 'message': 'Added publish-openstack-python-tarball job\n\nIt will be used for publishing tarballs to\ntarballs.openstack.org only for python projects.\n\nIt will be triggered in release pipeline.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifd84cbe9bca856547efc2939a744ef068c286d36\n'}, {'number': 2, 'created': '2021-05-17 13:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/be41a930d4fa54c33ac13a5b362cf1b2e84b0bdc', 'message': 'Added publish-openstack-python-tarball job\n\nIt will be used for publishing tarballs to\ntarballs.openstack.org only for python projects.\n\nIt will be triggered in release pipeline.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifd84cbe9bca856547efc2939a744ef068c286d36\n'}, {'number': 3, 'created': '2021-06-17 05:28:02.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ca213fdd83fdeeb5b7ff848a888a7f532b6682cd', 'message': 'Added publish-openstack-python-tarball job\n\nIt will be used for publishing tarballs to\ntarballs.opendev.org only for python projects.\n\nIt will be triggered in release pipeline.\n\nIt is needed by tripleo-operator-ansible.\n\nNeeded-By: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791645\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifd84cbe9bca856547efc2939a744ef068c286d36\n'}]",9,791745,ca213fdd83fdeeb5b7ff848a888a7f532b6682cd,19,9,3,12393,,,0,"Added publish-openstack-python-tarball job

It will be used for publishing tarballs to
tarballs.opendev.org only for python projects.

It will be triggered in release pipeline.

It is needed by tripleo-operator-ansible.

Needed-By: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791645

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ifd84cbe9bca856547efc2939a744ef068c286d36
",git fetch https://review.opendev.org/openstack/project-config refs/changes/45/791745/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,d00a8971a9ad256ca56e20709145ed069583fa00,remove_uneeded_tq_requirements, name: publish-openstack-python-tarball parent: publish-openstack-artifacts description: | Publish openstack python tarballs. pre-run: playbooks/pti-python-tarball/pre.yaml run: playbooks/pti-python-tarball/run.yaml post-run: - playbooks/pti-python-tarball/post.yaml secrets: - gpg_key vars: release_python: python3 twine_python: python3 - job:,,15,0
openstack%2Fnova~stable%2Ftrain~I06a67355baaa493313aea83b198d2bce620074db,openstack/nova,stable/train,I06a67355baaa493313aea83b198d2bce620074db,Handle unset 'connection_info',NEW,2021-06-17 18:19:07.000000000,2021-06-17 23:07:48.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67f3eea96e1550494213880698e51db19b7f2955', 'message': ""Handle unset 'connection_info'\n\nAs noted inline, it's possible for this to be unset if a boot from\nvolume request failed early in the process.\n\nChange-Id: I06a67355baaa493313aea83b198d2bce620074db\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1730549\n(cherry picked from commit 9804bf97679a38a99c4a305ec5b477d40e0d1d32)\n""}]",0,796937,67f3eea96e1550494213880698e51db19b7f2955,4,2,1,10135,,,0,"Handle unset 'connection_info'

As noted inline, it's possible for this to be unset if a boot from
volume request failed early in the process.

Change-Id: I06a67355baaa493313aea83b198d2bce620074db
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1730549
(cherry picked from commit 9804bf97679a38a99c4a305ec5b477d40e0d1d32)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/796937/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,67f3eea96e1550494213880698e51db19b7f2955,," def test_cleanup_pass_with_no_connection_info(self, undefine, unplug): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) drvr._disconnect_volume = mock.Mock() fake_inst = objects.Instance(**self.test_instance) fake_bdms = [{'connection_info': None}] with mock.patch('nova.virt.driver' '.block_device_info_get_mapping', return_value=fake_bdms): drvr.cleanup('ctxt', fake_inst, 'netinfo', destroy_disks=False) self.assertFalse(drvr._disconnect_volume.called) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._unplug_vifs') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._undefine_domain')",,18,0
openstack%2Fopenstack-tempest-skiplist~master~I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf,openstack/openstack-tempest-skiplist,master,I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf,skip TestMinimumBasicScenario.test_minimum_basic_scenario on all jobs,MERGED,2021-06-17 21:26:06.000000000,2021-06-17 22:55:38.000000000,2021-06-17 22:54:37.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 21:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/caf7aa6635a1a1b9f641d9bac50b8eb94501f160', 'message': 'skip TestMinimumBasicScenario.test_minimum_basic_scenario on all jobs\n\nChange-Id: I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf\n'}, {'number': 2, 'created': '2021-06-17 21:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c12c957d78f79917459adedcb79134f4fe9a4023', 'message': 'skip TestMinimumBasicScenario.test_minimum_basic_scenario on all jobs\n\nRelated-Bug: #1923194\nChange-Id: I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf\n'}, {'number': 3, 'created': '2021-06-17 22:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/577f3270c2c94e506069b7b40c8c8511aef4b7b4', 'message': 'skip TestMinimumBasicScenario.test_minimum_basic_scenario on all jobs\n\nChange-Id: I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf\n'}, {'number': 4, 'created': '2021-06-17 22:20:02.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/325a11c397f597a3f6dc2bbc11c6c51bb3f46c9d', 'message': 'skip TestMinimumBasicScenario.test_minimum_basic_scenario on all jobs\n\nChange-Id: I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf\n'}]",0,796954,325a11c397f597a3f6dc2bbc11c6c51bb3f46c9d,17,4,4,9592,,,0,"skip TestMinimumBasicScenario.test_minimum_basic_scenario on all jobs

Change-Id: I3b8cdc4f39277e6ba4cc1c51f6c02a69f77a54cf
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/54/796954/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,caf7aa6635a1a1b9f641d9bac50b8eb94501f160,up-ruamel, jobs: [], jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-master - tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-standalone-build - periodic-tripleo-ci-centos-8-standalone-baremetal-wallaby - periodic-tripleo-ci-centos-8-standalone-cinder-wallaby - periodic-tripleo-ci-centos-8-standalone-clients-wallaby - periodic-tripleo-ci-centos-8-standalone-cloudops-wallaby - periodic-tripleo-ci-centos-8-standalone-common-wallaby - periodic-tripleo-ci-centos-8-standalone-compute-wallaby - periodic-tripleo-ci-centos-8-standalone-glance-wallaby - periodic-tripleo-ci-centos-8-standalone-manila-wallaby - periodic-tripleo-ci-centos-8-standalone-network-wallaby - periodic-tripleo-ci-centos-8-standalone-octavia-wallaby - periodic-tripleo-ci-centos-8-standalone-security-wallaby - periodic-tripleo-ci-centos-8-standalone-swift-wallaby - periodic-tripleo-ci-centos-8-standalone-tempest-wallaby - periodic-tripleo-ci-centos-8-standalone-tripleo-wallaby - periodic-tripleo-ci-centos-8-standalone-ui-wallaby - periodic-tripleo-ci-centos-8-standalone-validation-wallaby,1,21
openstack%2Foctavia~stable%2Fussuri~Idb3ad20b8539bfdb788981a8634317257d83b238,openstack/octavia,stable/ussuri,Idb3ad20b8539bfdb788981a8634317257d83b238,Fix empty Batch Member Update to unlock objects,MERGED,2021-04-20 11:58:00.000000000,2021-06-17 22:43:13.000000000,2021-06-17 22:40:46.000000000,"[{'_account_id': 1004}, {'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 11:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b1cdfa3a935a0b5fb74b6d833c3b3d55964adaf', 'message': 'Fix empty Batch Member Update to unlock objects\n\nMove the decision up one layer to the API controller.\nThe amphora driver should now just do as it is told.\n\nChange-Id: Idb3ad20b8539bfdb788981a8634317257d83b238\nStory: 2008731\nTask: 42083\n(cherry picked from commit 00e3f8349d353b1912a994b26926de4e0ed88258)\n'}, {'number': 2, 'created': '2021-04-26 14:43:21.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'releasenotes/notes/Fix-noop-batch-member-update-issue-09b76787553e7752.yaml', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7367311cadb958f1806abbdcb1abb5f848d2b486', 'message': 'Fix empty Batch Member Update to unlock objects\n\nMove the decision up one layer to the API controller.\nThe amphora driver should now just do as it is told.\n\nChange-Id: Idb3ad20b8539bfdb788981a8634317257d83b238\nStory: 2008731\nTask: 42083\n(cherry picked from commit 00e3f8349d353b1912a994b26926de4e0ed88258)\n'}]",0,787190,7367311cadb958f1806abbdcb1abb5f848d2b486,18,6,2,6469,,,0,"Fix empty Batch Member Update to unlock objects

Move the decision up one layer to the API controller.
The amphora driver should now just do as it is told.

Change-Id: Idb3ad20b8539bfdb788981a8634317257d83b238
Story: 2008731
Task: 42083
(cherry picked from commit 00e3f8349d353b1912a994b26926de4e0ed88258)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/787190/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'releasenotes/notes/Fix-noop-batch-member-update-issue-09b76787553e7752.yaml', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",7,1b1cdfa3a935a0b5fb74b6d833c3b3d55964adaf,," payload = {'old_member_ids': [m.id for m in deleted_members], 'new_member_ids': [m.member_id for m in new_members], 'updated_members': updated_members} self.client.cast({}, 'batch_update_members', **payload)"," if deleted_members or new_members or updated_members: payload = {'old_member_ids': [m.id for m in deleted_members], 'new_member_ids': [m.member_id for m in new_members], 'updated_members': updated_members} self.client.cast({}, 'batch_update_members', **payload) else: LOG.info(""Member batch update is a noop, returning early."")",40,19
openstack%2Foctavia~stable%2Fussuri~I5341949513e6eb814655ee8f14a01b061894fc34,openstack/octavia,stable/ussuri,I5341949513e6eb814655ee8f14a01b061894fc34,Fix task_flow.max_workers with persistence in amphorav2,MERGED,2021-05-17 07:33:00.000000000,2021-06-17 22:42:07.000000000,2021-06-17 22:40:21.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/735fbb37a0e27bc045288050b8fd503ce5620370', 'message': 'Fix task_flow.max_workers with persistence in amphorav2\n\nWhen jobboard was enabled in amphorav2, the [task_flow]/max_workers\noption was unused, updating a LB with a lot of children could have\nfailed because of dozens of concurrent connections to the database.\n\nStory 2008860\nTask 42381\n\nChange-Id: I5341949513e6eb814655ee8f14a01b061894fc34\n(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)\n(cherry picked from commit a53e2eabe339c12bab9e4bf10155f5d1cdd250a8)\n(cherry picked from commit bbb203a2881e3a203800cb3a0c898ca14f3f62a4)\n'}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5dc2b260169611ccc0f9d8193369ca15515b8cb', 'message': 'Fix task_flow.max_workers with persistence in amphorav2\n\nWhen jobboard was enabled in amphorav2, the [task_flow]/max_workers\noption was unused, updating a LB with a lot of children could have\nfailed because of dozens of concurrent connections to the database.\n\nStory 2008860\nTask 42381\n\nChange-Id: I5341949513e6eb814655ee8f14a01b061894fc34\n(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)\n(cherry picked from commit a53e2eabe339c12bab9e4bf10155f5d1cdd250a8)\n(cherry picked from commit bbb203a2881e3a203800cb3a0c898ca14f3f62a4)\n'}]",0,791663,d5dc2b260169611ccc0f9d8193369ca15515b8cb,15,4,2,6469,,,0,"Fix task_flow.max_workers with persistence in amphorav2

When jobboard was enabled in amphorav2, the [task_flow]/max_workers
option was unused, updating a LB with a lot of children could have
failed because of dozens of concurrent connections to the database.

Story 2008860
Task 42381

Change-Id: I5341949513e6eb814655ee8f14a01b061894fc34
(cherry picked from commit c5287e1b08c8ffc16bcfcb7d878dc6a652ff2834)
(cherry picked from commit a53e2eabe339c12bab9e4bf10155f5d1cdd250a8)
(cherry picked from commit bbb203a2881e3a203800cb3a0c898ca14f3f62a4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/791663/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py']",2,735fbb37a0e27bc045288050b8fd503ce5620370,," self.conf.config(group=""task_flow"", max_workers=MAX_WORKERS) engine='parallel', engine_options={ 'max_workers': MAX_WORKERS, })", engine='parallel'),9,2
openstack%2Foctavia~stable%2Fussuri~I99ce408ec886820c056b69696b26be9521740f1c,openstack/octavia,stable/ussuri,I99ce408ec886820c056b69696b26be9521740f1c,Fix comment for the ca_certificates_file opt,MERGED,2021-05-17 07:41:59.000000000,2021-06-17 22:40:37.000000000,2021-06-17 22:40:37.000000000,"[{'_account_id': 6476}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 07:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8977b01ad85d06039956744895262629584f425', 'message': 'Fix comment for the ca_certificates_file opt\n\nThe directive [certificates]/ca_certificates_file currently has a\nconfusing comment. This tries to fix it and make it more easy for\nOctavia operators to configure the directive.\n\nChange-Id: I99ce408ec886820c056b69696b26be9521740f1c\n(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)\n(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)\n(cherry picked from commit d69d06660633da7370604a45f43e0014d023f9d9)\n'}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/common/config.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/45b31c18240b6d138a803b4e22163b6654554448', 'message': 'Fix comment for the ca_certificates_file opt\n\nThe directive [certificates]/ca_certificates_file currently has a\nconfusing comment. This tries to fix it and make it more easy for\nOctavia operators to configure the directive.\n\nChange-Id: I99ce408ec886820c056b69696b26be9521740f1c\n(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)\n(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)\n(cherry picked from commit d69d06660633da7370604a45f43e0014d023f9d9)\n'}]",0,791672,45b31c18240b6d138a803b4e22163b6654554448,14,4,2,6469,,,0,"Fix comment for the ca_certificates_file opt

The directive [certificates]/ca_certificates_file currently has a
confusing comment. This tries to fix it and make it more easy for
Octavia operators to configure the directive.

Change-Id: I99ce408ec886820c056b69696b26be9521740f1c
(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)
(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)
(cherry picked from commit d69d06660633da7370604a45f43e0014d023f9d9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/791672/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'etc/octavia.conf']",2,a8977b01ad85d06039956744895262629584f425,, # Settings for the key manager endpoint (such as Barbican) # Region in Identity service catalog to use for communication with the key manager service. # Endpoint type to use for communication with the key manager service.# CA certificates file to verify key manager connections when TLS is enabled # ca_certificates_file = # Disable certificate validation on SSL connections # insecure = False ,# # Region in Identity service catalog to use for communication with the Barbican service.# # Endpoint type to use for communication with the Barbican service.,14,5
openstack%2Foctavia~stable%2Fussuri~Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,openstack/octavia,stable/ussuri,Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,Optimize CountPoolChildrenForQuota task in amphorav2,MERGED,2021-05-17 07:39:27.000000000,2021-06-17 22:40:28.000000000,2021-06-17 22:40:28.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5000ac4c9a354e6cf4b16c98bba04da361c5e45f', 'message': ""Optimize CountPoolChildrenForQuota task in amphorav2\n\nThe CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in\namphorav2. When cascade deleting a load balancer with many pools (60),\nit might take minutes.\n\nWe don't need to get and to convert all the fields from the object to\ncompute the number of children of a pool, we can optimize this task by\ncreating a new method in the PoolRepository class.\n\nStory 2008873\nTask 42414\n\nChange-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261\n(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)\n(cherry picked from commit adb454b2e8a9fc7b69c40c4fa62c21020a68524c)\n(cherry picked from commit 37b15da4a13da800b991d81e89e15fe1ff216568)\n""}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4cfbf6669d77c78b95fa7252b5032e33db4bd1a1', 'message': ""Optimize CountPoolChildrenForQuota task in amphorav2\n\nThe CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in\namphorav2. When cascade deleting a load balancer with many pools (60),\nit might take minutes.\n\nWe don't need to get and to convert all the fields from the object to\ncompute the number of children of a pool, we can optimize this task by\ncreating a new method in the PoolRepository class.\n\nStory 2008873\nTask 42414\n\nChange-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261\n(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)\n(cherry picked from commit adb454b2e8a9fc7b69c40c4fa62c21020a68524c)\n(cherry picked from commit 37b15da4a13da800b991d81e89e15fe1ff216568)\n""}]",0,791669,4cfbf6669d77c78b95fa7252b5032e33db4bd1a1,12,4,2,6469,,,0,"Optimize CountPoolChildrenForQuota task in amphorav2

The CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in
amphorav2. When cascade deleting a load balancer with many pools (60),
it might take minutes.

We don't need to get and to convert all the fields from the object to
compute the number of children of a pool, we can optimize this task by
creating a new method in the PoolRepository class.

Story 2008873
Task 42414

Change-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261
(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)
(cherry picked from commit adb454b2e8a9fc7b69c40c4fa62c21020a68524c)
(cherry picked from commit 37b15da4a13da800b991d81e89e15fe1ff216568)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/791669/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py']",4,5000ac4c9a354e6cf4b16c98bba04da361c5e45f,," @mock.patch('octavia.db.repositories.PoolRepository.get_children_count') pool = data_models.Pool(id=1, project_id=project_id) repo_mock.return_value = (0, 0) result = task.execute(pool.id) repo_mock.return_value = (1, 2) result = task.execute(pool.id)"," @mock.patch('octavia.db.repositories.PoolRepository.get') member1 = data_models.Member(id=1, project_id=project_id) member2 = data_models.Member(id=2, project_id=project_id) healtmon = data_models.HealthMonitor(id=1, project_id=project_id) pool_no_children = data_models.Pool(id=1, project_id=project_id) pool_1_mem = data_models.Pool(id=1, project_id=project_id, members=[member1]) pool_hm = data_models.Pool(id=1, project_id=project_id, health_monitor=healtmon) pool_hm_2_mem = data_models.Pool(id=1, project_id=project_id, health_monitor=healtmon, members=[member1, member2]) repo_mock.return_value = pool_no_children result = task.execute(pool_no_children.id) # Test pool with one member repo_mock.reset_mock() repo_mock.return_value = pool_1_mem result = task.execute(pool_1_mem.id) self.assertEqual({'HM': 0, 'member': 1}, result) # Test pool with health monitor and no members repo_mock.reset_mock() repo_mock.return_value = pool_hm result = task.execute(pool_hm.id) self.assertEqual({'HM': 1, 'member': 0}, result) repo_mock.return_value = pool_hm_2_mem result = task.execute(pool_hm_2_mem.id)",63,37
openstack%2Frequirements~master~Iced7502896a2a30942cee3927a83235893cdf9fe,openstack/requirements,master,Iced7502896a2a30942cee3927a83235893cdf9fe,update constraint for ovsdbapp to new release 1.11.0,MERGED,2021-06-17 12:08:12.000000000,2021-06-17 22:37:44.000000000,2021-06-17 22:36:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-17 12:08:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a317a797d346bcc21340a4ca44d52716099f5e1', 'message': 'update constraint for ovsdbapp to new release 1.11.0\n\nmeta: version: 1.11.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Ihar Hrachyshka <ihrachys@redhat.com>\nmeta: release:Commit: Ihar Hrachyshka <ihrachys@redhat.com>\nmeta: release:Change-Id: I60a41cf6097e5f8bbc008bc61f653b6a3abdf361\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iced7502896a2a30942cee3927a83235893cdf9fe\n'}]",0,796827,3a317a797d346bcc21340a4ca44d52716099f5e1,14,3,1,11131,,,0,"update constraint for ovsdbapp to new release 1.11.0

meta: version: 1.11.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Ihar Hrachyshka <ihrachys@redhat.com>
meta: release:Commit: Ihar Hrachyshka <ihrachys@redhat.com>
meta: release:Change-Id: I60a41cf6097e5f8bbc008bc61f653b6a3abdf361
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iced7502896a2a30942cee3927a83235893cdf9fe
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/796827/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3a317a797d346bcc21340a4ca44d52716099f5e1,new-release,ovsdbapp===1.11.0,ovsdbapp===1.10.0,1,1
openstack%2Fpuppet-oslo~stable%2Fvictoria~If2df7664e43d62ceb979fe597e65b1ce046d00cc,openstack/puppet-oslo,stable/victoria,If2df7664e43d62ceb979fe597e65b1ce046d00cc,Use tripleo puppet job instaed of tripleo job,MERGED,2021-06-16 02:16:59.000000000,2021-06-17 22:35:14.000000000,2021-06-17 22:35:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 02:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b28747fac1fc3c06cefb6cdaee069ce15466e91e', 'message': 'Use tripleo puppet job instaed of tripleo job\n\n... so that we define all tripleo jobs in puppet moudles based on\nthe base job definition.\n\nChange-Id: If2df7664e43d62ceb979fe597e65b1ce046d00cc\n(cherry picked from commit d2f0bcff69fd9ddbb6971f4ec40f9e412e91b1ca)\n(cherry picked from commit ae67cd33eb1f6a410aae79283951b6ceac642adc)\n'}, {'number': 2, 'created': '2021-06-16 09:09:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/08d8f20db261b2d914f569dbe4db61c82ed05807', 'message': 'Use tripleo puppet job instaed of tripleo job\n\n... so that we define all tripleo jobs in puppet moudles based on\nthe base job definition.\n\nChange-Id: If2df7664e43d62ceb979fe597e65b1ce046d00cc\n(cherry picked from commit d2f0bcff69fd9ddbb6971f4ec40f9e412e91b1ca)\n(cherry picked from commit ae67cd33eb1f6a410aae79283951b6ceac642adc)\n'}]",0,796558,08d8f20db261b2d914f569dbe4db61c82ed05807,10,3,2,9816,,,0,"Use tripleo puppet job instaed of tripleo job

... so that we define all tripleo jobs in puppet moudles based on
the base job definition.

Change-Id: If2df7664e43d62ceb979fe597e65b1ce046d00cc
(cherry picked from commit d2f0bcff69fd9ddbb6971f4ec40f9e412e91b1ca)
(cherry picked from commit ae67cd33eb1f6a410aae79283951b6ceac642adc)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/58/796558/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b28747fac1fc3c06cefb6cdaee069ce15466e91e,tripleo-stable/wallaby-stable/victoria, - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-8-standalone, - tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-standalone queue: tripleo,2,3
openstack%2Foctavia~stable%2Fussuri~I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,openstack/octavia,stable/ussuri,I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,Fix rsyslog configuration when disabling logs,MERGED,2021-05-17 07:30:00.000000000,2021-06-17 22:29:45.000000000,2021-06-17 22:28:26.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/130bfcd4ae495168d18aea284cd38e40bf949029', 'message': 'Fix rsyslog configuration when disabling logs\n\nFix an invalid rsyslog configuration when disabling both log offloading\nand local log storage.\n\nStory 2008782\nTask 42173\n\nChange-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7\n(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)\n(cherry picked from commit 2195a45a1ba14736211bd7305989e8ae9d5d9934)\n'}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/common/jinja/logging/templates/10-rsyslog.conf.template', 'releasenotes/notes/fix-error-in-rsyslog-config-a316a7856e1a847a.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bae6808f1c6491d3781884e54c32c76ae3c5a703', 'message': 'Fix rsyslog configuration when disabling logs\n\nFix an invalid rsyslog configuration when disabling both log offloading\nand local log storage.\n\nStory 2008782\nTask 42173\n\nChange-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7\n(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)\n(cherry picked from commit 2195a45a1ba14736211bd7305989e8ae9d5d9934)\n'}]",0,791659,bae6808f1c6491d3781884e54c32c76ae3c5a703,13,4,2,6469,,,0,"Fix rsyslog configuration when disabling logs

Fix an invalid rsyslog configuration when disabling both log offloading
and local log storage.

Story 2008782
Task 42173

Change-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7
(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)
(cherry picked from commit 2195a45a1ba14736211bd7305989e8ae9d5d9934)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/791659/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/common/jinja/logging/templates/10-rsyslog.conf.template', 'releasenotes/notes/fix-error-in-rsyslog-config-a316a7856e1a847a.yaml']",3,130bfcd4ae495168d18aea284cd38e40bf949029,,--- fixes: - | Fix an issue with the rsyslog configuration file in the Amphora when the log offloading feature and the local log storage feature are both disabled. ,,35,13
openstack%2Fopenstack-tempest-skiplist~master~I6a097ef3ae5cbce8c338ddb66ad4c14116668089,openstack/openstack-tempest-skiplist,master,I6a097ef3ae5cbce8c338ddb66ad4c14116668089,Increase ruamel version,MERGED,2021-06-17 22:05:26.000000000,2021-06-17 22:25:30.000000000,2021-06-17 22:24:22.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 22:05:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c5fc9a95c324903cd81f988c78480786c741b2ba', 'message': 'Increase ruamel version\n\nSkiplist jobs are failing due ruamel uper constraint, updating it to fix\nit\n\nChange-Id: I6a097ef3ae5cbce8c338ddb66ad4c14116668089\n'}]",0,796956,c5fc9a95c324903cd81f988c78480786c741b2ba,8,3,1,8367,,,0,"Increase ruamel version

Skiplist jobs are failing due ruamel uper constraint, updating it to fix
it

Change-Id: I6a097ef3ae5cbce8c338ddb66ad4c14116668089
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/56/796956/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c5fc9a95c324903cd81f988c78480786c741b2ba,up-ruamel,ruamel.yaml==0.17.9,ruamel.yaml==0.17.7,1,1
openstack%2Foctavia~stable%2Fussuri~I987535e90cbf13917c50c5905c64b614188928ec,openstack/octavia,stable/ussuri,I987535e90cbf13917c50c5905c64b614188928ec,Fix devstack cleanup when using amphorav2,MERGED,2021-05-17 07:16:53.000000000,2021-06-17 22:25:14.000000000,2021-06-17 22:23:44.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c42fe89f5db16b1a3058009d1423ab3bf50ea21f', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled.\nThis commit move the stop_redis step to the octavia_stop step and\nensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)\n(cherry picked from commit 168f1a121266bd0c4ae15b1887f8e9e14022824d)\n(cherry picked from commit 5d49484eb6ae4fc1cf59c110a725d33aaad0b038)\n""}, {'number': 2, 'created': '2021-05-18 15:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8321d1f153e4a3294b87c51969822f01fffcbcd', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled.\nThis commit move the stop_redis step to the octavia_stop step and\nensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)\n(cherry picked from commit 168f1a121266bd0c4ae15b1887f8e9e14022824d)\n(cherry picked from commit 5d49484eb6ae4fc1cf59c110a725d33aaad0b038)\n""}, {'number': 3, 'created': '2021-06-08 14:48:41.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8829f0fbbe6b100baba16214f8829f65cc828952', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled.\nThis commit move the stop_redis step to the octavia_stop step and\nensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)\n(cherry picked from commit 168f1a121266bd0c4ae15b1887f8e9e14022824d)\n(cherry picked from commit 5d49484eb6ae4fc1cf59c110a725d33aaad0b038)\n""}]",3,791653,8829f0fbbe6b100baba16214f8829f65cc828952,24,5,3,6469,,,0,"Fix devstack cleanup when using amphorav2

When cleaning up a devstack environment with amphorav2 enabled,
./clean.sh might fail because redis has already been stopped and
uninstalled.
This commit move the stop_redis step to the octavia_stop step and
ensures that stopping redis doesn't fail.

Change-Id: I987535e90cbf13917c50c5905c64b614188928ec
(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)
(cherry picked from commit 168f1a121266bd0c4ae15b1887f8e9e14022824d)
(cherry picked from commit 5d49484eb6ae4fc1cf59c110a725d33aaad0b038)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/791653/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,c42fe89f5db16b1a3058009d1423ab3bf50ea21f,,function stop_redis { stop_service redis || true } if [[ ${OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD} == True ]]; then stop_redis fi, stop_service redis ,8,2
openstack%2Ftrove~master~If9fd7d01f210b317efa2a20113918362186a2402,openstack/trove,master,If9fd7d01f210b317efa2a20113918362186a2402,Enable tls-proxy support in test jobs,MERGED,2021-06-17 08:04:19.000000000,2021-06-17 22:22:13.000000000,2021-06-17 22:20:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 08:04:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/2114e8a7750f1e6ed0aa2fbc36c7655abf48df0e', 'message': 'Enable tls-proxy support in test jobs\n\nChange-Id: If9fd7d01f210b317efa2a20113918362186a2402\n'}]",0,796784,2114e8a7750f1e6ed0aa2fbc36c7655abf48df0e,8,2,1,12404,,,0,"Enable tls-proxy support in test jobs

Change-Id: If9fd7d01f210b317efa2a20113918362186a2402
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/796784/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2114e8a7750f1e6ed0aa2fbc36c7655abf48df0e,exame-tls-proxy,, tls-proxy: false tls-proxy: false tls-proxy: false,0,3
openstack%2Foctavia~stable%2Fussuri~I602418264e171a2b1a926eff0b1f9e6dc186295a,openstack/octavia,stable/ussuri,I602418264e171a2b1a926eff0b1f9e6dc186295a,Validate user access to vip_subnet_id when creating a LB,MERGED,2021-05-17 07:11:54.000000000,2021-06-17 22:18:07.000000000,2021-06-17 22:16:32.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/73db7b076290aca89544f389decd3b85c14fad0c', 'message': ""Validate user access to vip_subnet_id when creating a LB\n\nA user was able to create a LB using a vip_subnet_id from another user\n(by passing the UUID).\nNow, the vip_subnet_id parameter is validated using the user context,\nso an error is returned if the subnet doesn't belong to the user.\n\nI479019a911b5a1acfc1951d1cbbc2a351089cb4d was a previous attempt to fix\nthat bug but vip_subnet_id check was missing.\n\nStory: 2008586\nTask: 41741\n\nDepends-On: https://review.opendev.org/774157\n\nChange-Id: I602418264e171a2b1a926eff0b1f9e6dc186295a\n(cherry picked from commit 8d86187c0abd282d10a9fbe294df68f9100ad4a0)\n(cherry picked from commit 7d1b81d78f4383af725e0f6557b6dfe37ec74799)\n""}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/validate-access-to-vip_subnet_id-48fc92b45529cafd.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/19619ce88862b17c4fdbf81072fa77e5252e533e', 'message': ""Validate user access to vip_subnet_id when creating a LB\n\nA user was able to create a LB using a vip_subnet_id from another user\n(by passing the UUID).\nNow, the vip_subnet_id parameter is validated using the user context,\nso an error is returned if the subnet doesn't belong to the user.\n\nI479019a911b5a1acfc1951d1cbbc2a351089cb4d was a previous attempt to fix\nthat bug but vip_subnet_id check was missing.\n\nStory: 2008586\nTask: 41741\n\nDepends-On: https://review.opendev.org/774157\n\nChange-Id: I602418264e171a2b1a926eff0b1f9e6dc186295a\n(cherry picked from commit 8d86187c0abd282d10a9fbe294df68f9100ad4a0)\n(cherry picked from commit 7d1b81d78f4383af725e0f6557b6dfe37ec74799)\n""}]",0,791649,19619ce88862b17c4fdbf81072fa77e5252e533e,13,4,2,6469,,,0,"Validate user access to vip_subnet_id when creating a LB

A user was able to create a LB using a vip_subnet_id from another user
(by passing the UUID).
Now, the vip_subnet_id parameter is validated using the user context,
so an error is returned if the subnet doesn't belong to the user.

I479019a911b5a1acfc1951d1cbbc2a351089cb4d was a previous attempt to fix
that bug but vip_subnet_id check was missing.

Story: 2008586
Task: 41741

Depends-On: https://review.opendev.org/774157

Change-Id: I602418264e171a2b1a926eff0b1f9e6dc186295a
(cherry picked from commit 8d86187c0abd282d10a9fbe294df68f9100ad4a0)
(cherry picked from commit 7d1b81d78f4383af725e0f6557b6dfe37ec74799)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/791649/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/validate-access-to-vip_subnet_id-48fc92b45529cafd.yaml']",2,73db7b076290aca89544f389decd3b85c14fad0c,,--- fixes: - | Fix a bug that allowed a user to create a load balancer on a ``vip_subnet_id`` that belongs to another user using the subnet UUID. ,,6,1
openstack%2Fnova~stable%2Fussuri~Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675,openstack/nova,stable/ussuri,Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675,Detach is broken for multi-attached fs-based volumes,NEW,2021-06-14 11:05:17.000000000,2021-06-17 22:03:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 29568}]","[{'number': 1, 'created': '2021-06-14 11:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1deab8aef31d8ad66cc2dda86b0bae2c659836d5', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n(cherry picked from commit 806575cfd5327f96e62462f484118d06d17cbe8d)\n'}, {'number': 2, 'created': '2021-06-17 17:20:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1888022-detach-multiattached-volumes-5fa862aea7f237ea.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e683f8f0e6cec81b7ef61fc3e76a3f54399f34ff', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n(cherry picked from commit 806575cfd5327f96e62462f484118d06d17cbe8d)\n'}]",0,796263,e683f8f0e6cec81b7ef61fc3e76a3f54399f34ff,8,2,2,10135,,,0,"Detach is broken for multi-attached fs-based volumes

Fixed an issue with detaching multi-attached fs-based volumes.
Volume drivers using _HostMountStateManager are special case.
_HostMountStateManager ensures that the compute node only attempts
to mount a single mountpoint in use by multiple attachments once,
and that it is not unmounted until it is no longer in use by any
attachments. So we can skip the multiattach check for volume drivers
that based on LibvirtMountedFileSystemVolumeDriver.

Closes-Bug: 1888022
Change-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675
(cherry picked from commit 806575cfd5327f96e62462f484118d06d17cbe8d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/796263/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1888022-detach-multiattached-volumes-5fa862aea7f237ea.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,1deab8aef31d8ad66cc2dda86b0bae2c659836d5,,"from nova.virt.libvirt.volume import fs as fs_drivers def test_should_disconnect_target_multi_attach_filesystem_driver(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) volume_driver = mock.MagicMock( spec=fs_drivers.LibvirtMountedFileSystemVolumeDriver) self.assertTrue(drvr._should_disconnect_target( self.context, None, True, volume_driver, None)) def test_should_disconnect_target_single_attach_filesystem_driver(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) volume_driver = mock.MagicMock( spec=fs_drivers.LibvirtMountedFileSystemVolumeDriver) self.assertTrue(drvr._should_disconnect_target( self.context, None, False, volume_driver, None)) ",,63,30
openstack%2Frequirements~master~I1a607cbdfdc6f7c95d6359ba6ee3f38e1c6a940a,openstack/requirements,master,I1a607cbdfdc6f7c95d6359ba6ee3f38e1c6a940a,update constraint for neutron-lib to new release 2.12.0,MERGED,2021-05-31 11:13:22.000000000,2021-06-17 21:45:15.000000000,2021-06-17 21:42:45.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-31 11:13:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/230fa080ebd33048afa575076e22e9f96480dafe', 'message': 'update constraint for neutron-lib to new release 2.12.0\n\nmeta: version: 2.12.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: Ib6fe6d7c8a507a312acad209071d34ab76f9f5c2\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1a607cbdfdc6f7c95d6359ba6ee3f38e1c6a940a\n'}]",0,793769,230fa080ebd33048afa575076e22e9f96480dafe,27,6,1,11131,,,0,"update constraint for neutron-lib to new release 2.12.0

meta: version: 2.12.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: Ib6fe6d7c8a507a312acad209071d34ab76f9f5c2
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I1a607cbdfdc6f7c95d6359ba6ee3f38e1c6a940a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/793769/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,230fa080ebd33048afa575076e22e9f96480dafe,new-release,neutron-lib===2.12.0,neutron-lib===2.11.0,1,1
openstack%2Fkolla~stable%2Ftrain~Ic8586172024c662843189d1e456bcb51a2d7565a,openstack/kolla,stable/train,Ic8586172024c662843189d1e456bcb51a2d7565a,Bump final OpenStack versions for Train,MERGED,2021-06-08 08:42:18.000000000,2021-06-17 21:39:34.000000000,2021-06-17 21:38:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-08 08:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4a471362314a8f336abb582bd4643b419ad2111', 'message': 'Bump final OpenStack versions for Train\n\nTrain is now entering Extended Maintenance (EM), so this is expected\nto be the final version bump on this branch.\n\nChange-Id: Ic8586172024c662843189d1e456bcb51a2d7565a\n'}, {'number': 2, 'created': '2021-06-10 19:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/100b730666b0c9111331d62d400e78b2eb90d461', 'message': 'Bump final OpenStack versions for Train\n\nTrain is now entering Extended Maintenance (EM), so this is expected\nto be the final version bump on this branch.\n\nChange-Id: Ic8586172024c662843189d1e456bcb51a2d7565a\n'}, {'number': 3, 'created': '2021-06-16 15:15:10.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c08d80950f6b7ca598b55178795eb7618bd1a95d', 'message': 'Bump final OpenStack versions for Train\n\nTrain is now entering Extended Maintenance (EM), so this is expected\nto be the final version bump on this branch.\n\nChange-Id: Ic8586172024c662843189d1e456bcb51a2d7565a\n'}]",0,795258,c08d80950f6b7ca598b55178795eb7618bd1a95d,29,6,3,14826,,,0,"Bump final OpenStack versions for Train

Train is now entering Extended Maintenance (EM), so this is expected
to be the final version bump on this branch.

Change-Id: Ic8586172024c662843189d1e456bcb51a2d7565a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/795258/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,d4a471362314a8f336abb582bd4643b419ad2111,," 'cinder-15.6.0.tar.gz')}, 'horizon-16.2.2.tar.gz')}, 'mistral-dashboard-9.0.1.tar.gz')}, 'monasca-ui-1.17.2.tar.gz')}, 'octavia-dashboard-4.0.2.tar.gz')}, 'keystone-16.0.2.tar.gz')}, 'masakari-8.1.2.tar.gz')}, 'neutron-15.3.4.tar.gz')}, 'networking-ovn-7.4.1.tar.gz')}, 'networking-ovn-7.4.1.tar.gz')}, 'nova-20.6.1.tar.gz')}, 'octavia-5.1.2.tar.gz')}, 'swift-2.23.3.tar.gz')},"," 'cinder-15.4.1.tar.gz')}, 'horizon-16.2.1.tar.gz')}, 'mistral-dashboard-9.0.0.tar.gz')}, 'monasca-ui-1.17.1.tar.gz')}, 'octavia-dashboard-4.0.1.tar.gz')}, 'keystone-16.0.1.tar.gz')}, 'masakari-8.1.1.tar.gz')}, 'neutron-15.3.3.tar.gz')}, 'networking-ovn-7.4.0.tar.gz')}, 'networking-ovn-7.4.0.tar.gz')}, 'nova-20.6.0.tar.gz')}, 'octavia-5.1.1.tar.gz')}, 'swift-2.23.2.tar.gz')},",13,13
openstack%2Fnova~stable%2Fvictoria~I87a10e6ad65ae493cd34c6c0e62d60c5d6f9d1d8,openstack/nova,stable/victoria,I87a10e6ad65ae493cd34c6c0e62d60c5d6f9d1d8,Use _evacuate_server helper in func test,NEW,2021-05-14 13:31:31.000000000,2021-06-17 21:21:15.000000000,,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/regressions/test_bug_1713783.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1669054.py', 'nova/tests/functional/regressions/test_bug_1815153.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/933090c2db89d62f801563219ee33eecc485f9b8', 'message': ""Use _evacuate_server helper in func test\n\nWe have a nice helper for calling evacuate and waiting for the result so\nlet's replace the direct post api calls in func test with the helper.\n\nChange-Id: I87a10e6ad65ae493cd34c6c0e62d60c5d6f9d1d8\n(cherry picked from commit f419f1a4b12cb6a26e7dcd0c5a91aba9b9e9cb32)\n""}]",0,791481,933090c2db89d62f801563219ee33eecc485f9b8,4,3,1,10135,,,0,"Use _evacuate_server helper in func test

We have a nice helper for calling evacuate and waiting for the result so
let's replace the direct post api calls in func test with the helper.

Change-Id: I87a10e6ad65ae493cd34c6c0e62d60c5d6f9d1d8
(cherry picked from commit f419f1a4b12cb6a26e7dcd0c5a91aba9b9e9cb32)
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/791481/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/regressions/test_bug_1713783.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1669054.py', 'nova/tests/functional/regressions/test_bug_1815153.py']",13,933090c2db89d62f801563219ee33eecc485f9b8,," server = self._evacuate_server( server, {'host': target_host}, expected_host=original_host, expected_state='ERROR', expected_migration_status='error')"," self.api.post_server_action( server['id'], {'evacuate': {'host': target_host}}) expected_params = {'OS-EXT-SRV-ATTR:host': original_host, 'status': 'ERROR'} server = self._wait_for_server_parameter(server, expected_params)",95,133
openstack%2Ftripleo-operator-ansible~master~Idfd678fd80b110255664958bf019127e472989b3,openstack/tripleo-operator-ansible,master,Idfd678fd80b110255664958bf019127e472989b3,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:11:35.000000000,2021-06-17 21:05:15.000000000,2021-06-17 21:04:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 17:11:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/920f76c1385545b16da829fdccdfc6a1711dbb70', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: Idfd678fd80b110255664958bf019127e472989b3\n'}]",0,796919,920f76c1385545b16da829fdccdfc6a1711dbb70,7,2,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: Idfd678fd80b110255664958bf019127e472989b3
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/19/796919/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,920f76c1385545b16da829fdccdfc6a1711dbb70,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Fopenstack-ansible-os_magnum~stable%2Fvictoria~I8a569f47c0f3100f4c49dde01c58b31338ab1182,openstack/openstack-ansible-os_magnum,stable/victoria,I8a569f47c0f3100f4c49dde01c58b31338ab1182,Define region for Magnum trust,MERGED,2021-06-07 12:54:01.000000000,2021-06-17 20:33:55.000000000,2021-06-17 20:32:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-07 12:54:01.000000000', 'files': ['templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/387a3e243f730bd84156db3d4a55ebcf2f8cdf15', 'message': 'Define region for Magnum trust\n\nWe were missing region definition for trust section which resulted in\nissues in multiregion deployments\n\nChange-Id: I8a569f47c0f3100f4c49dde01c58b31338ab1182\n(cherry picked from commit 9f3dfd20b06d324a5b34eadc47651585fd414d73)\n'}]",0,795043,387a3e243f730bd84156db3d4a55ebcf2f8cdf15,22,3,1,28619,,,0,"Define region for Magnum trust

We were missing region definition for trust section which resulted in
issues in multiregion deployments

Change-Id: I8a569f47c0f3100f4c49dde01c58b31338ab1182
(cherry picked from commit 9f3dfd20b06d324a5b34eadc47651585fd414d73)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/43/795043/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/magnum.conf.j2'],1,387a3e243f730bd84156db3d4a55ebcf2f8cdf15,,trustee_keystone_region_name = {{ magnum_service_region }},,1,0
openstack%2Fkolla-ansible~master~I15d97236d37ddc2ab5b25da75582a330db0e5dbd,openstack/kolla-ansible,master,I15d97236d37ddc2ab5b25da75582a330db0e5dbd,Added upgrade note for separate nova and cinder keys.,ABANDONED,2021-06-16 14:12:10.000000000,2021-06-17 20:24:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-16 14:12:10.000000000', 'files': ['doc/source/user/operating-kolla.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff31b635453d8211e2a301cc15b0077de40255ad', 'message': 'Added upgrade note for separate nova and cinder keys.\n\nChange-Id: I15d97236d37ddc2ab5b25da75582a330db0e5dbd\n'}]",0,796681,ff31b635453d8211e2a301cc15b0077de40255ad,3,1,1,31425,,,0,"Added upgrade note for separate nova and cinder keys.

Change-Id: I15d97236d37ddc2ab5b25da75582a330db0e5dbd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/796681/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/operating-kolla.rst'],1,ff31b635453d8211e2a301cc15b0077de40255ad,upgrade-doc-fix,".. note:: If you have separate keys for nova and cinder, please be sure to set ``""ceph_nova_keyring: ceph.client.nova.keyring""`` in ``/etc/kolla/globals.yml`` ",,5,0
openstack%2Fdesignate~master~Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c,openstack/designate,master,Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c,Add simple scheduler permutation tests,MERGED,2021-06-02 05:45:20.000000000,2021-06-17 20:12:10.000000000,2021-06-17 20:10:43.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-02 05:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ad829c1565ee6522d42df3a54bc5d6d37a7ea212', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}, {'number': 2, 'created': '2021-06-02 05:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e16b78dd6f8856f82bb77a7b78238a3587c5ead7', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}, {'number': 3, 'created': '2021-06-02 06:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9240650649757b6e8fd34ae6ba72f6107bab3ea9', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}, {'number': 4, 'created': '2021-06-16 21:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3ae1519d579c42f84dbe3efe534d7b963f1adc73', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}, {'number': 5, 'created': '2021-06-17 00:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d59b45f162783da1fd3de2d5e80d8e4633f65e6d', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}, {'number': 6, 'created': '2021-06-17 00:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7ea620e4c0f60b7a7007eecdbb5978af54babb88', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}, {'number': 7, 'created': '2021-06-17 17:57:44.000000000', 'files': ['designate/tests/unit/scheduler/test_permutations.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/c0bd7c7ff0fd56a12b41b545daa78e04c2355175', 'message': 'Add simple scheduler permutation tests\n\nChange-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c\n'}]",6,794135,c0bd7c7ff0fd56a12b41b545daa78e04c2355175,23,5,7,22623,,,0,"Add simple scheduler permutation tests

Change-Id: Ib55d16b2f05269ae58bbcf38e816fb776dbe4f3c
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/794135/3 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/scheduler/test_permutations.py'],1,ad829c1565ee6522d42df3a54bc5d6d37a7ea212,scheduler_tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from oslo_config import cfg from oslo_config import fixture as cfg_fixture from designate import exceptions from designate import objects from designate import scheduler from designate import tests class AttributeSchedulerPermutationsTest(tests.TestCase): def setUp(self): super(AttributeSchedulerPermutationsTest, self).setUp() self.CONF = self.useFixture(cfg_fixture.Config(cfg.CONF)).conf self.context = self.get_context() self.CONF.set_override( 'scheduler_filters', ['attribute'], 'service:central' ) pools = objects.PoolList.from_list( [ {'id': '794ccc2c-d751-44fe-b57f-8894c9f5c842'}, {'id': '5fabcd37-262c-4cf3-8625-7f419434b6df'}, {'id': '24702e43-8a52-440f-ab74-19fc16048860'}, ] ) pool_0_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'gold' }, ]) pool_1_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'silver' }, ]) pool_2_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'bronze' }, ]) pools[0].attributes = pool_0_attributes pools[1].attributes = pool_1_attributes pools[2].attributes = pool_2_attributes attrs = { 'find_pools.return_value': pools } mock_storage = mock.Mock(**attrs) self.scheduler = scheduler.get_scheduler(storage=mock_storage) def test_get_gold_tier(self): zone = objects.Zone( name='example.com.', type='PRIMARY', email='hostmaster@example.com', attributes=objects.ZoneAttributeList.from_list( [ { 'key': 'service_tier', 'value': 'gold' }, ] ) ) result = self.scheduler.schedule_zone(self.context, zone) self.assertEqual('794ccc2c-d751-44fe-b57f-8894c9f5c842', result) def test_get_silver_tier(self): zone = objects.Zone( name='example.com.', type='PRIMARY', email='hostmaster@example.com', attributes=objects.ZoneAttributeList.from_list( [ { 'key': 'service_tier', 'value': 'silver' }, ] ) ) result = self.scheduler.schedule_zone(self.context, zone) self.assertEqual('5fabcd37-262c-4cf3-8625-7f419434b6df', result) def test_tier_not_found_raises_exception(self): zone = objects.Zone( name='example.com.', type='PRIMARY', email='hostmaster@example.com', attributes=objects.ZoneAttributeList.from_list( [ { 'key': 'service_tier', 'value': 'blue' }, ] ) ) self.assertRaises( exceptions.NoValidPoolFound, self.scheduler.schedule_zone, self.context, zone ) def test_no_tier_raises_exception(self): zone = objects.Zone( name='example.com.', type='PRIMARY', email='hostmaster@example.com', attributes=objects.ZoneAttributeList.from_list( [] ) ) # When no attribute is requested it will return all available pools. # NOTE(eandersson): This is probably not intended behavior. We probably want this to return NoValidPoolFound, so that we can use a fallback filter with the attribute filter. self.assertRaises( exceptions.MultiplePoolsFound, self.scheduler.schedule_zone, self.context, zone ) class DefaultSchedulerPermutationsTest(tests.TestCase): def setUp(self): super(DefaultSchedulerPermutationsTest, self).setUp() self.CONF = self.useFixture(cfg_fixture.Config(cfg.CONF)).conf self.context = self.get_context() self.CONF.set_override( 'scheduler_filters', ['default_pool'], 'service:central' ) pools = objects.PoolList.from_list( [ {'id': '794ccc2c-d751-44fe-b57f-8894c9f5c842'}, {'id': '5fabcd37-262c-4cf3-8625-7f419434b6df'}, ] ) pool_0_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'gold' }, ]) pool_1_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'silver' }, ]) pools[0].attributes = pool_0_attributes pools[1].attributes = pool_1_attributes attrs = { 'find_pools.return_value': pools } mock_storage = mock.Mock(**attrs) self.scheduler = scheduler.get_scheduler(storage=mock_storage) def test_get_default_pool(self): zone = objects.Zone( name='example.com.', type='PRIMARY', email='hostmaster@example.com', ) result = self.scheduler.schedule_zone(self.context, zone) self.assertEqual('794ccc2c-d751-44fe-b57f-8894c9f5c842', result) class FallbackSchedulerPermutationsTest(tests.TestCase): def setUp(self): super(FallbackSchedulerPermutationsTest, self).setUp() self.CONF = self.useFixture(cfg_fixture.Config(cfg.CONF)).conf self.context = self.get_context() self.CONF.set_override( 'scheduler_filters', ['attribute', 'fallback'], 'service:central' ) pools = objects.PoolList.from_list( [ {'id': '794ccc2c-d751-44fe-b57f-8894c9f5c842'}, {'id': '5fabcd37-262c-4cf3-8625-7f419434b6df'}, ] ) pool_0_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'gold' }, ]) pool_1_attributes = objects.PoolAttributeList.from_list([ { 'key': 'service_tier', 'value': 'silver' }, ]) pools[0].attributes = pool_0_attributes pools[1].attributes = pool_1_attributes attrs = { 'find_pools.return_value': pools } mock_storage = mock.Mock(**attrs) self.scheduler = scheduler.get_scheduler(storage=mock_storage) def test_tier_not_found_return_default(self): zone = objects.Zone( name='example.com.', type='PRIMARY', email='hostmaster@example.com', attributes=objects.ZoneAttributeList.from_list( [ { 'key': 'service_tier', 'value': 'that does not exist' }, ] ) ) result = self.scheduler.schedule_zone(self.context, zone) self.assertEqual('794ccc2c-d751-44fe-b57f-8894c9f5c842', result) ",,261,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,openstack/puppet-tripleo,stable/train,Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,Add pcmk_host_list stonith-fence_compute-fence-nova,MERGED,2021-06-16 11:36:53.000000000,2021-06-17 20:06:34.000000000,2021-06-17 20:06:34.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 11:36:53.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b88561ba3be3ae94c0db93f8cb47e8706116e782', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)\n(cherry picked from commit ebd5679d116a5f85e67429ecee9ee6f90def5b1a)\n(cherry picked from commit 68a4838056ff9327cda0ecf19e5ec66e5de9f5e3)\n'}]",0,796568,b88561ba3be3ae94c0db93f8cb47e8706116e782,9,5,1,20172,,,0,"Add pcmk_host_list stonith-fence_compute-fence-nova

With this change we explicitely tell the stonith-fence_compute-fence-nova
resource which pacemaker nodes it is allowed to fence.

This is a good idea in general as it makes things more explicit and
we do not rely on other pcmk mechanisms (stonith querying the list
of nodes returned by the fence agent) to determine which nodes it
is allowed to fence.

Tested with this change and the stonith resource is correctly set:
[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova
 Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)
  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default
  Meta Attrs: provides=unfencing
  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)
....

Change-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e
(cherry picked from commit 781d197a342c6c3ee82f951483930f3d66673b4c)
(cherry picked from commit ebd5679d116a5f85e67429ecee9ee6f90def5b1a)
(cherry picked from commit 68a4838056ff9327cda0ecf19e5ec66e5de9f5e3)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/796568/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,b88561ba3be3ae94c0db93f8cb47e8706116e782,iha-hostlist-stable/wallaby-stable/ussuri-stable/train," # This passes the explicit host list of compute nodes that the fence_compute stonith device # is in charge of $compute_list = downcase(join(any2array(hiera('compute_instanceha_short_node_names', '')), ',')) pcmk_host_list => $compute_list,"," pcmk_host_list => '',",4,1
openstack%2Fironic~master~I8c6e4593a91a22612dce56fea859c318abb5c4c4,openstack/ironic,master,I8c6e4593a91a22612dce56fea859c318abb5c4c4,WIP Publish images to S3,ABANDONED,2021-04-03 07:30:29.000000000,2021-06-17 19:50:53.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 07:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4126427c279ad12e9d5a5ad713993995b9b24e35', 'message': 'WIP Publish images to S3\n\nThis demonstrates how support for an S3 compatible object store can\nbe plugged into the current logic to publish and unpublish images.\n\nIdeally, we could have an interface for all stores, and the\nimplementation for a local web server would inherit from it. The\nselection of which implementation to use is done through ""ifs"" for\nthe moment.\n\nStory: 2008671\nTask: 41961\nChange-Id: I8c6e4593a91a22612dce56fea859c318abb5c4c4\n'}, {'number': 2, 'created': '2021-04-14 16:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef23df3ff3cd43220e095107b5f9e76d316b4eda', 'message': 'WIP Publish images to S3\n\nThis demonstrates how support for an S3 compatible object store can\nbe plugged into the current logic to publish and unpublish images.\n\nIdeally, we could have an interface for all stores, and the\nimplementation for a local web server would inherit from it. The\nselection of which implementation to use is done through ""ifs"" for\nthe moment.\n\nStory: 2008671\nTask: 41961\nChange-Id: I8c6e4593a91a22612dce56fea859c318abb5c4c4\n'}, {'number': 3, 'created': '2021-04-14 18:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b3c675336e84dd2be4a2055550931f528e53254', 'message': 'WIP Publish images to S3\n\nThis demonstrates how support for an S3 compatible object store can\nbe plugged into the current logic to publish and unpublish images.\n\nIdeally, we could have an interface for all stores, and the\nimplementation for a local web server would inherit from it. The\nselection of which implementation to use is done through ""ifs"" for\nthe moment.\n\nStory: 2008671\nTask: 41961\nChange-Id: I8c6e4593a91a22612dce56fea859c318abb5c4c4\n'}, {'number': 4, 'created': '2021-04-14 22:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d9d4f21e5c14c76c3ef14135c7e25f60f03d25d', 'message': 'WIP Publish images to S3\n\nThis demonstrates how support for an S3 compatible object store can\nbe plugged into the current logic to publish and unpublish images.\n\nIdeally, we could have an interface for all stores, and the\nimplementation for a local web server would inherit from it. The\nselection of which implementation to use is done through ""ifs"" for\nthe moment.\n\nStory: 2008671\nTask: 41961\nChange-Id: I8c6e4593a91a22612dce56fea859c318abb5c4c4\n'}, {'number': 5, 'created': '2021-04-16 19:22:40.000000000', 'files': ['ironic/tests/unit/common/test_s3.py', 'test-requirements.txt', 'ironic/common/s3.py', 'releasenotes/notes/publish-images-to-s3-2f1e654c353a6f85.yaml', 'ironic/conf/s3.py', 'ironic/conf/__init__.py', 'ironic/drivers/modules/image_utils.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/14951eb4ac0e41e3a89662735d59339c4a29590e', 'message': 'WIP Publish images to S3\n\nThis demonstrates how support for an S3 compatible object store can\nbe plugged into the current logic to publish and unpublish images.\n\nIdeally, we could have an interface for all stores, and the\nimplementation for a local web server would inherit from it. The\nselection of which implementation to use is done through ""ifs"" for\nthe moment.\n\nStory: 2008671\nTask: 41961\nChange-Id: I8c6e4593a91a22612dce56fea859c318abb5c4c4\n'}]",14,784625,14951eb4ac0e41e3a89662735d59339c4a29590e,43,3,5,33176,,,0,"WIP Publish images to S3

This demonstrates how support for an S3 compatible object store can
be plugged into the current logic to publish and unpublish images.

Ideally, we could have an interface for all stores, and the
implementation for a local web server would inherit from it. The
selection of which implementation to use is done through ""ifs"" for
the moment.

Story: 2008671
Task: 41961
Change-Id: I8c6e4593a91a22612dce56fea859c318abb5c4c4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/784625/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_s3.py', 'requirements.txt', 'ironic/common/s3.py', 'ironic/conf/s3.py', 'ironic/conf/__init__.py', 'ironic/drivers/modules/image_utils.py']",6,4126427c279ad12e9d5a5ad713993995b9b24e35,s3,from ironic.common import s3 self._use_s3 = CONF.s3.s3_enabled def _get_object_store(self): swift_api = swift.SwiftAPI() if not self._use_s3 else s3.S3API() return swift_api swift_api = self._get_object_store() swift_api = self._get_object_store(), swift_api = swift.SwiftAPI() swift_api = swift.SwiftAPI(),244,3
openstack%2Fcinder~stable%2Fwallaby~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/wallaby,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-17 13:50:59.000000000,2021-06-17 19:37:40.000000000,2021-06-17 16:37:37.000000000,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:50:59.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/624f63f340dbe5759d196504cc357050ad3c140a', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)\n'}]",0,796859,624f63f340dbe5759d196504cc357050ad3c140a,13,3,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/796859/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,624f63f340dbe5759d196504cc357050ad3c140a,unity-fix-typo-stable/wallaby,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fansible-role-redhat-subscription~master~I1c5eaf99582fa0f09a42a1143d6ca8d0bb9e7289,openstack/ansible-role-redhat-subscription,master,I1c5eaf99582fa0f09a42a1143d6ca8d0bb9e7289,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:00:18.000000000,2021-06-17 19:32:08.000000000,2021-06-17 19:32:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 17:00:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/effac4c9d8b93cd7d8403275676cae015f30a0da', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I1c5eaf99582fa0f09a42a1143d6ca8d0bb9e7289\n'}]",0,796902,effac4c9d8b93cd7d8403275676cae015f30a0da,6,2,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I1c5eaf99582fa0f09a42a1143d6ca8d0bb9e7289
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/02/796902/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,effac4c9d8b93cd7d8403275676cae015f30a0da,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Fansible-role-chrony~master~I930b16a0834d893080386b40989fa517f1bc343b,openstack/ansible-role-chrony,master,I930b16a0834d893080386b40989fa517f1bc343b,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 16:55:21.000000000,2021-06-17 19:30:09.000000000,2021-06-17 19:30:09.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 16:55:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/15ad50777e976055eb5a1b85a9841ae268714f78', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I930b16a0834d893080386b40989fa517f1bc343b\n'}]",0,796896,15ad50777e976055eb5a1b85a9841ae268714f78,6,2,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I930b16a0834d893080386b40989fa517f1bc343b
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/96/796896/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,15ad50777e976055eb5a1b85a9841ae268714f78,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Foctavia~stable%2Fussuri~I39391070cea170a6039f901093f09fc89ba06123,openstack/octavia,stable/ussuri,I39391070cea170a6039f901093f09fc89ba06123,Fix using subnets with host_routes in amphorav2 driver,MERGED,2021-05-17 07:08:14.000000000,2021-06-17 19:16:47.000000000,2021-06-17 19:13:39.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-17 07:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34ab2bc8f88d66da2afd8c713d810b2ebafdcacd', 'message': 'Fix using subnets with host_routes in amphorav2 driver\n\nWhen using subnets with host_routes in amphorav2, the host_routes\nattribute in the Subnet data structure was not correctly converted to a\nHostRoute data structure. It triggered exceptions and failed to\nprovision the load balancer.\n\nStory 2008738\nTask 42092\n\nChange-Id: I39391070cea170a6039f901093f09fc89ba06123\n(cherry picked from commit d0ec3aaf23eba0ffc8fe7bc86b51d4857e0cc507)\n(cherry picked from commit a139d2f97c54e88c508d9ffa85a5c6268538b84e)\n'}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'releasenotes/notes/fix-subnet-host_routes-amphorav2-3c079c5a3bfa1b3d.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c7b4b875d74d55ecee1494f6c3a939023df3b420', 'message': 'Fix using subnets with host_routes in amphorav2 driver\n\nWhen using subnets with host_routes in amphorav2, the host_routes\nattribute in the Subnet data structure was not correctly converted to a\nHostRoute data structure. It triggered exceptions and failed to\nprovision the load balancer.\n\nStory 2008738\nTask 42092\n\nChange-Id: I39391070cea170a6039f901093f09fc89ba06123\n(cherry picked from commit d0ec3aaf23eba0ffc8fe7bc86b51d4857e0cc507)\n(cherry picked from commit a139d2f97c54e88c508d9ffa85a5c6268538b84e)\n'}]",0,791647,c7b4b875d74d55ecee1494f6c3a939023df3b420,15,6,2,6469,,,0,"Fix using subnets with host_routes in amphorav2 driver

When using subnets with host_routes in amphorav2, the host_routes
attribute in the Subnet data structure was not correctly converted to a
HostRoute data structure. It triggered exceptions and failed to
provision the load balancer.

Story 2008738
Task 42092

Change-Id: I39391070cea170a6039f901093f09fc89ba06123
(cherry picked from commit d0ec3aaf23eba0ffc8fe7bc86b51d4857e0cc507)
(cherry picked from commit a139d2f97c54e88c508d9ffa85a5c6268538b84e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/791647/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'releasenotes/notes/fix-subnet-host_routes-amphorav2-3c079c5a3bfa1b3d.yaml']",3,34ab2bc8f88d66da2afd8c713d810b2ebafdcacd,,--- fixes: - | Fix load balancers that use customized host_routes in the VIP or the member subnets in amphorav2. ,,105,5
openstack%2Foctavia~stable%2Fussuri~I1281e74a398d03eac8db7a468e71ea4889dd8229,openstack/octavia,stable/ussuri,I1281e74a398d03eac8db7a468e71ea4889dd8229,Explicitely set nodeset to Bionic-based,MERGED,2021-06-08 14:48:41.000000000,2021-06-17 19:15:39.000000000,2021-06-17 19:13:26.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-08 14:48:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5b6d25ca57bc383e4a110da84b8c325eb5ec20e2', 'message': 'Explicitely set nodeset to Bionic-based\n\nThe default nodeset has been updated to Ubuntu Focal in [1]. Ussuri CI\njobs need to be explicitely set to Bionic-based nodeset or else Devstack\nwill fail to deploy with the following message:\n\n  ""WARNING: this script has not been tested on focal""\n\n[1] https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/788954\n\nChange-Id: I1281e74a398d03eac8db7a468e71ea4889dd8229\n(cherry picked from commit 46a5344e2bab2d2ccd6dad5204fcb8ab421b0e06)\n'}]",0,795356,5b6d25ca57bc383e4a110da84b8c325eb5ec20e2,9,6,1,6469,,,0,"Explicitely set nodeset to Bionic-based

The default nodeset has been updated to Ubuntu Focal in [1]. Ussuri CI
jobs need to be explicitely set to Bionic-based nodeset or else Devstack
will fail to deploy with the following message:

  ""WARNING: this script has not been tested on focal""

[1] https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/788954

Change-Id: I1281e74a398d03eac8db7a468e71ea4889dd8229
(cherry picked from commit 46a5344e2bab2d2ccd6dad5204fcb8ab421b0e06)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/795356/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5b6d25ca57bc383e4a110da84b8c325eb5ec20e2,, nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic - octavia-v2-dsvm-noop-api: nodeset: octavia-single-node-ubuntu-bionic - octavia-v2-dsvm-scenario: nodeset: octavia-single-node-ubuntu-bionic - octavia-v2-dsvm-tls-barbican: nodeset: octavia-single-node-ubuntu-bionic - octavia-v2-dsvm-spare-pool: nodeset: octavia-single-node-ubuntu-bionic - octavia-v2-act-stdby-dsvm-scenario: nodeset: octavia-single-node-ubuntu-bionic - octavia-grenade: nodeset: octavia-single-node-ubuntu-bionic, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-scenario - octavia-v2-dsvm-tls-barbican - octavia-v2-dsvm-spare-pool - octavia-v2-act-stdby-dsvm-scenario - octavia-grenade,21,6
openstack%2Foctavia~stable%2Fussuri~Ic97a991437144f3a220d9b96839cec5b63565f8c,openstack/octavia,stable/ussuri,Ic97a991437144f3a220d9b96839cec5b63565f8c,Make /healthcheck cache results,MERGED,2021-05-17 07:05:51.000000000,2021-06-17 19:13:29.000000000,2021-06-17 19:13:29.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 07:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/577b4cfafe01546e5f96b2dc576c2dd9db25fc8a', 'message': 'Make /healthcheck cache results\n\nThe healthcheck endpoint should cache results to reduce the potential load on the backend systems being tested.\nThis patch adds the caching and a configuration setting for the interval\nbetween cache refreshes.\n\nChange-Id: Ic97a991437144f3a220d9b96839cec5b63565f8c\nStory: 2008203\nTask: 40987\n(cherry picked from commit 6c54eab5b5d8fd5300cd5d62e23e6cadc1641636)\n(cherry picked from commit 582b4bab0ed0362a0e795590c806d930414acfba)\n'}, {'number': 2, 'created': '2021-06-08 14:48:41.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/functional/api/test_healthcheck.py', 'releasenotes/notes/healthcheck-cache-641f0a64e6f5856c.yaml', 'octavia/api/healthcheck/healthcheck_plugins.py', 'doc/source/admin/healthcheck.rst', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/170be0dd53cd342a42a9816146ebcea1d80863a3', 'message': 'Make /healthcheck cache results\n\nThe healthcheck endpoint should cache results to reduce the potential load on the backend systems being tested.\nThis patch adds the caching and a configuration setting for the interval\nbetween cache refreshes.\n\nChange-Id: Ic97a991437144f3a220d9b96839cec5b63565f8c\nStory: 2008203\nTask: 40987\n(cherry picked from commit 6c54eab5b5d8fd5300cd5d62e23e6cadc1641636)\n(cherry picked from commit 582b4bab0ed0362a0e795590c806d930414acfba)\n'}]",0,791644,170be0dd53cd342a42a9816146ebcea1d80863a3,15,4,2,6469,,,0,"Make /healthcheck cache results

The healthcheck endpoint should cache results to reduce the potential load on the backend systems being tested.
This patch adds the caching and a configuration setting for the interval
between cache refreshes.

Change-Id: Ic97a991437144f3a220d9b96839cec5b63565f8c
Story: 2008203
Task: 40987
(cherry picked from commit 6c54eab5b5d8fd5300cd5d62e23e6cadc1641636)
(cherry picked from commit 582b4bab0ed0362a0e795590c806d930414acfba)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/44/791644/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/functional/api/test_healthcheck.py', 'releasenotes/notes/healthcheck-cache-641f0a64e6f5856c.yaml', 'octavia/api/healthcheck/healthcheck_plugins.py', 'doc/source/admin/healthcheck.rst', 'etc/octavia.conf']",6,577b4cfafe01546e5f96b2dc576c2dd9db25fc8a,,"# The interval healthcheck plugins should cache results, in seconds. # healthcheck_refresh_interval = 5 ",,60,2
openstack%2Fgovernance-sigs~master~I22937adb582e2b79490616ea5dba927dc81457d6,openstack/governance-sigs,master,I22937adb582e2b79490616ea5dba927dc81457d6,k8s SIG updates,MERGED,2021-03-02 21:00:09.000000000,2021-06-17 19:01:44.000000000,2021-06-17 16:11:22.000000000,"[{'_account_id': 308}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-02 21:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/dbbdbb5e9b0acaafaa5455fbcf02e7193b0493f1', 'message': ""Containers SIG and k8s SIG updates\n\nSince the Containers SIG hasn't garnered much interest and\nwas still in the forming state, it will be removed for now.\n\nThe k8s SIG was also in need of new leadership so this patch\nupdates the chairs for the SIG.\n\nRelevant ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020663.html\n\nChange-Id: I22937adb582e2b79490616ea5dba927dc81457d6\n""}, {'number': 2, 'created': '2021-06-14 14:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/d4e560e338a2f28dada1604477c131ec8a74377c', 'message': ""Containers SIG and k8s SIG updates\n\nSince the Containers SIG hasn't garnered much interest and\nwas still in the forming state, it will be removed for now.\n\nThe k8s SIG was also in need of new leadership so this patch\nupdates the chairs for the SIG.\n\nRelevant ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020663.html\n\nChange-Id: I22937adb582e2b79490616ea5dba927dc81457d6\n""}, {'number': 3, 'created': '2021-06-14 17:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/cf79690a41598feb097d770322c6645fbca3c43d', 'message': 'k8s SIG updates\n\nThe k8s SIG was also in need of new leadership so this patch\nupdates the chairs for the SIG.\n\nRelevant ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020663.html\n\nChange-Id: I22937adb582e2b79490616ea5dba927dc81457d6\n'}, {'number': 4, 'created': '2021-06-14 20:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/409e0b429df978043c1dfd2a3028da9dc1d7297c', 'message': 'k8s SIG updates\n\nThe k8s SIG was in need of new leadership so this patch\nupdates the chairs for the SIG.\n\nRelevant ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020663.html\n\nChange-Id: I22937adb582e2b79490616ea5dba927dc81457d6\n'}, {'number': 5, 'created': '2021-06-17 15:52:40.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/e59f5e0671f94bd3c34db6c00368f6e4d3496d65', 'message': 'k8s SIG updates\n\nThe k8s SIG was in need of new leadership so this patch\nupdates the chairs for the SIG.\n\nRelevant ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020663.html\n\nChange-Id: I22937adb582e2b79490616ea5dba927dc81457d6\n'}]",6,778304,e59f5e0671f94bd3c34db6c00368f6e4d3496d65,35,7,5,16708,,,0,"k8s SIG updates

The k8s SIG was in need of new leadership so this patch
updates the chairs for the SIG.

Relevant ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020663.html

Change-Id: I22937adb582e2b79490616ea5dba927dc81457d6
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/04/778304/4 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,dbbdbb5e9b0acaafaa5455fbcf02e7193b0493f1,containers-k8s-updates, - name: Feilong Wang irc: null email: feilong@catalyst.net.nz - name: Kendall Nelson irc: diablo_rojo email: kennelson11@gmail.com,"Containers: chairs: - name: Jean-Philippe Evrard irc: evrardjp email: jean-philippe@evrard.me scope: > The scope of the Containers SIG is to share practices for the build, deploy, and operate of OpenStack using application containers. This is not another deployment tool of containers. Instead, this SIG should have as members people from the different projects in the business of dealing with OpenStack in application containers. The participants should be interested in container building, willing to share their practices, and/or define common practices for use within all OpenStack projects. One example of the deliverables of the SIG would be a common series of ""rules"" for the bindep files relevant for container image building. These rules would then be applied consistenty across all the OpenStack projects, but also maintained over time by this group. Another example of common ground would be sharing how deployment projects are writing their container ""check probes"", and figure out what can be re-used. In other words, defining together what are application containers ""readiness"" and ""aliveness"" for each service project. status: forming url: https://etherpad.openstack.org/p/containers-sig - name: Chris Hoge irc: hogepodge email: chris@openstack.org - name: David Lyle irc: david-lyle email: dklyle0@gmail.com - name: Robert Morse irc: rjmorse email: robert.morse@ticketmaster.com",6,36
openstack%2Fdesignate~master~I2ce7d33d8b8af214145a53165214c9c018d27e20,openstack/designate,master,I2ce7d33d8b8af214145a53165214c9c018d27e20,Changed minversion in tox to 3.18.0,MERGED,2021-06-16 08:00:54.000000000,2021-06-17 19:01:27.000000000,2021-06-17 18:59:55.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 08:00:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/c05d3b2e5de510e6f5f0071b6d68f3f5548bba1e', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I2ce7d33d8b8af214145a53165214c9c018d27e20\n""}]",0,796597,c05d3b2e5de510e6f5f0071b6d68f3f5548bba1e,9,3,1,32238,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I2ce7d33d8b8af214145a53165214c9c018d27e20
",git fetch https://review.opendev.org/openstack/designate refs/changes/97/796597/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c05d3b2e5de510e6f5f0071b6d68f3f5548bba1e,,minversion = 3.18.0,minversion = 3.1.0,1,1
openstack%2Fmagnum~stable%2Fvictoria~I38b8df45a00f1a2a1604059b8329d1dd762e05cd,openstack/magnum,stable/victoria,I38b8df45a00f1a2a1604059b8329d1dd762e05cd,Support hyperkube_prefix label,MERGED,2021-04-13 18:05:12.000000000,2021-06-17 18:47:56.000000000,2021-06-17 18:46:28.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 18:05:12.000000000', 'files': ['releasenotes/notes/hyperkube-prefix-01b9a5f4664edc90.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1bddba7d34a26dcb7fa1b205a92a8d14c6d3a16e', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to k8s.gcr.io/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n(cherry picked from commit fc1f27a569b068c2e889f86073c10a994c607bf1)\n'}]",0,786096,1bddba7d34a26dcb7fa1b205a92a8d14c6d3a16e,9,3,1,28022,,,0,"Support hyperkube_prefix label

Additionally for k8s_fedora_coreos_v1 driver:
* Introduce hyperkube_prefix which defaults to k8s.gcr.io/
* Bump default kube_tag to v1.18.16

Story: 1668998
Task: 41791

Change-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd
(cherry picked from commit fc1f27a569b068c2e889f86073c10a994c607bf1)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/786096/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hyperkube-prefix-01b9a5f4664edc90.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",17,1bddba7d34a26dcb7fa1b205a92a8d14c6d3a16e,hyperkube-prefix-stable/victoria," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-${HYPERKUBE_PREFIX}}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")"," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")",77,16
openstack%2Fironic-inspector~master~I39fa3d85978555b6cb9d0884a90625b4765bac28,openstack/ironic-inspector,master,I39fa3d85978555b6cb9d0884a90625b4765bac28,Fix SqlAlchemy >1.3.19 support,MERGED,2021-06-15 19:52:12.000000000,2021-06-17 18:33:46.000000000,2021-06-17 18:32:19.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-15 19:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d0bc42bc7289b87d79889a82b6dbcc45894d648c', 'message': 'Fix SqlAlchemy >1.3.19 support\n\nSQLAlchemy 1.3.19 change the excepted exception and 1.4.x\nchanged the enum checking behavior such that we were no\nlonger raising an exception matching the check.\n\nFixes compatability for the unit test for SQLAlchemy >1.3.19\nso expected behavior is still encountered.\n\nChange-Id: I39fa3d85978555b6cb9d0884a90625b4765bac28\n'}, {'number': 2, 'created': '2021-06-15 21:26:35.000000000', 'files': ['ironic_inspector/test/unit/test_node_cache.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/948325cae7f3fcce7589014509fa146373398d82', 'message': ""Fix SqlAlchemy >1.3.19 support\n\nSQLAlchemy 1.3.19 change the excepted exception and 1.4.x\nchanged the enum checking behavior such that we were no\nlonger raising an exception matching the check.\n\nWhile we had a test for this, We didn't actually\ncheck for it anywhere in the code. And the states are\ndriven by the code, so the underlying test that was broken\nfelt redundant. As such, it has been removed.\n\nChange-Id: I39fa3d85978555b6cb9d0884a90625b4765bac28\n""}]",0,796535,948325cae7f3fcce7589014509fa146373398d82,15,5,2,11655,,,0,"Fix SqlAlchemy >1.3.19 support

SQLAlchemy 1.3.19 change the excepted exception and 1.4.x
changed the enum checking behavior such that we were no
longer raising an exception matching the check.

While we had a test for this, We didn't actually
check for it anywhere in the code. And the states are
driven by the code, so the underlying test that was broken
felt redundant. As such, it has been removed.

Change-Id: I39fa3d85978555b6cb9d0884a90625b4765bac28
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/35/796535/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/db.py']",3,d0bc42bc7289b87d79889a82b6dbcc45894d648c,," server_default=istate.States.finished, validate_strings=True)", server_default=istate.States.finished),14,2
openstack%2Fansible-role-pki~master~I435513202f36d100ec3e3b325e605702a089a223,openstack/ansible-role-pki,master,I435513202f36d100ec3e3b325e605702a089a223,Allow to generate/install certificates conditionally,ABANDONED,2021-06-17 16:54:53.000000000,2021-06-17 18:32:13.000000000,,[{'_account_id': 28619}],"[{'number': 1, 'created': '2021-06-17 16:54:53.000000000', 'files': ['tasks/main_certs.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/69c0d6cdde57cdce911f52a7fb611c946d6a3e11', 'message': ""Allow to generate/install certificates conditionally\n\nCurrently we process all passed structures in terms of creating\ncertificates. In the meanwhile there might be situations when\nyou want to generate certificates based on some conditions, and it's\ncleaner to process conditions in the role, rather then generate\nconditionals and structure before callign role.\n\nChange-Id: I435513202f36d100ec3e3b325e605702a089a223\n""}]",0,796895,69c0d6cdde57cdce911f52a7fb611c946d6a3e11,3,1,1,28619,,,0,"Allow to generate/install certificates conditionally

Currently we process all passed structures in terms of creating
certificates. In the meanwhile there might be situations when
you want to generate certificates based on some conditions, and it's
cleaner to process conditions in the role, rather then generate
conditionals and structure before callign role.

Change-Id: I435513202f36d100ec3e3b325e605702a089a223
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/95/796895/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main_certs.yml'],1,69c0d6cdde57cdce911f52a7fb611c946d6a3e11,, - cert['condition'] | default(true) | bool when: - pki_install_certificates is defined and pki_install_certificates | length > 0 - install['condition'] | default(true) | bool notify: - cert installed , when: pki_install_certificates is defined and pki_install_certificates | length > 0 notify: - cert installed,5,2
openstack%2Fcharm-nova-compute~master~I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6,openstack/charm-nova-compute,master,I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6,Port ncc pci-alias list fix to nova-compute,MERGED,2021-06-08 20:16:47.000000000,2021-06-17 18:25:56.000000000,2021-06-17 18:25:56.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 20:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/18b148449349fa42da91826538a8b4b3fd7a2500', 'message': 'Port ncc pci-alias list fix to nova-compute\n\nFix for this bug already exists for\nnova-cloud-controller charm, therefore\nport it over to nova-compute.\n\nCloses-bug: #1921147\nChange-Id: I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/587\n'}, {'number': 2, 'created': '2021-06-09 18:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/fc8c5aa40b22dd7f72d9842863f6da0b2d513ef4', 'message': 'Port ncc pci-alias list fix to nova-compute\n\nPort of https://review.opendev.org/535350\n\nFix for this bug already exists for\nnova-cloud-controller charm, therefore\nport it over to nova-compute.\n\nCloses-bug: #1921147\nChange-Id: I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/587\n'}, {'number': 3, 'created': '2021-06-09 18:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c54c52ad4b67aefa98eec699fc8d2663b4295698', 'message': 'Port ncc pci-alias list fix to nova-compute\n\nPort of https://review.opendev.org/535350\n\nFix for this bug already exists for\nnova-cloud-controller charm, therefore\nport it over to nova-compute.\n\nCloses-bug: #1921147\nChange-Id: I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/587\n'}, {'number': 4, 'created': '2021-06-14 17:40:14.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d51e010fcac6544775f95127c14f247532213d9b', 'message': 'Port ncc pci-alias list fix to nova-compute\n\nPort of https://review.opendev.org/535350\n\nFix for this bug already exists for\nnova-cloud-controller charm, therefore\nport it over to nova-compute.\n\nCloses-bug: #1921147\nChange-Id: I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/587\n'}]",16,795411,d51e010fcac6544775f95127c14f247532213d9b,48,3,4,14567,,,0,"Port ncc pci-alias list fix to nova-compute

Port of https://review.opendev.org/535350

Fix for this bug already exists for
nova-cloud-controller charm, therefore
port it over to nova-compute.

Closes-bug: #1921147
Change-Id: I0c37d2bce3b195f5dc18111bb70a30de03b2bbc6
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/587
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/11/795411/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",6,18b148449349fa42da91826538a8b4b3fd7a2500,bug/1921147,"import json _pci_alias1 = { ""name"": ""IntelNIC"", ""capability_type"": ""pci"", ""product_id"": ""1111"", ""vendor_id"": ""8086"", ""device_type"": ""type-PF""} _pci_alias2 = { ""name"": "" Cirrus Logic "", ""capability_type"": ""pci"", ""product_id"": ""0ff2"", ""vendor_id"": ""10de"", ""device_type"": ""type-PCI""} _pci_alias_list = [_pci_alias1, _pci_alias2] @patch('charmhelpers.contrib.openstack.ip.unit_get') @patch('charmhelpers.contrib.hahelpers.cluster.relation_ids') @patch('charmhelpers.core.hookenv.local_unit') @patch('charmhelpers.contrib.openstack.context.config') def test_nova_config_context_multi_pci_alias(self, mock_config, local_unit, mock_relation_ids, mock_unit_get): local_unit.return_value = 'nova-compute/0' self.lsb_release.return_value = {'DISTRIB_CODENAME': 'bionic'} mock_config.side_effect = self.test_config.get mock_unit_get.return_value = '127.0.0.1' self.test_config.set( 'pci-alias', json.dumps(self._pci_alias1)) ctxt = context.NovaComputeLibvirtContext()() self.assertEqual( ctxt['pci_alias'], ('{""capability_type"": ""pci"", ""device_type"": ""type-PF"", ' '""name"": ""IntelNIC"", ""product_id"": ""1111"", ' '""vendor_id"": ""8086""}')) @patch('charmhelpers.contrib.openstack.ip.unit_get') @patch('charmhelpers.contrib.hahelpers.cluster.relation_ids') @patch('charmhelpers.core.hookenv.local_unit') @patch('charmhelpers.contrib.openstack.context.config') def test_nova_config_context_multi_pci_aliases(self, mock_config, local_unit, mock_relation_ids, mock_unit_get): local_unit.return_value = 'nova-compute/0' self.lsb_release.return_value = {'DISTRIB_CODENAME': 'bionic'} mock_config.side_effect = self.test_config.get mock_unit_get.return_value = '127.0.0.1' self.test_config.set( 'pci-alias', json.dumps(self._pci_alias_list)) ctxt = context.NovaComputeLibvirtContext()() self.assertEqual( ctxt['pci_aliases'][0], ('{""capability_type"": ""pci"", ""device_type"": ""type-PF"", ' '""name"": ""IntelNIC"", ""product_id"": ""1111"", ' '""vendor_id"": ""8086""}')) self.assertEqual( ctxt['pci_aliases'][1], ('{""capability_type"": ""pci"", ""device_type"": ""type-PCI"", ' '""name"": "" Cirrus Logic "", ""product_id"": ""0ff2"", ' '""vendor_id"": ""10de""}')) ",,82,1
openstack%2Frequirements~master~I3d9ccaaef54759cf820b4dbef9c64d2317b564cb,openstack/requirements,master,I3d9ccaaef54759cf820b4dbef9c64d2317b564cb,update constraint for validations-libs to new release 1.2.0,MERGED,2021-06-17 12:12:43.000000000,2021-06-17 18:14:36.000000000,2021-06-17 18:13:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-17 12:12:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/efb624d26d90ee68abf087163f55061f3c61762c', 'message': 'update constraint for validations-libs to new release 1.2.0\n\nmeta: version: 1.2.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: matbu <mat.bultel@gmail.com>\nmeta: release:Commit: mbu <mat.bultel@gmail.com>\nmeta: release:Change-Id: I5706179cc77d3c8dce98d4ccb43d45df81de6687\nmeta: release:Code-Review+1: Gael Chamoulaud <gchamoul@redhat.com>\nmeta: release:Code-Review+1: Marios Andreou <marios@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I3d9ccaaef54759cf820b4dbef9c64d2317b564cb\n'}]",0,796828,efb624d26d90ee68abf087163f55061f3c61762c,9,3,1,11131,,,0,"update constraint for validations-libs to new release 1.2.0

meta: version: 1.2.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: matbu <mat.bultel@gmail.com>
meta: release:Commit: mbu <mat.bultel@gmail.com>
meta: release:Change-Id: I5706179cc77d3c8dce98d4ccb43d45df81de6687
meta: release:Code-Review+1: Gael Chamoulaud <gchamoul@redhat.com>
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3d9ccaaef54759cf820b4dbef9c64d2317b564cb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/796828/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,efb624d26d90ee68abf087163f55061f3c61762c,new-release,validations-libs===1.2.0,validations-libs===1.1.0,1,1
openstack%2Fironic~master~Ib859e6cfeeca7689f6a1feab421336a4212cdd70,openstack/ironic,master,Ib859e6cfeeca7689f6a1feab421336a4212cdd70,Remove _get_nodes_by_instance method,ABANDONED,2021-06-16 18:05:14.000000000,2021-06-17 17:47:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-16 18:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15573fc231dd5d3f11f5be7c4562bbcb01cac497', 'message': ""Remove _get_nodes_by_instance method\n\nThis method is unused since the change for story 2008978\nhowever given it is a commented method I decided it might be\nbest to remove it separately as we likely don't want to remove\nthe method upon backport in the event anyone is using it in\nany custom code.\n\nNo task as this is just a reference to the story.\n\nChange-Id: Ib859e6cfeeca7689f6a1feab421336a4212cdd70\nStory: 2008978\n""}, {'number': 2, 'created': '2021-06-16 18:06:24.000000000', 'files': ['ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6c80690ba775db9ae0aeb0eaa3e2e5087bc0be0', 'message': ""Remove _get_nodes_by_instance method\n\nThis method is unused since the change for story 2008978\nhowever given it is a commented method I decided it might be\nbest to remove it separately as we likely don't want to remove\nthe method upon backport in the event anyone is using it in\nany custom code.\n\nNo task as this is just a reference to the story.\n\nChange-Id: Ib859e6cfeeca7689f6a1feab421336a4212cdd70\nStory: 2008978\n""}]",0,796721,f6c80690ba775db9ae0aeb0eaa3e2e5087bc0be0,9,1,2,11655,,,0,"Remove _get_nodes_by_instance method

This method is unused since the change for story 2008978
however given it is a commented method I decided it might be
best to remove it separately as we likely don't want to remove
the method upon backport in the event anyone is using it in
any custom code.

No task as this is just a reference to the story.

Change-Id: Ib859e6cfeeca7689f6a1feab421336a4212cdd70
Story: 2008978
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/796721/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/node.py'],1,15573fc231dd5d3f11f5be7c4562bbcb01cac497,secure-rbac,," def _get_nodes_by_instance(self, instance_uuid): """"""Retrieve a node by its instance uuid. DEPRECATED Internal Method - Will be removed in the future. It returns a list with the node, or an empty list if no node is found. """""" # NOTE(TheJulia): This method is completely unused and will be removed # in the future. try: node = objects.Node.get_by_instance_uuid(api.request.context, instance_uuid) return [node] except exception.InstanceNotFound: return [] ",0,16
openstack%2Ftripleo-quickstart-extras~master~Idf3c035e8f769da0367f0f57058d771afe9f660a,openstack/tripleo-quickstart-extras,master,Idf3c035e8f769da0367f0f57058d771afe9f660a,Correct the tox option for skipping sdist generation,NEW,2021-06-17 17:12:08.000000000,2021-06-17 17:31:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 17:12:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/59bd974f48144e5e7643507507f1495f6cece727', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: Idf3c035e8f769da0367f0f57058d771afe9f660a\n'}]",0,796920,59bd974f48144e5e7643507507f1495f6cece727,2,1,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: Idf3c035e8f769da0367f0f57058d771afe9f660a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/20/796920/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59bd974f48144e5e7643507507f1495f6cece727,tox-skipsdist,skipsdist = True,skipdist = True,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I86c6d1d060885d0a99b0e0c72cade97ee7833313,openstack/tripleo-ansible,stable/ussuri,I86c6d1d060885d0a99b0e0c72cade97ee7833313,Fix failures because of Jinja version limit,MERGED,2021-06-07 23:58:06.000000000,2021-06-17 17:21:34.000000000,2021-06-17 17:20:05.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 23:58:06.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/accdd5416d8281a293ea4b0447b288c71e61b0ab', 'message': 'Fix failures because of Jinja version limit\n\nClose-Bug: #1929573\nChange-Id: I86c6d1d060885d0a99b0e0c72cade97ee7833313\n(cherry picked from commit 57122525820258be35415b2896a1c12188c2c3e9)\n'}]",0,795144,accdd5416d8281a293ea4b0447b288c71e61b0ab,8,4,1,14985,,,0,"Fix failures because of Jinja version limit

Close-Bug: #1929573
Change-Id: I86c6d1d060885d0a99b0e0c72cade97ee7833313
(cherry picked from commit 57122525820258be35415b2896a1c12188c2c3e9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/795144/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,accdd5416d8281a293ea4b0447b288c71e61b0ab,ffix-stable/ussuri,jinja2,"jinja2>=2.8.0,<3",1,1
openstack%2Fansible-collections-openstack~master~I99f084bcb2fa3d4a203f439a55eef162ab82d43d,openstack/ansible-collections-openstack,master,I99f084bcb2fa3d4a203f439a55eef162ab82d43d,Dns zone info module,MERGED,2021-06-10 09:30:23.000000000,2021-06-17 17:09:58.000000000,2021-06-17 17:09:58.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 09:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/244a68ea3694dc1a3a410c9cb2b5c0749db3d550', 'message': 'Dns zone info module\n\nChange-Id: I99f084bcb2fa3d4a203f439a55eef162ab82d43d\n'}, {'number': 2, 'created': '2021-06-10 12:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/af8ebfc22a0100af944152f6e66aba0d7a23fa43', 'message': 'Dns zone info module\n\nChange-Id: I99f084bcb2fa3d4a203f439a55eef162ab82d43d\n'}, {'number': 3, 'created': '2021-06-17 10:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4606b27cdb4ddb21da8c2067ef84f30d5fd39caf', 'message': 'Dns zone info module\n\nChange-Id: I99f084bcb2fa3d4a203f439a55eef162ab82d43d\n'}, {'number': 4, 'created': '2021-06-17 10:52:05.000000000', 'files': ['meta/runtime.yml', 'ci/roles/dns_zone_info/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/dns_zone_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/03a86669de4d533f292b36ac89aade64636fceff', 'message': 'Dns zone info module\n\nChange-Id: I99f084bcb2fa3d4a203f439a55eef162ab82d43d\n'}]",1,795752,03a86669de4d533f292b36ac89aade64636fceff,11,2,4,32787,,,0,"Dns zone info module

Change-Id: I99f084bcb2fa3d4a203f439a55eef162ab82d43d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/52/795752/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/dns_zone_info/tasks/main.yml', 'meta/runtime.yml', 'ci/run-collection.yml', 'plugins/modules/dns_zone_info.py']",4,244a68ea3694dc1a3a410c9cb2b5c0749db3d550,dns-zone-info,"#!/usr/bin/python # coding: utf-8 -*- # # Copyright (c) 2021 by Open Telekom Cloud, operated by T-Systems International GmbH # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' --- module: dns_zone_info short_description: Getting information about dns zones author: OpenStack Ansible SIG description: - Getting information about dns zones. Output can be filtered. options: name: description: - Zone name type: str type: description: - Zone type choices: [primary, secondary] type: str email: description: - Email of the zone owner (only applies if zone_type is primary) type: str description: description: - Zone description type: str ttl: description: - TTL (Time To Live) value in seconds type: int requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Create a zone named ""example.net"" - openstack.cloud.dns_zones: ''' RETURN = ''' zone: description: Dictionary describing the zone. returned: On success when I(state) is 'present'. type: complex contains: action: description: Current action in progress on the resource. type: str sample: ""CREATE"" attributes: description: Key:Value pairs of information about this zone, and the pool the user would like to place \ the zone in. This information can be used by the scheduler to place zones on the correct pool. type: dict sample: {""tier"": ""gold"", ""ha"": ""true""} created_at: description: Date / Time when resource was created. type: str sample: ""2014-07-07T18:25:31.275934"" description: description: Description for this zone. type: str sample: ""This is an example zone."" email: description: E-mail for the zone. Used in SOA records for the zone. type: str sample: ""test@example.org"" id: description: ID for the resource. type: int sample: ""a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"" links: description: Links to the resource, and other related resources. When a response has been broken into\ pages, we will include a next link that should be followed to retrieve all results. type: dict sample: {""self"": ""https://127.0.0.1:9001/v2/zones/a86dba58-0043-4cc6-a1bb-69d5e86f3ca3""} masters: description: Mandatory for secondary zones. The servers to slave from to get DNS information. type: list sample: ""[]"" name: description: DNS Name for the zone. type: str sample: ""test.test."" pool_id: description: ID for the pool hosting this zone. type: str sample: ""a86dba58-0043-4cc6-a1bb-69d5e86f3ca3"" project_id: description: ID for the project that owns the resource. type: str sample: ""4335d1f0-f793-11e2-b778-0800200c9a66"" serial: description: Current serial number for the zone. type: int sample: 1404757531 status: description: Status of the resource. type: str sample: ""ACTIVE"" ttl: description: TTL (Time to Live) for the zone. type: int sample: 7200 type: description: Type of zone. PRIMARY is controlled by Designate, SECONDARY zones are slaved from another\ DNS Server. Defaults to PRIMARY type: str sample: ""PRIMARY"" updated_at: description: Date / Time when resource last updated. type: str sample: ""2014-07-07T18:25:31.275934"" ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class DnsZoneInfoModule(OpenStackModule): argument_spec = dict( name=dict(required=False, type='str'), type=dict(required=False, choices=['primary', 'secondary'], type='str'), email=dict(required=False, type='str'), description=dict(required=False, type='str'), ttl=dict(required=False, type='int') ) def run(self): name = self.params['name'] type = self.params['type'] email = self.params['email'] description = self.params['description'] ttl = self.params['ttl'] kwargs = {} if name: kwargs['name'] = name if type: kwargs['type'] = type if email: kwargs['email'] = email if description: kwargs['description'] = description if ttl: kwargs['ttl'] = ttl data = [] for raw in self.conn.dns.zones(**kwargs): dt = raw.to_dict() dt.pop('location') data.append(dt) self.exit_json(zones=data, changed=False) def main(): module = DnsZoneInfoModule() module() if __name__ == '__main__': main() ",,219,1
openstack%2Fironic-inspector~master~Ia46a6f35a116026ad5b2e6cb227652b5493160e2,openstack/ironic-inspector,master,Ia46a6f35a116026ad5b2e6cb227652b5493160e2,[DNM] Test excluding files,ABANDONED,2021-06-17 16:57:40.000000000,2021-06-17 17:09:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 16:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e465d52c98a61298649a32d574babce7d1636365', 'message': '[DNM] Test excluding files\n\nChange-Id: Ia46a6f35a116026ad5b2e6cb227652b5493160e2\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/796898\n'}, {'number': 2, 'created': '2021-06-17 17:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/744476560de21339b92fff0f9a6dd3514bab8aee', 'message': '[DNM] Test excluding files\n\nChange-Id: Ia46a6f35a116026ad5b2e6cb227652b5493160e2\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/796898\n'}, {'number': 3, 'created': '2021-06-17 17:07:56.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_extra_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/793035ccfc97303f860b824560dc2d017c584ba2', 'message': '[DNM] Test excluding files\n\nChange-Id: Ia46a6f35a116026ad5b2e6cb227652b5493160e2\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/796898\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/796914\n'}]",0,796900,793035ccfc97303f860b824560dc2d017c584ba2,8,1,3,10239,,,0,"[DNM] Test excluding files

Change-Id: Ia46a6f35a116026ad5b2e6cb227652b5493160e2
Depends-On: https://review.opendev.org/c/openstack/ironic/+/796898
Depends-On: https://review.opendev.org/c/openstack/bifrost/+/796914
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/00/796900/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,e465d52c98a61298649a32d574babce7d1636365,test,,,1,0
openstack%2Fansible-role-thales-hsm~master~I9b7768fdb4e8865648da1c697fa16ee2d1a9c604,openstack/ansible-role-thales-hsm,master,I9b7768fdb4e8865648da1c697fa16ee2d1a9c604,Correct the tox option for skipping sdist generation,NEW,2021-06-17 17:01:35.000000000,2021-06-17 17:05:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 17:01:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/7bb30dd9cf0620aab10d5ca978a2e8feb7420fa4', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: I9b7768fdb4e8865648da1c697fa16ee2d1a9c604\n'}]",0,796903,7bb30dd9cf0620aab10d5ca978a2e8feb7420fa4,2,1,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I9b7768fdb4e8865648da1c697fa16ee2d1a9c604
",git fetch https://review.opendev.org/openstack/ansible-role-thales-hsm refs/changes/03/796903/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7bb30dd9cf0620aab10d5ca978a2e8feb7420fa4,tox-skipsdist,skipsdist = true,skipdist = true,1,1
